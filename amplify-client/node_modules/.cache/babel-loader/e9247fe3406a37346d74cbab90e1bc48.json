{"ast":null,"code":"/**\r\n * DevExtreme (viz/vector_map/projection.main.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.projection = exports.Projection = void 0;\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _event_emitter = require(\"./event_emitter\");\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || \"[object Arguments]\" === Object.prototype.toString.call(arr))) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _e = void 0;\n\n  try {\n    for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) {\n        break;\n      }\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && null != _i.return) {\n        _i.return();\n      }\n    } finally {\n      if (_d) {\n        throw _e;\n      }\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) {\n    return arr;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar _Number = Number;\nvar _min = Math.min;\nvar _max = Math.max;\nvar _abs = Math.abs;\nvar _round = Math.round;\nvar _ln = Math.log;\nvar _pow = Math.pow;\nvar TWO_TO_LN2 = 2 / Math.LN2;\nvar MIN_BOUNDS_RANGE = 1 / 3600 / 180 / 10;\nvar DEFAULT_MIN_ZOOM = 1;\nvar DEFAULT_MAX_ZOOM = 256;\nvar DEFAULT_CENTER = [NaN, NaN];\nvar DEFAULT_ENGINE_NAME = \"mercator\";\n\nfunction floatsEqual(f1, f2) {\n  return _abs(f1 - f2) < 1e-8;\n}\n\nfunction arraysEqual(a1, a2) {\n  return floatsEqual(a1[0], a2[0]) && floatsEqual(a1[1], a2[1]);\n}\n\nfunction parseAndClamp(value, minValue, maxValue, defaultValue) {\n  var val = _Number(value);\n\n  return isFinite(val) ? _min(_max(val, minValue), maxValue) : defaultValue;\n}\n\nfunction parseAndClampArray(value, minValue, maxValue, defaultValue) {\n  return [parseAndClamp(value[0], minValue[0], maxValue[0], defaultValue[0]), parseAndClamp(value[1], minValue[1], maxValue[1], defaultValue[1])];\n}\n\nfunction getEngine(engine) {\n  return engine instanceof Engine && engine || projection.get(engine) || projection(engine) || projection.get(DEFAULT_ENGINE_NAME);\n}\n\nvar Projection = exports.Projection = function (parameters) {\n  var that = this;\n\n  that._initEvents();\n\n  that._params = parameters;\n  that._engine = getEngine();\n  that._center = that._engine.center();\n\n  that._adjustCenter();\n};\n\nProjection.prototype = {\n  constructor: Projection,\n  _minZoom: DEFAULT_MIN_ZOOM,\n  _maxZoom: DEFAULT_MAX_ZOOM,\n  _zoom: DEFAULT_MIN_ZOOM,\n  _center: DEFAULT_CENTER,\n  _canvas: {},\n  _scale: [],\n  dispose: function dispose() {\n    this._disposeEvents();\n  },\n  setEngine: function setEngine(value) {\n    var that = this;\n    var engine = getEngine(value);\n\n    if (that._engine !== engine) {\n      that._engine = engine;\n\n      that._fire(\"engine\");\n\n      if (that._changeCenter(engine.center())) {\n        that._triggerCenterChanged();\n      }\n\n      if (that._changeZoom(that._minZoom)) {\n        that._triggerZoomChanged();\n      }\n\n      that._adjustCenter();\n\n      that._setupScreen();\n    }\n  },\n  setBounds: function setBounds(bounds) {\n    if (void 0 !== bounds) {\n      this.setEngine(this._engine.original().bounds(bounds));\n    }\n  },\n  _setupScreen: function _setupScreen() {\n    var that = this;\n    var canvas = that._canvas;\n    var width = canvas.width;\n    var height = canvas.height;\n    var engine = that._engine;\n    var aspectRatio = engine.ar();\n    that._x0 = canvas.left + width / 2;\n    that._y0 = canvas.top + height / 2;\n    var min = [that.project([engine.min()[0], 0])[0], that.project([0, engine.min()[1]])[1]];\n    var max = [that.project([engine.max()[0], 0])[0], that.project([0, engine.max()[1]])[1]];\n    var screenAR = width / height;\n\n    var boundsAR = _abs(max[0] - min[0]) / _abs(max[1] - min[1]);\n\n    var correction;\n\n    if (isNaN(boundsAR) || 0 === boundsAR || _min(screenAR, aspectRatio) <= aspectRatio * boundsAR && aspectRatio * boundsAR <= _max(screenAR, aspectRatio)) {\n      correction = 1;\n    } else {\n      correction = boundsAR > 1 ? boundsAR : 1 / boundsAR;\n    }\n\n    if (aspectRatio * boundsAR >= screenAR) {\n      that._xRadius = width / 2 / correction;\n      that._yRadius = width / 2 / (aspectRatio * correction);\n    } else {\n      that._xRadius = height / 2 * (aspectRatio / correction);\n      that._yRadius = height / 2 / correction;\n    }\n\n    that._fire(\"screen\");\n  },\n  setSize: function setSize(canvas) {\n    this._canvas = canvas;\n\n    this._setupScreen();\n  },\n  _toScreen: function _toScreen(coordinates) {\n    return [this._x0 + this._xRadius * coordinates[0], this._y0 + this._yRadius * coordinates[1]];\n  },\n  _fromScreen: function _fromScreen(coordinates) {\n    return [(coordinates[0] - this._x0) / this._xRadius, (coordinates[1] - this._y0) / this._yRadius];\n  },\n  _toTransformed: function _toTransformed(coordinates) {\n    return [coordinates[0] * this._zoom + this._xCenter, coordinates[1] * this._zoom + this._yCenter];\n  },\n  _toTransformedFast: function _toTransformedFast(coordinates) {\n    return [coordinates[0] * this._zoom, coordinates[1] * this._zoom];\n  },\n  _fromTransformed: function _fromTransformed(coordinates) {\n    return [(coordinates[0] - this._xCenter) / this._zoom, (coordinates[1] - this._yCenter) / this._zoom];\n  },\n  _adjustCenter: function _adjustCenter() {\n    var that = this;\n\n    var center = that._engine.project(that._center);\n\n    that._xCenter = -center[0] * that._zoom || 0;\n    that._yCenter = -center[1] * that._zoom || 0;\n  },\n  project: function project(coordinates) {\n    return this._engine.project(coordinates);\n  },\n  transform: function transform(coordinates) {\n    return this._toScreen(this._toTransformedFast(coordinates));\n  },\n  isInvertible: function isInvertible() {\n    return this._engine.isInvertible();\n  },\n  getSquareSize: function getSquareSize(size) {\n    return [size[0] * this._zoom * this._xRadius, size[1] * this._zoom * this._yRadius];\n  },\n  getZoom: function getZoom() {\n    return this._zoom;\n  },\n  _changeZoom: function _changeZoom(value) {\n    var that = this;\n    var oldZoom = that._zoom;\n    var newZoom = that._zoom = parseAndClamp(value, that._minZoom, that._maxZoom, that._minZoom);\n    var isChanged = !floatsEqual(oldZoom, newZoom);\n\n    if (isChanged) {\n      that._adjustCenter();\n\n      that._fire(\"zoom\");\n    }\n\n    return isChanged;\n  },\n  setZoom: function setZoom(value) {\n    if (this._engine.isInvertible() && this._changeZoom(value)) {\n      this._triggerZoomChanged();\n    }\n  },\n  getScaledZoom: function getScaledZoom() {\n    return _round((this._scale.length - 1) * _ln(this._zoom) / _ln(this._maxZoom));\n  },\n  setScaledZoom: function setScaledZoom(scaledZoom) {\n    this.setZoom(this._scale[_round(scaledZoom)]);\n  },\n  changeScaledZoom: function changeScaledZoom(deltaZoom) {\n    this.setZoom(this._scale[_max(_min(_round(this.getScaledZoom() + deltaZoom), this._scale.length - 1), 0)]);\n  },\n  getZoomScalePartition: function getZoomScalePartition() {\n    return this._scale.length - 1;\n  },\n  _setupScaling: function _setupScaling() {\n    var that = this;\n\n    var k = _max(_round(TWO_TO_LN2 * _ln(that._maxZoom)), 4);\n\n    var step = _pow(that._maxZoom, 1 / k);\n\n    var zoom = that._minZoom;\n    that._scale = [zoom];\n\n    for (var i = 1; i <= k; ++i) {\n      that._scale.push(zoom *= step);\n    }\n  },\n  setMaxZoom: function setMaxZoom(maxZoom) {\n    var that = this;\n    that._minZoom = DEFAULT_MIN_ZOOM;\n    that._maxZoom = parseAndClamp(maxZoom, that._minZoom, _Number.MAX_VALUE, DEFAULT_MAX_ZOOM);\n\n    that._setupScaling();\n\n    if (that._zoom > that._maxZoom) {\n      that.setZoom(that._maxZoom);\n    }\n\n    that._fire(\"max-zoom\");\n  },\n  getCenter: function getCenter() {\n    return this._center.slice();\n  },\n  setCenter: function setCenter(value) {\n    if (this._engine.isInvertible() && this._changeCenter(value || [])) {\n      this._triggerCenterChanged();\n    }\n  },\n  _changeCenter: function _changeCenter(value) {\n    var that = this;\n    var engine = that._engine;\n    var oldCenter = that._center;\n    var newCenter = that._center = parseAndClampArray(value, engine.min(), engine.max(), engine.center());\n    var isChanged = !arraysEqual(oldCenter, newCenter);\n\n    if (isChanged) {\n      that._adjustCenter();\n\n      that._fire(\"center\");\n    }\n\n    return isChanged;\n  },\n  _triggerCenterChanged: function _triggerCenterChanged() {\n    this._params.centerChanged(this.getCenter());\n  },\n  _triggerZoomChanged: function _triggerZoomChanged() {\n    this._params.zoomChanged(this.getZoom());\n  },\n  setCenterByPoint: function setCenterByPoint(coordinates, screenPosition) {\n    var that = this;\n\n    var p = that._engine.project(coordinates);\n\n    var q = that._fromScreen(screenPosition);\n\n    that.setCenter(that._engine.unproject([-q[0] / that._zoom + p[0], -q[1] / that._zoom + p[1]]));\n  },\n  beginMoveCenter: function beginMoveCenter() {\n    if (this._engine.isInvertible()) {\n      this._moveCenter = this._center;\n    }\n  },\n  endMoveCenter: function endMoveCenter() {\n    var that = this;\n\n    if (that._moveCenter) {\n      if (!arraysEqual(that._moveCenter, that._center)) {\n        that._triggerCenterChanged();\n      }\n\n      that._moveCenter = null;\n    }\n  },\n  moveCenter: function moveCenter(shift) {\n    var that = this;\n\n    if (that._moveCenter) {\n      var current = that.toScreenPoint(that._center);\n\n      that._changeCenter(that.fromScreenPoint([current[0] + shift[0], current[1] + shift[1]]));\n    }\n  },\n  getViewport: function getViewport() {\n    var that = this;\n    var unproject = that._engine.unproject;\n    var lt = unproject(that._fromTransformed([-1, -1]));\n    var lb = unproject(that._fromTransformed([-1, 1]));\n    var rt = unproject(that._fromTransformed([1, -1]));\n    var rb = unproject(that._fromTransformed([1, 1]));\n    var minMax = findMinMax([selectFarthestPoint(lt[0], lb[0], rt[0], rb[0]), selectFarthestPoint(lt[1], rt[1], lb[1], rb[1])], [selectFarthestPoint(rt[0], rb[0], lt[0], lb[0]), selectFarthestPoint(lb[1], rb[1], lt[1], rt[1])]);\n    return [].concat(minMax.min, minMax.max);\n  },\n  setViewport: function setViewport(viewport) {\n    var engine = this._engine;\n    var data = viewport ? getZoomAndCenterFromViewport(engine.project, engine.unproject, viewport) : [this._minZoom, engine.center()];\n    this.setZoom(data[0]);\n    this.setCenter(data[1]);\n  },\n  getTransform: function getTransform() {\n    return {\n      translateX: this._xCenter * this._xRadius,\n      translateY: this._yCenter * this._yRadius\n    };\n  },\n  fromScreenPoint: function fromScreenPoint(coordinates) {\n    return this._engine.unproject(this._fromTransformed(this._fromScreen(coordinates)));\n  },\n  toScreenPoint: function toScreenPoint(coordinates) {\n    return this._toScreen(this._toTransformed(this._engine.project(coordinates)));\n  },\n  _eventNames: [\"engine\", \"screen\", \"center\", \"zoom\", \"max-zoom\"]\n};\n(0, _event_emitter.makeEventEmitter)(Projection);\n\nfunction selectFarthestPoint(point1, point2, basePoint1, basePoint2) {\n  var basePoint = (basePoint1 + basePoint2) / 2;\n  return _abs(point1 - basePoint) > _abs(point2 - basePoint) ? point1 : point2;\n}\n\nfunction selectClosestPoint(point1, point2, basePoint1, basePoint2) {\n  var basePoint = (basePoint1 + basePoint2) / 2;\n  return _abs(point1 - basePoint) < _abs(point2 - basePoint) ? point1 : point2;\n}\n\nfunction getZoomAndCenterFromViewport(project, unproject, viewport) {\n  var lt = project([viewport[0], viewport[3]]);\n  var lb = project([viewport[0], viewport[1]]);\n  var rt = project([viewport[2], viewport[3]]);\n  var rb = project([viewport[2], viewport[1]]);\n  var l = selectClosestPoint(lt[0], lb[0], rt[0], rb[0]);\n  var r = selectClosestPoint(rt[0], rb[0], lt[0], lb[0]);\n  var t = selectClosestPoint(lt[1], rt[1], lb[1], rb[1]);\n  var b = selectClosestPoint(lb[1], rb[1], lt[1], rt[1]);\n  return [2 / _max(_abs(l - r), _abs(t - b)), unproject([(l + r) / 2, (t + b) / 2])];\n}\n\nfunction setMinMax(engine, p1, p2) {\n  var _findMinMax = findMinMax(p1, p2),\n      min = _findMinMax.min,\n      max = _findMinMax.max;\n\n  engine.min = returnArray(min);\n  engine.max = returnArray(max);\n}\n\nvar Engine = function () {\n  function Engine(parameters) {\n    _classCallCheck(this, Engine);\n\n    var that = this;\n    var project = createProjectMethod(parameters.to);\n    var unproject = parameters.from ? createUnprojectMethod(parameters.from) : returnValue(DEFAULT_CENTER);\n    that.project = project;\n    that.unproject = unproject;\n    that.original = returnValue(that);\n\n    that.source = function () {\n      return (0, _extend.extend)({}, parameters);\n    };\n\n    that.isInvertible = returnValue(!!parameters.from);\n    that.ar = returnValue(parameters.aspectRatio > 0 ? _Number(parameters.aspectRatio) : 1);\n    that.center = returnArray(unproject([0, 0]));\n    setMinMax(that, [unproject([-1, 0])[0], unproject([0, 1])[1]], [unproject([1, 0])[0], unproject([0, -1])[1]]);\n  }\n\n  _createClass(Engine, [{\n    key: \"aspectRatio\",\n    value: function value(_aspectRatio) {\n      var engine = new Engine((0, _extend.extend)(this.source(), {\n        aspectRatio: _aspectRatio\n      }));\n      engine.original = this.original;\n      engine.min = this.min;\n      engine.max = this.max;\n      return engine;\n    }\n  }, {\n    key: \"bounds\",\n    value: function value(_bounds) {\n      _bounds = _bounds || [];\n      var parameters = this.source();\n      var min = this.min();\n      var max = this.max();\n      var b1 = parseAndClampArray([_bounds[0], _bounds[1]], min, max, min);\n      var b2 = parseAndClampArray([_bounds[2], _bounds[3]], min, max, max);\n      var p1 = parameters.to(b1);\n      var p2 = parameters.to(b2);\n\n      var delta = _min(_abs(p2[0] - p1[0]) > MIN_BOUNDS_RANGE ? _abs(p2[0] - p1[0]) : 2, _abs(p2[1] - p1[1]) > MIN_BOUNDS_RANGE ? _abs(p2[1] - p1[1]) : 2);\n\n      if (delta < 2) {\n        (0, _extend.extend)(parameters, createProjectUnprojectMethods(parameters.to, parameters.from, p1, p2, delta));\n      }\n\n      var engine = new Engine(parameters);\n      engine.original = this.original;\n      setMinMax(engine, b1, b2);\n      return engine;\n    }\n  }]);\n\n  return Engine;\n}();\n\nfunction invertVerticalAxis(pair) {\n  return [pair[0], -pair[1]];\n}\n\nfunction createProjectMethod(method) {\n  return function (arg) {\n    return invertVerticalAxis(method(arg));\n  };\n}\n\nfunction createUnprojectMethod(method) {\n  return function (arg) {\n    return method(invertVerticalAxis(arg));\n  };\n}\n\nfunction returnValue(value) {\n  return function () {\n    return value;\n  };\n}\n\nfunction returnArray(value) {\n  return function () {\n    return value.slice();\n  };\n}\n\nfunction findMinMax(p1, p2) {\n  return {\n    min: [_min(p1[0], p2[0]), _min(p1[1], p2[1])],\n    max: [_max(p1[0], p2[0]), _max(p1[1], p2[1])]\n  };\n}\n\nvar projection = exports.projection = function (parameters) {\n  return parameters && parameters.to ? new Engine(parameters) : null;\n};\n\nvar projectionsCache = {};\n\nprojection.get = function (name) {\n  return projectionsCache[name] || null;\n};\n\nprojection.add = function (name, engine) {\n  engine = engine instanceof Engine && engine || projection(engine);\n\n  if (!projectionsCache[name] && engine) {\n    projectionsCache[name] = engine;\n  }\n\n  return projection;\n};\n\nfunction createProjectUnprojectMethods(project, unproject, p1, p2, delta) {\n  var x0 = (p1[0] + p2[0]) / 2 - delta / 2;\n  var y0 = (p1[1] + p2[1]) / 2 - delta / 2;\n  var k = 2 / delta;\n  return {\n    to: function to(coordinates) {\n      var _project = project(coordinates),\n          _project2 = _slicedToArray(_project, 2),\n          p0 = _project2[0],\n          p1 = _project2[1];\n\n      return [-1 + (p0 - x0) * k, -1 + (p1 - y0) * k];\n    },\n    from: function from(coordinates) {\n      return unproject([x0 + (coordinates[0] + 1) / k, y0 + (coordinates[1] + 1) / k]);\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/vector_map/projection.main.js"],"names":["Object","value","exports","_extend","require","_event_emitter","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Symbol","_arr","_n","_d","_e","_i","arr","_s","i","Array","instance","props","descriptor","_defineProperties","Constructor","_Number","_min","Math","_max","_abs","_round","_ln","_pow","TWO_TO_LN2","MIN_BOUNDS_RANGE","DEFAULT_MIN_ZOOM","DEFAULT_MAX_ZOOM","DEFAULT_CENTER","DEFAULT_ENGINE_NAME","f1","floatsEqual","a1","a2","val","isFinite","parseAndClamp","minValue","maxValue","defaultValue","engine","projection","Projection","that","getEngine","constructor","_minZoom","_maxZoom","_zoom","_center","_canvas","_scale","dispose","setEngine","setBounds","_setupScreen","canvas","width","height","aspectRatio","min","max","screenAR","boundsAR","isNaN","correction","setSize","_toScreen","coordinates","_fromScreen","_toTransformed","_toTransformedFast","_fromTransformed","_adjustCenter","center","project","transform","isInvertible","getSquareSize","size","getZoom","_changeZoom","oldZoom","newZoom","isChanged","setZoom","getScaledZoom","setScaledZoom","changeScaledZoom","getZoomScalePartition","_setupScaling","k","step","zoom","setMaxZoom","getCenter","setCenter","_changeCenter","oldCenter","newCenter","parseAndClampArray","arraysEqual","_triggerCenterChanged","_triggerZoomChanged","setCenterByPoint","p","q","beginMoveCenter","endMoveCenter","moveCenter","current","shift","getViewport","unproject","lt","lb","rt","rb","minMax","findMinMax","selectFarthestPoint","setViewport","data","viewport","getZoomAndCenterFromViewport","getTransform","translateX","translateY","_yRadius","fromScreenPoint","toScreenPoint","_eventNames","basePoint","basePoint1","point1","point2","l","selectClosestPoint","r","t","b","_findMinMax","returnArray","Engine","_classCallCheck","createProjectMethod","parameters","createUnprojectMethod","returnValue","setMinMax","_createClass","key","_aspectRatio","_bounds","b1","b2","p1","p2","delta","createProjectUnprojectMethods","pair","invertVerticalAxis","method","projectionsCache","x0","y0","to","_project","_project2","_slicedToArray","p0","from"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/vector_map/projection.main.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.projection = exports.Projection = void 0;\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _event_emitter = require(\"./event_emitter\");\r\n\r\nfunction _slicedToArray(arr, i) {\r\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest()\r\n}\r\n\r\nfunction _nonIterableRest() {\r\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")\r\n}\r\n\r\nfunction _iterableToArrayLimit(arr, i) {\r\n    if (!(Symbol.iterator in Object(arr) || \"[object Arguments]\" === Object.prototype.toString.call(arr))) {\r\n        return\r\n    }\r\n    var _arr = [];\r\n    var _n = true;\r\n    var _d = false;\r\n    var _e = void 0;\r\n    try {\r\n        for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {\r\n            _arr.push(_s.value);\r\n            if (i && _arr.length === i) {\r\n                break\r\n            }\r\n        }\r\n    } catch (err) {\r\n        _d = true;\r\n        _e = err\r\n    } finally {\r\n        try {\r\n            if (!_n && null != _i.return) {\r\n                _i.return()\r\n            }\r\n        } finally {\r\n            if (_d) {\r\n                throw _e\r\n            }\r\n        }\r\n    }\r\n    return _arr\r\n}\r\n\r\nfunction _arrayWithHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        return arr\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar _Number = Number;\r\nvar _min = Math.min;\r\nvar _max = Math.max;\r\nvar _abs = Math.abs;\r\nvar _round = Math.round;\r\nvar _ln = Math.log;\r\nvar _pow = Math.pow;\r\nvar TWO_TO_LN2 = 2 / Math.LN2;\r\nvar MIN_BOUNDS_RANGE = 1 / 3600 / 180 / 10;\r\nvar DEFAULT_MIN_ZOOM = 1;\r\nvar DEFAULT_MAX_ZOOM = 256;\r\nvar DEFAULT_CENTER = [NaN, NaN];\r\nvar DEFAULT_ENGINE_NAME = \"mercator\";\r\n\r\nfunction floatsEqual(f1, f2) {\r\n    return _abs(f1 - f2) < 1e-8\r\n}\r\n\r\nfunction arraysEqual(a1, a2) {\r\n    return floatsEqual(a1[0], a2[0]) && floatsEqual(a1[1], a2[1])\r\n}\r\n\r\nfunction parseAndClamp(value, minValue, maxValue, defaultValue) {\r\n    var val = _Number(value);\r\n    return isFinite(val) ? _min(_max(val, minValue), maxValue) : defaultValue\r\n}\r\n\r\nfunction parseAndClampArray(value, minValue, maxValue, defaultValue) {\r\n    return [parseAndClamp(value[0], minValue[0], maxValue[0], defaultValue[0]), parseAndClamp(value[1], minValue[1], maxValue[1], defaultValue[1])]\r\n}\r\n\r\nfunction getEngine(engine) {\r\n    return engine instanceof Engine && engine || projection.get(engine) || projection(engine) || projection.get(DEFAULT_ENGINE_NAME)\r\n}\r\nvar Projection = exports.Projection = function(parameters) {\r\n    var that = this;\r\n    that._initEvents();\r\n    that._params = parameters;\r\n    that._engine = getEngine();\r\n    that._center = that._engine.center();\r\n    that._adjustCenter()\r\n};\r\nProjection.prototype = {\r\n    constructor: Projection,\r\n    _minZoom: DEFAULT_MIN_ZOOM,\r\n    _maxZoom: DEFAULT_MAX_ZOOM,\r\n    _zoom: DEFAULT_MIN_ZOOM,\r\n    _center: DEFAULT_CENTER,\r\n    _canvas: {},\r\n    _scale: [],\r\n    dispose: function() {\r\n        this._disposeEvents()\r\n    },\r\n    setEngine: function(value) {\r\n        var that = this;\r\n        var engine = getEngine(value);\r\n        if (that._engine !== engine) {\r\n            that._engine = engine;\r\n            that._fire(\"engine\");\r\n            if (that._changeCenter(engine.center())) {\r\n                that._triggerCenterChanged()\r\n            }\r\n            if (that._changeZoom(that._minZoom)) {\r\n                that._triggerZoomChanged()\r\n            }\r\n            that._adjustCenter();\r\n            that._setupScreen()\r\n        }\r\n    },\r\n    setBounds: function(bounds) {\r\n        if (void 0 !== bounds) {\r\n            this.setEngine(this._engine.original().bounds(bounds))\r\n        }\r\n    },\r\n    _setupScreen: function() {\r\n        var that = this;\r\n        var canvas = that._canvas;\r\n        var width = canvas.width;\r\n        var height = canvas.height;\r\n        var engine = that._engine;\r\n        var aspectRatio = engine.ar();\r\n        that._x0 = canvas.left + width / 2;\r\n        that._y0 = canvas.top + height / 2;\r\n        var min = [that.project([engine.min()[0], 0])[0], that.project([0, engine.min()[1]])[1]];\r\n        var max = [that.project([engine.max()[0], 0])[0], that.project([0, engine.max()[1]])[1]];\r\n        var screenAR = width / height;\r\n        var boundsAR = _abs(max[0] - min[0]) / _abs(max[1] - min[1]);\r\n        var correction;\r\n        if (isNaN(boundsAR) || 0 === boundsAR || _min(screenAR, aspectRatio) <= aspectRatio * boundsAR && aspectRatio * boundsAR <= _max(screenAR, aspectRatio)) {\r\n            correction = 1\r\n        } else {\r\n            correction = boundsAR > 1 ? boundsAR : 1 / boundsAR\r\n        }\r\n        if (aspectRatio * boundsAR >= screenAR) {\r\n            that._xRadius = width / 2 / correction;\r\n            that._yRadius = width / 2 / (aspectRatio * correction)\r\n        } else {\r\n            that._xRadius = height / 2 * (aspectRatio / correction);\r\n            that._yRadius = height / 2 / correction\r\n        }\r\n        that._fire(\"screen\")\r\n    },\r\n    setSize: function(canvas) {\r\n        this._canvas = canvas;\r\n        this._setupScreen()\r\n    },\r\n    _toScreen: function(coordinates) {\r\n        return [this._x0 + this._xRadius * coordinates[0], this._y0 + this._yRadius * coordinates[1]]\r\n    },\r\n    _fromScreen: function(coordinates) {\r\n        return [(coordinates[0] - this._x0) / this._xRadius, (coordinates[1] - this._y0) / this._yRadius]\r\n    },\r\n    _toTransformed: function(coordinates) {\r\n        return [coordinates[0] * this._zoom + this._xCenter, coordinates[1] * this._zoom + this._yCenter]\r\n    },\r\n    _toTransformedFast: function(coordinates) {\r\n        return [coordinates[0] * this._zoom, coordinates[1] * this._zoom]\r\n    },\r\n    _fromTransformed: function(coordinates) {\r\n        return [(coordinates[0] - this._xCenter) / this._zoom, (coordinates[1] - this._yCenter) / this._zoom]\r\n    },\r\n    _adjustCenter: function() {\r\n        var that = this;\r\n        var center = that._engine.project(that._center);\r\n        that._xCenter = -center[0] * that._zoom || 0;\r\n        that._yCenter = -center[1] * that._zoom || 0\r\n    },\r\n    project: function(coordinates) {\r\n        return this._engine.project(coordinates)\r\n    },\r\n    transform: function(coordinates) {\r\n        return this._toScreen(this._toTransformedFast(coordinates))\r\n    },\r\n    isInvertible: function() {\r\n        return this._engine.isInvertible()\r\n    },\r\n    getSquareSize: function(size) {\r\n        return [size[0] * this._zoom * this._xRadius, size[1] * this._zoom * this._yRadius]\r\n    },\r\n    getZoom: function() {\r\n        return this._zoom\r\n    },\r\n    _changeZoom: function(value) {\r\n        var that = this;\r\n        var oldZoom = that._zoom;\r\n        var newZoom = that._zoom = parseAndClamp(value, that._minZoom, that._maxZoom, that._minZoom);\r\n        var isChanged = !floatsEqual(oldZoom, newZoom);\r\n        if (isChanged) {\r\n            that._adjustCenter();\r\n            that._fire(\"zoom\")\r\n        }\r\n        return isChanged\r\n    },\r\n    setZoom: function(value) {\r\n        if (this._engine.isInvertible() && this._changeZoom(value)) {\r\n            this._triggerZoomChanged()\r\n        }\r\n    },\r\n    getScaledZoom: function() {\r\n        return _round((this._scale.length - 1) * _ln(this._zoom) / _ln(this._maxZoom))\r\n    },\r\n    setScaledZoom: function(scaledZoom) {\r\n        this.setZoom(this._scale[_round(scaledZoom)])\r\n    },\r\n    changeScaledZoom: function(deltaZoom) {\r\n        this.setZoom(this._scale[_max(_min(_round(this.getScaledZoom() + deltaZoom), this._scale.length - 1), 0)])\r\n    },\r\n    getZoomScalePartition: function() {\r\n        return this._scale.length - 1\r\n    },\r\n    _setupScaling: function() {\r\n        var that = this;\r\n        var k = _max(_round(TWO_TO_LN2 * _ln(that._maxZoom)), 4);\r\n        var step = _pow(that._maxZoom, 1 / k);\r\n        var zoom = that._minZoom;\r\n        that._scale = [zoom];\r\n        for (var i = 1; i <= k; ++i) {\r\n            that._scale.push(zoom *= step)\r\n        }\r\n    },\r\n    setMaxZoom: function(maxZoom) {\r\n        var that = this;\r\n        that._minZoom = DEFAULT_MIN_ZOOM;\r\n        that._maxZoom = parseAndClamp(maxZoom, that._minZoom, _Number.MAX_VALUE, DEFAULT_MAX_ZOOM);\r\n        that._setupScaling();\r\n        if (that._zoom > that._maxZoom) {\r\n            that.setZoom(that._maxZoom)\r\n        }\r\n        that._fire(\"max-zoom\")\r\n    },\r\n    getCenter: function() {\r\n        return this._center.slice()\r\n    },\r\n    setCenter: function(value) {\r\n        if (this._engine.isInvertible() && this._changeCenter(value || [])) {\r\n            this._triggerCenterChanged()\r\n        }\r\n    },\r\n    _changeCenter: function(value) {\r\n        var that = this;\r\n        var engine = that._engine;\r\n        var oldCenter = that._center;\r\n        var newCenter = that._center = parseAndClampArray(value, engine.min(), engine.max(), engine.center());\r\n        var isChanged = !arraysEqual(oldCenter, newCenter);\r\n        if (isChanged) {\r\n            that._adjustCenter();\r\n            that._fire(\"center\")\r\n        }\r\n        return isChanged\r\n    },\r\n    _triggerCenterChanged: function() {\r\n        this._params.centerChanged(this.getCenter())\r\n    },\r\n    _triggerZoomChanged: function() {\r\n        this._params.zoomChanged(this.getZoom())\r\n    },\r\n    setCenterByPoint: function(coordinates, screenPosition) {\r\n        var that = this;\r\n        var p = that._engine.project(coordinates);\r\n        var q = that._fromScreen(screenPosition);\r\n        that.setCenter(that._engine.unproject([-q[0] / that._zoom + p[0], -q[1] / that._zoom + p[1]]))\r\n    },\r\n    beginMoveCenter: function() {\r\n        if (this._engine.isInvertible()) {\r\n            this._moveCenter = this._center\r\n        }\r\n    },\r\n    endMoveCenter: function() {\r\n        var that = this;\r\n        if (that._moveCenter) {\r\n            if (!arraysEqual(that._moveCenter, that._center)) {\r\n                that._triggerCenterChanged()\r\n            }\r\n            that._moveCenter = null\r\n        }\r\n    },\r\n    moveCenter: function(shift) {\r\n        var that = this;\r\n        if (that._moveCenter) {\r\n            var current = that.toScreenPoint(that._center);\r\n            that._changeCenter(that.fromScreenPoint([current[0] + shift[0], current[1] + shift[1]]))\r\n        }\r\n    },\r\n    getViewport: function() {\r\n        var that = this;\r\n        var unproject = that._engine.unproject;\r\n        var lt = unproject(that._fromTransformed([-1, -1]));\r\n        var lb = unproject(that._fromTransformed([-1, 1]));\r\n        var rt = unproject(that._fromTransformed([1, -1]));\r\n        var rb = unproject(that._fromTransformed([1, 1]));\r\n        var minMax = findMinMax([selectFarthestPoint(lt[0], lb[0], rt[0], rb[0]), selectFarthestPoint(lt[1], rt[1], lb[1], rb[1])], [selectFarthestPoint(rt[0], rb[0], lt[0], lb[0]), selectFarthestPoint(lb[1], rb[1], lt[1], rt[1])]);\r\n        return [].concat(minMax.min, minMax.max)\r\n    },\r\n    setViewport: function(viewport) {\r\n        var engine = this._engine;\r\n        var data = viewport ? getZoomAndCenterFromViewport(engine.project, engine.unproject, viewport) : [this._minZoom, engine.center()];\r\n        this.setZoom(data[0]);\r\n        this.setCenter(data[1])\r\n    },\r\n    getTransform: function() {\r\n        return {\r\n            translateX: this._xCenter * this._xRadius,\r\n            translateY: this._yCenter * this._yRadius\r\n        }\r\n    },\r\n    fromScreenPoint: function(coordinates) {\r\n        return this._engine.unproject(this._fromTransformed(this._fromScreen(coordinates)))\r\n    },\r\n    toScreenPoint: function(coordinates) {\r\n        return this._toScreen(this._toTransformed(this._engine.project(coordinates)))\r\n    },\r\n    _eventNames: [\"engine\", \"screen\", \"center\", \"zoom\", \"max-zoom\"]\r\n};\r\n(0, _event_emitter.makeEventEmitter)(Projection);\r\n\r\nfunction selectFarthestPoint(point1, point2, basePoint1, basePoint2) {\r\n    var basePoint = (basePoint1 + basePoint2) / 2;\r\n    return _abs(point1 - basePoint) > _abs(point2 - basePoint) ? point1 : point2\r\n}\r\n\r\nfunction selectClosestPoint(point1, point2, basePoint1, basePoint2) {\r\n    var basePoint = (basePoint1 + basePoint2) / 2;\r\n    return _abs(point1 - basePoint) < _abs(point2 - basePoint) ? point1 : point2\r\n}\r\n\r\nfunction getZoomAndCenterFromViewport(project, unproject, viewport) {\r\n    var lt = project([viewport[0], viewport[3]]);\r\n    var lb = project([viewport[0], viewport[1]]);\r\n    var rt = project([viewport[2], viewport[3]]);\r\n    var rb = project([viewport[2], viewport[1]]);\r\n    var l = selectClosestPoint(lt[0], lb[0], rt[0], rb[0]);\r\n    var r = selectClosestPoint(rt[0], rb[0], lt[0], lb[0]);\r\n    var t = selectClosestPoint(lt[1], rt[1], lb[1], rb[1]);\r\n    var b = selectClosestPoint(lb[1], rb[1], lt[1], rt[1]);\r\n    return [2 / _max(_abs(l - r), _abs(t - b)), unproject([(l + r) / 2, (t + b) / 2])]\r\n}\r\n\r\nfunction setMinMax(engine, p1, p2) {\r\n    var _findMinMax = findMinMax(p1, p2),\r\n        min = _findMinMax.min,\r\n        max = _findMinMax.max;\r\n    engine.min = returnArray(min);\r\n    engine.max = returnArray(max)\r\n}\r\nvar Engine = function() {\r\n    function Engine(parameters) {\r\n        _classCallCheck(this, Engine);\r\n        var that = this;\r\n        var project = createProjectMethod(parameters.to);\r\n        var unproject = parameters.from ? createUnprojectMethod(parameters.from) : returnValue(DEFAULT_CENTER);\r\n        that.project = project;\r\n        that.unproject = unproject;\r\n        that.original = returnValue(that);\r\n        that.source = function() {\r\n            return (0, _extend.extend)({}, parameters)\r\n        };\r\n        that.isInvertible = returnValue(!!parameters.from);\r\n        that.ar = returnValue(parameters.aspectRatio > 0 ? _Number(parameters.aspectRatio) : 1);\r\n        that.center = returnArray(unproject([0, 0]));\r\n        setMinMax(that, [unproject([-1, 0])[0], unproject([0, 1])[1]], [unproject([1, 0])[0], unproject([0, -1])[1]])\r\n    }\r\n    _createClass(Engine, [{\r\n        key: \"aspectRatio\",\r\n        value: function(_aspectRatio) {\r\n            var engine = new Engine((0, _extend.extend)(this.source(), {\r\n                aspectRatio: _aspectRatio\r\n            }));\r\n            engine.original = this.original;\r\n            engine.min = this.min;\r\n            engine.max = this.max;\r\n            return engine\r\n        }\r\n    }, {\r\n        key: \"bounds\",\r\n        value: function(_bounds) {\r\n            _bounds = _bounds || [];\r\n            var parameters = this.source();\r\n            var min = this.min();\r\n            var max = this.max();\r\n            var b1 = parseAndClampArray([_bounds[0], _bounds[1]], min, max, min);\r\n            var b2 = parseAndClampArray([_bounds[2], _bounds[3]], min, max, max);\r\n            var p1 = parameters.to(b1);\r\n            var p2 = parameters.to(b2);\r\n            var delta = _min(_abs(p2[0] - p1[0]) > MIN_BOUNDS_RANGE ? _abs(p2[0] - p1[0]) : 2, _abs(p2[1] - p1[1]) > MIN_BOUNDS_RANGE ? _abs(p2[1] - p1[1]) : 2);\r\n            if (delta < 2) {\r\n                (0, _extend.extend)(parameters, createProjectUnprojectMethods(parameters.to, parameters.from, p1, p2, delta))\r\n            }\r\n            var engine = new Engine(parameters);\r\n            engine.original = this.original;\r\n            setMinMax(engine, b1, b2);\r\n            return engine\r\n        }\r\n    }]);\r\n    return Engine\r\n}();\r\n\r\nfunction invertVerticalAxis(pair) {\r\n    return [pair[0], -pair[1]]\r\n}\r\n\r\nfunction createProjectMethod(method) {\r\n    return function(arg) {\r\n        return invertVerticalAxis(method(arg))\r\n    }\r\n}\r\n\r\nfunction createUnprojectMethod(method) {\r\n    return function(arg) {\r\n        return method(invertVerticalAxis(arg))\r\n    }\r\n}\r\n\r\nfunction returnValue(value) {\r\n    return function() {\r\n        return value\r\n    }\r\n}\r\n\r\nfunction returnArray(value) {\r\n    return function() {\r\n        return value.slice()\r\n    }\r\n}\r\n\r\nfunction findMinMax(p1, p2) {\r\n    return {\r\n        min: [_min(p1[0], p2[0]), _min(p1[1], p2[1])],\r\n        max: [_max(p1[0], p2[0]), _max(p1[1], p2[1])]\r\n    }\r\n}\r\nvar projection = exports.projection = function(parameters) {\r\n    return parameters && parameters.to ? new Engine(parameters) : null\r\n};\r\nvar projectionsCache = {};\r\nprojection.get = function(name) {\r\n    return projectionsCache[name] || null\r\n};\r\nprojection.add = function(name, engine) {\r\n    engine = engine instanceof Engine && engine || projection(engine);\r\n    if (!projectionsCache[name] && engine) {\r\n        projectionsCache[name] = engine\r\n    }\r\n    return projection\r\n};\r\n\r\nfunction createProjectUnprojectMethods(project, unproject, p1, p2, delta) {\r\n    var x0 = (p1[0] + p2[0]) / 2 - delta / 2;\r\n    var y0 = (p1[1] + p2[1]) / 2 - delta / 2;\r\n    var k = 2 / delta;\r\n    return {\r\n        to: function(coordinates) {\r\n            var _project = project(coordinates),\r\n                _project2 = _slicedToArray(_project, 2),\r\n                p0 = _project2[0],\r\n                p1 = _project2[1];\r\n            return [-1 + (p0 - x0) * k, -1 + (p1 - y0) * k]\r\n        },\r\n        from: function(coordinates) {\r\n            return unproject([x0 + (coordinates[0] + 1) / k, y0 + (coordinates[1] + 1) / k])\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}