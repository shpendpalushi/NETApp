{"ast":null,"code":"/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.filter_panel.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _uiGrid_core = require(\"./ui.grid_core.modules\");\n\nvar _uiGrid_core2 = _interopRequireDefault(_uiGrid_core);\n\nvar _uiGrid_core3 = require(\"./ui.grid_core.utils\");\n\nvar _uiGrid_core4 = _interopRequireDefault(_uiGrid_core3);\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _message = require(\"../../localization/message\");\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _check_box = require(\"../check_box\");\n\nvar _check_box2 = _interopRequireDefault(_check_box);\n\nvar _utils = require(\"../filter_builder/utils\");\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _inflector = require(\"../../core/utils/inflector\");\n\nvar _inflector2 = _interopRequireDefault(_inflector);\n\nvar _uiGrid_core5 = require(\"./ui.grid_core.accessibility\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar FILTER_PANEL_CLASS = \"filter-panel\";\nvar FILTER_PANEL_TEXT_CLASS = FILTER_PANEL_CLASS + \"-text\";\nvar FILTER_PANEL_CHECKBOX_CLASS = FILTER_PANEL_CLASS + \"-checkbox\";\nvar FILTER_PANEL_CLEAR_FILTER_CLASS = FILTER_PANEL_CLASS + \"-clear-filter\";\nvar FILTER_PANEL_LEFT_CONTAINER = FILTER_PANEL_CLASS + \"-left\";\nvar FILTER_PANEL_TARGET = \"filterPanel\";\n\nvar FilterPanelView = _uiGrid_core2.default.View.inherit({\n  isVisible: function isVisible() {\n    return this.option(\"filterPanel.visible\") && this.getController(\"data\").dataSource();\n  },\n  init: function init() {\n    var _this = this;\n\n    this.getController(\"data\").dataSourceChanged.add(function () {\n      return _this.render();\n    });\n  },\n  _renderCore: function _renderCore() {\n    var that = this;\n    var $element = that.element();\n    var $leftContainer;\n    $element.empty().addClass(that.addWidgetPrefix(FILTER_PANEL_CLASS));\n    $leftContainer = (0, _renderer2.default)(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_LEFT_CONTAINER)).appendTo($element);\n\n    if (that.option(\"filterValue\") || that._filterValueBuffer) {\n      $leftContainer.append(that._getCheckElement()).append(that._getFilterElement()).append(that._getTextElement());\n      $element.append(that._getRemoveButtonElement());\n    } else {\n      $leftContainer.append(that._getFilterElement()).append(that._getTextElement());\n    }\n  },\n  _getCheckElement: function _getCheckElement() {\n    var that = this;\n    var $element = (0, _renderer2.default)(\"<div>\").addClass(this.addWidgetPrefix(FILTER_PANEL_CHECKBOX_CLASS));\n\n    that._createComponent($element, _check_box2.default, {\n      value: that.option(\"filterPanel.filterEnabled\"),\n      onValueChanged: function onValueChanged(e) {\n        that.option(\"filterPanel.filterEnabled\", e.value);\n      }\n    });\n\n    $element.attr(\"title\", this.option(\"filterPanel.texts.filterEnabledHint\"));\n    return $element;\n  },\n  _getFilterElement: function _getFilterElement() {\n    var that = this;\n    var $element = (0, _renderer2.default)(\"<div>\").addClass(\"dx-icon-filter\");\n\n    _events_engine2.default.on($element, \"click\", function () {\n      return that._showFilterBuilder();\n    });\n\n    (0, _uiGrid_core5.registerKeyboardAction)(\"filterPanel\", that, $element, void 0, function () {\n      return that._showFilterBuilder();\n    });\n\n    that._addTabIndexToElement($element);\n\n    return $element;\n  },\n  _getTextElement: function _getTextElement() {\n    var that = this;\n    var $textElement = (0, _renderer2.default)(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_TEXT_CLASS));\n    var filterText;\n    var filterValue = that.option(\"filterValue\");\n\n    if (filterValue) {\n      (0, _deferred.when)(that.getFilterText(filterValue, that.getController(\"filterSync\").getCustomFilterOperations())).done(function (filterText) {\n        var customizeText = that.option(\"filterPanel.customizeText\");\n\n        if (customizeText) {\n          var customText = customizeText({\n            component: that.component,\n            filterValue: filterValue,\n            text: filterText\n          });\n\n          if (\"string\" === typeof customText) {\n            filterText = customText;\n          }\n        }\n\n        $textElement.text(filterText);\n      });\n    } else {\n      filterText = that.option(\"filterPanel.texts.createFilter\");\n      $textElement.text(filterText);\n    }\n\n    _events_engine2.default.on($textElement, \"click\", function () {\n      return that._showFilterBuilder();\n    });\n\n    (0, _uiGrid_core5.registerKeyboardAction)(\"filterPanel\", that, $textElement, void 0, function () {\n      return that._showFilterBuilder();\n    });\n\n    that._addTabIndexToElement($textElement);\n\n    return $textElement;\n  },\n  _showFilterBuilder: function _showFilterBuilder() {\n    this.option(\"filterBuilderPopup.visible\", true);\n  },\n  _getRemoveButtonElement: function _getRemoveButtonElement() {\n    var that = this;\n\n    var clearFilterValue = function clearFilterValue() {\n      return that.option(\"filterValue\", null);\n    };\n\n    var $element = (0, _renderer2.default)(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_CLEAR_FILTER_CLASS)).text(that.option(\"filterPanel.texts.clearFilter\"));\n\n    _events_engine2.default.on($element, \"click\", clearFilterValue);\n\n    (0, _uiGrid_core5.registerKeyboardAction)(\"filterPanel\", this, $element, void 0, clearFilterValue);\n\n    that._addTabIndexToElement($element);\n\n    return $element;\n  },\n  _addTabIndexToElement: function _addTabIndexToElement($element) {\n    if (!this.option(\"useLegacyKeyboardNavigation\")) {\n      var tabindex = this.option(\"tabindex\") || 0;\n      $element.attr(\"tabindex\", tabindex);\n    }\n  },\n  optionChanged: function optionChanged(args) {\n    switch (args.name) {\n      case \"filterValue\":\n        this._invalidate();\n\n        this.option(\"filterPanel.filterEnabled\", true);\n        args.handled = true;\n        break;\n\n      case \"filterPanel\":\n        this._invalidate();\n\n        args.handled = true;\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _getConditionText: function _getConditionText(fieldText, operationText, valueText) {\n    var result = \"[\".concat(fieldText, \"] \").concat(operationText);\n\n    if ((0, _type.isDefined)(valueText)) {\n      result += valueText;\n    }\n\n    return result;\n  },\n  _getValueMaskedText: function _getValueMaskedText(value) {\n    return Array.isArray(value) ? \"('\".concat(value.join(\"', '\"), \"')\") : \" '\".concat(value, \"'\");\n  },\n  _getValueText: function _getValueText(field, customOperation, value) {\n    var _this2 = this;\n\n    var deferred = new _deferred.Deferred();\n    var hasCustomOperation = customOperation && customOperation.customizeText;\n\n    if ((0, _type.isDefined)(value) || hasCustomOperation) {\n      if (!hasCustomOperation && field.lookup) {\n        _utils2.default.getCurrentLookupValueText(field, value, function (data) {\n          deferred.resolve(_this2._getValueMaskedText(data));\n        });\n      } else {\n        var displayValue = Array.isArray(value) ? value : _uiGrid_core4.default.getDisplayValue(field, value);\n        (0, _deferred.when)(_utils2.default.getCurrentValueText(field, displayValue, customOperation, FILTER_PANEL_TARGET)).done(function (data) {\n          deferred.resolve(_this2._getValueMaskedText(data));\n        });\n      }\n    } else {\n      deferred.resolve(\"\");\n    }\n\n    return deferred.promise();\n  },\n  getConditionText: function getConditionText(filterValue, options) {\n    var that = this;\n    var operation = filterValue[1];\n    var deferred = new _deferred.Deferred();\n\n    var customOperation = _utils2.default.getCustomOperation(options.customOperations, operation);\n\n    var operationText;\n\n    var field = _utils2.default.getField(filterValue[0], options.columns);\n\n    var fieldText = field.caption || \"\";\n    var value = filterValue[2];\n\n    if (customOperation) {\n      operationText = customOperation.caption || _inflector2.default.captionize(customOperation.name);\n    } else {\n      if (null === value) {\n        operationText = _utils2.default.getCaptionByOperation(\"=\" === operation ? \"isblank\" : \"isnotblank\", options.filterOperationDescriptions);\n      } else {\n        operationText = _utils2.default.getCaptionByOperation(operation, options.filterOperationDescriptions);\n      }\n    }\n\n    this._getValueText(field, customOperation, value).done(function (valueText) {\n      deferred.resolve(that._getConditionText(fieldText, operationText, valueText));\n    });\n\n    return deferred;\n  },\n  getGroupText: function getGroupText(filterValue, options, isInnerGroup) {\n    var that = this;\n    var result = new _deferred.Deferred();\n    var textParts = [];\n\n    var groupValue = _utils2.default.getGroupValue(filterValue);\n\n    filterValue.forEach(function (item) {\n      if (_utils2.default.isCondition(item)) {\n        textParts.push(that.getConditionText(item, options));\n      } else {\n        if (_utils2.default.isGroup(item)) {\n          textParts.push(that.getGroupText(item, options, true));\n        }\n      }\n    });\n\n    _deferred.when.apply(this, textParts).done(function () {\n      var text;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (\"!\" === groupValue[0]) {\n        var groupText = options.groupOperationDescriptions[\"not\" + groupValue.substring(1, 2).toUpperCase() + groupValue.substring(2)].split(\" \");\n        text = \"\".concat(groupText[0], \" \").concat(args[0]);\n      } else {\n        text = args.join(\" \".concat(options.groupOperationDescriptions[groupValue], \" \"));\n      }\n\n      if (isInnerGroup) {\n        text = \"(\".concat(text, \")\");\n      }\n\n      result.resolve(text);\n    });\n\n    return result;\n  },\n  getFilterText: function getFilterText(filterValue, customOperations) {\n    var that = this;\n    var options = {\n      customOperations: customOperations,\n      columns: that.getController(\"columns\").getFilteringColumns(),\n      filterOperationDescriptions: that.option(\"filterBuilder.filterOperationDescriptions\"),\n      groupOperationDescriptions: that.option(\"filterBuilder.groupOperationDescriptions\")\n    };\n    return _utils2.default.isCondition(filterValue) ? that.getConditionText(filterValue, options) : that.getGroupText(filterValue, options);\n  }\n});\n\nmodule.exports = {\n  defaultOptions: function defaultOptions() {\n    return {\n      filterPanel: {\n        visible: false,\n        filterEnabled: true,\n        texts: {\n          createFilter: _message2.default.format(\"dxDataGrid-filterPanelCreateFilter\"),\n          clearFilter: _message2.default.format(\"dxDataGrid-filterPanelClearFilter\"),\n          filterEnabledHint: _message2.default.format(\"dxDataGrid-filterPanelFilterEnabledHint\")\n        }\n      }\n    };\n  },\n  views: {\n    filterPanelView: FilterPanelView\n  },\n  extenders: {\n    controllers: {\n      data: {\n        optionChanged: function optionChanged(args) {\n          switch (args.name) {\n            case \"filterPanel\":\n              this._applyFilter();\n\n              args.handled = true;\n              break;\n\n            default:\n              this.callBase(args);\n          }\n        }\n      }\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/grid_core/ui.grid_core.filter_panel.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_type","_uiGrid_core","_uiGrid_core2","_uiGrid_core3","_uiGrid_core4","_events_engine","_events_engine2","_message","_message2","_check_box","_check_box2","_utils","_utils2","_deferred","_inflector","_inflector2","_uiGrid_core5","obj","FILTER_PANEL_CLASS","FILTER_PANEL_TEXT_CLASS","FILTER_PANEL_CHECKBOX_CLASS","FILTER_PANEL_CLEAR_FILTER_CLASS","FILTER_PANEL_LEFT_CONTAINER","FILTER_PANEL_TARGET","FilterPanelView","isVisible","init","_this","_renderCore","that","$element","$leftContainer","_getCheckElement","value","onValueChanged","e","_getFilterElement","_getTextElement","$textElement","filterValue","customizeText","customText","component","text","filterText","_showFilterBuilder","_getRemoveButtonElement","clearFilterValue","_addTabIndexToElement","tabindex","optionChanged","args","_getConditionText","result","_getValueMaskedText","Array","_getValueText","_this2","deferred","hasCustomOperation","customOperation","field","displayValue","getConditionText","operation","options","fieldText","operationText","getGroupText","textParts","groupValue","_len","arguments","_key","groupText","getFilterText","customOperations","columns","filterOperationDescriptions","groupOperationDescriptions","module","defaultOptions","filterPanel","visible","filterEnabled","texts","createFilter","clearFilter","filterEnabledHint","views","filterPanelView","extenders","controllers","data"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.filter_panel.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _uiGrid_core = require(\"./ui.grid_core.modules\");\r\nvar _uiGrid_core2 = _interopRequireDefault(_uiGrid_core);\r\nvar _uiGrid_core3 = require(\"./ui.grid_core.utils\");\r\nvar _uiGrid_core4 = _interopRequireDefault(_uiGrid_core3);\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _message = require(\"../../localization/message\");\r\nvar _message2 = _interopRequireDefault(_message);\r\nvar _check_box = require(\"../check_box\");\r\nvar _check_box2 = _interopRequireDefault(_check_box);\r\nvar _utils = require(\"../filter_builder/utils\");\r\nvar _utils2 = _interopRequireDefault(_utils);\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _inflector = require(\"../../core/utils/inflector\");\r\nvar _inflector2 = _interopRequireDefault(_inflector);\r\nvar _uiGrid_core5 = require(\"./ui.grid_core.accessibility\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar FILTER_PANEL_CLASS = \"filter-panel\";\r\nvar FILTER_PANEL_TEXT_CLASS = FILTER_PANEL_CLASS + \"-text\";\r\nvar FILTER_PANEL_CHECKBOX_CLASS = FILTER_PANEL_CLASS + \"-checkbox\";\r\nvar FILTER_PANEL_CLEAR_FILTER_CLASS = FILTER_PANEL_CLASS + \"-clear-filter\";\r\nvar FILTER_PANEL_LEFT_CONTAINER = FILTER_PANEL_CLASS + \"-left\";\r\nvar FILTER_PANEL_TARGET = \"filterPanel\";\r\nvar FilterPanelView = _uiGrid_core2.default.View.inherit({\r\n    isVisible: function() {\r\n        return this.option(\"filterPanel.visible\") && this.getController(\"data\").dataSource()\r\n    },\r\n    init: function() {\r\n        var _this = this;\r\n        this.getController(\"data\").dataSourceChanged.add(function() {\r\n            return _this.render()\r\n        })\r\n    },\r\n    _renderCore: function() {\r\n        var that = this;\r\n        var $element = that.element();\r\n        var $leftContainer;\r\n        $element.empty().addClass(that.addWidgetPrefix(FILTER_PANEL_CLASS));\r\n        $leftContainer = (0, _renderer2.default)(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_LEFT_CONTAINER)).appendTo($element);\r\n        if (that.option(\"filterValue\") || that._filterValueBuffer) {\r\n            $leftContainer.append(that._getCheckElement()).append(that._getFilterElement()).append(that._getTextElement());\r\n            $element.append(that._getRemoveButtonElement())\r\n        } else {\r\n            $leftContainer.append(that._getFilterElement()).append(that._getTextElement())\r\n        }\r\n    },\r\n    _getCheckElement: function() {\r\n        var that = this;\r\n        var $element = (0, _renderer2.default)(\"<div>\").addClass(this.addWidgetPrefix(FILTER_PANEL_CHECKBOX_CLASS));\r\n        that._createComponent($element, _check_box2.default, {\r\n            value: that.option(\"filterPanel.filterEnabled\"),\r\n            onValueChanged: function(e) {\r\n                that.option(\"filterPanel.filterEnabled\", e.value)\r\n            }\r\n        });\r\n        $element.attr(\"title\", this.option(\"filterPanel.texts.filterEnabledHint\"));\r\n        return $element\r\n    },\r\n    _getFilterElement: function() {\r\n        var that = this;\r\n        var $element = (0, _renderer2.default)(\"<div>\").addClass(\"dx-icon-filter\");\r\n        _events_engine2.default.on($element, \"click\", function() {\r\n            return that._showFilterBuilder()\r\n        });\r\n        (0, _uiGrid_core5.registerKeyboardAction)(\"filterPanel\", that, $element, void 0, function() {\r\n            return that._showFilterBuilder()\r\n        });\r\n        that._addTabIndexToElement($element);\r\n        return $element\r\n    },\r\n    _getTextElement: function() {\r\n        var that = this;\r\n        var $textElement = (0, _renderer2.default)(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_TEXT_CLASS));\r\n        var filterText;\r\n        var filterValue = that.option(\"filterValue\");\r\n        if (filterValue) {\r\n            (0, _deferred.when)(that.getFilterText(filterValue, that.getController(\"filterSync\").getCustomFilterOperations())).done(function(filterText) {\r\n                var customizeText = that.option(\"filterPanel.customizeText\");\r\n                if (customizeText) {\r\n                    var customText = customizeText({\r\n                        component: that.component,\r\n                        filterValue: filterValue,\r\n                        text: filterText\r\n                    });\r\n                    if (\"string\" === typeof customText) {\r\n                        filterText = customText\r\n                    }\r\n                }\r\n                $textElement.text(filterText)\r\n            })\r\n        } else {\r\n            filterText = that.option(\"filterPanel.texts.createFilter\");\r\n            $textElement.text(filterText)\r\n        }\r\n        _events_engine2.default.on($textElement, \"click\", function() {\r\n            return that._showFilterBuilder()\r\n        });\r\n        (0, _uiGrid_core5.registerKeyboardAction)(\"filterPanel\", that, $textElement, void 0, function() {\r\n            return that._showFilterBuilder()\r\n        });\r\n        that._addTabIndexToElement($textElement);\r\n        return $textElement\r\n    },\r\n    _showFilterBuilder: function() {\r\n        this.option(\"filterBuilderPopup.visible\", true)\r\n    },\r\n    _getRemoveButtonElement: function() {\r\n        var that = this;\r\n        var clearFilterValue = function() {\r\n            return that.option(\"filterValue\", null)\r\n        };\r\n        var $element = (0, _renderer2.default)(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_CLEAR_FILTER_CLASS)).text(that.option(\"filterPanel.texts.clearFilter\"));\r\n        _events_engine2.default.on($element, \"click\", clearFilterValue);\r\n        (0, _uiGrid_core5.registerKeyboardAction)(\"filterPanel\", this, $element, void 0, clearFilterValue);\r\n        that._addTabIndexToElement($element);\r\n        return $element\r\n    },\r\n    _addTabIndexToElement: function($element) {\r\n        if (!this.option(\"useLegacyKeyboardNavigation\")) {\r\n            var tabindex = this.option(\"tabindex\") || 0;\r\n            $element.attr(\"tabindex\", tabindex)\r\n        }\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"filterValue\":\r\n                this._invalidate();\r\n                this.option(\"filterPanel.filterEnabled\", true);\r\n                args.handled = true;\r\n                break;\r\n            case \"filterPanel\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _getConditionText: function(fieldText, operationText, valueText) {\r\n        var result = \"[\".concat(fieldText, \"] \").concat(operationText);\r\n        if ((0, _type.isDefined)(valueText)) {\r\n            result += valueText\r\n        }\r\n        return result\r\n    },\r\n    _getValueMaskedText: function(value) {\r\n        return Array.isArray(value) ? \"('\".concat(value.join(\"', '\"), \"')\") : \" '\".concat(value, \"'\")\r\n    },\r\n    _getValueText: function(field, customOperation, value) {\r\n        var _this2 = this;\r\n        var deferred = new _deferred.Deferred;\r\n        var hasCustomOperation = customOperation && customOperation.customizeText;\r\n        if ((0, _type.isDefined)(value) || hasCustomOperation) {\r\n            if (!hasCustomOperation && field.lookup) {\r\n                _utils2.default.getCurrentLookupValueText(field, value, function(data) {\r\n                    deferred.resolve(_this2._getValueMaskedText(data))\r\n                })\r\n            } else {\r\n                var displayValue = Array.isArray(value) ? value : _uiGrid_core4.default.getDisplayValue(field, value);\r\n                (0, _deferred.when)(_utils2.default.getCurrentValueText(field, displayValue, customOperation, FILTER_PANEL_TARGET)).done(function(data) {\r\n                    deferred.resolve(_this2._getValueMaskedText(data))\r\n                })\r\n            }\r\n        } else {\r\n            deferred.resolve(\"\")\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    getConditionText: function(filterValue, options) {\r\n        var that = this;\r\n        var operation = filterValue[1];\r\n        var deferred = new _deferred.Deferred;\r\n        var customOperation = _utils2.default.getCustomOperation(options.customOperations, operation);\r\n        var operationText;\r\n        var field = _utils2.default.getField(filterValue[0], options.columns);\r\n        var fieldText = field.caption || \"\";\r\n        var value = filterValue[2];\r\n        if (customOperation) {\r\n            operationText = customOperation.caption || _inflector2.default.captionize(customOperation.name)\r\n        } else {\r\n            if (null === value) {\r\n                operationText = _utils2.default.getCaptionByOperation(\"=\" === operation ? \"isblank\" : \"isnotblank\", options.filterOperationDescriptions)\r\n            } else {\r\n                operationText = _utils2.default.getCaptionByOperation(operation, options.filterOperationDescriptions)\r\n            }\r\n        }\r\n        this._getValueText(field, customOperation, value).done(function(valueText) {\r\n            deferred.resolve(that._getConditionText(fieldText, operationText, valueText))\r\n        });\r\n        return deferred\r\n    },\r\n    getGroupText: function(filterValue, options, isInnerGroup) {\r\n        var that = this;\r\n        var result = new _deferred.Deferred;\r\n        var textParts = [];\r\n        var groupValue = _utils2.default.getGroupValue(filterValue);\r\n        filterValue.forEach(function(item) {\r\n            if (_utils2.default.isCondition(item)) {\r\n                textParts.push(that.getConditionText(item, options))\r\n            } else {\r\n                if (_utils2.default.isGroup(item)) {\r\n                    textParts.push(that.getGroupText(item, options, true))\r\n                }\r\n            }\r\n        });\r\n        _deferred.when.apply(this, textParts).done(function() {\r\n            var text;\r\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n                args[_key] = arguments[_key]\r\n            }\r\n            if (\"!\" === groupValue[0]) {\r\n                var groupText = options.groupOperationDescriptions[\"not\" + groupValue.substring(1, 2).toUpperCase() + groupValue.substring(2)].split(\" \");\r\n                text = \"\".concat(groupText[0], \" \").concat(args[0])\r\n            } else {\r\n                text = args.join(\" \".concat(options.groupOperationDescriptions[groupValue], \" \"))\r\n            }\r\n            if (isInnerGroup) {\r\n                text = \"(\".concat(text, \")\")\r\n            }\r\n            result.resolve(text)\r\n        });\r\n        return result\r\n    },\r\n    getFilterText: function(filterValue, customOperations) {\r\n        var that = this;\r\n        var options = {\r\n            customOperations: customOperations,\r\n            columns: that.getController(\"columns\").getFilteringColumns(),\r\n            filterOperationDescriptions: that.option(\"filterBuilder.filterOperationDescriptions\"),\r\n            groupOperationDescriptions: that.option(\"filterBuilder.groupOperationDescriptions\")\r\n        };\r\n        return _utils2.default.isCondition(filterValue) ? that.getConditionText(filterValue, options) : that.getGroupText(filterValue, options)\r\n    }\r\n});\r\nmodule.exports = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterPanel: {\r\n                visible: false,\r\n                filterEnabled: true,\r\n                texts: {\r\n                    createFilter: _message2.default.format(\"dxDataGrid-filterPanelCreateFilter\"),\r\n                    clearFilter: _message2.default.format(\"dxDataGrid-filterPanelClearFilter\"),\r\n                    filterEnabledHint: _message2.default.format(\"dxDataGrid-filterPanelFilterEnabledHint\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    views: {\r\n        filterPanelView: FilterPanelView\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                optionChanged: function(args) {\r\n                    switch (args.name) {\r\n                        case \"filterPanel\":\r\n                            this._applyFilter();\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}