{"ast":null,"code":"/**\r\n * DevExtreme (viz/sankey/graph.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar WHITE = \"white\";\nvar GRAY = \"gray\";\nvar BLACK = \"black\";\nvar routines = {\n  maxOfArray: function maxOfArray(arr, callback) {\n    var m = 0;\n\n    var callback_function = function callback_function(v) {\n      return v;\n    };\n\n    if (callback) {\n      callback_function = callback;\n    }\n\n    for (var i = 0; i < arr.length; i++) {\n      if (callback_function(arr[i]) > m) {\n        m = callback_function(arr[i]);\n      }\n    }\n\n    return m;\n  }\n};\n\nvar getVertices = function getVertices(links) {\n  var vert = [];\n  links.forEach(function (link) {\n    if (vert.indexOf(link[0]) === -1) {\n      vert.push(link[0]);\n    }\n\n    if (vert.indexOf(link[1]) === -1) {\n      vert.push(link[1]);\n    }\n  });\n  return vert;\n};\n\nvar getAdjacentVertices = function getAdjacentVertices(links, vertex) {\n  var avert = [];\n  links.forEach(function (link) {\n    if (link[0] === vertex && avert.indexOf(link[1]) === -1) {\n      avert.push(link[1]);\n    }\n  });\n  return avert;\n};\n\nvar getReverseAdjacentVertices = function getReverseAdjacentVertices(links, vertex) {\n  var avert = [];\n  links.forEach(function (link) {\n    if (link[1] === vertex && avert.indexOf(link[0]) === -1) {\n      avert.push(link[0]);\n    }\n  });\n  return avert;\n};\n\nvar struct = {\n  _hasCycle: false,\n  _sortedList: [],\n  hasCycle: function hasCycle(links) {\n    var _this = this;\n\n    this._hasCycle = false;\n    this._sortedList = [];\n    var vertices = {};\n    var allVertices = getVertices(links);\n    allVertices.forEach(function (vertex) {\n      vertices[vertex] = {\n        color: WHITE\n      };\n    });\n    allVertices.forEach(function (vertex) {\n      if (vertices[vertex].color === WHITE) {\n        _this._depthFirstSearch(links, vertices, vertex);\n      }\n    });\n\n    this._sortedList.reverse();\n\n    return this._hasCycle;\n  },\n  _depthFirstSearch: function _depthFirstSearch(links, vertices, vertex) {\n    vertices[vertex].color = GRAY;\n    var averts = getAdjacentVertices(links, vertex);\n\n    for (var a = 0; a < averts.length; a++) {\n      if (vertices[averts[a]].color === WHITE) {\n        this._depthFirstSearch(links, vertices, averts[a]);\n      } else {\n        if (vertices[averts[a]].color === GRAY) {\n          this._hasCycle = true;\n        }\n      }\n    }\n\n    this._sortedList.push({\n      name: vertex,\n      lp: null,\n      incoming: getReverseAdjacentVertices(links, vertex),\n      outgoing: getAdjacentVertices(links, vertex)\n    });\n\n    vertices[vertex].color = BLACK;\n  },\n  computeLongestPaths: function computeLongestPaths(links) {\n    var sortedVertices = this._sortedList;\n    sortedVertices.forEach(function (vertex) {\n      var averts = getReverseAdjacentVertices(links, vertex.name);\n\n      if (0 === averts.length) {\n        vertex.lp = 0;\n      } else {\n        var maxLP = [];\n        averts.forEach(function (adjacentVertex) {\n          maxLP.push(sortedVertices.filter(function (sv) {\n            return sv.name === adjacentVertex;\n          })[0].lp);\n        });\n        vertex.lp = routines.maxOfArray(maxLP) + 1;\n      }\n    });\n    return this._sortedList;\n  }\n};\nmodule.exports = {\n  struct: struct,\n  routines: routines,\n  getVertices: getVertices,\n  getAdjacentVertices: getAdjacentVertices,\n  getReverseAdjacentVertices: getReverseAdjacentVertices\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/sankey/graph.js"],"names":["WHITE","GRAY","BLACK","routines","maxOfArray","m","callback_function","i","arr","getVertices","vert","links","link","getAdjacentVertices","avert","getReverseAdjacentVertices","struct","_hasCycle","_sortedList","hasCycle","_this","vertices","allVertices","color","_depthFirstSearch","averts","a","name","lp","incoming","outgoing","computeLongestPaths","sortedVertices","vertex","maxLP","sv","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/sankey/graph.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar WHITE = \"white\";\r\nvar GRAY = \"gray\";\r\nvar BLACK = \"black\";\r\nvar routines = {\r\n    maxOfArray: function(arr, callback) {\r\n        var m = 0;\r\n        var callback_function = function(v) {\r\n            return v\r\n        };\r\n        if (callback) {\r\n            callback_function = callback\r\n        }\r\n        for (var i = 0; i < arr.length; i++) {\r\n            if (callback_function(arr[i]) > m) {\r\n                m = callback_function(arr[i])\r\n            }\r\n        }\r\n        return m\r\n    }\r\n};\r\nvar getVertices = function(links) {\r\n    var vert = [];\r\n    links.forEach(function(link) {\r\n        if (vert.indexOf(link[0]) === -1) {\r\n            vert.push(link[0])\r\n        }\r\n        if (vert.indexOf(link[1]) === -1) {\r\n            vert.push(link[1])\r\n        }\r\n    });\r\n    return vert\r\n};\r\nvar getAdjacentVertices = function(links, vertex) {\r\n    var avert = [];\r\n    links.forEach(function(link) {\r\n        if (link[0] === vertex && avert.indexOf(link[1]) === -1) {\r\n            avert.push(link[1])\r\n        }\r\n    });\r\n    return avert\r\n};\r\nvar getReverseAdjacentVertices = function(links, vertex) {\r\n    var avert = [];\r\n    links.forEach(function(link) {\r\n        if (link[1] === vertex && avert.indexOf(link[0]) === -1) {\r\n            avert.push(link[0])\r\n        }\r\n    });\r\n    return avert\r\n};\r\nvar struct = {\r\n    _hasCycle: false,\r\n    _sortedList: [],\r\n    hasCycle: function(links) {\r\n        var _this = this;\r\n        this._hasCycle = false;\r\n        this._sortedList = [];\r\n        var vertices = {};\r\n        var allVertices = getVertices(links);\r\n        allVertices.forEach(function(vertex) {\r\n            vertices[vertex] = {\r\n                color: WHITE\r\n            }\r\n        });\r\n        allVertices.forEach(function(vertex) {\r\n            if (vertices[vertex].color === WHITE) {\r\n                _this._depthFirstSearch(links, vertices, vertex)\r\n            }\r\n        });\r\n        this._sortedList.reverse();\r\n        return this._hasCycle\r\n    },\r\n    _depthFirstSearch: function(links, vertices, vertex) {\r\n        vertices[vertex].color = GRAY;\r\n        var averts = getAdjacentVertices(links, vertex);\r\n        for (var a = 0; a < averts.length; a++) {\r\n            if (vertices[averts[a]].color === WHITE) {\r\n                this._depthFirstSearch(links, vertices, averts[a])\r\n            } else {\r\n                if (vertices[averts[a]].color === GRAY) {\r\n                    this._hasCycle = true\r\n                }\r\n            }\r\n        }\r\n        this._sortedList.push({\r\n            name: vertex,\r\n            lp: null,\r\n            incoming: getReverseAdjacentVertices(links, vertex),\r\n            outgoing: getAdjacentVertices(links, vertex)\r\n        });\r\n        vertices[vertex].color = BLACK\r\n    },\r\n    computeLongestPaths: function(links) {\r\n        var sortedVertices = this._sortedList;\r\n        sortedVertices.forEach(function(vertex) {\r\n            var averts = getReverseAdjacentVertices(links, vertex.name);\r\n            if (0 === averts.length) {\r\n                vertex.lp = 0\r\n            } else {\r\n                var maxLP = [];\r\n                averts.forEach(function(adjacentVertex) {\r\n                    maxLP.push(sortedVertices.filter(function(sv) {\r\n                        return sv.name === adjacentVertex\r\n                    })[0].lp)\r\n                });\r\n                vertex.lp = routines.maxOfArray(maxLP) + 1\r\n            }\r\n        });\r\n        return this._sortedList\r\n    }\r\n};\r\nmodule.exports = {\r\n    struct: struct,\r\n    routines: routines,\r\n    getVertices: getVertices,\r\n    getAdjacentVertices: getAdjacentVertices,\r\n    getReverseAdjacentVertices: getReverseAdjacentVertices\r\n};\r\n"]},"metadata":{},"sourceType":"module"}