{"ast":null,"code":"/**\r\n * DevExtreme (ui/text_box/ui.text_editor.mask.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar caret = require(\"./utils.caret\");\n\nvar devices = require(\"../../core/devices\");\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar eventUtils = require(\"../../events/utils\");\n\nvar eventsEngine = require(\"../../events/core/events_engine\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar focused = require(\"../widget/selectors\").focused;\n\nvar isDefined = require(\"../../core/utils/type\").isDefined;\n\nvar messageLocalization = require(\"../../localization/message\");\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar stringUtils = require(\"../../core/utils/string\");\n\nvar wheelEvent = require(\"../../events/core/wheel\");\n\nvar MaskRules = require(\"./ui.text_editor.mask.rule\");\n\nvar TextEditorBase = require(\"./ui.text_editor.base\");\n\nvar DefaultMaskStrategy = require(\"./ui.text_editor.mask.strategy.default\").default;\n\nvar AndroidMaskStrategy = require(\"./ui.text_editor.mask.strategy.android\").default;\n\nvar stubCaret = function stubCaret() {\n  return {};\n};\n\nvar EMPTY_CHAR = \" \";\nvar ESCAPED_CHAR = \"\\\\\";\nvar TEXTEDITOR_MASKED_CLASS = \"dx-texteditor-masked\";\nvar FORWARD_DIRECTION = \"forward\";\nvar BACKWARD_DIRECTION = \"backward\";\nvar buildInMaskRules = {\n  0: /[0-9]/,\n  9: /[0-9\\s]/,\n  \"#\": /[-+0-9\\s]/,\n  L: function L(char) {\n    return isLiteralChar(char);\n  },\n  l: function l(char) {\n    return isLiteralChar(char) || isSpaceChar(char);\n  },\n  C: /\\S/,\n  c: /./,\n  A: function A(char) {\n    return isLiteralChar(char) || isNumericChar(char);\n  },\n  a: function a(char) {\n    return isLiteralChar(char) || isNumericChar(char) || isSpaceChar(char);\n  }\n};\n\nvar isNumericChar = function isNumericChar(char) {\n  return /[0-9]/.test(char);\n};\n\nvar isLiteralChar = function isLiteralChar(char) {\n  var code = char.charCodeAt();\n  return 64 < code && code < 91 || 96 < code && code < 123 || code > 127;\n};\n\nvar isSpaceChar = function isSpaceChar(char) {\n  return \" \" === char;\n};\n\nvar TextEditorMask = TextEditorBase.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      mask: \"\",\n      maskChar: \"_\",\n      maskRules: {},\n      maskInvalidMessage: messageLocalization.format(\"validation-mask\"),\n      useMaskedValue: false,\n      showMaskMode: \"always\"\n    });\n  },\n  _supportedKeys: function _supportedKeys() {\n    var that = this;\n    var keyHandlerMap = {\n      backspace: that._maskStrategy.getHandler(\"backspace\"),\n      del: that._maskStrategy.getHandler(\"del\"),\n      enter: that._changeHandler\n    };\n    var result = that.callBase();\n    each(keyHandlerMap, function (key, callback) {\n      var parentHandler = result[key];\n\n      result[key] = function (e) {\n        that.option(\"mask\") && callback.call(that, e);\n        parentHandler && parentHandler(e);\n      };\n    });\n    return result;\n  },\n  _getSubmitElement: function _getSubmitElement() {\n    return !this.option(\"mask\") ? this.callBase() : this._$hiddenElement;\n  },\n  _init: function _init() {\n    this.callBase();\n\n    this._initMaskStrategy();\n  },\n  _initMaskStrategy: function _initMaskStrategy() {\n    var device = devices.real();\n    this._maskStrategy = device.android && device.version[0] > 4 ? new AndroidMaskStrategy(this) : new DefaultMaskStrategy(this);\n  },\n  _initMarkup: function _initMarkup() {\n    this._renderHiddenElement();\n\n    this.callBase();\n  },\n  _attachMouseWheelEventHandlers: function _attachMouseWheelEventHandlers() {\n    var hasMouseWheelHandler = this._onMouseWheel !== noop;\n\n    if (!hasMouseWheelHandler) {\n      return;\n    }\n\n    var input = this._input();\n\n    var eventName = eventUtils.addNamespace(wheelEvent.name, this.NAME);\n\n    var mouseWheelAction = this._createAction(function (e) {\n      if (focused(input)) {\n        var dxEvent = e.event;\n\n        this._onMouseWheel(dxEvent);\n\n        dxEvent.preventDefault();\n        dxEvent.stopPropagation();\n      }\n    }.bind(this));\n\n    eventsEngine.off(input, eventName);\n    eventsEngine.on(input, eventName, function (e) {\n      mouseWheelAction({\n        event: e\n      });\n    });\n  },\n  _onMouseWheel: noop,\n  _render: function _render() {\n    this.callBase();\n\n    this._renderMask();\n\n    this._attachMouseWheelEventHandlers();\n  },\n  _renderHiddenElement: function _renderHiddenElement() {\n    if (this.option(\"mask\")) {\n      this._$hiddenElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this._inputWrapper());\n    }\n  },\n  _removeHiddenElement: function _removeHiddenElement() {\n    this._$hiddenElement && this._$hiddenElement.remove();\n  },\n  _renderMask: function _renderMask() {\n    this.$element().removeClass(TEXTEDITOR_MASKED_CLASS);\n    this._maskRulesChain = null;\n\n    this._maskStrategy.detachEvents();\n\n    if (!this.option(\"mask\")) {\n      return;\n    }\n\n    this.$element().addClass(TEXTEDITOR_MASKED_CLASS);\n\n    this._maskStrategy.attachEvents();\n\n    this._parseMask();\n\n    this._renderMaskedValue();\n  },\n  _suppressCaretChanging: function _suppressCaretChanging(callback, args) {\n    var originalCaret = caret;\n    caret = stubCaret;\n\n    try {\n      callback.apply(this, args);\n    } finally {\n      caret = originalCaret;\n    }\n  },\n  _changeHandler: function _changeHandler(e) {\n    var $input = this._input();\n\n    var inputValue = $input.val();\n\n    if (inputValue === this._changedValue) {\n      return;\n    }\n\n    this._changedValue = inputValue;\n    var changeEvent = eventUtils.createEvent(e, {\n      type: \"change\"\n    });\n    eventsEngine.trigger($input, changeEvent);\n  },\n  _parseMask: function _parseMask() {\n    this._maskRules = extend({}, buildInMaskRules, this.option(\"maskRules\"));\n    this._maskRulesChain = this._parseMaskRule(0);\n  },\n  _parseMaskRule: function _parseMaskRule(index) {\n    var mask = this.option(\"mask\");\n\n    if (index >= mask.length) {\n      return new MaskRules.EmptyMaskRule();\n    }\n\n    var currentMaskChar = mask[index];\n    var isEscapedChar = currentMaskChar === ESCAPED_CHAR;\n    var result = isEscapedChar ? new MaskRules.StubMaskRule({\n      maskChar: mask[index + 1]\n    }) : this._getMaskRule(currentMaskChar);\n    result.next(this._parseMaskRule(index + 1 + isEscapedChar));\n    return result;\n  },\n  _getMaskRule: function _getMaskRule(pattern) {\n    var ruleConfig;\n    each(this._maskRules, function (rulePattern, allowedChars) {\n      if (rulePattern === pattern) {\n        ruleConfig = {\n          pattern: rulePattern,\n          allowedChars: allowedChars\n        };\n        return false;\n      }\n    });\n    return isDefined(ruleConfig) ? new MaskRules.MaskRule(extend({\n      maskChar: this.option(\"maskChar\")\n    }, ruleConfig)) : new MaskRules.StubMaskRule({\n      maskChar: pattern\n    });\n  },\n  _renderMaskedValue: function _renderMaskedValue() {\n    if (!this._maskRulesChain) {\n      return;\n    }\n\n    var value = this.option(\"value\") || \"\";\n\n    this._maskRulesChain.clear(this._normalizeChainArguments());\n\n    var chainArgs = {\n      length: value.length\n    };\n    chainArgs[this._isMaskedValueMode() ? \"text\" : \"value\"] = value;\n\n    this._handleChain(chainArgs);\n\n    this._displayMask();\n  },\n  _replaceSelectedText: function _replaceSelectedText(text, selection, char) {\n    if (void 0 === char) {\n      return text;\n    }\n\n    var textBefore = text.slice(0, selection.start);\n    var textAfter = text.slice(selection.end);\n    var edited = textBefore + char + textAfter;\n    return edited;\n  },\n  _isMaskedValueMode: function _isMaskedValueMode() {\n    return this.option(\"useMaskedValue\");\n  },\n  _displayMask: function _displayMask(caret) {\n    caret = caret || this._caret();\n\n    this._renderValue();\n\n    this._caret(caret);\n  },\n  _isValueEmpty: function _isValueEmpty() {\n    return stringUtils.isEmpty(this._value);\n  },\n  _shouldShowMask: function _shouldShowMask() {\n    var showMaskMode = this.option(\"showMaskMode\");\n\n    if (\"onFocus\" === showMaskMode) {\n      return focused(this._input()) || !this._isValueEmpty();\n    }\n\n    return true;\n  },\n  _showMaskPlaceholder: function _showMaskPlaceholder() {\n    if (this._shouldShowMask()) {\n      var text = this._maskRulesChain.text();\n\n      this.option(\"text\", text);\n\n      if (\"onFocus\" === this.option(\"showMaskMode\")) {\n        this._renderDisplayText(text);\n      }\n    }\n  },\n  _renderValue: function _renderValue() {\n    if (this._maskRulesChain) {\n      var text = this._maskRulesChain.text();\n\n      this._showMaskPlaceholder();\n\n      if (this._$hiddenElement) {\n        var value = this._maskRulesChain.value();\n\n        var hiddenElementValue = this._isMaskedValueMode() ? text : value;\n\n        this._$hiddenElement.val(!stringUtils.isEmpty(value) ? hiddenElementValue : \"\");\n      }\n    }\n\n    return this.callBase();\n  },\n  _valueChangeEventHandler: function _valueChangeEventHandler(e) {\n    if (!this._maskRulesChain) {\n      this.callBase.apply(this, arguments);\n      return;\n    }\n\n    this._saveValueChangeEvent(e);\n\n    this.option(\"value\", this._convertToValue().replace(/\\s+$/, \"\"));\n  },\n  _isControlKeyFired: function _isControlKeyFired(e) {\n    return this._isControlKey(eventUtils.normalizeKeyName(e)) || e.ctrlKey || e.metaKey;\n  },\n  _handleChain: function _handleChain(args) {\n    var handledCount = this._maskRulesChain.handle(this._normalizeChainArguments(args));\n\n    this._value = this._maskRulesChain.value();\n    this._textValue = this._maskRulesChain.text();\n    return handledCount;\n  },\n  _normalizeChainArguments: function _normalizeChainArguments(args) {\n    args = args || {};\n    args.index = 0;\n    args.fullText = this._maskRulesChain.text();\n    return args;\n  },\n  _convertToValue: function _convertToValue(text) {\n    if (this._isMaskedValueMode()) {\n      text = this._replaceMaskCharWithEmpty(text || this._textValue || \"\");\n    } else {\n      text = text || this._value || \"\";\n    }\n\n    return text;\n  },\n  _replaceMaskCharWithEmpty: function _replaceMaskCharWithEmpty(text) {\n    return text.replace(new RegExp(this.option(\"maskChar\"), \"g\"), EMPTY_CHAR);\n  },\n  _maskKeyHandler: function _maskKeyHandler(e, keyHandler) {\n    var _this = this;\n\n    if (this.option(\"readOnly\")) {\n      return;\n    }\n\n    this.setForwardDirection();\n    e.preventDefault();\n\n    this._handleSelection();\n\n    var previousText = this._input().val();\n\n    var raiseInputEvent = function raiseInputEvent() {\n      if (previousText !== _this._input().val()) {\n        _this._maskStrategy.runWithoutEventProcessing(function () {\n          return eventsEngine.trigger(_this._input(), \"input\");\n        });\n      }\n    };\n\n    var handled = keyHandler();\n\n    if (handled) {\n      handled.then(raiseInputEvent);\n    } else {\n      this.setForwardDirection();\n\n      this._adjustCaret();\n\n      this._displayMask();\n\n      this._maskRulesChain.reset();\n\n      raiseInputEvent();\n    }\n  },\n  _handleKey: function _handleKey(key, direction) {\n    this._direction(direction || FORWARD_DIRECTION);\n\n    this._adjustCaret(key);\n\n    this._handleKeyChain(key);\n\n    this._moveCaret();\n  },\n  _handleSelection: function _handleSelection() {\n    if (!this._hasSelection()) {\n      return;\n    }\n\n    var caret = this._caret();\n\n    var emptyChars = new Array(caret.end - caret.start + 1).join(EMPTY_CHAR);\n\n    this._handleKeyChain(emptyChars);\n  },\n  _handleKeyChain: function _handleKeyChain(chars) {\n    var caret = this._caret();\n\n    var start = this.isForwardDirection() ? caret.start : caret.start - 1;\n    var end = this.isForwardDirection() ? caret.end : caret.end - 1;\n    var length = start === end ? 1 : end - start;\n\n    this._handleChain({\n      text: chars,\n      start: start,\n      length: length\n    });\n  },\n  _tryMoveCaretBackward: function _tryMoveCaretBackward() {\n    this.setBackwardDirection();\n\n    var currentCaret = this._caret().start;\n\n    this._adjustCaret();\n\n    return !currentCaret || currentCaret !== this._caret().start;\n  },\n  _adjustCaret: function _adjustCaret(char) {\n    var caret = this._maskRulesChain.adjustedCaret(this._caret().start, this.isForwardDirection(), char);\n\n    this._caret({\n      start: caret,\n      end: caret\n    });\n  },\n  _moveCaret: function _moveCaret() {\n    var currentCaret = this._caret().start;\n\n    var maskRuleIndex = currentCaret + (this.isForwardDirection() ? 0 : -1);\n    var caret = this._maskRulesChain.isAccepted(maskRuleIndex) ? currentCaret + (this.isForwardDirection() ? 1 : -1) : currentCaret;\n\n    this._caret({\n      start: caret,\n      end: caret\n    });\n  },\n  _caret: function _caret(position) {\n    var $input = this._input();\n\n    if (!$input.length) {\n      return;\n    }\n\n    if (!arguments.length) {\n      return caret($input);\n    }\n\n    caret($input, position);\n  },\n  _hasSelection: function _hasSelection() {\n    var caret = this._caret();\n\n    return caret.start !== caret.end;\n  },\n  _direction: function _direction(direction) {\n    if (!arguments.length) {\n      return this._typingDirection;\n    }\n\n    this._typingDirection = direction;\n  },\n  setForwardDirection: function setForwardDirection() {\n    this._direction(FORWARD_DIRECTION);\n  },\n  setBackwardDirection: function setBackwardDirection() {\n    this._direction(BACKWARD_DIRECTION);\n  },\n  isForwardDirection: function isForwardDirection() {\n    return this._direction() === FORWARD_DIRECTION;\n  },\n  _clean: function _clean() {\n    this._maskStrategy && this._maskStrategy.clean();\n    this.callBase();\n  },\n  _validateMask: function _validateMask() {\n    if (!this._maskRulesChain) {\n      return;\n    }\n\n    var isValid = stringUtils.isEmpty(this.option(\"value\")) || this._maskRulesChain.isValid(this._normalizeChainArguments());\n\n    this.option({\n      isValid: isValid,\n      validationError: isValid ? null : {\n        editorSpecific: true,\n        message: this.option(\"maskInvalidMessage\")\n      }\n    });\n  },\n  _updateHiddenElement: function _updateHiddenElement() {\n    this._removeHiddenElement();\n\n    if (this.option(\"mask\")) {\n      this._input().removeAttr(\"name\");\n\n      this._renderHiddenElement();\n    }\n\n    this._setSubmitElementName(this.option(\"name\"));\n  },\n  _updateMaskOption: function _updateMaskOption() {\n    this._updateHiddenElement();\n\n    this._renderMask();\n\n    this._validateMask();\n  },\n  _processEmptyMask: function _processEmptyMask(mask) {\n    if (mask) {\n      return;\n    }\n\n    var value = this.option(\"value\");\n    this.option({\n      text: value,\n      isValid: true\n    });\n    this.validationRequest.fire({\n      value: value,\n      editor: this\n    });\n\n    this._renderValue();\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"mask\":\n        this._updateMaskOption();\n\n        this._processEmptyMask(args.value);\n\n        break;\n\n      case \"maskChar\":\n      case \"maskRules\":\n      case \"useMaskedValue\":\n        this._updateMaskOption();\n\n        break;\n\n      case \"value\":\n        this._renderMaskedValue();\n\n        this._validateMask();\n\n        this.callBase(args);\n        this._changedValue = this._input().val();\n        break;\n\n      case \"maskInvalidMessage\":\n        break;\n\n      case \"showMaskMode\":\n        this.option(\"text\", \"\");\n\n        this._renderValue();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n});\nmodule.exports = TextEditorMask;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/text_box/ui.text_editor.mask.js"],"names":["$","require","caret","devices","each","eventUtils","eventsEngine","extend","focused","isDefined","messageLocalization","noop","stringUtils","wheelEvent","MaskRules","TextEditorBase","DefaultMaskStrategy","AndroidMaskStrategy","stubCaret","EMPTY_CHAR","ESCAPED_CHAR","TEXTEDITOR_MASKED_CLASS","FORWARD_DIRECTION","BACKWARD_DIRECTION","buildInMaskRules","L","isLiteralChar","l","isSpaceChar","C","c","A","isNumericChar","a","code","char","TextEditorMask","_getDefaultOptions","mask","maskChar","maskRules","maskInvalidMessage","useMaskedValue","showMaskMode","_supportedKeys","that","keyHandlerMap","backspace","del","enter","_changeHandler","result","parentHandler","callback","_getSubmitElement","_init","_initMaskStrategy","device","_initMarkup","_attachMouseWheelEventHandlers","hasMouseWheelHandler","input","eventName","mouseWheelAction","dxEvent","e","event","_onMouseWheel","_render","_renderHiddenElement","_removeHiddenElement","_renderMask","_suppressCaretChanging","originalCaret","$input","inputValue","changeEvent","type","_parseMask","_parseMaskRule","index","currentMaskChar","isEscapedChar","_getMaskRule","rulePattern","ruleConfig","pattern","allowedChars","_renderMaskedValue","value","chainArgs","length","_replaceSelectedText","textBefore","text","selection","textAfter","edited","_isMaskedValueMode","_displayMask","_isValueEmpty","_shouldShowMask","_showMaskPlaceholder","_renderValue","hiddenElementValue","_valueChangeEventHandler","_isControlKeyFired","_handleChain","handledCount","_normalizeChainArguments","args","_convertToValue","_replaceMaskCharWithEmpty","_maskKeyHandler","_this","previousText","raiseInputEvent","handled","keyHandler","_handleKey","direction","_handleSelection","emptyChars","_handleKeyChain","start","end","_tryMoveCaretBackward","currentCaret","_adjustCaret","_moveCaret","maskRuleIndex","_caret","arguments","_hasSelection","_direction","setForwardDirection","setBackwardDirection","isForwardDirection","_clean","_validateMask","isValid","validationError","editorSpecific","message","_updateHiddenElement","_updateMaskOption","_processEmptyMask","editor","_optionChanged","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/text_box/ui.text_editor.mask.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar caret = require(\"./utils.caret\");\r\nvar devices = require(\"../../core/devices\");\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar eventUtils = require(\"../../events/utils\");\r\nvar eventsEngine = require(\"../../events/core/events_engine\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar focused = require(\"../widget/selectors\").focused;\r\nvar isDefined = require(\"../../core/utils/type\").isDefined;\r\nvar messageLocalization = require(\"../../localization/message\");\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar stringUtils = require(\"../../core/utils/string\");\r\nvar wheelEvent = require(\"../../events/core/wheel\");\r\nvar MaskRules = require(\"./ui.text_editor.mask.rule\");\r\nvar TextEditorBase = require(\"./ui.text_editor.base\");\r\nvar DefaultMaskStrategy = require(\"./ui.text_editor.mask.strategy.default\").default;\r\nvar AndroidMaskStrategy = require(\"./ui.text_editor.mask.strategy.android\").default;\r\nvar stubCaret = function() {\r\n    return {}\r\n};\r\nvar EMPTY_CHAR = \" \";\r\nvar ESCAPED_CHAR = \"\\\\\";\r\nvar TEXTEDITOR_MASKED_CLASS = \"dx-texteditor-masked\";\r\nvar FORWARD_DIRECTION = \"forward\";\r\nvar BACKWARD_DIRECTION = \"backward\";\r\nvar buildInMaskRules = {\r\n    0: /[0-9]/,\r\n    9: /[0-9\\s]/,\r\n    \"#\": /[-+0-9\\s]/,\r\n    L: function(char) {\r\n        return isLiteralChar(char)\r\n    },\r\n    l: function(char) {\r\n        return isLiteralChar(char) || isSpaceChar(char)\r\n    },\r\n    C: /\\S/,\r\n    c: /./,\r\n    A: function(char) {\r\n        return isLiteralChar(char) || isNumericChar(char)\r\n    },\r\n    a: function(char) {\r\n        return isLiteralChar(char) || isNumericChar(char) || isSpaceChar(char)\r\n    }\r\n};\r\nvar isNumericChar = function(char) {\r\n    return /[0-9]/.test(char)\r\n};\r\nvar isLiteralChar = function(char) {\r\n    var code = char.charCodeAt();\r\n    return 64 < code && code < 91 || 96 < code && code < 123 || code > 127\r\n};\r\nvar isSpaceChar = function(char) {\r\n    return \" \" === char\r\n};\r\nvar TextEditorMask = TextEditorBase.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            mask: \"\",\r\n            maskChar: \"_\",\r\n            maskRules: {},\r\n            maskInvalidMessage: messageLocalization.format(\"validation-mask\"),\r\n            useMaskedValue: false,\r\n            showMaskMode: \"always\"\r\n        })\r\n    },\r\n    _supportedKeys: function() {\r\n        var that = this;\r\n        var keyHandlerMap = {\r\n            backspace: that._maskStrategy.getHandler(\"backspace\"),\r\n            del: that._maskStrategy.getHandler(\"del\"),\r\n            enter: that._changeHandler\r\n        };\r\n        var result = that.callBase();\r\n        each(keyHandlerMap, function(key, callback) {\r\n            var parentHandler = result[key];\r\n            result[key] = function(e) {\r\n                that.option(\"mask\") && callback.call(that, e);\r\n                parentHandler && parentHandler(e)\r\n            }\r\n        });\r\n        return result\r\n    },\r\n    _getSubmitElement: function() {\r\n        return !this.option(\"mask\") ? this.callBase() : this._$hiddenElement\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initMaskStrategy()\r\n    },\r\n    _initMaskStrategy: function() {\r\n        var device = devices.real();\r\n        this._maskStrategy = device.android && device.version[0] > 4 ? new AndroidMaskStrategy(this) : new DefaultMaskStrategy(this)\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderHiddenElement();\r\n        this.callBase()\r\n    },\r\n    _attachMouseWheelEventHandlers: function() {\r\n        var hasMouseWheelHandler = this._onMouseWheel !== noop;\r\n        if (!hasMouseWheelHandler) {\r\n            return\r\n        }\r\n        var input = this._input();\r\n        var eventName = eventUtils.addNamespace(wheelEvent.name, this.NAME);\r\n        var mouseWheelAction = this._createAction(function(e) {\r\n            if (focused(input)) {\r\n                var dxEvent = e.event;\r\n                this._onMouseWheel(dxEvent);\r\n                dxEvent.preventDefault();\r\n                dxEvent.stopPropagation()\r\n            }\r\n        }.bind(this));\r\n        eventsEngine.off(input, eventName);\r\n        eventsEngine.on(input, eventName, function(e) {\r\n            mouseWheelAction({\r\n                event: e\r\n            })\r\n        })\r\n    },\r\n    _onMouseWheel: noop,\r\n    _render: function() {\r\n        this.callBase();\r\n        this._renderMask();\r\n        this._attachMouseWheelEventHandlers()\r\n    },\r\n    _renderHiddenElement: function() {\r\n        if (this.option(\"mask\")) {\r\n            this._$hiddenElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this._inputWrapper())\r\n        }\r\n    },\r\n    _removeHiddenElement: function() {\r\n        this._$hiddenElement && this._$hiddenElement.remove()\r\n    },\r\n    _renderMask: function() {\r\n        this.$element().removeClass(TEXTEDITOR_MASKED_CLASS);\r\n        this._maskRulesChain = null;\r\n        this._maskStrategy.detachEvents();\r\n        if (!this.option(\"mask\")) {\r\n            return\r\n        }\r\n        this.$element().addClass(TEXTEDITOR_MASKED_CLASS);\r\n        this._maskStrategy.attachEvents();\r\n        this._parseMask();\r\n        this._renderMaskedValue()\r\n    },\r\n    _suppressCaretChanging: function(callback, args) {\r\n        var originalCaret = caret;\r\n        caret = stubCaret;\r\n        try {\r\n            callback.apply(this, args)\r\n        } finally {\r\n            caret = originalCaret\r\n        }\r\n    },\r\n    _changeHandler: function(e) {\r\n        var $input = this._input();\r\n        var inputValue = $input.val();\r\n        if (inputValue === this._changedValue) {\r\n            return\r\n        }\r\n        this._changedValue = inputValue;\r\n        var changeEvent = eventUtils.createEvent(e, {\r\n            type: \"change\"\r\n        });\r\n        eventsEngine.trigger($input, changeEvent)\r\n    },\r\n    _parseMask: function() {\r\n        this._maskRules = extend({}, buildInMaskRules, this.option(\"maskRules\"));\r\n        this._maskRulesChain = this._parseMaskRule(0)\r\n    },\r\n    _parseMaskRule: function(index) {\r\n        var mask = this.option(\"mask\");\r\n        if (index >= mask.length) {\r\n            return new MaskRules.EmptyMaskRule\r\n        }\r\n        var currentMaskChar = mask[index];\r\n        var isEscapedChar = currentMaskChar === ESCAPED_CHAR;\r\n        var result = isEscapedChar ? new MaskRules.StubMaskRule({\r\n            maskChar: mask[index + 1]\r\n        }) : this._getMaskRule(currentMaskChar);\r\n        result.next(this._parseMaskRule(index + 1 + isEscapedChar));\r\n        return result\r\n    },\r\n    _getMaskRule: function(pattern) {\r\n        var ruleConfig;\r\n        each(this._maskRules, function(rulePattern, allowedChars) {\r\n            if (rulePattern === pattern) {\r\n                ruleConfig = {\r\n                    pattern: rulePattern,\r\n                    allowedChars: allowedChars\r\n                };\r\n                return false\r\n            }\r\n        });\r\n        return isDefined(ruleConfig) ? new MaskRules.MaskRule(extend({\r\n            maskChar: this.option(\"maskChar\")\r\n        }, ruleConfig)) : new MaskRules.StubMaskRule({\r\n            maskChar: pattern\r\n        })\r\n    },\r\n    _renderMaskedValue: function() {\r\n        if (!this._maskRulesChain) {\r\n            return\r\n        }\r\n        var value = this.option(\"value\") || \"\";\r\n        this._maskRulesChain.clear(this._normalizeChainArguments());\r\n        var chainArgs = {\r\n            length: value.length\r\n        };\r\n        chainArgs[this._isMaskedValueMode() ? \"text\" : \"value\"] = value;\r\n        this._handleChain(chainArgs);\r\n        this._displayMask()\r\n    },\r\n    _replaceSelectedText: function(text, selection, char) {\r\n        if (void 0 === char) {\r\n            return text\r\n        }\r\n        var textBefore = text.slice(0, selection.start);\r\n        var textAfter = text.slice(selection.end);\r\n        var edited = textBefore + char + textAfter;\r\n        return edited\r\n    },\r\n    _isMaskedValueMode: function() {\r\n        return this.option(\"useMaskedValue\")\r\n    },\r\n    _displayMask: function(caret) {\r\n        caret = caret || this._caret();\r\n        this._renderValue();\r\n        this._caret(caret)\r\n    },\r\n    _isValueEmpty: function() {\r\n        return stringUtils.isEmpty(this._value)\r\n    },\r\n    _shouldShowMask: function() {\r\n        var showMaskMode = this.option(\"showMaskMode\");\r\n        if (\"onFocus\" === showMaskMode) {\r\n            return focused(this._input()) || !this._isValueEmpty()\r\n        }\r\n        return true\r\n    },\r\n    _showMaskPlaceholder: function() {\r\n        if (this._shouldShowMask()) {\r\n            var text = this._maskRulesChain.text();\r\n            this.option(\"text\", text);\r\n            if (\"onFocus\" === this.option(\"showMaskMode\")) {\r\n                this._renderDisplayText(text)\r\n            }\r\n        }\r\n    },\r\n    _renderValue: function() {\r\n        if (this._maskRulesChain) {\r\n            var text = this._maskRulesChain.text();\r\n            this._showMaskPlaceholder();\r\n            if (this._$hiddenElement) {\r\n                var value = this._maskRulesChain.value();\r\n                var hiddenElementValue = this._isMaskedValueMode() ? text : value;\r\n                this._$hiddenElement.val(!stringUtils.isEmpty(value) ? hiddenElementValue : \"\")\r\n            }\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _valueChangeEventHandler: function(e) {\r\n        if (!this._maskRulesChain) {\r\n            this.callBase.apply(this, arguments);\r\n            return\r\n        }\r\n        this._saveValueChangeEvent(e);\r\n        this.option(\"value\", this._convertToValue().replace(/\\s+$/, \"\"))\r\n    },\r\n    _isControlKeyFired: function(e) {\r\n        return this._isControlKey(eventUtils.normalizeKeyName(e)) || e.ctrlKey || e.metaKey\r\n    },\r\n    _handleChain: function(args) {\r\n        var handledCount = this._maskRulesChain.handle(this._normalizeChainArguments(args));\r\n        this._value = this._maskRulesChain.value();\r\n        this._textValue = this._maskRulesChain.text();\r\n        return handledCount\r\n    },\r\n    _normalizeChainArguments: function(args) {\r\n        args = args || {};\r\n        args.index = 0;\r\n        args.fullText = this._maskRulesChain.text();\r\n        return args\r\n    },\r\n    _convertToValue: function(text) {\r\n        if (this._isMaskedValueMode()) {\r\n            text = this._replaceMaskCharWithEmpty(text || this._textValue || \"\")\r\n        } else {\r\n            text = text || this._value || \"\"\r\n        }\r\n        return text\r\n    },\r\n    _replaceMaskCharWithEmpty: function(text) {\r\n        return text.replace(new RegExp(this.option(\"maskChar\"), \"g\"), EMPTY_CHAR)\r\n    },\r\n    _maskKeyHandler: function(e, keyHandler) {\r\n        var _this = this;\r\n        if (this.option(\"readOnly\")) {\r\n            return\r\n        }\r\n        this.setForwardDirection();\r\n        e.preventDefault();\r\n        this._handleSelection();\r\n        var previousText = this._input().val();\r\n        var raiseInputEvent = function() {\r\n            if (previousText !== _this._input().val()) {\r\n                _this._maskStrategy.runWithoutEventProcessing(function() {\r\n                    return eventsEngine.trigger(_this._input(), \"input\")\r\n                })\r\n            }\r\n        };\r\n        var handled = keyHandler();\r\n        if (handled) {\r\n            handled.then(raiseInputEvent)\r\n        } else {\r\n            this.setForwardDirection();\r\n            this._adjustCaret();\r\n            this._displayMask();\r\n            this._maskRulesChain.reset();\r\n            raiseInputEvent()\r\n        }\r\n    },\r\n    _handleKey: function(key, direction) {\r\n        this._direction(direction || FORWARD_DIRECTION);\r\n        this._adjustCaret(key);\r\n        this._handleKeyChain(key);\r\n        this._moveCaret()\r\n    },\r\n    _handleSelection: function() {\r\n        if (!this._hasSelection()) {\r\n            return\r\n        }\r\n        var caret = this._caret();\r\n        var emptyChars = new Array(caret.end - caret.start + 1).join(EMPTY_CHAR);\r\n        this._handleKeyChain(emptyChars)\r\n    },\r\n    _handleKeyChain: function(chars) {\r\n        var caret = this._caret();\r\n        var start = this.isForwardDirection() ? caret.start : caret.start - 1;\r\n        var end = this.isForwardDirection() ? caret.end : caret.end - 1;\r\n        var length = start === end ? 1 : end - start;\r\n        this._handleChain({\r\n            text: chars,\r\n            start: start,\r\n            length: length\r\n        })\r\n    },\r\n    _tryMoveCaretBackward: function() {\r\n        this.setBackwardDirection();\r\n        var currentCaret = this._caret().start;\r\n        this._adjustCaret();\r\n        return !currentCaret || currentCaret !== this._caret().start\r\n    },\r\n    _adjustCaret: function(char) {\r\n        var caret = this._maskRulesChain.adjustedCaret(this._caret().start, this.isForwardDirection(), char);\r\n        this._caret({\r\n            start: caret,\r\n            end: caret\r\n        })\r\n    },\r\n    _moveCaret: function() {\r\n        var currentCaret = this._caret().start;\r\n        var maskRuleIndex = currentCaret + (this.isForwardDirection() ? 0 : -1);\r\n        var caret = this._maskRulesChain.isAccepted(maskRuleIndex) ? currentCaret + (this.isForwardDirection() ? 1 : -1) : currentCaret;\r\n        this._caret({\r\n            start: caret,\r\n            end: caret\r\n        })\r\n    },\r\n    _caret: function(position) {\r\n        var $input = this._input();\r\n        if (!$input.length) {\r\n            return\r\n        }\r\n        if (!arguments.length) {\r\n            return caret($input)\r\n        }\r\n        caret($input, position)\r\n    },\r\n    _hasSelection: function() {\r\n        var caret = this._caret();\r\n        return caret.start !== caret.end\r\n    },\r\n    _direction: function(direction) {\r\n        if (!arguments.length) {\r\n            return this._typingDirection\r\n        }\r\n        this._typingDirection = direction\r\n    },\r\n    setForwardDirection: function() {\r\n        this._direction(FORWARD_DIRECTION)\r\n    },\r\n    setBackwardDirection: function() {\r\n        this._direction(BACKWARD_DIRECTION)\r\n    },\r\n    isForwardDirection: function() {\r\n        return this._direction() === FORWARD_DIRECTION\r\n    },\r\n    _clean: function() {\r\n        this._maskStrategy && this._maskStrategy.clean();\r\n        this.callBase()\r\n    },\r\n    _validateMask: function() {\r\n        if (!this._maskRulesChain) {\r\n            return\r\n        }\r\n        var isValid = stringUtils.isEmpty(this.option(\"value\")) || this._maskRulesChain.isValid(this._normalizeChainArguments());\r\n        this.option({\r\n            isValid: isValid,\r\n            validationError: isValid ? null : {\r\n                editorSpecific: true,\r\n                message: this.option(\"maskInvalidMessage\")\r\n            }\r\n        })\r\n    },\r\n    _updateHiddenElement: function() {\r\n        this._removeHiddenElement();\r\n        if (this.option(\"mask\")) {\r\n            this._input().removeAttr(\"name\");\r\n            this._renderHiddenElement()\r\n        }\r\n        this._setSubmitElementName(this.option(\"name\"))\r\n    },\r\n    _updateMaskOption: function() {\r\n        this._updateHiddenElement();\r\n        this._renderMask();\r\n        this._validateMask()\r\n    },\r\n    _processEmptyMask: function(mask) {\r\n        if (mask) {\r\n            return\r\n        }\r\n        var value = this.option(\"value\");\r\n        this.option({\r\n            text: value,\r\n            isValid: true\r\n        });\r\n        this.validationRequest.fire({\r\n            value: value,\r\n            editor: this\r\n        });\r\n        this._renderValue()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"mask\":\r\n                this._updateMaskOption();\r\n                this._processEmptyMask(args.value);\r\n                break;\r\n            case \"maskChar\":\r\n            case \"maskRules\":\r\n            case \"useMaskedValue\":\r\n                this._updateMaskOption();\r\n                break;\r\n            case \"value\":\r\n                this._renderMaskedValue();\r\n                this._validateMask();\r\n                this.callBase(args);\r\n                this._changedValue = this._input().val();\r\n                break;\r\n            case \"maskInvalidMessage\":\r\n                break;\r\n            case \"showMaskMode\":\r\n                this.option(\"text\", \"\");\r\n                this._renderValue();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nmodule.exports = TextEditorMask;\r\n"]},"metadata":{},"sourceType":"module"}