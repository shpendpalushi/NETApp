{"ast":null,"code":"/**\r\n * DevExtreme (ui/color_box/color_box.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar eventsEngine = require(\"../../events/core/events_engine\");\n\nvar Color = require(\"../../color\");\n\nvar ColorView = require(\"./color_view\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar isFunction = require(\"../../core/utils/type\").isFunction;\n\nvar registerComponent = require(\"../../core/component_registrator\");\n\nvar DropDownEditor = require(\"../drop_down_editor/ui.drop_down_editor\");\n\nvar COLOR_BOX_CLASS = \"dx-colorbox\";\nvar COLOR_BOX_INPUT_CLASS = COLOR_BOX_CLASS + \"-input\";\nvar COLOR_BOX_INPUT_CONTAINER_CLASS = COLOR_BOX_INPUT_CLASS + \"-container\";\nvar COLOR_BOX_COLOR_RESULT_PREVIEW_CLASS = COLOR_BOX_CLASS + \"-color-result-preview\";\nvar COLOR_BOX_COLOR_IS_NOT_DEFINED = COLOR_BOX_CLASS + \"-color-is-not-defined\";\nvar COLOR_BOX_OVERLAY_CLASS = COLOR_BOX_CLASS + \"-overlay\";\nvar COLOR_BOX_CONTAINER_CELL_CLASS = \"dx-colorview-container-cell\";\nvar COLOR_BOX_BUTTON_CELL_CLASS = \"dx-colorview-button-cell\";\nvar COLOR_BOX_BUTTONS_CONTAINER_CLASS = \"dx-colorview-buttons-container\";\nvar COLOR_BOX_APPLY_BUTTON_CLASS = \"dx-colorview-apply-button\";\nvar COLOR_BOX_CANCEL_BUTTON_CLASS = \"dx-colorview-cancel-button\";\nvar colorEditorPrototype = ColorView.prototype;\nvar colorUtils = {\n  makeTransparentBackground: colorEditorPrototype._makeTransparentBackground.bind(colorEditorPrototype),\n  makeRgba: colorEditorPrototype._makeRgba.bind(colorEditorPrototype)\n};\nvar ColorBox = DropDownEditor.inherit({\n  _supportedKeys: function _supportedKeys() {\n    var arrowHandler = function arrowHandler(e) {\n      e.stopPropagation();\n\n      if (this.option(\"opened\")) {\n        e.preventDefault();\n        return true;\n      }\n    };\n\n    var upArrowHandler = function upArrowHandler(e) {\n      if (!this.option(\"opened\")) {\n        e.preventDefault();\n        return false;\n      }\n\n      if (e.altKey) {\n        this.close();\n        return false;\n      }\n\n      return true;\n    };\n\n    var downArrowHandler = function downArrowHandler(e) {\n      if (!this.option(\"opened\") && !e.altKey) {\n        e.preventDefault();\n        return false;\n      }\n\n      if (!this.option(\"opened\") && e.altKey) {\n        this._validatedOpening();\n\n        return false;\n      }\n\n      return true;\n    };\n\n    return extend(this.callBase(), {\n      tab: function tab(e) {\n        if (this.option(\"opened\")) {\n          e.preventDefault();\n\n          this._colorView._rgbInputs[0].focus();\n        }\n      },\n      enter: this._enterKeyHandler,\n      leftArrow: arrowHandler,\n      rightArrow: arrowHandler,\n      upArrow: upArrowHandler,\n      downArrow: downArrowHandler\n    });\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      editAlphaChannel: false,\n      applyValueMode: \"useButtons\",\n      keyStep: 1,\n      fieldTemplate: null,\n      onApplyButtonClick: null,\n      onCancelButtonClick: null,\n      buttonsLocation: \"bottom after\"\n    });\n  },\n  _popupHidingHandler: function _popupHidingHandler() {\n    this.callBase();\n\n    if (\"useButtons\" === this.option(\"applyValueMode\")) {\n      this._updateColorViewValue(this.option(\"value\"));\n    }\n  },\n  _popupConfig: function _popupConfig() {\n    return extend(this.callBase(), {\n      height: \"auto\",\n      width: \"\"\n    });\n  },\n  _contentReadyHandler: function _contentReadyHandler() {\n    this._createColorView();\n\n    this._addPopupBottomClasses();\n  },\n  _addPopupBottomClasses: function _addPopupBottomClasses() {\n    var $popupBottom = this._popup.bottomToolbar();\n\n    if ($popupBottom) {\n      $popupBottom.addClass(COLOR_BOX_CONTAINER_CELL_CLASS).addClass(COLOR_BOX_BUTTON_CELL_CLASS).find(\".dx-toolbar-items-container\").addClass(COLOR_BOX_BUTTONS_CONTAINER_CLASS);\n      $popupBottom.find(\".dx-popup-done\").addClass(COLOR_BOX_APPLY_BUTTON_CLASS);\n      $popupBottom.find(\".dx-popup-cancel\").addClass(COLOR_BOX_CANCEL_BUTTON_CLASS);\n    }\n  },\n  _createColorView: function _createColorView() {\n    this._popup.overlayContent().addClass(COLOR_BOX_OVERLAY_CLASS);\n\n    var $colorView = $(\"<div>\").appendTo(this._popup.$content());\n    this._colorView = this._createComponent($colorView, ColorView, this._colorViewConfig());\n\n    this._colorView.registerKeyHandler(\"escape\", this._escapeHandler.bind(this));\n\n    eventsEngine.on($colorView, \"focus\", function () {\n      this.focus();\n    }.bind(this));\n  },\n  _escapeHandler: function _escapeHandler() {\n    this.close();\n    this.focus();\n  },\n  _applyNewColor: function _applyNewColor(value) {\n    this.option(\"value\", value);\n\n    if (value) {\n      colorUtils.makeTransparentBackground(this._$colorResultPreview, value);\n    }\n\n    if (this._colorViewEnterKeyPressed) {\n      this.close();\n      this._colorViewEnterKeyPressed = false;\n    }\n  },\n  _colorViewConfig: function _colorViewConfig() {\n    var that = this;\n    return {\n      value: that.option(\"value\"),\n      matchValue: that.option(\"value\"),\n      editAlphaChannel: that.option(\"editAlphaChannel\"),\n      applyValueMode: that.option(\"applyValueMode\"),\n      focusStateEnabled: that.option(\"focusStateEnabled\"),\n      stylingMode: this.option(\"stylingMode\"),\n      onEnterKeyPressed: function onEnterKeyPressed() {\n        that._colorViewEnterKeyPressed = true;\n\n        if (that._colorView.option(\"value\") !== that.option(\"value\")) {\n          that._applyNewColor(that._colorView.option(\"value\"));\n\n          that.close();\n        }\n      },\n      onValueChanged: function onValueChanged(args) {\n        if (colorUtils.makeRgba(args.value) === args.previousValue) {\n          return;\n        }\n\n        var instantlyMode = \"instantly\" === that.option(\"applyValueMode\");\n\n        if (!instantlyMode && !that._colorViewEnterKeyPressed) {\n          return;\n        }\n\n        that._applyNewColor(args.value);\n      },\n      _keyboardProcessor: that._colorViewProcessor\n    };\n  },\n  _enterKeyHandler: function _enterKeyHandler() {\n    var newValue = this._input().val();\n\n    var value = this.option(\"value\");\n    var oldValue = this.option(\"editAlphaChannel\") ? colorUtils.makeRgba(value) : value;\n\n    if (!newValue) {\n      return false;\n    }\n\n    var color = new Color(newValue);\n\n    if (color.colorIsInvalid) {\n      this._input().val(oldValue);\n\n      return;\n    }\n\n    if (newValue !== oldValue) {\n      this._applyColorFromInput(newValue);\n\n      this.option(\"value\", this.option(\"editAlphaChannel\") ? colorUtils.makeRgba(newValue) : newValue);\n    }\n\n    if (this._colorView) {\n      var colorViewValue = this._colorView.option(\"value\");\n\n      if (value !== colorViewValue) {\n        this.option(\"value\", colorViewValue);\n      }\n    }\n\n    this.close();\n    return false;\n  },\n  _applyButtonHandler: function _applyButtonHandler() {\n    this._applyNewColor(this._colorView.option(\"value\"));\n\n    if (isFunction(this.option(\"onApplyButtonClick\"))) {\n      this.option(\"onApplyButtonClick\")();\n    }\n\n    this.callBase();\n  },\n  _cancelButtonHandler: function _cancelButtonHandler() {\n    this._resetInputValue();\n\n    if (isFunction(this.option(\"onCancelButtonClick\"))) {\n      this.option(\"onCancelButtonClick\")();\n    }\n\n    this.callBase();\n  },\n  _attachChildKeyboardEvents: function _attachChildKeyboardEvents() {\n    this._colorViewProcessor = this._keyboardProcessor.attachChildProcessor();\n\n    if (this._colorView) {\n      this._colorView.option(\"_keyboardProcessor\", this._colorViewProcessor);\n\n      return;\n    }\n  },\n  _init: function _init() {\n    this.callBase();\n  },\n  _initMarkup: function _initMarkup() {\n    this.$element().addClass(COLOR_BOX_CLASS);\n    this.callBase();\n  },\n  _renderInput: function _renderInput() {\n    this.callBase();\n\n    this._input().addClass(COLOR_BOX_INPUT_CLASS);\n\n    this._renderColorPreview();\n  },\n  _renderColorPreview: function _renderColorPreview() {\n    this.$element().wrapInner($(\"<div>\").addClass(COLOR_BOX_INPUT_CONTAINER_CLASS));\n    this._$colorBoxInputContainer = this.$element().children().eq(0);\n    this._$colorResultPreview = $(\"<div>\").addClass(COLOR_BOX_COLOR_RESULT_PREVIEW_CLASS).appendTo(this._$textEditorInputContainer);\n\n    if (!this.option(\"value\")) {\n      this._$colorBoxInputContainer.addClass(COLOR_BOX_COLOR_IS_NOT_DEFINED);\n    } else {\n      colorUtils.makeTransparentBackground(this._$colorResultPreview, this.option(\"value\"));\n    }\n  },\n  _renderValue: function _renderValue() {\n    var value = this.option(\"value\");\n    this.option(\"text\", this.option(\"editAlphaChannel\") ? colorUtils.makeRgba(value) : value);\n    return this.callBase();\n  },\n  _resetInputValue: function _resetInputValue() {\n    var $input = this._input();\n\n    var value = this.option(\"value\");\n    $input.val(value);\n\n    this._updateColorViewValue(value);\n  },\n  _updateColorViewValue: function _updateColorViewValue(value) {\n    if (this._colorView) {\n      this._colorView.option({\n        value: value,\n        matchValue: value\n      });\n    }\n  },\n  _valueChangeEventHandler: function _valueChangeEventHandler(e) {\n    var value = this._input().val();\n\n    if (value) {\n      value = this._applyColorFromInput(value);\n\n      this._updateColorViewValue(value);\n    }\n\n    this.callBase(e, value);\n  },\n  _applyColorFromInput: function _applyColorFromInput(value) {\n    var newColor = new Color(value);\n\n    if (newColor.colorIsInvalid) {\n      this._resetInputValue();\n\n      value = this.option(\"value\");\n    }\n\n    return value;\n  },\n  _optionChanged: function _optionChanged(args) {\n    var value = args.value;\n    var name = args.name;\n\n    switch (name) {\n      case \"value\":\n        this._$colorBoxInputContainer.toggleClass(COLOR_BOX_COLOR_IS_NOT_DEFINED, !value);\n\n        if (value) {\n          colorUtils.makeTransparentBackground(this._$colorResultPreview, value);\n        } else {\n          this._$colorResultPreview.removeAttr(\"style\");\n        }\n\n        this._updateColorViewValue(value);\n\n        this.callBase(args);\n        break;\n\n      case \"applyButtonText\":\n      case \"cancelButtonText\":\n        this.callBase(args);\n        this._popup && this._addPopupBottomClasses();\n        break;\n\n      case \"editAlphaChannel\":\n      case \"onCancelButtonClick\":\n      case \"onApplyButtonClick\":\n      case \"keyStep\":\n        if (this._colorView) {\n          this._colorView.option(name, value);\n        }\n\n        break;\n\n      case \"applyValueMode\":\n        this.callBase(args);\n        break;\n\n      case \"rtlEnabled\":\n        if (this._colorView) {\n          this._colorView.option(name, value);\n        }\n\n        this.callBase(args);\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n});\nregisterComponent(\"dxColorBox\", ColorBox);\nmodule.exports = ColorBox;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/color_box/color_box.js"],"names":["$","require","eventsEngine","Color","ColorView","extend","isFunction","registerComponent","DropDownEditor","COLOR_BOX_CLASS","COLOR_BOX_INPUT_CLASS","COLOR_BOX_INPUT_CONTAINER_CLASS","COLOR_BOX_COLOR_RESULT_PREVIEW_CLASS","COLOR_BOX_COLOR_IS_NOT_DEFINED","COLOR_BOX_OVERLAY_CLASS","COLOR_BOX_CONTAINER_CELL_CLASS","COLOR_BOX_BUTTON_CELL_CLASS","COLOR_BOX_BUTTONS_CONTAINER_CLASS","COLOR_BOX_APPLY_BUTTON_CLASS","COLOR_BOX_CANCEL_BUTTON_CLASS","colorEditorPrototype","colorUtils","makeTransparentBackground","makeRgba","ColorBox","_supportedKeys","arrowHandler","e","upArrowHandler","downArrowHandler","tab","enter","leftArrow","rightArrow","upArrow","downArrow","_getDefaultOptions","editAlphaChannel","applyValueMode","keyStep","fieldTemplate","onApplyButtonClick","onCancelButtonClick","buttonsLocation","_popupHidingHandler","_popupConfig","height","width","_contentReadyHandler","_addPopupBottomClasses","$popupBottom","_createColorView","$colorView","_escapeHandler","_applyNewColor","_colorViewConfig","that","value","matchValue","focusStateEnabled","stylingMode","onEnterKeyPressed","onValueChanged","args","instantlyMode","_keyboardProcessor","_colorViewProcessor","_enterKeyHandler","newValue","oldValue","color","colorViewValue","_applyButtonHandler","_cancelButtonHandler","_attachChildKeyboardEvents","_init","_initMarkup","_renderInput","_renderColorPreview","_renderValue","_resetInputValue","$input","_updateColorViewValue","_valueChangeEventHandler","_applyColorFromInput","newColor","_optionChanged","name","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/color_box/color_box.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar eventsEngine = require(\"../../events/core/events_engine\");\r\nvar Color = require(\"../../color\");\r\nvar ColorView = require(\"./color_view\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar isFunction = require(\"../../core/utils/type\").isFunction;\r\nvar registerComponent = require(\"../../core/component_registrator\");\r\nvar DropDownEditor = require(\"../drop_down_editor/ui.drop_down_editor\");\r\nvar COLOR_BOX_CLASS = \"dx-colorbox\";\r\nvar COLOR_BOX_INPUT_CLASS = COLOR_BOX_CLASS + \"-input\";\r\nvar COLOR_BOX_INPUT_CONTAINER_CLASS = COLOR_BOX_INPUT_CLASS + \"-container\";\r\nvar COLOR_BOX_COLOR_RESULT_PREVIEW_CLASS = COLOR_BOX_CLASS + \"-color-result-preview\";\r\nvar COLOR_BOX_COLOR_IS_NOT_DEFINED = COLOR_BOX_CLASS + \"-color-is-not-defined\";\r\nvar COLOR_BOX_OVERLAY_CLASS = COLOR_BOX_CLASS + \"-overlay\";\r\nvar COLOR_BOX_CONTAINER_CELL_CLASS = \"dx-colorview-container-cell\";\r\nvar COLOR_BOX_BUTTON_CELL_CLASS = \"dx-colorview-button-cell\";\r\nvar COLOR_BOX_BUTTONS_CONTAINER_CLASS = \"dx-colorview-buttons-container\";\r\nvar COLOR_BOX_APPLY_BUTTON_CLASS = \"dx-colorview-apply-button\";\r\nvar COLOR_BOX_CANCEL_BUTTON_CLASS = \"dx-colorview-cancel-button\";\r\nvar colorEditorPrototype = ColorView.prototype;\r\nvar colorUtils = {\r\n    makeTransparentBackground: colorEditorPrototype._makeTransparentBackground.bind(colorEditorPrototype),\r\n    makeRgba: colorEditorPrototype._makeRgba.bind(colorEditorPrototype)\r\n};\r\nvar ColorBox = DropDownEditor.inherit({\r\n    _supportedKeys: function() {\r\n        var arrowHandler = function(e) {\r\n            e.stopPropagation();\r\n            if (this.option(\"opened\")) {\r\n                e.preventDefault();\r\n                return true\r\n            }\r\n        };\r\n        var upArrowHandler = function(e) {\r\n            if (!this.option(\"opened\")) {\r\n                e.preventDefault();\r\n                return false\r\n            }\r\n            if (e.altKey) {\r\n                this.close();\r\n                return false\r\n            }\r\n            return true\r\n        };\r\n        var downArrowHandler = function(e) {\r\n            if (!this.option(\"opened\") && !e.altKey) {\r\n                e.preventDefault();\r\n                return false\r\n            }\r\n            if (!this.option(\"opened\") && e.altKey) {\r\n                this._validatedOpening();\r\n                return false\r\n            }\r\n            return true\r\n        };\r\n        return extend(this.callBase(), {\r\n            tab: function(e) {\r\n                if (this.option(\"opened\")) {\r\n                    e.preventDefault();\r\n                    this._colorView._rgbInputs[0].focus()\r\n                }\r\n            },\r\n            enter: this._enterKeyHandler,\r\n            leftArrow: arrowHandler,\r\n            rightArrow: arrowHandler,\r\n            upArrow: upArrowHandler,\r\n            downArrow: downArrowHandler\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            editAlphaChannel: false,\r\n            applyValueMode: \"useButtons\",\r\n            keyStep: 1,\r\n            fieldTemplate: null,\r\n            onApplyButtonClick: null,\r\n            onCancelButtonClick: null,\r\n            buttonsLocation: \"bottom after\"\r\n        })\r\n    },\r\n    _popupHidingHandler: function() {\r\n        this.callBase();\r\n        if (\"useButtons\" === this.option(\"applyValueMode\")) {\r\n            this._updateColorViewValue(this.option(\"value\"))\r\n        }\r\n    },\r\n    _popupConfig: function() {\r\n        return extend(this.callBase(), {\r\n            height: \"auto\",\r\n            width: \"\"\r\n        })\r\n    },\r\n    _contentReadyHandler: function() {\r\n        this._createColorView();\r\n        this._addPopupBottomClasses()\r\n    },\r\n    _addPopupBottomClasses: function() {\r\n        var $popupBottom = this._popup.bottomToolbar();\r\n        if ($popupBottom) {\r\n            $popupBottom.addClass(COLOR_BOX_CONTAINER_CELL_CLASS).addClass(COLOR_BOX_BUTTON_CELL_CLASS).find(\".dx-toolbar-items-container\").addClass(COLOR_BOX_BUTTONS_CONTAINER_CLASS);\r\n            $popupBottom.find(\".dx-popup-done\").addClass(COLOR_BOX_APPLY_BUTTON_CLASS);\r\n            $popupBottom.find(\".dx-popup-cancel\").addClass(COLOR_BOX_CANCEL_BUTTON_CLASS)\r\n        }\r\n    },\r\n    _createColorView: function() {\r\n        this._popup.overlayContent().addClass(COLOR_BOX_OVERLAY_CLASS);\r\n        var $colorView = $(\"<div>\").appendTo(this._popup.$content());\r\n        this._colorView = this._createComponent($colorView, ColorView, this._colorViewConfig());\r\n        this._colorView.registerKeyHandler(\"escape\", this._escapeHandler.bind(this));\r\n        eventsEngine.on($colorView, \"focus\", function() {\r\n            this.focus()\r\n        }.bind(this))\r\n    },\r\n    _escapeHandler: function() {\r\n        this.close();\r\n        this.focus()\r\n    },\r\n    _applyNewColor: function(value) {\r\n        this.option(\"value\", value);\r\n        if (value) {\r\n            colorUtils.makeTransparentBackground(this._$colorResultPreview, value)\r\n        }\r\n        if (this._colorViewEnterKeyPressed) {\r\n            this.close();\r\n            this._colorViewEnterKeyPressed = false\r\n        }\r\n    },\r\n    _colorViewConfig: function() {\r\n        var that = this;\r\n        return {\r\n            value: that.option(\"value\"),\r\n            matchValue: that.option(\"value\"),\r\n            editAlphaChannel: that.option(\"editAlphaChannel\"),\r\n            applyValueMode: that.option(\"applyValueMode\"),\r\n            focusStateEnabled: that.option(\"focusStateEnabled\"),\r\n            stylingMode: this.option(\"stylingMode\"),\r\n            onEnterKeyPressed: function() {\r\n                that._colorViewEnterKeyPressed = true;\r\n                if (that._colorView.option(\"value\") !== that.option(\"value\")) {\r\n                    that._applyNewColor(that._colorView.option(\"value\"));\r\n                    that.close()\r\n                }\r\n            },\r\n            onValueChanged: function(args) {\r\n                if (colorUtils.makeRgba(args.value) === args.previousValue) {\r\n                    return\r\n                }\r\n                var instantlyMode = \"instantly\" === that.option(\"applyValueMode\");\r\n                if (!instantlyMode && !that._colorViewEnterKeyPressed) {\r\n                    return\r\n                }\r\n                that._applyNewColor(args.value)\r\n            },\r\n            _keyboardProcessor: that._colorViewProcessor\r\n        }\r\n    },\r\n    _enterKeyHandler: function() {\r\n        var newValue = this._input().val();\r\n        var value = this.option(\"value\");\r\n        var oldValue = this.option(\"editAlphaChannel\") ? colorUtils.makeRgba(value) : value;\r\n        if (!newValue) {\r\n            return false\r\n        }\r\n        var color = new Color(newValue);\r\n        if (color.colorIsInvalid) {\r\n            this._input().val(oldValue);\r\n            return\r\n        }\r\n        if (newValue !== oldValue) {\r\n            this._applyColorFromInput(newValue);\r\n            this.option(\"value\", this.option(\"editAlphaChannel\") ? colorUtils.makeRgba(newValue) : newValue)\r\n        }\r\n        if (this._colorView) {\r\n            var colorViewValue = this._colorView.option(\"value\");\r\n            if (value !== colorViewValue) {\r\n                this.option(\"value\", colorViewValue)\r\n            }\r\n        }\r\n        this.close();\r\n        return false\r\n    },\r\n    _applyButtonHandler: function() {\r\n        this._applyNewColor(this._colorView.option(\"value\"));\r\n        if (isFunction(this.option(\"onApplyButtonClick\"))) {\r\n            this.option(\"onApplyButtonClick\")()\r\n        }\r\n        this.callBase()\r\n    },\r\n    _cancelButtonHandler: function() {\r\n        this._resetInputValue();\r\n        if (isFunction(this.option(\"onCancelButtonClick\"))) {\r\n            this.option(\"onCancelButtonClick\")()\r\n        }\r\n        this.callBase()\r\n    },\r\n    _attachChildKeyboardEvents: function() {\r\n        this._colorViewProcessor = this._keyboardProcessor.attachChildProcessor();\r\n        if (this._colorView) {\r\n            this._colorView.option(\"_keyboardProcessor\", this._colorViewProcessor);\r\n            return\r\n        }\r\n    },\r\n    _init: function() {\r\n        this.callBase()\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(COLOR_BOX_CLASS);\r\n        this.callBase()\r\n    },\r\n    _renderInput: function() {\r\n        this.callBase();\r\n        this._input().addClass(COLOR_BOX_INPUT_CLASS);\r\n        this._renderColorPreview()\r\n    },\r\n    _renderColorPreview: function() {\r\n        this.$element().wrapInner($(\"<div>\").addClass(COLOR_BOX_INPUT_CONTAINER_CLASS));\r\n        this._$colorBoxInputContainer = this.$element().children().eq(0);\r\n        this._$colorResultPreview = $(\"<div>\").addClass(COLOR_BOX_COLOR_RESULT_PREVIEW_CLASS).appendTo(this._$textEditorInputContainer);\r\n        if (!this.option(\"value\")) {\r\n            this._$colorBoxInputContainer.addClass(COLOR_BOX_COLOR_IS_NOT_DEFINED)\r\n        } else {\r\n            colorUtils.makeTransparentBackground(this._$colorResultPreview, this.option(\"value\"))\r\n        }\r\n    },\r\n    _renderValue: function() {\r\n        var value = this.option(\"value\");\r\n        this.option(\"text\", this.option(\"editAlphaChannel\") ? colorUtils.makeRgba(value) : value);\r\n        return this.callBase()\r\n    },\r\n    _resetInputValue: function() {\r\n        var $input = this._input();\r\n        var value = this.option(\"value\");\r\n        $input.val(value);\r\n        this._updateColorViewValue(value)\r\n    },\r\n    _updateColorViewValue: function(value) {\r\n        if (this._colorView) {\r\n            this._colorView.option({\r\n                value: value,\r\n                matchValue: value\r\n            })\r\n        }\r\n    },\r\n    _valueChangeEventHandler: function(e) {\r\n        var value = this._input().val();\r\n        if (value) {\r\n            value = this._applyColorFromInput(value);\r\n            this._updateColorViewValue(value)\r\n        }\r\n        this.callBase(e, value)\r\n    },\r\n    _applyColorFromInput: function(value) {\r\n        var newColor = new Color(value);\r\n        if (newColor.colorIsInvalid) {\r\n            this._resetInputValue();\r\n            value = this.option(\"value\")\r\n        }\r\n        return value\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        var name = args.name;\r\n        switch (name) {\r\n            case \"value\":\r\n                this._$colorBoxInputContainer.toggleClass(COLOR_BOX_COLOR_IS_NOT_DEFINED, !value);\r\n                if (value) {\r\n                    colorUtils.makeTransparentBackground(this._$colorResultPreview, value)\r\n                } else {\r\n                    this._$colorResultPreview.removeAttr(\"style\")\r\n                }\r\n                this._updateColorViewValue(value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"applyButtonText\":\r\n            case \"cancelButtonText\":\r\n                this.callBase(args);\r\n                this._popup && this._addPopupBottomClasses();\r\n                break;\r\n            case \"editAlphaChannel\":\r\n            case \"onCancelButtonClick\":\r\n            case \"onApplyButtonClick\":\r\n            case \"keyStep\":\r\n                if (this._colorView) {\r\n                    this._colorView.option(name, value)\r\n                }\r\n                break;\r\n            case \"applyValueMode\":\r\n                this.callBase(args);\r\n                break;\r\n            case \"rtlEnabled\":\r\n                if (this._colorView) {\r\n                    this._colorView.option(name, value)\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxColorBox\", ColorBox);\r\nmodule.exports = ColorBox;\r\n"]},"metadata":{},"sourceType":"module"}