{"ast":null,"code":"/**\r\n * DevExtreme (ui/slider/ui.slider_handle.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar Widget = require(\"../widget/ui.widget\");\n\nvar Tooltip = require(\"../tooltip\");\n\nvar translator = require(\"../../animation/translator\");\n\nvar positionUtils = require(\"../../animation/position\");\n\nvar mathUtils = require(\"../../core/utils/math\");\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar numberLocalization = require(\"../../localization/number\");\n\nvar SLIDER_CLASS = \"dx-slider\";\nvar SLIDER_HANDLE_CLASS = \"dx-slider-handle\";\nvar POSITION_ALIASES = {\n  top: {\n    my: \"bottom center\",\n    at: \"top center\",\n    collision: \"none\"\n  },\n  bottom: {\n    my: \"top center\",\n    at: \"bottom center\",\n    collision: \"none\"\n  },\n  right: {\n    my: \"left center\",\n    at: \"right center\",\n    collision: \"none\"\n  },\n  left: {\n    my: \"right center\",\n    at: \"left center\",\n    collision: \"none\"\n  }\n};\nvar SliderHandle = Widget.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      hoverStateEnabled: false,\n      value: 0,\n      tooltipEnabled: false,\n      tooltipFormat: function tooltipFormat(v) {\n        return v;\n      },\n      tooltipPosition: \"top\",\n      tooltipShowMode: \"onHover\",\n      tooltipFitIn: null\n    });\n  },\n  _initMarkup: function _initMarkup() {\n    this.callBase();\n    this.$element().addClass(SLIDER_HANDLE_CLASS);\n    this.setAria({\n      role: \"slider\",\n      valuenow: this.option(\"value\")\n    });\n  },\n  _render: function _render() {\n    this._renderTooltip();\n\n    this.callBase();\n  },\n  _renderTooltip: function _renderTooltip() {\n    if (this.option(\"tooltipEnabled\")) {\n      if (!this._$tooltip) {\n        this._$tooltip = $(\"<div>\").appendTo(this.$element());\n      }\n\n      this._$slider = this.$element().closest(\".\" + SLIDER_CLASS);\n\n      this._updateTooltip();\n    } else {\n      this._removeTooltip();\n    }\n  },\n  _createTooltip: function _createTooltip() {\n    if (this._tooltip) {\n      return false;\n    }\n\n    this._tooltip = this._createComponent(this._$tooltip, Tooltip, {\n      visible: true,\n      target: this.$element(),\n      closeOnOutsideClick: false,\n      container: this.$element(),\n      closeOnBackButton: false,\n      closeOnTargetScroll: false,\n      onPositioned: function (args) {\n        this._saveTooltipElements(args.component);\n\n        this._saveTooltipLocation();\n\n        this._centeredTooltipPosition();\n      }.bind(this),\n      animation: null,\n      arrowPosition: null,\n      templatesRenderAsynchronously: false\n    });\n    return true;\n  },\n  _removeTooltip: function _removeTooltip() {\n    if (!this._$tooltip) {\n      return;\n    }\n\n    this._$tooltip.remove();\n\n    delete this._$tooltip;\n    delete this._tooltip;\n  },\n  _renderTooltipPosition: function _renderTooltipPosition() {\n    if (!this._tooltip) {\n      return;\n    }\n\n    var position = this.option(\"tooltipPosition\");\n\n    this._saveTooltipElements();\n\n    this._resetTooltipPosition();\n\n    if (\"string\" === typeUtils.type(position)) {\n      position = extend({\n        boundary: this._$slider,\n        boundaryOffset: {\n          h: 1,\n          v: 1\n        }\n      }, POSITION_ALIASES[position]);\n    }\n\n    this._tooltip.option(\"position\", position);\n\n    this._saveTooltipLocation();\n  },\n  _saveTooltipElements: function _saveTooltipElements(tooltip) {\n    tooltip = this._tooltip || tooltip;\n    this._$tooltipContent = tooltip.$content().parent();\n    this._$tooltipArrow = this._$tooltipContent.find(\".dx-popover-arrow\");\n  },\n  _resetTooltipPosition: function _resetTooltipPosition() {\n    translator.resetPosition(this._$tooltipContent);\n    translator.resetPosition(this._$tooltipArrow);\n  },\n  _saveTooltipLocation: function _saveTooltipLocation() {\n    this._contentLocate = translator.locate(this._$tooltipContent);\n  },\n  _centeredTooltipPosition: function _centeredTooltipPosition() {\n    if (!this._tooltip) {\n      return;\n    }\n\n    this._$tooltipContent.outerWidth(\"auto\");\n\n    var outerWidthWithoutRounding = this._$tooltipContent.get(0).getBoundingClientRect().width;\n\n    var tooltipOuterWidth = Math.ceil(outerWidthWithoutRounding);\n    var roundedTooltipOuterWidth = tooltipOuterWidth % 2 + tooltipOuterWidth;\n\n    this._$tooltipContent.outerWidth(roundedTooltipOuterWidth);\n\n    var tooltipCenter = (roundedTooltipOuterWidth - this.$element().width()) / 2;\n    this._contentLocate.left = -tooltipCenter;\n\n    this._$tooltipArrow.css({\n      marginLeft: -this._$tooltipArrow.outerWidth() / 2,\n      left: \"50%\"\n    });\n\n    this._fitTooltip();\n  },\n  _fitTooltip: function _fitTooltip() {\n    if (!this._tooltip) {\n      return;\n    }\n\n    var position = this.option(\"tooltipPosition\");\n\n    if (\"string\" === typeUtils.type(position)) {\n      position = extend({\n        of: this.$element(),\n        boundary: this._$slider,\n        boundaryOffset: {\n          h: 2,\n          v: 1\n        }\n      }, POSITION_ALIASES[position], {\n        collision: \"fit none\"\n      });\n    }\n\n    var calculatePosition = positionUtils.calculate(this._$tooltipContent, position);\n    var isLeftSide = \"left\" === calculatePosition.h.collisionSide;\n    var arrowLeft = (isLeftSide ? -1 : 1) * calculatePosition.h.oversize;\n    var arrowMinLeft = this._contentLocate.left;\n\n    var arrowMaxRight = this._contentLocate.left + this._$tooltipContent.outerWidth() - this._$tooltipArrow.outerWidth();\n\n    translator.move(this._$tooltipContent, {\n      left: this._contentLocate.left + (isLeftSide ? 1 : -1) * calculatePosition.h.oversize\n    });\n    translator.move(this._$tooltipArrow, {\n      left: mathUtils.fitIntoRange(arrowLeft, arrowMinLeft, arrowMaxRight)\n    });\n  },\n  _getFormattedValue: function _getFormattedValue(value) {\n    return numberLocalization.format(value, this.option(\"tooltipFormat\"));\n  },\n  _renderValue: function _renderValue() {\n    if (!this._tooltip) {\n      return;\n    }\n\n    var value = this.option(\"value\");\n\n    this._tooltip.$content().html(this._getFormattedValue(value));\n\n    this._fitTooltip();\n  },\n  _updateTooltip: function _updateTooltip() {\n    var hoverMode = /^onhover$/i.test(this.option(\"tooltipShowMode\"));\n\n    if (!hoverMode) {\n      this._createTooltip();\n    }\n\n    this.$element().toggleClass(\"dx-slider-tooltip-on-hover\", hoverMode);\n\n    this._renderTooltipPosition();\n\n    this._renderValue();\n\n    this._centeredTooltipPosition();\n  },\n  _clean: function _clean() {\n    this.callBase();\n    delete this._$tooltip;\n    delete this._tooltip;\n  },\n  _ensureTooltipIsCentered: function _ensureTooltipIsCentered(value, previousValue) {\n    if (typeUtils.isDefined(value) && typeUtils.isDefined(previousValue) && value.toString().length !== previousValue.toString().length) {\n      this._centeredTooltipPosition();\n    }\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"tooltipFormat\":\n        this._renderValue();\n\n        break;\n\n      case \"value\":\n        this._renderValue();\n\n        var value = this._getFormattedValue(args.value);\n\n        var previousValue = this._getFormattedValue(args.previousValue);\n\n        this._ensureTooltipIsCentered(value, previousValue);\n\n        this.setAria(\"valuenow\", args.value);\n        break;\n\n      case \"tooltipEnabled\":\n        this._renderTooltip();\n\n        break;\n\n      case \"tooltipPosition\":\n        this._renderTooltipPosition();\n\n        this._centeredTooltipPosition();\n\n        break;\n\n      case \"tooltipShowMode\":\n        this._updateTooltip();\n\n        break;\n\n      case \"tooltipFitIn\":\n        this._fitTooltip();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  fitTooltipPosition: function fitTooltipPosition() {\n    this._fitTooltip();\n  },\n  updateTooltip: function updateTooltip() {\n    if (!this._createTooltip()) {\n      return;\n    }\n\n    this._renderTooltipPosition();\n\n    this._renderValue();\n\n    this._centeredTooltipPosition();\n  },\n  repaint: function repaint() {\n    this._renderTooltipPosition();\n\n    this._centeredTooltipPosition();\n\n    if (this._tooltip) {\n      this._tooltip._visibilityChanged(true);\n    }\n  }\n});\nmodule.exports = SliderHandle;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/slider/ui.slider_handle.js"],"names":["$","require","Widget","Tooltip","translator","positionUtils","mathUtils","typeUtils","extend","numberLocalization","SLIDER_CLASS","SLIDER_HANDLE_CLASS","POSITION_ALIASES","top","my","at","collision","bottom","right","left","SliderHandle","_getDefaultOptions","hoverStateEnabled","value","tooltipEnabled","tooltipFormat","tooltipPosition","tooltipShowMode","tooltipFitIn","_initMarkup","role","valuenow","_render","_renderTooltip","_createTooltip","visible","target","closeOnOutsideClick","container","closeOnBackButton","closeOnTargetScroll","onPositioned","args","animation","arrowPosition","templatesRenderAsynchronously","_removeTooltip","_renderTooltipPosition","position","boundary","boundaryOffset","h","v","_saveTooltipElements","tooltip","_resetTooltipPosition","_saveTooltipLocation","_centeredTooltipPosition","outerWidthWithoutRounding","tooltipOuterWidth","Math","roundedTooltipOuterWidth","tooltipCenter","marginLeft","_fitTooltip","of","calculatePosition","isLeftSide","arrowLeft","arrowMinLeft","arrowMaxRight","oversize","_getFormattedValue","_renderValue","_updateTooltip","hoverMode","_clean","_ensureTooltipIsCentered","previousValue","_optionChanged","fitTooltipPosition","updateTooltip","repaint","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/slider/ui.slider_handle.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar Widget = require(\"../widget/ui.widget\");\r\nvar Tooltip = require(\"../tooltip\");\r\nvar translator = require(\"../../animation/translator\");\r\nvar positionUtils = require(\"../../animation/position\");\r\nvar mathUtils = require(\"../../core/utils/math\");\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar numberLocalization = require(\"../../localization/number\");\r\nvar SLIDER_CLASS = \"dx-slider\";\r\nvar SLIDER_HANDLE_CLASS = \"dx-slider-handle\";\r\nvar POSITION_ALIASES = {\r\n    top: {\r\n        my: \"bottom center\",\r\n        at: \"top center\",\r\n        collision: \"none\"\r\n    },\r\n    bottom: {\r\n        my: \"top center\",\r\n        at: \"bottom center\",\r\n        collision: \"none\"\r\n    },\r\n    right: {\r\n        my: \"left center\",\r\n        at: \"right center\",\r\n        collision: \"none\"\r\n    },\r\n    left: {\r\n        my: \"right center\",\r\n        at: \"left center\",\r\n        collision: \"none\"\r\n    }\r\n};\r\nvar SliderHandle = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: false,\r\n            value: 0,\r\n            tooltipEnabled: false,\r\n            tooltipFormat: function(v) {\r\n                return v\r\n            },\r\n            tooltipPosition: \"top\",\r\n            tooltipShowMode: \"onHover\",\r\n            tooltipFitIn: null\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(SLIDER_HANDLE_CLASS);\r\n        this.setAria({\r\n            role: \"slider\",\r\n            valuenow: this.option(\"value\")\r\n        })\r\n    },\r\n    _render: function() {\r\n        this._renderTooltip();\r\n        this.callBase()\r\n    },\r\n    _renderTooltip: function() {\r\n        if (this.option(\"tooltipEnabled\")) {\r\n            if (!this._$tooltip) {\r\n                this._$tooltip = $(\"<div>\").appendTo(this.$element())\r\n            }\r\n            this._$slider = this.$element().closest(\".\" + SLIDER_CLASS);\r\n            this._updateTooltip()\r\n        } else {\r\n            this._removeTooltip()\r\n        }\r\n    },\r\n    _createTooltip: function() {\r\n        if (this._tooltip) {\r\n            return false\r\n        }\r\n        this._tooltip = this._createComponent(this._$tooltip, Tooltip, {\r\n            visible: true,\r\n            target: this.$element(),\r\n            closeOnOutsideClick: false,\r\n            container: this.$element(),\r\n            closeOnBackButton: false,\r\n            closeOnTargetScroll: false,\r\n            onPositioned: function(args) {\r\n                this._saveTooltipElements(args.component);\r\n                this._saveTooltipLocation();\r\n                this._centeredTooltipPosition()\r\n            }.bind(this),\r\n            animation: null,\r\n            arrowPosition: null,\r\n            templatesRenderAsynchronously: false\r\n        });\r\n        return true\r\n    },\r\n    _removeTooltip: function() {\r\n        if (!this._$tooltip) {\r\n            return\r\n        }\r\n        this._$tooltip.remove();\r\n        delete this._$tooltip;\r\n        delete this._tooltip\r\n    },\r\n    _renderTooltipPosition: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        var position = this.option(\"tooltipPosition\");\r\n        this._saveTooltipElements();\r\n        this._resetTooltipPosition();\r\n        if (\"string\" === typeUtils.type(position)) {\r\n            position = extend({\r\n                boundary: this._$slider,\r\n                boundaryOffset: {\r\n                    h: 1,\r\n                    v: 1\r\n                }\r\n            }, POSITION_ALIASES[position])\r\n        }\r\n        this._tooltip.option(\"position\", position);\r\n        this._saveTooltipLocation()\r\n    },\r\n    _saveTooltipElements: function(tooltip) {\r\n        tooltip = this._tooltip || tooltip;\r\n        this._$tooltipContent = tooltip.$content().parent();\r\n        this._$tooltipArrow = this._$tooltipContent.find(\".dx-popover-arrow\")\r\n    },\r\n    _resetTooltipPosition: function() {\r\n        translator.resetPosition(this._$tooltipContent);\r\n        translator.resetPosition(this._$tooltipArrow)\r\n    },\r\n    _saveTooltipLocation: function() {\r\n        this._contentLocate = translator.locate(this._$tooltipContent)\r\n    },\r\n    _centeredTooltipPosition: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        this._$tooltipContent.outerWidth(\"auto\");\r\n        var outerWidthWithoutRounding = this._$tooltipContent.get(0).getBoundingClientRect().width;\r\n        var tooltipOuterWidth = Math.ceil(outerWidthWithoutRounding);\r\n        var roundedTooltipOuterWidth = tooltipOuterWidth % 2 + tooltipOuterWidth;\r\n        this._$tooltipContent.outerWidth(roundedTooltipOuterWidth);\r\n        var tooltipCenter = (roundedTooltipOuterWidth - this.$element().width()) / 2;\r\n        this._contentLocate.left = -tooltipCenter;\r\n        this._$tooltipArrow.css({\r\n            marginLeft: -this._$tooltipArrow.outerWidth() / 2,\r\n            left: \"50%\"\r\n        });\r\n        this._fitTooltip()\r\n    },\r\n    _fitTooltip: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        var position = this.option(\"tooltipPosition\");\r\n        if (\"string\" === typeUtils.type(position)) {\r\n            position = extend({\r\n                of: this.$element(),\r\n                boundary: this._$slider,\r\n                boundaryOffset: {\r\n                    h: 2,\r\n                    v: 1\r\n                }\r\n            }, POSITION_ALIASES[position], {\r\n                collision: \"fit none\"\r\n            })\r\n        }\r\n        var calculatePosition = positionUtils.calculate(this._$tooltipContent, position);\r\n        var isLeftSide = \"left\" === calculatePosition.h.collisionSide;\r\n        var arrowLeft = (isLeftSide ? -1 : 1) * calculatePosition.h.oversize;\r\n        var arrowMinLeft = this._contentLocate.left;\r\n        var arrowMaxRight = this._contentLocate.left + this._$tooltipContent.outerWidth() - this._$tooltipArrow.outerWidth();\r\n        translator.move(this._$tooltipContent, {\r\n            left: this._contentLocate.left + (isLeftSide ? 1 : -1) * calculatePosition.h.oversize\r\n        });\r\n        translator.move(this._$tooltipArrow, {\r\n            left: mathUtils.fitIntoRange(arrowLeft, arrowMinLeft, arrowMaxRight)\r\n        })\r\n    },\r\n    _getFormattedValue: function(value) {\r\n        return numberLocalization.format(value, this.option(\"tooltipFormat\"))\r\n    },\r\n    _renderValue: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        var value = this.option(\"value\");\r\n        this._tooltip.$content().html(this._getFormattedValue(value));\r\n        this._fitTooltip()\r\n    },\r\n    _updateTooltip: function() {\r\n        var hoverMode = /^onhover$/i.test(this.option(\"tooltipShowMode\"));\r\n        if (!hoverMode) {\r\n            this._createTooltip()\r\n        }\r\n        this.$element().toggleClass(\"dx-slider-tooltip-on-hover\", hoverMode);\r\n        this._renderTooltipPosition();\r\n        this._renderValue();\r\n        this._centeredTooltipPosition()\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        delete this._$tooltip;\r\n        delete this._tooltip\r\n    },\r\n    _ensureTooltipIsCentered: function(value, previousValue) {\r\n        if (typeUtils.isDefined(value) && typeUtils.isDefined(previousValue) && value.toString().length !== previousValue.toString().length) {\r\n            this._centeredTooltipPosition()\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"tooltipFormat\":\r\n                this._renderValue();\r\n                break;\r\n            case \"value\":\r\n                this._renderValue();\r\n                var value = this._getFormattedValue(args.value);\r\n                var previousValue = this._getFormattedValue(args.previousValue);\r\n                this._ensureTooltipIsCentered(value, previousValue);\r\n                this.setAria(\"valuenow\", args.value);\r\n                break;\r\n            case \"tooltipEnabled\":\r\n                this._renderTooltip();\r\n                break;\r\n            case \"tooltipPosition\":\r\n                this._renderTooltipPosition();\r\n                this._centeredTooltipPosition();\r\n                break;\r\n            case \"tooltipShowMode\":\r\n                this._updateTooltip();\r\n                break;\r\n            case \"tooltipFitIn\":\r\n                this._fitTooltip();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    fitTooltipPosition: function() {\r\n        this._fitTooltip()\r\n    },\r\n    updateTooltip: function() {\r\n        if (!this._createTooltip()) {\r\n            return\r\n        }\r\n        this._renderTooltipPosition();\r\n        this._renderValue();\r\n        this._centeredTooltipPosition()\r\n    },\r\n    repaint: function() {\r\n        this._renderTooltipPosition();\r\n        this._centeredTooltipPosition();\r\n        if (this._tooltip) {\r\n            this._tooltip._visibilityChanged(true)\r\n        }\r\n    }\r\n});\r\nmodule.exports = SliderHandle;\r\n"]},"metadata":{},"sourceType":"module"}