{"ast":null,"code":"/**\r\n * DevExtreme (viz/axes/tick_generator.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _utils = require(\"../core/utils\");\n\nvar _date = require(\"../../core/utils/date\");\n\nvar _date2 = _interopRequireDefault(_date);\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _math = require(\"../../core/utils/math\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || \"[object Arguments]\" === Object.prototype.toString.call(arr))) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _e = void 0;\n\n  try {\n    for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) {\n        break;\n      }\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && null != _i.return) {\n        _i.return();\n      }\n    } finally {\n      if (_d) {\n        throw _e;\n      }\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) {\n    return arr;\n  }\n}\n\nvar convertDateUnitToMilliseconds = _date2.default.convertDateUnitToMilliseconds;\nvar dateToMilliseconds = _date2.default.dateToMilliseconds;\nvar math = Math;\nvar mathAbs = math.abs;\nvar mathFloor = math.floor;\nvar mathCeil = math.ceil;\nvar mathPow = math.pow;\nvar NUMBER_MULTIPLIERS = [1, 2, 2.5, 5];\nvar LOGARITHMIC_MULTIPLIERS = [1, 2, 3, 5];\nvar DATETIME_MULTIPLIERS = {\n  millisecond: [1, 2, 5, 10, 25, 50, 100, 250, 500],\n  second: [1, 2, 3, 5, 10, 15, 20, 30],\n  minute: [1, 2, 3, 5, 10, 15, 20, 30],\n  hour: [1, 2, 3, 4, 6, 8, 12],\n  day: [1, 2],\n  week: [1, 2],\n  month: [1, 2, 3, 6]\n};\nvar DATETIME_MULTIPLIERS_WITH_BIG_WEEKEND = (0, _extend.extend)({}, DATETIME_MULTIPLIERS, {\n  day: [1]\n});\nvar DATETIME_MINOR_MULTIPLIERS = {\n  millisecond: [1, 2, 5, 10, 25, 50, 100, 250, 500],\n  second: [1, 2, 3, 5, 10, 15, 20, 30],\n  minute: [1, 2, 3, 5, 10, 15, 20, 30],\n  hour: [1, 2, 3, 4, 6, 8, 12],\n  day: [1, 2, 3, 7, 14],\n  month: [1, 2, 3, 6]\n};\nvar MINOR_DELIMITERS = [2, 4, 5, 8, 10];\nvar VISIBILITY_DELIMITER = 3;\nvar MINUTE = 6e4;\n\nfunction dummyGenerator(options) {\n  return function (data, screenDelta, tickInterval, forceTickInterval) {\n    var count = mathFloor(screenDelta / options.axisDivisionFactor);\n    count = count < 1 ? 1 : count;\n    var interval = screenDelta / count;\n    return {\n      ticks: interval > 0 ? Array.apply(null, new Array(count + 1)).map(function (_, i) {\n        return interval * i;\n      }) : [],\n      tickInterval: interval\n    };\n  };\n}\n\nfunction discreteGenerator(options) {\n  return function (data, screenDelta, tickInterval, forceTickInterval) {\n    var categories = (0, _utils.getCategoriesInfo)(data.categories, data.min, data.max).categories;\n    return {\n      ticks: categories,\n      tickInterval: mathCeil(categories.length * options.axisDivisionFactor / screenDelta)\n    };\n  };\n}\n\nvar getValue = function getValue(value) {\n  return value;\n};\n\nvar getLogValue = function getLogValue(base, allowNegatives, linearThreshold) {\n  return function (value) {\n    return (0, _utils.getLogExt)(value, base, allowNegatives, linearThreshold);\n  };\n};\n\nvar raiseTo = function raiseTo(base, allowNegatives, linearThreshold) {\n  return function (value) {\n    return (0, _utils.raiseToExt)(value, base, allowNegatives, linearThreshold);\n  };\n};\n\nvar mathRaiseTo = function mathRaiseTo(base) {\n  return function (value) {\n    return (0, _utils.raiseTo)(value, base);\n  };\n};\n\nvar logAbsValue = function logAbsValue(base) {\n  return function (value) {\n    return 0 === value ? 0 : (0, _utils.getLog)(mathAbs(value), base);\n  };\n};\n\nvar correctValueByInterval = function correctValueByInterval(post, round, getValue) {\n  return function (value, interval) {\n    return (0, _math.adjust)(post(round((0, _math.adjust)(getValue(value) / interval)) * interval));\n  };\n};\n\nfunction correctMinValueByEndOnTick(floorFunc, ceilFunc, resolveEndOnTick, endOnTick) {\n  if ((0, _type.isDefined)(endOnTick)) {\n    return endOnTick ? floorFunc : ceilFunc;\n  }\n\n  return function (value, interval, businessViewInfo, forceEndOnTick) {\n    var floorTickValue = floorFunc(value, interval);\n\n    if (value - floorTickValue === 0 || !(0, _type.isDefined)(businessViewInfo) || resolveEndOnTick(value, floorTickValue, interval, businessViewInfo) || forceEndOnTick) {\n      return floorTickValue;\n    }\n\n    return ceilFunc(value, interval);\n  };\n}\n\nfunction resolveEndOnTick(curValue, tickValue, interval, businessViewInfo) {\n  var prevTickDataDiff = interval - mathAbs(tickValue - curValue);\n  var intervalCount = math.max(mathCeil(businessViewInfo.businessDelta / interval), 2);\n  var businessRatio = businessViewInfo.screenDelta / (intervalCount * interval);\n  var potentialTickScreenDiff = math.round(businessRatio * prevTickDataDiff);\n  var delimiterFactor = (0, _utils.getLogExt)(businessRatio * interval / businessViewInfo.axisDivisionFactor, 2) + 1;\n  var delimiterMultiplier = (businessViewInfo.isSpacedMargin ? 2 : 1) * delimiterFactor;\n  var screenDelimiter = math.round(VISIBILITY_DELIMITER * delimiterMultiplier);\n  return businessViewInfo.businessDelta > businessViewInfo.interval && potentialTickScreenDiff >= screenDelimiter;\n}\n\nfunction resolveEndOnTickLog(base) {\n  return function (curValue, tickValue, interval, businessViewInfo) {\n    return resolveEndOnTick((0, _utils.getLogExt)(curValue, base), (0, _utils.getLogExt)(tickValue, base), interval, businessViewInfo);\n  };\n}\n\nfunction resolveEndOnTickDate(curValue, tickValue, interval, businessViewInfo) {\n  return resolveEndOnTick(curValue.valueOf(), tickValue.valueOf(), dateToMilliseconds(interval), businessViewInfo);\n}\n\nfunction resolveExtraTickForHiddenDataPoint(checkDataVisibility, extremum, tick, businessViewInfo, isMin) {\n  var screenRatio = businessViewInfo.screenDelta / businessViewInfo.businessDelta;\n  var extDir = isMin ? 1 : -1;\n  var tickDir = isMin ? -1 : 1;\n  return checkDataVisibility && screenRatio * (extremum * extDir + tick * tickDir) < VISIBILITY_DELIMITER;\n}\n\nfunction resolveExtraTickForHiddenDataPointLog(base) {\n  return function (checkDataVisibility, extremum, tick, businessViewInfo, isMin) {\n    return resolveExtraTickForHiddenDataPoint(checkDataVisibility, (0, _utils.getLogExt)(extremum, base), (0, _utils.getLogExt)(tick, base), businessViewInfo, isMin);\n  };\n}\n\nfunction resolveExtraTickForHiddenDataPointDate(checkDataVisibility, extremum, tick, businessViewInfo, isMin) {\n  return resolveExtraTickForHiddenDataPoint(checkDataVisibility, extremum.valueOf(), tick.valueOf(), businessViewInfo, isMin);\n}\n\nfunction getBusinessDelta(data, breaks) {\n  var spacing = 0;\n\n  if (breaks) {\n    spacing = breaks.reduce(function (prev, item) {\n      return prev + (item.to - item.from);\n    }, 0);\n  }\n\n  return mathAbs(data.max - data.min - spacing);\n}\n\nfunction getBusinessDeltaLog(base, allowNegatives, linearThreshold) {\n  var getLog = getLogValue(base, allowNegatives, linearThreshold);\n  return function (data, breaks) {\n    var spacing = 0;\n\n    if (breaks) {\n      spacing = breaks.reduce(function (prev, item) {\n        return prev + mathAbs(getLog(item.to / item.from));\n      }, 0);\n    }\n\n    return mathCeil(mathAbs(getLog(data.max) - getLog(data.min)) - spacing);\n  };\n}\n\nfunction getIntervalByFactor(businessDelta, screenDelta, axisDivisionFactor, addTickCount) {\n  var count = screenDelta / axisDivisionFactor - (addTickCount || 0);\n  count = count < 1 ? 1 : count;\n  return businessDelta / count;\n}\n\nfunction getMultiplierFactor(interval, factorDelta) {\n  return mathPow(10, mathFloor((0, _utils.getLogExt)(interval, 10)) + (factorDelta || 0));\n}\n\nfunction calculateTickInterval(businessDelta, screenDelta, tickInterval, forceTickInterval, axisDivisionFactor, multipliers, allowDecimals, addTickCount, _, minTickInterval) {\n  var interval = getIntervalByFactor(businessDelta, screenDelta, axisDivisionFactor, addTickCount);\n  var result = 1;\n  var onlyIntegers = false === allowDecimals;\n\n  if (!forceTickInterval || !tickInterval) {\n    if (interval >= 1 || !onlyIntegers && interval > 0) {\n      result = adjustInterval(interval, multipliers, onlyIntegers);\n    }\n\n    if (!tickInterval || !forceTickInterval && tickInterval < result) {\n      tickInterval = result;\n    }\n  }\n\n  if (!forceTickInterval && minTickInterval) {\n    minTickInterval = adjustInterval(minTickInterval, multipliers, onlyIntegers);\n\n    if (minTickInterval > tickInterval) {\n      tickInterval = minTickInterval;\n    }\n  }\n\n  return tickInterval;\n}\n\nfunction adjustInterval(interval, multipliers, onlyIntegers) {\n  var factor = getMultiplierFactor(interval, -1);\n  var result = 1;\n  multipliers = multipliers || NUMBER_MULTIPLIERS;\n\n  if (interval > 0) {\n    interval /= factor;\n    result = multipliers.concat(10 * multipliers[0]).map(function (m) {\n      return 10 * m;\n    }).reduce(function (r, m) {\n      if (.1 === factor && onlyIntegers && 25 === m) {\n        return r;\n      }\n\n      return r < interval ? m : r;\n    }, 0);\n    result = (0, _math.adjust)(result * factor, factor);\n  }\n\n  return result;\n}\n\nfunction calculateMinorTickInterval(businessDelta, screenDelta, tickInterval, axisDivisionFactor) {\n  var interval = getIntervalByFactor(businessDelta, screenDelta, axisDivisionFactor);\n  return tickInterval || MINOR_DELIMITERS.reduce(function (r, d) {\n    var cur = businessDelta / d;\n    return cur >= interval ? cur : r;\n  }, 0);\n}\n\nfunction getCalculateTickIntervalLog(skipCalculationLimits) {\n  return function (businessDelta, screenDelta, tickInterval, forceTickInterval, axisDivisionFactor, multipliers, allowDecimals, _, __, minTickInterval) {\n    var interval = getIntervalByFactor(businessDelta, screenDelta, axisDivisionFactor);\n    var result = 0;\n    var adjustInterval = getAdjustIntervalLog(skipCalculationLimits);\n\n    if (!forceTickInterval || !tickInterval) {\n      if (interval > 0) {\n        result = adjustInterval(interval, multipliers);\n      }\n\n      if (!tickInterval || !forceTickInterval && tickInterval < result) {\n        tickInterval = result;\n      }\n    }\n\n    if (!forceTickInterval && minTickInterval) {\n      minTickInterval = adjustInterval(minTickInterval, multipliers);\n\n      if (minTickInterval > tickInterval) {\n        tickInterval = minTickInterval;\n      }\n    }\n\n    return tickInterval;\n  };\n}\n\nfunction getAdjustIntervalLog(skipCalculationLimits) {\n  return function (interval, multipliers) {\n    var factor = getMultiplierFactor(interval);\n    multipliers = multipliers || LOGARITHMIC_MULTIPLIERS;\n\n    if (!skipCalculationLimits && factor < 1) {\n      factor = 1;\n    }\n\n    return multipliers.concat(10 * multipliers[0]).reduce(function (r, m) {\n      return r < interval ? m * factor : r;\n    }, 0);\n  };\n}\n\nfunction getDataTimeMultipliers(gapSize) {\n  if (gapSize && gapSize > 2) {\n    return DATETIME_MULTIPLIERS_WITH_BIG_WEEKEND;\n  } else {\n    return DATETIME_MULTIPLIERS;\n  }\n}\n\nfunction numbersReducer(interval, key) {\n  return function (r, m) {\n    if (!r && interval <= convertDateUnitToMilliseconds(key, m)) {\n      r = {};\n      r[key + \"s\"] = m;\n    }\n\n    return r;\n  };\n}\n\nfunction yearsReducer(interval, factor) {\n  return function (r, m) {\n    var years = factor * m;\n\n    if (!r && interval <= convertDateUnitToMilliseconds(\"year\", years) && 2.5 !== years) {\n      r = {\n        years: years\n      };\n    }\n\n    return r;\n  };\n}\n\nfunction calculateTickIntervalDateTime(businessDelta, screenDelta, tickInterval, forceTickInterval, axisDivisionFactor, multipliers, allowDecimals, addTickCount, gapSize, minTickInterval) {\n  if (!forceTickInterval || !tickInterval) {\n    var result = adjustIntervalDateTime(getIntervalByFactor(businessDelta, screenDelta, axisDivisionFactor), multipliers, null, gapSize);\n\n    if (!tickInterval || !forceTickInterval && dateToMilliseconds(tickInterval) <= dateToMilliseconds(result)) {\n      tickInterval = result;\n    }\n  }\n\n  if (!forceTickInterval && minTickInterval) {\n    minTickInterval = adjustIntervalDateTime(minTickInterval, multipliers, null, gapSize);\n\n    if (dateToMilliseconds(minTickInterval) > dateToMilliseconds(tickInterval)) {\n      tickInterval = minTickInterval;\n    }\n  }\n\n  return tickInterval;\n}\n\nfunction adjustIntervalDateTime(interval, multipliers, _, gapSize) {\n  var result;\n  multipliers = multipliers || getDataTimeMultipliers(gapSize);\n\n  for (var key in multipliers) {\n    result = multipliers[key].reduce(numbersReducer(interval, key), result);\n\n    if (result) {\n      break;\n    }\n  }\n\n  if (!result) {\n    for (var factor = 1;; factor *= 10) {\n      result = NUMBER_MULTIPLIERS.reduce(yearsReducer(interval, factor), result);\n\n      if (result) {\n        break;\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction calculateMinorTickIntervalDateTime(businessDelta, screenDelta, tickInterval, axisDivisionFactor) {\n  return calculateTickIntervalDateTime(businessDelta, screenDelta, tickInterval, true, axisDivisionFactor, DATETIME_MINOR_MULTIPLIERS);\n}\n\nfunction getTickIntervalByCustomTicks(getValue, postProcess) {\n  return function (ticks) {\n    return ticks ? postProcess(mathAbs((0, _math.adjust)(getValue(ticks[1]) - getValue(ticks[0])))) || void 0 : void 0;\n  };\n}\n\nfunction addInterval(value, interval, isNegative) {\n  return _date2.default.addInterval(value, interval, isNegative);\n}\n\nfunction addIntervalLog(log, raise) {\n  return function (value, interval, isNegative) {\n    return raise(addInterval(log(value), interval, isNegative));\n  };\n}\n\nfunction addIntervalDate(value, interval, isNegative) {\n  return addInterval(value, interval, isNegative);\n}\n\nfunction addIntervalWithBreaks(addInterval, breaks, correctValue) {\n  breaks = breaks.filter(function (b) {\n    return !b.gapSize;\n  });\n  return function (value, interval, isNegative) {\n    var breakSize;\n    value = addInterval(value, interval, isNegative);\n\n    if (!breaks.every(function (item) {\n      if (value >= addInterval(item.from, interval) && addInterval(value, interval) < item.to) {\n        breakSize = item.to - item.from - 2 * (addInterval(item.from, interval) - item.from);\n      }\n\n      return !breakSize;\n    })) {\n      value = correctValue(addInterval(value, breakSize), interval);\n    }\n\n    return value;\n  };\n}\n\nfunction calculateTicks(addInterval, correctMinValue, adjustInterval, resolveEndOnTick, resolveExtraTickForHiddenDataPoint) {\n  return function (data, tickInterval, endOnTick, gaps, breaks, businessDelta, screenDelta, axisDivisionFactor, generateExtraTick) {\n    var correctTickValue = correctTickValueOnGapSize(addInterval, gaps);\n    var min = data.min;\n    var max = data.max;\n    var businessViewInfo = {\n      screenDelta: screenDelta,\n      businessDelta: businessDelta,\n      axisDivisionFactor: axisDivisionFactor,\n      isSpacedMargin: data.isSpacedMargin,\n      interval: tickInterval\n    };\n    var cur = correctMinValue(min, tickInterval, businessViewInfo);\n    var ticks = [];\n\n    if (breaks && breaks.length) {\n      addInterval = addIntervalWithBreaks(addInterval, breaks, correctMinValue);\n    }\n\n    if (cur > max) {\n      cur = correctMinValue(min, adjustInterval(businessDelta / 2), businessViewInfo);\n\n      if (cur > max) {\n        endOnTick = true;\n        cur = correctMinValue(min, tickInterval, businessViewInfo, endOnTick);\n      }\n    }\n\n    cur = correctTickValue(cur);\n    var prev;\n\n    while (cur < max && cur !== prev || generateExtraTick && cur <= max) {\n      ticks.push(cur);\n      prev = cur;\n      cur = correctTickValue(addInterval(cur, tickInterval));\n    }\n\n    if (endOnTick || cur - max === 0 || !(0, _type.isDefined)(endOnTick) && resolveEndOnTick(max, cur, tickInterval, businessViewInfo)) {\n      ticks.push(cur);\n    }\n\n    if (ticks.length > 0) {\n      if (ticks[0].valueOf() > 0 && resolveExtraTickForHiddenDataPoint(data.checkMinDataVisibility, min, ticks[0], businessViewInfo, true)) {\n        cur = addInterval(ticks[0], tickInterval, true);\n        ticks.unshift(cur);\n      } else {\n        if (ticks[ticks.length - 1].valueOf() < 0 && resolveExtraTickForHiddenDataPoint(data.checkMaxDataVisibility, max, ticks[ticks.length - 1], businessViewInfo, false)) {\n          cur = addInterval(ticks[ticks.length - 1], tickInterval);\n          ticks.push(cur);\n        }\n      }\n    }\n\n    return ticks;\n  };\n}\n\nfunction calculateMinorTicks(updateTickInterval, addInterval, correctMinValue, correctTickValue, ceil) {\n  return function (min, max, majorTicks, minorTickInterval, tickInterval, breaks, maxCount) {\n    var factor = tickInterval / minorTickInterval;\n    var lastMajor = majorTicks[majorTicks.length - 1];\n    var firstMajor = majorTicks[0];\n    var tickBalance = maxCount - 1;\n\n    if (breaks && breaks.length) {\n      addInterval = addIntervalWithBreaks(addInterval, breaks, correctMinValue);\n    }\n\n    minorTickInterval = updateTickInterval(minorTickInterval, firstMajor, firstMajor, factor);\n\n    if (0 === minorTickInterval) {\n      return [];\n    }\n\n    var cur = correctTickValue(correctMinValue(min, tickInterval, min), minorTickInterval);\n    minorTickInterval = updateTickInterval(minorTickInterval, firstMajor, cur, factor);\n    var ticks = [];\n\n    while (cur < firstMajor && (!tickBalance || tickBalance > 0)) {\n      cur >= min && ticks.push(cur);\n      tickBalance--;\n      cur = addInterval(cur, minorTickInterval);\n    }\n\n    var middleTicks = majorTicks.reduce(function (r, tick) {\n      tickBalance = maxCount - 1;\n\n      if (null === r.prevTick) {\n        r.prevTick = tick;\n        return r;\n      }\n\n      minorTickInterval = updateTickInterval(minorTickInterval, tick, r.prevTick, factor);\n      var cur = correctTickValue(r.prevTick, minorTickInterval);\n\n      while (cur < tick && (!tickBalance || tickBalance > 0)) {\n        cur !== r.prevTick && r.minors.push(cur);\n        tickBalance--;\n        cur = addInterval(cur, minorTickInterval);\n      }\n\n      r.prevTick = tick;\n      return r;\n    }, {\n      prevTick: null,\n      minors: []\n    });\n    ticks = ticks.concat(middleTicks.minors);\n    var maxValue = ceil(max, tickInterval, min);\n    minorTickInterval = updateTickInterval(minorTickInterval, maxValue, maxValue, factor);\n    cur = correctTickValue(lastMajor, minorTickInterval);\n    var prev;\n\n    while (cur < max && cur !== prev) {\n      ticks.push(cur);\n      prev = cur;\n      cur = addInterval(cur, minorTickInterval);\n    }\n\n    if (lastMajor - max !== 0 && cur - max === 0) {\n      ticks.push(cur);\n    }\n\n    return ticks;\n  };\n}\n\nfunction filterTicks(ticks, breaks) {\n  if (breaks.length) {\n    var result = breaks.reduce(function (result, b) {\n      var tmpTicks = [];\n      var i;\n\n      for (i = result[1]; i < ticks.length; i++) {\n        var tickValue = ticks[i];\n\n        if (tickValue < b.from) {\n          tmpTicks.push(tickValue);\n        }\n\n        if (tickValue >= b.to) {\n          break;\n        }\n      }\n\n      return [result[0].concat(tmpTicks), i];\n    }, [[], 0]);\n    return result[0].concat(ticks.slice(result[1]));\n  }\n\n  return ticks;\n}\n\nfunction correctTickValueOnGapSize(addInterval, breaks) {\n  return function (value) {\n    var gapSize;\n\n    if (!breaks.every(function (item) {\n      if (value >= item.from && value < item.to) {\n        gapSize = item.gapSize;\n      }\n\n      return !gapSize;\n    })) {\n      value = addInterval(value, gapSize);\n    }\n\n    return value;\n  };\n}\n\nfunction generator(options, getBusinessDelta, calculateTickInterval, calculateMinorTickInterval, getMajorTickIntervalByCustomTicks, getMinorTickIntervalByCustomTicks, convertTickInterval, calculateTicks, calculateMinorTicks, processScaleBreaks) {\n  function processCustomTicks(customTicks) {\n    return {\n      tickInterval: getMajorTickIntervalByCustomTicks(customTicks.majors),\n      ticks: customTicks.majors || [],\n      minorTickInterval: getMinorTickIntervalByCustomTicks(customTicks.minors),\n      minorTicks: customTicks.minors || []\n    };\n  }\n\n  function correctUserTickInterval(tickInterval, businessDelta, limit) {\n    if (tickInterval && businessDelta / convertTickInterval(tickInterval) >= limit + 1) {\n      options.incidentOccurred(\"W2003\");\n      tickInterval = void 0;\n    }\n\n    return tickInterval;\n  }\n\n  function generateMajorTicks(ticks, data, businessDelta, screenDelta, tickInterval, forceTickInterval, customTicks, breaks) {\n    if (customTicks.majors) {\n      ticks.breaks = breaks;\n      return ticks;\n    }\n\n    var gaps = breaks.filter(function (b) {\n      return b.gapSize;\n    });\n    var majorTicks;\n    tickInterval = options.skipCalculationLimits ? tickInterval : correctUserTickInterval(tickInterval, businessDelta, screenDelta);\n    tickInterval = calculateTickInterval(businessDelta, screenDelta, tickInterval, forceTickInterval, options.axisDivisionFactor, options.numberMultipliers, options.allowDecimals, breaks.length, gaps[0] && gaps[0].gapSize.days, options.minTickInterval);\n\n    if (!options.skipTickGeneration) {\n      majorTicks = calculateTicks(data, tickInterval, options.endOnTick, gaps, breaks, businessDelta, screenDelta, options.axisDivisionFactor, options.generateExtraTick);\n      breaks = processScaleBreaks(breaks, majorTicks, tickInterval);\n      majorTicks = filterTicks(majorTicks, breaks);\n      ticks.breaks = breaks;\n      ticks.ticks = ticks.ticks.concat(majorTicks);\n    }\n\n    ticks.tickInterval = tickInterval;\n    return ticks;\n  }\n\n  function generateMinorTicks(ticks, data, businessDelta, screenDelta, minorTickInterval, minorTickCount, customTicks) {\n    if (!options.calculateMinors) {\n      return ticks;\n    }\n\n    if (customTicks.minors) {\n      return ticks;\n    }\n\n    var minorBusinessDelta = convertTickInterval(ticks.tickInterval);\n    var minorScreenDelta = screenDelta * minorBusinessDelta / businessDelta;\n    var breaks = ticks.breaks;\n\n    if (!minorTickInterval && minorTickCount) {\n      minorTickInterval = getMinorTickIntervalByCustomTicks([minorBusinessDelta / (minorTickCount + 1), minorBusinessDelta / (minorTickCount + 1) * 2]);\n    } else {\n      minorTickCount = void 0;\n    }\n\n    minorTickInterval = correctUserTickInterval(minorTickInterval, minorBusinessDelta, minorScreenDelta);\n    minorTickInterval = calculateMinorTickInterval(minorBusinessDelta, minorScreenDelta, minorTickInterval, options.minorAxisDivisionFactor);\n    ticks.minorTicks = filterTicks(ticks.minorTicks.concat(calculateMinorTicks(data.min, data.max, ticks.ticks, minorTickInterval, ticks.tickInterval, breaks, minorTickCount)), breaks);\n    ticks.minorTickInterval = minorTickInterval;\n    return ticks;\n  }\n\n  return function (data, screenDelta, tickInterval, forceTickInterval, customTicks, minorTickInterval, minorTickCount, breaks) {\n    customTicks = customTicks || {};\n    var businessDelta = getBusinessDelta(data, breaks);\n    var result = processCustomTicks(customTicks);\n\n    if (!isNaN(businessDelta)) {\n      if (0 === businessDelta && !customTicks.majors) {\n        result.ticks = [data.min];\n      } else {\n        result = generateMajorTicks(result, data, businessDelta, screenDelta, tickInterval, forceTickInterval, customTicks, breaks || []);\n\n        if (!options.skipTickGeneration && businessDelta > 0) {\n          result = generateMinorTicks(result, data, businessDelta, screenDelta, minorTickInterval, minorTickCount, customTicks);\n        }\n      }\n    }\n\n    return result;\n  };\n}\n\nfunction getBaseTick(breakValue, _ref, interval, getValue) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      tick = _ref2[0],\n      insideTick = _ref2[1];\n\n  if (!(0, _type.isDefined)(tick) || mathAbs(getValue(breakValue) - getValue(tick)) / interval > .25) {\n    if ((0, _type.isDefined)(insideTick)) {\n      tick = insideTick;\n    } else {\n      if (!(0, _type.isDefined)(tick)) {\n        tick = breakValue;\n      }\n    }\n  }\n\n  return tick;\n}\n\nfunction getScaleBreaksProcessor(convertTickInterval, getValue, addCorrection) {\n  return function (breaks, ticks, tickInterval) {\n    var interval = convertTickInterval(tickInterval);\n    var correction = .5 * interval;\n    return breaks.reduce(function (result, b) {\n      var breakTicks = ticks.filter(function (tick) {\n        return tick <= b.from;\n      });\n      var from = addCorrection(getBaseTick(b.from, [].concat(breakTicks[breakTicks.length - 1], ticks[breakTicks.length]), interval, getValue), correction);\n      breakTicks = ticks.filter(function (tick) {\n        return tick >= b.to;\n      });\n      var to = addCorrection(getBaseTick(b.to, [].concat(breakTicks[0], ticks[ticks.length - breakTicks.length - 1]), interval, getValue), -correction);\n\n      if (getValue(to) - getValue(from) < interval && !b.gapSize) {\n        return result;\n      }\n\n      if (b.gapSize) {\n        return result.concat([b]);\n      }\n\n      return result.concat([{\n        from: from,\n        to: to,\n        cumulativeWidth: b.cumulativeWidth\n      }]);\n    }, []);\n  };\n}\n\nfunction numericGenerator(options) {\n  var floor = correctValueByInterval(getValue, mathFloor, getValue);\n  var ceil = correctValueByInterval(getValue, mathCeil, getValue);\n  var calculateTickIntervalByCustomTicks = getTickIntervalByCustomTicks(getValue, getValue);\n  return generator(options, getBusinessDelta, calculateTickInterval, calculateMinorTickInterval, calculateTickIntervalByCustomTicks, calculateTickIntervalByCustomTicks, getValue, calculateTicks(addInterval, correctMinValueByEndOnTick(floor, ceil, resolveEndOnTick, options.endOnTick), adjustInterval, resolveEndOnTick, resolveExtraTickForHiddenDataPoint), calculateMinorTicks(getValue, addInterval, floor, addInterval, getValue), getScaleBreaksProcessor(getValue, getValue, function (value, correction) {\n    return value + correction;\n  }));\n}\n\nvar correctValueByIntervalLog = function correctValueByIntervalLog(post, getRound, getValue) {\n  return function (value, interval) {\n    return (0, _math.sign)(value) * (0, _math.adjust)(post(getRound(value)((0, _math.adjust)(getValue(value) / interval)) * interval));\n  };\n};\n\nfunction logarithmicGenerator(options) {\n  var base = options.logBase;\n  var raise = raiseTo(base, options.allowNegatives, options.linearThreshold);\n  var log = getLogValue(base, options.allowNegatives, options.linearThreshold);\n  var absLog = logAbsValue(base);\n  var absRaise = mathRaiseTo(base);\n\n  var absFloor = function absFloor(value) {\n    return value < 0 ? mathCeil : mathFloor;\n  };\n\n  var absCeil = function absCeil(value) {\n    return value < 0 ? mathFloor : mathCeil;\n  };\n\n  var floor = correctValueByIntervalLog(absRaise, absFloor, absLog);\n  var ceil = correctValueByIntervalLog(absRaise, absCeil, absLog);\n  var ceilNumber = correctValueByInterval(getValue, mathCeil, getValue);\n  return generator(options, getBusinessDeltaLog(base, options.allowNegatives, options.linearThreshold), getCalculateTickIntervalLog(options.skipCalculationLimits), calculateMinorTickInterval, getTickIntervalByCustomTicks(log, getValue), getTickIntervalByCustomTicks(getValue, getValue), getValue, calculateTicks(addIntervalLog(log, raise), correctMinValueByEndOnTick(floor, ceil, resolveEndOnTickLog(base), options.endOnTick), getAdjustIntervalLog(options.skipCalculationLimits), resolveEndOnTickLog(base), resolveExtraTickForHiddenDataPointLog(base)), calculateMinorTicks(function (_, tick, prevTick, factor) {\n    return Math.max(Math.abs(tick), Math.abs(prevTick)) / factor;\n  }, addInterval, floor, ceilNumber, ceil), getScaleBreaksProcessor(getValue, log, function (value, correction) {\n    return raise(log(value) + correction);\n  }));\n}\n\nfunction dateGenerator(options) {\n  function floor(value, interval) {\n    var floorNumber = correctValueByInterval(getValue, mathFloor, getValue);\n    var intervalObject = (0, _type.isString)(interval) ? _date2.default.getDateIntervalByString(interval.toLowerCase()) : interval;\n    var divider = dateToMilliseconds(interval);\n\n    if (intervalObject.days % 7 === 0 || interval.quarters) {\n      intervalObject = adjustIntervalDateTime(divider);\n    }\n\n    var correctDateWithUnitBeginning = function correctDateWithUnitBeginning(v) {\n      return _date2.default.correctDateWithUnitBeginning(v, intervalObject, null, options.firstDayOfWeek);\n    };\n\n    var floorAtStartDate = function floorAtStartDate(v) {\n      return new Date(mathFloor((v.getTime() - v.getTimezoneOffset() * MINUTE) / divider) * divider + v.getTimezoneOffset() * MINUTE);\n    };\n\n    value = correctDateWithUnitBeginning(value);\n\n    if (\"years\" in intervalObject) {\n      value.setFullYear(floorNumber(value.getFullYear(), intervalObject.years, 0));\n    } else {\n      if (\"quarters\" in intervalObject) {\n        value = correctDateWithUnitBeginning(floorAtStartDate(value));\n      } else {\n        if (\"months\" in intervalObject) {\n          value.setMonth(floorNumber(value.getMonth(), intervalObject.months, 0));\n        } else {\n          if (\"weeks\" in intervalObject || \"days\" in intervalObject) {\n            value = correctDateWithUnitBeginning(floorAtStartDate(value));\n          } else {\n            if (\"hours\" in intervalObject) {\n              value.setHours(floorNumber(value.getHours(), intervalObject.hours, 0));\n            } else {\n              if (\"minutes\" in intervalObject) {\n                value.setMinutes(floorNumber(value.getMinutes(), intervalObject.minutes, 0));\n              } else {\n                if (\"seconds\" in intervalObject) {\n                  value.setSeconds(floorNumber(value.getSeconds(), intervalObject.seconds, 0));\n                } else {\n                  if (\"milliseconds\" in intervalObject) {\n                    value = floorAtStartDate(value);\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return value;\n  }\n\n  function ceil(value, interval) {\n    var newValue = floor(value, interval);\n\n    while (value - newValue > 0) {\n      newValue = addIntervalDate(newValue, interval);\n    }\n\n    return newValue;\n  }\n\n  var calculateTickIntervalByCustomTicks = getTickIntervalByCustomTicks(getValue, _date2.default.convertMillisecondsToDateUnits);\n  return generator(options, getBusinessDelta, calculateTickIntervalDateTime, calculateMinorTickIntervalDateTime, calculateTickIntervalByCustomTicks, calculateTickIntervalByCustomTicks, dateToMilliseconds, calculateTicks(addIntervalDate, correctMinValueByEndOnTick(floor, ceil, resolveEndOnTickDate, options.endOnTick), adjustIntervalDateTime, resolveEndOnTickDate, resolveExtraTickForHiddenDataPointDate), calculateMinorTicks(getValue, addIntervalDate, floor, addIntervalDate, getValue), getScaleBreaksProcessor(dateToMilliseconds, getValue, function (value, correction) {\n    return new Date(value.getTime() + correction);\n  }));\n}\n\nexports.tickGenerator = function (options) {\n  var result;\n\n  if (options.rangeIsEmpty) {\n    result = dummyGenerator(options);\n  } else {\n    if (\"discrete\" === options.axisType) {\n      result = discreteGenerator(options);\n    } else {\n      if (\"logarithmic\" === options.axisType) {\n        result = logarithmicGenerator(options);\n      } else {\n        if (\"datetime\" === options.dataType) {\n          result = dateGenerator(options);\n        } else {\n          result = numericGenerator(options);\n        }\n      }\n    }\n  }\n\n  return result;\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/axes/tick_generator.js"],"names":["_utils","require","_date","_date2","_interopRequireDefault","_type","_math","_extend","obj","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Symbol","Object","_arr","_n","_d","_e","_i","arr","_s","i","Array","convertDateUnitToMilliseconds","dateToMilliseconds","math","mathAbs","mathFloor","mathCeil","mathPow","NUMBER_MULTIPLIERS","LOGARITHMIC_MULTIPLIERS","DATETIME_MULTIPLIERS","millisecond","second","minute","hour","day","week","month","DATETIME_MULTIPLIERS_WITH_BIG_WEEKEND","DATETIME_MINOR_MULTIPLIERS","MINOR_DELIMITERS","VISIBILITY_DELIMITER","MINUTE","count","screenDelta","options","interval","ticks","tickInterval","categories","data","getValue","getLogValue","raiseTo","mathRaiseTo","logAbsValue","correctValueByInterval","post","round","endOnTick","floorTickValue","floorFunc","value","resolveEndOnTick","ceilFunc","prevTickDataDiff","tickValue","intervalCount","businessViewInfo","businessRatio","potentialTickScreenDiff","delimiterFactor","delimiterMultiplier","screenDelimiter","curValue","screenRatio","extDir","isMin","tickDir","checkDataVisibility","extremum","tick","resolveExtraTickForHiddenDataPoint","spacing","prev","item","getLog","addTickCount","businessDelta","factorDelta","getIntervalByFactor","result","onlyIntegers","adjustInterval","minTickInterval","factor","getMultiplierFactor","multipliers","r","cur","getAdjustIntervalLog","m","gapSize","key","years","adjustIntervalDateTime","getDataTimeMultipliers","numbersReducer","yearsReducer","calculateTickIntervalDateTime","postProcess","raise","addInterval","log","breaks","b","breakSize","correctValue","correctTickValue","correctTickValueOnGapSize","min","max","axisDivisionFactor","isSpacedMargin","correctMinValue","addIntervalWithBreaks","generateExtraTick","lastMajor","majorTicks","firstMajor","tickBalance","maxCount","minorTickInterval","updateTickInterval","middleTicks","prevTick","minors","maxValue","ceil","tmpTicks","getMajorTickIntervalByCustomTicks","customTicks","getMinorTickIntervalByCustomTicks","minorTicks","convertTickInterval","limit","gaps","correctUserTickInterval","calculateTickInterval","calculateTicks","processScaleBreaks","filterTicks","minorBusinessDelta","minorScreenDelta","minorTickCount","calculateMinorTickInterval","calculateMinorTicks","getBusinessDelta","processCustomTicks","isNaN","generateMajorTicks","generateMinorTicks","_ref2","_slicedToArray","insideTick","correction","breakTicks","from","addCorrection","getBaseTick","to","cumulativeWidth","floor","calculateTickIntervalByCustomTicks","getTickIntervalByCustomTicks","generator","correctMinValueByEndOnTick","getScaleBreaksProcessor","correctValueByIntervalLog","getRound","base","absLog","absRaise","absFloor","absCeil","ceilNumber","getBusinessDeltaLog","getCalculateTickIntervalLog","addIntervalLog","resolveEndOnTickLog","resolveExtraTickForHiddenDataPointLog","Math","floorNumber","intervalObject","divider","correctDateWithUnitBeginning","floorAtStartDate","v","newValue","addIntervalDate","exports","dummyGenerator","discreteGenerator","logarithmicGenerator","dateGenerator","numericGenerator"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,MAAM,GAAGC,OAAO,CAApB,eAAoB,CAApB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAnB,uBAAmB,CAAnB;;AACA,IAAIE,MAAM,GAAGC,sBAAsB,CAAnC,KAAmC,CAAnC;;AACA,IAAIC,KAAK,GAAGJ,OAAO,CAAnB,uBAAmB,CAAnB;;AACA,IAAIK,KAAK,GAAGL,OAAO,CAAnB,uBAAmB,CAAnB;;AACA,IAAIM,OAAO,GAAGN,OAAO,CAArB,yBAAqB,CAArB;;AAEA,SAAA,sBAAA,CAAA,GAAA,EAAqC;AACjC,SAAOO,GAAG,IAAIA,GAAG,CAAVA,UAAAA,GAAAA,GAAAA,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AAED,SAAA,cAAA,CAAA,GAAA,EAAA,CAAA,EAAgC;AAC5B,SAAOC,eAAe,CAAfA,GAAe,CAAfA,IAAwBC,qBAAqB,CAAA,GAAA,EAA7CD,CAA6C,CAA7CA,IAAyDE,gBAAhE,EAAA;AACH;;AAED,SAAA,gBAAA,GAA4B;AACxB,QAAM,IAAA,SAAA,CAAN,sDAAM,CAAN;AACH;;AAED,SAAA,qBAAA,CAAA,GAAA,EAAA,CAAA,EAAuC;AACnC,MAAI,EAAEC,MAAM,CAANA,QAAAA,IAAmBC,MAAM,CAAzBD,GAAyB,CAAzBA,IAAkC,yBAAyBC,MAAM,CAANA,SAAAA,CAAAA,QAAAA,CAAAA,IAAAA,CAAjE,GAAiEA,CAA7D,CAAJ,EAAuG;AACnG;AACH;;AACD,MAAIC,IAAI,GAAR,EAAA;AACA,MAAIC,EAAE,GAAN,IAAA;AACA,MAAIC,EAAE,GAAN,KAAA;;AACA,MAAIC,EAAE,GAAG,KAAT,CAAA;;AACA,MAAI;AACA,SAAK,IAAA,EAAA,EAAQC,EAAE,GAAGC,GAAG,CAACP,MAAM,CAA5B,QAAqB,CAAHO,EAAlB,EAA0C,EAAEJ,EAAE,GAAG,CAACK,EAAE,GAAGF,EAAE,CAAR,IAAMA,EAAN,EAAjD,IAA0C,CAA1C,EAAyEH,EAAE,GAA3E,IAAA,EAAoF;AAChFD,MAAAA,IAAI,CAAJA,IAAAA,CAAUM,EAAE,CAAZN,KAAAA;;AACA,UAAIO,CAAC,IAAIP,IAAI,CAAJA,MAAAA,KAAT,CAAA,EAA4B;AACxB;AACH;AACJ;AANL,GAAA,CAOE,OAAA,GAAA,EAAY;AACVE,IAAAA,EAAE,GAAFA,IAAAA;AACAC,IAAAA,EAAE,GAAFA,GAAAA;AATJ,GAAA,SAUU;AACN,QAAI;AACA,UAAI,CAAA,EAAA,IAAO,QAAQC,EAAE,CAArB,MAAA,EAA8B;AAC1BA,QAAAA,EAAE,CAAFA,MAAAA;AACH;AAHL,KAAA,SAIU;AACN,UAAA,EAAA,EAAQ;AACJ,cAAA,EAAA;AACH;AACJ;AACJ;;AACD,SAAA,IAAA;AACH;;AAED,SAAA,eAAA,CAAA,GAAA,EAA8B;AAC1B,MAAII,KAAK,CAALA,OAAAA,CAAJ,GAAIA,CAAJ,EAAwB;AACpB,WAAA,GAAA;AACH;AACJ;;AACD,IAAIC,6BAA6B,GAAGpB,MAAM,CAANA,OAAAA,CAApC,6BAAA;AACA,IAAIqB,kBAAkB,GAAGrB,MAAM,CAANA,OAAAA,CAAzB,kBAAA;AACA,IAAIsB,IAAI,GAAR,IAAA;AACA,IAAIC,OAAO,GAAGD,IAAI,CAAlB,GAAA;AACA,IAAIE,SAAS,GAAGF,IAAI,CAApB,KAAA;AACA,IAAIG,QAAQ,GAAGH,IAAI,CAAnB,IAAA;AACA,IAAII,OAAO,GAAGJ,IAAI,CAAlB,GAAA;AACA,IAAIK,kBAAkB,GAAG,CAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAzB,CAAyB,CAAzB;AACA,IAAIC,uBAAuB,GAAG,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAA9B,CAA8B,CAA9B;AACA,IAAIC,oBAAoB,GAAG;AACvBC,EAAAA,WAAW,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EADU,GACV,CADU;AAEvBC,EAAAA,MAAM,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAFe,EAEf,CAFe;AAGvBC,EAAAA,MAAM,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAHe,EAGf,CAHe;AAIvBC,EAAAA,IAAI,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAJiB,EAIjB,CAJiB;AAKvBC,EAAAA,GAAG,EAAE,CAAA,CAAA,EALkB,CAKlB,CALkB;AAMvBC,EAAAA,IAAI,EAAE,CAAA,CAAA,EANiB,CAMjB,CANiB;AAOvBC,EAAAA,KAAK,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AAPgB,CAA3B;AASA,IAAIC,qCAAqC,GAAG,CAAC,GAAGjC,OAAO,CAAX,MAAA,EAAA,EAAA,EAAA,oBAAA,EAA8C;AACtF8B,EAAAA,GAAG,EAAE,CAAA,CAAA;AADiF,CAA9C,CAA5C;AAGA,IAAII,0BAA0B,GAAG;AAC7BR,EAAAA,WAAW,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EADgB,GAChB,CADgB;AAE7BC,EAAAA,MAAM,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAFqB,EAErB,CAFqB;AAG7BC,EAAAA,MAAM,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAHqB,EAGrB,CAHqB;AAI7BC,EAAAA,IAAI,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAJuB,EAIvB,CAJuB;AAK7BC,EAAAA,GAAG,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EALwB,EAKxB,CALwB;AAM7BE,EAAAA,KAAK,EAAE,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AANsB,CAAjC;AAQA,IAAIG,gBAAgB,GAAG,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAvB,EAAuB,CAAvB;AACA,IAAIC,oBAAoB,GAAxB,CAAA;AACA,IAAIC,MAAM,GAAV,GAAA;;AAEA,SAAA,cAAA,CAAA,OAAA,EAAiC;AAC7B,SAAO,UAAA,IAAA,EAAA,WAAA,EAAA,YAAA,EAAA,iBAAA,EAA6D;AAChE,QAAIC,KAAK,GAAGlB,SAAS,CAACmB,WAAW,GAAGC,OAAO,CAA3C,kBAAqB,CAArB;AACAF,IAAAA,KAAK,GAAGA,KAAK,GAALA,CAAAA,GAAAA,CAAAA,GAARA,KAAAA;AACA,QAAIG,QAAQ,GAAGF,WAAW,GAA1B,KAAA;AACA,WAAO;AACHG,MAAAA,KAAK,EAAE,QAAQ,GAAR,CAAA,GAAe,KAAK,CAAL,KAAA,CAAA,IAAA,EAAkB,IAAA,KAAA,CAAUJ,KAAK,GAAjC,CAAkB,CAAlB,EAAA,GAAA,CAA4C,UAAA,CAAA,EAAA,CAAA,EAAe;AAC7E,eAAOG,QAAQ,GAAf,CAAA;AADG,OAAe,CAAf,GADJ,EAAA;AAIHE,MAAAA,YAAY,EAAEF;AAJX,KAAP;AAJJ,GAAA;AAWH;;AAED,SAAA,iBAAA,CAAA,OAAA,EAAoC;AAChC,SAAO,UAAA,IAAA,EAAA,WAAA,EAAA,YAAA,EAAA,iBAAA,EAA6D;AAChE,QAAIG,UAAU,GAAG,CAAC,GAAGnD,MAAM,CAAV,iBAAA,EAA8BoD,IAAI,CAAlC,UAAA,EAA+CA,IAAI,CAAnD,GAAA,EAAyDA,IAAI,CAA7D,GAAA,EAAjB,UAAA;AACA,WAAO;AACHH,MAAAA,KAAK,EADF,UAAA;AAEHC,MAAAA,YAAY,EAAEtB,QAAQ,CAACuB,UAAU,CAAVA,MAAAA,GAAoBJ,OAAO,CAA3BI,kBAAAA,GAAD,WAAA;AAFnB,KAAP;AAFJ,GAAA;AAOH;;AACD,IAAIE,QAAQ,GAAG,SAAXA,QAAW,CAAA,KAAA,EAAgB;AAC3B,SAAA,KAAA;AADJ,CAAA;;AAGA,IAAIC,WAAW,GAAG,SAAdA,WAAc,CAAA,IAAA,EAAA,cAAA,EAAA,eAAA,EAAgD;AAC9D,SAAO,UAAA,KAAA,EAAgB;AACnB,WAAO,CAAC,GAAGtD,MAAM,CAAV,SAAA,EAAA,KAAA,EAAA,IAAA,EAAA,cAAA,EAAP,eAAO,CAAP;AADJ,GAAA;AADJ,CAAA;;AAKA,IAAIuD,OAAO,GAAG,SAAVA,OAAU,CAAA,IAAA,EAAA,cAAA,EAAA,eAAA,EAAgD;AAC1D,SAAO,UAAA,KAAA,EAAgB;AACnB,WAAO,CAAC,GAAGvD,MAAM,CAAV,UAAA,EAAA,KAAA,EAAA,IAAA,EAAA,cAAA,EAAP,eAAO,CAAP;AADJ,GAAA;AADJ,CAAA;;AAKA,IAAIwD,WAAW,GAAG,SAAdA,WAAc,CAAA,IAAA,EAAe;AAC7B,SAAO,UAAA,KAAA,EAAgB;AACnB,WAAO,CAAC,GAAGxD,MAAM,CAAV,OAAA,EAAA,KAAA,EAAP,IAAO,CAAP;AADJ,GAAA;AADJ,CAAA;;AAKA,IAAIyD,WAAW,GAAG,SAAdA,WAAc,CAAA,IAAA,EAAe;AAC7B,SAAO,UAAA,KAAA,EAAgB;AACnB,WAAO,MAAA,KAAA,GAAA,CAAA,GAAkB,CAAC,GAAGzD,MAAM,CAAV,MAAA,EAAmB0B,OAAO,CAA1B,KAA0B,CAA1B,EAAzB,IAAyB,CAAzB;AADJ,GAAA;AADJ,CAAA;;AAKA,IAAIgC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAgC;AACzD,SAAO,UAAA,KAAA,EAAA,QAAA,EAA0B;AAC7B,WAAO,CAAC,GAAGpD,KAAK,CAAT,MAAA,EAAkBqD,IAAI,CAACC,KAAK,CAAC,CAAC,GAAGtD,KAAK,CAAT,MAAA,EAAkB+C,QAAQ,CAARA,KAAQ,CAARA,GAAxBO,QAAM,CAAD,CAALA,GAA9B,QAA6B,CAAtB,CAAP;AADJ,GAAA;AADJ,CAAA;;AAMA,SAAA,0BAAA,CAAA,SAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,SAAA,EAAsF;AAClF,MAAI,CAAC,GAAGvD,KAAK,CAAT,SAAA,EAAJ,SAAI,CAAJ,EAAqC;AACjC,WAAOwD,SAAS,GAAA,SAAA,GAAhB,QAAA;AACH;;AACD,SAAO,UAAA,KAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,cAAA,EAA4D;AAC/D,QAAIC,cAAc,GAAGC,SAAS,CAAA,KAAA,EAA9B,QAA8B,CAA9B;;AACA,QAAIC,KAAK,GAALA,cAAAA,KAAAA,CAAAA,IAAgC,CAAC,CAAC,GAAG3D,KAAK,CAAT,SAAA,EAAjC2D,gBAAiC,CAAjCA,IAA2EC,gBAAgB,CAAA,KAAA,EAAA,cAAA,EAAA,QAAA,EAA3FD,gBAA2F,CAA3FA,IAAJ,cAAA,EAAsK;AAClK,aAAA,cAAA;AACH;;AACD,WAAOE,QAAQ,CAAA,KAAA,EAAf,QAAe,CAAf;AALJ,GAAA;AAOH;;AAED,SAAA,gBAAA,CAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,gBAAA,EAA2E;AACvE,MAAIC,gBAAgB,GAAGnB,QAAQ,GAAGtB,OAAO,CAAC0C,SAAS,GAAnD,QAAyC,CAAzC;AACA,MAAIC,aAAa,GAAG5C,IAAI,CAAJA,GAAAA,CAASG,QAAQ,CAAC0C,gBAAgB,CAAhBA,aAAAA,GAAlB7C,QAAiB,CAAjBA,EAApB,CAAoBA,CAApB;AACA,MAAI8C,aAAa,GAAGD,gBAAgB,CAAhBA,WAAAA,IAAgCD,aAAa,GAAjE,QAAoBC,CAApB;AACA,MAAIE,uBAAuB,GAAG/C,IAAI,CAAJA,KAAAA,CAAW8C,aAAa,GAAtD,gBAA8B9C,CAA9B;AACA,MAAIgD,eAAe,GAAG,CAAC,GAAGzE,MAAM,CAAV,SAAA,EAAsBuE,aAAa,GAAbA,QAAAA,GAA2BD,gBAAgB,CAAjE,kBAAA,EAAA,CAAA,IAAtB,CAAA;AACA,MAAII,mBAAmB,GAAG,CAACJ,gBAAgB,CAAhBA,cAAAA,GAAAA,CAAAA,GAAD,CAAA,IAA1B,eAAA;AACA,MAAIK,eAAe,GAAGlD,IAAI,CAAJA,KAAAA,CAAWkB,oBAAoB,GAArD,mBAAsBlB,CAAtB;AACA,SAAO6C,gBAAgB,CAAhBA,aAAAA,GAAiCA,gBAAgB,CAAjDA,QAAAA,IAA8DE,uBAAuB,IAA5F,eAAA;AACH;;AAED,SAAA,mBAAA,CAAA,IAAA,EAAmC;AAC/B,SAAO,UAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,gBAAA,EAA0D;AAC7D,WAAOP,gBAAgB,CAAC,CAAC,GAAGjE,MAAM,CAAV,SAAA,EAAA,QAAA,EAAD,IAAC,CAAD,EAAwC,CAAC,GAAGA,MAAM,CAAV,SAAA,EAAA,SAAA,EAAxC,IAAwC,CAAxC,EAAA,QAAA,EAAvB,gBAAuB,CAAvB;AADJ,GAAA;AAGH;;AAED,SAAA,oBAAA,CAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,gBAAA,EAA+E;AAC3E,SAAOiE,gBAAgB,CAACW,QAAQ,CAAT,OAACA,EAAD,EAAqBR,SAAS,CAA9B,OAAqBA,EAArB,EAA0C5C,kBAAkB,CAA5D,QAA4D,CAA5D,EAAvB,gBAAuB,CAAvB;AACH;;AAED,SAAA,kCAAA,CAAA,mBAAA,EAAA,QAAA,EAAA,IAAA,EAAA,gBAAA,EAAA,KAAA,EAA0G;AACtG,MAAIqD,WAAW,GAAGP,gBAAgB,CAAhBA,WAAAA,GAA+BA,gBAAgB,CAAjE,aAAA;AACA,MAAIQ,MAAM,GAAGC,KAAK,GAAA,CAAA,GAAO,CAAzB,CAAA;AACA,MAAIC,OAAO,GAAGD,KAAK,GAAG,CAAH,CAAA,GAAnB,CAAA;AACA,SAAOE,mBAAmB,IAAIJ,WAAW,IAAIK,QAAQ,GAARA,MAAAA,GAAoBC,IAAI,GAAvCN,OAAW,CAAXA,GAA9B,oBAAA;AACH;;AAED,SAAA,qCAAA,CAAA,IAAA,EAAqD;AACjD,SAAO,UAAA,mBAAA,EAAA,QAAA,EAAA,IAAA,EAAA,gBAAA,EAAA,KAAA,EAAuE;AAC1E,WAAOO,kCAAkC,CAAA,mBAAA,EAAsB,CAAC,GAAGpF,MAAM,CAAV,SAAA,EAAA,QAAA,EAAtB,IAAsB,CAAtB,EAA6D,CAAC,GAAGA,MAAM,CAAV,SAAA,EAAA,IAAA,EAA7D,IAA6D,CAA7D,EAAA,gBAAA,EAAzC,KAAyC,CAAzC;AADJ,GAAA;AAGH;;AAED,SAAA,sCAAA,CAAA,mBAAA,EAAA,QAAA,EAAA,IAAA,EAAA,gBAAA,EAAA,KAAA,EAA8G;AAC1G,SAAOoF,kCAAkC,CAAA,mBAAA,EAAsBF,QAAQ,CAA9B,OAAsBA,EAAtB,EAA0CC,IAAI,CAA9C,OAA0CA,EAA1C,EAAA,gBAAA,EAAzC,KAAyC,CAAzC;AACH;;AAED,SAAA,gBAAA,CAAA,IAAA,EAAA,MAAA,EAAwC;AACpC,MAAIE,OAAO,GAAX,CAAA;;AACA,MAAA,MAAA,EAAY;AACRA,IAAAA,OAAO,GAAG,MAAM,CAAN,MAAA,CAAc,UAAA,IAAA,EAAA,IAAA,EAAqB;AACzC,aAAOC,IAAI,IAAIC,IAAI,CAAJA,EAAAA,GAAUA,IAAI,CAA7B,IAAW,CAAX;AADM,KAAA,EAAVF,CAAU,CAAVA;AAGH;;AACD,SAAO3D,OAAO,CAAC0B,IAAI,CAAJA,GAAAA,GAAWA,IAAI,CAAfA,GAAAA,GAAf,OAAc,CAAd;AACH;;AAED,SAAA,mBAAA,CAAA,IAAA,EAAA,cAAA,EAAA,eAAA,EAAoE;AAChE,MAAIoC,MAAM,GAAGlC,WAAW,CAAA,IAAA,EAAA,cAAA,EAAxB,eAAwB,CAAxB;AACA,SAAO,UAAA,IAAA,EAAA,MAAA,EAAuB;AAC1B,QAAI+B,OAAO,GAAX,CAAA;;AACA,QAAA,MAAA,EAAY;AACRA,MAAAA,OAAO,GAAG,MAAM,CAAN,MAAA,CAAc,UAAA,IAAA,EAAA,IAAA,EAAqB;AACzC,eAAOC,IAAI,GAAG5D,OAAO,CAAC8D,MAAM,CAACD,IAAI,CAAJA,EAAAA,GAAUA,IAAI,CAA3C,IAA4B,CAAP,CAArB;AADM,OAAA,EAAVF,CAAU,CAAVA;AAGH;;AACD,WAAOzD,QAAQ,CAACF,OAAO,CAAC8D,MAAM,CAACpC,IAAI,CAAXoC,GAAM,CAANA,GAAmBA,MAAM,CAACpC,IAAI,CAAtC1B,GAAiC,CAA1B,CAAPA,GAAhB,OAAe,CAAf;AAPJ,GAAA;AASH;;AAED,SAAA,mBAAA,CAAA,aAAA,EAAA,WAAA,EAAA,kBAAA,EAAA,YAAA,EAA2F;AACvF,MAAImB,KAAK,GAAGC,WAAW,GAAXA,kBAAAA,IAAoC2C,YAAY,IAA5D,CAAY3C,CAAZ;AACAD,EAAAA,KAAK,GAAGA,KAAK,GAALA,CAAAA,GAAAA,CAAAA,GAARA,KAAAA;AACA,SAAO6C,aAAa,GAApB,KAAA;AACH;;AAED,SAAA,mBAAA,CAAA,QAAA,EAAA,WAAA,EAAoD;AAChD,SAAO7D,OAAO,CAAA,EAAA,EAAKF,SAAS,CAAC,CAAC,GAAG3B,MAAM,CAAV,SAAA,EAAA,QAAA,EAAV2B,EAAU,CAAD,CAATA,IAAkDgE,WAAW,IAAhF,CAAmBhE,CAAL,CAAd;AACH;;AAED,SAAA,qBAAA,CAAA,aAAA,EAAA,WAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,kBAAA,EAAA,WAAA,EAAA,aAAA,EAAA,YAAA,EAAA,CAAA,EAAA,eAAA,EAA8K;AAC1K,MAAIqB,QAAQ,GAAG4C,mBAAmB,CAAA,aAAA,EAAA,WAAA,EAAA,kBAAA,EAAlC,YAAkC,CAAlC;AACA,MAAIC,MAAM,GAAV,CAAA;AACA,MAAIC,YAAY,GAAG,UAAnB,aAAA;;AACA,MAAI,CAAA,iBAAA,IAAsB,CAA1B,YAAA,EAAyC;AACrC,QAAI9C,QAAQ,IAARA,CAAAA,IAAiB,CAAA,YAAA,IAAiBA,QAAQ,GAA9C,CAAA,EAAoD;AAChD6C,MAAAA,MAAM,GAAGE,cAAc,CAAA,QAAA,EAAA,WAAA,EAAvBF,YAAuB,CAAvBA;AACH;;AACD,QAAI,CAAA,YAAA,IAAiB,CAAA,iBAAA,IAAsB3C,YAAY,GAAvD,MAAA,EAAkE;AAC9DA,MAAAA,YAAY,GAAZA,MAAAA;AACH;AACJ;;AACD,MAAI,CAAA,iBAAA,IAAJ,eAAA,EAA2C;AACvC8C,IAAAA,eAAe,GAAGD,cAAc,CAAA,eAAA,EAAA,WAAA,EAAhCC,YAAgC,CAAhCA;;AACA,QAAIA,eAAe,GAAnB,YAAA,EAAoC;AAChC9C,MAAAA,YAAY,GAAZA,eAAAA;AACH;AACJ;;AACD,SAAA,YAAA;AACH;;AAED,SAAA,cAAA,CAAA,QAAA,EAAA,WAAA,EAAA,YAAA,EAA6D;AACzD,MAAI+C,MAAM,GAAGC,mBAAmB,CAAA,QAAA,EAAW,CAA3C,CAAgC,CAAhC;AACA,MAAIL,MAAM,GAAV,CAAA;AACAM,EAAAA,WAAW,GAAGA,WAAW,IAAzBA,kBAAAA;;AACA,MAAInD,QAAQ,GAAZ,CAAA,EAAkB;AACdA,IAAAA,QAAQ,IAARA,MAAAA;AACA6C,IAAAA,MAAM,GAAG,WAAW,CAAX,MAAA,CAAmB,KAAKM,WAAW,CAAnC,CAAmC,CAAnC,EAAA,GAAA,CAA4C,UAAA,CAAA,EAAY;AAC7D,aAAO,KAAP,CAAA;AADK,KAAA,EAAA,MAAA,CAEC,UAAA,CAAA,EAAA,CAAA,EAAe;AACrB,UAAI,OAAA,MAAA,IAAA,YAAA,IAAiC,OAArC,CAAA,EAA+C;AAC3C,eAAA,CAAA;AACH;;AACD,aAAOC,CAAC,GAADA,QAAAA,GAAAA,CAAAA,GAAP,CAAA;AANK,KAAA,EAATP,CAAS,CAATA;AAQAA,IAAAA,MAAM,GAAG,CAAC,GAAGvF,KAAK,CAAT,MAAA,EAAkBuF,MAAM,GAAxB,MAAA,EAATA,MAAS,CAATA;AACH;;AACD,SAAA,MAAA;AACH;;AAED,SAAA,0BAAA,CAAA,aAAA,EAAA,WAAA,EAAA,YAAA,EAAA,kBAAA,EAAkG;AAC9F,MAAI7C,QAAQ,GAAG4C,mBAAmB,CAAA,aAAA,EAAA,WAAA,EAAlC,kBAAkC,CAAlC;AACA,SAAO1C,YAAY,IAAI,gBAAgB,CAAhB,MAAA,CAAwB,UAAA,CAAA,EAAA,CAAA,EAAe;AAC1D,QAAImD,GAAG,GAAGX,aAAa,GAAvB,CAAA;AACA,WAAOW,GAAG,IAAHA,QAAAA,GAAAA,GAAAA,GAAP,CAAA;AAFmB,GAAA,EAAvB,CAAuB,CAAvB;AAIH;;AAED,SAAA,2BAAA,CAAA,qBAAA,EAA4D;AACxD,SAAO,UAAA,aAAA,EAAA,WAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,kBAAA,EAAA,WAAA,EAAA,aAAA,EAAA,CAAA,EAAA,EAAA,EAAA,eAAA,EAA8I;AACjJ,QAAIrD,QAAQ,GAAG4C,mBAAmB,CAAA,aAAA,EAAA,WAAA,EAAlC,kBAAkC,CAAlC;AACA,QAAIC,MAAM,GAAV,CAAA;AACA,QAAIE,cAAc,GAAGO,oBAAoB,CAAzC,qBAAyC,CAAzC;;AACA,QAAI,CAAA,iBAAA,IAAsB,CAA1B,YAAA,EAAyC;AACrC,UAAItD,QAAQ,GAAZ,CAAA,EAAkB;AACd6C,QAAAA,MAAM,GAAGE,cAAc,CAAA,QAAA,EAAvBF,WAAuB,CAAvBA;AACH;;AACD,UAAI,CAAA,YAAA,IAAiB,CAAA,iBAAA,IAAsB3C,YAAY,GAAvD,MAAA,EAAkE;AAC9DA,QAAAA,YAAY,GAAZA,MAAAA;AACH;AACJ;;AACD,QAAI,CAAA,iBAAA,IAAJ,eAAA,EAA2C;AACvC8C,MAAAA,eAAe,GAAGD,cAAc,CAAA,eAAA,EAAhCC,WAAgC,CAAhCA;;AACA,UAAIA,eAAe,GAAnB,YAAA,EAAoC;AAChC9C,QAAAA,YAAY,GAAZA,eAAAA;AACH;AACJ;;AACD,WAAA,YAAA;AAlBJ,GAAA;AAoBH;;AAED,SAAA,oBAAA,CAAA,qBAAA,EAAqD;AACjD,SAAO,UAAA,QAAA,EAAA,WAAA,EAAgC;AACnC,QAAI+C,MAAM,GAAGC,mBAAmB,CAAhC,QAAgC,CAAhC;AACAC,IAAAA,WAAW,GAAGA,WAAW,IAAzBA,uBAAAA;;AACA,QAAI,CAAA,qBAAA,IAA0BF,MAAM,GAApC,CAAA,EAA0C;AACtCA,MAAAA,MAAM,GAANA,CAAAA;AACH;;AACD,WAAO,WAAW,CAAX,MAAA,CAAmB,KAAKE,WAAW,CAAnC,CAAmC,CAAnC,EAAA,MAAA,CAA+C,UAAA,CAAA,EAAA,CAAA,EAAe;AACjE,aAAOC,CAAC,GAADA,QAAAA,GAAeG,CAAC,GAAhBH,MAAAA,GAAP,CAAA;AADG,KAAA,EAAP,CAAO,CAAP;AANJ,GAAA;AAUH;;AAED,SAAA,sBAAA,CAAA,OAAA,EAAyC;AACrC,MAAII,OAAO,IAAIA,OAAO,GAAtB,CAAA,EAA4B;AACxB,WAAA,qCAAA;AADJ,GAAA,MAEO;AACH,WAAA,oBAAA;AACH;AACJ;;AAED,SAAA,cAAA,CAAA,QAAA,EAAA,GAAA,EAAuC;AACnC,SAAO,UAAA,CAAA,EAAA,CAAA,EAAe;AAClB,QAAI,CAAA,CAAA,IAAMxD,QAAQ,IAAIzB,6BAA6B,CAAA,GAAA,EAAnD,CAAmD,CAAnD,EAA6D;AACzD6E,MAAAA,CAAC,GAADA,EAAAA;AACAA,MAAAA,CAAC,CAACK,GAAG,GAALL,GAAC,CAADA,GAAAA,CAAAA;AACH;;AACD,WAAA,CAAA;AALJ,GAAA;AAOH;;AAED,SAAA,YAAA,CAAA,QAAA,EAAA,MAAA,EAAwC;AACpC,SAAO,UAAA,CAAA,EAAA,CAAA,EAAe;AAClB,QAAIM,KAAK,GAAGT,MAAM,GAAlB,CAAA;;AACA,QAAI,CAAA,CAAA,IAAMjD,QAAQ,IAAIzB,6BAA6B,CAAA,MAAA,EAA/C,KAA+C,CAA/C,IAAkE,QAAtE,KAAA,EAAqF;AACjF6E,MAAAA,CAAC,GAAG;AACAM,QAAAA,KAAK,EAAEA;AADP,OAAJN;AAGH;;AACD,WAAA,CAAA;AAPJ,GAAA;AASH;;AAED,SAAA,6BAAA,CAAA,aAAA,EAAA,WAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,kBAAA,EAAA,WAAA,EAAA,aAAA,EAAA,YAAA,EAAA,OAAA,EAAA,eAAA,EAA4L;AACxL,MAAI,CAAA,iBAAA,IAAsB,CAA1B,YAAA,EAAyC;AACrC,QAAIP,MAAM,GAAGc,sBAAsB,CAACf,mBAAmB,CAAA,aAAA,EAAA,WAAA,EAApB,kBAAoB,CAApB,EAAA,WAAA,EAAA,IAAA,EAAnC,OAAmC,CAAnC;;AACA,QAAI,CAAA,YAAA,IAAiB,CAAA,iBAAA,IAAsBpE,kBAAkB,CAAlBA,YAAkB,CAAlBA,IAAoCA,kBAAkB,CAAjG,MAAiG,CAAjG,EAA2G;AACvG0B,MAAAA,YAAY,GAAZA,MAAAA;AACH;AACJ;;AACD,MAAI,CAAA,iBAAA,IAAJ,eAAA,EAA2C;AACvC8C,IAAAA,eAAe,GAAGW,sBAAsB,CAAA,eAAA,EAAA,WAAA,EAAA,IAAA,EAAxCX,OAAwC,CAAxCA;;AACA,QAAIxE,kBAAkB,CAAlBA,eAAkB,CAAlBA,GAAsCA,kBAAkB,CAA5D,YAA4D,CAA5D,EAA4E;AACxE0B,MAAAA,YAAY,GAAZA,eAAAA;AACH;AACJ;;AACD,SAAA,YAAA;AACH;;AAED,SAAA,sBAAA,CAAA,QAAA,EAAA,WAAA,EAAA,CAAA,EAAA,OAAA,EAAmE;AAC/D,MAAA,MAAA;AACAiD,EAAAA,WAAW,GAAGA,WAAW,IAAIS,sBAAsB,CAAnDT,OAAmD,CAAnDA;;AACA,OAAK,IAAL,GAAA,IAAA,WAAA,EAA6B;AACzBN,IAAAA,MAAM,GAAGM,WAAW,CAAXA,GAAW,CAAXA,CAAAA,MAAAA,CAAwBU,cAAc,CAAA,QAAA,EAAtCV,GAAsC,CAAtCA,EAATN,MAASM,CAATN;;AACA,QAAA,MAAA,EAAY;AACR;AACH;AACJ;;AACD,MAAI,CAAJ,MAAA,EAAa;AACT,SAAK,IAAII,MAAM,GAAf,CAAA,GAAsBA,MAAM,IAA5B,EAAA,EAAoC;AAChCJ,MAAAA,MAAM,GAAG/D,kBAAkB,CAAlBA,MAAAA,CAA0BgF,YAAY,CAAA,QAAA,EAAtChF,MAAsC,CAAtCA,EAAT+D,MAAS/D,CAAT+D;;AACA,UAAA,MAAA,EAAY;AACR;AACH;AACJ;AACJ;;AACD,SAAA,MAAA;AACH;;AAED,SAAA,kCAAA,CAAA,aAAA,EAAA,WAAA,EAAA,YAAA,EAAA,kBAAA,EAA0G;AACtG,SAAOkB,6BAA6B,CAAA,aAAA,EAAA,WAAA,EAAA,YAAA,EAAA,IAAA,EAAA,kBAAA,EAApC,0BAAoC,CAApC;AACH;;AAED,SAAA,4BAAA,CAAA,QAAA,EAAA,WAAA,EAA6D;AACzD,SAAO,UAAA,KAAA,EAAgB;AACnB,WAAO9D,KAAK,GAAG+D,WAAW,CAACtF,OAAO,CAAC,CAAC,GAAGpB,KAAK,CAAT,MAAA,EAAkB+C,QAAQ,CAACJ,KAAK,CAAdI,CAAc,CAAN,CAARA,GAAqBA,QAAQ,CAACJ,KAAK,CAAzE+D,CAAyE,CAAN,CAA/C,CAAD,CAAR,CAAXA,IAAoF,KAAvF,CAAA,GAAgG,KAA5G,CAAA;AADJ,GAAA;AAGH;;AAED,SAAA,WAAA,CAAA,KAAA,EAAA,QAAA,EAAA,UAAA,EAAkD;AAC9C,SAAO7G,MAAM,CAANA,OAAAA,CAAAA,WAAAA,CAAAA,KAAAA,EAAAA,QAAAA,EAAP,UAAOA,CAAP;AACH;;AAED,SAAA,cAAA,CAAA,GAAA,EAAA,KAAA,EAAoC;AAChC,SAAO,UAAA,KAAA,EAAA,QAAA,EAAA,UAAA,EAAsC;AACzC,WAAO8G,KAAK,CAACC,WAAW,CAACC,GAAG,CAAJ,KAAI,CAAJ,EAAA,QAAA,EAAxB,UAAwB,CAAZ,CAAZ;AADJ,GAAA;AAGH;;AAED,SAAA,eAAA,CAAA,KAAA,EAAA,QAAA,EAAA,UAAA,EAAsD;AAClD,SAAOD,WAAW,CAAA,KAAA,EAAA,QAAA,EAAlB,UAAkB,CAAlB;AACH;;AAED,SAAA,qBAAA,CAAA,WAAA,EAAA,MAAA,EAAA,YAAA,EAAkE;AAC9DE,EAAAA,MAAM,GAAG,MAAM,CAAN,MAAA,CAAc,UAAA,CAAA,EAAY;AAC/B,WAAO,CAACC,CAAC,CAAT,OAAA;AADJD,GAAS,CAATA;AAGA,SAAO,UAAA,KAAA,EAAA,QAAA,EAAA,UAAA,EAAsC;AACzC,QAAA,SAAA;AACApD,IAAAA,KAAK,GAAGkD,WAAW,CAAA,KAAA,EAAA,QAAA,EAAnBlD,UAAmB,CAAnBA;;AACA,QAAI,CAAC,MAAM,CAAN,KAAA,CAAa,UAAA,IAAA,EAAe;AACzB,UAAIA,KAAK,IAAIkD,WAAW,CAAC3B,IAAI,CAAL,IAAA,EAApBvB,QAAoB,CAApBA,IAA6CkD,WAAW,CAAA,KAAA,EAAXA,QAAW,CAAXA,GAA+B3B,IAAI,CAApF,EAAA,EAAyF;AACrF+B,QAAAA,SAAS,GAAG/B,IAAI,CAAJA,EAAAA,GAAUA,IAAI,CAAdA,IAAAA,GAAsB,KAAK2B,WAAW,CAAC3B,IAAI,CAAL,IAAA,EAAX2B,QAAW,CAAXA,GAAmC3B,IAAI,CAA9E+B,IAAkC,CAAlCA;AACH;;AACD,aAAO,CAAP,SAAA;AAJR,KAAK,CAAL,EAKQ;AACJtD,MAAAA,KAAK,GAAGuD,YAAY,CAACL,WAAW,CAAA,KAAA,EAAZ,SAAY,CAAZ,EAApBlD,QAAoB,CAApBA;AACH;;AACD,WAAA,KAAA;AAXJ,GAAA;AAaH;;AAED,SAAA,cAAA,CAAA,WAAA,EAAA,eAAA,EAAA,cAAA,EAAA,gBAAA,EAAA,kCAAA,EAA4H;AACxH,SAAO,UAAA,IAAA,EAAA,YAAA,EAAA,SAAA,EAAA,IAAA,EAAA,MAAA,EAAA,aAAA,EAAA,WAAA,EAAA,kBAAA,EAAA,iBAAA,EAAyH;AAC5H,QAAIwD,gBAAgB,GAAGC,yBAAyB,CAAA,WAAA,EAAhD,IAAgD,CAAhD;AACA,QAAIC,GAAG,GAAGtE,IAAI,CAAd,GAAA;AACA,QAAIuE,GAAG,GAAGvE,IAAI,CAAd,GAAA;AACA,QAAIkB,gBAAgB,GAAG;AACnBxB,MAAAA,WAAW,EADQ,WAAA;AAEnB4C,MAAAA,aAAa,EAFM,aAAA;AAGnBkC,MAAAA,kBAAkB,EAHC,kBAAA;AAInBC,MAAAA,cAAc,EAAEzE,IAAI,CAJD,cAAA;AAKnBJ,MAAAA,QAAQ,EAAEE;AALS,KAAvB;AAOA,QAAImD,GAAG,GAAGyB,eAAe,CAAA,GAAA,EAAA,YAAA,EAAzB,gBAAyB,CAAzB;AACA,QAAI7E,KAAK,GAAT,EAAA;;AACA,QAAImE,MAAM,IAAIA,MAAM,CAApB,MAAA,EAA6B;AACzBF,MAAAA,WAAW,GAAGa,qBAAqB,CAAA,WAAA,EAAA,MAAA,EAAnCb,eAAmC,CAAnCA;AACH;;AACD,QAAIb,GAAG,GAAP,GAAA,EAAe;AACXA,MAAAA,GAAG,GAAGyB,eAAe,CAAA,GAAA,EAAM/B,cAAc,CAACL,aAAa,GAAlC,CAAoB,CAApB,EAArBW,gBAAqB,CAArBA;;AACA,UAAIA,GAAG,GAAP,GAAA,EAAe;AACXxC,QAAAA,SAAS,GAATA,IAAAA;AACAwC,QAAAA,GAAG,GAAGyB,eAAe,CAAA,GAAA,EAAA,YAAA,EAAA,gBAAA,EAArBzB,SAAqB,CAArBA;AACH;AACJ;;AACDA,IAAAA,GAAG,GAAGmB,gBAAgB,CAAtBnB,GAAsB,CAAtBA;AACA,QAAA,IAAA;;AACA,WAAOA,GAAG,GAAHA,GAAAA,IAAaA,GAAG,KAAhBA,IAAAA,IAA6B2B,iBAAiB,IAAI3B,GAAG,IAA5D,GAAA,EAAqE;AACjEpD,MAAAA,KAAK,CAALA,IAAAA,CAAAA,GAAAA;AACAqC,MAAAA,IAAI,GAAJA,GAAAA;AACAe,MAAAA,GAAG,GAAGmB,gBAAgB,CAACN,WAAW,CAAA,GAAA,EAAlCb,YAAkC,CAAZ,CAAtBA;AACH;;AACD,QAAIxC,SAAS,IAAIwC,GAAG,GAAHA,GAAAA,KAAbxC,CAAAA,IAAgC,CAAC,CAAC,GAAGxD,KAAK,CAAT,SAAA,EAAD,SAAC,CAAD,IAAoC4D,gBAAgB,CAAA,GAAA,EAAA,GAAA,EAAA,YAAA,EAAxF,gBAAwF,CAAxF,EAAoI;AAChIhB,MAAAA,KAAK,CAALA,IAAAA,CAAAA,GAAAA;AACH;;AACD,QAAIA,KAAK,CAALA,MAAAA,GAAJ,CAAA,EAAsB;AAClB,UAAIA,KAAK,CAALA,CAAK,CAALA,CAAAA,OAAAA,KAAAA,CAAAA,IAA0BmC,kCAAkC,CAAChC,IAAI,CAAL,sBAAA,EAAA,GAAA,EAAmCH,KAAK,CAAxC,CAAwC,CAAxC,EAAA,gBAAA,EAAhE,IAAgE,CAAhE,EAAsI;AAClIoD,QAAAA,GAAG,GAAGa,WAAW,CAACjE,KAAK,CAAN,CAAM,CAAN,EAAA,YAAA,EAAjBoD,IAAiB,CAAjBA;AACApD,QAAAA,KAAK,CAALA,OAAAA,CAAAA,GAAAA;AAFJ,OAAA,MAGO;AACH,YAAIA,KAAK,CAACA,KAAK,CAALA,MAAAA,GAANA,CAAK,CAALA,CAAAA,OAAAA,KAAAA,CAAAA,IAAyCmC,kCAAkC,CAAChC,IAAI,CAAL,sBAAA,EAAA,GAAA,EAAmCH,KAAK,CAACA,KAAK,CAALA,MAAAA,GAAzC,CAAwC,CAAxC,EAAA,gBAAA,EAA/E,KAA+E,CAA/E,EAAqK;AACjKoD,UAAAA,GAAG,GAAGa,WAAW,CAACjE,KAAK,CAACA,KAAK,CAALA,MAAAA,GAAP,CAAM,CAAN,EAAjBoD,YAAiB,CAAjBA;AACApD,UAAAA,KAAK,CAALA,IAAAA,CAAAA,GAAAA;AACH;AACJ;AACJ;;AACD,WAAA,KAAA;AA5CJ,GAAA;AA8CH;;AAED,SAAA,mBAAA,CAAA,kBAAA,EAAA,WAAA,EAAA,eAAA,EAAA,gBAAA,EAAA,IAAA,EAAuG;AACnG,SAAO,UAAA,GAAA,EAAA,GAAA,EAAA,UAAA,EAAA,iBAAA,EAAA,YAAA,EAAA,MAAA,EAAA,QAAA,EAAkF;AACrF,QAAIgD,MAAM,GAAG/C,YAAY,GAAzB,iBAAA;AACA,QAAI+E,SAAS,GAAGC,UAAU,CAACA,UAAU,CAAVA,MAAAA,GAA3B,CAA0B,CAA1B;AACA,QAAIC,UAAU,GAAGD,UAAU,CAA3B,CAA2B,CAA3B;AACA,QAAIE,WAAW,GAAGC,QAAQ,GAA1B,CAAA;;AACA,QAAIjB,MAAM,IAAIA,MAAM,CAApB,MAAA,EAA6B;AACzBF,MAAAA,WAAW,GAAGa,qBAAqB,CAAA,WAAA,EAAA,MAAA,EAAnCb,eAAmC,CAAnCA;AACH;;AACDoB,IAAAA,iBAAiB,GAAGC,kBAAkB,CAAA,iBAAA,EAAA,UAAA,EAAA,UAAA,EAAtCD,MAAsC,CAAtCA;;AACA,QAAI,MAAJ,iBAAA,EAA6B;AACzB,aAAA,EAAA;AACH;;AACD,QAAIjC,GAAG,GAAGmB,gBAAgB,CAACM,eAAe,CAAA,GAAA,EAAA,YAAA,EAAhB,GAAgB,CAAhB,EAA1B,iBAA0B,CAA1B;AACAQ,IAAAA,iBAAiB,GAAGC,kBAAkB,CAAA,iBAAA,EAAA,UAAA,EAAA,GAAA,EAAtCD,MAAsC,CAAtCA;AACA,QAAIrF,KAAK,GAAT,EAAA;;AACA,WAAOoD,GAAG,GAAHA,UAAAA,KAAqB,CAAA,WAAA,IAAgB+B,WAAW,GAAvD,CAAO/B,CAAP,EAA8D;AAC1DA,MAAAA,GAAG,IAAHA,GAAAA,IAAcpD,KAAK,CAALA,IAAAA,CAAdoD,GAAcpD,CAAdoD;AACA+B,MAAAA,WAAW;AACX/B,MAAAA,GAAG,GAAGa,WAAW,CAAA,GAAA,EAAjBb,iBAAiB,CAAjBA;AACH;;AACD,QAAImC,WAAW,GAAG,UAAU,CAAV,MAAA,CAAkB,UAAA,CAAA,EAAA,IAAA,EAAkB;AAClDJ,MAAAA,WAAW,GAAGC,QAAQ,GAAtBD,CAAAA;;AACA,UAAI,SAAShC,CAAC,CAAd,QAAA,EAAyB;AACrBA,QAAAA,CAAC,CAADA,QAAAA,GAAAA,IAAAA;AACA,eAAA,CAAA;AACH;;AACDkC,MAAAA,iBAAiB,GAAGC,kBAAkB,CAAA,iBAAA,EAAA,IAAA,EAA0BnC,CAAC,CAA3B,QAAA,EAAtCkC,MAAsC,CAAtCA;AACA,UAAIjC,GAAG,GAAGmB,gBAAgB,CAACpB,CAAC,CAAF,QAAA,EAA1B,iBAA0B,CAA1B;;AACA,aAAOC,GAAG,GAAHA,IAAAA,KAAe,CAAA,WAAA,IAAgB+B,WAAW,GAAjD,CAAO/B,CAAP,EAAwD;AACpDA,QAAAA,GAAG,KAAKD,CAAC,CAATC,QAAAA,IAAsBD,CAAC,CAADA,MAAAA,CAAAA,IAAAA,CAAtBC,GAAsBD,CAAtBC;AACA+B,QAAAA,WAAW;AACX/B,QAAAA,GAAG,GAAGa,WAAW,CAAA,GAAA,EAAjBb,iBAAiB,CAAjBA;AACH;;AACDD,MAAAA,CAAC,CAADA,QAAAA,GAAAA,IAAAA;AACA,aAAA,CAAA;AAdc,KAAA,EAef;AACCqC,MAAAA,QAAQ,EADT,IAAA;AAECC,MAAAA,MAAM,EAAE;AAFT,KAfe,CAAlB;AAmBAzF,IAAAA,KAAK,GAAGA,KAAK,CAALA,MAAAA,CAAauF,WAAW,CAAhCvF,MAAQA,CAARA;AACA,QAAI0F,QAAQ,GAAGC,IAAI,CAAA,GAAA,EAAA,YAAA,EAAnB,GAAmB,CAAnB;AACAN,IAAAA,iBAAiB,GAAGC,kBAAkB,CAAA,iBAAA,EAAA,QAAA,EAAA,QAAA,EAAtCD,MAAsC,CAAtCA;AACAjC,IAAAA,GAAG,GAAGmB,gBAAgB,CAAA,SAAA,EAAtBnB,iBAAsB,CAAtBA;AACA,QAAA,IAAA;;AACA,WAAOA,GAAG,GAAHA,GAAAA,IAAaA,GAAG,KAAvB,IAAA,EAAkC;AAC9BpD,MAAAA,KAAK,CAALA,IAAAA,CAAAA,GAAAA;AACAqC,MAAAA,IAAI,GAAJA,GAAAA;AACAe,MAAAA,GAAG,GAAGa,WAAW,CAAA,GAAA,EAAjBb,iBAAiB,CAAjBA;AACH;;AACD,QAAI4B,SAAS,GAATA,GAAAA,KAAAA,CAAAA,IAAyB5B,GAAG,GAAHA,GAAAA,KAA7B,CAAA,EAA8C;AAC1CpD,MAAAA,KAAK,CAALA,IAAAA,CAAAA,GAAAA;AACH;;AACD,WAAA,KAAA;AApDJ,GAAA;AAsDH;;AAED,SAAA,WAAA,CAAA,KAAA,EAAA,MAAA,EAAoC;AAChC,MAAImE,MAAM,CAAV,MAAA,EAAmB;AACf,QAAIvB,MAAM,GAAG,MAAM,CAAN,MAAA,CAAc,UAAA,MAAA,EAAA,CAAA,EAAoB;AAC3C,UAAIgD,QAAQ,GAAZ,EAAA;AACA,UAAA,CAAA;;AACA,WAAKxH,CAAC,GAAGwE,MAAM,CAAf,CAAe,CAAf,EAAoBxE,CAAC,GAAG4B,KAAK,CAA7B,MAAA,EAAsC5B,CAAtC,EAAA,EAA2C;AACvC,YAAI+C,SAAS,GAAGnB,KAAK,CAArB,CAAqB,CAArB;;AACA,YAAImB,SAAS,GAAGiD,CAAC,CAAjB,IAAA,EAAwB;AACpBwB,UAAAA,QAAQ,CAARA,IAAAA,CAAAA,SAAAA;AACH;;AACD,YAAIzE,SAAS,IAAIiD,CAAC,CAAlB,EAAA,EAAuB;AACnB;AACH;AACJ;;AACD,aAAO,CAACxB,MAAM,CAANA,CAAM,CAANA,CAAAA,MAAAA,CAAD,QAACA,CAAD,EAAP,CAAO,CAAP;AAZS,KAAA,EAaV,CAAA,EAAA,EAbH,CAaG,CAbU,CAAb;AAgBA,WAAOA,MAAM,CAANA,CAAM,CAANA,CAAAA,MAAAA,CAAiB5C,KAAK,CAALA,KAAAA,CAAY4C,MAAM,CAA1C,CAA0C,CAAlB5C,CAAjB4C,CAAP;AACH;;AACD,SAAA,KAAA;AACH;;AAED,SAAA,yBAAA,CAAA,WAAA,EAAA,MAAA,EAAwD;AACpD,SAAO,UAAA,KAAA,EAAgB;AACnB,QAAA,OAAA;;AACA,QAAI,CAAC,MAAM,CAAN,KAAA,CAAa,UAAA,IAAA,EAAe;AACzB,UAAI7B,KAAK,IAAIuB,IAAI,CAAbvB,IAAAA,IAAsBA,KAAK,GAAGuB,IAAI,CAAtC,EAAA,EAA2C;AACvCiB,QAAAA,OAAO,GAAGjB,IAAI,CAAdiB,OAAAA;AACH;;AACD,aAAO,CAAP,OAAA;AAJR,KAAK,CAAL,EAKQ;AACJxC,MAAAA,KAAK,GAAGkD,WAAW,CAAA,KAAA,EAAnBlD,OAAmB,CAAnBA;AACH;;AACD,WAAA,KAAA;AAVJ,GAAA;AAYH;;AAED,SAAA,SAAA,CAAA,OAAA,EAAA,gBAAA,EAAA,qBAAA,EAAA,0BAAA,EAAA,iCAAA,EAAA,iCAAA,EAAA,mBAAA,EAAA,cAAA,EAAA,mBAAA,EAAA,kBAAA,EAAqP;AACjP,WAAA,kBAAA,CAAA,WAAA,EAAyC;AACrC,WAAO;AACHd,MAAAA,YAAY,EAAE4F,iCAAiC,CAACC,WAAW,CADxD,MAC4C,CAD5C;AAEH9F,MAAAA,KAAK,EAAE8F,WAAW,CAAXA,MAAAA,IAFJ,EAAA;AAGHT,MAAAA,iBAAiB,EAAEU,iCAAiC,CAACD,WAAW,CAH7D,MAGiD,CAHjD;AAIHE,MAAAA,UAAU,EAAEF,WAAW,CAAXA,MAAAA,IAAsB;AAJ/B,KAAP;AAMH;;AAED,WAAA,uBAAA,CAAA,YAAA,EAAA,aAAA,EAAA,KAAA,EAAqE;AACjE,QAAI7F,YAAY,IAAIwC,aAAa,GAAGwD,mBAAmB,CAAnCxD,YAAmC,CAAnCA,IAAqDyD,KAAK,GAA9E,CAAA,EAAoF;AAChFpG,MAAAA,OAAO,CAAPA,gBAAAA,CAAAA,OAAAA;AACAG,MAAAA,YAAY,GAAG,KAAfA,CAAAA;AACH;;AACD,WAAA,YAAA;AACH;;AAED,WAAA,kBAAA,CAAA,KAAA,EAAA,IAAA,EAAA,aAAA,EAAA,WAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,WAAA,EAAA,MAAA,EAA2H;AACvH,QAAI6F,WAAW,CAAf,MAAA,EAAwB;AACpB9F,MAAAA,KAAK,CAALA,MAAAA,GAAAA,MAAAA;AACA,aAAA,KAAA;AACH;;AACD,QAAImG,IAAI,GAAG,MAAM,CAAN,MAAA,CAAc,UAAA,CAAA,EAAY;AACjC,aAAO/B,CAAC,CAAR,OAAA;AADJ,KAAW,CAAX;AAGA,QAAA,UAAA;AACAnE,IAAAA,YAAY,GAAGH,OAAO,CAAPA,qBAAAA,GAAAA,YAAAA,GAA+CsG,uBAAuB,CAAA,YAAA,EAAA,aAAA,EAArFnG,WAAqF,CAArFA;AACAA,IAAAA,YAAY,GAAGoG,qBAAqB,CAAA,aAAA,EAAA,WAAA,EAAA,YAAA,EAAA,iBAAA,EAA8DvG,OAAO,CAArE,kBAAA,EAA0FA,OAAO,CAAjG,iBAAA,EAAqHA,OAAO,CAA5H,aAAA,EAA4IqE,MAAM,CAAlJ,MAAA,EAA2JgC,IAAI,CAAJA,CAAI,CAAJA,IAAWA,IAAI,CAAJA,CAAI,CAAJA,CAAAA,OAAAA,CAAtK,IAAA,EAA4LrG,OAAO,CAAvOG,eAAoC,CAApCA;;AACA,QAAI,CAACH,OAAO,CAAZ,kBAAA,EAAiC;AAC7BmF,MAAAA,UAAU,GAAGqB,cAAc,CAAA,IAAA,EAAA,YAAA,EAAqBxG,OAAO,CAA5B,SAAA,EAAA,IAAA,EAAA,MAAA,EAAA,aAAA,EAAA,WAAA,EAAkFA,OAAO,CAAzF,kBAAA,EAA8GA,OAAO,CAAhJmF,iBAA2B,CAA3BA;AACAd,MAAAA,MAAM,GAAGoC,kBAAkB,CAAA,MAAA,EAAA,UAAA,EAA3BpC,YAA2B,CAA3BA;AACAc,MAAAA,UAAU,GAAGuB,WAAW,CAAA,UAAA,EAAxBvB,MAAwB,CAAxBA;AACAjF,MAAAA,KAAK,CAALA,MAAAA,GAAAA,MAAAA;AACAA,MAAAA,KAAK,CAALA,KAAAA,GAAcA,KAAK,CAALA,KAAAA,CAAAA,MAAAA,CAAdA,UAAcA,CAAdA;AACH;;AACDA,IAAAA,KAAK,CAALA,YAAAA,GAAAA,YAAAA;AACA,WAAA,KAAA;AACH;;AAED,WAAA,kBAAA,CAAA,KAAA,EAAA,IAAA,EAAA,aAAA,EAAA,WAAA,EAAA,iBAAA,EAAA,cAAA,EAAA,WAAA,EAAqH;AACjH,QAAI,CAACF,OAAO,CAAZ,eAAA,EAA8B;AAC1B,aAAA,KAAA;AACH;;AACD,QAAIgG,WAAW,CAAf,MAAA,EAAwB;AACpB,aAAA,KAAA;AACH;;AACD,QAAIW,kBAAkB,GAAGR,mBAAmB,CAACjG,KAAK,CAAlD,YAA4C,CAA5C;AACA,QAAI0G,gBAAgB,GAAG7G,WAAW,GAAXA,kBAAAA,GAAvB,aAAA;AACA,QAAIsE,MAAM,GAAGnE,KAAK,CAAlB,MAAA;;AACA,QAAI,CAAA,iBAAA,IAAJ,cAAA,EAA0C;AACtCqF,MAAAA,iBAAiB,GAAGU,iCAAiC,CAAC,CAACU,kBAAkB,IAAIE,cAAc,GAArC,CAAmB,CAAnB,EAA4CF,kBAAkB,IAAIE,cAAc,GAApCF,CAAkB,CAAlBA,GAAlGpB,CAAsD,CAAD,CAArDA;AADJ,KAAA,MAEO;AACHsB,MAAAA,cAAc,GAAG,KAAjBA,CAAAA;AACH;;AACDtB,IAAAA,iBAAiB,GAAGe,uBAAuB,CAAA,iBAAA,EAAA,kBAAA,EAA3Cf,gBAA2C,CAA3CA;AACAA,IAAAA,iBAAiB,GAAGuB,0BAA0B,CAAA,kBAAA,EAAA,gBAAA,EAAA,iBAAA,EAA0D9G,OAAO,CAA/GuF,uBAA8C,CAA9CA;AACArF,IAAAA,KAAK,CAALA,UAAAA,GAAmBwG,WAAW,CAACxG,KAAK,CAALA,UAAAA,CAAAA,MAAAA,CAAwB6G,mBAAmB,CAAC1G,IAAI,CAAL,GAAA,EAAWA,IAAI,CAAf,GAAA,EAAqBH,KAAK,CAA1B,KAAA,EAAA,iBAAA,EAAqDA,KAAK,CAA1D,YAAA,EAAA,MAAA,EAA5C,cAA4C,CAA3CA,CAAD,EAA9BA,MAA8B,CAA9BA;AACAA,IAAAA,KAAK,CAALA,iBAAAA,GAAAA,iBAAAA;AACA,WAAA,KAAA;AACH;;AACD,SAAO,UAAA,IAAA,EAAA,WAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,WAAA,EAAA,iBAAA,EAAA,cAAA,EAAA,MAAA,EAAqH;AACxH8F,IAAAA,WAAW,GAAGA,WAAW,IAAzBA,EAAAA;AACA,QAAIrD,aAAa,GAAGqE,gBAAgB,CAAA,IAAA,EAApC,MAAoC,CAApC;AACA,QAAIlE,MAAM,GAAGmE,kBAAkB,CAA/B,WAA+B,CAA/B;;AACA,QAAI,CAACC,KAAK,CAAV,aAAU,CAAV,EAA2B;AACvB,UAAI,MAAA,aAAA,IAAuB,CAAClB,WAAW,CAAvC,MAAA,EAAgD;AAC5ClD,QAAAA,MAAM,CAANA,KAAAA,GAAe,CAACzC,IAAI,CAApByC,GAAe,CAAfA;AADJ,OAAA,MAEO;AACHA,QAAAA,MAAM,GAAGqE,kBAAkB,CAAA,MAAA,EAAA,IAAA,EAAA,aAAA,EAAA,WAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,WAAA,EAAyF9C,MAAM,IAA1HvB,EAA2B,CAA3BA;;AACA,YAAI,CAAC9C,OAAO,CAAR,kBAAA,IAA+B2C,aAAa,GAAhD,CAAA,EAAsD;AAClDG,UAAAA,MAAM,GAAGsE,kBAAkB,CAAA,MAAA,EAAA,IAAA,EAAA,aAAA,EAAA,WAAA,EAAA,iBAAA,EAAA,cAAA,EAA3BtE,WAA2B,CAA3BA;AACH;AACJ;AACJ;;AACD,WAAA,MAAA;AAdJ,GAAA;AAgBH;;AAED,SAAA,WAAA,CAAA,UAAA,EAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAA2D;AACvD,MAAIuE,KAAK,GAAGC,cAAc,CAAA,IAAA,EAA1B,CAA0B,CAA1B;AAAA,MACIlF,IAAI,GAAGiF,KAAK,CADhB,CACgB,CADhB;AAAA,MAEIE,UAAU,GAAGF,KAAK,CAFtB,CAEsB,CAFtB;;AAGA,MAAI,CAAC,CAAC,GAAG/J,KAAK,CAAT,SAAA,EAAD,IAAC,CAAD,IAA+BqB,OAAO,CAAC2B,QAAQ,CAARA,UAAQ,CAARA,GAAuBA,QAAQ,CAAvC3B,IAAuC,CAAhC,CAAPA,GAAAA,QAAAA,GAAnC,GAAA,EAAoG;AAChG,QAAI,CAAC,GAAGrB,KAAK,CAAT,SAAA,EAAJ,UAAI,CAAJ,EAAsC;AAClC8E,MAAAA,IAAI,GAAJA,UAAAA;AADJ,KAAA,MAEO;AACH,UAAI,CAAC,CAAC,GAAG9E,KAAK,CAAT,SAAA,EAAL,IAAK,CAAL,EAAiC;AAC7B8E,QAAAA,IAAI,GAAJA,UAAAA;AACH;AACJ;AACJ;;AACD,SAAA,IAAA;AACH;;AAED,SAAA,uBAAA,CAAA,mBAAA,EAAA,QAAA,EAAA,aAAA,EAA+E;AAC3E,SAAO,UAAA,MAAA,EAAA,KAAA,EAAA,YAAA,EAAsC;AACzC,QAAInC,QAAQ,GAAGkG,mBAAmB,CAAlC,YAAkC,CAAlC;AACA,QAAIqB,UAAU,GAAG,KAAjB,QAAA;AACA,WAAO,MAAM,CAAN,MAAA,CAAc,UAAA,MAAA,EAAA,CAAA,EAAoB;AACrC,UAAIC,UAAU,GAAG,KAAK,CAAL,MAAA,CAAa,UAAA,IAAA,EAAe;AACzC,eAAOrF,IAAI,IAAIkC,CAAC,CAAhB,IAAA;AADJ,OAAiB,CAAjB;AAGA,UAAIoD,IAAI,GAAGC,aAAa,CAACC,WAAW,CAACtD,CAAC,CAAF,IAAA,EAAS,GAAA,MAAA,CAAUmD,UAAU,CAACA,UAAU,CAAVA,MAAAA,GAArB,CAAoB,CAApB,EAA6CvH,KAAK,CAACuH,UAAU,CAAtE,MAA2D,CAAlD,CAAT,EAAA,QAAA,EAAZ,QAAY,CAAZ,EAAxB,UAAwB,CAAxB;AACAA,MAAAA,UAAU,GAAG,KAAK,CAAL,MAAA,CAAa,UAAA,IAAA,EAAe;AACrC,eAAOrF,IAAI,IAAIkC,CAAC,CAAhB,EAAA;AADJmD,OAAa,CAAbA;AAGA,UAAII,EAAE,GAAGF,aAAa,CAACC,WAAW,CAACtD,CAAC,CAAF,EAAA,EAAO,GAAA,MAAA,CAAUmD,UAAU,CAApB,CAAoB,CAApB,EAAyBvH,KAAK,CAACA,KAAK,CAALA,MAAAA,GAAeuH,UAAU,CAAzBvH,MAAAA,GAAtC,CAAqC,CAA9B,CAAP,EAAA,QAAA,EAAZ,QAAY,CAAZ,EAA+G,CAArI,UAAsB,CAAtB;;AACA,UAAII,QAAQ,CAARA,EAAQ,CAARA,GAAeA,QAAQ,CAAvBA,IAAuB,CAAvBA,GAAAA,QAAAA,IAA4C,CAACgE,CAAC,CAAlD,OAAA,EAA4D;AACxD,eAAA,MAAA;AACH;;AACD,UAAIA,CAAC,CAAL,OAAA,EAAe;AACX,eAAOxB,MAAM,CAANA,MAAAA,CAAc,CAArB,CAAqB,CAAdA,CAAP;AACH;;AACD,aAAO,MAAM,CAAN,MAAA,CAAc,CAAC;AAClB4E,QAAAA,IAAI,EADc,IAAA;AAElBG,QAAAA,EAAE,EAFgB,EAAA;AAGlBC,QAAAA,eAAe,EAAExD,CAAC,CAACwD;AAHD,OAAD,CAAd,CAAP;AAfG,KAAA,EAAP,EAAO,CAAP;AAHJ,GAAA;AAyBH;;AAED,SAAA,gBAAA,CAAA,OAAA,EAAmC;AAC/B,MAAIC,KAAK,GAAGpH,sBAAsB,CAAA,QAAA,EAAA,SAAA,EAAlC,QAAkC,CAAlC;AACA,MAAIkF,IAAI,GAAGlF,sBAAsB,CAAA,QAAA,EAAA,QAAA,EAAjC,QAAiC,CAAjC;AACA,MAAIqH,kCAAkC,GAAGC,4BAA4B,CAAA,QAAA,EAArE,QAAqE,CAArE;AACA,SAAOC,SAAS,CAAA,OAAA,EAAA,gBAAA,EAAA,qBAAA,EAAA,0BAAA,EAAA,kCAAA,EAAA,kCAAA,EAAA,QAAA,EAAiK1B,cAAc,CAAA,WAAA,EAAc2B,0BAA0B,CAAA,KAAA,EAAA,IAAA,EAAA,gBAAA,EAAgCnI,OAAO,CAA/E,SAAwC,CAAxC,EAAA,cAAA,EAAA,gBAAA,EAA/K,kCAA+K,CAA/K,EAAkV+G,mBAAmB,CAAA,QAAA,EAAA,WAAA,EAAA,KAAA,EAAA,WAAA,EAArW,QAAqW,CAArW,EAA4ZqB,uBAAuB,CAAA,QAAA,EAAA,QAAA,EAAqB,UAAA,KAAA,EAAA,UAAA,EAA4B;AAChf,WAAOnH,KAAK,GAAZ,UAAA;AADJ,GAAmc,CAAnb,CAAhB;AAGH;;AACD,IAAIoH,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAmC;AAC/D,SAAO,UAAA,KAAA,EAAA,QAAA,EAA0B;AAC7B,WAAO,CAAC,GAAG9K,KAAK,CAAT,IAAA,EAAA,KAAA,IAAyB,CAAC,GAAGA,KAAK,CAAT,MAAA,EAAkBqD,IAAI,CAAC0H,QAAQ,CAARA,KAAQ,CAARA,CAAgB,CAAC,GAAG/K,KAAK,CAAT,MAAA,EAAkB+C,QAAQ,CAARA,KAAQ,CAARA,GAAlCgI,QAAgB,CAAhBA,IAAvD,QAAsD,CAAtB,CAAhC;AADJ,GAAA;AADJ,CAAA;;AAMA,SAAA,oBAAA,CAAA,OAAA,EAAuC;AACnC,MAAIC,IAAI,GAAGvI,OAAO,CAAlB,OAAA;AACA,MAAIkE,KAAK,GAAG1D,OAAO,CAAA,IAAA,EAAOR,OAAO,CAAd,cAAA,EAA+BA,OAAO,CAAzD,eAAmB,CAAnB;AACA,MAAIoE,GAAG,GAAG7D,WAAW,CAAA,IAAA,EAAOP,OAAO,CAAd,cAAA,EAA+BA,OAAO,CAA3D,eAAqB,CAArB;AACA,MAAIwI,MAAM,GAAG9H,WAAW,CAAxB,IAAwB,CAAxB;AACA,MAAI+H,QAAQ,GAAGhI,WAAW,CAA1B,IAA0B,CAA1B;;AACA,MAAIiI,QAAQ,GAAG,SAAXA,QAAW,CAAA,KAAA,EAAgB;AAC3B,WAAOzH,KAAK,GAALA,CAAAA,GAAAA,QAAAA,GAAP,SAAA;AADJ,GAAA;;AAGA,MAAI0H,OAAO,GAAG,SAAVA,OAAU,CAAA,KAAA,EAAgB;AAC1B,WAAO1H,KAAK,GAALA,CAAAA,GAAAA,SAAAA,GAAP,QAAA;AADJ,GAAA;;AAGA,MAAI8G,KAAK,GAAGM,yBAAyB,CAAA,QAAA,EAAA,QAAA,EAArC,MAAqC,CAArC;AACA,MAAIxC,IAAI,GAAGwC,yBAAyB,CAAA,QAAA,EAAA,OAAA,EAApC,MAAoC,CAApC;AACA,MAAIO,UAAU,GAAGjI,sBAAsB,CAAA,QAAA,EAAA,QAAA,EAAvC,QAAuC,CAAvC;AACA,SAAOuH,SAAS,CAAA,OAAA,EAAUW,mBAAmB,CAAA,IAAA,EAAO7I,OAAO,CAAd,cAAA,EAA+BA,OAAO,CAAnE,eAA6B,CAA7B,EAAsF8I,2BAA2B,CAAC9I,OAAO,CAAzH,qBAAiH,CAAjH,EAAA,0BAAA,EAA8KiI,4BAA4B,CAAA,GAAA,EAA1M,QAA0M,CAA1M,EAA2NA,4BAA4B,CAAA,QAAA,EAAvP,QAAuP,CAAvP,EAAA,QAAA,EAAuRzB,cAAc,CAACuC,cAAc,CAAA,GAAA,EAAf,KAAe,CAAf,EAA6BZ,0BAA0B,CAAA,KAAA,EAAA,IAAA,EAAca,mBAAmB,CAAjC,IAAiC,CAAjC,EAAyChJ,OAAO,CAAvG,SAAuD,CAAvD,EAAoHuD,oBAAoB,CAACvD,OAAO,CAAhJ,qBAAwI,CAAxI,EAAyKgJ,mBAAmB,CAA5L,IAA4L,CAA5L,EAAoMC,qCAAqC,CAA9gB,IAA8gB,CAAzO,CAArS,EAAuhBlC,mBAAmB,CAAC,UAAA,CAAA,EAAA,IAAA,EAAA,QAAA,EAAA,MAAA,EAAoC;AAC3lB,WAAOmC,IAAI,CAAJA,GAAAA,CAASA,IAAI,CAAJA,GAAAA,CAATA,IAASA,CAATA,EAAyBA,IAAI,CAAJA,GAAAA,CAAzBA,QAAyBA,CAAzBA,IAAP,MAAA;AADsjB,GAAA,EAAA,WAAA,EAAA,KAAA,EAAA,UAAA,EAA1iB,IAA0iB,CAA1iB,EAE0Bd,uBAAuB,CAAA,QAAA,EAAA,GAAA,EAAgB,UAAA,KAAA,EAAA,UAAA,EAA4B;AACzG,WAAOlE,KAAK,CAACE,GAAG,CAAHA,KAAG,CAAHA,GAAb,UAAY,CAAZ;AAHJ,GAEiE,CAFjD,CAAhB;AAKH;;AAED,SAAA,aAAA,CAAA,OAAA,EAAgC;AAC5B,WAAA,KAAA,CAAA,KAAA,EAAA,QAAA,EAAgC;AAC5B,QAAI+E,WAAW,GAAGxI,sBAAsB,CAAA,QAAA,EAAA,SAAA,EAAxC,QAAwC,CAAxC;AACA,QAAIyI,cAAc,GAAG,CAAC,GAAG9L,KAAK,CAAT,QAAA,EAAA,QAAA,IAAgCF,MAAM,CAANA,OAAAA,CAAAA,uBAAAA,CAAuC6C,QAAQ,CAA/E,WAAuEA,EAAvC7C,CAAhC,GAArB,QAAA;AACA,QAAIiM,OAAO,GAAG5K,kBAAkB,CAAhC,QAAgC,CAAhC;;AACA,QAAI2K,cAAc,CAAdA,IAAAA,GAAAA,CAAAA,KAAAA,CAAAA,IAAiCnJ,QAAQ,CAA7C,QAAA,EAAwD;AACpDmJ,MAAAA,cAAc,GAAGxF,sBAAsB,CAAvCwF,OAAuC,CAAvCA;AACH;;AACD,QAAIE,4BAA4B,GAAG,SAA/BA,4BAA+B,CAAA,CAAA,EAAY;AAC3C,aAAOlM,MAAM,CAANA,OAAAA,CAAAA,4BAAAA,CAAAA,CAAAA,EAAAA,cAAAA,EAAAA,IAAAA,EAAqE4C,OAAO,CAAnF,cAAO5C,CAAP;AADJ,KAAA;;AAGA,QAAImM,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAA,CAAA,EAAY;AAC/B,aAAO,IAAA,IAAA,CAAS3K,SAAS,CAAC,CAAC4K,CAAC,CAADA,OAAAA,KAAcA,CAAC,CAADA,iBAAAA,KAAf,MAAA,IAAV5K,OAAS,CAATA,GAAAA,OAAAA,GAAgF4K,CAAC,CAADA,iBAAAA,KAAhG,MAAO,CAAP;AADJ,KAAA;;AAGAvI,IAAAA,KAAK,GAAGqI,4BAA4B,CAApCrI,KAAoC,CAApCA;;AACA,QAAI,WAAJ,cAAA,EAA+B;AAC3BA,MAAAA,KAAK,CAALA,WAAAA,CAAkBkI,WAAW,CAAClI,KAAK,CAAN,WAACA,EAAD,EAAsBmI,cAAc,CAApC,KAAA,EAA7BnI,CAA6B,CAA7BA;AADJ,KAAA,MAEO;AACH,UAAI,cAAJ,cAAA,EAAkC;AAC9BA,QAAAA,KAAK,GAAGqI,4BAA4B,CAACC,gBAAgB,CAArDtI,KAAqD,CAAjB,CAApCA;AADJ,OAAA,MAEO;AACH,YAAI,YAAJ,cAAA,EAAgC;AAC5BA,UAAAA,KAAK,CAALA,QAAAA,CAAekI,WAAW,CAAClI,KAAK,CAAN,QAACA,EAAD,EAAmBmI,cAAc,CAAjC,MAAA,EAA1BnI,CAA0B,CAA1BA;AADJ,SAAA,MAEO;AACH,cAAI,WAAA,cAAA,IAA6B,UAAjC,cAAA,EAA2D;AACvDA,YAAAA,KAAK,GAAGqI,4BAA4B,CAACC,gBAAgB,CAArDtI,KAAqD,CAAjB,CAApCA;AADJ,WAAA,MAEO;AACH,gBAAI,WAAJ,cAAA,EAA+B;AAC3BA,cAAAA,KAAK,CAALA,QAAAA,CAAekI,WAAW,CAAClI,KAAK,CAAN,QAACA,EAAD,EAAmBmI,cAAc,CAAjC,KAAA,EAA1BnI,CAA0B,CAA1BA;AADJ,aAAA,MAEO;AACH,kBAAI,aAAJ,cAAA,EAAiC;AAC7BA,gBAAAA,KAAK,CAALA,UAAAA,CAAiBkI,WAAW,CAAClI,KAAK,CAAN,UAACA,EAAD,EAAqBmI,cAAc,CAAnC,OAAA,EAA5BnI,CAA4B,CAA5BA;AADJ,eAAA,MAEO;AACH,oBAAI,aAAJ,cAAA,EAAiC;AAC7BA,kBAAAA,KAAK,CAALA,UAAAA,CAAiBkI,WAAW,CAAClI,KAAK,CAAN,UAACA,EAAD,EAAqBmI,cAAc,CAAnC,OAAA,EAA5BnI,CAA4B,CAA5BA;AADJ,iBAAA,MAEO;AACH,sBAAI,kBAAJ,cAAA,EAAsC;AAClCA,oBAAAA,KAAK,GAAGsI,gBAAgB,CAAxBtI,KAAwB,CAAxBA;AACH;AACJ;AACJ;AACJ;AACJ;AACJ;AACJ;AACJ;;AACD,WAAA,KAAA;AACH;;AAED,WAAA,IAAA,CAAA,KAAA,EAAA,QAAA,EAA+B;AAC3B,QAAIwI,QAAQ,GAAG1B,KAAK,CAAA,KAAA,EAApB,QAAoB,CAApB;;AACA,WAAO9G,KAAK,GAALA,QAAAA,GAAP,CAAA,EAA6B;AACzBwI,MAAAA,QAAQ,GAAGC,eAAe,CAAA,QAAA,EAA1BD,QAA0B,CAA1BA;AACH;;AACD,WAAA,QAAA;AACH;;AACD,MAAIzB,kCAAkC,GAAGC,4BAA4B,CAAA,QAAA,EAAW7K,MAAM,CAANA,OAAAA,CAAhF,8BAAqE,CAArE;AACA,SAAO8K,SAAS,CAAA,OAAA,EAAA,gBAAA,EAAA,6BAAA,EAAA,kCAAA,EAAA,kCAAA,EAAA,kCAAA,EAAA,kBAAA,EAA2L1B,cAAc,CAAA,eAAA,EAAkB2B,0BAA0B,CAAA,KAAA,EAAA,IAAA,EAAA,oBAAA,EAAoCnI,OAAO,CAAvF,SAA4C,CAA5C,EAAA,sBAAA,EAAA,oBAAA,EAAzM,sCAAyM,CAAzM,EAAoY+G,mBAAmB,CAAA,QAAA,EAAA,eAAA,EAAA,KAAA,EAAA,eAAA,EAAvZ,QAAuZ,CAAvZ,EAAsdqB,uBAAuB,CAAA,kBAAA,EAAA,QAAA,EAA+B,UAAA,KAAA,EAAA,UAAA,EAA4B;AACpjB,WAAO,IAAA,IAAA,CAASnH,KAAK,CAALA,OAAAA,KAAhB,UAAO,CAAP;AADJ,GAA6f,CAA7e,CAAhB;AAGH;;AACD0I,OAAO,CAAPA,aAAAA,GAAwB,UAAA,OAAA,EAAkB;AACtC,MAAA,MAAA;;AACA,MAAI3J,OAAO,CAAX,YAAA,EAA0B;AACtB8C,IAAAA,MAAM,GAAG8G,cAAc,CAAvB9G,OAAuB,CAAvBA;AADJ,GAAA,MAEO;AACH,QAAI,eAAe9C,OAAO,CAA1B,QAAA,EAAqC;AACjC8C,MAAAA,MAAM,GAAG+G,iBAAiB,CAA1B/G,OAA0B,CAA1BA;AADJ,KAAA,MAEO;AACH,UAAI,kBAAkB9C,OAAO,CAA7B,QAAA,EAAwC;AACpC8C,QAAAA,MAAM,GAAGgH,oBAAoB,CAA7BhH,OAA6B,CAA7BA;AADJ,OAAA,MAEO;AACH,YAAI,eAAe9C,OAAO,CAA1B,QAAA,EAAqC;AACjC8C,UAAAA,MAAM,GAAGiH,aAAa,CAAtBjH,OAAsB,CAAtBA;AADJ,SAAA,MAEO;AACHA,UAAAA,MAAM,GAAGkH,gBAAgB,CAAzBlH,OAAyB,CAAzBA;AACH;AACJ;AACJ;AACJ;;AACD,SAAA,MAAA;AAnBJ6G,CAAAA","sourcesContent":["/**\r\n * DevExtreme (viz/axes/tick_generator.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _utils = require(\"../core/utils\");\r\nvar _date = require(\"../../core/utils/date\");\r\nvar _date2 = _interopRequireDefault(_date);\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _math = require(\"../../core/utils/math\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _slicedToArray(arr, i) {\r\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest()\r\n}\r\n\r\nfunction _nonIterableRest() {\r\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")\r\n}\r\n\r\nfunction _iterableToArrayLimit(arr, i) {\r\n    if (!(Symbol.iterator in Object(arr) || \"[object Arguments]\" === Object.prototype.toString.call(arr))) {\r\n        return\r\n    }\r\n    var _arr = [];\r\n    var _n = true;\r\n    var _d = false;\r\n    var _e = void 0;\r\n    try {\r\n        for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {\r\n            _arr.push(_s.value);\r\n            if (i && _arr.length === i) {\r\n                break\r\n            }\r\n        }\r\n    } catch (err) {\r\n        _d = true;\r\n        _e = err\r\n    } finally {\r\n        try {\r\n            if (!_n && null != _i.return) {\r\n                _i.return()\r\n            }\r\n        } finally {\r\n            if (_d) {\r\n                throw _e\r\n            }\r\n        }\r\n    }\r\n    return _arr\r\n}\r\n\r\nfunction _arrayWithHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        return arr\r\n    }\r\n}\r\nvar convertDateUnitToMilliseconds = _date2.default.convertDateUnitToMilliseconds;\r\nvar dateToMilliseconds = _date2.default.dateToMilliseconds;\r\nvar math = Math;\r\nvar mathAbs = math.abs;\r\nvar mathFloor = math.floor;\r\nvar mathCeil = math.ceil;\r\nvar mathPow = math.pow;\r\nvar NUMBER_MULTIPLIERS = [1, 2, 2.5, 5];\r\nvar LOGARITHMIC_MULTIPLIERS = [1, 2, 3, 5];\r\nvar DATETIME_MULTIPLIERS = {\r\n    millisecond: [1, 2, 5, 10, 25, 50, 100, 250, 500],\r\n    second: [1, 2, 3, 5, 10, 15, 20, 30],\r\n    minute: [1, 2, 3, 5, 10, 15, 20, 30],\r\n    hour: [1, 2, 3, 4, 6, 8, 12],\r\n    day: [1, 2],\r\n    week: [1, 2],\r\n    month: [1, 2, 3, 6]\r\n};\r\nvar DATETIME_MULTIPLIERS_WITH_BIG_WEEKEND = (0, _extend.extend)({}, DATETIME_MULTIPLIERS, {\r\n    day: [1]\r\n});\r\nvar DATETIME_MINOR_MULTIPLIERS = {\r\n    millisecond: [1, 2, 5, 10, 25, 50, 100, 250, 500],\r\n    second: [1, 2, 3, 5, 10, 15, 20, 30],\r\n    minute: [1, 2, 3, 5, 10, 15, 20, 30],\r\n    hour: [1, 2, 3, 4, 6, 8, 12],\r\n    day: [1, 2, 3, 7, 14],\r\n    month: [1, 2, 3, 6]\r\n};\r\nvar MINOR_DELIMITERS = [2, 4, 5, 8, 10];\r\nvar VISIBILITY_DELIMITER = 3;\r\nvar MINUTE = 6e4;\r\n\r\nfunction dummyGenerator(options) {\r\n    return function(data, screenDelta, tickInterval, forceTickInterval) {\r\n        var count = mathFloor(screenDelta / options.axisDivisionFactor);\r\n        count = count < 1 ? 1 : count;\r\n        var interval = screenDelta / count;\r\n        return {\r\n            ticks: interval > 0 ? Array.apply(null, new Array(count + 1)).map(function(_, i) {\r\n                return interval * i\r\n            }) : [],\r\n            tickInterval: interval\r\n        }\r\n    }\r\n}\r\n\r\nfunction discreteGenerator(options) {\r\n    return function(data, screenDelta, tickInterval, forceTickInterval) {\r\n        var categories = (0, _utils.getCategoriesInfo)(data.categories, data.min, data.max).categories;\r\n        return {\r\n            ticks: categories,\r\n            tickInterval: mathCeil(categories.length * options.axisDivisionFactor / screenDelta)\r\n        }\r\n    }\r\n}\r\nvar getValue = function(value) {\r\n    return value\r\n};\r\nvar getLogValue = function(base, allowNegatives, linearThreshold) {\r\n    return function(value) {\r\n        return (0, _utils.getLogExt)(value, base, allowNegatives, linearThreshold)\r\n    }\r\n};\r\nvar raiseTo = function(base, allowNegatives, linearThreshold) {\r\n    return function(value) {\r\n        return (0, _utils.raiseToExt)(value, base, allowNegatives, linearThreshold)\r\n    }\r\n};\r\nvar mathRaiseTo = function(base) {\r\n    return function(value) {\r\n        return (0, _utils.raiseTo)(value, base)\r\n    }\r\n};\r\nvar logAbsValue = function(base) {\r\n    return function(value) {\r\n        return 0 === value ? 0 : (0, _utils.getLog)(mathAbs(value), base)\r\n    }\r\n};\r\nvar correctValueByInterval = function(post, round, getValue) {\r\n    return function(value, interval) {\r\n        return (0, _math.adjust)(post(round((0, _math.adjust)(getValue(value) / interval)) * interval))\r\n    }\r\n};\r\n\r\nfunction correctMinValueByEndOnTick(floorFunc, ceilFunc, resolveEndOnTick, endOnTick) {\r\n    if ((0, _type.isDefined)(endOnTick)) {\r\n        return endOnTick ? floorFunc : ceilFunc\r\n    }\r\n    return function(value, interval, businessViewInfo, forceEndOnTick) {\r\n        var floorTickValue = floorFunc(value, interval);\r\n        if (value - floorTickValue === 0 || !(0, _type.isDefined)(businessViewInfo) || resolveEndOnTick(value, floorTickValue, interval, businessViewInfo) || forceEndOnTick) {\r\n            return floorTickValue\r\n        }\r\n        return ceilFunc(value, interval)\r\n    }\r\n}\r\n\r\nfunction resolveEndOnTick(curValue, tickValue, interval, businessViewInfo) {\r\n    var prevTickDataDiff = interval - mathAbs(tickValue - curValue);\r\n    var intervalCount = math.max(mathCeil(businessViewInfo.businessDelta / interval), 2);\r\n    var businessRatio = businessViewInfo.screenDelta / (intervalCount * interval);\r\n    var potentialTickScreenDiff = math.round(businessRatio * prevTickDataDiff);\r\n    var delimiterFactor = (0, _utils.getLogExt)(businessRatio * interval / businessViewInfo.axisDivisionFactor, 2) + 1;\r\n    var delimiterMultiplier = (businessViewInfo.isSpacedMargin ? 2 : 1) * delimiterFactor;\r\n    var screenDelimiter = math.round(VISIBILITY_DELIMITER * delimiterMultiplier);\r\n    return businessViewInfo.businessDelta > businessViewInfo.interval && potentialTickScreenDiff >= screenDelimiter\r\n}\r\n\r\nfunction resolveEndOnTickLog(base) {\r\n    return function(curValue, tickValue, interval, businessViewInfo) {\r\n        return resolveEndOnTick((0, _utils.getLogExt)(curValue, base), (0, _utils.getLogExt)(tickValue, base), interval, businessViewInfo)\r\n    }\r\n}\r\n\r\nfunction resolveEndOnTickDate(curValue, tickValue, interval, businessViewInfo) {\r\n    return resolveEndOnTick(curValue.valueOf(), tickValue.valueOf(), dateToMilliseconds(interval), businessViewInfo)\r\n}\r\n\r\nfunction resolveExtraTickForHiddenDataPoint(checkDataVisibility, extremum, tick, businessViewInfo, isMin) {\r\n    var screenRatio = businessViewInfo.screenDelta / businessViewInfo.businessDelta;\r\n    var extDir = isMin ? 1 : -1;\r\n    var tickDir = isMin ? -1 : 1;\r\n    return checkDataVisibility && screenRatio * (extremum * extDir + tick * tickDir) < VISIBILITY_DELIMITER\r\n}\r\n\r\nfunction resolveExtraTickForHiddenDataPointLog(base) {\r\n    return function(checkDataVisibility, extremum, tick, businessViewInfo, isMin) {\r\n        return resolveExtraTickForHiddenDataPoint(checkDataVisibility, (0, _utils.getLogExt)(extremum, base), (0, _utils.getLogExt)(tick, base), businessViewInfo, isMin)\r\n    }\r\n}\r\n\r\nfunction resolveExtraTickForHiddenDataPointDate(checkDataVisibility, extremum, tick, businessViewInfo, isMin) {\r\n    return resolveExtraTickForHiddenDataPoint(checkDataVisibility, extremum.valueOf(), tick.valueOf(), businessViewInfo, isMin)\r\n}\r\n\r\nfunction getBusinessDelta(data, breaks) {\r\n    var spacing = 0;\r\n    if (breaks) {\r\n        spacing = breaks.reduce(function(prev, item) {\r\n            return prev + (item.to - item.from)\r\n        }, 0)\r\n    }\r\n    return mathAbs(data.max - data.min - spacing)\r\n}\r\n\r\nfunction getBusinessDeltaLog(base, allowNegatives, linearThreshold) {\r\n    var getLog = getLogValue(base, allowNegatives, linearThreshold);\r\n    return function(data, breaks) {\r\n        var spacing = 0;\r\n        if (breaks) {\r\n            spacing = breaks.reduce(function(prev, item) {\r\n                return prev + mathAbs(getLog(item.to / item.from))\r\n            }, 0)\r\n        }\r\n        return mathCeil(mathAbs(getLog(data.max) - getLog(data.min)) - spacing)\r\n    }\r\n}\r\n\r\nfunction getIntervalByFactor(businessDelta, screenDelta, axisDivisionFactor, addTickCount) {\r\n    var count = screenDelta / axisDivisionFactor - (addTickCount || 0);\r\n    count = count < 1 ? 1 : count;\r\n    return businessDelta / count\r\n}\r\n\r\nfunction getMultiplierFactor(interval, factorDelta) {\r\n    return mathPow(10, mathFloor((0, _utils.getLogExt)(interval, 10)) + (factorDelta || 0))\r\n}\r\n\r\nfunction calculateTickInterval(businessDelta, screenDelta, tickInterval, forceTickInterval, axisDivisionFactor, multipliers, allowDecimals, addTickCount, _, minTickInterval) {\r\n    var interval = getIntervalByFactor(businessDelta, screenDelta, axisDivisionFactor, addTickCount);\r\n    var result = 1;\r\n    var onlyIntegers = false === allowDecimals;\r\n    if (!forceTickInterval || !tickInterval) {\r\n        if (interval >= 1 || !onlyIntegers && interval > 0) {\r\n            result = adjustInterval(interval, multipliers, onlyIntegers)\r\n        }\r\n        if (!tickInterval || !forceTickInterval && tickInterval < result) {\r\n            tickInterval = result\r\n        }\r\n    }\r\n    if (!forceTickInterval && minTickInterval) {\r\n        minTickInterval = adjustInterval(minTickInterval, multipliers, onlyIntegers);\r\n        if (minTickInterval > tickInterval) {\r\n            tickInterval = minTickInterval\r\n        }\r\n    }\r\n    return tickInterval\r\n}\r\n\r\nfunction adjustInterval(interval, multipliers, onlyIntegers) {\r\n    var factor = getMultiplierFactor(interval, -1);\r\n    var result = 1;\r\n    multipliers = multipliers || NUMBER_MULTIPLIERS;\r\n    if (interval > 0) {\r\n        interval /= factor;\r\n        result = multipliers.concat(10 * multipliers[0]).map(function(m) {\r\n            return 10 * m\r\n        }).reduce(function(r, m) {\r\n            if (.1 === factor && onlyIntegers && 25 === m) {\r\n                return r\r\n            }\r\n            return r < interval ? m : r\r\n        }, 0);\r\n        result = (0, _math.adjust)(result * factor, factor)\r\n    }\r\n    return result\r\n}\r\n\r\nfunction calculateMinorTickInterval(businessDelta, screenDelta, tickInterval, axisDivisionFactor) {\r\n    var interval = getIntervalByFactor(businessDelta, screenDelta, axisDivisionFactor);\r\n    return tickInterval || MINOR_DELIMITERS.reduce(function(r, d) {\r\n        var cur = businessDelta / d;\r\n        return cur >= interval ? cur : r\r\n    }, 0)\r\n}\r\n\r\nfunction getCalculateTickIntervalLog(skipCalculationLimits) {\r\n    return function(businessDelta, screenDelta, tickInterval, forceTickInterval, axisDivisionFactor, multipliers, allowDecimals, _, __, minTickInterval) {\r\n        var interval = getIntervalByFactor(businessDelta, screenDelta, axisDivisionFactor);\r\n        var result = 0;\r\n        var adjustInterval = getAdjustIntervalLog(skipCalculationLimits);\r\n        if (!forceTickInterval || !tickInterval) {\r\n            if (interval > 0) {\r\n                result = adjustInterval(interval, multipliers)\r\n            }\r\n            if (!tickInterval || !forceTickInterval && tickInterval < result) {\r\n                tickInterval = result\r\n            }\r\n        }\r\n        if (!forceTickInterval && minTickInterval) {\r\n            minTickInterval = adjustInterval(minTickInterval, multipliers);\r\n            if (minTickInterval > tickInterval) {\r\n                tickInterval = minTickInterval\r\n            }\r\n        }\r\n        return tickInterval\r\n    }\r\n}\r\n\r\nfunction getAdjustIntervalLog(skipCalculationLimits) {\r\n    return function(interval, multipliers) {\r\n        var factor = getMultiplierFactor(interval);\r\n        multipliers = multipliers || LOGARITHMIC_MULTIPLIERS;\r\n        if (!skipCalculationLimits && factor < 1) {\r\n            factor = 1\r\n        }\r\n        return multipliers.concat(10 * multipliers[0]).reduce(function(r, m) {\r\n            return r < interval ? m * factor : r\r\n        }, 0)\r\n    }\r\n}\r\n\r\nfunction getDataTimeMultipliers(gapSize) {\r\n    if (gapSize && gapSize > 2) {\r\n        return DATETIME_MULTIPLIERS_WITH_BIG_WEEKEND\r\n    } else {\r\n        return DATETIME_MULTIPLIERS\r\n    }\r\n}\r\n\r\nfunction numbersReducer(interval, key) {\r\n    return function(r, m) {\r\n        if (!r && interval <= convertDateUnitToMilliseconds(key, m)) {\r\n            r = {};\r\n            r[key + \"s\"] = m\r\n        }\r\n        return r\r\n    }\r\n}\r\n\r\nfunction yearsReducer(interval, factor) {\r\n    return function(r, m) {\r\n        var years = factor * m;\r\n        if (!r && interval <= convertDateUnitToMilliseconds(\"year\", years) && 2.5 !== years) {\r\n            r = {\r\n                years: years\r\n            }\r\n        }\r\n        return r\r\n    }\r\n}\r\n\r\nfunction calculateTickIntervalDateTime(businessDelta, screenDelta, tickInterval, forceTickInterval, axisDivisionFactor, multipliers, allowDecimals, addTickCount, gapSize, minTickInterval) {\r\n    if (!forceTickInterval || !tickInterval) {\r\n        var result = adjustIntervalDateTime(getIntervalByFactor(businessDelta, screenDelta, axisDivisionFactor), multipliers, null, gapSize);\r\n        if (!tickInterval || !forceTickInterval && dateToMilliseconds(tickInterval) <= dateToMilliseconds(result)) {\r\n            tickInterval = result\r\n        }\r\n    }\r\n    if (!forceTickInterval && minTickInterval) {\r\n        minTickInterval = adjustIntervalDateTime(minTickInterval, multipliers, null, gapSize);\r\n        if (dateToMilliseconds(minTickInterval) > dateToMilliseconds(tickInterval)) {\r\n            tickInterval = minTickInterval\r\n        }\r\n    }\r\n    return tickInterval\r\n}\r\n\r\nfunction adjustIntervalDateTime(interval, multipliers, _, gapSize) {\r\n    var result;\r\n    multipliers = multipliers || getDataTimeMultipliers(gapSize);\r\n    for (var key in multipliers) {\r\n        result = multipliers[key].reduce(numbersReducer(interval, key), result);\r\n        if (result) {\r\n            break\r\n        }\r\n    }\r\n    if (!result) {\r\n        for (var factor = 1;; factor *= 10) {\r\n            result = NUMBER_MULTIPLIERS.reduce(yearsReducer(interval, factor), result);\r\n            if (result) {\r\n                break\r\n            }\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\nfunction calculateMinorTickIntervalDateTime(businessDelta, screenDelta, tickInterval, axisDivisionFactor) {\r\n    return calculateTickIntervalDateTime(businessDelta, screenDelta, tickInterval, true, axisDivisionFactor, DATETIME_MINOR_MULTIPLIERS)\r\n}\r\n\r\nfunction getTickIntervalByCustomTicks(getValue, postProcess) {\r\n    return function(ticks) {\r\n        return ticks ? postProcess(mathAbs((0, _math.adjust)(getValue(ticks[1]) - getValue(ticks[0])))) || void 0 : void 0\r\n    }\r\n}\r\n\r\nfunction addInterval(value, interval, isNegative) {\r\n    return _date2.default.addInterval(value, interval, isNegative)\r\n}\r\n\r\nfunction addIntervalLog(log, raise) {\r\n    return function(value, interval, isNegative) {\r\n        return raise(addInterval(log(value), interval, isNegative))\r\n    }\r\n}\r\n\r\nfunction addIntervalDate(value, interval, isNegative) {\r\n    return addInterval(value, interval, isNegative)\r\n}\r\n\r\nfunction addIntervalWithBreaks(addInterval, breaks, correctValue) {\r\n    breaks = breaks.filter(function(b) {\r\n        return !b.gapSize\r\n    });\r\n    return function(value, interval, isNegative) {\r\n        var breakSize;\r\n        value = addInterval(value, interval, isNegative);\r\n        if (!breaks.every(function(item) {\r\n                if (value >= addInterval(item.from, interval) && addInterval(value, interval) < item.to) {\r\n                    breakSize = item.to - item.from - 2 * (addInterval(item.from, interval) - item.from)\r\n                }\r\n                return !breakSize\r\n            })) {\r\n            value = correctValue(addInterval(value, breakSize), interval)\r\n        }\r\n        return value\r\n    }\r\n}\r\n\r\nfunction calculateTicks(addInterval, correctMinValue, adjustInterval, resolveEndOnTick, resolveExtraTickForHiddenDataPoint) {\r\n    return function(data, tickInterval, endOnTick, gaps, breaks, businessDelta, screenDelta, axisDivisionFactor, generateExtraTick) {\r\n        var correctTickValue = correctTickValueOnGapSize(addInterval, gaps);\r\n        var min = data.min;\r\n        var max = data.max;\r\n        var businessViewInfo = {\r\n            screenDelta: screenDelta,\r\n            businessDelta: businessDelta,\r\n            axisDivisionFactor: axisDivisionFactor,\r\n            isSpacedMargin: data.isSpacedMargin,\r\n            interval: tickInterval\r\n        };\r\n        var cur = correctMinValue(min, tickInterval, businessViewInfo);\r\n        var ticks = [];\r\n        if (breaks && breaks.length) {\r\n            addInterval = addIntervalWithBreaks(addInterval, breaks, correctMinValue)\r\n        }\r\n        if (cur > max) {\r\n            cur = correctMinValue(min, adjustInterval(businessDelta / 2), businessViewInfo);\r\n            if (cur > max) {\r\n                endOnTick = true;\r\n                cur = correctMinValue(min, tickInterval, businessViewInfo, endOnTick)\r\n            }\r\n        }\r\n        cur = correctTickValue(cur);\r\n        var prev;\r\n        while (cur < max && cur !== prev || generateExtraTick && cur <= max) {\r\n            ticks.push(cur);\r\n            prev = cur;\r\n            cur = correctTickValue(addInterval(cur, tickInterval))\r\n        }\r\n        if (endOnTick || cur - max === 0 || !(0, _type.isDefined)(endOnTick) && resolveEndOnTick(max, cur, tickInterval, businessViewInfo)) {\r\n            ticks.push(cur)\r\n        }\r\n        if (ticks.length > 0) {\r\n            if (ticks[0].valueOf() > 0 && resolveExtraTickForHiddenDataPoint(data.checkMinDataVisibility, min, ticks[0], businessViewInfo, true)) {\r\n                cur = addInterval(ticks[0], tickInterval, true);\r\n                ticks.unshift(cur)\r\n            } else {\r\n                if (ticks[ticks.length - 1].valueOf() < 0 && resolveExtraTickForHiddenDataPoint(data.checkMaxDataVisibility, max, ticks[ticks.length - 1], businessViewInfo, false)) {\r\n                    cur = addInterval(ticks[ticks.length - 1], tickInterval);\r\n                    ticks.push(cur)\r\n                }\r\n            }\r\n        }\r\n        return ticks\r\n    }\r\n}\r\n\r\nfunction calculateMinorTicks(updateTickInterval, addInterval, correctMinValue, correctTickValue, ceil) {\r\n    return function(min, max, majorTicks, minorTickInterval, tickInterval, breaks, maxCount) {\r\n        var factor = tickInterval / minorTickInterval;\r\n        var lastMajor = majorTicks[majorTicks.length - 1];\r\n        var firstMajor = majorTicks[0];\r\n        var tickBalance = maxCount - 1;\r\n        if (breaks && breaks.length) {\r\n            addInterval = addIntervalWithBreaks(addInterval, breaks, correctMinValue)\r\n        }\r\n        minorTickInterval = updateTickInterval(minorTickInterval, firstMajor, firstMajor, factor);\r\n        if (0 === minorTickInterval) {\r\n            return []\r\n        }\r\n        var cur = correctTickValue(correctMinValue(min, tickInterval, min), minorTickInterval);\r\n        minorTickInterval = updateTickInterval(minorTickInterval, firstMajor, cur, factor);\r\n        var ticks = [];\r\n        while (cur < firstMajor && (!tickBalance || tickBalance > 0)) {\r\n            cur >= min && ticks.push(cur);\r\n            tickBalance--;\r\n            cur = addInterval(cur, minorTickInterval)\r\n        }\r\n        var middleTicks = majorTicks.reduce(function(r, tick) {\r\n            tickBalance = maxCount - 1;\r\n            if (null === r.prevTick) {\r\n                r.prevTick = tick;\r\n                return r\r\n            }\r\n            minorTickInterval = updateTickInterval(minorTickInterval, tick, r.prevTick, factor);\r\n            var cur = correctTickValue(r.prevTick, minorTickInterval);\r\n            while (cur < tick && (!tickBalance || tickBalance > 0)) {\r\n                cur !== r.prevTick && r.minors.push(cur);\r\n                tickBalance--;\r\n                cur = addInterval(cur, minorTickInterval)\r\n            }\r\n            r.prevTick = tick;\r\n            return r\r\n        }, {\r\n            prevTick: null,\r\n            minors: []\r\n        });\r\n        ticks = ticks.concat(middleTicks.minors);\r\n        var maxValue = ceil(max, tickInterval, min);\r\n        minorTickInterval = updateTickInterval(minorTickInterval, maxValue, maxValue, factor);\r\n        cur = correctTickValue(lastMajor, minorTickInterval);\r\n        var prev;\r\n        while (cur < max && cur !== prev) {\r\n            ticks.push(cur);\r\n            prev = cur;\r\n            cur = addInterval(cur, minorTickInterval)\r\n        }\r\n        if (lastMajor - max !== 0 && cur - max === 0) {\r\n            ticks.push(cur)\r\n        }\r\n        return ticks\r\n    }\r\n}\r\n\r\nfunction filterTicks(ticks, breaks) {\r\n    if (breaks.length) {\r\n        var result = breaks.reduce(function(result, b) {\r\n            var tmpTicks = [];\r\n            var i;\r\n            for (i = result[1]; i < ticks.length; i++) {\r\n                var tickValue = ticks[i];\r\n                if (tickValue < b.from) {\r\n                    tmpTicks.push(tickValue)\r\n                }\r\n                if (tickValue >= b.to) {\r\n                    break\r\n                }\r\n            }\r\n            return [result[0].concat(tmpTicks), i]\r\n        }, [\r\n            [], 0\r\n        ]);\r\n        return result[0].concat(ticks.slice(result[1]))\r\n    }\r\n    return ticks\r\n}\r\n\r\nfunction correctTickValueOnGapSize(addInterval, breaks) {\r\n    return function(value) {\r\n        var gapSize;\r\n        if (!breaks.every(function(item) {\r\n                if (value >= item.from && value < item.to) {\r\n                    gapSize = item.gapSize\r\n                }\r\n                return !gapSize\r\n            })) {\r\n            value = addInterval(value, gapSize)\r\n        }\r\n        return value\r\n    }\r\n}\r\n\r\nfunction generator(options, getBusinessDelta, calculateTickInterval, calculateMinorTickInterval, getMajorTickIntervalByCustomTicks, getMinorTickIntervalByCustomTicks, convertTickInterval, calculateTicks, calculateMinorTicks, processScaleBreaks) {\r\n    function processCustomTicks(customTicks) {\r\n        return {\r\n            tickInterval: getMajorTickIntervalByCustomTicks(customTicks.majors),\r\n            ticks: customTicks.majors || [],\r\n            minorTickInterval: getMinorTickIntervalByCustomTicks(customTicks.minors),\r\n            minorTicks: customTicks.minors || []\r\n        }\r\n    }\r\n\r\n    function correctUserTickInterval(tickInterval, businessDelta, limit) {\r\n        if (tickInterval && businessDelta / convertTickInterval(tickInterval) >= limit + 1) {\r\n            options.incidentOccurred(\"W2003\");\r\n            tickInterval = void 0\r\n        }\r\n        return tickInterval\r\n    }\r\n\r\n    function generateMajorTicks(ticks, data, businessDelta, screenDelta, tickInterval, forceTickInterval, customTicks, breaks) {\r\n        if (customTicks.majors) {\r\n            ticks.breaks = breaks;\r\n            return ticks\r\n        }\r\n        var gaps = breaks.filter(function(b) {\r\n            return b.gapSize\r\n        });\r\n        var majorTicks;\r\n        tickInterval = options.skipCalculationLimits ? tickInterval : correctUserTickInterval(tickInterval, businessDelta, screenDelta);\r\n        tickInterval = calculateTickInterval(businessDelta, screenDelta, tickInterval, forceTickInterval, options.axisDivisionFactor, options.numberMultipliers, options.allowDecimals, breaks.length, gaps[0] && gaps[0].gapSize.days, options.minTickInterval);\r\n        if (!options.skipTickGeneration) {\r\n            majorTicks = calculateTicks(data, tickInterval, options.endOnTick, gaps, breaks, businessDelta, screenDelta, options.axisDivisionFactor, options.generateExtraTick);\r\n            breaks = processScaleBreaks(breaks, majorTicks, tickInterval);\r\n            majorTicks = filterTicks(majorTicks, breaks);\r\n            ticks.breaks = breaks;\r\n            ticks.ticks = ticks.ticks.concat(majorTicks)\r\n        }\r\n        ticks.tickInterval = tickInterval;\r\n        return ticks\r\n    }\r\n\r\n    function generateMinorTicks(ticks, data, businessDelta, screenDelta, minorTickInterval, minorTickCount, customTicks) {\r\n        if (!options.calculateMinors) {\r\n            return ticks\r\n        }\r\n        if (customTicks.minors) {\r\n            return ticks\r\n        }\r\n        var minorBusinessDelta = convertTickInterval(ticks.tickInterval);\r\n        var minorScreenDelta = screenDelta * minorBusinessDelta / businessDelta;\r\n        var breaks = ticks.breaks;\r\n        if (!minorTickInterval && minorTickCount) {\r\n            minorTickInterval = getMinorTickIntervalByCustomTicks([minorBusinessDelta / (minorTickCount + 1), minorBusinessDelta / (minorTickCount + 1) * 2])\r\n        } else {\r\n            minorTickCount = void 0\r\n        }\r\n        minorTickInterval = correctUserTickInterval(minorTickInterval, minorBusinessDelta, minorScreenDelta);\r\n        minorTickInterval = calculateMinorTickInterval(minorBusinessDelta, minorScreenDelta, minorTickInterval, options.minorAxisDivisionFactor);\r\n        ticks.minorTicks = filterTicks(ticks.minorTicks.concat(calculateMinorTicks(data.min, data.max, ticks.ticks, minorTickInterval, ticks.tickInterval, breaks, minorTickCount)), breaks);\r\n        ticks.minorTickInterval = minorTickInterval;\r\n        return ticks\r\n    }\r\n    return function(data, screenDelta, tickInterval, forceTickInterval, customTicks, minorTickInterval, minorTickCount, breaks) {\r\n        customTicks = customTicks || {};\r\n        var businessDelta = getBusinessDelta(data, breaks);\r\n        var result = processCustomTicks(customTicks);\r\n        if (!isNaN(businessDelta)) {\r\n            if (0 === businessDelta && !customTicks.majors) {\r\n                result.ticks = [data.min]\r\n            } else {\r\n                result = generateMajorTicks(result, data, businessDelta, screenDelta, tickInterval, forceTickInterval, customTicks, breaks || []);\r\n                if (!options.skipTickGeneration && businessDelta > 0) {\r\n                    result = generateMinorTicks(result, data, businessDelta, screenDelta, minorTickInterval, minorTickCount, customTicks)\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    }\r\n}\r\n\r\nfunction getBaseTick(breakValue, _ref, interval, getValue) {\r\n    var _ref2 = _slicedToArray(_ref, 2),\r\n        tick = _ref2[0],\r\n        insideTick = _ref2[1];\r\n    if (!(0, _type.isDefined)(tick) || mathAbs(getValue(breakValue) - getValue(tick)) / interval > .25) {\r\n        if ((0, _type.isDefined)(insideTick)) {\r\n            tick = insideTick\r\n        } else {\r\n            if (!(0, _type.isDefined)(tick)) {\r\n                tick = breakValue\r\n            }\r\n        }\r\n    }\r\n    return tick\r\n}\r\n\r\nfunction getScaleBreaksProcessor(convertTickInterval, getValue, addCorrection) {\r\n    return function(breaks, ticks, tickInterval) {\r\n        var interval = convertTickInterval(tickInterval);\r\n        var correction = .5 * interval;\r\n        return breaks.reduce(function(result, b) {\r\n            var breakTicks = ticks.filter(function(tick) {\r\n                return tick <= b.from\r\n            });\r\n            var from = addCorrection(getBaseTick(b.from, [].concat(breakTicks[breakTicks.length - 1], ticks[breakTicks.length]), interval, getValue), correction);\r\n            breakTicks = ticks.filter(function(tick) {\r\n                return tick >= b.to\r\n            });\r\n            var to = addCorrection(getBaseTick(b.to, [].concat(breakTicks[0], ticks[ticks.length - breakTicks.length - 1]), interval, getValue), -correction);\r\n            if (getValue(to) - getValue(from) < interval && !b.gapSize) {\r\n                return result\r\n            }\r\n            if (b.gapSize) {\r\n                return result.concat([b])\r\n            }\r\n            return result.concat([{\r\n                from: from,\r\n                to: to,\r\n                cumulativeWidth: b.cumulativeWidth\r\n            }])\r\n        }, [])\r\n    }\r\n}\r\n\r\nfunction numericGenerator(options) {\r\n    var floor = correctValueByInterval(getValue, mathFloor, getValue);\r\n    var ceil = correctValueByInterval(getValue, mathCeil, getValue);\r\n    var calculateTickIntervalByCustomTicks = getTickIntervalByCustomTicks(getValue, getValue);\r\n    return generator(options, getBusinessDelta, calculateTickInterval, calculateMinorTickInterval, calculateTickIntervalByCustomTicks, calculateTickIntervalByCustomTicks, getValue, calculateTicks(addInterval, correctMinValueByEndOnTick(floor, ceil, resolveEndOnTick, options.endOnTick), adjustInterval, resolveEndOnTick, resolveExtraTickForHiddenDataPoint), calculateMinorTicks(getValue, addInterval, floor, addInterval, getValue), getScaleBreaksProcessor(getValue, getValue, function(value, correction) {\r\n        return value + correction\r\n    }))\r\n}\r\nvar correctValueByIntervalLog = function(post, getRound, getValue) {\r\n    return function(value, interval) {\r\n        return (0, _math.sign)(value) * (0, _math.adjust)(post(getRound(value)((0, _math.adjust)(getValue(value) / interval)) * interval))\r\n    }\r\n};\r\n\r\nfunction logarithmicGenerator(options) {\r\n    var base = options.logBase;\r\n    var raise = raiseTo(base, options.allowNegatives, options.linearThreshold);\r\n    var log = getLogValue(base, options.allowNegatives, options.linearThreshold);\r\n    var absLog = logAbsValue(base);\r\n    var absRaise = mathRaiseTo(base);\r\n    var absFloor = function(value) {\r\n        return value < 0 ? mathCeil : mathFloor\r\n    };\r\n    var absCeil = function(value) {\r\n        return value < 0 ? mathFloor : mathCeil\r\n    };\r\n    var floor = correctValueByIntervalLog(absRaise, absFloor, absLog);\r\n    var ceil = correctValueByIntervalLog(absRaise, absCeil, absLog);\r\n    var ceilNumber = correctValueByInterval(getValue, mathCeil, getValue);\r\n    return generator(options, getBusinessDeltaLog(base, options.allowNegatives, options.linearThreshold), getCalculateTickIntervalLog(options.skipCalculationLimits), calculateMinorTickInterval, getTickIntervalByCustomTicks(log, getValue), getTickIntervalByCustomTicks(getValue, getValue), getValue, calculateTicks(addIntervalLog(log, raise), correctMinValueByEndOnTick(floor, ceil, resolveEndOnTickLog(base), options.endOnTick), getAdjustIntervalLog(options.skipCalculationLimits), resolveEndOnTickLog(base), resolveExtraTickForHiddenDataPointLog(base)), calculateMinorTicks(function(_, tick, prevTick, factor) {\r\n        return Math.max(Math.abs(tick), Math.abs(prevTick)) / factor\r\n    }, addInterval, floor, ceilNumber, ceil), getScaleBreaksProcessor(getValue, log, function(value, correction) {\r\n        return raise(log(value) + correction)\r\n    }))\r\n}\r\n\r\nfunction dateGenerator(options) {\r\n    function floor(value, interval) {\r\n        var floorNumber = correctValueByInterval(getValue, mathFloor, getValue);\r\n        var intervalObject = (0, _type.isString)(interval) ? _date2.default.getDateIntervalByString(interval.toLowerCase()) : interval;\r\n        var divider = dateToMilliseconds(interval);\r\n        if (intervalObject.days % 7 === 0 || interval.quarters) {\r\n            intervalObject = adjustIntervalDateTime(divider)\r\n        }\r\n        var correctDateWithUnitBeginning = function(v) {\r\n            return _date2.default.correctDateWithUnitBeginning(v, intervalObject, null, options.firstDayOfWeek)\r\n        };\r\n        var floorAtStartDate = function(v) {\r\n            return new Date(mathFloor((v.getTime() - v.getTimezoneOffset() * MINUTE) / divider) * divider + v.getTimezoneOffset() * MINUTE)\r\n        };\r\n        value = correctDateWithUnitBeginning(value);\r\n        if (\"years\" in intervalObject) {\r\n            value.setFullYear(floorNumber(value.getFullYear(), intervalObject.years, 0))\r\n        } else {\r\n            if (\"quarters\" in intervalObject) {\r\n                value = correctDateWithUnitBeginning(floorAtStartDate(value))\r\n            } else {\r\n                if (\"months\" in intervalObject) {\r\n                    value.setMonth(floorNumber(value.getMonth(), intervalObject.months, 0))\r\n                } else {\r\n                    if (\"weeks\" in intervalObject || \"days\" in intervalObject) {\r\n                        value = correctDateWithUnitBeginning(floorAtStartDate(value))\r\n                    } else {\r\n                        if (\"hours\" in intervalObject) {\r\n                            value.setHours(floorNumber(value.getHours(), intervalObject.hours, 0))\r\n                        } else {\r\n                            if (\"minutes\" in intervalObject) {\r\n                                value.setMinutes(floorNumber(value.getMinutes(), intervalObject.minutes, 0))\r\n                            } else {\r\n                                if (\"seconds\" in intervalObject) {\r\n                                    value.setSeconds(floorNumber(value.getSeconds(), intervalObject.seconds, 0))\r\n                                } else {\r\n                                    if (\"milliseconds\" in intervalObject) {\r\n                                        value = floorAtStartDate(value)\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return value\r\n    }\r\n\r\n    function ceil(value, interval) {\r\n        var newValue = floor(value, interval);\r\n        while (value - newValue > 0) {\r\n            newValue = addIntervalDate(newValue, interval)\r\n        }\r\n        return newValue\r\n    }\r\n    var calculateTickIntervalByCustomTicks = getTickIntervalByCustomTicks(getValue, _date2.default.convertMillisecondsToDateUnits);\r\n    return generator(options, getBusinessDelta, calculateTickIntervalDateTime, calculateMinorTickIntervalDateTime, calculateTickIntervalByCustomTicks, calculateTickIntervalByCustomTicks, dateToMilliseconds, calculateTicks(addIntervalDate, correctMinValueByEndOnTick(floor, ceil, resolveEndOnTickDate, options.endOnTick), adjustIntervalDateTime, resolveEndOnTickDate, resolveExtraTickForHiddenDataPointDate), calculateMinorTicks(getValue, addIntervalDate, floor, addIntervalDate, getValue), getScaleBreaksProcessor(dateToMilliseconds, getValue, function(value, correction) {\r\n        return new Date(value.getTime() + correction)\r\n    }))\r\n}\r\nexports.tickGenerator = function(options) {\r\n    var result;\r\n    if (options.rangeIsEmpty) {\r\n        result = dummyGenerator(options)\r\n    } else {\r\n        if (\"discrete\" === options.axisType) {\r\n            result = discreteGenerator(options)\r\n        } else {\r\n            if (\"logarithmic\" === options.axisType) {\r\n                result = logarithmicGenerator(options)\r\n            } else {\r\n                if (\"datetime\" === options.dataType) {\r\n                    result = dateGenerator(options)\r\n                } else {\r\n                    result = numericGenerator(options)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return result\r\n};\r\n"]},"metadata":{},"sourceType":"module"}