{"ast":null,"code":"/**\r\n * DevExtreme (ui/diagram/ui.diagram.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _ui = require(\"../widget/ui.widget\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _drawer = require(\"../drawer\");\n\nvar _drawer2 = _interopRequireDefault(_drawer);\n\nvar _load_indicator = require(\"../load_indicator\");\n\nvar _load_indicator2 = _interopRequireDefault(_load_indicator);\n\nvar _component_registrator = require(\"../../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _type2 = _interopRequireDefault(_type);\n\nvar _data = require(\"../../core/utils/data\");\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _uiDiagram = require(\"./ui.diagram.toolbar\");\n\nvar _uiDiagram2 = _interopRequireDefault(_uiDiagram);\n\nvar _uiDiagram3 = require(\"./ui.diagram.leftpanel\");\n\nvar _uiDiagram4 = _interopRequireDefault(_uiDiagram3);\n\nvar _uiDiagram5 = require(\"./ui.diagram.rightpanel\");\n\nvar _uiDiagram6 = _interopRequireDefault(_uiDiagram5);\n\nvar _uiDiagram7 = require(\"./ui.diagram.contextmenu\");\n\nvar _uiDiagram8 = _interopRequireDefault(_uiDiagram7);\n\nvar _uiDiagram9 = require(\"./ui.diagram.dialogs\");\n\nvar _uiDiagram10 = _interopRequireDefault(_uiDiagram9);\n\nvar _uiDiagram11 = require(\"./ui.diagram.toolbox\");\n\nvar _uiDiagram12 = _interopRequireDefault(_uiDiagram11);\n\nvar _uiDiagram13 = require(\"./ui.diagram.optionsupdate\");\n\nvar _uiDiagram14 = _interopRequireDefault(_uiDiagram13);\n\nvar _uiDiagram15 = require(\"./ui.diagram.nodes\");\n\nvar _uiDiagram16 = _interopRequireDefault(_uiDiagram15);\n\nvar _uiDiagram17 = require(\"./ui.diagram.edges\");\n\nvar _uiDiagram18 = _interopRequireDefault(_uiDiagram17);\n\nvar _tooltip = require(\"../tooltip\");\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _diagram_importer = require(\"./diagram_importer\");\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _utils = require(\"../../events/utils\");\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _message = require(\"../../localization/message\");\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _number = require(\"../../localization/number\");\n\nvar _number2 = _interopRequireDefault(_number);\n\nvar _uiDiagram19 = require(\"./ui.diagram.dialogmanager\");\n\nvar _uiDiagram20 = _interopRequireDefault(_uiDiagram19);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar DIAGRAM_CLASS = \"dx-diagram\";\nvar DIAGRAM_FULLSCREEN_CLASS = \"dx-diagram-fullscreen\";\nvar DIAGRAM_TOOLBAR_WRAPPER_CLASS = DIAGRAM_CLASS + \"-toolbar-wrapper\";\nvar DIAGRAM_CONTENT_WRAPPER_CLASS = DIAGRAM_CLASS + \"-content-wrapper\";\nvar DIAGRAM_DRAWER_WRAPPER_CLASS = DIAGRAM_CLASS + \"-drawer-wrapper\";\nvar DIAGRAM_CONTENT_CLASS = DIAGRAM_CLASS + \"-content\";\nvar DIAGRAM_LOADING_INDICATOR_CLASS = DIAGRAM_CLASS + \"-loading-indicator\";\nvar DIAGRAM_DEFAULT_UNIT = \"in\";\nvar DIAGRAM_DEFAULT_ZOOMLEVEL = 1;\nvar DIAGRAM_DEFAULT_AUTOZOOM = \"disabled\";\nvar DIAGRAM_DEFAULT_PAGE_ORIENTATION = \"portrait\";\nvar DIAGRAM_DEFAULT_PAGE_COLOR = \"white\";\nvar DIAGRAM_NAMESPACE = \"dxDiagramEvent\";\n\nvar FULLSCREEN_CHANGE_EVENT_NAME = _utils2.default.addNamespace(\"fullscreenchange\", DIAGRAM_NAMESPACE);\n\nvar IE_FULLSCREEN_CHANGE_EVENT_NAME = _utils2.default.addNamespace(\"msfullscreenchange\", DIAGRAM_NAMESPACE);\n\nvar WEBKIT_FULLSCREEN_CHANGE_EVENT_NAME = _utils2.default.addNamespace(\"webkitfullscreenchange\", DIAGRAM_NAMESPACE);\n\nvar MOZ_FULLSCREEN_CHANGE_EVENT_NAME = _utils2.default.addNamespace(\"mozfullscreenchange\", DIAGRAM_NAMESPACE);\n\nvar Diagram = function (_Widget) {\n  _inherits(Diagram, _Widget);\n\n  function Diagram() {\n    _classCallCheck(this, Diagram);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Diagram).apply(this, arguments));\n  }\n\n  _createClass(Diagram, [{\n    key: \"_init\",\n    value: function value() {\n      this._updateDiagramLockCount = 0;\n\n      _get(_getPrototypeOf(Diagram.prototype), \"_init\", this).call(this);\n\n      this._initDiagram();\n\n      this.optionsUpdateBar = new _uiDiagram14.default(this);\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function value() {\n      _get(_getPrototypeOf(Diagram.prototype), \"_initMarkup\", this).call(this);\n\n      var isServerSide = !(0, _window.hasWindow)();\n      this.$element().addClass(DIAGRAM_CLASS);\n      this._toolbarInstance = void 0;\n\n      if (this.option(\"toolbar.visible\")) {\n        this._renderToolbar();\n      }\n\n      var $contentWrapper = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_CONTENT_WRAPPER_CLASS).appendTo(this.$element());\n      this._leftPanel = void 0;\n\n      if (this.option(\"toolbox.visible\")) {\n        this._renderLeftPanel($contentWrapper);\n      }\n\n      var $drawerWrapper = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_DRAWER_WRAPPER_CLASS).appendTo($contentWrapper);\n\n      if (this.option(\"propertiesPanel.enabled\")) {\n        var $drawer = (0, _renderer2.default)(\"<div>\").appendTo($drawerWrapper);\n        this._content = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_CONTENT_CLASS).appendTo($drawer);\n\n        this._renderRightPanel($drawer);\n      } else {\n        this._content = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_CONTENT_CLASS).appendTo($drawerWrapper);\n      }\n\n      this._contextMenu = void 0;\n\n      if (this.option(\"contextMenu.enabled\")) {\n        this._renderContextMenu(this._content);\n      }\n\n      this._renderDialog(this._content);\n\n      !isServerSide && this._diagramInstance.createDocument(this._content[0]);\n\n      if (this.option(\"zoomLevel\") !== DIAGRAM_DEFAULT_ZOOMLEVEL) {\n        this._updateZoomLevelState();\n      }\n\n      if (this.option(\"autoZoom\") !== DIAGRAM_DEFAULT_AUTOZOOM) {\n        this._updateAutoZoomState();\n      }\n\n      if (this.option(\"simpleView\")) {\n        this._updateSimpleViewState();\n      }\n\n      if (this.option(\"readOnly\") || this.option(\"disabled\")) {\n        this._updateReadOnlyState();\n      }\n\n      if (this.option(\"fullScreen\")) {\n        this._updateFullscreenState();\n      }\n\n      this._diagramInstance.barManager.registerBar(this.optionsUpdateBar);\n    }\n  }, {\n    key: \"notifyBarCommandExecuted\",\n    value: function value() {\n      this._diagramInstance.captureFocus();\n    }\n  }, {\n    key: \"_registerBar\",\n    value: function value(component) {\n      component.bar.onChanged.add(this);\n\n      this._diagramInstance.barManager.registerBar(component.bar);\n    }\n  }, {\n    key: \"_renderToolbar\",\n    value: function value() {\n      var _this = this;\n\n      var $toolbarWrapper = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_TOOLBAR_WRAPPER_CLASS).appendTo(this.$element());\n      var toolbarWidgetCommandNames = [];\n\n      if (this.option(\"propertiesPanel.enabled\") && this.option(\"propertiesPanel.collapsible\")) {\n        toolbarWidgetCommandNames.push(\"options\");\n      }\n\n      this._toolbarInstance = this._createComponent($toolbarWrapper, _uiDiagram2.default, {\n        commands: this.option(\"toolbar.commands\"),\n        onContentReady: function onContentReady(e) {\n          return _this._registerBar(e.component);\n        },\n        onPointerUp: this._onPanelPointerUp.bind(this),\n        \"export\": this.option(\"export\"),\n        widgetCommandNames: toolbarWidgetCommandNames\n      });\n    }\n  }, {\n    key: \"_renderLeftPanel\",\n    value: function value($parent) {\n      var _this2 = this;\n\n      var isServerSide = !(0, _window.hasWindow)();\n      var $leftPanel = (0, _renderer2.default)(\"<div>\").appendTo($parent);\n      this._leftPanel = this._createComponent($leftPanel, _uiDiagram4.default, {\n        toolboxGroups: this._getToolboxGroups(),\n        disabled: this.option(\"readOnly\"),\n        onShapeCategoryRendered: function onShapeCategoryRendered(e) {\n          if (isServerSide) {\n            return;\n          }\n\n          var $toolboxContainer = (0, _renderer2.default)(e.$element);\n\n          _this2._diagramInstance.createToolbox($toolboxContainer[0], 40, 8, {\n            \"data-toggle\": \"shape-toolbox-tooltip\"\n          }, e.shapes || e.category, \"texts\" === e.displayMode);\n\n          _this2._createTooltips($parent, $toolboxContainer.find('[data-toggle=\"shape-toolbox-tooltip\"]'));\n        },\n        onPointerUp: this._onPanelPointerUp.bind(this)\n      });\n    }\n  }, {\n    key: \"_createTooltips\",\n    value: function value($container, targets) {\n      var _this3 = this;\n\n      targets.each(function (index, element) {\n        var $target = (0, _renderer2.default)(element);\n        var $tooltip = (0, _renderer2.default)(\"<div>\").html($target.attr(\"title\")).appendTo($container);\n\n        _this3._createComponent($tooltip, _tooltip2.default, {\n          target: $target.get(0),\n          showEvent: \"mouseenter\",\n          hideEvent: \"mouseleave\",\n          position: \"top\",\n          animation: {\n            show: {\n              type: \"fade\",\n              from: 0,\n              to: 1,\n              delay: 500\n            },\n            hide: {\n              type: \"fade\",\n              from: 1,\n              to: 0,\n              delay: 100\n            }\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_invalidateContextMenuCommands\",\n    value: function value() {\n      if (this._contextMenu) {\n        this._contextMenu.option({\n          commands: this.option(\"contextMenu.commands\")\n        });\n      }\n    }\n  }, {\n    key: \"_invalidatePropertiesPanelGroups\",\n    value: function value() {\n      if (this._rightPanel) {\n        this._rightPanel.option({\n          propertyGroups: this.option(\"propertiesPanel.groups\")\n        });\n      }\n    }\n  }, {\n    key: \"_invalidateToolbarCommands\",\n    value: function value() {\n      if (this._toolbarInstance) {\n        this._toolbarInstance.option({\n          commands: this.option(\"toolbar.commands\")\n        });\n      }\n    }\n  }, {\n    key: \"_invalidateToolboxGroups\",\n    value: function value() {\n      if (this._leftPanel) {\n        this._leftPanel.option({\n          toolboxGroups: this._getToolboxGroups()\n        });\n      }\n    }\n  }, {\n    key: \"_setLeftPanelEnabled\",\n    value: function value(enabled) {\n      if (this._leftPanel) {\n        this._leftPanel.option({\n          disabled: !enabled\n        });\n      }\n    }\n  }, {\n    key: \"_renderRightPanel\",\n    value: function value($parent) {\n      var _this4 = this;\n\n      var isCollapsible = this.option(\"propertiesPanel.collapsible\");\n\n      var drawer = this._createComponent($parent, _drawer2.default, {\n        closeOnOutsideClick: isCollapsible,\n        opened: !isCollapsible,\n        openedStateMode: isCollapsible ? \"overlap\" : \"shrink\",\n        position: \"right\",\n        template: function template($options) {\n          _this4._rightPanel = _this4._createComponent($options, _uiDiagram6.default, {\n            propertyGroups: _this4.option(\"propertiesPanel.groups\"),\n            onContentReady: function onContentReady(e) {\n              return _this4._registerBar(e.component);\n            },\n            onPointerUp: _this4._onPanelPointerUp.bind(_this4)\n          });\n        }\n      });\n\n      if (this._toolbarInstance) {\n        this._toolbarInstance.option(\"onWidgetCommand\", function (e) {\n          if (\"options\" === e.name) {\n            drawer.toggle();\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onPanelPointerUp\",\n    value: function value() {\n      this._diagramInstance.captureFocus();\n    }\n  }, {\n    key: \"_renderContextMenu\",\n    value: function value($mainElement) {\n      var _this5 = this;\n\n      var $contextMenu = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n      this._contextMenu = this._createComponent($contextMenu, _uiDiagram8.default, {\n        commands: this.option(\"contextMenu.commands\"),\n        container: $mainElement,\n        onContentReady: function onContentReady(_ref) {\n          var component = _ref.component;\n          return _this5._registerBar(component);\n        },\n        onVisibleChanged: function onVisibleChanged(_ref2) {\n          var component = _ref2.component;\n          return _this5._diagramInstance.barManager.updateBarItemsState(component.bar);\n        },\n        onItemClick: function onItemClick(itemData) {\n          return _this5._onBeforeCommandExecuted(itemData.command);\n        }\n      });\n    }\n  }, {\n    key: \"_onBeforeCommandExecuted\",\n    value: function value(command) {\n      var dialogParameters = _uiDiagram20.default.getDialogParameters(command);\n\n      if (dialogParameters) {\n        this._showDialog(dialogParameters);\n      }\n\n      return !!dialogParameters;\n    }\n  }, {\n    key: \"_renderDialog\",\n    value: function value($mainElement) {\n      var $dialogElement = (0, _renderer2.default)(\"<div>\").appendTo($mainElement);\n      this._dialogInstance = this._createComponent($dialogElement, _uiDiagram10.default, {});\n    }\n  }, {\n    key: \"_showDialog\",\n    value: function value(dialogParameters) {\n      if (this._dialogInstance) {\n        this._dialogInstance.option(\"onGetContent\", dialogParameters.onGetContent);\n\n        this._dialogInstance.option(\"onHidden\", function () {\n          this._diagramInstance.captureFocus();\n        }.bind(this));\n\n        this._dialogInstance.option(\"command\", this._diagramInstance.commandManager.getCommand(dialogParameters.command));\n\n        this._dialogInstance.option(\"title\", dialogParameters.title);\n\n        this._dialogInstance._show();\n      }\n    }\n  }, {\n    key: \"_showLoadingIndicator\",\n    value: function value() {\n      this._loadingIndicator = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_LOADING_INDICATOR_CLASS);\n\n      this._createComponent(this._loadingIndicator, _load_indicator2.default, {});\n\n      var $parent = this._content || this.$element();\n      $parent.append(this._loadingIndicator);\n    }\n  }, {\n    key: \"_hideLoadingIndicator\",\n    value: function value() {\n      if (!this._loadingIndicator) {\n        return;\n      }\n\n      this._loadingIndicator.remove();\n\n      this._loadingIndicator = null;\n    }\n  }, {\n    key: \"_initDiagram\",\n    value: function value() {\n      var _getDiagram = (0, _diagram_importer.getDiagram)(),\n          DiagramControl = _getDiagram.DiagramControl;\n\n      this._diagramInstance = new DiagramControl();\n      this._diagramInstance.onChanged = this._raiseDataChangeAction.bind(this);\n      this._diagramInstance.onEdgeInserted = this._raiseEdgeInsertedAction.bind(this);\n      this._diagramInstance.onEdgeUpdated = this._raiseEdgeUpdatedAction.bind(this);\n      this._diagramInstance.onEdgeRemoved = this._raiseEdgeRemovedAction.bind(this);\n      this._diagramInstance.onNodeInserted = this._raiseNodeInsertedAction.bind(this);\n      this._diagramInstance.onNodeUpdated = this._raiseNodeUpdatedAction.bind(this);\n      this._diagramInstance.onNodeRemoved = this._raiseNodeRemovedAction.bind(this);\n      this._diagramInstance.onToolboxDragStart = this._raiseToolboxDragStart.bind(this);\n      this._diagramInstance.onToolboxDragEnd = this._raiseToolboxDragEnd.bind(this);\n      this._diagramInstance.onToggleFullscreen = this._onToggleFullScreen.bind(this);\n      this._diagramInstance.onShowContextMenu = this._onShowContextMenu.bind(this);\n      this._diagramInstance.onHideContextMenu = this._onHideContextMenu.bind(this);\n\n      this._diagramInstance.onNativeAction.add({\n        notifyItemClick: this._raiseItemClickAction.bind(this),\n        notifyItemDblClick: this._raiseItemDblClickAction.bind(this),\n        notifySelectionChanged: this._raiseSelectionChanged.bind(this)\n      });\n\n      this._updateUnitItems();\n\n      this._updateFormatUnitsMethod();\n\n      if (this.option(\"units\") !== DIAGRAM_DEFAULT_UNIT) {\n        this._updateUnitsState();\n      }\n\n      if (this.option(\"pageSize\")) {\n        if (this.option(\"pageSize.items\")) {\n          this._updatePageSizeItemsState();\n        }\n\n        if (this.option(\"pageSize.width\") && this.option(\"pageSize.height\")) {\n          this._updatePageSizeState();\n        }\n      }\n\n      if (this.option(\"pageOrientation\") !== DIAGRAM_DEFAULT_PAGE_ORIENTATION) {\n        this._updatePageOrientationState();\n      }\n\n      if (this.option(\"pageColor\") !== DIAGRAM_DEFAULT_PAGE_COLOR) {\n        this._updatePageColorState();\n      }\n\n      if (this.option(\"viewUnits\") !== DIAGRAM_DEFAULT_UNIT) {\n        this._updateViewUnitsState();\n      }\n\n      if (!this.option(\"showGrid\")) {\n        this._updateShowGridState();\n      }\n\n      if (!this.option(\"snapToGrid\")) {\n        this._updateSnapToGridState();\n      }\n\n      if (this.option(\"gridSize\")) {\n        if (this.option(\"gridSize.items\")) {\n          this._updateGridSizeItemsState();\n        }\n\n        this._updateGridSizeState();\n      }\n\n      if (this.option(\"zoomLevel.items\")) {\n        this._updateZoomLevelItemsState();\n      }\n\n      this._updateCustomShapes(this._getCustomShapes());\n\n      this._refreshDataSources();\n    }\n  }, {\n    key: \"_dispose\",\n    value: function value() {\n      if (this._diagramInstance) {\n        this._diagramInstance.dispose();\n\n        this._diagramInstance = void 0;\n      }\n\n      _get(_getPrototypeOf(Diagram.prototype), \"_dispose\", this).call(this);\n    }\n  }, {\n    key: \"_executeDiagramCommand\",\n    value: function value(command, parameter) {\n      this._diagramInstance.commandManager.getCommand(command).execute(parameter);\n    }\n  }, {\n    key: \"_refreshDataSources\",\n    value: function value() {\n      this._beginUpdateDiagram();\n\n      this._refreshNodesDataSource();\n\n      this._refreshEdgesDataSource();\n\n      this._endUpdateDiagram();\n    }\n  }, {\n    key: \"_refreshNodesDataSource\",\n    value: function value() {\n      if (this._nodesOption) {\n        this._nodesOption._disposeDataSource();\n\n        delete this._nodesOption;\n      }\n\n      if (this.option(\"nodes.dataSource\")) {\n        this._nodesOption = new _uiDiagram16.default(this);\n\n        this._nodesOption.option(\"dataSource\", this.option(\"nodes.dataSource\"));\n\n        this._nodesOption._refreshDataSource();\n      }\n    }\n  }, {\n    key: \"_refreshEdgesDataSource\",\n    value: function value() {\n      if (this._edgesOption) {\n        this._edgesOption._disposeDataSource();\n\n        delete this._edgesOption;\n      }\n\n      if (this.option(\"edges.dataSource\")) {\n        this._edgesOption = new _uiDiagram18.default(this);\n\n        this._edgesOption.option(\"dataSource\", this.option(\"edges.dataSource\"));\n\n        this._edgesOption._refreshDataSource();\n      }\n    }\n  }, {\n    key: \"_getDiagramData\",\n    value: function value() {\n      var value;\n\n      var _getDiagram2 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram2.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.Export, function (data) {\n        value = data;\n      });\n\n      return value;\n    }\n  }, {\n    key: \"_setDiagramData\",\n    value: function value(data, keepExistingItems) {\n      var _getDiagram3 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram3.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.Import, {\n        data: data,\n        keepExistingItems: keepExistingItems\n      });\n    }\n  }, {\n    key: \"_onDataSourceChanged\",\n    value: function value() {\n      this._bindDiagramData();\n    }\n  }, {\n    key: \"_createOptionGetter\",\n    value: function value(optionName) {\n      var expr = this.option(optionName);\n      return expr && _data2.default.compileGetter(expr);\n    }\n  }, {\n    key: \"_createOptionSetter\",\n    value: function value(optionName) {\n      var expr = this.option(optionName);\n\n      if (_type2.default.isFunction(expr)) {\n        return expr;\n      }\n\n      return expr && _data2.default.compileSetter(expr);\n    }\n  }, {\n    key: \"_bindDiagramData\",\n    value: function value() {\n      if (this._updateDiagramLockCount || !this._isBindingMode()) {\n        return;\n      }\n\n      var _getDiagram4 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram4.DiagramCommand,\n          ConnectorLineOption = _getDiagram4.ConnectorLineOption,\n          ConnectorLineEnding = _getDiagram4.ConnectorLineEnding;\n\n      var lineOptionGetter;\n      var lineOptionSetter;\n      var startLineEndingGetter;\n      var startLineEndingSetter;\n      var endLineEndingGetter;\n      var endLineEndingSetter;\n      var data = {\n        nodeDataSource: this._nodesOption && this._nodesOption.getItems(),\n        edgeDataSource: this._edgesOption && this._edgesOption.getItems(),\n        nodeDataImporter: {\n          getKey: this._createOptionGetter(\"nodes.keyExpr\"),\n          setKey: this._createOptionSetter(\"nodes.keyExpr\"),\n          getLocked: this._createOptionGetter(\"nodes.lockedExpr\"),\n          setLocked: this._createOptionSetter(\"nodes.lockedExpr\"),\n          getStyle: this._createOptionGetter(\"nodes.styleExpr\"),\n          setStyle: this._createOptionSetter(\"nodes.styleExpr\"),\n          getStyleText: this._createOptionGetter(\"nodes.textStyleExpr\"),\n          setStyleText: this._createOptionSetter(\"nodes.textStyleExpr\"),\n          getZIndex: this._createOptionGetter(\"nodes.zIndexExpr\"),\n          setZIndex: this._createOptionSetter(\"nodes.zIndexExpr\"),\n          getType: this._createOptionGetter(\"nodes.typeExpr\"),\n          setType: this._createOptionSetter(\"nodes.typeExpr\"),\n          getText: this._createOptionGetter(\"nodes.textExpr\"),\n          setText: this._createOptionSetter(\"nodes.textExpr\"),\n          getImage: this._createOptionGetter(\"nodes.imageUrlExpr\"),\n          setImage: this._createOptionSetter(\"nodes.imageUrlExpr\"),\n          getLeft: this._createOptionGetter(\"nodes.leftExpr\"),\n          setLeft: this._createOptionSetter(\"nodes.leftExpr\"),\n          getTop: this._createOptionGetter(\"nodes.topExpr\"),\n          setTop: this._createOptionSetter(\"nodes.topExpr\"),\n          getWidth: this._createOptionGetter(\"nodes.widthExpr\"),\n          setWidth: this._createOptionSetter(\"nodes.widthExpr\"),\n          getHeight: this._createOptionGetter(\"nodes.heightExpr\"),\n          setHeight: this._createOptionSetter(\"nodes.heightExpr\"),\n          getParentKey: this._createOptionGetter(\"nodes.parentKeyExpr\"),\n          setParentKey: this._createOptionSetter(\"nodes.parentKeyExpr\"),\n          getItems: this._createOptionGetter(\"nodes.itemsExpr\"),\n          setItems: this._createOptionSetter(\"nodes.itemsExpr\"),\n          getContainerKey: this._createOptionGetter(\"nodes.containerKeyExpr\"),\n          setContainerKey: this._createOptionSetter(\"nodes.containerKeyExpr\"),\n          getChildren: this._createOptionGetter(\"nodes.childrenExpr\"),\n          setChildren: this._createOptionSetter(\"nodes.childrenExpr\")\n        },\n        edgeDataImporter: {\n          getKey: this._createOptionGetter(\"edges.keyExpr\"),\n          setKey: this._createOptionSetter(\"edges.keyExpr\"),\n          getLocked: this._createOptionGetter(\"edges.lockedExpr\"),\n          setLocked: this._createOptionSetter(\"edges.lockedExpr\"),\n          getStyle: this._createOptionGetter(\"edges.styleExpr\"),\n          setStyle: this._createOptionSetter(\"edges.styleExpr\"),\n          getStyleText: this._createOptionGetter(\"edges.textStyleExpr\"),\n          setStyleText: this._createOptionSetter(\"edges.textStyleExpr\"),\n          getZIndex: this._createOptionGetter(\"edges.zIndexExpr\"),\n          setZIndex: this._createOptionSetter(\"edges.zIndexExpr\"),\n          getFrom: this._createOptionGetter(\"edges.fromExpr\"),\n          setFrom: this._createOptionSetter(\"edges.fromExpr\"),\n          getFromPointIndex: this._createOptionGetter(\"edges.fromPointIndexExpr\"),\n          setFromPointIndex: this._createOptionSetter(\"edges.fromPointIndexExpr\"),\n          getTo: this._createOptionGetter(\"edges.toExpr\"),\n          setTo: this._createOptionSetter(\"edges.toExpr\"),\n          getToPointIndex: this._createOptionGetter(\"edges.toPointIndexExpr\"),\n          setToPointIndex: this._createOptionSetter(\"edges.toPointIndexExpr\"),\n          getPoints: this._createOptionGetter(\"edges.pointsExpr\"),\n          setPoints: this._createOptionSetter(\"edges.pointsExpr\"),\n          getText: this._createOptionGetter(\"edges.textExpr\"),\n          setText: this._createOptionSetter(\"edges.textExpr\"),\n          getLineOption: (lineOptionGetter = this._createOptionGetter(\"edges.lineTypeExpr\")) && function (obj) {\n            var lineType = lineOptionGetter(obj);\n\n            switch (lineType) {\n              case \"straight\":\n                return ConnectorLineOption.Straight;\n\n              default:\n                return ConnectorLineOption.Orthogonal;\n            }\n          }.bind(this),\n          setLineOption: (lineOptionSetter = this._createOptionSetter(\"edges.lineTypeExpr\")) && function (obj, value) {\n            switch (value) {\n              case ConnectorLineOption.Straight:\n                value = \"straight\";\n                break;\n\n              case ConnectorLineOption.Orthogonal:\n                value = \"orthogonal\";\n            }\n\n            lineOptionSetter(obj, value);\n          }.bind(this),\n          getStartLineEnding: (startLineEndingGetter = this._createOptionGetter(\"edges.fromLineEndExpr\")) && function (obj) {\n            var lineType = startLineEndingGetter(obj);\n\n            switch (lineType) {\n              case \"arrow\":\n                return ConnectorLineEnding.Arrow;\n\n              default:\n                return ConnectorLineEnding.None;\n            }\n          }.bind(this),\n          setStartLineEnding: (startLineEndingSetter = this._createOptionSetter(\"edges.fromLineEndExpr\")) && function (obj, value) {\n            switch (value) {\n              case ConnectorLineEnding.Arrow:\n                value = \"arrow\";\n                break;\n\n              case ConnectorLineEnding.None:\n                value = \"none\";\n            }\n\n            startLineEndingSetter(obj, value);\n          }.bind(this),\n          getEndLineEnding: (endLineEndingGetter = this._createOptionGetter(\"edges.toLineEndExpr\")) && function (obj) {\n            var lineType = endLineEndingGetter(obj);\n\n            switch (lineType) {\n              case \"none\":\n                return ConnectorLineEnding.None;\n\n              default:\n                return ConnectorLineEnding.Arrow;\n            }\n          }.bind(this),\n          setEndLineEnding: (endLineEndingSetter = this._createOptionSetter(\"edges.toLineEndExpr\")) && function (obj, value) {\n            switch (value) {\n              case ConnectorLineEnding.Arrow:\n                value = \"arrow\";\n                break;\n\n              case ConnectorLineEnding.None:\n                value = \"none\";\n            }\n\n            endLineEndingSetter(obj, value);\n          }.bind(this)\n        },\n        layoutParameters: this._getDataBindingLayoutParameters()\n      };\n\n      this._executeDiagramCommand(DiagramCommand.BindDocument, data);\n    }\n  }, {\n    key: \"_getDataBindingLayoutParameters\",\n    value: function value() {\n      var _getDiagram5 = (0, _diagram_importer.getDiagram)(),\n          DataLayoutType = _getDiagram5.DataLayoutType,\n          DataLayoutOrientation = _getDiagram5.DataLayoutOrientation;\n\n      var layoutParametersOption = this.option(\"nodes.autoLayout\");\n\n      if (!layoutParametersOption || \"off\" === layoutParametersOption || \"off\" === layoutParametersOption.type) {\n        return;\n      }\n\n      var parameters = {};\n      var layoutType = layoutParametersOption.type || layoutParametersOption;\n\n      if (\"tree\" === layoutType) {\n        parameters.type = DataLayoutType.Tree;\n      } else {\n        if (\"layered\" === layoutType) {\n          parameters.type = DataLayoutType.Sugiyama;\n        }\n      }\n\n      if (\"vertical\" === layoutParametersOption.orientation) {\n        parameters.orientation = DataLayoutOrientation.Vertical;\n      } else {\n        if (\"horizontal\" === layoutParametersOption.orientation) {\n          parameters.orientation = DataLayoutOrientation.Horizontal;\n        }\n      }\n\n      return parameters;\n    }\n  }, {\n    key: \"_getAutoZoomValue\",\n    value: function value(option) {\n      var _getDiagram6 = (0, _diagram_importer.getDiagram)(),\n          AutoZoomMode = _getDiagram6.AutoZoomMode;\n\n      switch (option) {\n        case \"fitContent\":\n          return AutoZoomMode.FitContent;\n\n        case \"fitWidth\":\n          return AutoZoomMode.FitToWidth;\n\n        default:\n          return AutoZoomMode.Disabled;\n      }\n    }\n  }, {\n    key: \"_isBindingMode\",\n    value: function value() {\n      return this._nodesOption && this._nodesOption.hasItems() || this._edgesOption && this._nodesOption.hasItems();\n    }\n  }, {\n    key: \"_beginUpdateDiagram\",\n    value: function value() {\n      this._updateDiagramLockCount++;\n    }\n  }, {\n    key: \"_endUpdateDiagram\",\n    value: function value() {\n      this._updateDiagramLockCount = Math.max(this._updateDiagramLockCount - 1, 0);\n\n      if (!this._updateDiagramLockCount) {\n        this._bindDiagramData();\n      }\n    }\n  }, {\n    key: \"_getCustomShapes\",\n    value: function value() {\n      return this.option(\"customShapes\") || [];\n    }\n  }, {\n    key: \"_getToolboxGroups\",\n    value: function value() {\n      return _uiDiagram12.default.getGroups(this.option(\"toolbox.groups\"));\n    }\n  }, {\n    key: \"_updateCustomShapes\",\n    value: function value(customShapes, prevCustomShapes) {\n      if (Array.isArray(prevCustomShapes)) {\n        this._diagramInstance.removeCustomShapes(prevCustomShapes.map(function (s) {\n          return s.type;\n        }));\n      }\n\n      if (Array.isArray(customShapes)) {\n        this._diagramInstance.addCustomShapes(customShapes.map(function (s) {\n          return {\n            category: s.category,\n            type: s.type,\n            baseType: s.baseType,\n            title: s.title,\n            svgUrl: s.backgroundImageUrl,\n            svgLeft: s.backgroundImageLeft,\n            svgTop: s.backgroundImageTop,\n            svgWidth: s.backgroundImageWidth,\n            svgHeight: s.backgroundImageHeight,\n            defaultWidth: s.defaultWidth,\n            defaultHeight: s.defaultHeight,\n            defaultText: s.defaultText,\n            allowEditText: s.allowEditText,\n            textLeft: s.textLeft,\n            textTop: s.textTop,\n            textWidth: s.textWidth,\n            textHeight: s.textHeight,\n            defaultImageUrl: s.defaultImageUrl,\n            allowEditImage: s.allowEditImage,\n            imageLeft: s.imageLeft,\n            imageTop: s.imageTop,\n            imageWidth: s.imageWidth,\n            imageHeight: s.imageHeight,\n            connectionPoints: s.connectionPoints && s.connectionPoints.map(function (pt) {\n              return {\n                x: pt.x,\n                y: pt.y\n              };\n            })\n          };\n        }));\n      }\n    }\n  }, {\n    key: \"_onToggleFullScreen\",\n    value: function value(fullScreen) {\n      this._changeNativeFullscreen(fullScreen);\n\n      this.$element().toggleClass(DIAGRAM_FULLSCREEN_CLASS, fullScreen);\n\n      this._diagramInstance.updateLayout();\n    }\n  }, {\n    key: \"_changeNativeFullscreen\",\n    value: function value(setModeOn) {\n      var window = (0, _window.getWindow)();\n\n      if (window.self === window.top || setModeOn === this._inNativeFullscreen()) {\n        return;\n      }\n\n      if (setModeOn) {\n        this._subscribeFullscreenNativeChanged();\n      } else {\n        this._unsubscribeFullscreenNativeChanged();\n      }\n\n      this._setNativeFullscreen(setModeOn);\n    }\n  }, {\n    key: \"_setNativeFullscreen\",\n    value: function value(on) {\n      var window = (0, _window.getWindow)();\n      var document = window.self.document;\n      var body = window.self.document.body;\n\n      if (on) {\n        if (body.requestFullscreen) {\n          body.requestFullscreen();\n        } else {\n          if (body.mozRequestFullscreen) {\n            body.mozRequestFullscreen();\n          } else {\n            if (body.webkitRequestFullscreen) {\n              body.webkitRequestFullscreen();\n            } else {\n              if (body.msRequestFullscreen) {\n                body.msRequestFullscreen();\n              }\n            }\n          }\n        }\n      } else {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else {\n          if (document.mozCancelFullscreen) {\n            document.mozCancelFullscreen();\n          } else {\n            if (document.webkitExitFullscreen) {\n              document.webkitExitFullscreen();\n            } else {\n              if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_inNativeFullscreen\",\n    value: function value() {\n      var document = (0, _window.getWindow)().document;\n      var fullscreenElement = document.fullscreenElement || document.msFullscreenElement || document.webkitFullscreenElement;\n      var isInFullscreen = fullscreenElement === document.body || document.webkitIsFullscreen;\n      return !!isInFullscreen;\n    }\n  }, {\n    key: \"_subscribeFullscreenNativeChanged\",\n    value: function value() {\n      var document = (0, _window.getWindow)().document;\n\n      var handler = this._onNativeFullscreenChangeHandler.bind(this);\n\n      _events_engine2.default.on(document, FULLSCREEN_CHANGE_EVENT_NAME, handler);\n\n      _events_engine2.default.on(document, IE_FULLSCREEN_CHANGE_EVENT_NAME, handler);\n\n      _events_engine2.default.on(document, WEBKIT_FULLSCREEN_CHANGE_EVENT_NAME, handler);\n\n      _events_engine2.default.on(document, MOZ_FULLSCREEN_CHANGE_EVENT_NAME, handler);\n    }\n  }, {\n    key: \"_unsubscribeFullscreenNativeChanged\",\n    value: function value() {\n      var document = (0, _window.getWindow)().document;\n\n      _events_engine2.default.off(document, FULLSCREEN_CHANGE_EVENT_NAME);\n\n      _events_engine2.default.off(document, IE_FULLSCREEN_CHANGE_EVENT_NAME);\n\n      _events_engine2.default.off(document, WEBKIT_FULLSCREEN_CHANGE_EVENT_NAME);\n\n      _events_engine2.default.off(document, MOZ_FULLSCREEN_CHANGE_EVENT_NAME);\n    }\n  }, {\n    key: \"_onNativeFullscreenChangeHandler\",\n    value: function value() {\n      if (!this._inNativeFullscreen()) {\n        this._unsubscribeFullscreenNativeChanged();\n\n        this._onToggleFullScreen(false);\n      }\n    }\n  }, {\n    key: \"_onShowContextMenu\",\n    value: function value(x, y, selection) {\n      this._contextMenu._show(x, y, selection);\n    }\n  }, {\n    key: \"_onHideContextMenu\",\n    value: function value() {\n      this._contextMenu._hide();\n    }\n  }, {\n    key: \"_getDiagramUnitValue\",\n    value: function value(_value) {\n      var _getDiagram7 = (0, _diagram_importer.getDiagram)(),\n          DiagramUnit = _getDiagram7.DiagramUnit;\n\n      switch (_value) {\n        case \"in\":\n          return DiagramUnit.In;\n\n        case \"cm\":\n          return DiagramUnit.Cm;\n\n        case \"px\":\n          return DiagramUnit.Px;\n\n        default:\n          return DiagramUnit.In;\n      }\n    }\n  }, {\n    key: \"_updateReadOnlyState\",\n    value: function value() {\n      var _getDiagram8 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram8.DiagramCommand;\n\n      var readOnly = this.option(\"readOnly\") || this.option(\"disabled\");\n\n      this._executeDiagramCommand(DiagramCommand.ToggleReadOnly, readOnly);\n\n      this._setLeftPanelEnabled(!readOnly);\n    }\n  }, {\n    key: \"_updateZoomLevelState\",\n    value: function value() {\n      var zoomLevel = this.option(\"zoomLevel.value\");\n\n      if (!zoomLevel) {\n        zoomLevel = this.option(\"zoomLevel\");\n      }\n\n      var _getDiagram9 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram9.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.ZoomLevel, zoomLevel);\n    }\n  }, {\n    key: \"_updateZoomLevelItemsState\",\n    value: function value() {\n      var zoomLevelItems = this.option(\"zoomLevel.items\");\n\n      if (!Array.isArray(zoomLevelItems)) {\n        return;\n      }\n\n      var _getDiagram10 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram10.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.ZoomLevelItems, zoomLevelItems);\n    }\n  }, {\n    key: \"_updateAutoZoomState\",\n    value: function value() {\n      var _getDiagram11 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram11.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.SwitchAutoZoom, this._getAutoZoomValue(this.option(\"autoZoom\")));\n    }\n  }, {\n    key: \"_updateSimpleViewState\",\n    value: function value() {\n      var _getDiagram12 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram12.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.ToggleSimpleView, this.option(\"simpleView\"));\n    }\n  }, {\n    key: \"_updateFullscreenState\",\n    value: function value() {\n      var _getDiagram13 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram13.DiagramCommand;\n\n      var fullScreen = this.option(\"fullScreen\");\n\n      this._executeDiagramCommand(DiagramCommand.Fullscreen, fullScreen);\n\n      this._onToggleFullScreen(fullScreen);\n    }\n  }, {\n    key: \"_updateShowGridState\",\n    value: function value() {\n      var _getDiagram14 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram14.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.ShowGrid, this.option(\"showGrid\"));\n    }\n  }, {\n    key: \"_updateSnapToGridState\",\n    value: function value() {\n      var _getDiagram15 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram15.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.SnapToGrid, this.option(\"snapToGrid\"));\n    }\n  }, {\n    key: \"_updateGridSizeState\",\n    value: function value() {\n      var gridSize = this.option(\"gridSize.value\");\n\n      if (!gridSize) {\n        gridSize = this.option(\"gridSize\");\n      }\n\n      var _getDiagram16 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram16.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.GridSize, gridSize);\n    }\n  }, {\n    key: \"_updateGridSizeItemsState\",\n    value: function value() {\n      var gridSizeItems = this.option(\"gridSize.items\");\n\n      if (!Array.isArray(gridSizeItems)) {\n        return;\n      }\n\n      var _getDiagram17 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram17.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.GridSizeItems, gridSizeItems);\n    }\n  }, {\n    key: \"_updateUnitItems\",\n    value: function value() {\n      var _getDiagram18 = (0, _diagram_importer.getDiagram)(),\n          DiagramUnit = _getDiagram18.DiagramUnit;\n\n      var items = {};\n      items[DiagramUnit.In] = _message2.default.format(\"dxDiagram-unitIn\");\n      items[DiagramUnit.Cm] = _message2.default.format(\"dxDiagram-unitCm\");\n      items[DiagramUnit.Px] = _message2.default.format(\"dxDiagram-unitPx\");\n      this._diagramInstance.settings.unitItems = items;\n    }\n  }, {\n    key: \"_updateFormatUnitsMethod\",\n    value: function value() {\n      this._diagramInstance.settings.formatUnit = function (value) {\n        return _number2.default.format(value);\n      };\n    }\n  }, {\n    key: \"_updateViewUnitsState\",\n    value: function value() {\n      var _getDiagram19 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram19.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.ViewUnits, this._getDiagramUnitValue(this.option(\"viewUnits\")));\n    }\n  }, {\n    key: \"_updateUnitsState\",\n    value: function value() {\n      var _getDiagram20 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram20.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.Units, this._getDiagramUnitValue(this.option(\"units\")));\n    }\n  }, {\n    key: \"_updatePageSizeState\",\n    value: function value() {\n      var pageSize = this.option(\"pageSize\");\n\n      if (!pageSize || !pageSize.width || !pageSize.height) {\n        return;\n      }\n\n      var _getDiagram21 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram21.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.PageSize, pageSize);\n    }\n  }, {\n    key: \"_updatePageSizeItemsState\",\n    value: function value() {\n      var pageSizeItems = this.option(\"pageSize.items\");\n\n      if (!Array.isArray(pageSizeItems)) {\n        return;\n      }\n\n      var _getDiagram22 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram22.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.PageSizeItems, pageSizeItems);\n    }\n  }, {\n    key: \"_updatePageOrientationState\",\n    value: function value() {\n      var _getDiagram23 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram23.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.PageLandscape, \"landscape\" === this.option(\"pageOrientation\"));\n    }\n  }, {\n    key: \"_updatePageColorState\",\n    value: function value() {\n      var _getDiagram24 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram24.DiagramCommand;\n\n      this._executeDiagramCommand(DiagramCommand.PageColor, this.option(\"pageColor\"));\n    }\n  }, {\n    key: \"export\",\n    value: function value() {\n      return this._getDiagramData();\n    }\n  }, {\n    key: \"exportTo\",\n    value: function value(format, callback) {\n      var command = this._getDiagramExportToCommand(format);\n\n      this._executeDiagramCommand(command, callback);\n    }\n  }, {\n    key: \"_getDiagramExportToCommand\",\n    value: function value(format) {\n      var _getDiagram25 = (0, _diagram_importer.getDiagram)(),\n          DiagramCommand = _getDiagram25.DiagramCommand;\n\n      switch (format) {\n        case \"png\":\n          return DiagramCommand.ExportPng;\n\n        case \"jpg\":\n          return DiagramCommand.ExportJpg;\n\n        default:\n          return DiagramCommand.ExportSvg;\n      }\n    }\n  }, {\n    key: \"import\",\n    value: function value(data, updateExistingItemsOnly) {\n      this._setDiagramData(data, updateExistingItemsOnly);\n\n      this._raiseDataChangeAction();\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(Diagram.prototype), \"_getDefaultOptions\", this).call(this), {\n        readOnly: false,\n        zoomLevel: DIAGRAM_DEFAULT_ZOOMLEVEL,\n        simpleView: false,\n        autoZoom: DIAGRAM_DEFAULT_AUTOZOOM,\n        fullScreen: false,\n        showGrid: true,\n        snapToGrid: true,\n        units: DIAGRAM_DEFAULT_UNIT,\n        viewUnits: DIAGRAM_DEFAULT_UNIT,\n        pageOrientation: DIAGRAM_DEFAULT_PAGE_ORIENTATION,\n        pageColor: DIAGRAM_DEFAULT_PAGE_COLOR,\n        onDataChanged: null,\n        nodes: {\n          dataSource: null,\n          keyExpr: \"id\",\n          lockedExpr: void 0,\n          styleExpr: void 0,\n          textStyleExpr: void 0,\n          zIndexExpr: void 0,\n          typeExpr: \"type\",\n          textExpr: \"text\",\n          imageUrlExpr: void 0,\n          parentKeyExpr: void 0,\n          itemsExpr: void 0,\n          leftExpr: void 0,\n          topExpr: void 0,\n          widthExpr: void 0,\n          heightExpr: void 0,\n          containerKeyExpr: void 0,\n          childrenExpr: \"children\",\n          autoLayout: \"tree\"\n        },\n        edges: {\n          dataSource: null,\n          keyExpr: \"id\",\n          lockedExpr: void 0,\n          styleExpr: void 0,\n          textStyleExpr: void 0,\n          zIndexExpr: void 0,\n          fromExpr: \"from\",\n          fromPointIndexExpr: void 0,\n          toExpr: \"to\",\n          toPointIndexExpr: void 0,\n          pointsExpr: void 0,\n          textExpr: void 0,\n          lineTypeExpr: void 0,\n          fromLineEndExpr: void 0,\n          toLineEndExpr: void 0\n        },\n        customShapes: [],\n        toolbox: {\n          visible: true\n        },\n        toolbar: {\n          visible: true\n        },\n        contextMenu: {\n          enabled: true\n        },\n        propertiesPanel: {\n          enabled: true,\n          collapsible: true\n        },\n        \"export\": {\n          fileName: \"Diagram\",\n          proxyUrl: void 0\n        },\n        onItemClick: null,\n        onItemDblClick: null,\n        onSelectionChanged: null\n      });\n    }\n  }, {\n    key: \"_createDataChangeAction\",\n    value: function value() {\n      this._dataChangeAction = this._createActionByOption(\"onDataChanged\");\n    }\n  }, {\n    key: \"_raiseDataChangeAction\",\n    value: function value() {\n      if (!this._dataChangeAction) {\n        this._createDataChangeAction();\n      }\n\n      this._dataChangeAction();\n    }\n  }, {\n    key: \"_raiseEdgeInsertedAction\",\n    value: function value(data, callback, errorCallback) {\n      if (this._edgesOption) {\n        this._edgesOption.insert(data, callback, errorCallback);\n      }\n    }\n  }, {\n    key: \"_raiseEdgeUpdatedAction\",\n    value: function value(key, data, callback, errorCallback) {\n      if (this._edgesOption) {\n        this._edgesOption.update(key, data, callback, errorCallback);\n      }\n    }\n  }, {\n    key: \"_raiseEdgeRemovedAction\",\n    value: function value(key, data, callback, errorCallback) {\n      if (this._edgesOption) {\n        this._edgesOption.remove(key, data, callback, errorCallback);\n      }\n    }\n  }, {\n    key: \"_raiseNodeInsertedAction\",\n    value: function value(data, callback, errorCallback) {\n      if (this._nodesOption) {\n        this._nodesOption.insert(data, callback, errorCallback);\n      }\n    }\n  }, {\n    key: \"_raiseNodeUpdatedAction\",\n    value: function value(key, data, callback, errorCallback) {\n      if (this._nodesOption) {\n        this._nodesOption.update(key, data, callback, errorCallback);\n      }\n    }\n  }, {\n    key: \"_raiseNodeRemovedAction\",\n    value: function value(key, data, callback, errorCallback) {\n      if (this._nodesOption) {\n        this._nodesOption.remove(key, data, callback, errorCallback);\n      }\n    }\n  }, {\n    key: \"_raiseToolboxDragStart\",\n    value: function value() {\n      if (this._leftPanel) {\n        this._leftPanel.$element().addClass(\"dx-skip-gesture-event\");\n      }\n    }\n  }, {\n    key: \"_raiseToolboxDragEnd\",\n    value: function value() {\n      if (this._leftPanel) {\n        this._leftPanel.$element().removeClass(\"dx-skip-gesture-event\");\n      }\n    }\n  }, {\n    key: \"_createItemClickAction\",\n    value: function value() {\n      this._itemClickAction = this._createActionByOption(\"onItemClick\");\n    }\n  }, {\n    key: \"_createItemDblClickAction\",\n    value: function value() {\n      this._itemDblClickAction = this._createActionByOption(\"onItemDblClick\");\n    }\n  }, {\n    key: \"_createSelectionChangedAction\",\n    value: function value() {\n      this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\");\n    }\n  }, {\n    key: \"_raiseItemClickAction\",\n    value: function value(nativeItem) {\n      if (!this._itemClickAction) {\n        this._createItemClickAction();\n      }\n\n      this._itemClickAction({\n        item: this._nativeItemToDiagramItem(nativeItem)\n      });\n    }\n  }, {\n    key: \"_raiseItemDblClickAction\",\n    value: function value(nativeItem) {\n      if (!this._itemDblClickAction) {\n        this._createItemDblClickAction();\n      }\n\n      this._itemDblClickAction({\n        item: this._nativeItemToDiagramItem(nativeItem)\n      });\n    }\n  }, {\n    key: \"_raiseSelectionChanged\",\n    value: function value(nativeItems) {\n      if (!this._selectionChangedAction) {\n        this._createSelectionChangedAction();\n      }\n\n      this._selectionChangedAction({\n        items: nativeItems.map(this._nativeItemToDiagramItem.bind(this))\n      });\n    }\n  }, {\n    key: \"_nativeItemToDiagramItem\",\n    value: function value(nativeItem) {\n      var _getDiagram26 = (0, _diagram_importer.getDiagram)(),\n          NativeShape = _getDiagram26.NativeShape;\n\n      var createMethod = nativeItem instanceof NativeShape ? this._nativeShapeToDiagramShape.bind(this) : this._nativeConnectorToDiagramConnector.bind(this);\n      return (0, _extend.extend)({\n        id: nativeItem.id\n      }, createMethod(nativeItem));\n    }\n  }, {\n    key: \"_nativeShapeToDiagramShape\",\n    value: function value(nativeShape) {\n      return {\n        dataItem: this._nodesOption && this._nodesOption.findItem(nativeShape.key),\n        itemType: \"shape\",\n        text: nativeShape.text,\n        type: nativeShape.type\n      };\n    }\n  }, {\n    key: \"_nativeConnectorToDiagramConnector\",\n    value: function value(nativeConnector) {\n      return {\n        dataItem: this._edgesOption && this._edgesOption.findItem(nativeConnector.key),\n        itemType: \"connector\",\n        texts: nativeConnector.texts,\n        fromKey: nativeConnector.fromKey,\n        toKey: nativeConnector.toKey\n      };\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      if (this.optionsUpdateBar.isUpdateLocked()) {\n        return;\n      }\n\n      this.optionsUpdateBar.beginUpdate();\n\n      try {\n        this._optionChangedCore(args);\n      } finally {\n        this.optionsUpdateBar.endUpdate();\n      }\n    }\n  }, {\n    key: \"_optionChangedCore\",\n    value: function value(args) {\n      switch (args.name) {\n        case \"readOnly\":\n        case \"disabled\":\n          this._updateReadOnlyState();\n\n          break;\n\n        case \"zoomLevel\":\n          if (\"zoomLevel\" === args.fullName || \"zoomLevel.items\" === args.fullName) {\n            this._updateZoomLevelItemsState();\n          }\n\n          if (\"zoomLevel\" === args.fullName || \"zoomLevel.value\" === args.fullName) {\n            this._updateZoomLevelState();\n          }\n\n          break;\n\n        case \"autoZoom\":\n          this._updateAutoZoomState();\n\n          break;\n\n        case \"simpleView\":\n          this._updateSimpleViewState();\n\n          break;\n\n        case \"fullScreen\":\n          this._updateFullscreenState();\n\n          break;\n\n        case \"showGrid\":\n          this._updateShowGridState();\n\n          break;\n\n        case \"snapToGrid\":\n          this._updateSnapToGridState();\n\n          break;\n\n        case \"gridSize\":\n          if (\"gridSize\" === args.fullName || \"gridSize.items\" === args.fullName) {\n            this._updateGridSizeItemsState();\n          }\n\n          if (\"gridSize\" === args.fullName || \"gridSize.value\" === args.fullName) {\n            this._updateGridSizeState();\n          }\n\n          break;\n\n        case \"viewUnits\":\n          this._updateViewUnitsState();\n\n          break;\n\n        case \"units\":\n          this._updateUnitsState();\n\n          break;\n\n        case \"pageSize\":\n          if (\"pageSize\" === args.fullName || \"pageSize.items\" === args.fullName) {\n            this._updatePageSizeItemsState();\n          }\n\n          if (\"pageSize\" === args.fullName || \"pageSize.width\" === args.fullName || \"pageSize.height\" === args.fullName) {\n            this._updatePageSizeState();\n          }\n\n          break;\n\n        case \"pageOrientation\":\n          this._updatePageOrientationState();\n\n          break;\n\n        case \"pageColor\":\n          this._updatePageColorState();\n\n          break;\n\n        case \"nodes\":\n          if (\"nodes.autoLayout\" === args.fullName) {\n            this._refreshDataSources();\n          } else {\n            this._refreshNodesDataSource();\n          }\n\n          break;\n\n        case \"edges\":\n          this._refreshEdgesDataSource();\n\n          break;\n\n        case \"customShapes\":\n          this._updateCustomShapes(args.value, args.previousValue);\n\n          this._invalidate();\n\n          break;\n\n        case \"contextMenu\":\n          if (\"contextMenu.commands\" === args.fullName) {\n            this._invalidateContextMenuCommands();\n          } else {\n            this._invalidate();\n          }\n\n          break;\n\n        case \"propertiesPanel\":\n          if (\"propertiesPanel.groups\" === args.name) {\n            this._invalidatePropertiesPanelGroups();\n          } else {\n            this._invalidate();\n          }\n\n          break;\n\n        case \"toolbox\":\n          if (\"toolbox.groups\" === args.fullName) {\n            this._invalidateToolboxGroups();\n          } else {\n            this._invalidate();\n          }\n\n          break;\n\n        case \"toolbar\":\n          if (\"toolbar.commands\" === args.fullName) {\n            this._invalidateToolbarCommands();\n          } else {\n            this._invalidate();\n          }\n\n          break;\n\n        case \"onDataChanged\":\n          this._createDataChangeAction();\n\n          break;\n\n        case \"onItemClick\":\n          this._createItemClickAction();\n\n          break;\n\n        case \"onItemDblClick\":\n          this._createItemDblClickAction();\n\n          break;\n\n        case \"onSelectionChanged\":\n          this._createSelectionChangedAction();\n\n          break;\n\n        case \"export\":\n          if (this._toolbarInstance) {\n            this._toolbarInstance.option(\"export\", args.value);\n          }\n\n          break;\n\n        default:\n          _get(_getPrototypeOf(Diagram.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }]);\n\n  return Diagram;\n}(_ui2.default);\n\n(0, _component_registrator2.default)(\"dxDiagram\", Diagram);\nmodule.exports = Diagram;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/diagram/ui.diagram.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_ui","_ui2","_drawer","_drawer2","_load_indicator","_load_indicator2","_component_registrator","_component_registrator2","_extend","_type","_type2","_data","_data2","_uiDiagram","_uiDiagram2","_uiDiagram3","_uiDiagram4","_uiDiagram5","_uiDiagram6","_uiDiagram7","_uiDiagram8","_uiDiagram9","_uiDiagram10","_uiDiagram11","_uiDiagram12","_uiDiagram13","_uiDiagram14","_uiDiagram15","_uiDiagram16","_uiDiagram17","_uiDiagram18","_tooltip","_tooltip2","_diagram_importer","_window","_events_engine","_events_engine2","_utils","_utils2","_message","_message2","_number","_number2","_uiDiagram19","_uiDiagram20","obj","Symbol","_typeof","instance","i","props","descriptor","Object","_defineProperties","Constructor","call","_assertThisInitialized","Reflect","_get","base","_superPropBase","desc","receiver","object","_getPrototypeOf","o","subClass","superClass","constructor","value","writable","configurable","_setPrototypeOf","DIAGRAM_CLASS","DIAGRAM_FULLSCREEN_CLASS","DIAGRAM_TOOLBAR_WRAPPER_CLASS","DIAGRAM_CONTENT_WRAPPER_CLASS","DIAGRAM_DRAWER_WRAPPER_CLASS","DIAGRAM_CONTENT_CLASS","DIAGRAM_LOADING_INDICATOR_CLASS","DIAGRAM_DEFAULT_UNIT","DIAGRAM_DEFAULT_ZOOMLEVEL","DIAGRAM_DEFAULT_AUTOZOOM","DIAGRAM_DEFAULT_PAGE_ORIENTATION","DIAGRAM_DEFAULT_PAGE_COLOR","DIAGRAM_NAMESPACE","FULLSCREEN_CHANGE_EVENT_NAME","IE_FULLSCREEN_CHANGE_EVENT_NAME","WEBKIT_FULLSCREEN_CHANGE_EVENT_NAME","MOZ_FULLSCREEN_CHANGE_EVENT_NAME","Diagram","_inherits","_classCallCheck","_possibleConstructorReturn","_createClass","key","isServerSide","$contentWrapper","$drawerWrapper","$drawer","component","_this","$toolbarWrapper","toolbarWidgetCommandNames","commands","onContentReady","e","onPointerUp","widgetCommandNames","_this2","$leftPanel","toolboxGroups","disabled","onShapeCategoryRendered","$toolboxContainer","_this3","targets","$target","$tooltip","target","showEvent","hideEvent","position","animation","show","type","from","to","delay","hide","propertyGroups","enabled","_this4","isCollapsible","drawer","closeOnOutsideClick","opened","openedStateMode","template","_this5","$contextMenu","container","_ref","onVisibleChanged","_ref2","onItemClick","itemData","dialogParameters","$dialogElement","$parent","_getDiagram","DiagramControl","notifyItemClick","notifyItemDblClick","notifySelectionChanged","_getDiagram2","DiagramCommand","_getDiagram3","data","keepExistingItems","expr","_getDiagram4","ConnectorLineOption","ConnectorLineEnding","nodeDataSource","edgeDataSource","nodeDataImporter","getKey","setKey","getLocked","setLocked","getStyle","setStyle","getStyleText","setStyleText","getZIndex","setZIndex","getType","setType","getText","setText","getImage","setImage","getLeft","setLeft","getTop","setTop","getWidth","setWidth","getHeight","setHeight","getParentKey","setParentKey","getItems","setItems","getContainerKey","setContainerKey","getChildren","setChildren","edgeDataImporter","getFrom","setFrom","getFromPointIndex","setFromPointIndex","getTo","setTo","getToPointIndex","setToPointIndex","getPoints","setPoints","getLineOption","lineOptionGetter","lineType","setLineOption","lineOptionSetter","getStartLineEnding","startLineEndingGetter","setStartLineEnding","startLineEndingSetter","getEndLineEnding","endLineEndingGetter","setEndLineEnding","endLineEndingSetter","layoutParameters","_getDiagram5","DataLayoutType","DataLayoutOrientation","layoutParametersOption","parameters","layoutType","_getDiagram6","AutoZoomMode","Math","Array","s","category","baseType","title","svgUrl","svgLeft","svgTop","svgWidth","svgHeight","defaultWidth","defaultHeight","defaultText","allowEditText","textLeft","textTop","textWidth","textHeight","defaultImageUrl","allowEditImage","imageLeft","imageTop","imageWidth","imageHeight","connectionPoints","x","pt","y","window","setModeOn","document","body","fullscreenElement","isInFullscreen","handler","_getDiagram7","DiagramUnit","_getDiagram8","readOnly","zoomLevel","_getDiagram9","zoomLevelItems","_getDiagram10","_getDiagram11","_getDiagram12","_getDiagram13","fullScreen","_getDiagram14","_getDiagram15","gridSize","_getDiagram16","gridSizeItems","_getDiagram17","_getDiagram18","items","_getDiagram19","_getDiagram20","pageSize","_getDiagram21","pageSizeItems","_getDiagram22","_getDiagram23","_getDiagram24","command","_getDiagram25","simpleView","autoZoom","showGrid","snapToGrid","units","viewUnits","pageOrientation","pageColor","onDataChanged","nodes","dataSource","keyExpr","lockedExpr","styleExpr","textStyleExpr","zIndexExpr","typeExpr","textExpr","imageUrlExpr","parentKeyExpr","itemsExpr","leftExpr","topExpr","widthExpr","heightExpr","containerKeyExpr","childrenExpr","autoLayout","edges","fromExpr","fromPointIndexExpr","toExpr","toPointIndexExpr","pointsExpr","lineTypeExpr","fromLineEndExpr","toLineEndExpr","customShapes","toolbox","visible","toolbar","contextMenu","propertiesPanel","collapsible","fileName","proxyUrl","onItemDblClick","onSelectionChanged","item","nativeItems","_getDiagram26","NativeShape","createMethod","nativeItem","id","dataItem","nativeShape","itemType","text","nativeConnector","texts","fromKey","toKey","args","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/diagram/ui.diagram.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _ui = require(\"../widget/ui.widget\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _drawer = require(\"../drawer\");\r\nvar _drawer2 = _interopRequireDefault(_drawer);\r\nvar _load_indicator = require(\"../load_indicator\");\r\nvar _load_indicator2 = _interopRequireDefault(_load_indicator);\r\nvar _component_registrator = require(\"../../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _type2 = _interopRequireDefault(_type);\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _data2 = _interopRequireDefault(_data);\r\nvar _uiDiagram = require(\"./ui.diagram.toolbar\");\r\nvar _uiDiagram2 = _interopRequireDefault(_uiDiagram);\r\nvar _uiDiagram3 = require(\"./ui.diagram.leftpanel\");\r\nvar _uiDiagram4 = _interopRequireDefault(_uiDiagram3);\r\nvar _uiDiagram5 = require(\"./ui.diagram.rightpanel\");\r\nvar _uiDiagram6 = _interopRequireDefault(_uiDiagram5);\r\nvar _uiDiagram7 = require(\"./ui.diagram.contextmenu\");\r\nvar _uiDiagram8 = _interopRequireDefault(_uiDiagram7);\r\nvar _uiDiagram9 = require(\"./ui.diagram.dialogs\");\r\nvar _uiDiagram10 = _interopRequireDefault(_uiDiagram9);\r\nvar _uiDiagram11 = require(\"./ui.diagram.toolbox\");\r\nvar _uiDiagram12 = _interopRequireDefault(_uiDiagram11);\r\nvar _uiDiagram13 = require(\"./ui.diagram.optionsupdate\");\r\nvar _uiDiagram14 = _interopRequireDefault(_uiDiagram13);\r\nvar _uiDiagram15 = require(\"./ui.diagram.nodes\");\r\nvar _uiDiagram16 = _interopRequireDefault(_uiDiagram15);\r\nvar _uiDiagram17 = require(\"./ui.diagram.edges\");\r\nvar _uiDiagram18 = _interopRequireDefault(_uiDiagram17);\r\nvar _tooltip = require(\"../tooltip\");\r\nvar _tooltip2 = _interopRequireDefault(_tooltip);\r\nvar _diagram_importer = require(\"./diagram_importer\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _utils = require(\"../../events/utils\");\r\nvar _utils2 = _interopRequireDefault(_utils);\r\nvar _message = require(\"../../localization/message\");\r\nvar _message2 = _interopRequireDefault(_message);\r\nvar _number = require(\"../../localization/number\");\r\nvar _number2 = _interopRequireDefault(_number);\r\nvar _uiDiagram19 = require(\"./ui.diagram.dialogmanager\");\r\nvar _uiDiagram20 = _interopRequireDefault(_uiDiagram19);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar DIAGRAM_CLASS = \"dx-diagram\";\r\nvar DIAGRAM_FULLSCREEN_CLASS = \"dx-diagram-fullscreen\";\r\nvar DIAGRAM_TOOLBAR_WRAPPER_CLASS = DIAGRAM_CLASS + \"-toolbar-wrapper\";\r\nvar DIAGRAM_CONTENT_WRAPPER_CLASS = DIAGRAM_CLASS + \"-content-wrapper\";\r\nvar DIAGRAM_DRAWER_WRAPPER_CLASS = DIAGRAM_CLASS + \"-drawer-wrapper\";\r\nvar DIAGRAM_CONTENT_CLASS = DIAGRAM_CLASS + \"-content\";\r\nvar DIAGRAM_LOADING_INDICATOR_CLASS = DIAGRAM_CLASS + \"-loading-indicator\";\r\nvar DIAGRAM_DEFAULT_UNIT = \"in\";\r\nvar DIAGRAM_DEFAULT_ZOOMLEVEL = 1;\r\nvar DIAGRAM_DEFAULT_AUTOZOOM = \"disabled\";\r\nvar DIAGRAM_DEFAULT_PAGE_ORIENTATION = \"portrait\";\r\nvar DIAGRAM_DEFAULT_PAGE_COLOR = \"white\";\r\nvar DIAGRAM_NAMESPACE = \"dxDiagramEvent\";\r\nvar FULLSCREEN_CHANGE_EVENT_NAME = _utils2.default.addNamespace(\"fullscreenchange\", DIAGRAM_NAMESPACE);\r\nvar IE_FULLSCREEN_CHANGE_EVENT_NAME = _utils2.default.addNamespace(\"msfullscreenchange\", DIAGRAM_NAMESPACE);\r\nvar WEBKIT_FULLSCREEN_CHANGE_EVENT_NAME = _utils2.default.addNamespace(\"webkitfullscreenchange\", DIAGRAM_NAMESPACE);\r\nvar MOZ_FULLSCREEN_CHANGE_EVENT_NAME = _utils2.default.addNamespace(\"mozfullscreenchange\", DIAGRAM_NAMESPACE);\r\nvar Diagram = function(_Widget) {\r\n    _inherits(Diagram, _Widget);\r\n\r\n    function Diagram() {\r\n        _classCallCheck(this, Diagram);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(Diagram).apply(this, arguments))\r\n    }\r\n    _createClass(Diagram, [{\r\n        key: \"_init\",\r\n        value: function() {\r\n            this._updateDiagramLockCount = 0;\r\n            _get(_getPrototypeOf(Diagram.prototype), \"_init\", this).call(this);\r\n            this._initDiagram();\r\n            this.optionsUpdateBar = new _uiDiagram14.default(this)\r\n        }\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Diagram.prototype), \"_initMarkup\", this).call(this);\r\n            var isServerSide = !(0, _window.hasWindow)();\r\n            this.$element().addClass(DIAGRAM_CLASS);\r\n            this._toolbarInstance = void 0;\r\n            if (this.option(\"toolbar.visible\")) {\r\n                this._renderToolbar()\r\n            }\r\n            var $contentWrapper = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_CONTENT_WRAPPER_CLASS).appendTo(this.$element());\r\n            this._leftPanel = void 0;\r\n            if (this.option(\"toolbox.visible\")) {\r\n                this._renderLeftPanel($contentWrapper)\r\n            }\r\n            var $drawerWrapper = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_DRAWER_WRAPPER_CLASS).appendTo($contentWrapper);\r\n            if (this.option(\"propertiesPanel.enabled\")) {\r\n                var $drawer = (0, _renderer2.default)(\"<div>\").appendTo($drawerWrapper);\r\n                this._content = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_CONTENT_CLASS).appendTo($drawer);\r\n                this._renderRightPanel($drawer)\r\n            } else {\r\n                this._content = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_CONTENT_CLASS).appendTo($drawerWrapper)\r\n            }\r\n            this._contextMenu = void 0;\r\n            if (this.option(\"contextMenu.enabled\")) {\r\n                this._renderContextMenu(this._content)\r\n            }\r\n            this._renderDialog(this._content);\r\n            !isServerSide && this._diagramInstance.createDocument(this._content[0]);\r\n            if (this.option(\"zoomLevel\") !== DIAGRAM_DEFAULT_ZOOMLEVEL) {\r\n                this._updateZoomLevelState()\r\n            }\r\n            if (this.option(\"autoZoom\") !== DIAGRAM_DEFAULT_AUTOZOOM) {\r\n                this._updateAutoZoomState()\r\n            }\r\n            if (this.option(\"simpleView\")) {\r\n                this._updateSimpleViewState()\r\n            }\r\n            if (this.option(\"readOnly\") || this.option(\"disabled\")) {\r\n                this._updateReadOnlyState()\r\n            }\r\n            if (this.option(\"fullScreen\")) {\r\n                this._updateFullscreenState()\r\n            }\r\n            this._diagramInstance.barManager.registerBar(this.optionsUpdateBar)\r\n        }\r\n    }, {\r\n        key: \"notifyBarCommandExecuted\",\r\n        value: function() {\r\n            this._diagramInstance.captureFocus()\r\n        }\r\n    }, {\r\n        key: \"_registerBar\",\r\n        value: function(component) {\r\n            component.bar.onChanged.add(this);\r\n            this._diagramInstance.barManager.registerBar(component.bar)\r\n        }\r\n    }, {\r\n        key: \"_renderToolbar\",\r\n        value: function() {\r\n            var _this = this;\r\n            var $toolbarWrapper = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_TOOLBAR_WRAPPER_CLASS).appendTo(this.$element());\r\n            var toolbarWidgetCommandNames = [];\r\n            if (this.option(\"propertiesPanel.enabled\") && this.option(\"propertiesPanel.collapsible\")) {\r\n                toolbarWidgetCommandNames.push(\"options\")\r\n            }\r\n            this._toolbarInstance = this._createComponent($toolbarWrapper, _uiDiagram2.default, {\r\n                commands: this.option(\"toolbar.commands\"),\r\n                onContentReady: function(e) {\r\n                    return _this._registerBar(e.component)\r\n                },\r\n                onPointerUp: this._onPanelPointerUp.bind(this),\r\n                \"export\": this.option(\"export\"),\r\n                widgetCommandNames: toolbarWidgetCommandNames\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_renderLeftPanel\",\r\n        value: function($parent) {\r\n            var _this2 = this;\r\n            var isServerSide = !(0, _window.hasWindow)();\r\n            var $leftPanel = (0, _renderer2.default)(\"<div>\").appendTo($parent);\r\n            this._leftPanel = this._createComponent($leftPanel, _uiDiagram4.default, {\r\n                toolboxGroups: this._getToolboxGroups(),\r\n                disabled: this.option(\"readOnly\"),\r\n                onShapeCategoryRendered: function(e) {\r\n                    if (isServerSide) {\r\n                        return\r\n                    }\r\n                    var $toolboxContainer = (0, _renderer2.default)(e.$element);\r\n                    _this2._diagramInstance.createToolbox($toolboxContainer[0], 40, 8, {\r\n                        \"data-toggle\": \"shape-toolbox-tooltip\"\r\n                    }, e.shapes || e.category, \"texts\" === e.displayMode);\r\n                    _this2._createTooltips($parent, $toolboxContainer.find('[data-toggle=\"shape-toolbox-tooltip\"]'))\r\n                },\r\n                onPointerUp: this._onPanelPointerUp.bind(this)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createTooltips\",\r\n        value: function($container, targets) {\r\n            var _this3 = this;\r\n            targets.each(function(index, element) {\r\n                var $target = (0, _renderer2.default)(element);\r\n                var $tooltip = (0, _renderer2.default)(\"<div>\").html($target.attr(\"title\")).appendTo($container);\r\n                _this3._createComponent($tooltip, _tooltip2.default, {\r\n                    target: $target.get(0),\r\n                    showEvent: \"mouseenter\",\r\n                    hideEvent: \"mouseleave\",\r\n                    position: \"top\",\r\n                    animation: {\r\n                        show: {\r\n                            type: \"fade\",\r\n                            from: 0,\r\n                            to: 1,\r\n                            delay: 500\r\n                        },\r\n                        hide: {\r\n                            type: \"fade\",\r\n                            from: 1,\r\n                            to: 0,\r\n                            delay: 100\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_invalidateContextMenuCommands\",\r\n        value: function() {\r\n            if (this._contextMenu) {\r\n                this._contextMenu.option({\r\n                    commands: this.option(\"contextMenu.commands\")\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_invalidatePropertiesPanelGroups\",\r\n        value: function() {\r\n            if (this._rightPanel) {\r\n                this._rightPanel.option({\r\n                    propertyGroups: this.option(\"propertiesPanel.groups\")\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_invalidateToolbarCommands\",\r\n        value: function() {\r\n            if (this._toolbarInstance) {\r\n                this._toolbarInstance.option({\r\n                    commands: this.option(\"toolbar.commands\")\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_invalidateToolboxGroups\",\r\n        value: function() {\r\n            if (this._leftPanel) {\r\n                this._leftPanel.option({\r\n                    toolboxGroups: this._getToolboxGroups()\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_setLeftPanelEnabled\",\r\n        value: function(enabled) {\r\n            if (this._leftPanel) {\r\n                this._leftPanel.option({\r\n                    disabled: !enabled\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_renderRightPanel\",\r\n        value: function($parent) {\r\n            var _this4 = this;\r\n            var isCollapsible = this.option(\"propertiesPanel.collapsible\");\r\n            var drawer = this._createComponent($parent, _drawer2.default, {\r\n                closeOnOutsideClick: isCollapsible,\r\n                opened: !isCollapsible,\r\n                openedStateMode: isCollapsible ? \"overlap\" : \"shrink\",\r\n                position: \"right\",\r\n                template: function($options) {\r\n                    _this4._rightPanel = _this4._createComponent($options, _uiDiagram6.default, {\r\n                        propertyGroups: _this4.option(\"propertiesPanel.groups\"),\r\n                        onContentReady: function(e) {\r\n                            return _this4._registerBar(e.component)\r\n                        },\r\n                        onPointerUp: _this4._onPanelPointerUp.bind(_this4)\r\n                    })\r\n                }\r\n            });\r\n            if (this._toolbarInstance) {\r\n                this._toolbarInstance.option(\"onWidgetCommand\", function(e) {\r\n                    if (\"options\" === e.name) {\r\n                        drawer.toggle()\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onPanelPointerUp\",\r\n        value: function() {\r\n            this._diagramInstance.captureFocus()\r\n        }\r\n    }, {\r\n        key: \"_renderContextMenu\",\r\n        value: function($mainElement) {\r\n            var _this5 = this;\r\n            var $contextMenu = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n            this._contextMenu = this._createComponent($contextMenu, _uiDiagram8.default, {\r\n                commands: this.option(\"contextMenu.commands\"),\r\n                container: $mainElement,\r\n                onContentReady: function(_ref) {\r\n                    var component = _ref.component;\r\n                    return _this5._registerBar(component)\r\n                },\r\n                onVisibleChanged: function(_ref2) {\r\n                    var component = _ref2.component;\r\n                    return _this5._diagramInstance.barManager.updateBarItemsState(component.bar)\r\n                },\r\n                onItemClick: function(itemData) {\r\n                    return _this5._onBeforeCommandExecuted(itemData.command)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_onBeforeCommandExecuted\",\r\n        value: function(command) {\r\n            var dialogParameters = _uiDiagram20.default.getDialogParameters(command);\r\n            if (dialogParameters) {\r\n                this._showDialog(dialogParameters)\r\n            }\r\n            return !!dialogParameters\r\n        }\r\n    }, {\r\n        key: \"_renderDialog\",\r\n        value: function($mainElement) {\r\n            var $dialogElement = (0, _renderer2.default)(\"<div>\").appendTo($mainElement);\r\n            this._dialogInstance = this._createComponent($dialogElement, _uiDiagram10.default, {})\r\n        }\r\n    }, {\r\n        key: \"_showDialog\",\r\n        value: function(dialogParameters) {\r\n            if (this._dialogInstance) {\r\n                this._dialogInstance.option(\"onGetContent\", dialogParameters.onGetContent);\r\n                this._dialogInstance.option(\"onHidden\", function() {\r\n                    this._diagramInstance.captureFocus()\r\n                }.bind(this));\r\n                this._dialogInstance.option(\"command\", this._diagramInstance.commandManager.getCommand(dialogParameters.command));\r\n                this._dialogInstance.option(\"title\", dialogParameters.title);\r\n                this._dialogInstance._show()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_showLoadingIndicator\",\r\n        value: function() {\r\n            this._loadingIndicator = (0, _renderer2.default)(\"<div>\").addClass(DIAGRAM_LOADING_INDICATOR_CLASS);\r\n            this._createComponent(this._loadingIndicator, _load_indicator2.default, {});\r\n            var $parent = this._content || this.$element();\r\n            $parent.append(this._loadingIndicator)\r\n        }\r\n    }, {\r\n        key: \"_hideLoadingIndicator\",\r\n        value: function() {\r\n            if (!this._loadingIndicator) {\r\n                return\r\n            }\r\n            this._loadingIndicator.remove();\r\n            this._loadingIndicator = null\r\n        }\r\n    }, {\r\n        key: \"_initDiagram\",\r\n        value: function() {\r\n            var _getDiagram = (0, _diagram_importer.getDiagram)(),\r\n                DiagramControl = _getDiagram.DiagramControl;\r\n            this._diagramInstance = new DiagramControl;\r\n            this._diagramInstance.onChanged = this._raiseDataChangeAction.bind(this);\r\n            this._diagramInstance.onEdgeInserted = this._raiseEdgeInsertedAction.bind(this);\r\n            this._diagramInstance.onEdgeUpdated = this._raiseEdgeUpdatedAction.bind(this);\r\n            this._diagramInstance.onEdgeRemoved = this._raiseEdgeRemovedAction.bind(this);\r\n            this._diagramInstance.onNodeInserted = this._raiseNodeInsertedAction.bind(this);\r\n            this._diagramInstance.onNodeUpdated = this._raiseNodeUpdatedAction.bind(this);\r\n            this._diagramInstance.onNodeRemoved = this._raiseNodeRemovedAction.bind(this);\r\n            this._diagramInstance.onToolboxDragStart = this._raiseToolboxDragStart.bind(this);\r\n            this._diagramInstance.onToolboxDragEnd = this._raiseToolboxDragEnd.bind(this);\r\n            this._diagramInstance.onToggleFullscreen = this._onToggleFullScreen.bind(this);\r\n            this._diagramInstance.onShowContextMenu = this._onShowContextMenu.bind(this);\r\n            this._diagramInstance.onHideContextMenu = this._onHideContextMenu.bind(this);\r\n            this._diagramInstance.onNativeAction.add({\r\n                notifyItemClick: this._raiseItemClickAction.bind(this),\r\n                notifyItemDblClick: this._raiseItemDblClickAction.bind(this),\r\n                notifySelectionChanged: this._raiseSelectionChanged.bind(this)\r\n            });\r\n            this._updateUnitItems();\r\n            this._updateFormatUnitsMethod();\r\n            if (this.option(\"units\") !== DIAGRAM_DEFAULT_UNIT) {\r\n                this._updateUnitsState()\r\n            }\r\n            if (this.option(\"pageSize\")) {\r\n                if (this.option(\"pageSize.items\")) {\r\n                    this._updatePageSizeItemsState()\r\n                }\r\n                if (this.option(\"pageSize.width\") && this.option(\"pageSize.height\")) {\r\n                    this._updatePageSizeState()\r\n                }\r\n            }\r\n            if (this.option(\"pageOrientation\") !== DIAGRAM_DEFAULT_PAGE_ORIENTATION) {\r\n                this._updatePageOrientationState()\r\n            }\r\n            if (this.option(\"pageColor\") !== DIAGRAM_DEFAULT_PAGE_COLOR) {\r\n                this._updatePageColorState()\r\n            }\r\n            if (this.option(\"viewUnits\") !== DIAGRAM_DEFAULT_UNIT) {\r\n                this._updateViewUnitsState()\r\n            }\r\n            if (!this.option(\"showGrid\")) {\r\n                this._updateShowGridState()\r\n            }\r\n            if (!this.option(\"snapToGrid\")) {\r\n                this._updateSnapToGridState()\r\n            }\r\n            if (this.option(\"gridSize\")) {\r\n                if (this.option(\"gridSize.items\")) {\r\n                    this._updateGridSizeItemsState()\r\n                }\r\n                this._updateGridSizeState()\r\n            }\r\n            if (this.option(\"zoomLevel.items\")) {\r\n                this._updateZoomLevelItemsState()\r\n            }\r\n            this._updateCustomShapes(this._getCustomShapes());\r\n            this._refreshDataSources()\r\n        }\r\n    }, {\r\n        key: \"_dispose\",\r\n        value: function() {\r\n            if (this._diagramInstance) {\r\n                this._diagramInstance.dispose();\r\n                this._diagramInstance = void 0\r\n            }\r\n            _get(_getPrototypeOf(Diagram.prototype), \"_dispose\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_executeDiagramCommand\",\r\n        value: function(command, parameter) {\r\n            this._diagramInstance.commandManager.getCommand(command).execute(parameter)\r\n        }\r\n    }, {\r\n        key: \"_refreshDataSources\",\r\n        value: function() {\r\n            this._beginUpdateDiagram();\r\n            this._refreshNodesDataSource();\r\n            this._refreshEdgesDataSource();\r\n            this._endUpdateDiagram()\r\n        }\r\n    }, {\r\n        key: \"_refreshNodesDataSource\",\r\n        value: function() {\r\n            if (this._nodesOption) {\r\n                this._nodesOption._disposeDataSource();\r\n                delete this._nodesOption\r\n            }\r\n            if (this.option(\"nodes.dataSource\")) {\r\n                this._nodesOption = new _uiDiagram16.default(this);\r\n                this._nodesOption.option(\"dataSource\", this.option(\"nodes.dataSource\"));\r\n                this._nodesOption._refreshDataSource()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_refreshEdgesDataSource\",\r\n        value: function() {\r\n            if (this._edgesOption) {\r\n                this._edgesOption._disposeDataSource();\r\n                delete this._edgesOption\r\n            }\r\n            if (this.option(\"edges.dataSource\")) {\r\n                this._edgesOption = new _uiDiagram18.default(this);\r\n                this._edgesOption.option(\"dataSource\", this.option(\"edges.dataSource\"));\r\n                this._edgesOption._refreshDataSource()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getDiagramData\",\r\n        value: function() {\r\n            var value;\r\n            var _getDiagram2 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram2.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.Export, function(data) {\r\n                value = data\r\n            });\r\n            return value\r\n        }\r\n    }, {\r\n        key: \"_setDiagramData\",\r\n        value: function(data, keepExistingItems) {\r\n            var _getDiagram3 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram3.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.Import, {\r\n                data: data,\r\n                keepExistingItems: keepExistingItems\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_onDataSourceChanged\",\r\n        value: function() {\r\n            this._bindDiagramData()\r\n        }\r\n    }, {\r\n        key: \"_createOptionGetter\",\r\n        value: function(optionName) {\r\n            var expr = this.option(optionName);\r\n            return expr && _data2.default.compileGetter(expr)\r\n        }\r\n    }, {\r\n        key: \"_createOptionSetter\",\r\n        value: function(optionName) {\r\n            var expr = this.option(optionName);\r\n            if (_type2.default.isFunction(expr)) {\r\n                return expr\r\n            }\r\n            return expr && _data2.default.compileSetter(expr)\r\n        }\r\n    }, {\r\n        key: \"_bindDiagramData\",\r\n        value: function() {\r\n            if (this._updateDiagramLockCount || !this._isBindingMode()) {\r\n                return\r\n            }\r\n            var _getDiagram4 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram4.DiagramCommand,\r\n                ConnectorLineOption = _getDiagram4.ConnectorLineOption,\r\n                ConnectorLineEnding = _getDiagram4.ConnectorLineEnding;\r\n            var lineOptionGetter;\r\n            var lineOptionSetter;\r\n            var startLineEndingGetter;\r\n            var startLineEndingSetter;\r\n            var endLineEndingGetter;\r\n            var endLineEndingSetter;\r\n            var data = {\r\n                nodeDataSource: this._nodesOption && this._nodesOption.getItems(),\r\n                edgeDataSource: this._edgesOption && this._edgesOption.getItems(),\r\n                nodeDataImporter: {\r\n                    getKey: this._createOptionGetter(\"nodes.keyExpr\"),\r\n                    setKey: this._createOptionSetter(\"nodes.keyExpr\"),\r\n                    getLocked: this._createOptionGetter(\"nodes.lockedExpr\"),\r\n                    setLocked: this._createOptionSetter(\"nodes.lockedExpr\"),\r\n                    getStyle: this._createOptionGetter(\"nodes.styleExpr\"),\r\n                    setStyle: this._createOptionSetter(\"nodes.styleExpr\"),\r\n                    getStyleText: this._createOptionGetter(\"nodes.textStyleExpr\"),\r\n                    setStyleText: this._createOptionSetter(\"nodes.textStyleExpr\"),\r\n                    getZIndex: this._createOptionGetter(\"nodes.zIndexExpr\"),\r\n                    setZIndex: this._createOptionSetter(\"nodes.zIndexExpr\"),\r\n                    getType: this._createOptionGetter(\"nodes.typeExpr\"),\r\n                    setType: this._createOptionSetter(\"nodes.typeExpr\"),\r\n                    getText: this._createOptionGetter(\"nodes.textExpr\"),\r\n                    setText: this._createOptionSetter(\"nodes.textExpr\"),\r\n                    getImage: this._createOptionGetter(\"nodes.imageUrlExpr\"),\r\n                    setImage: this._createOptionSetter(\"nodes.imageUrlExpr\"),\r\n                    getLeft: this._createOptionGetter(\"nodes.leftExpr\"),\r\n                    setLeft: this._createOptionSetter(\"nodes.leftExpr\"),\r\n                    getTop: this._createOptionGetter(\"nodes.topExpr\"),\r\n                    setTop: this._createOptionSetter(\"nodes.topExpr\"),\r\n                    getWidth: this._createOptionGetter(\"nodes.widthExpr\"),\r\n                    setWidth: this._createOptionSetter(\"nodes.widthExpr\"),\r\n                    getHeight: this._createOptionGetter(\"nodes.heightExpr\"),\r\n                    setHeight: this._createOptionSetter(\"nodes.heightExpr\"),\r\n                    getParentKey: this._createOptionGetter(\"nodes.parentKeyExpr\"),\r\n                    setParentKey: this._createOptionSetter(\"nodes.parentKeyExpr\"),\r\n                    getItems: this._createOptionGetter(\"nodes.itemsExpr\"),\r\n                    setItems: this._createOptionSetter(\"nodes.itemsExpr\"),\r\n                    getContainerKey: this._createOptionGetter(\"nodes.containerKeyExpr\"),\r\n                    setContainerKey: this._createOptionSetter(\"nodes.containerKeyExpr\"),\r\n                    getChildren: this._createOptionGetter(\"nodes.childrenExpr\"),\r\n                    setChildren: this._createOptionSetter(\"nodes.childrenExpr\")\r\n                },\r\n                edgeDataImporter: {\r\n                    getKey: this._createOptionGetter(\"edges.keyExpr\"),\r\n                    setKey: this._createOptionSetter(\"edges.keyExpr\"),\r\n                    getLocked: this._createOptionGetter(\"edges.lockedExpr\"),\r\n                    setLocked: this._createOptionSetter(\"edges.lockedExpr\"),\r\n                    getStyle: this._createOptionGetter(\"edges.styleExpr\"),\r\n                    setStyle: this._createOptionSetter(\"edges.styleExpr\"),\r\n                    getStyleText: this._createOptionGetter(\"edges.textStyleExpr\"),\r\n                    setStyleText: this._createOptionSetter(\"edges.textStyleExpr\"),\r\n                    getZIndex: this._createOptionGetter(\"edges.zIndexExpr\"),\r\n                    setZIndex: this._createOptionSetter(\"edges.zIndexExpr\"),\r\n                    getFrom: this._createOptionGetter(\"edges.fromExpr\"),\r\n                    setFrom: this._createOptionSetter(\"edges.fromExpr\"),\r\n                    getFromPointIndex: this._createOptionGetter(\"edges.fromPointIndexExpr\"),\r\n                    setFromPointIndex: this._createOptionSetter(\"edges.fromPointIndexExpr\"),\r\n                    getTo: this._createOptionGetter(\"edges.toExpr\"),\r\n                    setTo: this._createOptionSetter(\"edges.toExpr\"),\r\n                    getToPointIndex: this._createOptionGetter(\"edges.toPointIndexExpr\"),\r\n                    setToPointIndex: this._createOptionSetter(\"edges.toPointIndexExpr\"),\r\n                    getPoints: this._createOptionGetter(\"edges.pointsExpr\"),\r\n                    setPoints: this._createOptionSetter(\"edges.pointsExpr\"),\r\n                    getText: this._createOptionGetter(\"edges.textExpr\"),\r\n                    setText: this._createOptionSetter(\"edges.textExpr\"),\r\n                    getLineOption: (lineOptionGetter = this._createOptionGetter(\"edges.lineTypeExpr\")) && function(obj) {\r\n                        var lineType = lineOptionGetter(obj);\r\n                        switch (lineType) {\r\n                            case \"straight\":\r\n                                return ConnectorLineOption.Straight;\r\n                            default:\r\n                                return ConnectorLineOption.Orthogonal\r\n                        }\r\n                    }.bind(this),\r\n                    setLineOption: (lineOptionSetter = this._createOptionSetter(\"edges.lineTypeExpr\")) && function(obj, value) {\r\n                        switch (value) {\r\n                            case ConnectorLineOption.Straight:\r\n                                value = \"straight\";\r\n                                break;\r\n                            case ConnectorLineOption.Orthogonal:\r\n                                value = \"orthogonal\"\r\n                        }\r\n                        lineOptionSetter(obj, value)\r\n                    }.bind(this),\r\n                    getStartLineEnding: (startLineEndingGetter = this._createOptionGetter(\"edges.fromLineEndExpr\")) && function(obj) {\r\n                        var lineType = startLineEndingGetter(obj);\r\n                        switch (lineType) {\r\n                            case \"arrow\":\r\n                                return ConnectorLineEnding.Arrow;\r\n                            default:\r\n                                return ConnectorLineEnding.None\r\n                        }\r\n                    }.bind(this),\r\n                    setStartLineEnding: (startLineEndingSetter = this._createOptionSetter(\"edges.fromLineEndExpr\")) && function(obj, value) {\r\n                        switch (value) {\r\n                            case ConnectorLineEnding.Arrow:\r\n                                value = \"arrow\";\r\n                                break;\r\n                            case ConnectorLineEnding.None:\r\n                                value = \"none\"\r\n                        }\r\n                        startLineEndingSetter(obj, value)\r\n                    }.bind(this),\r\n                    getEndLineEnding: (endLineEndingGetter = this._createOptionGetter(\"edges.toLineEndExpr\")) && function(obj) {\r\n                        var lineType = endLineEndingGetter(obj);\r\n                        switch (lineType) {\r\n                            case \"none\":\r\n                                return ConnectorLineEnding.None;\r\n                            default:\r\n                                return ConnectorLineEnding.Arrow\r\n                        }\r\n                    }.bind(this),\r\n                    setEndLineEnding: (endLineEndingSetter = this._createOptionSetter(\"edges.toLineEndExpr\")) && function(obj, value) {\r\n                        switch (value) {\r\n                            case ConnectorLineEnding.Arrow:\r\n                                value = \"arrow\";\r\n                                break;\r\n                            case ConnectorLineEnding.None:\r\n                                value = \"none\"\r\n                        }\r\n                        endLineEndingSetter(obj, value)\r\n                    }.bind(this)\r\n                },\r\n                layoutParameters: this._getDataBindingLayoutParameters()\r\n            };\r\n            this._executeDiagramCommand(DiagramCommand.BindDocument, data)\r\n        }\r\n    }, {\r\n        key: \"_getDataBindingLayoutParameters\",\r\n        value: function() {\r\n            var _getDiagram5 = (0, _diagram_importer.getDiagram)(),\r\n                DataLayoutType = _getDiagram5.DataLayoutType,\r\n                DataLayoutOrientation = _getDiagram5.DataLayoutOrientation;\r\n            var layoutParametersOption = this.option(\"nodes.autoLayout\");\r\n            if (!layoutParametersOption || \"off\" === layoutParametersOption || \"off\" === layoutParametersOption.type) {\r\n                return\r\n            }\r\n            var parameters = {};\r\n            var layoutType = layoutParametersOption.type || layoutParametersOption;\r\n            if (\"tree\" === layoutType) {\r\n                parameters.type = DataLayoutType.Tree\r\n            } else {\r\n                if (\"layered\" === layoutType) {\r\n                    parameters.type = DataLayoutType.Sugiyama\r\n                }\r\n            }\r\n            if (\"vertical\" === layoutParametersOption.orientation) {\r\n                parameters.orientation = DataLayoutOrientation.Vertical\r\n            } else {\r\n                if (\"horizontal\" === layoutParametersOption.orientation) {\r\n                    parameters.orientation = DataLayoutOrientation.Horizontal\r\n                }\r\n            }\r\n            return parameters\r\n        }\r\n    }, {\r\n        key: \"_getAutoZoomValue\",\r\n        value: function(option) {\r\n            var _getDiagram6 = (0, _diagram_importer.getDiagram)(),\r\n                AutoZoomMode = _getDiagram6.AutoZoomMode;\r\n            switch (option) {\r\n                case \"fitContent\":\r\n                    return AutoZoomMode.FitContent;\r\n                case \"fitWidth\":\r\n                    return AutoZoomMode.FitToWidth;\r\n                default:\r\n                    return AutoZoomMode.Disabled\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isBindingMode\",\r\n        value: function() {\r\n            return this._nodesOption && this._nodesOption.hasItems() || this._edgesOption && this._nodesOption.hasItems()\r\n        }\r\n    }, {\r\n        key: \"_beginUpdateDiagram\",\r\n        value: function() {\r\n            this._updateDiagramLockCount++\r\n        }\r\n    }, {\r\n        key: \"_endUpdateDiagram\",\r\n        value: function() {\r\n            this._updateDiagramLockCount = Math.max(this._updateDiagramLockCount - 1, 0);\r\n            if (!this._updateDiagramLockCount) {\r\n                this._bindDiagramData()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getCustomShapes\",\r\n        value: function() {\r\n            return this.option(\"customShapes\") || []\r\n        }\r\n    }, {\r\n        key: \"_getToolboxGroups\",\r\n        value: function() {\r\n            return _uiDiagram12.default.getGroups(this.option(\"toolbox.groups\"))\r\n        }\r\n    }, {\r\n        key: \"_updateCustomShapes\",\r\n        value: function(customShapes, prevCustomShapes) {\r\n            if (Array.isArray(prevCustomShapes)) {\r\n                this._diagramInstance.removeCustomShapes(prevCustomShapes.map(function(s) {\r\n                    return s.type\r\n                }))\r\n            }\r\n            if (Array.isArray(customShapes)) {\r\n                this._diagramInstance.addCustomShapes(customShapes.map(function(s) {\r\n                    return {\r\n                        category: s.category,\r\n                        type: s.type,\r\n                        baseType: s.baseType,\r\n                        title: s.title,\r\n                        svgUrl: s.backgroundImageUrl,\r\n                        svgLeft: s.backgroundImageLeft,\r\n                        svgTop: s.backgroundImageTop,\r\n                        svgWidth: s.backgroundImageWidth,\r\n                        svgHeight: s.backgroundImageHeight,\r\n                        defaultWidth: s.defaultWidth,\r\n                        defaultHeight: s.defaultHeight,\r\n                        defaultText: s.defaultText,\r\n                        allowEditText: s.allowEditText,\r\n                        textLeft: s.textLeft,\r\n                        textTop: s.textTop,\r\n                        textWidth: s.textWidth,\r\n                        textHeight: s.textHeight,\r\n                        defaultImageUrl: s.defaultImageUrl,\r\n                        allowEditImage: s.allowEditImage,\r\n                        imageLeft: s.imageLeft,\r\n                        imageTop: s.imageTop,\r\n                        imageWidth: s.imageWidth,\r\n                        imageHeight: s.imageHeight,\r\n                        connectionPoints: s.connectionPoints && s.connectionPoints.map(function(pt) {\r\n                            return {\r\n                                x: pt.x,\r\n                                y: pt.y\r\n                            }\r\n                        })\r\n                    }\r\n                }))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onToggleFullScreen\",\r\n        value: function(fullScreen) {\r\n            this._changeNativeFullscreen(fullScreen);\r\n            this.$element().toggleClass(DIAGRAM_FULLSCREEN_CLASS, fullScreen);\r\n            this._diagramInstance.updateLayout()\r\n        }\r\n    }, {\r\n        key: \"_changeNativeFullscreen\",\r\n        value: function(setModeOn) {\r\n            var window = (0, _window.getWindow)();\r\n            if (window.self === window.top || setModeOn === this._inNativeFullscreen()) {\r\n                return\r\n            }\r\n            if (setModeOn) {\r\n                this._subscribeFullscreenNativeChanged()\r\n            } else {\r\n                this._unsubscribeFullscreenNativeChanged()\r\n            }\r\n            this._setNativeFullscreen(setModeOn)\r\n        }\r\n    }, {\r\n        key: \"_setNativeFullscreen\",\r\n        value: function(on) {\r\n            var window = (0, _window.getWindow)();\r\n            var document = window.self.document;\r\n            var body = window.self.document.body;\r\n            if (on) {\r\n                if (body.requestFullscreen) {\r\n                    body.requestFullscreen()\r\n                } else {\r\n                    if (body.mozRequestFullscreen) {\r\n                        body.mozRequestFullscreen()\r\n                    } else {\r\n                        if (body.webkitRequestFullscreen) {\r\n                            body.webkitRequestFullscreen()\r\n                        } else {\r\n                            if (body.msRequestFullscreen) {\r\n                                body.msRequestFullscreen()\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                if (document.exitFullscreen) {\r\n                    document.exitFullscreen()\r\n                } else {\r\n                    if (document.mozCancelFullscreen) {\r\n                        document.mozCancelFullscreen()\r\n                    } else {\r\n                        if (document.webkitExitFullscreen) {\r\n                            document.webkitExitFullscreen()\r\n                        } else {\r\n                            if (document.msExitFullscreen) {\r\n                                document.msExitFullscreen()\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_inNativeFullscreen\",\r\n        value: function() {\r\n            var document = (0, _window.getWindow)().document;\r\n            var fullscreenElement = document.fullscreenElement || document.msFullscreenElement || document.webkitFullscreenElement;\r\n            var isInFullscreen = fullscreenElement === document.body || document.webkitIsFullscreen;\r\n            return !!isInFullscreen\r\n        }\r\n    }, {\r\n        key: \"_subscribeFullscreenNativeChanged\",\r\n        value: function() {\r\n            var document = (0, _window.getWindow)().document;\r\n            var handler = this._onNativeFullscreenChangeHandler.bind(this);\r\n            _events_engine2.default.on(document, FULLSCREEN_CHANGE_EVENT_NAME, handler);\r\n            _events_engine2.default.on(document, IE_FULLSCREEN_CHANGE_EVENT_NAME, handler);\r\n            _events_engine2.default.on(document, WEBKIT_FULLSCREEN_CHANGE_EVENT_NAME, handler);\r\n            _events_engine2.default.on(document, MOZ_FULLSCREEN_CHANGE_EVENT_NAME, handler)\r\n        }\r\n    }, {\r\n        key: \"_unsubscribeFullscreenNativeChanged\",\r\n        value: function() {\r\n            var document = (0, _window.getWindow)().document;\r\n            _events_engine2.default.off(document, FULLSCREEN_CHANGE_EVENT_NAME);\r\n            _events_engine2.default.off(document, IE_FULLSCREEN_CHANGE_EVENT_NAME);\r\n            _events_engine2.default.off(document, WEBKIT_FULLSCREEN_CHANGE_EVENT_NAME);\r\n            _events_engine2.default.off(document, MOZ_FULLSCREEN_CHANGE_EVENT_NAME)\r\n        }\r\n    }, {\r\n        key: \"_onNativeFullscreenChangeHandler\",\r\n        value: function() {\r\n            if (!this._inNativeFullscreen()) {\r\n                this._unsubscribeFullscreenNativeChanged();\r\n                this._onToggleFullScreen(false)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onShowContextMenu\",\r\n        value: function(x, y, selection) {\r\n            this._contextMenu._show(x, y, selection)\r\n        }\r\n    }, {\r\n        key: \"_onHideContextMenu\",\r\n        value: function() {\r\n            this._contextMenu._hide()\r\n        }\r\n    }, {\r\n        key: \"_getDiagramUnitValue\",\r\n        value: function(value) {\r\n            var _getDiagram7 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramUnit = _getDiagram7.DiagramUnit;\r\n            switch (value) {\r\n                case \"in\":\r\n                    return DiagramUnit.In;\r\n                case \"cm\":\r\n                    return DiagramUnit.Cm;\r\n                case \"px\":\r\n                    return DiagramUnit.Px;\r\n                default:\r\n                    return DiagramUnit.In\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_updateReadOnlyState\",\r\n        value: function() {\r\n            var _getDiagram8 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram8.DiagramCommand;\r\n            var readOnly = this.option(\"readOnly\") || this.option(\"disabled\");\r\n            this._executeDiagramCommand(DiagramCommand.ToggleReadOnly, readOnly);\r\n            this._setLeftPanelEnabled(!readOnly)\r\n        }\r\n    }, {\r\n        key: \"_updateZoomLevelState\",\r\n        value: function() {\r\n            var zoomLevel = this.option(\"zoomLevel.value\");\r\n            if (!zoomLevel) {\r\n                zoomLevel = this.option(\"zoomLevel\")\r\n            }\r\n            var _getDiagram9 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram9.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.ZoomLevel, zoomLevel)\r\n        }\r\n    }, {\r\n        key: \"_updateZoomLevelItemsState\",\r\n        value: function() {\r\n            var zoomLevelItems = this.option(\"zoomLevel.items\");\r\n            if (!Array.isArray(zoomLevelItems)) {\r\n                return\r\n            }\r\n            var _getDiagram10 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram10.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.ZoomLevelItems, zoomLevelItems)\r\n        }\r\n    }, {\r\n        key: \"_updateAutoZoomState\",\r\n        value: function() {\r\n            var _getDiagram11 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram11.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.SwitchAutoZoom, this._getAutoZoomValue(this.option(\"autoZoom\")))\r\n        }\r\n    }, {\r\n        key: \"_updateSimpleViewState\",\r\n        value: function() {\r\n            var _getDiagram12 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram12.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.ToggleSimpleView, this.option(\"simpleView\"))\r\n        }\r\n    }, {\r\n        key: \"_updateFullscreenState\",\r\n        value: function() {\r\n            var _getDiagram13 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram13.DiagramCommand;\r\n            var fullScreen = this.option(\"fullScreen\");\r\n            this._executeDiagramCommand(DiagramCommand.Fullscreen, fullScreen);\r\n            this._onToggleFullScreen(fullScreen)\r\n        }\r\n    }, {\r\n        key: \"_updateShowGridState\",\r\n        value: function() {\r\n            var _getDiagram14 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram14.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.ShowGrid, this.option(\"showGrid\"))\r\n        }\r\n    }, {\r\n        key: \"_updateSnapToGridState\",\r\n        value: function() {\r\n            var _getDiagram15 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram15.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.SnapToGrid, this.option(\"snapToGrid\"))\r\n        }\r\n    }, {\r\n        key: \"_updateGridSizeState\",\r\n        value: function() {\r\n            var gridSize = this.option(\"gridSize.value\");\r\n            if (!gridSize) {\r\n                gridSize = this.option(\"gridSize\")\r\n            }\r\n            var _getDiagram16 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram16.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.GridSize, gridSize)\r\n        }\r\n    }, {\r\n        key: \"_updateGridSizeItemsState\",\r\n        value: function() {\r\n            var gridSizeItems = this.option(\"gridSize.items\");\r\n            if (!Array.isArray(gridSizeItems)) {\r\n                return\r\n            }\r\n            var _getDiagram17 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram17.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.GridSizeItems, gridSizeItems)\r\n        }\r\n    }, {\r\n        key: \"_updateUnitItems\",\r\n        value: function() {\r\n            var _getDiagram18 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramUnit = _getDiagram18.DiagramUnit;\r\n            var items = {};\r\n            items[DiagramUnit.In] = _message2.default.format(\"dxDiagram-unitIn\");\r\n            items[DiagramUnit.Cm] = _message2.default.format(\"dxDiagram-unitCm\");\r\n            items[DiagramUnit.Px] = _message2.default.format(\"dxDiagram-unitPx\");\r\n            this._diagramInstance.settings.unitItems = items\r\n        }\r\n    }, {\r\n        key: \"_updateFormatUnitsMethod\",\r\n        value: function() {\r\n            this._diagramInstance.settings.formatUnit = function(value) {\r\n                return _number2.default.format(value)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_updateViewUnitsState\",\r\n        value: function() {\r\n            var _getDiagram19 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram19.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.ViewUnits, this._getDiagramUnitValue(this.option(\"viewUnits\")))\r\n        }\r\n    }, {\r\n        key: \"_updateUnitsState\",\r\n        value: function() {\r\n            var _getDiagram20 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram20.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.Units, this._getDiagramUnitValue(this.option(\"units\")))\r\n        }\r\n    }, {\r\n        key: \"_updatePageSizeState\",\r\n        value: function() {\r\n            var pageSize = this.option(\"pageSize\");\r\n            if (!pageSize || !pageSize.width || !pageSize.height) {\r\n                return\r\n            }\r\n            var _getDiagram21 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram21.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.PageSize, pageSize)\r\n        }\r\n    }, {\r\n        key: \"_updatePageSizeItemsState\",\r\n        value: function() {\r\n            var pageSizeItems = this.option(\"pageSize.items\");\r\n            if (!Array.isArray(pageSizeItems)) {\r\n                return\r\n            }\r\n            var _getDiagram22 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram22.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.PageSizeItems, pageSizeItems)\r\n        }\r\n    }, {\r\n        key: \"_updatePageOrientationState\",\r\n        value: function() {\r\n            var _getDiagram23 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram23.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.PageLandscape, \"landscape\" === this.option(\"pageOrientation\"))\r\n        }\r\n    }, {\r\n        key: \"_updatePageColorState\",\r\n        value: function() {\r\n            var _getDiagram24 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram24.DiagramCommand;\r\n            this._executeDiagramCommand(DiagramCommand.PageColor, this.option(\"pageColor\"))\r\n        }\r\n    }, {\r\n        key: \"export\",\r\n        value: function() {\r\n            return this._getDiagramData()\r\n        }\r\n    }, {\r\n        key: \"exportTo\",\r\n        value: function(format, callback) {\r\n            var command = this._getDiagramExportToCommand(format);\r\n            this._executeDiagramCommand(command, callback)\r\n        }\r\n    }, {\r\n        key: \"_getDiagramExportToCommand\",\r\n        value: function(format) {\r\n            var _getDiagram25 = (0, _diagram_importer.getDiagram)(),\r\n                DiagramCommand = _getDiagram25.DiagramCommand;\r\n            switch (format) {\r\n                case \"png\":\r\n                    return DiagramCommand.ExportPng;\r\n                case \"jpg\":\r\n                    return DiagramCommand.ExportJpg;\r\n                default:\r\n                    return DiagramCommand.ExportSvg\r\n            }\r\n        }\r\n    }, {\r\n        key: \"import\",\r\n        value: function(data, updateExistingItemsOnly) {\r\n            this._setDiagramData(data, updateExistingItemsOnly);\r\n            this._raiseDataChangeAction()\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(Diagram.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                readOnly: false,\r\n                zoomLevel: DIAGRAM_DEFAULT_ZOOMLEVEL,\r\n                simpleView: false,\r\n                autoZoom: DIAGRAM_DEFAULT_AUTOZOOM,\r\n                fullScreen: false,\r\n                showGrid: true,\r\n                snapToGrid: true,\r\n                units: DIAGRAM_DEFAULT_UNIT,\r\n                viewUnits: DIAGRAM_DEFAULT_UNIT,\r\n                pageOrientation: DIAGRAM_DEFAULT_PAGE_ORIENTATION,\r\n                pageColor: DIAGRAM_DEFAULT_PAGE_COLOR,\r\n                onDataChanged: null,\r\n                nodes: {\r\n                    dataSource: null,\r\n                    keyExpr: \"id\",\r\n                    lockedExpr: void 0,\r\n                    styleExpr: void 0,\r\n                    textStyleExpr: void 0,\r\n                    zIndexExpr: void 0,\r\n                    typeExpr: \"type\",\r\n                    textExpr: \"text\",\r\n                    imageUrlExpr: void 0,\r\n                    parentKeyExpr: void 0,\r\n                    itemsExpr: void 0,\r\n                    leftExpr: void 0,\r\n                    topExpr: void 0,\r\n                    widthExpr: void 0,\r\n                    heightExpr: void 0,\r\n                    containerKeyExpr: void 0,\r\n                    childrenExpr: \"children\",\r\n                    autoLayout: \"tree\"\r\n                },\r\n                edges: {\r\n                    dataSource: null,\r\n                    keyExpr: \"id\",\r\n                    lockedExpr: void 0,\r\n                    styleExpr: void 0,\r\n                    textStyleExpr: void 0,\r\n                    zIndexExpr: void 0,\r\n                    fromExpr: \"from\",\r\n                    fromPointIndexExpr: void 0,\r\n                    toExpr: \"to\",\r\n                    toPointIndexExpr: void 0,\r\n                    pointsExpr: void 0,\r\n                    textExpr: void 0,\r\n                    lineTypeExpr: void 0,\r\n                    fromLineEndExpr: void 0,\r\n                    toLineEndExpr: void 0\r\n                },\r\n                customShapes: [],\r\n                toolbox: {\r\n                    visible: true\r\n                },\r\n                toolbar: {\r\n                    visible: true\r\n                },\r\n                contextMenu: {\r\n                    enabled: true\r\n                },\r\n                propertiesPanel: {\r\n                    enabled: true,\r\n                    collapsible: true\r\n                },\r\n                \"export\": {\r\n                    fileName: \"Diagram\",\r\n                    proxyUrl: void 0\r\n                },\r\n                onItemClick: null,\r\n                onItemDblClick: null,\r\n                onSelectionChanged: null\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createDataChangeAction\",\r\n        value: function() {\r\n            this._dataChangeAction = this._createActionByOption(\"onDataChanged\")\r\n        }\r\n    }, {\r\n        key: \"_raiseDataChangeAction\",\r\n        value: function() {\r\n            if (!this._dataChangeAction) {\r\n                this._createDataChangeAction()\r\n            }\r\n            this._dataChangeAction()\r\n        }\r\n    }, {\r\n        key: \"_raiseEdgeInsertedAction\",\r\n        value: function(data, callback, errorCallback) {\r\n            if (this._edgesOption) {\r\n                this._edgesOption.insert(data, callback, errorCallback)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_raiseEdgeUpdatedAction\",\r\n        value: function(key, data, callback, errorCallback) {\r\n            if (this._edgesOption) {\r\n                this._edgesOption.update(key, data, callback, errorCallback)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_raiseEdgeRemovedAction\",\r\n        value: function(key, data, callback, errorCallback) {\r\n            if (this._edgesOption) {\r\n                this._edgesOption.remove(key, data, callback, errorCallback)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_raiseNodeInsertedAction\",\r\n        value: function(data, callback, errorCallback) {\r\n            if (this._nodesOption) {\r\n                this._nodesOption.insert(data, callback, errorCallback)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_raiseNodeUpdatedAction\",\r\n        value: function(key, data, callback, errorCallback) {\r\n            if (this._nodesOption) {\r\n                this._nodesOption.update(key, data, callback, errorCallback)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_raiseNodeRemovedAction\",\r\n        value: function(key, data, callback, errorCallback) {\r\n            if (this._nodesOption) {\r\n                this._nodesOption.remove(key, data, callback, errorCallback)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_raiseToolboxDragStart\",\r\n        value: function() {\r\n            if (this._leftPanel) {\r\n                this._leftPanel.$element().addClass(\"dx-skip-gesture-event\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_raiseToolboxDragEnd\",\r\n        value: function() {\r\n            if (this._leftPanel) {\r\n                this._leftPanel.$element().removeClass(\"dx-skip-gesture-event\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createItemClickAction\",\r\n        value: function() {\r\n            this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n        }\r\n    }, {\r\n        key: \"_createItemDblClickAction\",\r\n        value: function() {\r\n            this._itemDblClickAction = this._createActionByOption(\"onItemDblClick\")\r\n        }\r\n    }, {\r\n        key: \"_createSelectionChangedAction\",\r\n        value: function() {\r\n            this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\")\r\n        }\r\n    }, {\r\n        key: \"_raiseItemClickAction\",\r\n        value: function(nativeItem) {\r\n            if (!this._itemClickAction) {\r\n                this._createItemClickAction()\r\n            }\r\n            this._itemClickAction({\r\n                item: this._nativeItemToDiagramItem(nativeItem)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseItemDblClickAction\",\r\n        value: function(nativeItem) {\r\n            if (!this._itemDblClickAction) {\r\n                this._createItemDblClickAction()\r\n            }\r\n            this._itemDblClickAction({\r\n                item: this._nativeItemToDiagramItem(nativeItem)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseSelectionChanged\",\r\n        value: function(nativeItems) {\r\n            if (!this._selectionChangedAction) {\r\n                this._createSelectionChangedAction()\r\n            }\r\n            this._selectionChangedAction({\r\n                items: nativeItems.map(this._nativeItemToDiagramItem.bind(this))\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_nativeItemToDiagramItem\",\r\n        value: function(nativeItem) {\r\n            var _getDiagram26 = (0, _diagram_importer.getDiagram)(),\r\n                NativeShape = _getDiagram26.NativeShape;\r\n            var createMethod = nativeItem instanceof NativeShape ? this._nativeShapeToDiagramShape.bind(this) : this._nativeConnectorToDiagramConnector.bind(this);\r\n            return (0, _extend.extend)({\r\n                id: nativeItem.id\r\n            }, createMethod(nativeItem))\r\n        }\r\n    }, {\r\n        key: \"_nativeShapeToDiagramShape\",\r\n        value: function(nativeShape) {\r\n            return {\r\n                dataItem: this._nodesOption && this._nodesOption.findItem(nativeShape.key),\r\n                itemType: \"shape\",\r\n                text: nativeShape.text,\r\n                type: nativeShape.type\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_nativeConnectorToDiagramConnector\",\r\n        value: function(nativeConnector) {\r\n            return {\r\n                dataItem: this._edgesOption && this._edgesOption.findItem(nativeConnector.key),\r\n                itemType: \"connector\",\r\n                texts: nativeConnector.texts,\r\n                fromKey: nativeConnector.fromKey,\r\n                toKey: nativeConnector.toKey\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            if (this.optionsUpdateBar.isUpdateLocked()) {\r\n                return\r\n            }\r\n            this.optionsUpdateBar.beginUpdate();\r\n            try {\r\n                this._optionChangedCore(args)\r\n            } finally {\r\n                this.optionsUpdateBar.endUpdate()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_optionChangedCore\",\r\n        value: function(args) {\r\n            switch (args.name) {\r\n                case \"readOnly\":\r\n                case \"disabled\":\r\n                    this._updateReadOnlyState();\r\n                    break;\r\n                case \"zoomLevel\":\r\n                    if (\"zoomLevel\" === args.fullName || \"zoomLevel.items\" === args.fullName) {\r\n                        this._updateZoomLevelItemsState()\r\n                    }\r\n                    if (\"zoomLevel\" === args.fullName || \"zoomLevel.value\" === args.fullName) {\r\n                        this._updateZoomLevelState()\r\n                    }\r\n                    break;\r\n                case \"autoZoom\":\r\n                    this._updateAutoZoomState();\r\n                    break;\r\n                case \"simpleView\":\r\n                    this._updateSimpleViewState();\r\n                    break;\r\n                case \"fullScreen\":\r\n                    this._updateFullscreenState();\r\n                    break;\r\n                case \"showGrid\":\r\n                    this._updateShowGridState();\r\n                    break;\r\n                case \"snapToGrid\":\r\n                    this._updateSnapToGridState();\r\n                    break;\r\n                case \"gridSize\":\r\n                    if (\"gridSize\" === args.fullName || \"gridSize.items\" === args.fullName) {\r\n                        this._updateGridSizeItemsState()\r\n                    }\r\n                    if (\"gridSize\" === args.fullName || \"gridSize.value\" === args.fullName) {\r\n                        this._updateGridSizeState()\r\n                    }\r\n                    break;\r\n                case \"viewUnits\":\r\n                    this._updateViewUnitsState();\r\n                    break;\r\n                case \"units\":\r\n                    this._updateUnitsState();\r\n                    break;\r\n                case \"pageSize\":\r\n                    if (\"pageSize\" === args.fullName || \"pageSize.items\" === args.fullName) {\r\n                        this._updatePageSizeItemsState()\r\n                    }\r\n                    if (\"pageSize\" === args.fullName || \"pageSize.width\" === args.fullName || \"pageSize.height\" === args.fullName) {\r\n                        this._updatePageSizeState()\r\n                    }\r\n                    break;\r\n                case \"pageOrientation\":\r\n                    this._updatePageOrientationState();\r\n                    break;\r\n                case \"pageColor\":\r\n                    this._updatePageColorState();\r\n                    break;\r\n                case \"nodes\":\r\n                    if (\"nodes.autoLayout\" === args.fullName) {\r\n                        this._refreshDataSources()\r\n                    } else {\r\n                        this._refreshNodesDataSource()\r\n                    }\r\n                    break;\r\n                case \"edges\":\r\n                    this._refreshEdgesDataSource();\r\n                    break;\r\n                case \"customShapes\":\r\n                    this._updateCustomShapes(args.value, args.previousValue);\r\n                    this._invalidate();\r\n                    break;\r\n                case \"contextMenu\":\r\n                    if (\"contextMenu.commands\" === args.fullName) {\r\n                        this._invalidateContextMenuCommands()\r\n                    } else {\r\n                        this._invalidate()\r\n                    }\r\n                    break;\r\n                case \"propertiesPanel\":\r\n                    if (\"propertiesPanel.groups\" === args.name) {\r\n                        this._invalidatePropertiesPanelGroups()\r\n                    } else {\r\n                        this._invalidate()\r\n                    }\r\n                    break;\r\n                case \"toolbox\":\r\n                    if (\"toolbox.groups\" === args.fullName) {\r\n                        this._invalidateToolboxGroups()\r\n                    } else {\r\n                        this._invalidate()\r\n                    }\r\n                    break;\r\n                case \"toolbar\":\r\n                    if (\"toolbar.commands\" === args.fullName) {\r\n                        this._invalidateToolbarCommands()\r\n                    } else {\r\n                        this._invalidate()\r\n                    }\r\n                    break;\r\n                case \"onDataChanged\":\r\n                    this._createDataChangeAction();\r\n                    break;\r\n                case \"onItemClick\":\r\n                    this._createItemClickAction();\r\n                    break;\r\n                case \"onItemDblClick\":\r\n                    this._createItemDblClickAction();\r\n                    break;\r\n                case \"onSelectionChanged\":\r\n                    this._createSelectionChangedAction();\r\n                    break;\r\n                case \"export\":\r\n                    if (this._toolbarInstance) {\r\n                        this._toolbarInstance.option(\"export\", args.value)\r\n                    }\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(Diagram.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }]);\r\n    return Diagram\r\n}(_ui2.default);\r\n(0, _component_registrator2.default)(\"dxDiagram\", Diagram);\r\nmodule.exports = Diagram;\r\n"]},"metadata":{},"sourceType":"module"}