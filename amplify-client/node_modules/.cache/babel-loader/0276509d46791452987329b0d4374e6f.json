{"ast":null,"code":"/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.rows.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _style = require(\"../../core/utils/style\");\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _string = require(\"../../core/utils/string\");\n\nvar _position = require(\"../../core/utils/position\");\n\nvar _data = require(\"../../core/utils/data\");\n\nvar _uiGrid_core = require(\"./ui.grid_core.utils\");\n\nvar _uiGrid_core2 = require(\"./ui.grid_core.columns_view\");\n\nvar _uiGrid_core3 = _interopRequireDefault(_uiGrid_core2);\n\nvar _ui = require(\"../scroll_view/ui.scrollable\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _remove_event = require(\"../../core/remove_event\");\n\nvar _remove_event2 = _interopRequireDefault(_remove_event);\n\nvar _message = require(\"../../localization/message\");\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _browser = require(\"../../core/utils/browser\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar ROWS_VIEW_CLASS = \"rowsview\";\nvar CONTENT_CLASS = \"content\";\nvar NOWRAP_CLASS = \"nowrap\";\nvar GROUP_ROW_CLASS = \"dx-group-row\";\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\nvar DATA_ROW_CLASS = \"dx-data-row\";\nvar FREE_SPACE_CLASS = \"dx-freespace-row\";\nvar ROW_LINES_CLASS = \"dx-row-lines\";\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\nvar ROW_ALTERNATION_CLASS = \"dx-row-alt\";\nvar LAST_ROW_BORDER = \"dx-last-row-border\";\nvar EMPTY_CLASS = \"dx-empty\";\nvar ROW_INSERTED_ANIMATION_CLASS = \"row-inserted-animation\";\nvar LOADPANEL_HIDE_TIMEOUT = 200;\nmodule.exports = {\n  defaultOptions: function defaultOptions() {\n    return {\n      hoverStateEnabled: false,\n      scrolling: {\n        useNative: \"auto\"\n      },\n      loadPanel: {\n        enabled: \"auto\",\n        text: _message2.default.format(\"Loading\"),\n        width: 200,\n        height: 90,\n        showIndicator: true,\n        indicatorSrc: \"\",\n        showPane: true\n      },\n      rowTemplate: null,\n      columnAutoWidth: false,\n      noDataText: _message2.default.format(\"dxDataGrid-noDataText\"),\n      wordWrapEnabled: false,\n      showColumnLines: true,\n      showRowLines: false,\n      rowAlternationEnabled: false,\n      activeStateEnabled: false,\n      twoWayBindingEnabled: true\n    };\n  },\n  views: {\n    rowsView: _uiGrid_core3.default.ColumnsView.inherit(function () {\n      var defaultCellTemplate = function defaultCellTemplate($container, options) {\n        var isDataTextEmpty = (0, _string.isEmpty)(options.text) && \"data\" === options.rowType;\n        var text = options.text;\n        var container = $container.get(0);\n\n        if (isDataTextEmpty) {\n          (0, _uiGrid_core.setEmptyText)($container);\n        } else {\n          if (options.column.encodeHtml) {\n            container.textContent = text;\n          } else {\n            container.innerHTML = text;\n          }\n        }\n      };\n\n      var getScrollableBottomPadding = function getScrollableBottomPadding(that) {\n        var scrollable = that.getScrollable();\n        return scrollable ? Math.ceil(parseFloat(scrollable.$content().css(\"paddingBottom\"))) : 0;\n      };\n\n      return {\n        _getDefaultTemplate: function _getDefaultTemplate(column) {\n          switch (column.command) {\n            case \"empty\":\n              return function (container) {\n                container.html(\"&nbsp;\");\n              };\n\n            default:\n              return defaultCellTemplate;\n          }\n        },\n        _getDefaultGroupTemplate: function _getDefaultGroupTemplate(column) {\n          var that = this;\n          var summaryTexts = that.option(\"summary.texts\");\n          return function ($container, options) {\n            var data = options.data;\n            var text = options.column.caption + \": \" + options.text;\n            var container = $container.get(0);\n\n            if (options.summaryItems && options.summaryItems.length) {\n              text += \" \" + (0, _uiGrid_core.getGroupRowSummaryText)(options.summaryItems, summaryTexts);\n            }\n\n            if (data) {\n              if (options.groupContinuedMessage && options.groupContinuesMessage) {\n                text += \" (\" + options.groupContinuedMessage + \". \" + options.groupContinuesMessage + \")\";\n              } else {\n                if (options.groupContinuesMessage) {\n                  text += \" (\" + options.groupContinuesMessage + \")\";\n                } else {\n                  if (options.groupContinuedMessage) {\n                    text += \" (\" + options.groupContinuedMessage + \")\";\n                  }\n                }\n              }\n            }\n\n            $container.addClass(GROUP_CELL_CLASS);\n\n            if (column.encodeHtml) {\n              container.textContent = text;\n            } else {\n              container.innerHTML = text;\n            }\n          };\n        },\n        _update: function _update() {},\n        _getCellTemplate: function _getCellTemplate(options) {\n          var that = this;\n          var column = options.column;\n          var template;\n\n          if (\"group\" === options.rowType && (0, _type.isDefined)(column.groupIndex) && !column.showWhenGrouped && !column.command) {\n            template = column.groupCellTemplate || {\n              allowRenderToDetachedContainer: true,\n              render: that._getDefaultGroupTemplate(column)\n            };\n          } else {\n            if ((\"data\" === options.rowType || column.command) && column.cellTemplate) {\n              template = column.cellTemplate;\n            } else {\n              template = {\n                allowRenderToDetachedContainer: true,\n                render: that._getDefaultTemplate(column)\n              };\n            }\n          }\n\n          return template;\n        },\n        _createRow: function _createRow(row) {\n          var $row = this.callBase(row);\n          var isGroup;\n          var isDataRow;\n          var isRowExpanded;\n\n          if (row) {\n            isGroup = \"group\" === row.rowType;\n            isDataRow = \"data\" === row.rowType;\n            isDataRow && $row.addClass(DATA_ROW_CLASS);\n            isDataRow && this.option(\"showRowLines\") && $row.addClass(ROW_LINES_CLASS);\n            this.option(\"showColumnLines\") && $row.addClass(COLUMN_LINES_CLASS);\n\n            if (false === row.visible) {\n              $row.hide();\n            }\n\n            if (isGroup) {\n              $row.addClass(GROUP_ROW_CLASS);\n              isRowExpanded = row.isExpanded;\n              this.setAria(\"role\", \"row\", $row);\n              this.setAria(\"expanded\", (0, _type.isDefined)(isRowExpanded) && isRowExpanded.toString(), $row);\n            }\n          }\n\n          return $row;\n        },\n        _rowPrepared: function _rowPrepared($row, rowOptions, row) {\n          var _this = this;\n\n          if (\"data\" === rowOptions.rowType) {\n            if (this.option(\"rowAlternationEnabled\")) {\n              var getRowAlt = function getRowAlt() {\n                return row.dataIndex % 2 === 1;\n              };\n\n              getRowAlt() && $row.addClass(ROW_ALTERNATION_CLASS);\n              rowOptions.watch && rowOptions.watch(getRowAlt, function (value) {\n                $row.toggleClass(ROW_ALTERNATION_CLASS, value);\n              });\n            }\n\n            this._setAriaRowIndex(rowOptions, $row);\n\n            rowOptions.watch && rowOptions.watch(function () {\n              return rowOptions.rowIndex;\n            }, function () {\n              return _this._setAriaRowIndex(rowOptions, $row);\n            });\n          }\n\n          this.callBase.apply(this, arguments);\n        },\n        _setAriaRowIndex: function _setAriaRowIndex(row, $row) {\n          var component = this.component;\n          var isPagerMode = \"standard\" === component.option(\"scrolling.mode\") && \"virtual\" !== component.option(\"scrolling.rowRenderingMode\");\n          var rowIndex = row.rowIndex + 1;\n\n          if (isPagerMode) {\n            rowIndex = component.pageIndex() * component.pageSize() + rowIndex;\n          } else {\n            rowIndex += this._dataController.getRowIndexOffset();\n          }\n\n          this.setAria(\"rowindex\", rowIndex, $row);\n        },\n        _afterRowPrepared: function _afterRowPrepared(e) {\n          var _this2 = this;\n\n          var arg = e.args[0];\n          var dataController = this._dataController;\n          var row = dataController.getVisibleRows()[arg.rowIndex];\n          var watch = this.option(\"integrationOptions.watchMethod\");\n\n          if (!arg.data || \"data\" !== arg.rowType || arg.isNewRow || !this.option(\"twoWayBindingEnabled\") || !watch || !row) {\n            return;\n          }\n\n          var dispose = watch(function () {\n            return dataController.generateDataValues(arg.data, arg.columns);\n          }, function () {\n            dataController.repaintRows([row.rowIndex], _this2.option(\"repaintChangesOnly\"));\n          }, {\n            deep: true,\n            skipImmediate: true\n          });\n\n          _events_engine2.default.on(arg.rowElement, _remove_event2.default, dispose);\n        },\n        _renderScrollable: function _renderScrollable(force) {\n          var that = this;\n          var $element = that.element();\n\n          if (!$element.children().length) {\n            $element.append(\"<div>\");\n          }\n\n          if (force || !that._loadPanel) {\n            that._renderLoadPanel($element, $element.parent(), that._dataController.isLocalStore());\n          }\n\n          if ((force || !that.getScrollable()) && that._dataController.isLoaded()) {\n            var columns = that.getColumns();\n            var allColumnsHasWidth = true;\n\n            for (var i = 0; i < columns.length; i++) {\n              if (!columns[i].width && !columns[i].minWidth) {\n                allColumnsHasWidth = false;\n                break;\n              }\n            }\n\n            if (that.option(\"columnAutoWidth\") || that._hasHeight || allColumnsHasWidth || that._columnsController._isColumnFixing()) {\n              that._renderScrollableCore($element);\n            }\n          }\n        },\n        _handleScroll: function _handleScroll(e) {\n          var that = this;\n          that._isScrollByEvent = !!e.event;\n          that._scrollTop = e.scrollOffset.top;\n          that._scrollLeft = e.scrollOffset.left;\n          that.scrollChanged.fire(e.scrollOffset, that.name);\n        },\n        _renderScrollableCore: function _renderScrollableCore($element) {\n          var that = this;\n\n          var dxScrollableOptions = that._createScrollableOptions();\n\n          var scrollHandler = that._handleScroll.bind(that);\n\n          dxScrollableOptions.onScroll = scrollHandler;\n          dxScrollableOptions.onStop = scrollHandler;\n          that._scrollable = that._createComponent($element, _ui2.default, dxScrollableOptions);\n          that._scrollableContainer = that._scrollable && that._scrollable._$container;\n        },\n        _renderLoadPanel: _uiGrid_core.renderLoadPanel,\n        _renderContent: function _renderContent(contentElement, tableElement) {\n          contentElement.replaceWith((0, _renderer2.default)(\"<div>\").addClass(this.addWidgetPrefix(CONTENT_CLASS)).append(tableElement));\n          return this._findContentElement();\n        },\n        _updateContent: function _updateContent(newTableElement, change) {\n          var that = this;\n\n          var tableElement = that._getTableElement();\n\n          var contentElement = that._findContentElement();\n\n          var changeType = change && change.changeType;\n          var executors = [];\n          var highlightChanges = this.option(\"highlightChanges\");\n          var rowInsertedClass = this.addWidgetPrefix(ROW_INSERTED_ANIMATION_CLASS);\n\n          switch (changeType) {\n            case \"update\":\n              (0, _iterator.each)(change.rowIndices, function (index, rowIndex) {\n                var $newRowElement = that._getRowElements(newTableElement).eq(index);\n\n                var changeType = change.changeTypes && change.changeTypes[index];\n                var item = change.items && change.items[index];\n                executors.push(function () {\n                  var $rowsElement = that._getRowElements();\n\n                  var $rowElement = $rowsElement.eq(rowIndex);\n\n                  switch (changeType) {\n                    case \"update\":\n                      if (item) {\n                        var columnIndices = change.columnIndices && change.columnIndices[index];\n\n                        if ((0, _type.isDefined)(item.visible) && item.visible !== $rowElement.is(\":visible\")) {\n                          $rowElement.toggle(item.visible);\n                        } else {\n                          if (columnIndices) {\n                            that._updateCells($rowElement, $newRowElement, columnIndices);\n                          } else {\n                            $rowElement.replaceWith($newRowElement);\n                          }\n                        }\n                      }\n\n                      break;\n\n                    case \"insert\":\n                      if (!$rowsElement.length) {\n                        $newRowElement.prependTo(tableElement.children(\"tbody\"));\n                      } else {\n                        if ($rowElement.length) {\n                          $newRowElement.insertBefore($rowElement);\n                        } else {\n                          $newRowElement.insertAfter($rowsElement.last());\n                        }\n                      }\n\n                      if (highlightChanges && change.isLiveUpdate) {\n                        $newRowElement.addClass(rowInsertedClass);\n                      }\n\n                      break;\n\n                    case \"remove\":\n                      $rowElement.remove();\n                  }\n                });\n              });\n              (0, _iterator.each)(executors, function () {\n                this();\n              });\n              newTableElement.remove();\n              break;\n\n            default:\n              that._setTableElement(newTableElement);\n\n              contentElement.addClass(that.addWidgetPrefix(CONTENT_CLASS));\n\n              that._renderContent(contentElement, newTableElement);\n\n          }\n        },\n        _createEmptyRow: function _createEmptyRow(className, isFixed, height) {\n          var that = this;\n          var i;\n          var $cell;\n\n          var $row = that._createRow();\n\n          var columns = isFixed ? this.getFixedColumns() : this.getColumns();\n          $row.addClass(className).toggleClass(COLUMN_LINES_CLASS, that.option(\"showColumnLines\"));\n\n          for (i = 0; i < columns.length; i++) {\n            $cell = that._createCell({\n              column: columns[i],\n              rowType: \"freeSpace\",\n              columnIndex: i,\n              columns: columns\n            });\n            (0, _type.isNumeric)(height) && $cell.css(\"height\", height);\n            $row.append($cell);\n          }\n\n          that.setAria(\"role\", \"presentation\", $row);\n          return $row;\n        },\n        _appendEmptyRow: function _appendEmptyRow($table, $emptyRow, location) {\n          var $tBodies = this._getBodies($table);\n\n          var $container = $tBodies.length && !$emptyRow.is(\"tbody\") ? $tBodies : $table;\n\n          if (\"top\" === location) {\n            $container.first().prepend($emptyRow);\n          } else {\n            $container.last().append($emptyRow);\n          }\n        },\n        _renderFreeSpaceRow: function _renderFreeSpaceRow($tableElement) {\n          var $freeSpaceRowElement = this._createEmptyRow(FREE_SPACE_CLASS);\n\n          $freeSpaceRowElement = this._wrapRowIfNeed($tableElement, $freeSpaceRowElement);\n\n          this._appendEmptyRow($tableElement, $freeSpaceRowElement);\n        },\n        _checkRowKeys: function _checkRowKeys(options) {\n          var that = this;\n\n          var rows = that._getRows(options);\n\n          var keyExpr = that._dataController.store() && that._dataController.store().key();\n\n          keyExpr && rows.some(function (row) {\n            if (\"data\" === row.rowType && void 0 === row.key) {\n              that._dataController.fireError(\"E1046\", keyExpr);\n\n              return true;\n            }\n          });\n        },\n        _needUpdateRowHeight: function _needUpdateRowHeight(itemsCount) {\n          return itemsCount > 0 && !this._rowHeight;\n        },\n        _getRowsHeight: function _getRowsHeight($tableElement) {\n          var $rowElements = $tableElement.children(\"tbody\").children().not(\".dx-virtual-row\").not(\".\" + FREE_SPACE_CLASS);\n          return $rowElements.toArray().reduce(function (sum, row) {\n            return sum + row.getBoundingClientRect().height;\n          }, 0);\n        },\n        _updateRowHeight: function _updateRowHeight() {\n          var that = this;\n          var rowsHeight;\n\n          var $tableElement = that._getTableElement();\n\n          var itemsCount = that._dataController.items().length;\n\n          if ($tableElement && that._needUpdateRowHeight(itemsCount)) {\n            rowsHeight = that._getRowsHeight($tableElement);\n            that._rowHeight = rowsHeight / itemsCount;\n          }\n        },\n        _findContentElement: function _findContentElement() {\n          var $content = this.element();\n          var scrollable = this.getScrollable();\n\n          if ($content) {\n            if (scrollable) {\n              $content = scrollable.$content();\n            }\n\n            return $content.children().first();\n          }\n        },\n        _getRowElements: function _getRowElements(tableElement) {\n          var $rows = this.callBase(tableElement);\n          return $rows && $rows.not(\".\" + FREE_SPACE_CLASS);\n        },\n        _getFreeSpaceRowElements: function _getFreeSpaceRowElements($table) {\n          var tableElements = $table || this.getTableElements();\n          return tableElements && tableElements.children(\"tbody\").children(\".\" + FREE_SPACE_CLASS);\n        },\n        _getNoDataText: function _getNoDataText() {\n          return this.option(\"noDataText\");\n        },\n        _rowClick: function _rowClick(e) {\n          var item = this._dataController.items()[e.rowIndex] || {};\n          this.executeAction(\"onRowClick\", (0, _extend.extend)({\n            evaluate: function evaluate(expr) {\n              var getter = (0, _data.compileGetter)(expr);\n              return getter(item.data);\n            }\n          }, e, item));\n        },\n        _rowDblClick: function _rowDblClick(e) {\n          var item = this._dataController.items()[e.rowIndex] || {};\n          this.executeAction(\"onRowDblClick\", (0, _extend.extend)({}, e, item));\n        },\n        _getColumnsCountBeforeGroups: function _getColumnsCountBeforeGroups(columns) {\n          for (var i = 0; i < columns.length; i++) {\n            if (\"groupExpand\" === columns[i].type) {\n              return i;\n            }\n          }\n\n          return 0;\n        },\n        _getGroupCellOptions: function _getGroupCellOptions(options) {\n          var columnsCountBeforeGroups = this._getColumnsCountBeforeGroups(options.columns);\n\n          var columnIndex = (options.row.groupIndex || 0) + columnsCountBeforeGroups;\n          return {\n            columnIndex: columnIndex,\n            colspan: options.columns.length - columnIndex - 1\n          };\n        },\n        _renderCells: function _renderCells($row, options) {\n          if (\"group\" === options.row.rowType) {\n            this._renderGroupedCells($row, options);\n          } else {\n            if (options.row.values) {\n              this.callBase($row, options);\n            }\n          }\n        },\n        _renderGroupedCells: function _renderGroupedCells($row, options) {\n          var row = options.row;\n          var i;\n          var expandColumn;\n          var columns = options.columns;\n          var rowIndex = row.rowIndex;\n          var isExpanded;\n          var groupColumn;\n          var groupColumnAlignment;\n\n          var groupCellOptions = this._getGroupCellOptions(options);\n\n          for (i = 0; i <= groupCellOptions.columnIndex; i++) {\n            if (i === groupCellOptions.columnIndex && columns[i].allowCollapsing && \"infinite\" !== options.scrollingMode) {\n              isExpanded = !!row.isExpanded;\n              expandColumn = columns[i];\n            } else {\n              isExpanded = null;\n              expandColumn = {\n                command: \"expand\",\n                cssClass: columns[i].cssClass\n              };\n            }\n\n            this._renderCell($row, {\n              value: isExpanded,\n              row: row,\n              rowIndex: rowIndex,\n              column: expandColumn,\n              columnIndex: i\n            });\n          }\n\n          groupColumnAlignment = (0, _position.getDefaultAlignment)(this.option(\"rtlEnabled\"));\n          groupColumn = (0, _extend.extend)({}, columns[groupCellOptions.columnIndex], {\n            command: null,\n            cssClass: null,\n            width: null,\n            showWhenGrouped: false,\n            alignment: groupColumnAlignment\n          });\n\n          if (groupCellOptions.colspan > 1) {\n            groupColumn.colspan = groupCellOptions.colspan;\n          }\n\n          this._renderCell($row, {\n            value: row.values[row.groupIndex],\n            row: row,\n            rowIndex: rowIndex,\n            column: groupColumn,\n            columnIndex: groupCellOptions.columnIndex\n          });\n        },\n        _renderRows: function _renderRows($table, options) {\n          var that = this;\n          var scrollingMode = that.option(\"scrolling.mode\");\n          that.callBase($table, (0, _extend.extend)({\n            scrollingMode: scrollingMode\n          }, options));\n\n          that._checkRowKeys(options.change);\n\n          that._renderFreeSpaceRow($table);\n\n          if (!that._hasHeight) {\n            that.updateFreeSpaceRowHeight($table);\n          }\n        },\n        _renderRow: function _renderRow($table, options) {\n          var that = this;\n          var row = options.row;\n          var rowTemplate = that.option(\"rowTemplate\");\n\n          if ((\"data\" === row.rowType || \"group\" === row.rowType) && !(0, _type.isDefined)(row.groupIndex) && rowTemplate) {\n            that.renderTemplate($table, rowTemplate, (0, _extend.extend)({\n              columns: options.columns\n            }, row), true);\n          } else {\n            that.callBase($table, options);\n          }\n        },\n        _renderTable: function _renderTable(options) {\n          var that = this;\n          var $table = that.callBase(options);\n\n          var resizeCompletedHandler = function resizeCompletedHandler() {\n            var scrollableInstance = that.getScrollable();\n\n            if (scrollableInstance && that.element().closest((0, _window.getWindow)().document).length) {\n              that.resizeCompleted.remove(resizeCompletedHandler);\n\n              scrollableInstance._visibilityChanged(true);\n            }\n          };\n\n          if (!(0, _type.isDefined)(that._getTableElement())) {\n            that._setTableElement($table);\n\n            that._renderScrollable(true);\n\n            that.resizeCompleted.add(resizeCompletedHandler);\n          } else {\n            that._renderScrollable();\n          }\n\n          return $table;\n        },\n        _createTable: function _createTable() {\n          var $table = this.callBase.apply(this, arguments);\n\n          if (this.option(\"rowTemplate\")) {\n            $table.appendTo(this.component.$element());\n          }\n\n          return $table;\n        },\n        _renderCore: function _renderCore(change) {\n          var that = this;\n          var $table;\n          var $element = that.element();\n          $element.addClass(that.addWidgetPrefix(ROWS_VIEW_CLASS)).toggleClass(that.addWidgetPrefix(NOWRAP_CLASS), !that.option(\"wordWrapEnabled\"));\n          $element.toggleClass(EMPTY_CLASS, 0 === that._dataController.items().length);\n          that.setAria(\"role\", \"presentation\", $element);\n          $table = that._renderTable({\n            change: change\n          });\n\n          that._updateContent($table, change);\n\n          that.callBase(change);\n          that._lastColumnWidths = null;\n        },\n        _getRows: function _getRows(change) {\n          return change && change.items || this._dataController.items();\n        },\n        _getCellOptions: function _getCellOptions(options) {\n          var that = this;\n          var parameters;\n          var column = options.column;\n          var row = options.row;\n          var data = row.data;\n          var summaryCells = row && row.summaryCells;\n          var value = options.value;\n          var displayValue = (0, _uiGrid_core.getDisplayValue)(column, value, data, row.rowType);\n          var groupingTextsOptions;\n          var scrollingMode;\n          parameters = this.callBase(options);\n          parameters.value = value;\n          parameters.oldValue = options.oldValue;\n          parameters.displayValue = displayValue;\n          parameters.row = row;\n          parameters.key = row.key;\n          parameters.data = data;\n          parameters.rowType = row.rowType;\n          parameters.values = row.values;\n          parameters.text = !column.command ? (0, _uiGrid_core.formatValue)(displayValue, column) : \"\";\n          parameters.rowIndex = row.rowIndex;\n          parameters.summaryItems = summaryCells && summaryCells[options.columnIndex];\n          parameters.resized = column.resizedCallbacks;\n\n          if ((0, _type.isDefined)(column.groupIndex) && !column.command) {\n            groupingTextsOptions = that.option(\"grouping.texts\");\n            scrollingMode = that.option(\"scrolling.mode\");\n\n            if (\"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode) {\n              parameters.groupContinuesMessage = data && data.isContinuationOnNextPage && groupingTextsOptions && groupingTextsOptions.groupContinuesMessage;\n              parameters.groupContinuedMessage = data && data.isContinuation && groupingTextsOptions && groupingTextsOptions.groupContinuedMessage;\n            }\n          }\n\n          return parameters;\n        },\n        _setRowsOpacityCore: function _setRowsOpacityCore($rows, visibleColumns, columnIndex, value) {\n          var columnsController = this._columnsController;\n          var columns = columnsController.getColumns();\n          var column = columns && columns[columnIndex];\n          var columnID = column && column.isBand && column.index;\n          (0, _iterator.each)($rows, function (rowIndex, row) {\n            if (!(0, _renderer2.default)(row).hasClass(GROUP_ROW_CLASS)) {\n              for (var i = 0; i < visibleColumns.length; i++) {\n                if ((0, _type.isNumeric)(columnID) && columnsController.isParentBandColumn(visibleColumns[i].index, columnID) || visibleColumns[i].index === columnIndex) {\n                  $rows.eq(rowIndex).children().eq(i).css({\n                    opacity: value\n                  });\n\n                  if (!(0, _type.isNumeric)(columnID)) {\n                    break;\n                  }\n                }\n              }\n            }\n          });\n        },\n        _getDevicePixelRatio: function _getDevicePixelRatio() {\n          return (0, _window.getWindow)().devicePixelRatio;\n        },\n        renderNoDataText: _uiGrid_core.renderNoDataText,\n        getCellOptions: function getCellOptions(rowIndex, columnIdentifier) {\n          var rowOptions = this._dataController.items()[rowIndex];\n\n          var cellOptions;\n          var column;\n\n          if (rowOptions) {\n            if ((0, _type.isString)(columnIdentifier)) {\n              column = this._columnsController.columnOption(columnIdentifier);\n            } else {\n              column = this._columnsController.getVisibleColumns()[columnIdentifier];\n            }\n\n            if (column) {\n              cellOptions = this._getCellOptions({\n                value: column.calculateCellValue(rowOptions.data),\n                rowIndex: rowOptions.rowIndex,\n                row: rowOptions,\n                column: column\n              });\n            }\n          }\n\n          return cellOptions;\n        },\n        getRow: function getRow(index) {\n          if (index >= 0) {\n            var rows = this._getRowElements();\n\n            if (rows.length > index) {\n              return (0, _renderer2.default)(rows[index]);\n            }\n          }\n        },\n        updateFreeSpaceRowHeight: function updateFreeSpaceRowHeight($table) {\n          var that = this;\n          var dataController = that._dataController;\n          var itemCount = dataController.items(true).length;\n\n          var contentElement = that._findContentElement();\n\n          var freeSpaceRowElements = that._getFreeSpaceRowElements($table);\n\n          var freeSpaceRowCount;\n          var scrollingMode;\n\n          if (freeSpaceRowElements && contentElement && dataController.totalCount() >= 0) {\n            var isFreeSpaceRowVisible = false;\n\n            if (itemCount > 0) {\n              if (!that._hasHeight) {\n                freeSpaceRowCount = dataController.pageSize() - itemCount;\n                scrollingMode = that.option(\"scrolling.mode\");\n\n                if (freeSpaceRowCount > 0 && dataController.pageCount() > 1 && \"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode) {\n                  _style2.default.setHeight(freeSpaceRowElements, freeSpaceRowCount * that._rowHeight);\n\n                  isFreeSpaceRowVisible = true;\n                }\n\n                if (!isFreeSpaceRowVisible && $table) {\n                  _style2.default.setHeight(freeSpaceRowElements, 0);\n                } else {\n                  freeSpaceRowElements.toggle(isFreeSpaceRowVisible);\n                }\n\n                that._updateLastRowBorder(isFreeSpaceRowVisible);\n              } else {\n                freeSpaceRowElements.hide();\n                (0, _common.deferUpdate)(function () {\n                  var scrollablePadding = getScrollableBottomPadding(that);\n                  var scrollbarWidth = that.getScrollbarWidth(true);\n                  var elementHeightWithoutScrollbar = that.element().height() - scrollbarWidth - scrollablePadding;\n                  var contentHeight = contentElement.outerHeight();\n                  var showFreeSpaceRow = elementHeightWithoutScrollbar - contentHeight > 0;\n\n                  var rowsHeight = that._getRowsHeight(contentElement.children().first());\n\n                  var $tableElement = $table || that.getTableElements();\n                  var borderTopWidth = Math.ceil(parseFloat($tableElement.css(\"borderTopWidth\")));\n                  var heightCorrection = _browser2.default.webkit && that._getDevicePixelRatio() >= 2 ? 1 : 0;\n                  var resultHeight = elementHeightWithoutScrollbar - rowsHeight - borderTopWidth - heightCorrection;\n\n                  if (showFreeSpaceRow) {\n                    (0, _common.deferRender)(function () {\n                      freeSpaceRowElements.css(\"height\", resultHeight);\n                      isFreeSpaceRowVisible = true;\n                      freeSpaceRowElements.show();\n                    });\n                  }\n\n                  (0, _common.deferRender)(function () {\n                    that._updateLastRowBorder(isFreeSpaceRowVisible);\n                  });\n                });\n              }\n            } else {\n              freeSpaceRowElements.css(\"height\", 0);\n              freeSpaceRowElements.show();\n\n              that._updateLastRowBorder(true);\n            }\n          }\n        },\n        _columnOptionChanged: function _columnOptionChanged(e) {\n          var optionNames = e.optionNames;\n\n          if (e.changeTypes.grouping) {\n            return;\n          }\n\n          if (optionNames.width || optionNames.visibleWidth) {\n            this.callBase(e);\n\n            this._fireColumnResizedCallbacks();\n          }\n        },\n        getScrollable: function getScrollable() {\n          return this._scrollable;\n        },\n        init: function init() {\n          var that = this;\n          var dataController = that.getController(\"data\");\n          that.callBase();\n          that._editorFactoryController = that.getController(\"editorFactory\");\n          that._rowHeight = 0;\n          that._scrollTop = 0;\n          that._scrollLeft = -1;\n          that._hasHeight = false;\n          dataController.loadingChanged.add(function (isLoading, messageText) {\n            that.setLoading(isLoading, messageText);\n          });\n          dataController.dataSourceChanged.add(function () {\n            if (that._scrollLeft >= 0) {\n              that._handleScroll({\n                scrollOffset: {\n                  top: that._scrollTop,\n                  left: that._scrollLeft\n                }\n              });\n            }\n          });\n        },\n        _handleDataChanged: function _handleDataChanged(change) {\n          var that = this;\n\n          switch (change.changeType) {\n            case \"refresh\":\n            case \"prepend\":\n            case \"append\":\n            case \"update\":\n              that.render(null, change);\n              break;\n\n            default:\n              that._update(change);\n\n          }\n        },\n        publicMethods: function publicMethods() {\n          return [\"isScrollbarVisible\", \"getTopVisibleRowData\", \"getScrollbarWidth\", \"getCellElement\", \"getRowElement\", \"getScrollable\"];\n        },\n        contentWidth: function contentWidth() {\n          return this.element().width() - this.getScrollbarWidth();\n        },\n        getScrollbarWidth: function getScrollbarWidth(isHorizontal) {\n          var scrollableContainer = this._scrollableContainer && this._scrollableContainer.get(0);\n\n          var scrollbarWidth = 0;\n\n          if (scrollableContainer) {\n            if (!isHorizontal) {\n              scrollbarWidth = scrollableContainer.clientWidth ? scrollableContainer.offsetWidth - scrollableContainer.clientWidth : 0;\n            } else {\n              scrollbarWidth = scrollableContainer.clientHeight ? scrollableContainer.offsetHeight - scrollableContainer.clientHeight : 0;\n              scrollbarWidth += getScrollableBottomPadding(this);\n            }\n          }\n\n          return scrollbarWidth > 0 ? scrollbarWidth : 0;\n        },\n        _fireColumnResizedCallbacks: function _fireColumnResizedCallbacks() {\n          var that = this;\n          var lastColumnWidths = that._lastColumnWidths || [];\n          var columnWidths = [];\n          var columns = that.getColumns();\n          var i;\n\n          for (i = 0; i < columns.length; i++) {\n            columnWidths[i] = columns[i].visibleWidth;\n\n            if (columns[i].resizedCallbacks && !(0, _type.isDefined)(columns[i].groupIndex) && lastColumnWidths[i] !== columnWidths[i]) {\n              columns[i].resizedCallbacks.fire(columnWidths[i]);\n            }\n          }\n\n          that._lastColumnWidths = columnWidths;\n        },\n        _updateLastRowBorder: function _updateLastRowBorder(isFreeSpaceRowVisible) {\n          if (this.option(\"showBorders\") && this.option(\"showRowLines\") && !isFreeSpaceRowVisible) {\n            this.element().addClass(LAST_ROW_BORDER);\n          } else {\n            this.element().removeClass(LAST_ROW_BORDER);\n          }\n        },\n        _updateScrollable: function _updateScrollable() {\n          var dxScrollable = _ui2.default.getInstance(this.element());\n\n          if (dxScrollable) {\n            dxScrollable.update();\n\n            this._updateHorizontalScrollPosition();\n          }\n        },\n        _updateHorizontalScrollPosition: function _updateHorizontalScrollPosition() {\n          var scrollable = this.getScrollable();\n          var scrollLeft = scrollable && scrollable.scrollOffset().left;\n\n          if (this._scrollLeft >= 0 && scrollLeft !== this._scrollLeft) {\n            scrollable.scrollTo({\n              x: this._scrollLeft\n            });\n          }\n        },\n        _resizeCore: function _resizeCore() {\n          var that = this;\n\n          that._fireColumnResizedCallbacks();\n\n          that._updateRowHeight();\n\n          (0, _common.deferRender)(function () {\n            that._renderScrollable();\n\n            that.renderNoDataText();\n            that.updateFreeSpaceRowHeight();\n            (0, _common.deferUpdate)(function () {\n              that._updateScrollable();\n            });\n          });\n        },\n        scrollTo: function scrollTo(location) {\n          var $element = this.element();\n\n          var dxScrollable = $element && _ui2.default.getInstance($element);\n\n          if (dxScrollable) {\n            dxScrollable.scrollTo(location);\n          }\n        },\n        height: function height(_height, hasHeight) {\n          var that = this;\n          var $element = this.element();\n\n          if (0 === arguments.length) {\n            return $element ? $element.outerHeight(true) : 0;\n          }\n\n          that._hasHeight = void 0 === hasHeight ? \"auto\" !== _height : hasHeight;\n\n          if ((0, _type.isDefined)(_height) && $element) {\n            _style2.default.setHeight($element, _height);\n          }\n        },\n        setLoading: function setLoading(isLoading, messageText) {\n          var that = this;\n          var loadPanel = that._loadPanel;\n          var dataController = that._dataController;\n          var loadPanelOptions = that.option(\"loadPanel\") || {};\n          var animation = dataController.isLoaded() ? loadPanelOptions.animation : null;\n          var $element = that.element();\n          var visibilityOptions;\n\n          if (!(0, _window.hasWindow)()) {\n            return;\n          }\n\n          if (!loadPanel && void 0 !== messageText && dataController.isLocalStore() && \"auto\" === loadPanelOptions.enabled && $element) {\n            that._renderLoadPanel($element, $element.parent());\n\n            loadPanel = that._loadPanel;\n          }\n\n          if (loadPanel) {\n            visibilityOptions = {\n              message: messageText || loadPanelOptions.text,\n              animation: animation,\n              visible: isLoading\n            };\n            clearTimeout(that._hideLoadingTimeoutID);\n\n            if (loadPanel.option(\"visible\") && !isLoading) {\n              that._hideLoadingTimeoutID = setTimeout(function () {\n                loadPanel.option(visibilityOptions);\n              }, LOADPANEL_HIDE_TIMEOUT);\n            } else {\n              loadPanel.option(visibilityOptions);\n            }\n          }\n        },\n        setRowsOpacity: function setRowsOpacity(columnIndex, value) {\n          var $rows = this._getRowElements().not(\".\" + GROUP_ROW_CLASS) || [];\n\n          this._setRowsOpacityCore($rows, this.getColumns(), columnIndex, value);\n        },\n        _getCellElementsCore: function _getCellElementsCore(rowIndex) {\n          var $cells = this.callBase(rowIndex);\n          var groupCellIndex;\n\n          if ($cells) {\n            groupCellIndex = $cells.filter(\".\" + GROUP_CELL_CLASS).index();\n\n            if (groupCellIndex >= 0 && $cells.length > groupCellIndex + 1) {\n              return $cells.slice(0, groupCellIndex + 1);\n            }\n          }\n\n          return $cells;\n        },\n        getTopVisibleItemIndex: function getTopVisibleItemIndex(isFloor) {\n          var that = this;\n          var itemIndex = 0;\n          var prevOffsetTop = 0;\n          var offsetTop = 0;\n          var rowElements;\n          var rowElement;\n          var scrollPosition = that._scrollTop;\n\n          var $contentElement = that._findContentElement();\n\n          var contentElementOffsetTop = $contentElement && $contentElement.offset().top;\n\n          var items = that._dataController.items();\n\n          var tableElement = that._getTableElement();\n\n          if (items.length && tableElement) {\n            rowElements = that._getRowElements(tableElement).filter(\":visible\");\n\n            for (itemIndex = 0; itemIndex < items.length; itemIndex++) {\n              prevOffsetTop = offsetTop;\n              rowElement = rowElements.eq(itemIndex);\n\n              if (rowElement.length) {\n                offsetTop = rowElement.offset().top - contentElementOffsetTop;\n\n                if (offsetTop > scrollPosition) {\n                  if (itemIndex) {\n                    if (isFloor || 2 * scrollPosition < Math.round(offsetTop + prevOffsetTop)) {\n                      itemIndex--;\n                    }\n                  }\n\n                  break;\n                }\n              }\n            }\n\n            if (itemIndex && itemIndex === items.length) {\n              itemIndex--;\n            }\n          }\n\n          return itemIndex;\n        },\n        getTopVisibleRowData: function getTopVisibleRowData() {\n          var itemIndex = this.getTopVisibleItemIndex();\n\n          var items = this._dataController.items();\n\n          if (items[itemIndex]) {\n            return items[itemIndex].data;\n          }\n        },\n        _scrollToElement: function _scrollToElement($element, offset) {\n          var scrollable = this.getScrollable();\n          scrollable && scrollable.scrollToElement($element, offset);\n        },\n        optionChanged: function optionChanged(args) {\n          var that = this;\n          that.callBase(args);\n\n          switch (args.name) {\n            case \"wordWrapEnabled\":\n            case \"showColumnLines\":\n            case \"showRowLines\":\n            case \"rowAlternationEnabled\":\n            case \"rowTemplate\":\n            case \"twoWayBindingEnabled\":\n              that._invalidate(true, true);\n\n              args.handled = true;\n              break;\n\n            case \"scrolling\":\n              that._rowHeight = null;\n              that._tableElement = null;\n              args.handled = true;\n              break;\n\n            case \"rtlEnabled\":\n              that._rowHeight = null;\n              that._tableElement = null;\n              break;\n\n            case \"loadPanel\":\n              that._tableElement = null;\n\n              that._invalidate(true, \"loadPanel.enabled\" !== args.fullName);\n\n              args.handled = true;\n              break;\n\n            case \"noDataText\":\n              that.renderNoDataText();\n              args.handled = true;\n          }\n        },\n        dispose: function dispose() {\n          clearTimeout(this._hideLoadingTimeoutID);\n          this._scrollable && this._scrollable.dispose();\n        },\n        setScrollerSpacing: function setScrollerSpacing() {}\n      };\n    }())\n  }\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/grid_core/ui.grid_core.rows.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_window","_events_engine","_events_engine2","_common","_style","_style2","_type","_iterator","_extend","_string","_position","_data","_uiGrid_core","_uiGrid_core2","_uiGrid_core3","_ui","_ui2","_remove_event","_remove_event2","_message","_message2","_browser","_browser2","obj","ROWS_VIEW_CLASS","CONTENT_CLASS","NOWRAP_CLASS","GROUP_ROW_CLASS","GROUP_CELL_CLASS","DATA_ROW_CLASS","FREE_SPACE_CLASS","ROW_LINES_CLASS","COLUMN_LINES_CLASS","ROW_ALTERNATION_CLASS","LAST_ROW_BORDER","EMPTY_CLASS","ROW_INSERTED_ANIMATION_CLASS","LOADPANEL_HIDE_TIMEOUT","module","defaultOptions","hoverStateEnabled","scrolling","useNative","loadPanel","enabled","text","width","height","showIndicator","indicatorSrc","showPane","rowTemplate","columnAutoWidth","noDataText","wordWrapEnabled","showColumnLines","showRowLines","rowAlternationEnabled","activeStateEnabled","twoWayBindingEnabled","views","rowsView","defaultCellTemplate","isDataTextEmpty","options","container","$container","getScrollableBottomPadding","scrollable","that","Math","parseFloat","_getDefaultTemplate","column","_getDefaultGroupTemplate","summaryTexts","data","_update","_getCellTemplate","template","allowRenderToDetachedContainer","render","_createRow","$row","isGroup","row","isDataRow","isRowExpanded","_rowPrepared","_this","rowOptions","getRowAlt","_setAriaRowIndex","component","isPagerMode","rowIndex","_afterRowPrepared","_this2","arg","e","dataController","watch","dispose","deep","skipImmediate","_renderScrollable","$element","force","columns","allColumnsHasWidth","i","_handleScroll","_renderScrollableCore","dxScrollableOptions","scrollHandler","_renderLoadPanel","_renderContent","contentElement","_updateContent","tableElement","changeType","change","executors","highlightChanges","rowInsertedClass","$newRowElement","item","$rowsElement","$rowElement","columnIndices","newTableElement","_createEmptyRow","isFixed","$cell","rowType","columnIndex","_appendEmptyRow","$tBodies","$emptyRow","_renderFreeSpaceRow","$freeSpaceRowElement","_checkRowKeys","rows","keyExpr","_needUpdateRowHeight","itemsCount","_getRowsHeight","$rowElements","$tableElement","sum","_updateRowHeight","rowsHeight","_findContentElement","$content","_getRowElements","$rows","_getFreeSpaceRowElements","tableElements","$table","_getNoDataText","_rowClick","evaluate","getter","_rowDblClick","_getColumnsCountBeforeGroups","_getGroupCellOptions","columnsCountBeforeGroups","colspan","_renderCells","_renderGroupedCells","groupCellOptions","isExpanded","expandColumn","command","cssClass","value","groupColumnAlignment","groupColumn","showWhenGrouped","alignment","_renderRows","scrollingMode","_renderRow","_renderTable","resizeCompletedHandler","scrollableInstance","_createTable","_renderCore","_getRows","_getCellOptions","summaryCells","displayValue","parameters","groupingTextsOptions","_setRowsOpacityCore","columnsController","columnID","visibleColumns","opacity","_getDevicePixelRatio","renderNoDataText","getCellOptions","cellOptions","getRow","index","updateFreeSpaceRowHeight","itemCount","freeSpaceRowElements","isFreeSpaceRowVisible","freeSpaceRowCount","scrollablePadding","scrollbarWidth","elementHeightWithoutScrollbar","contentHeight","showFreeSpaceRow","borderTopWidth","heightCorrection","resultHeight","_columnOptionChanged","optionNames","getScrollable","init","scrollOffset","top","left","_scrollLeft","_handleDataChanged","publicMethods","contentWidth","getScrollbarWidth","scrollableContainer","_fireColumnResizedCallbacks","lastColumnWidths","columnWidths","_updateLastRowBorder","_updateScrollable","dxScrollable","_updateHorizontalScrollPosition","scrollLeft","x","_resizeCore","scrollTo","arguments","setLoading","loadPanelOptions","animation","visibilityOptions","message","messageText","visible","isLoading","clearTimeout","setTimeout","setRowsOpacity","_getCellElementsCore","$cells","groupCellIndex","getTopVisibleItemIndex","itemIndex","prevOffsetTop","offsetTop","scrollPosition","$contentElement","contentElementOffsetTop","items","rowElements","rowElement","isFloor","getTopVisibleRowData","_scrollToElement","optionChanged","args","setScrollerSpacing"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.rows.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _style = require(\"../../core/utils/style\");\r\nvar _style2 = _interopRequireDefault(_style);\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _string = require(\"../../core/utils/string\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _uiGrid_core = require(\"./ui.grid_core.utils\");\r\nvar _uiGrid_core2 = require(\"./ui.grid_core.columns_view\");\r\nvar _uiGrid_core3 = _interopRequireDefault(_uiGrid_core2);\r\nvar _ui = require(\"../scroll_view/ui.scrollable\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _remove_event = require(\"../../core/remove_event\");\r\nvar _remove_event2 = _interopRequireDefault(_remove_event);\r\nvar _message = require(\"../../localization/message\");\r\nvar _message2 = _interopRequireDefault(_message);\r\nvar _browser = require(\"../../core/utils/browser\");\r\nvar _browser2 = _interopRequireDefault(_browser);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ROWS_VIEW_CLASS = \"rowsview\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar NOWRAP_CLASS = \"nowrap\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar FREE_SPACE_CLASS = \"dx-freespace-row\";\r\nvar ROW_LINES_CLASS = \"dx-row-lines\";\r\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\r\nvar ROW_ALTERNATION_CLASS = \"dx-row-alt\";\r\nvar LAST_ROW_BORDER = \"dx-last-row-border\";\r\nvar EMPTY_CLASS = \"dx-empty\";\r\nvar ROW_INSERTED_ANIMATION_CLASS = \"row-inserted-animation\";\r\nvar LOADPANEL_HIDE_TIMEOUT = 200;\r\nmodule.exports = {\r\n    defaultOptions: function() {\r\n        return {\r\n            hoverStateEnabled: false,\r\n            scrolling: {\r\n                useNative: \"auto\"\r\n            },\r\n            loadPanel: {\r\n                enabled: \"auto\",\r\n                text: _message2.default.format(\"Loading\"),\r\n                width: 200,\r\n                height: 90,\r\n                showIndicator: true,\r\n                indicatorSrc: \"\",\r\n                showPane: true\r\n            },\r\n            rowTemplate: null,\r\n            columnAutoWidth: false,\r\n            noDataText: _message2.default.format(\"dxDataGrid-noDataText\"),\r\n            wordWrapEnabled: false,\r\n            showColumnLines: true,\r\n            showRowLines: false,\r\n            rowAlternationEnabled: false,\r\n            activeStateEnabled: false,\r\n            twoWayBindingEnabled: true\r\n        }\r\n    },\r\n    views: {\r\n        rowsView: _uiGrid_core3.default.ColumnsView.inherit(function() {\r\n            var defaultCellTemplate = function($container, options) {\r\n                var isDataTextEmpty = (0, _string.isEmpty)(options.text) && \"data\" === options.rowType;\r\n                var text = options.text;\r\n                var container = $container.get(0);\r\n                if (isDataTextEmpty) {\r\n                    (0, _uiGrid_core.setEmptyText)($container)\r\n                } else {\r\n                    if (options.column.encodeHtml) {\r\n                        container.textContent = text\r\n                    } else {\r\n                        container.innerHTML = text\r\n                    }\r\n                }\r\n            };\r\n            var getScrollableBottomPadding = function(that) {\r\n                var scrollable = that.getScrollable();\r\n                return scrollable ? Math.ceil(parseFloat(scrollable.$content().css(\"paddingBottom\"))) : 0\r\n            };\r\n            return {\r\n                _getDefaultTemplate: function(column) {\r\n                    switch (column.command) {\r\n                        case \"empty\":\r\n                            return function(container) {\r\n                                container.html(\"&nbsp;\")\r\n                            };\r\n                        default:\r\n                            return defaultCellTemplate\r\n                    }\r\n                },\r\n                _getDefaultGroupTemplate: function(column) {\r\n                    var that = this;\r\n                    var summaryTexts = that.option(\"summary.texts\");\r\n                    return function($container, options) {\r\n                        var data = options.data;\r\n                        var text = options.column.caption + \": \" + options.text;\r\n                        var container = $container.get(0);\r\n                        if (options.summaryItems && options.summaryItems.length) {\r\n                            text += \" \" + (0, _uiGrid_core.getGroupRowSummaryText)(options.summaryItems, summaryTexts)\r\n                        }\r\n                        if (data) {\r\n                            if (options.groupContinuedMessage && options.groupContinuesMessage) {\r\n                                text += \" (\" + options.groupContinuedMessage + \". \" + options.groupContinuesMessage + \")\"\r\n                            } else {\r\n                                if (options.groupContinuesMessage) {\r\n                                    text += \" (\" + options.groupContinuesMessage + \")\"\r\n                                } else {\r\n                                    if (options.groupContinuedMessage) {\r\n                                        text += \" (\" + options.groupContinuedMessage + \")\"\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        $container.addClass(GROUP_CELL_CLASS);\r\n                        if (column.encodeHtml) {\r\n                            container.textContent = text\r\n                        } else {\r\n                            container.innerHTML = text\r\n                        }\r\n                    }\r\n                },\r\n                _update: function() {},\r\n                _getCellTemplate: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    var template;\r\n                    if (\"group\" === options.rowType && (0, _type.isDefined)(column.groupIndex) && !column.showWhenGrouped && !column.command) {\r\n                        template = column.groupCellTemplate || {\r\n                            allowRenderToDetachedContainer: true,\r\n                            render: that._getDefaultGroupTemplate(column)\r\n                        }\r\n                    } else {\r\n                        if ((\"data\" === options.rowType || column.command) && column.cellTemplate) {\r\n                            template = column.cellTemplate\r\n                        } else {\r\n                            template = {\r\n                                allowRenderToDetachedContainer: true,\r\n                                render: that._getDefaultTemplate(column)\r\n                            }\r\n                        }\r\n                    }\r\n                    return template\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase(row);\r\n                    var isGroup;\r\n                    var isDataRow;\r\n                    var isRowExpanded;\r\n                    if (row) {\r\n                        isGroup = \"group\" === row.rowType;\r\n                        isDataRow = \"data\" === row.rowType;\r\n                        isDataRow && $row.addClass(DATA_ROW_CLASS);\r\n                        isDataRow && this.option(\"showRowLines\") && $row.addClass(ROW_LINES_CLASS);\r\n                        this.option(\"showColumnLines\") && $row.addClass(COLUMN_LINES_CLASS);\r\n                        if (false === row.visible) {\r\n                            $row.hide()\r\n                        }\r\n                        if (isGroup) {\r\n                            $row.addClass(GROUP_ROW_CLASS);\r\n                            isRowExpanded = row.isExpanded;\r\n                            this.setAria(\"role\", \"row\", $row);\r\n                            this.setAria(\"expanded\", (0, _type.isDefined)(isRowExpanded) && isRowExpanded.toString(), $row)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _rowPrepared: function($row, rowOptions, row) {\r\n                    var _this = this;\r\n                    if (\"data\" === rowOptions.rowType) {\r\n                        if (this.option(\"rowAlternationEnabled\")) {\r\n                            var getRowAlt = function() {\r\n                                return row.dataIndex % 2 === 1\r\n                            };\r\n                            getRowAlt() && $row.addClass(ROW_ALTERNATION_CLASS);\r\n                            rowOptions.watch && rowOptions.watch(getRowAlt, function(value) {\r\n                                $row.toggleClass(ROW_ALTERNATION_CLASS, value)\r\n                            })\r\n                        }\r\n                        this._setAriaRowIndex(rowOptions, $row);\r\n                        rowOptions.watch && rowOptions.watch(function() {\r\n                            return rowOptions.rowIndex\r\n                        }, function() {\r\n                            return _this._setAriaRowIndex(rowOptions, $row)\r\n                        })\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _setAriaRowIndex: function(row, $row) {\r\n                    var component = this.component;\r\n                    var isPagerMode = \"standard\" === component.option(\"scrolling.mode\") && \"virtual\" !== component.option(\"scrolling.rowRenderingMode\");\r\n                    var rowIndex = row.rowIndex + 1;\r\n                    if (isPagerMode) {\r\n                        rowIndex = component.pageIndex() * component.pageSize() + rowIndex\r\n                    } else {\r\n                        rowIndex += this._dataController.getRowIndexOffset()\r\n                    }\r\n                    this.setAria(\"rowindex\", rowIndex, $row)\r\n                },\r\n                _afterRowPrepared: function(e) {\r\n                    var _this2 = this;\r\n                    var arg = e.args[0];\r\n                    var dataController = this._dataController;\r\n                    var row = dataController.getVisibleRows()[arg.rowIndex];\r\n                    var watch = this.option(\"integrationOptions.watchMethod\");\r\n                    if (!arg.data || \"data\" !== arg.rowType || arg.isNewRow || !this.option(\"twoWayBindingEnabled\") || !watch || !row) {\r\n                        return\r\n                    }\r\n                    var dispose = watch(function() {\r\n                        return dataController.generateDataValues(arg.data, arg.columns)\r\n                    }, function() {\r\n                        dataController.repaintRows([row.rowIndex], _this2.option(\"repaintChangesOnly\"))\r\n                    }, {\r\n                        deep: true,\r\n                        skipImmediate: true\r\n                    });\r\n                    _events_engine2.default.on(arg.rowElement, _remove_event2.default, dispose)\r\n                },\r\n                _renderScrollable: function(force) {\r\n                    var that = this;\r\n                    var $element = that.element();\r\n                    if (!$element.children().length) {\r\n                        $element.append(\"<div>\")\r\n                    }\r\n                    if (force || !that._loadPanel) {\r\n                        that._renderLoadPanel($element, $element.parent(), that._dataController.isLocalStore())\r\n                    }\r\n                    if ((force || !that.getScrollable()) && that._dataController.isLoaded()) {\r\n                        var columns = that.getColumns();\r\n                        var allColumnsHasWidth = true;\r\n                        for (var i = 0; i < columns.length; i++) {\r\n                            if (!columns[i].width && !columns[i].minWidth) {\r\n                                allColumnsHasWidth = false;\r\n                                break\r\n                            }\r\n                        }\r\n                        if (that.option(\"columnAutoWidth\") || that._hasHeight || allColumnsHasWidth || that._columnsController._isColumnFixing()) {\r\n                            that._renderScrollableCore($element)\r\n                        }\r\n                    }\r\n                },\r\n                _handleScroll: function(e) {\r\n                    var that = this;\r\n                    that._isScrollByEvent = !!e.event;\r\n                    that._scrollTop = e.scrollOffset.top;\r\n                    that._scrollLeft = e.scrollOffset.left;\r\n                    that.scrollChanged.fire(e.scrollOffset, that.name)\r\n                },\r\n                _renderScrollableCore: function($element) {\r\n                    var that = this;\r\n                    var dxScrollableOptions = that._createScrollableOptions();\r\n                    var scrollHandler = that._handleScroll.bind(that);\r\n                    dxScrollableOptions.onScroll = scrollHandler;\r\n                    dxScrollableOptions.onStop = scrollHandler;\r\n                    that._scrollable = that._createComponent($element, _ui2.default, dxScrollableOptions);\r\n                    that._scrollableContainer = that._scrollable && that._scrollable._$container\r\n                },\r\n                _renderLoadPanel: _uiGrid_core.renderLoadPanel,\r\n                _renderContent: function(contentElement, tableElement) {\r\n                    contentElement.replaceWith((0, _renderer2.default)(\"<div>\").addClass(this.addWidgetPrefix(CONTENT_CLASS)).append(tableElement));\r\n                    return this._findContentElement()\r\n                },\r\n                _updateContent: function(newTableElement, change) {\r\n                    var that = this;\r\n                    var tableElement = that._getTableElement();\r\n                    var contentElement = that._findContentElement();\r\n                    var changeType = change && change.changeType;\r\n                    var executors = [];\r\n                    var highlightChanges = this.option(\"highlightChanges\");\r\n                    var rowInsertedClass = this.addWidgetPrefix(ROW_INSERTED_ANIMATION_CLASS);\r\n                    switch (changeType) {\r\n                        case \"update\":\r\n                            (0, _iterator.each)(change.rowIndices, function(index, rowIndex) {\r\n                                var $newRowElement = that._getRowElements(newTableElement).eq(index);\r\n                                var changeType = change.changeTypes && change.changeTypes[index];\r\n                                var item = change.items && change.items[index];\r\n                                executors.push(function() {\r\n                                    var $rowsElement = that._getRowElements();\r\n                                    var $rowElement = $rowsElement.eq(rowIndex);\r\n                                    switch (changeType) {\r\n                                        case \"update\":\r\n                                            if (item) {\r\n                                                var columnIndices = change.columnIndices && change.columnIndices[index];\r\n                                                if ((0, _type.isDefined)(item.visible) && item.visible !== $rowElement.is(\":visible\")) {\r\n                                                    $rowElement.toggle(item.visible)\r\n                                                } else {\r\n                                                    if (columnIndices) {\r\n                                                        that._updateCells($rowElement, $newRowElement, columnIndices)\r\n                                                    } else {\r\n                                                        $rowElement.replaceWith($newRowElement)\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            break;\r\n                                        case \"insert\":\r\n                                            if (!$rowsElement.length) {\r\n                                                $newRowElement.prependTo(tableElement.children(\"tbody\"))\r\n                                            } else {\r\n                                                if ($rowElement.length) {\r\n                                                    $newRowElement.insertBefore($rowElement)\r\n                                                } else {\r\n                                                    $newRowElement.insertAfter($rowsElement.last())\r\n                                                }\r\n                                            }\r\n                                            if (highlightChanges && change.isLiveUpdate) {\r\n                                                $newRowElement.addClass(rowInsertedClass)\r\n                                            }\r\n                                            break;\r\n                                        case \"remove\":\r\n                                            $rowElement.remove()\r\n                                    }\r\n                                })\r\n                            });\r\n                            (0, _iterator.each)(executors, function() {\r\n                                this()\r\n                            });\r\n                            newTableElement.remove();\r\n                            break;\r\n                        default:\r\n                            that._setTableElement(newTableElement);\r\n                            contentElement.addClass(that.addWidgetPrefix(CONTENT_CLASS));\r\n                            that._renderContent(contentElement, newTableElement)\r\n                    }\r\n                },\r\n                _createEmptyRow: function(className, isFixed, height) {\r\n                    var that = this;\r\n                    var i;\r\n                    var $cell;\r\n                    var $row = that._createRow();\r\n                    var columns = isFixed ? this.getFixedColumns() : this.getColumns();\r\n                    $row.addClass(className).toggleClass(COLUMN_LINES_CLASS, that.option(\"showColumnLines\"));\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        $cell = that._createCell({\r\n                            column: columns[i],\r\n                            rowType: \"freeSpace\",\r\n                            columnIndex: i,\r\n                            columns: columns\r\n                        });\r\n                        (0, _type.isNumeric)(height) && $cell.css(\"height\", height);\r\n                        $row.append($cell)\r\n                    }\r\n                    that.setAria(\"role\", \"presentation\", $row);\r\n                    return $row\r\n                },\r\n                _appendEmptyRow: function($table, $emptyRow, location) {\r\n                    var $tBodies = this._getBodies($table);\r\n                    var $container = $tBodies.length && !$emptyRow.is(\"tbody\") ? $tBodies : $table;\r\n                    if (\"top\" === location) {\r\n                        $container.first().prepend($emptyRow)\r\n                    } else {\r\n                        $container.last().append($emptyRow)\r\n                    }\r\n                },\r\n                _renderFreeSpaceRow: function($tableElement) {\r\n                    var $freeSpaceRowElement = this._createEmptyRow(FREE_SPACE_CLASS);\r\n                    $freeSpaceRowElement = this._wrapRowIfNeed($tableElement, $freeSpaceRowElement);\r\n                    this._appendEmptyRow($tableElement, $freeSpaceRowElement)\r\n                },\r\n                _checkRowKeys: function(options) {\r\n                    var that = this;\r\n                    var rows = that._getRows(options);\r\n                    var keyExpr = that._dataController.store() && that._dataController.store().key();\r\n                    keyExpr && rows.some(function(row) {\r\n                        if (\"data\" === row.rowType && void 0 === row.key) {\r\n                            that._dataController.fireError(\"E1046\", keyExpr);\r\n                            return true\r\n                        }\r\n                    })\r\n                },\r\n                _needUpdateRowHeight: function(itemsCount) {\r\n                    return itemsCount > 0 && !this._rowHeight\r\n                },\r\n                _getRowsHeight: function($tableElement) {\r\n                    var $rowElements = $tableElement.children(\"tbody\").children().not(\".dx-virtual-row\").not(\".\" + FREE_SPACE_CLASS);\r\n                    return $rowElements.toArray().reduce(function(sum, row) {\r\n                        return sum + row.getBoundingClientRect().height\r\n                    }, 0)\r\n                },\r\n                _updateRowHeight: function() {\r\n                    var that = this;\r\n                    var rowsHeight;\r\n                    var $tableElement = that._getTableElement();\r\n                    var itemsCount = that._dataController.items().length;\r\n                    if ($tableElement && that._needUpdateRowHeight(itemsCount)) {\r\n                        rowsHeight = that._getRowsHeight($tableElement);\r\n                        that._rowHeight = rowsHeight / itemsCount\r\n                    }\r\n                },\r\n                _findContentElement: function() {\r\n                    var $content = this.element();\r\n                    var scrollable = this.getScrollable();\r\n                    if ($content) {\r\n                        if (scrollable) {\r\n                            $content = scrollable.$content()\r\n                        }\r\n                        return $content.children().first()\r\n                    }\r\n                },\r\n                _getRowElements: function(tableElement) {\r\n                    var $rows = this.callBase(tableElement);\r\n                    return $rows && $rows.not(\".\" + FREE_SPACE_CLASS)\r\n                },\r\n                _getFreeSpaceRowElements: function($table) {\r\n                    var tableElements = $table || this.getTableElements();\r\n                    return tableElements && tableElements.children(\"tbody\").children(\".\" + FREE_SPACE_CLASS)\r\n                },\r\n                _getNoDataText: function() {\r\n                    return this.option(\"noDataText\")\r\n                },\r\n                _rowClick: function(e) {\r\n                    var item = this._dataController.items()[e.rowIndex] || {};\r\n                    this.executeAction(\"onRowClick\", (0, _extend.extend)({\r\n                        evaluate: function(expr) {\r\n                            var getter = (0, _data.compileGetter)(expr);\r\n                            return getter(item.data)\r\n                        }\r\n                    }, e, item))\r\n                },\r\n                _rowDblClick: function(e) {\r\n                    var item = this._dataController.items()[e.rowIndex] || {};\r\n                    this.executeAction(\"onRowDblClick\", (0, _extend.extend)({}, e, item))\r\n                },\r\n                _getColumnsCountBeforeGroups: function(columns) {\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        if (\"groupExpand\" === columns[i].type) {\r\n                            return i\r\n                        }\r\n                    }\r\n                    return 0\r\n                },\r\n                _getGroupCellOptions: function(options) {\r\n                    var columnsCountBeforeGroups = this._getColumnsCountBeforeGroups(options.columns);\r\n                    var columnIndex = (options.row.groupIndex || 0) + columnsCountBeforeGroups;\r\n                    return {\r\n                        columnIndex: columnIndex,\r\n                        colspan: options.columns.length - columnIndex - 1\r\n                    }\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    if (\"group\" === options.row.rowType) {\r\n                        this._renderGroupedCells($row, options)\r\n                    } else {\r\n                        if (options.row.values) {\r\n                            this.callBase($row, options)\r\n                        }\r\n                    }\r\n                },\r\n                _renderGroupedCells: function($row, options) {\r\n                    var row = options.row;\r\n                    var i;\r\n                    var expandColumn;\r\n                    var columns = options.columns;\r\n                    var rowIndex = row.rowIndex;\r\n                    var isExpanded;\r\n                    var groupColumn;\r\n                    var groupColumnAlignment;\r\n                    var groupCellOptions = this._getGroupCellOptions(options);\r\n                    for (i = 0; i <= groupCellOptions.columnIndex; i++) {\r\n                        if (i === groupCellOptions.columnIndex && columns[i].allowCollapsing && \"infinite\" !== options.scrollingMode) {\r\n                            isExpanded = !!row.isExpanded;\r\n                            expandColumn = columns[i]\r\n                        } else {\r\n                            isExpanded = null;\r\n                            expandColumn = {\r\n                                command: \"expand\",\r\n                                cssClass: columns[i].cssClass\r\n                            }\r\n                        }\r\n                        this._renderCell($row, {\r\n                            value: isExpanded,\r\n                            row: row,\r\n                            rowIndex: rowIndex,\r\n                            column: expandColumn,\r\n                            columnIndex: i\r\n                        })\r\n                    }\r\n                    groupColumnAlignment = (0, _position.getDefaultAlignment)(this.option(\"rtlEnabled\"));\r\n                    groupColumn = (0, _extend.extend)({}, columns[groupCellOptions.columnIndex], {\r\n                        command: null,\r\n                        cssClass: null,\r\n                        width: null,\r\n                        showWhenGrouped: false,\r\n                        alignment: groupColumnAlignment\r\n                    });\r\n                    if (groupCellOptions.colspan > 1) {\r\n                        groupColumn.colspan = groupCellOptions.colspan\r\n                    }\r\n                    this._renderCell($row, {\r\n                        value: row.values[row.groupIndex],\r\n                        row: row,\r\n                        rowIndex: rowIndex,\r\n                        column: groupColumn,\r\n                        columnIndex: groupCellOptions.columnIndex\r\n                    })\r\n                },\r\n                _renderRows: function($table, options) {\r\n                    var that = this;\r\n                    var scrollingMode = that.option(\"scrolling.mode\");\r\n                    that.callBase($table, (0, _extend.extend)({\r\n                        scrollingMode: scrollingMode\r\n                    }, options));\r\n                    that._checkRowKeys(options.change);\r\n                    that._renderFreeSpaceRow($table);\r\n                    if (!that._hasHeight) {\r\n                        that.updateFreeSpaceRowHeight($table)\r\n                    }\r\n                },\r\n                _renderRow: function($table, options) {\r\n                    var that = this;\r\n                    var row = options.row;\r\n                    var rowTemplate = that.option(\"rowTemplate\");\r\n                    if ((\"data\" === row.rowType || \"group\" === row.rowType) && !(0, _type.isDefined)(row.groupIndex) && rowTemplate) {\r\n                        that.renderTemplate($table, rowTemplate, (0, _extend.extend)({\r\n                            columns: options.columns\r\n                        }, row), true)\r\n                    } else {\r\n                        that.callBase($table, options)\r\n                    }\r\n                },\r\n                _renderTable: function(options) {\r\n                    var that = this;\r\n                    var $table = that.callBase(options);\r\n                    var resizeCompletedHandler = function resizeCompletedHandler() {\r\n                        var scrollableInstance = that.getScrollable();\r\n                        if (scrollableInstance && that.element().closest((0, _window.getWindow)().document).length) {\r\n                            that.resizeCompleted.remove(resizeCompletedHandler);\r\n                            scrollableInstance._visibilityChanged(true)\r\n                        }\r\n                    };\r\n                    if (!(0, _type.isDefined)(that._getTableElement())) {\r\n                        that._setTableElement($table);\r\n                        that._renderScrollable(true);\r\n                        that.resizeCompleted.add(resizeCompletedHandler)\r\n                    } else {\r\n                        that._renderScrollable()\r\n                    }\r\n                    return $table\r\n                },\r\n                _createTable: function() {\r\n                    var $table = this.callBase.apply(this, arguments);\r\n                    if (this.option(\"rowTemplate\")) {\r\n                        $table.appendTo(this.component.$element())\r\n                    }\r\n                    return $table\r\n                },\r\n                _renderCore: function(change) {\r\n                    var that = this;\r\n                    var $table;\r\n                    var $element = that.element();\r\n                    $element.addClass(that.addWidgetPrefix(ROWS_VIEW_CLASS)).toggleClass(that.addWidgetPrefix(NOWRAP_CLASS), !that.option(\"wordWrapEnabled\"));\r\n                    $element.toggleClass(EMPTY_CLASS, 0 === that._dataController.items().length);\r\n                    that.setAria(\"role\", \"presentation\", $element);\r\n                    $table = that._renderTable({\r\n                        change: change\r\n                    });\r\n                    that._updateContent($table, change);\r\n                    that.callBase(change);\r\n                    that._lastColumnWidths = null\r\n                },\r\n                _getRows: function(change) {\r\n                    return change && change.items || this._dataController.items()\r\n                },\r\n                _getCellOptions: function(options) {\r\n                    var that = this;\r\n                    var parameters;\r\n                    var column = options.column;\r\n                    var row = options.row;\r\n                    var data = row.data;\r\n                    var summaryCells = row && row.summaryCells;\r\n                    var value = options.value;\r\n                    var displayValue = (0, _uiGrid_core.getDisplayValue)(column, value, data, row.rowType);\r\n                    var groupingTextsOptions;\r\n                    var scrollingMode;\r\n                    parameters = this.callBase(options);\r\n                    parameters.value = value;\r\n                    parameters.oldValue = options.oldValue;\r\n                    parameters.displayValue = displayValue;\r\n                    parameters.row = row;\r\n                    parameters.key = row.key;\r\n                    parameters.data = data;\r\n                    parameters.rowType = row.rowType;\r\n                    parameters.values = row.values;\r\n                    parameters.text = !column.command ? (0, _uiGrid_core.formatValue)(displayValue, column) : \"\";\r\n                    parameters.rowIndex = row.rowIndex;\r\n                    parameters.summaryItems = summaryCells && summaryCells[options.columnIndex];\r\n                    parameters.resized = column.resizedCallbacks;\r\n                    if ((0, _type.isDefined)(column.groupIndex) && !column.command) {\r\n                        groupingTextsOptions = that.option(\"grouping.texts\");\r\n                        scrollingMode = that.option(\"scrolling.mode\");\r\n                        if (\"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode) {\r\n                            parameters.groupContinuesMessage = data && data.isContinuationOnNextPage && groupingTextsOptions && groupingTextsOptions.groupContinuesMessage;\r\n                            parameters.groupContinuedMessage = data && data.isContinuation && groupingTextsOptions && groupingTextsOptions.groupContinuedMessage\r\n                        }\r\n                    }\r\n                    return parameters\r\n                },\r\n                _setRowsOpacityCore: function($rows, visibleColumns, columnIndex, value) {\r\n                    var columnsController = this._columnsController;\r\n                    var columns = columnsController.getColumns();\r\n                    var column = columns && columns[columnIndex];\r\n                    var columnID = column && column.isBand && column.index;\r\n                    (0, _iterator.each)($rows, function(rowIndex, row) {\r\n                        if (!(0, _renderer2.default)(row).hasClass(GROUP_ROW_CLASS)) {\r\n                            for (var i = 0; i < visibleColumns.length; i++) {\r\n                                if ((0, _type.isNumeric)(columnID) && columnsController.isParentBandColumn(visibleColumns[i].index, columnID) || visibleColumns[i].index === columnIndex) {\r\n                                    $rows.eq(rowIndex).children().eq(i).css({\r\n                                        opacity: value\r\n                                    });\r\n                                    if (!(0, _type.isNumeric)(columnID)) {\r\n                                        break\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                },\r\n                _getDevicePixelRatio: function() {\r\n                    return (0, _window.getWindow)().devicePixelRatio\r\n                },\r\n                renderNoDataText: _uiGrid_core.renderNoDataText,\r\n                getCellOptions: function(rowIndex, columnIdentifier) {\r\n                    var rowOptions = this._dataController.items()[rowIndex];\r\n                    var cellOptions;\r\n                    var column;\r\n                    if (rowOptions) {\r\n                        if ((0, _type.isString)(columnIdentifier)) {\r\n                            column = this._columnsController.columnOption(columnIdentifier)\r\n                        } else {\r\n                            column = this._columnsController.getVisibleColumns()[columnIdentifier]\r\n                        }\r\n                        if (column) {\r\n                            cellOptions = this._getCellOptions({\r\n                                value: column.calculateCellValue(rowOptions.data),\r\n                                rowIndex: rowOptions.rowIndex,\r\n                                row: rowOptions,\r\n                                column: column\r\n                            })\r\n                        }\r\n                    }\r\n                    return cellOptions\r\n                },\r\n                getRow: function(index) {\r\n                    if (index >= 0) {\r\n                        var rows = this._getRowElements();\r\n                        if (rows.length > index) {\r\n                            return (0, _renderer2.default)(rows[index])\r\n                        }\r\n                    }\r\n                },\r\n                updateFreeSpaceRowHeight: function($table) {\r\n                    var that = this;\r\n                    var dataController = that._dataController;\r\n                    var itemCount = dataController.items(true).length;\r\n                    var contentElement = that._findContentElement();\r\n                    var freeSpaceRowElements = that._getFreeSpaceRowElements($table);\r\n                    var freeSpaceRowCount;\r\n                    var scrollingMode;\r\n                    if (freeSpaceRowElements && contentElement && dataController.totalCount() >= 0) {\r\n                        var isFreeSpaceRowVisible = false;\r\n                        if (itemCount > 0) {\r\n                            if (!that._hasHeight) {\r\n                                freeSpaceRowCount = dataController.pageSize() - itemCount;\r\n                                scrollingMode = that.option(\"scrolling.mode\");\r\n                                if (freeSpaceRowCount > 0 && dataController.pageCount() > 1 && \"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode) {\r\n                                    _style2.default.setHeight(freeSpaceRowElements, freeSpaceRowCount * that._rowHeight);\r\n                                    isFreeSpaceRowVisible = true\r\n                                }\r\n                                if (!isFreeSpaceRowVisible && $table) {\r\n                                    _style2.default.setHeight(freeSpaceRowElements, 0)\r\n                                } else {\r\n                                    freeSpaceRowElements.toggle(isFreeSpaceRowVisible)\r\n                                }\r\n                                that._updateLastRowBorder(isFreeSpaceRowVisible)\r\n                            } else {\r\n                                freeSpaceRowElements.hide();\r\n                                (0, _common.deferUpdate)(function() {\r\n                                    var scrollablePadding = getScrollableBottomPadding(that);\r\n                                    var scrollbarWidth = that.getScrollbarWidth(true);\r\n                                    var elementHeightWithoutScrollbar = that.element().height() - scrollbarWidth - scrollablePadding;\r\n                                    var contentHeight = contentElement.outerHeight();\r\n                                    var showFreeSpaceRow = elementHeightWithoutScrollbar - contentHeight > 0;\r\n                                    var rowsHeight = that._getRowsHeight(contentElement.children().first());\r\n                                    var $tableElement = $table || that.getTableElements();\r\n                                    var borderTopWidth = Math.ceil(parseFloat($tableElement.css(\"borderTopWidth\")));\r\n                                    var heightCorrection = _browser2.default.webkit && that._getDevicePixelRatio() >= 2 ? 1 : 0;\r\n                                    var resultHeight = elementHeightWithoutScrollbar - rowsHeight - borderTopWidth - heightCorrection;\r\n                                    if (showFreeSpaceRow) {\r\n                                        (0, _common.deferRender)(function() {\r\n                                            freeSpaceRowElements.css(\"height\", resultHeight);\r\n                                            isFreeSpaceRowVisible = true;\r\n                                            freeSpaceRowElements.show()\r\n                                        })\r\n                                    }(0, _common.deferRender)(function() {\r\n                                        that._updateLastRowBorder(isFreeSpaceRowVisible)\r\n                                    })\r\n                                })\r\n                            }\r\n                        } else {\r\n                            freeSpaceRowElements.css(\"height\", 0);\r\n                            freeSpaceRowElements.show();\r\n                            that._updateLastRowBorder(true)\r\n                        }\r\n                    }\r\n                },\r\n                _columnOptionChanged: function(e) {\r\n                    var optionNames = e.optionNames;\r\n                    if (e.changeTypes.grouping) {\r\n                        return\r\n                    }\r\n                    if (optionNames.width || optionNames.visibleWidth) {\r\n                        this.callBase(e);\r\n                        this._fireColumnResizedCallbacks()\r\n                    }\r\n                },\r\n                getScrollable: function() {\r\n                    return this._scrollable\r\n                },\r\n                init: function() {\r\n                    var that = this;\r\n                    var dataController = that.getController(\"data\");\r\n                    that.callBase();\r\n                    that._editorFactoryController = that.getController(\"editorFactory\");\r\n                    that._rowHeight = 0;\r\n                    that._scrollTop = 0;\r\n                    that._scrollLeft = -1;\r\n                    that._hasHeight = false;\r\n                    dataController.loadingChanged.add(function(isLoading, messageText) {\r\n                        that.setLoading(isLoading, messageText)\r\n                    });\r\n                    dataController.dataSourceChanged.add(function() {\r\n                        if (that._scrollLeft >= 0) {\r\n                            that._handleScroll({\r\n                                scrollOffset: {\r\n                                    top: that._scrollTop,\r\n                                    left: that._scrollLeft\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                },\r\n                _handleDataChanged: function(change) {\r\n                    var that = this;\r\n                    switch (change.changeType) {\r\n                        case \"refresh\":\r\n                        case \"prepend\":\r\n                        case \"append\":\r\n                        case \"update\":\r\n                            that.render(null, change);\r\n                            break;\r\n                        default:\r\n                            that._update(change)\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    return [\"isScrollbarVisible\", \"getTopVisibleRowData\", \"getScrollbarWidth\", \"getCellElement\", \"getRowElement\", \"getScrollable\"]\r\n                },\r\n                contentWidth: function() {\r\n                    return this.element().width() - this.getScrollbarWidth()\r\n                },\r\n                getScrollbarWidth: function(isHorizontal) {\r\n                    var scrollableContainer = this._scrollableContainer && this._scrollableContainer.get(0);\r\n                    var scrollbarWidth = 0;\r\n                    if (scrollableContainer) {\r\n                        if (!isHorizontal) {\r\n                            scrollbarWidth = scrollableContainer.clientWidth ? scrollableContainer.offsetWidth - scrollableContainer.clientWidth : 0\r\n                        } else {\r\n                            scrollbarWidth = scrollableContainer.clientHeight ? scrollableContainer.offsetHeight - scrollableContainer.clientHeight : 0;\r\n                            scrollbarWidth += getScrollableBottomPadding(this)\r\n                        }\r\n                    }\r\n                    return scrollbarWidth > 0 ? scrollbarWidth : 0\r\n                },\r\n                _fireColumnResizedCallbacks: function() {\r\n                    var that = this;\r\n                    var lastColumnWidths = that._lastColumnWidths || [];\r\n                    var columnWidths = [];\r\n                    var columns = that.getColumns();\r\n                    var i;\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        columnWidths[i] = columns[i].visibleWidth;\r\n                        if (columns[i].resizedCallbacks && !(0, _type.isDefined)(columns[i].groupIndex) && lastColumnWidths[i] !== columnWidths[i]) {\r\n                            columns[i].resizedCallbacks.fire(columnWidths[i])\r\n                        }\r\n                    }\r\n                    that._lastColumnWidths = columnWidths\r\n                },\r\n                _updateLastRowBorder: function(isFreeSpaceRowVisible) {\r\n                    if (this.option(\"showBorders\") && this.option(\"showRowLines\") && !isFreeSpaceRowVisible) {\r\n                        this.element().addClass(LAST_ROW_BORDER)\r\n                    } else {\r\n                        this.element().removeClass(LAST_ROW_BORDER)\r\n                    }\r\n                },\r\n                _updateScrollable: function() {\r\n                    var dxScrollable = _ui2.default.getInstance(this.element());\r\n                    if (dxScrollable) {\r\n                        dxScrollable.update();\r\n                        this._updateHorizontalScrollPosition()\r\n                    }\r\n                },\r\n                _updateHorizontalScrollPosition: function() {\r\n                    var scrollable = this.getScrollable();\r\n                    var scrollLeft = scrollable && scrollable.scrollOffset().left;\r\n                    if (this._scrollLeft >= 0 && scrollLeft !== this._scrollLeft) {\r\n                        scrollable.scrollTo({\r\n                            x: this._scrollLeft\r\n                        })\r\n                    }\r\n                },\r\n                _resizeCore: function() {\r\n                    var that = this;\r\n                    that._fireColumnResizedCallbacks();\r\n                    that._updateRowHeight();\r\n                    (0, _common.deferRender)(function() {\r\n                        that._renderScrollable();\r\n                        that.renderNoDataText();\r\n                        that.updateFreeSpaceRowHeight();\r\n                        (0, _common.deferUpdate)(function() {\r\n                            that._updateScrollable()\r\n                        })\r\n                    })\r\n                },\r\n                scrollTo: function(location) {\r\n                    var $element = this.element();\r\n                    var dxScrollable = $element && _ui2.default.getInstance($element);\r\n                    if (dxScrollable) {\r\n                        dxScrollable.scrollTo(location)\r\n                    }\r\n                },\r\n                height: function(_height, hasHeight) {\r\n                    var that = this;\r\n                    var $element = this.element();\r\n                    if (0 === arguments.length) {\r\n                        return $element ? $element.outerHeight(true) : 0\r\n                    }\r\n                    that._hasHeight = void 0 === hasHeight ? \"auto\" !== _height : hasHeight;\r\n                    if ((0, _type.isDefined)(_height) && $element) {\r\n                        _style2.default.setHeight($element, _height)\r\n                    }\r\n                },\r\n                setLoading: function(isLoading, messageText) {\r\n                    var that = this;\r\n                    var loadPanel = that._loadPanel;\r\n                    var dataController = that._dataController;\r\n                    var loadPanelOptions = that.option(\"loadPanel\") || {};\r\n                    var animation = dataController.isLoaded() ? loadPanelOptions.animation : null;\r\n                    var $element = that.element();\r\n                    var visibilityOptions;\r\n                    if (!(0, _window.hasWindow)()) {\r\n                        return\r\n                    }\r\n                    if (!loadPanel && void 0 !== messageText && dataController.isLocalStore() && \"auto\" === loadPanelOptions.enabled && $element) {\r\n                        that._renderLoadPanel($element, $element.parent());\r\n                        loadPanel = that._loadPanel\r\n                    }\r\n                    if (loadPanel) {\r\n                        visibilityOptions = {\r\n                            message: messageText || loadPanelOptions.text,\r\n                            animation: animation,\r\n                            visible: isLoading\r\n                        };\r\n                        clearTimeout(that._hideLoadingTimeoutID);\r\n                        if (loadPanel.option(\"visible\") && !isLoading) {\r\n                            that._hideLoadingTimeoutID = setTimeout(function() {\r\n                                loadPanel.option(visibilityOptions)\r\n                            }, LOADPANEL_HIDE_TIMEOUT)\r\n                        } else {\r\n                            loadPanel.option(visibilityOptions)\r\n                        }\r\n                    }\r\n                },\r\n                setRowsOpacity: function(columnIndex, value) {\r\n                    var $rows = this._getRowElements().not(\".\" + GROUP_ROW_CLASS) || [];\r\n                    this._setRowsOpacityCore($rows, this.getColumns(), columnIndex, value)\r\n                },\r\n                _getCellElementsCore: function(rowIndex) {\r\n                    var $cells = this.callBase(rowIndex);\r\n                    var groupCellIndex;\r\n                    if ($cells) {\r\n                        groupCellIndex = $cells.filter(\".\" + GROUP_CELL_CLASS).index();\r\n                        if (groupCellIndex >= 0 && $cells.length > groupCellIndex + 1) {\r\n                            return $cells.slice(0, groupCellIndex + 1)\r\n                        }\r\n                    }\r\n                    return $cells\r\n                },\r\n                getTopVisibleItemIndex: function(isFloor) {\r\n                    var that = this;\r\n                    var itemIndex = 0;\r\n                    var prevOffsetTop = 0;\r\n                    var offsetTop = 0;\r\n                    var rowElements;\r\n                    var rowElement;\r\n                    var scrollPosition = that._scrollTop;\r\n                    var $contentElement = that._findContentElement();\r\n                    var contentElementOffsetTop = $contentElement && $contentElement.offset().top;\r\n                    var items = that._dataController.items();\r\n                    var tableElement = that._getTableElement();\r\n                    if (items.length && tableElement) {\r\n                        rowElements = that._getRowElements(tableElement).filter(\":visible\");\r\n                        for (itemIndex = 0; itemIndex < items.length; itemIndex++) {\r\n                            prevOffsetTop = offsetTop;\r\n                            rowElement = rowElements.eq(itemIndex);\r\n                            if (rowElement.length) {\r\n                                offsetTop = rowElement.offset().top - contentElementOffsetTop;\r\n                                if (offsetTop > scrollPosition) {\r\n                                    if (itemIndex) {\r\n                                        if (isFloor || 2 * scrollPosition < Math.round(offsetTop + prevOffsetTop)) {\r\n                                            itemIndex--\r\n                                        }\r\n                                    }\r\n                                    break\r\n                                }\r\n                            }\r\n                        }\r\n                        if (itemIndex && itemIndex === items.length) {\r\n                            itemIndex--\r\n                        }\r\n                    }\r\n                    return itemIndex\r\n                },\r\n                getTopVisibleRowData: function() {\r\n                    var itemIndex = this.getTopVisibleItemIndex();\r\n                    var items = this._dataController.items();\r\n                    if (items[itemIndex]) {\r\n                        return items[itemIndex].data\r\n                    }\r\n                },\r\n                _scrollToElement: function($element, offset) {\r\n                    var scrollable = this.getScrollable();\r\n                    scrollable && scrollable.scrollToElement($element, offset)\r\n                },\r\n                optionChanged: function(args) {\r\n                    var that = this;\r\n                    that.callBase(args);\r\n                    switch (args.name) {\r\n                        case \"wordWrapEnabled\":\r\n                        case \"showColumnLines\":\r\n                        case \"showRowLines\":\r\n                        case \"rowAlternationEnabled\":\r\n                        case \"rowTemplate\":\r\n                        case \"twoWayBindingEnabled\":\r\n                            that._invalidate(true, true);\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"scrolling\":\r\n                            that._rowHeight = null;\r\n                            that._tableElement = null;\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"rtlEnabled\":\r\n                            that._rowHeight = null;\r\n                            that._tableElement = null;\r\n                            break;\r\n                        case \"loadPanel\":\r\n                            that._tableElement = null;\r\n                            that._invalidate(true, \"loadPanel.enabled\" !== args.fullName);\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"noDataText\":\r\n                            that.renderNoDataText();\r\n                            args.handled = true\r\n                    }\r\n                },\r\n                dispose: function() {\r\n                    clearTimeout(this._hideLoadingTimeoutID);\r\n                    this._scrollable && this._scrollable.dispose()\r\n                },\r\n                setScrollerSpacing: function() {}\r\n            }\r\n        }())\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}