{"ast":null,"code":"/**\r\n * DevExtreme (ui/multi_view.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _fx = require(\"../animation/fx\");\n\nvar _fx2 = _interopRequireDefault(_fx);\n\nvar _translator2 = require(\"../animation/translator\");\n\nvar _translator3 = _interopRequireDefault(_translator2);\n\nvar _math = require(\"../core/utils/math\");\n\nvar _math2 = _interopRequireDefault(_math);\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _common = require(\"../core/utils/common\");\n\nvar _dom = require(\"../core/utils/dom\");\n\nvar _type = require(\"../core/utils/type\");\n\nvar _devices = require(\"../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.live_update\");\n\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\n\nvar _swipeable = require(\"../events/gesture/swipeable\");\n\nvar _swipeable2 = _interopRequireDefault(_swipeable);\n\nvar _deferred = require(\"../core/utils/deferred\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar MULTIVIEW_CLASS = \"dx-multiview\";\nvar MULTIVIEW_WRAPPER_CLASS = \"dx-multiview-wrapper\";\nvar MULTIVIEW_ITEM_CONTAINER_CLASS = \"dx-multiview-item-container\";\nvar MULTIVIEW_ITEM_CLASS = \"dx-multiview-item\";\nvar MULTIVIEW_ITEM_HIDDEN_CLASS = \"dx-multiview-item-hidden\";\nvar MULTIVIEW_ITEM_DATA_KEY = \"dxMultiViewItemData\";\nvar MULTIVIEW_ANIMATION_DURATION = 200;\n\nvar toNumber = function toNumber(value) {\n  return +value;\n};\n\nvar position = function position($element) {\n  return _translator3.default.locate($element).left;\n};\n\nvar _translator = {\n  move: function move($element, position) {\n    _translator3.default.move($element, {\n      left: position\n    });\n  }\n};\nvar animation = {\n  moveTo: function moveTo($element, position, duration, completeAction) {\n    _fx2.default.animate($element, {\n      type: \"slide\",\n      to: {\n        left: position\n      },\n      duration: duration,\n      complete: completeAction\n    });\n  },\n  complete: function complete($element) {\n    _fx2.default.stop($element, true);\n  }\n};\n\nvar MultiView = _uiCollection_widget2.default.inherit({\n  _activeStateUnit: \".\" + MULTIVIEW_ITEM_CLASS,\n  _supportedKeys: function _supportedKeys() {\n    return (0, _extend.extend)(this.callBase(), {\n      pageUp: _common.noop,\n      pageDown: _common.noop\n    });\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      selectedIndex: 0,\n      swipeEnabled: true,\n      animationEnabled: true,\n      loop: false,\n      deferRendering: true,\n      _itemAttributes: {\n        role: \"tabpanel\"\n      },\n      loopItemFocus: false,\n      selectOnFocus: true,\n      selectionMode: \"single\",\n      selectionRequired: true,\n      selectionByClick: false\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device() {\n        return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }]);\n  },\n  _itemClass: function _itemClass() {\n    return MULTIVIEW_ITEM_CLASS;\n  },\n  _itemDataKey: function _itemDataKey() {\n    return MULTIVIEW_ITEM_DATA_KEY;\n  },\n  _itemContainer: function _itemContainer() {\n    return this._$itemContainer;\n  },\n  _itemElements: function _itemElements() {\n    return this._itemContainer().children(this._itemSelector());\n  },\n  _itemWidth: function _itemWidth() {\n    if (!this._itemWidthValue) {\n      this._itemWidthValue = this._$wrapper.width();\n    }\n\n    return this._itemWidthValue;\n  },\n  _clearItemWidthCache: function _clearItemWidthCache() {\n    delete this._itemWidthValue;\n  },\n  _itemsCount: function _itemsCount() {\n    return this.option(\"items\").length;\n  },\n  _normalizeIndex: function _normalizeIndex(index) {\n    var count = this._itemsCount();\n\n    if (index < 0) {\n      index += count;\n    }\n\n    if (index >= count) {\n      index -= count;\n    }\n\n    return index;\n  },\n  _getRTLSignCorrection: function _getRTLSignCorrection() {\n    return this.option(\"rtlEnabled\") ? -1 : 1;\n  },\n  _init: function _init() {\n    this.callBase.apply(this, arguments);\n    var $element = this.$element();\n    $element.addClass(MULTIVIEW_CLASS);\n    this._$wrapper = (0, _renderer2.default)(\"<div>\").addClass(MULTIVIEW_WRAPPER_CLASS);\n\n    this._$wrapper.appendTo($element);\n\n    this._$itemContainer = (0, _renderer2.default)(\"<div>\").addClass(MULTIVIEW_ITEM_CONTAINER_CLASS);\n\n    this._$itemContainer.appendTo(this._$wrapper);\n\n    this.option(\"loopItemFocus\", this.option(\"loop\"));\n\n    this._initSwipeable();\n  },\n  _initMarkup: function _initMarkup() {\n    this._deferredItems = [];\n    this.callBase();\n\n    var selectedItemIndices = this._getSelectedItemIndices();\n\n    this._updateItemsVisibility(selectedItemIndices[0]);\n  },\n  _afterItemElementDeleted: function _afterItemElementDeleted($item, deletedActionArgs) {\n    this.callBase($item, deletedActionArgs);\n\n    if (this._deferredItems) {\n      this._deferredItems.splice(deletedActionArgs.itemIndex, 1);\n    }\n  },\n  _beforeItemElementInserted: function _beforeItemElementInserted(change) {\n    this.callBase.apply(this, arguments);\n\n    if (this._deferredItems) {\n      this._deferredItems.splice(change.index, 0, null);\n    }\n  },\n  _executeItemRenderAction: function _executeItemRenderAction(index, itemData, itemElement) {\n    index = (this.option(\"items\") || []).indexOf(itemData);\n    this.callBase(index, itemData, itemElement);\n  },\n  _renderItemContent: function _renderItemContent(args) {\n    var renderContentDeferred = new _deferred.Deferred();\n    var that = this;\n    var callBase = this.callBase;\n    var deferred = new _deferred.Deferred();\n    deferred.done(function () {\n      var $itemContent = callBase.call(that, args);\n      renderContentDeferred.resolve($itemContent);\n    });\n    this._deferredItems[args.index] = deferred;\n    this.option(\"deferRendering\") || deferred.resolve();\n    return renderContentDeferred.promise();\n  },\n  _render: function _render() {\n    var _this = this;\n\n    this.callBase();\n    (0, _common.deferRender)(function () {\n      var selectedItemIndices = _this._getSelectedItemIndices();\n\n      _this._updateItems(selectedItemIndices[0]);\n    });\n  },\n  _updateItems: function _updateItems(selectedIndex, newIndex) {\n    this._updateItemsPosition(selectedIndex, newIndex);\n\n    this._updateItemsVisibility(selectedIndex, newIndex);\n  },\n  _modifyByChanges: function _modifyByChanges() {\n    this.callBase.apply(this, arguments);\n\n    var selectedItemIndices = this._getSelectedItemIndices();\n\n    this._updateItemsVisibility(selectedItemIndices[0]);\n  },\n  _updateItemsPosition: function _updateItemsPosition(selectedIndex, newIndex) {\n    var $itemElements = this._itemElements();\n\n    var positionSign = (0, _type.isDefined)(newIndex) ? -this._animationDirection(newIndex, selectedIndex) : void 0;\n    var $selectedItem = $itemElements.eq(selectedIndex);\n\n    _translator.move($selectedItem, 0);\n\n    if ((0, _type.isDefined)(newIndex)) {\n      _translator.move($itemElements.eq(newIndex), 100 * positionSign + \"%\");\n    }\n  },\n  _updateItemsVisibility: function _updateItemsVisibility(selectedIndex, newIndex) {\n    var $itemElements = this._itemElements();\n\n    $itemElements.each(function (itemIndex, item) {\n      var $item = (0, _renderer2.default)(item);\n      var isHidden = itemIndex !== selectedIndex && itemIndex !== newIndex;\n\n      if (!isHidden) {\n        this._renderSpecificItem(itemIndex);\n      }\n\n      $item.toggleClass(MULTIVIEW_ITEM_HIDDEN_CLASS, isHidden);\n      this.setAria(\"hidden\", isHidden || void 0, $item);\n    }.bind(this));\n  },\n  _renderSpecificItem: function _renderSpecificItem(index) {\n    var $item = this._itemElements().eq(index);\n\n    var hasItemContent = $item.find(this._itemContentClass()).length > 0;\n\n    if ((0, _type.isDefined)(index) && !hasItemContent) {\n      this._deferredItems[index].resolve();\n\n      (0, _dom.triggerResizeEvent)($item);\n    }\n  },\n  _refreshItem: function _refreshItem($item, item) {\n    this.callBase($item, item);\n\n    this._updateItemsVisibility(this.option(\"selectedIndex\"));\n  },\n  _setAriaSelected: _common.noop,\n  _updateSelection: function _updateSelection(addedSelection, removedSelection) {\n    var newIndex = addedSelection[0];\n    var prevIndex = removedSelection[0];\n    animation.complete(this._$itemContainer);\n\n    this._updateItems(prevIndex, newIndex);\n\n    var animationDirection = this._animationDirection(newIndex, prevIndex);\n\n    this._animateItemContainer(animationDirection * this._itemWidth(), function () {\n      _translator.move(this._$itemContainer, 0);\n\n      this._updateItems(newIndex);\n\n      this._$itemContainer.width();\n    }.bind(this));\n  },\n  _animateItemContainer: function _animateItemContainer(position, completeCallback) {\n    var duration = this.option(\"animationEnabled\") ? MULTIVIEW_ANIMATION_DURATION : 0;\n    animation.moveTo(this._$itemContainer, position, duration, completeCallback);\n  },\n  _animationDirection: function _animationDirection(newIndex, prevIndex) {\n    var containerPosition = position(this._$itemContainer);\n\n    var indexDifference = (prevIndex - newIndex) * this._getRTLSignCorrection() * this._getItemFocusLoopSignCorrection();\n\n    var isSwipePresent = 0 !== containerPosition;\n    var directionSignVariable = isSwipePresent ? containerPosition : indexDifference;\n    return _math2.default.sign(directionSignVariable);\n  },\n  _getSwipeDisabledState: function _getSwipeDisabledState() {\n    return !this.option(\"swipeEnabled\") || this._itemsCount() <= 1;\n  },\n  _initSwipeable: function _initSwipeable() {\n    var _this2 = this;\n\n    this._createComponent(this.$element(), _swipeable2.default, {\n      disabled: this._getSwipeDisabledState(),\n      elastic: false,\n      itemSizeFunc: this._itemWidth.bind(this),\n      onStart: function onStart(args) {\n        return _this2._swipeStartHandler(args.event);\n      },\n      onUpdated: function onUpdated(args) {\n        return _this2._swipeUpdateHandler(args.event);\n      },\n      onEnd: function onEnd(args) {\n        return _this2._swipeEndHandler(args.event);\n      }\n    });\n  },\n  _swipeStartHandler: function _swipeStartHandler(e) {\n    animation.complete(this._$itemContainer);\n    var selectedIndex = this.option(\"selectedIndex\");\n    var loop = this.option(\"loop\");\n    var lastIndex = this._itemsCount() - 1;\n    var rtl = this.option(\"rtlEnabled\");\n    e.maxLeftOffset = toNumber(loop || (rtl ? selectedIndex > 0 : selectedIndex < lastIndex));\n    e.maxRightOffset = toNumber(loop || (rtl ? selectedIndex < lastIndex : selectedIndex > 0));\n    this._swipeDirection = null;\n  },\n  _swipeUpdateHandler: function _swipeUpdateHandler(e) {\n    var offset = e.offset;\n\n    var swipeDirection = _math2.default.sign(offset) * this._getRTLSignCorrection();\n\n    _translator.move(this._$itemContainer, offset * this._itemWidth());\n\n    if (swipeDirection !== this._swipeDirection) {\n      this._swipeDirection = swipeDirection;\n      var selectedIndex = this.option(\"selectedIndex\");\n\n      var newIndex = this._normalizeIndex(selectedIndex - swipeDirection);\n\n      this._updateItems(selectedIndex, newIndex);\n    }\n  },\n  _swipeEndHandler: function _swipeEndHandler(e) {\n    var targetOffset = e.targetOffset * this._getRTLSignCorrection();\n\n    if (targetOffset) {\n      this.option(\"selectedIndex\", this._normalizeIndex(this.option(\"selectedIndex\") - targetOffset));\n      var $selectedElement = this.itemElements().filter(\".dx-item-selected\");\n      this.option(\"focusStateEnabled\") && this.option(\"focusedElement\", (0, _dom.getPublicElement)($selectedElement));\n    } else {\n      this._animateItemContainer(0, _common.noop);\n    }\n  },\n  _getItemFocusLoopSignCorrection: function _getItemFocusLoopSignCorrection() {\n    return this._itemFocusLooped ? -1 : 1;\n  },\n  _moveFocus: function _moveFocus() {\n    this.callBase.apply(this, arguments);\n    this._itemFocusLooped = false;\n  },\n  _prevItem: function _prevItem($items) {\n    var $result = this.callBase.apply(this, arguments);\n    this._itemFocusLooped = $result.is($items.last());\n    return $result;\n  },\n  _nextItem: function _nextItem($items) {\n    var $result = this.callBase.apply(this, arguments);\n    this._itemFocusLooped = $result.is($items.first());\n    return $result;\n  },\n  _dimensionChanged: function _dimensionChanged() {\n    this._clearItemWidthCache();\n  },\n  _visibilityChanged: function _visibilityChanged(visible) {\n    if (visible) {\n      this._dimensionChanged();\n    }\n  },\n  _updateSwipeDisabledState: function _updateSwipeDisabledState() {\n    var disabled = this._getSwipeDisabledState();\n\n    _swipeable2.default.getInstance(this.$element()).option(\"disabled\", disabled);\n  },\n  _optionChanged: function _optionChanged(args) {\n    var value = args.value;\n\n    switch (args.name) {\n      case \"loop\":\n        this.option(\"loopItemFocus\", value);\n        break;\n\n      case \"animationEnabled\":\n        break;\n\n      case \"swipeEnabled\":\n        this._updateSwipeDisabledState();\n\n        break;\n\n      case \"deferRendering\":\n        this._invalidate();\n\n        break;\n\n      case \"items\":\n        this._updateSwipeDisabledState();\n\n        this.callBase(args);\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n});\n\n(0, _component_registrator2.default)(\"dxMultiView\", MultiView);\nmodule.exports = MultiView;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/multi_view.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_fx","_fx2","_translator2","_translator3","_math","_math2","_extend","_common","_dom","_type","_devices","_devices2","_component_registrator","_component_registrator2","_uiCollection_widget","_uiCollection_widget2","_swipeable","_swipeable2","_deferred","obj","MULTIVIEW_CLASS","MULTIVIEW_WRAPPER_CLASS","MULTIVIEW_ITEM_CONTAINER_CLASS","MULTIVIEW_ITEM_CLASS","MULTIVIEW_ITEM_HIDDEN_CLASS","MULTIVIEW_ITEM_DATA_KEY","MULTIVIEW_ANIMATION_DURATION","toNumber","position","_translator","move","left","animation","moveTo","type","to","duration","complete","completeAction","MultiView","_activeStateUnit","_supportedKeys","pageUp","pageDown","noop","_getDefaultOptions","selectedIndex","swipeEnabled","animationEnabled","loop","deferRendering","_itemAttributes","role","loopItemFocus","selectOnFocus","selectionMode","selectionRequired","selectionByClick","_defaultOptionsRules","device","options","focusStateEnabled","_itemClass","_itemDataKey","_itemContainer","_itemElements","_itemWidth","_clearItemWidthCache","_itemsCount","_normalizeIndex","count","index","_getRTLSignCorrection","_init","$element","_initMarkup","selectedItemIndices","_afterItemElementDeleted","deletedActionArgs","_beforeItemElementInserted","change","_executeItemRenderAction","_renderItemContent","renderContentDeferred","that","callBase","deferred","$itemContent","args","_render","_this","_updateItems","_modifyByChanges","_updateItemsPosition","$itemElements","positionSign","$selectedItem","_updateItemsVisibility","$item","isHidden","itemIndex","_renderSpecificItem","hasItemContent","_refreshItem","_setAriaSelected","_updateSelection","newIndex","addedSelection","prevIndex","removedSelection","animationDirection","_animateItemContainer","_animationDirection","containerPosition","indexDifference","isSwipePresent","directionSignVariable","_getSwipeDisabledState","_initSwipeable","_this2","disabled","elastic","itemSizeFunc","onStart","onUpdated","onEnd","_swipeStartHandler","lastIndex","rtl","e","_swipeUpdateHandler","offset","swipeDirection","_swipeEndHandler","targetOffset","$selectedElement","_getItemFocusLoopSignCorrection","_moveFocus","_prevItem","$result","$items","_nextItem","_dimensionChanged","_visibilityChanged","_updateSwipeDisabledState","_optionChanged","value","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/multi_view.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _fx = require(\"../animation/fx\");\r\nvar _fx2 = _interopRequireDefault(_fx);\r\nvar _translator2 = require(\"../animation/translator\");\r\nvar _translator3 = _interopRequireDefault(_translator2);\r\nvar _math = require(\"../core/utils/math\");\r\nvar _math2 = _interopRequireDefault(_math);\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _common = require(\"../core/utils/common\");\r\nvar _dom = require(\"../core/utils/dom\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _devices = require(\"../core/devices\");\r\nvar _devices2 = _interopRequireDefault(_devices);\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.live_update\");\r\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\r\nvar _swipeable = require(\"../events/gesture/swipeable\");\r\nvar _swipeable2 = _interopRequireDefault(_swipeable);\r\nvar _deferred = require(\"../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar MULTIVIEW_CLASS = \"dx-multiview\";\r\nvar MULTIVIEW_WRAPPER_CLASS = \"dx-multiview-wrapper\";\r\nvar MULTIVIEW_ITEM_CONTAINER_CLASS = \"dx-multiview-item-container\";\r\nvar MULTIVIEW_ITEM_CLASS = \"dx-multiview-item\";\r\nvar MULTIVIEW_ITEM_HIDDEN_CLASS = \"dx-multiview-item-hidden\";\r\nvar MULTIVIEW_ITEM_DATA_KEY = \"dxMultiViewItemData\";\r\nvar MULTIVIEW_ANIMATION_DURATION = 200;\r\nvar toNumber = function(value) {\r\n    return +value\r\n};\r\nvar position = function($element) {\r\n    return _translator3.default.locate($element).left\r\n};\r\nvar _translator = {\r\n    move: function($element, position) {\r\n        _translator3.default.move($element, {\r\n            left: position\r\n        })\r\n    }\r\n};\r\nvar animation = {\r\n    moveTo: function($element, position, duration, completeAction) {\r\n        _fx2.default.animate($element, {\r\n            type: \"slide\",\r\n            to: {\r\n                left: position\r\n            },\r\n            duration: duration,\r\n            complete: completeAction\r\n        })\r\n    },\r\n    complete: function($element) {\r\n        _fx2.default.stop($element, true)\r\n    }\r\n};\r\nvar MultiView = _uiCollection_widget2.default.inherit({\r\n    _activeStateUnit: \".\" + MULTIVIEW_ITEM_CLASS,\r\n    _supportedKeys: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            pageUp: _common.noop,\r\n            pageDown: _common.noop\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            selectedIndex: 0,\r\n            swipeEnabled: true,\r\n            animationEnabled: true,\r\n            loop: false,\r\n            deferRendering: true,\r\n            _itemAttributes: {\r\n                role: \"tabpanel\"\r\n            },\r\n            loopItemFocus: false,\r\n            selectOnFocus: true,\r\n            selectionMode: \"single\",\r\n            selectionRequired: true,\r\n            selectionByClick: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _itemClass: function() {\r\n        return MULTIVIEW_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return MULTIVIEW_ITEM_DATA_KEY\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$itemContainer\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    },\r\n    _itemWidth: function() {\r\n        if (!this._itemWidthValue) {\r\n            this._itemWidthValue = this._$wrapper.width()\r\n        }\r\n        return this._itemWidthValue\r\n    },\r\n    _clearItemWidthCache: function() {\r\n        delete this._itemWidthValue\r\n    },\r\n    _itemsCount: function() {\r\n        return this.option(\"items\").length\r\n    },\r\n    _normalizeIndex: function(index) {\r\n        var count = this._itemsCount();\r\n        if (index < 0) {\r\n            index += count\r\n        }\r\n        if (index >= count) {\r\n            index -= count\r\n        }\r\n        return index\r\n    },\r\n    _getRTLSignCorrection: function() {\r\n        return this.option(\"rtlEnabled\") ? -1 : 1\r\n    },\r\n    _init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var $element = this.$element();\r\n        $element.addClass(MULTIVIEW_CLASS);\r\n        this._$wrapper = (0, _renderer2.default)(\"<div>\").addClass(MULTIVIEW_WRAPPER_CLASS);\r\n        this._$wrapper.appendTo($element);\r\n        this._$itemContainer = (0, _renderer2.default)(\"<div>\").addClass(MULTIVIEW_ITEM_CONTAINER_CLASS);\r\n        this._$itemContainer.appendTo(this._$wrapper);\r\n        this.option(\"loopItemFocus\", this.option(\"loop\"));\r\n        this._initSwipeable()\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredItems = [];\r\n        this.callBase();\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _afterItemElementDeleted: function($item, deletedActionArgs) {\r\n        this.callBase($item, deletedActionArgs);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(deletedActionArgs.itemIndex, 1)\r\n        }\r\n    },\r\n    _beforeItemElementInserted: function(change) {\r\n        this.callBase.apply(this, arguments);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(change.index, 0, null)\r\n        }\r\n    },\r\n    _executeItemRenderAction: function(index, itemData, itemElement) {\r\n        index = (this.option(\"items\") || []).indexOf(itemData);\r\n        this.callBase(index, itemData, itemElement)\r\n    },\r\n    _renderItemContent: function(args) {\r\n        var renderContentDeferred = new _deferred.Deferred;\r\n        var that = this;\r\n        var callBase = this.callBase;\r\n        var deferred = new _deferred.Deferred;\r\n        deferred.done(function() {\r\n            var $itemContent = callBase.call(that, args);\r\n            renderContentDeferred.resolve($itemContent)\r\n        });\r\n        this._deferredItems[args.index] = deferred;\r\n        this.option(\"deferRendering\") || deferred.resolve();\r\n        return renderContentDeferred.promise()\r\n    },\r\n    _render: function() {\r\n        var _this = this;\r\n        this.callBase();\r\n        (0, _common.deferRender)(function() {\r\n            var selectedItemIndices = _this._getSelectedItemIndices();\r\n            _this._updateItems(selectedItemIndices[0])\r\n        })\r\n    },\r\n    _updateItems: function(selectedIndex, newIndex) {\r\n        this._updateItemsPosition(selectedIndex, newIndex);\r\n        this._updateItemsVisibility(selectedIndex, newIndex)\r\n    },\r\n    _modifyByChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _updateItemsPosition: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        var positionSign = (0, _type.isDefined)(newIndex) ? -this._animationDirection(newIndex, selectedIndex) : void 0;\r\n        var $selectedItem = $itemElements.eq(selectedIndex);\r\n        _translator.move($selectedItem, 0);\r\n        if ((0, _type.isDefined)(newIndex)) {\r\n            _translator.move($itemElements.eq(newIndex), 100 * positionSign + \"%\")\r\n        }\r\n    },\r\n    _updateItemsVisibility: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        $itemElements.each(function(itemIndex, item) {\r\n            var $item = (0, _renderer2.default)(item);\r\n            var isHidden = itemIndex !== selectedIndex && itemIndex !== newIndex;\r\n            if (!isHidden) {\r\n                this._renderSpecificItem(itemIndex)\r\n            }\r\n            $item.toggleClass(MULTIVIEW_ITEM_HIDDEN_CLASS, isHidden);\r\n            this.setAria(\"hidden\", isHidden || void 0, $item)\r\n        }.bind(this))\r\n    },\r\n    _renderSpecificItem: function(index) {\r\n        var $item = this._itemElements().eq(index);\r\n        var hasItemContent = $item.find(this._itemContentClass()).length > 0;\r\n        if ((0, _type.isDefined)(index) && !hasItemContent) {\r\n            this._deferredItems[index].resolve();\r\n            (0, _dom.triggerResizeEvent)($item)\r\n        }\r\n    },\r\n    _refreshItem: function($item, item) {\r\n        this.callBase($item, item);\r\n        this._updateItemsVisibility(this.option(\"selectedIndex\"))\r\n    },\r\n    _setAriaSelected: _common.noop,\r\n    _updateSelection: function(addedSelection, removedSelection) {\r\n        var newIndex = addedSelection[0];\r\n        var prevIndex = removedSelection[0];\r\n        animation.complete(this._$itemContainer);\r\n        this._updateItems(prevIndex, newIndex);\r\n        var animationDirection = this._animationDirection(newIndex, prevIndex);\r\n        this._animateItemContainer(animationDirection * this._itemWidth(), function() {\r\n            _translator.move(this._$itemContainer, 0);\r\n            this._updateItems(newIndex);\r\n            this._$itemContainer.width()\r\n        }.bind(this))\r\n    },\r\n    _animateItemContainer: function(position, completeCallback) {\r\n        var duration = this.option(\"animationEnabled\") ? MULTIVIEW_ANIMATION_DURATION : 0;\r\n        animation.moveTo(this._$itemContainer, position, duration, completeCallback)\r\n    },\r\n    _animationDirection: function(newIndex, prevIndex) {\r\n        var containerPosition = position(this._$itemContainer);\r\n        var indexDifference = (prevIndex - newIndex) * this._getRTLSignCorrection() * this._getItemFocusLoopSignCorrection();\r\n        var isSwipePresent = 0 !== containerPosition;\r\n        var directionSignVariable = isSwipePresent ? containerPosition : indexDifference;\r\n        return _math2.default.sign(directionSignVariable)\r\n    },\r\n    _getSwipeDisabledState: function() {\r\n        return !this.option(\"swipeEnabled\") || this._itemsCount() <= 1\r\n    },\r\n    _initSwipeable: function() {\r\n        var _this2 = this;\r\n        this._createComponent(this.$element(), _swipeable2.default, {\r\n            disabled: this._getSwipeDisabledState(),\r\n            elastic: false,\r\n            itemSizeFunc: this._itemWidth.bind(this),\r\n            onStart: function(args) {\r\n                return _this2._swipeStartHandler(args.event)\r\n            },\r\n            onUpdated: function(args) {\r\n                return _this2._swipeUpdateHandler(args.event)\r\n            },\r\n            onEnd: function(args) {\r\n                return _this2._swipeEndHandler(args.event)\r\n            }\r\n        })\r\n    },\r\n    _swipeStartHandler: function(e) {\r\n        animation.complete(this._$itemContainer);\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var loop = this.option(\"loop\");\r\n        var lastIndex = this._itemsCount() - 1;\r\n        var rtl = this.option(\"rtlEnabled\");\r\n        e.maxLeftOffset = toNumber(loop || (rtl ? selectedIndex > 0 : selectedIndex < lastIndex));\r\n        e.maxRightOffset = toNumber(loop || (rtl ? selectedIndex < lastIndex : selectedIndex > 0));\r\n        this._swipeDirection = null\r\n    },\r\n    _swipeUpdateHandler: function(e) {\r\n        var offset = e.offset;\r\n        var swipeDirection = _math2.default.sign(offset) * this._getRTLSignCorrection();\r\n        _translator.move(this._$itemContainer, offset * this._itemWidth());\r\n        if (swipeDirection !== this._swipeDirection) {\r\n            this._swipeDirection = swipeDirection;\r\n            var selectedIndex = this.option(\"selectedIndex\");\r\n            var newIndex = this._normalizeIndex(selectedIndex - swipeDirection);\r\n            this._updateItems(selectedIndex, newIndex)\r\n        }\r\n    },\r\n    _swipeEndHandler: function(e) {\r\n        var targetOffset = e.targetOffset * this._getRTLSignCorrection();\r\n        if (targetOffset) {\r\n            this.option(\"selectedIndex\", this._normalizeIndex(this.option(\"selectedIndex\") - targetOffset));\r\n            var $selectedElement = this.itemElements().filter(\".dx-item-selected\");\r\n            this.option(\"focusStateEnabled\") && this.option(\"focusedElement\", (0, _dom.getPublicElement)($selectedElement))\r\n        } else {\r\n            this._animateItemContainer(0, _common.noop)\r\n        }\r\n    },\r\n    _getItemFocusLoopSignCorrection: function() {\r\n        return this._itemFocusLooped ? -1 : 1\r\n    },\r\n    _moveFocus: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = false\r\n    },\r\n    _prevItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.last());\r\n        return $result\r\n    },\r\n    _nextItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.first());\r\n        return $result\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._clearItemWidthCache()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _updateSwipeDisabledState: function() {\r\n        var disabled = this._getSwipeDisabledState();\r\n        _swipeable2.default.getInstance(this.$element()).option(\"disabled\", disabled)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"loop\":\r\n                this.option(\"loopItemFocus\", value);\r\n                break;\r\n            case \"animationEnabled\":\r\n                break;\r\n            case \"swipeEnabled\":\r\n                this._updateSwipeDisabledState();\r\n                break;\r\n            case \"deferRendering\":\r\n                this._invalidate();\r\n                break;\r\n            case \"items\":\r\n                this._updateSwipeDisabledState();\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\n(0, _component_registrator2.default)(\"dxMultiView\", MultiView);\r\nmodule.exports = MultiView;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"module"}