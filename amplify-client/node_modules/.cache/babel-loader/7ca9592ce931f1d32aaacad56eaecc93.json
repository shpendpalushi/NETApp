{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/ui.scheduler.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _callbacks = require(\"../../core/utils/callbacks\");\n\nvar _callbacks2 = _interopRequireDefault(_callbacks);\n\nvar _translator = require(\"../../animation/translator\");\n\nvar _translator2 = _interopRequireDefault(_translator);\n\nvar _ui = require(\"../widget/ui.errors\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _dialog = require(\"../dialog\");\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nvar _utils = require(\"./utils.recurrence\");\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _dom = require(\"../../core/utils/dom\");\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _date = require(\"../../core/utils/date\");\n\nvar _date2 = _interopRequireDefault(_date);\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _array = require(\"../../core/utils/array\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _type2 = _interopRequireDefault(_type);\n\nvar _devices = require(\"../../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _config = require(\"../../core/config\");\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _data = require(\"../../core/utils/data\");\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _component_registrator = require(\"../../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _message = require(\"../../localization/message\");\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _date_serialization = require(\"../../core/utils/date_serialization\");\n\nvar _date_serialization2 = _interopRequireDefault(_date_serialization);\n\nvar _date3 = require(\"../../localization/date\");\n\nvar _date4 = _interopRequireDefault(_date3);\n\nvar _ui3 = require(\"../widget/ui.widget\");\n\nvar _ui4 = _interopRequireDefault(_ui3);\n\nvar _uiScheduler = require(\"./ui.scheduler.subscribes\");\n\nvar _uiScheduler2 = _interopRequireDefault(_uiScheduler);\n\nvar _desktopTooltipStrategy = require(\"./tooltip_strategies/desktopTooltipStrategy\");\n\nvar _mobileTooltipStrategy = require(\"./tooltip_strategies/mobileTooltipStrategy\");\n\nvar _appointmentPopup = require(\"./appointmentPopup\");\n\nvar _appointmentPopup2 = _interopRequireDefault(_appointmentPopup);\n\nvar _uiScheduler3 = require(\"./ui.scheduler.header\");\n\nvar _uiScheduler4 = _interopRequireDefault(_uiScheduler3);\n\nvar _uiScheduler5 = require(\"./workspaces/ui.scheduler.work_space_day\");\n\nvar _uiScheduler6 = _interopRequireDefault(_uiScheduler5);\n\nvar _uiScheduler7 = require(\"./workspaces/ui.scheduler.work_space_week\");\n\nvar _uiScheduler8 = _interopRequireDefault(_uiScheduler7);\n\nvar _uiScheduler9 = require(\"./workspaces/ui.scheduler.work_space_work_week\");\n\nvar _uiScheduler10 = _interopRequireDefault(_uiScheduler9);\n\nvar _uiScheduler11 = require(\"./workspaces/ui.scheduler.work_space_month\");\n\nvar _uiScheduler12 = _interopRequireDefault(_uiScheduler11);\n\nvar _uiScheduler13 = require(\"./workspaces/ui.scheduler.timeline_day\");\n\nvar _uiScheduler14 = _interopRequireDefault(_uiScheduler13);\n\nvar _uiScheduler15 = require(\"./workspaces/ui.scheduler.timeline_week\");\n\nvar _uiScheduler16 = _interopRequireDefault(_uiScheduler15);\n\nvar _uiScheduler17 = require(\"./workspaces/ui.scheduler.timeline_work_week\");\n\nvar _uiScheduler18 = _interopRequireDefault(_uiScheduler17);\n\nvar _uiScheduler19 = require(\"./workspaces/ui.scheduler.timeline_month\");\n\nvar _uiScheduler20 = _interopRequireDefault(_uiScheduler19);\n\nvar _uiScheduler21 = require(\"./workspaces/ui.scheduler.agenda\");\n\nvar _uiScheduler22 = _interopRequireDefault(_uiScheduler21);\n\nvar _uiScheduler23 = require(\"./ui.scheduler.resource_manager\");\n\nvar _uiScheduler24 = _interopRequireDefault(_uiScheduler23);\n\nvar _uiScheduler25 = require(\"./ui.scheduler.appointment_model\");\n\nvar _uiScheduler26 = _interopRequireDefault(_uiScheduler25);\n\nvar _uiScheduler27 = require(\"./ui.scheduler.appointments\");\n\nvar _uiScheduler28 = _interopRequireDefault(_uiScheduler27);\n\nvar _uiSchedulerAppointments = require(\"./ui.scheduler.appointments.layout_manager\");\n\nvar _uiSchedulerAppointments2 = _interopRequireDefault(_uiSchedulerAppointments);\n\nvar _compactAppointmentsHelper = require(\"./compactAppointmentsHelper\");\n\nvar _uiScheduler29 = require(\"./timezones/ui.scheduler.timezones\");\n\nvar _uiScheduler30 = _interopRequireDefault(_uiScheduler29);\n\nvar _async_template_mixin = require(\"../shared/async_template_mixin\");\n\nvar _async_template_mixin2 = _interopRequireDefault(_async_template_mixin);\n\nvar _data_helper = require(\"../../data_helper\");\n\nvar _data_helper2 = _interopRequireDefault(_data_helper);\n\nvar _ui5 = require(\"./ui.loading\");\n\nvar _ui6 = _interopRequireDefault(_ui5);\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _deferred2 = _interopRequireDefault(_deferred);\n\nvar _empty_template = require(\"../../core/templates/empty_template\");\n\nvar _bindable_template = require(\"../../core/templates/bindable_template\");\n\nvar _themes = require(\"../themes\");\n\nvar _themes2 = _interopRequireDefault(_themes);\n\nvar _browser = require(\"../../core/utils/browser\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nvar _support = require(\"../../core/utils/support\");\n\nvar _utils3 = require(\"./utils\");\n\nvar _utils4 = _interopRequireDefault(_utils3);\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar when = _deferred2.default.when;\nvar Deferred = _deferred2.default.Deferred;\nvar toMs = _date2.default.dateToMilliseconds;\nvar WIDGET_CLASS = \"dx-scheduler\";\nvar WIDGET_SMALL_CLASS = \"\".concat(WIDGET_CLASS, \"-small\");\nvar WIDGET_ADAPTIVE_CLASS = \"\".concat(WIDGET_CLASS, \"-adaptive\");\nvar WIDGET_WIN_NO_TOUCH_CLASS = \"\".concat(WIDGET_CLASS, \"-win-no-touch\");\nvar WIDGET_READONLY_CLASS = \"\".concat(WIDGET_CLASS, \"-readonly\");\nvar RECURRENCE_EDITOR_ITEM_CLASS = \"\".concat(WIDGET_CLASS, \"-recurrence-rule-item\");\nvar RECURRENCE_EDITOR_OPENED_ITEM_CLASS = \"\".concat(WIDGET_CLASS, \"-recurrence-rule-item-opened\");\nvar WIDGET_SMALL_WIDTH = 400;\nvar FULL_DATE_FORMAT = \"yyyyMMddTHHmmss\";\nvar UTC_FULL_DATE_FORMAT = FULL_DATE_FORMAT + \"Z\";\nvar VIEWS_CONFIG = {\n  day: {\n    workSpace: _uiScheduler6.default,\n    renderingStrategy: \"vertical\"\n  },\n  week: {\n    workSpace: _uiScheduler8.default,\n    renderingStrategy: \"vertical\"\n  },\n  workWeek: {\n    workSpace: _uiScheduler10.default,\n    renderingStrategy: \"vertical\"\n  },\n  month: {\n    workSpace: _uiScheduler12.default,\n    renderingStrategy: \"horizontalMonth\"\n  },\n  timelineDay: {\n    workSpace: _uiScheduler14.default,\n    renderingStrategy: \"horizontal\"\n  },\n  timelineWeek: {\n    workSpace: _uiScheduler16.default,\n    renderingStrategy: \"horizontal\"\n  },\n  timelineWorkWeek: {\n    workSpace: _uiScheduler18.default,\n    renderingStrategy: \"horizontal\"\n  },\n  timelineMonth: {\n    workSpace: _uiScheduler20.default,\n    renderingStrategy: \"horizontalMonthLine\"\n  },\n  agenda: {\n    workSpace: _uiScheduler22.default,\n    renderingStrategy: \"agenda\"\n  }\n};\n\nvar Scheduler = _ui4.default.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      views: [\"day\", \"week\"],\n      currentView: \"day\",\n      currentDate: _date2.default.trimTime(new Date()),\n      min: void 0,\n      max: void 0,\n      dateSerializationFormat: void 0,\n      firstDayOfWeek: void 0,\n      groups: [],\n      resources: [],\n      dataSource: null,\n      customizeDateNavigatorText: void 0,\n      appointmentTemplate: \"item\",\n      dropDownAppointmentTemplate: \"dropDownAppointment\",\n      appointmentCollectorTemplate: \"appointmentCollector\",\n      dataCellTemplate: null,\n      timeCellTemplate: null,\n      resourceCellTemplate: null,\n      dateCellTemplate: null,\n      startDayHour: 0,\n      endDayHour: 24,\n      editing: {\n        allowAdding: true,\n        allowDeleting: true,\n        allowDragging: true,\n        allowResizing: true,\n        allowUpdating: true\n      },\n      showAllDayPanel: true,\n      showCurrentTimeIndicator: true,\n      shadeUntilCurrentTime: false,\n      indicatorUpdateInterval: 3e5,\n      indicatorTime: void 0,\n      recurrenceEditMode: \"dialog\",\n      cellDuration: 30,\n      maxAppointmentsPerCell: \"auto\",\n      selectedCellData: [],\n      groupByDate: false,\n      onAppointmentRendered: null,\n      onAppointmentClick: null,\n      onAppointmentDblClick: null,\n      onAppointmentContextMenu: null,\n      onCellClick: null,\n      onCellContextMenu: null,\n      onAppointmentAdding: null,\n      onAppointmentAdded: null,\n      onAppointmentUpdating: null,\n      onAppointmentUpdated: null,\n      onAppointmentDeleting: null,\n      onAppointmentDeleted: null,\n      onAppointmentFormOpening: null,\n      appointmentTooltipTemplate: \"appointmentTooltip\",\n      appointmentPopupTemplate: \"appointmentPopup\",\n      crossScrollingEnabled: false,\n      useDropDownViewSwitcher: false,\n      startDateExpr: \"startDate\",\n      endDateExpr: \"endDate\",\n      textExpr: \"text\",\n      descriptionExpr: \"description\",\n      allDayExpr: \"allDay\",\n      recurrenceRuleExpr: \"recurrenceRule\",\n      recurrenceExceptionExpr: \"recurrenceException\",\n      remoteFiltering: false,\n      timeZone: \"\",\n      startDateTimeZoneExpr: \"startDateTimeZone\",\n      endDateTimeZoneExpr: \"endDateTimeZone\",\n      noDataText: _message2.default.format(\"dxCollectionWidget-noDataText\"),\n      adaptivityEnabled: false,\n      allowMultipleCellSelection: true,\n      _appointmentTooltipOffset: {\n        x: 0,\n        y: 0\n      },\n      _appointmentTooltipButtonsPosition: \"bottom\",\n      _appointmentTooltipOpenButtonText: _message2.default.format(\"dxScheduler-openAppointment\"),\n      _dropDownButtonIcon: \"overflow\",\n      _appointmentCountPerCell: 2,\n      _collectorOffset: 0,\n      _appointmentOffset: 26\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device() {\n        return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function device() {\n        return !_devices2.default.current().generic;\n      },\n      options: {\n        useDropDownViewSwitcher: true,\n        editing: {\n          allowDragging: false,\n          allowResizing: false\n        }\n      }\n    }, {\n      device: function device() {\n        return _themes2.default.isMaterial();\n      },\n      options: {\n        useDropDownViewSwitcher: true,\n        dateCellTemplate: function dateCellTemplate(data, index, element) {\n          var text = data.text;\n          text.split(\" \").forEach(function (text, index) {\n            var span = (0, _renderer2.default)(\"<span>\").text(text).addClass(\"dx-scheduler-header-panel-cell-date\");\n            (0, _renderer2.default)(element).append(span);\n\n            if (!index) {\n              (0, _renderer2.default)(element).append(\" \");\n            }\n          });\n        },\n        _appointmentTooltipOffset: {\n          x: 0,\n          y: 11\n        },\n        _appointmentTooltipButtonsPosition: \"top\",\n        _appointmentTooltipOpenButtonText: null,\n        _dropDownButtonIcon: \"chevrondown\",\n        _appointmentCountPerCell: 1,\n        _collectorOffset: 20,\n        _appointmentOffset: 30\n      }\n    }]);\n  },\n  _setDeprecatedOptions: function _setDeprecatedOptions() {\n    this.callBase();\n    (0, _extend.extend)(this._deprecatedOptions, {\n      onAppointmentFormCreated: {\n        since: \"18.2\",\n        alias: \"onAppointmentFormOpening\"\n      },\n      dropDownAppointmentTemplate: {\n        since: \"19.2\",\n        message: \"appointmentTooltipTemplate\"\n      }\n    });\n  },\n  _postponeDataSourceLoading: function _postponeDataSourceLoading(promise) {\n    this.postponedOperations.add(\"_reloadDataSource\", this._reloadDataSource.bind(this), promise);\n  },\n  _postponeResourceLoading: function _postponeResourceLoading() {\n    var _this = this;\n\n    var whenLoaded = this.postponedOperations.add(\"_loadResources\", function () {\n      return _this._loadResources();\n    });\n    var resolveCallbacks = new Deferred();\n    whenLoaded.done(function (resources) {\n      resolveCallbacks.resolve(resources);\n    });\n\n    this._postponeDataSourceLoading(whenLoaded);\n\n    return resolveCallbacks.promise();\n  },\n  _optionChanged: function _optionChanged(args) {\n    var _this2 = this;\n\n    var value = args.value;\n    var name = args.name;\n\n    switch (args.name) {\n      case \"customizeDateNavigatorText\":\n        this._updateOption(\"header\", name, value);\n\n        break;\n\n      case \"firstDayOfWeek\":\n        this._updateOption(\"workSpace\", name, value);\n\n        this._updateOption(\"header\", name, value);\n\n        break;\n\n      case \"currentDate\":\n        value = this._dateOption(name);\n        value = _date2.default.trimTime(new Date(value));\n        this.option(\"selectedCellData\", []);\n\n        this._workSpace.option(name, new Date(value));\n\n        this._header.option(name, new Date(value));\n\n        this._header.option(\"displayedDate\", this._workSpace._getViewStartByOptions());\n\n        this._appointments.option(\"items\", []);\n\n        this._filterAppointmentsByDate();\n\n        this._postponeDataSourceLoading();\n\n        break;\n\n      case \"dataSource\":\n        this._initDataSource();\n\n        this._customizeStoreLoadOptions();\n\n        this._appointmentModel.setDataSource(this._dataSource);\n\n        this._postponeResourceLoading().done(function (resources) {\n          _this2._filterAppointmentsByDate();\n\n          _this2._updateOption(\"workSpace\", \"showAllDayPanel\", _this2.option(\"showAllDayPanel\"));\n        });\n\n        break;\n\n      case \"min\":\n      case \"max\":\n        value = this._dateOption(name);\n\n        this._updateOption(\"header\", name, new Date(value));\n\n        this._updateOption(\"workSpace\", name, new Date(value));\n\n        break;\n\n      case \"views\":\n        this._processCurrentView();\n\n        if (this._getCurrentViewOptions()) {\n          this.repaint();\n        } else {\n          this._header.option(name, value);\n        }\n\n        break;\n\n      case \"useDropDownViewSwitcher\":\n        this._header.option(name, value);\n\n        break;\n\n      case \"currentView\":\n        this._processCurrentView();\n\n        this.getLayoutManager().initRenderingStrategy(this._getAppointmentsRenderingStrategy());\n\n        this._appointments.option({\n          items: [],\n          allowDrag: this._allowDragging(),\n          allowResize: this._allowResizing(),\n          itemTemplate: this._getAppointmentTemplate(\"appointmentTemplate\")\n        });\n\n        this._postponeResourceLoading().done(function (resources) {\n          _this2._refreshWorkSpace(resources);\n\n          _this2._updateHeader();\n\n          _this2._filterAppointmentsByDate();\n\n          _this2._appointments.option(\"allowAllDayResize\", \"day\" !== value);\n        });\n\n        break;\n\n      case \"appointmentTemplate\":\n        this._appointments.option(\"itemTemplate\", value);\n\n        break;\n\n      case \"dateCellTemplate\":\n      case \"resourceCellTemplate\":\n      case \"dataCellTemplate\":\n      case \"timeCellTemplate\":\n        this._updateOption(\"workSpace\", name, value);\n\n        this.repaint();\n        break;\n\n      case \"groups\":\n        this._postponeResourceLoading().done(function (resources) {\n          _this2._refreshWorkSpace(resources);\n\n          _this2._filterAppointmentsByDate();\n        });\n\n        break;\n\n      case \"resources\":\n        this._resourcesManager.setResources(this.option(\"resources\"));\n\n        this._appointmentModel.setDataAccessors(this._combineDataAccessors());\n\n        this._postponeResourceLoading().done(function (resources) {\n          _this2._appointments.option(\"items\", []);\n\n          _this2._refreshWorkSpace(resources);\n\n          _this2._filterAppointmentsByDate();\n        });\n\n        break;\n\n      case \"startDayHour\":\n      case \"endDayHour\":\n        this._appointments.option(\"items\", []);\n\n        this._updateOption(\"workSpace\", name, value);\n\n        this._appointments.repaint();\n\n        this._filterAppointmentsByDate();\n\n        this._postponeDataSourceLoading();\n\n        break;\n\n      case \"onAppointmentAdding\":\n      case \"onAppointmentAdded\":\n      case \"onAppointmentUpdating\":\n      case \"onAppointmentUpdated\":\n      case \"onAppointmentDeleting\":\n      case \"onAppointmentDeleted\":\n      case \"onAppointmentFormOpening\":\n        this._actions[name] = this._createActionByOption(name);\n        break;\n\n      case \"onAppointmentRendered\":\n        this._appointments.option(\"onItemRendered\", this._getAppointmentRenderedAction());\n\n        break;\n\n      case \"onAppointmentClick\":\n        this._appointments.option(\"onItemClick\", this._createActionByOption(name));\n\n        break;\n\n      case \"onAppointmentDblClick\":\n        this._appointments.option(name, this._createActionByOption(name));\n\n        break;\n\n      case \"onAppointmentContextMenu\":\n        this._appointments.option(\"onItemContextMenu\", this._createActionByOption(name));\n\n        break;\n\n      case \"noDataText\":\n      case \"allowMultipleCellSelection\":\n      case \"selectedCellData\":\n      case \"accessKey\":\n      case \"onCellClick\":\n        this._workSpace.option(name, value);\n\n        break;\n\n      case \"onCellContextMenu\":\n        this._workSpace.option(name, value);\n\n        break;\n\n      case \"crossScrollingEnabled\":\n        this._postponeResourceLoading().done(function (resources) {\n          _this2._appointments.option(\"items\", []);\n\n          _this2._refreshWorkSpace(resources);\n\n          if (_this2._readyToRenderAppointments) {\n            _this2._appointments.option(\"items\", _this2._getAppointmentsToRepaint());\n          }\n        });\n\n        break;\n\n      case \"cellDuration\":\n        this._appointments.option(\"items\", []);\n\n        if (this._readyToRenderAppointments) {\n          this._updateOption(\"workSpace\", \"hoursInterval\", value / 60);\n\n          this._appointments.option(\"items\", this._getAppointmentsToRepaint());\n        }\n\n        break;\n\n      case \"tabIndex\":\n      case \"focusStateEnabled\":\n        this._updateOption(\"header\", name, value);\n\n        this._updateOption(\"workSpace\", name, value);\n\n        this._appointments.option(name, value);\n\n        this.callBase(args);\n        break;\n\n      case \"width\":\n        this._updateOption(\"header\", name, value);\n\n        if (this.option(\"crossScrollingEnabled\")) {\n          this._updateOption(\"workSpace\", \"width\", value);\n        }\n\n        this.callBase(args);\n\n        this._dimensionChanged();\n\n        break;\n\n      case \"height\":\n        this.callBase(args);\n\n        this._dimensionChanged();\n\n        break;\n\n      case \"editing\":\n        this._initEditing();\n\n        var editing = this._editing;\n\n        this._bringEditingModeToAppointments(editing);\n\n        this.hideAppointmentTooltip();\n\n        this._cleanPopup();\n\n        break;\n\n      case \"showAllDayPanel\":\n        this._postponeResourceLoading().done(function (resources) {\n          _this2._filterAppointmentsByDate();\n\n          _this2._updateOption(\"workSpace\", \"allDayExpanded\", value);\n\n          _this2._updateOption(\"workSpace\", name, value);\n        });\n\n        break;\n\n      case \"showCurrentTimeIndicator\":\n      case \"indicatorTime\":\n      case \"indicatorUpdateInterval\":\n      case \"shadeUntilCurrentTime\":\n      case \"groupByDate\":\n        this._updateOption(\"workSpace\", name, value);\n\n        this.repaint();\n        break;\n\n      case \"appointmentDragging\":\n      case \"appointmentTooltipTemplate\":\n      case \"appointmentPopupTemplate\":\n      case \"recurrenceEditMode\":\n      case \"remoteFiltering\":\n      case \"timeZone\":\n      case \"dropDownAppointmentTemplate\":\n      case \"appointmentCollectorTemplate\":\n      case \"_appointmentTooltipOffset\":\n      case \"_appointmentTooltipButtonsPosition\":\n      case \"_appointmentTooltipOpenButtonText\":\n      case \"_dropDownButtonIcon\":\n      case \"_appointmentCountPerCell\":\n      case \"_collectorOffset\":\n      case \"_appointmentOffset\":\n        this.repaint();\n        break;\n\n      case \"dateSerializationFormat\":\n        break;\n\n      case \"maxAppointmentsPerCell\":\n        break;\n\n      case \"startDateExpr\":\n      case \"endDateExpr\":\n      case \"startDateTimeZoneExpr\":\n      case \"endDateTimeZoneExpr\":\n      case \"textExpr\":\n      case \"descriptionExpr\":\n      case \"allDayExpr\":\n      case \"recurrenceRuleExpr\":\n      case \"recurrenceExceptionExpr\":\n        this._updateExpression(name, value);\n\n        this._appointmentModel.setDataAccessors(this._combineDataAccessors());\n\n        this._initAppointmentTemplate();\n\n        this.repaint();\n        break;\n\n      case \"adaptivityEnabled\":\n        this._toggleAdaptiveClass();\n\n        this.repaint();\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _updateHeader: function _updateHeader() {\n    var viewCountConfig = this._getViewCountConfig();\n\n    this._header.option(\"intervalCount\", viewCountConfig.intervalCount);\n\n    this._header.option(\"displayedDate\", this._workSpace._getViewStartByOptions());\n\n    this._header.option(\"min\", this._dateOption(\"min\"));\n\n    this._header.option(\"max\", this._dateOption(\"max\"));\n\n    this._header.option(\"currentDate\", this._dateOption(\"currentDate\"));\n\n    this._header.option(\"firstDayOfWeek\", this._getCurrentViewOption(\"firstDayOfWeek\"));\n\n    this._header.option(\"currentView\", this._currentView);\n  },\n  _dateOption: function _dateOption(optionName) {\n    var optionValue = this._getCurrentViewOption(optionName);\n\n    return _date_serialization2.default.deserializeDate(optionValue);\n  },\n  _getSerializationFormat: function _getSerializationFormat(optionName) {\n    var value = this._getCurrentViewOption(optionName);\n\n    if (\"number\" === typeof value) {\n      return \"number\";\n    }\n\n    if (!_type2.default.isString(value)) {\n      return;\n    }\n\n    return _date_serialization2.default.getDateSerializationFormat(value);\n  },\n  _bringEditingModeToAppointments: function _bringEditingModeToAppointments(editing) {\n    var editingConfig = {\n      allowDelete: editing.allowUpdating && editing.allowDeleting\n    };\n\n    if (!this._isAgenda()) {\n      editingConfig.allowDrag = editing.allowDragging;\n      editingConfig.allowResize = editing.allowResizing;\n      editingConfig.allowAllDayResize = editing.allowResizing && this._supportAllDayResizing();\n    }\n\n    this._appointments.option(editingConfig);\n\n    this.repaint();\n  },\n  _isAgenda: function _isAgenda() {\n    return \"agenda\" === this._getAppointmentsRenderingStrategy();\n  },\n  _allowDragging: function _allowDragging() {\n    return this._editing.allowDragging && !this._isAgenda();\n  },\n  _allowResizing: function _allowResizing() {\n    return this._editing.allowResizing && !this._isAgenda();\n  },\n  _allowAllDayResizing: function _allowAllDayResizing() {\n    return this._editing.allowResizing && this._supportAllDayResizing();\n  },\n  _supportAllDayResizing: function _supportAllDayResizing() {\n    return \"day\" !== this._getCurrentViewType() || this._currentView.intervalCount > 1;\n  },\n  _isAllDayExpanded: function _isAllDayExpanded(items) {\n    return this.option(\"showAllDayPanel\") && this._appointmentModel.hasAllDayAppointments(items, this._getCurrentViewOption(\"startDayHour\"), this._getCurrentViewOption(\"endDayHour\"));\n  },\n  _getTimezoneOffsetByOption: function _getTimezoneOffsetByOption(date) {\n    return this._calculateTimezoneByValue(this.option(\"timeZone\"), date);\n  },\n  _calculateTimezoneByValue: function _calculateTimezoneByValue(timezone, date) {\n    var result = timezone;\n\n    if (\"string\" === typeof timezone) {\n      date = date || new Date();\n      var dateUtc = Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes());\n      result = _uiScheduler30.default.getTimezoneOffsetById(timezone, dateUtc);\n    }\n\n    return result;\n  },\n  _filterAppointmentsByDate: function _filterAppointmentsByDate() {\n    var dateRange = this._workSpace.getDateRange();\n\n    this._appointmentModel.filterByDate(dateRange[0], dateRange[1], this.option(\"remoteFiltering\"), this.option(\"dateSerializationFormat\"));\n  },\n  _loadResources: function _loadResources() {\n    var groups = this._getCurrentViewOption(\"groups\");\n\n    var result = new Deferred();\n\n    this._resourcesManager.loadResources(groups).done(function (resources) {\n      this._loadedResources = resources;\n      result.resolve(resources);\n    }.bind(this));\n\n    return result.promise();\n  },\n  _dataSourceLoadedCallback: (0, _callbacks2.default)(),\n  _reloadDataSource: function _reloadDataSource() {\n    var result = new Deferred();\n\n    if (this._dataSource) {\n      this._dataSource.load().done(function () {\n        _ui6.default.hide();\n\n        this._fireContentReadyAction(result);\n      }.bind(this)).fail(function () {\n        _ui6.default.hide();\n\n        result.reject();\n      });\n\n      this._dataSource.isLoading() && _ui6.default.show({\n        container: this.$element(),\n        position: {\n          of: this.$element()\n        }\n      });\n    } else {\n      this._fireContentReadyAction(result);\n    }\n\n    return result.promise();\n  },\n  _fireContentReadyAction: function _fireContentReadyAction(result) {\n    this.callBase();\n    result && result.resolve();\n  },\n  _dimensionChanged: function _dimensionChanged() {\n    var filteredItems = this.getFilteredItems();\n\n    this._toggleSmallClass();\n\n    if (!this._isAgenda() && filteredItems && this._isVisible()) {\n      this._workSpace._cleanAllowedPositions();\n\n      this._workSpace.option(\"allDayExpanded\", this._isAllDayExpanded(filteredItems));\n\n      this._workSpace._dimensionChanged();\n\n      var appointments = this._layoutManager.createAppointmentsMap(filteredItems);\n\n      this._appointments.option(\"items\", appointments);\n    }\n\n    this.hideAppointmentTooltip();\n    this.resizePopup();\n\n    this._appointmentPopup.updatePopupFullScreenMode();\n  },\n  _clean: function _clean() {\n    this._cleanPopup();\n\n    this.callBase();\n  },\n  _toggleSmallClass: function _toggleSmallClass() {\n    var width = this.$element().get(0).getBoundingClientRect().width;\n    this.$element().toggleClass(WIDGET_SMALL_CLASS, width < WIDGET_SMALL_WIDTH);\n  },\n  _toggleAdaptiveClass: function _toggleAdaptiveClass() {\n    this.$element().toggleClass(WIDGET_ADAPTIVE_CLASS, this.option(\"adaptivityEnabled\"));\n  },\n  _visibilityChanged: function _visibilityChanged(visible) {\n    visible && this._dimensionChanged();\n  },\n  _dataSourceOptions: function _dataSourceOptions() {\n    return {\n      paginate: false\n    };\n  },\n  _init: function _init() {\n    this._initExpressions({\n      startDate: this.option(\"startDateExpr\"),\n      endDate: this.option(\"endDateExpr\"),\n      startDateTimeZone: this.option(\"startDateTimeZoneExpr\"),\n      endDateTimeZone: this.option(\"endDateTimeZoneExpr\"),\n      allDay: this.option(\"allDayExpr\"),\n      text: this.option(\"textExpr\"),\n      description: this.option(\"descriptionExpr\"),\n      recurrenceRule: this.option(\"recurrenceRuleExpr\"),\n      recurrenceException: this.option(\"recurrenceExceptionExpr\")\n    });\n\n    this.callBase();\n\n    this._initDataSource();\n\n    this._loadedResources = [];\n    this._proxiedCustomizeStoreLoadOptionsHandler = this._customizeStoreLoadOptionsHandler.bind(this);\n\n    this._customizeStoreLoadOptions();\n\n    this.$element().addClass(WIDGET_CLASS).toggleClass(WIDGET_WIN_NO_TOUCH_CLASS, !!(_browser2.default.msie && _support.touch));\n\n    this._initEditing();\n\n    this._resourcesManager = new _uiScheduler24.default(this.option(\"resources\"));\n\n    var combinedDataAccessors = this._combineDataAccessors();\n\n    this._appointmentModel = new _uiScheduler26.default(this._dataSource, combinedDataAccessors, this.getAppointmentDurationInMinutes());\n\n    this._initActions();\n\n    this._compactAppointmentsHelper = new _compactAppointmentsHelper.CompactAppointmentsHelper(this);\n    this._subscribes = _uiScheduler2.default;\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n\n    this._initAppointmentTemplate();\n\n    this._defaultTemplates.appointmentTooltip = new _empty_template.EmptyTemplate();\n    this._defaultTemplates.dropDownAppointment = new _empty_template.EmptyTemplate();\n  },\n  setDefaultTemplate: function setDefaultTemplate(templateName, template) {\n    this._defaultTemplates[templateName] = template;\n  },\n  _initAppointmentTemplate: function _initAppointmentTemplate() {\n    var _this3 = this;\n\n    var expr = this._dataAccessors.expr;\n\n    var createGetter = function createGetter(property) {\n      return _data2.default.compileGetter(\"appointmentData.\".concat(property));\n    };\n\n    this._defaultTemplates.item = new _bindable_template.BindableTemplate(function ($container, data, model) {\n      _this3.getAppointmentsInstance()._renderAppointmentTemplate($container, data, model);\n    }, [\"html\", \"text\", \"startDate\", \"endDate\", \"allDay\", \"description\", \"recurrenceRule\", \"recurrenceException\", \"startDateTimeZone\", \"endDateTimeZone\"], this.option(\"integrationOptions.watchMethod\"), {\n      text: createGetter(expr.textExpr),\n      startDate: createGetter(expr.startDateExpr),\n      endDate: createGetter(expr.endDateExpr),\n      startDateTimeZone: createGetter(expr.startDateTimeZoneExpr),\n      endDateTimeZone: createGetter(expr.endDateTimeZoneExpr),\n      allDay: createGetter(expr.allDayExpr),\n      recurrenceRule: createGetter(expr.recurrenceRuleExpr)\n    });\n  },\n  _combineDataAccessors: function _combineDataAccessors() {\n    var resourcesDataAccessors = this._resourcesManager._dataAccessors;\n    var result = (0, _extend.extend)(true, {}, this._dataAccessors);\n    (0, _iterator.each)(resourcesDataAccessors, function (type, accessor) {\n      result[type].resources = accessor;\n    }.bind(this));\n    return result;\n  },\n  _renderContent: function _renderContent() {\n    this._renderContentImpl();\n  },\n  _dataSourceChangedHandler: function _dataSourceChangedHandler(result) {\n    if (this._readyToRenderAppointments) {\n      this._workSpaceRecalculation.done(function () {\n        this._filteredItems = this.fire(\"prerenderFilter\");\n\n        this._workSpace.option(\"allDayExpanded\", this._isAllDayExpanded(this._filteredItems));\n\n        if (this._isAgenda()) {\n          this.getRenderingStrategyInstance().calculateRows(this._filteredItems, 7, this.option(\"currentDate\"), true);\n        }\n\n        if (this._filteredItems.length && this._isVisible()) {\n          this._appointments.option(\"items\", this._getAppointmentsToRepaint());\n\n          this._appointmentModel.cleanModelState();\n        } else {\n          this._appointments.option(\"items\", []);\n        }\n\n        if (this._isAgenda()) {\n          this._workSpace._renderView();\n\n          this._dataSourceLoadedCallback.fireWith(this, [result]);\n        }\n      }.bind(this));\n    }\n  },\n  _getAppointmentsToRepaint: function _getAppointmentsToRepaint() {\n    var appointments = this._layoutManager.createAppointmentsMap(this._filteredItems);\n\n    return this._layoutManager.getRepaintedAppointments(appointments, this.getAppointmentsInstance().option(\"items\"));\n  },\n  _initExpressions: function _initExpressions(fields) {\n    var isDateField = function isDateField(field) {\n      return \"startDate\" === field || \"endDate\" === field;\n    };\n\n    if (!this._dataAccessors) {\n      this._dataAccessors = {\n        getter: {},\n        setter: {},\n        expr: {}\n      };\n    }\n\n    (0, _iterator.each)(fields, function (name, expr) {\n      if (expr) {\n        var getter = _data2.default.compileGetter(expr);\n\n        var setter = _data2.default.compileSetter(expr);\n\n        var dateGetter;\n        var dateSetter;\n\n        if (isDateField(name)) {\n          var that = this;\n\n          dateGetter = function dateGetter() {\n            var value = getter.apply(this, arguments);\n\n            if ((0, _config2.default)().forceIsoDateParsing) {\n              if (!that.option(\"dateSerializationFormat\")) {\n                var format = _date_serialization2.default.getDateSerializationFormat(value);\n\n                if (format) {\n                  that.option(\"dateSerializationFormat\", format);\n                }\n              }\n\n              value = _date_serialization2.default.deserializeDate(value);\n            }\n\n            return value;\n          };\n\n          dateSetter = function dateSetter(object, value) {\n            if ((0, _config2.default)().forceIsoDateParsing || that.option(\"dateSerializationFormat\")) {\n              value = _date_serialization2.default.serializeDate(value, that.option(\"dateSerializationFormat\"));\n            }\n\n            setter.call(this, object, value);\n          };\n        }\n\n        this._dataAccessors.getter[name] = dateGetter || getter;\n        this._dataAccessors.setter[name] = dateSetter || setter;\n        this._dataAccessors.expr[name + \"Expr\"] = expr;\n      } else {\n        delete this._dataAccessors.getter[name];\n        delete this._dataAccessors.setter[name];\n        delete this._dataAccessors.expr[name + \"Expr\"];\n      }\n    }.bind(this));\n  },\n  _updateExpression: function _updateExpression(name, value) {\n    var exprObj = {};\n    exprObj[name.replace(\"Expr\", \"\")] = value;\n\n    this._initExpressions(exprObj);\n  },\n  _initEditing: function _initEditing() {\n    var editing = this.option(\"editing\");\n    this._editing = {\n      allowAdding: !!editing,\n      allowUpdating: !!editing,\n      allowDeleting: !!editing,\n      allowResizing: !!editing,\n      allowDragging: !!editing\n    };\n\n    if (_type2.default.isObject(editing)) {\n      this._editing = (0, _extend.extend)(this._editing, editing);\n    }\n\n    this._editing.allowDragging = this._editing.allowDragging && this._editing.allowUpdating;\n    this._editing.allowResizing = this._editing.allowResizing && this._editing.allowUpdating;\n    this.$element().toggleClass(WIDGET_READONLY_CLASS, this._isReadOnly());\n  },\n  _isReadOnly: function _isReadOnly() {\n    var result = true;\n    var editing = this._editing;\n\n    for (var prop in editing) {\n      if (Object.prototype.hasOwnProperty.call(editing, prop)) {\n        result = result && !editing[prop];\n      }\n    }\n\n    return result;\n  },\n  _customizeStoreLoadOptions: function _customizeStoreLoadOptions() {\n    this._dataSource && this._dataSource.on(\"customizeStoreLoadOptions\", this._proxiedCustomizeStoreLoadOptionsHandler);\n  },\n  _dispose: function _dispose() {\n    this._appointmentTooltip && this._appointmentTooltip.dispose();\n    this.hideAppointmentPopup();\n    this.hideAppointmentTooltip();\n\n    this._cleanAsyncTemplatesTimer();\n\n    this._dataSource && this._dataSource.off(\"customizeStoreLoadOptions\", this._proxiedCustomizeStoreLoadOptionsHandler);\n    this.callBase();\n  },\n  _customizeStoreLoadOptionsHandler: function _customizeStoreLoadOptionsHandler(options) {\n    options.storeLoadOptions.dxScheduler = {\n      startDate: this.getStartViewDate(),\n      endDate: this.getEndViewDate(),\n      resources: this.option(\"resources\")\n    };\n  },\n  _initActions: function _initActions() {\n    this._actions = {\n      onAppointmentAdding: this._createActionByOption(\"onAppointmentAdding\"),\n      onAppointmentAdded: this._createActionByOption(\"onAppointmentAdded\"),\n      onAppointmentUpdating: this._createActionByOption(\"onAppointmentUpdating\"),\n      onAppointmentUpdated: this._createActionByOption(\"onAppointmentUpdated\"),\n      onAppointmentDeleting: this._createActionByOption(\"onAppointmentDeleting\"),\n      onAppointmentDeleted: this._createActionByOption(\"onAppointmentDeleted\"),\n      onAppointmentFormOpening: this._createActionByOption(\"onAppointmentFormOpening\")\n    };\n  },\n  _getAppointmentRenderedAction: function _getAppointmentRenderedAction() {\n    return this._createActionByOption(\"onAppointmentRendered\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _renderFocusTarget: _common.noop,\n  _initMarkup: function _initMarkup() {\n    this.callBase();\n\n    this._processCurrentView();\n\n    this._renderHeader();\n\n    this._layoutManager = new _uiSchedulerAppointments2.default(this, this._getAppointmentsRenderingStrategy());\n    this._appointments = this._createComponent(\"<div>\", _uiScheduler28.default, this._appointmentsConfig());\n\n    this._appointments.option(\"itemTemplate\", this._getAppointmentTemplate(\"appointmentTemplate\"));\n\n    this._appointmentTooltip = new (this.option(\"adaptivityEnabled\") ? _mobileTooltipStrategy.MobileTooltipStrategy : _desktopTooltipStrategy.DesktopTooltipStrategy)(this._getAppointmentTooltipOptions());\n    this._appointmentPopup = new _appointmentPopup2.default(this);\n\n    if (this._isLoaded()) {\n      this._initMarkupCore(this._loadedResources);\n\n      this._dataSourceChangedHandler(this._dataSource.items());\n\n      this._fireContentReadyAction();\n    } else {\n      this._loadResources().done(function (resources) {\n        this._initMarkupCore(resources);\n\n        this._reloadDataSource();\n      }.bind(this));\n    }\n  },\n  _getAppointmentTooltipOptions: function _getAppointmentTooltipOptions() {\n    var _this4 = this;\n\n    var that = this;\n    return {\n      createComponent: that._createComponent.bind(that),\n      container: that.$element(),\n      getScrollableContainer: that.getWorkSpaceScrollableContainer.bind(that),\n      setDefaultTemplate: that.setDefaultTemplate.bind(that),\n      getAppointmentTemplate: that._getAppointmentTemplate.bind(that),\n      showAppointmentPopup: that.showAppointmentPopup.bind(that),\n      getTextAndFormatDate: function getTextAndFormatDate(data, currentData, format) {\n        return that.fire(\"getTextAndFormatDate\", data, currentData, format);\n      },\n      checkAndDeleteAppointment: that.checkAndDeleteAppointment.bind(that),\n      isAppointmentInAllDayPanel: that.isAppointmentInAllDayPanel.bind(that),\n      getSingleAppointmentData: function getSingleAppointmentData(appointmentData, targetElement) {\n        var $appointment = (0, _renderer2.default)(targetElement);\n        return _this4._getSingleAppointmentData(appointmentData, {\n          data: appointmentData,\n          target: $appointment.get(0),\n          $appointment: $appointment\n        });\n      }\n    };\n  },\n  checkAndDeleteAppointment: function checkAndDeleteAppointment(data, appointmentData) {\n    var that = this;\n    var startDate = that.fire(\"getField\", \"startDate\", appointmentData);\n\n    that._checkRecurringAppointment(data, appointmentData, startDate, function () {\n      that.deleteAppointment(data);\n    }, true);\n  },\n  _getExtraAppointmentTooltipOptions: function _getExtraAppointmentTooltipOptions() {\n    return {\n      rtlEnabled: this.option(\"rtlEnabled\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\"),\n      editing: this.option(\"editing\"),\n      offset: this.option(\"_appointmentTooltipOffset\")\n    };\n  },\n  isAppointmentInAllDayPanel: function isAppointmentInAllDayPanel(appointmentData) {\n    var workSpace = this._workSpace;\n    var itTakesAllDay = this.appointmentTakesAllDay(appointmentData);\n    return itTakesAllDay && workSpace.supportAllDayRow() && workSpace.option(\"showAllDayPanel\");\n  },\n  _initMarkupCore: function _initMarkupCore(resources) {\n    var _this5 = this;\n\n    this._readyToRenderAppointments = _window2.default.hasWindow();\n    this._workSpace && this._cleanWorkspace();\n\n    this._renderWorkSpace(resources);\n\n    this._appointments.option({\n      fixedContainer: this._workSpace.getFixedContainer(),\n      allDayContainer: this._workSpace.getAllDayContainer()\n    });\n\n    this._waitAsyncTemplates(function () {\n      _this5._workSpaceRecalculation && _this5._workSpaceRecalculation.resolve();\n    });\n\n    this._filterAppointmentsByDate();\n  },\n  _isLoaded: function _isLoaded() {\n    return this._isResourcesLoaded() && this._isDataSourceLoaded();\n  },\n  _isResourcesLoaded: function _isResourcesLoaded() {\n    return _type2.default.isDefined(this._loadedResources);\n  },\n  _isDataSourceLoaded: function _isDataSourceLoaded() {\n    return this._dataSource && this._dataSource.isLoaded();\n  },\n  _render: function _render() {\n    this._toggleSmallClass();\n\n    this._toggleAdaptiveClass();\n\n    this.callBase();\n  },\n  _renderHeader: function _renderHeader() {\n    var $header = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n    this._header = this._createComponent($header, _uiScheduler4.default, this._headerConfig());\n  },\n  _headerConfig: function _headerConfig() {\n    var result;\n\n    var currentViewOptions = this._getCurrentViewOptions();\n\n    var countConfig = this._getViewCountConfig();\n\n    result = (0, _extend.extend)({\n      firstDayOfWeek: this.option(\"firstDayOfWeek\"),\n      currentView: this._currentView,\n      tabIndex: this.option(\"tabIndex\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\"),\n      width: this.option(\"width\"),\n      rtlEnabled: this.option(\"rtlEnabled\"),\n      useDropDownViewSwitcher: this.option(\"useDropDownViewSwitcher\"),\n      _dropDownButtonIcon: this.option(\"_dropDownButtonIcon\"),\n      customizeDateNavigatorText: this.option(\"customizeDateNavigatorText\")\n    }, currentViewOptions);\n    result.observer = this;\n    result.intervalCount = countConfig.intervalCount;\n    result.views = this.option(\"views\");\n    result.min = new Date(this._dateOption(\"min\"));\n    result.max = new Date(this._dateOption(\"max\"));\n    result.currentDate = _date2.default.trimTime(new Date(this._dateOption(\"currentDate\")));\n    return result;\n  },\n  _appointmentsConfig: function _appointmentsConfig() {\n    var that = this;\n    var config = {\n      observer: this,\n      onItemRendered: this._getAppointmentRenderedAction(),\n      onItemClick: this._createActionByOption(\"onAppointmentClick\"),\n      onItemContextMenu: this._createActionByOption(\"onAppointmentContextMenu\"),\n      onAppointmentDblClick: this._createActionByOption(\"onAppointmentDblClick\"),\n      tabIndex: this.option(\"tabIndex\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\"),\n      allowDrag: this._allowDragging(),\n      allowDelete: this._editing.allowUpdating && this._editing.allowDeleting,\n      allowResize: this._allowResizing(),\n      allowAllDayResize: this._allowAllDayResizing(),\n      rtlEnabled: this.option(\"rtlEnabled\"),\n      currentView: this.option(\"currentView\"),\n      onContentReady: function onContentReady() {\n        that._workSpace && that._workSpace.option(\"allDayExpanded\", that._isAllDayExpanded(that.getFilteredItems()));\n      }\n    };\n    return config;\n  },\n  getCollectorOffset: function getCollectorOffset() {\n    if (this._workSpace.needApplyCollectorOffset() && !this.option(\"adaptivityEnabled\")) {\n      return this.option(\"_collectorOffset\");\n    } else {\n      return 0;\n    }\n  },\n  getAppointmentDurationInMinutes: function getAppointmentDurationInMinutes() {\n    return this._getCurrentViewOption(\"cellDuration\");\n  },\n  _processCurrentView: function _processCurrentView() {\n    var views = this.option(\"views\");\n    var currentView = this.option(\"currentView\");\n    var that = this;\n    this._currentView = currentView;\n    (0, _iterator.each)(views, function (_, view) {\n      var isViewIsObject = _type2.default.isObject(view);\n\n      var viewName = isViewIsObject ? view.name : view;\n      var viewType = view.type;\n\n      if (currentView === viewName || currentView === viewType) {\n        that._currentView = view;\n        return false;\n      }\n    });\n  },\n  _getCurrentViewType: function _getCurrentViewType() {\n    return this._currentView.type || this._currentView;\n  },\n  _getAppointmentsRenderingStrategy: function _getAppointmentsRenderingStrategy() {\n    return VIEWS_CONFIG[this._getCurrentViewType()].renderingStrategy;\n  },\n  _renderWorkSpace: function _renderWorkSpace(groups) {\n    this._readyToRenderAppointments && this._toggleSmallClass();\n    var $workSpace = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n\n    var countConfig = this._getViewCountConfig();\n\n    this._workSpace = this._createComponent($workSpace, VIEWS_CONFIG[this._getCurrentViewType()].workSpace, this._workSpaceConfig(groups, countConfig));\n    this._allowDragging() && this._workSpace.initDragBehavior(this);\n\n    this._workSpace.getWorkArea().append(this._appointments.$element());\n\n    this._recalculateWorkspace();\n\n    countConfig.startDate && this._header && this._header.option(\"currentDate\", this._workSpace._getHeaderDate());\n\n    this._appointments.option(\"_collectorOffset\", this.getCollectorOffset());\n  },\n  _getViewCountConfig: function _getViewCountConfig() {\n    var currentView = this.option(\"currentView\");\n\n    var view = this._getViewByName(currentView);\n\n    var viewCount = view && view.intervalCount || 1;\n    var startDate = view && view.startDate || null;\n    return {\n      intervalCount: viewCount,\n      startDate: startDate\n    };\n  },\n  _getViewByName: function _getViewByName(name) {\n    var views = this.option(\"views\");\n\n    for (var i = 0; i < views.length; i++) {\n      if (views[i].name === name || views[i].type === name || views[i] === name) {\n        return views[i];\n      }\n    }\n  },\n  _recalculateWorkspace: function _recalculateWorkspace() {\n    var _this6 = this;\n\n    this._workSpaceRecalculation = new Deferred();\n\n    this._waitAsyncTemplates(function () {\n      _dom2.default.triggerResizeEvent(_this6._workSpace.$element());\n\n      _this6._workSpace._refreshDateTimeIndication();\n    });\n  },\n  _workSpaceConfig: function _workSpaceConfig(groups, countConfig) {\n    var _this7 = this;\n\n    var result;\n\n    var currentViewOptions = this._getCurrentViewOptions();\n\n    result = (0, _extend.extend)({\n      noDataText: this.option(\"noDataText\"),\n      firstDayOfWeek: this.option(\"firstDayOfWeek\"),\n      startDayHour: this.option(\"startDayHour\"),\n      endDayHour: this.option(\"endDayHour\"),\n      tabIndex: this.option(\"tabIndex\"),\n      accessKey: this.option(\"accessKey\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\"),\n      cellDuration: this.option(\"cellDuration\"),\n      showAllDayPanel: this.option(\"showAllDayPanel\"),\n      showCurrentTimeIndicator: this.option(\"showCurrentTimeIndicator\"),\n      indicatorTime: this.option(\"indicatorTime\"),\n      indicatorUpdateInterval: this.option(\"indicatorUpdateInterval\"),\n      shadeUntilCurrentTime: this.option(\"shadeUntilCurrentTime\"),\n      allDayExpanded: this._appointments.option(\"items\"),\n      crossScrollingEnabled: this.option(\"crossScrollingEnabled\"),\n      dataCellTemplate: this.option(\"dataCellTemplate\"),\n      timeCellTemplate: this.option(\"timeCellTemplate\"),\n      resourceCellTemplate: this.option(\"resourceCellTemplate\"),\n      dateCellTemplate: this.option(\"dateCellTemplate\"),\n      allowMultipleCellSelection: this.option(\"allowMultipleCellSelection\"),\n      selectedCellData: this.option(\"selectedCellData\"),\n      onSelectionChanged: function onSelectionChanged(args) {\n        _this7.option(\"selectedCellData\", args.selectedCellData);\n      },\n      groupByDate: this._getCurrentViewOption(\"groupByDate\")\n    }, currentViewOptions);\n    result.observer = this;\n    result.intervalCount = countConfig.intervalCount;\n    result.startDate = countConfig.startDate;\n    result.groups = groups;\n    result.onCellClick = this._createActionByOption(\"onCellClick\");\n    result.onCellContextMenu = this._createActionByOption(\"onCellContextMenu\");\n    result.min = new Date(this._dateOption(\"min\"));\n    result.max = new Date(this._dateOption(\"max\"));\n    result.currentDate = _date2.default.trimTime(new Date(this._dateOption(\"currentDate\")));\n    result.hoursInterval = result.cellDuration / 60;\n    result.allDayExpanded = this._isAllDayExpanded(this.getFilteredItems());\n    result.dataCellTemplate = result.dataCellTemplate ? this._getTemplate(result.dataCellTemplate) : null;\n    result.timeCellTemplate = result.timeCellTemplate ? this._getTemplate(result.timeCellTemplate) : null;\n    result.resourceCellTemplate = result.resourceCellTemplate ? this._getTemplate(result.resourceCellTemplate) : null;\n    result.dateCellTemplate = result.dateCellTemplate ? this._getTemplate(result.dateCellTemplate) : null;\n    return result;\n  },\n  _getCurrentViewOptions: function _getCurrentViewOptions() {\n    return this._currentView;\n  },\n  _getCurrentViewOption: function _getCurrentViewOption(optionName) {\n    var currentViewOptions = this._getCurrentViewOptions();\n\n    if (currentViewOptions && void 0 !== currentViewOptions[optionName]) {\n      return currentViewOptions[optionName];\n    }\n\n    return this.option(optionName);\n  },\n  _getAppointmentTemplate: function _getAppointmentTemplate(optionName) {\n    var currentViewOptions = this._getCurrentViewOptions();\n\n    if (currentViewOptions && currentViewOptions[optionName]) {\n      return this._getTemplate(currentViewOptions[optionName]);\n    }\n\n    return this._getTemplateByOption(optionName);\n  },\n  _updateOption: function _updateOption(viewName, optionName, value) {\n    var currentViewOptions = this._getCurrentViewOptions();\n\n    if (!currentViewOptions || !_type2.default.isDefined(currentViewOptions[optionName])) {\n      this[\"_\" + viewName].option(optionName, value);\n    }\n  },\n  _refreshWorkSpace: function _refreshWorkSpace(groups) {\n    var _this8 = this;\n\n    this._cleanWorkspace();\n\n    delete this._workSpace;\n\n    this._renderWorkSpace(groups);\n\n    if (this._readyToRenderAppointments) {\n      this._appointments.option({\n        fixedContainer: this._workSpace.getFixedContainer(),\n        allDayContainer: this._workSpace.getAllDayContainer()\n      });\n\n      this._waitAsyncTemplates(function () {\n        _this8._workSpaceRecalculation.resolve();\n      });\n    }\n  },\n  _cleanWorkspace: function _cleanWorkspace() {\n    this._appointments.$element().detach();\n\n    this._workSpace._dispose();\n\n    this._workSpace.$element().remove();\n\n    this.option(\"selectedCellData\", []);\n  },\n  getWorkSpaceScrollable: function getWorkSpaceScrollable() {\n    return this._workSpace.getScrollable();\n  },\n  getWorkSpaceScrollableScrollTop: function getWorkSpaceScrollableScrollTop(allDay) {\n    return this._workSpace.getGroupedScrollableScrollTop(allDay);\n  },\n  getWorkSpaceScrollableScrollLeft: function getWorkSpaceScrollableScrollLeft() {\n    return this._workSpace.getScrollableScrollLeft();\n  },\n  getWorkSpaceScrollableContainer: function getWorkSpaceScrollableContainer() {\n    return this._workSpace.getScrollableContainer();\n  },\n  getWorkSpaceAllDayHeight: function getWorkSpaceAllDayHeight() {\n    return this._workSpace.getAllDayHeight();\n  },\n  getWorkSpaceAllDayOffset: function getWorkSpaceAllDayOffset() {\n    return this._workSpace.getAllDayOffset();\n  },\n  getWorkSpaceHeaderPanelHeight: function getWorkSpaceHeaderPanelHeight() {\n    return this._workSpace.getHeaderPanelHeight();\n  },\n  getWorkSpaceDateTableOffset: function getWorkSpaceDateTableOffset() {\n    return !this.option(\"crossScrollingEnabled\") || this.option(\"rtlEnabled\") ? this._workSpace.getWorkSpaceLeftOffset() : 0;\n  },\n  getWorkSpace: function getWorkSpace() {\n    return this._workSpace;\n  },\n  getAppointmentModel: function getAppointmentModel() {\n    return this._appointmentModel;\n  },\n  getHeader: function getHeader() {\n    return this._header;\n  },\n  getMaxAppointmentsPerCell: function getMaxAppointmentsPerCell() {\n    return this._getCurrentViewOption(\"maxAppointmentsPerCell\");\n  },\n  _cleanPopup: function _cleanPopup() {\n    this._appointmentPopup.dispose();\n  },\n  _convertDatesByTimezoneBack: function _convertDatesByTimezoneBack(applyAppointmentTimezone, sourceAppointmentData, targetAppointmentData) {\n    targetAppointmentData = targetAppointmentData || sourceAppointmentData;\n    var processedStartDate = this.fire(\"convertDateByTimezoneBack\", this.fire(\"getField\", \"startDate\", sourceAppointmentData), applyAppointmentTimezone && this.fire(\"getField\", \"startDateTimeZone\", sourceAppointmentData));\n    var processedEndDate = this.fire(\"convertDateByTimezoneBack\", this.fire(\"getField\", \"endDate\", sourceAppointmentData), applyAppointmentTimezone && this.fire(\"getField\", \"endDateTimeZone\", sourceAppointmentData));\n    this.fire(\"setField\", \"startDate\", targetAppointmentData, processedStartDate);\n    this.fire(\"setField\", \"endDate\", targetAppointmentData, processedEndDate);\n  },\n  _checkRecurringAppointment: function _checkRecurringAppointment(targetAppointment, singleAppointment, exceptionDate, callback, isDeleted, isPopupEditing, dragEvent) {\n    delete this._updatedRecAppointment;\n    var recurrenceRule = this.fire(\"getField\", \"recurrenceRule\", targetAppointment);\n\n    if (!_utils2.default.getRecurrenceRule(recurrenceRule).isValid || !this._editing.allowUpdating) {\n      callback();\n      return;\n    }\n\n    var editMode = this.option(\"recurrenceEditMode\");\n\n    switch (editMode) {\n      case \"series\":\n        callback();\n        break;\n\n      case \"occurrence\":\n        this._singleAppointmentChangesHandler(targetAppointment, singleAppointment, exceptionDate, isDeleted, isPopupEditing, dragEvent);\n\n        break;\n\n      default:\n        if (dragEvent) {\n          dragEvent.cancel = new Deferred();\n        }\n\n        this._showRecurrenceChangeConfirm(isDeleted).done(function (result) {\n          result && callback();\n          !result && this._singleAppointmentChangesHandler(targetAppointment, singleAppointment, exceptionDate, isDeleted, isPopupEditing, dragEvent);\n        }.bind(this)).fail(function () {\n          this._appointments.moveAppointmentBack(dragEvent);\n        }.bind(this));\n\n    }\n  },\n  _singleAppointmentChangesHandler: function _singleAppointmentChangesHandler(targetAppointment, singleAppointment, exceptionDate, isDeleted, isPopupEditing, dragEvent) {\n    exceptionDate = new Date(exceptionDate);\n\n    function processAppointmentDates(appointment, commonTimezoneOffset) {\n      var startDate = this.fire(\"getField\", \"startDate\", appointment);\n      var processedStartDate = this.fire(\"convertDateByTimezoneBack\", startDate, this.fire(\"getField\", \"startDateTimeZone\", appointment));\n      var endDate = this.fire(\"getField\", \"endDate\", appointment);\n      var processedEndDate = this.fire(\"convertDateByTimezoneBack\", endDate, this.fire(\"getField\", \"endDateTimeZone\", appointment));\n\n      if (\"number\" === typeof commonTimezoneOffset && !isNaN(commonTimezoneOffset)) {\n        var startDateClientTzOffset = -(this._subscribes.getClientTimezoneOffset(startDate) / toMs(\"hour\"));\n        var endDateClientTzOffset = -(this._subscribes.getClientTimezoneOffset(endDate) / toMs(\"hour\"));\n        var processedStartDateInUTC = processedStartDate.getTime() - startDateClientTzOffset * toMs(\"hour\");\n        var processedEndDateInUTC = processedEndDate.getTime() - endDateClientTzOffset * toMs(\"hour\");\n        processedStartDate = new Date(processedStartDateInUTC + commonTimezoneOffset * toMs(\"hour\"));\n        processedEndDate = new Date(processedEndDateInUTC + commonTimezoneOffset * toMs(\"hour\"));\n      }\n\n      this.fire(\"setField\", \"startDate\", appointment, processedStartDate);\n      this.fire(\"setField\", \"endDate\", appointment, processedEndDate);\n    }\n\n    this.fire(\"setField\", \"recurrenceRule\", singleAppointment, \"\");\n    this.fire(\"setField\", \"recurrenceException\", singleAppointment, \"\");\n\n    if (!isDeleted && !isPopupEditing) {\n      processAppointmentDates.call(this, singleAppointment, this._getTimezoneOffsetByOption());\n      this.addAppointment(singleAppointment);\n    }\n\n    var recurrenceException = this._makeDateAsRecurrenceException(exceptionDate, targetAppointment);\n\n    var updatedAppointment = (0, _extend.extend)({}, targetAppointment);\n    this.fire(\"setField\", \"recurrenceException\", updatedAppointment, recurrenceException);\n\n    if (isPopupEditing) {\n      this._updatedRecAppointment = updatedAppointment;\n      processAppointmentDates.call(this, singleAppointment);\n\n      this._showAppointmentPopup(singleAppointment, true, true);\n\n      this._editAppointmentData = targetAppointment;\n    } else {\n      this._updateAppointment(targetAppointment, updatedAppointment, function () {\n        this._appointments.moveAppointmentBack(dragEvent);\n      }, dragEvent);\n    }\n  },\n  _makeDateAsRecurrenceException: function _makeDateAsRecurrenceException(exceptionDate, targetAppointment) {\n    var startDate = this._getStartDate(targetAppointment, true);\n\n    var startDateTimeZone = this.fire(\"getField\", \"startDateTimeZone\", targetAppointment);\n\n    var exceptionByDate = this._getRecurrenceExceptionDate(exceptionDate, startDate, startDateTimeZone);\n\n    var recurrenceException = this.fire(\"getField\", \"recurrenceException\", targetAppointment);\n    return recurrenceException ? recurrenceException + \",\" + exceptionByDate : exceptionByDate;\n  },\n  _getRecurrenceExceptionDate: function _getRecurrenceExceptionDate(exceptionStartDate, targetStartDate, startDateTimeZone) {\n    exceptionStartDate = this.fire(\"convertDateByTimezoneBack\", exceptionStartDate, startDateTimeZone);\n    var appointmentStartDate = this.fire(\"convertDateByTimezoneBack\", targetStartDate, startDateTimeZone);\n    exceptionStartDate.setHours(appointmentStartDate.getHours(), appointmentStartDate.getMinutes(), appointmentStartDate.getSeconds(), appointmentStartDate.getMilliseconds());\n    var timezoneDiff = targetStartDate.getTimezoneOffset() - exceptionStartDate.getTimezoneOffset();\n    exceptionStartDate = new Date(exceptionStartDate.getTime() - timezoneDiff * toMs(\"minute\"));\n    return _date_serialization2.default.serializeDate(exceptionStartDate, UTC_FULL_DATE_FORMAT);\n  },\n  _showRecurrenceChangeConfirm: function _showRecurrenceChangeConfirm(isDeleted) {\n    var message = _message2.default.format(isDeleted ? \"dxScheduler-confirmRecurrenceDeleteMessage\" : \"dxScheduler-confirmRecurrenceEditMessage\");\n\n    var seriesText = _message2.default.format(isDeleted ? \"dxScheduler-confirmRecurrenceDeleteSeries\" : \"dxScheduler-confirmRecurrenceEditSeries\");\n\n    var occurrenceText = _message2.default.format(isDeleted ? \"dxScheduler-confirmRecurrenceDeleteOccurrence\" : \"dxScheduler-confirmRecurrenceEditOccurrence\");\n\n    return _dialog2.default.custom({\n      messageHtml: message,\n      showCloseButton: true,\n      showTitle: true,\n      buttons: [{\n        text: seriesText,\n        onClick: function onClick() {\n          return true;\n        }\n      }, {\n        text: occurrenceText,\n        onClick: function onClick() {\n          return false;\n        }\n      }]\n    }).show();\n  },\n  _getUpdatedData: function _getUpdatedData(options) {\n    var target = options.data || options;\n    var cellData = this.getTargetCellData();\n    var targetAllDay = this.fire(\"getField\", \"allDay\", target);\n    var targetStartDate = new Date(this.fire(\"getField\", \"startDate\", target));\n    var targetEndDate = new Date(this.fire(\"getField\", \"endDate\", target));\n    var date = cellData.date || targetStartDate;\n    var duration = targetEndDate.getTime() - targetStartDate.getTime();\n\n    if (this._workSpace.keepOriginalHours() && !isNaN(targetStartDate.getTime())) {\n      var diff = targetStartDate.getTime() - _date2.default.trimTime(targetStartDate).getTime();\n\n      date = new Date(_date2.default.trimTime(date).getTime() + diff);\n    }\n\n    var updatedData = {};\n    var allDay = cellData.allDay;\n    this.fire(\"setField\", \"allDay\", updatedData, allDay);\n    this.fire(\"setField\", \"startDate\", updatedData, date);\n    var endDate = new Date(date.getTime() + duration);\n\n    if (this.appointmentTakesAllDay(target) && !updatedData.allDay && this._workSpace.supportAllDayRow()) {\n      endDate = this._workSpace.calculateEndDate(date);\n    }\n\n    if (targetAllDay && !this._workSpace.supportAllDayRow() && !this._workSpace.keepOriginalHours()) {\n      var dateCopy = new Date(date);\n      dateCopy.setHours(0);\n      endDate = new Date(dateCopy.getTime() + duration);\n\n      if (0 !== endDate.getHours()) {\n        endDate.setHours(this._getCurrentViewOption(\"endDayHour\"));\n      }\n    }\n\n    endDate = new Date(endDate.getTime() - _utils4.default.getTimezoneOffsetChangeInMs(targetStartDate, targetEndDate, date, endDate));\n    this.fire(\"setField\", \"endDate\", updatedData, endDate);\n\n    this._resourcesManager.setResourcesToItem(updatedData, cellData.groups);\n\n    return updatedData;\n  },\n  _getCoordinates: function _getCoordinates(initialDates, dates, appointmentResources, allDay) {\n    var result = [];\n\n    for (var i = 0; i < dates.length; i++) {\n      var currentCoords = this._workSpace.getCoordinatesByDateInGroup(dates[i], appointmentResources, allDay);\n\n      for (var j = 0; j < currentCoords.length; j++) {\n        (0, _extend.extend)(currentCoords[j], {\n          startDate: dates[i],\n          initialStartDate: initialDates[i]\n        });\n      }\n\n      result = result.concat(currentCoords);\n    }\n\n    return result;\n  },\n  _isAppointmentRecurrence: function _isAppointmentRecurrence(appointmentData) {\n    var recurrenceRule = this.fire(\"getField\", \"recurrenceRule\", appointmentData);\n    return recurrenceRule && _utils2.default.getRecurrenceRule(recurrenceRule).isValid;\n  },\n  resizePopup: function resizePopup() {\n    this._appointmentPopup.triggerResize();\n  },\n  _getSingleAppointmentData: function _getSingleAppointmentData(appointmentData, options) {\n    options = options || {};\n    var $appointment = options.$appointment;\n    var updatedData = options.skipDateCalculation ? {} : this._getUpdatedData(options);\n    var resultAppointmentData = (0, _extend.extend)({}, appointmentData, updatedData);\n    var allDay = this.fire(\"getField\", \"allDay\", appointmentData);\n    var isAllDay = this._workSpace.supportAllDayRow() && allDay;\n    var startDate = new Date(this.fire(\"getField\", \"startDate\", resultAppointmentData));\n    var endDate = new Date(this.fire(\"getField\", \"endDate\", resultAppointmentData));\n    var appointmentDuration = endDate.getTime() - startDate.getTime();\n    var updatedStartDate = startDate;\n    var appointmentStartDate;\n\n    if (_type2.default.isDefined($appointment) && (this._isAppointmentRecurrence(appointmentData) || this._needUpdateAppointmentData($appointment))) {\n      var apptDataCalculator = this.getRenderingStrategyInstance().getAppointmentDataCalculator();\n\n      if (_type2.default.isFunction(apptDataCalculator)) {\n        updatedStartDate = apptDataCalculator($appointment, startDate).startDate;\n      } else {\n        if (options.isAppointmentResized) {\n          var coordinates = _translator2.default.locate($appointment);\n\n          updatedStartDate = new Date(this._workSpace.getCellDataByCoordinates(coordinates, isAllDay).startDate);\n        } else {\n          appointmentStartDate = $appointment.data(\"dxAppointmentSettings\") && $appointment.data(\"dxAppointmentSettings\").startDate;\n\n          if ($appointment.hasClass(_constants.REDUCED_APPOINTMENT_CLASS)) {\n            appointmentStartDate = $appointment.data(\"dxAppointmentStartDate\");\n          }\n\n          if (appointmentStartDate) {\n            updatedStartDate = appointmentStartDate;\n          }\n        }\n\n        if (!options.skipHoursProcessing) {\n          this.fire(\"convertDateByTimezoneBack\", updatedStartDate, this.fire(\"getField\", \"startDateTimeZone\", appointmentData));\n        }\n      }\n\n      this.fire(\"setField\", \"startDate\", resultAppointmentData, updatedStartDate);\n      this.fire(\"setField\", \"endDate\", resultAppointmentData, new Date(updatedStartDate.getTime() + appointmentDuration));\n    }\n\n    return resultAppointmentData;\n  },\n  _needUpdateAppointmentData: function _needUpdateAppointmentData($appointment) {\n    return $appointment.hasClass(_constants.COMPACT_APPOINTMENT_CLASS) || $appointment.hasClass(_constants.RECURRENCE_APPOINTMENT_CLASS);\n  },\n  subscribe: function subscribe(subject, action) {\n    this._subscribes[subject] = _uiScheduler2.default[subject] = action;\n  },\n  fire: function fire(subject) {\n    var callback = this._subscribes[subject];\n    var args = Array.prototype.slice.call(arguments);\n\n    if (!_type2.default.isFunction(callback)) {\n      throw _ui2.default.Error(\"E1031\", subject);\n    }\n\n    return callback.apply(this, args.slice(1));\n  },\n  getTargetCellData: function getTargetCellData() {\n    return this._workSpace.getDataByDroppableCell();\n  },\n  _updateAppointment: function _updateAppointment(target, appointment, onUpdatePrevented, dragEvent) {\n    var updatingOptions = {\n      newData: appointment,\n      oldData: (0, _extend.extend)({}, target),\n      cancel: false\n    };\n\n    var performFailAction = function (err) {\n      if (_type2.default.isFunction(onUpdatePrevented)) {\n        onUpdatePrevented.call(this);\n      }\n\n      if (err && \"Error\" === err.name) {\n        throw err;\n      }\n    }.bind(this);\n\n    this._actions.onAppointmentUpdating(updatingOptions);\n\n    if (dragEvent && !_type2.default.isDeferred(dragEvent.cancel)) {\n      dragEvent.cancel = new Deferred();\n    }\n\n    this._processActionResult(updatingOptions, function (canceled) {\n      if (!canceled) {\n        this._expandAllDayPanel(appointment);\n\n        try {\n          this._appointmentModel.update(target, appointment).done(function () {\n            dragEvent && dragEvent.cancel.resolve(false);\n          }).always(function (e) {\n            this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentUpdated, appointment, e);\n          }.bind(this)).fail(function () {\n            performFailAction();\n          });\n        } catch (err) {\n          performFailAction(err);\n        }\n      } else {\n        performFailAction();\n      }\n    });\n  },\n  _processActionResult: function _processActionResult(actionOptions, callback) {\n    var _this9 = this;\n\n    if (_type2.default.isPromise(actionOptions.cancel)) {\n      when(_deferred2.default.fromPromise(actionOptions.cancel)).always(function (cancel) {\n        if (!_type2.default.isDefined(cancel)) {\n          cancel = \"rejected\" === actionOptions.cancel.state();\n        }\n\n        callback.call(_this9, cancel);\n      });\n    } else {\n      callback.call(this, actionOptions.cancel);\n    }\n  },\n  _expandAllDayPanel: function _expandAllDayPanel(appointment) {\n    if (!this._isAllDayExpanded(this.getFilteredItems()) && this.appointmentTakesAllDay(appointment)) {\n      this._workSpace.option(\"allDayExpanded\", true);\n    }\n  },\n  _executeActionWhenOperationIsCompleted: function _executeActionWhenOperationIsCompleted(action, appointment, e) {\n    var options = {\n      appointmentData: appointment\n    };\n    var isError = e && \"Error\" === e.name;\n\n    if (isError) {\n      options.error = e;\n    } else {\n      this._appointmentPopup.isVisible() && this._appointmentPopup.hide();\n    }\n\n    action(options);\n\n    this._fireContentReadyAction();\n  },\n  _showAppointmentPopup: function _showAppointmentPopup(data, visibleButtons, isProcessTimeZone) {\n    this._appointmentPopup.show(data, visibleButtons, isProcessTimeZone);\n  },\n  getAppointmentPopup: function getAppointmentPopup() {\n    return this._appointmentPopup.getPopup();\n  },\n  getAppointmentDetailsForm: function getAppointmentDetailsForm() {\n    return this._appointmentPopup._appointmentForm;\n  },\n  getUpdatedAppointment: function getUpdatedAppointment() {\n    return this._appointmentModel.getUpdatedAppointment();\n  },\n  getUpdatedAppointmentKeys: function getUpdatedAppointmentKeys() {\n    return this._appointmentModel.getUpdatedAppointmentKeys();\n  },\n  getAppointmentsInstance: function getAppointmentsInstance() {\n    return this._appointments;\n  },\n  getResourceManager: function getResourceManager() {\n    return this._resourcesManager;\n  },\n  getLayoutManager: function getLayoutManager() {\n    return this._layoutManager;\n  },\n  getRenderingStrategyInstance: function getRenderingStrategyInstance() {\n    return this._layoutManager.getRenderingStrategyInstance();\n  },\n  getFilteredItems: function getFilteredItems() {\n    return this._filteredItems;\n  },\n  getActions: function getActions() {\n    return this._actions;\n  },\n  appointmentTakesAllDay: function appointmentTakesAllDay(appointment) {\n    return this._appointmentModel.appointmentTakesAllDay(appointment, this._getCurrentViewOption(\"startDayHour\"), this._getCurrentViewOption(\"endDayHour\"));\n  },\n  _getStartDate: function _getStartDate(appointment, skipNormalize) {\n    var startDate = this.fire(\"getField\", \"startDate\", appointment);\n    var startDateTimeZone = this.fire(\"getField\", \"startDateTimeZone\", appointment);\n    startDate = this.fire(\"convertDateByTimezone\", _date2.default.makeDate(startDate), startDateTimeZone);\n    return !skipNormalize ? this.fire(\"updateAppointmentStartDate\", {\n      startDate: startDate,\n      appointment: appointment\n    }) : startDate;\n  },\n  _getEndDate: function _getEndDate(appointment, skipNormalize) {\n    var endDate = new Date(this.fire(\"getField\", \"endDate\", appointment));\n    var startDate = new Date(this.fire(\"getField\", \"startDate\", appointment));\n\n    var isSameDate = _date2.default.sameDate(startDate, endDate);\n\n    if (endDate) {\n      var endDateTimeZone = this.fire(\"getField\", \"endDateTimeZone\", appointment);\n      endDate = this.fire(\"convertDateByTimezone\", _date2.default.makeDate(endDate), endDateTimeZone);\n      return !skipNormalize ? this.fire(\"updateAppointmentEndDate\", {\n        endDate: endDate,\n        isSameDate: isSameDate\n      }) : endDate;\n    }\n\n    return endDate;\n  },\n  _getRecurrenceException: function _getRecurrenceException(appointmentData) {\n    var recurrenceException = this.fire(\"getField\", \"recurrenceException\", appointmentData);\n\n    if (recurrenceException) {\n      var startDate = this.fire(\"getField\", \"startDate\", appointmentData);\n      var exceptions = recurrenceException.split(\",\");\n      var startDateTimeZone = this.fire(\"getField\", \"startDateTimeZone\", appointmentData);\n      var exceptionByStartDate = this.fire(\"convertDateByTimezone\", startDate, startDateTimeZone);\n\n      for (var i = 0; i < exceptions.length; i++) {\n        exceptions[i] = this._convertRecurrenceException(exceptions[i], exceptionByStartDate, startDateTimeZone);\n      }\n\n      recurrenceException = exceptions.join();\n    }\n\n    return recurrenceException;\n  },\n  _convertRecurrenceException: function _convertRecurrenceException(exception, exceptionByStartDate, startDateTimeZone) {\n    exception = exception.replace(/\\s/g, \"\");\n    exception = _date_serialization2.default.deserializeDate(exception);\n    exception = this.fire(\"convertDateByTimezone\", exception, startDateTimeZone);\n    exception.setHours(exceptionByStartDate.getHours());\n    exception = _date_serialization2.default.serializeDate(exception, FULL_DATE_FORMAT);\n    return exception;\n  },\n  recurrenceEditorVisibilityChanged: function recurrenceEditorVisibilityChanged(visible) {\n    if (this._appointmentPopup._appointmentForm) {\n      this._appointmentPopup._appointmentForm.$element().find(\".\" + RECURRENCE_EDITOR_ITEM_CLASS).toggleClass(RECURRENCE_EDITOR_OPENED_ITEM_CLASS, visible);\n    }\n  },\n  dayHasAppointment: function dayHasAppointment(day, appointment, trimTime) {\n    var startDate = new Date(this.fire(\"getField\", \"startDate\", appointment));\n    var endDate = new Date(this.fire(\"getField\", \"endDate\", appointment));\n    var startDateTimeZone = this.fire(\"getField\", \"startDateTimeZone\", appointment);\n    var endDateTimeZone = this.fire(\"getField\", \"endDateTimeZone\", appointment);\n    startDate = this.fire(\"convertDateByTimezone\", startDate, startDateTimeZone);\n    endDate = this.fire(\"convertDateByTimezone\", endDate, endDateTimeZone);\n\n    if (day.getTime() === endDate.getTime()) {\n      return startDate.getTime() === endDate.getTime();\n    }\n\n    if (trimTime) {\n      day = _date2.default.trimTime(day);\n      startDate = _date2.default.trimTime(startDate);\n      endDate = _date2.default.trimTime(endDate);\n    }\n\n    var dayTimeStamp = day.getTime();\n    var startDateTimeStamp = startDate.getTime();\n    var endDateTimeStamp = endDate.getTime();\n    return (0, _array.inArray)(dayTimeStamp, [startDateTimeStamp, endDateTimeStamp]) > -1 || startDateTimeStamp < dayTimeStamp && endDateTimeStamp > dayTimeStamp;\n  },\n  setTargetedAppointmentResources: function setTargetedAppointmentResources(targetedAppointment, appointmentElement, appointmentIndex) {\n    var groups = this._getCurrentViewOption(\"groups\");\n\n    if (groups && groups.length) {\n      var resourcesSetter = this._resourcesManager._dataAccessors.setter;\n      var workSpace = this._workSpace;\n      var getGroups;\n      var setResourceCallback;\n\n      if (this._isAgenda()) {\n        getGroups = function getGroups() {\n          var apptSettings = this.getLayoutManager()._positionMap[appointmentIndex];\n\n          return workSpace._getCellGroups(apptSettings[0].groupIndex);\n        };\n\n        setResourceCallback = function setResourceCallback(_, group) {\n          resourcesSetter[group.name](targetedAppointment, group.id);\n        };\n      } else {\n        getGroups = function getGroups() {\n          var setting = (0, _renderer2.default)(appointmentElement).data(\"dxAppointmentSettings\") || {};\n          return workSpace.getCellDataByCoordinates({\n            left: setting.left,\n            top: setting.top\n          }).groups;\n        };\n\n        setResourceCallback = function setResourceCallback(field, value) {\n          resourcesSetter[field](targetedAppointment, value);\n        };\n      }\n\n      (0, _iterator.each)(getGroups.call(this), setResourceCallback);\n    }\n  },\n  getStartViewDate: function getStartViewDate() {\n    return this._workSpace.getStartViewDate();\n  },\n  getEndViewDate: function getEndViewDate() {\n    return this._workSpace.getEndViewDate();\n  },\n  showAppointmentPopup: function showAppointmentPopup(appointmentData, createNewAppointment, currentAppointmentData) {\n    var singleAppointment = currentAppointmentData || this._getSingleAppointmentData(appointmentData, {\n      skipDateCalculation: true\n    });\n\n    var startDate = this.fire(\"getField\", \"startDate\", currentAppointmentData || appointmentData);\n\n    this._checkRecurringAppointment(appointmentData, singleAppointment, startDate, function () {\n      if (createNewAppointment || _type2.default.isEmptyObject(appointmentData)) {\n        delete this._editAppointmentData;\n        this._editing.allowAdding && this._showAppointmentPopup(appointmentData, true, false);\n      } else {\n        this._editAppointmentData = appointmentData;\n\n        this._showAppointmentPopup(appointmentData, this._editing.allowUpdating, true);\n      }\n    }.bind(this), false, true);\n  },\n  hideAppointmentPopup: function hideAppointmentPopup(saveChanges) {\n    if (this._appointmentPopup.isVisible()) {\n      saveChanges && this._appointmentPopup.saveChanges();\n\n      this._appointmentPopup.hide();\n    }\n  },\n  showAppointmentTooltip: function showAppointmentTooltip(appointmentData, target, currentAppointmentData) {\n    if (appointmentData) {\n      this.showAppointmentTooltipCore(target, [{\n        color: this._appointments._tryGetAppointmentColor(target),\n        data: appointmentData,\n        currentData: currentAppointmentData\n      }]);\n    }\n  },\n  showAppointmentTooltipCore: function showAppointmentTooltipCore(target, data, options) {\n    if (this._appointmentTooltip.isAlreadyShown(target)) {\n      this.hideAppointmentTooltip();\n    } else {\n      this._appointmentTooltip.show(target, data, (0, _extend.extend)(this._getExtraAppointmentTooltipOptions(), options));\n    }\n  },\n  hideAppointmentTooltip: function hideAppointmentTooltip() {\n    this._appointmentTooltip.hide();\n  },\n  scrollToTime: function scrollToTime(hours, minutes, date) {\n    this._workSpace.scrollToTime(hours, minutes, date);\n  },\n  addAppointment: function addAppointment(appointment) {\n    var text = this.fire(\"getField\", \"text\", appointment);\n\n    if (!text) {\n      this.fire(\"setField\", \"text\", appointment, \"\");\n    }\n\n    this._convertDatesByTimezoneBack(true, appointment);\n\n    var addingOptions = {\n      appointmentData: appointment,\n      cancel: false\n    };\n\n    this._actions.onAppointmentAdding(addingOptions);\n\n    this._processActionResult(addingOptions, function (canceled) {\n      if (!canceled) {\n        this._expandAllDayPanel(appointment);\n\n        this._appointmentModel.add(appointment, {\n          value: this._getTimezoneOffsetByOption(),\n          clientOffset: this.fire(\"getClientTimezoneOffset\")\n        }).always(function (e) {\n          this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentAdded, appointment, e);\n        }.bind(this));\n      }\n    });\n  },\n  updateAppointment: function updateAppointment(target, appointment) {\n    this._updateAppointment(target, appointment);\n  },\n  deleteAppointment: function deleteAppointment(appointment) {\n    var deletingOptions = {\n      appointmentData: appointment,\n      cancel: false\n    };\n\n    this._actions.onAppointmentDeleting(deletingOptions);\n\n    this._processActionResult(deletingOptions, function (canceled) {\n      if (!canceled) {\n        this._appointmentModel.remove(appointment).always(function (e) {\n          this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentDeleted, appointment, e);\n        }.bind(this));\n      }\n    });\n  },\n  focus: function focus() {\n    if (this._editAppointmentData) {\n      this._appointments.focus();\n    } else {\n      this._workSpace.focus();\n    }\n  },\n  getFirstDayOfWeek: function getFirstDayOfWeek() {\n    return _type2.default.isDefined(this.option(\"firstDayOfWeek\")) ? this.option(\"firstDayOfWeek\") : _date4.default.firstDayOfWeekIndex();\n  }\n}).include(_async_template_mixin2.default, _data_helper2.default);\n\n(0, _component_registrator2.default)(\"dxScheduler\", Scheduler);\nmodule.exports = Scheduler;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/scheduler/ui.scheduler.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_callbacks","_callbacks2","_translator","_translator2","_ui","_ui2","_window","_window2","_dialog","_dialog2","_utils","_utils2","_dom","_dom2","_date","_date2","_iterator","_extend","_array","_common","_type","_type2","_devices","_devices2","_config","_config2","_data","_data2","_component_registrator","_component_registrator2","_message","_message2","_date_serialization","_date_serialization2","_date3","_date4","_ui3","_ui4","_uiScheduler","_uiScheduler2","_desktopTooltipStrategy","_mobileTooltipStrategy","_appointmentPopup","_appointmentPopup2","_uiScheduler3","_uiScheduler4","_uiScheduler5","_uiScheduler6","_uiScheduler7","_uiScheduler8","_uiScheduler9","_uiScheduler10","_uiScheduler11","_uiScheduler12","_uiScheduler13","_uiScheduler14","_uiScheduler15","_uiScheduler16","_uiScheduler17","_uiScheduler18","_uiScheduler19","_uiScheduler20","_uiScheduler21","_uiScheduler22","_uiScheduler23","_uiScheduler24","_uiScheduler25","_uiScheduler26","_uiScheduler27","_uiScheduler28","_uiSchedulerAppointments","_uiSchedulerAppointments2","_compactAppointmentsHelper","_uiScheduler29","_uiScheduler30","_async_template_mixin","_async_template_mixin2","_data_helper","_data_helper2","_ui5","_ui6","_deferred","_deferred2","_empty_template","_bindable_template","_themes","_themes2","_browser","_browser2","_support","_utils3","_utils4","_constants","obj","when","Deferred","toMs","WIDGET_CLASS","WIDGET_SMALL_CLASS","WIDGET_ADAPTIVE_CLASS","WIDGET_WIN_NO_TOUCH_CLASS","WIDGET_READONLY_CLASS","RECURRENCE_EDITOR_ITEM_CLASS","RECURRENCE_EDITOR_OPENED_ITEM_CLASS","WIDGET_SMALL_WIDTH","FULL_DATE_FORMAT","UTC_FULL_DATE_FORMAT","VIEWS_CONFIG","day","workSpace","renderingStrategy","week","workWeek","month","timelineDay","timelineWeek","timelineWorkWeek","timelineMonth","agenda","Scheduler","_getDefaultOptions","views","currentView","currentDate","min","max","dateSerializationFormat","firstDayOfWeek","groups","resources","dataSource","customizeDateNavigatorText","appointmentTemplate","dropDownAppointmentTemplate","appointmentCollectorTemplate","dataCellTemplate","timeCellTemplate","resourceCellTemplate","dateCellTemplate","startDayHour","endDayHour","editing","allowAdding","allowDeleting","allowDragging","allowResizing","allowUpdating","showAllDayPanel","showCurrentTimeIndicator","shadeUntilCurrentTime","indicatorUpdateInterval","indicatorTime","recurrenceEditMode","cellDuration","maxAppointmentsPerCell","selectedCellData","groupByDate","onAppointmentRendered","onAppointmentClick","onAppointmentDblClick","onAppointmentContextMenu","onCellClick","onCellContextMenu","onAppointmentAdding","onAppointmentAdded","onAppointmentUpdating","onAppointmentUpdated","onAppointmentDeleting","onAppointmentDeleted","onAppointmentFormOpening","appointmentTooltipTemplate","appointmentPopupTemplate","crossScrollingEnabled","useDropDownViewSwitcher","startDateExpr","endDateExpr","textExpr","descriptionExpr","allDayExpr","recurrenceRuleExpr","recurrenceExceptionExpr","remoteFiltering","timeZone","startDateTimeZoneExpr","endDateTimeZoneExpr","noDataText","adaptivityEnabled","allowMultipleCellSelection","_appointmentTooltipOffset","x","y","_appointmentTooltipButtonsPosition","_appointmentTooltipOpenButtonText","_dropDownButtonIcon","_appointmentCountPerCell","_collectorOffset","_appointmentOffset","_defaultOptionsRules","device","options","focusStateEnabled","text","data","span","_setDeprecatedOptions","onAppointmentFormCreated","since","alias","message","_postponeDataSourceLoading","_postponeResourceLoading","_this","whenLoaded","resolveCallbacks","_optionChanged","_this2","value","args","name","items","allowDrag","allowResize","itemTemplate","_updateHeader","viewCountConfig","_dateOption","optionValue","_getSerializationFormat","_bringEditingModeToAppointments","editingConfig","allowDelete","_isAgenda","_allowDragging","_allowResizing","_allowAllDayResizing","_supportAllDayResizing","_isAllDayExpanded","_getTimezoneOffsetByOption","_calculateTimezoneByValue","result","date","dateUtc","Date","_filterAppointmentsByDate","dateRange","_loadResources","_dataSourceLoadedCallback","_reloadDataSource","container","position","of","_fireContentReadyAction","_dimensionChanged","filteredItems","appointments","_clean","_toggleSmallClass","width","_toggleAdaptiveClass","_visibilityChanged","visible","_dataSourceOptions","paginate","_init","startDate","endDate","startDateTimeZone","endDateTimeZone","allDay","description","recurrenceRule","recurrenceException","combinedDataAccessors","_initTemplates","setDefaultTemplate","_initAppointmentTemplate","_this3","expr","createGetter","_combineDataAccessors","resourcesDataAccessors","_renderContent","_dataSourceChangedHandler","_getAppointmentsToRepaint","_initExpressions","isDateField","getter","setter","that","dateGetter","format","dateSetter","_updateExpression","exprObj","_initEditing","_isReadOnly","Object","_customizeStoreLoadOptions","_dispose","_customizeStoreLoadOptionsHandler","_initActions","_getAppointmentRenderedAction","excludeValidators","_renderFocusTarget","_initMarkup","_getAppointmentTooltipOptions","_this4","createComponent","getScrollableContainer","getAppointmentTemplate","showAppointmentPopup","getTextAndFormatDate","checkAndDeleteAppointment","isAppointmentInAllDayPanel","getSingleAppointmentData","$appointment","target","_getExtraAppointmentTooltipOptions","rtlEnabled","offset","itTakesAllDay","_initMarkupCore","_this5","fixedContainer","allDayContainer","_isLoaded","_isResourcesLoaded","_isDataSourceLoaded","_render","_renderHeader","$header","_headerConfig","currentViewOptions","countConfig","tabIndex","_appointmentsConfig","config","observer","onItemRendered","onItemClick","onItemContextMenu","allowAllDayResize","onContentReady","getCollectorOffset","getAppointmentDurationInMinutes","_processCurrentView","isViewIsObject","viewName","view","viewType","_getCurrentViewType","_getAppointmentsRenderingStrategy","_renderWorkSpace","$workSpace","_getViewCountConfig","viewCount","intervalCount","_getViewByName","i","_recalculateWorkspace","_this6","_workSpaceConfig","_this7","accessKey","allDayExpanded","onSelectionChanged","_getCurrentViewOptions","_getCurrentViewOption","_getAppointmentTemplate","_updateOption","_refreshWorkSpace","_this8","_cleanWorkspace","getWorkSpaceScrollable","getWorkSpaceScrollableScrollTop","getWorkSpaceScrollableScrollLeft","getWorkSpaceScrollableContainer","getWorkSpaceAllDayHeight","getWorkSpaceAllDayOffset","getWorkSpaceHeaderPanelHeight","getWorkSpaceDateTableOffset","getWorkSpace","getAppointmentModel","getHeader","getMaxAppointmentsPerCell","_cleanPopup","_convertDatesByTimezoneBack","targetAppointmentData","processedStartDate","applyAppointmentTimezone","processedEndDate","_checkRecurringAppointment","callback","editMode","dragEvent","_singleAppointmentChangesHandler","exceptionDate","isNaN","startDateClientTzOffset","endDateClientTzOffset","processedStartDateInUTC","processedEndDateInUTC","commonTimezoneOffset","processAppointmentDates","updatedAppointment","_makeDateAsRecurrenceException","exceptionByDate","_getRecurrenceExceptionDate","exceptionStartDate","appointmentStartDate","timezoneDiff","targetStartDate","_showRecurrenceChangeConfirm","isDeleted","seriesText","occurrenceText","messageHtml","showCloseButton","showTitle","buttons","onClick","_getUpdatedData","cellData","targetAllDay","targetEndDate","duration","diff","updatedData","dateCopy","_getCoordinates","dates","currentCoords","j","initialStartDate","initialDates","_isAppointmentRecurrence","resizePopup","_getSingleAppointmentData","resultAppointmentData","isAllDay","appointmentDuration","updatedStartDate","apptDataCalculator","coordinates","_needUpdateAppointmentData","subscribe","fire","Array","getTargetCellData","_updateAppointment","updatingOptions","newData","oldData","cancel","performFailAction","onUpdatePrevented","err","_processActionResult","_this9","actionOptions","_expandAllDayPanel","_executeActionWhenOperationIsCompleted","appointmentData","appointment","isError","e","action","_showAppointmentPopup","getAppointmentPopup","getAppointmentDetailsForm","getUpdatedAppointment","getUpdatedAppointmentKeys","getAppointmentsInstance","getResourceManager","getLayoutManager","getRenderingStrategyInstance","getFilteredItems","getActions","appointmentTakesAllDay","_getStartDate","_getEndDate","isSameDate","_getRecurrenceException","exceptions","exceptionByStartDate","_convertRecurrenceException","exception","recurrenceEditorVisibilityChanged","dayHasAppointment","dayTimeStamp","startDateTimeStamp","endDateTimeStamp","setTargetedAppointmentResources","resourcesSetter","getGroups","apptSettings","setResourceCallback","group","setting","left","top","getStartViewDate","getEndViewDate","singleAppointment","currentAppointmentData","skipDateCalculation","createNewAppointment","hideAppointmentPopup","saveChanges","showAppointmentTooltip","color","currentData","showAppointmentTooltipCore","hideAppointmentTooltip","scrollToTime","addAppointment","addingOptions","clientOffset","updateAppointment","deleteAppointment","deletingOptions","focus","getFirstDayOfWeek","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/ui.scheduler.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _callbacks = require(\"../../core/utils/callbacks\");\r\nvar _callbacks2 = _interopRequireDefault(_callbacks);\r\nvar _translator = require(\"../../animation/translator\");\r\nvar _translator2 = _interopRequireDefault(_translator);\r\nvar _ui = require(\"../widget/ui.errors\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _window2 = _interopRequireDefault(_window);\r\nvar _dialog = require(\"../dialog\");\r\nvar _dialog2 = _interopRequireDefault(_dialog);\r\nvar _utils = require(\"./utils.recurrence\");\r\nvar _utils2 = _interopRequireDefault(_utils);\r\nvar _dom = require(\"../../core/utils/dom\");\r\nvar _dom2 = _interopRequireDefault(_dom);\r\nvar _date = require(\"../../core/utils/date\");\r\nvar _date2 = _interopRequireDefault(_date);\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _type2 = _interopRequireDefault(_type);\r\nvar _devices = require(\"../../core/devices\");\r\nvar _devices2 = _interopRequireDefault(_devices);\r\nvar _config = require(\"../../core/config\");\r\nvar _config2 = _interopRequireDefault(_config);\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _data2 = _interopRequireDefault(_data);\r\nvar _component_registrator = require(\"../../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _message = require(\"../../localization/message\");\r\nvar _message2 = _interopRequireDefault(_message);\r\nvar _date_serialization = require(\"../../core/utils/date_serialization\");\r\nvar _date_serialization2 = _interopRequireDefault(_date_serialization);\r\nvar _date3 = require(\"../../localization/date\");\r\nvar _date4 = _interopRequireDefault(_date3);\r\nvar _ui3 = require(\"../widget/ui.widget\");\r\nvar _ui4 = _interopRequireDefault(_ui3);\r\nvar _uiScheduler = require(\"./ui.scheduler.subscribes\");\r\nvar _uiScheduler2 = _interopRequireDefault(_uiScheduler);\r\nvar _desktopTooltipStrategy = require(\"./tooltip_strategies/desktopTooltipStrategy\");\r\nvar _mobileTooltipStrategy = require(\"./tooltip_strategies/mobileTooltipStrategy\");\r\nvar _appointmentPopup = require(\"./appointmentPopup\");\r\nvar _appointmentPopup2 = _interopRequireDefault(_appointmentPopup);\r\nvar _uiScheduler3 = require(\"./ui.scheduler.header\");\r\nvar _uiScheduler4 = _interopRequireDefault(_uiScheduler3);\r\nvar _uiScheduler5 = require(\"./workspaces/ui.scheduler.work_space_day\");\r\nvar _uiScheduler6 = _interopRequireDefault(_uiScheduler5);\r\nvar _uiScheduler7 = require(\"./workspaces/ui.scheduler.work_space_week\");\r\nvar _uiScheduler8 = _interopRequireDefault(_uiScheduler7);\r\nvar _uiScheduler9 = require(\"./workspaces/ui.scheduler.work_space_work_week\");\r\nvar _uiScheduler10 = _interopRequireDefault(_uiScheduler9);\r\nvar _uiScheduler11 = require(\"./workspaces/ui.scheduler.work_space_month\");\r\nvar _uiScheduler12 = _interopRequireDefault(_uiScheduler11);\r\nvar _uiScheduler13 = require(\"./workspaces/ui.scheduler.timeline_day\");\r\nvar _uiScheduler14 = _interopRequireDefault(_uiScheduler13);\r\nvar _uiScheduler15 = require(\"./workspaces/ui.scheduler.timeline_week\");\r\nvar _uiScheduler16 = _interopRequireDefault(_uiScheduler15);\r\nvar _uiScheduler17 = require(\"./workspaces/ui.scheduler.timeline_work_week\");\r\nvar _uiScheduler18 = _interopRequireDefault(_uiScheduler17);\r\nvar _uiScheduler19 = require(\"./workspaces/ui.scheduler.timeline_month\");\r\nvar _uiScheduler20 = _interopRequireDefault(_uiScheduler19);\r\nvar _uiScheduler21 = require(\"./workspaces/ui.scheduler.agenda\");\r\nvar _uiScheduler22 = _interopRequireDefault(_uiScheduler21);\r\nvar _uiScheduler23 = require(\"./ui.scheduler.resource_manager\");\r\nvar _uiScheduler24 = _interopRequireDefault(_uiScheduler23);\r\nvar _uiScheduler25 = require(\"./ui.scheduler.appointment_model\");\r\nvar _uiScheduler26 = _interopRequireDefault(_uiScheduler25);\r\nvar _uiScheduler27 = require(\"./ui.scheduler.appointments\");\r\nvar _uiScheduler28 = _interopRequireDefault(_uiScheduler27);\r\nvar _uiSchedulerAppointments = require(\"./ui.scheduler.appointments.layout_manager\");\r\nvar _uiSchedulerAppointments2 = _interopRequireDefault(_uiSchedulerAppointments);\r\nvar _compactAppointmentsHelper = require(\"./compactAppointmentsHelper\");\r\nvar _uiScheduler29 = require(\"./timezones/ui.scheduler.timezones\");\r\nvar _uiScheduler30 = _interopRequireDefault(_uiScheduler29);\r\nvar _async_template_mixin = require(\"../shared/async_template_mixin\");\r\nvar _async_template_mixin2 = _interopRequireDefault(_async_template_mixin);\r\nvar _data_helper = require(\"../../data_helper\");\r\nvar _data_helper2 = _interopRequireDefault(_data_helper);\r\nvar _ui5 = require(\"./ui.loading\");\r\nvar _ui6 = _interopRequireDefault(_ui5);\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _deferred2 = _interopRequireDefault(_deferred);\r\nvar _empty_template = require(\"../../core/templates/empty_template\");\r\nvar _bindable_template = require(\"../../core/templates/bindable_template\");\r\nvar _themes = require(\"../themes\");\r\nvar _themes2 = _interopRequireDefault(_themes);\r\nvar _browser = require(\"../../core/utils/browser\");\r\nvar _browser2 = _interopRequireDefault(_browser);\r\nvar _support = require(\"../../core/utils/support\");\r\nvar _utils3 = require(\"./utils\");\r\nvar _utils4 = _interopRequireDefault(_utils3);\r\nvar _constants = require(\"./constants\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar when = _deferred2.default.when;\r\nvar Deferred = _deferred2.default.Deferred;\r\nvar toMs = _date2.default.dateToMilliseconds;\r\nvar WIDGET_CLASS = \"dx-scheduler\";\r\nvar WIDGET_SMALL_CLASS = \"\".concat(WIDGET_CLASS, \"-small\");\r\nvar WIDGET_ADAPTIVE_CLASS = \"\".concat(WIDGET_CLASS, \"-adaptive\");\r\nvar WIDGET_WIN_NO_TOUCH_CLASS = \"\".concat(WIDGET_CLASS, \"-win-no-touch\");\r\nvar WIDGET_READONLY_CLASS = \"\".concat(WIDGET_CLASS, \"-readonly\");\r\nvar RECURRENCE_EDITOR_ITEM_CLASS = \"\".concat(WIDGET_CLASS, \"-recurrence-rule-item\");\r\nvar RECURRENCE_EDITOR_OPENED_ITEM_CLASS = \"\".concat(WIDGET_CLASS, \"-recurrence-rule-item-opened\");\r\nvar WIDGET_SMALL_WIDTH = 400;\r\nvar FULL_DATE_FORMAT = \"yyyyMMddTHHmmss\";\r\nvar UTC_FULL_DATE_FORMAT = FULL_DATE_FORMAT + \"Z\";\r\nvar VIEWS_CONFIG = {\r\n    day: {\r\n        workSpace: _uiScheduler6.default,\r\n        renderingStrategy: \"vertical\"\r\n    },\r\n    week: {\r\n        workSpace: _uiScheduler8.default,\r\n        renderingStrategy: \"vertical\"\r\n    },\r\n    workWeek: {\r\n        workSpace: _uiScheduler10.default,\r\n        renderingStrategy: \"vertical\"\r\n    },\r\n    month: {\r\n        workSpace: _uiScheduler12.default,\r\n        renderingStrategy: \"horizontalMonth\"\r\n    },\r\n    timelineDay: {\r\n        workSpace: _uiScheduler14.default,\r\n        renderingStrategy: \"horizontal\"\r\n    },\r\n    timelineWeek: {\r\n        workSpace: _uiScheduler16.default,\r\n        renderingStrategy: \"horizontal\"\r\n    },\r\n    timelineWorkWeek: {\r\n        workSpace: _uiScheduler18.default,\r\n        renderingStrategy: \"horizontal\"\r\n    },\r\n    timelineMonth: {\r\n        workSpace: _uiScheduler20.default,\r\n        renderingStrategy: \"horizontalMonthLine\"\r\n    },\r\n    agenda: {\r\n        workSpace: _uiScheduler22.default,\r\n        renderingStrategy: \"agenda\"\r\n    }\r\n};\r\nvar Scheduler = _ui4.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            views: [\"day\", \"week\"],\r\n            currentView: \"day\",\r\n            currentDate: _date2.default.trimTime(new Date),\r\n            min: void 0,\r\n            max: void 0,\r\n            dateSerializationFormat: void 0,\r\n            firstDayOfWeek: void 0,\r\n            groups: [],\r\n            resources: [],\r\n            dataSource: null,\r\n            customizeDateNavigatorText: void 0,\r\n            appointmentTemplate: \"item\",\r\n            dropDownAppointmentTemplate: \"dropDownAppointment\",\r\n            appointmentCollectorTemplate: \"appointmentCollector\",\r\n            dataCellTemplate: null,\r\n            timeCellTemplate: null,\r\n            resourceCellTemplate: null,\r\n            dateCellTemplate: null,\r\n            startDayHour: 0,\r\n            endDayHour: 24,\r\n            editing: {\r\n                allowAdding: true,\r\n                allowDeleting: true,\r\n                allowDragging: true,\r\n                allowResizing: true,\r\n                allowUpdating: true\r\n            },\r\n            showAllDayPanel: true,\r\n            showCurrentTimeIndicator: true,\r\n            shadeUntilCurrentTime: false,\r\n            indicatorUpdateInterval: 3e5,\r\n            indicatorTime: void 0,\r\n            recurrenceEditMode: \"dialog\",\r\n            cellDuration: 30,\r\n            maxAppointmentsPerCell: \"auto\",\r\n            selectedCellData: [],\r\n            groupByDate: false,\r\n            onAppointmentRendered: null,\r\n            onAppointmentClick: null,\r\n            onAppointmentDblClick: null,\r\n            onAppointmentContextMenu: null,\r\n            onCellClick: null,\r\n            onCellContextMenu: null,\r\n            onAppointmentAdding: null,\r\n            onAppointmentAdded: null,\r\n            onAppointmentUpdating: null,\r\n            onAppointmentUpdated: null,\r\n            onAppointmentDeleting: null,\r\n            onAppointmentDeleted: null,\r\n            onAppointmentFormOpening: null,\r\n            appointmentTooltipTemplate: \"appointmentTooltip\",\r\n            appointmentPopupTemplate: \"appointmentPopup\",\r\n            crossScrollingEnabled: false,\r\n            useDropDownViewSwitcher: false,\r\n            startDateExpr: \"startDate\",\r\n            endDateExpr: \"endDate\",\r\n            textExpr: \"text\",\r\n            descriptionExpr: \"description\",\r\n            allDayExpr: \"allDay\",\r\n            recurrenceRuleExpr: \"recurrenceRule\",\r\n            recurrenceExceptionExpr: \"recurrenceException\",\r\n            remoteFiltering: false,\r\n            timeZone: \"\",\r\n            startDateTimeZoneExpr: \"startDateTimeZone\",\r\n            endDateTimeZoneExpr: \"endDateTimeZone\",\r\n            noDataText: _message2.default.format(\"dxCollectionWidget-noDataText\"),\r\n            adaptivityEnabled: false,\r\n            allowMultipleCellSelection: true,\r\n            _appointmentTooltipOffset: {\r\n                x: 0,\r\n                y: 0\r\n            },\r\n            _appointmentTooltipButtonsPosition: \"bottom\",\r\n            _appointmentTooltipOpenButtonText: _message2.default.format(\"dxScheduler-openAppointment\"),\r\n            _dropDownButtonIcon: \"overflow\",\r\n            _appointmentCountPerCell: 2,\r\n            _collectorOffset: 0,\r\n            _appointmentOffset: 26\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return !_devices2.default.current().generic\r\n            },\r\n            options: {\r\n                useDropDownViewSwitcher: true,\r\n                editing: {\r\n                    allowDragging: false,\r\n                    allowResizing: false\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return _themes2.default.isMaterial()\r\n            },\r\n            options: {\r\n                useDropDownViewSwitcher: true,\r\n                dateCellTemplate: function(data, index, element) {\r\n                    var text = data.text;\r\n                    text.split(\" \").forEach(function(text, index) {\r\n                        var span = (0, _renderer2.default)(\"<span>\").text(text).addClass(\"dx-scheduler-header-panel-cell-date\");\r\n                        (0, _renderer2.default)(element).append(span);\r\n                        if (!index) {\r\n                            (0, _renderer2.default)(element).append(\" \")\r\n                        }\r\n                    })\r\n                },\r\n                _appointmentTooltipOffset: {\r\n                    x: 0,\r\n                    y: 11\r\n                },\r\n                _appointmentTooltipButtonsPosition: \"top\",\r\n                _appointmentTooltipOpenButtonText: null,\r\n                _dropDownButtonIcon: \"chevrondown\",\r\n                _appointmentCountPerCell: 1,\r\n                _collectorOffset: 20,\r\n                _appointmentOffset: 30\r\n            }\r\n        }])\r\n    },\r\n    _setDeprecatedOptions: function() {\r\n        this.callBase();\r\n        (0, _extend.extend)(this._deprecatedOptions, {\r\n            onAppointmentFormCreated: {\r\n                since: \"18.2\",\r\n                alias: \"onAppointmentFormOpening\"\r\n            },\r\n            dropDownAppointmentTemplate: {\r\n                since: \"19.2\",\r\n                message: \"appointmentTooltipTemplate\"\r\n            }\r\n        })\r\n    },\r\n    _postponeDataSourceLoading: function(promise) {\r\n        this.postponedOperations.add(\"_reloadDataSource\", this._reloadDataSource.bind(this), promise)\r\n    },\r\n    _postponeResourceLoading: function() {\r\n        var _this = this;\r\n        var whenLoaded = this.postponedOperations.add(\"_loadResources\", function() {\r\n            return _this._loadResources()\r\n        });\r\n        var resolveCallbacks = new Deferred;\r\n        whenLoaded.done(function(resources) {\r\n            resolveCallbacks.resolve(resources)\r\n        });\r\n        this._postponeDataSourceLoading(whenLoaded);\r\n        return resolveCallbacks.promise()\r\n    },\r\n    _optionChanged: function(args) {\r\n        var _this2 = this;\r\n        var value = args.value;\r\n        var name = args.name;\r\n        switch (args.name) {\r\n            case \"customizeDateNavigatorText\":\r\n                this._updateOption(\"header\", name, value);\r\n                break;\r\n            case \"firstDayOfWeek\":\r\n                this._updateOption(\"workSpace\", name, value);\r\n                this._updateOption(\"header\", name, value);\r\n                break;\r\n            case \"currentDate\":\r\n                value = this._dateOption(name);\r\n                value = _date2.default.trimTime(new Date(value));\r\n                this.option(\"selectedCellData\", []);\r\n                this._workSpace.option(name, new Date(value));\r\n                this._header.option(name, new Date(value));\r\n                this._header.option(\"displayedDate\", this._workSpace._getViewStartByOptions());\r\n                this._appointments.option(\"items\", []);\r\n                this._filterAppointmentsByDate();\r\n                this._postponeDataSourceLoading();\r\n                break;\r\n            case \"dataSource\":\r\n                this._initDataSource();\r\n                this._customizeStoreLoadOptions();\r\n                this._appointmentModel.setDataSource(this._dataSource);\r\n                this._postponeResourceLoading().done(function(resources) {\r\n                    _this2._filterAppointmentsByDate();\r\n                    _this2._updateOption(\"workSpace\", \"showAllDayPanel\", _this2.option(\"showAllDayPanel\"))\r\n                });\r\n                break;\r\n            case \"min\":\r\n            case \"max\":\r\n                value = this._dateOption(name);\r\n                this._updateOption(\"header\", name, new Date(value));\r\n                this._updateOption(\"workSpace\", name, new Date(value));\r\n                break;\r\n            case \"views\":\r\n                this._processCurrentView();\r\n                if (this._getCurrentViewOptions()) {\r\n                    this.repaint()\r\n                } else {\r\n                    this._header.option(name, value)\r\n                }\r\n                break;\r\n            case \"useDropDownViewSwitcher\":\r\n                this._header.option(name, value);\r\n                break;\r\n            case \"currentView\":\r\n                this._processCurrentView();\r\n                this.getLayoutManager().initRenderingStrategy(this._getAppointmentsRenderingStrategy());\r\n                this._appointments.option({\r\n                    items: [],\r\n                    allowDrag: this._allowDragging(),\r\n                    allowResize: this._allowResizing(),\r\n                    itemTemplate: this._getAppointmentTemplate(\"appointmentTemplate\")\r\n                });\r\n                this._postponeResourceLoading().done(function(resources) {\r\n                    _this2._refreshWorkSpace(resources);\r\n                    _this2._updateHeader();\r\n                    _this2._filterAppointmentsByDate();\r\n                    _this2._appointments.option(\"allowAllDayResize\", \"day\" !== value)\r\n                });\r\n                break;\r\n            case \"appointmentTemplate\":\r\n                this._appointments.option(\"itemTemplate\", value);\r\n                break;\r\n            case \"dateCellTemplate\":\r\n            case \"resourceCellTemplate\":\r\n            case \"dataCellTemplate\":\r\n            case \"timeCellTemplate\":\r\n                this._updateOption(\"workSpace\", name, value);\r\n                this.repaint();\r\n                break;\r\n            case \"groups\":\r\n                this._postponeResourceLoading().done(function(resources) {\r\n                    _this2._refreshWorkSpace(resources);\r\n                    _this2._filterAppointmentsByDate()\r\n                });\r\n                break;\r\n            case \"resources\":\r\n                this._resourcesManager.setResources(this.option(\"resources\"));\r\n                this._appointmentModel.setDataAccessors(this._combineDataAccessors());\r\n                this._postponeResourceLoading().done(function(resources) {\r\n                    _this2._appointments.option(\"items\", []);\r\n                    _this2._refreshWorkSpace(resources);\r\n                    _this2._filterAppointmentsByDate()\r\n                });\r\n                break;\r\n            case \"startDayHour\":\r\n            case \"endDayHour\":\r\n                this._appointments.option(\"items\", []);\r\n                this._updateOption(\"workSpace\", name, value);\r\n                this._appointments.repaint();\r\n                this._filterAppointmentsByDate();\r\n                this._postponeDataSourceLoading();\r\n                break;\r\n            case \"onAppointmentAdding\":\r\n            case \"onAppointmentAdded\":\r\n            case \"onAppointmentUpdating\":\r\n            case \"onAppointmentUpdated\":\r\n            case \"onAppointmentDeleting\":\r\n            case \"onAppointmentDeleted\":\r\n            case \"onAppointmentFormOpening\":\r\n                this._actions[name] = this._createActionByOption(name);\r\n                break;\r\n            case \"onAppointmentRendered\":\r\n                this._appointments.option(\"onItemRendered\", this._getAppointmentRenderedAction());\r\n                break;\r\n            case \"onAppointmentClick\":\r\n                this._appointments.option(\"onItemClick\", this._createActionByOption(name));\r\n                break;\r\n            case \"onAppointmentDblClick\":\r\n                this._appointments.option(name, this._createActionByOption(name));\r\n                break;\r\n            case \"onAppointmentContextMenu\":\r\n                this._appointments.option(\"onItemContextMenu\", this._createActionByOption(name));\r\n                break;\r\n            case \"noDataText\":\r\n            case \"allowMultipleCellSelection\":\r\n            case \"selectedCellData\":\r\n            case \"accessKey\":\r\n            case \"onCellClick\":\r\n                this._workSpace.option(name, value);\r\n                break;\r\n            case \"onCellContextMenu\":\r\n                this._workSpace.option(name, value);\r\n                break;\r\n            case \"crossScrollingEnabled\":\r\n                this._postponeResourceLoading().done(function(resources) {\r\n                    _this2._appointments.option(\"items\", []);\r\n                    _this2._refreshWorkSpace(resources);\r\n                    if (_this2._readyToRenderAppointments) {\r\n                        _this2._appointments.option(\"items\", _this2._getAppointmentsToRepaint())\r\n                    }\r\n                });\r\n                break;\r\n            case \"cellDuration\":\r\n                this._appointments.option(\"items\", []);\r\n                if (this._readyToRenderAppointments) {\r\n                    this._updateOption(\"workSpace\", \"hoursInterval\", value / 60);\r\n                    this._appointments.option(\"items\", this._getAppointmentsToRepaint())\r\n                }\r\n                break;\r\n            case \"tabIndex\":\r\n            case \"focusStateEnabled\":\r\n                this._updateOption(\"header\", name, value);\r\n                this._updateOption(\"workSpace\", name, value);\r\n                this._appointments.option(name, value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"width\":\r\n                this._updateOption(\"header\", name, value);\r\n                if (this.option(\"crossScrollingEnabled\")) {\r\n                    this._updateOption(\"workSpace\", \"width\", value)\r\n                }\r\n                this.callBase(args);\r\n                this._dimensionChanged();\r\n                break;\r\n            case \"height\":\r\n                this.callBase(args);\r\n                this._dimensionChanged();\r\n                break;\r\n            case \"editing\":\r\n                this._initEditing();\r\n                var editing = this._editing;\r\n                this._bringEditingModeToAppointments(editing);\r\n                this.hideAppointmentTooltip();\r\n                this._cleanPopup();\r\n                break;\r\n            case \"showAllDayPanel\":\r\n                this._postponeResourceLoading().done(function(resources) {\r\n                    _this2._filterAppointmentsByDate();\r\n                    _this2._updateOption(\"workSpace\", \"allDayExpanded\", value);\r\n                    _this2._updateOption(\"workSpace\", name, value)\r\n                });\r\n                break;\r\n            case \"showCurrentTimeIndicator\":\r\n            case \"indicatorTime\":\r\n            case \"indicatorUpdateInterval\":\r\n            case \"shadeUntilCurrentTime\":\r\n            case \"groupByDate\":\r\n                this._updateOption(\"workSpace\", name, value);\r\n                this.repaint();\r\n                break;\r\n            case \"appointmentDragging\":\r\n            case \"appointmentTooltipTemplate\":\r\n            case \"appointmentPopupTemplate\":\r\n            case \"recurrenceEditMode\":\r\n            case \"remoteFiltering\":\r\n            case \"timeZone\":\r\n            case \"dropDownAppointmentTemplate\":\r\n            case \"appointmentCollectorTemplate\":\r\n            case \"_appointmentTooltipOffset\":\r\n            case \"_appointmentTooltipButtonsPosition\":\r\n            case \"_appointmentTooltipOpenButtonText\":\r\n            case \"_dropDownButtonIcon\":\r\n            case \"_appointmentCountPerCell\":\r\n            case \"_collectorOffset\":\r\n            case \"_appointmentOffset\":\r\n                this.repaint();\r\n                break;\r\n            case \"dateSerializationFormat\":\r\n                break;\r\n            case \"maxAppointmentsPerCell\":\r\n                break;\r\n            case \"startDateExpr\":\r\n            case \"endDateExpr\":\r\n            case \"startDateTimeZoneExpr\":\r\n            case \"endDateTimeZoneExpr\":\r\n            case \"textExpr\":\r\n            case \"descriptionExpr\":\r\n            case \"allDayExpr\":\r\n            case \"recurrenceRuleExpr\":\r\n            case \"recurrenceExceptionExpr\":\r\n                this._updateExpression(name, value);\r\n                this._appointmentModel.setDataAccessors(this._combineDataAccessors());\r\n                this._initAppointmentTemplate();\r\n                this.repaint();\r\n                break;\r\n            case \"adaptivityEnabled\":\r\n                this._toggleAdaptiveClass();\r\n                this.repaint();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _updateHeader: function() {\r\n        var viewCountConfig = this._getViewCountConfig();\r\n        this._header.option(\"intervalCount\", viewCountConfig.intervalCount);\r\n        this._header.option(\"displayedDate\", this._workSpace._getViewStartByOptions());\r\n        this._header.option(\"min\", this._dateOption(\"min\"));\r\n        this._header.option(\"max\", this._dateOption(\"max\"));\r\n        this._header.option(\"currentDate\", this._dateOption(\"currentDate\"));\r\n        this._header.option(\"firstDayOfWeek\", this._getCurrentViewOption(\"firstDayOfWeek\"));\r\n        this._header.option(\"currentView\", this._currentView)\r\n    },\r\n    _dateOption: function(optionName) {\r\n        var optionValue = this._getCurrentViewOption(optionName);\r\n        return _date_serialization2.default.deserializeDate(optionValue)\r\n    },\r\n    _getSerializationFormat: function(optionName) {\r\n        var value = this._getCurrentViewOption(optionName);\r\n        if (\"number\" === typeof value) {\r\n            return \"number\"\r\n        }\r\n        if (!_type2.default.isString(value)) {\r\n            return\r\n        }\r\n        return _date_serialization2.default.getDateSerializationFormat(value)\r\n    },\r\n    _bringEditingModeToAppointments: function(editing) {\r\n        var editingConfig = {\r\n            allowDelete: editing.allowUpdating && editing.allowDeleting\r\n        };\r\n        if (!this._isAgenda()) {\r\n            editingConfig.allowDrag = editing.allowDragging;\r\n            editingConfig.allowResize = editing.allowResizing;\r\n            editingConfig.allowAllDayResize = editing.allowResizing && this._supportAllDayResizing()\r\n        }\r\n        this._appointments.option(editingConfig);\r\n        this.repaint()\r\n    },\r\n    _isAgenda: function() {\r\n        return \"agenda\" === this._getAppointmentsRenderingStrategy()\r\n    },\r\n    _allowDragging: function() {\r\n        return this._editing.allowDragging && !this._isAgenda()\r\n    },\r\n    _allowResizing: function() {\r\n        return this._editing.allowResizing && !this._isAgenda()\r\n    },\r\n    _allowAllDayResizing: function() {\r\n        return this._editing.allowResizing && this._supportAllDayResizing()\r\n    },\r\n    _supportAllDayResizing: function() {\r\n        return \"day\" !== this._getCurrentViewType() || this._currentView.intervalCount > 1\r\n    },\r\n    _isAllDayExpanded: function(items) {\r\n        return this.option(\"showAllDayPanel\") && this._appointmentModel.hasAllDayAppointments(items, this._getCurrentViewOption(\"startDayHour\"), this._getCurrentViewOption(\"endDayHour\"))\r\n    },\r\n    _getTimezoneOffsetByOption: function(date) {\r\n        return this._calculateTimezoneByValue(this.option(\"timeZone\"), date)\r\n    },\r\n    _calculateTimezoneByValue: function(timezone, date) {\r\n        var result = timezone;\r\n        if (\"string\" === typeof timezone) {\r\n            date = date || new Date;\r\n            var dateUtc = Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes());\r\n            result = _uiScheduler30.default.getTimezoneOffsetById(timezone, dateUtc)\r\n        }\r\n        return result\r\n    },\r\n    _filterAppointmentsByDate: function() {\r\n        var dateRange = this._workSpace.getDateRange();\r\n        this._appointmentModel.filterByDate(dateRange[0], dateRange[1], this.option(\"remoteFiltering\"), this.option(\"dateSerializationFormat\"))\r\n    },\r\n    _loadResources: function() {\r\n        var groups = this._getCurrentViewOption(\"groups\");\r\n        var result = new Deferred;\r\n        this._resourcesManager.loadResources(groups).done(function(resources) {\r\n            this._loadedResources = resources;\r\n            result.resolve(resources)\r\n        }.bind(this));\r\n        return result.promise()\r\n    },\r\n    _dataSourceLoadedCallback: (0, _callbacks2.default)(),\r\n    _reloadDataSource: function() {\r\n        var result = new Deferred;\r\n        if (this._dataSource) {\r\n            this._dataSource.load().done(function() {\r\n                _ui6.default.hide();\r\n                this._fireContentReadyAction(result)\r\n            }.bind(this)).fail(function() {\r\n                _ui6.default.hide();\r\n                result.reject()\r\n            });\r\n            this._dataSource.isLoading() && _ui6.default.show({\r\n                container: this.$element(),\r\n                position: {\r\n                    of: this.$element()\r\n                }\r\n            })\r\n        } else {\r\n            this._fireContentReadyAction(result)\r\n        }\r\n        return result.promise()\r\n    },\r\n    _fireContentReadyAction: function(result) {\r\n        this.callBase();\r\n        result && result.resolve()\r\n    },\r\n    _dimensionChanged: function() {\r\n        var filteredItems = this.getFilteredItems();\r\n        this._toggleSmallClass();\r\n        if (!this._isAgenda() && filteredItems && this._isVisible()) {\r\n            this._workSpace._cleanAllowedPositions();\r\n            this._workSpace.option(\"allDayExpanded\", this._isAllDayExpanded(filteredItems));\r\n            this._workSpace._dimensionChanged();\r\n            var appointments = this._layoutManager.createAppointmentsMap(filteredItems);\r\n            this._appointments.option(\"items\", appointments)\r\n        }\r\n        this.hideAppointmentTooltip();\r\n        this.resizePopup();\r\n        this._appointmentPopup.updatePopupFullScreenMode()\r\n    },\r\n    _clean: function() {\r\n        this._cleanPopup();\r\n        this.callBase()\r\n    },\r\n    _toggleSmallClass: function() {\r\n        var width = this.$element().get(0).getBoundingClientRect().width;\r\n        this.$element().toggleClass(WIDGET_SMALL_CLASS, width < WIDGET_SMALL_WIDTH)\r\n    },\r\n    _toggleAdaptiveClass: function() {\r\n        this.$element().toggleClass(WIDGET_ADAPTIVE_CLASS, this.option(\"adaptivityEnabled\"))\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        visible && this._dimensionChanged()\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: false\r\n        }\r\n    },\r\n    _init: function() {\r\n        this._initExpressions({\r\n            startDate: this.option(\"startDateExpr\"),\r\n            endDate: this.option(\"endDateExpr\"),\r\n            startDateTimeZone: this.option(\"startDateTimeZoneExpr\"),\r\n            endDateTimeZone: this.option(\"endDateTimeZoneExpr\"),\r\n            allDay: this.option(\"allDayExpr\"),\r\n            text: this.option(\"textExpr\"),\r\n            description: this.option(\"descriptionExpr\"),\r\n            recurrenceRule: this.option(\"recurrenceRuleExpr\"),\r\n            recurrenceException: this.option(\"recurrenceExceptionExpr\")\r\n        });\r\n        this.callBase();\r\n        this._initDataSource();\r\n        this._loadedResources = [];\r\n        this._proxiedCustomizeStoreLoadOptionsHandler = this._customizeStoreLoadOptionsHandler.bind(this);\r\n        this._customizeStoreLoadOptions();\r\n        this.$element().addClass(WIDGET_CLASS).toggleClass(WIDGET_WIN_NO_TOUCH_CLASS, !!(_browser2.default.msie && _support.touch));\r\n        this._initEditing();\r\n        this._resourcesManager = new _uiScheduler24.default(this.option(\"resources\"));\r\n        var combinedDataAccessors = this._combineDataAccessors();\r\n        this._appointmentModel = new _uiScheduler26.default(this._dataSource, combinedDataAccessors, this.getAppointmentDurationInMinutes());\r\n        this._initActions();\r\n        this._compactAppointmentsHelper = new _compactAppointmentsHelper.CompactAppointmentsHelper(this);\r\n        this._subscribes = _uiScheduler2.default\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._initAppointmentTemplate();\r\n        this._defaultTemplates.appointmentTooltip = new _empty_template.EmptyTemplate;\r\n        this._defaultTemplates.dropDownAppointment = new _empty_template.EmptyTemplate\r\n    },\r\n    setDefaultTemplate: function(templateName, template) {\r\n        this._defaultTemplates[templateName] = template\r\n    },\r\n    _initAppointmentTemplate: function() {\r\n        var _this3 = this;\r\n        var expr = this._dataAccessors.expr;\r\n        var createGetter = function(property) {\r\n            return _data2.default.compileGetter(\"appointmentData.\".concat(property))\r\n        };\r\n        this._defaultTemplates.item = new _bindable_template.BindableTemplate(function($container, data, model) {\r\n            _this3.getAppointmentsInstance()._renderAppointmentTemplate($container, data, model)\r\n        }, [\"html\", \"text\", \"startDate\", \"endDate\", \"allDay\", \"description\", \"recurrenceRule\", \"recurrenceException\", \"startDateTimeZone\", \"endDateTimeZone\"], this.option(\"integrationOptions.watchMethod\"), {\r\n            text: createGetter(expr.textExpr),\r\n            startDate: createGetter(expr.startDateExpr),\r\n            endDate: createGetter(expr.endDateExpr),\r\n            startDateTimeZone: createGetter(expr.startDateTimeZoneExpr),\r\n            endDateTimeZone: createGetter(expr.endDateTimeZoneExpr),\r\n            allDay: createGetter(expr.allDayExpr),\r\n            recurrenceRule: createGetter(expr.recurrenceRuleExpr)\r\n        })\r\n    },\r\n    _combineDataAccessors: function() {\r\n        var resourcesDataAccessors = this._resourcesManager._dataAccessors;\r\n        var result = (0, _extend.extend)(true, {}, this._dataAccessors);\r\n        (0, _iterator.each)(resourcesDataAccessors, function(type, accessor) {\r\n            result[type].resources = accessor\r\n        }.bind(this));\r\n        return result\r\n    },\r\n    _renderContent: function() {\r\n        this._renderContentImpl()\r\n    },\r\n    _dataSourceChangedHandler: function(result) {\r\n        if (this._readyToRenderAppointments) {\r\n            this._workSpaceRecalculation.done(function() {\r\n                this._filteredItems = this.fire(\"prerenderFilter\");\r\n                this._workSpace.option(\"allDayExpanded\", this._isAllDayExpanded(this._filteredItems));\r\n                if (this._isAgenda()) {\r\n                    this.getRenderingStrategyInstance().calculateRows(this._filteredItems, 7, this.option(\"currentDate\"), true)\r\n                }\r\n                if (this._filteredItems.length && this._isVisible()) {\r\n                    this._appointments.option(\"items\", this._getAppointmentsToRepaint());\r\n                    this._appointmentModel.cleanModelState()\r\n                } else {\r\n                    this._appointments.option(\"items\", [])\r\n                }\r\n                if (this._isAgenda()) {\r\n                    this._workSpace._renderView();\r\n                    this._dataSourceLoadedCallback.fireWith(this, [result])\r\n                }\r\n            }.bind(this))\r\n        }\r\n    },\r\n    _getAppointmentsToRepaint: function() {\r\n        var appointments = this._layoutManager.createAppointmentsMap(this._filteredItems);\r\n        return this._layoutManager.getRepaintedAppointments(appointments, this.getAppointmentsInstance().option(\"items\"))\r\n    },\r\n    _initExpressions: function(fields) {\r\n        var isDateField = function(field) {\r\n            return \"startDate\" === field || \"endDate\" === field\r\n        };\r\n        if (!this._dataAccessors) {\r\n            this._dataAccessors = {\r\n                getter: {},\r\n                setter: {},\r\n                expr: {}\r\n            }\r\n        }(0, _iterator.each)(fields, function(name, expr) {\r\n            if (expr) {\r\n                var getter = _data2.default.compileGetter(expr);\r\n                var setter = _data2.default.compileSetter(expr);\r\n                var dateGetter;\r\n                var dateSetter;\r\n                if (isDateField(name)) {\r\n                    var that = this;\r\n                    dateGetter = function() {\r\n                        var value = getter.apply(this, arguments);\r\n                        if ((0, _config2.default)().forceIsoDateParsing) {\r\n                            if (!that.option(\"dateSerializationFormat\")) {\r\n                                var format = _date_serialization2.default.getDateSerializationFormat(value);\r\n                                if (format) {\r\n                                    that.option(\"dateSerializationFormat\", format)\r\n                                }\r\n                            }\r\n                            value = _date_serialization2.default.deserializeDate(value)\r\n                        }\r\n                        return value\r\n                    };\r\n                    dateSetter = function(object, value) {\r\n                        if ((0, _config2.default)().forceIsoDateParsing || that.option(\"dateSerializationFormat\")) {\r\n                            value = _date_serialization2.default.serializeDate(value, that.option(\"dateSerializationFormat\"))\r\n                        }\r\n                        setter.call(this, object, value)\r\n                    }\r\n                }\r\n                this._dataAccessors.getter[name] = dateGetter || getter;\r\n                this._dataAccessors.setter[name] = dateSetter || setter;\r\n                this._dataAccessors.expr[name + \"Expr\"] = expr\r\n            } else {\r\n                delete this._dataAccessors.getter[name];\r\n                delete this._dataAccessors.setter[name];\r\n                delete this._dataAccessors.expr[name + \"Expr\"]\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _updateExpression: function(name, value) {\r\n        var exprObj = {};\r\n        exprObj[name.replace(\"Expr\", \"\")] = value;\r\n        this._initExpressions(exprObj)\r\n    },\r\n    _initEditing: function() {\r\n        var editing = this.option(\"editing\");\r\n        this._editing = {\r\n            allowAdding: !!editing,\r\n            allowUpdating: !!editing,\r\n            allowDeleting: !!editing,\r\n            allowResizing: !!editing,\r\n            allowDragging: !!editing\r\n        };\r\n        if (_type2.default.isObject(editing)) {\r\n            this._editing = (0, _extend.extend)(this._editing, editing)\r\n        }\r\n        this._editing.allowDragging = this._editing.allowDragging && this._editing.allowUpdating;\r\n        this._editing.allowResizing = this._editing.allowResizing && this._editing.allowUpdating;\r\n        this.$element().toggleClass(WIDGET_READONLY_CLASS, this._isReadOnly())\r\n    },\r\n    _isReadOnly: function() {\r\n        var result = true;\r\n        var editing = this._editing;\r\n        for (var prop in editing) {\r\n            if (Object.prototype.hasOwnProperty.call(editing, prop)) {\r\n                result = result && !editing[prop]\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _customizeStoreLoadOptions: function() {\r\n        this._dataSource && this._dataSource.on(\"customizeStoreLoadOptions\", this._proxiedCustomizeStoreLoadOptionsHandler)\r\n    },\r\n    _dispose: function() {\r\n        this._appointmentTooltip && this._appointmentTooltip.dispose();\r\n        this.hideAppointmentPopup();\r\n        this.hideAppointmentTooltip();\r\n        this._cleanAsyncTemplatesTimer();\r\n        this._dataSource && this._dataSource.off(\"customizeStoreLoadOptions\", this._proxiedCustomizeStoreLoadOptionsHandler);\r\n        this.callBase()\r\n    },\r\n    _customizeStoreLoadOptionsHandler: function(options) {\r\n        options.storeLoadOptions.dxScheduler = {\r\n            startDate: this.getStartViewDate(),\r\n            endDate: this.getEndViewDate(),\r\n            resources: this.option(\"resources\")\r\n        }\r\n    },\r\n    _initActions: function() {\r\n        this._actions = {\r\n            onAppointmentAdding: this._createActionByOption(\"onAppointmentAdding\"),\r\n            onAppointmentAdded: this._createActionByOption(\"onAppointmentAdded\"),\r\n            onAppointmentUpdating: this._createActionByOption(\"onAppointmentUpdating\"),\r\n            onAppointmentUpdated: this._createActionByOption(\"onAppointmentUpdated\"),\r\n            onAppointmentDeleting: this._createActionByOption(\"onAppointmentDeleting\"),\r\n            onAppointmentDeleted: this._createActionByOption(\"onAppointmentDeleted\"),\r\n            onAppointmentFormOpening: this._createActionByOption(\"onAppointmentFormOpening\")\r\n        }\r\n    },\r\n    _getAppointmentRenderedAction: function() {\r\n        return this._createActionByOption(\"onAppointmentRendered\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _renderFocusTarget: _common.noop,\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._processCurrentView();\r\n        this._renderHeader();\r\n        this._layoutManager = new _uiSchedulerAppointments2.default(this, this._getAppointmentsRenderingStrategy());\r\n        this._appointments = this._createComponent(\"<div>\", _uiScheduler28.default, this._appointmentsConfig());\r\n        this._appointments.option(\"itemTemplate\", this._getAppointmentTemplate(\"appointmentTemplate\"));\r\n        this._appointmentTooltip = new(this.option(\"adaptivityEnabled\") ? _mobileTooltipStrategy.MobileTooltipStrategy : _desktopTooltipStrategy.DesktopTooltipStrategy)(this._getAppointmentTooltipOptions());\r\n        this._appointmentPopup = new _appointmentPopup2.default(this);\r\n        if (this._isLoaded()) {\r\n            this._initMarkupCore(this._loadedResources);\r\n            this._dataSourceChangedHandler(this._dataSource.items());\r\n            this._fireContentReadyAction()\r\n        } else {\r\n            this._loadResources().done(function(resources) {\r\n                this._initMarkupCore(resources);\r\n                this._reloadDataSource()\r\n            }.bind(this))\r\n        }\r\n    },\r\n    _getAppointmentTooltipOptions: function() {\r\n        var _this4 = this;\r\n        var that = this;\r\n        return {\r\n            createComponent: that._createComponent.bind(that),\r\n            container: that.$element(),\r\n            getScrollableContainer: that.getWorkSpaceScrollableContainer.bind(that),\r\n            setDefaultTemplate: that.setDefaultTemplate.bind(that),\r\n            getAppointmentTemplate: that._getAppointmentTemplate.bind(that),\r\n            showAppointmentPopup: that.showAppointmentPopup.bind(that),\r\n            getTextAndFormatDate: function(data, currentData, format) {\r\n                return that.fire(\"getTextAndFormatDate\", data, currentData, format)\r\n            },\r\n            checkAndDeleteAppointment: that.checkAndDeleteAppointment.bind(that),\r\n            isAppointmentInAllDayPanel: that.isAppointmentInAllDayPanel.bind(that),\r\n            getSingleAppointmentData: function(appointmentData, targetElement) {\r\n                var $appointment = (0, _renderer2.default)(targetElement);\r\n                return _this4._getSingleAppointmentData(appointmentData, {\r\n                    data: appointmentData,\r\n                    target: $appointment.get(0),\r\n                    $appointment: $appointment\r\n                })\r\n            }\r\n        }\r\n    },\r\n    checkAndDeleteAppointment: function(data, appointmentData) {\r\n        var that = this;\r\n        var startDate = that.fire(\"getField\", \"startDate\", appointmentData);\r\n        that._checkRecurringAppointment(data, appointmentData, startDate, function() {\r\n            that.deleteAppointment(data)\r\n        }, true)\r\n    },\r\n    _getExtraAppointmentTooltipOptions: function() {\r\n        return {\r\n            rtlEnabled: this.option(\"rtlEnabled\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            editing: this.option(\"editing\"),\r\n            offset: this.option(\"_appointmentTooltipOffset\")\r\n        }\r\n    },\r\n    isAppointmentInAllDayPanel: function(appointmentData) {\r\n        var workSpace = this._workSpace;\r\n        var itTakesAllDay = this.appointmentTakesAllDay(appointmentData);\r\n        return itTakesAllDay && workSpace.supportAllDayRow() && workSpace.option(\"showAllDayPanel\")\r\n    },\r\n    _initMarkupCore: function(resources) {\r\n        var _this5 = this;\r\n        this._readyToRenderAppointments = _window2.default.hasWindow();\r\n        this._workSpace && this._cleanWorkspace();\r\n        this._renderWorkSpace(resources);\r\n        this._appointments.option({\r\n            fixedContainer: this._workSpace.getFixedContainer(),\r\n            allDayContainer: this._workSpace.getAllDayContainer()\r\n        });\r\n        this._waitAsyncTemplates(function() {\r\n            _this5._workSpaceRecalculation && _this5._workSpaceRecalculation.resolve()\r\n        });\r\n        this._filterAppointmentsByDate()\r\n    },\r\n    _isLoaded: function() {\r\n        return this._isResourcesLoaded() && this._isDataSourceLoaded()\r\n    },\r\n    _isResourcesLoaded: function() {\r\n        return _type2.default.isDefined(this._loadedResources)\r\n    },\r\n    _isDataSourceLoaded: function() {\r\n        return this._dataSource && this._dataSource.isLoaded()\r\n    },\r\n    _render: function() {\r\n        this._toggleSmallClass();\r\n        this._toggleAdaptiveClass();\r\n        this.callBase()\r\n    },\r\n    _renderHeader: function() {\r\n        var $header = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n        this._header = this._createComponent($header, _uiScheduler4.default, this._headerConfig())\r\n    },\r\n    _headerConfig: function() {\r\n        var result;\r\n        var currentViewOptions = this._getCurrentViewOptions();\r\n        var countConfig = this._getViewCountConfig();\r\n        result = (0, _extend.extend)({\r\n            firstDayOfWeek: this.option(\"firstDayOfWeek\"),\r\n            currentView: this._currentView,\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            width: this.option(\"width\"),\r\n            rtlEnabled: this.option(\"rtlEnabled\"),\r\n            useDropDownViewSwitcher: this.option(\"useDropDownViewSwitcher\"),\r\n            _dropDownButtonIcon: this.option(\"_dropDownButtonIcon\"),\r\n            customizeDateNavigatorText: this.option(\"customizeDateNavigatorText\")\r\n        }, currentViewOptions);\r\n        result.observer = this;\r\n        result.intervalCount = countConfig.intervalCount;\r\n        result.views = this.option(\"views\");\r\n        result.min = new Date(this._dateOption(\"min\"));\r\n        result.max = new Date(this._dateOption(\"max\"));\r\n        result.currentDate = _date2.default.trimTime(new Date(this._dateOption(\"currentDate\")));\r\n        return result\r\n    },\r\n    _appointmentsConfig: function() {\r\n        var that = this;\r\n        var config = {\r\n            observer: this,\r\n            onItemRendered: this._getAppointmentRenderedAction(),\r\n            onItemClick: this._createActionByOption(\"onAppointmentClick\"),\r\n            onItemContextMenu: this._createActionByOption(\"onAppointmentContextMenu\"),\r\n            onAppointmentDblClick: this._createActionByOption(\"onAppointmentDblClick\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            allowDrag: this._allowDragging(),\r\n            allowDelete: this._editing.allowUpdating && this._editing.allowDeleting,\r\n            allowResize: this._allowResizing(),\r\n            allowAllDayResize: this._allowAllDayResizing(),\r\n            rtlEnabled: this.option(\"rtlEnabled\"),\r\n            currentView: this.option(\"currentView\"),\r\n            onContentReady: function() {\r\n                that._workSpace && that._workSpace.option(\"allDayExpanded\", that._isAllDayExpanded(that.getFilteredItems()))\r\n            }\r\n        };\r\n        return config\r\n    },\r\n    getCollectorOffset: function() {\r\n        if (this._workSpace.needApplyCollectorOffset() && !this.option(\"adaptivityEnabled\")) {\r\n            return this.option(\"_collectorOffset\")\r\n        } else {\r\n            return 0\r\n        }\r\n    },\r\n    getAppointmentDurationInMinutes: function() {\r\n        return this._getCurrentViewOption(\"cellDuration\")\r\n    },\r\n    _processCurrentView: function() {\r\n        var views = this.option(\"views\");\r\n        var currentView = this.option(\"currentView\");\r\n        var that = this;\r\n        this._currentView = currentView;\r\n        (0, _iterator.each)(views, function(_, view) {\r\n            var isViewIsObject = _type2.default.isObject(view);\r\n            var viewName = isViewIsObject ? view.name : view;\r\n            var viewType = view.type;\r\n            if (currentView === viewName || currentView === viewType) {\r\n                that._currentView = view;\r\n                return false\r\n            }\r\n        })\r\n    },\r\n    _getCurrentViewType: function() {\r\n        return this._currentView.type || this._currentView\r\n    },\r\n    _getAppointmentsRenderingStrategy: function() {\r\n        return VIEWS_CONFIG[this._getCurrentViewType()].renderingStrategy\r\n    },\r\n    _renderWorkSpace: function(groups) {\r\n        this._readyToRenderAppointments && this._toggleSmallClass();\r\n        var $workSpace = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n        var countConfig = this._getViewCountConfig();\r\n        this._workSpace = this._createComponent($workSpace, VIEWS_CONFIG[this._getCurrentViewType()].workSpace, this._workSpaceConfig(groups, countConfig));\r\n        this._allowDragging() && this._workSpace.initDragBehavior(this);\r\n        this._workSpace.getWorkArea().append(this._appointments.$element());\r\n        this._recalculateWorkspace();\r\n        countConfig.startDate && this._header && this._header.option(\"currentDate\", this._workSpace._getHeaderDate());\r\n        this._appointments.option(\"_collectorOffset\", this.getCollectorOffset())\r\n    },\r\n    _getViewCountConfig: function() {\r\n        var currentView = this.option(\"currentView\");\r\n        var view = this._getViewByName(currentView);\r\n        var viewCount = view && view.intervalCount || 1;\r\n        var startDate = view && view.startDate || null;\r\n        return {\r\n            intervalCount: viewCount,\r\n            startDate: startDate\r\n        }\r\n    },\r\n    _getViewByName: function(name) {\r\n        var views = this.option(\"views\");\r\n        for (var i = 0; i < views.length; i++) {\r\n            if (views[i].name === name || views[i].type === name || views[i] === name) {\r\n                return views[i]\r\n            }\r\n        }\r\n    },\r\n    _recalculateWorkspace: function() {\r\n        var _this6 = this;\r\n        this._workSpaceRecalculation = new Deferred;\r\n        this._waitAsyncTemplates(function() {\r\n            _dom2.default.triggerResizeEvent(_this6._workSpace.$element());\r\n            _this6._workSpace._refreshDateTimeIndication()\r\n        })\r\n    },\r\n    _workSpaceConfig: function(groups, countConfig) {\r\n        var _this7 = this;\r\n        var result;\r\n        var currentViewOptions = this._getCurrentViewOptions();\r\n        result = (0, _extend.extend)({\r\n            noDataText: this.option(\"noDataText\"),\r\n            firstDayOfWeek: this.option(\"firstDayOfWeek\"),\r\n            startDayHour: this.option(\"startDayHour\"),\r\n            endDayHour: this.option(\"endDayHour\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            accessKey: this.option(\"accessKey\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            cellDuration: this.option(\"cellDuration\"),\r\n            showAllDayPanel: this.option(\"showAllDayPanel\"),\r\n            showCurrentTimeIndicator: this.option(\"showCurrentTimeIndicator\"),\r\n            indicatorTime: this.option(\"indicatorTime\"),\r\n            indicatorUpdateInterval: this.option(\"indicatorUpdateInterval\"),\r\n            shadeUntilCurrentTime: this.option(\"shadeUntilCurrentTime\"),\r\n            allDayExpanded: this._appointments.option(\"items\"),\r\n            crossScrollingEnabled: this.option(\"crossScrollingEnabled\"),\r\n            dataCellTemplate: this.option(\"dataCellTemplate\"),\r\n            timeCellTemplate: this.option(\"timeCellTemplate\"),\r\n            resourceCellTemplate: this.option(\"resourceCellTemplate\"),\r\n            dateCellTemplate: this.option(\"dateCellTemplate\"),\r\n            allowMultipleCellSelection: this.option(\"allowMultipleCellSelection\"),\r\n            selectedCellData: this.option(\"selectedCellData\"),\r\n            onSelectionChanged: function(args) {\r\n                _this7.option(\"selectedCellData\", args.selectedCellData)\r\n            },\r\n            groupByDate: this._getCurrentViewOption(\"groupByDate\")\r\n        }, currentViewOptions);\r\n        result.observer = this;\r\n        result.intervalCount = countConfig.intervalCount;\r\n        result.startDate = countConfig.startDate;\r\n        result.groups = groups;\r\n        result.onCellClick = this._createActionByOption(\"onCellClick\");\r\n        result.onCellContextMenu = this._createActionByOption(\"onCellContextMenu\");\r\n        result.min = new Date(this._dateOption(\"min\"));\r\n        result.max = new Date(this._dateOption(\"max\"));\r\n        result.currentDate = _date2.default.trimTime(new Date(this._dateOption(\"currentDate\")));\r\n        result.hoursInterval = result.cellDuration / 60;\r\n        result.allDayExpanded = this._isAllDayExpanded(this.getFilteredItems());\r\n        result.dataCellTemplate = result.dataCellTemplate ? this._getTemplate(result.dataCellTemplate) : null;\r\n        result.timeCellTemplate = result.timeCellTemplate ? this._getTemplate(result.timeCellTemplate) : null;\r\n        result.resourceCellTemplate = result.resourceCellTemplate ? this._getTemplate(result.resourceCellTemplate) : null;\r\n        result.dateCellTemplate = result.dateCellTemplate ? this._getTemplate(result.dateCellTemplate) : null;\r\n        return result\r\n    },\r\n    _getCurrentViewOptions: function() {\r\n        return this._currentView\r\n    },\r\n    _getCurrentViewOption: function(optionName) {\r\n        var currentViewOptions = this._getCurrentViewOptions();\r\n        if (currentViewOptions && void 0 !== currentViewOptions[optionName]) {\r\n            return currentViewOptions[optionName]\r\n        }\r\n        return this.option(optionName)\r\n    },\r\n    _getAppointmentTemplate: function(optionName) {\r\n        var currentViewOptions = this._getCurrentViewOptions();\r\n        if (currentViewOptions && currentViewOptions[optionName]) {\r\n            return this._getTemplate(currentViewOptions[optionName])\r\n        }\r\n        return this._getTemplateByOption(optionName)\r\n    },\r\n    _updateOption: function(viewName, optionName, value) {\r\n        var currentViewOptions = this._getCurrentViewOptions();\r\n        if (!currentViewOptions || !_type2.default.isDefined(currentViewOptions[optionName])) {\r\n            this[\"_\" + viewName].option(optionName, value)\r\n        }\r\n    },\r\n    _refreshWorkSpace: function(groups) {\r\n        var _this8 = this;\r\n        this._cleanWorkspace();\r\n        delete this._workSpace;\r\n        this._renderWorkSpace(groups);\r\n        if (this._readyToRenderAppointments) {\r\n            this._appointments.option({\r\n                fixedContainer: this._workSpace.getFixedContainer(),\r\n                allDayContainer: this._workSpace.getAllDayContainer()\r\n            });\r\n            this._waitAsyncTemplates(function() {\r\n                _this8._workSpaceRecalculation.resolve()\r\n            })\r\n        }\r\n    },\r\n    _cleanWorkspace: function() {\r\n        this._appointments.$element().detach();\r\n        this._workSpace._dispose();\r\n        this._workSpace.$element().remove();\r\n        this.option(\"selectedCellData\", [])\r\n    },\r\n    getWorkSpaceScrollable: function() {\r\n        return this._workSpace.getScrollable()\r\n    },\r\n    getWorkSpaceScrollableScrollTop: function(allDay) {\r\n        return this._workSpace.getGroupedScrollableScrollTop(allDay)\r\n    },\r\n    getWorkSpaceScrollableScrollLeft: function() {\r\n        return this._workSpace.getScrollableScrollLeft()\r\n    },\r\n    getWorkSpaceScrollableContainer: function() {\r\n        return this._workSpace.getScrollableContainer()\r\n    },\r\n    getWorkSpaceAllDayHeight: function() {\r\n        return this._workSpace.getAllDayHeight()\r\n    },\r\n    getWorkSpaceAllDayOffset: function() {\r\n        return this._workSpace.getAllDayOffset()\r\n    },\r\n    getWorkSpaceHeaderPanelHeight: function() {\r\n        return this._workSpace.getHeaderPanelHeight()\r\n    },\r\n    getWorkSpaceDateTableOffset: function() {\r\n        return !this.option(\"crossScrollingEnabled\") || this.option(\"rtlEnabled\") ? this._workSpace.getWorkSpaceLeftOffset() : 0\r\n    },\r\n    getWorkSpace: function() {\r\n        return this._workSpace\r\n    },\r\n    getAppointmentModel: function() {\r\n        return this._appointmentModel\r\n    },\r\n    getHeader: function() {\r\n        return this._header\r\n    },\r\n    getMaxAppointmentsPerCell: function() {\r\n        return this._getCurrentViewOption(\"maxAppointmentsPerCell\")\r\n    },\r\n    _cleanPopup: function() {\r\n        this._appointmentPopup.dispose()\r\n    },\r\n    _convertDatesByTimezoneBack: function(applyAppointmentTimezone, sourceAppointmentData, targetAppointmentData) {\r\n        targetAppointmentData = targetAppointmentData || sourceAppointmentData;\r\n        var processedStartDate = this.fire(\"convertDateByTimezoneBack\", this.fire(\"getField\", \"startDate\", sourceAppointmentData), applyAppointmentTimezone && this.fire(\"getField\", \"startDateTimeZone\", sourceAppointmentData));\r\n        var processedEndDate = this.fire(\"convertDateByTimezoneBack\", this.fire(\"getField\", \"endDate\", sourceAppointmentData), applyAppointmentTimezone && this.fire(\"getField\", \"endDateTimeZone\", sourceAppointmentData));\r\n        this.fire(\"setField\", \"startDate\", targetAppointmentData, processedStartDate);\r\n        this.fire(\"setField\", \"endDate\", targetAppointmentData, processedEndDate)\r\n    },\r\n    _checkRecurringAppointment: function(targetAppointment, singleAppointment, exceptionDate, callback, isDeleted, isPopupEditing, dragEvent) {\r\n        delete this._updatedRecAppointment;\r\n        var recurrenceRule = this.fire(\"getField\", \"recurrenceRule\", targetAppointment);\r\n        if (!_utils2.default.getRecurrenceRule(recurrenceRule).isValid || !this._editing.allowUpdating) {\r\n            callback();\r\n            return\r\n        }\r\n        var editMode = this.option(\"recurrenceEditMode\");\r\n        switch (editMode) {\r\n            case \"series\":\r\n                callback();\r\n                break;\r\n            case \"occurrence\":\r\n                this._singleAppointmentChangesHandler(targetAppointment, singleAppointment, exceptionDate, isDeleted, isPopupEditing, dragEvent);\r\n                break;\r\n            default:\r\n                if (dragEvent) {\r\n                    dragEvent.cancel = new Deferred\r\n                }\r\n                this._showRecurrenceChangeConfirm(isDeleted).done(function(result) {\r\n                    result && callback();\r\n                    !result && this._singleAppointmentChangesHandler(targetAppointment, singleAppointment, exceptionDate, isDeleted, isPopupEditing, dragEvent)\r\n                }.bind(this)).fail(function() {\r\n                    this._appointments.moveAppointmentBack(dragEvent)\r\n                }.bind(this))\r\n        }\r\n    },\r\n    _singleAppointmentChangesHandler: function(targetAppointment, singleAppointment, exceptionDate, isDeleted, isPopupEditing, dragEvent) {\r\n        exceptionDate = new Date(exceptionDate);\r\n\r\n        function processAppointmentDates(appointment, commonTimezoneOffset) {\r\n            var startDate = this.fire(\"getField\", \"startDate\", appointment);\r\n            var processedStartDate = this.fire(\"convertDateByTimezoneBack\", startDate, this.fire(\"getField\", \"startDateTimeZone\", appointment));\r\n            var endDate = this.fire(\"getField\", \"endDate\", appointment);\r\n            var processedEndDate = this.fire(\"convertDateByTimezoneBack\", endDate, this.fire(\"getField\", \"endDateTimeZone\", appointment));\r\n            if (\"number\" === typeof commonTimezoneOffset && !isNaN(commonTimezoneOffset)) {\r\n                var startDateClientTzOffset = -(this._subscribes.getClientTimezoneOffset(startDate) / toMs(\"hour\"));\r\n                var endDateClientTzOffset = -(this._subscribes.getClientTimezoneOffset(endDate) / toMs(\"hour\"));\r\n                var processedStartDateInUTC = processedStartDate.getTime() - startDateClientTzOffset * toMs(\"hour\");\r\n                var processedEndDateInUTC = processedEndDate.getTime() - endDateClientTzOffset * toMs(\"hour\");\r\n                processedStartDate = new Date(processedStartDateInUTC + commonTimezoneOffset * toMs(\"hour\"));\r\n                processedEndDate = new Date(processedEndDateInUTC + commonTimezoneOffset * toMs(\"hour\"))\r\n            }\r\n            this.fire(\"setField\", \"startDate\", appointment, processedStartDate);\r\n            this.fire(\"setField\", \"endDate\", appointment, processedEndDate)\r\n        }\r\n        this.fire(\"setField\", \"recurrenceRule\", singleAppointment, \"\");\r\n        this.fire(\"setField\", \"recurrenceException\", singleAppointment, \"\");\r\n        if (!isDeleted && !isPopupEditing) {\r\n            processAppointmentDates.call(this, singleAppointment, this._getTimezoneOffsetByOption());\r\n            this.addAppointment(singleAppointment)\r\n        }\r\n        var recurrenceException = this._makeDateAsRecurrenceException(exceptionDate, targetAppointment);\r\n        var updatedAppointment = (0, _extend.extend)({}, targetAppointment);\r\n        this.fire(\"setField\", \"recurrenceException\", updatedAppointment, recurrenceException);\r\n        if (isPopupEditing) {\r\n            this._updatedRecAppointment = updatedAppointment;\r\n            processAppointmentDates.call(this, singleAppointment);\r\n            this._showAppointmentPopup(singleAppointment, true, true);\r\n            this._editAppointmentData = targetAppointment\r\n        } else {\r\n            this._updateAppointment(targetAppointment, updatedAppointment, function() {\r\n                this._appointments.moveAppointmentBack(dragEvent)\r\n            }, dragEvent)\r\n        }\r\n    },\r\n    _makeDateAsRecurrenceException: function(exceptionDate, targetAppointment) {\r\n        var startDate = this._getStartDate(targetAppointment, true);\r\n        var startDateTimeZone = this.fire(\"getField\", \"startDateTimeZone\", targetAppointment);\r\n        var exceptionByDate = this._getRecurrenceExceptionDate(exceptionDate, startDate, startDateTimeZone);\r\n        var recurrenceException = this.fire(\"getField\", \"recurrenceException\", targetAppointment);\r\n        return recurrenceException ? recurrenceException + \",\" + exceptionByDate : exceptionByDate\r\n    },\r\n    _getRecurrenceExceptionDate: function(exceptionStartDate, targetStartDate, startDateTimeZone) {\r\n        exceptionStartDate = this.fire(\"convertDateByTimezoneBack\", exceptionStartDate, startDateTimeZone);\r\n        var appointmentStartDate = this.fire(\"convertDateByTimezoneBack\", targetStartDate, startDateTimeZone);\r\n        exceptionStartDate.setHours(appointmentStartDate.getHours(), appointmentStartDate.getMinutes(), appointmentStartDate.getSeconds(), appointmentStartDate.getMilliseconds());\r\n        var timezoneDiff = targetStartDate.getTimezoneOffset() - exceptionStartDate.getTimezoneOffset();\r\n        exceptionStartDate = new Date(exceptionStartDate.getTime() - timezoneDiff * toMs(\"minute\"));\r\n        return _date_serialization2.default.serializeDate(exceptionStartDate, UTC_FULL_DATE_FORMAT)\r\n    },\r\n    _showRecurrenceChangeConfirm: function(isDeleted) {\r\n        var message = _message2.default.format(isDeleted ? \"dxScheduler-confirmRecurrenceDeleteMessage\" : \"dxScheduler-confirmRecurrenceEditMessage\");\r\n        var seriesText = _message2.default.format(isDeleted ? \"dxScheduler-confirmRecurrenceDeleteSeries\" : \"dxScheduler-confirmRecurrenceEditSeries\");\r\n        var occurrenceText = _message2.default.format(isDeleted ? \"dxScheduler-confirmRecurrenceDeleteOccurrence\" : \"dxScheduler-confirmRecurrenceEditOccurrence\");\r\n        return _dialog2.default.custom({\r\n            messageHtml: message,\r\n            showCloseButton: true,\r\n            showTitle: true,\r\n            buttons: [{\r\n                text: seriesText,\r\n                onClick: function() {\r\n                    return true\r\n                }\r\n            }, {\r\n                text: occurrenceText,\r\n                onClick: function() {\r\n                    return false\r\n                }\r\n            }]\r\n        }).show()\r\n    },\r\n    _getUpdatedData: function(options) {\r\n        var target = options.data || options;\r\n        var cellData = this.getTargetCellData();\r\n        var targetAllDay = this.fire(\"getField\", \"allDay\", target);\r\n        var targetStartDate = new Date(this.fire(\"getField\", \"startDate\", target));\r\n        var targetEndDate = new Date(this.fire(\"getField\", \"endDate\", target));\r\n        var date = cellData.date || targetStartDate;\r\n        var duration = targetEndDate.getTime() - targetStartDate.getTime();\r\n        if (this._workSpace.keepOriginalHours() && !isNaN(targetStartDate.getTime())) {\r\n            var diff = targetStartDate.getTime() - _date2.default.trimTime(targetStartDate).getTime();\r\n            date = new Date(_date2.default.trimTime(date).getTime() + diff)\r\n        }\r\n        var updatedData = {};\r\n        var allDay = cellData.allDay;\r\n        this.fire(\"setField\", \"allDay\", updatedData, allDay);\r\n        this.fire(\"setField\", \"startDate\", updatedData, date);\r\n        var endDate = new Date(date.getTime() + duration);\r\n        if (this.appointmentTakesAllDay(target) && !updatedData.allDay && this._workSpace.supportAllDayRow()) {\r\n            endDate = this._workSpace.calculateEndDate(date)\r\n        }\r\n        if (targetAllDay && !this._workSpace.supportAllDayRow() && !this._workSpace.keepOriginalHours()) {\r\n            var dateCopy = new Date(date);\r\n            dateCopy.setHours(0);\r\n            endDate = new Date(dateCopy.getTime() + duration);\r\n            if (0 !== endDate.getHours()) {\r\n                endDate.setHours(this._getCurrentViewOption(\"endDayHour\"))\r\n            }\r\n        }\r\n        endDate = new Date(endDate.getTime() - _utils4.default.getTimezoneOffsetChangeInMs(targetStartDate, targetEndDate, date, endDate));\r\n        this.fire(\"setField\", \"endDate\", updatedData, endDate);\r\n        this._resourcesManager.setResourcesToItem(updatedData, cellData.groups);\r\n        return updatedData\r\n    },\r\n    _getCoordinates: function(initialDates, dates, appointmentResources, allDay) {\r\n        var result = [];\r\n        for (var i = 0; i < dates.length; i++) {\r\n            var currentCoords = this._workSpace.getCoordinatesByDateInGroup(dates[i], appointmentResources, allDay);\r\n            for (var j = 0; j < currentCoords.length; j++) {\r\n                (0, _extend.extend)(currentCoords[j], {\r\n                    startDate: dates[i],\r\n                    initialStartDate: initialDates[i]\r\n                })\r\n            }\r\n            result = result.concat(currentCoords)\r\n        }\r\n        return result\r\n    },\r\n    _isAppointmentRecurrence: function(appointmentData) {\r\n        var recurrenceRule = this.fire(\"getField\", \"recurrenceRule\", appointmentData);\r\n        return recurrenceRule && _utils2.default.getRecurrenceRule(recurrenceRule).isValid\r\n    },\r\n    resizePopup: function() {\r\n        this._appointmentPopup.triggerResize()\r\n    },\r\n    _getSingleAppointmentData: function(appointmentData, options) {\r\n        options = options || {};\r\n        var $appointment = options.$appointment;\r\n        var updatedData = options.skipDateCalculation ? {} : this._getUpdatedData(options);\r\n        var resultAppointmentData = (0, _extend.extend)({}, appointmentData, updatedData);\r\n        var allDay = this.fire(\"getField\", \"allDay\", appointmentData);\r\n        var isAllDay = this._workSpace.supportAllDayRow() && allDay;\r\n        var startDate = new Date(this.fire(\"getField\", \"startDate\", resultAppointmentData));\r\n        var endDate = new Date(this.fire(\"getField\", \"endDate\", resultAppointmentData));\r\n        var appointmentDuration = endDate.getTime() - startDate.getTime();\r\n        var updatedStartDate = startDate;\r\n        var appointmentStartDate;\r\n        if (_type2.default.isDefined($appointment) && (this._isAppointmentRecurrence(appointmentData) || this._needUpdateAppointmentData($appointment))) {\r\n            var apptDataCalculator = this.getRenderingStrategyInstance().getAppointmentDataCalculator();\r\n            if (_type2.default.isFunction(apptDataCalculator)) {\r\n                updatedStartDate = apptDataCalculator($appointment, startDate).startDate\r\n            } else {\r\n                if (options.isAppointmentResized) {\r\n                    var coordinates = _translator2.default.locate($appointment);\r\n                    updatedStartDate = new Date(this._workSpace.getCellDataByCoordinates(coordinates, isAllDay).startDate)\r\n                } else {\r\n                    appointmentStartDate = $appointment.data(\"dxAppointmentSettings\") && $appointment.data(\"dxAppointmentSettings\").startDate;\r\n                    if ($appointment.hasClass(_constants.REDUCED_APPOINTMENT_CLASS)) {\r\n                        appointmentStartDate = $appointment.data(\"dxAppointmentStartDate\")\r\n                    }\r\n                    if (appointmentStartDate) {\r\n                        updatedStartDate = appointmentStartDate\r\n                    }\r\n                }\r\n                if (!options.skipHoursProcessing) {\r\n                    this.fire(\"convertDateByTimezoneBack\", updatedStartDate, this.fire(\"getField\", \"startDateTimeZone\", appointmentData))\r\n                }\r\n            }\r\n            this.fire(\"setField\", \"startDate\", resultAppointmentData, updatedStartDate);\r\n            this.fire(\"setField\", \"endDate\", resultAppointmentData, new Date(updatedStartDate.getTime() + appointmentDuration))\r\n        }\r\n        return resultAppointmentData\r\n    },\r\n    _needUpdateAppointmentData: function($appointment) {\r\n        return $appointment.hasClass(_constants.COMPACT_APPOINTMENT_CLASS) || $appointment.hasClass(_constants.RECURRENCE_APPOINTMENT_CLASS)\r\n    },\r\n    subscribe: function(subject, action) {\r\n        this._subscribes[subject] = _uiScheduler2.default[subject] = action\r\n    },\r\n    fire: function(subject) {\r\n        var callback = this._subscribes[subject];\r\n        var args = Array.prototype.slice.call(arguments);\r\n        if (!_type2.default.isFunction(callback)) {\r\n            throw _ui2.default.Error(\"E1031\", subject)\r\n        }\r\n        return callback.apply(this, args.slice(1))\r\n    },\r\n    getTargetCellData: function() {\r\n        return this._workSpace.getDataByDroppableCell()\r\n    },\r\n    _updateAppointment: function(target, appointment, onUpdatePrevented, dragEvent) {\r\n        var updatingOptions = {\r\n            newData: appointment,\r\n            oldData: (0, _extend.extend)({}, target),\r\n            cancel: false\r\n        };\r\n        var performFailAction = function(err) {\r\n            if (_type2.default.isFunction(onUpdatePrevented)) {\r\n                onUpdatePrevented.call(this)\r\n            }\r\n            if (err && \"Error\" === err.name) {\r\n                throw err\r\n            }\r\n        }.bind(this);\r\n        this._actions.onAppointmentUpdating(updatingOptions);\r\n        if (dragEvent && !_type2.default.isDeferred(dragEvent.cancel)) {\r\n            dragEvent.cancel = new Deferred\r\n        }\r\n        this._processActionResult(updatingOptions, function(canceled) {\r\n            if (!canceled) {\r\n                this._expandAllDayPanel(appointment);\r\n                try {\r\n                    this._appointmentModel.update(target, appointment).done(function() {\r\n                        dragEvent && dragEvent.cancel.resolve(false)\r\n                    }).always(function(e) {\r\n                        this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentUpdated, appointment, e)\r\n                    }.bind(this)).fail(function() {\r\n                        performFailAction()\r\n                    })\r\n                } catch (err) {\r\n                    performFailAction(err)\r\n                }\r\n            } else {\r\n                performFailAction()\r\n            }\r\n        })\r\n    },\r\n    _processActionResult: function(actionOptions, callback) {\r\n        var _this9 = this;\r\n        if (_type2.default.isPromise(actionOptions.cancel)) {\r\n            when(_deferred2.default.fromPromise(actionOptions.cancel)).always(function(cancel) {\r\n                if (!_type2.default.isDefined(cancel)) {\r\n                    cancel = \"rejected\" === actionOptions.cancel.state()\r\n                }\r\n                callback.call(_this9, cancel)\r\n            })\r\n        } else {\r\n            callback.call(this, actionOptions.cancel)\r\n        }\r\n    },\r\n    _expandAllDayPanel: function(appointment) {\r\n        if (!this._isAllDayExpanded(this.getFilteredItems()) && this.appointmentTakesAllDay(appointment)) {\r\n            this._workSpace.option(\"allDayExpanded\", true)\r\n        }\r\n    },\r\n    _executeActionWhenOperationIsCompleted: function(action, appointment, e) {\r\n        var options = {\r\n            appointmentData: appointment\r\n        };\r\n        var isError = e && \"Error\" === e.name;\r\n        if (isError) {\r\n            options.error = e\r\n        } else {\r\n            this._appointmentPopup.isVisible() && this._appointmentPopup.hide()\r\n        }\r\n        action(options);\r\n        this._fireContentReadyAction()\r\n    },\r\n    _showAppointmentPopup: function(data, visibleButtons, isProcessTimeZone) {\r\n        this._appointmentPopup.show(data, visibleButtons, isProcessTimeZone)\r\n    },\r\n    getAppointmentPopup: function() {\r\n        return this._appointmentPopup.getPopup()\r\n    },\r\n    getAppointmentDetailsForm: function() {\r\n        return this._appointmentPopup._appointmentForm\r\n    },\r\n    getUpdatedAppointment: function() {\r\n        return this._appointmentModel.getUpdatedAppointment()\r\n    },\r\n    getUpdatedAppointmentKeys: function() {\r\n        return this._appointmentModel.getUpdatedAppointmentKeys()\r\n    },\r\n    getAppointmentsInstance: function() {\r\n        return this._appointments\r\n    },\r\n    getResourceManager: function() {\r\n        return this._resourcesManager\r\n    },\r\n    getLayoutManager: function() {\r\n        return this._layoutManager\r\n    },\r\n    getRenderingStrategyInstance: function() {\r\n        return this._layoutManager.getRenderingStrategyInstance()\r\n    },\r\n    getFilteredItems: function() {\r\n        return this._filteredItems\r\n    },\r\n    getActions: function() {\r\n        return this._actions\r\n    },\r\n    appointmentTakesAllDay: function(appointment) {\r\n        return this._appointmentModel.appointmentTakesAllDay(appointment, this._getCurrentViewOption(\"startDayHour\"), this._getCurrentViewOption(\"endDayHour\"))\r\n    },\r\n    _getStartDate: function(appointment, skipNormalize) {\r\n        var startDate = this.fire(\"getField\", \"startDate\", appointment);\r\n        var startDateTimeZone = this.fire(\"getField\", \"startDateTimeZone\", appointment);\r\n        startDate = this.fire(\"convertDateByTimezone\", _date2.default.makeDate(startDate), startDateTimeZone);\r\n        return !skipNormalize ? this.fire(\"updateAppointmentStartDate\", {\r\n            startDate: startDate,\r\n            appointment: appointment\r\n        }) : startDate\r\n    },\r\n    _getEndDate: function(appointment, skipNormalize) {\r\n        var endDate = new Date(this.fire(\"getField\", \"endDate\", appointment));\r\n        var startDate = new Date(this.fire(\"getField\", \"startDate\", appointment));\r\n        var isSameDate = _date2.default.sameDate(startDate, endDate);\r\n        if (endDate) {\r\n            var endDateTimeZone = this.fire(\"getField\", \"endDateTimeZone\", appointment);\r\n            endDate = this.fire(\"convertDateByTimezone\", _date2.default.makeDate(endDate), endDateTimeZone);\r\n            return !skipNormalize ? this.fire(\"updateAppointmentEndDate\", {\r\n                endDate: endDate,\r\n                isSameDate: isSameDate\r\n            }) : endDate\r\n        }\r\n        return endDate\r\n    },\r\n    _getRecurrenceException: function(appointmentData) {\r\n        var recurrenceException = this.fire(\"getField\", \"recurrenceException\", appointmentData);\r\n        if (recurrenceException) {\r\n            var startDate = this.fire(\"getField\", \"startDate\", appointmentData);\r\n            var exceptions = recurrenceException.split(\",\");\r\n            var startDateTimeZone = this.fire(\"getField\", \"startDateTimeZone\", appointmentData);\r\n            var exceptionByStartDate = this.fire(\"convertDateByTimezone\", startDate, startDateTimeZone);\r\n            for (var i = 0; i < exceptions.length; i++) {\r\n                exceptions[i] = this._convertRecurrenceException(exceptions[i], exceptionByStartDate, startDateTimeZone)\r\n            }\r\n            recurrenceException = exceptions.join()\r\n        }\r\n        return recurrenceException\r\n    },\r\n    _convertRecurrenceException: function(exception, exceptionByStartDate, startDateTimeZone) {\r\n        exception = exception.replace(/\\s/g, \"\");\r\n        exception = _date_serialization2.default.deserializeDate(exception);\r\n        exception = this.fire(\"convertDateByTimezone\", exception, startDateTimeZone);\r\n        exception.setHours(exceptionByStartDate.getHours());\r\n        exception = _date_serialization2.default.serializeDate(exception, FULL_DATE_FORMAT);\r\n        return exception\r\n    },\r\n    recurrenceEditorVisibilityChanged: function(visible) {\r\n        if (this._appointmentPopup._appointmentForm) {\r\n            this._appointmentPopup._appointmentForm.$element().find(\".\" + RECURRENCE_EDITOR_ITEM_CLASS).toggleClass(RECURRENCE_EDITOR_OPENED_ITEM_CLASS, visible)\r\n        }\r\n    },\r\n    dayHasAppointment: function(day, appointment, trimTime) {\r\n        var startDate = new Date(this.fire(\"getField\", \"startDate\", appointment));\r\n        var endDate = new Date(this.fire(\"getField\", \"endDate\", appointment));\r\n        var startDateTimeZone = this.fire(\"getField\", \"startDateTimeZone\", appointment);\r\n        var endDateTimeZone = this.fire(\"getField\", \"endDateTimeZone\", appointment);\r\n        startDate = this.fire(\"convertDateByTimezone\", startDate, startDateTimeZone);\r\n        endDate = this.fire(\"convertDateByTimezone\", endDate, endDateTimeZone);\r\n        if (day.getTime() === endDate.getTime()) {\r\n            return startDate.getTime() === endDate.getTime()\r\n        }\r\n        if (trimTime) {\r\n            day = _date2.default.trimTime(day);\r\n            startDate = _date2.default.trimTime(startDate);\r\n            endDate = _date2.default.trimTime(endDate)\r\n        }\r\n        var dayTimeStamp = day.getTime();\r\n        var startDateTimeStamp = startDate.getTime();\r\n        var endDateTimeStamp = endDate.getTime();\r\n        return (0, _array.inArray)(dayTimeStamp, [startDateTimeStamp, endDateTimeStamp]) > -1 || startDateTimeStamp < dayTimeStamp && endDateTimeStamp > dayTimeStamp\r\n    },\r\n    setTargetedAppointmentResources: function(targetedAppointment, appointmentElement, appointmentIndex) {\r\n        var groups = this._getCurrentViewOption(\"groups\");\r\n        if (groups && groups.length) {\r\n            var resourcesSetter = this._resourcesManager._dataAccessors.setter;\r\n            var workSpace = this._workSpace;\r\n            var getGroups;\r\n            var setResourceCallback;\r\n            if (this._isAgenda()) {\r\n                getGroups = function() {\r\n                    var apptSettings = this.getLayoutManager()._positionMap[appointmentIndex];\r\n                    return workSpace._getCellGroups(apptSettings[0].groupIndex)\r\n                };\r\n                setResourceCallback = function(_, group) {\r\n                    resourcesSetter[group.name](targetedAppointment, group.id)\r\n                }\r\n            } else {\r\n                getGroups = function() {\r\n                    var setting = (0, _renderer2.default)(appointmentElement).data(\"dxAppointmentSettings\") || {};\r\n                    return workSpace.getCellDataByCoordinates({\r\n                        left: setting.left,\r\n                        top: setting.top\r\n                    }).groups\r\n                };\r\n                setResourceCallback = function(field, value) {\r\n                    resourcesSetter[field](targetedAppointment, value)\r\n                }\r\n            }(0, _iterator.each)(getGroups.call(this), setResourceCallback)\r\n        }\r\n    },\r\n    getStartViewDate: function() {\r\n        return this._workSpace.getStartViewDate()\r\n    },\r\n    getEndViewDate: function() {\r\n        return this._workSpace.getEndViewDate()\r\n    },\r\n    showAppointmentPopup: function(appointmentData, createNewAppointment, currentAppointmentData) {\r\n        var singleAppointment = currentAppointmentData || this._getSingleAppointmentData(appointmentData, {\r\n            skipDateCalculation: true\r\n        });\r\n        var startDate = this.fire(\"getField\", \"startDate\", currentAppointmentData || appointmentData);\r\n        this._checkRecurringAppointment(appointmentData, singleAppointment, startDate, function() {\r\n            if (createNewAppointment || _type2.default.isEmptyObject(appointmentData)) {\r\n                delete this._editAppointmentData;\r\n                this._editing.allowAdding && this._showAppointmentPopup(appointmentData, true, false)\r\n            } else {\r\n                this._editAppointmentData = appointmentData;\r\n                this._showAppointmentPopup(appointmentData, this._editing.allowUpdating, true)\r\n            }\r\n        }.bind(this), false, true)\r\n    },\r\n    hideAppointmentPopup: function(saveChanges) {\r\n        if (this._appointmentPopup.isVisible()) {\r\n            saveChanges && this._appointmentPopup.saveChanges();\r\n            this._appointmentPopup.hide()\r\n        }\r\n    },\r\n    showAppointmentTooltip: function(appointmentData, target, currentAppointmentData) {\r\n        if (appointmentData) {\r\n            this.showAppointmentTooltipCore(target, [{\r\n                color: this._appointments._tryGetAppointmentColor(target),\r\n                data: appointmentData,\r\n                currentData: currentAppointmentData\r\n            }])\r\n        }\r\n    },\r\n    showAppointmentTooltipCore: function(target, data, options) {\r\n        if (this._appointmentTooltip.isAlreadyShown(target)) {\r\n            this.hideAppointmentTooltip()\r\n        } else {\r\n            this._appointmentTooltip.show(target, data, (0, _extend.extend)(this._getExtraAppointmentTooltipOptions(), options))\r\n        }\r\n    },\r\n    hideAppointmentTooltip: function() {\r\n        this._appointmentTooltip.hide()\r\n    },\r\n    scrollToTime: function(hours, minutes, date) {\r\n        this._workSpace.scrollToTime(hours, minutes, date)\r\n    },\r\n    addAppointment: function(appointment) {\r\n        var text = this.fire(\"getField\", \"text\", appointment);\r\n        if (!text) {\r\n            this.fire(\"setField\", \"text\", appointment, \"\")\r\n        }\r\n        this._convertDatesByTimezoneBack(true, appointment);\r\n        var addingOptions = {\r\n            appointmentData: appointment,\r\n            cancel: false\r\n        };\r\n        this._actions.onAppointmentAdding(addingOptions);\r\n        this._processActionResult(addingOptions, function(canceled) {\r\n            if (!canceled) {\r\n                this._expandAllDayPanel(appointment);\r\n                this._appointmentModel.add(appointment, {\r\n                    value: this._getTimezoneOffsetByOption(),\r\n                    clientOffset: this.fire(\"getClientTimezoneOffset\")\r\n                }).always(function(e) {\r\n                    this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentAdded, appointment, e)\r\n                }.bind(this))\r\n            }\r\n        })\r\n    },\r\n    updateAppointment: function(target, appointment) {\r\n        this._updateAppointment(target, appointment)\r\n    },\r\n    deleteAppointment: function(appointment) {\r\n        var deletingOptions = {\r\n            appointmentData: appointment,\r\n            cancel: false\r\n        };\r\n        this._actions.onAppointmentDeleting(deletingOptions);\r\n        this._processActionResult(deletingOptions, function(canceled) {\r\n            if (!canceled) {\r\n                this._appointmentModel.remove(appointment).always(function(e) {\r\n                    this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentDeleted, appointment, e)\r\n                }.bind(this))\r\n            }\r\n        })\r\n    },\r\n    focus: function() {\r\n        if (this._editAppointmentData) {\r\n            this._appointments.focus()\r\n        } else {\r\n            this._workSpace.focus()\r\n        }\r\n    },\r\n    getFirstDayOfWeek: function() {\r\n        return _type2.default.isDefined(this.option(\"firstDayOfWeek\")) ? this.option(\"firstDayOfWeek\") : _date4.default.firstDayOfWeekIndex()\r\n    }\r\n}).include(_async_template_mixin2.default, _data_helper2.default);\r\n(0, _component_registrator2.default)(\"dxScheduler\", Scheduler);\r\nmodule.exports = Scheduler;\r\n"]},"metadata":{},"sourceType":"module"}