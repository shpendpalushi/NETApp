{"ast":null,"code":"/**\r\n * DevExtreme (ui/validator.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _element_data = require(\"../core/element_data\");\n\nvar _element_data2 = _interopRequireDefault(_element_data);\n\nvar _callbacks = require(\"../core/utils/callbacks\");\n\nvar _callbacks2 = _interopRequireDefault(_callbacks);\n\nvar _ui = require(\"./widget/ui.errors\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _dom_component = require(\"../core/dom_component\");\n\nvar _dom_component2 = _interopRequireDefault(_dom_component);\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _validation_engine = require(\"./validation_engine\");\n\nvar _validation_engine2 = _interopRequireDefault(_validation_engine);\n\nvar _default_adapter = require(\"./validation/default_adapter\");\n\nvar _default_adapter2 = _interopRequireDefault(_default_adapter);\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _deferred = require(\"../core/utils/deferred\");\n\nvar _guid = require(\"../core/guid\");\n\nvar _guid2 = _interopRequireDefault(_guid);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar VALIDATOR_CLASS = \"dx-validator\";\nvar VALIDATION_STATUS_VALID = \"valid\";\nvar VALIDATION_STATUS_INVALID = \"invalid\";\nvar VALIDATION_STATUS_PENDING = \"pending\";\n\nvar Validator = _dom_component2.default.inherit({\n  _initOptions: function _initOptions(options) {\n    this.callBase.apply(this, arguments);\n    this.option(_validation_engine2.default.initValidationOptions(options));\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      validationRules: []\n    });\n  },\n  _init: function _init() {\n    this.callBase();\n\n    this._initGroupRegistration();\n\n    this.focused = (0, _callbacks2.default)();\n\n    this._initAdapter();\n\n    this._validationInfo = {\n      result: null,\n      deferred: null,\n      skipValidation: false\n    };\n  },\n  _initGroupRegistration: function _initGroupRegistration() {\n    var group = this._findGroup();\n\n    if (!this._groupWasInit) {\n      this.on(\"disposing\", function (args) {\n        _validation_engine2.default.removeRegisteredValidator(args.component._validationGroup, args.component);\n      });\n    }\n\n    if (!this._groupWasInit || this._validationGroup !== group) {\n      _validation_engine2.default.removeRegisteredValidator(this._validationGroup, this);\n\n      this._groupWasInit = true;\n      this._validationGroup = group;\n\n      _validation_engine2.default.registerValidatorInGroup(group, this);\n    }\n  },\n  _setOptionsByReference: function _setOptionsByReference() {\n    this.callBase();\n    (0, _extend.extend)(this._optionsByReference, {\n      validationGroup: true\n    });\n  },\n  _initAdapter: function _initAdapter() {\n    var _this = this;\n\n    var element = this.$element()[0];\n\n    var dxStandardEditor = _element_data2.default.data(element, \"dx-validation-target\");\n\n    var adapter = this.option(\"adapter\");\n\n    if (!adapter) {\n      if (dxStandardEditor) {\n        adapter = new _default_adapter2.default(dxStandardEditor, this);\n        adapter.validationRequestsCallbacks.add(function (args) {\n          if (_this._validationInfo.skipValidation) {\n            return;\n          }\n\n          _this.validate(args);\n        });\n        this.option(\"adapter\", adapter);\n        return;\n      }\n\n      throw _ui2.default.Error(\"E0120\");\n    }\n\n    var callbacks = adapter.validationRequestsCallbacks;\n\n    if (callbacks) {\n      if (Array.isArray(callbacks)) {\n        callbacks.push(function (args) {\n          _this.validate(args);\n        });\n      } else {\n        _ui2.default.log(\"W0014\", \"validationRequestsCallbacks\", \"jQuery.Callbacks\", \"17.2\", \"Use the array instead\");\n\n        callbacks.add(function (args) {\n          _this.validate(args);\n        });\n      }\n    }\n  },\n  _toggleRTLDirection: function _toggleRTLDirection(isRtl) {\n    var _ref, _this$option, _this$option$editor;\n\n    var rtlEnabled = null !== (_ref = null === (_this$option = this.option(\"adapter\")) || void 0 === _this$option ? void 0 : null === (_this$option$editor = _this$option.editor) || void 0 === _this$option$editor ? void 0 : _this$option$editor.option(\"rtlEnabled\")) && void 0 !== _ref ? _ref : isRtl;\n    this.callBase(rtlEnabled);\n  },\n  _initMarkup: function _initMarkup() {\n    this.$element().addClass(VALIDATOR_CLASS);\n    this.callBase();\n  },\n  _visibilityChanged: function _visibilityChanged(visible) {\n    if (visible) {\n      this._initGroupRegistration();\n    }\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"validationGroup\":\n        this._initGroupRegistration();\n\n        return;\n\n      case \"validationRules\":\n        this._resetValidationRules();\n\n        void 0 !== this.option(\"isValid\") && this.validate();\n        return;\n\n      case \"adapter\":\n        this._initAdapter();\n\n        break;\n\n      case \"isValid\":\n      case \"validationStatus\":\n        this.option(_validation_engine2.default.synchronizeValidationOptions(args, this.option()));\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _getValidationRules: function _getValidationRules() {\n    var _this2 = this;\n\n    if (!this._validationRules) {\n      this._validationRules = (0, _iterator.map)(this.option(\"validationRules\"), function (rule, index) {\n        return (0, _extend.extend)({}, rule, {\n          validator: _this2,\n          index: index\n        });\n      });\n    }\n\n    return this._validationRules;\n  },\n  _findGroup: function _findGroup() {\n    var $element = this.$element();\n    return this.option(\"validationGroup\") || _validation_engine2.default.findGroup($element, this._modelByElement($element));\n  },\n  _resetValidationRules: function _resetValidationRules() {\n    delete this._validationRules;\n  },\n  validate: function validate(args) {\n    var _this3 = this;\n\n    var adapter = this.option(\"adapter\");\n    var name = this.option(\"name\");\n    var bypass = adapter.bypass && adapter.bypass();\n    var value = args && void 0 !== args.value ? args.value : adapter.getValue();\n    var currentError = adapter.getCurrentValidationError && adapter.getCurrentValidationError();\n\n    var rules = this._getValidationRules();\n\n    var currentResult = this._validationInfo && this._validationInfo.result;\n\n    if (currentResult && currentResult.status === VALIDATION_STATUS_PENDING && currentResult.value === value) {\n      return (0, _extend.extend)({}, currentResult);\n    }\n\n    var result;\n\n    if (bypass) {\n      result = {\n        isValid: true,\n        status: VALIDATION_STATUS_VALID\n      };\n    } else {\n      if (currentError && currentError.editorSpecific) {\n        currentError.validator = this;\n        result = {\n          isValid: false,\n          status: VALIDATION_STATUS_INVALID,\n          brokenRule: currentError,\n          brokenRules: [currentError]\n        };\n      } else {\n        result = _validation_engine2.default.validate(value, rules, name);\n      }\n    }\n\n    result.id = new _guid2.default().toString();\n\n    this._applyValidationResult(result, adapter);\n\n    result.complete && result.complete.then(function (res) {\n      if (res.id === _this3._validationInfo.result.id) {\n        _this3._applyValidationResult(res, adapter);\n      }\n    });\n    return (0, _extend.extend)({}, this._validationInfo.result);\n  },\n  reset: function reset() {\n    var adapter = this.option(\"adapter\");\n    var result = {\n      id: null,\n      isValid: true,\n      brokenRule: null,\n      brokenRules: null,\n      pendingRules: null,\n      status: VALIDATION_STATUS_VALID,\n      complete: null\n    };\n    this._validationInfo.skipValidation = true;\n    adapter.reset();\n    this._validationInfo.skipValidation = false;\n\n    this._resetValidationRules();\n\n    this._applyValidationResult(result, adapter);\n  },\n  _updateValidationResult: function _updateValidationResult(result) {\n    if (!this._validationInfo.result || this._validationInfo.result.id !== result.id) {\n      var complete = this._validationInfo.deferred && this._validationInfo.result.complete;\n      this._validationInfo.result = (0, _extend.extend)({}, result, {\n        complete: complete\n      });\n    } else {\n      for (var prop in result) {\n        if (\"id\" !== prop && \"complete\" !== prop) {\n          this._validationInfo.result[prop] = result[prop];\n        }\n      }\n    }\n  },\n  _applyValidationResult: function _applyValidationResult(result, adapter) {\n    var validatedAction = this._createActionByOption(\"onValidated\");\n\n    result.validator = this;\n\n    this._updateValidationResult(result);\n\n    adapter.applyValidationResults && adapter.applyValidationResults(this._validationInfo.result);\n    this.option({\n      validationStatus: this._validationInfo.result.status\n    });\n\n    if (this._validationInfo.result.status === VALIDATION_STATUS_PENDING) {\n      if (!this._validationInfo.deferred) {\n        this._validationInfo.deferred = new _deferred.Deferred();\n        this._validationInfo.result.complete = this._validationInfo.deferred.promise();\n      }\n\n      this.fireEvent(\"validating\", [this._validationInfo.result]);\n      return;\n    }\n\n    if (this._validationInfo.result.status !== VALIDATION_STATUS_PENDING) {\n      validatedAction(result);\n\n      if (this._validationInfo.deferred) {\n        this._validationInfo.deferred.resolve(result);\n\n        this._validationInfo.deferred = null;\n      }\n    }\n  },\n  focus: function focus() {\n    var adapter = this.option(\"adapter\");\n    adapter && adapter.focus && adapter.focus();\n  }\n});\n\n(0, _component_registrator2.default)(\"dxValidator\", Validator);\nmodule.exports = Validator;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/validator.js"],"names":["_element_data","require","_element_data2","_interopRequireDefault","_callbacks","_callbacks2","_ui","_ui2","_dom_component","_dom_component2","_extend","_iterator","_validation_engine","_validation_engine2","_default_adapter","_default_adapter2","_component_registrator","_component_registrator2","_deferred","_guid","_guid2","obj","VALIDATOR_CLASS","VALIDATION_STATUS_VALID","VALIDATION_STATUS_INVALID","VALIDATION_STATUS_PENDING","Validator","_initOptions","_getDefaultOptions","validationRules","_init","result","deferred","skipValidation","_initGroupRegistration","group","args","_setOptionsByReference","validationGroup","_initAdapter","_this","element","dxStandardEditor","adapter","callbacks","Array","_toggleRTLDirection","rtlEnabled","_ref","_this$option","_this$option$editor","_initMarkup","_visibilityChanged","_optionChanged","_getValidationRules","_this2","validator","index","_findGroup","$element","_resetValidationRules","validate","_this3","name","bypass","value","currentError","rules","currentResult","isValid","status","brokenRule","brokenRules","res","reset","id","pendingRules","complete","_updateValidationResult","_applyValidationResult","validatedAction","validationStatus","focus","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/validator.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _element_data = require(\"../core/element_data\");\r\nvar _element_data2 = _interopRequireDefault(_element_data);\r\nvar _callbacks = require(\"../core/utils/callbacks\");\r\nvar _callbacks2 = _interopRequireDefault(_callbacks);\r\nvar _ui = require(\"./widget/ui.errors\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _dom_component = require(\"../core/dom_component\");\r\nvar _dom_component2 = _interopRequireDefault(_dom_component);\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _validation_engine = require(\"./validation_engine\");\r\nvar _validation_engine2 = _interopRequireDefault(_validation_engine);\r\nvar _default_adapter = require(\"./validation/default_adapter\");\r\nvar _default_adapter2 = _interopRequireDefault(_default_adapter);\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _deferred = require(\"../core/utils/deferred\");\r\nvar _guid = require(\"../core/guid\");\r\nvar _guid2 = _interopRequireDefault(_guid);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar VALIDATOR_CLASS = \"dx-validator\";\r\nvar VALIDATION_STATUS_VALID = \"valid\";\r\nvar VALIDATION_STATUS_INVALID = \"invalid\";\r\nvar VALIDATION_STATUS_PENDING = \"pending\";\r\nvar Validator = _dom_component2.default.inherit({\r\n    _initOptions: function(options) {\r\n        this.callBase.apply(this, arguments);\r\n        this.option(_validation_engine2.default.initValidationOptions(options))\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            validationRules: []\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initGroupRegistration();\r\n        this.focused = (0, _callbacks2.default)();\r\n        this._initAdapter();\r\n        this._validationInfo = {\r\n            result: null,\r\n            deferred: null,\r\n            skipValidation: false\r\n        }\r\n    },\r\n    _initGroupRegistration: function() {\r\n        var group = this._findGroup();\r\n        if (!this._groupWasInit) {\r\n            this.on(\"disposing\", function(args) {\r\n                _validation_engine2.default.removeRegisteredValidator(args.component._validationGroup, args.component)\r\n            })\r\n        }\r\n        if (!this._groupWasInit || this._validationGroup !== group) {\r\n            _validation_engine2.default.removeRegisteredValidator(this._validationGroup, this);\r\n            this._groupWasInit = true;\r\n            this._validationGroup = group;\r\n            _validation_engine2.default.registerValidatorInGroup(group, this)\r\n        }\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        (0, _extend.extend)(this._optionsByReference, {\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _initAdapter: function() {\r\n        var _this = this;\r\n        var element = this.$element()[0];\r\n        var dxStandardEditor = _element_data2.default.data(element, \"dx-validation-target\");\r\n        var adapter = this.option(\"adapter\");\r\n        if (!adapter) {\r\n            if (dxStandardEditor) {\r\n                adapter = new _default_adapter2.default(dxStandardEditor, this);\r\n                adapter.validationRequestsCallbacks.add(function(args) {\r\n                    if (_this._validationInfo.skipValidation) {\r\n                        return\r\n                    }\r\n                    _this.validate(args)\r\n                });\r\n                this.option(\"adapter\", adapter);\r\n                return\r\n            }\r\n            throw _ui2.default.Error(\"E0120\")\r\n        }\r\n        var callbacks = adapter.validationRequestsCallbacks;\r\n        if (callbacks) {\r\n            if (Array.isArray(callbacks)) {\r\n                callbacks.push(function(args) {\r\n                    _this.validate(args)\r\n                })\r\n            } else {\r\n                _ui2.default.log(\"W0014\", \"validationRequestsCallbacks\", \"jQuery.Callbacks\", \"17.2\", \"Use the array instead\");\r\n                callbacks.add(function(args) {\r\n                    _this.validate(args)\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _toggleRTLDirection: function(isRtl) {\r\n        var _ref, _this$option, _this$option$editor;\r\n        var rtlEnabled = null !== (_ref = null === (_this$option = this.option(\"adapter\")) || void 0 === _this$option ? void 0 : null === (_this$option$editor = _this$option.editor) || void 0 === _this$option$editor ? void 0 : _this$option$editor.option(\"rtlEnabled\")) && void 0 !== _ref ? _ref : isRtl;\r\n        this.callBase(rtlEnabled)\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(VALIDATOR_CLASS);\r\n        this.callBase()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._initGroupRegistration()\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"validationGroup\":\r\n                this._initGroupRegistration();\r\n                return;\r\n            case \"validationRules\":\r\n                this._resetValidationRules();\r\n                void 0 !== this.option(\"isValid\") && this.validate();\r\n                return;\r\n            case \"adapter\":\r\n                this._initAdapter();\r\n                break;\r\n            case \"isValid\":\r\n            case \"validationStatus\":\r\n                this.option(_validation_engine2.default.synchronizeValidationOptions(args, this.option()));\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _getValidationRules: function() {\r\n        var _this2 = this;\r\n        if (!this._validationRules) {\r\n            this._validationRules = (0, _iterator.map)(this.option(\"validationRules\"), function(rule, index) {\r\n                return (0, _extend.extend)({}, rule, {\r\n                    validator: _this2,\r\n                    index: index\r\n                })\r\n            })\r\n        }\r\n        return this._validationRules\r\n    },\r\n    _findGroup: function() {\r\n        var $element = this.$element();\r\n        return this.option(\"validationGroup\") || _validation_engine2.default.findGroup($element, this._modelByElement($element))\r\n    },\r\n    _resetValidationRules: function() {\r\n        delete this._validationRules\r\n    },\r\n    validate: function(args) {\r\n        var _this3 = this;\r\n        var adapter = this.option(\"adapter\");\r\n        var name = this.option(\"name\");\r\n        var bypass = adapter.bypass && adapter.bypass();\r\n        var value = args && void 0 !== args.value ? args.value : adapter.getValue();\r\n        var currentError = adapter.getCurrentValidationError && adapter.getCurrentValidationError();\r\n        var rules = this._getValidationRules();\r\n        var currentResult = this._validationInfo && this._validationInfo.result;\r\n        if (currentResult && currentResult.status === VALIDATION_STATUS_PENDING && currentResult.value === value) {\r\n            return (0, _extend.extend)({}, currentResult)\r\n        }\r\n        var result;\r\n        if (bypass) {\r\n            result = {\r\n                isValid: true,\r\n                status: VALIDATION_STATUS_VALID\r\n            }\r\n        } else {\r\n            if (currentError && currentError.editorSpecific) {\r\n                currentError.validator = this;\r\n                result = {\r\n                    isValid: false,\r\n                    status: VALIDATION_STATUS_INVALID,\r\n                    brokenRule: currentError,\r\n                    brokenRules: [currentError]\r\n                }\r\n            } else {\r\n                result = _validation_engine2.default.validate(value, rules, name)\r\n            }\r\n        }\r\n        result.id = (new _guid2.default).toString();\r\n        this._applyValidationResult(result, adapter);\r\n        result.complete && result.complete.then(function(res) {\r\n            if (res.id === _this3._validationInfo.result.id) {\r\n                _this3._applyValidationResult(res, adapter)\r\n            }\r\n        });\r\n        return (0, _extend.extend)({}, this._validationInfo.result)\r\n    },\r\n    reset: function() {\r\n        var adapter = this.option(\"adapter\");\r\n        var result = {\r\n            id: null,\r\n            isValid: true,\r\n            brokenRule: null,\r\n            brokenRules: null,\r\n            pendingRules: null,\r\n            status: VALIDATION_STATUS_VALID,\r\n            complete: null\r\n        };\r\n        this._validationInfo.skipValidation = true;\r\n        adapter.reset();\r\n        this._validationInfo.skipValidation = false;\r\n        this._resetValidationRules();\r\n        this._applyValidationResult(result, adapter)\r\n    },\r\n    _updateValidationResult: function(result) {\r\n        if (!this._validationInfo.result || this._validationInfo.result.id !== result.id) {\r\n            var complete = this._validationInfo.deferred && this._validationInfo.result.complete;\r\n            this._validationInfo.result = (0, _extend.extend)({}, result, {\r\n                complete: complete\r\n            })\r\n        } else {\r\n            for (var prop in result) {\r\n                if (\"id\" !== prop && \"complete\" !== prop) {\r\n                    this._validationInfo.result[prop] = result[prop]\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _applyValidationResult: function(result, adapter) {\r\n        var validatedAction = this._createActionByOption(\"onValidated\");\r\n        result.validator = this;\r\n        this._updateValidationResult(result);\r\n        adapter.applyValidationResults && adapter.applyValidationResults(this._validationInfo.result);\r\n        this.option({\r\n            validationStatus: this._validationInfo.result.status\r\n        });\r\n        if (this._validationInfo.result.status === VALIDATION_STATUS_PENDING) {\r\n            if (!this._validationInfo.deferred) {\r\n                this._validationInfo.deferred = new _deferred.Deferred;\r\n                this._validationInfo.result.complete = this._validationInfo.deferred.promise()\r\n            }\r\n            this.fireEvent(\"validating\", [this._validationInfo.result]);\r\n            return\r\n        }\r\n        if (this._validationInfo.result.status !== VALIDATION_STATUS_PENDING) {\r\n            validatedAction(result);\r\n            if (this._validationInfo.deferred) {\r\n                this._validationInfo.deferred.resolve(result);\r\n                this._validationInfo.deferred = null\r\n            }\r\n        }\r\n    },\r\n    focus: function() {\r\n        var adapter = this.option(\"adapter\");\r\n        adapter && adapter.focus && adapter.focus()\r\n    }\r\n});\r\n(0, _component_registrator2.default)(\"dxValidator\", Validator);\r\nmodule.exports = Validator;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"module"}