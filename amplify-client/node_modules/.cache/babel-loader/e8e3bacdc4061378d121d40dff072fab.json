{"ast":null,"code":"/**\r\n * DevExtreme (viz/vector_map/legend.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar _extend = extend;\nvar _each = each;\n\nvar legendModule = require(\"../components/legend\");\n\nvar _BaseLegend = legendModule.Legend;\nvar unknownSource = {\n  category: \"UNKNOWN\",\n  name: \"UNKNOWN\"\n};\n\nfunction buildData(partition, values, field) {\n  var i;\n  var ii = values.length;\n  var list = [];\n  var item;\n\n  for (i = 0; i < ii; ++i) {\n    list[i] = item = {\n      start: partition[i],\n      end: partition[i + 1],\n      index: i\n    };\n    item[field] = values[i];\n    item.states = {\n      normal: {\n        fill: item.color\n      }\n    };\n    item.visible = true;\n  }\n\n  return list;\n}\n\nvar Legend = function Legend(parameters) {\n  var that = this;\n  that._params = parameters;\n  that._root = parameters.renderer.g().attr({\n    \"class\": \"dxm-legend\"\n  }).linkOn(parameters.container, {\n    name: \"legend\",\n    after: \"legend-base\"\n  }).enableLinks().linkAppend();\n  parameters.layoutControl.addItem(that);\n\n  _BaseLegend.call(that, {\n    renderer: parameters.renderer,\n    widget: parameters.widget,\n    group: that._root,\n    backgroundClass: null,\n    itemsGroupClass: null,\n    textField: \"text\",\n    getFormatObject: function getFormatObject(data) {\n      return data;\n    }\n  });\n\n  that._onDataChanged = function (data) {\n    that._updateData(data);\n  };\n};\n\nLegend.prototype = _extend(require(\"../../core/utils/object\").clone(_BaseLegend.prototype), {\n  constructor: Legend,\n  dispose: function dispose() {\n    var that = this;\n\n    that._params.layoutControl.removeItem(that);\n\n    that._unbindData();\n\n    that._root.linkRemove().linkOff();\n\n    that._params = that._root = that._onDataChanged = null;\n    return _BaseLegend.prototype.dispose.apply(that, arguments);\n  },\n  resize: function resize(size) {\n    this._params.notifyDirty();\n\n    if (null === size) {\n      this.erase();\n    } else {\n      this.draw(size.width, size.height);\n    }\n\n    this._params.notifyReady();\n  },\n  locate: _BaseLegend.prototype.shift,\n  _updateData: function _updateData(data) {\n    this._options.defaultColor = data && data.defaultColor;\n    this.update(data ? buildData(data.partition, data.values, this._dataName) : [], this._options, this._params.themeManager.theme(\"legend\").title);\n    this.updateLayout();\n  },\n  _unbindData: function _unbindData() {\n    if (this._dataCategory) {\n      this._params.dataExchanger.unbind(this._dataCategory, this._dataName, this._onDataChanged);\n    }\n  },\n  _bindData: function _bindData(arg) {\n    this._params.dataExchanger.bind(this._dataCategory = arg.category, this._dataName = arg.name, this._onDataChanged);\n  },\n  setOptions: function setOptions(options) {\n    var that = this;\n    that.update(that._data, options, this._params.themeManager.theme(\"legend\").title);\n\n    that._unbindData();\n\n    var source = options.source;\n\n    that._bindData(source ? {\n      category: source.layer,\n      name: source.grouping\n    } : unknownSource);\n\n    that.updateLayout();\n    return that;\n  }\n});\n\nfunction LegendsControl(parameters) {\n  this._params = parameters;\n  this._items = [];\n  parameters.container.virtualLink(\"legend-base\");\n}\n\nLegendsControl.prototype = {\n  constructor: LegendsControl,\n  dispose: function dispose() {\n    _each(this._items, function (_, item) {\n      item.dispose();\n    });\n\n    this._params = this._items = null;\n  },\n  setOptions: function setOptions(options) {\n    var optionList = options && options.length ? options : [];\n    var items = this._items;\n    var i;\n    var ii = optionList.length;\n    var params = this._params;\n    var theme = params.themeManager.theme(\"legend\");\n\n    for (i = items.length; i < ii; ++i) {\n      items[i] = new Legend(params);\n    }\n\n    for (i = items.length - 1; i >= ii; --i) {\n      items[i].dispose();\n      items.splice(i, 1);\n    }\n\n    params.layoutControl.suspend();\n\n    for (i = 0; i < ii; ++i) {\n      items[i].setOptions(_extend(true, {}, theme, optionList[i]));\n    }\n\n    params.layoutControl.resume();\n  }\n};\nexports.LegendsControl = LegendsControl;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/vector_map/legend.js"],"names":["extend","require","each","_extend","_each","legendModule","_BaseLegend","unknownSource","category","name","ii","values","list","i","item","start","partition","end","index","normal","fill","color","Legend","that","parameters","after","renderer","widget","group","backgroundClass","itemsGroupClass","textField","getFormatObject","constructor","dispose","resize","size","locate","_updateData","data","buildData","_unbindData","_bindData","arg","setOptions","source","options","grouping","LegendsControl","optionList","items","params","theme","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/vector_map/legend.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar _extend = extend;\r\nvar _each = each;\r\nvar legendModule = require(\"../components/legend\");\r\nvar _BaseLegend = legendModule.Legend;\r\nvar unknownSource = {\r\n    category: \"UNKNOWN\",\r\n    name: \"UNKNOWN\"\r\n};\r\n\r\nfunction buildData(partition, values, field) {\r\n    var i;\r\n    var ii = values.length;\r\n    var list = [];\r\n    var item;\r\n    for (i = 0; i < ii; ++i) {\r\n        list[i] = item = {\r\n            start: partition[i],\r\n            end: partition[i + 1],\r\n            index: i\r\n        };\r\n        item[field] = values[i];\r\n        item.states = {\r\n            normal: {\r\n                fill: item.color\r\n            }\r\n        };\r\n        item.visible = true\r\n    }\r\n    return list\r\n}\r\nvar Legend = function(parameters) {\r\n    var that = this;\r\n    that._params = parameters;\r\n    that._root = parameters.renderer.g().attr({\r\n        \"class\": \"dxm-legend\"\r\n    }).linkOn(parameters.container, {\r\n        name: \"legend\",\r\n        after: \"legend-base\"\r\n    }).enableLinks().linkAppend();\r\n    parameters.layoutControl.addItem(that);\r\n    _BaseLegend.call(that, {\r\n        renderer: parameters.renderer,\r\n        widget: parameters.widget,\r\n        group: that._root,\r\n        backgroundClass: null,\r\n        itemsGroupClass: null,\r\n        textField: \"text\",\r\n        getFormatObject: function(data) {\r\n            return data\r\n        }\r\n    });\r\n    that._onDataChanged = function(data) {\r\n        that._updateData(data)\r\n    }\r\n};\r\nLegend.prototype = _extend(require(\"../../core/utils/object\").clone(_BaseLegend.prototype), {\r\n    constructor: Legend,\r\n    dispose: function() {\r\n        var that = this;\r\n        that._params.layoutControl.removeItem(that);\r\n        that._unbindData();\r\n        that._root.linkRemove().linkOff();\r\n        that._params = that._root = that._onDataChanged = null;\r\n        return _BaseLegend.prototype.dispose.apply(that, arguments)\r\n    },\r\n    resize: function(size) {\r\n        this._params.notifyDirty();\r\n        if (null === size) {\r\n            this.erase()\r\n        } else {\r\n            this.draw(size.width, size.height)\r\n        }\r\n        this._params.notifyReady()\r\n    },\r\n    locate: _BaseLegend.prototype.shift,\r\n    _updateData: function(data) {\r\n        this._options.defaultColor = data && data.defaultColor;\r\n        this.update(data ? buildData(data.partition, data.values, this._dataName) : [], this._options, this._params.themeManager.theme(\"legend\").title);\r\n        this.updateLayout()\r\n    },\r\n    _unbindData: function() {\r\n        if (this._dataCategory) {\r\n            this._params.dataExchanger.unbind(this._dataCategory, this._dataName, this._onDataChanged)\r\n        }\r\n    },\r\n    _bindData: function(arg) {\r\n        this._params.dataExchanger.bind(this._dataCategory = arg.category, this._dataName = arg.name, this._onDataChanged)\r\n    },\r\n    setOptions: function(options) {\r\n        var that = this;\r\n        that.update(that._data, options, this._params.themeManager.theme(\"legend\").title);\r\n        that._unbindData();\r\n        var source = options.source;\r\n        that._bindData(source ? {\r\n            category: source.layer,\r\n            name: source.grouping\r\n        } : unknownSource);\r\n        that.updateLayout();\r\n        return that\r\n    }\r\n});\r\n\r\nfunction LegendsControl(parameters) {\r\n    this._params = parameters;\r\n    this._items = [];\r\n    parameters.container.virtualLink(\"legend-base\")\r\n}\r\nLegendsControl.prototype = {\r\n    constructor: LegendsControl,\r\n    dispose: function() {\r\n        _each(this._items, function(_, item) {\r\n            item.dispose()\r\n        });\r\n        this._params = this._items = null\r\n    },\r\n    setOptions: function(options) {\r\n        var optionList = options && options.length ? options : [];\r\n        var items = this._items;\r\n        var i;\r\n        var ii = optionList.length;\r\n        var params = this._params;\r\n        var theme = params.themeManager.theme(\"legend\");\r\n        for (i = items.length; i < ii; ++i) {\r\n            items[i] = new Legend(params)\r\n        }\r\n        for (i = items.length - 1; i >= ii; --i) {\r\n            items[i].dispose();\r\n            items.splice(i, 1)\r\n        }\r\n        params.layoutControl.suspend();\r\n        for (i = 0; i < ii; ++i) {\r\n            items[i].setOptions(_extend(true, {}, theme, optionList[i]))\r\n        }\r\n        params.layoutControl.resume()\r\n    }\r\n};\r\nexports.LegendsControl = LegendsControl;\r\n"]},"metadata":{},"sourceType":"module"}