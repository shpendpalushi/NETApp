{"ast":null,"code":"/**\r\n * DevExtreme (viz/gauges/linear_gauge.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _each = require(\"../../core/utils/iterator\").each;\n\nvar _max = Math.max;\nvar _min = Math.min;\nvar _round = Math.round;\n\nvar registerComponent = require(\"../../core/component_registrator\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar objectUtils = require(\"../../core/utils/object\");\n\nvar dxBaseGauge = require(\"./base_gauge\").dxBaseGauge;\n\nvar dxGauge = require(\"./common\").dxGauge;\n\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\n\nvar linearIndicatorsModule = require(\"./linear_indicators\");\n\nvar createIndicatorCreator = require(\"./common\").createIndicatorCreator;\n\nvar LinearRangeContainer = require(\"./linear_range_container\");\n\nvar dxLinearGauge = dxGauge.inherit({\n  _rootClass: \"dxg-linear-gauge\",\n  _factoryMethods: {\n    rangeContainer: \"createLinearRangeContainer\",\n    indicator: \"createLinearIndicator\"\n  },\n  _gridSpacingFactor: 25,\n  _scaleTypes: {\n    type: \"xyAxes\",\n    drawingType: \"linear\"\n  },\n  _getTicksOrientation: function _getTicksOrientation(scaleOptions) {\n    return scaleOptions.isHorizontal ? scaleOptions.verticalOrientation : scaleOptions.horizontalOrientation;\n  },\n  _getThemeManagerOptions: function _getThemeManagerOptions() {\n    var options = this.callBase.apply(this, arguments);\n    options.subTheme = \"_linear\";\n    return options;\n  },\n  _updateScaleTickIndent: function _updateScaleTickIndent(scaleOptions) {\n    var indentFromTick = scaleOptions.label.indentFromTick;\n    var length = scaleOptions.tick.length;\n\n    var textParams = this._scale.measureLabels(extend({}, this._canvas));\n\n    var verticalTextCorrection = scaleOptions.isHorizontal ? textParams.height + textParams.y : 0;\n    var isIndentPositive = indentFromTick > 0;\n    var orientation;\n    var textCorrection;\n    var tickCorrection;\n\n    if (scaleOptions.isHorizontal) {\n      orientation = isIndentPositive ? {\n        center: .5,\n        top: 0,\n        bottom: 1\n      } : {\n        center: .5,\n        top: 1,\n        bottom: 0\n      };\n      tickCorrection = length * orientation[scaleOptions.verticalOrientation];\n      textCorrection = textParams.y;\n    } else {\n      orientation = isIndentPositive ? {\n        center: .5,\n        left: 0,\n        right: 1\n      } : {\n        center: .5,\n        left: 1,\n        right: 0\n      };\n      tickCorrection = length * orientation[scaleOptions.horizontalOrientation];\n      textCorrection = -textParams.width;\n    }\n\n    scaleOptions.label.indentFromAxis = -indentFromTick + (isIndentPositive ? -tickCorrection + textCorrection : tickCorrection - verticalTextCorrection);\n\n    this._scale.updateOptions(scaleOptions);\n  },\n  _shiftScale: function _shiftScale(layout, scaleOptions) {\n    var that = this;\n    var canvas = extend({}, that._canvas);\n    var isHorizontal = scaleOptions.isHorizontal;\n    var scale = that._scale;\n    canvas[isHorizontal ? \"left\" : \"top\"] = that._area[isHorizontal ? \"startCoord\" : \"endCoord\"];\n    canvas[isHorizontal ? \"right\" : \"bottom\"] = canvas[isHorizontal ? \"width\" : \"height\"] - that._area[isHorizontal ? \"endCoord\" : \"startCoord\"];\n    scale.draw(canvas);\n    scale.shift({\n      left: -layout.x,\n      top: -layout.y\n    });\n  },\n  _setupCodomain: function _setupCodomain() {\n    var that = this;\n    var geometry = that.option(\"geometry\") || {};\n\n    var vertical = \"vertical\" === _normalizeEnum(geometry.orientation);\n\n    var initialStartCoord = -100;\n    var initialEndCoord = 100;\n    that._area = {\n      vertical: vertical,\n      x: 0,\n      y: 0,\n      startCoord: initialStartCoord,\n      endCoord: initialEndCoord\n    };\n    that._rangeContainer.vertical = vertical;\n\n    that._translator.setCodomain(initialStartCoord, initialEndCoord);\n  },\n  _getScaleLayoutValue: function _getScaleLayoutValue() {\n    return this._area[this._area.vertical ? \"x\" : \"y\"];\n  },\n  _getTicksCoefficients: function _getTicksCoefficients(options) {\n    var coefs = {\n      inner: 0,\n      outer: 1\n    };\n\n    if (this._area.vertical) {\n      if (\"left\" === options.horizontalOrientation) {\n        coefs.inner = 1;\n        coefs.outer = 0;\n      } else {\n        if (\"center\" === options.horizontalOrientation) {\n          coefs.inner = coefs.outer = .5;\n        }\n      }\n    } else {\n      if (\"top\" === options.verticalOrientation) {\n        coefs.inner = 1;\n        coefs.outer = 0;\n      } else {\n        if (\"center\" === options.verticalOrientation) {\n          coefs.inner = coefs.outer = .5;\n        }\n      }\n    }\n\n    return coefs;\n  },\n  _correctScaleIndents: function _correctScaleIndents(result, indentFromTick, textParams) {\n    var vertical = this._area.vertical;\n\n    if (indentFromTick >= 0) {\n      result.max += indentFromTick + textParams[vertical ? \"width\" : \"height\"];\n    } else {\n      result.min -= -indentFromTick + textParams[vertical ? \"width\" : \"height\"];\n    }\n\n    result.indent = textParams[vertical ? \"height\" : \"width\"] / 2;\n  },\n  _measureMainElements: function _measureMainElements(elements, scaleMeasurement) {\n    var that = this;\n    var x = that._area.x;\n    var y = that._area.y;\n    var minBound = 1e3;\n    var maxBound = 0;\n    var indent = 0;\n    var scale = that._scale;\n\n    _each(elements.concat(scale), function (_, element) {\n      var bounds = element.measure ? element.measure({\n        x: x + element.getOffset(),\n        y: y + element.getOffset()\n      }) : scaleMeasurement;\n      void 0 !== bounds.max && (maxBound = _max(maxBound, bounds.max));\n      void 0 !== bounds.min && (minBound = _min(minBound, bounds.min));\n      bounds.indent > 0 && (indent = _max(indent, bounds.indent));\n    });\n\n    return {\n      minBound: minBound,\n      maxBound: maxBound,\n      indent: indent\n    };\n  },\n  _applyMainLayout: function _applyMainLayout(elements, scaleMeasurement) {\n    var that = this;\n\n    var measurements = that._measureMainElements(elements, scaleMeasurement);\n\n    var area = that._area;\n    var rect;\n    var offset;\n\n    if (area.vertical) {\n      rect = selectRectBySizes(that._innerRect, {\n        width: measurements.maxBound - measurements.minBound\n      });\n      offset = (rect.left + rect.right) / 2 - (measurements.minBound + measurements.maxBound) / 2;\n      area.startCoord = rect.bottom - measurements.indent;\n      area.endCoord = rect.top + measurements.indent;\n      area.x = _round(area.x + offset);\n    } else {\n      rect = selectRectBySizes(that._innerRect, {\n        height: measurements.maxBound - measurements.minBound\n      });\n      offset = (rect.top + rect.bottom) / 2 - (measurements.minBound + measurements.maxBound) / 2;\n      area.startCoord = rect.left + measurements.indent;\n      area.endCoord = rect.right - measurements.indent;\n      area.y = _round(area.y + offset);\n    }\n\n    that._translator.setCodomain(area.startCoord, area.endCoord);\n\n    that._innerRect = rect;\n  },\n  _getElementLayout: function _getElementLayout(offset) {\n    return {\n      x: _round(this._area.x + offset),\n      y: _round(this._area.y + offset)\n    };\n  },\n  _getApproximateScreenRange: function _getApproximateScreenRange() {\n    var that = this;\n    var area = that._area;\n    var s = area.vertical ? that._canvas.height : that._canvas.width;\n    s > area.totalSize && (s = area.totalSize);\n    s = .8 * s;\n    return s;\n  },\n  _getDefaultSize: function _getDefaultSize() {\n    var geometry = this.option(\"geometry\") || {};\n\n    if (\"vertical\" === geometry.orientation) {\n      return {\n        width: 100,\n        height: 300\n      };\n    } else {\n      return {\n        width: 300,\n        height: 100\n      };\n    }\n  },\n  _factory: objectUtils.clone(dxBaseGauge.prototype._factory)\n});\n\nfunction selectRectBySizes(srcRect, sizes, margins) {\n  var rect = extend({}, srcRect);\n  var step;\n  margins = margins || {};\n\n  if (sizes) {\n    rect.left += margins.left || 0;\n    rect.right -= margins.right || 0;\n    rect.top += margins.top || 0;\n    rect.bottom -= margins.bottom || 0;\n\n    if (sizes.width > 0) {\n      step = (rect.right - rect.left - sizes.width) / 2;\n\n      if (step > 0) {\n        rect.left += step;\n        rect.right -= step;\n      }\n    }\n\n    if (sizes.height > 0) {\n      step = (rect.bottom - rect.top - sizes.height) / 2;\n\n      if (step > 0) {\n        rect.top += step;\n        rect.bottom -= step;\n      }\n    }\n  }\n\n  return rect;\n}\n\nvar indicators = dxLinearGauge.prototype._factory.indicators = {};\ndxLinearGauge.prototype._factory.createIndicator = createIndicatorCreator(indicators);\nindicators._default = linearIndicatorsModule._default;\nindicators.rectangle = linearIndicatorsModule.rectangle;\nindicators.rhombus = linearIndicatorsModule.rhombus;\nindicators.circle = linearIndicatorsModule.circle;\nindicators.trianglemarker = linearIndicatorsModule.trianglemarker;\nindicators.textcloud = linearIndicatorsModule.textcloud;\nindicators.rangebar = linearIndicatorsModule.rangebar;\ndxLinearGauge.prototype._factory.RangeContainer = LinearRangeContainer;\nregisterComponent(\"dxLinearGauge\", dxLinearGauge);\nmodule.exports = dxLinearGauge;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/gauges/linear_gauge.js"],"names":["_each","require","_max","Math","_min","_round","registerComponent","extend","objectUtils","dxBaseGauge","dxGauge","_normalizeEnum","linearIndicatorsModule","createIndicatorCreator","LinearRangeContainer","dxLinearGauge","_rootClass","_factoryMethods","rangeContainer","indicator","_gridSpacingFactor","_scaleTypes","type","drawingType","_getTicksOrientation","scaleOptions","_getThemeManagerOptions","options","_updateScaleTickIndent","indentFromTick","length","textParams","verticalTextCorrection","isIndentPositive","orientation","center","top","bottom","tickCorrection","textCorrection","left","right","_shiftScale","that","canvas","isHorizontal","scale","layout","y","_setupCodomain","geometry","vertical","initialStartCoord","initialEndCoord","x","startCoord","endCoord","_getScaleLayoutValue","_getTicksCoefficients","coefs","inner","outer","_correctScaleIndents","result","_measureMainElements","minBound","maxBound","indent","elements","bounds","element","_applyMainLayout","measurements","area","rect","selectRectBySizes","width","offset","height","_getElementLayout","_getApproximateScreenRange","s","_getDefaultSize","_factory","margins","sizes","step","indicators","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/gauges/linear_gauge.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _each = require(\"../../core/utils/iterator\").each;\r\nvar _max = Math.max;\r\nvar _min = Math.min;\r\nvar _round = Math.round;\r\nvar registerComponent = require(\"../../core/component_registrator\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar objectUtils = require(\"../../core/utils/object\");\r\nvar dxBaseGauge = require(\"./base_gauge\").dxBaseGauge;\r\nvar dxGauge = require(\"./common\").dxGauge;\r\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\r\nvar linearIndicatorsModule = require(\"./linear_indicators\");\r\nvar createIndicatorCreator = require(\"./common\").createIndicatorCreator;\r\nvar LinearRangeContainer = require(\"./linear_range_container\");\r\nvar dxLinearGauge = dxGauge.inherit({\r\n    _rootClass: \"dxg-linear-gauge\",\r\n    _factoryMethods: {\r\n        rangeContainer: \"createLinearRangeContainer\",\r\n        indicator: \"createLinearIndicator\"\r\n    },\r\n    _gridSpacingFactor: 25,\r\n    _scaleTypes: {\r\n        type: \"xyAxes\",\r\n        drawingType: \"linear\"\r\n    },\r\n    _getTicksOrientation: function(scaleOptions) {\r\n        return scaleOptions.isHorizontal ? scaleOptions.verticalOrientation : scaleOptions.horizontalOrientation\r\n    },\r\n    _getThemeManagerOptions: function() {\r\n        var options = this.callBase.apply(this, arguments);\r\n        options.subTheme = \"_linear\";\r\n        return options\r\n    },\r\n    _updateScaleTickIndent: function(scaleOptions) {\r\n        var indentFromTick = scaleOptions.label.indentFromTick;\r\n        var length = scaleOptions.tick.length;\r\n        var textParams = this._scale.measureLabels(extend({}, this._canvas));\r\n        var verticalTextCorrection = scaleOptions.isHorizontal ? textParams.height + textParams.y : 0;\r\n        var isIndentPositive = indentFromTick > 0;\r\n        var orientation;\r\n        var textCorrection;\r\n        var tickCorrection;\r\n        if (scaleOptions.isHorizontal) {\r\n            orientation = isIndentPositive ? {\r\n                center: .5,\r\n                top: 0,\r\n                bottom: 1\r\n            } : {\r\n                center: .5,\r\n                top: 1,\r\n                bottom: 0\r\n            };\r\n            tickCorrection = length * orientation[scaleOptions.verticalOrientation];\r\n            textCorrection = textParams.y\r\n        } else {\r\n            orientation = isIndentPositive ? {\r\n                center: .5,\r\n                left: 0,\r\n                right: 1\r\n            } : {\r\n                center: .5,\r\n                left: 1,\r\n                right: 0\r\n            };\r\n            tickCorrection = length * orientation[scaleOptions.horizontalOrientation];\r\n            textCorrection = -textParams.width\r\n        }\r\n        scaleOptions.label.indentFromAxis = -indentFromTick + (isIndentPositive ? -tickCorrection + textCorrection : tickCorrection - verticalTextCorrection);\r\n        this._scale.updateOptions(scaleOptions)\r\n    },\r\n    _shiftScale: function(layout, scaleOptions) {\r\n        var that = this;\r\n        var canvas = extend({}, that._canvas);\r\n        var isHorizontal = scaleOptions.isHorizontal;\r\n        var scale = that._scale;\r\n        canvas[isHorizontal ? \"left\" : \"top\"] = that._area[isHorizontal ? \"startCoord\" : \"endCoord\"];\r\n        canvas[isHorizontal ? \"right\" : \"bottom\"] = canvas[isHorizontal ? \"width\" : \"height\"] - that._area[isHorizontal ? \"endCoord\" : \"startCoord\"];\r\n        scale.draw(canvas);\r\n        scale.shift({\r\n            left: -layout.x,\r\n            top: -layout.y\r\n        })\r\n    },\r\n    _setupCodomain: function() {\r\n        var that = this;\r\n        var geometry = that.option(\"geometry\") || {};\r\n        var vertical = \"vertical\" === _normalizeEnum(geometry.orientation);\r\n        var initialStartCoord = -100;\r\n        var initialEndCoord = 100;\r\n        that._area = {\r\n            vertical: vertical,\r\n            x: 0,\r\n            y: 0,\r\n            startCoord: initialStartCoord,\r\n            endCoord: initialEndCoord\r\n        };\r\n        that._rangeContainer.vertical = vertical;\r\n        that._translator.setCodomain(initialStartCoord, initialEndCoord)\r\n    },\r\n    _getScaleLayoutValue: function() {\r\n        return this._area[this._area.vertical ? \"x\" : \"y\"]\r\n    },\r\n    _getTicksCoefficients: function(options) {\r\n        var coefs = {\r\n            inner: 0,\r\n            outer: 1\r\n        };\r\n        if (this._area.vertical) {\r\n            if (\"left\" === options.horizontalOrientation) {\r\n                coefs.inner = 1;\r\n                coefs.outer = 0\r\n            } else {\r\n                if (\"center\" === options.horizontalOrientation) {\r\n                    coefs.inner = coefs.outer = .5\r\n                }\r\n            }\r\n        } else {\r\n            if (\"top\" === options.verticalOrientation) {\r\n                coefs.inner = 1;\r\n                coefs.outer = 0\r\n            } else {\r\n                if (\"center\" === options.verticalOrientation) {\r\n                    coefs.inner = coefs.outer = .5\r\n                }\r\n            }\r\n        }\r\n        return coefs\r\n    },\r\n    _correctScaleIndents: function(result, indentFromTick, textParams) {\r\n        var vertical = this._area.vertical;\r\n        if (indentFromTick >= 0) {\r\n            result.max += indentFromTick + textParams[vertical ? \"width\" : \"height\"]\r\n        } else {\r\n            result.min -= -indentFromTick + textParams[vertical ? \"width\" : \"height\"]\r\n        }\r\n        result.indent = textParams[vertical ? \"height\" : \"width\"] / 2\r\n    },\r\n    _measureMainElements: function(elements, scaleMeasurement) {\r\n        var that = this;\r\n        var x = that._area.x;\r\n        var y = that._area.y;\r\n        var minBound = 1e3;\r\n        var maxBound = 0;\r\n        var indent = 0;\r\n        var scale = that._scale;\r\n        _each(elements.concat(scale), function(_, element) {\r\n            var bounds = element.measure ? element.measure({\r\n                x: x + element.getOffset(),\r\n                y: y + element.getOffset()\r\n            }) : scaleMeasurement;\r\n            void 0 !== bounds.max && (maxBound = _max(maxBound, bounds.max));\r\n            void 0 !== bounds.min && (minBound = _min(minBound, bounds.min));\r\n            bounds.indent > 0 && (indent = _max(indent, bounds.indent))\r\n        });\r\n        return {\r\n            minBound: minBound,\r\n            maxBound: maxBound,\r\n            indent: indent\r\n        }\r\n    },\r\n    _applyMainLayout: function(elements, scaleMeasurement) {\r\n        var that = this;\r\n        var measurements = that._measureMainElements(elements, scaleMeasurement);\r\n        var area = that._area;\r\n        var rect;\r\n        var offset;\r\n        if (area.vertical) {\r\n            rect = selectRectBySizes(that._innerRect, {\r\n                width: measurements.maxBound - measurements.minBound\r\n            });\r\n            offset = (rect.left + rect.right) / 2 - (measurements.minBound + measurements.maxBound) / 2;\r\n            area.startCoord = rect.bottom - measurements.indent;\r\n            area.endCoord = rect.top + measurements.indent;\r\n            area.x = _round(area.x + offset)\r\n        } else {\r\n            rect = selectRectBySizes(that._innerRect, {\r\n                height: measurements.maxBound - measurements.minBound\r\n            });\r\n            offset = (rect.top + rect.bottom) / 2 - (measurements.minBound + measurements.maxBound) / 2;\r\n            area.startCoord = rect.left + measurements.indent;\r\n            area.endCoord = rect.right - measurements.indent;\r\n            area.y = _round(area.y + offset)\r\n        }\r\n        that._translator.setCodomain(area.startCoord, area.endCoord);\r\n        that._innerRect = rect\r\n    },\r\n    _getElementLayout: function(offset) {\r\n        return {\r\n            x: _round(this._area.x + offset),\r\n            y: _round(this._area.y + offset)\r\n        }\r\n    },\r\n    _getApproximateScreenRange: function() {\r\n        var that = this;\r\n        var area = that._area;\r\n        var s = area.vertical ? that._canvas.height : that._canvas.width;\r\n        s > area.totalSize && (s = area.totalSize);\r\n        s = .8 * s;\r\n        return s\r\n    },\r\n    _getDefaultSize: function() {\r\n        var geometry = this.option(\"geometry\") || {};\r\n        if (\"vertical\" === geometry.orientation) {\r\n            return {\r\n                width: 100,\r\n                height: 300\r\n            }\r\n        } else {\r\n            return {\r\n                width: 300,\r\n                height: 100\r\n            }\r\n        }\r\n    },\r\n    _factory: objectUtils.clone(dxBaseGauge.prototype._factory)\r\n});\r\n\r\nfunction selectRectBySizes(srcRect, sizes, margins) {\r\n    var rect = extend({}, srcRect);\r\n    var step;\r\n    margins = margins || {};\r\n    if (sizes) {\r\n        rect.left += margins.left || 0;\r\n        rect.right -= margins.right || 0;\r\n        rect.top += margins.top || 0;\r\n        rect.bottom -= margins.bottom || 0;\r\n        if (sizes.width > 0) {\r\n            step = (rect.right - rect.left - sizes.width) / 2;\r\n            if (step > 0) {\r\n                rect.left += step;\r\n                rect.right -= step\r\n            }\r\n        }\r\n        if (sizes.height > 0) {\r\n            step = (rect.bottom - rect.top - sizes.height) / 2;\r\n            if (step > 0) {\r\n                rect.top += step;\r\n                rect.bottom -= step\r\n            }\r\n        }\r\n    }\r\n    return rect\r\n}\r\nvar indicators = dxLinearGauge.prototype._factory.indicators = {};\r\ndxLinearGauge.prototype._factory.createIndicator = createIndicatorCreator(indicators);\r\nindicators._default = linearIndicatorsModule._default;\r\nindicators.rectangle = linearIndicatorsModule.rectangle;\r\nindicators.rhombus = linearIndicatorsModule.rhombus;\r\nindicators.circle = linearIndicatorsModule.circle;\r\nindicators.trianglemarker = linearIndicatorsModule.trianglemarker;\r\nindicators.textcloud = linearIndicatorsModule.textcloud;\r\nindicators.rangebar = linearIndicatorsModule.rangebar;\r\ndxLinearGauge.prototype._factory.RangeContainer = LinearRangeContainer;\r\nregisterComponent(\"dxLinearGauge\", dxLinearGauge);\r\nmodule.exports = dxLinearGauge;\r\n"]},"metadata":{},"sourceType":"module"}