{"ast":null,"code":"/*!\r\n * DevExpress Gantt (dx-gantt)\r\n * Version: 0.0.27\r\n * Build date: Thu Nov 28 2019\r\n * \r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs\r\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"Gantt\"] = factory();else root[\"DevExpress\"] = root[\"DevExpress\"] || {}, root[\"DevExpress\"][\"Gantt\"] = factory();\n})(window, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        }\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 32);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var JsonUtils = function () {\n        function JsonUtils() {}\n\n        JsonUtils.isExists = function (obj) {\n          return typeof obj != \"undefined\" && obj != null;\n        };\n\n        JsonUtils.isValidJson = function (json) {\n          return !/[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]/.test(json.replace(/\"(\\\\.|[^\"\\\\])*\"/g, ''));\n        };\n\n        JsonUtils.evalJson = function (json) {\n          return JsonUtils.isValidJson(json) ? eval(\"(\" + json + \")\") : null;\n        };\n\n        return JsonUtils;\n      }();\n\n      exports.JsonUtils = JsonUtils;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Browser_1 = __webpack_require__(12);\n\n      var DomUtils = function () {\n        function DomUtils() {}\n\n        DomUtils.clientEventRequiresDocScrollCorrection = function () {\n          var isSafariVerLess3 = Browser_1.Browser.Safari && Browser_1.Browser.Version < 3,\n              isMacOSMobileVerLess51 = Browser_1.Browser.MacOSMobilePlatform && Browser_1.Browser.Version < 5.1;\n          return Browser_1.Browser.AndroidDefaultBrowser || Browser_1.Browser.AndroidChromeBrowser || !(isSafariVerLess3 || isMacOSMobileVerLess51);\n        };\n\n        DomUtils.getEventX = function (evt) {\n          return evt.clientX + (this.clientEventRequiresDocScrollCorrection() ? this.getDocumentScrollLeft() : 0);\n        };\n\n        DomUtils.getEventY = function (evt) {\n          return evt.clientY + (this.clientEventRequiresDocScrollCorrection() ? this.getDocumentScrollTop() : 0);\n        };\n\n        DomUtils.getEventSource = function (evt) {\n          return evt.srcElement ? evt.srcElement : evt.target;\n        };\n\n        DomUtils.GetKeyCode = function (evt) {\n          return Browser_1.Browser.NetscapeFamily || Browser_1.Browser.Opera ? evt.which : evt.keyCode;\n        };\n\n        DomUtils.GetIsParent = function (parentElement, element) {\n          if (!parentElement || !element) return false;\n\n          while (element) {\n            if (element === parentElement) return true;\n            if (element.tagName === \"BODY\") return false;\n            element = element.parentNode;\n          }\n\n          return false;\n        };\n\n        DomUtils.getCurrentStyle = function (element) {\n          if (document.defaultView && document.defaultView.getComputedStyle) return document.defaultView.getComputedStyle(element, null);\n          return window.getComputedStyle(element, null);\n        };\n\n        DomUtils.getTopPaddings = function (element) {\n          var currentStyle = this.getCurrentStyle(element);\n          return this.pxToInt(currentStyle.paddingTop);\n        };\n\n        DomUtils.getLeftPadding = function (element) {\n          var currentStyle = this.getCurrentStyle(element);\n          return this.pxToInt(currentStyle.paddingLeft);\n        };\n\n        DomUtils.getVerticalBordersWidth = function (element) {\n          var style = window.getComputedStyle ? window.getComputedStyle(element) : this.getCurrentStyle(element);\n          var res = 0;\n          if (style.borderTopStyle != \"none\") res += this.pxToFloat(style.borderTopWidth);\n          if (style.borderBottomStyle != \"none\") res += this.pxToFloat(style.borderBottomWidth);\n          return res;\n        };\n\n        DomUtils.getHorizontalBordersWidth = function (element) {\n          var style = window.getComputedStyle ? window.getComputedStyle(element) : this.getCurrentStyle(element);\n          var res = 0;\n          if (style.borderLeftStyle != \"none\") res += this.pxToFloat(style.borderLeftWidth);\n          if (style.borderRightStyle != \"none\") res += this.pxToFloat(style.borderRightWidth);\n          return res;\n        };\n\n        DomUtils.pxToInt = function (px) {\n          return this.pxToNumber(px, parseInt);\n        };\n\n        DomUtils.pxToFloat = function (px) {\n          return this.pxToNumber(px, parseFloat);\n        };\n\n        ;\n\n        DomUtils.pxToNumber = function (px, parseFunction) {\n          var result = 0;\n\n          if (px != null && px != \"\") {\n            try {\n              var indexOfPx = px.indexOf(\"px\");\n              if (indexOfPx > -1) result = parseFunction(px.substr(0, indexOfPx));\n            } catch (e) {}\n          }\n\n          return result;\n        };\n\n        DomUtils.getDocumentScrollTop = function () {\n          var isScrollBodyIE = Browser_1.Browser.IE && this.getCurrentStyle(document.body).overflow == \"hidden\" && document.body.scrollTop > 0;\n\n          if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge || isScrollBodyIE) {\n            if (Browser_1.Browser.MacOSMobilePlatform) return window.pageYOffset;\n            if (Browser_1.Browser.WebKitFamily) return document.documentElement.scrollTop || document.body.scrollTop;\n            return document.body.scrollTop;\n          } else return document.documentElement.scrollTop;\n        };\n\n        DomUtils.getDocumentScrollLeft = function () {\n          var isScrollBodyIE = Browser_1.Browser.IE && this.getCurrentStyle(document.body).overflow == \"hidden\" && document.body.scrollLeft > 0;\n          if (Browser_1.Browser.Edge || isScrollBodyIE) return document.body ? document.body.scrollLeft : document.documentElement.scrollLeft;\n          if (Browser_1.Browser.WebKitFamily) return document.documentElement.scrollLeft || document.body.scrollLeft;\n          return document.documentElement.scrollLeft;\n        };\n\n        DomUtils.getAbsolutePositionY = function (element) {\n          if (Browser_1.Browser.IE) return this.getAbsolutePositionY_IE(element);else if (Browser_1.Browser.Firefox && Browser_1.Browser.Version >= 3) return this.getAbsolutePositionY_FF3(element);else if (Browser_1.Browser.Opera) return this.getAbsolutePositionY_Opera(element);else if (Browser_1.Browser.NetscapeFamily && (!Browser_1.Browser.Firefox || Browser_1.Browser.Version < 3)) return this.getAbsolutePositionY_NS(element);else if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge) return this.getAbsolutePositionY_FF3(element);else return this.getAbsolutePositionY_Other(element);\n        };\n\n        DomUtils.getAbsolutePositionY_Opera = function (curEl) {\n          var isFirstCycle = true;\n          if (curEl && curEl.tagName == \"TR\" && curEl.cells.length > 0) curEl = curEl.cells[0];\n          var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, false);\n\n          while (curEl != null) {\n            pos += curEl.offsetTop;\n            if (!isFirstCycle) pos -= curEl.scrollTop;\n            curEl = curEl.offsetParent;\n            isFirstCycle = false;\n          }\n\n          pos += document.body.scrollTop;\n          return pos;\n        };\n\n        DomUtils.getAbsolutePositionY_IE = function (element) {\n          if (element == null || Browser_1.Browser.IE && element.parentNode == null) return 0;\n          return element.getBoundingClientRect().top + this.getDocumentScrollTop();\n        };\n\n        DomUtils.getAbsolutePositionY_FF3 = function (element) {\n          if (element == null) return 0;\n          var y = element.getBoundingClientRect().top + this.getDocumentScrollTop();\n          return Math.round(y);\n        };\n\n        DomUtils.getAbsolutePositionY_NS = function (curEl) {\n          var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, false);\n          var isFirstCycle = true;\n\n          while (curEl != null) {\n            pos += curEl.offsetTop;\n            if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollTop;\n\n            if (!isFirstCycle && Browser_1.Browser.Firefox) {\n              var style = this.getCurrentStyle(curEl);\n              if (curEl.tagName == \"DIV\" && style.overflow != \"visible\") pos += this.pxToInt(style.borderTopWidth);\n            }\n\n            isFirstCycle = false;\n            curEl = curEl.offsetParent;\n          }\n\n          return pos;\n        };\n\n        DomUtils.getAbsolutePositionY_Other = function (curEl) {\n          var pos = 0;\n          var isFirstCycle = true;\n\n          while (curEl != null) {\n            pos += curEl.offsetTop;\n            if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollTop;\n            isFirstCycle = false;\n            curEl = curEl.offsetParent;\n          }\n\n          return pos;\n        };\n\n        DomUtils.getAbsoluteScrollOffset_OperaFF = function (curEl, isX) {\n          var pos = 0;\n          var isFirstCycle = true;\n\n          while (curEl != null) {\n            if (curEl.tagName == \"BODY\") break;\n            var style = this.getCurrentStyle(curEl);\n            if (style.position == \"absolute\") break;\n            if (!isFirstCycle && curEl.tagName == \"DIV\" && (style.position == \"\" || style.position == \"static\")) pos -= isX ? curEl.scrollLeft : curEl.scrollTop;\n            curEl = curEl.parentNode;\n            isFirstCycle = false;\n          }\n\n          return pos;\n        };\n\n        DomUtils.getAbsolutePositionX = function (element) {\n          if (Browser_1.Browser.IE) return this.getAbsolutePositionX_IE(element);else if (Browser_1.Browser.Firefox && Browser_1.Browser.Version >= 3) return this.getAbsolutePositionX_FF3(element);else if (Browser_1.Browser.Opera) return this.getAbsolutePositionX_Opera(element);else if (Browser_1.Browser.NetscapeFamily && (!Browser_1.Browser.Firefox || Browser_1.Browser.Version < 3)) return this.getAbsolutePositionX_NS(element);else if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge) return this.getAbsolutePositionX_FF3(element);else return this.getAbsolutePositionX_Other(element);\n        };\n\n        DomUtils.getAbsolutePositionX_Opera = function (curEl) {\n          var isFirstCycle = true;\n          var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, true);\n\n          while (curEl != null) {\n            pos += curEl.offsetLeft;\n            if (!isFirstCycle) pos -= curEl.scrollLeft;\n            curEl = curEl.offsetParent;\n            isFirstCycle = false;\n          }\n\n          pos += document.body.scrollLeft;\n          return pos;\n        };\n\n        DomUtils.getAbsolutePositionX_IE = function (element) {\n          if (element == null || Browser_1.Browser.IE && element.parentNode == null) return 0;\n          return element.getBoundingClientRect().left + this.getDocumentScrollLeft();\n        };\n\n        DomUtils.getAbsolutePositionX_FF3 = function (element) {\n          if (element == null) return 0;\n          var x = element.getBoundingClientRect().left + this.getDocumentScrollLeft();\n          return Math.round(x);\n        };\n\n        DomUtils.getAbsolutePositionX_NS = function (curEl) {\n          var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, true);\n          var isFirstCycle = true;\n\n          while (curEl != null) {\n            pos += curEl.offsetLeft;\n            if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollLeft;\n\n            if (!isFirstCycle && Browser_1.Browser.Firefox) {\n              var style = this.getCurrentStyle(curEl);\n              if (curEl.tagName == \"DIV\" && style.overflow != \"visible\") pos += this.pxToInt(style.borderLeftWidth);\n            }\n\n            isFirstCycle = false;\n            curEl = curEl.offsetParent;\n          }\n\n          return pos;\n        };\n\n        DomUtils.getAbsolutePositionX_Other = function (curEl) {\n          var pos = 0;\n          var isFirstCycle = true;\n\n          while (curEl != null) {\n            pos += curEl.offsetLeft;\n            if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollLeft;\n            isFirstCycle = false;\n            curEl = curEl.offsetParent;\n          }\n\n          return pos;\n        };\n\n        DomUtils.GetEvent = function (evt) {\n          return typeof event != \"undefined\" && event != null && Browser_1.Browser.IE ? event : evt;\n        };\n\n        DomUtils.isExists = function (obj) {\n          return typeof obj != \"undefined\" && obj != null;\n        };\n\n        DomUtils.isTouchEvent = function (evt) {\n          if (!evt) return false;\n          return Browser_1.Browser.WebKitTouchUI && DomUtils.isExists(evt.changedTouches);\n        };\n\n        DomUtils.IsLeftButtonPressed = function (evt) {\n          if (DomUtils.isTouchEvent(evt)) return true;\n          evt = DomUtils.GetEvent(evt);\n          if (!evt) return false;\n\n          if (Browser_1.Browser.IE && Browser_1.Browser.Version < 11) {\n            if (Browser_1.Browser.MSTouchUI) return true;\n            return evt.button % 2 == 1;\n          } else if (Browser_1.Browser.WebKitFamily) {\n            if (evt.type === \"pointermove\") return evt.buttons === 1;\n            return evt.which == 1;\n          } else if (Browser_1.Browser.NetscapeFamily || Browser_1.Browser.Edge || Browser_1.Browser.IE && Browser_1.Browser.Version >= 11) {\n            if (evt.type === DomUtils.touchMouseMoveEventName) return evt.buttons === 1;\n            return evt.which == 1;\n          } else if (Browser_1.Browser.Opera) return evt.button == 0;\n\n          return true;\n        };\n\n        DomUtils.touchMouseMoveEventName = Browser_1.Browser.WebKitTouchUI ? \"touchmove\" : Browser_1.Browser.Edge && Browser_1.Browser.MSTouchUI && window.PointerEvent ? \"pointermove\" : \"mousemove\";\n\n        DomUtils.getMouseWheelEventName = function () {\n          if (Browser_1.Browser.Safari) return \"mousewheel\";\n          if (Browser_1.Browser.NetscapeFamily && Browser_1.Browser.MajorVersion < 17) return \"DOMMouseScroll\";\n          return \"wheel\";\n        };\n\n        DomUtils.getWheelDelta = function (evt) {\n          var ret;\n          if (Browser_1.Browser.NetscapeFamily && Browser_1.Browser.MajorVersion < 17) ret = -evt.detail;else if (Browser_1.Browser.Safari) ret = evt.wheelDelta;else ret = -evt.deltaY;\n          if (Browser_1.Browser.Opera && Browser_1.Browser.Version < 9) ret = -ret;\n          return ret;\n        };\n\n        DomUtils.IsRightButtonPressed = function (evt) {\n          evt = DomUtils.GetEvent(evt);\n          if (!DomUtils.isExists(evt)) return false;\n\n          if (Browser_1.Browser.IE || Browser_1.Browser.Edge) {\n            if (evt.type === \"pointermove\") return evt.buttons === 2;\n            return evt.button == 2;\n          } else if (Browser_1.Browser.NetscapeFamily || Browser_1.Browser.WebKitFamily) return evt.which == 3;else if (Browser_1.Browser.Opera) return evt.button == 1;\n\n          return true;\n        };\n\n        DomUtils.addClassNameToElement = function (element, className) {\n          if (!element || typeof className !== \"string\") return;\n          className = DomUtils.trim(className);\n\n          if (!DomUtils.elementHasCssClass(element, className) && className !== \"\") {\n            var oldClassName = DomUtils.getClassName(element);\n            DomUtils.setClassName(element, oldClassName === \"\" ? className : oldClassName + \" \" + className);\n          }\n        };\n\n        DomUtils.removeClassNameFromElement = function (element, className) {\n          if (!element) return;\n          var elementClassName = DomUtils.getClassName(element);\n          var updClassName = \" \" + elementClassName + \" \";\n          var newClassName = updClassName.replace(\" \" + className + \" \", \" \");\n          if (updClassName.length != newClassName.length) DomUtils.setClassName(element, DomUtils.trim(newClassName));\n        };\n\n        DomUtils.elementHasCssClass = function (element, className) {\n          try {\n            var elementClasses;\n            var classList = DomUtils.getClassNameList(element);\n\n            if (!classList) {\n              var elementClassName = DomUtils.getClassName(element);\n\n              if (!elementClassName) {\n                return false;\n              }\n\n              elementClasses = elementClassName.split(\" \");\n            }\n\n            var classNames = className.split(\" \");\n\n            for (var i = classNames.length - 1; i >= 0; i--) {\n              if (classList) {\n                if (classList.indexOf(classNames[i]) === -1) return false;\n                continue;\n              }\n\n              if (elementClasses.indexOf(classNames[i]) < 0) return false;\n            }\n\n            return true;\n          } catch (e) {\n            return false;\n          }\n        };\n\n        DomUtils.getClassName = function (element) {\n          var result = \"\";\n\n          if (element) {\n            if (element.tagName === \"svg\") result = element.className.baseVal;else result = element.className ? element.className : \"\";\n          }\n\n          return result;\n        };\n\n        DomUtils.getClassNameList = function (element) {\n          var result = [];\n\n          if (element) {\n            if (element.tagName === \"svg\") result = DomUtils.getClassName(element).replace(/^\\s+|\\s+$/g, '').split(/\\s+/);else result = element.classList ? [].slice.call(element.classList) : DomUtils.getClassName(element).replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\n          }\n\n          return result;\n        };\n\n        DomUtils.setClassName = function (element, className) {\n          if (element.tagName === \"svg\") {\n            element.className.baseVal = DomUtils.trim(className);\n          } else {\n            element.className = DomUtils.trim(className);\n          }\n        };\n\n        DomUtils.trim = function (str) {\n          var result = str;\n          result = result.replace(/^\\s+/, \"\");\n          result = result.replace(/\\s+$/, \"\");\n          return result;\n        };\n\n        return DomUtils;\n      }();\n\n      exports.DomUtils = DomUtils;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Time_1 = __webpack_require__(23);\n\n      var TimeRange_1 = __webpack_require__(24);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DateRange_1 = __webpack_require__(10);\n\n      var DayOfWeekMonthlyOccurrence_1 = __webpack_require__(25);\n\n      var DateTimeUtils = function () {\n        function DateTimeUtils() {}\n\n        DateTimeUtils.compareDates = function (date1, date2) {\n          if (!date1 || !date2) return -1;\n          return date2.getTime() - date1.getTime();\n        };\n\n        DateTimeUtils.areDatesEqual = function (date1, date2) {\n          return this.compareDates(date1, date2) == 0;\n        };\n\n        DateTimeUtils.getMaxDate = function (date1, date2) {\n          if (!date1 && !date2) return null;\n          if (!date1) return date2;\n          if (!date2) return date1;\n          var diff = this.compareDates(date1, date2);\n          return diff > 0 ? date2 : date1;\n        };\n\n        DateTimeUtils.getMinDate = function (date1, date2) {\n          if (!date1 && !date2) return null;\n          if (!date1) return date2;\n          if (!date2) return date1;\n          var diff = this.compareDates(date1, date2);\n          return diff > 0 ? date1 : date2;\n        };\n\n        DateTimeUtils.getDaysBetween = function (start, end) {\n          var diff = Math.abs(end.getTime() - start.getTime());\n          return Math.ceil(diff / this.msInDay);\n        };\n\n        DateTimeUtils.getWeeksBetween = function (start, end) {\n          var daysBetween = this.getDaysBetween(start, end);\n          var numWeeks = Math.floor(daysBetween / 7);\n          if (start.getDay() > end.getDay()) numWeeks++;\n          return numWeeks;\n        };\n\n        DateTimeUtils.getMonthsDifference = function (start, end) {\n          var dateDiff = this.compareDates(start, end);\n          var from = dateDiff >= 0 ? start : end;\n          var to = dateDiff >= 0 ? end : start;\n          var yearsDiff = to.getFullYear() - from.getFullYear();\n          var monthDiff = yearsDiff * 12 + (to.getMonth() - from.getMonth());\n          return monthDiff;\n        };\n\n        DateTimeUtils.getYearsDifference = function (start, end) {\n          return Math.abs(end.getFullYear() - start.getFullYear());\n        };\n\n        DateTimeUtils.getDayNumber = function (date) {\n          return Math.ceil(date.getTime() / this.msInDay);\n        };\n\n        DateTimeUtils.getDateByDayNumber = function (num) {\n          var date = new Date(num * this.msInDay);\n          date.setHours(0);\n          date.setMinutes(0);\n          date.setSeconds(0);\n          return date;\n        };\n\n        DateTimeUtils.addDays = function (date, days) {\n          return new Date(date.getTime() + days * this.msInDay);\n        };\n\n        DateTimeUtils.checkDayOfMonth = function (day, date) {\n          return day == date.getDate();\n        };\n\n        DateTimeUtils.checkDayOfWeek = function (day, date) {\n          return day == date.getDay();\n        };\n\n        DateTimeUtils.checkMonth = function (month, date) {\n          return month == date.getMonth();\n        };\n\n        DateTimeUtils.checkYear = function (year, date) {\n          return year == date.getFullYear();\n        };\n\n        DateTimeUtils.checkDayOfWeekOccurrenceInMonth = function (date, dayOfWeek, occurrence) {\n          var dayOfWeekInMonthDates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, date.getFullYear(), date.getMonth());\n          if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last) return this.areDatesEqual(date, dayOfWeekInMonthDates[dayOfWeekInMonthDates.length - 1]);\n          return this.areDatesEqual(date, dayOfWeekInMonthDates[occurrence]);\n        };\n\n        DateTimeUtils.getFirstDayOfWeekInMonth = function (year, month) {\n          var date = new Date(year, month, 1);\n          return date.getDay();\n        };\n\n        DateTimeUtils.getSpecificDayOfWeekInMonthDates = function (dayOfWeek, year, month) {\n          var firstDayOfWeekInMonth = this.getFirstDayOfWeekInMonth(year, month);\n          var diffDays = dayOfWeek >= firstDayOfWeekInMonth ? dayOfWeek - firstDayOfWeekInMonth : dayOfWeek + 7 - firstDayOfWeekInMonth;\n          var res = new Array();\n          var specificDayOfWeekDate = new Date(year, month, diffDays + 1);\n\n          while (specificDayOfWeekDate.getMonth() == month) {\n            res.push(specificDayOfWeekDate);\n            specificDayOfWeekDate = this.addDays(specificDayOfWeekDate, 7);\n          }\n\n          return res;\n        };\n\n        DateTimeUtils.getSpecificDayOfWeekInMonthDate = function (dayOfWeek, year, month, occurrence) {\n          var dates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, year, month);\n          if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last) return dates[dates.length - 1];\n          return dates[occurrence];\n        };\n\n        DateTimeUtils.checkValidDayInMonth = function (year, month, day) {\n          if (day < 1 || day > 31 || new Date(year, month, day).getMonth() != month) return false;\n          return true;\n        };\n\n        DateTimeUtils.getNextMonth = function (month, inc) {\n          if (inc === void 0) {\n            inc = 1;\n          }\n\n          return (month + inc) % 12;\n        };\n\n        DateTimeUtils.convertToDate = function (src) {\n          if (src instanceof Date) return new Date(src);\n          var ms = Date.parse(src);\n          if (!isNaN(ms)) return new Date(ms);\n          return null;\n        };\n\n        DateTimeUtils.convertTimeRangeToDateRange = function (timeRange, dayNumber) {\n          var date = this.getDateByDayNumber(dayNumber);\n          var year = date.getFullYear();\n          var month = date.getMonth();\n          var day = date.getDate();\n          var startT = timeRange.start;\n          var start = new Date(year, month, day, startT.hour, startT.min, startT.sec, startT.msec);\n          var endT = timeRange.end;\n          var end = new Date(year, month, day, endT.hour, endT.min, endT.sec, endT.msec);\n          return new DateRange_1.DateRange(start, end);\n        };\n\n        DateTimeUtils.convertToTimeRanges = function (src) {\n          var _this = this;\n\n          if (src instanceof Array) return src.map(function (x) {\n            return _this.convertToTimeRange(x);\n          });\n          return this.parseTimeRanges(src);\n        };\n\n        DateTimeUtils.convertToTimeRange = function (src) {\n          if (!src) return null;\n          if (src instanceof TimeRange_1.TimeRange) return src;\n          if (Utils_1.JsonUtils.isExists(src.start) && Utils_1.JsonUtils.isExists(src.end)) return new TimeRange_1.TimeRange(this.convertToTime(src.start), this.convertToTime(src.end));\n          return this.parseTimeRange(src);\n        };\n\n        DateTimeUtils.convertToTime = function (src) {\n          if (!src) return null;\n          if (src instanceof Time_1.Time) return src;\n          if (src instanceof Date) return this.getTimeGromJsDate(src);\n          return this.parseTime(src);\n        };\n\n        DateTimeUtils.parseTimeRanges = function (src) {\n          var _this = this;\n\n          if (!src) return null;\n          var parts = src.split(/;|,/);\n          return parts.map(function (p) {\n            return _this.parseTimeRange(p);\n          }).filter(function (r) {\n            return !!r;\n          });\n        };\n\n        DateTimeUtils.parseTimeRange = function (src) {\n          if (!src) return null;\n          var parts = src.split(\"-\");\n          var start = parts[0];\n          var end = parts[1];\n          if (Utils_1.JsonUtils.isExists(start) && Utils_1.JsonUtils.isExists(end)) return new TimeRange_1.TimeRange(this.parseTime(start), this.parseTime(end));\n          return null;\n        };\n\n        DateTimeUtils.parseTime = function (src) {\n          if (!src) return null;\n          var parts = src.split(\":\");\n          var h = parseInt(parts[0]) || 0;\n          var m = parseInt(parts[1]) || 0;\n          var s = parseInt(parts[2]) || 0;\n          var ms = parseInt(parts[3]) || 0;\n          return new Time_1.Time(h, m, s, ms);\n        };\n\n        DateTimeUtils.getTimeGromJsDate = function (date) {\n          if (!date) return null;\n          var h = date.getHours();\n          var m = date.getMinutes();\n          var s = date.getSeconds();\n          var ms = date.getMilliseconds();\n          return new Time_1.Time(h, m, s, ms);\n        };\n\n        DateTimeUtils.caclTimeDifference = function (time1, time2) {\n          return time2.getTimeInMilleconds() - time1.getTimeInMilleconds();\n        };\n\n        DateTimeUtils.areTimesEqual = function (time1, time2) {\n          return this.caclTimeDifference(time1, time2) == 0;\n        };\n\n        DateTimeUtils.getMaxTime = function (time1, time2) {\n          if (!time1 && !time2) return null;\n          if (!time1) return time2;\n          if (!time2) return time1;\n          var diff = this.caclTimeDifference(time1, time2);\n          return diff > 0 ? time2 : time1;\n        };\n\n        DateTimeUtils.getMinTime = function (time1, time2) {\n          if (!time1 && !time2) return null;\n          if (!time1) return time2;\n          if (!time2) return time1;\n          var diff = this.caclTimeDifference(time1, time2);\n          return diff > 0 ? time1 : time2;\n        };\n\n        DateTimeUtils.getLastTimeOfDay = function () {\n          return new Time_1.Time(23, 59, 59, 999);\n        };\n\n        DateTimeUtils.msInDay = 24 * 3600 * 1000;\n        return DateTimeUtils;\n      }();\n\n      exports.DateTimeUtils = DateTimeUtils;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Point = function () {\n        function Point(x, y) {\n          this.x = null;\n          this.y = null;\n          if (x !== undefined) this.x = x;\n          if (y !== undefined) this.y = y;\n        }\n\n        return Point;\n      }();\n\n      exports.Point = Point;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DataObject = function () {\n        function DataObject() {\n          this.internalId = this.generateGuid();\n        }\n\n        DataObject.prototype.assignFromObject = function (sourceObj) {\n          if (!Utils_1.JsonUtils.isExists(sourceObj)) return;\n\n          if (Utils_1.JsonUtils.isExists(sourceObj.id)) {\n            this.id = sourceObj.id;\n            this.internalId = String(sourceObj.id);\n          }\n        };\n\n        DataObject.prototype.generateGuid = function () {\n          return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            var r = Math.random() * 16 | 0,\n                v = c == 'x' ? r : r & 0x3 | 0x8;\n            return v.toString(16);\n          });\n        };\n\n        return DataObject;\n      }();\n\n      exports.DataObject = DataObject;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase = function () {\n        function CommandBase(control) {\n          this.control = control;\n        }\n\n        Object.defineProperty(CommandBase.prototype, \"modelManipulator\", {\n          get: function get() {\n            return this.control.modelManipulator;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandBase.prototype, \"history\", {\n          get: function get() {\n            return this.control.history;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandBase.prototype, \"state\", {\n          get: function get() {\n            if (!this._state) this._state = this.getState();\n            return this._state;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        CommandBase.prototype.execute = function () {\n          var parameters = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            parameters[_i] = arguments[_i];\n          }\n\n          if (!this.state.enabled) return false;\n          return this.executeInternal.apply(this, parameters);\n        };\n\n        CommandBase.prototype.isEnabled = function () {\n          return this.control.settings.editing.enabled;\n        };\n\n        CommandBase.prototype.executeInternal = function () {\n          var parameters = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            parameters[_i] = arguments[_i];\n          }\n\n          throw new Error(\"Not implemented\");\n        };\n\n        ;\n        return CommandBase;\n      }();\n\n      exports.CommandBase = CommandBase;\n\n      var SimpleCommandState = function () {\n        function SimpleCommandState(enabled, value) {\n          this.visible = true;\n          this.enabled = enabled;\n          this.value = value;\n        }\n\n        return SimpleCommandState;\n      }();\n\n      exports.SimpleCommandState = SimpleCommandState;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var CollectionBase = function () {\n        function CollectionBase() {\n          this._items = new Array();\n          this._isGanttCollection = true;\n        }\n\n        CollectionBase.prototype.add = function (element) {\n          if (!Utils_1.JsonUtils.isExists(element)) return;\n          if (!!this.getItemById(element.internalId)) throw \"The collection item with id ='\" + element.internalId + \"' already exists.\";\n\n          this._items.push(element);\n        };\n\n        CollectionBase.prototype.addRange = function (range) {\n          for (var i = 0; i < range.length; i++) {\n            this.add(range[i]);\n          }\n        };\n\n        CollectionBase.prototype.remove = function (element) {\n          var index = this._items.indexOf(element);\n\n          if (index > -1 && index < this._items.length) this._items.splice(index, 1);\n        };\n\n        CollectionBase.prototype.clear = function () {\n          this._items.splice(0, this._items.length);\n        };\n\n        Object.defineProperty(CollectionBase.prototype, \"items\", {\n          get: function get() {\n            return this._items.slice();\n          },\n          set: function set(value) {\n            if (value) this._items = value.slice();\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CollectionBase.prototype, \"length\", {\n          get: function get() {\n            return this._items.length;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        CollectionBase.prototype.getItem = function (index) {\n          if (index > -1 && index < this._items.length) return this._items[index];\n          return null;\n        };\n\n        CollectionBase.prototype.getItemById = function (id) {\n          return this._items.filter(function (val) {\n            return val.internalId === id;\n          })[0];\n        };\n\n        CollectionBase.prototype.getItemByPublicId = function (id) {\n          return this._items.filter(function (val) {\n            return val.id === id || val.id.toString() === id;\n          })[0];\n        };\n\n        CollectionBase.prototype.assign = function (sourceCollection) {\n          if (!Utils_1.JsonUtils.isExists(sourceCollection)) return;\n          this.items = sourceCollection.items;\n        };\n\n        CollectionBase.prototype.importFromObject = function (source) {\n          if (!Utils_1.JsonUtils.isExists(source)) return;\n          this.clear();\n          if (source._isGanttCollection) this.assign(source);else if (source instanceof Array) {\n            this.importFromArray(source);\n          } else {\n            this.createItemFromObjectAndAdd(source);\n          }\n        };\n\n        CollectionBase.prototype.createItemFromObjectAndAdd = function (source) {\n          if (Utils_1.JsonUtils.isExists(source)) {\n            var item = this.createItem();\n            item.assignFromObject(source);\n            this.add(item);\n          }\n        };\n\n        CollectionBase.prototype.importFromArray = function (values) {\n          for (var i = 0; i < values.length; i++) {\n            this.createItemFromObjectAndAdd(values[i]);\n          }\n        };\n\n        CollectionBase.prototype.importFromJSON = function (json) {\n          this.importFromObject(Utils_1.JsonUtils.evalJson(json));\n        };\n\n        return CollectionBase;\n      }();\n\n      exports.CollectionBase = CollectionBase;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var ViewType;\n\n      (function (ViewType) {\n        ViewType[ViewType[\"TenMinutes\"] = 0] = \"TenMinutes\";\n        ViewType[ViewType[\"Hours\"] = 1] = \"Hours\";\n        ViewType[ViewType[\"SixHours\"] = 2] = \"SixHours\";\n        ViewType[ViewType[\"Days\"] = 3] = \"Days\";\n        ViewType[ViewType[\"Weeks\"] = 4] = \"Weeks\";\n        ViewType[ViewType[\"Months\"] = 5] = \"Months\";\n        ViewType[ViewType[\"Quarter\"] = 6] = \"Quarter\";\n        ViewType[ViewType[\"Years\"] = 7] = \"Years\";\n        ViewType[ViewType[\"FiveYears\"] = 8] = \"FiveYears\";\n      })(ViewType = exports.ViewType || (exports.ViewType = {}));\n\n      var Position;\n\n      (function (Position) {\n        Position[Position[\"Left\"] = 0] = \"Left\";\n        Position[Position[\"Top\"] = 1] = \"Top\";\n        Position[Position[\"Right\"] = 2] = \"Right\";\n        Position[Position[\"Bottom\"] = 3] = \"Bottom\";\n      })(Position = exports.Position || (exports.Position = {}));\n\n      var TaskTitlePosition;\n\n      (function (TaskTitlePosition) {\n        TaskTitlePosition[TaskTitlePosition[\"Inside\"] = 0] = \"Inside\";\n        TaskTitlePosition[TaskTitlePosition[\"Outside\"] = 1] = \"Outside\";\n        TaskTitlePosition[TaskTitlePosition[\"None\"] = 2] = \"None\";\n      })(TaskTitlePosition = exports.TaskTitlePosition || (exports.TaskTitlePosition = {}));\n      /***/\n\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var Point_1 = __webpack_require__(3);\n\n      var Browser_1 = __webpack_require__(12);\n\n      var GridLayoutCalculator_1 = __webpack_require__(16);\n\n      var MouseEventSource;\n\n      (function (MouseEventSource) {\n        MouseEventSource[MouseEventSource[\"TaskArea\"] = 0] = \"TaskArea\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_Frame\"] = 1] = \"TaskEdit_Frame\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_Progress\"] = 2] = \"TaskEdit_Progress\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_Start\"] = 3] = \"TaskEdit_Start\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_End\"] = 4] = \"TaskEdit_End\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_DependencyStart\"] = 5] = \"TaskEdit_DependencyStart\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_DependencyFinish\"] = 6] = \"TaskEdit_DependencyFinish\";\n        MouseEventSource[MouseEventSource[\"Successor_Wrapper\"] = 7] = \"Successor_Wrapper\";\n        MouseEventSource[MouseEventSource[\"Successor_DependencyStart\"] = 8] = \"Successor_DependencyStart\";\n        MouseEventSource[MouseEventSource[\"Successor_DependencyFinish\"] = 9] = \"Successor_DependencyFinish\";\n      })(MouseEventSource = exports.MouseEventSource || (exports.MouseEventSource = {}));\n\n      var TaskAreaManager = function () {\n        function TaskAreaManager(ganttView) {\n          this.ganttView = ganttView;\n          this.eventManager = ganttView.eventManager;\n          this.mousePosition = new Point_1.Point(-1, -1);\n          this.initMouseEvents();\n        }\n\n        TaskAreaManager.prototype.initMouseEvents = function () {\n          var _this = this;\n\n          this.ganttView.taskArea.addEventListener(\"click\", function (evt) {\n            _this.onTaskAreaClick(evt);\n          });\n          this.ganttView.taskArea.addEventListener(\"scroll\", this.ganttView.updateView.bind(this.ganttView));\n          this.ganttView.taskArea.addEventListener(\"contextmenu\", function (evt) {\n            _this.onContextMenu(evt);\n          });\n          this.ganttView.taskArea.addEventListener(DomUtils_1.DomUtils.getMouseWheelEventName(), function (evt) {\n            _this.onMouseWheel(evt);\n          });\n          this.ganttView.taskArea.addEventListener(\"mousedown\", function (evt) {\n            _this.onMouseDown(evt);\n          });\n          document.addEventListener(\"mousemove\", function (evt) {\n            _this.onDocumentMouseMove(evt);\n          });\n          document.addEventListener(\"mouseup\", function (evt) {\n            _this.onDocumentMouseUp(evt);\n          });\n          document.addEventListener(\"keydown\", function (evt) {\n            _this.onDocumentKeyDown(evt);\n          });\n        };\n\n        TaskAreaManager.prototype.onMouseDown = function (evt) {\n          this.eventManager.onMouseDown(evt);\n          this.preventSelect = false;\n          this.mousePosition = new Point_1.Point(evt.clientX, evt.clientY);\n        };\n\n        TaskAreaManager.prototype.onDocumentMouseUp = function (evt) {\n          var _this = this;\n\n          this.ganttView.isFocus = DomUtils_1.DomUtils.GetIsParent(this.ganttView.taskArea, DomUtils_1.DomUtils.getEventSource(evt)) ? true : false;\n          if (this.ganttView.isFocus && !this.preventSelect && this.ganttView.settings.allowSelectTask && !this.isConnectorLine(evt)) setTimeout(function () {\n            _this.changeTaskSelection(_this.getClickedTaskIndex(evt));\n          }, 0);\n          this.eventManager.onMouseUp(evt);\n        };\n\n        TaskAreaManager.prototype.onDocumentMouseMove = function (evt) {\n          if (this.mousePosition.x != evt.clientX || this.mousePosition.y != evt.clientY) {\n            this.eventManager.onMouseMove(evt);\n            this.preventSelect = true;\n          }\n        };\n\n        TaskAreaManager.prototype.onMouseWheel = function (evt) {\n          this.eventManager.onMouseWheel(evt);\n        };\n\n        TaskAreaManager.prototype.onDocumentKeyDown = function (evt) {\n          this.eventManager.onKeyDown(evt);\n        };\n\n        TaskAreaManager.prototype.onContextMenu = function (evt) {\n          if (evt.stopPropagation) evt.stopPropagation();\n          if (evt.preventDefault) evt.preventDefault();\n          if (Browser_1.Browser.WebKitFamily) evt.returnValue = false;\n          this.ganttView.ganttOwner.showPopupMenu(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\n        };\n\n        TaskAreaManager.prototype.getClickedTaskIndex = function (evt) {\n          var y = DomUtils_1.DomUtils.getEventY(evt);\n          var taskAreaY = DomUtils_1.DomUtils.getAbsolutePositionY(this.ganttView.taskArea);\n          var relativeY = y - taskAreaY;\n          return Math.floor(relativeY / this.ganttView.tickSize.height);\n        };\n\n        TaskAreaManager.prototype.onTaskElementHover = function (evt) {\n          var hoveredTaskIndex = this.getClickedTaskIndex(evt);\n          this.ganttView.taskEditController.show(hoveredTaskIndex);\n        };\n\n        TaskAreaManager.prototype.changeTaskSelection = function (index) {\n          var clickedTask = this.ganttView.viewModel.items[index];\n\n          if (clickedTask) {\n            this.ganttView.unselectCurrentSelectedTask();\n            this.ganttView.ganttOwner.changeGanttTaskSelection(clickedTask.task.id, true);\n            this.ganttView.selectTask(clickedTask.task.internalId);\n          }\n        };\n\n        TaskAreaManager.prototype.onTaskAreaClick = function (evt) {\n          var now = new Date(Date.now());\n          var clickedTaskIndex = this.getClickedTaskIndex(evt);\n\n          if (this.time && now.getTime() - this.time.getTime() < TaskAreaManager.DBLCLICK_INTERVAL) {\n            var clickedTask = this.ganttView.viewModel.items[clickedTaskIndex];\n            this.ganttView.commandManager.showTaskEditDialog.execute(clickedTask.task);\n          }\n\n          this.time = now;\n        };\n\n        TaskAreaManager.prototype.isConnectorLine = function (evt) {\n          var source = DomUtils_1.DomUtils.getEventSource(evt);\n          return DomUtils_1.DomUtils.getClassNameList(source).indexOf(GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL) >= 0 || DomUtils_1.DomUtils.getClassNameList(source).indexOf(GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL) >= 0;\n        };\n\n        TaskAreaManager.DBLCLICK_INTERVAL = 300;\n        return TaskAreaManager;\n      }();\n\n      exports.TaskAreaManager = TaskAreaManager;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics = function extendStatics(d, b) {\n          _extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem = function () {\n        function HistoryItem(modelManipulator) {\n          this.modelManipulator = modelManipulator;\n        }\n\n        return HistoryItem;\n      }();\n\n      exports.HistoryItem = HistoryItem;\n\n      var CompositionHistoryItem = function (_super) {\n        __extends(CompositionHistoryItem, _super);\n\n        function CompositionHistoryItem() {\n          var _this = _super.call(this, null) || this;\n\n          _this.historyItems = [];\n          return _this;\n        }\n\n        CompositionHistoryItem.prototype.redo = function () {\n          var item;\n\n          for (var i = 0; item = this.historyItems[i]; i++) {\n            item.redo();\n          }\n        };\n\n        CompositionHistoryItem.prototype.undo = function () {\n          var item;\n\n          for (var i = this.historyItems.length - 1; item = this.historyItems[i]; i--) {\n            item.undo();\n          }\n        };\n\n        CompositionHistoryItem.prototype.add = function (historyItem) {\n          if (historyItem == null) throw new Error(\"Can't add null HistoryItem\");\n          this.historyItems.push(historyItem);\n        };\n\n        return CompositionHistoryItem;\n      }(HistoryItem);\n\n      exports.CompositionHistoryItem = CompositionHistoryItem;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DateRange = function () {\n        function DateRange(start, end) {\n          this.start = start;\n          this.end = end;\n        }\n\n        return DateRange;\n      }();\n\n      exports.DateRange = DateRange;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics2 = function extendStatics(d, b) {\n          _extendStatics2 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics2(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics2(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var DayOfWeek_1 = __webpack_require__(47);\n\n      var DayOfWeekMonthlyOccurrence_1 = __webpack_require__(25);\n\n      var Month_1 = __webpack_require__(48);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var RecurrenceFactory_1 = __webpack_require__(26);\n\n      var RecurrenceBase = function (_super) {\n        __extends(RecurrenceBase, _super);\n\n        function RecurrenceBase(start, end, interval, occurrenceCount) {\n          if (start === void 0) {\n            start = null;\n          }\n\n          if (end === void 0) {\n            end = null;\n          }\n\n          if (interval === void 0) {\n            interval = 1;\n          }\n\n          if (occurrenceCount === void 0) {\n            occurrenceCount = 0;\n          }\n\n          var _this = _super.call(this) || this;\n\n          _this._start = null;\n          _this._end = null;\n          _this._interval = 1;\n          _this._occurrenceCount = 0;\n          _this._dayOfWeek = 0;\n          _this._day = 1;\n          _this._dayOfWeekOccurrence = 0;\n          _this._month = 0;\n          _this._calculateByDayOfWeek = false;\n          _this.start = start;\n          _this.end = end;\n          _this.interval = interval;\n          _this.occurrenceCount = occurrenceCount;\n          return _this;\n        }\n\n        RecurrenceBase.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.start = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.start);\n            this.end = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.end);\n            if (Utils_1.JsonUtils.isExists(sourceObj.interval)) this.interval = sourceObj.interval;\n            if (Utils_1.JsonUtils.isExists(sourceObj.occurrenceCount)) this.occurrenceCount = sourceObj.occurrenceCount;\n            if (Utils_1.JsonUtils.isExists(sourceObj.dayOfWeek)) this.dayOfWeekInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeek_1.DayOfWeek, sourceObj.dayOfWeek);\n            if (Utils_1.JsonUtils.isExists(sourceObj.day)) this.dayInternal = sourceObj.day;\n            if (Utils_1.JsonUtils.isExists(sourceObj.dayOfWeekOccurrence)) this.dayOfWeekOccurrenceInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence, sourceObj.dayOfWeekOccurrence);\n            if (Utils_1.JsonUtils.isExists(sourceObj.month)) this.monthInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(Month_1.Month, sourceObj.month);\n            if (Utils_1.JsonUtils.isExists(sourceObj.calculateByDayOfWeek)) this._calculateByDayOfWeek = !!sourceObj.calculateByDayOfWeek;\n          }\n        };\n\n        RecurrenceBase.prototype.calculatePoints = function (start, end) {\n          if (!start || !end) return new Array();\n          var from = DateTimeUtils_1.DateTimeUtils.getMaxDate(start, this._start);\n          var to = DateTimeUtils_1.DateTimeUtils.getMinDate(end, this._end);\n          if (this._occurrenceCount > 0) return this.calculatePointsByOccurrenceCount(from, to);\n          return this.calculatePointsByDateRange(from, to);\n        };\n\n        RecurrenceBase.prototype.calculatePointsByOccurrenceCount = function (start, end) {\n          var points = new Array();\n          var point = this.getFirstPoint(start);\n\n          while (!!point && points.length < this._occurrenceCount && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\n            if (this.isRecurrencePoint(point)) points.push(point);\n            point = this.getNextPoint(point);\n          }\n\n          return points;\n        };\n\n        RecurrenceBase.prototype.calculatePointsByDateRange = function (start, end) {\n          var points = new Array();\n          var point = this.getFirstPoint(start);\n\n          while (!!point && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\n            if (this.isRecurrencePoint(point)) points.push(point);\n            point = this.getNextPoint(point);\n          }\n\n          return points;\n        };\n\n        RecurrenceBase.prototype.getFirstPoint = function (start) {\n          if (this.isRecurrencePoint(start)) return start;\n          return this.getNextPoint(start);\n        };\n\n        ;\n\n        RecurrenceBase.prototype.isRecurrencePoint = function (date) {\n          return this.isDateInRange(date) && this.checkDate(date) && (!this.useIntervalInCalc() || this.checkInterval(date));\n        };\n\n        RecurrenceBase.prototype.isDateInRange = function (date) {\n          if (!date) return false;\n          if (this._start && DateTimeUtils_1.DateTimeUtils.compareDates(this.start, date) < 0) return false;\n          if (this._occurrenceCount == 0 && this.end && DateTimeUtils_1.DateTimeUtils.compareDates(date, this.end) < 0) return false;\n          return true;\n        };\n\n        RecurrenceBase.prototype.useIntervalInCalc = function () {\n          return this.interval > 1 && !!this._start;\n        };\n\n        RecurrenceBase.prototype.getNextPoint = function (date) {\n          if (!this.isDateInRange(date)) return null;\n          if (this.useIntervalInCalc()) return this.calculatePointByInterval(date);\n          return this.calculateNearestPoint(date);\n        };\n\n        ;\n\n        RecurrenceBase.prototype.getSpecDayInMonth = function (year, month) {\n          var date;\n          if (this._calculateByDayOfWeek) date = DateTimeUtils_1.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal, year, month, this.dayOfWeekOccurrenceInternal);else date = new Date(year, month, this.dayInternal);\n          return date;\n        };\n\n        Object.defineProperty(RecurrenceBase.prototype, \"dayInternal\", {\n          get: function get() {\n            return this._day;\n          },\n          set: function set(value) {\n            if (value > 0 && value <= 31) this._day = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekInternal\", {\n          get: function get() {\n            return this._dayOfWeek;\n          },\n          set: function set(dayOfWeek) {\n            if (dayOfWeek >= DayOfWeek_1.DayOfWeek.Sunday && dayOfWeek <= DayOfWeek_1.DayOfWeek.Saturday) this._dayOfWeek = dayOfWeek;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekOccurrenceInternal\", {\n          get: function get() {\n            return this._dayOfWeekOccurrence;\n          },\n          set: function set(value) {\n            if (value >= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.First && value <= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last) this._dayOfWeekOccurrence = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"monthInternal\", {\n          get: function get() {\n            return this._month;\n          },\n          set: function set(value) {\n            if (value >= Month_1.Month.January && value <= Month_1.Month.December) this._month = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"start\", {\n          get: function get() {\n            return this._start;\n          },\n          set: function set(date) {\n            if (!date) return;\n            this._start = date;\n            if (!!this._end && date > this._end) this._end = date;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"end\", {\n          get: function get() {\n            return this._end;\n          },\n          set: function set(date) {\n            if (!date) return;\n            this._end = date;\n            if (!!this._start && date < this._start) this._start = date;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"occurrenceCount\", {\n          get: function get() {\n            return this._occurrenceCount;\n          },\n          set: function set(value) {\n            if (value < 0) value = 0;\n            this._occurrenceCount = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"interval\", {\n          get: function get() {\n            return this._interval;\n          },\n          set: function set(value) {\n            if (value > 0) this._interval = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        return RecurrenceBase;\n      }(DataObject_1.DataObject);\n\n      exports.RecurrenceBase = RecurrenceBase;\n      /***/\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Browser = function () {\n        function Browser() {}\n\n        Browser.IdentUserAgent = function (userAgent, ignoreDocumentMode) {\n          if (ignoreDocumentMode === void 0) {\n            ignoreDocumentMode = false;\n          }\n\n          var browserTypesOrderedList = [\"Mozilla\", \"IE\", \"Firefox\", \"Netscape\", \"Safari\", \"Chrome\", \"Opera\", \"Opera10\", \"Edge\"];\n          var defaultBrowserType = \"IE\";\n          var defaultPlatform = \"Win\";\n          var defaultVersions = {\n            Safari: 2,\n            Chrome: 0.1,\n            Mozilla: 1.9,\n            Netscape: 8,\n            Firefox: 2,\n            Opera: 9,\n            IE: 6,\n            Edge: 12\n          };\n\n          if (!userAgent || userAgent.length == 0) {\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\n            return;\n          }\n\n          userAgent = userAgent.toLowerCase();\n          Browser.indentPlatformMajorVersion(userAgent);\n\n          try {\n            var platformIdentStrings = {\n              \"Windows\": \"Win\",\n              \"Macintosh\": \"Mac\",\n              \"Mac OS\": \"Mac\",\n              \"Mac_PowerPC\": \"Mac\",\n              \"cpu os\": \"MacMobile\",\n              \"cpu iphone os\": \"MacMobile\",\n              \"Android\": \"Android\",\n              \"!Windows Phone\": \"WinPhone\",\n              \"!WPDesktop\": \"WinPhone\",\n              \"!ZuneWP\": \"WinPhone\"\n            };\n            var optSlashOrSpace = \"(?:/|\\\\s*)?\";\n            var versionString = \"(\\\\d+)(?:\\\\.((?:\\\\d+?[1-9])|\\\\d)0*?)?\";\n            var optVersion = \"(?:\" + versionString + \")?\";\n            var patterns = {\n              Safari: \"applewebkit(?:.*?(?:version/\" + versionString + \"[\\\\.\\\\w\\\\d]*?(?:\\\\s+mobile\\/\\\\S*)?\\\\s+safari))?\",\n              Chrome: \"(?:chrome|crios)(?!frame)\" + optSlashOrSpace + optVersion,\n              Mozilla: \"mozilla(?:.*rv:\" + optVersion + \".*Gecko)?\",\n              Netscape: \"(?:netscape|navigator)\\\\d*/?\\\\s*\" + optVersion,\n              Firefox: \"firefox\" + optSlashOrSpace + optVersion,\n              Opera: \"(?:opera|\\sopr)\" + optSlashOrSpace + optVersion,\n              Opera10: \"opera.*\\\\s*version\" + optSlashOrSpace + optVersion,\n              IE: \"msie\\\\s*\" + optVersion,\n              Edge: \"edge\" + optSlashOrSpace + optVersion\n            };\n            var browserType;\n            var version = -1;\n\n            for (var i = 0; i < browserTypesOrderedList.length; i++) {\n              var browserTypeCandidate = browserTypesOrderedList[i];\n              var regExp = new RegExp(patterns[browserTypeCandidate], \"i\");\n              if (regExp.compile) regExp.compile(patterns[browserTypeCandidate], \"i\");\n              var matches = regExp.exec(userAgent);\n\n              if (matches && matches.index >= 0) {\n                if (browserType == \"IE\" && version >= 11 && browserTypeCandidate == \"Safari\") continue;\n                browserType = browserTypeCandidate;\n                if (browserType == \"Opera10\") browserType = \"Opera\";\n                var tridentPattern = \"trident\" + optSlashOrSpace + optVersion;\n                version = Browser.GetBrowserVersion(userAgent, matches, tridentPattern, Browser.getIECompatibleVersionString());\n                if (browserType == \"Mozilla\" && version >= 11) browserType = \"IE\";\n              }\n            }\n\n            if (!browserType) browserType = defaultBrowserType;\n            var browserVersionDetected = version != -1;\n            if (!browserVersionDetected) version = defaultVersions[browserType];\n            var platform;\n            var minOccurenceIndex = Number.MAX_VALUE;\n\n            for (var identStr in platformIdentStrings) {\n              if (!platformIdentStrings.hasOwnProperty(identStr)) continue;\n              var importantIdent = identStr.substr(0, 1) == \"!\";\n              var occurenceIndex = userAgent.indexOf((importantIdent ? identStr.substr(1) : identStr).toLowerCase());\n\n              if (occurenceIndex >= 0 && (occurenceIndex < minOccurenceIndex || importantIdent)) {\n                minOccurenceIndex = importantIdent ? 0 : occurenceIndex;\n                platform = platformIdentStrings[identStr];\n              }\n            }\n\n            var samsungPattern = \"SM-[A-Z]\";\n            var m = userAgent.toUpperCase().match(samsungPattern);\n            var isSamsungAndroidDevice = m && m.length > 0;\n            if (platform == \"WinPhone\" && version < 9) version = Math.floor(Browser.getVersionFromTrident(userAgent, \"trident\" + optSlashOrSpace + optVersion));\n            if (!ignoreDocumentMode && browserType == \"IE\" && version > 7 && document.documentMode < version) version = document.documentMode;\n            if (platform == \"WinPhone\") version = Math.max(9, version);\n            if (!platform) platform = defaultPlatform;\n            if (platform == platformIdentStrings[\"cpu os\"] && !browserVersionDetected) version = 4;\n            Browser.fillUserAgentInfo(browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice);\n          } catch (e) {\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\n          }\n        };\n\n        Browser.GetBrowserVersion = function (userAgent, matches, tridentPattern, ieCompatibleVersionString) {\n          var version = Browser.getVersionFromMatches(matches);\n\n          if (ieCompatibleVersionString) {\n            var versionFromTrident = Browser.getVersionFromTrident(userAgent, tridentPattern);\n            if (ieCompatibleVersionString === \"edge\" || parseInt(ieCompatibleVersionString) === versionFromTrident) return versionFromTrident;\n          }\n\n          return version;\n        };\n\n        Browser.getIECompatibleVersionString = function () {\n          if (document.compatible) {\n            for (var i = 0; i < document.compatible.length; i++) {\n              if (document.compatible[i].userAgent === \"IE\" && document.compatible[i].version) return document.compatible[i].version.toLowerCase();\n            }\n          }\n\n          return \"\";\n        };\n\n        Browser.fillUserAgentInfo = function (browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice) {\n          if (isSamsungAndroidDevice === void 0) {\n            isSamsungAndroidDevice = false;\n          }\n\n          for (var i = 0; i < browserTypesOrderedList.length; i++) {\n            var type = browserTypesOrderedList[i];\n            Browser[type] = type == browserType;\n          }\n\n          Browser.Version = Math.floor(10.0 * version) / 10.0;\n          Browser.MajorVersion = Math.floor(Browser.Version);\n          Browser.WindowsPlatform = platform == \"Win\" || platform == \"WinPhone\";\n          Browser.MacOSPlatform = platform == \"Mac\";\n          Browser.MacOSMobilePlatform = platform == \"MacMobile\";\n          Browser.AndroidMobilePlatform = platform == \"Android\";\n          Browser.WindowsPhonePlatform = platform == \"WinPhone\";\n          Browser.WebKitFamily = Browser.Safari || Browser.Chrome || Browser.Opera && Browser.MajorVersion >= 15;\n          Browser.NetscapeFamily = Browser.Netscape || Browser.Mozilla || Browser.Firefox;\n          Browser.HardwareAcceleration = Browser.IE && Browser.MajorVersion >= 9 || Browser.Firefox && Browser.MajorVersion >= 4 || Browser.AndroidMobilePlatform && Browser.Chrome || Browser.Chrome && Browser.MajorVersion >= 37 || Browser.Safari && !Browser.WindowsPlatform || Browser.Edge || Browser.Opera && Browser.MajorVersion >= 46;\n          Browser.WebKitTouchUI = Browser.MacOSMobilePlatform || Browser.AndroidMobilePlatform;\n          var isIETouchUI = Browser.IE && Browser.MajorVersion > 9 && Browser.WindowsPlatform && Browser.UserAgent.toLowerCase().indexOf(\"touch\") >= 0;\n          Browser.MSTouchUI = isIETouchUI || Browser.Edge && !!window.navigator.maxTouchPoints;\n          Browser.TouchUI = Browser.WebKitTouchUI || Browser.MSTouchUI;\n          Browser.MobileUI = Browser.WebKitTouchUI || Browser.WindowsPhonePlatform;\n          Browser.AndroidDefaultBrowser = Browser.AndroidMobilePlatform && !Browser.Chrome;\n          Browser.AndroidChromeBrowser = Browser.AndroidMobilePlatform && Browser.Chrome;\n          if (isSamsungAndroidDevice) Browser.SamsungAndroidDevice = isSamsungAndroidDevice;\n\n          if (Browser.MSTouchUI) {\n            var isARMArchitecture = Browser.UserAgent.toLowerCase().indexOf(\"arm;\") > -1;\n            Browser.VirtualKeyboardSupported = isARMArchitecture || Browser.WindowsPhonePlatform;\n          } else {\n            Browser.VirtualKeyboardSupported = Browser.WebKitTouchUI;\n          }\n\n          Browser.fillDocumentElementBrowserTypeClassNames(browserTypesOrderedList);\n        };\n\n        Browser.indentPlatformMajorVersion = function (userAgent) {\n          var regex = /(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\\d+)(?:[-0-9_.])*/;\n          var matches = regex.exec(userAgent);\n          if (matches) Browser.PlaformMajorVersion = matches[1];\n        };\n\n        Browser.prototype.GetBrowserVersion = function (userAgent, matches, tridentPattern, ieCompatibleVersionString) {\n          var version = Browser.getVersionFromMatches(matches);\n\n          if (ieCompatibleVersionString) {\n            var versionFromTrident = Browser.getVersionFromTrident(userAgent, tridentPattern);\n            if (ieCompatibleVersionString === \"edge\" || parseInt(ieCompatibleVersionString) === versionFromTrident) return versionFromTrident;\n          }\n\n          return version;\n        };\n\n        Browser.getVersionFromMatches = function (matches) {\n          var result = -1;\n          var versionStr = \"\";\n\n          if (matches[1]) {\n            versionStr += matches[1];\n            if (matches[2]) versionStr += \".\" + matches[2];\n          }\n\n          if (versionStr != \"\") {\n            result = parseFloat(versionStr);\n            if (isNaN(result)) result = -1;\n          }\n\n          return result;\n        };\n\n        Browser.getVersionFromTrident = function (userAgent, tridentPattern) {\n          var tridentDiffFromVersion = 4;\n          var matches = new RegExp(tridentPattern, \"i\").exec(userAgent);\n          return Browser.getVersionFromMatches(matches) + tridentDiffFromVersion;\n        };\n\n        Browser.fillDocumentElementBrowserTypeClassNames = function (browserTypesOrderedList) {\n          var documentElementClassName = \"\";\n          var browserTypeslist = browserTypesOrderedList.concat([\"WindowsPlatform\", \"MacOSPlatform\", \"MacOSMobilePlatform\", \"AndroidMobilePlatform\", \"WindowsPhonePlatform\", \"WebKitFamily\", \"WebKitTouchUI\", \"MSTouchUI\", \"TouchUI\", \"AndroidDefaultBrowser\"]);\n\n          for (var i = 0; i < browserTypeslist.length; i++) {\n            var type = browserTypeslist[i];\n            if (Browser[type]) documentElementClassName += \"dx\" + type + \" \";\n          }\n\n          documentElementClassName += \"dxBrowserVersion-\" + Browser.MajorVersion;\n\n          if (document && document.documentElement) {\n            if (document.documentElement.className != \"\") documentElementClassName = \" \" + documentElementClassName;\n            document.documentElement.className += documentElementClassName;\n            Browser.Info = documentElementClassName;\n          }\n        };\n\n        Browser.UserAgent = window.navigator.userAgent.toLowerCase();\n        Browser._foo = Browser.IdentUserAgent(Browser.UserAgent);\n        return Browser;\n      }();\n\n      exports.Browser = Browser;\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics3 = function extendStatics(d, b) {\n          _extendStatics3 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics3(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics3(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CollectionBase_1 = __webpack_require__(6);\n\n      var Resource_1 = __webpack_require__(36);\n\n      var ResourceCollection = function (_super) {\n        __extends(ResourceCollection, _super);\n\n        function ResourceCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceCollection.prototype.createItem = function () {\n          return new Resource_1.Resource();\n        };\n\n        return ResourceCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.ResourceCollection = ResourceCollection;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics4 = function extendStatics(d, b) {\n          _extendStatics4 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics4(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics4(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DependencyType;\n\n      (function (DependencyType) {\n        DependencyType[DependencyType[\"FS\"] = 0] = \"FS\";\n        DependencyType[DependencyType[\"SS\"] = 1] = \"SS\";\n        DependencyType[DependencyType[\"FF\"] = 2] = \"FF\";\n        DependencyType[DependencyType[\"SF\"] = 3] = \"SF\";\n      })(DependencyType = exports.DependencyType || (exports.DependencyType = {}));\n\n      var Dependency = function (_super) {\n        __extends(Dependency, _super);\n\n        function Dependency() {\n          var _this = _super.call(this) || this;\n\n          _this.predecessorId = \"\";\n          _this.successorId = \"\";\n          _this.type = null;\n          return _this;\n        }\n\n        Dependency.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.internalId = String(sourceObj.id);\n            this.predecessorId = String(sourceObj.predecessorId);\n            this.successorId = String(sourceObj.successorId);\n            this.type = sourceObj.type;\n          }\n        };\n\n        return Dependency;\n      }(DataObject_1.DataObject);\n\n      exports.Dependency = Dependency;\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Size = function () {\n        function Size(width, height) {\n          this.width = null;\n          this.height = null;\n          if (width !== undefined) this.width = width;\n          if (height !== undefined) this.height = height;\n        }\n\n        return Size;\n      }();\n\n      exports.Size = Size;\n      /***/\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Size_1 = __webpack_require__(15);\n\n      var DateRange_1 = __webpack_require__(10);\n\n      var Enums_1 = __webpack_require__(7);\n\n      var GridElementInfo_1 = __webpack_require__(29);\n\n      var Utils_1 = __webpack_require__(28);\n\n      var Point_1 = __webpack_require__(3);\n\n      var Dependency_1 = __webpack_require__(14);\n\n      var GridLayoutCalculator = function () {\n        function GridLayoutCalculator() {\n          this.tileToDependencyMap = [];\n          this.tileToNoWorkingIntervalsMap = [];\n          this.minLineLength = 10;\n          this.resourceMaxWidth = 500;\n          this.minTaskWidth = 2;\n        }\n\n        GridLayoutCalculator.prototype.setSettings = function (visibleTaskAreaSize, tickSize, elementSizeValues, range, viewModel, viewType, scrollBarHeight) {\n          if (scrollBarHeight === void 0) {\n            scrollBarHeight = 0;\n          }\n\n          this.visibleTaskAreaSize = visibleTaskAreaSize;\n          this.tickSize = tickSize;\n          this.viewType = viewType;\n          this.range = range;\n          this.verticalTickCount = viewModel.itemCount;\n          this.viewModel = viewModel;\n          this.elementSizeValues = elementSizeValues;\n          this.taskHeight = elementSizeValues.taskHeight;\n          this.milestoneWidth = elementSizeValues.milestoneWidth;\n          this.scaleHeight = elementSizeValues.scaleItemHeight;\n          this.arrowSize = new Size_1.Size(elementSizeValues.connectorArrowWidth, elementSizeValues.connectorArrowWidth);\n          this.lineThickness = elementSizeValues.connectorLineThickness;\n          this.minConnectorSpaceFromTask = (this.tickSize.height - this.taskHeight) / 2;\n          this.tickTimeSpan = Utils_1.DateUtils.getTickTimeSpan(viewType);\n          this.horizontalTickCount = this.getTotalTickCount();\n          this.scrollBarHeight = scrollBarHeight;\n          this.createTileToConnectorLinesMap();\n          this.createTileToNonWorkingIntervalsMap();\n        };\n\n        GridLayoutCalculator.prototype.getTaskAreaBorderInfo = function (index, isVertical) {\n          var sizeValue = isVertical ? this.getVerticalGridLineHeight() : this.tickSize.width * this.horizontalTickCount;\n          return this.getGridBorderInfo(index, isVertical, sizeValue);\n        };\n\n        GridLayoutCalculator.prototype.getScaleBorderInfo = function (index, scaleType) {\n          var result = this.getGridBorderInfo(index, true, this.scaleHeight);\n          result.position.x *= this.getScaleItemColSpan(scaleType);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getGridBorderInfo = function (index, isVertical, size) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.setPosition(this.getGridBorderPosition(index, isVertical));\n          if (size) result.setSize(this.getGridBorderSize(isVertical, size));\n          result.className = isVertical ? \"dx-gantt-vb\" : \"dx-gantt-hb\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getGridBorderPosition = function (index, isVertical) {\n          var result = new Point_1.Point();\n          var posValue = (index + 1) * (isVertical ? this.tickSize.width : this.tickSize.height);\n          if (isVertical) result.x = posValue;else result.y = posValue;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getGridBorderSize = function (isVertical, sizeValue) {\n          var result = new Size_1.Size();\n          if (isVertical) result.height = sizeValue;else result.width = sizeValue;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getScaleElementInfo = function (index, scaleType) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.setPosition(this.getScaleItemPosition(index, scaleType));\n          result.setSize(this.getScaleItemSize(scaleType));\n          result.className = this.getScaleItemClassName(scaleType, result, this.getRenderedNoWorkingIntervals(result.position.x));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemClassName = function (scaleType, scaleItemInfo, noWorkingIntervals) {\n          var result = \"dx-gantt-si\";\n          if (scaleType.valueOf() == this.viewType.valueOf() && this.isScaleItemInsideNoWorkingInterval(scaleItemInfo, noWorkingIntervals)) result += \" dx-gantt-holiday-scaleItem\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.isScaleItemInsideNoWorkingInterval = function (scaleItemInfo, noWorkingIntervals) {\n          var scaleItemLeft = scaleItemInfo.position.x;\n          var scaleItemRight = scaleItemInfo.position.x + scaleItemInfo.size.width;\n\n          for (var i = 0; i < noWorkingIntervals.length; i++) {\n            var noWorkingIntervalLeft = noWorkingIntervals[i].position.x;\n            var noWorkingIntervalRight = noWorkingIntervals[i].position.x + noWorkingIntervals[i].size.width;\n            if (scaleItemLeft >= noWorkingIntervalLeft && scaleItemRight <= noWorkingIntervalRight) return true;\n          }\n\n          return false;\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemPosition = function (index, scaleType) {\n          return new Point_1.Point(index * this.tickSize.width * this.getScaleItemColSpan(scaleType));\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemSize = function (scaleType) {\n          return new Size_1.Size(this.tickSize.width * this.getScaleItemColSpan(scaleType));\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemColSpan = function (scaleType) {\n          if (scaleType.valueOf() == this.viewType.valueOf()) return 1;\n          if (this.viewType == Enums_1.ViewType.TenMinutes) return 6;\n          if (this.viewType == Enums_1.ViewType.Hours) return 24;\n          if (this.viewType == Enums_1.ViewType.SixHours) return 4;\n          if (this.viewType == Enums_1.ViewType.Days) return 7;\n          if (this.viewType == Enums_1.ViewType.Weeks) return 4.29;\n          if (this.viewType == Enums_1.ViewType.Months) return 12;\n          if (this.viewType == Enums_1.ViewType.Quarter) return 4;\n          if (this.viewType == Enums_1.ViewType.Years) return 5;\n          return 1;\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperElementInfo = function (index) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = this.getTaskWrapperClassName(index);\n          result.setPosition(this.getTaskWrapperPoint(index));\n          result.setSize(this.getTaskWrapperSize(index));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperClassName = function (index) {\n          var result = \"dx-gantt-taskWrapper\";\n          if (this.getTask(index).isMilestone()) result = \"dx-gantt-milestoneWrapper\";\n          if (this.viewModel.items[index].selected) result += \" dx-gantt-selectedTask\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperSize = function (index) {\n          var resourceCount = this.viewModel.items[index].resources.items.length;\n          var resourceWidth = this.resourceMaxWidth * resourceCount;\n          var taskWidth = this.getTaskWidth(index);\n          var taskPoint = this.getTaskPoint(index);\n          var totalWidth = this.tickSize.width * this.horizontalTickCount;\n          var resultWidth = Math.min(taskWidth + resourceWidth, totalWidth - taskPoint.x);\n          return new Size_1.Size(resultWidth);\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperPoint = function (index) {\n          var result = new Point_1.Point(this.getPosByDate(this.getTask(index).start), index * this.tickSize.height);\n\n          if (this.getTask(index).isMilestone()) {\n            var height = this.getTaskHeight(index);\n            result.x -= height / 2;\n            result.y += (this.tickSize.height - height) / 2;\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskElementInfo = function (index) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          if (!this.getTask(index).isMilestone()) result.size.width = this.getTaskWidth(index);\n          result.className = this.getTaskClassName(index, result.size.width);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskClassName = function (index, taskWidth) {\n          var result = \"dx-gantt-task\";\n          if (this.getTask(index).isMilestone()) result += \" dx-gantt-milestone\";else if (taskWidth <= this.elementSizeValues.smallTaskWidth) result += \" dx-gantt-smallTask\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskPoint = function (index) {\n          var result = this.getTaskWrapperPoint(index);\n          if (!this.getTask(index).isMilestone()) result.y += this.elementSizeValues.taskWrapperTopPadding;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskSize = function (index) {\n          return new Size_1.Size(this.getTaskWidth(index), this.getTaskHeight(index));\n        };\n\n        GridLayoutCalculator.prototype.getTaskWidth = function (index) {\n          var task = this.getTask(index);\n          return task.isMilestone() ? this.getTaskHeight(index) : this.getWidthByDateRange(task.start, task.end);\n        };\n\n        GridLayoutCalculator.prototype.getTaskHeight = function (index) {\n          var task = this.getTask(index);\n          return task.isMilestone() ? this.milestoneWidth : this.taskHeight;\n        };\n\n        GridLayoutCalculator.prototype.getTask = function (index) {\n          return this.viewModel.items[index].task;\n        };\n\n        GridLayoutCalculator.prototype.getTaskProgressElementInfo = function (index) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = \"dx-gantt-tPrg\";\n          result.setSize(this.getTaskProgressSize(index));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskProgressSize = function (index) {\n          return new Size_1.Size(this.getTaskProgressWidth(index), null);\n        };\n\n        GridLayoutCalculator.prototype.getTaskProgressWidth = function (index) {\n          return this.getTaskWidth(index) * this.getTask(index).progress / 100;\n        };\n\n        GridLayoutCalculator.prototype.getTaskTextElementInfo = function (index, isInsideText) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = this.getTaskTextElementClassName(isInsideText);\n\n          if (!isInsideText) {\n            var taskX = this.getTaskPoint(index).x;\n\n            if (taskX < this.elementSizeValues.outsideTaskTextDefaultWidth) {\n              result.size.width = taskX;\n              result.margins.marginLeft = -taskX;\n            }\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskTextElementClassName = function (isInsideText) {\n          var result = \"dx-gantt-taskTitle\";\n          result += isInsideText ? \" dx-gantt-titleIn\" : \" dx-gantt-titleOut\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskResourceElementInfo = function () {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = \"dx-gantt-taskRes\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getSelectionElementInfo = function (index) {\n          return this.getRowElementInfo(index, \"dx-gantt-sel\");\n        };\n\n        GridLayoutCalculator.prototype.getSelectionPosition = function (index) {\n          var result = new Point_1.Point();\n          result.y = index * this.tickSize.height;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getSelectionSize = function () {\n          return new Size_1.Size(this.tickSize.width * this.horizontalTickCount, this.tickSize.height);\n        };\n\n        GridLayoutCalculator.prototype.getHighlightRowInfo = function (index) {\n          return this.getRowElementInfo(index, \"dx-gantt-altRow\");\n        };\n\n        GridLayoutCalculator.prototype.getRowElementInfo = function (index, className) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = className;\n          result.setPosition(this.getSelectionPosition(index));\n          result.setSize(this.getSelectionSize());\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getNoWorkingIntervalInfo = function (noWorkingDateRange) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = \"dx-gantt-nwi\";\n          result.setPosition(this.getNoWorkingIntervalPosition(noWorkingDateRange.start));\n          result.setSize(this.getNoWorkingIntervalSize(noWorkingDateRange));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getNoWorkingIntervalPosition = function (intervalStart) {\n          var result = new Point_1.Point();\n          result.x = this.getPosByDate(intervalStart);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getNoWorkingIntervalSize = function (noWorkingInterval) {\n          return new Size_1.Size(this.getWidthByDateRange(noWorkingInterval.start, noWorkingInterval.end), this.getVerticalGridLineHeight());\n        };\n\n        GridLayoutCalculator.prototype.getVerticalGridLineHeight = function () {\n          return Math.max(this.visibleTaskAreaSize.height - this.scrollBarHeight, this.tickSize.height * this.verticalTickCount);\n        };\n\n        GridLayoutCalculator.prototype.getConnectorInfo = function (id, predessorIndex, successorIndex, connectorType) {\n          var result = new Array();\n          var connectorPoints = this.getConnectorPoints(predessorIndex, successorIndex, connectorType);\n\n          for (var i = 0; i < connectorPoints.length - 1; i++) {\n            result.push(this.getConnectorLineInfo(id, connectorPoints[i], connectorPoints[i + 1], i == 0 || i == connectorPoints.length - 2));\n          }\n\n          result.push(this.getArrowInfo(connectorPoints, result, predessorIndex, successorIndex));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorLineInfo = function (id, startPoint, endPoint, isEdgeLine) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          var isVertical = startPoint.x == endPoint.x;\n          result.className = this.getConnectorClassName(isVertical);\n          result.setPosition(this.getConnectorPosition(startPoint, endPoint));\n          result.setSize(this.getConnectorSize(startPoint, endPoint, isVertical, isEdgeLine));\n          result.setAttribute(\"dependency-id\", id);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorClassName = function (isVertical) {\n          return isVertical ? GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL : GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPosition = function (startPoint, endPoint) {\n          return new Point_1.Point(Math.min(startPoint.x, endPoint.x), Math.min(startPoint.y, endPoint.y));\n        };\n\n        GridLayoutCalculator.prototype.getConnectorSize = function (startPoint, endPoint, isVertical, isEdgeLine) {\n          var result = new Size_1.Size();\n          var sizeCorrection = isEdgeLine ? 0 : 0;\n          if (isVertical) result.height = Math.abs(endPoint.y - startPoint.y + sizeCorrection);else result.width = Math.abs(endPoint.x - startPoint.x + sizeCorrection);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getArrowInfo = function (connectorPoints, connectorLines, predessorIndex, successorIndex) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          var lineInfo = this.findArrowLineInfo(connectorLines, predessorIndex, successorIndex);\n          var arrowPosition = this.getArrowPosition(connectorPoints, predessorIndex, successorIndex);\n          result.className = this.getArrowClassName(arrowPosition);\n          result.setPosition(this.getArrowPoint(lineInfo, arrowPosition));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.findArrowLineInfo = function (connectorLines, predessorIndex, successorIndex) {\n          var arrowLineIndex = predessorIndex < successorIndex ? connectorLines.length - 1 : 0;\n          return connectorLines[arrowLineIndex];\n        };\n\n        GridLayoutCalculator.prototype.getArrowPosition = function (connectorPoints, predessorIndex, successorIndex) {\n          var prevLastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 2 : 1];\n          var lastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 1 : 0];\n          if (prevLastPoint.x == lastPoint.x) return prevLastPoint.y > lastPoint.y ? Enums_1.Position.Top : Enums_1.Position.Bottom;\n          return prevLastPoint.x > lastPoint.x ? Enums_1.Position.Left : Enums_1.Position.Right;\n        };\n\n        GridLayoutCalculator.prototype.getArrowClassName = function (arrowPosition) {\n          var result = \"dx-gantt-arrow\";\n\n          switch (arrowPosition) {\n            case Enums_1.Position.Left:\n              result += \" dx-gantt-LA\";\n              break;\n\n            case Enums_1.Position.Top:\n              result += \" dx-gantt-TA\";\n              break;\n\n            case Enums_1.Position.Right:\n              result += \" dx-gantt-RA\";\n              break;\n\n            case Enums_1.Position.Bottom:\n              result += \" dx-gantt-BA\";\n              break;\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getArrowPoint = function (lineInfo, arrowPosition) {\n          return new Point_1.Point(this.getArrowX(lineInfo, arrowPosition), this.getArrowY(lineInfo, arrowPosition));\n        };\n\n        GridLayoutCalculator.prototype.getArrowX = function (lineInfo, arrowPosition) {\n          switch (arrowPosition) {\n            case Enums_1.Position.Left:\n              return lineInfo.position.x - this.arrowSize.width / 2;\n\n            case Enums_1.Position.Right:\n              return lineInfo.position.x + lineInfo.size.width - this.arrowSize.width / 2;\n\n            case Enums_1.Position.Top:\n            case Enums_1.Position.Bottom:\n              return lineInfo.position.x - (this.arrowSize.width - this.lineThickness) / 2;\n          }\n        };\n\n        GridLayoutCalculator.prototype.getArrowY = function (lineInfo, arrowPosition) {\n          switch (arrowPosition) {\n            case Enums_1.Position.Top:\n              return lineInfo.position.y - this.arrowSize.height / 2;\n\n            case Enums_1.Position.Bottom:\n              return lineInfo.position.y + lineInfo.size.height - this.arrowSize.height / 2;\n\n            case Enums_1.Position.Left:\n            case Enums_1.Position.Right:\n              return lineInfo.position.y - (this.arrowSize.height - this.lineThickness) / 2;\n          }\n        };\n\n        GridLayoutCalculator.prototype.getPosByDate = function (date) {\n          return this.getWidthByDateRange(this.range.start, date);\n        };\n\n        GridLayoutCalculator.prototype.getWidthByDateRange = function (start, end) {\n          var width = this.getRangeTickCount(start, end) * this.tickSize.width;\n          return Math.max(width, this.minTaskWidth);\n        };\n\n        GridLayoutCalculator.prototype.getRangeTickCount = function (start, end) {\n          if (this.viewType == Enums_1.ViewType.Months) return this.getRangeTickCountInMonthsViewType(start, end);\n          if (this.viewType == Enums_1.ViewType.Quarter) return this.getRangeTickCountInQuarterViewType(start, end);\n          return (end.getTime() - start.getTime()) / this.tickTimeSpan;\n        };\n\n        GridLayoutCalculator.prototype.getRangeTickCountInMonthsViewType = function (start, end) {\n          var startMonthStartDate = new Date(start.getFullYear(), start.getMonth(), 1);\n          var endMonthStartDate = new Date(end.getFullYear(), end.getMonth(), 1);\n          var monthOffset = Utils_1.DateUtils.getOffsetInMonths(startMonthStartDate, endMonthStartDate);\n          var endFromMonthStartDateOffset = end.getTime() - endMonthStartDate.getTime();\n          var startFromMonthStartDateOffset = start.getTime() - startMonthStartDate.getTime();\n          return monthOffset + (endFromMonthStartDateOffset - startFromMonthStartDateOffset) / Utils_1.DateUtils.msPerMonth;\n        };\n\n        GridLayoutCalculator.prototype.getRangeTickCountInQuarterViewType = function (start, end) {\n          var startQuarterStartDate = new Date(start.getFullYear(), Math.floor(start.getMonth() / 3) * 3, 1);\n          var endQuarterStartDate = new Date(end.getFullYear(), Math.floor(end.getMonth() / 3) * 3, 1);\n          var quarterOffset = Utils_1.DateUtils.getOffsetInQuarters(startQuarterStartDate, endQuarterStartDate);\n          var endFromQuarterStartDateOffset = end.getTime() - endQuarterStartDate.getTime();\n          var startFromQuarterStartDateOffset = start.getTime() - startQuarterStartDate.getTime();\n          return quarterOffset + (endFromQuarterStartDateOffset - startFromQuarterStartDateOffset) / (Utils_1.DateUtils.msPerMonth * 3);\n        };\n\n        GridLayoutCalculator.prototype.getDateByPos = function (position) {\n          var preResult = position / this.tickSize.width;\n          var start = new Date(this.range.start);\n\n          if (this.viewType == Enums_1.ViewType.Months || this.viewType == Enums_1.ViewType.Quarter) {\n            var monthFromStart = Math.floor(preResult);\n            start = new Date(start.setMonth(start.getMonth() + (this.viewType == Enums_1.ViewType.Months ? monthFromStart : monthFromStart * 3)));\n            preResult = (position - this.getPosByDate(start)) / this.tickSize.width;\n          }\n\n          var time = preResult * this.tickTimeSpan + start.getTime();\n          var result = new Date();\n          result.setTime(time);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTotalTickCount = function () {\n          return this.getRangeTickCount(this.range.start, this.range.end);\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints = function (predessorIndex, successorIndex, connectorType) {\n          switch (connectorType) {\n            case Dependency_1.DependencyType.FS:\n              return this.getFinishToStartConnectorPoints(predessorIndex, successorIndex);\n\n            case Dependency_1.DependencyType.SF:\n              return this.getStartToFinishConnectorPoints(predessorIndex, successorIndex);\n\n            case Dependency_1.DependencyType.SS:\n              return this.getStartToStartConnectorPoints(predessorIndex, successorIndex);\n\n            case Dependency_1.DependencyType.FF:\n              return this.getFinishToFinishConnectorPoints(predessorIndex, successorIndex);\n\n            default:\n              return new Array();\n          }\n        };\n\n        GridLayoutCalculator.prototype.getFinishToStartConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) {\n            if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start) return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(predessorIndex, successorIndex, false);\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(predessorIndex, successorIndex, false);\n          } else {\n            if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start) return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(successorIndex, predessorIndex, false);\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(successorIndex, predessorIndex, true);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getFinishToFinishConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) {\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(predessorIndex, successorIndex);\n          } else {\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(successorIndex, predessorIndex);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getStartToStartConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) {\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(predessorIndex, successorIndex);\n          } else {\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(successorIndex, predessorIndex);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getStartToFinishConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) {\n            if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end) return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(predessorIndex, successorIndex, true);\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(predessorIndex, successorIndex, false);\n          } else {\n            if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end) return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\n          var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\n          result.push(new Point_1.Point(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent, result[0].y));\n          result.push(new Point_1.Point(result[1].x, bottomTaskTopCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\n          result.push(new Point_1.Point(Math.max(topTaskRightCenter.x, bottomTaskRightCenter.x) + this.minLineLength, result[0].y));\n          result.push(new Point_1.Point(result[1].x, bottomTaskRightCenter.y));\n          result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\n          result.push(new Point_1.Point(result[0].x + this.minLineLength, result[0].y));\n          result.push(new Point_1.Point(result[1].x, shiftToTop ? topTaskBottomCenter.y + this.minConnectorSpaceFromTask : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask));\n          result.push(new Point_1.Point(bottomTaskLeftCenter.x - this.minLineLength, result[2].y));\n          result.push(new Point_1.Point(result[3].x, bottomTaskLeftCenter.y));\n          result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\n          var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\n          var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new Point_1.Point(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent, topTaskBottomCenter.y));\n          result.push(new Point_1.Point(result[0].x, bottomTaskRightCenter.y));\n          result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\n          var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\n          var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new Point_1.Point(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent, topTaskBottomCenter.y));\n          result.push(new Point_1.Point(result[0].x, bottomTaskLeftCenter.y));\n          result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\n          var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\n          result.push(new Point_1.Point(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent, result[0].y));\n          result.push(new Point_1.Point(result[1].x, bottomTaskTopCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\n          result.push(new Point_1.Point(result[0].x - this.minLineLength, result[0].y));\n          result.push(new Point_1.Point(result[1].x, shiftToTop ? topTaskBottomCenter.y + this.minConnectorSpaceFromTask : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask));\n          result.push(new Point_1.Point(bottomTaskRightCenter.x + this.minLineLength, result[2].y));\n          result.push(new Point_1.Point(result[3].x, bottomTaskRightCenter.y));\n          result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\n          result.push(new Point_1.Point(Math.min(topTaskLeftCenter.x, bottomTaskLeftCenter.x) - this.minLineLength, result[0].y));\n          result.push(new Point_1.Point(result[1].x, bottomTaskLeftCenter.y));\n          result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskLeftCenter = function (taskPoint, index) {\n          return new Point_1.Point(taskPoint.x - this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\n        };\n\n        GridLayoutCalculator.prototype.getTaskRightCenter = function (taskPoint, index) {\n          return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) + this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\n        };\n\n        GridLayoutCalculator.prototype.getTaskTopCenter = function (taskPoint, index) {\n          return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y - this.getTaskEdgeCorrection(index));\n        };\n\n        GridLayoutCalculator.prototype.getTaskBottomCenter = function (taskPoint, index) {\n          return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y + this.getTaskHeight(index) + this.getTaskEdgeCorrection(index));\n        };\n\n        GridLayoutCalculator.prototype.getTaskEdgeCorrection = function (index) {\n          var isMilestone = this.viewModel.items[index].task.isMilestone();\n          return isMilestone ? this.getTaskHeight(index) * (Math.sqrt(2) - 1) / 2 : 0;\n        };\n\n        GridLayoutCalculator.prototype.getRenderedRowColumnIndices = function (scrollPos, isVertical) {\n          var visibleAreaSizeValue = isVertical ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\n          var tickSizeValue = isVertical ? this.tickSize.height : this.tickSize.width;\n          var tickCount = isVertical ? this.verticalTickCount : this.horizontalTickCount;\n          var firstVisibleIndex = this.getFirstVisibleGridCellIndex(scrollPos, tickSizeValue);\n          var lastVisibleIndex = this.getLastVisibleGridCellIndex(scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount);\n          var result = new Array();\n\n          for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++) {\n            result.push(i);\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getRenderedScaleItemIndices = function (scaleType, renderedColIndices) {\n          var scaleItemColSpan = this.getScaleItemColSpan(scaleType);\n          var firstVisibleIndex = Math.floor(renderedColIndices[0] / scaleItemColSpan);\n          var lastVisibleIndex = Math.floor(renderedColIndices[renderedColIndices.length - 1] / scaleItemColSpan);\n          var result = new Array();\n\n          for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++) {\n            result.push(i);\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getFirstVisibleGridCellIndex = function (scrollPos, tickSizeValue) {\n          var result = Math.floor(scrollPos / tickSizeValue);\n          result = Math.max(result - 10, 0);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getLastVisibleGridCellIndex = function (scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount) {\n          var result = Math.floor((scrollPos + visibleAreaSizeValue) / tickSizeValue);\n          result = Math.min(result + 10, tickCount - 1);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.createTileToConnectorLinesMap = function () {\n          var _this = this;\n\n          this.tileToDependencyMap = [];\n\n          for (var i = 0; i < this.viewModel.items.length; i++) {\n            for (var j = 0; j < this.viewModel.items[i].dependencies.length; j++) {\n              var predessorIndex = this.viewModel.items[i].dependencies[j].predecessor.visibleIndex;\n              var successorIndex = this.viewModel.items[i].visibleIndex;\n              var type = this.viewModel.items[i].dependencies[j].type;\n              var id = this.viewModel.items[i].dependencies[j].id;\n              var connectorInfo = this.getConnectorInfo(id, predessorIndex, successorIndex, type);\n              connectorInfo.forEach(function (connectorLine) {\n                _this.addElementInfoToTileMap(connectorLine, _this.tileToDependencyMap, true);\n              });\n            }\n          }\n        };\n\n        GridLayoutCalculator.prototype.createTileToNonWorkingIntervalsMap = function () {\n          this.tileToNoWorkingIntervalsMap = [];\n\n          for (var i = 0; i < this.viewModel.noWorkingIntervals.length; i++) {\n            var noWorkingDateRange = this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[i]);\n            if (!noWorkingDateRange) continue;\n            var noWorkingIntervalInfo = this.getNoWorkingIntervalInfo(noWorkingDateRange);\n            this.addElementInfoToTileMap(noWorkingIntervalInfo, this.tileToNoWorkingIntervalsMap, false);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getAdjustedNoWorkingInterval = function (modelInterval) {\n          if (modelInterval.end.getTime() - modelInterval.start.getTime() < this.tickTimeSpan - 1) return null;\n          return new DateRange_1.DateRange(Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.start, this.range, this.tickTimeSpan, this.viewType), Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.end, this.range, this.tickTimeSpan, this.viewType));\n        };\n\n        GridLayoutCalculator.prototype.addElementInfoToTileMap = function (info, map, isVerticalTile) {\n          var infoPointValue = isVerticalTile ? info.position.y : info.position.x;\n          var infoSizeValue = isVerticalTile ? info.size.height : info.size.width;\n          var tileSizeValue = (isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width) * 2;\n          var firstTileIndex = Math.floor(infoPointValue / tileSizeValue);\n          var lastTileIndex = Math.floor((infoPointValue + infoSizeValue) / tileSizeValue);\n\n          for (var i = firstTileIndex; i <= lastTileIndex; i++) {\n            if (!map[i]) map[i] = new Array();\n            map[i].push(info);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getRenderedConnectorLines = function (scrollPos) {\n          return this.getElementsInRenderedTiles(this.tileToDependencyMap, true, scrollPos);\n        };\n\n        GridLayoutCalculator.prototype.getRenderedNoWorkingIntervals = function (scrollPos) {\n          return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap, false, scrollPos);\n        };\n\n        GridLayoutCalculator.prototype.getElementsInRenderedTiles = function (map, isVerticalTile, scrollPos) {\n          var visibleAreaSizeValue = isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\n          var firstVisibleTileIndex = Math.floor(scrollPos / (visibleAreaSizeValue * 2));\n          var lastVisibleTileIndex = Math.floor((scrollPos + visibleAreaSizeValue) / (visibleAreaSizeValue * 2));\n          var result = new Array();\n\n          for (var i = firstVisibleTileIndex; i <= lastVisibleTileIndex; i++) {\n            if (!map[i]) continue;\n            map[i].forEach(function (info) {\n              if (result.indexOf(info) == -1) result.push(info);\n            });\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.CLASSNAMES = {\n          CONNECTOR_VERTICAL: \"dx-gantt-conn-v\",\n          CONNECTOR_HORIZONTAL: \"dx-gantt-conn-h\"\n        };\n        return GridLayoutCalculator;\n      }();\n\n      exports.GridLayoutCalculator = GridLayoutCalculator;\n      /***/\n    },\n    /* 17 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics5 = function extendStatics(d, b) {\n          _extendStatics5 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics5(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics5(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItemState_1 = __webpack_require__(58);\n\n      var BaseManipulator = function () {\n        function BaseManipulator(viewModel, dispatcher) {\n          this.viewModel = viewModel;\n          this.dispatcher = dispatcher;\n        }\n\n        return BaseManipulator;\n      }();\n\n      exports.BaseManipulator = BaseManipulator;\n\n      var TaskPropertiesManipulator = function (_super) {\n        __extends(TaskPropertiesManipulator, _super);\n\n        function TaskPropertiesManipulator(viewModel, dispatcher) {\n          var _this = _super.call(this, viewModel, dispatcher) || this;\n\n          _this.title = new TaskTitleManipulator(viewModel, dispatcher);\n          _this.description = new TaskDescriptionManipulator(viewModel, dispatcher);\n          _this.progress = new TaskProgressManipulator(viewModel, dispatcher);\n          _this.start = new TaskStartDateManipulator(viewModel, dispatcher);\n          _this.end = new TaskEndDateManipulator(viewModel, dispatcher);\n          return _this;\n        }\n\n        return TaskPropertiesManipulator;\n      }(BaseManipulator);\n\n      exports.TaskPropertiesManipulator = TaskPropertiesManipulator;\n\n      var TaskPropertyManipulator = function (_super) {\n        __extends(TaskPropertyManipulator, _super);\n\n        function TaskPropertyManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskPropertyManipulator.prototype.setValue = function (id, newValue) {\n          var task = this.viewModel.tasks.getItemById(id);\n          var oldState = new HistoryItemState_1.HistoryItemState(id, this.getPropertyValue(task));\n          this.setPropertyValue(task, newValue);\n          this.viewModel.owner.resetAndUpdate();\n          return oldState;\n        };\n\n        TaskPropertyManipulator.prototype.restoreValue = function (state) {\n          if (!state) return;\n          var stateValue = state.value;\n          var task = this.viewModel.tasks.getItemById(state.taskId);\n          this.setPropertyValue(task, stateValue);\n          this.viewModel.owner.resetAndUpdate();\n        };\n\n        return TaskPropertyManipulator;\n      }(BaseManipulator);\n\n      exports.TaskPropertyManipulator = TaskPropertyManipulator;\n\n      var TaskTitleManipulator = function (_super) {\n        __extends(TaskTitleManipulator, _super);\n\n        function TaskTitleManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskTitleManipulator.prototype.getPropertyValue = function (task) {\n          return task.title;\n        };\n\n        TaskTitleManipulator.prototype.setPropertyValue = function (task, value) {\n          task.title = value;\n          this.dispatcher.notifyTaskTitleChanged(task.id, value);\n        };\n\n        return TaskTitleManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskDescriptionManipulator = function (_super) {\n        __extends(TaskDescriptionManipulator, _super);\n\n        function TaskDescriptionManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDescriptionManipulator.prototype.getPropertyValue = function (task) {\n          return task.description;\n        };\n\n        TaskDescriptionManipulator.prototype.setPropertyValue = function (task, value) {\n          task.description = value;\n          this.dispatcher.notifyTaskDescriptionChanged(task.id, value);\n        };\n\n        return TaskDescriptionManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskProgressManipulator = function (_super) {\n        __extends(TaskProgressManipulator, _super);\n\n        function TaskProgressManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskProgressManipulator.prototype.getPropertyValue = function (task) {\n          return task.progress;\n        };\n\n        TaskProgressManipulator.prototype.setPropertyValue = function (task, value) {\n          value = value < 0 ? 0 : value > 100 ? 100 : value;\n          task.progress = value;\n          this.dispatcher.notifyTaskProgressChanged(task.id, value);\n        };\n\n        return TaskProgressManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskStartDateManipulator = function (_super) {\n        __extends(TaskStartDateManipulator, _super);\n\n        function TaskStartDateManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskStartDateManipulator.prototype.getPropertyValue = function (task) {\n          return task.start;\n        };\n\n        TaskStartDateManipulator.prototype.setPropertyValue = function (task, value) {\n          task.start = value;\n          this.dispatcher.notifyTaskStartChanged(task.id, value);\n        };\n\n        return TaskStartDateManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskEndDateManipulator = function (_super) {\n        __extends(TaskEndDateManipulator, _super);\n\n        function TaskEndDateManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEndDateManipulator.prototype.getPropertyValue = function (task) {\n          return task.end;\n        };\n\n        TaskEndDateManipulator.prototype.setPropertyValue = function (task, value) {\n          task.end = value;\n          this.dispatcher.notifyTaskEndChanged(task.id, value);\n        };\n\n        return TaskEndDateManipulator;\n      }(TaskPropertyManipulator);\n      /***/\n\n    },\n    /* 18 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics6 = function extendStatics(d, b) {\n          _extendStatics6 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics6(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics6(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HandlerStateBase_1 = __webpack_require__(66);\n\n      var Point_1 = __webpack_require__(3);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerStateBase = function (_super) {\n        __extends(MouseHandlerStateBase, _super);\n\n        function MouseHandlerStateBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerStateBase.prototype.onMouseDoubleClick = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseDown = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseUp = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseMove = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseWheel = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.getRelativePos = function (absolutePos) {\n          var taskAreaX = DomUtils_1.DomUtils.getAbsolutePositionX(this.handler.control.taskArea);\n          var taskAreaY = DomUtils_1.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);\n          return new Point_1.Point(absolutePos.x - taskAreaX, absolutePos.y - taskAreaY);\n        };\n\n        return MouseHandlerStateBase;\n      }(HandlerStateBase_1.HandlerStateBase);\n\n      exports.MouseHandlerStateBase = MouseHandlerStateBase;\n      /***/\n    },\n    /* 19 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics7 = function extendStatics(d, b) {\n          _extendStatics7 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics7(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics7(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Point_1 = __webpack_require__(3);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerStateBase_1 = __webpack_require__(18);\n\n      var MouseHandlerDragBaseState = function (_super) {\n        __extends(MouseHandlerDragBaseState, _super);\n\n        function MouseHandlerDragBaseState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerDragBaseState.prototype.onMouseDown = function (evt) {\n          this.currentPosition = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\n        };\n\n        MouseHandlerDragBaseState.prototype.onMouseUp = function (evt) {\n          this.onMouseUpInternal(evt);\n          this.handler.switchToDefaultState();\n        };\n\n        MouseHandlerDragBaseState.prototype.onMouseMove = function (evt) {\n          evt.preventDefault();\n          var position = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\n          this.onMouseMoveInternal(position);\n          this.currentPosition = position;\n        };\n\n        MouseHandlerDragBaseState.prototype.onMouseUpInternal = function (_evt) {};\n\n        MouseHandlerDragBaseState.prototype.onMouseMoveInternal = function (_position) {};\n\n        return MouseHandlerDragBaseState;\n      }(MouseHandlerStateBase_1.MouseHandlerStateBase);\n\n      exports.MouseHandlerDragBaseState = MouseHandlerDragBaseState;\n      /***/\n    },\n    /* 20 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics8 = function extendStatics(d, b) {\n          _extendStatics8 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics8(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics8(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem_1 = __webpack_require__(9);\n\n      var InsertDependencyHistoryItem = function (_super) {\n        __extends(InsertDependencyHistoryItem, _super);\n\n        function InsertDependencyHistoryItem(modelManipulator, predecessorId, successorId, type) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.predecessorId = predecessorId;\n          _this.successorId = successorId;\n          _this.type = type;\n          return _this;\n        }\n\n        InsertDependencyHistoryItem.prototype.redo = function () {\n          this.dependency = this.modelManipulator.dependency.insertDependency(this.predecessorId, this.successorId, this.type, this.dependency ? this.dependency.internalId : null);\n        };\n\n        InsertDependencyHistoryItem.prototype.undo = function () {\n          this.modelManipulator.dependency.removeDependency(this.dependency.internalId);\n        };\n\n        return InsertDependencyHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.InsertDependencyHistoryItem = InsertDependencyHistoryItem;\n\n      var RemoveDependencyHistoryItem = function (_super) {\n        __extends(RemoveDependencyHistoryItem, _super);\n\n        function RemoveDependencyHistoryItem(modelManipulator, dependencyId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.dependencyId = dependencyId;\n          return _this;\n        }\n\n        RemoveDependencyHistoryItem.prototype.redo = function () {\n          this.dependency = this.modelManipulator.dependency.removeDependency(this.dependencyId);\n        };\n\n        RemoveDependencyHistoryItem.prototype.undo = function () {\n          this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId, this.dependency.successorId, this.dependency.type, this.dependencyId);\n        };\n\n        return RemoveDependencyHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.RemoveDependencyHistoryItem = RemoveDependencyHistoryItem;\n      /***/\n    },\n    /* 21 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics9 = function extendStatics(d, b) {\n          _extendStatics9 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics9(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics9(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem_1 = __webpack_require__(9);\n\n      var CreateResourceHistoryItem = function (_super) {\n        __extends(CreateResourceHistoryItem, _super);\n\n        function CreateResourceHistoryItem(modelManipulator, text) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.text = text;\n          return _this;\n        }\n\n        CreateResourceHistoryItem.prototype.redo = function () {\n          this.resource = this.modelManipulator.resource.create(this.text, this.resource ? this.resource.internalId : null);\n        };\n\n        CreateResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.remove(this.resource.internalId);\n        };\n\n        return CreateResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.CreateResourceHistoryItem = CreateResourceHistoryItem;\n\n      var RemoveResourceHistoryItem = function (_super) {\n        __extends(RemoveResourceHistoryItem, _super);\n\n        function RemoveResourceHistoryItem(modelManipulator, resourceId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.resourceId = resourceId;\n          return _this;\n        }\n\n        RemoveResourceHistoryItem.prototype.redo = function () {\n          this.resource = this.modelManipulator.resource.remove(this.resourceId);\n        };\n\n        RemoveResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.create(this.resource.text, this.resourceId);\n        };\n\n        return RemoveResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.RemoveResourceHistoryItem = RemoveResourceHistoryItem;\n\n      var AssignResourceHistoryItem = function (_super) {\n        __extends(AssignResourceHistoryItem, _super);\n\n        function AssignResourceHistoryItem(modelManipulator, resourceId, taskId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.resourceId = resourceId;\n          _this.taskId = taskId;\n          return _this;\n        }\n\n        AssignResourceHistoryItem.prototype.redo = function () {\n          this.assignment = this.modelManipulator.resource.assign(this.resourceId, this.taskId, this.assignment ? this.assignment.internalId : null);\n        };\n\n        AssignResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.deassig(this.assignment.internalId);\n        };\n\n        return AssignResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.AssignResourceHistoryItem = AssignResourceHistoryItem;\n\n      var DeassignResourceHistoryItem = function (_super) {\n        __extends(DeassignResourceHistoryItem, _super);\n\n        function DeassignResourceHistoryItem(modelManipulator, assignmentId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.assignmentId = assignmentId;\n          return _this;\n        }\n\n        DeassignResourceHistoryItem.prototype.redo = function () {\n          this.assignment = this.modelManipulator.resource.deassig(this.assignmentId);\n        };\n\n        DeassignResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.assign(this.assignment.resourceId, this.assignment.taskId, this.assignmentId);\n        };\n\n        return DeassignResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.DeassignResourceHistoryItem = DeassignResourceHistoryItem;\n      /***/\n    },\n    /* 22 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics10 = function extendStatics(d, b) {\n          _extendStatics10 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics10(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics10(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var DialogBase = function (_super) {\n        __extends(DialogBase, _super);\n\n        function DialogBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DialogBase.prototype.executeInternal = function (options) {\n          var _this = this;\n\n          var params = this.createParameters(options);\n          var initParams = params.clone();\n          this.control.ganttOwner.showDialog(this.getDialogName(), params, function (result) {\n            if (result) _this.applyParameters(result, initParams);\n          }, function () {\n            _this.afterClosing();\n          });\n          return true;\n        };\n\n        DialogBase.prototype.applyParameters = function (_newParameters, _oldParameters) {\n          return false;\n        };\n\n        DialogBase.prototype.afterClosing = function () {};\n\n        DialogBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        return DialogBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.DialogBase = DialogBase;\n\n      var DialogParametersBase = function () {\n        function DialogParametersBase() {}\n\n        return DialogParametersBase;\n      }();\n\n      exports.DialogParametersBase = DialogParametersBase;\n      /***/\n    },\n    /* 23 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Time = function () {\n        function Time(h, min, sec, msec) {\n          if (h === void 0) {\n            h = 0;\n          }\n\n          if (min === void 0) {\n            min = 0;\n          }\n\n          if (sec === void 0) {\n            sec = 0;\n          }\n\n          if (msec === void 0) {\n            msec = 0;\n          }\n\n          this._hour = 0;\n          this._min = 0;\n          this._sec = 0;\n          this._msec = 0;\n          this._fullmsec = 0;\n          this.hour = h;\n          this.min = min;\n          this.sec = sec;\n          this.msec = msec;\n        }\n\n        Object.defineProperty(Time.prototype, \"hour\", {\n          get: function get() {\n            return this._hour;\n          },\n          set: function set(h) {\n            if (h >= 0 && h < 24) {\n              this._hour = h;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(Time.prototype, \"min\", {\n          get: function get() {\n            return this._min;\n          },\n          set: function set(m) {\n            if (m >= 0 && m < 60) {\n              this._min = m;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(Time.prototype, \"sec\", {\n          get: function get() {\n            return this._sec;\n          },\n          set: function set(s) {\n            if (s >= 0 && s < 60) {\n              this._sec = s;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(Time.prototype, \"msec\", {\n          get: function get() {\n            return this._msec;\n          },\n          set: function set(ms) {\n            if (ms >= 0 && ms < 1000) {\n              this._msec = ms;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        Time.prototype.updateFullMilleconds = function () {\n          var minutes = this._hour * 60 + this._min;\n          var sec = minutes * 60 + this._sec;\n          this._fullmsec = sec * 1000 + this._msec;\n        };\n\n        Time.prototype.getTimeInMilleconds = function () {\n          return this._fullmsec;\n        };\n\n        return Time;\n      }();\n\n      exports.Time = Time;\n      /***/\n    },\n    /* 24 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var TimeRange = function () {\n        function TimeRange(start, end) {\n          var diff = DateTimeUtils_1.DateTimeUtils.caclTimeDifference(start, end);\n\n          if (diff >= 0) {\n            this._start = start;\n            this._end = end;\n          } else {\n            this._start = end;\n            this._end = start;\n          }\n        }\n\n        ;\n        Object.defineProperty(TimeRange.prototype, \"start\", {\n          get: function get() {\n            return this._start;\n          },\n          set: function set(time) {\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0) this._start = time;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TimeRange.prototype, \"end\", {\n          get: function get() {\n            return this._end;\n          },\n          set: function set(time) {\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0) this._end = time;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        TimeRange.prototype.isTimeInRange = function (time) {\n          return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0 && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0;\n        };\n\n        TimeRange.prototype.hasIntersect = function (range) {\n          return this.isTimeInRange(range.start) || this.isTimeInRange(range.end) || range.isTimeInRange(this.start) || range.isTimeInRange(this.end);\n        };\n\n        TimeRange.prototype.concatWith = function (range) {\n          if (!this.hasIntersect(range)) return false;\n          ;\n          this.start = DateTimeUtils_1.DateTimeUtils.getMinTime(this.start, range.start);\n          this.end = DateTimeUtils_1.DateTimeUtils.getMaxTime(this.end, range.end);\n          return true;\n        };\n\n        return TimeRange;\n      }();\n\n      exports.TimeRange = TimeRange;\n      /***/\n    },\n    /* 25 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var DayOfWeekMonthlyOccurrence;\n\n      (function (DayOfWeekMonthlyOccurrence) {\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"First\"] = 0] = \"First\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Second\"] = 1] = \"Second\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Third\"] = 2] = \"Third\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Forth\"] = 3] = \"Forth\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Last\"] = 4] = \"Last\";\n      })(DayOfWeekMonthlyOccurrence = exports.DayOfWeekMonthlyOccurrence || (exports.DayOfWeekMonthlyOccurrence = {}));\n      /***/\n\n    },\n    /* 26 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var Daily_1 = __webpack_require__(27);\n\n      var Weekly_1 = __webpack_require__(49);\n\n      var Monthly_1 = __webpack_require__(50);\n\n      var Yearly_1 = __webpack_require__(52);\n\n      var RecurrenceFactory = function () {\n        function RecurrenceFactory() {}\n\n        RecurrenceFactory.createRecurrenceByType = function (type) {\n          if (!type) return null;\n          var correctedType = type.toLowerCase();\n\n          switch (correctedType) {\n            case \"daily\":\n              return new Daily_1.Daily();\n\n            case \"weekly\":\n              return new Weekly_1.Weekly();\n\n            case \"monthly\":\n              return new Monthly_1.Monthly();\n\n            case \"yearly\":\n              return new Yearly_1.Yearly();\n          }\n\n          return null;\n        };\n\n        RecurrenceFactory.createRecurrenceFromObject = function (sourceObj) {\n          if (!sourceObj) return null;\n          var recurrence = this.createRecurrenceByType(sourceObj.type);\n          if (recurrence) recurrence.assignFromObject(sourceObj);\n          return recurrence;\n        };\n\n        RecurrenceFactory.getEnumValue = function (type, value) {\n          if (!Utils_1.JsonUtils.isExists(type[value])) return null;\n          var num = parseInt(value);\n          if (!isNaN(num)) return num;\n          return type[value];\n        };\n\n        return RecurrenceFactory;\n      }();\n\n      exports.RecurrenceFactory = RecurrenceFactory;\n      /***/\n    },\n    /* 27 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics11 = function extendStatics(d, b) {\n          _extendStatics11 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics11(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics11(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var RecurrenceBase_1 = __webpack_require__(11);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Daily = function (_super) {\n        __extends(Daily, _super);\n\n        function Daily() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Daily.prototype.checkDate = function (date) {\n          return true;\n        };\n\n        Daily.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval == 0;\n        };\n\n        Daily.prototype.calculatePointByInterval = function (date) {\n          var daysToAdd = this.interval;\n          if (!this.isRecurrencePoint(date)) daysToAdd -= DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval;\n          return DateTimeUtils_1.DateTimeUtils.addDays(date, daysToAdd);\n        };\n\n        Daily.prototype.calculateNearestPoint = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.addDays(date, 1);\n        };\n\n        return Daily;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Daily = Daily;\n      /***/\n    },\n    /* 28 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Enums_1 = __webpack_require__(7);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var DateUtils = function () {\n        function DateUtils() {}\n\n        DateUtils.getDaysInMonth = function (month, year) {\n          var d = new Date(year, month + 1, 0);\n          return d.getDate();\n        };\n\n        DateUtils.getOffsetInMonths = function (start, end) {\n          return (end.getFullYear() - start.getFullYear()) * 12 + end.getMonth() - start.getMonth();\n        };\n\n        DateUtils.getOffsetInQuarters = function (start, end) {\n          return (end.getFullYear() - start.getFullYear()) * 4 + Math.floor(end.getMonth() / 3) - Math.floor(start.getMonth() / 3);\n        };\n\n        DateUtils.getNearestScaleTickDate = function (date, range, tickTimeSpan, viewType) {\n          var result = new Date();\n          var rangeStartTime = range.start.getTime();\n          var rangeEndTime = range.end.getTime();\n          result.setTime(date.getTime());\n          if (date.getTime() < rangeStartTime) result.setTime(rangeStartTime);else if (date.getTime() > rangeEndTime) result.setTime(rangeEndTime);else if (this.needCorrectDate(date, rangeStartTime, tickTimeSpan, viewType)) {\n            var nearestLeftTickTime = this.getNearestLeftTickTime(date, rangeStartTime, tickTimeSpan, viewType);\n            var nearestRightTickTime = this.getNextTickTime(nearestLeftTickTime, tickTimeSpan, viewType);\n            if (Math.abs(date.getTime() - nearestLeftTickTime) > Math.abs(date.getTime() - nearestRightTickTime)) result.setTime(nearestRightTickTime);else result.setTime(nearestLeftTickTime);\n          }\n          return result;\n        };\n\n        DateUtils.needCorrectDate = function (date, rangeStartTime, tickTimeSpan, viewType) {\n          if (viewType == Enums_1.ViewType.Months) return date.getTime() !== new Date(date.getFullYear(), date.getMonth(), 1).getTime();\n          return (date.getTime() - rangeStartTime) % tickTimeSpan !== 0;\n        };\n\n        DateUtils.getNearestLeftTickTime = function (date, rangeStartTime, tickTimeSpan, viewType) {\n          if (viewType == Enums_1.ViewType.Months) return new Date(date.getFullYear(), date.getMonth(), 1).getTime();\n          var tickCountAtLeft = Math.floor((date.getTime() - rangeStartTime) / tickTimeSpan);\n          return rangeStartTime + tickCountAtLeft * tickTimeSpan;\n        };\n\n        DateUtils.getNextTickTime = function (currentTickTime, tickTimeSpan, viewType) {\n          if (viewType == Enums_1.ViewType.Months) {\n            var nextTickDate = new Date();\n            nextTickDate.setTime(currentTickTime);\n            nextTickDate.setMonth(nextTickDate.getMonth() + 1);\n            return nextTickDate.getTime();\n          }\n\n          return currentTickTime + tickTimeSpan;\n        };\n\n        DateUtils.adjustStartEndDateByViewType = function (date, isStart, viewType) {\n          var result = new Date();\n\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n              result = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours());\n              if (date.getTime() !== result.getTime() && !isStart) result = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() + 1);\n              break;\n\n            case Enums_1.ViewType.SixHours:\n            case Enums_1.ViewType.Hours:\n              result = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n              if (date.getTime() !== result.getTime() && !isStart) result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);\n              break;\n\n            case Enums_1.ViewType.Days:\n            case Enums_1.ViewType.Weeks:\n              result = new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay());\n              if (date.getTime() !== result.getTime() && !isStart) result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 7 - date.getDay());\n              break;\n\n            case Enums_1.ViewType.Months:\n            case Enums_1.ViewType.Quarter:\n            case Enums_1.ViewType.Years:\n              result = new Date(date.getFullYear(), 0, 1);\n              if (date.getTime() !== result.getTime() && !isStart) result = new Date(date.getFullYear() + 1, 0, 1);\n              break;\n          }\n\n          return result;\n        };\n\n        DateUtils.getTickTimeSpan = function (viewType) {\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n              return DateUtils.msPerHour / 6;\n\n            case Enums_1.ViewType.Hours:\n              return DateUtils.msPerHour;\n\n            case Enums_1.ViewType.SixHours:\n              return DateUtils.msPerHour * 6;\n\n            case Enums_1.ViewType.Days:\n              return DateUtils.msPerDay;\n\n            case Enums_1.ViewType.Weeks:\n              return DateUtils.msPerWeek;\n\n            case Enums_1.ViewType.Months:\n              return DateUtils.msPerMonth;\n\n            case Enums_1.ViewType.Quarter:\n              return DateUtils.msPerMonth * 3;\n\n            case Enums_1.ViewType.Years:\n              return DateUtils.msPerMonth * 12;\n          }\n        };\n\n        DateUtils.msPerHour = 3600000;\n        DateUtils.msPerDay = 24 * DateUtils.msPerHour;\n        DateUtils.msPerWeek = 7 * DateUtils.msPerDay;\n        DateUtils.msPerMonth = 30 * DateUtils.msPerDay;\n        DateUtils.ViewTypeToScaleMap = createViewTypeToScaleMap();\n        return DateUtils;\n      }();\n\n      exports.DateUtils = DateUtils;\n\n      var ElementTextHelper = function () {\n        function ElementTextHelper() {\n          this.longestAbbrMonthName = null;\n          this.longestMonthName = null;\n          this.longestAbbrDayName = null;\n          var canvas = document.createElement(\"canvas\");\n          this.textMeasureContext = canvas.getContext(\"2d\");\n        }\n\n        ElementTextHelper.prototype.setFont = function (fontHolder) {\n          var computedStyle = DomUtils_1.DomUtils.getCurrentStyle(fontHolder);\n          var font = computedStyle.font ? computedStyle.font : computedStyle.fontStyle + \" \" + computedStyle.fontVariant + \" \" + computedStyle.fontWeight + \" \" + computedStyle.fontSize + \" / \" + computedStyle.lineHeight + \" \" + computedStyle.fontFamily;\n          this.textMeasureContext.font = font;\n        };\n\n        ElementTextHelper.prototype.setSettings = function (startTime, viewType, modelItems) {\n          this.startTime = startTime;\n          this.viewType = viewType;\n          this.modelItems = modelItems;\n        };\n\n        ElementTextHelper.prototype.getScaleItemStartDate = function (index, scaleType) {\n          var result = new Date(this.startTime);\n\n          switch (scaleType) {\n            case Enums_1.ViewType.TenMinutes:\n              result.setTime(this.startTime + index * DateUtils.msPerHour / 6);\n              break;\n\n            case Enums_1.ViewType.Hours:\n              result.setTime(this.startTime + index * DateUtils.msPerHour);\n              break;\n\n            case Enums_1.ViewType.SixHours:\n              result.setTime(this.startTime + index * DateUtils.msPerHour * 6);\n              break;\n\n            case Enums_1.ViewType.Days:\n              result.setTime(this.startTime + index * DateUtils.msPerDay);\n              break;\n\n            case Enums_1.ViewType.Weeks:\n              result.setTime(this.startTime + index * DateUtils.msPerWeek);\n              break;\n\n            case Enums_1.ViewType.Months:\n              result.setMonth(result.getMonth() + index);\n              break;\n\n            case Enums_1.ViewType.Quarter:\n              result.setMonth(result.getMonth() + index * 3);\n              break;\n\n            case Enums_1.ViewType.Years:\n              result.setFullYear(result.getFullYear() + index);\n              break;\n\n            case Enums_1.ViewType.FiveYears:\n              result.setFullYear(result.getFullYear() + index * 5);\n              break;\n          }\n\n          return result;\n        };\n\n        ElementTextHelper.prototype.getScaleItemText = function (index, scaleType) {\n          var scaleItemStartDate = this.getScaleItemStartDate(index, scaleType);\n          var isViewTypeScale = this.viewType.valueOf() == scaleType.valueOf();\n\n          switch (scaleType) {\n            case Enums_1.ViewType.TenMinutes:\n              return this.getTenMinutesScaleItemText(scaleItemStartDate);\n\n            case Enums_1.ViewType.Hours:\n            case Enums_1.ViewType.SixHours:\n              return this.getHoursScaleItemText(scaleItemStartDate);\n\n            case Enums_1.ViewType.Days:\n              return this.getDaysScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Weeks:\n              return this.getWeeksScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Months:\n              return this.getMonthsScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Quarter:\n              return this.getQuarterScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Years:\n              return this.getYearsScaleItemText(scaleItemStartDate);\n\n            case Enums_1.ViewType.FiveYears:\n              return this.getFiveYearsScaleItemText(scaleItemStartDate);\n          }\n        };\n\n        ElementTextHelper.prototype.getTenMinutesScaleItemText = function (scaleItemDate) {\n          var minutes = scaleItemDate.getMinutes() + 1;\n          return (Math.ceil(minutes / 10) * 10).toString();\n        };\n\n        ElementTextHelper.prototype.getThirtyMinutesScaleItemText = function (scaleItemDate) {\n          var minutes = scaleItemDate.getMinutes();\n          return minutes < 30 ? \"30\" : \"60\";\n        };\n\n        ElementTextHelper.prototype.getHoursScaleItemText = function (scaleItemDate) {\n          var hours = scaleItemDate.getHours();\n          var hourDisplayText = this.getHourDisplayText(hours);\n          var amPmText = hours < 12 ? this.getAmText() : this.getPmText();\n          return this.getHoursScaleItemTextCore(hourDisplayText, amPmText);\n        };\n\n        ElementTextHelper.prototype.getDaysScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          return this.getDayTotalText(scaleItemDate, true, isViewTypeScale, isViewTypeScale, !isViewTypeScale);\n        };\n\n        ElementTextHelper.prototype.getWeeksScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          var weekLastDayDate = new Date(scaleItemDate.getTime() + DateUtils.msPerWeek - DateUtils.msPerDay);\n          return this.getWeeksScaleItemTextCore(this.getDayTotalText(scaleItemDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale), this.getDayTotalText(weekLastDayDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale));\n        };\n\n        ElementTextHelper.prototype.getMonthsScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          var monthNames = this.getMonthNames();\n          var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\n          return this.getMonthsScaleItemTextCore(monthNames[scaleItemDate.getMonth()], yearDisplayText);\n        };\n\n        ElementTextHelper.prototype.getQuarterScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          var quarterNames = this.getQuarterNames();\n          var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\n          return this.getMonthsScaleItemTextCore(quarterNames[Math.floor(scaleItemDate.getMonth() / 3)], yearDisplayText);\n        };\n\n        ElementTextHelper.prototype.getYearsScaleItemText = function (scaleItemDate) {\n          return scaleItemDate.getFullYear().toString();\n        };\n\n        ElementTextHelper.prototype.getFiveYearsScaleItemText = function (scaleItemDate) {\n          return scaleItemDate.getFullYear().toString() + \" - \" + (scaleItemDate.getFullYear() + 4).toString();\n        };\n\n        ElementTextHelper.prototype.getHourDisplayText = function (hours) {\n          if (this.hasAmPm()) return (hours == 0 ? 12 : hours <= 12 ? hours : hours - 12).toString();\n          return hours < 10 ? \"0\" + hours : hours.toString();\n        };\n\n        ElementTextHelper.prototype.getDayTotalText = function (scaleItemDate, displayDayName, useAbbrDayNames, useAbbrMonthNames, displayYear) {\n          var monthNames = useAbbrMonthNames ? this.getAbbrMonthNames() : this.getMonthNames();\n          var dayNames = useAbbrDayNames ? this.getAbbrDayNames() : this.getDayNames();\n          var dayNameDisplayText = displayDayName ? dayNames[scaleItemDate.getDay()] : \"\";\n          var day = scaleItemDate.getDate();\n          var monthName = monthNames[scaleItemDate.getMonth()];\n          var yearDisplayText = displayYear ? scaleItemDate.getFullYear().toString() : \"\";\n          return this.getDayTotalTextCore(dayNameDisplayText, day.toString(), monthName, yearDisplayText);\n        };\n\n        ElementTextHelper.prototype.getTaskText = function (index) {\n          var item = this.modelItems[index];\n          return item ? item.task.title : \"\";\n        };\n\n        ElementTextHelper.prototype.getTaskVisibility = function (index) {\n          var item = this.modelItems[index];\n          return !!item && item.getVisible();\n        };\n\n        ElementTextHelper.prototype.hasAmPm = function () {\n          return this.getAmText().length > 0 || this.getPmText().length > 0;\n        };\n\n        ElementTextHelper.prototype.getScaleItemTextTemplate = function (viewType) {\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n              return \"00\";\n\n            case Enums_1.ViewType.Hours:\n            case Enums_1.ViewType.SixHours:\n              return this.getHoursScaleItemTextCore(\"00\", this.getAmText());\n\n            case Enums_1.ViewType.Days:\n              return this.getDayTextTemplate();\n\n            case Enums_1.ViewType.Weeks:\n              return this.getWeekTextTemplate();\n\n            case Enums_1.ViewType.Months:\n              return this.getMonthsScaleItemTextCore(this.getLongestMonthName(), \"\");\n\n            case Enums_1.ViewType.Quarter:\n              return \"Q4\";\n\n            case Enums_1.ViewType.Years:\n              return \"0000\";\n          }\n        };\n\n        ElementTextHelper.prototype.getDayTextTemplate = function () {\n          return this.getDayTotalTextCore(this.getLongestAbbrDayName(), \"00\", this.getLongestAbbrMonthName(), \"\");\n        };\n\n        ElementTextHelper.prototype.getWeekTextTemplate = function () {\n          var dayTextTemplate = this.getDayTextTemplate();\n          return this.getWeeksScaleItemTextCore(dayTextTemplate, dayTextTemplate);\n        };\n\n        ElementTextHelper.prototype.getHoursScaleItemTextCore = function (hourDisplayText, amPmText) {\n          return hourDisplayText + \":00\" + (this.hasAmPm() ? \" \" + amPmText : \"\");\n        };\n\n        ElementTextHelper.prototype.getDayTotalTextCore = function (dayName, dayValueString, monthName, yearValueString) {\n          var result = dayName.length > 0 ? dayName + \", \" : \"\";\n          result += dayValueString + \" \" + monthName;\n          result += yearValueString.length > 0 ? \" \" + yearValueString : \"\";\n          return result;\n        };\n\n        ElementTextHelper.prototype.getWeeksScaleItemTextCore = function (firstDayOfWeekString, lastDayOfWeekString) {\n          return firstDayOfWeekString + \" - \" + lastDayOfWeekString;\n        };\n\n        ElementTextHelper.prototype.getMonthsScaleItemTextCore = function (monthName, yearValueString) {\n          var result = monthName;\n          if (yearValueString.length > 0) result += \" \" + yearValueString;\n          return result;\n        };\n\n        ElementTextHelper.prototype.getLongestAbbrMonthName = function () {\n          if (this.longestAbbrMonthName == null) this.longestAbbrMonthName = this.getLongestText(this.getAbbrMonthNames());\n          return this.longestAbbrMonthName;\n        };\n\n        ElementTextHelper.prototype.getLongestMonthName = function () {\n          if (this.longestMonthName == null) this.longestMonthName = this.getLongestText(this.getMonthNames());\n          return this.longestMonthName;\n        };\n\n        ElementTextHelper.prototype.getLongestAbbrDayName = function () {\n          if (this.longestAbbrDayName == null) this.longestAbbrDayName = this.getLongestText(this.getAbbrDayNames());\n          return this.longestAbbrDayName;\n        };\n\n        ElementTextHelper.prototype.getLongestText = function (texts) {\n          var _this = this;\n\n          var result = \"\";\n          var longestTextWidth = 0;\n          texts.forEach(function (text) {\n            var textWidth = _this.getTextWidth(text);\n\n            if (textWidth > longestTextWidth) {\n              longestTextWidth = textWidth;\n              result = text;\n            }\n          });\n          return result;\n        };\n\n        ElementTextHelper.prototype.getTextWidth = function (text) {\n          return Math.round(this.textMeasureContext.measureText(text).width);\n        };\n\n        ElementTextHelper.prototype.getAmText = function () {\n          return \"AM\";\n        };\n\n        ElementTextHelper.prototype.getPmText = function () {\n          return \"PM\";\n        };\n\n        ElementTextHelper.prototype.getQuarterNames = function () {\n          return [\"Q1\", \"Q2\", \"Q3\", \"Q4\"];\n        };\n\n        ElementTextHelper.prototype.getMonthNames = function () {\n          return [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\", \"\"];\n        };\n\n        ElementTextHelper.prototype.getDayNames = function () {\n          return [\"Sunday\", \"Monday\", \"ASP\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n        };\n\n        ElementTextHelper.prototype.getAbbrMonthNames = function () {\n          return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"\"];\n        };\n\n        ElementTextHelper.prototype.getAbbrDayNames = function () {\n          return [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n        };\n\n        return ElementTextHelper;\n      }();\n\n      exports.ElementTextHelper = ElementTextHelper;\n\n      function createViewTypeToScaleMap() {\n        var result = {};\n        result[Enums_1.ViewType.TenMinutes] = Enums_1.ViewType.Hours;\n        result[Enums_1.ViewType.Hours] = Enums_1.ViewType.Days;\n        result[Enums_1.ViewType.SixHours] = Enums_1.ViewType.Days;\n        result[Enums_1.ViewType.Days] = Enums_1.ViewType.Weeks;\n        result[Enums_1.ViewType.Weeks] = Enums_1.ViewType.Months;\n        result[Enums_1.ViewType.Months] = Enums_1.ViewType.Years;\n        result[Enums_1.ViewType.Quarter] = Enums_1.ViewType.Years;\n        result[Enums_1.ViewType.Years] = Enums_1.ViewType.FiveYears;\n        return result;\n      }\n      /***/\n\n    },\n    /* 29 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Point_1 = __webpack_require__(3);\n\n      var Size_1 = __webpack_require__(15);\n\n      var Margins_1 = __webpack_require__(54);\n\n      var GridElementInfo = function () {\n        function GridElementInfo(className, position, size) {\n          this.id = GridElementInfo.id++;\n          this.position = new Point_1.Point();\n          this.size = new Size_1.Size();\n          this.margins = new Margins_1.Margins();\n          this.attr = {};\n          if (className) this.className = className;\n          if (position) this.setPosition(position);\n          if (size) this.setSize(size);\n        }\n\n        GridElementInfo.prototype.setSize = function (size) {\n          this.size.width = size.width;\n          this.size.height = size.height;\n        };\n\n        GridElementInfo.prototype.setPosition = function (position) {\n          this.position.x = position.x;\n          this.position.y = position.y;\n        };\n\n        GridElementInfo.prototype.assignToElement = function (element) {\n          this.assignPosition(element);\n          this.assignSize(element);\n          this.assignMargins(element);\n          if (this.className) element.className = this.className;\n        };\n\n        GridElementInfo.prototype.assignPosition = function (element) {\n          if (this.position.x != null) element.style.left = this.position.x + \"px\";\n          if (this.position.y != null) element.style.top = this.position.y + \"px\";\n        };\n\n        GridElementInfo.prototype.assignSize = function (element) {\n          if (this.size.width) element.style.width = this.size.width + \"px\";\n          if (this.size.height) element.style.height = this.size.height + \"px\";\n        };\n\n        GridElementInfo.prototype.assignMargins = function (element) {\n          if (this.margins.marginLeft) element.style.marginLeft = this.margins.marginLeft + \"px\";\n          if (this.margins.marginTop) element.style.marginTop = this.margins.marginTop + \"px\";\n          if (this.margins.marginRight) element.style.marginRight = this.margins.marginRight + \"px\";\n          if (this.margins.marginBottom) element.style.marginBottom = this.margins.marginBottom + \"px\";\n        };\n\n        GridElementInfo.prototype.setAttribute = function (name, value) {\n          this.attr[name] = value;\n        };\n\n        GridElementInfo.id = 0;\n        return GridElementInfo;\n      }();\n\n      exports.GridElementInfo = GridElementInfo;\n      /***/\n    },\n    /* 30 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var Enums_1 = __webpack_require__(7);\n\n      var DateRange_1 = __webpack_require__(10);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var TaskEditController = function () {\n        function TaskEditController(gantt) {\n          this.taskIndex = -1;\n          this.successorIndex = -1;\n          this.editing = false;\n          this.gantt = gantt;\n          this.createElements();\n          this.createClassToSourceMap();\n        }\n\n        Object.defineProperty(TaskEditController.prototype, \"taskId\", {\n          get: function get() {\n            return this.gantt.viewModel.items[this.taskIndex].task.internalId;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskEditController.prototype, \"successorId\", {\n          get: function get() {\n            return this.gantt.viewModel.items[this.successorIndex].task.internalId;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskEditController.prototype, \"task\", {\n          get: function get() {\n            return this.gantt.viewModel.items[this.taskIndex].task;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        TaskEditController.prototype.show = function (taskIndex) {\n          if (!this.editing && this.gantt.settings.editing.enabled) {\n            this.taskIndex = taskIndex;\n            this.updateWrapInfo();\n            this.wrapInfo.assignPosition(this.baseElement);\n            this.wrapInfo.assignSize(this.baseElement);\n            this.gantt.taskArea.appendChild(this.baseElement);\n            this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n            if (this.task.isMilestone()) this.baseElement.className = this.baseElement.className + \" milestone\";else {\n              if (!this.gantt.settings.editing.allowDependencyAdding) this.baseElement.className = this.baseElement.className + \" hide-dependency\";\n              if (!this.gantt.settings.editing.allowTaskUpdating) this.baseElement.className = this.baseElement.className + \" hide-updating\";\n              this.progressEdit.style.left = this.task.progress / 100 * this.wrapInfo.size.width - this.progressEdit.offsetWidth / 2 + \"px\";\n            }\n            this.taskDateRange = new DateRange_1.DateRange(this.task.start, this.task.end);\n          }\n        };\n\n        TaskEditController.prototype.updateWrapInfo = function () {\n          this.wrapInfo = this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(this.taskIndex);\n          this.wrapInfo.size.width = this.gantt.gridLayoutCalculator.getTaskWidth(this.taskIndex);\n          this.wrapInfo.position.x--;\n          if (this.task.isMilestone()) this.wrapInfo.position.y = this.gantt.gridLayoutCalculator.getSelectionPosition(this.taskIndex).y;\n        };\n\n        TaskEditController.prototype.hide = function () {\n          var parentNode = this.baseElement.parentNode;\n          if (parentNode) parentNode.removeChild(this.baseElement);\n        };\n\n        TaskEditController.prototype.showDependencySuccessor = function (taskIndex) {\n          if (this.successorIndex != taskIndex && this.taskIndex != taskIndex) {\n            this.successorIndex = taskIndex;\n            var wrapInfo = this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(taskIndex);\n            wrapInfo.size.width = this.gantt.gridLayoutCalculator.getTaskWidth(taskIndex) + 1;\n            wrapInfo.assignPosition(this.dependencySuccessorBaseElement);\n            wrapInfo.assignSize(this.dependencySuccessorBaseElement);\n            wrapInfo.assignSize(this.dependencySuccessorFrame);\n            this.gantt.taskArea.appendChild(this.dependencySuccessorBaseElement);\n          }\n        };\n\n        TaskEditController.prototype.hideDependencySuccessor = function () {\n          var parentNode = this.dependencySuccessorBaseElement.parentNode;\n          if (parentNode) parentNode.removeChild(this.dependencySuccessorBaseElement);\n          this.successorIndex = -1;\n        };\n\n        TaskEditController.prototype.processProgress = function (position) {\n          this.editing = true;\n          var progressOffset = position.x - this.wrapInfo.position.x;\n          var progress = 0;\n          if (position.x > this.wrapInfo.position.x) if (position.x < this.wrapInfo.position.x + this.wrapInfo.size.width) progress = Math.round(progressOffset / this.baseElement.clientWidth * 100);else progress = 100;\n          this.progressEdit.style.left = progress / 100 * this.wrapInfo.size.width - this.progressEdit.offsetWidth / 2 + \"px\";\n          this.statusMsg.innerHTML = progress + \"%\";\n          this.showMessageBox(DomUtils_1.DomUtils.getAbsolutePositionX(this.progressEdit) - this.statusMsg.clientWidth / 2);\n        };\n\n        TaskEditController.prototype.confirmProgress = function () {\n          this.editing = false;\n          var progress = Math.round((this.progressEdit.offsetLeft + this.progressEdit.offsetWidth / 2) / this.wrapInfo.size.width * 100);\n          this.gantt.commandManager.changeTaskProgressCommand.execute(this.taskId, progress);\n        };\n\n        TaskEditController.prototype.isShouldProcessEnd = function (positionX) {\n          return positionX > this.wrapInfo.position.x - this.endEdit.clientWidth;\n        };\n\n        TaskEditController.prototype.processEnd = function (position) {\n          this.baseElement.className = this.baseElement.className + \" move\";\n          this.editing = true;\n          var positionX = position.x > this.wrapInfo.position.x ? position.x : this.wrapInfo.position.x;\n          var width = positionX - this.wrapInfo.position.x;\n          this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\n          var startDate = this.task.start;\n          var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\n          date.setSeconds(0);\n          if (date < startDate || width < 1) this.taskDateRange.end.setTime(startDate.getTime());else this.taskDateRange.end = this.getNewDate(this.task.end, date);\n          this.showTimeMessage(startDate, this.taskDateRange.end, DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement) + this.baseElement.clientWidth - this.statusMsg.clientWidth);\n        };\n\n        TaskEditController.prototype.confirmEnd = function () {\n          this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n          this.editing = false;\n          this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId, this.taskDateRange.end);\n          this.updateWrapInfo();\n        };\n\n        TaskEditController.prototype.processStart = function (position) {\n          this.baseElement.className = this.baseElement.className + \" move\";\n          this.editing = true;\n          var positionX = position.x < this.wrapInfo.position.x + this.wrapInfo.size.width ? position.x : this.wrapInfo.position.x + this.wrapInfo.size.width;\n          var width = this.wrapInfo.size.width - (positionX - this.wrapInfo.position.x);\n          this.baseElement.style.left = positionX + \"px\";\n          this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\n          var endDate = this.task.end;\n          var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\n          date.setSeconds(0);\n          if (date > endDate || width < 1) this.taskDateRange.start.setTime(endDate.getTime());else this.taskDateRange.start = this.getNewDate(this.task.start, date);\n          this.showTimeMessage(this.taskDateRange.start, endDate, DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement));\n        };\n\n        TaskEditController.prototype.confirmStart = function () {\n          this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n          this.editing = false;\n          this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId, this.taskDateRange.start);\n          this.updateWrapInfo();\n        };\n\n        TaskEditController.prototype.processMove = function (delta) {\n          if (this.gantt.settings.editing.allowTaskUpdating) {\n            this.baseElement.className = this.baseElement.className + \" move\";\n            this.editing = true;\n            var left = this.baseElement.offsetLeft + delta;\n            this.baseElement.style.left = left + \"px\";\n            var date = this.gantt.gridLayoutCalculator.getDateByPos(left);\n            this.taskDateRange.start = this.getNewDate(this.task.start, date);\n            var dateDiff = this.task.start.getTime() - date.getTime();\n            var endDate = new Date(this.task.end.getTime() - dateDiff);\n            this.taskDateRange.end = this.getNewDate(this.task.end, endDate);\n            this.showTimeMessage(this.taskDateRange.start, this.taskDateRange.end, DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement));\n          }\n        };\n\n        TaskEditController.prototype.confirmMove = function () {\n          this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n\n          if (this.editing) {\n            this.gantt.history.beginTransaction();\n            this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId, this.taskDateRange.start);\n            this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId, this.taskDateRange.end);\n            this.gantt.history.endTransaction();\n          }\n\n          this.updateWrapInfo();\n          this.editing = false;\n        };\n\n        TaskEditController.prototype.getNewDate = function (referenceDate, newDate) {\n          if (this.gantt.settings.viewType > Enums_1.ViewType.SixHours) {\n            var date = new Date(referenceDate.getTime());\n            date.setDate(newDate.getDate());\n            date.setMonth(newDate.getMonth());\n            date.setFullYear(newDate.getFullYear());\n            if (this.gantt.settings.viewType == Enums_1.ViewType.Days) date.setHours(newDate.getHours());\n            return date;\n          } else return newDate;\n        };\n\n        TaskEditController.prototype.startDependency = function (pos) {\n          this.dependencyLine = document.createElement(\"DIV\");\n          this.dependencyLine.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE;\n          this.gantt.taskArea.appendChild(this.dependencyLine);\n          this.startPosition = pos;\n        };\n\n        TaskEditController.prototype.processDependency = function (pos) {\n          this.editing = true;\n          this.drawline(this.startPosition, pos);\n        };\n\n        TaskEditController.prototype.endDependency = function (type) {\n          this.editing = false;\n          if (type != null) this.gantt.commandManager.createDependencyCommand.execute(this.task.internalId, this.successorId, type);\n          var parentNode = this.dependencyLine.parentNode;\n          if (parentNode) parentNode.removeChild(this.dependencyLine);\n          this.dependencyLine = null;\n          this.hideDependencySuccessor();\n          this.hide();\n        };\n\n        TaskEditController.prototype.selectDependency = function (id) {\n          if (this.gantt.settings.editing.allowDependencyDeleting) this.dependencyId = id;\n        };\n\n        TaskEditController.prototype.isDependencySelected = function (id) {\n          return this.dependencyId && this.dependencyId == id;\n        };\n\n        TaskEditController.prototype.deleteSelectedDependency = function () {\n          if (this.dependencyId) this.gantt.commandManager.removeDependencyCommand.execute(this.dependencyId);\n        };\n\n        TaskEditController.prototype.showTimeMessage = function (start, end, posX) {\n          this.statusMsg.innerHTML = \"\";\n          var timeElement = document.createElement(\"DIV\");\n          timeElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;\n          var startEl = document.createElement(\"DIV\");\n          var startTitle = document.createElement(\"SPAN\");\n          startTitle.innerHTML = \"Start: \";\n          var startValue = document.createElement(\"SPAN\");\n          startValue.innerHTML = this.formatDate(start);\n          startEl.appendChild(startTitle);\n          startEl.appendChild(startValue);\n          var endEl = document.createElement(\"DIV\");\n          var endTitle = document.createElement(\"SPAN\");\n          endTitle.innerHTML = \"End: \";\n          var endValue = document.createElement(\"SPAN\");\n          endValue.innerHTML = this.formatDate(end);\n          endEl.appendChild(endTitle);\n          endEl.appendChild(endValue);\n          timeElement.appendChild(startEl);\n          timeElement.appendChild(endEl);\n          this.statusMsg.appendChild(timeElement);\n          this.showMessageBox(posX);\n        };\n\n        TaskEditController.prototype.showMessageBox = function (posX) {\n          var _this = this;\n\n          this.statusMsg.style.display = \"block\";\n          this.statusMsg.style.left = posX + \"px\";\n          this.statusMsg.style.top = DomUtils_1.DomUtils.getAbsolutePositionY(this.baseElement) - this.statusMsg.clientHeight + \"px\";\n          if (this.statusTimerId) clearTimeout(this.statusTimerId);\n          this.statusTimerId = setTimeout(function () {\n            _this.statusMsg.style.display = \"none\";\n          }, 1500);\n        };\n\n        TaskEditController.prototype.formatDate = function (date) {\n          return ('0' + date.getDate()).slice(-2) + '/' + ('0' + (date.getMonth() + 1)).slice(-2) + \"/\" + date.getFullYear() + \" \" + ('0' + date.getHours()).slice(-2) + \":\" + ('0' + date.getMinutes()).slice(-2);\n        };\n\n        TaskEditController.prototype.createElements = function () {\n          this.baseElement = document.createElement(\"DIV\");\n          this.baseFrame = document.createElement(\"DIV\");\n          this.baseFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME;\n          this.baseElement.appendChild(this.baseFrame);\n          this.progressEdit = document.createElement(\"DIV\");\n          this.progressEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS;\n          this.baseFrame.appendChild(this.progressEdit);\n          this.statusMsg = document.createElement(\"DIV\");\n          this.statusMsg.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS;\n          this.baseFrame.appendChild(this.statusMsg);\n          this.dependencyFinish = document.createElement(\"DIV\");\n          this.dependencyFinish.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH;\n          this.baseFrame.appendChild(this.dependencyFinish);\n          this.dependencyStart = document.createElement(\"DIV\");\n          this.dependencyStart.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT;\n          this.baseFrame.appendChild(this.dependencyStart);\n          this.startEdit = document.createElement(\"DIV\");\n          this.startEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_START;\n          this.baseFrame.appendChild(this.startEdit);\n          this.endEdit = document.createElement(\"DIV\");\n          this.endEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_END;\n          this.baseFrame.appendChild(this.endEdit);\n          this.dependencySuccessorBaseElement = document.createElement(\"DIV\");\n          this.dependencySuccessorBaseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR;\n          this.dependencySuccessorFrame = document.createElement(\"DIV\");\n          this.dependencySuccessorFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR;\n          this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame);\n          this.dependencySuccessorStart = document.createElement(\"DIV\");\n          this.dependencySuccessorStart.className = TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH;\n          this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart);\n          this.dependencySuccessorFinish = document.createElement(\"DIV\");\n          this.dependencySuccessorFinish.className = TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT;\n          this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish);\n          this.attachEvents();\n        };\n\n        TaskEditController.prototype.attachEvents = function () {\n          this.baseElement.addEventListener(\"mouseleave\", function (evt) {\n            if (!this.editing) this.hide();\n          }.bind(this));\n        };\n\n        TaskEditController.prototype.drawline = function (start, end) {\n          if (start.x > end.x) {\n            var temp = end;\n            end = start;\n            start = temp;\n          }\n\n          var angle = Math.atan((start.y - end.y) / (end.x - start.x));\n          angle = angle * 180 / Math.PI;\n          angle = -angle;\n          var length = Math.sqrt((start.x - end.x) * (start.x - end.x) + (start.y - end.y) * (start.y - end.y));\n          this.dependencyLine.style.left = start.x + \"px\";\n          this.dependencyLine.style.top = start.y + \"px\";\n          this.dependencyLine.style.width = length + \"px\";\n          this.dependencyLine.style.transform = \"rotate(\" + angle + \"deg)\";\n        };\n\n        TaskEditController.prototype.createClassToSourceMap = function () {\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS] = TaskAreaManager_1.MouseEventSource.TaskEdit_Progress;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_START] = TaskAreaManager_1.MouseEventSource.TaskEdit_Start;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_END] = TaskAreaManager_1.MouseEventSource.TaskEdit_End;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_FRAME] = TaskAreaManager_1.MouseEventSource.TaskEdit_Frame;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.Successor_DependencyStart;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish;\n        };\n\n        TaskEditController.CLASSNAMES = {\n          TASK_EDIT_BOX: \"dx-gantt-task-edit-wrapper\",\n          TASK_EDIT_FRAME: \"dx-gantt-task-edit-frame\",\n          TASK_EDIT_PROGRESS: \"dx-gantt-task-edit-progress\",\n          TASK_EDIT_PROGRESS_STATUS: \"dx-gantt-task-edit-progress-status\",\n          TASK_EDIT_PROGRESS_STATUS_TIME: \"dx-gantt-status-time\",\n          TASK_EDIT_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-dependency-r\",\n          TASK_EDIT_DEPENDENCY_LEFT: \"dx-gantt-task-edit-dependency-l\",\n          TASK_EDIT_START: \"dx-gantt-task-edit-start\",\n          TASK_EDIT_END: \"dx-gantt-task-edit-end\",\n          TASK_EDIT_DEPENDENCY_LINE: \"dx-gantt-task-edit-dependency-line\",\n          TASK_EDIT_BOX_SUCCESSOR: \"dx-gantt-task-edit-wrapper-successor\",\n          TASK_EDIT_FRAME_SUCCESSOR: \"dx-gantt-task-edit-frame-successor\",\n          TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-successor-dependency-r\",\n          TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT: \"dx-gantt-task-edit-successor-dependency-l\"\n        };\n        TaskEditController.classToSource = {};\n        return TaskEditController;\n      }();\n\n      exports.TaskEditController = TaskEditController;\n      /***/\n    },\n    /* 31 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics12 = function extendStatics(d, b) {\n          _extendStatics12 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics12(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics12(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem_1 = __webpack_require__(9);\n\n      var TaskPropertiesHistoryItemBase = function (_super) {\n        __extends(TaskPropertiesHistoryItemBase, _super);\n\n        function TaskPropertiesHistoryItemBase(modelManipulator, taskId, newValue) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.taskId = taskId;\n          _this.newValue = newValue;\n          return _this;\n        }\n\n        TaskPropertiesHistoryItemBase.prototype.redo = function () {\n          this.oldState = this.getPropertiesManipulator().setValue(this.taskId, this.newValue);\n        };\n\n        TaskPropertiesHistoryItemBase.prototype.undo = function () {\n          this.getPropertiesManipulator().restoreValue(this.oldState);\n        };\n\n        TaskPropertiesHistoryItemBase.prototype.getPropertiesManipulator = function () {\n          throw new Error(\"Not Implemented\");\n        };\n\n        return TaskPropertiesHistoryItemBase;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.TaskPropertiesHistoryItemBase = TaskPropertiesHistoryItemBase;\n\n      var TaskTitleHistoryItem = function (_super) {\n        __extends(TaskTitleHistoryItem, _super);\n\n        function TaskTitleHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskTitleHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.title;\n        };\n\n        return TaskTitleHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskTitleHistoryItem = TaskTitleHistoryItem;\n\n      var TaskDesriptionHistoryItem = function (_super) {\n        __extends(TaskDesriptionHistoryItem, _super);\n\n        function TaskDesriptionHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDesriptionHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.description;\n        };\n\n        return TaskDesriptionHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskDesriptionHistoryItem = TaskDesriptionHistoryItem;\n\n      var TaskProgressHistoryItem = function (_super) {\n        __extends(TaskProgressHistoryItem, _super);\n\n        function TaskProgressHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskProgressHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.progress;\n        };\n\n        return TaskProgressHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskProgressHistoryItem = TaskProgressHistoryItem;\n\n      var TaskStartHistoryItem = function (_super) {\n        __extends(TaskStartHistoryItem, _super);\n\n        function TaskStartHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskStartHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.start;\n        };\n\n        return TaskStartHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskStartHistoryItem = TaskStartHistoryItem;\n\n      var TaskEndHistoryItem = function (_super) {\n        __extends(TaskEndHistoryItem, _super);\n\n        function TaskEndHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEndHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.end;\n        };\n\n        return TaskEndHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskEndHistoryItem = TaskEndHistoryItem;\n      /***/\n    },\n    /* 32 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      __webpack_require__(33);\n\n      var GanttView_1 = __webpack_require__(34);\n\n      exports.GanttView = GanttView_1.GanttView;\n      /***/\n    },\n    /* 33 */\n\n    /***/\n    function (module, exports, __webpack_require__) {// extracted by mini-css-extract-plugin\n\n      /***/\n    },\n    /* 34 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var VisualModel_1 = __webpack_require__(35);\n\n      var Enums_1 = __webpack_require__(7);\n\n      var Utils_1 = __webpack_require__(28);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var DateRange_1 = __webpack_require__(10);\n\n      var Size_1 = __webpack_require__(15);\n\n      var Point_1 = __webpack_require__(3);\n\n      var GridElementInfo_1 = __webpack_require__(29);\n\n      var GridLayoutCalculator_1 = __webpack_require__(16);\n\n      var EtalonSizeValues_1 = __webpack_require__(55);\n\n      var TaskEditController_1 = __webpack_require__(30);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var ModelManipulator_1 = __webpack_require__(56);\n\n      var History_1 = __webpack_require__(61);\n\n      var EventManager_1 = __webpack_require__(62);\n\n      var TaskAreaContainer_1 = __webpack_require__(72);\n\n      var Settings_1 = __webpack_require__(73);\n\n      var ModelChangesDispatcher_1 = __webpack_require__(74);\n\n      var CommandManager_1 = __webpack_require__(76);\n\n      var BarManager_1 = __webpack_require__(86);\n\n      var Browser_1 = __webpack_require__(12);\n\n      var GanttView = function () {\n        function GanttView(element, ganttOwner, settings) {\n          this.timeScaleAreas = new Array();\n          this.horTaskAreaBorders = [];\n          this.vertTaskAreaBorders = [];\n          this.scaleBorders = [];\n          this.scaleElements = [];\n          this.taskElements = [];\n          this.selectionElements = [];\n          this.hlRowElements = [];\n          this.renderedRowIndices = [];\n          this.renderedColIndices = [];\n          this.renderedScaleItemIndices = [];\n          this.dependencyMap = [];\n          this.renderedConnectorLines = [];\n          this.connectorLinesToElementsMap = {};\n          this.noWorkingIntervalsToElementsMap = {};\n          this.renderedNoWorkingIntervals = [];\n          this.gridLayoutCalculator = new GridLayoutCalculator_1.GridLayoutCalculator();\n          this.elementTextHelper = new Utils_1.ElementTextHelper();\n          this.etalonSizeValues = new EtalonSizeValues_1.EtalonSizeValues();\n          this.tickSize = new Size_1.Size();\n          this.scaleCount = 2;\n          this.isFocus = false;\n          this.zoom = 1;\n          this.currentSelectedTaskID = \"\";\n          this.ganttOwner = ganttOwner;\n          this.settings = Settings_1.Settings.parse(settings);\n          this.createMainElement(element);\n          this.createHeader();\n          this.calculateEtalonSizeValues();\n          this.createTaskAreaContainer();\n          this.loadOptionsFromGanttOwner();\n          this.elementTextHelper.setFont(this.mainElement);\n          this.setupHelpers();\n          this.setSizeForTaskArea();\n          this.createTimeScaleContainer();\n          this.createTimeScaleAreas();\n          this.commandManager = new CommandManager_1.CommandManager(this);\n          this.barManager = new BarManager_1.BarManager(this, ganttOwner.bars);\n          this.eventManager = new EventManager_1.EventManager(this);\n          this.taskEditController = new TaskEditController_1.TaskEditController(this);\n          this.history = new History_1.History();\n          this.taskAreaManager = new TaskAreaManager_1.TaskAreaManager(this);\n          this.updateView();\n        }\n\n        GanttView.prototype.reset = function () {\n          this.timeScaleContainer.innerHTML = \"\";\n          this.taskArea.innerHTML = \"\";\n          this.horTaskAreaBorders = [];\n          this.vertTaskAreaBorders = [];\n          this.scaleBorders = [];\n          this.scaleElements = [];\n          this.taskElements = [];\n          this.selectionElements = [];\n          this.hlRowElements = [];\n          this.renderedRowIndices = [];\n          this.renderedColIndices = [];\n          this.renderedConnectorLines = [];\n          this.timeScaleAreas = [];\n          this.renderedScaleItemIndices = [];\n          this.connectorLinesToElementsMap = {};\n          this.renderedNoWorkingIntervals = [];\n          this.noWorkingIntervalsToElementsMap = {};\n        };\n\n        GanttView.prototype.setupHelpers = function () {\n          var size = new Size_1.Size(this.taskAreaContainer.getWidth(), this.taskAreaContainer.getHeight());\n          var scrollBarHeight = this.taskAreaContainer.getHeight() - this.taskAreaContainer.getElement().clientHeight;\n          this.gridLayoutCalculator.setSettings(size, this.tickSize, this.etalonSizeValues, this.range, this.viewModel, this.settings.viewType, scrollBarHeight);\n          this.elementTextHelper.setSettings(this.range.start.getTime(), this.settings.viewType, this.viewModel.items);\n        };\n\n        GanttView.prototype.getDateRange = function (modelStartDate, modelEndDate) {\n          var adjustedStartDate = Utils_1.DateUtils.adjustStartEndDateByViewType(modelStartDate, true, this.settings.viewType);\n          var adjustedEndDate = this.adjustEndDateByVisibleAreaWidth(adjustedStartDate, modelEndDate);\n          adjustedEndDate = Utils_1.DateUtils.adjustStartEndDateByViewType(adjustedEndDate, false, this.settings.viewType);\n          return new DateRange_1.DateRange(adjustedStartDate, adjustedEndDate);\n        };\n\n        GanttView.prototype.adjustEndDateByVisibleAreaWidth = function (adjustedStartDate, modelEndDate) {\n          var result = new Date();\n          var endTime = Math.max(modelEndDate.getTime(), this.getVisibleAreaEndDate(adjustedStartDate).getTime());\n          result.setTime(endTime);\n          return result;\n        };\n\n        GanttView.prototype.getVisibleAreaEndDate = function (visibleAreaStartDate) {\n          var result = new Date();\n          var visibleTickCount = Math.ceil(this.taskAreaContainer.getWidth() / this.tickSize.width);\n\n          if (this.settings.viewType == Enums_1.ViewType.Months) {\n            result.setTime(visibleAreaStartDate.getTime());\n            result.setMonth(result.getMonth() + visibleTickCount);\n          } else result.setTime(visibleAreaStartDate.getTime() + visibleTickCount * Utils_1.DateUtils.getTickTimeSpan(this.settings.viewType));\n\n          return result;\n        };\n\n        GanttView.prototype.calculateEtalonSizeValues = function () {\n          var etalonElementsContainer = this.createEtalonElementsContainer();\n          var etalonElements = this.createEtalonElements(etalonElementsContainer);\n          this.calculateEtalonSizeValuesCore(etalonElements);\n          this.mainElement.removeChild(etalonElementsContainer);\n        };\n\n        GanttView.prototype.calculateEtalonSizeValuesCore = function (etalonElements) {\n          this.etalonSizeValues.taskHeight = etalonElements[0].firstChild.offsetHeight;\n          this.etalonSizeValues.milestoneWidth = etalonElements[1].firstChild.offsetWidth;\n          this.etalonSizeValues.taskWrapperTopPadding = DomUtils_1.DomUtils.getTopPaddings(etalonElements[0]);\n          this.etalonSizeValues.connectorLineThickness = DomUtils_1.DomUtils.getVerticalBordersWidth(etalonElements[2]);\n          this.etalonSizeValues.connectorArrowWidth = DomUtils_1.DomUtils.getHorizontalBordersWidth(etalonElements[3]);\n\n          for (var i = 0; i <= Enums_1.ViewType.Years; i++) {\n            etalonElements[4].innerText = this.elementTextHelper.getScaleItemTextTemplate(i);\n            this.etalonSizeValues.scaleItemWidths[i] = etalonElements[4].offsetWidth;\n          }\n\n          this.etalonSizeValues.smallTaskWidth = DomUtils_1.DomUtils.getLeftPadding(etalonElements[0].firstChild.firstChild) * 2;\n          this.etalonSizeValues.outsideTaskTextDefaultWidth = DomUtils_1.DomUtils.pxToFloat(DomUtils_1.DomUtils.getCurrentStyle(etalonElements[5]).width);\n          this.etalonSizeValues.scaleItemHeight = this.ganttOwner.getHeaderHeight() / this.scaleCount;\n        };\n\n        GanttView.prototype.createEtalonElementsContainer = function () {\n          var result = document.createElement(\"DIV\");\n          result.style.visibility = \"hidden\";\n          result.style.position = \"absolute\";\n          result.style.left = \"-1000px\";\n          this.mainElement.appendChild(result);\n          return result;\n        };\n\n        GanttView.prototype.createEtalonElements = function (parent) {\n          var etalonElements = [];\n          var wrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\n          var task = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task\"), null, wrapper);\n          var taskTitle = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskTitle dx-gantt-titleIn\"), null, task);\n          taskTitle.innerText = \"WWW\";\n          etalonElements.push(wrapper);\n          var milestoneWrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\n          this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task dx-gantt-milestone\"), null, milestoneWrapper);\n          etalonElements.push(milestoneWrapper);\n          var etalonElementClassNames = [\"dx-gantt-conn-h\", \"dx-gantt-arrow\", \"dx-gantt-si\", \"dx-gantt-taskTitle dx-gantt-titleOut\"];\n\n          for (var i = 0; i < etalonElementClassNames.length; i++) {\n            var etalonElementInfo = new GridElementInfo_1.GridElementInfo(etalonElementClassNames[i]);\n            etalonElements.push(this.createElement(etalonElementInfo, null, parent));\n          }\n\n          return etalonElements;\n        };\n\n        GanttView.prototype.zoomIn = function () {\n          if (this.zoom == 1) {\n            this.zoom++;\n            this.updateTickSizeWidth();\n            this.resetAndUpdate();\n          } else if (this.settings.viewType > Enums_1.ViewType.TenMinutes) {\n            this.zoom--;\n            this.setViewType(this.settings.viewType - 1);\n          }\n        };\n\n        GanttView.prototype.zoomOut = function () {\n          if (this.zoom > 1) {\n            this.zoom--;\n            this.updateTickSizeWidth();\n            this.resetAndUpdate();\n          } else if (this.settings.viewType < Enums_1.ViewType.Years) {\n            this.zoom++;\n            this.setViewType(this.settings.viewType + 1);\n          }\n        };\n\n        GanttView.prototype.onVisualModelChanged = function () {\n          this.resetAndUpdate();\n        };\n\n        GanttView.prototype.getGanttViewStartDate = function (tasks) {\n          if (!tasks) return new Date();\n          var dates = tasks.map(function (t) {\n            return typeof t.start == \"string\" ? new Date(t.start) : t.start;\n          });\n          return dates.length > 0 ? dates.reduce(function (min, d) {\n            return d < min ? d : min;\n          }, dates[0]) : new Date();\n        };\n\n        GanttView.prototype.getGanttViewEndDate = function (tasks) {\n          if (!tasks) return new Date();\n          var dates = tasks.map(function (t) {\n            return typeof t.end == \"string\" ? new Date(t.end) : t.end;\n          });\n          return dates.length > 0 ? dates.reduce(function (max, d) {\n            return d > max ? d : max;\n          }, dates[0]) : new Date();\n        };\n\n        GanttView.prototype.getTaskAreaWidth = function () {\n          return this.gridLayoutCalculator.horizontalTickCount * this.tickSize.width;\n        };\n\n        GanttView.prototype.getTaskAreaHeight = function () {\n          return this.gridLayoutCalculator.getVerticalGridLineHeight();\n        };\n\n        GanttView.prototype.getVisibleTaskCount = function () {\n          return this.viewModel.itemCount;\n        };\n\n        GanttView.prototype.getTask = function (index) {\n          var item = this.viewModel.items[index];\n          return item.task;\n        };\n\n        GanttView.prototype.createMainElement = function (parent) {\n          this.mainElement = document.createElement(\"DIV\");\n          this.mainElement.style.width = parent.offsetWidth + \"px\";\n          this.mainElement.style.height = parent.offsetHeight + \"px\";\n          parent.appendChild(this.mainElement);\n        };\n\n        GanttView.prototype.createHeader = function () {\n          this.header = document.createElement(\"DIV\");\n          this.header.className = \"dx-gantt-header\";\n          this.mainElement.appendChild(this.header);\n        };\n\n        GanttView.prototype.createTimeScaleContainer = function () {\n          this.timeScaleContainer = document.createElement(\"DIV\");\n          this.timeScaleContainer.className = \"dx-gantt-tsac\";\n          this.timeScaleContainer.style.height = this.etalonSizeValues.scaleItemHeight * this.scaleCount + \"px\";\n          this.header.appendChild(this.timeScaleContainer);\n        };\n\n        GanttView.prototype.createTimeScaleArea = function () {\n          var timeScaleArea = document.createElement(\"DIV\");\n          timeScaleArea.className = \"dx-gantt-tsa\";\n          timeScaleArea.style.width = this.getTaskAreaWidth() + \"px\";\n          timeScaleArea.style.height = this.etalonSizeValues.scaleItemHeight + \"px\";\n          this.timeScaleContainer.appendChild(timeScaleArea);\n          this.timeScaleAreas.unshift(timeScaleArea);\n          return timeScaleArea;\n        };\n\n        GanttView.prototype.createTimeScaleAreas = function () {\n          for (var i = 0; i < this.scaleCount; i++) {\n            var timeScaleArea = this.createTimeScaleArea();\n            if (i == 0 && this.settings.viewType == Enums_1.ViewType.Weeks) this.createMonthsScale(timeScaleArea);\n          }\n        };\n\n        GanttView.prototype.createTaskAreaContainer = function () {\n          var element = document.createElement(\"DIV\");\n          element.className = \"dx-gantt-tac\";\n          this.mainElement.appendChild(element);\n          this.createTaskArea(element);\n          this.taskAreaContainer = this.ganttOwner.getExternalTaskAreaContainer(element);\n          if (this.taskAreaContainer == null) this.taskAreaContainer = new TaskAreaContainer_1.TaskAreaContainer(element, this);\n          this.prepareTaskAreaContainer();\n        };\n\n        GanttView.prototype.prepareTaskAreaContainer = function () {\n          var className = \"dx-gantt-tac-hb\";\n          var element = this.taskAreaContainer.getElement();\n          this.settings.areHorizontalBordersEnabled ? DomUtils_1.DomUtils.addClassNameToElement(element, className) : DomUtils_1.DomUtils.removeClassNameFromElement(element, className);\n          var marginTop = parseInt(getComputedStyle(element).getPropertyValue(\"margin-top\")) || 0;\n          element.style.height = \"calc(100% - \" + (this.etalonSizeValues.scaleItemHeight * this.scaleCount + marginTop) + \"px)\";\n        };\n\n        GanttView.prototype.createTaskArea = function (parent) {\n          this.taskArea = document.createElement(\"DIV\");\n          this.taskArea.id = \"dx-gantt-ta\";\n          parent.appendChild(this.taskArea);\n        };\n\n        GanttView.prototype.setSizeForTaskArea = function () {\n          this.taskArea.style.width = this.getTaskAreaWidth() + \"px\";\n          this.taskArea.style.height = this.getTaskAreaHeight() + \"px\";\n        };\n\n        GanttView.prototype.updateTickSizeWidth = function () {\n          this.tickSize.width = this.etalonSizeValues.scaleItemWidths[this.settings.viewType] * this.zoom;\n        };\n\n        GanttView.prototype.createMonthsScale = function (parent) {\n          var currentDate = new Date();\n          currentDate.setTime(this.range.start.getTime());\n          var x = 0;\n          var index = 0;\n\n          while (currentDate.getTime() < this.range.end.getTime()) {\n            var dayInMonthCount = Utils_1.DateUtils.getDaysInMonth(currentDate.getMonth(), currentDate.getFullYear());\n            var dayCount = dayInMonthCount - currentDate.getDate() + 1;\n            var nextDate = new Date();\n            nextDate.setTime(currentDate.getTime() + Math.min(dayCount * Utils_1.DateUtils.msPerDay, this.range.end.getTime() - currentDate.getTime()));\n            var width = this.gridLayoutCalculator.getWidthByDateRange(currentDate, nextDate);\n            var scaleItemInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-si\", new Point_1.Point(x), new Size_1.Size(width, this.etalonSizeValues.scaleItemHeight));\n            var scaleItemElement = this.createElement(scaleItemInfo, null, parent);\n            scaleItemElement.innerText = this.elementTextHelper.getScaleItemText(index, Enums_1.ViewType.Months);\n            scaleItemElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\n            var scaleBorderInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-vb\", new Point_1.Point(x + width), new Size_1.Size(0, this.etalonSizeValues.scaleItemHeight));\n            this.createElement(scaleBorderInfo, null, parent);\n            x += width;\n            index++;\n            currentDate = nextDate;\n          }\n        };\n\n        GanttView.prototype.updateView = function () {\n          this.timeScaleContainer.scrollLeft = this.taskAreaContainer.scrollLeft;\n          this.processScroll(false);\n          this.processScroll(true);\n          this.ganttOwner.onGanttScroll(this.taskAreaContainer.scrollTop);\n        };\n\n        GanttView.prototype.processScroll = function (isVertical) {\n          this.recreateTaskAreaBordersAndTaskElements(isVertical);\n          if (isVertical) this.recreateConnectorLineElements();else {\n            this.recreateNoWorkingIntervalElements();\n            this.recreateScalesElements();\n          }\n        };\n\n        GanttView.prototype.recreateTaskAreaBordersAndTaskElements = function (isVertical) {\n          var _this = this;\n\n          var scrollPos = isVertical ? this.taskAreaContainer.scrollTop : this.taskAreaContainer.scrollLeft;\n          var newRenderedIndices = this.gridLayoutCalculator.getRenderedRowColumnIndices(scrollPos, isVertical);\n          var renderedIndices = isVertical ? this.renderedRowIndices : this.renderedColIndices;\n          this.recreateElements(renderedIndices, newRenderedIndices, function (index) {\n            _this.removeTaskAreaBorderAndTaskElement(index, isVertical);\n          }, function (index) {\n            _this.createTaskAreaBorderAndTaskElement(index, isVertical);\n          });\n          if (isVertical) this.renderedRowIndices = newRenderedIndices;else this.renderedColIndices = newRenderedIndices;\n        };\n\n        GanttView.prototype.recreateNoWorkingIntervalElements = function () {\n          var _this = this;\n\n          var newRenderedNoWorkingIntervals = this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainer.scrollLeft);\n          this.recreateElements(this.renderedNoWorkingIntervals, newRenderedNoWorkingIntervals, function (info) {\n            _this.removeNoWorkingIntervalElement(info);\n          }, function (info) {\n            _this.createNoWorkingIntervalElement(info);\n          });\n          this.renderedNoWorkingIntervals = newRenderedNoWorkingIntervals;\n        };\n\n        GanttView.prototype.recreateConnectorLineElements = function () {\n          var _this = this;\n\n          var newRenderedConnectorLines = this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainer.scrollTop);\n          this.recreateElements(this.renderedConnectorLines, newRenderedConnectorLines, function (info) {\n            _this.removeConnectorLineElement(info);\n          }, function (info) {\n            _this.createConnectorLineElement(info);\n          });\n          this.renderedConnectorLines = newRenderedConnectorLines;\n        };\n\n        GanttView.prototype.recreateScalesElements = function () {\n          this.recreateScaleElements(this.settings.viewType, 0);\n          if (this.settings.viewType != Enums_1.ViewType.Weeks) this.recreateScaleElements(Utils_1.DateUtils.ViewTypeToScaleMap[this.settings.viewType], 1);\n        };\n\n        GanttView.prototype.recreateScaleElements = function (scaleType, scaleIndex) {\n          var _this = this;\n\n          var newRenderedIndices = this.gridLayoutCalculator.getRenderedScaleItemIndices(scaleType, this.renderedColIndices);\n          var renderedIndices = this.renderedScaleItemIndices[scaleType - this.settings.viewType] || [];\n          this.recreateElements(renderedIndices, newRenderedIndices, function (index) {\n            _this.removeScaleElementAndBorder(index, scaleIndex);\n          }, function (index) {\n            _this.createScaleElementAndBorder(index, scaleIndex, scaleType);\n          });\n          this.renderedScaleItemIndices[scaleType - this.settings.viewType] = newRenderedIndices;\n        };\n\n        GanttView.prototype.recreateElements = function (oldRenderedElementsInfo, newRenderedelementsInfo, removeAction, createAction) {\n          oldRenderedElementsInfo.filter(function (info) {\n            return newRenderedelementsInfo.indexOf(info) === -1;\n          }).forEach(function (info) {\n            removeAction(info);\n          });\n          newRenderedelementsInfo.filter(function (info) {\n            return oldRenderedElementsInfo.indexOf(info) === -1;\n          }).forEach(function (info) {\n            createAction(info);\n          });\n        };\n\n        GanttView.prototype.allowTaskAreaBorders = function (isVerticalScroll) {\n          return isVerticalScroll ? this.settings.areHorizontalBordersEnabled : this.settings.areVerticalBordersEnabled;\n        };\n\n        GanttView.prototype.createTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\n          if (this.allowTaskAreaBorders(isVerticalScroll)) this.createTaskAreaBorder(index, !isVerticalScroll);\n          if (isVerticalScroll) this.createTaskElement(index);\n        };\n\n        GanttView.prototype.removeTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\n          if (this.allowTaskAreaBorders(isVerticalScroll)) this.removeTaskAreaBorder(index, !isVerticalScroll);\n          if (isVerticalScroll) this.removeTaskElement(index);\n        };\n\n        GanttView.prototype.getTaskAreaBordersDictionary = function (isVertical) {\n          return isVertical ? this.vertTaskAreaBorders : this.horTaskAreaBorders;\n        };\n\n        GanttView.prototype.createTaskAreaBorder = function (index, isVertical) {\n          var info = this.gridLayoutCalculator.getTaskAreaBorderInfo(index, isVertical);\n          this.createElement(info, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\n        };\n\n        GanttView.prototype.removeTaskAreaBorder = function (index, isVertical) {\n          this.removeElement(null, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\n        };\n\n        GanttView.prototype.createScaleElementAndBorder = function (index, scaleIndex, scaleType) {\n          this.createScaleElement(index, scaleIndex, scaleType);\n          this.createScaleBorder(index, scaleIndex, scaleType);\n        };\n\n        GanttView.prototype.createScaleElement = function (index, scaleIndex, scaleType) {\n          var info = this.gridLayoutCalculator.getScaleElementInfo(index, scaleType);\n          var scaleElement = this.createScaleElementCore(index, info, scaleIndex, this.scaleElements);\n          scaleElement.innerText = this.elementTextHelper.getScaleItemText(index, scaleType);\n          scaleElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\n        };\n\n        GanttView.prototype.createScaleBorder = function (index, scaleIndex, scaleType) {\n          var info = this.gridLayoutCalculator.getScaleBorderInfo(index, scaleType);\n          this.createScaleElementCore(index, info, scaleIndex, this.scaleBorders);\n        };\n\n        GanttView.prototype.createScaleElementCore = function (index, info, scaleIndex, dictionary) {\n          if (!dictionary[scaleIndex]) dictionary[scaleIndex] = [];\n          return this.createElement(info, index, this.timeScaleAreas[scaleIndex], dictionary[scaleIndex]);\n        };\n\n        GanttView.prototype.removeScaleElementAndBorder = function (index, scaleIndex) {\n          this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleElements[scaleIndex]);\n          this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleBorders[scaleIndex]);\n        };\n\n        GanttView.prototype.createTaskElement = function (index) {\n          this.createTaskWrapperElement(index);\n          if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Outside) this.createTaskTextElement(index, this.taskElements[index]);\n          var taskVisualElement = this.createTaskVisualElement(index);\n\n          if (!this.viewModel.items[index].task.isMilestone()) {\n            if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside) this.createTaskTextElement(index, taskVisualElement);\n            this.createTaskProgressElement(index, taskVisualElement);\n          }\n\n          if (this.settings.showResources) this.createResources(index);\n          if (this.viewModel.items[index].selected) this.createTaskSelectionElement(index);\n          if (this.isHighlightRowElementAllowed(index)) this.createHighlightRowElement(index);\n        };\n\n        GanttView.prototype.isHighlightRowElementAllowed = function (index) {\n          return index % 2 !== 0 && this.settings.areAlternateRowsEnabled || this.viewModel.items[index].children.length > 0;\n        };\n\n        GanttView.prototype.createResources = function (index) {\n          var resources = this.viewModel.items[index].resources.items;\n\n          for (var i = 0; i < resources.length; i++) {\n            this.createResourceElement(index, resources[i]);\n          }\n        };\n\n        GanttView.prototype.createTaskWrapperElement = function (index) {\n          var taskWrapperInfo = this.gridLayoutCalculator.getTaskWrapperElementInfo(index);\n          this.createElement(taskWrapperInfo, index, this.taskArea, this.taskElements);\n          this.taskElements[index].style.display = this.elementTextHelper.getTaskVisibility(index) ? \"\" : \"none\";\n        };\n\n        GanttView.prototype.createTaskVisualElement = function (index) {\n          var taskElementInfo = this.gridLayoutCalculator.getTaskElementInfo(index);\n          var taskElement = this.createElement(taskElementInfo, index, this.taskElements[index]);\n          taskElement.addEventListener(\"mouseenter\", function (evt) {\n            this.taskAreaManager.onTaskElementHover(evt);\n          }.bind(this));\n          return taskElement;\n        };\n\n        GanttView.prototype.createTaskProgressElement = function (index, parent) {\n          var taskProgressInfo = this.gridLayoutCalculator.getTaskProgressElementInfo(index);\n          this.createElement(taskProgressInfo, index, parent);\n        };\n\n        GanttView.prototype.createTaskTextElement = function (index, parent) {\n          var taskTextInfo = this.gridLayoutCalculator.getTaskTextElementInfo(index, this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside);\n          var taskTextElement = this.createElement(taskTextInfo, index, parent);\n          taskTextElement.innerText = this.elementTextHelper.getTaskText(index);\n        };\n\n        GanttView.prototype.createResourceElement = function (index, resource) {\n          var resourceElementInfo = this.gridLayoutCalculator.getTaskResourceElementInfo();\n          var resElement = this.createElement(resourceElementInfo, index, this.taskElements[index]);\n          resElement.innerText = resource.text;\n        };\n\n        GanttView.prototype.createTaskSelectionElement = function (index) {\n          var selectionInfo = this.gridLayoutCalculator.getSelectionElementInfo(index);\n          if (this.taskAreaContainer.isExternal && !this.settings.areHorizontalBordersEnabled) selectionInfo.size.height++;\n          this.createElement(selectionInfo, index, this.taskArea, this.selectionElements);\n        };\n\n        GanttView.prototype.createHighlightRowElement = function (index) {\n          var hlRowInfo = this.gridLayoutCalculator.getHighlightRowInfo(index);\n          this.createElement(hlRowInfo, index, this.taskArea, this.hlRowElements);\n        };\n\n        GanttView.prototype.removeTaskElement = function (index) {\n          this.removeElement(null, index, this.taskArea, this.taskElements);\n          this.removeElement(null, index, this.taskArea, this.selectionElements);\n          if (this.isHighlightRowElementAllowed(index)) this.removeElement(null, index, this.taskArea, this.hlRowElements);\n        };\n\n        GanttView.prototype.createConnectorLineElement = function (info) {\n          if (this.taskEditController.isDependencySelected(info.attr[\"dependency-id\"])) info.className = info.className + \" active\";\n          return this.createElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\n        };\n\n        GanttView.prototype.removeConnectorLineElement = function (info) {\n          this.removeElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\n        };\n\n        GanttView.prototype.createNoWorkingIntervalElement = function (info) {\n          return this.createElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\n        };\n\n        GanttView.prototype.removeNoWorkingIntervalElement = function (info) {\n          this.removeElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\n        };\n\n        GanttView.prototype.createElement = function (info, index, parent, dictionary) {\n          var element = document.createElement(\"DIV\");\n          info.assignToElement(element);\n          parent.appendChild(element);\n\n          if (dictionary) {\n            if (dictionary instanceof Array && index !== null) dictionary[index] = element;else dictionary[info.id] = element;\n          }\n\n          for (var key in info.attr) {\n            if (info.attr.hasOwnProperty(key)) {\n              element.setAttribute(key, info.attr[key]);\n            }\n          }\n\n          return element;\n        };\n\n        GanttView.prototype.removeElement = function (info, index, parent, dictionary) {\n          var element;\n\n          if (dictionary instanceof Array && index !== null) {\n            element = dictionary[index];\n            delete dictionary[index];\n          } else {\n            element = dictionary[info.id];\n            delete dictionary[info.id];\n          }\n\n          if (element) parent.removeChild(element);\n        };\n\n        GanttView.prototype.calculateAutoViewType = function (startDate, endDate) {\n          var diffInHours = (endDate.getTime() - startDate.getTime()) / (1000 * 3600);\n          if (diffInHours > 24 * 365) return Enums_1.ViewType.Years;\n          if (diffInHours > 24 * 30) return Enums_1.ViewType.Months;\n          if (diffInHours > 24 * 7) return Enums_1.ViewType.Weeks;\n          if (diffInHours > 24) return Enums_1.ViewType.Days;\n          if (diffInHours > 6) return Enums_1.ViewType.SixHours;\n          if (diffInHours > 1) return Enums_1.ViewType.Hours;\n          return Enums_1.ViewType.TenMinutes;\n        };\n\n        GanttView.prototype.changeTaskExpanded = function (publicId, expanded) {\n          var task = this.getTaskByPublicId(publicId);\n          if (task) this.viewModel.changeTaskExpanded(task.internalId, expanded);\n        };\n\n        GanttView.prototype.expandTask = function (id) {\n          this.viewModel.changeTaskExpanded(id, true);\n        };\n\n        GanttView.prototype.collapseTask = function (id) {\n          this.viewModel.changeTaskExpanded(id, false);\n        };\n\n        GanttView.prototype.showTask = function (id) {\n          this.viewModel.changeTaskVisibility(id, true);\n        };\n\n        GanttView.prototype.hideTask = function (id) {\n          this.viewModel.changeTaskVisibility(id, false);\n        };\n\n        GanttView.prototype.getTaskVisibility = function (id) {\n          return this.viewModel.getTaskVisibility(id);\n        };\n\n        GanttView.prototype.unselectCurrentSelectedTask = function () {\n          this.unselectTask(this.currentSelectedTaskID);\n        };\n\n        GanttView.prototype.getTaskSelected = function (id) {\n          return this.viewModel.getTaskSelected(id);\n        };\n\n        GanttView.prototype.setViewType = function (viewType) {\n          if (viewType == undefined) {\n            viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\n          }\n\n          if (this.settings.viewType !== viewType) {\n            this.settings.viewType = viewType;\n            this.updateTickSizeWidth();\n            this.resetAndUpdate();\n          }\n        };\n\n        GanttView.prototype.setTaskTitlePosition = function (taskTitlePosition) {\n          if (this.settings.taskTitlePosition !== taskTitlePosition) {\n            this.settings.taskTitlePosition = taskTitlePosition;\n            this.resetAndUpdate();\n          }\n        };\n\n        GanttView.prototype.setShowResources = function (showResources) {\n          if (this.settings.showResources !== showResources) {\n            this.settings.showResources = showResources;\n            this.resetAndUpdate();\n          }\n        };\n\n        GanttView.prototype.loadOptionsFromGanttOwner = function () {\n          this.tickSize.height = this.ganttOwner.getRowHeight();\n          var tasksData = this.ganttOwner.getGanttTasksData();\n          this.dataRange = new DateRange_1.DateRange(this.getGanttViewStartDate(tasksData), this.getGanttViewEndDate(tasksData));\n          if (this.settings.viewType == undefined) this.settings.viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\n          this.updateTickSizeWidth();\n          this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\n          this.viewModel = new VisualModel_1.ViewVisualModel(this, tasksData, this.ganttOwner.getGanttDependenciesData(), this.ganttOwner.getGanttResourcesData(), this.ganttOwner.getGanttResourceAssignmentsData(), this.dataRange, this.ganttOwner.getGanttWorkTimeRules());\n          var dispatcher = new ModelChangesDispatcher_1.ModelChangesDispatcher();\n          var modelChangesListener = this.ganttOwner.getModelChangesListener();\n          if (modelChangesListener) dispatcher.onModelChanged.add(modelChangesListener);\n          this.modelManipulator = new ModelManipulator_1.ModelManipulator(this.viewModel, dispatcher);\n        };\n\n        GanttView.prototype.resetAndUpdate = function () {\n          this.reset();\n          this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\n          this.setupHelpers();\n          this.createTimeScaleAreas();\n          this.setSizeForTaskArea();\n          if (Browser_1.Browser.IE) this.taskEditController.createElements();\n          this.updateView();\n        };\n\n        GanttView.prototype.selectTask = function (id) {\n          this.viewModel.changeTaskSelected(id, true);\n          this.currentSelectedTaskID = id;\n        };\n\n        GanttView.prototype.unselectTask = function (id) {\n          this.viewModel.changeTaskSelected(id, false);\n        };\n\n        GanttView.prototype.selectTaskById = function (publicId) {\n          this.unselectCurrentSelectedTask();\n          var task = this.getTaskByPublicId(publicId);\n          if (task) this.selectTask(task.internalId);\n        };\n\n        GanttView.prototype.getTaskAreaContainer = function () {\n          return this.taskAreaContainer;\n        };\n\n        GanttView.prototype.setWidth = function (value) {\n          this.mainElement.style.width = value + \"px\";\n        };\n\n        GanttView.prototype.setAllowSelection = function (value) {\n          this.settings.allowSelectTask = value;\n        };\n\n        GanttView.prototype.setEditingSettings = function (value) {\n          this.settings.editing = value;\n        };\n\n        GanttView.prototype.setRowLinesVisible = function (value) {\n          this.settings.areHorizontalBordersEnabled = value;\n          this.prepareTaskAreaContainer();\n          this.resetAndUpdate();\n        };\n\n        GanttView.prototype.setTaskTitle = function (taskId, newValue) {\n          var task = this.getTaskByPublicId(taskId);\n          if (task) this.commandManager.changeTaskTitleCommand.execute(task.internalId, newValue);\n        };\n\n        GanttView.prototype.setTaskProgress = function (taskId, newValue) {\n          var task = this.getTaskByPublicId(taskId);\n          if (task) this.commandManager.changeTaskProgressCommand.execute(task.internalId, newValue);\n        };\n\n        GanttView.prototype.setTaskStart = function (taskId, newValue) {\n          var task = this.getTaskByPublicId(taskId);\n          if (task) this.commandManager.changeTaskStartCommand.execute(task.internalId, newValue);\n        };\n\n        GanttView.prototype.setTaskEnd = function (taskId, newValue) {\n          var task = this.getTaskByPublicId(taskId);\n          if (task) this.commandManager.changeTaskEndCommand.execute(task.internalId, newValue);\n        };\n\n        GanttView.prototype.removeTask = function (taskId) {\n          var task = this.getTaskByPublicId(taskId);\n          if (task) this.commandManager.removeTaskCommand.execute(task.internalId);\n        };\n\n        GanttView.prototype.createTask = function (parentId) {\n          var parent = this.getTaskByPublicId(parentId);\n          var id = parent ? parent.internalId : null;\n          this.commandManager.createTaskCommand.execute(null, null, \"\", id);\n        };\n\n        GanttView.prototype.getTaskByPublicId = function (id) {\n          return this.viewModel.tasks.getItemByPublicId(id);\n        };\n\n        GanttView.prototype.getPrevTask = function (taskId) {\n          var item = this.viewModel.findItem(taskId);\n          var index = item.parent.children.indexOf(item) - 1;\n          return index > -1 ? item.parent.children[index].task : item.parent.task;\n        };\n\n        GanttView.prototype.updateCreatedTaskIdAfterServerUpdate = function (internalId, id) {\n          var item = this.viewModel.findItem(internalId);\n          var task = item && item.task;\n          if (task) task.id = id;\n        };\n\n        GanttView.prototype.getTaskIdByInternalId = function (internalId) {\n          var item = this.viewModel.findItem(internalId);\n          var task = item && item.task;\n          return task ? task.id : null;\n        };\n\n        GanttView.prototype.isTaskHasChildren = function (taskId) {\n          var item = this.viewModel.findItem(taskId);\n          return item && item.children.length > 0;\n        };\n\n        return GanttView;\n      }();\n\n      exports.GanttView = GanttView;\n      /***/\n    },\n    /* 35 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ResourceCollection_1 = __webpack_require__(13);\n\n      var TaskCollection_1 = __webpack_require__(37);\n\n      var DependencyCollection_1 = __webpack_require__(39);\n\n      var ResourceAssignmentCollection_1 = __webpack_require__(40);\n\n      var ViewVisualModelItem_1 = __webpack_require__(42);\n\n      var ViewVisualModelDependencyInfo_1 = __webpack_require__(43);\n\n      var WorkingTimeCalculator_1 = __webpack_require__(44);\n\n      var ViewVisualModel = function () {\n        function ViewVisualModel(owner, tasks, dependencies, resources, assignments, dateRange, workTimeRules) {\n          this._fLockCount = 0;\n          this.owner = owner;\n          this.tasks = new TaskCollection_1.TaskCollection();\n          this.tasks.importFromObject(tasks);\n          this.dependencies = new DependencyCollection_1.DependencyCollection();\n          this.dependencies.importFromObject(dependencies);\n          this.resources = new ResourceCollection_1.ResourceCollection();\n          this.resources.importFromObject(resources);\n          this.assignments = new ResourceAssignmentCollection_1.ResourceAssignmentCollection();\n          this.assignments.importFromObject(assignments);\n          this._itemList = new Array();\n          this._viewItemList = new Array();\n          this._workTimeCalculator = new WorkingTimeCalculator_1.WorkingTimeCalculator(dateRange, workTimeRules);\n          this.updateModel();\n        }\n\n        ViewVisualModel.prototype.updateModel = function () {\n          this._itemList.splice(0, this._itemList.length);\n\n          var tasks = this.tasks.items;\n\n          for (var i = 0; i < tasks.length; i++) {\n            var task = tasks[i];\n            if (task) this._itemList.push(new ViewVisualModelItem_1.ViewVisualModelItem(task, this.getAssignedResources(task)));\n          }\n\n          this.createHierarchy();\n          this.populateItemsForView();\n          if (this.owner && this.owner.currentSelectedTaskID) this.changeTaskSelected(this.owner.currentSelectedTaskID, true);\n        };\n\n        ViewVisualModel.prototype.createHierarchy = function () {\n          this.root = new ViewVisualModelItem_1.ViewVisualModelItem(null, null);\n          var list = this._itemList;\n\n          var _loop_1 = function _loop_1() {\n            var item = list[i];\n            var parentId = item.task.parentId;\n            var parentItem = list.filter(function (value) {\n              return value.task && value.task.internalId === parentId || value.task.internalId.toString() === parentId;\n            })[0] || this_1.root;\n            item.parent = parentItem;\n            parentItem.addChild(item);\n          };\n\n          var this_1 = this;\n\n          for (var i = 0; i < list.length; i++) {\n            _loop_1();\n          }\n        };\n\n        ViewVisualModel.prototype.populateItemsForView = function () {\n          this._viewItemList.splice(0, this._viewItemList.length);\n\n          this.populateVisibleItems(this.root);\n          this.updateVisibleItemDependencies();\n        };\n\n        ViewVisualModel.prototype.populateVisibleItems = function (item) {\n          var _this = this;\n\n          var isRoot = item === this.root;\n          if (!item || !item.task && !isRoot) return;\n\n          if (!isRoot) {\n            this._viewItemList.push(item);\n\n            item.visibleIndex = this._viewItemList.length - 1;\n          }\n\n          if (item.getExpanded() || item === this.root) item.children.forEach(function (n) {\n            return _this.populateVisibleItems(n);\n          });\n        };\n\n        ViewVisualModel.prototype.updateVisibleItemDependencies = function () {\n          var list = this._viewItemList;\n\n          for (var i = 0; i < list.length; i++) {\n            var item = list[i];\n            var visibleDependencies = this.getTasVisibleDependencies(item.task);\n            item.setDependencies(visibleDependencies);\n          }\n        };\n\n        ViewVisualModel.prototype.getAssignedResources = function (task) {\n          var _this = this;\n\n          var res = new ResourceCollection_1.ResourceCollection();\n          var assignments = this.assignments.items.filter(function (value) {\n            return value.taskId == task.internalId;\n          });\n          assignments.forEach(function (assignment) {\n            res.add(_this.resources.getItemById(assignment.resourceId));\n          });\n          return res;\n        };\n\n        ViewVisualModel.prototype.getTasVisibleDependencies = function (task) {\n          var res = new Array();\n          var id = task.internalId;\n          var dependencies = this.dependencies.items.filter(function (value) {\n            return value.successorId == id;\n          });\n\n          for (var i = 0; i < dependencies.length; i++) {\n            var dependency = dependencies[i];\n            var item = this.findItem(dependency.predecessorId);\n            if (item && item.getVisible()) res.push(new ViewVisualModelDependencyInfo_1.ViewVisualModelDependencyInfo(dependency.internalId, item, dependency.type));\n          }\n\n          return res;\n        };\n\n        ViewVisualModel.prototype.changeTaskExpanded = function (id, expanded) {\n          var task = this.tasks.getItemById(String(id));\n\n          if (task) {\n            task.expanded = expanded;\n            this.changed();\n          }\n        };\n\n        ViewVisualModel.prototype.changeTaskVisibility = function (id, visible) {\n          var item = this.findItem(id);\n\n          if (item) {\n            item.visible = visible;\n            this.changed();\n          }\n        };\n\n        ViewVisualModel.prototype.changeTaskSelected = function (id, selected) {\n          var item = this._itemList.filter(function (value) {\n            return value.task && value.task.internalId === id;\n          })[0];\n\n          if (item) {\n            item.selected = selected;\n            this.changed();\n          }\n        };\n\n        ViewVisualModel.prototype.beginUpdate = function () {\n          this._fLockCount++;\n        };\n\n        ViewVisualModel.prototype.endUpdate = function () {\n          this._fLockCount--;\n          if (this._fLockCount == 0) this.changed();\n        };\n\n        ViewVisualModel.prototype.changed = function () {\n          if (this._fLockCount !== 0) return;\n          this.populateItemsForView();\n          if (this.owner && this.owner.onVisualModelChanged) this.owner.onVisualModelChanged();\n        };\n\n        ViewVisualModel.prototype.findItem = function (taskId) {\n          return this._viewItemList.filter(function (value) {\n            return value.task && value.task.internalId === taskId;\n          })[0];\n        };\n\n        Object.defineProperty(ViewVisualModel.prototype, \"items\", {\n          get: function get() {\n            return this._viewItemList.slice();\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(ViewVisualModel.prototype, \"itemCount\", {\n          get: function get() {\n            return this.items.length;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        ViewVisualModel.prototype.getTaskVisibility = function (id) {\n          var item = this.findItem(id);\n          return !!item && item.getVisible();\n        };\n\n        ViewVisualModel.prototype.getTaskSelected = function (id) {\n          var item = this.findItem(id);\n          return !!item && item.selected;\n        };\n\n        Object.defineProperty(ViewVisualModel.prototype, \"noWorkingIntervals\", {\n          get: function get() {\n            return this._workTimeCalculator.noWorkingIntervals;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n\n        ViewVisualModel.prototype.updateRange = function (range) {\n          this._workTimeCalculator.updateRange(range);\n        };\n\n        ;\n        return ViewVisualModel;\n      }();\n\n      exports.ViewVisualModel = ViewVisualModel;\n      /***/\n    },\n    /* 36 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics13 = function extendStatics(d, b) {\n          _extendStatics13 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics13(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics13(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var Resource = function (_super) {\n        __extends(Resource, _super);\n\n        function Resource() {\n          var _this = _super.call(this) || this;\n\n          _this.text = \"\";\n          return _this;\n        }\n\n        Resource.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.text = sourceObj.text;\n          }\n        };\n\n        return Resource;\n      }(DataObject_1.DataObject);\n\n      exports.Resource = Resource;\n      /***/\n    },\n    /* 37 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics14 = function extendStatics(d, b) {\n          _extendStatics14 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics14(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics14(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Task_1 = __webpack_require__(38);\n\n      var CollectionBase_1 = __webpack_require__(6);\n\n      var TaskCollection = function (_super) {\n        __extends(TaskCollection, _super);\n\n        function TaskCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskCollection.prototype.createItem = function () {\n          return new Task_1.Task();\n        };\n\n        return TaskCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.TaskCollection = TaskCollection;\n      /***/\n    },\n    /* 38 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics15 = function extendStatics(d, b) {\n          _extendStatics15 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics15(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics15(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var TaskType;\n\n      (function (TaskType) {\n        TaskType[TaskType[\"Regular\"] = 0] = \"Regular\";\n        TaskType[TaskType[\"Summary\"] = 1] = \"Summary\";\n        TaskType[TaskType[\"Milestone\"] = 2] = \"Milestone\";\n      })(TaskType || (TaskType = {}));\n\n      var Task = function (_super) {\n        __extends(Task, _super);\n\n        function Task() {\n          var _this = _super.call(this) || this;\n\n          _this.start = null;\n          _this.end = null;\n          _this.duration = null;\n          _this.description = \"\";\n          _this.parentId = \"\";\n          _this.title = \"\";\n          _this.owner = null;\n          _this.progress = 0;\n          _this.taskType = null;\n          _this.customFields = {};\n          _this.expanded = true;\n          return _this;\n        }\n\n        Task.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.owner = sourceObj.owner;\n            this.parentId = sourceObj.parentId != null ? String(sourceObj.parentId) : null;\n            this.description = sourceObj.description;\n            this.title = sourceObj.title;\n            this.start = sourceObj.start;\n            this.end = sourceObj.end;\n            this.start = typeof sourceObj.start == \"string\" ? new Date(sourceObj.start) : sourceObj.start;\n            this.end = typeof sourceObj.end == \"string\" ? new Date(sourceObj.end) : sourceObj.end;\n            this.duration = sourceObj.duration;\n            this.progress = sourceObj.progress;\n            this.taskType = sourceObj.taskType;\n            if (Utils_1.JsonUtils.isExists(sourceObj.expanded)) this.expanded = !!sourceObj.expanded;\n            this.assignCustomFields(sourceObj.customFields);\n          }\n        };\n\n        Task.prototype.assignCustomFields = function (sourceObj) {\n          if (!sourceObj) return;\n\n          for (var property in sourceObj) {\n            if (!sourceObj.hasOwnProperty(property)) continue;\n            this.customFields[property] = sourceObj[property];\n          }\n        };\n\n        Task.prototype.isMilestone = function () {\n          return this.start.getTime() == this.end.getTime();\n        };\n\n        return Task;\n      }(DataObject_1.DataObject);\n\n      exports.Task = Task;\n      /***/\n    },\n    /* 39 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics16 = function extendStatics(d, b) {\n          _extendStatics16 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics16(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics16(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CollectionBase_1 = __webpack_require__(6);\n\n      var Dependency_1 = __webpack_require__(14);\n\n      var DependencyCollection = function (_super) {\n        __extends(DependencyCollection, _super);\n\n        function DependencyCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DependencyCollection.prototype.createItem = function () {\n          return new Dependency_1.Dependency();\n        };\n\n        return DependencyCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.DependencyCollection = DependencyCollection;\n      /***/\n    },\n    /* 40 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics17 = function extendStatics(d, b) {\n          _extendStatics17 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics17(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics17(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CollectionBase_1 = __webpack_require__(6);\n\n      var ResourceAssignment_1 = __webpack_require__(41);\n\n      var ResourceAssignmentCollection = function (_super) {\n        __extends(ResourceAssignmentCollection, _super);\n\n        function ResourceAssignmentCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceAssignmentCollection.prototype.createItem = function () {\n          return new ResourceAssignment_1.ResourceAssignment();\n        };\n\n        return ResourceAssignmentCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.ResourceAssignmentCollection = ResourceAssignmentCollection;\n      /***/\n    },\n    /* 41 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics18 = function extendStatics(d, b) {\n          _extendStatics18 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics18(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics18(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var ResourceAssignment = function (_super) {\n        __extends(ResourceAssignment, _super);\n\n        function ResourceAssignment() {\n          var _this = _super.call(this) || this;\n\n          _this.taskId = \"\";\n          _this.resourceId = \"\";\n          return _this;\n        }\n\n        ResourceAssignment.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.taskId = String(sourceObj.taskId);\n            this.resourceId = String(sourceObj.resourceId);\n          }\n        };\n\n        return ResourceAssignment;\n      }(DataObject_1.DataObject);\n\n      exports.ResourceAssignment = ResourceAssignment;\n      /***/\n    },\n    /* 42 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var ViewVisualModelItem = function () {\n        function ViewVisualModelItem(task, resources) {\n          this.dependencies = new Array();\n          this.parent = null;\n          this.visible = true;\n          this.selected = false;\n          this.visibleIndex = -1;\n          this.task = task;\n          this.resources = resources;\n          this.children = new Array();\n        }\n\n        Object.defineProperty(ViewVisualModelItem.prototype, \"resourceText\", {\n          get: function get() {\n            var text = \"\";\n            this.resources.items.forEach(function (r) {\n              return text += r.text + \" \";\n            });\n            return text;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        ViewVisualModelItem.prototype.addChild = function (child) {\n          if (Utils_1.JsonUtils.isExists(child) && this.children.indexOf(child) < 0) this.children.push(child);\n        };\n\n        ViewVisualModelItem.prototype.removeChild = function (child) {\n          var index = this.children.indexOf(child);\n          if (index > -1) this.children.splice(index, 1);\n        };\n\n        ViewVisualModelItem.prototype.getExpanded = function () {\n          return !!this.task && this.task.expanded;\n        };\n\n        ViewVisualModelItem.prototype.getVisible = function () {\n          if (!this.visible) return false;\n          var parentItem = this.parent;\n\n          while (parentItem) {\n            if (!parentItem.visible) return false;\n            parentItem = parentItem.parent;\n          }\n\n          return true;\n        };\n\n        ViewVisualModelItem.prototype.changeVisibility = function (visible) {\n          this.visible = visible;\n        };\n\n        ViewVisualModelItem.prototype.changeSelection = function (selected) {\n          this.selected = selected;\n        };\n\n        ViewVisualModelItem.prototype.setDependencies = function (dependencies) {\n          if (dependencies) this.dependencies = dependencies.slice();\n        };\n\n        return ViewVisualModelItem;\n      }();\n\n      exports.ViewVisualModelItem = ViewVisualModelItem;\n      /***/\n    },\n    /* 43 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ViewVisualModelDependencyInfo = function () {\n        function ViewVisualModelDependencyInfo(id, predecessor, type) {\n          this.id = id;\n          this.predecessor = predecessor;\n          this.type = type;\n        }\n\n        return ViewVisualModelDependencyInfo;\n      }();\n\n      exports.ViewVisualModelDependencyInfo = ViewVisualModelDependencyInfo;\n      /***/\n    },\n    /* 44 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var GanttWorkingDayRuleCollection_1 = __webpack_require__(45);\n\n      var DayWorkingTimeInfo_1 = __webpack_require__(53);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var WorkingTimeCalculator = function () {\n        function WorkingTimeCalculator(range, rules) {\n          this._workingRules = new GanttWorkingDayRuleCollection_1.WorkingDayRuleCollection();\n          this._workDayList = new Array();\n          this._calculationRange = range;\n\n          this._workingRules.importFromObject(rules);\n        }\n\n        WorkingTimeCalculator.prototype.calculateWorkDayList = function () {\n          if (!this._calculationRange) return;\n          this.clearList();\n          var rules = this._workingRules.items;\n\n          for (var i = 0; i < rules.length; i++) {\n            this.processRule(rules[i]);\n          }\n\n          this.sortList();\n        };\n\n        WorkingTimeCalculator.prototype.processRule = function (rule) {\n          var points = rule.recurrence.calculatePoints(this._calculationRange.start, this._calculationRange.end);\n\n          var _loop_1 = function _loop_1(i) {\n            var point = points[i];\n            var dayNum = DateTimeUtils_1.DateTimeUtils.getDayNumber(point);\n\n            var dayInfo = this_1._workDayList.filter(function (i) {\n              return i.dayNumber == dayNum;\n            })[0];\n\n            if (dayInfo) {\n              dayInfo.isWorkDay = dayInfo.isWorkDay && rule.isWorkDay;\n              dayInfo.addWorkingIntervals(rule.workTimeRanges);\n            } else this_1._workDayList.push(new DayWorkingTimeInfo_1.DayWorkingTimeInfo(dayNum, rule.isWorkDay, rule.workTimeRanges));\n          };\n\n          var this_1 = this;\n\n          for (var i = 0; i < points.length; i++) {\n            _loop_1(i);\n          }\n        };\n\n        WorkingTimeCalculator.prototype.sortList = function () {\n          this._workDayList.sort(function (d1, d2) {\n            return d1.dayNumber - d2.dayNumber;\n          });\n        };\n\n        WorkingTimeCalculator.prototype.clearList = function () {\n          this._workDayList.splice(0, this._workDayList.length);\n        };\n\n        WorkingTimeCalculator.prototype.calculateNoWorkTimeIntervals = function () {\n          var _this = this;\n\n          var res = new Array();\n          if (this._workDayList.length == 0) this.calculateWorkDayList();\n\n          this._workDayList.forEach(function (d) {\n            return res = res.concat(_this.getNoWorkTimeRangesFromDay(d));\n          });\n\n          return this.concatJointedRanges(res);\n        };\n\n        WorkingTimeCalculator.prototype.concatJointedRanges = function (list) {\n          var res = new Array();\n\n          for (var i = 0; i < list.length; i++) {\n            var interval = list[i];\n            var needExpandPrevInterval = res.length > 0 && DateTimeUtils_1.DateTimeUtils.compareDates(res[res.length - 1].end, interval.start) < 2;\n            if (needExpandPrevInterval) res[res.length - 1].end = interval.end;else res.push(interval);\n          }\n\n          return res;\n        };\n\n        WorkingTimeCalculator.prototype.getNoWorkTimeRangesFromDay = function (day) {\n          return day.noWorkingIntervals.map(function (i) {\n            return DateTimeUtils_1.DateTimeUtils.convertTimeRangeToDateRange(i, day.dayNumber);\n          });\n        };\n\n        Object.defineProperty(WorkingTimeCalculator.prototype, \"noWorkingIntervals\", {\n          get: function get() {\n            if (!this._noWorkingIntervals) this._noWorkingIntervals = this.calculateNoWorkTimeIntervals();\n            return this._noWorkingIntervals.slice();\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        WorkingTimeCalculator.prototype.updateRange = function (range) {\n          this._calculationRange = range;\n          this.invalidate();\n        };\n\n        WorkingTimeCalculator.prototype.invalidate = function () {\n          this._noWorkingIntervals = null;\n          this.clearList();\n        };\n\n        return WorkingTimeCalculator;\n      }();\n\n      exports.WorkingTimeCalculator = WorkingTimeCalculator;\n      /***/\n    },\n    /* 45 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics19 = function extendStatics(d, b) {\n          _extendStatics19 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics19(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics19(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CollectionBase_1 = __webpack_require__(6);\n\n      var WorkingTimeRule_1 = __webpack_require__(46);\n\n      var WorkingDayRuleCollection = function (_super) {\n        __extends(WorkingDayRuleCollection, _super);\n\n        function WorkingDayRuleCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        WorkingDayRuleCollection.prototype.createItem = function () {\n          return new WorkingTimeRule_1.WorkingTimeRule();\n        };\n\n        return WorkingDayRuleCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.WorkingDayRuleCollection = WorkingDayRuleCollection;\n      /***/\n    },\n    /* 46 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics20 = function extendStatics(d, b) {\n          _extendStatics20 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics20(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics20(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var RecurrenceFactory_1 = __webpack_require__(26);\n\n      var Daily_1 = __webpack_require__(27);\n\n      var WorkingTimeRule = function (_super) {\n        __extends(WorkingTimeRule, _super);\n\n        function WorkingTimeRule(recurrence, isWorkDay, workTimeRanges) {\n          if (recurrence === void 0) {\n            recurrence = null;\n          }\n\n          if (isWorkDay === void 0) {\n            isWorkDay = true;\n          }\n\n          if (workTimeRanges === void 0) {\n            workTimeRanges = null;\n          }\n\n          var _this = _super.call(this) || this;\n\n          _this.isWorkDay = true;\n          _this.workTimeRanges = new Array();\n          _this.recurrence = recurrence;\n          _this.isWorkDay = isWorkDay;\n          if (workTimeRanges) _this.workTimeRanges.concat(workTimeRanges);\n          return _this;\n        }\n\n        WorkingTimeRule.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.recurrence = RecurrenceFactory_1.RecurrenceFactory.createRecurrenceByType(sourceObj.recurrenceType) || new Daily_1.Daily();\n            if (Utils_1.JsonUtils.isExists(sourceObj.recurrence)) this.recurrence.assignFromObject(sourceObj.recurrence);\n            if (Utils_1.JsonUtils.isExists(sourceObj.isWorkDay)) this.isWorkDay = !!sourceObj.isWorkDay;\n            var ranges = DateTimeUtils_1.DateTimeUtils.convertToTimeRanges(sourceObj.workTimeRanges);\n            if (ranges) this.workTimeRanges = ranges;\n          }\n        };\n\n        return WorkingTimeRule;\n      }(DataObject_1.DataObject);\n\n      exports.WorkingTimeRule = WorkingTimeRule;\n      /***/\n    },\n    /* 47 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var DayOfWeek;\n\n      (function (DayOfWeek) {\n        DayOfWeek[DayOfWeek[\"Sunday\"] = 0] = \"Sunday\";\n        DayOfWeek[DayOfWeek[\"Monday\"] = 1] = \"Monday\";\n        DayOfWeek[DayOfWeek[\"Tuesday\"] = 2] = \"Tuesday\";\n        DayOfWeek[DayOfWeek[\"Wednesday\"] = 3] = \"Wednesday\";\n        DayOfWeek[DayOfWeek[\"Thursday\"] = 4] = \"Thursday\";\n        DayOfWeek[DayOfWeek[\"Friday\"] = 5] = \"Friday\";\n        DayOfWeek[DayOfWeek[\"Saturday\"] = 6] = \"Saturday\";\n      })(DayOfWeek = exports.DayOfWeek || (exports.DayOfWeek = {}));\n      /***/\n\n    },\n    /* 48 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var Month;\n\n      (function (Month) {\n        Month[Month[\"January\"] = 0] = \"January\";\n        Month[Month[\"February\"] = 1] = \"February\";\n        Month[Month[\"March\"] = 2] = \"March\";\n        Month[Month[\"April\"] = 3] = \"April\";\n        Month[Month[\"May\"] = 4] = \"May\";\n        Month[Month[\"June\"] = 5] = \"June\";\n        Month[Month[\"July\"] = 6] = \"July\";\n        Month[Month[\"August\"] = 7] = \"August\";\n        Month[Month[\"September\"] = 8] = \"September\";\n        Month[Month[\"October\"] = 9] = \"October\";\n        Month[Month[\"November\"] = 10] = \"November\";\n        Month[Month[\"December\"] = 11] = \"December\";\n      })(Month = exports.Month || (exports.Month = {}));\n      /***/\n\n    },\n    /* 49 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics21 = function extendStatics(d, b) {\n          _extendStatics21 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics21(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics21(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var RecurrenceBase_1 = __webpack_require__(11);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Weekly = function (_super) {\n        __extends(Weekly, _super);\n\n        function Weekly() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Weekly.prototype.checkDate = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal, date);\n        };\n\n        Weekly.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date) % this.interval == 0;\n        };\n\n        Weekly.prototype.calculatePointByInterval = function (date) {\n          var weeksFromStart = DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date);\n          var intervalCount = Math.floor(weeksFromStart / this.interval);\n          var remainder = weeksFromStart % this.interval;\n          var isPointOnNewWeek = remainder > 0 || date.getDay() >= this.dayOfWeekInternal;\n          if (isPointOnNewWeek) intervalCount++;\n          var weeksToAdd = intervalCount * this.interval;\n          return this.calcNextPointWithWeekCount(this.start, weeksToAdd);\n        };\n\n        Weekly.prototype.calculateNearestPoint = function (date) {\n          var diff = this.dayOfWeekInternal - date.getDay();\n          if (diff > 0) return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), diff);\n          return this.calcNextPointWithWeekCount(date, 1);\n        };\n\n        Weekly.prototype.calcNextPointWithWeekCount = function (date, weekCount) {\n          if (weekCount === void 0) {\n            weekCount = 1;\n          }\n\n          var daysToAdd = weekCount * 7 + this.dayOfWeekInternal - date.getDay();\n          return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), daysToAdd);\n        };\n\n        Object.defineProperty(Weekly.prototype, \"dayOfWeek\", {\n          get: function get() {\n            return this.dayOfWeekInternal;\n          },\n          set: function set(value) {\n            this.dayOfWeekInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        return Weekly;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Weekly = Weekly;\n      /***/\n    },\n    /* 50 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics22 = function extendStatics(d, b) {\n          _extendStatics22 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics22(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics22(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var RecurrenceBase_1 = __webpack_require__(11);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var MonthInfo_1 = __webpack_require__(51);\n\n      var Monthly = function (_super) {\n        __extends(Monthly, _super);\n\n        function Monthly() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Monthly.prototype.checkDate = function (date) {\n          if (this._calculateByDayOfWeek) return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\n          return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\n        };\n\n        Monthly.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getMonthsDifference(this.start, date) % this.interval == 0;\n        };\n\n        Monthly.prototype.calculatePointByInterval = function (date) {\n          var start = this.start;\n          var monthFromStart = DateTimeUtils_1.DateTimeUtils.getMonthsDifference(start, date);\n          var monthToAdd = Math.floor(monthFromStart / this.interval) * this.interval;\n          var info = new MonthInfo_1.MonthInfo(start.getMonth(), start.getFullYear());\n          info.addMonths(monthToAdd);\n          var point = this.getSpecDayInMonth(info.year, info.month);\n\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\n            info.addMonths(this.interval);\n            point = this.getSpecDayInMonth(info.year, info.month);\n          }\n\n          return point;\n        };\n\n        Monthly.prototype.calculateNearestPoint = function (date) {\n          var month = date.getMonth();\n          var year = date.getFullYear();\n          var point = this.getSpecDayInMonth(year, month);\n\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\n            var info = new MonthInfo_1.MonthInfo(month, year);\n            info.addMonths(1);\n            point = this.getSpecDayInMonth(info.year, info.month);\n          }\n\n          return point;\n        };\n\n        Object.defineProperty(Monthly.prototype, \"day\", {\n          get: function get() {\n            return this.dayInternal;\n          },\n          set: function set(value) {\n            this.dayInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Monthly.prototype, \"dayOfWeek\", {\n          get: function get() {\n            return this.dayOfWeekInternal;\n          },\n          set: function set(value) {\n            this.dayOfWeekInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Monthly.prototype, \"dayOfWeekOccurrence\", {\n          get: function get() {\n            return this.dayOfWeekOccurrenceInternal;\n          },\n          set: function set(value) {\n            this.dayOfWeekOccurrenceInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Monthly.prototype, \"calculateByDayOfWeek\", {\n          get: function get() {\n            return this._calculateByDayOfWeek;\n          },\n          set: function set(value) {\n            this._calculateByDayOfWeek = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        return Monthly;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Monthly = Monthly;\n      /***/\n    },\n    /* 51 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var MonthInfo = function () {\n        function MonthInfo(month, year) {\n          this.month = month;\n          this.year = year;\n        }\n\n        MonthInfo.prototype.addMonths = function (months) {\n          var nextMonth = DateTimeUtils_1.DateTimeUtils.getNextMonth(this.month, months);\n          var yearInc = Math.floor(months / 12);\n          if (nextMonth < this.month) ++yearInc;\n          this.month = nextMonth;\n          this.year += yearInc;\n        };\n\n        return MonthInfo;\n      }();\n\n      exports.MonthInfo = MonthInfo;\n      /***/\n    },\n    /* 52 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics23 = function extendStatics(d, b) {\n          _extendStatics23 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics23(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics23(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var RecurrenceBase_1 = __webpack_require__(11);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Yearly = function (_super) {\n        __extends(Yearly, _super);\n\n        function Yearly() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Yearly.prototype.checkDate = function (date) {\n          if (!DateTimeUtils_1.DateTimeUtils.checkMonth(this.month, date)) return false;\n          if (this._calculateByDayOfWeek) return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\n          return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\n        };\n\n        Yearly.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date) % this.interval == 0;\n        };\n\n        Yearly.prototype.calculatePointByInterval = function (date) {\n          var yearFromStart = DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date);\n          var yearInc = Math.floor(yearFromStart / this.interval) * this.interval;\n          var newYear = this.start.getFullYear() + yearInc;\n          var point = this.getSpecDayInMonth(newYear, this.monthInternal);\n\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\n            newYear += this.interval;\n            point = this.getSpecDayInMonth(newYear, this.monthInternal);\n          }\n\n          return point;\n        };\n\n        Yearly.prototype.calculateNearestPoint = function (date) {\n          var year = date.getFullYear();\n          var point = this.getSpecDayInMonth(year, this.monthInternal);\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) point = this.getSpecDayInMonth(++year, this.monthInternal);\n          return point;\n        };\n\n        Object.defineProperty(Yearly.prototype, \"month\", {\n          get: function get() {\n            return this.monthInternal;\n          },\n          set: function set(value) {\n            this.monthInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Yearly.prototype, \"day\", {\n          get: function get() {\n            return this.dayInternal;\n          },\n          set: function set(value) {\n            this.dayInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Yearly.prototype, \"dayOfWeek\", {\n          get: function get() {\n            return this.dayOfWeekInternal;\n          },\n          set: function set(value) {\n            this.dayOfWeekInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Yearly.prototype, \"dayOfWeekOccurrence\", {\n          get: function get() {\n            return this.dayOfWeekOccurrenceInternal;\n          },\n          set: function set(value) {\n            this.dayOfWeekOccurrenceInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Yearly.prototype, \"calculateByDayOfWeek\", {\n          get: function get() {\n            return this._calculateByDayOfWeek;\n          },\n          set: function set(value) {\n            this._calculateByDayOfWeek = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        return Yearly;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Yearly = Yearly;\n      /***/\n    },\n    /* 53 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TimeRange_1 = __webpack_require__(24);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Time_1 = __webpack_require__(23);\n\n      var DayWorkingTimeInfo = function () {\n        function DayWorkingTimeInfo(dayNumber, isWorkDay, intervals) {\n          if (dayNumber === void 0) {\n            dayNumber = 0;\n          }\n\n          if (isWorkDay === void 0) {\n            isWorkDay = true;\n          }\n\n          if (intervals === void 0) {\n            intervals = null;\n          }\n\n          this._workingIntervals = new Array();\n          this.dayNumber = dayNumber;\n          this.isWorkDay = isWorkDay;\n          this.addWorkingIntervals(intervals);\n        }\n\n        DayWorkingTimeInfo.prototype.addWorkingIntervals = function (intervals) {\n          if (!intervals) return;\n          this._workingIntervals = this._workingIntervals.concat(intervals.filter(function (r) {\n            return !!r;\n          }));\n          this.rearrangeWorkingIntervals();\n        };\n\n        DayWorkingTimeInfo.prototype.rearrangeWorkingIntervals = function () {\n          for (var i = 0; i < this._workingIntervals.length; i++) {\n            this.concatWithIntersectedRanges(this._workingIntervals[i]);\n          }\n\n          this.sortIntervals();\n        };\n\n        ;\n\n        DayWorkingTimeInfo.prototype.concatWithIntersectedRanges = function (range) {\n          var _this = this;\n\n          var intersectedRanges = this.getIntersectedIntervals(range);\n          intersectedRanges.forEach(function (r) {\n            range.concatWith(r);\n\n            _this.removeInterval(r);\n          });\n        };\n\n        ;\n\n        DayWorkingTimeInfo.prototype.getIntersectedIntervals = function (range) {\n          return this._workingIntervals.filter(function (r) {\n            return r.hasIntersect(range) && r !== range;\n          });\n        };\n\n        ;\n\n        DayWorkingTimeInfo.prototype.sortIntervals = function () {\n          this._workingIntervals.sort(function (r1, r2) {\n            return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(r2.start, r1.start);\n          });\n        };\n\n        ;\n\n        DayWorkingTimeInfo.prototype.removeInterval = function (element) {\n          var index = this._workingIntervals.indexOf(element);\n\n          if (index > -1 && index < this._workingIntervals.length) this._workingIntervals.splice(index, 1);\n        };\n\n        ;\n\n        DayWorkingTimeInfo.prototype.clearIntervals = function () {\n          this._workingIntervals.splice(0, this._workingIntervals.length);\n        };\n\n        Object.defineProperty(DayWorkingTimeInfo.prototype, \"workingIntervals\", {\n          get: function get() {\n            return this._workingIntervals.slice();\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        Object.defineProperty(DayWorkingTimeInfo.prototype, \"noWorkingIntervals\", {\n          get: function get() {\n            var res = new Array();\n            if (this.isWorkDay && this._workingIntervals.length == 0) return res;\n\n            var starts = this._workingIntervals.map(function (r) {\n              return r.end;\n            });\n\n            starts.splice(0, 0, new Time_1.Time());\n\n            var ends = this._workingIntervals.map(function (r) {\n              return r.start;\n            });\n\n            ends.push(DateTimeUtils_1.DateTimeUtils.getLastTimeOfDay());\n\n            for (var i = 0; i < starts.length; i++) {\n              var start = starts[i];\n              var end = ends[i];\n              if (!DateTimeUtils_1.DateTimeUtils.areTimesEqual(start, end)) res.push(new TimeRange_1.TimeRange(start, end));\n            }\n\n            return res;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        Object.defineProperty(DayWorkingTimeInfo.prototype, \"isWorkDay\", {\n          get: function get() {\n            return this._isWorkDay;\n          },\n          set: function set(value) {\n            this._isWorkDay = value;\n            if (!value) this.clearIntervals();\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        return DayWorkingTimeInfo;\n      }();\n\n      exports.DayWorkingTimeInfo = DayWorkingTimeInfo;\n      /***/\n    },\n    /* 54 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Margins = function () {\n        function Margins() {\n          this.marginLeft = null;\n          this.marginTop = null;\n          this.marginRight = null;\n          this.marginBottom = null;\n        }\n\n        return Margins;\n      }();\n\n      exports.Margins = Margins;\n      /***/\n    },\n    /* 55 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EtalonSizeValues = function () {\n        function EtalonSizeValues() {\n          this.scaleItemWidths = {};\n        }\n\n        return EtalonSizeValues;\n      }();\n\n      exports.EtalonSizeValues = EtalonSizeValues;\n      /***/\n    },\n    /* 56 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DependencyManipulator_1 = __webpack_require__(57);\n\n      var ResourcesManipulator_1 = __webpack_require__(59);\n\n      var TaskManipulator_1 = __webpack_require__(60);\n\n      var ModelManipulator = function () {\n        function ModelManipulator(viewModel, dispatcher) {\n          this.task = new TaskManipulator_1.TaskManipulator(viewModel, dispatcher);\n          this.dependency = new DependencyManipulator_1.TaskDependencyManipulator(viewModel, dispatcher);\n          this.resource = new ResourcesManipulator_1.ResourcesManipulator(viewModel, dispatcher);\n        }\n\n        return ModelManipulator;\n      }();\n\n      exports.ModelManipulator = ModelManipulator;\n      /***/\n    },\n    /* 57 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics24 = function extendStatics(d, b) {\n          _extendStatics24 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics24(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics24(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskPropertiesManipulator_1 = __webpack_require__(17);\n\n      var TaskDependencyManipulator = function (_super) {\n        __extends(TaskDependencyManipulator, _super);\n\n        function TaskDependencyManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDependencyManipulator.prototype.insertDependency = function (predecessorId, successorId, type, id) {\n          var dependency = this.viewModel.dependencies.createItem();\n          dependency.predecessorId = predecessorId;\n          dependency.successorId = successorId;\n          dependency.type = type;\n          if (id) dependency.internalId = id;\n          this.viewModel.dependencies.add(dependency);\n          this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(dependency), function (id) {\n            return dependency.id = id;\n          });\n          this.viewModel.updateVisibleItemDependencies();\n          this.viewModel.owner.resetAndUpdate();\n          return dependency;\n        };\n\n        TaskDependencyManipulator.prototype.removeDependency = function (dependencyId) {\n          var dependency = this.viewModel.dependencies.getItemById(dependencyId);\n          this.viewModel.dependencies.remove(dependency);\n          this.dispatcher.notifyDependencyRemoved(dependency.id);\n          this.viewModel.updateVisibleItemDependencies();\n          this.viewModel.owner.resetAndUpdate();\n          return dependency;\n        };\n\n        TaskDependencyManipulator.prototype.getObjectForDataSource = function (dependency) {\n          return {\n            id: dependency.id,\n            predecessorId: this.viewModel.tasks.getItemById(dependency.predecessorId).id,\n            successorId: this.viewModel.tasks.getItemById(dependency.successorId).id,\n            type: dependency.type\n          };\n        };\n\n        return TaskDependencyManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.TaskDependencyManipulator = TaskDependencyManipulator;\n      /***/\n    },\n    /* 58 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItemState = function () {\n        function HistoryItemState(taskId, value) {\n          this.taskId = taskId;\n          this.value = value;\n        }\n\n        return HistoryItemState;\n      }();\n\n      exports.HistoryItemState = HistoryItemState;\n      /***/\n    },\n    /* 59 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics25 = function extendStatics(d, b) {\n          _extendStatics25 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics25(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics25(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskPropertiesManipulator_1 = __webpack_require__(17);\n\n      var ResourcesManipulator = function (_super) {\n        __extends(ResourcesManipulator, _super);\n\n        function ResourcesManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourcesManipulator.prototype.create = function (text, id) {\n          var resource = this.viewModel.resources.createItem();\n          resource.text = text;\n          if (id) resource.internalId = id;\n          this.viewModel.resources.add(resource);\n          this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(resource), function (id) {\n            return resource.id = id;\n          });\n          return resource;\n        };\n\n        ResourcesManipulator.prototype.remove = function (resourceId) {\n          var resource = this.viewModel.resources.getItemById(resourceId);\n          if (!resource) throw new Error(\"Invalid resource id\");\n          var assignments = this.viewModel.assignments.items.filter(function (a) {\n            return a.resourceId == resourceId;\n          });\n          if (assignments.length) throw new Error(\"Can't delete assigned resource\");\n          this.viewModel.resources.remove(resource);\n          this.dispatcher.notifyResourceRemoved(resource.id);\n          return resource;\n        };\n\n        ResourcesManipulator.prototype.assign = function (resourceID, taskId, id) {\n          var assignment = this.viewModel.assignments.createItem();\n          assignment.resourceId = resourceID;\n          assignment.taskId = taskId;\n          if (id) assignment.internalId = id;\n          this.viewModel.assignments.add(assignment);\n          this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(assignment), function (id) {\n            return assignment.id = id;\n          });\n          this.viewModel.updateModel();\n          this.viewModel.owner.resetAndUpdate();\n          return assignment;\n        };\n\n        ResourcesManipulator.prototype.deassig = function (assignmentId) {\n          var assignment = this.viewModel.assignments.getItemById(assignmentId);\n          this.viewModel.assignments.remove(assignment);\n          this.dispatcher.notifyResourceUnassigned(assignment);\n          this.viewModel.updateModel();\n          this.viewModel.owner.resetAndUpdate();\n          return assignment;\n        };\n\n        ResourcesManipulator.prototype.getResourceObjectForDataSource = function (resource) {\n          return {\n            id: resource.id,\n            text: resource.text\n          };\n        };\n\n        ResourcesManipulator.prototype.getResourceAssignmentObjectForDataSource = function (resourceAssignment) {\n          return {\n            id: resourceAssignment,\n            taskId: this.viewModel.tasks.getItemById(resourceAssignment.taskId).id,\n            resourceId: this.viewModel.resources.getItemById(resourceAssignment.resourceId).id\n          };\n        };\n\n        return ResourcesManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.ResourcesManipulator = ResourcesManipulator;\n      /***/\n    },\n    /* 60 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics26 = function extendStatics(d, b) {\n          _extendStatics26 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics26(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics26(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskPropertiesManipulator_1 = __webpack_require__(17);\n\n      var TaskManipulator = function (_super) {\n        __extends(TaskManipulator, _super);\n\n        function TaskManipulator(viewModel, dispatcher) {\n          var _this = _super.call(this, viewModel, dispatcher) || this;\n\n          _this.properties = new TaskPropertiesManipulator_1.TaskPropertiesManipulator(viewModel, dispatcher);\n          return _this;\n        }\n\n        TaskManipulator.prototype.create = function (start, end, title, parentId, id) {\n          var task = this.viewModel.tasks.createItem();\n          task.start = start;\n          task.end = end;\n          task.title = title;\n\n          if (parentId) {\n            var parentItem = this.viewModel.tasks.getItemById(parentId);\n            parentItem.expanded = true;\n            task.parentId = parentId;\n          }\n\n          if (id) {\n            task.internalId = id;\n          }\n\n          task.id = task.internalId;\n          this.viewModel.tasks.add(task);\n          this.viewModel.updateModel();\n          this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(task), function (id) {\n            return task.id = id;\n          });\n          this.viewModel.owner.resetAndUpdate();\n          return task;\n        };\n\n        TaskManipulator.prototype.remove = function (taskId) {\n          var task = this.viewModel.tasks.getItemById(taskId);\n          if (!task) throw new Error(\"Invalid task id\");\n          var dependencies = this.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == taskId || d.successorId == taskId;\n          });\n          if (dependencies.length) throw new Error(\"Can't delete task with dependency\");\n          var assignments = this.viewModel.assignments.items.filter(function (a) {\n            return a.taskId == taskId;\n          });\n          if (assignments.length) throw new Error(\"Can't delete task with assigned resource\");\n          this.viewModel.tasks.remove(task);\n          this.dispatcher.notifyTaskRemoved(task.id);\n          this.viewModel.updateModel();\n          this.viewModel.owner.resetAndUpdate();\n          return task;\n        };\n\n        TaskManipulator.prototype.getObjectForDataSource = function (task) {\n          return {\n            id: task.id,\n            start: task.start,\n            end: task.end,\n            duration: task.duration,\n            description: task.description,\n            parentId: task.parentId ? this.viewModel.tasks.getItemById(task.parentId).id : null,\n            progress: task.progress,\n            taskType: task.taskType,\n            title: task.title,\n            customFields: task.customFields,\n            expanded: task.expanded\n          };\n        };\n\n        return TaskManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.TaskManipulator = TaskManipulator;\n      /***/\n    },\n    /* 61 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem_1 = __webpack_require__(9);\n\n      var History = function () {\n        function History() {\n          this.historyItems = [];\n          this.currentIndex = -1;\n          this.transaction = null;\n          this.transactionLevel = -1;\n        }\n\n        History.prototype.undo = function () {\n          if (this.currentIndex < 0) return;\n          this.historyItems[this.currentIndex].undo();\n          this.currentIndex--;\n        };\n\n        History.prototype.redo = function () {\n          if (this.currentIndex >= this.historyItems.length - 1) return;\n          this.currentIndex++;\n          this.historyItems[this.currentIndex].redo();\n        };\n\n        History.prototype.beginTransaction = function () {\n          this.transactionLevel++;\n          if (this.transactionLevel == 0) this.transaction = new HistoryItem_1.CompositionHistoryItem();\n        };\n\n        History.prototype.endTransaction = function () {\n          if (--this.transactionLevel >= 0) return;\n          var transactionLength = this.transaction.historyItems.length;\n          if (transactionLength > 1) this.addInternal(this.transaction);else if (transactionLength == 1) this.addInternal(this.transaction.historyItems.pop());\n          this.transaction = null;\n        };\n\n        History.prototype.addAndRedo = function (historyItem) {\n          this.add(historyItem);\n          historyItem.redo();\n        };\n\n        History.prototype.add = function (historyItem) {\n          if (this.transactionLevel >= 0) this.transaction.add(historyItem);else this.addInternal(historyItem);\n        };\n\n        History.prototype.addInternal = function (historyItem) {\n          if (this.currentIndex < this.historyItems.length - 1) this.historyItems.splice(this.currentIndex + 1);\n          this.historyItems.push(historyItem);\n          this.currentIndex++;\n          this.deleteOldItems();\n        };\n\n        History.prototype.deleteOldItems = function () {\n          var exceedItemsCount = this.historyItems.length - History.MAX_HISTORY_ITEM_COUNT;\n\n          if (exceedItemsCount > 0 && this.currentIndex > exceedItemsCount) {\n            this.historyItems.splice(0, exceedItemsCount);\n            this.currentIndex -= exceedItemsCount;\n          }\n        };\n\n        History.prototype.clear = function () {\n          this.currentIndex = -1;\n          this.historyItems = [];\n        };\n\n        History.MAX_HISTORY_ITEM_COUNT = 100;\n        return History;\n      }();\n\n      exports.History = History;\n      /***/\n    },\n    /* 62 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var MouseHandler_1 = __webpack_require__(63);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var KeyCode_1 = __webpack_require__(71);\n\n      var Browser_1 = __webpack_require__(12);\n\n      var EventManager = function () {\n        function EventManager(control) {\n          this.control = control;\n          this.mouseHandler = new MouseHandler_1.MouseHandler(control);\n        }\n\n        EventManager.prototype.onMouseDown = function (evt) {\n          this.mouseHandler.onMouseDown(evt);\n        };\n\n        EventManager.prototype.onMouseMove = function (evt) {\n          this.mouseHandler.onMouseMove(evt);\n        };\n\n        EventManager.prototype.onMouseUp = function (evt) {\n          this.mouseHandler.onMouseUp(evt);\n        };\n\n        EventManager.prototype.onMouseDblClick = function (evt) {\n          this.mouseHandler.onMouseDoubleClick(evt);\n        };\n\n        EventManager.prototype.onMouseWheel = function (evt) {\n          this.mouseHandler.onMouseWheel(evt);\n        };\n\n        EventManager.prototype.onKeyDown = function (evt) {\n          if (this.control.isFocus) {\n            var code = this.getShortcutCode(evt);\n            if (code == (KeyCode_1.ModifierKey.Ctrl | KeyCode_1.KeyCode.Key_z)) this.control.history.undo();\n            if (code == (KeyCode_1.ModifierKey.Ctrl | KeyCode_1.KeyCode.Key_y)) this.control.history.redo();\n            if (code == KeyCode_1.KeyCode.Delete) this.control.taskEditController.deleteSelectedDependency();\n          }\n        };\n\n        EventManager.prototype.getShortcutCode = function (evt) {\n          var keyCode = DomUtils_1.DomUtils.GetKeyCode(evt);\n          var modifiers = 0;\n          if (evt.altKey) modifiers |= KeyCode_1.ModifierKey.Alt;\n          if (evt.ctrlKey) modifiers |= KeyCode_1.ModifierKey.Ctrl;\n          if (evt.shiftKey) modifiers |= KeyCode_1.ModifierKey.Shift;\n          if (evt.metaKey && Browser_1.Browser.MacOSPlatform) modifiers |= KeyCode_1.ModifierKey.Meta;\n          return modifiers | keyCode;\n        };\n\n        return EventManager;\n      }();\n\n      exports.EventManager = EventManager;\n      /***/\n    },\n    /* 63 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics27 = function extendStatics(d, b) {\n          _extendStatics27 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics27(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics27(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HandlerBase_1 = __webpack_require__(64);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var TaskEditController_1 = __webpack_require__(30);\n\n      var MouseHandlerDefaultState_1 = __webpack_require__(65);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerMoveTaskState_1 = __webpack_require__(67);\n\n      var MouseHandlerProgressTaskState_1 = __webpack_require__(68);\n\n      var MouseHandlerTimestampTaskState_1 = __webpack_require__(69);\n\n      var MouseHandlerDependencyState_1 = __webpack_require__(70);\n\n      var MouseHandler = function (_super) {\n        __extends(MouseHandler, _super);\n\n        function MouseHandler() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandler.prototype.onMouseDoubleClick = function (evt) {\n          this.state.onMouseDoubleClick(evt);\n        };\n\n        MouseHandler.prototype.onMouseDown = function (evt) {\n          var source = this.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\n\n          switch (source) {\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Frame:\n              this.switchState(new MouseHandlerMoveTaskState_1.MouseHandlerMoveTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Progress:\n              this.switchState(new MouseHandlerProgressTaskState_1.MouseHandlerProgressTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Start:\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_End:\n              this.switchState(new MouseHandlerTimestampTaskState_1.MouseHandlerTimestampTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart:\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish:\n              this.switchState(new MouseHandlerDependencyState_1.MouseHandlerDependencyState(this));\n              break;\n          }\n\n          this.state.onMouseDown(evt);\n        };\n\n        MouseHandler.prototype.onMouseUp = function (evt) {\n          this.state.onMouseUp(evt);\n        };\n\n        MouseHandler.prototype.onMouseMove = function (evt) {\n          this.state.onMouseMove(evt);\n        };\n\n        MouseHandler.prototype.onMouseWheel = function (evt) {\n          this.state.onMouseWheel(evt);\n        };\n\n        MouseHandler.prototype.switchToDefaultState = function () {\n          this.state = new MouseHandlerDefaultState_1.MouseHandlerDefaultState(this);\n        };\n\n        MouseHandler.prototype.getMouseEventSource = function (initSource) {\n          var source = initSource.nodeType === Node.ELEMENT_NODE ? initSource : initSource.parentNode;\n          var className = source.className;\n          return TaskEditController_1.TaskEditController.classToSource[className] || TaskAreaManager_1.MouseEventSource.TaskArea;\n        };\n\n        return MouseHandler;\n      }(HandlerBase_1.HandlerBase);\n\n      exports.MouseHandler = MouseHandler;\n      /***/\n    },\n    /* 64 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HandlerBase = function () {\n        function HandlerBase(control) {\n          this.control = control;\n          this.switchToDefaultState();\n        }\n\n        HandlerBase.prototype.switchState = function (state) {\n          if (this.state) this.state.finish();\n          this.state = state;\n          this.state.start();\n        };\n\n        HandlerBase.prototype.switchToDefaultState = function () {\n          throw new Error(\"Not implemented\");\n        };\n\n        return HandlerBase;\n      }();\n\n      exports.HandlerBase = HandlerBase;\n      /***/\n    },\n    /* 65 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics28 = function extendStatics(d, b) {\n          _extendStatics28 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics28(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics28(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerStateBase_1 = __webpack_require__(18);\n\n      var Point_1 = __webpack_require__(3);\n\n      var GridLayoutCalculator_1 = __webpack_require__(16);\n\n      var MouseHandlerDefaultState = function (_super) {\n        __extends(MouseHandlerDefaultState, _super);\n\n        function MouseHandlerDefaultState(handler) {\n          var _this = _super.call(this, handler) || this;\n\n          _this.ganttMovingHelper = new GanttMovingHelper(_this.handler.control);\n          return _this;\n        }\n\n        MouseHandlerDefaultState.prototype.onMouseDown = function (evt) {\n          evt.preventDefault();\n          var source = DomUtils_1.DomUtils.getEventSource(evt);\n\n          if (source.className == GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL || source.className == GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL) {\n            var id = source.getAttribute(\"dependency-id\");\n            this.handler.control.taskEditController.selectDependency(id);\n            this.handler.control.resetAndUpdate();\n          } else {\n            if (DomUtils_1.DomUtils.IsLeftButtonPressed(evt)) this.ganttMovingHelper.startMoving(evt);\n\n            if (this.handler.control.taskEditController.dependencyId != null) {\n              this.handler.control.taskEditController.selectDependency(null);\n              this.handler.control.resetAndUpdate();\n            }\n          }\n        };\n\n        MouseHandlerDefaultState.prototype.onMouseUp = function (evt) {\n          this.ganttMovingHelper.onMouseUp(evt);\n        };\n\n        MouseHandlerDefaultState.prototype.onMouseMove = function (evt) {\n          if (this.ganttMovingHelper.movingInfo) {\n            this.ganttMovingHelper.onMouseMove(evt);\n            evt.preventDefault();\n          }\n        };\n\n        MouseHandlerDefaultState.prototype.onMouseWheel = function (evt) {\n          if (evt.ctrlKey) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            var increase = DomUtils_1.DomUtils.getWheelDelta(evt) > 0;\n            var absolutePos = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\n            var currentPos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\n            var currentDate = this.handler.control.gridLayoutCalculator.getDateByPos(currentPos.x);\n            if (increase) this.handler.control.zoomIn();else this.handler.control.zoomOut();\n            var scrollLeft = this.handler.control.gridLayoutCalculator.getPosByDate(currentDate);\n            this.handler.control.taskAreaContainer.scrollLeft = scrollLeft - (absolutePos.x - DomUtils_1.DomUtils.getAbsolutePositionX(this.handler.control.taskAreaContainer.getElement()));\n          }\n        };\n\n        return MouseHandlerDefaultState;\n      }(MouseHandlerStateBase_1.MouseHandlerStateBase);\n\n      exports.MouseHandlerDefaultState = MouseHandlerDefaultState;\n\n      var GanttMovingHelper = function () {\n        function GanttMovingHelper(gantt) {\n          this.gantt = gantt;\n          this.movingInfo = null;\n        }\n\n        GanttMovingHelper.prototype.startMoving = function (e) {\n          this.movingInfo = this.calcMovingInfo(e);\n          this.updateGanttAreaCursor(true);\n        };\n\n        GanttMovingHelper.prototype.cancelMoving = function () {\n          this.movingInfo = null;\n        };\n\n        GanttMovingHelper.prototype.onMouseMove = function (e) {\n          this.move(e);\n        };\n\n        GanttMovingHelper.prototype.onMouseUp = function (e) {\n          this.cancelMoving();\n          this.updateGanttAreaCursor(false);\n        };\n\n        GanttMovingHelper.prototype.move = function (e) {\n          this.updateScrollPosition(e);\n        };\n\n        GanttMovingHelper.prototype.updateScrollPosition = function (e) {\n          var newEventX = Math.round(DomUtils_1.DomUtils.getEventX(e));\n          var newEventY = Math.round(DomUtils_1.DomUtils.getEventY(e));\n          var deltaX = newEventX - this.movingInfo.eventX;\n          var deltaY = newEventY - this.movingInfo.eventY;\n          var dirX = deltaX < 0 ? -1 : 1;\n          var dirY = deltaY < 0 ? -1 : 1;\n          var maxDeltaX = dirX < 0 ? this.movingInfo.maxRightDelta : this.movingInfo.maxLeftDelta;\n          var maxDeltaY = dirY < 0 ? this.movingInfo.maxBottomDelta : this.movingInfo.maxTopDelta;\n          if (Math.abs(deltaX) > maxDeltaX) deltaX = maxDeltaX * dirX;\n          if (Math.abs(deltaY) > maxDeltaY) deltaY = maxDeltaY * dirY;\n          var newScrollLeft = this.movingInfo.scrollLeft - deltaX;\n          var newScrollTop = this.movingInfo.scrollTop - deltaY;\n          var taskAreaContainer = this.gantt.taskAreaContainer;\n          if (taskAreaContainer.scrollLeft !== newScrollLeft) taskAreaContainer.scrollLeft = newScrollLeft;\n          if (taskAreaContainer.scrollTop !== newScrollTop) taskAreaContainer.scrollTop = newScrollTop;\n        };\n\n        GanttMovingHelper.prototype.calcMovingInfo = function (e) {\n          var taskAreaContainer = this.gantt.taskAreaContainer;\n          return {\n            eventX: DomUtils_1.DomUtils.getEventX(e),\n            eventY: DomUtils_1.DomUtils.getEventY(e),\n            scrollLeft: taskAreaContainer.scrollLeft,\n            scrollTop: taskAreaContainer.scrollTop,\n            maxLeftDelta: taskAreaContainer.scrollLeft,\n            maxRightDelta: taskAreaContainer.scrollWidth - taskAreaContainer.scrollLeft - taskAreaContainer.getElement().offsetWidth,\n            maxTopDelta: taskAreaContainer.scrollTop,\n            maxBottomDelta: taskAreaContainer.scrollHeight - taskAreaContainer.scrollTop - taskAreaContainer.getElement().offsetHeight\n          };\n        };\n\n        GanttMovingHelper.prototype.updateGanttAreaCursor = function (drag) {\n          this.gantt.taskAreaContainer.getElement().style.cursor = drag ? \"grabbing\" : \"default\";\n        };\n\n        return GanttMovingHelper;\n      }();\n\n      exports.GanttMovingHelper = GanttMovingHelper;\n      /***/\n    },\n    /* 66 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HandlerStateBase = function () {\n        function HandlerStateBase(handler) {\n          this.handler = handler;\n        }\n\n        HandlerStateBase.prototype.start = function () {};\n\n        HandlerStateBase.prototype.finish = function () {};\n\n        return HandlerStateBase;\n      }();\n\n      exports.HandlerStateBase = HandlerStateBase;\n      /***/\n    },\n    /* 67 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics29 = function extendStatics(d, b) {\n          _extendStatics29 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics29(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics29(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\n\n      var MouseHandlerMoveTaskState = function (_super) {\n        __extends(MouseHandlerMoveTaskState, _super);\n\n        function MouseHandlerMoveTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerMoveTaskState.prototype.onMouseUpInternal = function (_evt) {\n          this.handler.control.taskEditController.confirmMove();\n        };\n\n        MouseHandlerMoveTaskState.prototype.onMouseMoveInternal = function (position) {\n          this.handler.control.taskEditController.processMove(position.x - this.currentPosition.x);\n        };\n\n        return MouseHandlerMoveTaskState;\n      }(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState);\n\n      exports.MouseHandlerMoveTaskState = MouseHandlerMoveTaskState;\n      /***/\n    },\n    /* 68 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics30 = function extendStatics(d, b) {\n          _extendStatics30 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics30(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics30(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\n\n      var MouseHandlerProgressTaskState = function (_super) {\n        __extends(MouseHandlerProgressTaskState, _super);\n\n        function MouseHandlerProgressTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerProgressTaskState.prototype.onMouseUpInternal = function (_evt) {\n          this.handler.control.taskEditController.confirmProgress();\n        };\n\n        MouseHandlerProgressTaskState.prototype.onMouseMoveInternal = function (position) {\n          var relativePosition = this.getRelativePos(position);\n          this.handler.control.taskEditController.processProgress(relativePosition);\n        };\n\n        return MouseHandlerProgressTaskState;\n      }(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState);\n\n      exports.MouseHandlerProgressTaskState = MouseHandlerProgressTaskState;\n      /***/\n    },\n    /* 69 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics31 = function extendStatics(d, b) {\n          _extendStatics31 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics31(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics31(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\n\n      var MouseHandlerTimestampTaskState = function (_super) {\n        __extends(MouseHandlerTimestampTaskState, _super);\n\n        function MouseHandlerTimestampTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerTimestampTaskState.prototype.onMouseDown = function (evt) {\n          _super.prototype.onMouseDown.call(this, evt);\n\n          this.source = this.handler.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\n        };\n\n        MouseHandlerTimestampTaskState.prototype.onMouseUpInternal = function (_evt) {\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start) this.handler.control.taskEditController.confirmStart();else this.handler.control.taskEditController.confirmEnd();\n        };\n\n        MouseHandlerTimestampTaskState.prototype.onMouseMoveInternal = function (position) {\n          var relativePosition = this.getRelativePos(position);\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start) this.handler.control.taskEditController.processStart(relativePosition);\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_End) this.handler.control.taskEditController.processEnd(relativePosition);\n        };\n\n        return MouseHandlerTimestampTaskState;\n      }(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState);\n\n      exports.MouseHandlerTimestampTaskState = MouseHandlerTimestampTaskState;\n      /***/\n    },\n    /* 70 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics32 = function extendStatics(d, b) {\n          _extendStatics32 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics32(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics32(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Point_1 = __webpack_require__(3);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerStateBase_1 = __webpack_require__(18);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var Dependency_1 = __webpack_require__(14);\n\n      var dependencyMap = [];\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart] = [];\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish] = [];\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.SS;\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.SF;\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.FS;\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.FF;\n\n      var MouseHandlerDependencyState = function (_super) {\n        __extends(MouseHandlerDependencyState, _super);\n\n        function MouseHandlerDependencyState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerDependencyState.prototype.onMouseDown = function (evt) {\n          var sourceElement = DomUtils_1.DomUtils.getEventSource(evt);\n          this.source = this.handler.getMouseEventSource(sourceElement);\n          var pos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getAbsolutePositionX(sourceElement) + sourceElement.clientWidth / 2, DomUtils_1.DomUtils.getAbsolutePositionY(sourceElement) + sourceElement.clientHeight / 2));\n          this.handler.control.taskEditController.startDependency(pos);\n        };\n\n        MouseHandlerDependencyState.prototype.onMouseUp = function (evt) {\n          var target = this.handler.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\n          var type = target === TaskAreaManager_1.MouseEventSource.Successor_DependencyStart || target == TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish ? dependencyMap[this.source][target] : null;\n          this.handler.control.taskEditController.endDependency(type);\n          this.handler.switchToDefaultState();\n        };\n\n        MouseHandlerDependencyState.prototype.onMouseMove = function (evt) {\n          evt.preventDefault();\n          var relativePos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\n          var hoverTaskIndex = Math.floor(relativePos.y / this.handler.control.tickSize.height);\n          this.handler.control.taskEditController.processDependency(relativePos);\n          if (this.handler.control.viewModel.tasks.items[hoverTaskIndex]) this.handler.control.taskEditController.showDependencySuccessor(hoverTaskIndex);\n        };\n\n        return MouseHandlerDependencyState;\n      }(MouseHandlerStateBase_1.MouseHandlerStateBase);\n\n      exports.MouseHandlerDependencyState = MouseHandlerDependencyState;\n      /***/\n    },\n    /* 71 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var ModifierKey;\n\n      (function (ModifierKey) {\n        ModifierKey[ModifierKey[\"None\"] = 0] = \"None\";\n        ModifierKey[ModifierKey[\"Ctrl\"] = 65536] = \"Ctrl\";\n        ModifierKey[ModifierKey[\"Shift\"] = 262144] = \"Shift\";\n        ModifierKey[ModifierKey[\"Alt\"] = 1048576] = \"Alt\";\n        ModifierKey[ModifierKey[\"Meta\"] = 16777216] = \"Meta\";\n      })(ModifierKey = exports.ModifierKey || (exports.ModifierKey = {}));\n\n      var KeyCode;\n\n      (function (KeyCode) {\n        KeyCode[KeyCode[\"Backspace\"] = 8] = \"Backspace\";\n        KeyCode[KeyCode[\"Tab\"] = 9] = \"Tab\";\n        KeyCode[KeyCode[\"Enter\"] = 13] = \"Enter\";\n        KeyCode[KeyCode[\"Pause\"] = 19] = \"Pause\";\n        KeyCode[KeyCode[\"CapsLock\"] = 20] = \"CapsLock\";\n        KeyCode[KeyCode[\"Esc\"] = 27] = \"Esc\";\n        KeyCode[KeyCode[\"Space\"] = 32] = \"Space\";\n        KeyCode[KeyCode[\"PageUp\"] = 33] = \"PageUp\";\n        KeyCode[KeyCode[\"PageDown\"] = 34] = \"PageDown\";\n        KeyCode[KeyCode[\"End\"] = 35] = \"End\";\n        KeyCode[KeyCode[\"Home\"] = 36] = \"Home\";\n        KeyCode[KeyCode[\"Left\"] = 37] = \"Left\";\n        KeyCode[KeyCode[\"Up\"] = 38] = \"Up\";\n        KeyCode[KeyCode[\"Right\"] = 39] = \"Right\";\n        KeyCode[KeyCode[\"Down\"] = 40] = \"Down\";\n        KeyCode[KeyCode[\"Insert\"] = 45] = \"Insert\";\n        KeyCode[KeyCode[\"Delete\"] = 46] = \"Delete\";\n        KeyCode[KeyCode[\"Key_0\"] = 48] = \"Key_0\";\n        KeyCode[KeyCode[\"Key_1\"] = 49] = \"Key_1\";\n        KeyCode[KeyCode[\"Key_2\"] = 50] = \"Key_2\";\n        KeyCode[KeyCode[\"Key_3\"] = 51] = \"Key_3\";\n        KeyCode[KeyCode[\"Key_4\"] = 52] = \"Key_4\";\n        KeyCode[KeyCode[\"Key_5\"] = 53] = \"Key_5\";\n        KeyCode[KeyCode[\"Key_6\"] = 54] = \"Key_6\";\n        KeyCode[KeyCode[\"Key_7\"] = 55] = \"Key_7\";\n        KeyCode[KeyCode[\"Key_8\"] = 56] = \"Key_8\";\n        KeyCode[KeyCode[\"Key_9\"] = 57] = \"Key_9\";\n        KeyCode[KeyCode[\"Key_a\"] = 65] = \"Key_a\";\n        KeyCode[KeyCode[\"Key_b\"] = 66] = \"Key_b\";\n        KeyCode[KeyCode[\"Key_c\"] = 67] = \"Key_c\";\n        KeyCode[KeyCode[\"Key_d\"] = 68] = \"Key_d\";\n        KeyCode[KeyCode[\"Key_e\"] = 69] = \"Key_e\";\n        KeyCode[KeyCode[\"Key_f\"] = 70] = \"Key_f\";\n        KeyCode[KeyCode[\"Key_g\"] = 71] = \"Key_g\";\n        KeyCode[KeyCode[\"Key_h\"] = 72] = \"Key_h\";\n        KeyCode[KeyCode[\"Key_i\"] = 73] = \"Key_i\";\n        KeyCode[KeyCode[\"Key_j\"] = 74] = \"Key_j\";\n        KeyCode[KeyCode[\"Key_k\"] = 75] = \"Key_k\";\n        KeyCode[KeyCode[\"Key_l\"] = 76] = \"Key_l\";\n        KeyCode[KeyCode[\"Key_m\"] = 77] = \"Key_m\";\n        KeyCode[KeyCode[\"Key_n\"] = 78] = \"Key_n\";\n        KeyCode[KeyCode[\"Key_o\"] = 79] = \"Key_o\";\n        KeyCode[KeyCode[\"Key_p\"] = 80] = \"Key_p\";\n        KeyCode[KeyCode[\"Key_q\"] = 81] = \"Key_q\";\n        KeyCode[KeyCode[\"Key_r\"] = 82] = \"Key_r\";\n        KeyCode[KeyCode[\"Key_s\"] = 83] = \"Key_s\";\n        KeyCode[KeyCode[\"Key_t\"] = 84] = \"Key_t\";\n        KeyCode[KeyCode[\"Key_u\"] = 85] = \"Key_u\";\n        KeyCode[KeyCode[\"Key_v\"] = 86] = \"Key_v\";\n        KeyCode[KeyCode[\"Key_w\"] = 87] = \"Key_w\";\n        KeyCode[KeyCode[\"Key_x\"] = 88] = \"Key_x\";\n        KeyCode[KeyCode[\"Key_y\"] = 89] = \"Key_y\";\n        KeyCode[KeyCode[\"Key_z\"] = 90] = \"Key_z\";\n        KeyCode[KeyCode[\"Windows\"] = 91] = \"Windows\";\n        KeyCode[KeyCode[\"ContextMenu\"] = 93] = \"ContextMenu\";\n        KeyCode[KeyCode[\"Numpad_0\"] = 96] = \"Numpad_0\";\n        KeyCode[KeyCode[\"Numpad_1\"] = 97] = \"Numpad_1\";\n        KeyCode[KeyCode[\"Numpad_2\"] = 98] = \"Numpad_2\";\n        KeyCode[KeyCode[\"Numpad_3\"] = 99] = \"Numpad_3\";\n        KeyCode[KeyCode[\"Numpad_4\"] = 100] = \"Numpad_4\";\n        KeyCode[KeyCode[\"Numpad_5\"] = 101] = \"Numpad_5\";\n        KeyCode[KeyCode[\"Numpad_6\"] = 102] = \"Numpad_6\";\n        KeyCode[KeyCode[\"Numpad_7\"] = 103] = \"Numpad_7\";\n        KeyCode[KeyCode[\"Numpad_8\"] = 104] = \"Numpad_8\";\n        KeyCode[KeyCode[\"Numpad_9\"] = 105] = \"Numpad_9\";\n        KeyCode[KeyCode[\"Multiply\"] = 106] = \"Multiply\";\n        KeyCode[KeyCode[\"Add\"] = 107] = \"Add\";\n        KeyCode[KeyCode[\"Subtract\"] = 109] = \"Subtract\";\n        KeyCode[KeyCode[\"Decimal\"] = 110] = \"Decimal\";\n        KeyCode[KeyCode[\"Divide\"] = 111] = \"Divide\";\n        KeyCode[KeyCode[\"F1\"] = 112] = \"F1\";\n        KeyCode[KeyCode[\"F2\"] = 113] = \"F2\";\n        KeyCode[KeyCode[\"F3\"] = 114] = \"F3\";\n        KeyCode[KeyCode[\"F4\"] = 115] = \"F4\";\n        KeyCode[KeyCode[\"F5\"] = 116] = \"F5\";\n        KeyCode[KeyCode[\"F6\"] = 117] = \"F6\";\n        KeyCode[KeyCode[\"F7\"] = 118] = \"F7\";\n        KeyCode[KeyCode[\"F8\"] = 119] = \"F8\";\n        KeyCode[KeyCode[\"F9\"] = 120] = \"F9\";\n        KeyCode[KeyCode[\"F10\"] = 121] = \"F10\";\n        KeyCode[KeyCode[\"F11\"] = 122] = \"F11\";\n        KeyCode[KeyCode[\"F12\"] = 123] = \"F12\";\n        KeyCode[KeyCode[\"NumLock\"] = 144] = \"NumLock\";\n        KeyCode[KeyCode[\"ScrollLock\"] = 145] = \"ScrollLock\";\n        KeyCode[KeyCode[\"Semicolon\"] = 186] = \"Semicolon\";\n        KeyCode[KeyCode[\"Equals\"] = 187] = \"Equals\";\n        KeyCode[KeyCode[\"Comma\"] = 188] = \"Comma\";\n        KeyCode[KeyCode[\"Dash\"] = 189] = \"Dash\";\n        KeyCode[KeyCode[\"Period\"] = 190] = \"Period\";\n        KeyCode[KeyCode[\"ForwardSlash\"] = 191] = \"ForwardSlash\";\n        KeyCode[KeyCode[\"GraveAccent\"] = 192] = \"GraveAccent\";\n        KeyCode[KeyCode[\"OpenBracket\"] = 219] = \"OpenBracket\";\n        KeyCode[KeyCode[\"BackSlash\"] = 220] = \"BackSlash\";\n        KeyCode[KeyCode[\"CloseBracket\"] = 221] = \"CloseBracket\";\n        KeyCode[KeyCode[\"SingleQuote\"] = 222] = \"SingleQuote\";\n      })(KeyCode = exports.KeyCode || (exports.KeyCode = {}));\n      /***/\n\n    },\n    /* 72 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskAreaContainer = function () {\n        function TaskAreaContainer(element, ganttView) {\n          this.element = element;\n          this.element.addEventListener(\"scroll\", function () {\n            ganttView.updateView();\n          });\n        }\n\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollTop\", {\n          get: function get() {\n            return this.element.scrollTop;\n          },\n          set: function set(value) {\n            this.element.scrollTop = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollLeft\", {\n          get: function get() {\n            return this.element.scrollLeft;\n          },\n          set: function set(value) {\n            this.element.scrollLeft = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollWidth\", {\n          get: function get() {\n            return this.element.scrollWidth;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollHeight\", {\n          get: function get() {\n            return this.element.scrollHeight;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"isExternal\", {\n          get: function get() {\n            return false;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        TaskAreaContainer.prototype.getWidth = function () {\n          return this.element.offsetWidth;\n        };\n\n        TaskAreaContainer.prototype.getHeight = function () {\n          return this.element.offsetHeight;\n        };\n\n        TaskAreaContainer.prototype.getElement = function () {\n          return this.element;\n        };\n\n        return TaskAreaContainer;\n      }();\n\n      exports.TaskAreaContainer = TaskAreaContainer;\n      /***/\n    },\n    /* 73 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Enums_1 = __webpack_require__(7);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var Settings = function () {\n        function Settings() {\n          this.viewType = undefined;\n          this.taskTitlePosition = Enums_1.TaskTitlePosition.Inside;\n          this.showResources = true;\n          this.areHorizontalBordersEnabled = true;\n          this.areVerticalBordersEnabled = true;\n          this.areAlternateRowsEnabled = true;\n          this.allowSelectTask = true;\n          this.editing = new EditingSettings();\n        }\n\n        Settings.parse = function (settings) {\n          var result = new Settings();\n\n          if (settings) {\n            if (Utils_1.JsonUtils.isExists(settings.viewType)) result.viewType = settings.viewType;\n            if (Utils_1.JsonUtils.isExists(settings.taskTitlePosition)) result.taskTitlePosition = settings.taskTitlePosition;\n            if (Utils_1.JsonUtils.isExists(settings.showResources)) result.showResources = settings.showResources;\n            if (Utils_1.JsonUtils.isExists(settings.areHorizontalBordersEnabled)) result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\n            if (Utils_1.JsonUtils.isExists(settings.areVerticalBordersEnabled)) result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\n            if (Utils_1.JsonUtils.isExists(settings.areAlternateRowsEnabled)) result.areAlternateRowsEnabled = settings.areAlternateRowsEnabled;\n            if (Utils_1.JsonUtils.isExists(settings.allowSelectTask)) result.allowSelectTask = settings.allowSelectTask;\n            if (Utils_1.JsonUtils.isExists(settings.editing)) result.editing = EditingSettings.parse(settings.editing);\n          }\n\n          return result;\n        };\n\n        return Settings;\n      }();\n\n      exports.Settings = Settings;\n\n      var EditingSettings = function () {\n        function EditingSettings() {\n          this.enabled = false;\n          this.allowDependencyDeleting = true;\n          this.allowDependencyAdding = true;\n          this.allowDependencyUpdating = true;\n          this.allowTaskDeleting = true;\n          this.allowTaskAdding = true;\n          this.allowTaskUpdating = true;\n          this.allowResourceDeleting = true;\n          this.allowResourceAdding = true;\n          this.allowResourceUpdating = true;\n        }\n\n        EditingSettings.parse = function (settings) {\n          var result = new EditingSettings();\n\n          if (settings) {\n            if (Utils_1.JsonUtils.isExists(settings.enabled)) result.enabled = settings.enabled;\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyDeleting)) result.allowDependencyDeleting = settings.allowDependencyDeleting;\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyAdding)) result.allowDependencyAdding = settings.allowDependencyAdding;\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyUpdating)) result.allowDependencyUpdating = settings.allowDependencyUpdating;\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskDeleting)) result.allowTaskDeleting = settings.allowTaskDeleting;\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskAdding)) result.allowTaskAdding = settings.allowTaskAdding;\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskUpdating)) result.allowTaskUpdating = settings.allowTaskUpdating;\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceDeleting)) result.allowResourceDeleting = settings.allowResourceDeleting;\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceAdding)) result.allowResourceAdding = settings.allowResourceAdding;\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceUpdating)) result.allowResourceUpdating = settings.allowResourceUpdating;\n          }\n\n          return result;\n        };\n\n        return EditingSettings;\n      }();\n\n      exports.EditingSettings = EditingSettings;\n      /***/\n    },\n    /* 74 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EventDispatcher_1 = __webpack_require__(75);\n\n      var ModelChangesDispatcher = function () {\n        function ModelChangesDispatcher() {\n          this.onModelChanged = new EventDispatcher_1.EventDispatcher();\n        }\n\n        ModelChangesDispatcher.prototype.notifyTaskCreated = function (task, callback) {\n          this.onModelChanged.raise(\"NotifyTaskCreated\", task, callback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskRemoved = function (taskID) {\n          this.onModelChanged.raise(\"NotifyTaskRemoved\", taskID);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskTitleChanged = function (taskID, newValue) {\n          this.onModelChanged.raise(\"NotifyTaskTitleChanged\", taskID, newValue);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskDescriptionChanged = function (taskID, newValue) {\n          this.onModelChanged.raise(\"NotifyTaskDescriptionChanged\", taskID, newValue);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskStartChanged = function (taskID, newValue) {\n          this.onModelChanged.raise(\"NotifyTaskStartChanged\", taskID, newValue);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskEndChanged = function (taskID, newValue) {\n          this.onModelChanged.raise(\"NotifyTaskEndChanged\", taskID, newValue);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskProgressChanged = function (taskID, newValue) {\n          this.onModelChanged.raise(\"NotifyTaskProgressChanged\", taskID, newValue);\n        };\n\n        ModelChangesDispatcher.prototype.notifyDependencyInserted = function (dependency, callback) {\n          this.onModelChanged.raise(\"NotifyDependencyInserted\", dependency, callback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyDependencyRemoved = function (dependencyID) {\n          this.onModelChanged.raise(\"NotifyDependencyRemoved\", dependencyID);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceCreated = function (resource, callback) {\n          this.onModelChanged.raise(\"NotifyResourceCreated\", resource, callback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceRemoved = function (resourceID) {\n          this.onModelChanged.raise(\"NotifyResourceRemoved\", resourceID);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceAssigned = function (assignment, callback) {\n          this.onModelChanged.raise(\"NotifyResourceAssigned\", assignment, callback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceUnassigned = function (assignmentID) {\n          this.onModelChanged.raise(\"NotifyResourceUnassigned\", assignmentID);\n        };\n\n        return ModelChangesDispatcher;\n      }();\n\n      exports.ModelChangesDispatcher = ModelChangesDispatcher;\n      /***/\n    },\n    /* 75 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EventDispatcher = function () {\n        function EventDispatcher() {\n          this.listeners = [];\n        }\n\n        EventDispatcher.prototype.add = function (listener) {\n          if (!listener) throw new Error(\"Error\");\n          if (!this.hasEventListener(listener)) this.listeners.push(listener);\n        };\n\n        EventDispatcher.prototype.remove = function (listener) {\n          for (var i = 0, currentListener; currentListener = this.listeners[i]; i++) {\n            if (currentListener === listener) {\n              this.listeners.splice(i, 1);\n              break;\n            }\n          }\n        };\n\n        EventDispatcher.prototype.raise = function (funcName) {\n          var args = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n          }\n\n          for (var i = 0, listener; listener = this.listeners[i]; i++) {\n            listener[funcName].apply(listener, args);\n          }\n        };\n\n        EventDispatcher.prototype.hasEventListener = function (listener) {\n          for (var i = 0, l = this.listeners.length; i < l; i++) {\n            if (this.listeners[i] === listener) return true;\n          }\n\n          return false;\n        };\n\n        return EventDispatcher;\n      }();\n\n      exports.EventDispatcher = EventDispatcher;\n      /***/\n    },\n    /* 76 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskCommands_1 = __webpack_require__(77);\n\n      var TaskPropertiesCommands_1 = __webpack_require__(79);\n\n      var DependencyCommands_1 = __webpack_require__(80);\n\n      var ResourceCommands_1 = __webpack_require__(81);\n\n      var TaskEditDialog_1 = __webpack_require__(82);\n\n      var ConstraintViolationDialog_1 = __webpack_require__(83);\n\n      var ResourcesDialog_1 = __webpack_require__(84);\n\n      var ClientCommand_1 = __webpack_require__(85);\n\n      var CommandManager = function () {\n        function CommandManager(control) {\n          this.control = control;\n          this.commands = {};\n          this.createCommand(ClientCommand_1.GanttClientCommand.CreateTask, this.createTaskCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.CreateSubTask, this.createSubTaskCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.RemoveTask, this.removeTaskCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.RemoveDependency, this.removeDependencyCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.TaskInformation, this.showTaskEditDialog);\n          this.createCommand(ClientCommand_1.GanttClientCommand.TaskAddContextItem, new TaskCommands_1.TaskAddContextItemCommand(this.control));\n        }\n\n        Object.defineProperty(CommandManager.prototype, \"createTaskCommand\", {\n          get: function get() {\n            return new TaskCommands_1.CreateTaskCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"createSubTaskCommand\", {\n          get: function get() {\n            return new TaskCommands_1.CreateSubTaskCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"removeTaskCommand\", {\n          get: function get() {\n            return new TaskCommands_1.RemoveTaskCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskTitleCommand\", {\n          get: function get() {\n            return new TaskPropertiesCommands_1.TaskTitleCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskDescriptionCommand\", {\n          get: function get() {\n            return new TaskPropertiesCommands_1.TaskDescriptionCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskProgressCommand\", {\n          get: function get() {\n            return new TaskPropertiesCommands_1.TaskProgressCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskStartCommand\", {\n          get: function get() {\n            return new TaskPropertiesCommands_1.TaskStartCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskEndCommand\", {\n          get: function get() {\n            return new TaskPropertiesCommands_1.TaskEndCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"createDependencyCommand\", {\n          get: function get() {\n            return new DependencyCommands_1.CreateDependencyCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"removeDependencyCommand\", {\n          get: function get() {\n            return new DependencyCommands_1.RemoveDependencyCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"createResourceCommand\", {\n          get: function get() {\n            return new ResourceCommands_1.CreateResourceCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"removeResourceCommand\", {\n          get: function get() {\n            return new ResourceCommands_1.RemoveResourceCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"assignResourceCommand\", {\n          get: function get() {\n            return new ResourceCommands_1.AssignResourceCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"deassignResourceCommand\", {\n          get: function get() {\n            return new ResourceCommands_1.DeassignResourceCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"showTaskEditDialog\", {\n          get: function get() {\n            return new TaskEditDialog_1.TaskEditDialogCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"showConstraintViolationDialog\", {\n          get: function get() {\n            return new ConstraintViolationDialog_1.ConstraintViolationDialogCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"showResourcesDialog\", {\n          get: function get() {\n            return new ResourcesDialog_1.ResourcesDialogCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        CommandManager.prototype.getCommand = function (key) {\n          return this.commands[key];\n        };\n\n        CommandManager.prototype.createCommand = function (commandId, command) {\n          this.commands[commandId] = command;\n        };\n\n        return CommandManager;\n      }();\n\n      exports.CommandManager = CommandManager;\n      /***/\n    },\n    /* 77 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics33 = function extendStatics(d, b) {\n          _extendStatics33 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics33(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics33(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var TaskHistoryItem_1 = __webpack_require__(78);\n\n      var TaskDependencyHistoryItem_1 = __webpack_require__(20);\n\n      var ResourceHistoryItem_1 = __webpack_require__(21);\n\n      var TaskCommandBase = function (_super) {\n        __extends(TaskCommandBase, _super);\n\n        function TaskCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskCommandBase.prototype.getState = function () {\n          var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\n          state.visible = state.enabled && !this.control.taskEditController.dependencyId;\n          return state;\n        };\n\n        return TaskCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.TaskCommandBase = TaskCommandBase;\n\n      var CreateTaskCommand = function (_super) {\n        __extends(CreateTaskCommand, _super);\n\n        function CreateTaskCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateTaskCommand.prototype.execute = function (start, end, title, parentId) {\n          return _super.prototype.execute.call(this, start, end, title, parentId);\n        };\n\n        CreateTaskCommand.prototype.executeInternal = function (start, end, title, parentId) {\n          if (!parentId) {\n            var selectedTask = this.control.viewModel.findItem(this.control.currentSelectedTaskID).task;\n            if (selectedTask) parentId = selectedTask.parentId;\n          }\n\n          var referenceItem = this.control.viewModel.findItem(parentId) || this.control.viewModel.items[0];\n          var referenceTask = referenceItem.task;\n          start = start || new Date(referenceTask.start.getTime());\n          end = end || new Date(referenceTask.end.getTime());\n          title = title || \"New task\";\n          this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, start, end, title, parentId));\n          return true;\n        };\n\n        CreateTaskCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskAdding;\n        };\n\n        return CreateTaskCommand;\n      }(TaskCommandBase);\n\n      exports.CreateTaskCommand = CreateTaskCommand;\n\n      var CreateSubTaskCommand = function (_super) {\n        __extends(CreateSubTaskCommand, _super);\n\n        function CreateSubTaskCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateSubTaskCommand.prototype.execute = function (parentId) {\n          return _super.prototype.execute.call(this, parentId);\n        };\n\n        CreateSubTaskCommand.prototype.executeInternal = function (parentId) {\n          parentId = parentId || this.control.currentSelectedTaskID;\n          var selectedItem = this.control.viewModel.findItem(parentId);\n\n          if (selectedItem.selected) {\n            this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, new Date(selectedItem.task.start.getTime()), new Date(selectedItem.task.end.getTime()), \"New task\", parentId));\n            return true;\n          }\n\n          return false;\n        };\n\n        CreateSubTaskCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskAdding;\n        };\n\n        CreateSubTaskCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          var selectedItem = this.control.viewModel.findItem(this.control.currentSelectedTaskID);\n          state.visible = state.visible && selectedItem && selectedItem.selected;\n          return state;\n        };\n\n        return CreateSubTaskCommand;\n      }(TaskCommandBase);\n\n      exports.CreateSubTaskCommand = CreateSubTaskCommand;\n\n      var RemoveTaskCommand = function (_super) {\n        __extends(RemoveTaskCommand, _super);\n\n        function RemoveTaskCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RemoveTaskCommand.prototype.execute = function (id) {\n          return _super.prototype.execute.call(this, id);\n        };\n\n        RemoveTaskCommand.prototype.executeInternal = function (id) {\n          var _this = this;\n\n          id = id || this.control.currentSelectedTaskID;\n          this.control.viewModel.beginUpdate();\n          this.history.beginTransaction();\n          var childTasks = this.control.viewModel.tasks.items.filter(function (t) {\n            return t.parentId == id;\n          });\n          childTasks.forEach(function (t) {\n            return new RemoveTaskCommand(_this.control).execute(t.internalId);\n          });\n          var dependencies = this.control.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == id || d.successorId == id;\n          });\n          if (dependencies.length) if (this.control.settings.editing.allowDependencyDeleting) dependencies.forEach(function (d) {\n            return _this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(_this.modelManipulator, d.internalId));\n          });else return false;\n          var assignments = this.control.viewModel.assignments.items.filter(function (a) {\n            return a.taskId == id;\n          });\n          assignments.forEach(function (a) {\n            return _this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId));\n          });\n          this.history.addAndRedo(new TaskHistoryItem_1.RemoveTaskHistoryItem(this.modelManipulator, id));\n          this.history.endTransaction();\n          this.control.viewModel.endUpdate();\n          return true;\n        };\n\n        RemoveTaskCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskDeleting;\n        };\n\n        return RemoveTaskCommand;\n      }(TaskCommandBase);\n\n      exports.RemoveTaskCommand = RemoveTaskCommand;\n\n      var TaskAddContextItemCommand = function (_super) {\n        __extends(TaskAddContextItemCommand, _super);\n\n        function TaskAddContextItemCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskAddContextItemCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          state.visible = state.visible && this.control.settings.editing.allowTaskAdding;\n          return state;\n        };\n\n        TaskAddContextItemCommand.prototype.execute = function () {\n          return false;\n        };\n\n        return TaskAddContextItemCommand;\n      }(TaskCommandBase);\n\n      exports.TaskAddContextItemCommand = TaskAddContextItemCommand;\n      /***/\n    },\n    /* 78 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics34 = function extendStatics(d, b) {\n          _extendStatics34 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics34(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics34(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem_1 = __webpack_require__(9);\n\n      var CreateTaskHistoryItem = function (_super) {\n        __extends(CreateTaskHistoryItem, _super);\n\n        function CreateTaskHistoryItem(modelManipulator, start, end, title, parentId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.start = start;\n          _this.end = end;\n          _this.title = title;\n          _this.parentId = parentId;\n          return _this;\n        }\n\n        CreateTaskHistoryItem.prototype.redo = function () {\n          this.taskId = this.modelManipulator.task.create(this.start, this.end, this.title, this.parentId, this.taskId ? this.taskId : null).internalId;\n        };\n\n        CreateTaskHistoryItem.prototype.undo = function () {\n          this.modelManipulator.task.remove(this.taskId);\n        };\n\n        return CreateTaskHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.CreateTaskHistoryItem = CreateTaskHistoryItem;\n\n      var RemoveTaskHistoryItem = function (_super) {\n        __extends(RemoveTaskHistoryItem, _super);\n\n        function RemoveTaskHistoryItem(modelManipulator, taskId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.taskId = taskId;\n          return _this;\n        }\n\n        RemoveTaskHistoryItem.prototype.redo = function () {\n          this.task = this.modelManipulator.task.remove(this.taskId);\n        };\n\n        RemoveTaskHistoryItem.prototype.undo = function () {\n          this.modelManipulator.task.create(this.task.start, this.task.end, this.task.title, this.task.parentId, this.task.internalId);\n        };\n\n        return RemoveTaskHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.RemoveTaskHistoryItem = RemoveTaskHistoryItem;\n      /***/\n    },\n    /* 79 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics35 = function extendStatics(d, b) {\n          _extendStatics35 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics35(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics35(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var TaskPropertiesHistoryItem_1 = __webpack_require__(31);\n\n      var TaskPropertyCommandBase = function (_super) {\n        __extends(TaskPropertyCommandBase, _super);\n\n        function TaskPropertyCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskPropertyCommandBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        TaskPropertyCommandBase.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskUpdating;\n        };\n\n        return TaskPropertyCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.TaskPropertyCommandBase = TaskPropertyCommandBase;\n\n      var TaskTitleCommand = function (_super) {\n        __extends(TaskTitleCommand, _super);\n\n        function TaskTitleCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskTitleCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskTitleCommand.prototype.executeInternal = function (id, value) {\n          var oldTitle = this.control.viewModel.tasks.getItemById(id).title;\n          if (oldTitle == value) return false;\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, id, value));\n          return true;\n        };\n\n        return TaskTitleCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskTitleCommand = TaskTitleCommand;\n\n      var TaskDescriptionCommand = function (_super) {\n        __extends(TaskDescriptionCommand, _super);\n\n        function TaskDescriptionCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDescriptionCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskDescriptionCommand.prototype.executeInternal = function (id, value) {\n          var oldDescription = this.control.viewModel.tasks.getItemById(id).description;\n          if (oldDescription == value) return false;\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskDesriptionHistoryItem(this.modelManipulator, id, value));\n          return true;\n        };\n\n        return TaskDescriptionCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskDescriptionCommand = TaskDescriptionCommand;\n\n      var TaskProgressCommand = function (_super) {\n        __extends(TaskProgressCommand, _super);\n\n        function TaskProgressCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskProgressCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskProgressCommand.prototype.executeInternal = function (id, value) {\n          var oldProgress = this.control.viewModel.tasks.getItemById(id).progress;\n          if (oldProgress == value) return false;\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, id, value));\n          return true;\n        };\n\n        return TaskProgressCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskProgressCommand = TaskProgressCommand;\n\n      var TaskStartCommand = function (_super) {\n        __extends(TaskStartCommand, _super);\n\n        function TaskStartCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskStartCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskStartCommand.prototype.executeInternal = function (id, value) {\n          var oldStart = this.control.viewModel.tasks.getItemById(id).start;\n          if (oldStart.getTime() == value.getTime()) return false;\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, id, value));\n          if (value < this.control.dataRange.start) this.control.dataRange.start = value;\n          return true;\n        };\n\n        return TaskStartCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskStartCommand = TaskStartCommand;\n\n      var TaskEndCommand = function (_super) {\n        __extends(TaskEndCommand, _super);\n\n        function TaskEndCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEndCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskEndCommand.prototype.executeInternal = function (id, value) {\n          var oldEnd = this.control.viewModel.tasks.getItemById(id).end;\n          if (oldEnd.getTime() == value.getTime()) return false;\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, id, value));\n          if (value > this.control.dataRange.end) this.control.dataRange.end = value;\n          return true;\n        };\n\n        return TaskEndCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskEndCommand = TaskEndCommand;\n      /***/\n    },\n    /* 80 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics36 = function extendStatics(d, b) {\n          _extendStatics36 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics36(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics36(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var TaskDependencyHistoryItem_1 = __webpack_require__(20);\n\n      var DependencyCommandBase = function (_super) {\n        __extends(DependencyCommandBase, _super);\n\n        function DependencyCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DependencyCommandBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        return DependencyCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.DependencyCommandBase = DependencyCommandBase;\n\n      var CreateDependencyCommand = function (_super) {\n        __extends(CreateDependencyCommand, _super);\n\n        function CreateDependencyCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateDependencyCommand.prototype.execute = function (predecessorId, successorId, type) {\n          return _super.prototype.execute.call(this, predecessorId, successorId, type);\n        };\n\n        CreateDependencyCommand.prototype.executeInternal = function (predecessorId, successorId, type) {\n          if (this.control.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == predecessorId && d.successorId == successorId || d.successorId == predecessorId && d.predecessorId == successorId;\n          }).length) return false;\n          this.history.addAndRedo(new TaskDependencyHistoryItem_1.InsertDependencyHistoryItem(this.modelManipulator, predecessorId, successorId, type));\n          return true;\n        };\n\n        CreateDependencyCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyAdding;\n        };\n\n        return CreateDependencyCommand;\n      }(DependencyCommandBase);\n\n      exports.CreateDependencyCommand = CreateDependencyCommand;\n\n      var RemoveDependencyCommand = function (_super) {\n        __extends(RemoveDependencyCommand, _super);\n\n        function RemoveDependencyCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RemoveDependencyCommand.prototype.execute = function (id) {\n          return _super.prototype.execute.call(this, id);\n        };\n\n        RemoveDependencyCommand.prototype.executeInternal = function (id) {\n          id = id || this.control.taskEditController.dependencyId;\n\n          if (id != null) {\n            var dependency = this.control.viewModel.dependencies.items.filter(function (d) {\n              return d.internalId == id;\n            })[0];\n\n            if (dependency) {\n              this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, id));\n              return true;\n            }\n          }\n\n          return false;\n        };\n\n        RemoveDependencyCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyDeleting;\n        };\n\n        RemoveDependencyCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          state.visible = state.enabled && this.control.taskEditController.dependencyId != null;\n          return state;\n        };\n\n        return RemoveDependencyCommand;\n      }(DependencyCommandBase);\n\n      exports.RemoveDependencyCommand = RemoveDependencyCommand;\n      /***/\n    },\n    /* 81 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics37 = function extendStatics(d, b) {\n          _extendStatics37 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics37(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics37(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var ResourceHistoryItem_1 = __webpack_require__(21);\n\n      var ResourceCommandBase = function (_super) {\n        __extends(ResourceCommandBase, _super);\n\n        function ResourceCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceCommandBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        return ResourceCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.ResourceCommandBase = ResourceCommandBase;\n\n      var CreateResourceCommand = function (_super) {\n        __extends(CreateResourceCommand, _super);\n\n        function CreateResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateResourceCommand.prototype.execute = function (text) {\n          return _super.prototype.execute.call(this, text);\n        };\n\n        CreateResourceCommand.prototype.executeInternal = function (text) {\n          this.history.addAndRedo(new ResourceHistoryItem_1.CreateResourceHistoryItem(this.modelManipulator, text));\n          return true;\n        };\n\n        return CreateResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.CreateResourceCommand = CreateResourceCommand;\n\n      var RemoveResourceCommand = function (_super) {\n        __extends(RemoveResourceCommand, _super);\n\n        function RemoveResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RemoveResourceCommand.prototype.execute = function (id) {\n          return _super.prototype.execute.call(this, id);\n        };\n\n        RemoveResourceCommand.prototype.executeInternal = function (id) {\n          var _this = this;\n\n          var resource = this.control.viewModel.resources.items.filter(function (r) {\n            return r.internalId == id;\n          })[0];\n\n          if (resource) {\n            this.history.beginTransaction();\n            var assignments = this.control.viewModel.assignments.items.filter(function (a) {\n              return a.resourceId == id;\n            });\n            assignments.forEach(function (a) {\n              return _this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId));\n            });\n            this.history.addAndRedo(new ResourceHistoryItem_1.RemoveResourceHistoryItem(this.modelManipulator, id));\n            this.history.endTransaction();\n            return true;\n          }\n\n          return false;\n        };\n\n        return RemoveResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.RemoveResourceCommand = RemoveResourceCommand;\n\n      var AssignResourceCommand = function (_super) {\n        __extends(AssignResourceCommand, _super);\n\n        function AssignResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        AssignResourceCommand.prototype.execute = function (resourceId, taskId) {\n          return _super.prototype.execute.call(this, resourceId, taskId);\n        };\n\n        AssignResourceCommand.prototype.executeInternal = function (resourceId, taskId) {\n          var assignment = this.control.viewModel.assignments.items.filter(function (r) {\n            return r.resourceId == resourceId && r.taskId == taskId;\n          })[0];\n\n          if (!assignment) {\n            this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, resourceId, taskId));\n            return true;\n          }\n\n          return false;\n        };\n\n        return AssignResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.AssignResourceCommand = AssignResourceCommand;\n\n      var DeassignResourceCommand = function (_super) {\n        __extends(DeassignResourceCommand, _super);\n\n        function DeassignResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DeassignResourceCommand.prototype.execute = function (assignmentId) {\n          return _super.prototype.execute.call(this, assignmentId);\n        };\n\n        DeassignResourceCommand.prototype.executeInternal = function (assignmentId) {\n          var assignment = this.control.viewModel.assignments.items.filter(function (r) {\n            return r.internalId == assignmentId;\n          })[0];\n\n          if (assignment) {\n            this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this.modelManipulator, assignmentId));\n            return true;\n          }\n\n          return false;\n        };\n\n        return DeassignResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.DeassignResourceCommand = DeassignResourceCommand;\n      /***/\n    },\n    /* 82 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics38 = function extendStatics(d, b) {\n          _extendStatics38 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics38(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics38(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DialogBase_1 = __webpack_require__(22);\n\n      var TaskPropertiesHistoryItem_1 = __webpack_require__(31);\n\n      var ResourceCollection_1 = __webpack_require__(13);\n\n      var ResourceHistoryItem_1 = __webpack_require__(21);\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var TaskEditDialogCommand = function (_super) {\n        __extends(TaskEditDialogCommand, _super);\n\n        function TaskEditDialogCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEditDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\n          this.history.beginTransaction();\n          if (newParameters.title != oldParameters.title) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, oldParameters.id, newParameters.title));\n          if (newParameters.progress != oldParameters.progress) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, oldParameters.id, newParameters.progress));\n          if (newParameters.start != oldParameters.start) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, oldParameters.id, newParameters.start));\n          if (newParameters.end != oldParameters.end) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, oldParameters.id, newParameters.end));\n\n          for (var i = 0; i < newParameters.assigned.length; i++) {\n            var resource = oldParameters.assigned.getItemById(newParameters.assigned.getItem(i).internalId);\n            if (!resource) this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, newParameters.assigned.getItem(i).internalId, oldParameters.id));\n          }\n\n          var _loop_1 = function _loop_1(i) {\n            var assigned = oldParameters.assigned.getItem(i);\n            var resource = newParameters.assigned.getItemById(assigned.internalId);\n\n            if (!resource) {\n              var assignment = this_1.control.viewModel.assignments.items.filter(function (assignment) {\n                return assignment.resourceId == assigned.internalId && assignment.taskId == oldParameters.id;\n              })[0];\n              this_1.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this_1.modelManipulator, assignment.internalId));\n            }\n          };\n\n          var this_1 = this;\n\n          for (var i = 0; i < oldParameters.assigned.length; i++) {\n            _loop_1(i);\n          }\n\n          this.history.endTransaction();\n          return false;\n        };\n\n        TaskEditDialogCommand.prototype.createParameters = function (options) {\n          options = options || this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);\n          var param = new TaskEditParameters();\n          param.id = options.internalId;\n          param.title = options.title;\n          param.progress = options.progress;\n          param.start = options.start;\n          param.end = options.end;\n          param.assigned = this.control.viewModel.getAssignedResources(options);\n          param.resources = new ResourceCollection_1.ResourceCollection();\n          param.resources.addRange(this.control.viewModel.resources.items);\n          param.showResourcesDialogCommand = this.control.commandManager.showResourcesDialog;\n          return param;\n        };\n\n        TaskEditDialogCommand.prototype.isEnabled = function () {\n          return true;\n        };\n\n        TaskEditDialogCommand.prototype.getState = function () {\n          var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\n          state.visible = !this.control.taskEditController.dependencyId;\n          return state;\n        };\n\n        TaskEditDialogCommand.prototype.getDialogName = function () {\n          return \"TaskEdit\";\n        };\n\n        return TaskEditDialogCommand;\n      }(DialogBase_1.DialogBase);\n\n      exports.TaskEditDialogCommand = TaskEditDialogCommand;\n\n      var TaskEditParameters = function (_super) {\n        __extends(TaskEditParameters, _super);\n\n        function TaskEditParameters() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEditParameters.prototype.clone = function () {\n          var clone = new TaskEditParameters();\n          clone.id = this.id;\n          clone.title = this.title;\n          clone.progress = this.progress;\n          clone.start = this.start;\n          clone.end = this.end;\n          clone.assigned = new ResourceCollection_1.ResourceCollection();\n          clone.assigned.addRange(this.assigned.items);\n          clone.resources = new ResourceCollection_1.ResourceCollection();\n          clone.resources.addRange(this.resources.items);\n          clone.showResourcesDialogCommand = this.showResourcesDialogCommand;\n          return clone;\n        };\n\n        return TaskEditParameters;\n      }(DialogBase_1.DialogParametersBase);\n\n      exports.TaskEditParameters = TaskEditParameters;\n      /***/\n    },\n    /* 83 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics39 = function extendStatics(d, b) {\n          _extendStatics39 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics39(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics39(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DialogBase_1 = __webpack_require__(22);\n\n      var TaskDependencyHistoryItem_1 = __webpack_require__(20);\n\n      var ConstraintViolationOption;\n\n      (function (ConstraintViolationOption) {\n        ConstraintViolationOption[ConstraintViolationOption[\"DoNothing\"] = 0] = \"DoNothing\";\n        ConstraintViolationOption[ConstraintViolationOption[\"RemoveDependency\"] = 1] = \"RemoveDependency\";\n        ConstraintViolationOption[ConstraintViolationOption[\"KeepDependency\"] = 2] = \"KeepDependency\";\n      })(ConstraintViolationOption = exports.ConstraintViolationOption || (exports.ConstraintViolationOption = {}));\n\n      var ConstraintViolationDialogCommand = function (_super) {\n        __extends(ConstraintViolationDialogCommand, _super);\n\n        function ConstraintViolationDialogCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ConstraintViolationDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\n          if (newParameters.option === ConstraintViolationOption.DoNothing) return false;\n          if (newParameters.option === ConstraintViolationOption.RemoveDependency) this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, oldParameters.dependencyId));\n          return true;\n        };\n\n        ConstraintViolationDialogCommand.prototype.createParameters = function (options) {\n          var result = new ConstraintViolationDialogParameters();\n          result.dependencyId = options;\n          return result;\n        };\n\n        ConstraintViolationDialogCommand.prototype.getDialogName = function () {\n          return \"ConstraintViolation\";\n        };\n\n        return ConstraintViolationDialogCommand;\n      }(DialogBase_1.DialogBase);\n\n      exports.ConstraintViolationDialogCommand = ConstraintViolationDialogCommand;\n\n      var ConstraintViolationDialogParameters = function (_super) {\n        __extends(ConstraintViolationDialogParameters, _super);\n\n        function ConstraintViolationDialogParameters() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ConstraintViolationDialogParameters.prototype.clone = function () {\n          var result = new ConstraintViolationDialogParameters();\n          result.dependencyId = this.dependencyId;\n          result.option = this.option;\n          return result;\n        };\n\n        return ConstraintViolationDialogParameters;\n      }(DialogBase_1.DialogParametersBase);\n\n      exports.ConstraintViolationDialogParameters = ConstraintViolationDialogParameters;\n      /***/\n    },\n    /* 84 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics40 = function extendStatics(d, b) {\n          _extendStatics40 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics40(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics40(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DialogBase_1 = __webpack_require__(22);\n\n      var ResourceCollection_1 = __webpack_require__(13);\n\n      var ResourcesDialogCommand = function (_super) {\n        __extends(ResourcesDialogCommand, _super);\n\n        function ResourcesDialogCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourcesDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\n          this.history.beginTransaction();\n\n          for (var i = 0; i < newParameters.resources.length; i++) {\n            var resource = oldParameters.resources.getItemById(newParameters.resources.getItem(i).internalId);\n            if (!resource) this.control.commandManager.createResourceCommand.execute(newParameters.resources.getItem(i).text);\n          }\n\n          for (var i = 0; i < oldParameters.resources.length; i++) {\n            var resource = newParameters.resources.getItemById(oldParameters.resources.getItem(i).internalId);\n            if (!resource) this.control.commandManager.removeResourceCommand.execute(oldParameters.resources.getItem(i).internalId);\n          }\n\n          this.history.endTransaction();\n          return false;\n        };\n\n        ResourcesDialogCommand.prototype.createParameters = function () {\n          var param = new ResourcesDialogParameters();\n          param.resources = new ResourceCollection_1.ResourceCollection();\n          param.resources.addRange(this.control.viewModel.resources.items);\n          return param;\n        };\n\n        ResourcesDialogCommand.prototype.getDialogName = function () {\n          return \"Resources\";\n        };\n\n        return ResourcesDialogCommand;\n      }(DialogBase_1.DialogBase);\n\n      exports.ResourcesDialogCommand = ResourcesDialogCommand;\n\n      var ResourcesDialogParameters = function (_super) {\n        __extends(ResourcesDialogParameters, _super);\n\n        function ResourcesDialogParameters() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourcesDialogParameters.prototype.clone = function () {\n          var clone = new ResourcesDialogParameters();\n          clone.resources = new ResourceCollection_1.ResourceCollection();\n          clone.resources.addRange(this.resources.items);\n          return clone;\n        };\n\n        return ResourcesDialogParameters;\n      }(DialogBase_1.DialogParametersBase);\n\n      exports.ResourcesDialogParameters = ResourcesDialogParameters;\n      /***/\n    },\n    /* 85 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var GanttClientCommand;\n\n      (function (GanttClientCommand) {\n        GanttClientCommand[GanttClientCommand[\"CreateTask\"] = 0] = \"CreateTask\";\n        GanttClientCommand[GanttClientCommand[\"CreateSubTask\"] = 1] = \"CreateSubTask\";\n        GanttClientCommand[GanttClientCommand[\"RemoveTask\"] = 2] = \"RemoveTask\";\n        GanttClientCommand[GanttClientCommand[\"RemoveDependency\"] = 3] = \"RemoveDependency\";\n        GanttClientCommand[GanttClientCommand[\"TaskInformation\"] = 4] = \"TaskInformation\";\n        GanttClientCommand[GanttClientCommand[\"TaskAddContextItem\"] = 5] = \"TaskAddContextItem\";\n      })(GanttClientCommand = exports.GanttClientCommand || (exports.GanttClientCommand = {}));\n      /***/\n\n    },\n    /* 86 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var BarManager = function () {\n        function BarManager(control, bars) {\n          this.control = control;\n          this.bars = bars;\n        }\n\n        BarManager.prototype.updateContextMenu = function () {\n          for (var i = 0, bar; bar = this.bars[i]; i++) {\n            if (bar.isContextMenu()) {\n              bar.updateItemsList();\n              var commandKeys = bar.getCommandKeys();\n\n              for (var j = 0; j < commandKeys.length; j++) {\n                this.updateBarItem(bar, commandKeys[j]);\n              }\n            }\n          }\n        };\n\n        BarManager.prototype.updateItemsState = function (queryCommands) {\n          var anyQuerySended = !!queryCommands.length;\n\n          for (var i = 0, bar; bar = this.bars[i]; i++) {\n            if (bar.isVisible()) {\n              var commandKeys = bar.getCommandKeys();\n\n              var _loop_1 = function _loop_1(j, commandKey) {\n                if (anyQuerySended && !queryCommands.filter(function (q) {\n                  return q == commandKey;\n                }).length) return \"continue\";\n                this_1.updateBarItem(bar, commandKey);\n              };\n\n              var this_1 = this;\n\n              for (var j = 0, commandKey = void 0; commandKey = commandKeys[j]; j++) {\n                _loop_1(j, commandKey);\n              }\n            }\n          }\n        };\n\n        BarManager.prototype.updateBarItem = function (bar, commandKey) {\n          var command = this.control.commandManager.getCommand(commandKey);\n\n          if (command) {\n            var commandState = command.getState();\n            bar.setItemVisible(commandKey, commandState.visible);\n\n            if (commandState.visible) {\n              bar.setItemEnabled(commandKey, commandState.enabled);\n              bar.setItemValue(commandKey, commandState.value);\n            }\n          }\n        };\n\n        return BarManager;\n      }();\n\n      exports.BarManager = BarManager;\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devexpress-gantt/dist/dx-gantt.js"],"names":["module","factory","define","exports","root","installedModules","i","l","modules","__webpack_require__","Object","enumerable","get","getter","Symbol","value","mode","ns","JsonUtils","obj","json","eval","Browser_1","DomUtils","isSafariVerLess3","isMacOSMobileVerLess51","evt","element","document","window","currentStyle","style","res","result","px","indexOfPx","parseFunction","isScrollBodyIE","isFirstCycle","curEl","pos","y","Math","isX","x","event","ret","className","oldClassName","elementClassName","updClassName","newClassName","classList","elementClasses","classNames","Time_1","TimeRange_1","Utils_1","DateRange_1","DayOfWeekMonthlyOccurrence_1","DateTimeUtils","date2","date1","diff","end","start","daysBetween","numWeeks","dateDiff","from","to","yearsDiff","monthDiff","date","num","days","day","month","year","dayOfWeekInMonthDates","occurrence","firstDayOfWeekInMonth","diffDays","dayOfWeek","specificDayOfWeekDate","dates","inc","src","ms","Date","isNaN","startT","timeRange","endT","_this","parts","h","parseInt","m","s","time2","time1","Point","DataObject","sourceObj","String","r","v","c","CommandBase","configurable","parameters","_i","arguments","SimpleCommandState","CollectionBase","range","index","set","val","sourceCollection","source","item","values","ViewType","Position","TaskTitlePosition","DomUtils_1","Point_1","GridLayoutCalculator_1","MouseEventSource","TaskAreaManager","ganttView","taskAreaY","relativeY","hoveredTaskIndex","clickedTask","now","clickedTaskIndex","__extends","extendStatics","__proto__","d","b","__","HistoryItem","CompositionHistoryItem","_super","historyItem","DateRange","DataObject_1","DayOfWeek_1","Month_1","DateTimeUtils_1","RecurrenceFactory_1","RecurrenceBase","interval","occurrenceCount","points","point","Browser","ignoreDocumentMode","browserTypesOrderedList","defaultBrowserType","defaultPlatform","defaultVersions","Safari","Chrome","Mozilla","Netscape","Firefox","Opera","IE","Edge","userAgent","platformIdentStrings","optSlashOrSpace","versionString","optVersion","patterns","Opera10","version","browserTypeCandidate","regExp","matches","browserType","tridentPattern","browserVersionDetected","minOccurenceIndex","Number","importantIdent","identStr","occurenceIndex","platform","samsungPattern","isSamsungAndroidDevice","versionFromTrident","ieCompatibleVersionString","type","isIETouchUI","isARMArchitecture","regex","versionStr","parseFloat","tridentDiffFromVersion","documentElementClassName","browserTypeslist","CollectionBase_1","Resource_1","ResourceCollection","DependencyType","Dependency","Size","width","height","Size_1","Enums_1","GridElementInfo_1","Dependency_1","GridLayoutCalculator","scrollBarHeight","viewModel","elementSizeValues","sizeValue","isVertical","posValue","scaleType","scaleItemLeft","scaleItemInfo","scaleItemRight","noWorkingIntervals","noWorkingIntervalLeft","noWorkingIntervalRight","resourceCount","resourceWidth","taskWidth","taskPoint","totalWidth","resultWidth","task","taskX","isInsideText","noWorkingDateRange","noWorkingInterval","connectorPoints","startPoint","endPoint","sizeCorrection","isEdgeLine","lineInfo","arrowPosition","arrowLineIndex","predessorIndex","connectorLines","prevLastPoint","lastPoint","startMonthStartDate","endMonthStartDate","monthOffset","endFromMonthStartDateOffset","startFromMonthStartDateOffset","startQuarterStartDate","endQuarterStartDate","quarterOffset","endFromQuarterStartDateOffset","startFromQuarterStartDateOffset","preResult","position","monthFromStart","time","topTaskPoint","bottomTaskPoint","topTaskRightCenter","isBottomMilestone","bottomTaskTopCenter","endPointIndent","shiftEndPointToRight","bottomTaskRightCenter","topTaskBottomCenter","bottomTaskLeftCenter","shiftToTop","isTopMilestone","startPointIndent","shiftStartPointToRight","topTaskLeftCenter","isMilestone","visibleAreaSizeValue","tickSizeValue","tickCount","firstVisibleIndex","lastVisibleIndex","scaleItemColSpan","renderedColIndices","scrollPos","j","successorIndex","id","connectorInfo","noWorkingIntervalInfo","modelInterval","infoPointValue","isVerticalTile","info","infoSizeValue","tileSizeValue","firstTileIndex","lastTileIndex","map","firstVisibleTileIndex","lastVisibleTileIndex","CONNECTOR_VERTICAL","CONNECTOR_HORIZONTAL","HistoryItemState_1","BaseManipulator","TaskPropertiesManipulator","TaskPropertyManipulator","oldState","stateValue","state","TaskTitleManipulator","TaskDescriptionManipulator","TaskProgressManipulator","TaskStartDateManipulator","TaskEndDateManipulator","HandlerStateBase_1","MouseHandlerStateBase","taskAreaX","absolutePos","MouseHandlerStateBase_1","MouseHandlerDragBaseState","HistoryItem_1","InsertDependencyHistoryItem","RemoveDependencyHistoryItem","CreateResourceHistoryItem","RemoveResourceHistoryItem","AssignResourceHistoryItem","DeassignResourceHistoryItem","CommandBase_1","DialogBase","params","initParams","DialogParametersBase","Time","min","sec","msec","minutes","TimeRange","DayOfWeekMonthlyOccurrence","Daily_1","Weekly_1","Monthly_1","Yearly_1","RecurrenceFactory","correctedType","recurrence","RecurrenceBase_1","Daily","daysToAdd","DateUtils","rangeStartTime","rangeEndTime","nearestLeftTickTime","nearestRightTickTime","viewType","tickCountAtLeft","nextTickDate","currentTickTime","createViewTypeToScaleMap","ElementTextHelper","canvas","computedStyle","font","scaleItemStartDate","isViewTypeScale","scaleItemDate","hours","hourDisplayText","amPmText","weekLastDayDate","monthNames","yearDisplayText","quarterNames","useAbbrMonthNames","dayNames","useAbbrDayNames","dayNameDisplayText","displayDayName","monthName","displayYear","dayTextTemplate","dayName","dayValueString","yearValueString","firstDayOfWeekString","longestTextWidth","texts","textWidth","Margins_1","GridElementInfo","size","TaskAreaManager_1","TaskEditController","parentNode","wrapInfo","progressOffset","progress","positionX","startDate","endDate","left","referenceDate","newDate","timeElement","startEl","startTitle","startValue","endEl","endTitle","endValue","posX","clearTimeout","setTimeout","temp","angle","length","TASK_EDIT_BOX","TASK_EDIT_FRAME","TASK_EDIT_PROGRESS","TASK_EDIT_PROGRESS_STATUS","TASK_EDIT_PROGRESS_STATUS_TIME","TASK_EDIT_DEPENDENCY_RIGTH","TASK_EDIT_DEPENDENCY_LEFT","TASK_EDIT_START","TASK_EDIT_END","TASK_EDIT_DEPENDENCY_LINE","TASK_EDIT_BOX_SUCCESSOR","TASK_EDIT_FRAME_SUCCESSOR","TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH","TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT","TaskPropertiesHistoryItemBase","TaskTitleHistoryItem","TaskDesriptionHistoryItem","TaskProgressHistoryItem","TaskStartHistoryItem","TaskEndHistoryItem","GanttView_1","VisualModel_1","EtalonSizeValues_1","TaskEditController_1","ModelManipulator_1","History_1","EventManager_1","TaskAreaContainer_1","Settings_1","ModelChangesDispatcher_1","CommandManager_1","BarManager_1","GanttView","ganttOwner","adjustedStartDate","adjustedEndDate","endTime","modelEndDate","visibleTickCount","visibleAreaStartDate","etalonElementsContainer","etalonElements","wrapper","taskTitle","milestoneWrapper","etalonElementClassNames","etalonElementInfo","t","parent","timeScaleArea","marginTop","getComputedStyle","currentDate","dayInMonthCount","dayCount","nextDate","scaleItemElement","scaleBorderInfo","newRenderedIndices","renderedIndices","newRenderedNoWorkingIntervals","newRenderedConnectorLines","oldRenderedElementsInfo","newRenderedelementsInfo","removeAction","createAction","isVerticalScroll","scaleElement","dictionary","taskVisualElement","resources","taskWrapperInfo","taskElementInfo","taskElement","taskProgressInfo","taskTextInfo","taskTextElement","resourceElementInfo","resElement","resource","selectionInfo","hlRowInfo","diffInHours","tasksData","dispatcher","modelChangesListener","ResourceCollection_1","TaskCollection_1","DependencyCollection_1","ResourceAssignmentCollection_1","ViewVisualModelItem_1","ViewVisualModelDependencyInfo_1","WorkingTimeCalculator_1","ViewVisualModel","tasks","list","_loop_1","parentId","parentItem","this_1","isRoot","visibleDependencies","assignments","assignment","dependencies","dependency","Resource","Task_1","TaskCollection","TaskType","Task","DependencyCollection","ResourceAssignment_1","ResourceAssignmentCollection","ResourceAssignment","ViewVisualModelItem","text","ViewVisualModelDependencyInfo","GanttWorkingDayRuleCollection_1","DayWorkingTimeInfo_1","WorkingTimeCalculator","rules","rule","dayNum","dayInfo","d1","d2","needExpandPrevInterval","WorkingTimeRule_1","WorkingDayRuleCollection","WorkingTimeRule","isWorkDay","workTimeRanges","ranges","DayOfWeek","Month","Weekly","weeksFromStart","intervalCount","remainder","isPointOnNewWeek","weeksToAdd","weekCount","MonthInfo_1","Monthly","monthToAdd","MonthInfo","nextMonth","yearInc","months","Yearly","yearFromStart","newYear","DayWorkingTimeInfo","dayNumber","intervals","intersectedRanges","r2","r1","starts","ends","Margins","EtalonSizeValues","DependencyManipulator_1","ResourcesManipulator_1","TaskManipulator_1","ModelManipulator","TaskPropertiesManipulator_1","TaskDependencyManipulator","predecessorId","successorId","HistoryItemState","ResourcesManipulator","a","taskId","resourceAssignment","resourceId","TaskManipulator","duration","description","taskType","title","customFields","expanded","History","transactionLength","exceedItemsCount","MouseHandler_1","KeyCode_1","EventManager","code","keyCode","modifiers","HandlerBase_1","MouseHandlerDefaultState_1","MouseHandlerMoveTaskState_1","MouseHandlerProgressTaskState_1","MouseHandlerTimestampTaskState_1","MouseHandlerDependencyState_1","MouseHandler","initSource","Node","HandlerBase","MouseHandlerDefaultState","increase","currentPos","scrollLeft","GanttMovingHelper","newEventX","newEventY","deltaX","deltaY","dirX","dirY","maxDeltaX","maxDeltaY","newScrollLeft","newScrollTop","taskAreaContainer","eventX","eventY","scrollTop","maxLeftDelta","maxRightDelta","maxTopDelta","maxBottomDelta","offsetHeight","drag","HandlerStateBase","MouseHandlerDragTaskBaseState_1","MouseHandlerMoveTaskState","MouseHandlerProgressTaskState","relativePosition","MouseHandlerTimestampTaskState","dependencyMap","MouseHandlerDependencyState","sourceElement","target","relativePos","hoverTaskIndex","ModifierKey","KeyCode","TaskAreaContainer","Settings","settings","EditingSettings","EventDispatcher_1","ModelChangesDispatcher","EventDispatcher","currentListener","args","listener","TaskCommands_1","TaskPropertiesCommands_1","DependencyCommands_1","ResourceCommands_1","TaskEditDialog_1","ConstraintViolationDialog_1","ResourcesDialog_1","ClientCommand_1","CommandManager","TaskHistoryItem_1","TaskDependencyHistoryItem_1","ResourceHistoryItem_1","TaskCommandBase","CreateTaskCommand","selectedTask","referenceItem","referenceTask","CreateSubTaskCommand","selectedItem","RemoveTaskCommand","childTasks","TaskAddContextItemCommand","CreateTaskHistoryItem","RemoveTaskHistoryItem","TaskPropertiesHistoryItem_1","TaskPropertyCommandBase","TaskTitleCommand","oldTitle","TaskDescriptionCommand","oldDescription","TaskProgressCommand","oldProgress","TaskStartCommand","oldStart","TaskEndCommand","oldEnd","DependencyCommandBase","CreateDependencyCommand","RemoveDependencyCommand","ResourceCommandBase","CreateResourceCommand","RemoveResourceCommand","AssignResourceCommand","DeassignResourceCommand","DialogBase_1","TaskEditDialogCommand","newParameters","oldParameters","assigned","options","param","TaskEditParameters","clone","ConstraintViolationOption","ConstraintViolationDialogCommand","ConstraintViolationDialogParameters","ResourcesDialogCommand","ResourcesDialogParameters","GanttClientCommand","BarManager","bar","commandKeys","anyQuerySended","queryCommands","q","commandKey","command","commandState"],"mappings":"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OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,CAAPA,GAARA,EAAO,CAAPA,GAAAA,OAAAA;AACAA,QAAAA,OAAO,CAACA,OAAO,CAAPA,OAAO,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","sourcesContent":["/*!\r\n * DevExpress Gantt (dx-gantt)\r\n * Version: 0.0.27\r\n * Build date: Thu Nov 28 2019\r\n * \r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs\r\n */\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"Gantt\"] = factory();\r\n\telse\r\n\t\troot[\"DevExpress\"] = root[\"DevExpress\"] || {}, root[\"DevExpress\"][\"Gantt\"] = factory();\r\n})(window, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// define __esModule on exports\r\n/******/ \t__webpack_require__.r = function(exports) {\r\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\r\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\r\n/******/ \t\t}\r\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\r\n/******/ \t};\r\n/******/\r\n/******/ \t// create a fake namespace object\r\n/******/ \t// mode & 1: value is a module id, require it\r\n/******/ \t// mode & 2: merge all properties of value into the ns\r\n/******/ \t// mode & 4: return value when already ns object\r\n/******/ \t// mode & 8|1: behave like require\r\n/******/ \t__webpack_require__.t = function(value, mode) {\r\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\r\n/******/ \t\tif(mode & 8) return value;\r\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\r\n/******/ \t\tvar ns = Object.create(null);\r\n/******/ \t\t__webpack_require__.r(ns);\r\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\r\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\r\n/******/ \t\treturn ns;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 32);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar JsonUtils = (function () {\r\n    function JsonUtils() {\r\n    }\r\n    JsonUtils.isExists = function (obj) {\r\n        return (typeof (obj) != \"undefined\") && (obj != null);\r\n    };\r\n    JsonUtils.isValidJson = function (json) {\r\n        return !(/[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]/.test(json.replace(/\"(\\\\.|[^\"\\\\])*\"/g, '')));\r\n    };\r\n    JsonUtils.evalJson = function (json) {\r\n        return JsonUtils.isValidJson(json) ? eval(\"(\" + json + \")\") : null;\r\n    };\r\n    return JsonUtils;\r\n}());\r\nexports.JsonUtils = JsonUtils;\r\n\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Browser_1 = __webpack_require__(12);\r\nvar DomUtils = (function () {\r\n    function DomUtils() {\r\n    }\r\n    DomUtils.clientEventRequiresDocScrollCorrection = function () {\r\n        var isSafariVerLess3 = Browser_1.Browser.Safari && Browser_1.Browser.Version < 3, isMacOSMobileVerLess51 = Browser_1.Browser.MacOSMobilePlatform && Browser_1.Browser.Version < 5.1;\r\n        return Browser_1.Browser.AndroidDefaultBrowser || Browser_1.Browser.AndroidChromeBrowser || !(isSafariVerLess3 || isMacOSMobileVerLess51);\r\n    };\r\n    DomUtils.getEventX = function (evt) {\r\n        return evt.clientX + (this.clientEventRequiresDocScrollCorrection() ? this.getDocumentScrollLeft() : 0);\r\n    };\r\n    DomUtils.getEventY = function (evt) {\r\n        return evt.clientY + (this.clientEventRequiresDocScrollCorrection() ? this.getDocumentScrollTop() : 0);\r\n    };\r\n    DomUtils.getEventSource = function (evt) {\r\n        return evt.srcElement ? evt.srcElement : evt.target;\r\n    };\r\n    DomUtils.GetKeyCode = function (evt) {\r\n        return Browser_1.Browser.NetscapeFamily || Browser_1.Browser.Opera ? evt.which : evt.keyCode;\r\n    };\r\n    DomUtils.GetIsParent = function (parentElement, element) {\r\n        if (!parentElement || !element)\r\n            return false;\r\n        while (element) {\r\n            if (element === parentElement)\r\n                return true;\r\n            if (element.tagName === \"BODY\")\r\n                return false;\r\n            element = element.parentNode;\r\n        }\r\n        return false;\r\n    };\r\n    DomUtils.getCurrentStyle = function (element) {\r\n        if (document.defaultView && document.defaultView.getComputedStyle)\r\n            return document.defaultView.getComputedStyle(element, null);\r\n        return window.getComputedStyle(element, null);\r\n    };\r\n    DomUtils.getTopPaddings = function (element) {\r\n        var currentStyle = this.getCurrentStyle(element);\r\n        return this.pxToInt(currentStyle.paddingTop);\r\n    };\r\n    DomUtils.getLeftPadding = function (element) {\r\n        var currentStyle = this.getCurrentStyle(element);\r\n        return this.pxToInt(currentStyle.paddingLeft);\r\n    };\r\n    DomUtils.getVerticalBordersWidth = function (element) {\r\n        var style = window.getComputedStyle ? window.getComputedStyle(element) : this.getCurrentStyle(element);\r\n        var res = 0;\r\n        if (style.borderTopStyle != \"none\")\r\n            res += this.pxToFloat(style.borderTopWidth);\r\n        if (style.borderBottomStyle != \"none\")\r\n            res += this.pxToFloat(style.borderBottomWidth);\r\n        return res;\r\n    };\r\n    DomUtils.getHorizontalBordersWidth = function (element) {\r\n        var style = window.getComputedStyle ? window.getComputedStyle(element) : this.getCurrentStyle(element);\r\n        var res = 0;\r\n        if (style.borderLeftStyle != \"none\")\r\n            res += this.pxToFloat(style.borderLeftWidth);\r\n        if (style.borderRightStyle != \"none\")\r\n            res += this.pxToFloat(style.borderRightWidth);\r\n        return res;\r\n    };\r\n    DomUtils.pxToInt = function (px) {\r\n        return this.pxToNumber(px, parseInt);\r\n    };\r\n    DomUtils.pxToFloat = function (px) {\r\n        return this.pxToNumber(px, parseFloat);\r\n    };\r\n    ;\r\n    DomUtils.pxToNumber = function (px, parseFunction) {\r\n        var result = 0;\r\n        if (px != null && px != \"\") {\r\n            try {\r\n                var indexOfPx = px.indexOf(\"px\");\r\n                if (indexOfPx > -1)\r\n                    result = parseFunction(px.substr(0, indexOfPx));\r\n            }\r\n            catch (e) { }\r\n        }\r\n        return result;\r\n    };\r\n    DomUtils.getDocumentScrollTop = function () {\r\n        var isScrollBodyIE = Browser_1.Browser.IE && this.getCurrentStyle(document.body).overflow == \"hidden\" && document.body.scrollTop > 0;\r\n        if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge || isScrollBodyIE) {\r\n            if (Browser_1.Browser.MacOSMobilePlatform)\r\n                return window.pageYOffset;\r\n            if (Browser_1.Browser.WebKitFamily)\r\n                return document.documentElement.scrollTop || document.body.scrollTop;\r\n            return document.body.scrollTop;\r\n        }\r\n        else\r\n            return document.documentElement.scrollTop;\r\n    };\r\n    DomUtils.getDocumentScrollLeft = function () {\r\n        var isScrollBodyIE = Browser_1.Browser.IE && this.getCurrentStyle(document.body).overflow == \"hidden\" && document.body.scrollLeft > 0;\r\n        if (Browser_1.Browser.Edge || isScrollBodyIE)\r\n            return document.body ? document.body.scrollLeft : document.documentElement.scrollLeft;\r\n        if (Browser_1.Browser.WebKitFamily)\r\n            return document.documentElement.scrollLeft || document.body.scrollLeft;\r\n        return document.documentElement.scrollLeft;\r\n    };\r\n    DomUtils.getAbsolutePositionY = function (element) {\r\n        if (Browser_1.Browser.IE)\r\n            return this.getAbsolutePositionY_IE(element);\r\n        else if (Browser_1.Browser.Firefox && Browser_1.Browser.Version >= 3)\r\n            return this.getAbsolutePositionY_FF3(element);\r\n        else if (Browser_1.Browser.Opera)\r\n            return this.getAbsolutePositionY_Opera(element);\r\n        else if (Browser_1.Browser.NetscapeFamily && (!Browser_1.Browser.Firefox || Browser_1.Browser.Version < 3))\r\n            return this.getAbsolutePositionY_NS(element);\r\n        else if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge)\r\n            return this.getAbsolutePositionY_FF3(element);\r\n        else\r\n            return this.getAbsolutePositionY_Other(element);\r\n    };\r\n    DomUtils.getAbsolutePositionY_Opera = function (curEl) {\r\n        var isFirstCycle = true;\r\n        if (curEl && curEl.tagName == \"TR\" && curEl.cells.length > 0)\r\n            curEl = curEl.cells[0];\r\n        var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, false);\r\n        while (curEl != null) {\r\n            pos += curEl.offsetTop;\r\n            if (!isFirstCycle)\r\n                pos -= curEl.scrollTop;\r\n            curEl = curEl.offsetParent;\r\n            isFirstCycle = false;\r\n        }\r\n        pos += document.body.scrollTop;\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsolutePositionY_IE = function (element) {\r\n        if (element == null || Browser_1.Browser.IE && element.parentNode == null)\r\n            return 0;\r\n        return element.getBoundingClientRect().top + this.getDocumentScrollTop();\r\n    };\r\n    DomUtils.getAbsolutePositionY_FF3 = function (element) {\r\n        if (element == null)\r\n            return 0;\r\n        var y = element.getBoundingClientRect().top + this.getDocumentScrollTop();\r\n        return Math.round(y);\r\n    };\r\n    DomUtils.getAbsolutePositionY_NS = function (curEl) {\r\n        var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, false);\r\n        var isFirstCycle = true;\r\n        while (curEl != null) {\r\n            pos += curEl.offsetTop;\r\n            if (!isFirstCycle && curEl.offsetParent != null)\r\n                pos -= curEl.scrollTop;\r\n            if (!isFirstCycle && Browser_1.Browser.Firefox) {\r\n                var style = this.getCurrentStyle(curEl);\r\n                if (curEl.tagName == \"DIV\" && style.overflow != \"visible\")\r\n                    pos += this.pxToInt(style.borderTopWidth);\r\n            }\r\n            isFirstCycle = false;\r\n            curEl = curEl.offsetParent;\r\n        }\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsolutePositionY_Other = function (curEl) {\r\n        var pos = 0;\r\n        var isFirstCycle = true;\r\n        while (curEl != null) {\r\n            pos += curEl.offsetTop;\r\n            if (!isFirstCycle && curEl.offsetParent != null)\r\n                pos -= curEl.scrollTop;\r\n            isFirstCycle = false;\r\n            curEl = curEl.offsetParent;\r\n        }\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsoluteScrollOffset_OperaFF = function (curEl, isX) {\r\n        var pos = 0;\r\n        var isFirstCycle = true;\r\n        while (curEl != null) {\r\n            if (curEl.tagName == \"BODY\")\r\n                break;\r\n            var style = this.getCurrentStyle(curEl);\r\n            if (style.position == \"absolute\")\r\n                break;\r\n            if (!isFirstCycle && curEl.tagName == \"DIV\" && (style.position == \"\" || style.position == \"static\"))\r\n                pos -= isX ? curEl.scrollLeft : curEl.scrollTop;\r\n            curEl = curEl.parentNode;\r\n            isFirstCycle = false;\r\n        }\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsolutePositionX = function (element) {\r\n        if (Browser_1.Browser.IE)\r\n            return this.getAbsolutePositionX_IE(element);\r\n        else if (Browser_1.Browser.Firefox && Browser_1.Browser.Version >= 3)\r\n            return this.getAbsolutePositionX_FF3(element);\r\n        else if (Browser_1.Browser.Opera)\r\n            return this.getAbsolutePositionX_Opera(element);\r\n        else if (Browser_1.Browser.NetscapeFamily && (!Browser_1.Browser.Firefox || Browser_1.Browser.Version < 3))\r\n            return this.getAbsolutePositionX_NS(element);\r\n        else if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge)\r\n            return this.getAbsolutePositionX_FF3(element);\r\n        else\r\n            return this.getAbsolutePositionX_Other(element);\r\n    };\r\n    DomUtils.getAbsolutePositionX_Opera = function (curEl) {\r\n        var isFirstCycle = true;\r\n        var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, true);\r\n        while (curEl != null) {\r\n            pos += curEl.offsetLeft;\r\n            if (!isFirstCycle)\r\n                pos -= curEl.scrollLeft;\r\n            curEl = curEl.offsetParent;\r\n            isFirstCycle = false;\r\n        }\r\n        pos += document.body.scrollLeft;\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsolutePositionX_IE = function (element) {\r\n        if (element == null || Browser_1.Browser.IE && element.parentNode == null)\r\n            return 0;\r\n        return element.getBoundingClientRect().left + this.getDocumentScrollLeft();\r\n    };\r\n    DomUtils.getAbsolutePositionX_FF3 = function (element) {\r\n        if (element == null)\r\n            return 0;\r\n        var x = element.getBoundingClientRect().left + this.getDocumentScrollLeft();\r\n        return Math.round(x);\r\n    };\r\n    DomUtils.getAbsolutePositionX_NS = function (curEl) {\r\n        var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, true);\r\n        var isFirstCycle = true;\r\n        while (curEl != null) {\r\n            pos += curEl.offsetLeft;\r\n            if (!isFirstCycle && curEl.offsetParent != null)\r\n                pos -= curEl.scrollLeft;\r\n            if (!isFirstCycle && Browser_1.Browser.Firefox) {\r\n                var style = this.getCurrentStyle(curEl);\r\n                if (curEl.tagName == \"DIV\" && style.overflow != \"visible\")\r\n                    pos += this.pxToInt(style.borderLeftWidth);\r\n            }\r\n            isFirstCycle = false;\r\n            curEl = curEl.offsetParent;\r\n        }\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsolutePositionX_Other = function (curEl) {\r\n        var pos = 0;\r\n        var isFirstCycle = true;\r\n        while (curEl != null) {\r\n            pos += curEl.offsetLeft;\r\n            if (!isFirstCycle && curEl.offsetParent != null)\r\n                pos -= curEl.scrollLeft;\r\n            isFirstCycle = false;\r\n            curEl = curEl.offsetParent;\r\n        }\r\n        return pos;\r\n    };\r\n    DomUtils.GetEvent = function (evt) {\r\n        return (typeof (event) != \"undefined\" && event != null && Browser_1.Browser.IE) ? event : evt;\r\n    };\r\n    DomUtils.isExists = function (obj) {\r\n        return (typeof (obj) != \"undefined\") && (obj != null);\r\n    };\r\n    DomUtils.isTouchEvent = function (evt) {\r\n        if (!evt)\r\n            return false;\r\n        return Browser_1.Browser.WebKitTouchUI && DomUtils.isExists(evt.changedTouches);\r\n    };\r\n    DomUtils.IsLeftButtonPressed = function (evt) {\r\n        if (DomUtils.isTouchEvent(evt))\r\n            return true;\r\n        evt = DomUtils.GetEvent(evt);\r\n        if (!evt)\r\n            return false;\r\n        if (Browser_1.Browser.IE && Browser_1.Browser.Version < 11) {\r\n            if (Browser_1.Browser.MSTouchUI)\r\n                return true;\r\n            return evt.button % 2 == 1;\r\n        }\r\n        else if (Browser_1.Browser.WebKitFamily) {\r\n            if (evt.type === \"pointermove\")\r\n                return evt.buttons === 1;\r\n            return evt.which == 1;\r\n        }\r\n        else if (Browser_1.Browser.NetscapeFamily || Browser_1.Browser.Edge || (Browser_1.Browser.IE && Browser_1.Browser.Version >= 11)) {\r\n            if (evt.type === DomUtils.touchMouseMoveEventName)\r\n                return evt.buttons === 1;\r\n            return evt.which == 1;\r\n        }\r\n        else if (Browser_1.Browser.Opera)\r\n            return evt.button == 0;\r\n        return true;\r\n    };\r\n    DomUtils.touchMouseMoveEventName = Browser_1.Browser.WebKitTouchUI ? \"touchmove\" : (Browser_1.Browser.Edge && Browser_1.Browser.MSTouchUI && window.PointerEvent ? \"pointermove\" : \"mousemove\");\r\n    DomUtils.getMouseWheelEventName = function () {\r\n        if (Browser_1.Browser.Safari)\r\n            return \"mousewheel\";\r\n        if (Browser_1.Browser.NetscapeFamily && Browser_1.Browser.MajorVersion < 17)\r\n            return \"DOMMouseScroll\";\r\n        return \"wheel\";\r\n    };\r\n    DomUtils.getWheelDelta = function (evt) {\r\n        var ret;\r\n        if (Browser_1.Browser.NetscapeFamily && Browser_1.Browser.MajorVersion < 17)\r\n            ret = -evt.detail;\r\n        else if (Browser_1.Browser.Safari)\r\n            ret = evt.wheelDelta;\r\n        else\r\n            ret = -evt.deltaY;\r\n        if (Browser_1.Browser.Opera && Browser_1.Browser.Version < 9)\r\n            ret = -ret;\r\n        return ret;\r\n    };\r\n    DomUtils.IsRightButtonPressed = function (evt) {\r\n        evt = DomUtils.GetEvent(evt);\r\n        if (!DomUtils.isExists(evt))\r\n            return false;\r\n        if (Browser_1.Browser.IE || Browser_1.Browser.Edge) {\r\n            if (evt.type === \"pointermove\")\r\n                return evt.buttons === 2;\r\n            return evt.button == 2;\r\n        }\r\n        else if (Browser_1.Browser.NetscapeFamily || Browser_1.Browser.WebKitFamily)\r\n            return evt.which == 3;\r\n        else if (Browser_1.Browser.Opera)\r\n            return evt.button == 1;\r\n        return true;\r\n    };\r\n    DomUtils.addClassNameToElement = function (element, className) {\r\n        if (!element || typeof (className) !== \"string\")\r\n            return;\r\n        className = DomUtils.trim(className);\r\n        if (!DomUtils.elementHasCssClass(element, className) && className !== \"\") {\r\n            var oldClassName = DomUtils.getClassName(element);\r\n            DomUtils.setClassName(element, (oldClassName === \"\") ? className : oldClassName + \" \" + className);\r\n        }\r\n    };\r\n    DomUtils.removeClassNameFromElement = function (element, className) {\r\n        if (!element)\r\n            return;\r\n        var elementClassName = DomUtils.getClassName(element);\r\n        var updClassName = \" \" + elementClassName + \" \";\r\n        var newClassName = updClassName.replace(\" \" + className + \" \", \" \");\r\n        if (updClassName.length != newClassName.length)\r\n            DomUtils.setClassName(element, DomUtils.trim(newClassName));\r\n    };\r\n    DomUtils.elementHasCssClass = function (element, className) {\r\n        try {\r\n            var elementClasses;\r\n            var classList = DomUtils.getClassNameList(element);\r\n            if (!classList) {\r\n                var elementClassName = DomUtils.getClassName(element);\r\n                if (!elementClassName) {\r\n                    return false;\r\n                }\r\n                elementClasses = elementClassName.split(\" \");\r\n            }\r\n            var classNames = className.split(\" \");\r\n            for (var i = classNames.length - 1; i >= 0; i--) {\r\n                if (classList) {\r\n                    if (classList.indexOf(classNames[i]) === -1)\r\n                        return false;\r\n                    continue;\r\n                }\r\n                if (elementClasses.indexOf(classNames[i]) < 0)\r\n                    return false;\r\n            }\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    DomUtils.getClassName = function (element) {\r\n        var result = \"\";\r\n        if (element) {\r\n            if (element.tagName === \"svg\")\r\n                result = element.className.baseVal;\r\n            else\r\n                result = element.className ? element.className : \"\";\r\n        }\r\n        return result;\r\n    };\r\n    DomUtils.getClassNameList = function (element) {\r\n        var result = [];\r\n        if (element) {\r\n            if (element.tagName === \"svg\")\r\n                result = DomUtils.getClassName(element).replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\r\n            else\r\n                result = element.classList ? [].slice.call(element.classList) : DomUtils.getClassName(element).replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\r\n        }\r\n        return result;\r\n    };\r\n    DomUtils.setClassName = function (element, className) {\r\n        if (element.tagName === \"svg\") {\r\n            element.className.baseVal = DomUtils.trim(className);\r\n        }\r\n        else {\r\n            element.className = DomUtils.trim(className);\r\n        }\r\n    };\r\n    DomUtils.trim = function (str) {\r\n        var result = str;\r\n        result = result.replace(/^\\s+/, \"\");\r\n        result = result.replace(/\\s+$/, \"\");\r\n        return result;\r\n    };\r\n    return DomUtils;\r\n}());\r\nexports.DomUtils = DomUtils;\r\n\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Time_1 = __webpack_require__(23);\r\nvar TimeRange_1 = __webpack_require__(24);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DateRange_1 = __webpack_require__(10);\r\nvar DayOfWeekMonthlyOccurrence_1 = __webpack_require__(25);\r\nvar DateTimeUtils = (function () {\r\n    function DateTimeUtils() {\r\n    }\r\n    DateTimeUtils.compareDates = function (date1, date2) {\r\n        if (!date1 || !date2)\r\n            return -1;\r\n        return date2.getTime() - date1.getTime();\r\n    };\r\n    DateTimeUtils.areDatesEqual = function (date1, date2) {\r\n        return this.compareDates(date1, date2) == 0;\r\n    };\r\n    DateTimeUtils.getMaxDate = function (date1, date2) {\r\n        if (!date1 && !date2)\r\n            return null;\r\n        if (!date1)\r\n            return date2;\r\n        if (!date2)\r\n            return date1;\r\n        var diff = this.compareDates(date1, date2);\r\n        return diff > 0 ? date2 : date1;\r\n    };\r\n    DateTimeUtils.getMinDate = function (date1, date2) {\r\n        if (!date1 && !date2)\r\n            return null;\r\n        if (!date1)\r\n            return date2;\r\n        if (!date2)\r\n            return date1;\r\n        var diff = this.compareDates(date1, date2);\r\n        return diff > 0 ? date1 : date2;\r\n    };\r\n    DateTimeUtils.getDaysBetween = function (start, end) {\r\n        var diff = Math.abs(end.getTime() - start.getTime());\r\n        return Math.ceil(diff / this.msInDay);\r\n    };\r\n    DateTimeUtils.getWeeksBetween = function (start, end) {\r\n        var daysBetween = this.getDaysBetween(start, end);\r\n        var numWeeks = Math.floor(daysBetween / 7);\r\n        if (start.getDay() > end.getDay())\r\n            numWeeks++;\r\n        return numWeeks;\r\n    };\r\n    DateTimeUtils.getMonthsDifference = function (start, end) {\r\n        var dateDiff = this.compareDates(start, end);\r\n        var from = dateDiff >= 0 ? start : end;\r\n        var to = dateDiff >= 0 ? end : start;\r\n        var yearsDiff = to.getFullYear() - from.getFullYear();\r\n        var monthDiff = yearsDiff * 12 + (to.getMonth() - from.getMonth());\r\n        return monthDiff;\r\n    };\r\n    DateTimeUtils.getYearsDifference = function (start, end) {\r\n        return Math.abs(end.getFullYear() - start.getFullYear());\r\n    };\r\n    DateTimeUtils.getDayNumber = function (date) {\r\n        return Math.ceil(date.getTime() / this.msInDay);\r\n    };\r\n    DateTimeUtils.getDateByDayNumber = function (num) {\r\n        var date = new Date(num * this.msInDay);\r\n        date.setHours(0);\r\n        date.setMinutes(0);\r\n        date.setSeconds(0);\r\n        return date;\r\n    };\r\n    DateTimeUtils.addDays = function (date, days) {\r\n        return new Date(date.getTime() + days * this.msInDay);\r\n    };\r\n    DateTimeUtils.checkDayOfMonth = function (day, date) {\r\n        return day == date.getDate();\r\n    };\r\n    DateTimeUtils.checkDayOfWeek = function (day, date) {\r\n        return day == date.getDay();\r\n    };\r\n    DateTimeUtils.checkMonth = function (month, date) {\r\n        return month == date.getMonth();\r\n    };\r\n    DateTimeUtils.checkYear = function (year, date) {\r\n        return year == date.getFullYear();\r\n    };\r\n    DateTimeUtils.checkDayOfWeekOccurrenceInMonth = function (date, dayOfWeek, occurrence) {\r\n        var dayOfWeekInMonthDates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, date.getFullYear(), date.getMonth());\r\n        if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last)\r\n            return this.areDatesEqual(date, dayOfWeekInMonthDates[dayOfWeekInMonthDates.length - 1]);\r\n        return this.areDatesEqual(date, dayOfWeekInMonthDates[occurrence]);\r\n    };\r\n    DateTimeUtils.getFirstDayOfWeekInMonth = function (year, month) {\r\n        var date = new Date(year, month, 1);\r\n        return date.getDay();\r\n    };\r\n    DateTimeUtils.getSpecificDayOfWeekInMonthDates = function (dayOfWeek, year, month) {\r\n        var firstDayOfWeekInMonth = this.getFirstDayOfWeekInMonth(year, month);\r\n        var diffDays = dayOfWeek >= firstDayOfWeekInMonth ? dayOfWeek - firstDayOfWeekInMonth : dayOfWeek + 7 - firstDayOfWeekInMonth;\r\n        var res = new Array();\r\n        var specificDayOfWeekDate = new Date(year, month, diffDays + 1);\r\n        while (specificDayOfWeekDate.getMonth() == month) {\r\n            res.push(specificDayOfWeekDate);\r\n            specificDayOfWeekDate = this.addDays(specificDayOfWeekDate, 7);\r\n        }\r\n        return res;\r\n    };\r\n    DateTimeUtils.getSpecificDayOfWeekInMonthDate = function (dayOfWeek, year, month, occurrence) {\r\n        var dates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, year, month);\r\n        if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last)\r\n            return dates[dates.length - 1];\r\n        return dates[occurrence];\r\n    };\r\n    DateTimeUtils.checkValidDayInMonth = function (year, month, day) {\r\n        if (day < 1 || day > 31 || (new Date(year, month, day)).getMonth() != month)\r\n            return false;\r\n        return true;\r\n    };\r\n    DateTimeUtils.getNextMonth = function (month, inc) {\r\n        if (inc === void 0) { inc = 1; }\r\n        return (month + inc) % 12;\r\n    };\r\n    DateTimeUtils.convertToDate = function (src) {\r\n        if (src instanceof Date)\r\n            return new Date(src);\r\n        var ms = Date.parse(src);\r\n        if (!isNaN(ms))\r\n            return new Date(ms);\r\n        return null;\r\n    };\r\n    DateTimeUtils.convertTimeRangeToDateRange = function (timeRange, dayNumber) {\r\n        var date = this.getDateByDayNumber(dayNumber);\r\n        var year = date.getFullYear();\r\n        var month = date.getMonth();\r\n        var day = date.getDate();\r\n        var startT = timeRange.start;\r\n        var start = new Date(year, month, day, startT.hour, startT.min, startT.sec, startT.msec);\r\n        var endT = timeRange.end;\r\n        var end = new Date(year, month, day, endT.hour, endT.min, endT.sec, endT.msec);\r\n        return new DateRange_1.DateRange(start, end);\r\n    };\r\n    DateTimeUtils.convertToTimeRanges = function (src) {\r\n        var _this = this;\r\n        if (src instanceof Array)\r\n            return src.map(function (x) { return _this.convertToTimeRange(x); });\r\n        return this.parseTimeRanges(src);\r\n    };\r\n    DateTimeUtils.convertToTimeRange = function (src) {\r\n        if (!src)\r\n            return null;\r\n        if (src instanceof TimeRange_1.TimeRange)\r\n            return src;\r\n        if (Utils_1.JsonUtils.isExists(src.start) && Utils_1.JsonUtils.isExists(src.end))\r\n            return new TimeRange_1.TimeRange(this.convertToTime(src.start), this.convertToTime(src.end));\r\n        return this.parseTimeRange(src);\r\n    };\r\n    DateTimeUtils.convertToTime = function (src) {\r\n        if (!src)\r\n            return null;\r\n        if (src instanceof Time_1.Time)\r\n            return src;\r\n        if (src instanceof Date)\r\n            return this.getTimeGromJsDate(src);\r\n        return this.parseTime(src);\r\n    };\r\n    DateTimeUtils.parseTimeRanges = function (src) {\r\n        var _this = this;\r\n        if (!src)\r\n            return null;\r\n        var parts = src.split(/;|,/);\r\n        return parts.map(function (p) { return _this.parseTimeRange(p); }).filter(function (r) { return !!r; });\r\n    };\r\n    DateTimeUtils.parseTimeRange = function (src) {\r\n        if (!src)\r\n            return null;\r\n        var parts = src.split(\"-\");\r\n        var start = parts[0];\r\n        var end = parts[1];\r\n        if (Utils_1.JsonUtils.isExists(start) && Utils_1.JsonUtils.isExists(end))\r\n            return new TimeRange_1.TimeRange(this.parseTime(start), this.parseTime(end));\r\n        return null;\r\n    };\r\n    DateTimeUtils.parseTime = function (src) {\r\n        if (!src)\r\n            return null;\r\n        var parts = src.split(\":\");\r\n        var h = parseInt(parts[0]) || 0;\r\n        var m = parseInt(parts[1]) || 0;\r\n        var s = parseInt(parts[2]) || 0;\r\n        var ms = parseInt(parts[3]) || 0;\r\n        return new Time_1.Time(h, m, s, ms);\r\n    };\r\n    DateTimeUtils.getTimeGromJsDate = function (date) {\r\n        if (!date)\r\n            return null;\r\n        var h = date.getHours();\r\n        var m = date.getMinutes();\r\n        var s = date.getSeconds();\r\n        var ms = date.getMilliseconds();\r\n        return new Time_1.Time(h, m, s, ms);\r\n    };\r\n    DateTimeUtils.caclTimeDifference = function (time1, time2) {\r\n        return time2.getTimeInMilleconds() - time1.getTimeInMilleconds();\r\n    };\r\n    DateTimeUtils.areTimesEqual = function (time1, time2) {\r\n        return this.caclTimeDifference(time1, time2) == 0;\r\n    };\r\n    DateTimeUtils.getMaxTime = function (time1, time2) {\r\n        if (!time1 && !time2)\r\n            return null;\r\n        if (!time1)\r\n            return time2;\r\n        if (!time2)\r\n            return time1;\r\n        var diff = this.caclTimeDifference(time1, time2);\r\n        return diff > 0 ? time2 : time1;\r\n    };\r\n    DateTimeUtils.getMinTime = function (time1, time2) {\r\n        if (!time1 && !time2)\r\n            return null;\r\n        if (!time1)\r\n            return time2;\r\n        if (!time2)\r\n            return time1;\r\n        var diff = this.caclTimeDifference(time1, time2);\r\n        return diff > 0 ? time1 : time2;\r\n    };\r\n    DateTimeUtils.getLastTimeOfDay = function () {\r\n        return new Time_1.Time(23, 59, 59, 999);\r\n    };\r\n    DateTimeUtils.msInDay = 24 * 3600 * 1000;\r\n    return DateTimeUtils;\r\n}());\r\nexports.DateTimeUtils = DateTimeUtils;\r\n\r\n\r\n/***/ }),\r\n/* 3 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Point = (function () {\r\n    function Point(x, y) {\r\n        this.x = null;\r\n        this.y = null;\r\n        if (x !== undefined)\r\n            this.x = x;\r\n        if (y !== undefined)\r\n            this.y = y;\r\n    }\r\n    return Point;\r\n}());\r\nexports.Point = Point;\r\n\r\n\r\n/***/ }),\r\n/* 4 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DataObject = (function () {\r\n    function DataObject() {\r\n        this.internalId = this.generateGuid();\r\n    }\r\n    DataObject.prototype.assignFromObject = function (sourceObj) {\r\n        if (!Utils_1.JsonUtils.isExists(sourceObj))\r\n            return;\r\n        if (Utils_1.JsonUtils.isExists(sourceObj.id)) {\r\n            this.id = sourceObj.id;\r\n            this.internalId = String(sourceObj.id);\r\n        }\r\n    };\r\n    DataObject.prototype.generateGuid = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    return DataObject;\r\n}());\r\nexports.DataObject = DataObject;\r\n\r\n\r\n/***/ }),\r\n/* 5 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase = (function () {\r\n    function CommandBase(control) {\r\n        this.control = control;\r\n    }\r\n    Object.defineProperty(CommandBase.prototype, \"modelManipulator\", {\r\n        get: function () { return this.control.modelManipulator; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandBase.prototype, \"history\", {\r\n        get: function () { return this.control.history; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandBase.prototype, \"state\", {\r\n        get: function () {\r\n            if (!this._state)\r\n                this._state = this.getState();\r\n            return this._state;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CommandBase.prototype.execute = function () {\r\n        var parameters = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            parameters[_i] = arguments[_i];\r\n        }\r\n        if (!this.state.enabled)\r\n            return false;\r\n        return this.executeInternal.apply(this, parameters);\r\n    };\r\n    CommandBase.prototype.isEnabled = function () {\r\n        return this.control.settings.editing.enabled;\r\n    };\r\n    CommandBase.prototype.executeInternal = function () {\r\n        var parameters = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            parameters[_i] = arguments[_i];\r\n        }\r\n        throw new Error(\"Not implemented\");\r\n    };\r\n    ;\r\n    return CommandBase;\r\n}());\r\nexports.CommandBase = CommandBase;\r\nvar SimpleCommandState = (function () {\r\n    function SimpleCommandState(enabled, value) {\r\n        this.visible = true;\r\n        this.enabled = enabled;\r\n        this.value = value;\r\n    }\r\n    return SimpleCommandState;\r\n}());\r\nexports.SimpleCommandState = SimpleCommandState;\r\n\r\n\r\n/***/ }),\r\n/* 6 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar CollectionBase = (function () {\r\n    function CollectionBase() {\r\n        this._items = new Array();\r\n        this._isGanttCollection = true;\r\n    }\r\n    CollectionBase.prototype.add = function (element) {\r\n        if (!Utils_1.JsonUtils.isExists(element))\r\n            return;\r\n        if (!!this.getItemById(element.internalId))\r\n            throw \"The collection item with id ='\" + element.internalId + \"' already exists.\";\r\n        this._items.push(element);\r\n    };\r\n    CollectionBase.prototype.addRange = function (range) {\r\n        for (var i = 0; i < range.length; i++)\r\n            this.add(range[i]);\r\n    };\r\n    CollectionBase.prototype.remove = function (element) {\r\n        var index = this._items.indexOf(element);\r\n        if (index > -1 && index < this._items.length)\r\n            this._items.splice(index, 1);\r\n    };\r\n    CollectionBase.prototype.clear = function () {\r\n        this._items.splice(0, this._items.length);\r\n    };\r\n    Object.defineProperty(CollectionBase.prototype, \"items\", {\r\n        get: function () {\r\n            return this._items.slice();\r\n        },\r\n        set: function (value) {\r\n            if (value)\r\n                this._items = value.slice();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CollectionBase.prototype, \"length\", {\r\n        get: function () {\r\n            return this._items.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CollectionBase.prototype.getItem = function (index) {\r\n        if (index > -1 && index < this._items.length)\r\n            return this._items[index];\r\n        return null;\r\n    };\r\n    CollectionBase.prototype.getItemById = function (id) {\r\n        return this._items.filter(function (val) { return val.internalId === id; })[0];\r\n    };\r\n    CollectionBase.prototype.getItemByPublicId = function (id) {\r\n        return this._items.filter(function (val) { return val.id === id || val.id.toString() === id; })[0];\r\n    };\r\n    CollectionBase.prototype.assign = function (sourceCollection) {\r\n        if (!Utils_1.JsonUtils.isExists(sourceCollection))\r\n            return;\r\n        this.items = sourceCollection.items;\r\n    };\r\n    CollectionBase.prototype.importFromObject = function (source) {\r\n        if (!Utils_1.JsonUtils.isExists(source))\r\n            return;\r\n        this.clear();\r\n        if (source._isGanttCollection)\r\n            this.assign(source);\r\n        else if (source instanceof Array) {\r\n            this.importFromArray(source);\r\n        }\r\n        else {\r\n            this.createItemFromObjectAndAdd(source);\r\n        }\r\n    };\r\n    CollectionBase.prototype.createItemFromObjectAndAdd = function (source) {\r\n        if (Utils_1.JsonUtils.isExists(source)) {\r\n            var item = this.createItem();\r\n            item.assignFromObject(source);\r\n            this.add(item);\r\n        }\r\n    };\r\n    CollectionBase.prototype.importFromArray = function (values) {\r\n        for (var i = 0; i < values.length; i++)\r\n            this.createItemFromObjectAndAdd(values[i]);\r\n    };\r\n    CollectionBase.prototype.importFromJSON = function (json) {\r\n        this.importFromObject(Utils_1.JsonUtils.evalJson(json));\r\n    };\r\n    return CollectionBase;\r\n}());\r\nexports.CollectionBase = CollectionBase;\r\n\r\n\r\n/***/ }),\r\n/* 7 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ViewType;\r\n(function (ViewType) {\r\n    ViewType[ViewType[\"TenMinutes\"] = 0] = \"TenMinutes\";\r\n    ViewType[ViewType[\"Hours\"] = 1] = \"Hours\";\r\n    ViewType[ViewType[\"SixHours\"] = 2] = \"SixHours\";\r\n    ViewType[ViewType[\"Days\"] = 3] = \"Days\";\r\n    ViewType[ViewType[\"Weeks\"] = 4] = \"Weeks\";\r\n    ViewType[ViewType[\"Months\"] = 5] = \"Months\";\r\n    ViewType[ViewType[\"Quarter\"] = 6] = \"Quarter\";\r\n    ViewType[ViewType[\"Years\"] = 7] = \"Years\";\r\n    ViewType[ViewType[\"FiveYears\"] = 8] = \"FiveYears\";\r\n})(ViewType = exports.ViewType || (exports.ViewType = {}));\r\nvar Position;\r\n(function (Position) {\r\n    Position[Position[\"Left\"] = 0] = \"Left\";\r\n    Position[Position[\"Top\"] = 1] = \"Top\";\r\n    Position[Position[\"Right\"] = 2] = \"Right\";\r\n    Position[Position[\"Bottom\"] = 3] = \"Bottom\";\r\n})(Position = exports.Position || (exports.Position = {}));\r\nvar TaskTitlePosition;\r\n(function (TaskTitlePosition) {\r\n    TaskTitlePosition[TaskTitlePosition[\"Inside\"] = 0] = \"Inside\";\r\n    TaskTitlePosition[TaskTitlePosition[\"Outside\"] = 1] = \"Outside\";\r\n    TaskTitlePosition[TaskTitlePosition[\"None\"] = 2] = \"None\";\r\n})(TaskTitlePosition = exports.TaskTitlePosition || (exports.TaskTitlePosition = {}));\r\n\r\n\r\n/***/ }),\r\n/* 8 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar Point_1 = __webpack_require__(3);\r\nvar Browser_1 = __webpack_require__(12);\r\nvar GridLayoutCalculator_1 = __webpack_require__(16);\r\nvar MouseEventSource;\r\n(function (MouseEventSource) {\r\n    MouseEventSource[MouseEventSource[\"TaskArea\"] = 0] = \"TaskArea\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_Frame\"] = 1] = \"TaskEdit_Frame\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_Progress\"] = 2] = \"TaskEdit_Progress\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_Start\"] = 3] = \"TaskEdit_Start\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_End\"] = 4] = \"TaskEdit_End\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_DependencyStart\"] = 5] = \"TaskEdit_DependencyStart\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_DependencyFinish\"] = 6] = \"TaskEdit_DependencyFinish\";\r\n    MouseEventSource[MouseEventSource[\"Successor_Wrapper\"] = 7] = \"Successor_Wrapper\";\r\n    MouseEventSource[MouseEventSource[\"Successor_DependencyStart\"] = 8] = \"Successor_DependencyStart\";\r\n    MouseEventSource[MouseEventSource[\"Successor_DependencyFinish\"] = 9] = \"Successor_DependencyFinish\";\r\n})(MouseEventSource = exports.MouseEventSource || (exports.MouseEventSource = {}));\r\nvar TaskAreaManager = (function () {\r\n    function TaskAreaManager(ganttView) {\r\n        this.ganttView = ganttView;\r\n        this.eventManager = ganttView.eventManager;\r\n        this.mousePosition = new Point_1.Point(-1, -1);\r\n        this.initMouseEvents();\r\n    }\r\n    TaskAreaManager.prototype.initMouseEvents = function () {\r\n        var _this = this;\r\n        this.ganttView.taskArea.addEventListener(\"click\", function (evt) { _this.onTaskAreaClick(evt); });\r\n        this.ganttView.taskArea.addEventListener(\"scroll\", this.ganttView.updateView.bind(this.ganttView));\r\n        this.ganttView.taskArea.addEventListener(\"contextmenu\", function (evt) { _this.onContextMenu(evt); });\r\n        this.ganttView.taskArea.addEventListener(DomUtils_1.DomUtils.getMouseWheelEventName(), function (evt) { _this.onMouseWheel(evt); });\r\n        this.ganttView.taskArea.addEventListener(\"mousedown\", function (evt) { _this.onMouseDown(evt); });\r\n        document.addEventListener(\"mousemove\", function (evt) { _this.onDocumentMouseMove(evt); });\r\n        document.addEventListener(\"mouseup\", function (evt) { _this.onDocumentMouseUp(evt); });\r\n        document.addEventListener(\"keydown\", function (evt) { _this.onDocumentKeyDown(evt); });\r\n    };\r\n    TaskAreaManager.prototype.onMouseDown = function (evt) {\r\n        this.eventManager.onMouseDown(evt);\r\n        this.preventSelect = false;\r\n        this.mousePosition = new Point_1.Point(evt.clientX, evt.clientY);\r\n    };\r\n    TaskAreaManager.prototype.onDocumentMouseUp = function (evt) {\r\n        var _this = this;\r\n        this.ganttView.isFocus = DomUtils_1.DomUtils.GetIsParent(this.ganttView.taskArea, DomUtils_1.DomUtils.getEventSource(evt)) ? true : false;\r\n        if (this.ganttView.isFocus && !this.preventSelect && this.ganttView.settings.allowSelectTask && !this.isConnectorLine(evt))\r\n            setTimeout(function () { _this.changeTaskSelection(_this.getClickedTaskIndex(evt)); }, 0);\r\n        this.eventManager.onMouseUp(evt);\r\n    };\r\n    TaskAreaManager.prototype.onDocumentMouseMove = function (evt) {\r\n        if (this.mousePosition.x != evt.clientX || this.mousePosition.y != evt.clientY) {\r\n            this.eventManager.onMouseMove(evt);\r\n            this.preventSelect = true;\r\n        }\r\n    };\r\n    TaskAreaManager.prototype.onMouseWheel = function (evt) {\r\n        this.eventManager.onMouseWheel(evt);\r\n    };\r\n    TaskAreaManager.prototype.onDocumentKeyDown = function (evt) {\r\n        this.eventManager.onKeyDown(evt);\r\n    };\r\n    TaskAreaManager.prototype.onContextMenu = function (evt) {\r\n        if (evt.stopPropagation)\r\n            evt.stopPropagation();\r\n        if (evt.preventDefault)\r\n            evt.preventDefault();\r\n        if (Browser_1.Browser.WebKitFamily)\r\n            evt.returnValue = false;\r\n        this.ganttView.ganttOwner.showPopupMenu(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\r\n    };\r\n    TaskAreaManager.prototype.getClickedTaskIndex = function (evt) {\r\n        var y = DomUtils_1.DomUtils.getEventY(evt);\r\n        var taskAreaY = DomUtils_1.DomUtils.getAbsolutePositionY(this.ganttView.taskArea);\r\n        var relativeY = y - taskAreaY;\r\n        return Math.floor(relativeY / this.ganttView.tickSize.height);\r\n    };\r\n    TaskAreaManager.prototype.onTaskElementHover = function (evt) {\r\n        var hoveredTaskIndex = this.getClickedTaskIndex(evt);\r\n        this.ganttView.taskEditController.show(hoveredTaskIndex);\r\n    };\r\n    TaskAreaManager.prototype.changeTaskSelection = function (index) {\r\n        var clickedTask = this.ganttView.viewModel.items[index];\r\n        if (clickedTask) {\r\n            this.ganttView.unselectCurrentSelectedTask();\r\n            this.ganttView.ganttOwner.changeGanttTaskSelection(clickedTask.task.id, true);\r\n            this.ganttView.selectTask(clickedTask.task.internalId);\r\n        }\r\n    };\r\n    TaskAreaManager.prototype.onTaskAreaClick = function (evt) {\r\n        var now = new Date(Date.now());\r\n        var clickedTaskIndex = this.getClickedTaskIndex(evt);\r\n        if (this.time && now.getTime() - this.time.getTime() < TaskAreaManager.DBLCLICK_INTERVAL) {\r\n            var clickedTask = this.ganttView.viewModel.items[clickedTaskIndex];\r\n            this.ganttView.commandManager.showTaskEditDialog.execute(clickedTask.task);\r\n        }\r\n        this.time = now;\r\n    };\r\n    TaskAreaManager.prototype.isConnectorLine = function (evt) {\r\n        var source = DomUtils_1.DomUtils.getEventSource(evt);\r\n        return DomUtils_1.DomUtils.getClassNameList(source).indexOf(GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL) >= 0 ||\r\n            DomUtils_1.DomUtils.getClassNameList(source).indexOf(GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL) >= 0;\r\n    };\r\n    TaskAreaManager.DBLCLICK_INTERVAL = 300;\r\n    return TaskAreaManager;\r\n}());\r\nexports.TaskAreaManager = TaskAreaManager;\r\n\r\n\r\n/***/ }),\r\n/* 9 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem = (function () {\r\n    function HistoryItem(modelManipulator) {\r\n        this.modelManipulator = modelManipulator;\r\n    }\r\n    return HistoryItem;\r\n}());\r\nexports.HistoryItem = HistoryItem;\r\nvar CompositionHistoryItem = (function (_super) {\r\n    __extends(CompositionHistoryItem, _super);\r\n    function CompositionHistoryItem() {\r\n        var _this = _super.call(this, null) || this;\r\n        _this.historyItems = [];\r\n        return _this;\r\n    }\r\n    CompositionHistoryItem.prototype.redo = function () {\r\n        var item;\r\n        for (var i = 0; item = this.historyItems[i]; i++)\r\n            item.redo();\r\n    };\r\n    CompositionHistoryItem.prototype.undo = function () {\r\n        var item;\r\n        for (var i = this.historyItems.length - 1; item = this.historyItems[i]; i--)\r\n            item.undo();\r\n    };\r\n    CompositionHistoryItem.prototype.add = function (historyItem) {\r\n        if (historyItem == null)\r\n            throw new Error(\"Can't add null HistoryItem\");\r\n        this.historyItems.push(historyItem);\r\n    };\r\n    return CompositionHistoryItem;\r\n}(HistoryItem));\r\nexports.CompositionHistoryItem = CompositionHistoryItem;\r\n\r\n\r\n/***/ }),\r\n/* 10 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DateRange = (function () {\r\n    function DateRange(start, end) {\r\n        this.start = start;\r\n        this.end = end;\r\n    }\r\n    return DateRange;\r\n}());\r\nexports.DateRange = DateRange;\r\n\r\n\r\n/***/ }),\r\n/* 11 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar DayOfWeek_1 = __webpack_require__(47);\r\nvar DayOfWeekMonthlyOccurrence_1 = __webpack_require__(25);\r\nvar Month_1 = __webpack_require__(48);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar RecurrenceFactory_1 = __webpack_require__(26);\r\nvar RecurrenceBase = (function (_super) {\r\n    __extends(RecurrenceBase, _super);\r\n    function RecurrenceBase(start, end, interval, occurrenceCount) {\r\n        if (start === void 0) { start = null; }\r\n        if (end === void 0) { end = null; }\r\n        if (interval === void 0) { interval = 1; }\r\n        if (occurrenceCount === void 0) { occurrenceCount = 0; }\r\n        var _this = _super.call(this) || this;\r\n        _this._start = null;\r\n        _this._end = null;\r\n        _this._interval = 1;\r\n        _this._occurrenceCount = 0;\r\n        _this._dayOfWeek = 0;\r\n        _this._day = 1;\r\n        _this._dayOfWeekOccurrence = 0;\r\n        _this._month = 0;\r\n        _this._calculateByDayOfWeek = false;\r\n        _this.start = start;\r\n        _this.end = end;\r\n        _this.interval = interval;\r\n        _this.occurrenceCount = occurrenceCount;\r\n        return _this;\r\n    }\r\n    RecurrenceBase.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.start = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.start);\r\n            this.end = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.end);\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.interval))\r\n                this.interval = sourceObj.interval;\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.occurrenceCount))\r\n                this.occurrenceCount = sourceObj.occurrenceCount;\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.dayOfWeek))\r\n                this.dayOfWeekInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeek_1.DayOfWeek, sourceObj.dayOfWeek);\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.day))\r\n                this.dayInternal = sourceObj.day;\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.dayOfWeekOccurrence))\r\n                this.dayOfWeekOccurrenceInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence, sourceObj.dayOfWeekOccurrence);\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.month))\r\n                this.monthInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(Month_1.Month, sourceObj.month);\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.calculateByDayOfWeek))\r\n                this._calculateByDayOfWeek = !!sourceObj.calculateByDayOfWeek;\r\n        }\r\n    };\r\n    RecurrenceBase.prototype.calculatePoints = function (start, end) {\r\n        if (!start || !end)\r\n            return new Array();\r\n        var from = DateTimeUtils_1.DateTimeUtils.getMaxDate(start, this._start);\r\n        var to = DateTimeUtils_1.DateTimeUtils.getMinDate(end, this._end);\r\n        if (this._occurrenceCount > 0)\r\n            return this.calculatePointsByOccurrenceCount(from, to);\r\n        return this.calculatePointsByDateRange(from, to);\r\n    };\r\n    RecurrenceBase.prototype.calculatePointsByOccurrenceCount = function (start, end) {\r\n        var points = new Array();\r\n        var point = this.getFirstPoint(start);\r\n        while (!!point && points.length < this._occurrenceCount && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\r\n            if (this.isRecurrencePoint(point))\r\n                points.push(point);\r\n            point = this.getNextPoint(point);\r\n        }\r\n        return points;\r\n    };\r\n    RecurrenceBase.prototype.calculatePointsByDateRange = function (start, end) {\r\n        var points = new Array();\r\n        var point = this.getFirstPoint(start);\r\n        while (!!point && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\r\n            if (this.isRecurrencePoint(point))\r\n                points.push(point);\r\n            point = this.getNextPoint(point);\r\n        }\r\n        return points;\r\n    };\r\n    RecurrenceBase.prototype.getFirstPoint = function (start) {\r\n        if (this.isRecurrencePoint(start))\r\n            return start;\r\n        return this.getNextPoint(start);\r\n    };\r\n    ;\r\n    RecurrenceBase.prototype.isRecurrencePoint = function (date) {\r\n        return this.isDateInRange(date) && this.checkDate(date) && (!this.useIntervalInCalc() || this.checkInterval(date));\r\n    };\r\n    RecurrenceBase.prototype.isDateInRange = function (date) {\r\n        if (!date)\r\n            return false;\r\n        if (this._start && DateTimeUtils_1.DateTimeUtils.compareDates(this.start, date) < 0)\r\n            return false;\r\n        if (this._occurrenceCount == 0 && this.end && DateTimeUtils_1.DateTimeUtils.compareDates(date, this.end) < 0)\r\n            return false;\r\n        return true;\r\n    };\r\n    RecurrenceBase.prototype.useIntervalInCalc = function () {\r\n        return this.interval > 1 && !!this._start;\r\n    };\r\n    RecurrenceBase.prototype.getNextPoint = function (date) {\r\n        if (!this.isDateInRange(date))\r\n            return null;\r\n        if (this.useIntervalInCalc())\r\n            return this.calculatePointByInterval(date);\r\n        return this.calculateNearestPoint(date);\r\n    };\r\n    ;\r\n    RecurrenceBase.prototype.getSpecDayInMonth = function (year, month) {\r\n        var date;\r\n        if (this._calculateByDayOfWeek)\r\n            date = DateTimeUtils_1.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal, year, month, this.dayOfWeekOccurrenceInternal);\r\n        else\r\n            date = new Date(year, month, this.dayInternal);\r\n        return date;\r\n    };\r\n    Object.defineProperty(RecurrenceBase.prototype, \"dayInternal\", {\r\n        get: function () { return this._day; },\r\n        set: function (value) {\r\n            if (value > 0 && value <= 31)\r\n                this._day = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekInternal\", {\r\n        get: function () { return this._dayOfWeek; },\r\n        set: function (dayOfWeek) {\r\n            if (dayOfWeek >= DayOfWeek_1.DayOfWeek.Sunday && dayOfWeek <= DayOfWeek_1.DayOfWeek.Saturday)\r\n                this._dayOfWeek = dayOfWeek;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekOccurrenceInternal\", {\r\n        get: function () {\r\n            return this._dayOfWeekOccurrence;\r\n        },\r\n        set: function (value) {\r\n            if (value >= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.First && value <= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last)\r\n                this._dayOfWeekOccurrence = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"monthInternal\", {\r\n        get: function () { return this._month; },\r\n        set: function (value) {\r\n            if (value >= Month_1.Month.January && value <= Month_1.Month.December)\r\n                this._month = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"start\", {\r\n        get: function () { return this._start; },\r\n        set: function (date) {\r\n            if (!date)\r\n                return;\r\n            this._start = date;\r\n            if (!!this._end && date > this._end)\r\n                this._end = date;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"end\", {\r\n        get: function () { return this._end; },\r\n        set: function (date) {\r\n            if (!date)\r\n                return;\r\n            this._end = date;\r\n            if (!!this._start && date < this._start)\r\n                this._start = date;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"occurrenceCount\", {\r\n        get: function () { return this._occurrenceCount; },\r\n        set: function (value) {\r\n            if (value < 0)\r\n                value = 0;\r\n            this._occurrenceCount = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"interval\", {\r\n        get: function () { return this._interval; },\r\n        set: function (value) {\r\n            if (value > 0)\r\n                this._interval = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    return RecurrenceBase;\r\n}(DataObject_1.DataObject));\r\nexports.RecurrenceBase = RecurrenceBase;\r\n\r\n\r\n/***/ }),\r\n/* 12 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Browser = (function () {\r\n    function Browser() {\r\n    }\r\n    Browser.IdentUserAgent = function (userAgent, ignoreDocumentMode) {\r\n        if (ignoreDocumentMode === void 0) { ignoreDocumentMode = false; }\r\n        var browserTypesOrderedList = [\"Mozilla\", \"IE\", \"Firefox\", \"Netscape\", \"Safari\", \"Chrome\", \"Opera\", \"Opera10\", \"Edge\"];\r\n        var defaultBrowserType = \"IE\";\r\n        var defaultPlatform = \"Win\";\r\n        var defaultVersions = { Safari: 2, Chrome: 0.1, Mozilla: 1.9, Netscape: 8, Firefox: 2, Opera: 9, IE: 6, Edge: 12 };\r\n        if (!userAgent || userAgent.length == 0) {\r\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\r\n            return;\r\n        }\r\n        userAgent = userAgent.toLowerCase();\r\n        Browser.indentPlatformMajorVersion(userAgent);\r\n        try {\r\n            var platformIdentStrings = {\r\n                \"Windows\": \"Win\",\r\n                \"Macintosh\": \"Mac\",\r\n                \"Mac OS\": \"Mac\",\r\n                \"Mac_PowerPC\": \"Mac\",\r\n                \"cpu os\": \"MacMobile\",\r\n                \"cpu iphone os\": \"MacMobile\",\r\n                \"Android\": \"Android\",\r\n                \"!Windows Phone\": \"WinPhone\",\r\n                \"!WPDesktop\": \"WinPhone\",\r\n                \"!ZuneWP\": \"WinPhone\"\r\n            };\r\n            var optSlashOrSpace = \"(?:/|\\\\s*)?\";\r\n            var versionString = \"(\\\\d+)(?:\\\\.((?:\\\\d+?[1-9])|\\\\d)0*?)?\";\r\n            var optVersion = \"(?:\" + versionString + \")?\";\r\n            var patterns = {\r\n                Safari: \"applewebkit(?:.*?(?:version/\" + versionString + \"[\\\\.\\\\w\\\\d]*?(?:\\\\s+mobile\\/\\\\S*)?\\\\s+safari))?\",\r\n                Chrome: \"(?:chrome|crios)(?!frame)\" + optSlashOrSpace + optVersion,\r\n                Mozilla: \"mozilla(?:.*rv:\" + optVersion + \".*Gecko)?\",\r\n                Netscape: \"(?:netscape|navigator)\\\\d*/?\\\\s*\" + optVersion,\r\n                Firefox: \"firefox\" + optSlashOrSpace + optVersion,\r\n                Opera: \"(?:opera|\\sopr)\" + optSlashOrSpace + optVersion,\r\n                Opera10: \"opera.*\\\\s*version\" + optSlashOrSpace + optVersion,\r\n                IE: \"msie\\\\s*\" + optVersion,\r\n                Edge: \"edge\" + optSlashOrSpace + optVersion\r\n            };\r\n            var browserType;\r\n            var version = -1;\r\n            for (var i = 0; i < browserTypesOrderedList.length; i++) {\r\n                var browserTypeCandidate = browserTypesOrderedList[i];\r\n                var regExp = new RegExp(patterns[browserTypeCandidate], \"i\");\r\n                if (regExp.compile)\r\n                    regExp.compile(patterns[browserTypeCandidate], \"i\");\r\n                var matches = regExp.exec(userAgent);\r\n                if (matches && matches.index >= 0) {\r\n                    if (browserType == \"IE\" && version >= 11 && browserTypeCandidate == \"Safari\")\r\n                        continue;\r\n                    browserType = browserTypeCandidate;\r\n                    if (browserType == \"Opera10\")\r\n                        browserType = \"Opera\";\r\n                    var tridentPattern = \"trident\" + optSlashOrSpace + optVersion;\r\n                    version = Browser.GetBrowserVersion(userAgent, matches, tridentPattern, Browser.getIECompatibleVersionString());\r\n                    if (browserType == \"Mozilla\" && version >= 11)\r\n                        browserType = \"IE\";\r\n                }\r\n            }\r\n            if (!browserType)\r\n                browserType = defaultBrowserType;\r\n            var browserVersionDetected = version != -1;\r\n            if (!browserVersionDetected)\r\n                version = defaultVersions[browserType];\r\n            var platform;\r\n            var minOccurenceIndex = Number.MAX_VALUE;\r\n            for (var identStr in platformIdentStrings) {\r\n                if (!platformIdentStrings.hasOwnProperty(identStr))\r\n                    continue;\r\n                var importantIdent = identStr.substr(0, 1) == \"!\";\r\n                var occurenceIndex = userAgent.indexOf((importantIdent ? identStr.substr(1) : identStr).toLowerCase());\r\n                if (occurenceIndex >= 0 && (occurenceIndex < minOccurenceIndex || importantIdent)) {\r\n                    minOccurenceIndex = importantIdent ? 0 : occurenceIndex;\r\n                    platform = platformIdentStrings[identStr];\r\n                }\r\n            }\r\n            var samsungPattern = \"SM-[A-Z]\";\r\n            var m = userAgent.toUpperCase().match(samsungPattern);\r\n            var isSamsungAndroidDevice = m && m.length > 0;\r\n            if (platform == \"WinPhone\" && version < 9)\r\n                version = Math.floor(Browser.getVersionFromTrident(userAgent, \"trident\" + optSlashOrSpace + optVersion));\r\n            if (!ignoreDocumentMode && browserType == \"IE\" && version > 7 && document.documentMode < version)\r\n                version = document.documentMode;\r\n            if (platform == \"WinPhone\")\r\n                version = Math.max(9, version);\r\n            if (!platform)\r\n                platform = defaultPlatform;\r\n            if (platform == platformIdentStrings[\"cpu os\"] && !browserVersionDetected)\r\n                version = 4;\r\n            Browser.fillUserAgentInfo(browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice);\r\n        }\r\n        catch (e) {\r\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\r\n        }\r\n    };\r\n    Browser.GetBrowserVersion = function (userAgent, matches, tridentPattern, ieCompatibleVersionString) {\r\n        var version = Browser.getVersionFromMatches(matches);\r\n        if (ieCompatibleVersionString) {\r\n            var versionFromTrident = Browser.getVersionFromTrident(userAgent, tridentPattern);\r\n            if (ieCompatibleVersionString === \"edge\" || parseInt(ieCompatibleVersionString) === versionFromTrident)\r\n                return versionFromTrident;\r\n        }\r\n        return version;\r\n    };\r\n    Browser.getIECompatibleVersionString = function () {\r\n        if (document.compatible) {\r\n            for (var i = 0; i < document.compatible.length; i++)\r\n                if (document.compatible[i].userAgent === \"IE\" && document.compatible[i].version)\r\n                    return document.compatible[i].version.toLowerCase();\r\n        }\r\n        return \"\";\r\n    };\r\n    Browser.fillUserAgentInfo = function (browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice) {\r\n        if (isSamsungAndroidDevice === void 0) { isSamsungAndroidDevice = false; }\r\n        for (var i = 0; i < browserTypesOrderedList.length; i++) {\r\n            var type = browserTypesOrderedList[i];\r\n            Browser[type] = type == browserType;\r\n        }\r\n        Browser.Version = Math.floor(10.0 * version) / 10.0;\r\n        Browser.MajorVersion = Math.floor(Browser.Version);\r\n        Browser.WindowsPlatform = platform == \"Win\" || platform == \"WinPhone\";\r\n        Browser.MacOSPlatform = platform == \"Mac\";\r\n        Browser.MacOSMobilePlatform = platform == \"MacMobile\";\r\n        Browser.AndroidMobilePlatform = platform == \"Android\";\r\n        Browser.WindowsPhonePlatform = platform == \"WinPhone\";\r\n        Browser.WebKitFamily = Browser.Safari || Browser.Chrome || Browser.Opera && Browser.MajorVersion >= 15;\r\n        Browser.NetscapeFamily = Browser.Netscape || Browser.Mozilla || Browser.Firefox;\r\n        Browser.HardwareAcceleration = (Browser.IE && Browser.MajorVersion >= 9) || (Browser.Firefox && Browser.MajorVersion >= 4) ||\r\n            (Browser.AndroidMobilePlatform && Browser.Chrome) || (Browser.Chrome && Browser.MajorVersion >= 37) ||\r\n            (Browser.Safari && !Browser.WindowsPlatform) || Browser.Edge || (Browser.Opera && Browser.MajorVersion >= 46);\r\n        Browser.WebKitTouchUI = Browser.MacOSMobilePlatform || Browser.AndroidMobilePlatform;\r\n        var isIETouchUI = Browser.IE && Browser.MajorVersion > 9 && Browser.WindowsPlatform && Browser.UserAgent.toLowerCase().indexOf(\"touch\") >= 0;\r\n        Browser.MSTouchUI = isIETouchUI || (Browser.Edge && !!window.navigator.maxTouchPoints);\r\n        Browser.TouchUI = Browser.WebKitTouchUI || Browser.MSTouchUI;\r\n        Browser.MobileUI = Browser.WebKitTouchUI || Browser.WindowsPhonePlatform;\r\n        Browser.AndroidDefaultBrowser = Browser.AndroidMobilePlatform && !Browser.Chrome;\r\n        Browser.AndroidChromeBrowser = Browser.AndroidMobilePlatform && Browser.Chrome;\r\n        if (isSamsungAndroidDevice)\r\n            Browser.SamsungAndroidDevice = isSamsungAndroidDevice;\r\n        if (Browser.MSTouchUI) {\r\n            var isARMArchitecture = Browser.UserAgent.toLowerCase().indexOf(\"arm;\") > -1;\r\n            Browser.VirtualKeyboardSupported = isARMArchitecture || Browser.WindowsPhonePlatform;\r\n        }\r\n        else {\r\n            Browser.VirtualKeyboardSupported = Browser.WebKitTouchUI;\r\n        }\r\n        Browser.fillDocumentElementBrowserTypeClassNames(browserTypesOrderedList);\r\n    };\r\n    Browser.indentPlatformMajorVersion = function (userAgent) {\r\n        var regex = /(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\\d+)(?:[-0-9_.])*/;\r\n        var matches = regex.exec(userAgent);\r\n        if (matches)\r\n            Browser.PlaformMajorVersion = matches[1];\r\n    };\r\n    Browser.prototype.GetBrowserVersion = function (userAgent, matches, tridentPattern, ieCompatibleVersionString) {\r\n        var version = Browser.getVersionFromMatches(matches);\r\n        if (ieCompatibleVersionString) {\r\n            var versionFromTrident = Browser.getVersionFromTrident(userAgent, tridentPattern);\r\n            if (ieCompatibleVersionString === \"edge\" || parseInt(ieCompatibleVersionString) === versionFromTrident)\r\n                return versionFromTrident;\r\n        }\r\n        return version;\r\n    };\r\n    Browser.getVersionFromMatches = function (matches) {\r\n        var result = -1;\r\n        var versionStr = \"\";\r\n        if (matches[1]) {\r\n            versionStr += matches[1];\r\n            if (matches[2])\r\n                versionStr += \".\" + matches[2];\r\n        }\r\n        if (versionStr != \"\") {\r\n            result = parseFloat(versionStr);\r\n            if (isNaN(result))\r\n                result = -1;\r\n        }\r\n        return result;\r\n    };\r\n    Browser.getVersionFromTrident = function (userAgent, tridentPattern) {\r\n        var tridentDiffFromVersion = 4;\r\n        var matches = new RegExp(tridentPattern, \"i\").exec(userAgent);\r\n        return Browser.getVersionFromMatches(matches) + tridentDiffFromVersion;\r\n    };\r\n    Browser.fillDocumentElementBrowserTypeClassNames = function (browserTypesOrderedList) {\r\n        var documentElementClassName = \"\";\r\n        var browserTypeslist = browserTypesOrderedList.concat([\"WindowsPlatform\", \"MacOSPlatform\", \"MacOSMobilePlatform\", \"AndroidMobilePlatform\",\r\n            \"WindowsPhonePlatform\", \"WebKitFamily\", \"WebKitTouchUI\", \"MSTouchUI\", \"TouchUI\", \"AndroidDefaultBrowser\"]);\r\n        for (var i = 0; i < browserTypeslist.length; i++) {\r\n            var type = browserTypeslist[i];\r\n            if (Browser[type])\r\n                documentElementClassName += \"dx\" + type + \" \";\r\n        }\r\n        documentElementClassName += \"dxBrowserVersion-\" + Browser.MajorVersion;\r\n        if (document && document.documentElement) {\r\n            if (document.documentElement.className != \"\")\r\n                documentElementClassName = \" \" + documentElementClassName;\r\n            document.documentElement.className += documentElementClassName;\r\n            Browser.Info = documentElementClassName;\r\n        }\r\n    };\r\n    Browser.UserAgent = window.navigator.userAgent.toLowerCase();\r\n    Browser._foo = Browser.IdentUserAgent(Browser.UserAgent);\r\n    return Browser;\r\n}());\r\nexports.Browser = Browser;\r\n\r\n\r\n/***/ }),\r\n/* 13 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CollectionBase_1 = __webpack_require__(6);\r\nvar Resource_1 = __webpack_require__(36);\r\nvar ResourceCollection = (function (_super) {\r\n    __extends(ResourceCollection, _super);\r\n    function ResourceCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceCollection.prototype.createItem = function () { return new Resource_1.Resource(); };\r\n    return ResourceCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.ResourceCollection = ResourceCollection;\r\n\r\n\r\n/***/ }),\r\n/* 14 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DependencyType;\r\n(function (DependencyType) {\r\n    DependencyType[DependencyType[\"FS\"] = 0] = \"FS\";\r\n    DependencyType[DependencyType[\"SS\"] = 1] = \"SS\";\r\n    DependencyType[DependencyType[\"FF\"] = 2] = \"FF\";\r\n    DependencyType[DependencyType[\"SF\"] = 3] = \"SF\";\r\n})(DependencyType = exports.DependencyType || (exports.DependencyType = {}));\r\nvar Dependency = (function (_super) {\r\n    __extends(Dependency, _super);\r\n    function Dependency() {\r\n        var _this = _super.call(this) || this;\r\n        _this.predecessorId = \"\";\r\n        _this.successorId = \"\";\r\n        _this.type = null;\r\n        return _this;\r\n    }\r\n    Dependency.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.internalId = String(sourceObj.id);\r\n            this.predecessorId = String(sourceObj.predecessorId);\r\n            this.successorId = String(sourceObj.successorId);\r\n            this.type = sourceObj.type;\r\n        }\r\n    };\r\n    return Dependency;\r\n}(DataObject_1.DataObject));\r\nexports.Dependency = Dependency;\r\n\r\n\r\n/***/ }),\r\n/* 15 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Size = (function () {\r\n    function Size(width, height) {\r\n        this.width = null;\r\n        this.height = null;\r\n        if (width !== undefined)\r\n            this.width = width;\r\n        if (height !== undefined)\r\n            this.height = height;\r\n    }\r\n    return Size;\r\n}());\r\nexports.Size = Size;\r\n\r\n\r\n/***/ }),\r\n/* 16 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Size_1 = __webpack_require__(15);\r\nvar DateRange_1 = __webpack_require__(10);\r\nvar Enums_1 = __webpack_require__(7);\r\nvar GridElementInfo_1 = __webpack_require__(29);\r\nvar Utils_1 = __webpack_require__(28);\r\nvar Point_1 = __webpack_require__(3);\r\nvar Dependency_1 = __webpack_require__(14);\r\nvar GridLayoutCalculator = (function () {\r\n    function GridLayoutCalculator() {\r\n        this.tileToDependencyMap = [];\r\n        this.tileToNoWorkingIntervalsMap = [];\r\n        this.minLineLength = 10;\r\n        this.resourceMaxWidth = 500;\r\n        this.minTaskWidth = 2;\r\n    }\r\n    GridLayoutCalculator.prototype.setSettings = function (visibleTaskAreaSize, tickSize, elementSizeValues, range, viewModel, viewType, scrollBarHeight) {\r\n        if (scrollBarHeight === void 0) { scrollBarHeight = 0; }\r\n        this.visibleTaskAreaSize = visibleTaskAreaSize;\r\n        this.tickSize = tickSize;\r\n        this.viewType = viewType;\r\n        this.range = range;\r\n        this.verticalTickCount = viewModel.itemCount;\r\n        this.viewModel = viewModel;\r\n        this.elementSizeValues = elementSizeValues;\r\n        this.taskHeight = elementSizeValues.taskHeight;\r\n        this.milestoneWidth = elementSizeValues.milestoneWidth;\r\n        this.scaleHeight = elementSizeValues.scaleItemHeight;\r\n        this.arrowSize = new Size_1.Size(elementSizeValues.connectorArrowWidth, elementSizeValues.connectorArrowWidth);\r\n        this.lineThickness = elementSizeValues.connectorLineThickness;\r\n        this.minConnectorSpaceFromTask = (this.tickSize.height - this.taskHeight) / 2;\r\n        this.tickTimeSpan = Utils_1.DateUtils.getTickTimeSpan(viewType);\r\n        this.horizontalTickCount = this.getTotalTickCount();\r\n        this.scrollBarHeight = scrollBarHeight;\r\n        this.createTileToConnectorLinesMap();\r\n        this.createTileToNonWorkingIntervalsMap();\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskAreaBorderInfo = function (index, isVertical) {\r\n        var sizeValue = isVertical ?\r\n            this.getVerticalGridLineHeight() :\r\n            this.tickSize.width * this.horizontalTickCount;\r\n        return this.getGridBorderInfo(index, isVertical, sizeValue);\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleBorderInfo = function (index, scaleType) {\r\n        var result = this.getGridBorderInfo(index, true, this.scaleHeight);\r\n        result.position.x *= this.getScaleItemColSpan(scaleType);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getGridBorderInfo = function (index, isVertical, size) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.setPosition(this.getGridBorderPosition(index, isVertical));\r\n        if (size)\r\n            result.setSize(this.getGridBorderSize(isVertical, size));\r\n        result.className = isVertical ? \"dx-gantt-vb\" : \"dx-gantt-hb\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getGridBorderPosition = function (index, isVertical) {\r\n        var result = new Point_1.Point();\r\n        var posValue = (index + 1) * (isVertical ? this.tickSize.width : this.tickSize.height);\r\n        if (isVertical)\r\n            result.x = posValue;\r\n        else\r\n            result.y = posValue;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getGridBorderSize = function (isVertical, sizeValue) {\r\n        var result = new Size_1.Size();\r\n        if (isVertical)\r\n            result.height = sizeValue;\r\n        else\r\n            result.width = sizeValue;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleElementInfo = function (index, scaleType) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.setPosition(this.getScaleItemPosition(index, scaleType));\r\n        result.setSize(this.getScaleItemSize(scaleType));\r\n        result.className = this.getScaleItemClassName(scaleType, result, this.getRenderedNoWorkingIntervals(result.position.x));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemClassName = function (scaleType, scaleItemInfo, noWorkingIntervals) {\r\n        var result = \"dx-gantt-si\";\r\n        if (scaleType.valueOf() == this.viewType.valueOf() && this.isScaleItemInsideNoWorkingInterval(scaleItemInfo, noWorkingIntervals))\r\n            result += \" dx-gantt-holiday-scaleItem\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.isScaleItemInsideNoWorkingInterval = function (scaleItemInfo, noWorkingIntervals) {\r\n        var scaleItemLeft = scaleItemInfo.position.x;\r\n        var scaleItemRight = scaleItemInfo.position.x + scaleItemInfo.size.width;\r\n        for (var i = 0; i < noWorkingIntervals.length; i++) {\r\n            var noWorkingIntervalLeft = noWorkingIntervals[i].position.x;\r\n            var noWorkingIntervalRight = noWorkingIntervals[i].position.x + noWorkingIntervals[i].size.width;\r\n            if (scaleItemLeft >= noWorkingIntervalLeft && scaleItemRight <= noWorkingIntervalRight)\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemPosition = function (index, scaleType) {\r\n        return new Point_1.Point(index * this.tickSize.width * this.getScaleItemColSpan(scaleType));\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemSize = function (scaleType) {\r\n        return new Size_1.Size(this.tickSize.width * this.getScaleItemColSpan(scaleType));\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemColSpan = function (scaleType) {\r\n        if (scaleType.valueOf() == this.viewType.valueOf())\r\n            return 1;\r\n        if (this.viewType == Enums_1.ViewType.TenMinutes)\r\n            return 6;\r\n        if (this.viewType == Enums_1.ViewType.Hours)\r\n            return 24;\r\n        if (this.viewType == Enums_1.ViewType.SixHours)\r\n            return 4;\r\n        if (this.viewType == Enums_1.ViewType.Days)\r\n            return 7;\r\n        if (this.viewType == Enums_1.ViewType.Weeks)\r\n            return 4.29;\r\n        if (this.viewType == Enums_1.ViewType.Months)\r\n            return 12;\r\n        if (this.viewType == Enums_1.ViewType.Quarter)\r\n            return 4;\r\n        if (this.viewType == Enums_1.ViewType.Years)\r\n            return 5;\r\n        return 1;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperElementInfo = function (index) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = this.getTaskWrapperClassName(index);\r\n        result.setPosition(this.getTaskWrapperPoint(index));\r\n        result.setSize(this.getTaskWrapperSize(index));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperClassName = function (index) {\r\n        var result = \"dx-gantt-taskWrapper\";\r\n        if (this.getTask(index).isMilestone())\r\n            result = \"dx-gantt-milestoneWrapper\";\r\n        if (this.viewModel.items[index].selected)\r\n            result += \" dx-gantt-selectedTask\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperSize = function (index) {\r\n        var resourceCount = this.viewModel.items[index].resources.items.length;\r\n        var resourceWidth = this.resourceMaxWidth * resourceCount;\r\n        var taskWidth = this.getTaskWidth(index);\r\n        var taskPoint = this.getTaskPoint(index);\r\n        var totalWidth = this.tickSize.width * this.horizontalTickCount;\r\n        var resultWidth = Math.min(taskWidth + resourceWidth, totalWidth - taskPoint.x);\r\n        return new Size_1.Size(resultWidth);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperPoint = function (index) {\r\n        var result = new Point_1.Point(this.getPosByDate(this.getTask(index).start), index * this.tickSize.height);\r\n        if (this.getTask(index).isMilestone()) {\r\n            var height = this.getTaskHeight(index);\r\n            result.x -= height / 2;\r\n            result.y += (this.tickSize.height - height) / 2;\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskElementInfo = function (index) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        if (!this.getTask(index).isMilestone())\r\n            result.size.width = this.getTaskWidth(index);\r\n        result.className = this.getTaskClassName(index, result.size.width);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskClassName = function (index, taskWidth) {\r\n        var result = \"dx-gantt-task\";\r\n        if (this.getTask(index).isMilestone())\r\n            result += \" dx-gantt-milestone\";\r\n        else if (taskWidth <= this.elementSizeValues.smallTaskWidth)\r\n            result += \" dx-gantt-smallTask\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskPoint = function (index) {\r\n        var result = this.getTaskWrapperPoint(index);\r\n        if (!this.getTask(index).isMilestone())\r\n            result.y += this.elementSizeValues.taskWrapperTopPadding;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskSize = function (index) {\r\n        return new Size_1.Size(this.getTaskWidth(index), this.getTaskHeight(index));\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWidth = function (index) {\r\n        var task = this.getTask(index);\r\n        return task.isMilestone() ? this.getTaskHeight(index) : this.getWidthByDateRange(task.start, task.end);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskHeight = function (index) {\r\n        var task = this.getTask(index);\r\n        return task.isMilestone() ? this.milestoneWidth : this.taskHeight;\r\n    };\r\n    GridLayoutCalculator.prototype.getTask = function (index) {\r\n        return this.viewModel.items[index].task;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskProgressElementInfo = function (index) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = \"dx-gantt-tPrg\";\r\n        result.setSize(this.getTaskProgressSize(index));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskProgressSize = function (index) {\r\n        return new Size_1.Size(this.getTaskProgressWidth(index), null);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskProgressWidth = function (index) {\r\n        return this.getTaskWidth(index) * this.getTask(index).progress / 100;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskTextElementInfo = function (index, isInsideText) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = this.getTaskTextElementClassName(isInsideText);\r\n        if (!isInsideText) {\r\n            var taskX = this.getTaskPoint(index).x;\r\n            if (taskX < this.elementSizeValues.outsideTaskTextDefaultWidth) {\r\n                result.size.width = taskX;\r\n                result.margins.marginLeft = -taskX;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskTextElementClassName = function (isInsideText) {\r\n        var result = \"dx-gantt-taskTitle\";\r\n        result += (isInsideText ? \" dx-gantt-titleIn\" : \" dx-gantt-titleOut\");\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskResourceElementInfo = function () {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = \"dx-gantt-taskRes\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getSelectionElementInfo = function (index) {\r\n        return this.getRowElementInfo(index, \"dx-gantt-sel\");\r\n    };\r\n    GridLayoutCalculator.prototype.getSelectionPosition = function (index) {\r\n        var result = new Point_1.Point();\r\n        result.y = index * this.tickSize.height;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getSelectionSize = function () {\r\n        return new Size_1.Size(this.tickSize.width * this.horizontalTickCount, this.tickSize.height);\r\n    };\r\n    GridLayoutCalculator.prototype.getHighlightRowInfo = function (index) {\r\n        return this.getRowElementInfo(index, \"dx-gantt-altRow\");\r\n    };\r\n    GridLayoutCalculator.prototype.getRowElementInfo = function (index, className) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = className;\r\n        result.setPosition(this.getSelectionPosition(index));\r\n        result.setSize(this.getSelectionSize());\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getNoWorkingIntervalInfo = function (noWorkingDateRange) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = \"dx-gantt-nwi\";\r\n        result.setPosition(this.getNoWorkingIntervalPosition(noWorkingDateRange.start));\r\n        result.setSize(this.getNoWorkingIntervalSize(noWorkingDateRange));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getNoWorkingIntervalPosition = function (intervalStart) {\r\n        var result = new Point_1.Point();\r\n        result.x = this.getPosByDate(intervalStart);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getNoWorkingIntervalSize = function (noWorkingInterval) {\r\n        return new Size_1.Size(this.getWidthByDateRange(noWorkingInterval.start, noWorkingInterval.end), this.getVerticalGridLineHeight());\r\n    };\r\n    GridLayoutCalculator.prototype.getVerticalGridLineHeight = function () {\r\n        return Math.max(this.visibleTaskAreaSize.height - this.scrollBarHeight, this.tickSize.height * this.verticalTickCount);\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorInfo = function (id, predessorIndex, successorIndex, connectorType) {\r\n        var result = new Array();\r\n        var connectorPoints = this.getConnectorPoints(predessorIndex, successorIndex, connectorType);\r\n        for (var i = 0; i < connectorPoints.length - 1; i++)\r\n            result.push(this.getConnectorLineInfo(id, connectorPoints[i], connectorPoints[i + 1], i == 0 || i == connectorPoints.length - 2));\r\n        result.push(this.getArrowInfo(connectorPoints, result, predessorIndex, successorIndex));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorLineInfo = function (id, startPoint, endPoint, isEdgeLine) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        var isVertical = startPoint.x == endPoint.x;\r\n        result.className = this.getConnectorClassName(isVertical);\r\n        result.setPosition(this.getConnectorPosition(startPoint, endPoint));\r\n        result.setSize(this.getConnectorSize(startPoint, endPoint, isVertical, isEdgeLine));\r\n        result.setAttribute(\"dependency-id\", id);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorClassName = function (isVertical) {\r\n        return isVertical ? GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL : GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPosition = function (startPoint, endPoint) {\r\n        return new Point_1.Point(Math.min(startPoint.x, endPoint.x), Math.min(startPoint.y, endPoint.y));\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorSize = function (startPoint, endPoint, isVertical, isEdgeLine) {\r\n        var result = new Size_1.Size();\r\n        var sizeCorrection = isEdgeLine ? 0 : 0;\r\n        if (isVertical)\r\n            result.height = Math.abs(endPoint.y - startPoint.y + sizeCorrection);\r\n        else\r\n            result.width = Math.abs(endPoint.x - startPoint.x + sizeCorrection);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowInfo = function (connectorPoints, connectorLines, predessorIndex, successorIndex) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        var lineInfo = this.findArrowLineInfo(connectorLines, predessorIndex, successorIndex);\r\n        var arrowPosition = this.getArrowPosition(connectorPoints, predessorIndex, successorIndex);\r\n        result.className = this.getArrowClassName(arrowPosition);\r\n        result.setPosition(this.getArrowPoint(lineInfo, arrowPosition));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.findArrowLineInfo = function (connectorLines, predessorIndex, successorIndex) {\r\n        var arrowLineIndex = predessorIndex < successorIndex ? connectorLines.length - 1 : 0;\r\n        return connectorLines[arrowLineIndex];\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowPosition = function (connectorPoints, predessorIndex, successorIndex) {\r\n        var prevLastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 2 : 1];\r\n        var lastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 1 : 0];\r\n        if (prevLastPoint.x == lastPoint.x)\r\n            return prevLastPoint.y > lastPoint.y ? Enums_1.Position.Top : Enums_1.Position.Bottom;\r\n        return prevLastPoint.x > lastPoint.x ? Enums_1.Position.Left : Enums_1.Position.Right;\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowClassName = function (arrowPosition) {\r\n        var result = \"dx-gantt-arrow\";\r\n        switch (arrowPosition) {\r\n            case Enums_1.Position.Left:\r\n                result += \" dx-gantt-LA\";\r\n                break;\r\n            case Enums_1.Position.Top:\r\n                result += \" dx-gantt-TA\";\r\n                break;\r\n            case Enums_1.Position.Right:\r\n                result += \" dx-gantt-RA\";\r\n                break;\r\n            case Enums_1.Position.Bottom:\r\n                result += \" dx-gantt-BA\";\r\n                break;\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowPoint = function (lineInfo, arrowPosition) {\r\n        return new Point_1.Point(this.getArrowX(lineInfo, arrowPosition), this.getArrowY(lineInfo, arrowPosition));\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowX = function (lineInfo, arrowPosition) {\r\n        switch (arrowPosition) {\r\n            case Enums_1.Position.Left:\r\n                return lineInfo.position.x - this.arrowSize.width / 2;\r\n            case Enums_1.Position.Right:\r\n                return lineInfo.position.x + lineInfo.size.width - this.arrowSize.width / 2;\r\n            case Enums_1.Position.Top:\r\n            case Enums_1.Position.Bottom:\r\n                return lineInfo.position.x - (this.arrowSize.width - this.lineThickness) / 2;\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowY = function (lineInfo, arrowPosition) {\r\n        switch (arrowPosition) {\r\n            case Enums_1.Position.Top:\r\n                return lineInfo.position.y - this.arrowSize.height / 2;\r\n            case Enums_1.Position.Bottom:\r\n                return lineInfo.position.y + lineInfo.size.height - this.arrowSize.height / 2;\r\n            case Enums_1.Position.Left:\r\n            case Enums_1.Position.Right:\r\n                return lineInfo.position.y - (this.arrowSize.height - this.lineThickness) / 2;\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getPosByDate = function (date) {\r\n        return this.getWidthByDateRange(this.range.start, date);\r\n    };\r\n    GridLayoutCalculator.prototype.getWidthByDateRange = function (start, end) {\r\n        var width = this.getRangeTickCount(start, end) * this.tickSize.width;\r\n        return Math.max(width, this.minTaskWidth);\r\n    };\r\n    GridLayoutCalculator.prototype.getRangeTickCount = function (start, end) {\r\n        if (this.viewType == Enums_1.ViewType.Months)\r\n            return this.getRangeTickCountInMonthsViewType(start, end);\r\n        if (this.viewType == Enums_1.ViewType.Quarter)\r\n            return this.getRangeTickCountInQuarterViewType(start, end);\r\n        return (end.getTime() - start.getTime()) / this.tickTimeSpan;\r\n    };\r\n    GridLayoutCalculator.prototype.getRangeTickCountInMonthsViewType = function (start, end) {\r\n        var startMonthStartDate = new Date(start.getFullYear(), start.getMonth(), 1);\r\n        var endMonthStartDate = new Date(end.getFullYear(), end.getMonth(), 1);\r\n        var monthOffset = Utils_1.DateUtils.getOffsetInMonths(startMonthStartDate, endMonthStartDate);\r\n        var endFromMonthStartDateOffset = end.getTime() - endMonthStartDate.getTime();\r\n        var startFromMonthStartDateOffset = start.getTime() - startMonthStartDate.getTime();\r\n        return monthOffset + (endFromMonthStartDateOffset - startFromMonthStartDateOffset) / Utils_1.DateUtils.msPerMonth;\r\n    };\r\n    GridLayoutCalculator.prototype.getRangeTickCountInQuarterViewType = function (start, end) {\r\n        var startQuarterStartDate = new Date(start.getFullYear(), Math.floor(start.getMonth() / 3) * 3, 1);\r\n        var endQuarterStartDate = new Date(end.getFullYear(), Math.floor(end.getMonth() / 3) * 3, 1);\r\n        var quarterOffset = Utils_1.DateUtils.getOffsetInQuarters(startQuarterStartDate, endQuarterStartDate);\r\n        var endFromQuarterStartDateOffset = end.getTime() - endQuarterStartDate.getTime();\r\n        var startFromQuarterStartDateOffset = start.getTime() - startQuarterStartDate.getTime();\r\n        return quarterOffset + (endFromQuarterStartDateOffset - startFromQuarterStartDateOffset) / (Utils_1.DateUtils.msPerMonth * 3);\r\n    };\r\n    GridLayoutCalculator.prototype.getDateByPos = function (position) {\r\n        var preResult = position / this.tickSize.width;\r\n        var start = new Date(this.range.start);\r\n        if (this.viewType == Enums_1.ViewType.Months || this.viewType == Enums_1.ViewType.Quarter) {\r\n            var monthFromStart = Math.floor(preResult);\r\n            start = new Date(start.setMonth(start.getMonth() + (this.viewType == Enums_1.ViewType.Months ? monthFromStart : monthFromStart * 3)));\r\n            preResult = (position - this.getPosByDate(start)) / this.tickSize.width;\r\n        }\r\n        var time = preResult * this.tickTimeSpan + start.getTime();\r\n        var result = new Date();\r\n        result.setTime(time);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTotalTickCount = function () {\r\n        return this.getRangeTickCount(this.range.start, this.range.end);\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints = function (predessorIndex, successorIndex, connectorType) {\r\n        switch (connectorType) {\r\n            case (Dependency_1.DependencyType.FS):\r\n                return this.getFinishToStartConnectorPoints(predessorIndex, successorIndex);\r\n            case (Dependency_1.DependencyType.SF):\r\n                return this.getStartToFinishConnectorPoints(predessorIndex, successorIndex);\r\n            case (Dependency_1.DependencyType.SS):\r\n                return this.getStartToStartConnectorPoints(predessorIndex, successorIndex);\r\n            case (Dependency_1.DependencyType.FF):\r\n                return this.getFinishToFinishConnectorPoints(predessorIndex, successorIndex);\r\n            default:\r\n                return new Array();\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getFinishToStartConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex) {\r\n            if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start)\r\n                return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(predessorIndex, successorIndex, false);\r\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(predessorIndex, successorIndex, false);\r\n        }\r\n        else {\r\n            if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start)\r\n                return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(successorIndex, predessorIndex, false);\r\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(successorIndex, predessorIndex, true);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getFinishToFinishConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex) {\r\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(predessorIndex, successorIndex);\r\n        }\r\n        else {\r\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(successorIndex, predessorIndex);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getStartToStartConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex) {\r\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(predessorIndex, successorIndex);\r\n        }\r\n        else {\r\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(successorIndex, predessorIndex);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getStartToFinishConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex) {\r\n            if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end)\r\n                return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(predessorIndex, successorIndex, true);\r\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(predessorIndex, successorIndex, false);\r\n        }\r\n        else {\r\n            if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end)\r\n                return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\r\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\r\n        var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\r\n        result.push(new Point_1.Point(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, bottomTaskTopCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\r\n        result.push(new Point_1.Point(Math.max(topTaskRightCenter.x, bottomTaskRightCenter.x) + this.minLineLength, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, bottomTaskRightCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\r\n        result.push(new Point_1.Point(result[0].x + this.minLineLength, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, shiftToTop ?\r\n            topTaskBottomCenter.y + this.minConnectorSpaceFromTask\r\n            : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask));\r\n        result.push(new Point_1.Point(bottomTaskLeftCenter.x - this.minLineLength, result[2].y));\r\n        result.push(new Point_1.Point(result[3].x, bottomTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\r\n        var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new Point_1.Point(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent, topTaskBottomCenter.y));\r\n        result.push(new Point_1.Point(result[0].x, bottomTaskRightCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\r\n        var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new Point_1.Point(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent, topTaskBottomCenter.y));\r\n        result.push(new Point_1.Point(result[0].x, bottomTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\r\n        var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, bottomTaskTopCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(result[0].x - this.minLineLength, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, shiftToTop ?\r\n            topTaskBottomCenter.y + this.minConnectorSpaceFromTask\r\n            : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask));\r\n        result.push(new Point_1.Point(bottomTaskRightCenter.x + this.minLineLength, result[2].y));\r\n        result.push(new Point_1.Point(result[3].x, bottomTaskRightCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(Math.min(topTaskLeftCenter.x, bottomTaskLeftCenter.x) - this.minLineLength, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, bottomTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskLeftCenter = function (taskPoint, index) {\r\n        return new Point_1.Point(taskPoint.x - this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskRightCenter = function (taskPoint, index) {\r\n        return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) + this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskTopCenter = function (taskPoint, index) {\r\n        return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y - this.getTaskEdgeCorrection(index));\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskBottomCenter = function (taskPoint, index) {\r\n        return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y + this.getTaskHeight(index) + this.getTaskEdgeCorrection(index));\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskEdgeCorrection = function (index) {\r\n        var isMilestone = this.viewModel.items[index].task.isMilestone();\r\n        return isMilestone ? this.getTaskHeight(index) * (Math.sqrt(2) - 1) / 2 : 0;\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedRowColumnIndices = function (scrollPos, isVertical) {\r\n        var visibleAreaSizeValue = isVertical ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\r\n        var tickSizeValue = isVertical ? this.tickSize.height : this.tickSize.width;\r\n        var tickCount = isVertical ? this.verticalTickCount : this.horizontalTickCount;\r\n        var firstVisibleIndex = this.getFirstVisibleGridCellIndex(scrollPos, tickSizeValue);\r\n        var lastVisibleIndex = this.getLastVisibleGridCellIndex(scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount);\r\n        var result = new Array();\r\n        for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++)\r\n            result.push(i);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedScaleItemIndices = function (scaleType, renderedColIndices) {\r\n        var scaleItemColSpan = this.getScaleItemColSpan(scaleType);\r\n        var firstVisibleIndex = Math.floor(renderedColIndices[0] / scaleItemColSpan);\r\n        var lastVisibleIndex = Math.floor(renderedColIndices[renderedColIndices.length - 1] / scaleItemColSpan);\r\n        var result = new Array();\r\n        for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++)\r\n            result.push(i);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getFirstVisibleGridCellIndex = function (scrollPos, tickSizeValue) {\r\n        var result = Math.floor(scrollPos / tickSizeValue);\r\n        result = Math.max(result - 10, 0);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getLastVisibleGridCellIndex = function (scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount) {\r\n        var result = Math.floor((scrollPos + visibleAreaSizeValue) / tickSizeValue);\r\n        result = Math.min(result + 10, tickCount - 1);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.createTileToConnectorLinesMap = function () {\r\n        var _this = this;\r\n        this.tileToDependencyMap = [];\r\n        for (var i = 0; i < this.viewModel.items.length; i++) {\r\n            for (var j = 0; j < this.viewModel.items[i].dependencies.length; j++) {\r\n                var predessorIndex = this.viewModel.items[i].dependencies[j].predecessor.visibleIndex;\r\n                var successorIndex = this.viewModel.items[i].visibleIndex;\r\n                var type = this.viewModel.items[i].dependencies[j].type;\r\n                var id = this.viewModel.items[i].dependencies[j].id;\r\n                var connectorInfo = this.getConnectorInfo(id, predessorIndex, successorIndex, type);\r\n                connectorInfo.forEach(function (connectorLine) {\r\n                    _this.addElementInfoToTileMap(connectorLine, _this.tileToDependencyMap, true);\r\n                });\r\n            }\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.createTileToNonWorkingIntervalsMap = function () {\r\n        this.tileToNoWorkingIntervalsMap = [];\r\n        for (var i = 0; i < this.viewModel.noWorkingIntervals.length; i++) {\r\n            var noWorkingDateRange = this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[i]);\r\n            if (!noWorkingDateRange)\r\n                continue;\r\n            var noWorkingIntervalInfo = this.getNoWorkingIntervalInfo(noWorkingDateRange);\r\n            this.addElementInfoToTileMap(noWorkingIntervalInfo, this.tileToNoWorkingIntervalsMap, false);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getAdjustedNoWorkingInterval = function (modelInterval) {\r\n        if (modelInterval.end.getTime() - modelInterval.start.getTime() < this.tickTimeSpan - 1)\r\n            return null;\r\n        return new DateRange_1.DateRange(Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.start, this.range, this.tickTimeSpan, this.viewType), Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.end, this.range, this.tickTimeSpan, this.viewType));\r\n    };\r\n    GridLayoutCalculator.prototype.addElementInfoToTileMap = function (info, map, isVerticalTile) {\r\n        var infoPointValue = isVerticalTile ? info.position.y : info.position.x;\r\n        var infoSizeValue = isVerticalTile ? info.size.height : info.size.width;\r\n        var tileSizeValue = (isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width) * 2;\r\n        var firstTileIndex = Math.floor(infoPointValue / tileSizeValue);\r\n        var lastTileIndex = Math.floor((infoPointValue + infoSizeValue) / tileSizeValue);\r\n        for (var i = firstTileIndex; i <= lastTileIndex; i++) {\r\n            if (!map[i])\r\n                map[i] = new Array();\r\n            map[i].push(info);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedConnectorLines = function (scrollPos) {\r\n        return this.getElementsInRenderedTiles(this.tileToDependencyMap, true, scrollPos);\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedNoWorkingIntervals = function (scrollPos) {\r\n        return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap, false, scrollPos);\r\n    };\r\n    GridLayoutCalculator.prototype.getElementsInRenderedTiles = function (map, isVerticalTile, scrollPos) {\r\n        var visibleAreaSizeValue = isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\r\n        var firstVisibleTileIndex = Math.floor(scrollPos / (visibleAreaSizeValue * 2));\r\n        var lastVisibleTileIndex = Math.floor((scrollPos + visibleAreaSizeValue) / (visibleAreaSizeValue * 2));\r\n        var result = new Array();\r\n        for (var i = firstVisibleTileIndex; i <= lastVisibleTileIndex; i++) {\r\n            if (!map[i])\r\n                continue;\r\n            map[i].forEach(function (info) {\r\n                if (result.indexOf(info) == -1)\r\n                    result.push(info);\r\n            });\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.CLASSNAMES = {\r\n        CONNECTOR_VERTICAL: \"dx-gantt-conn-v\",\r\n        CONNECTOR_HORIZONTAL: \"dx-gantt-conn-h\"\r\n    };\r\n    return GridLayoutCalculator;\r\n}());\r\nexports.GridLayoutCalculator = GridLayoutCalculator;\r\n\r\n\r\n/***/ }),\r\n/* 17 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItemState_1 = __webpack_require__(58);\r\nvar BaseManipulator = (function () {\r\n    function BaseManipulator(viewModel, dispatcher) {\r\n        this.viewModel = viewModel;\r\n        this.dispatcher = dispatcher;\r\n    }\r\n    return BaseManipulator;\r\n}());\r\nexports.BaseManipulator = BaseManipulator;\r\nvar TaskPropertiesManipulator = (function (_super) {\r\n    __extends(TaskPropertiesManipulator, _super);\r\n    function TaskPropertiesManipulator(viewModel, dispatcher) {\r\n        var _this = _super.call(this, viewModel, dispatcher) || this;\r\n        _this.title = new TaskTitleManipulator(viewModel, dispatcher);\r\n        _this.description = new TaskDescriptionManipulator(viewModel, dispatcher);\r\n        _this.progress = new TaskProgressManipulator(viewModel, dispatcher);\r\n        _this.start = new TaskStartDateManipulator(viewModel, dispatcher);\r\n        _this.end = new TaskEndDateManipulator(viewModel, dispatcher);\r\n        return _this;\r\n    }\r\n    return TaskPropertiesManipulator;\r\n}(BaseManipulator));\r\nexports.TaskPropertiesManipulator = TaskPropertiesManipulator;\r\nvar TaskPropertyManipulator = (function (_super) {\r\n    __extends(TaskPropertyManipulator, _super);\r\n    function TaskPropertyManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskPropertyManipulator.prototype.setValue = function (id, newValue) {\r\n        var task = this.viewModel.tasks.getItemById(id);\r\n        var oldState = new HistoryItemState_1.HistoryItemState(id, this.getPropertyValue(task));\r\n        this.setPropertyValue(task, newValue);\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return oldState;\r\n    };\r\n    TaskPropertyManipulator.prototype.restoreValue = function (state) {\r\n        if (!state)\r\n            return;\r\n        var stateValue = state.value;\r\n        var task = this.viewModel.tasks.getItemById(state.taskId);\r\n        this.setPropertyValue(task, stateValue);\r\n        this.viewModel.owner.resetAndUpdate();\r\n    };\r\n    return TaskPropertyManipulator;\r\n}(BaseManipulator));\r\nexports.TaskPropertyManipulator = TaskPropertyManipulator;\r\nvar TaskTitleManipulator = (function (_super) {\r\n    __extends(TaskTitleManipulator, _super);\r\n    function TaskTitleManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskTitleManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.title;\r\n    };\r\n    TaskTitleManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.title = value;\r\n        this.dispatcher.notifyTaskTitleChanged(task.id, value);\r\n    };\r\n    return TaskTitleManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskDescriptionManipulator = (function (_super) {\r\n    __extends(TaskDescriptionManipulator, _super);\r\n    function TaskDescriptionManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDescriptionManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.description;\r\n    };\r\n    TaskDescriptionManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.description = value;\r\n        this.dispatcher.notifyTaskDescriptionChanged(task.id, value);\r\n    };\r\n    return TaskDescriptionManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskProgressManipulator = (function (_super) {\r\n    __extends(TaskProgressManipulator, _super);\r\n    function TaskProgressManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskProgressManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.progress;\r\n    };\r\n    TaskProgressManipulator.prototype.setPropertyValue = function (task, value) {\r\n        value = value < 0 ? 0 : value > 100 ? 100 : value;\r\n        task.progress = value;\r\n        this.dispatcher.notifyTaskProgressChanged(task.id, value);\r\n    };\r\n    return TaskProgressManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskStartDateManipulator = (function (_super) {\r\n    __extends(TaskStartDateManipulator, _super);\r\n    function TaskStartDateManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskStartDateManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.start;\r\n    };\r\n    TaskStartDateManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.start = value;\r\n        this.dispatcher.notifyTaskStartChanged(task.id, value);\r\n    };\r\n    return TaskStartDateManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskEndDateManipulator = (function (_super) {\r\n    __extends(TaskEndDateManipulator, _super);\r\n    function TaskEndDateManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEndDateManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.end;\r\n    };\r\n    TaskEndDateManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.end = value;\r\n        this.dispatcher.notifyTaskEndChanged(task.id, value);\r\n    };\r\n    return TaskEndDateManipulator;\r\n}(TaskPropertyManipulator));\r\n\r\n\r\n/***/ }),\r\n/* 18 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HandlerStateBase_1 = __webpack_require__(66);\r\nvar Point_1 = __webpack_require__(3);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerStateBase = (function (_super) {\r\n    __extends(MouseHandlerStateBase, _super);\r\n    function MouseHandlerStateBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerStateBase.prototype.onMouseDoubleClick = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseDown = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseUp = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseMove = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseWheel = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.getRelativePos = function (absolutePos) {\r\n        var taskAreaX = DomUtils_1.DomUtils.getAbsolutePositionX(this.handler.control.taskArea);\r\n        var taskAreaY = DomUtils_1.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);\r\n        return new Point_1.Point(absolutePos.x - taskAreaX, absolutePos.y - taskAreaY);\r\n    };\r\n    return MouseHandlerStateBase;\r\n}(HandlerStateBase_1.HandlerStateBase));\r\nexports.MouseHandlerStateBase = MouseHandlerStateBase;\r\n\r\n\r\n/***/ }),\r\n/* 19 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Point_1 = __webpack_require__(3);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerStateBase_1 = __webpack_require__(18);\r\nvar MouseHandlerDragBaseState = (function (_super) {\r\n    __extends(MouseHandlerDragBaseState, _super);\r\n    function MouseHandlerDragBaseState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerDragBaseState.prototype.onMouseDown = function (evt) {\r\n        this.currentPosition = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\r\n    };\r\n    MouseHandlerDragBaseState.prototype.onMouseUp = function (evt) {\r\n        this.onMouseUpInternal(evt);\r\n        this.handler.switchToDefaultState();\r\n    };\r\n    MouseHandlerDragBaseState.prototype.onMouseMove = function (evt) {\r\n        evt.preventDefault();\r\n        var position = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\r\n        this.onMouseMoveInternal(position);\r\n        this.currentPosition = position;\r\n    };\r\n    MouseHandlerDragBaseState.prototype.onMouseUpInternal = function (_evt) { };\r\n    MouseHandlerDragBaseState.prototype.onMouseMoveInternal = function (_position) { };\r\n    return MouseHandlerDragBaseState;\r\n}(MouseHandlerStateBase_1.MouseHandlerStateBase));\r\nexports.MouseHandlerDragBaseState = MouseHandlerDragBaseState;\r\n\r\n\r\n/***/ }),\r\n/* 20 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem_1 = __webpack_require__(9);\r\nvar InsertDependencyHistoryItem = (function (_super) {\r\n    __extends(InsertDependencyHistoryItem, _super);\r\n    function InsertDependencyHistoryItem(modelManipulator, predecessorId, successorId, type) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.predecessorId = predecessorId;\r\n        _this.successorId = successorId;\r\n        _this.type = type;\r\n        return _this;\r\n    }\r\n    InsertDependencyHistoryItem.prototype.redo = function () {\r\n        this.dependency = this.modelManipulator.dependency.insertDependency(this.predecessorId, this.successorId, this.type, this.dependency ? this.dependency.internalId : null);\r\n    };\r\n    InsertDependencyHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.dependency.removeDependency(this.dependency.internalId);\r\n    };\r\n    return InsertDependencyHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.InsertDependencyHistoryItem = InsertDependencyHistoryItem;\r\nvar RemoveDependencyHistoryItem = (function (_super) {\r\n    __extends(RemoveDependencyHistoryItem, _super);\r\n    function RemoveDependencyHistoryItem(modelManipulator, dependencyId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.dependencyId = dependencyId;\r\n        return _this;\r\n    }\r\n    RemoveDependencyHistoryItem.prototype.redo = function () {\r\n        this.dependency = this.modelManipulator.dependency.removeDependency(this.dependencyId);\r\n    };\r\n    RemoveDependencyHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId, this.dependency.successorId, this.dependency.type, this.dependencyId);\r\n    };\r\n    return RemoveDependencyHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.RemoveDependencyHistoryItem = RemoveDependencyHistoryItem;\r\n\r\n\r\n/***/ }),\r\n/* 21 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem_1 = __webpack_require__(9);\r\nvar CreateResourceHistoryItem = (function (_super) {\r\n    __extends(CreateResourceHistoryItem, _super);\r\n    function CreateResourceHistoryItem(modelManipulator, text) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.text = text;\r\n        return _this;\r\n    }\r\n    CreateResourceHistoryItem.prototype.redo = function () {\r\n        this.resource = this.modelManipulator.resource.create(this.text, this.resource ? this.resource.internalId : null);\r\n    };\r\n    CreateResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.remove(this.resource.internalId);\r\n    };\r\n    return CreateResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.CreateResourceHistoryItem = CreateResourceHistoryItem;\r\nvar RemoveResourceHistoryItem = (function (_super) {\r\n    __extends(RemoveResourceHistoryItem, _super);\r\n    function RemoveResourceHistoryItem(modelManipulator, resourceId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.resourceId = resourceId;\r\n        return _this;\r\n    }\r\n    RemoveResourceHistoryItem.prototype.redo = function () {\r\n        this.resource = this.modelManipulator.resource.remove(this.resourceId);\r\n    };\r\n    RemoveResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.create(this.resource.text, this.resourceId);\r\n    };\r\n    return RemoveResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.RemoveResourceHistoryItem = RemoveResourceHistoryItem;\r\nvar AssignResourceHistoryItem = (function (_super) {\r\n    __extends(AssignResourceHistoryItem, _super);\r\n    function AssignResourceHistoryItem(modelManipulator, resourceId, taskId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.resourceId = resourceId;\r\n        _this.taskId = taskId;\r\n        return _this;\r\n    }\r\n    AssignResourceHistoryItem.prototype.redo = function () {\r\n        this.assignment = this.modelManipulator.resource.assign(this.resourceId, this.taskId, this.assignment ? this.assignment.internalId : null);\r\n    };\r\n    AssignResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.deassig(this.assignment.internalId);\r\n    };\r\n    return AssignResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.AssignResourceHistoryItem = AssignResourceHistoryItem;\r\nvar DeassignResourceHistoryItem = (function (_super) {\r\n    __extends(DeassignResourceHistoryItem, _super);\r\n    function DeassignResourceHistoryItem(modelManipulator, assignmentId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.assignmentId = assignmentId;\r\n        return _this;\r\n    }\r\n    DeassignResourceHistoryItem.prototype.redo = function () {\r\n        this.assignment = this.modelManipulator.resource.deassig(this.assignmentId);\r\n    };\r\n    DeassignResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.assign(this.assignment.resourceId, this.assignment.taskId, this.assignmentId);\r\n    };\r\n    return DeassignResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.DeassignResourceHistoryItem = DeassignResourceHistoryItem;\r\n\r\n\r\n/***/ }),\r\n/* 22 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar DialogBase = (function (_super) {\r\n    __extends(DialogBase, _super);\r\n    function DialogBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DialogBase.prototype.executeInternal = function (options) {\r\n        var _this = this;\r\n        var params = this.createParameters(options);\r\n        var initParams = params.clone();\r\n        this.control.ganttOwner.showDialog(this.getDialogName(), params, function (result) {\r\n            if (result)\r\n                _this.applyParameters(result, initParams);\r\n        }, function () {\r\n            _this.afterClosing();\r\n        });\r\n        return true;\r\n    };\r\n    DialogBase.prototype.applyParameters = function (_newParameters, _oldParameters) {\r\n        return false;\r\n    };\r\n    DialogBase.prototype.afterClosing = function () { };\r\n    DialogBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    return DialogBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.DialogBase = DialogBase;\r\nvar DialogParametersBase = (function () {\r\n    function DialogParametersBase() {\r\n    }\r\n    return DialogParametersBase;\r\n}());\r\nexports.DialogParametersBase = DialogParametersBase;\r\n\r\n\r\n/***/ }),\r\n/* 23 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Time = (function () {\r\n    function Time(h, min, sec, msec) {\r\n        if (h === void 0) { h = 0; }\r\n        if (min === void 0) { min = 0; }\r\n        if (sec === void 0) { sec = 0; }\r\n        if (msec === void 0) { msec = 0; }\r\n        this._hour = 0;\r\n        this._min = 0;\r\n        this._sec = 0;\r\n        this._msec = 0;\r\n        this._fullmsec = 0;\r\n        this.hour = h;\r\n        this.min = min;\r\n        this.sec = sec;\r\n        this.msec = msec;\r\n    }\r\n    Object.defineProperty(Time.prototype, \"hour\", {\r\n        get: function () { return this._hour; },\r\n        set: function (h) {\r\n            if (h >= 0 && h < 24) {\r\n                this._hour = h;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Time.prototype, \"min\", {\r\n        get: function () { return this._min; },\r\n        set: function (m) {\r\n            if (m >= 0 && m < 60) {\r\n                this._min = m;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Time.prototype, \"sec\", {\r\n        get: function () { return this._sec; },\r\n        set: function (s) {\r\n            if (s >= 0 && s < 60) {\r\n                this._sec = s;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Time.prototype, \"msec\", {\r\n        get: function () { return this._msec; },\r\n        set: function (ms) {\r\n            if (ms >= 0 && ms < 1000) {\r\n                this._msec = ms;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Time.prototype.updateFullMilleconds = function () {\r\n        var minutes = this._hour * 60 + this._min;\r\n        var sec = minutes * 60 + this._sec;\r\n        this._fullmsec = sec * 1000 + this._msec;\r\n    };\r\n    Time.prototype.getTimeInMilleconds = function () {\r\n        return this._fullmsec;\r\n    };\r\n    return Time;\r\n}());\r\nexports.Time = Time;\r\n\r\n\r\n/***/ }),\r\n/* 24 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar TimeRange = (function () {\r\n    function TimeRange(start, end) {\r\n        var diff = DateTimeUtils_1.DateTimeUtils.caclTimeDifference(start, end);\r\n        if (diff >= 0) {\r\n            this._start = start;\r\n            this._end = end;\r\n        }\r\n        else {\r\n            this._start = end;\r\n            this._end = start;\r\n        }\r\n    }\r\n    ;\r\n    Object.defineProperty(TimeRange.prototype, \"start\", {\r\n        get: function () { return this._start; },\r\n        set: function (time) {\r\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0)\r\n                this._start = time;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeRange.prototype, \"end\", {\r\n        get: function () { return this._end; },\r\n        set: function (time) {\r\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0)\r\n                this._end = time;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TimeRange.prototype.isTimeInRange = function (time) {\r\n        return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0 && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0;\r\n    };\r\n    TimeRange.prototype.hasIntersect = function (range) {\r\n        return this.isTimeInRange(range.start) || this.isTimeInRange(range.end) || range.isTimeInRange(this.start) || range.isTimeInRange(this.end);\r\n    };\r\n    TimeRange.prototype.concatWith = function (range) {\r\n        if (!this.hasIntersect(range))\r\n            return false;\r\n        ;\r\n        this.start = DateTimeUtils_1.DateTimeUtils.getMinTime(this.start, range.start);\r\n        this.end = DateTimeUtils_1.DateTimeUtils.getMaxTime(this.end, range.end);\r\n        return true;\r\n    };\r\n    return TimeRange;\r\n}());\r\nexports.TimeRange = TimeRange;\r\n\r\n\r\n/***/ }),\r\n/* 25 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DayOfWeekMonthlyOccurrence;\r\n(function (DayOfWeekMonthlyOccurrence) {\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"First\"] = 0] = \"First\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Second\"] = 1] = \"Second\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Third\"] = 2] = \"Third\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Forth\"] = 3] = \"Forth\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Last\"] = 4] = \"Last\";\r\n})(DayOfWeekMonthlyOccurrence = exports.DayOfWeekMonthlyOccurrence || (exports.DayOfWeekMonthlyOccurrence = {}));\r\n\r\n\r\n/***/ }),\r\n/* 26 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar Daily_1 = __webpack_require__(27);\r\nvar Weekly_1 = __webpack_require__(49);\r\nvar Monthly_1 = __webpack_require__(50);\r\nvar Yearly_1 = __webpack_require__(52);\r\nvar RecurrenceFactory = (function () {\r\n    function RecurrenceFactory() {\r\n    }\r\n    RecurrenceFactory.createRecurrenceByType = function (type) {\r\n        if (!type)\r\n            return null;\r\n        var correctedType = type.toLowerCase();\r\n        switch (correctedType) {\r\n            case \"daily\":\r\n                return new Daily_1.Daily();\r\n            case \"weekly\":\r\n                return new Weekly_1.Weekly();\r\n            case \"monthly\":\r\n                return new Monthly_1.Monthly();\r\n            case \"yearly\":\r\n                return new Yearly_1.Yearly();\r\n        }\r\n        return null;\r\n    };\r\n    RecurrenceFactory.createRecurrenceFromObject = function (sourceObj) {\r\n        if (!sourceObj)\r\n            return null;\r\n        var recurrence = this.createRecurrenceByType(sourceObj.type);\r\n        if (recurrence)\r\n            recurrence.assignFromObject(sourceObj);\r\n        return recurrence;\r\n    };\r\n    RecurrenceFactory.getEnumValue = function (type, value) {\r\n        if (!Utils_1.JsonUtils.isExists(type[value]))\r\n            return null;\r\n        var num = parseInt(value);\r\n        if (!isNaN(num))\r\n            return num;\r\n        return type[value];\r\n    };\r\n    return RecurrenceFactory;\r\n}());\r\nexports.RecurrenceFactory = RecurrenceFactory;\r\n\r\n\r\n/***/ }),\r\n/* 27 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RecurrenceBase_1 = __webpack_require__(11);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Daily = (function (_super) {\r\n    __extends(Daily, _super);\r\n    function Daily() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Daily.prototype.checkDate = function (date) { return true; };\r\n    Daily.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval == 0;\r\n    };\r\n    Daily.prototype.calculatePointByInterval = function (date) {\r\n        var daysToAdd = this.interval;\r\n        if (!this.isRecurrencePoint(date))\r\n            daysToAdd -= DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval;\r\n        return DateTimeUtils_1.DateTimeUtils.addDays(date, daysToAdd);\r\n    };\r\n    Daily.prototype.calculateNearestPoint = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.addDays(date, 1);\r\n    };\r\n    return Daily;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Daily = Daily;\r\n\r\n\r\n/***/ }),\r\n/* 28 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Enums_1 = __webpack_require__(7);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar DateUtils = (function () {\r\n    function DateUtils() {\r\n    }\r\n    DateUtils.getDaysInMonth = function (month, year) {\r\n        var d = new Date(year, month + 1, 0);\r\n        return d.getDate();\r\n    };\r\n    DateUtils.getOffsetInMonths = function (start, end) {\r\n        return (end.getFullYear() - start.getFullYear()) * 12 + end.getMonth() - start.getMonth();\r\n    };\r\n    DateUtils.getOffsetInQuarters = function (start, end) {\r\n        return (end.getFullYear() - start.getFullYear()) * 4 + Math.floor(end.getMonth() / 3) - Math.floor(start.getMonth() / 3);\r\n    };\r\n    DateUtils.getNearestScaleTickDate = function (date, range, tickTimeSpan, viewType) {\r\n        var result = new Date();\r\n        var rangeStartTime = range.start.getTime();\r\n        var rangeEndTime = range.end.getTime();\r\n        result.setTime(date.getTime());\r\n        if (date.getTime() < rangeStartTime)\r\n            result.setTime(rangeStartTime);\r\n        else if (date.getTime() > rangeEndTime)\r\n            result.setTime(rangeEndTime);\r\n        else if (this.needCorrectDate(date, rangeStartTime, tickTimeSpan, viewType)) {\r\n            var nearestLeftTickTime = this.getNearestLeftTickTime(date, rangeStartTime, tickTimeSpan, viewType);\r\n            var nearestRightTickTime = this.getNextTickTime(nearestLeftTickTime, tickTimeSpan, viewType);\r\n            if (Math.abs(date.getTime() - nearestLeftTickTime) > Math.abs(date.getTime() - nearestRightTickTime))\r\n                result.setTime(nearestRightTickTime);\r\n            else\r\n                result.setTime(nearestLeftTickTime);\r\n        }\r\n        return result;\r\n    };\r\n    DateUtils.needCorrectDate = function (date, rangeStartTime, tickTimeSpan, viewType) {\r\n        if (viewType == Enums_1.ViewType.Months)\r\n            return date.getTime() !== new Date(date.getFullYear(), date.getMonth(), 1).getTime();\r\n        return (date.getTime() - rangeStartTime) % tickTimeSpan !== 0;\r\n    };\r\n    DateUtils.getNearestLeftTickTime = function (date, rangeStartTime, tickTimeSpan, viewType) {\r\n        if (viewType == Enums_1.ViewType.Months)\r\n            return new Date(date.getFullYear(), date.getMonth(), 1).getTime();\r\n        var tickCountAtLeft = Math.floor((date.getTime() - rangeStartTime) / tickTimeSpan);\r\n        return rangeStartTime + tickCountAtLeft * tickTimeSpan;\r\n    };\r\n    DateUtils.getNextTickTime = function (currentTickTime, tickTimeSpan, viewType) {\r\n        if (viewType == Enums_1.ViewType.Months) {\r\n            var nextTickDate = new Date();\r\n            nextTickDate.setTime(currentTickTime);\r\n            nextTickDate.setMonth(nextTickDate.getMonth() + 1);\r\n            return nextTickDate.getTime();\r\n        }\r\n        return currentTickTime + tickTimeSpan;\r\n    };\r\n    DateUtils.adjustStartEndDateByViewType = function (date, isStart, viewType) {\r\n        var result = new Date();\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                result = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours());\r\n                if (date.getTime() !== result.getTime() && !isStart)\r\n                    result = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() + 1);\r\n                break;\r\n            case Enums_1.ViewType.SixHours:\r\n            case Enums_1.ViewType.Hours:\r\n                result = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n                if (date.getTime() !== result.getTime() && !isStart)\r\n                    result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);\r\n                break;\r\n            case Enums_1.ViewType.Days:\r\n            case Enums_1.ViewType.Weeks:\r\n                result = new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay());\r\n                if (date.getTime() !== result.getTime() && !isStart)\r\n                    result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 7 - date.getDay());\r\n                break;\r\n            case Enums_1.ViewType.Months:\r\n            case Enums_1.ViewType.Quarter:\r\n            case Enums_1.ViewType.Years:\r\n                result = new Date(date.getFullYear(), 0, 1);\r\n                if (date.getTime() !== result.getTime() && !isStart)\r\n                    result = new Date(date.getFullYear() + 1, 0, 1);\r\n                break;\r\n        }\r\n        return result;\r\n    };\r\n    DateUtils.getTickTimeSpan = function (viewType) {\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return DateUtils.msPerHour / 6;\r\n            case Enums_1.ViewType.Hours:\r\n                return DateUtils.msPerHour;\r\n            case Enums_1.ViewType.SixHours:\r\n                return DateUtils.msPerHour * 6;\r\n            case Enums_1.ViewType.Days:\r\n                return DateUtils.msPerDay;\r\n            case Enums_1.ViewType.Weeks:\r\n                return DateUtils.msPerWeek;\r\n            case Enums_1.ViewType.Months:\r\n                return DateUtils.msPerMonth;\r\n            case Enums_1.ViewType.Quarter:\r\n                return DateUtils.msPerMonth * 3;\r\n            case Enums_1.ViewType.Years:\r\n                return DateUtils.msPerMonth * 12;\r\n        }\r\n    };\r\n    DateUtils.msPerHour = 3600000;\r\n    DateUtils.msPerDay = 24 * DateUtils.msPerHour;\r\n    DateUtils.msPerWeek = 7 * DateUtils.msPerDay;\r\n    DateUtils.msPerMonth = 30 * DateUtils.msPerDay;\r\n    DateUtils.ViewTypeToScaleMap = createViewTypeToScaleMap();\r\n    return DateUtils;\r\n}());\r\nexports.DateUtils = DateUtils;\r\nvar ElementTextHelper = (function () {\r\n    function ElementTextHelper() {\r\n        this.longestAbbrMonthName = null;\r\n        this.longestMonthName = null;\r\n        this.longestAbbrDayName = null;\r\n        var canvas = document.createElement(\"canvas\");\r\n        this.textMeasureContext = canvas.getContext(\"2d\");\r\n    }\r\n    ElementTextHelper.prototype.setFont = function (fontHolder) {\r\n        var computedStyle = DomUtils_1.DomUtils.getCurrentStyle(fontHolder);\r\n        var font = computedStyle.font ? computedStyle.font :\r\n            computedStyle.fontStyle + \" \" + computedStyle.fontVariant + \" \" + computedStyle.fontWeight + \" \"\r\n                + computedStyle.fontSize + \" / \" + computedStyle.lineHeight + \" \" + computedStyle.fontFamily;\r\n        this.textMeasureContext.font = font;\r\n    };\r\n    ElementTextHelper.prototype.setSettings = function (startTime, viewType, modelItems) {\r\n        this.startTime = startTime;\r\n        this.viewType = viewType;\r\n        this.modelItems = modelItems;\r\n    };\r\n    ElementTextHelper.prototype.getScaleItemStartDate = function (index, scaleType) {\r\n        var result = new Date(this.startTime);\r\n        switch (scaleType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                result.setTime(this.startTime + index * DateUtils.msPerHour / 6);\r\n                break;\r\n            case Enums_1.ViewType.Hours:\r\n                result.setTime(this.startTime + index * DateUtils.msPerHour);\r\n                break;\r\n            case Enums_1.ViewType.SixHours:\r\n                result.setTime(this.startTime + index * DateUtils.msPerHour * 6);\r\n                break;\r\n            case Enums_1.ViewType.Days:\r\n                result.setTime(this.startTime + index * DateUtils.msPerDay);\r\n                break;\r\n            case Enums_1.ViewType.Weeks:\r\n                result.setTime(this.startTime + index * DateUtils.msPerWeek);\r\n                break;\r\n            case Enums_1.ViewType.Months:\r\n                result.setMonth(result.getMonth() + index);\r\n                break;\r\n            case Enums_1.ViewType.Quarter:\r\n                result.setMonth(result.getMonth() + index * 3);\r\n                break;\r\n            case Enums_1.ViewType.Years:\r\n                result.setFullYear(result.getFullYear() + index);\r\n                break;\r\n            case Enums_1.ViewType.FiveYears:\r\n                result.setFullYear(result.getFullYear() + index * 5);\r\n                break;\r\n        }\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getScaleItemText = function (index, scaleType) {\r\n        var scaleItemStartDate = this.getScaleItemStartDate(index, scaleType);\r\n        var isViewTypeScale = this.viewType.valueOf() == scaleType.valueOf();\r\n        switch (scaleType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return this.getTenMinutesScaleItemText(scaleItemStartDate);\r\n            case Enums_1.ViewType.Hours:\r\n            case Enums_1.ViewType.SixHours:\r\n                return this.getHoursScaleItemText(scaleItemStartDate);\r\n            case Enums_1.ViewType.Days:\r\n                return this.getDaysScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Weeks:\r\n                return this.getWeeksScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Months:\r\n                return this.getMonthsScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Quarter:\r\n                return this.getQuarterScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Years:\r\n                return this.getYearsScaleItemText(scaleItemStartDate);\r\n            case Enums_1.ViewType.FiveYears:\r\n                return this.getFiveYearsScaleItemText(scaleItemStartDate);\r\n        }\r\n    };\r\n    ElementTextHelper.prototype.getTenMinutesScaleItemText = function (scaleItemDate) {\r\n        var minutes = scaleItemDate.getMinutes() + 1;\r\n        return (Math.ceil(minutes / 10) * 10).toString();\r\n    };\r\n    ElementTextHelper.prototype.getThirtyMinutesScaleItemText = function (scaleItemDate) {\r\n        var minutes = scaleItemDate.getMinutes();\r\n        return minutes < 30 ? \"30\" : \"60\";\r\n    };\r\n    ElementTextHelper.prototype.getHoursScaleItemText = function (scaleItemDate) {\r\n        var hours = scaleItemDate.getHours();\r\n        var hourDisplayText = this.getHourDisplayText(hours);\r\n        var amPmText = hours < 12 ? this.getAmText() : this.getPmText();\r\n        return this.getHoursScaleItemTextCore(hourDisplayText, amPmText);\r\n    };\r\n    ElementTextHelper.prototype.getDaysScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        return this.getDayTotalText(scaleItemDate, true, isViewTypeScale, isViewTypeScale, !isViewTypeScale);\r\n    };\r\n    ElementTextHelper.prototype.getWeeksScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        var weekLastDayDate = new Date(scaleItemDate.getTime() + DateUtils.msPerWeek - DateUtils.msPerDay);\r\n        return this.getWeeksScaleItemTextCore(this.getDayTotalText(scaleItemDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale), this.getDayTotalText(weekLastDayDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale));\r\n    };\r\n    ElementTextHelper.prototype.getMonthsScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        var monthNames = this.getMonthNames();\r\n        var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\r\n        return this.getMonthsScaleItemTextCore(monthNames[scaleItemDate.getMonth()], yearDisplayText);\r\n    };\r\n    ElementTextHelper.prototype.getQuarterScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        var quarterNames = this.getQuarterNames();\r\n        var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\r\n        return this.getMonthsScaleItemTextCore(quarterNames[Math.floor(scaleItemDate.getMonth() / 3)], yearDisplayText);\r\n    };\r\n    ElementTextHelper.prototype.getYearsScaleItemText = function (scaleItemDate) {\r\n        return scaleItemDate.getFullYear().toString();\r\n    };\r\n    ElementTextHelper.prototype.getFiveYearsScaleItemText = function (scaleItemDate) {\r\n        return scaleItemDate.getFullYear().toString() + \" - \" + (scaleItemDate.getFullYear() + 4).toString();\r\n    };\r\n    ElementTextHelper.prototype.getHourDisplayText = function (hours) {\r\n        if (this.hasAmPm())\r\n            return (hours == 0 ? 12 : (hours <= 12 ? hours : hours - 12)).toString();\r\n        return hours < 10 ? \"0\" + hours : hours.toString();\r\n    };\r\n    ElementTextHelper.prototype.getDayTotalText = function (scaleItemDate, displayDayName, useAbbrDayNames, useAbbrMonthNames, displayYear) {\r\n        var monthNames = useAbbrMonthNames ? this.getAbbrMonthNames() : this.getMonthNames();\r\n        var dayNames = useAbbrDayNames ? this.getAbbrDayNames() : this.getDayNames();\r\n        var dayNameDisplayText = displayDayName ? dayNames[scaleItemDate.getDay()] : \"\";\r\n        var day = scaleItemDate.getDate();\r\n        var monthName = monthNames[scaleItemDate.getMonth()];\r\n        var yearDisplayText = displayYear ? scaleItemDate.getFullYear().toString() : \"\";\r\n        return this.getDayTotalTextCore(dayNameDisplayText, day.toString(), monthName, yearDisplayText);\r\n    };\r\n    ElementTextHelper.prototype.getTaskText = function (index) {\r\n        var item = this.modelItems[index];\r\n        return item ? item.task.title : \"\";\r\n    };\r\n    ElementTextHelper.prototype.getTaskVisibility = function (index) {\r\n        var item = this.modelItems[index];\r\n        return !!item && item.getVisible();\r\n    };\r\n    ElementTextHelper.prototype.hasAmPm = function () {\r\n        return this.getAmText().length > 0 || this.getPmText().length > 0;\r\n    };\r\n    ElementTextHelper.prototype.getScaleItemTextTemplate = function (viewType) {\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return \"00\";\r\n            case Enums_1.ViewType.Hours:\r\n            case Enums_1.ViewType.SixHours:\r\n                return this.getHoursScaleItemTextCore(\"00\", this.getAmText());\r\n            case Enums_1.ViewType.Days:\r\n                return this.getDayTextTemplate();\r\n            case Enums_1.ViewType.Weeks:\r\n                return this.getWeekTextTemplate();\r\n            case Enums_1.ViewType.Months:\r\n                return this.getMonthsScaleItemTextCore(this.getLongestMonthName(), \"\");\r\n            case Enums_1.ViewType.Quarter:\r\n                return \"Q4\";\r\n            case Enums_1.ViewType.Years:\r\n                return \"0000\";\r\n        }\r\n    };\r\n    ElementTextHelper.prototype.getDayTextTemplate = function () {\r\n        return this.getDayTotalTextCore(this.getLongestAbbrDayName(), \"00\", this.getLongestAbbrMonthName(), \"\");\r\n    };\r\n    ElementTextHelper.prototype.getWeekTextTemplate = function () {\r\n        var dayTextTemplate = this.getDayTextTemplate();\r\n        return this.getWeeksScaleItemTextCore(dayTextTemplate, dayTextTemplate);\r\n    };\r\n    ElementTextHelper.prototype.getHoursScaleItemTextCore = function (hourDisplayText, amPmText) {\r\n        return hourDisplayText + \":00\" + (this.hasAmPm() ? \" \" + amPmText : \"\");\r\n    };\r\n    ElementTextHelper.prototype.getDayTotalTextCore = function (dayName, dayValueString, monthName, yearValueString) {\r\n        var result = dayName.length > 0 ? dayName + \", \" : \"\";\r\n        result += dayValueString + \" \" + monthName;\r\n        result += (yearValueString.length > 0 ? \" \" + yearValueString : \"\");\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getWeeksScaleItemTextCore = function (firstDayOfWeekString, lastDayOfWeekString) {\r\n        return firstDayOfWeekString + \" - \" + lastDayOfWeekString;\r\n    };\r\n    ElementTextHelper.prototype.getMonthsScaleItemTextCore = function (monthName, yearValueString) {\r\n        var result = monthName;\r\n        if (yearValueString.length > 0)\r\n            result += \" \" + yearValueString;\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getLongestAbbrMonthName = function () {\r\n        if (this.longestAbbrMonthName == null)\r\n            this.longestAbbrMonthName = this.getLongestText(this.getAbbrMonthNames());\r\n        return this.longestAbbrMonthName;\r\n    };\r\n    ElementTextHelper.prototype.getLongestMonthName = function () {\r\n        if (this.longestMonthName == null)\r\n            this.longestMonthName = this.getLongestText(this.getMonthNames());\r\n        return this.longestMonthName;\r\n    };\r\n    ElementTextHelper.prototype.getLongestAbbrDayName = function () {\r\n        if (this.longestAbbrDayName == null)\r\n            this.longestAbbrDayName = this.getLongestText(this.getAbbrDayNames());\r\n        return this.longestAbbrDayName;\r\n    };\r\n    ElementTextHelper.prototype.getLongestText = function (texts) {\r\n        var _this = this;\r\n        var result = \"\";\r\n        var longestTextWidth = 0;\r\n        texts.forEach(function (text) {\r\n            var textWidth = _this.getTextWidth(text);\r\n            if (textWidth > longestTextWidth) {\r\n                longestTextWidth = textWidth;\r\n                result = text;\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getTextWidth = function (text) {\r\n        return Math.round(this.textMeasureContext.measureText(text).width);\r\n    };\r\n    ElementTextHelper.prototype.getAmText = function () {\r\n        return \"AM\";\r\n    };\r\n    ElementTextHelper.prototype.getPmText = function () {\r\n        return \"PM\";\r\n    };\r\n    ElementTextHelper.prototype.getQuarterNames = function () {\r\n        return [\"Q1\", \"Q2\", \"Q3\", \"Q4\"];\r\n    };\r\n    ElementTextHelper.prototype.getMonthNames = function () {\r\n        return [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\", \"\"];\r\n    };\r\n    ElementTextHelper.prototype.getDayNames = function () {\r\n        return [\"Sunday\", \"Monday\", \"ASP\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    };\r\n    ElementTextHelper.prototype.getAbbrMonthNames = function () {\r\n        return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"\"];\r\n    };\r\n    ElementTextHelper.prototype.getAbbrDayNames = function () {\r\n        return [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    };\r\n    return ElementTextHelper;\r\n}());\r\nexports.ElementTextHelper = ElementTextHelper;\r\nfunction createViewTypeToScaleMap() {\r\n    var result = {};\r\n    result[Enums_1.ViewType.TenMinutes] = Enums_1.ViewType.Hours;\r\n    result[Enums_1.ViewType.Hours] = Enums_1.ViewType.Days;\r\n    result[Enums_1.ViewType.SixHours] = Enums_1.ViewType.Days;\r\n    result[Enums_1.ViewType.Days] = Enums_1.ViewType.Weeks;\r\n    result[Enums_1.ViewType.Weeks] = Enums_1.ViewType.Months;\r\n    result[Enums_1.ViewType.Months] = Enums_1.ViewType.Years;\r\n    result[Enums_1.ViewType.Quarter] = Enums_1.ViewType.Years;\r\n    result[Enums_1.ViewType.Years] = Enums_1.ViewType.FiveYears;\r\n    return result;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 29 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Point_1 = __webpack_require__(3);\r\nvar Size_1 = __webpack_require__(15);\r\nvar Margins_1 = __webpack_require__(54);\r\nvar GridElementInfo = (function () {\r\n    function GridElementInfo(className, position, size) {\r\n        this.id = GridElementInfo.id++;\r\n        this.position = new Point_1.Point();\r\n        this.size = new Size_1.Size();\r\n        this.margins = new Margins_1.Margins();\r\n        this.attr = {};\r\n        if (className)\r\n            this.className = className;\r\n        if (position)\r\n            this.setPosition(position);\r\n        if (size)\r\n            this.setSize(size);\r\n    }\r\n    GridElementInfo.prototype.setSize = function (size) {\r\n        this.size.width = size.width;\r\n        this.size.height = size.height;\r\n    };\r\n    GridElementInfo.prototype.setPosition = function (position) {\r\n        this.position.x = position.x;\r\n        this.position.y = position.y;\r\n    };\r\n    GridElementInfo.prototype.assignToElement = function (element) {\r\n        this.assignPosition(element);\r\n        this.assignSize(element);\r\n        this.assignMargins(element);\r\n        if (this.className)\r\n            element.className = this.className;\r\n    };\r\n    GridElementInfo.prototype.assignPosition = function (element) {\r\n        if (this.position.x != null)\r\n            element.style.left = this.position.x + \"px\";\r\n        if (this.position.y != null)\r\n            element.style.top = this.position.y + \"px\";\r\n    };\r\n    GridElementInfo.prototype.assignSize = function (element) {\r\n        if (this.size.width)\r\n            element.style.width = this.size.width + \"px\";\r\n        if (this.size.height)\r\n            element.style.height = this.size.height + \"px\";\r\n    };\r\n    GridElementInfo.prototype.assignMargins = function (element) {\r\n        if (this.margins.marginLeft)\r\n            element.style.marginLeft = this.margins.marginLeft + \"px\";\r\n        if (this.margins.marginTop)\r\n            element.style.marginTop = this.margins.marginTop + \"px\";\r\n        if (this.margins.marginRight)\r\n            element.style.marginRight = this.margins.marginRight + \"px\";\r\n        if (this.margins.marginBottom)\r\n            element.style.marginBottom = this.margins.marginBottom + \"px\";\r\n    };\r\n    GridElementInfo.prototype.setAttribute = function (name, value) {\r\n        this.attr[name] = value;\r\n    };\r\n    GridElementInfo.id = 0;\r\n    return GridElementInfo;\r\n}());\r\nexports.GridElementInfo = GridElementInfo;\r\n\r\n\r\n/***/ }),\r\n/* 30 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar Enums_1 = __webpack_require__(7);\r\nvar DateRange_1 = __webpack_require__(10);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar TaskEditController = (function () {\r\n    function TaskEditController(gantt) {\r\n        this.taskIndex = -1;\r\n        this.successorIndex = -1;\r\n        this.editing = false;\r\n        this.gantt = gantt;\r\n        this.createElements();\r\n        this.createClassToSourceMap();\r\n    }\r\n    Object.defineProperty(TaskEditController.prototype, \"taskId\", {\r\n        get: function () {\r\n            return this.gantt.viewModel.items[this.taskIndex].task.internalId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskEditController.prototype, \"successorId\", {\r\n        get: function () {\r\n            return this.gantt.viewModel.items[this.successorIndex].task.internalId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskEditController.prototype, \"task\", {\r\n        get: function () {\r\n            return this.gantt.viewModel.items[this.taskIndex].task;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TaskEditController.prototype.show = function (taskIndex) {\r\n        if (!this.editing && this.gantt.settings.editing.enabled) {\r\n            this.taskIndex = taskIndex;\r\n            this.updateWrapInfo();\r\n            this.wrapInfo.assignPosition(this.baseElement);\r\n            this.wrapInfo.assignSize(this.baseElement);\r\n            this.gantt.taskArea.appendChild(this.baseElement);\r\n            this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n            if (this.task.isMilestone())\r\n                this.baseElement.className = this.baseElement.className + \" milestone\";\r\n            else {\r\n                if (!this.gantt.settings.editing.allowDependencyAdding)\r\n                    this.baseElement.className = this.baseElement.className + \" hide-dependency\";\r\n                if (!this.gantt.settings.editing.allowTaskUpdating)\r\n                    this.baseElement.className = this.baseElement.className + \" hide-updating\";\r\n                this.progressEdit.style.left = ((this.task.progress / 100) *\r\n                    this.wrapInfo.size.width - (this.progressEdit.offsetWidth / 2)) + \"px\";\r\n            }\r\n            this.taskDateRange = new DateRange_1.DateRange(this.task.start, this.task.end);\r\n        }\r\n    };\r\n    TaskEditController.prototype.updateWrapInfo = function () {\r\n        this.wrapInfo = this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(this.taskIndex);\r\n        this.wrapInfo.size.width = this.gantt.gridLayoutCalculator.getTaskWidth(this.taskIndex);\r\n        this.wrapInfo.position.x--;\r\n        if (this.task.isMilestone())\r\n            this.wrapInfo.position.y = this.gantt.gridLayoutCalculator.getSelectionPosition(this.taskIndex).y;\r\n    };\r\n    TaskEditController.prototype.hide = function () {\r\n        var parentNode = this.baseElement.parentNode;\r\n        if (parentNode)\r\n            parentNode.removeChild(this.baseElement);\r\n    };\r\n    TaskEditController.prototype.showDependencySuccessor = function (taskIndex) {\r\n        if (this.successorIndex != taskIndex && this.taskIndex != taskIndex) {\r\n            this.successorIndex = taskIndex;\r\n            var wrapInfo = this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(taskIndex);\r\n            wrapInfo.size.width = this.gantt.gridLayoutCalculator.getTaskWidth(taskIndex) + 1;\r\n            wrapInfo.assignPosition(this.dependencySuccessorBaseElement);\r\n            wrapInfo.assignSize(this.dependencySuccessorBaseElement);\r\n            wrapInfo.assignSize(this.dependencySuccessorFrame);\r\n            this.gantt.taskArea.appendChild(this.dependencySuccessorBaseElement);\r\n        }\r\n    };\r\n    TaskEditController.prototype.hideDependencySuccessor = function () {\r\n        var parentNode = this.dependencySuccessorBaseElement.parentNode;\r\n        if (parentNode)\r\n            parentNode.removeChild(this.dependencySuccessorBaseElement);\r\n        this.successorIndex = -1;\r\n    };\r\n    TaskEditController.prototype.processProgress = function (position) {\r\n        this.editing = true;\r\n        var progressOffset = position.x - this.wrapInfo.position.x;\r\n        var progress = 0;\r\n        if (position.x > this.wrapInfo.position.x)\r\n            if (position.x < this.wrapInfo.position.x + this.wrapInfo.size.width)\r\n                progress = Math.round((progressOffset) / this.baseElement.clientWidth * 100);\r\n            else\r\n                progress = 100;\r\n        this.progressEdit.style.left = ((progress / 100) *\r\n            this.wrapInfo.size.width - (this.progressEdit.offsetWidth / 2)) + \"px\";\r\n        this.statusMsg.innerHTML = progress + \"%\";\r\n        this.showMessageBox(DomUtils_1.DomUtils.getAbsolutePositionX(this.progressEdit) - this.statusMsg.clientWidth / 2);\r\n    };\r\n    TaskEditController.prototype.confirmProgress = function () {\r\n        this.editing = false;\r\n        var progress = Math.round((this.progressEdit.offsetLeft + (this.progressEdit.offsetWidth / 2)) / this.wrapInfo.size.width * 100);\r\n        this.gantt.commandManager.changeTaskProgressCommand.execute(this.taskId, progress);\r\n    };\r\n    TaskEditController.prototype.isShouldProcessEnd = function (positionX) {\r\n        return positionX > this.wrapInfo.position.x - this.endEdit.clientWidth;\r\n    };\r\n    TaskEditController.prototype.processEnd = function (position) {\r\n        this.baseElement.className = this.baseElement.className + \" move\";\r\n        this.editing = true;\r\n        var positionX = position.x > this.wrapInfo.position.x ? position.x : this.wrapInfo.position.x;\r\n        var width = positionX - this.wrapInfo.position.x;\r\n        this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\r\n        var startDate = this.task.start;\r\n        var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\r\n        date.setSeconds(0);\r\n        if (date < startDate || width < 1)\r\n            this.taskDateRange.end.setTime(startDate.getTime());\r\n        else\r\n            this.taskDateRange.end = this.getNewDate(this.task.end, date);\r\n        this.showTimeMessage(startDate, this.taskDateRange.end, (DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement) + this.baseElement.clientWidth - this.statusMsg.clientWidth));\r\n    };\r\n    TaskEditController.prototype.confirmEnd = function () {\r\n        this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n        this.editing = false;\r\n        this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId, this.taskDateRange.end);\r\n        this.updateWrapInfo();\r\n    };\r\n    TaskEditController.prototype.processStart = function (position) {\r\n        this.baseElement.className = this.baseElement.className + \" move\";\r\n        this.editing = true;\r\n        var positionX = position.x < this.wrapInfo.position.x + this.wrapInfo.size.width ? position.x : this.wrapInfo.position.x + this.wrapInfo.size.width;\r\n        var width = this.wrapInfo.size.width - (positionX - this.wrapInfo.position.x);\r\n        this.baseElement.style.left = positionX + \"px\";\r\n        this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\r\n        var endDate = this.task.end;\r\n        var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\r\n        date.setSeconds(0);\r\n        if (date > endDate || width < 1)\r\n            this.taskDateRange.start.setTime(endDate.getTime());\r\n        else\r\n            this.taskDateRange.start = this.getNewDate(this.task.start, date);\r\n        this.showTimeMessage(this.taskDateRange.start, endDate, DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement));\r\n    };\r\n    TaskEditController.prototype.confirmStart = function () {\r\n        this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n        this.editing = false;\r\n        this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId, this.taskDateRange.start);\r\n        this.updateWrapInfo();\r\n    };\r\n    TaskEditController.prototype.processMove = function (delta) {\r\n        if (this.gantt.settings.editing.allowTaskUpdating) {\r\n            this.baseElement.className = this.baseElement.className + \" move\";\r\n            this.editing = true;\r\n            var left = this.baseElement.offsetLeft + delta;\r\n            this.baseElement.style.left = left + \"px\";\r\n            var date = this.gantt.gridLayoutCalculator.getDateByPos(left);\r\n            this.taskDateRange.start = this.getNewDate(this.task.start, date);\r\n            var dateDiff = this.task.start.getTime() - date.getTime();\r\n            var endDate = new Date(this.task.end.getTime() - dateDiff);\r\n            this.taskDateRange.end = this.getNewDate(this.task.end, endDate);\r\n            this.showTimeMessage(this.taskDateRange.start, this.taskDateRange.end, DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement));\r\n        }\r\n    };\r\n    TaskEditController.prototype.confirmMove = function () {\r\n        this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n        if (this.editing) {\r\n            this.gantt.history.beginTransaction();\r\n            this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId, this.taskDateRange.start);\r\n            this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId, this.taskDateRange.end);\r\n            this.gantt.history.endTransaction();\r\n        }\r\n        this.updateWrapInfo();\r\n        this.editing = false;\r\n    };\r\n    TaskEditController.prototype.getNewDate = function (referenceDate, newDate) {\r\n        if (this.gantt.settings.viewType > Enums_1.ViewType.SixHours) {\r\n            var date = new Date(referenceDate.getTime());\r\n            date.setDate(newDate.getDate());\r\n            date.setMonth(newDate.getMonth());\r\n            date.setFullYear(newDate.getFullYear());\r\n            if (this.gantt.settings.viewType == Enums_1.ViewType.Days)\r\n                date.setHours(newDate.getHours());\r\n            return date;\r\n        }\r\n        else\r\n            return newDate;\r\n    };\r\n    TaskEditController.prototype.startDependency = function (pos) {\r\n        this.dependencyLine = document.createElement(\"DIV\");\r\n        this.dependencyLine.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE;\r\n        this.gantt.taskArea.appendChild(this.dependencyLine);\r\n        this.startPosition = pos;\r\n    };\r\n    TaskEditController.prototype.processDependency = function (pos) {\r\n        this.editing = true;\r\n        this.drawline(this.startPosition, pos);\r\n    };\r\n    TaskEditController.prototype.endDependency = function (type) {\r\n        this.editing = false;\r\n        if (type != null)\r\n            this.gantt.commandManager.createDependencyCommand.execute(this.task.internalId, this.successorId, type);\r\n        var parentNode = this.dependencyLine.parentNode;\r\n        if (parentNode)\r\n            parentNode.removeChild(this.dependencyLine);\r\n        this.dependencyLine = null;\r\n        this.hideDependencySuccessor();\r\n        this.hide();\r\n    };\r\n    TaskEditController.prototype.selectDependency = function (id) {\r\n        if (this.gantt.settings.editing.allowDependencyDeleting)\r\n            this.dependencyId = id;\r\n    };\r\n    TaskEditController.prototype.isDependencySelected = function (id) {\r\n        return this.dependencyId && this.dependencyId == id;\r\n    };\r\n    TaskEditController.prototype.deleteSelectedDependency = function () {\r\n        if (this.dependencyId)\r\n            this.gantt.commandManager.removeDependencyCommand.execute(this.dependencyId);\r\n    };\r\n    TaskEditController.prototype.showTimeMessage = function (start, end, posX) {\r\n        this.statusMsg.innerHTML = \"\";\r\n        var timeElement = document.createElement(\"DIV\");\r\n        timeElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;\r\n        var startEl = document.createElement(\"DIV\");\r\n        var startTitle = document.createElement(\"SPAN\");\r\n        startTitle.innerHTML = \"Start: \";\r\n        var startValue = document.createElement(\"SPAN\");\r\n        startValue.innerHTML = this.formatDate(start);\r\n        startEl.appendChild(startTitle);\r\n        startEl.appendChild(startValue);\r\n        var endEl = document.createElement(\"DIV\");\r\n        var endTitle = document.createElement(\"SPAN\");\r\n        endTitle.innerHTML = \"End: \";\r\n        var endValue = document.createElement(\"SPAN\");\r\n        endValue.innerHTML = this.formatDate(end);\r\n        endEl.appendChild(endTitle);\r\n        endEl.appendChild(endValue);\r\n        timeElement.appendChild(startEl);\r\n        timeElement.appendChild(endEl);\r\n        this.statusMsg.appendChild(timeElement);\r\n        this.showMessageBox(posX);\r\n    };\r\n    TaskEditController.prototype.showMessageBox = function (posX) {\r\n        var _this = this;\r\n        this.statusMsg.style.display = \"block\";\r\n        this.statusMsg.style.left = posX + \"px\";\r\n        this.statusMsg.style.top = (DomUtils_1.DomUtils.getAbsolutePositionY(this.baseElement) - this.statusMsg.clientHeight) + \"px\";\r\n        if (this.statusTimerId)\r\n            clearTimeout(this.statusTimerId);\r\n        this.statusTimerId = setTimeout(function () {\r\n            _this.statusMsg.style.display = \"none\";\r\n        }, 1500);\r\n    };\r\n    TaskEditController.prototype.formatDate = function (date) {\r\n        return ('0' + date.getDate()).slice(-2) + '/' + ('0' + (date.getMonth() + 1)).slice(-2) + \"/\" +\r\n            date.getFullYear() + \" \" + ('0' + date.getHours()).slice(-2) + \":\" + ('0' + date.getMinutes()).slice(-2);\r\n    };\r\n    TaskEditController.prototype.createElements = function () {\r\n        this.baseElement = document.createElement(\"DIV\");\r\n        this.baseFrame = document.createElement(\"DIV\");\r\n        this.baseFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME;\r\n        this.baseElement.appendChild(this.baseFrame);\r\n        this.progressEdit = document.createElement(\"DIV\");\r\n        this.progressEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS;\r\n        this.baseFrame.appendChild(this.progressEdit);\r\n        this.statusMsg = document.createElement(\"DIV\");\r\n        this.statusMsg.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS;\r\n        this.baseFrame.appendChild(this.statusMsg);\r\n        this.dependencyFinish = document.createElement(\"DIV\");\r\n        this.dependencyFinish.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH;\r\n        this.baseFrame.appendChild(this.dependencyFinish);\r\n        this.dependencyStart = document.createElement(\"DIV\");\r\n        this.dependencyStart.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT;\r\n        this.baseFrame.appendChild(this.dependencyStart);\r\n        this.startEdit = document.createElement(\"DIV\");\r\n        this.startEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_START;\r\n        this.baseFrame.appendChild(this.startEdit);\r\n        this.endEdit = document.createElement(\"DIV\");\r\n        this.endEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_END;\r\n        this.baseFrame.appendChild(this.endEdit);\r\n        this.dependencySuccessorBaseElement = document.createElement(\"DIV\");\r\n        this.dependencySuccessorBaseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR;\r\n        this.dependencySuccessorFrame = document.createElement(\"DIV\");\r\n        this.dependencySuccessorFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR;\r\n        this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame);\r\n        this.dependencySuccessorStart = document.createElement(\"DIV\");\r\n        this.dependencySuccessorStart.className = TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH;\r\n        this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart);\r\n        this.dependencySuccessorFinish = document.createElement(\"DIV\");\r\n        this.dependencySuccessorFinish.className = TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT;\r\n        this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish);\r\n        this.attachEvents();\r\n    };\r\n    TaskEditController.prototype.attachEvents = function () {\r\n        this.baseElement.addEventListener(\"mouseleave\", function (evt) {\r\n            if (!this.editing)\r\n                this.hide();\r\n        }.bind(this));\r\n    };\r\n    TaskEditController.prototype.drawline = function (start, end) {\r\n        if (start.x > end.x) {\r\n            var temp = end;\r\n            end = start;\r\n            start = temp;\r\n        }\r\n        var angle = Math.atan((start.y - end.y) / (end.x - start.x));\r\n        angle = (angle * 180 / Math.PI);\r\n        angle = -angle;\r\n        var length = Math.sqrt((start.x - end.x) * (start.x - end.x) + (start.y - end.y) * (start.y - end.y));\r\n        this.dependencyLine.style.left = start.x + \"px\";\r\n        this.dependencyLine.style.top = start.y + \"px\";\r\n        this.dependencyLine.style.width = length + \"px\";\r\n        this.dependencyLine.style.transform = \"rotate(\" + angle + \"deg)\";\r\n    };\r\n    TaskEditController.prototype.createClassToSourceMap = function () {\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS] = TaskAreaManager_1.MouseEventSource.TaskEdit_Progress;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_START] = TaskAreaManager_1.MouseEventSource.TaskEdit_Start;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_END] = TaskAreaManager_1.MouseEventSource.TaskEdit_End;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_FRAME] = TaskAreaManager_1.MouseEventSource.TaskEdit_Frame;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.Successor_DependencyStart;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish;\r\n    };\r\n    TaskEditController.CLASSNAMES = {\r\n        TASK_EDIT_BOX: \"dx-gantt-task-edit-wrapper\",\r\n        TASK_EDIT_FRAME: \"dx-gantt-task-edit-frame\",\r\n        TASK_EDIT_PROGRESS: \"dx-gantt-task-edit-progress\",\r\n        TASK_EDIT_PROGRESS_STATUS: \"dx-gantt-task-edit-progress-status\",\r\n        TASK_EDIT_PROGRESS_STATUS_TIME: \"dx-gantt-status-time\",\r\n        TASK_EDIT_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-dependency-r\",\r\n        TASK_EDIT_DEPENDENCY_LEFT: \"dx-gantt-task-edit-dependency-l\",\r\n        TASK_EDIT_START: \"dx-gantt-task-edit-start\",\r\n        TASK_EDIT_END: \"dx-gantt-task-edit-end\",\r\n        TASK_EDIT_DEPENDENCY_LINE: \"dx-gantt-task-edit-dependency-line\",\r\n        TASK_EDIT_BOX_SUCCESSOR: \"dx-gantt-task-edit-wrapper-successor\",\r\n        TASK_EDIT_FRAME_SUCCESSOR: \"dx-gantt-task-edit-frame-successor\",\r\n        TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-successor-dependency-r\",\r\n        TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT: \"dx-gantt-task-edit-successor-dependency-l\"\r\n    };\r\n    TaskEditController.classToSource = {};\r\n    return TaskEditController;\r\n}());\r\nexports.TaskEditController = TaskEditController;\r\n\r\n\r\n/***/ }),\r\n/* 31 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem_1 = __webpack_require__(9);\r\nvar TaskPropertiesHistoryItemBase = (function (_super) {\r\n    __extends(TaskPropertiesHistoryItemBase, _super);\r\n    function TaskPropertiesHistoryItemBase(modelManipulator, taskId, newValue) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.taskId = taskId;\r\n        _this.newValue = newValue;\r\n        return _this;\r\n    }\r\n    TaskPropertiesHistoryItemBase.prototype.redo = function () {\r\n        this.oldState = this.getPropertiesManipulator().setValue(this.taskId, this.newValue);\r\n    };\r\n    TaskPropertiesHistoryItemBase.prototype.undo = function () {\r\n        this.getPropertiesManipulator().restoreValue(this.oldState);\r\n    };\r\n    TaskPropertiesHistoryItemBase.prototype.getPropertiesManipulator = function () {\r\n        throw new Error(\"Not Implemented\");\r\n    };\r\n    return TaskPropertiesHistoryItemBase;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.TaskPropertiesHistoryItemBase = TaskPropertiesHistoryItemBase;\r\nvar TaskTitleHistoryItem = (function (_super) {\r\n    __extends(TaskTitleHistoryItem, _super);\r\n    function TaskTitleHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskTitleHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.title;\r\n    };\r\n    return TaskTitleHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskTitleHistoryItem = TaskTitleHistoryItem;\r\nvar TaskDesriptionHistoryItem = (function (_super) {\r\n    __extends(TaskDesriptionHistoryItem, _super);\r\n    function TaskDesriptionHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDesriptionHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.description;\r\n    };\r\n    return TaskDesriptionHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskDesriptionHistoryItem = TaskDesriptionHistoryItem;\r\nvar TaskProgressHistoryItem = (function (_super) {\r\n    __extends(TaskProgressHistoryItem, _super);\r\n    function TaskProgressHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskProgressHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.progress;\r\n    };\r\n    return TaskProgressHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskProgressHistoryItem = TaskProgressHistoryItem;\r\nvar TaskStartHistoryItem = (function (_super) {\r\n    __extends(TaskStartHistoryItem, _super);\r\n    function TaskStartHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskStartHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.start;\r\n    };\r\n    return TaskStartHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskStartHistoryItem = TaskStartHistoryItem;\r\nvar TaskEndHistoryItem = (function (_super) {\r\n    __extends(TaskEndHistoryItem, _super);\r\n    function TaskEndHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEndHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.end;\r\n    };\r\n    return TaskEndHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskEndHistoryItem = TaskEndHistoryItem;\r\n\r\n\r\n/***/ }),\r\n/* 32 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(33);\r\nvar GanttView_1 = __webpack_require__(34);\r\nexports.GanttView = GanttView_1.GanttView;\r\n\r\n\r\n/***/ }),\r\n/* 33 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n// extracted by mini-css-extract-plugin\r\n\r\n/***/ }),\r\n/* 34 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar VisualModel_1 = __webpack_require__(35);\r\nvar Enums_1 = __webpack_require__(7);\r\nvar Utils_1 = __webpack_require__(28);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar DateRange_1 = __webpack_require__(10);\r\nvar Size_1 = __webpack_require__(15);\r\nvar Point_1 = __webpack_require__(3);\r\nvar GridElementInfo_1 = __webpack_require__(29);\r\nvar GridLayoutCalculator_1 = __webpack_require__(16);\r\nvar EtalonSizeValues_1 = __webpack_require__(55);\r\nvar TaskEditController_1 = __webpack_require__(30);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar ModelManipulator_1 = __webpack_require__(56);\r\nvar History_1 = __webpack_require__(61);\r\nvar EventManager_1 = __webpack_require__(62);\r\nvar TaskAreaContainer_1 = __webpack_require__(72);\r\nvar Settings_1 = __webpack_require__(73);\r\nvar ModelChangesDispatcher_1 = __webpack_require__(74);\r\nvar CommandManager_1 = __webpack_require__(76);\r\nvar BarManager_1 = __webpack_require__(86);\r\nvar Browser_1 = __webpack_require__(12);\r\nvar GanttView = (function () {\r\n    function GanttView(element, ganttOwner, settings) {\r\n        this.timeScaleAreas = new Array();\r\n        this.horTaskAreaBorders = [];\r\n        this.vertTaskAreaBorders = [];\r\n        this.scaleBorders = [];\r\n        this.scaleElements = [];\r\n        this.taskElements = [];\r\n        this.selectionElements = [];\r\n        this.hlRowElements = [];\r\n        this.renderedRowIndices = [];\r\n        this.renderedColIndices = [];\r\n        this.renderedScaleItemIndices = [];\r\n        this.dependencyMap = [];\r\n        this.renderedConnectorLines = [];\r\n        this.connectorLinesToElementsMap = {};\r\n        this.noWorkingIntervalsToElementsMap = {};\r\n        this.renderedNoWorkingIntervals = [];\r\n        this.gridLayoutCalculator = new GridLayoutCalculator_1.GridLayoutCalculator();\r\n        this.elementTextHelper = new Utils_1.ElementTextHelper();\r\n        this.etalonSizeValues = new EtalonSizeValues_1.EtalonSizeValues();\r\n        this.tickSize = new Size_1.Size();\r\n        this.scaleCount = 2;\r\n        this.isFocus = false;\r\n        this.zoom = 1;\r\n        this.currentSelectedTaskID = \"\";\r\n        this.ganttOwner = ganttOwner;\r\n        this.settings = Settings_1.Settings.parse(settings);\r\n        this.createMainElement(element);\r\n        this.createHeader();\r\n        this.calculateEtalonSizeValues();\r\n        this.createTaskAreaContainer();\r\n        this.loadOptionsFromGanttOwner();\r\n        this.elementTextHelper.setFont(this.mainElement);\r\n        this.setupHelpers();\r\n        this.setSizeForTaskArea();\r\n        this.createTimeScaleContainer();\r\n        this.createTimeScaleAreas();\r\n        this.commandManager = new CommandManager_1.CommandManager(this);\r\n        this.barManager = new BarManager_1.BarManager(this, ganttOwner.bars);\r\n        this.eventManager = new EventManager_1.EventManager(this);\r\n        this.taskEditController = new TaskEditController_1.TaskEditController(this);\r\n        this.history = new History_1.History();\r\n        this.taskAreaManager = new TaskAreaManager_1.TaskAreaManager(this);\r\n        this.updateView();\r\n    }\r\n    GanttView.prototype.reset = function () {\r\n        this.timeScaleContainer.innerHTML = \"\";\r\n        this.taskArea.innerHTML = \"\";\r\n        this.horTaskAreaBorders = [];\r\n        this.vertTaskAreaBorders = [];\r\n        this.scaleBorders = [];\r\n        this.scaleElements = [];\r\n        this.taskElements = [];\r\n        this.selectionElements = [];\r\n        this.hlRowElements = [];\r\n        this.renderedRowIndices = [];\r\n        this.renderedColIndices = [];\r\n        this.renderedConnectorLines = [];\r\n        this.timeScaleAreas = [];\r\n        this.renderedScaleItemIndices = [];\r\n        this.connectorLinesToElementsMap = {};\r\n        this.renderedNoWorkingIntervals = [];\r\n        this.noWorkingIntervalsToElementsMap = {};\r\n    };\r\n    GanttView.prototype.setupHelpers = function () {\r\n        var size = new Size_1.Size(this.taskAreaContainer.getWidth(), this.taskAreaContainer.getHeight());\r\n        var scrollBarHeight = this.taskAreaContainer.getHeight() - this.taskAreaContainer.getElement().clientHeight;\r\n        this.gridLayoutCalculator.setSettings(size, this.tickSize, this.etalonSizeValues, this.range, this.viewModel, this.settings.viewType, scrollBarHeight);\r\n        this.elementTextHelper.setSettings(this.range.start.getTime(), this.settings.viewType, this.viewModel.items);\r\n    };\r\n    GanttView.prototype.getDateRange = function (modelStartDate, modelEndDate) {\r\n        var adjustedStartDate = Utils_1.DateUtils.adjustStartEndDateByViewType(modelStartDate, true, this.settings.viewType);\r\n        var adjustedEndDate = this.adjustEndDateByVisibleAreaWidth(adjustedStartDate, modelEndDate);\r\n        adjustedEndDate = Utils_1.DateUtils.adjustStartEndDateByViewType(adjustedEndDate, false, this.settings.viewType);\r\n        return new DateRange_1.DateRange(adjustedStartDate, adjustedEndDate);\r\n    };\r\n    GanttView.prototype.adjustEndDateByVisibleAreaWidth = function (adjustedStartDate, modelEndDate) {\r\n        var result = new Date();\r\n        var endTime = Math.max(modelEndDate.getTime(), this.getVisibleAreaEndDate(adjustedStartDate).getTime());\r\n        result.setTime(endTime);\r\n        return result;\r\n    };\r\n    GanttView.prototype.getVisibleAreaEndDate = function (visibleAreaStartDate) {\r\n        var result = new Date();\r\n        var visibleTickCount = Math.ceil(this.taskAreaContainer.getWidth() / this.tickSize.width);\r\n        if (this.settings.viewType == Enums_1.ViewType.Months) {\r\n            result.setTime(visibleAreaStartDate.getTime());\r\n            result.setMonth(result.getMonth() + visibleTickCount);\r\n        }\r\n        else\r\n            result.setTime(visibleAreaStartDate.getTime() + visibleTickCount * Utils_1.DateUtils.getTickTimeSpan(this.settings.viewType));\r\n        return result;\r\n    };\r\n    GanttView.prototype.calculateEtalonSizeValues = function () {\r\n        var etalonElementsContainer = this.createEtalonElementsContainer();\r\n        var etalonElements = this.createEtalonElements(etalonElementsContainer);\r\n        this.calculateEtalonSizeValuesCore(etalonElements);\r\n        this.mainElement.removeChild(etalonElementsContainer);\r\n    };\r\n    GanttView.prototype.calculateEtalonSizeValuesCore = function (etalonElements) {\r\n        this.etalonSizeValues.taskHeight = etalonElements[0].firstChild.offsetHeight;\r\n        this.etalonSizeValues.milestoneWidth = etalonElements[1].firstChild.offsetWidth;\r\n        this.etalonSizeValues.taskWrapperTopPadding = DomUtils_1.DomUtils.getTopPaddings(etalonElements[0]);\r\n        this.etalonSizeValues.connectorLineThickness = DomUtils_1.DomUtils.getVerticalBordersWidth(etalonElements[2]);\r\n        this.etalonSizeValues.connectorArrowWidth = DomUtils_1.DomUtils.getHorizontalBordersWidth(etalonElements[3]);\r\n        for (var i = 0; i <= Enums_1.ViewType.Years; i++) {\r\n            etalonElements[4].innerText = this.elementTextHelper.getScaleItemTextTemplate(i);\r\n            this.etalonSizeValues.scaleItemWidths[i] = etalonElements[4].offsetWidth;\r\n        }\r\n        this.etalonSizeValues.smallTaskWidth = DomUtils_1.DomUtils.getLeftPadding(etalonElements[0].firstChild.firstChild) * 2;\r\n        this.etalonSizeValues.outsideTaskTextDefaultWidth = DomUtils_1.DomUtils.pxToFloat(DomUtils_1.DomUtils.getCurrentStyle(etalonElements[5]).width);\r\n        this.etalonSizeValues.scaleItemHeight = this.ganttOwner.getHeaderHeight() / this.scaleCount;\r\n    };\r\n    GanttView.prototype.createEtalonElementsContainer = function () {\r\n        var result = document.createElement(\"DIV\");\r\n        result.style.visibility = \"hidden\";\r\n        result.style.position = \"absolute\";\r\n        result.style.left = \"-1000px\";\r\n        this.mainElement.appendChild(result);\r\n        return result;\r\n    };\r\n    GanttView.prototype.createEtalonElements = function (parent) {\r\n        var etalonElements = [];\r\n        var wrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\r\n        var task = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task\"), null, wrapper);\r\n        var taskTitle = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskTitle dx-gantt-titleIn\"), null, task);\r\n        taskTitle.innerText = \"WWW\";\r\n        etalonElements.push(wrapper);\r\n        var milestoneWrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\r\n        this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task dx-gantt-milestone\"), null, milestoneWrapper);\r\n        etalonElements.push(milestoneWrapper);\r\n        var etalonElementClassNames = [\"dx-gantt-conn-h\", \"dx-gantt-arrow\", \"dx-gantt-si\", \"dx-gantt-taskTitle dx-gantt-titleOut\"];\r\n        for (var i = 0; i < etalonElementClassNames.length; i++) {\r\n            var etalonElementInfo = new GridElementInfo_1.GridElementInfo(etalonElementClassNames[i]);\r\n            etalonElements.push(this.createElement(etalonElementInfo, null, parent));\r\n        }\r\n        return etalonElements;\r\n    };\r\n    GanttView.prototype.zoomIn = function () {\r\n        if (this.zoom == 1) {\r\n            this.zoom++;\r\n            this.updateTickSizeWidth();\r\n            this.resetAndUpdate();\r\n        }\r\n        else if (this.settings.viewType > Enums_1.ViewType.TenMinutes) {\r\n            this.zoom--;\r\n            this.setViewType(this.settings.viewType - 1);\r\n        }\r\n    };\r\n    GanttView.prototype.zoomOut = function () {\r\n        if (this.zoom > 1) {\r\n            this.zoom--;\r\n            this.updateTickSizeWidth();\r\n            this.resetAndUpdate();\r\n        }\r\n        else if (this.settings.viewType < Enums_1.ViewType.Years) {\r\n            this.zoom++;\r\n            this.setViewType(this.settings.viewType + 1);\r\n        }\r\n    };\r\n    GanttView.prototype.onVisualModelChanged = function () {\r\n        this.resetAndUpdate();\r\n    };\r\n    GanttView.prototype.getGanttViewStartDate = function (tasks) {\r\n        if (!tasks)\r\n            return new Date();\r\n        var dates = tasks.map(function (t) { return typeof t.start == \"string\" ? new Date(t.start) : t.start; });\r\n        return dates.length > 0 ? dates.reduce(function (min, d) { return d < min ? d : min; }, dates[0]) : new Date();\r\n    };\r\n    GanttView.prototype.getGanttViewEndDate = function (tasks) {\r\n        if (!tasks)\r\n            return new Date();\r\n        var dates = tasks.map(function (t) { return typeof t.end == \"string\" ? new Date(t.end) : t.end; });\r\n        return dates.length > 0 ? dates.reduce(function (max, d) { return d > max ? d : max; }, dates[0]) : new Date();\r\n    };\r\n    GanttView.prototype.getTaskAreaWidth = function () {\r\n        return this.gridLayoutCalculator.horizontalTickCount * this.tickSize.width;\r\n    };\r\n    GanttView.prototype.getTaskAreaHeight = function () {\r\n        return this.gridLayoutCalculator.getVerticalGridLineHeight();\r\n    };\r\n    GanttView.prototype.getVisibleTaskCount = function () { return this.viewModel.itemCount; };\r\n    GanttView.prototype.getTask = function (index) {\r\n        var item = this.viewModel.items[index];\r\n        return item.task;\r\n    };\r\n    GanttView.prototype.createMainElement = function (parent) {\r\n        this.mainElement = document.createElement(\"DIV\");\r\n        this.mainElement.style.width = parent.offsetWidth + \"px\";\r\n        this.mainElement.style.height = parent.offsetHeight + \"px\";\r\n        parent.appendChild(this.mainElement);\r\n    };\r\n    GanttView.prototype.createHeader = function () {\r\n        this.header = document.createElement(\"DIV\");\r\n        this.header.className = \"dx-gantt-header\";\r\n        this.mainElement.appendChild(this.header);\r\n    };\r\n    GanttView.prototype.createTimeScaleContainer = function () {\r\n        this.timeScaleContainer = document.createElement(\"DIV\");\r\n        this.timeScaleContainer.className = \"dx-gantt-tsac\";\r\n        this.timeScaleContainer.style.height = this.etalonSizeValues.scaleItemHeight * this.scaleCount + \"px\";\r\n        this.header.appendChild(this.timeScaleContainer);\r\n    };\r\n    GanttView.prototype.createTimeScaleArea = function () {\r\n        var timeScaleArea = document.createElement(\"DIV\");\r\n        timeScaleArea.className = \"dx-gantt-tsa\";\r\n        timeScaleArea.style.width = this.getTaskAreaWidth() + \"px\";\r\n        timeScaleArea.style.height = this.etalonSizeValues.scaleItemHeight + \"px\";\r\n        this.timeScaleContainer.appendChild(timeScaleArea);\r\n        this.timeScaleAreas.unshift(timeScaleArea);\r\n        return timeScaleArea;\r\n    };\r\n    GanttView.prototype.createTimeScaleAreas = function () {\r\n        for (var i = 0; i < this.scaleCount; i++) {\r\n            var timeScaleArea = this.createTimeScaleArea();\r\n            if (i == 0 && this.settings.viewType == Enums_1.ViewType.Weeks)\r\n                this.createMonthsScale(timeScaleArea);\r\n        }\r\n    };\r\n    GanttView.prototype.createTaskAreaContainer = function () {\r\n        var element = document.createElement(\"DIV\");\r\n        element.className = \"dx-gantt-tac\";\r\n        this.mainElement.appendChild(element);\r\n        this.createTaskArea(element);\r\n        this.taskAreaContainer = this.ganttOwner.getExternalTaskAreaContainer(element);\r\n        if (this.taskAreaContainer == null)\r\n            this.taskAreaContainer = new TaskAreaContainer_1.TaskAreaContainer(element, this);\r\n        this.prepareTaskAreaContainer();\r\n    };\r\n    GanttView.prototype.prepareTaskAreaContainer = function () {\r\n        var className = \"dx-gantt-tac-hb\";\r\n        var element = this.taskAreaContainer.getElement();\r\n        this.settings.areHorizontalBordersEnabled ?\r\n            DomUtils_1.DomUtils.addClassNameToElement(element, className) : DomUtils_1.DomUtils.removeClassNameFromElement(element, className);\r\n        var marginTop = parseInt(getComputedStyle(element).getPropertyValue(\"margin-top\")) || 0;\r\n        element.style.height = \"calc(100% - \" + (this.etalonSizeValues.scaleItemHeight * this.scaleCount + marginTop) + \"px)\";\r\n    };\r\n    GanttView.prototype.createTaskArea = function (parent) {\r\n        this.taskArea = document.createElement(\"DIV\");\r\n        this.taskArea.id = \"dx-gantt-ta\";\r\n        parent.appendChild(this.taskArea);\r\n    };\r\n    GanttView.prototype.setSizeForTaskArea = function () {\r\n        this.taskArea.style.width = this.getTaskAreaWidth() + \"px\";\r\n        this.taskArea.style.height = this.getTaskAreaHeight() + \"px\";\r\n    };\r\n    GanttView.prototype.updateTickSizeWidth = function () {\r\n        this.tickSize.width = this.etalonSizeValues.scaleItemWidths[this.settings.viewType] * this.zoom;\r\n    };\r\n    GanttView.prototype.createMonthsScale = function (parent) {\r\n        var currentDate = new Date();\r\n        currentDate.setTime(this.range.start.getTime());\r\n        var x = 0;\r\n        var index = 0;\r\n        while (currentDate.getTime() < this.range.end.getTime()) {\r\n            var dayInMonthCount = Utils_1.DateUtils.getDaysInMonth(currentDate.getMonth(), currentDate.getFullYear());\r\n            var dayCount = dayInMonthCount - currentDate.getDate() + 1;\r\n            var nextDate = new Date();\r\n            nextDate.setTime(currentDate.getTime() + Math.min(dayCount * Utils_1.DateUtils.msPerDay, this.range.end.getTime() - currentDate.getTime()));\r\n            var width = this.gridLayoutCalculator.getWidthByDateRange(currentDate, nextDate);\r\n            var scaleItemInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-si\", new Point_1.Point(x), new Size_1.Size(width, this.etalonSizeValues.scaleItemHeight));\r\n            var scaleItemElement = this.createElement(scaleItemInfo, null, parent);\r\n            scaleItemElement.innerText = this.elementTextHelper.getScaleItemText(index, Enums_1.ViewType.Months);\r\n            scaleItemElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\r\n            var scaleBorderInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-vb\", new Point_1.Point(x + width), new Size_1.Size(0, this.etalonSizeValues.scaleItemHeight));\r\n            this.createElement(scaleBorderInfo, null, parent);\r\n            x += width;\r\n            index++;\r\n            currentDate = nextDate;\r\n        }\r\n    };\r\n    GanttView.prototype.updateView = function () {\r\n        this.timeScaleContainer.scrollLeft = this.taskAreaContainer.scrollLeft;\r\n        this.processScroll(false);\r\n        this.processScroll(true);\r\n        this.ganttOwner.onGanttScroll(this.taskAreaContainer.scrollTop);\r\n    };\r\n    GanttView.prototype.processScroll = function (isVertical) {\r\n        this.recreateTaskAreaBordersAndTaskElements(isVertical);\r\n        if (isVertical)\r\n            this.recreateConnectorLineElements();\r\n        else {\r\n            this.recreateNoWorkingIntervalElements();\r\n            this.recreateScalesElements();\r\n        }\r\n    };\r\n    GanttView.prototype.recreateTaskAreaBordersAndTaskElements = function (isVertical) {\r\n        var _this = this;\r\n        var scrollPos = isVertical ? this.taskAreaContainer.scrollTop : this.taskAreaContainer.scrollLeft;\r\n        var newRenderedIndices = this.gridLayoutCalculator.getRenderedRowColumnIndices(scrollPos, isVertical);\r\n        var renderedIndices = isVertical ? this.renderedRowIndices : this.renderedColIndices;\r\n        this.recreateElements(renderedIndices, newRenderedIndices, function (index) { _this.removeTaskAreaBorderAndTaskElement(index, isVertical); }, function (index) { _this.createTaskAreaBorderAndTaskElement(index, isVertical); });\r\n        if (isVertical)\r\n            this.renderedRowIndices = newRenderedIndices;\r\n        else\r\n            this.renderedColIndices = newRenderedIndices;\r\n    };\r\n    GanttView.prototype.recreateNoWorkingIntervalElements = function () {\r\n        var _this = this;\r\n        var newRenderedNoWorkingIntervals = this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainer.scrollLeft);\r\n        this.recreateElements(this.renderedNoWorkingIntervals, newRenderedNoWorkingIntervals, function (info) { _this.removeNoWorkingIntervalElement(info); }, function (info) { _this.createNoWorkingIntervalElement(info); });\r\n        this.renderedNoWorkingIntervals = newRenderedNoWorkingIntervals;\r\n    };\r\n    GanttView.prototype.recreateConnectorLineElements = function () {\r\n        var _this = this;\r\n        var newRenderedConnectorLines = this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainer.scrollTop);\r\n        this.recreateElements(this.renderedConnectorLines, newRenderedConnectorLines, function (info) { _this.removeConnectorLineElement(info); }, function (info) { _this.createConnectorLineElement(info); });\r\n        this.renderedConnectorLines = newRenderedConnectorLines;\r\n    };\r\n    GanttView.prototype.recreateScalesElements = function () {\r\n        this.recreateScaleElements(this.settings.viewType, 0);\r\n        if (this.settings.viewType != Enums_1.ViewType.Weeks)\r\n            this.recreateScaleElements(Utils_1.DateUtils.ViewTypeToScaleMap[this.settings.viewType], 1);\r\n    };\r\n    GanttView.prototype.recreateScaleElements = function (scaleType, scaleIndex) {\r\n        var _this = this;\r\n        var newRenderedIndices = this.gridLayoutCalculator.getRenderedScaleItemIndices(scaleType, this.renderedColIndices);\r\n        var renderedIndices = this.renderedScaleItemIndices[scaleType - this.settings.viewType] || [];\r\n        this.recreateElements(renderedIndices, newRenderedIndices, function (index) { _this.removeScaleElementAndBorder(index, scaleIndex); }, function (index) { _this.createScaleElementAndBorder(index, scaleIndex, scaleType); });\r\n        this.renderedScaleItemIndices[scaleType - this.settings.viewType] = newRenderedIndices;\r\n    };\r\n    GanttView.prototype.recreateElements = function (oldRenderedElementsInfo, newRenderedelementsInfo, removeAction, createAction) {\r\n        oldRenderedElementsInfo\r\n            .filter(function (info) { return newRenderedelementsInfo.indexOf(info) === -1; })\r\n            .forEach(function (info) { removeAction(info); });\r\n        newRenderedelementsInfo\r\n            .filter(function (info) { return oldRenderedElementsInfo.indexOf(info) === -1; })\r\n            .forEach(function (info) { createAction(info); });\r\n    };\r\n    GanttView.prototype.allowTaskAreaBorders = function (isVerticalScroll) {\r\n        return isVerticalScroll ? this.settings.areHorizontalBordersEnabled : this.settings.areVerticalBordersEnabled;\r\n    };\r\n    GanttView.prototype.createTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\r\n        if (this.allowTaskAreaBorders(isVerticalScroll))\r\n            this.createTaskAreaBorder(index, !isVerticalScroll);\r\n        if (isVerticalScroll)\r\n            this.createTaskElement(index);\r\n    };\r\n    GanttView.prototype.removeTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\r\n        if (this.allowTaskAreaBorders(isVerticalScroll))\r\n            this.removeTaskAreaBorder(index, !isVerticalScroll);\r\n        if (isVerticalScroll)\r\n            this.removeTaskElement(index);\r\n    };\r\n    GanttView.prototype.getTaskAreaBordersDictionary = function (isVertical) {\r\n        return isVertical ? this.vertTaskAreaBorders : this.horTaskAreaBorders;\r\n    };\r\n    GanttView.prototype.createTaskAreaBorder = function (index, isVertical) {\r\n        var info = this.gridLayoutCalculator.getTaskAreaBorderInfo(index, isVertical);\r\n        this.createElement(info, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\r\n    };\r\n    GanttView.prototype.removeTaskAreaBorder = function (index, isVertical) {\r\n        this.removeElement(null, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\r\n    };\r\n    GanttView.prototype.createScaleElementAndBorder = function (index, scaleIndex, scaleType) {\r\n        this.createScaleElement(index, scaleIndex, scaleType);\r\n        this.createScaleBorder(index, scaleIndex, scaleType);\r\n    };\r\n    GanttView.prototype.createScaleElement = function (index, scaleIndex, scaleType) {\r\n        var info = this.gridLayoutCalculator.getScaleElementInfo(index, scaleType);\r\n        var scaleElement = this.createScaleElementCore(index, info, scaleIndex, this.scaleElements);\r\n        scaleElement.innerText = this.elementTextHelper.getScaleItemText(index, scaleType);\r\n        scaleElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\r\n    };\r\n    GanttView.prototype.createScaleBorder = function (index, scaleIndex, scaleType) {\r\n        var info = this.gridLayoutCalculator.getScaleBorderInfo(index, scaleType);\r\n        this.createScaleElementCore(index, info, scaleIndex, this.scaleBorders);\r\n    };\r\n    GanttView.prototype.createScaleElementCore = function (index, info, scaleIndex, dictionary) {\r\n        if (!dictionary[scaleIndex])\r\n            dictionary[scaleIndex] = [];\r\n        return this.createElement(info, index, this.timeScaleAreas[scaleIndex], dictionary[scaleIndex]);\r\n    };\r\n    GanttView.prototype.removeScaleElementAndBorder = function (index, scaleIndex) {\r\n        this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleElements[scaleIndex]);\r\n        this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleBorders[scaleIndex]);\r\n    };\r\n    GanttView.prototype.createTaskElement = function (index) {\r\n        this.createTaskWrapperElement(index);\r\n        if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Outside)\r\n            this.createTaskTextElement(index, this.taskElements[index]);\r\n        var taskVisualElement = this.createTaskVisualElement(index);\r\n        if (!this.viewModel.items[index].task.isMilestone()) {\r\n            if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside)\r\n                this.createTaskTextElement(index, taskVisualElement);\r\n            this.createTaskProgressElement(index, taskVisualElement);\r\n        }\r\n        if (this.settings.showResources)\r\n            this.createResources(index);\r\n        if (this.viewModel.items[index].selected)\r\n            this.createTaskSelectionElement(index);\r\n        if (this.isHighlightRowElementAllowed(index))\r\n            this.createHighlightRowElement(index);\r\n    };\r\n    GanttView.prototype.isHighlightRowElementAllowed = function (index) {\r\n        return index % 2 !== 0 && this.settings.areAlternateRowsEnabled || this.viewModel.items[index].children.length > 0;\r\n    };\r\n    GanttView.prototype.createResources = function (index) {\r\n        var resources = this.viewModel.items[index].resources.items;\r\n        for (var i = 0; i < resources.length; i++)\r\n            this.createResourceElement(index, resources[i]);\r\n    };\r\n    GanttView.prototype.createTaskWrapperElement = function (index) {\r\n        var taskWrapperInfo = this.gridLayoutCalculator.getTaskWrapperElementInfo(index);\r\n        this.createElement(taskWrapperInfo, index, this.taskArea, this.taskElements);\r\n        this.taskElements[index].style.display = this.elementTextHelper.getTaskVisibility(index) ? \"\" : \"none\";\r\n    };\r\n    GanttView.prototype.createTaskVisualElement = function (index) {\r\n        var taskElementInfo = this.gridLayoutCalculator.getTaskElementInfo(index);\r\n        var taskElement = this.createElement(taskElementInfo, index, this.taskElements[index]);\r\n        taskElement.addEventListener(\"mouseenter\", function (evt) { this.taskAreaManager.onTaskElementHover(evt); }.bind(this));\r\n        return taskElement;\r\n    };\r\n    GanttView.prototype.createTaskProgressElement = function (index, parent) {\r\n        var taskProgressInfo = this.gridLayoutCalculator.getTaskProgressElementInfo(index);\r\n        this.createElement(taskProgressInfo, index, parent);\r\n    };\r\n    GanttView.prototype.createTaskTextElement = function (index, parent) {\r\n        var taskTextInfo = this.gridLayoutCalculator.getTaskTextElementInfo(index, this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside);\r\n        var taskTextElement = this.createElement(taskTextInfo, index, parent);\r\n        taskTextElement.innerText = this.elementTextHelper.getTaskText(index);\r\n    };\r\n    GanttView.prototype.createResourceElement = function (index, resource) {\r\n        var resourceElementInfo = this.gridLayoutCalculator.getTaskResourceElementInfo();\r\n        var resElement = this.createElement(resourceElementInfo, index, this.taskElements[index]);\r\n        resElement.innerText = resource.text;\r\n    };\r\n    GanttView.prototype.createTaskSelectionElement = function (index) {\r\n        var selectionInfo = this.gridLayoutCalculator.getSelectionElementInfo(index);\r\n        if (this.taskAreaContainer.isExternal && !this.settings.areHorizontalBordersEnabled)\r\n            selectionInfo.size.height++;\r\n        this.createElement(selectionInfo, index, this.taskArea, this.selectionElements);\r\n    };\r\n    GanttView.prototype.createHighlightRowElement = function (index) {\r\n        var hlRowInfo = this.gridLayoutCalculator.getHighlightRowInfo(index);\r\n        this.createElement(hlRowInfo, index, this.taskArea, this.hlRowElements);\r\n    };\r\n    GanttView.prototype.removeTaskElement = function (index) {\r\n        this.removeElement(null, index, this.taskArea, this.taskElements);\r\n        this.removeElement(null, index, this.taskArea, this.selectionElements);\r\n        if (this.isHighlightRowElementAllowed(index))\r\n            this.removeElement(null, index, this.taskArea, this.hlRowElements);\r\n    };\r\n    GanttView.prototype.createConnectorLineElement = function (info) {\r\n        if (this.taskEditController.isDependencySelected(info.attr[\"dependency-id\"]))\r\n            info.className = info.className + \" active\";\r\n        return this.createElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\r\n    };\r\n    GanttView.prototype.removeConnectorLineElement = function (info) {\r\n        this.removeElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\r\n    };\r\n    GanttView.prototype.createNoWorkingIntervalElement = function (info) {\r\n        return this.createElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\r\n    };\r\n    GanttView.prototype.removeNoWorkingIntervalElement = function (info) {\r\n        this.removeElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\r\n    };\r\n    GanttView.prototype.createElement = function (info, index, parent, dictionary) {\r\n        var element = document.createElement(\"DIV\");\r\n        info.assignToElement(element);\r\n        parent.appendChild(element);\r\n        if (dictionary) {\r\n            if (dictionary instanceof Array && index !== null)\r\n                dictionary[index] = element;\r\n            else\r\n                dictionary[info.id] = element;\r\n        }\r\n        for (var key in info.attr) {\r\n            if (info.attr.hasOwnProperty(key)) {\r\n                element.setAttribute(key, info.attr[key]);\r\n            }\r\n        }\r\n        return element;\r\n    };\r\n    GanttView.prototype.removeElement = function (info, index, parent, dictionary) {\r\n        var element;\r\n        if (dictionary instanceof Array && index !== null) {\r\n            element = dictionary[index];\r\n            delete dictionary[index];\r\n        }\r\n        else {\r\n            element = dictionary[info.id];\r\n            delete dictionary[info.id];\r\n        }\r\n        if (element)\r\n            parent.removeChild(element);\r\n    };\r\n    GanttView.prototype.calculateAutoViewType = function (startDate, endDate) {\r\n        var diffInHours = (endDate.getTime() - startDate.getTime()) / (1000 * 3600);\r\n        if (diffInHours > 24 * 365)\r\n            return Enums_1.ViewType.Years;\r\n        if (diffInHours > 24 * 30)\r\n            return Enums_1.ViewType.Months;\r\n        if (diffInHours > 24 * 7)\r\n            return Enums_1.ViewType.Weeks;\r\n        if (diffInHours > 24)\r\n            return Enums_1.ViewType.Days;\r\n        if (diffInHours > 6)\r\n            return Enums_1.ViewType.SixHours;\r\n        if (diffInHours > 1)\r\n            return Enums_1.ViewType.Hours;\r\n        return Enums_1.ViewType.TenMinutes;\r\n    };\r\n    GanttView.prototype.changeTaskExpanded = function (publicId, expanded) {\r\n        var task = this.getTaskByPublicId(publicId);\r\n        if (task)\r\n            this.viewModel.changeTaskExpanded(task.internalId, expanded);\r\n    };\r\n    GanttView.prototype.expandTask = function (id) { this.viewModel.changeTaskExpanded(id, true); };\r\n    GanttView.prototype.collapseTask = function (id) { this.viewModel.changeTaskExpanded(id, false); };\r\n    GanttView.prototype.showTask = function (id) { this.viewModel.changeTaskVisibility(id, true); };\r\n    GanttView.prototype.hideTask = function (id) { this.viewModel.changeTaskVisibility(id, false); };\r\n    GanttView.prototype.getTaskVisibility = function (id) { return this.viewModel.getTaskVisibility(id); };\r\n    GanttView.prototype.unselectCurrentSelectedTask = function () { this.unselectTask(this.currentSelectedTaskID); };\r\n    GanttView.prototype.getTaskSelected = function (id) { return this.viewModel.getTaskSelected(id); };\r\n    GanttView.prototype.setViewType = function (viewType) {\r\n        if (viewType == undefined) {\r\n            viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\r\n        }\r\n        if (this.settings.viewType !== viewType) {\r\n            this.settings.viewType = viewType;\r\n            this.updateTickSizeWidth();\r\n            this.resetAndUpdate();\r\n        }\r\n    };\r\n    GanttView.prototype.setTaskTitlePosition = function (taskTitlePosition) {\r\n        if (this.settings.taskTitlePosition !== taskTitlePosition) {\r\n            this.settings.taskTitlePosition = taskTitlePosition;\r\n            this.resetAndUpdate();\r\n        }\r\n    };\r\n    GanttView.prototype.setShowResources = function (showResources) {\r\n        if (this.settings.showResources !== showResources) {\r\n            this.settings.showResources = showResources;\r\n            this.resetAndUpdate();\r\n        }\r\n    };\r\n    GanttView.prototype.loadOptionsFromGanttOwner = function () {\r\n        this.tickSize.height = this.ganttOwner.getRowHeight();\r\n        var tasksData = this.ganttOwner.getGanttTasksData();\r\n        this.dataRange = new DateRange_1.DateRange(this.getGanttViewStartDate(tasksData), this.getGanttViewEndDate(tasksData));\r\n        if (this.settings.viewType == undefined)\r\n            this.settings.viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\r\n        this.updateTickSizeWidth();\r\n        this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\r\n        this.viewModel = new VisualModel_1.ViewVisualModel(this, tasksData, this.ganttOwner.getGanttDependenciesData(), this.ganttOwner.getGanttResourcesData(), this.ganttOwner.getGanttResourceAssignmentsData(), this.dataRange, this.ganttOwner.getGanttWorkTimeRules());\r\n        var dispatcher = new ModelChangesDispatcher_1.ModelChangesDispatcher();\r\n        var modelChangesListener = this.ganttOwner.getModelChangesListener();\r\n        if (modelChangesListener)\r\n            dispatcher.onModelChanged.add(modelChangesListener);\r\n        this.modelManipulator = new ModelManipulator_1.ModelManipulator(this.viewModel, dispatcher);\r\n    };\r\n    GanttView.prototype.resetAndUpdate = function () {\r\n        this.reset();\r\n        this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\r\n        this.setupHelpers();\r\n        this.createTimeScaleAreas();\r\n        this.setSizeForTaskArea();\r\n        if (Browser_1.Browser.IE)\r\n            this.taskEditController.createElements();\r\n        this.updateView();\r\n    };\r\n    GanttView.prototype.selectTask = function (id) {\r\n        this.viewModel.changeTaskSelected(id, true);\r\n        this.currentSelectedTaskID = id;\r\n    };\r\n    GanttView.prototype.unselectTask = function (id) {\r\n        this.viewModel.changeTaskSelected(id, false);\r\n    };\r\n    GanttView.prototype.selectTaskById = function (publicId) {\r\n        this.unselectCurrentSelectedTask();\r\n        var task = this.getTaskByPublicId(publicId);\r\n        if (task)\r\n            this.selectTask(task.internalId);\r\n    };\r\n    GanttView.prototype.getTaskAreaContainer = function () {\r\n        return this.taskAreaContainer;\r\n    };\r\n    GanttView.prototype.setWidth = function (value) {\r\n        this.mainElement.style.width = value + \"px\";\r\n    };\r\n    GanttView.prototype.setAllowSelection = function (value) {\r\n        this.settings.allowSelectTask = value;\r\n    };\r\n    GanttView.prototype.setEditingSettings = function (value) {\r\n        this.settings.editing = value;\r\n    };\r\n    GanttView.prototype.setRowLinesVisible = function (value) {\r\n        this.settings.areHorizontalBordersEnabled = value;\r\n        this.prepareTaskAreaContainer();\r\n        this.resetAndUpdate();\r\n    };\r\n    GanttView.prototype.setTaskTitle = function (taskId, newValue) {\r\n        var task = this.getTaskByPublicId(taskId);\r\n        if (task)\r\n            this.commandManager.changeTaskTitleCommand.execute(task.internalId, newValue);\r\n    };\r\n    GanttView.prototype.setTaskProgress = function (taskId, newValue) {\r\n        var task = this.getTaskByPublicId(taskId);\r\n        if (task)\r\n            this.commandManager.changeTaskProgressCommand.execute(task.internalId, newValue);\r\n    };\r\n    GanttView.prototype.setTaskStart = function (taskId, newValue) {\r\n        var task = this.getTaskByPublicId(taskId);\r\n        if (task)\r\n            this.commandManager.changeTaskStartCommand.execute(task.internalId, newValue);\r\n    };\r\n    GanttView.prototype.setTaskEnd = function (taskId, newValue) {\r\n        var task = this.getTaskByPublicId(taskId);\r\n        if (task)\r\n            this.commandManager.changeTaskEndCommand.execute(task.internalId, newValue);\r\n    };\r\n    GanttView.prototype.removeTask = function (taskId) {\r\n        var task = this.getTaskByPublicId(taskId);\r\n        if (task)\r\n            this.commandManager.removeTaskCommand.execute(task.internalId);\r\n    };\r\n    GanttView.prototype.createTask = function (parentId) {\r\n        var parent = this.getTaskByPublicId(parentId);\r\n        var id = parent ? parent.internalId : null;\r\n        this.commandManager.createTaskCommand.execute(null, null, \"\", id);\r\n    };\r\n    GanttView.prototype.getTaskByPublicId = function (id) {\r\n        return this.viewModel.tasks.getItemByPublicId(id);\r\n    };\r\n    GanttView.prototype.getPrevTask = function (taskId) {\r\n        var item = this.viewModel.findItem(taskId);\r\n        var index = item.parent.children.indexOf(item) - 1;\r\n        return index > -1 ? item.parent.children[index].task : item.parent.task;\r\n    };\r\n    GanttView.prototype.updateCreatedTaskIdAfterServerUpdate = function (internalId, id) {\r\n        var item = this.viewModel.findItem(internalId);\r\n        var task = item && item.task;\r\n        if (task)\r\n            task.id = id;\r\n    };\r\n    GanttView.prototype.getTaskIdByInternalId = function (internalId) {\r\n        var item = this.viewModel.findItem(internalId);\r\n        var task = item && item.task;\r\n        return task ? task.id : null;\r\n    };\r\n    GanttView.prototype.isTaskHasChildren = function (taskId) {\r\n        var item = this.viewModel.findItem(taskId);\r\n        return item && item.children.length > 0;\r\n    };\r\n    return GanttView;\r\n}());\r\nexports.GanttView = GanttView;\r\n\r\n\r\n/***/ }),\r\n/* 35 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ResourceCollection_1 = __webpack_require__(13);\r\nvar TaskCollection_1 = __webpack_require__(37);\r\nvar DependencyCollection_1 = __webpack_require__(39);\r\nvar ResourceAssignmentCollection_1 = __webpack_require__(40);\r\nvar ViewVisualModelItem_1 = __webpack_require__(42);\r\nvar ViewVisualModelDependencyInfo_1 = __webpack_require__(43);\r\nvar WorkingTimeCalculator_1 = __webpack_require__(44);\r\nvar ViewVisualModel = (function () {\r\n    function ViewVisualModel(owner, tasks, dependencies, resources, assignments, dateRange, workTimeRules) {\r\n        this._fLockCount = 0;\r\n        this.owner = owner;\r\n        this.tasks = new TaskCollection_1.TaskCollection();\r\n        this.tasks.importFromObject(tasks);\r\n        this.dependencies = new DependencyCollection_1.DependencyCollection();\r\n        this.dependencies.importFromObject(dependencies);\r\n        this.resources = new ResourceCollection_1.ResourceCollection();\r\n        this.resources.importFromObject(resources);\r\n        this.assignments = new ResourceAssignmentCollection_1.ResourceAssignmentCollection();\r\n        this.assignments.importFromObject(assignments);\r\n        this._itemList = new Array();\r\n        this._viewItemList = new Array();\r\n        this._workTimeCalculator = new WorkingTimeCalculator_1.WorkingTimeCalculator(dateRange, workTimeRules);\r\n        this.updateModel();\r\n    }\r\n    ViewVisualModel.prototype.updateModel = function () {\r\n        this._itemList.splice(0, this._itemList.length);\r\n        var tasks = this.tasks.items;\r\n        for (var i = 0; i < tasks.length; i++) {\r\n            var task = tasks[i];\r\n            if (task)\r\n                this._itemList.push(new ViewVisualModelItem_1.ViewVisualModelItem(task, this.getAssignedResources(task)));\r\n        }\r\n        this.createHierarchy();\r\n        this.populateItemsForView();\r\n        if (this.owner && this.owner.currentSelectedTaskID)\r\n            this.changeTaskSelected(this.owner.currentSelectedTaskID, true);\r\n    };\r\n    ViewVisualModel.prototype.createHierarchy = function () {\r\n        this.root = new ViewVisualModelItem_1.ViewVisualModelItem(null, null);\r\n        var list = this._itemList;\r\n        var _loop_1 = function () {\r\n            var item = list[i];\r\n            var parentId = item.task.parentId;\r\n            var parentItem = list.filter(function (value) { return value.task && value.task.internalId === parentId || value.task.internalId.toString() === parentId; })[0] || this_1.root;\r\n            item.parent = parentItem;\r\n            parentItem.addChild(item);\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < list.length; i++) {\r\n            _loop_1();\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.populateItemsForView = function () {\r\n        this._viewItemList.splice(0, this._viewItemList.length);\r\n        this.populateVisibleItems(this.root);\r\n        this.updateVisibleItemDependencies();\r\n    };\r\n    ViewVisualModel.prototype.populateVisibleItems = function (item) {\r\n        var _this = this;\r\n        var isRoot = item === this.root;\r\n        if (!item || (!item.task && !isRoot))\r\n            return;\r\n        if (!isRoot) {\r\n            this._viewItemList.push(item);\r\n            item.visibleIndex = this._viewItemList.length - 1;\r\n        }\r\n        if (item.getExpanded() || item === this.root)\r\n            item.children.forEach(function (n) { return _this.populateVisibleItems(n); });\r\n    };\r\n    ViewVisualModel.prototype.updateVisibleItemDependencies = function () {\r\n        var list = this._viewItemList;\r\n        for (var i = 0; i < list.length; i++) {\r\n            var item = list[i];\r\n            var visibleDependencies = this.getTasVisibleDependencies(item.task);\r\n            item.setDependencies(visibleDependencies);\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.getAssignedResources = function (task) {\r\n        var _this = this;\r\n        var res = new ResourceCollection_1.ResourceCollection();\r\n        var assignments = this.assignments.items.filter(function (value) { return value.taskId == task.internalId; });\r\n        assignments.forEach(function (assignment) { res.add(_this.resources.getItemById(assignment.resourceId)); });\r\n        return res;\r\n    };\r\n    ViewVisualModel.prototype.getTasVisibleDependencies = function (task) {\r\n        var res = new Array();\r\n        var id = task.internalId;\r\n        var dependencies = this.dependencies.items.filter(function (value) { return value.successorId == id; });\r\n        for (var i = 0; i < dependencies.length; i++) {\r\n            var dependency = dependencies[i];\r\n            var item = this.findItem(dependency.predecessorId);\r\n            if (item && item.getVisible())\r\n                res.push(new ViewVisualModelDependencyInfo_1.ViewVisualModelDependencyInfo(dependency.internalId, item, dependency.type));\r\n        }\r\n        return res;\r\n    };\r\n    ViewVisualModel.prototype.changeTaskExpanded = function (id, expanded) {\r\n        var task = this.tasks.getItemById(String(id));\r\n        if (task) {\r\n            task.expanded = expanded;\r\n            this.changed();\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.changeTaskVisibility = function (id, visible) {\r\n        var item = this.findItem(id);\r\n        if (item) {\r\n            item.visible = visible;\r\n            this.changed();\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.changeTaskSelected = function (id, selected) {\r\n        var item = this._itemList.filter(function (value) { return value.task && value.task.internalId === id; })[0];\r\n        if (item) {\r\n            item.selected = selected;\r\n            this.changed();\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.beginUpdate = function () {\r\n        this._fLockCount++;\r\n    };\r\n    ViewVisualModel.prototype.endUpdate = function () {\r\n        this._fLockCount--;\r\n        if (this._fLockCount == 0)\r\n            this.changed();\r\n    };\r\n    ViewVisualModel.prototype.changed = function () {\r\n        if (this._fLockCount !== 0)\r\n            return;\r\n        this.populateItemsForView();\r\n        if (this.owner && this.owner.onVisualModelChanged)\r\n            this.owner.onVisualModelChanged();\r\n    };\r\n    ViewVisualModel.prototype.findItem = function (taskId) {\r\n        return this._viewItemList.filter(function (value) { return value.task && value.task.internalId === taskId; })[0];\r\n    };\r\n    Object.defineProperty(ViewVisualModel.prototype, \"items\", {\r\n        get: function () { return this._viewItemList.slice(); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewVisualModel.prototype, \"itemCount\", {\r\n        get: function () { return this.items.length; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewVisualModel.prototype.getTaskVisibility = function (id) {\r\n        var item = this.findItem(id);\r\n        return !!item && item.getVisible();\r\n    };\r\n    ViewVisualModel.prototype.getTaskSelected = function (id) {\r\n        var item = this.findItem(id);\r\n        return !!item && item.selected;\r\n    };\r\n    Object.defineProperty(ViewVisualModel.prototype, \"noWorkingIntervals\", {\r\n        get: function () { return this._workTimeCalculator.noWorkingIntervals; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ViewVisualModel.prototype.updateRange = function (range) { this._workTimeCalculator.updateRange(range); };\r\n    ;\r\n    return ViewVisualModel;\r\n}());\r\nexports.ViewVisualModel = ViewVisualModel;\r\n\r\n\r\n/***/ }),\r\n/* 36 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar Resource = (function (_super) {\r\n    __extends(Resource, _super);\r\n    function Resource() {\r\n        var _this = _super.call(this) || this;\r\n        _this.text = \"\";\r\n        return _this;\r\n    }\r\n    Resource.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.text = sourceObj.text;\r\n        }\r\n    };\r\n    return Resource;\r\n}(DataObject_1.DataObject));\r\nexports.Resource = Resource;\r\n\r\n\r\n/***/ }),\r\n/* 37 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Task_1 = __webpack_require__(38);\r\nvar CollectionBase_1 = __webpack_require__(6);\r\nvar TaskCollection = (function (_super) {\r\n    __extends(TaskCollection, _super);\r\n    function TaskCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskCollection.prototype.createItem = function () { return new Task_1.Task(); };\r\n    return TaskCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.TaskCollection = TaskCollection;\r\n\r\n\r\n/***/ }),\r\n/* 38 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar TaskType;\r\n(function (TaskType) {\r\n    TaskType[TaskType[\"Regular\"] = 0] = \"Regular\";\r\n    TaskType[TaskType[\"Summary\"] = 1] = \"Summary\";\r\n    TaskType[TaskType[\"Milestone\"] = 2] = \"Milestone\";\r\n})(TaskType || (TaskType = {}));\r\nvar Task = (function (_super) {\r\n    __extends(Task, _super);\r\n    function Task() {\r\n        var _this = _super.call(this) || this;\r\n        _this.start = null;\r\n        _this.end = null;\r\n        _this.duration = null;\r\n        _this.description = \"\";\r\n        _this.parentId = \"\";\r\n        _this.title = \"\";\r\n        _this.owner = null;\r\n        _this.progress = 0;\r\n        _this.taskType = null;\r\n        _this.customFields = {};\r\n        _this.expanded = true;\r\n        return _this;\r\n    }\r\n    Task.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.owner = sourceObj.owner;\r\n            this.parentId = sourceObj.parentId != null ? String(sourceObj.parentId) : null;\r\n            this.description = sourceObj.description;\r\n            this.title = sourceObj.title;\r\n            this.start = sourceObj.start;\r\n            this.end = sourceObj.end;\r\n            this.start = typeof sourceObj.start == \"string\" ? new Date(sourceObj.start) : sourceObj.start;\r\n            this.end = typeof sourceObj.end == \"string\" ? new Date(sourceObj.end) : sourceObj.end;\r\n            this.duration = sourceObj.duration;\r\n            this.progress = sourceObj.progress;\r\n            this.taskType = sourceObj.taskType;\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.expanded))\r\n                this.expanded = !!sourceObj.expanded;\r\n            this.assignCustomFields(sourceObj.customFields);\r\n        }\r\n    };\r\n    Task.prototype.assignCustomFields = function (sourceObj) {\r\n        if (!sourceObj)\r\n            return;\r\n        for (var property in sourceObj) {\r\n            if (!sourceObj.hasOwnProperty(property))\r\n                continue;\r\n            this.customFields[property] = sourceObj[property];\r\n        }\r\n    };\r\n    Task.prototype.isMilestone = function () {\r\n        return this.start.getTime() == this.end.getTime();\r\n    };\r\n    return Task;\r\n}(DataObject_1.DataObject));\r\nexports.Task = Task;\r\n\r\n\r\n/***/ }),\r\n/* 39 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CollectionBase_1 = __webpack_require__(6);\r\nvar Dependency_1 = __webpack_require__(14);\r\nvar DependencyCollection = (function (_super) {\r\n    __extends(DependencyCollection, _super);\r\n    function DependencyCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DependencyCollection.prototype.createItem = function () { return new Dependency_1.Dependency(); };\r\n    return DependencyCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.DependencyCollection = DependencyCollection;\r\n\r\n\r\n/***/ }),\r\n/* 40 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CollectionBase_1 = __webpack_require__(6);\r\nvar ResourceAssignment_1 = __webpack_require__(41);\r\nvar ResourceAssignmentCollection = (function (_super) {\r\n    __extends(ResourceAssignmentCollection, _super);\r\n    function ResourceAssignmentCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceAssignmentCollection.prototype.createItem = function () { return new ResourceAssignment_1.ResourceAssignment(); };\r\n    return ResourceAssignmentCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.ResourceAssignmentCollection = ResourceAssignmentCollection;\r\n\r\n\r\n/***/ }),\r\n/* 41 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar ResourceAssignment = (function (_super) {\r\n    __extends(ResourceAssignment, _super);\r\n    function ResourceAssignment() {\r\n        var _this = _super.call(this) || this;\r\n        _this.taskId = \"\";\r\n        _this.resourceId = \"\";\r\n        return _this;\r\n    }\r\n    ResourceAssignment.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.taskId = String(sourceObj.taskId);\r\n            this.resourceId = String(sourceObj.resourceId);\r\n        }\r\n    };\r\n    return ResourceAssignment;\r\n}(DataObject_1.DataObject));\r\nexports.ResourceAssignment = ResourceAssignment;\r\n\r\n\r\n/***/ }),\r\n/* 42 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar ViewVisualModelItem = (function () {\r\n    function ViewVisualModelItem(task, resources) {\r\n        this.dependencies = new Array();\r\n        this.parent = null;\r\n        this.visible = true;\r\n        this.selected = false;\r\n        this.visibleIndex = -1;\r\n        this.task = task;\r\n        this.resources = resources;\r\n        this.children = new Array();\r\n    }\r\n    Object.defineProperty(ViewVisualModelItem.prototype, \"resourceText\", {\r\n        get: function () {\r\n            var text = \"\";\r\n            this.resources.items.forEach(function (r) { return text += r.text + \" \"; });\r\n            return text;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewVisualModelItem.prototype.addChild = function (child) {\r\n        if (Utils_1.JsonUtils.isExists(child) && this.children.indexOf(child) < 0)\r\n            this.children.push(child);\r\n    };\r\n    ViewVisualModelItem.prototype.removeChild = function (child) {\r\n        var index = this.children.indexOf(child);\r\n        if (index > -1)\r\n            this.children.splice(index, 1);\r\n    };\r\n    ViewVisualModelItem.prototype.getExpanded = function () {\r\n        return !!this.task && this.task.expanded;\r\n    };\r\n    ViewVisualModelItem.prototype.getVisible = function () {\r\n        if (!this.visible)\r\n            return false;\r\n        var parentItem = this.parent;\r\n        while (parentItem) {\r\n            if (!parentItem.visible)\r\n                return false;\r\n            parentItem = parentItem.parent;\r\n        }\r\n        return true;\r\n    };\r\n    ViewVisualModelItem.prototype.changeVisibility = function (visible) {\r\n        this.visible = visible;\r\n    };\r\n    ViewVisualModelItem.prototype.changeSelection = function (selected) {\r\n        this.selected = selected;\r\n    };\r\n    ViewVisualModelItem.prototype.setDependencies = function (dependencies) {\r\n        if (dependencies)\r\n            this.dependencies = dependencies.slice();\r\n    };\r\n    return ViewVisualModelItem;\r\n}());\r\nexports.ViewVisualModelItem = ViewVisualModelItem;\r\n\r\n\r\n/***/ }),\r\n/* 43 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ViewVisualModelDependencyInfo = (function () {\r\n    function ViewVisualModelDependencyInfo(id, predecessor, type) {\r\n        this.id = id;\r\n        this.predecessor = predecessor;\r\n        this.type = type;\r\n    }\r\n    return ViewVisualModelDependencyInfo;\r\n}());\r\nexports.ViewVisualModelDependencyInfo = ViewVisualModelDependencyInfo;\r\n\r\n\r\n/***/ }),\r\n/* 44 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GanttWorkingDayRuleCollection_1 = __webpack_require__(45);\r\nvar DayWorkingTimeInfo_1 = __webpack_require__(53);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar WorkingTimeCalculator = (function () {\r\n    function WorkingTimeCalculator(range, rules) {\r\n        this._workingRules = new GanttWorkingDayRuleCollection_1.WorkingDayRuleCollection();\r\n        this._workDayList = new Array();\r\n        this._calculationRange = range;\r\n        this._workingRules.importFromObject(rules);\r\n    }\r\n    WorkingTimeCalculator.prototype.calculateWorkDayList = function () {\r\n        if (!this._calculationRange)\r\n            return;\r\n        this.clearList();\r\n        var rules = this._workingRules.items;\r\n        for (var i = 0; i < rules.length; i++)\r\n            this.processRule(rules[i]);\r\n        this.sortList();\r\n    };\r\n    WorkingTimeCalculator.prototype.processRule = function (rule) {\r\n        var points = rule.recurrence.calculatePoints(this._calculationRange.start, this._calculationRange.end);\r\n        var _loop_1 = function (i) {\r\n            var point = points[i];\r\n            var dayNum = DateTimeUtils_1.DateTimeUtils.getDayNumber(point);\r\n            var dayInfo = this_1._workDayList.filter(function (i) { return i.dayNumber == dayNum; })[0];\r\n            if (dayInfo) {\r\n                dayInfo.isWorkDay = dayInfo.isWorkDay && rule.isWorkDay;\r\n                dayInfo.addWorkingIntervals(rule.workTimeRanges);\r\n            }\r\n            else\r\n                this_1._workDayList.push(new DayWorkingTimeInfo_1.DayWorkingTimeInfo(dayNum, rule.isWorkDay, rule.workTimeRanges));\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < points.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n    };\r\n    WorkingTimeCalculator.prototype.sortList = function () {\r\n        this._workDayList.sort(function (d1, d2) { return d1.dayNumber - d2.dayNumber; });\r\n    };\r\n    WorkingTimeCalculator.prototype.clearList = function () {\r\n        this._workDayList.splice(0, this._workDayList.length);\r\n    };\r\n    WorkingTimeCalculator.prototype.calculateNoWorkTimeIntervals = function () {\r\n        var _this = this;\r\n        var res = new Array();\r\n        if (this._workDayList.length == 0)\r\n            this.calculateWorkDayList();\r\n        this._workDayList.forEach(function (d) { return res = res.concat(_this.getNoWorkTimeRangesFromDay(d)); });\r\n        return this.concatJointedRanges(res);\r\n    };\r\n    WorkingTimeCalculator.prototype.concatJointedRanges = function (list) {\r\n        var res = new Array();\r\n        for (var i = 0; i < list.length; i++) {\r\n            var interval = list[i];\r\n            var needExpandPrevInterval = res.length > 0 && DateTimeUtils_1.DateTimeUtils.compareDates(res[res.length - 1].end, interval.start) < 2;\r\n            if (needExpandPrevInterval)\r\n                res[res.length - 1].end = interval.end;\r\n            else\r\n                res.push(interval);\r\n        }\r\n        return res;\r\n    };\r\n    WorkingTimeCalculator.prototype.getNoWorkTimeRangesFromDay = function (day) {\r\n        return day.noWorkingIntervals.map(function (i) { return DateTimeUtils_1.DateTimeUtils.convertTimeRangeToDateRange(i, day.dayNumber); });\r\n    };\r\n    Object.defineProperty(WorkingTimeCalculator.prototype, \"noWorkingIntervals\", {\r\n        get: function () {\r\n            if (!this._noWorkingIntervals)\r\n                this._noWorkingIntervals = this.calculateNoWorkTimeIntervals();\r\n            return this._noWorkingIntervals.slice();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WorkingTimeCalculator.prototype.updateRange = function (range) {\r\n        this._calculationRange = range;\r\n        this.invalidate();\r\n    };\r\n    WorkingTimeCalculator.prototype.invalidate = function () {\r\n        this._noWorkingIntervals = null;\r\n        this.clearList();\r\n    };\r\n    return WorkingTimeCalculator;\r\n}());\r\nexports.WorkingTimeCalculator = WorkingTimeCalculator;\r\n\r\n\r\n/***/ }),\r\n/* 45 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CollectionBase_1 = __webpack_require__(6);\r\nvar WorkingTimeRule_1 = __webpack_require__(46);\r\nvar WorkingDayRuleCollection = (function (_super) {\r\n    __extends(WorkingDayRuleCollection, _super);\r\n    function WorkingDayRuleCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WorkingDayRuleCollection.prototype.createItem = function () { return new WorkingTimeRule_1.WorkingTimeRule(); };\r\n    return WorkingDayRuleCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.WorkingDayRuleCollection = WorkingDayRuleCollection;\r\n\r\n\r\n/***/ }),\r\n/* 46 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar RecurrenceFactory_1 = __webpack_require__(26);\r\nvar Daily_1 = __webpack_require__(27);\r\nvar WorkingTimeRule = (function (_super) {\r\n    __extends(WorkingTimeRule, _super);\r\n    function WorkingTimeRule(recurrence, isWorkDay, workTimeRanges) {\r\n        if (recurrence === void 0) { recurrence = null; }\r\n        if (isWorkDay === void 0) { isWorkDay = true; }\r\n        if (workTimeRanges === void 0) { workTimeRanges = null; }\r\n        var _this = _super.call(this) || this;\r\n        _this.isWorkDay = true;\r\n        _this.workTimeRanges = new Array();\r\n        _this.recurrence = recurrence;\r\n        _this.isWorkDay = isWorkDay;\r\n        if (workTimeRanges)\r\n            _this.workTimeRanges.concat(workTimeRanges);\r\n        return _this;\r\n    }\r\n    WorkingTimeRule.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.recurrence = RecurrenceFactory_1.RecurrenceFactory.createRecurrenceByType(sourceObj.recurrenceType) || new Daily_1.Daily();\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.recurrence))\r\n                this.recurrence.assignFromObject(sourceObj.recurrence);\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.isWorkDay))\r\n                this.isWorkDay = !!sourceObj.isWorkDay;\r\n            var ranges = DateTimeUtils_1.DateTimeUtils.convertToTimeRanges(sourceObj.workTimeRanges);\r\n            if (ranges)\r\n                this.workTimeRanges = ranges;\r\n        }\r\n    };\r\n    return WorkingTimeRule;\r\n}(DataObject_1.DataObject));\r\nexports.WorkingTimeRule = WorkingTimeRule;\r\n\r\n\r\n/***/ }),\r\n/* 47 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DayOfWeek;\r\n(function (DayOfWeek) {\r\n    DayOfWeek[DayOfWeek[\"Sunday\"] = 0] = \"Sunday\";\r\n    DayOfWeek[DayOfWeek[\"Monday\"] = 1] = \"Monday\";\r\n    DayOfWeek[DayOfWeek[\"Tuesday\"] = 2] = \"Tuesday\";\r\n    DayOfWeek[DayOfWeek[\"Wednesday\"] = 3] = \"Wednesday\";\r\n    DayOfWeek[DayOfWeek[\"Thursday\"] = 4] = \"Thursday\";\r\n    DayOfWeek[DayOfWeek[\"Friday\"] = 5] = \"Friday\";\r\n    DayOfWeek[DayOfWeek[\"Saturday\"] = 6] = \"Saturday\";\r\n})(DayOfWeek = exports.DayOfWeek || (exports.DayOfWeek = {}));\r\n\r\n\r\n/***/ }),\r\n/* 48 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Month;\r\n(function (Month) {\r\n    Month[Month[\"January\"] = 0] = \"January\";\r\n    Month[Month[\"February\"] = 1] = \"February\";\r\n    Month[Month[\"March\"] = 2] = \"March\";\r\n    Month[Month[\"April\"] = 3] = \"April\";\r\n    Month[Month[\"May\"] = 4] = \"May\";\r\n    Month[Month[\"June\"] = 5] = \"June\";\r\n    Month[Month[\"July\"] = 6] = \"July\";\r\n    Month[Month[\"August\"] = 7] = \"August\";\r\n    Month[Month[\"September\"] = 8] = \"September\";\r\n    Month[Month[\"October\"] = 9] = \"October\";\r\n    Month[Month[\"November\"] = 10] = \"November\";\r\n    Month[Month[\"December\"] = 11] = \"December\";\r\n})(Month = exports.Month || (exports.Month = {}));\r\n\r\n\r\n/***/ }),\r\n/* 49 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RecurrenceBase_1 = __webpack_require__(11);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Weekly = (function (_super) {\r\n    __extends(Weekly, _super);\r\n    function Weekly() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Weekly.prototype.checkDate = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal, date);\r\n    };\r\n    Weekly.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date) % this.interval == 0;\r\n    };\r\n    Weekly.prototype.calculatePointByInterval = function (date) {\r\n        var weeksFromStart = DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date);\r\n        var intervalCount = Math.floor(weeksFromStart / this.interval);\r\n        var remainder = weeksFromStart % this.interval;\r\n        var isPointOnNewWeek = remainder > 0 || date.getDay() >= this.dayOfWeekInternal;\r\n        if (isPointOnNewWeek)\r\n            intervalCount++;\r\n        var weeksToAdd = intervalCount * this.interval;\r\n        return this.calcNextPointWithWeekCount(this.start, weeksToAdd);\r\n    };\r\n    Weekly.prototype.calculateNearestPoint = function (date) {\r\n        var diff = this.dayOfWeekInternal - date.getDay();\r\n        if (diff > 0)\r\n            return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), diff);\r\n        return this.calcNextPointWithWeekCount(date, 1);\r\n    };\r\n    Weekly.prototype.calcNextPointWithWeekCount = function (date, weekCount) {\r\n        if (weekCount === void 0) { weekCount = 1; }\r\n        var daysToAdd = weekCount * 7 + this.dayOfWeekInternal - date.getDay();\r\n        return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), daysToAdd);\r\n    };\r\n    Object.defineProperty(Weekly.prototype, \"dayOfWeek\", {\r\n        get: function () { return this.dayOfWeekInternal; },\r\n        set: function (value) { this.dayOfWeekInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    return Weekly;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Weekly = Weekly;\r\n\r\n\r\n/***/ }),\r\n/* 50 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RecurrenceBase_1 = __webpack_require__(11);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar MonthInfo_1 = __webpack_require__(51);\r\nvar Monthly = (function (_super) {\r\n    __extends(Monthly, _super);\r\n    function Monthly() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Monthly.prototype.checkDate = function (date) {\r\n        if (this._calculateByDayOfWeek)\r\n            return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\r\n        return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\r\n    };\r\n    Monthly.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getMonthsDifference(this.start, date) % this.interval == 0;\r\n    };\r\n    Monthly.prototype.calculatePointByInterval = function (date) {\r\n        var start = this.start;\r\n        var monthFromStart = DateTimeUtils_1.DateTimeUtils.getMonthsDifference(start, date);\r\n        var monthToAdd = Math.floor(monthFromStart / this.interval) * this.interval;\r\n        var info = new MonthInfo_1.MonthInfo(start.getMonth(), start.getFullYear());\r\n        info.addMonths(monthToAdd);\r\n        var point = this.getSpecDayInMonth(info.year, info.month);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\r\n            info.addMonths(this.interval);\r\n            point = this.getSpecDayInMonth(info.year, info.month);\r\n        }\r\n        return point;\r\n    };\r\n    Monthly.prototype.calculateNearestPoint = function (date) {\r\n        var month = date.getMonth();\r\n        var year = date.getFullYear();\r\n        var point = this.getSpecDayInMonth(year, month);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\r\n            var info = new MonthInfo_1.MonthInfo(month, year);\r\n            info.addMonths(1);\r\n            point = this.getSpecDayInMonth(info.year, info.month);\r\n        }\r\n        return point;\r\n    };\r\n    Object.defineProperty(Monthly.prototype, \"day\", {\r\n        get: function () { return this.dayInternal; },\r\n        set: function (value) { this.dayInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Monthly.prototype, \"dayOfWeek\", {\r\n        get: function () { return this.dayOfWeekInternal; },\r\n        set: function (value) { this.dayOfWeekInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Monthly.prototype, \"dayOfWeekOccurrence\", {\r\n        get: function () { return this.dayOfWeekOccurrenceInternal; },\r\n        set: function (value) { this.dayOfWeekOccurrenceInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Monthly.prototype, \"calculateByDayOfWeek\", {\r\n        get: function () { return this._calculateByDayOfWeek; },\r\n        set: function (value) { this._calculateByDayOfWeek = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    return Monthly;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Monthly = Monthly;\r\n\r\n\r\n/***/ }),\r\n/* 51 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar MonthInfo = (function () {\r\n    function MonthInfo(month, year) {\r\n        this.month = month;\r\n        this.year = year;\r\n    }\r\n    MonthInfo.prototype.addMonths = function (months) {\r\n        var nextMonth = DateTimeUtils_1.DateTimeUtils.getNextMonth(this.month, months);\r\n        var yearInc = Math.floor(months / 12);\r\n        if (nextMonth < this.month)\r\n            ++yearInc;\r\n        this.month = nextMonth;\r\n        this.year += yearInc;\r\n    };\r\n    return MonthInfo;\r\n}());\r\nexports.MonthInfo = MonthInfo;\r\n\r\n\r\n/***/ }),\r\n/* 52 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RecurrenceBase_1 = __webpack_require__(11);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Yearly = (function (_super) {\r\n    __extends(Yearly, _super);\r\n    function Yearly() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Yearly.prototype.checkDate = function (date) {\r\n        if (!DateTimeUtils_1.DateTimeUtils.checkMonth(this.month, date))\r\n            return false;\r\n        if (this._calculateByDayOfWeek)\r\n            return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\r\n        return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\r\n    };\r\n    Yearly.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date) % this.interval == 0;\r\n    };\r\n    Yearly.prototype.calculatePointByInterval = function (date) {\r\n        var yearFromStart = DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date);\r\n        var yearInc = Math.floor(yearFromStart / this.interval) * this.interval;\r\n        var newYear = this.start.getFullYear() + yearInc;\r\n        var point = this.getSpecDayInMonth(newYear, this.monthInternal);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\r\n            newYear += this.interval;\r\n            point = this.getSpecDayInMonth(newYear, this.monthInternal);\r\n        }\r\n        return point;\r\n    };\r\n    Yearly.prototype.calculateNearestPoint = function (date) {\r\n        var year = date.getFullYear();\r\n        var point = this.getSpecDayInMonth(year, this.monthInternal);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0)\r\n            point = this.getSpecDayInMonth(++year, this.monthInternal);\r\n        return point;\r\n    };\r\n    Object.defineProperty(Yearly.prototype, \"month\", {\r\n        get: function () { return this.monthInternal; },\r\n        set: function (value) { this.monthInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Yearly.prototype, \"day\", {\r\n        get: function () { return this.dayInternal; },\r\n        set: function (value) { this.dayInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Yearly.prototype, \"dayOfWeek\", {\r\n        get: function () { return this.dayOfWeekInternal; },\r\n        set: function (value) { this.dayOfWeekInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Yearly.prototype, \"dayOfWeekOccurrence\", {\r\n        get: function () { return this.dayOfWeekOccurrenceInternal; },\r\n        set: function (value) { this.dayOfWeekOccurrenceInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Yearly.prototype, \"calculateByDayOfWeek\", {\r\n        get: function () { return this._calculateByDayOfWeek; },\r\n        set: function (value) { this._calculateByDayOfWeek = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    return Yearly;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Yearly = Yearly;\r\n\r\n\r\n/***/ }),\r\n/* 53 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TimeRange_1 = __webpack_require__(24);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Time_1 = __webpack_require__(23);\r\nvar DayWorkingTimeInfo = (function () {\r\n    function DayWorkingTimeInfo(dayNumber, isWorkDay, intervals) {\r\n        if (dayNumber === void 0) { dayNumber = 0; }\r\n        if (isWorkDay === void 0) { isWorkDay = true; }\r\n        if (intervals === void 0) { intervals = null; }\r\n        this._workingIntervals = new Array();\r\n        this.dayNumber = dayNumber;\r\n        this.isWorkDay = isWorkDay;\r\n        this.addWorkingIntervals(intervals);\r\n    }\r\n    DayWorkingTimeInfo.prototype.addWorkingIntervals = function (intervals) {\r\n        if (!intervals)\r\n            return;\r\n        this._workingIntervals = this._workingIntervals.concat(intervals.filter(function (r) { return !!r; }));\r\n        this.rearrangeWorkingIntervals();\r\n    };\r\n    DayWorkingTimeInfo.prototype.rearrangeWorkingIntervals = function () {\r\n        for (var i = 0; i < this._workingIntervals.length; i++) {\r\n            this.concatWithIntersectedRanges(this._workingIntervals[i]);\r\n        }\r\n        this.sortIntervals();\r\n    };\r\n    ;\r\n    DayWorkingTimeInfo.prototype.concatWithIntersectedRanges = function (range) {\r\n        var _this = this;\r\n        var intersectedRanges = this.getIntersectedIntervals(range);\r\n        intersectedRanges.forEach(function (r) {\r\n            range.concatWith(r);\r\n            _this.removeInterval(r);\r\n        });\r\n    };\r\n    ;\r\n    DayWorkingTimeInfo.prototype.getIntersectedIntervals = function (range) {\r\n        return this._workingIntervals.filter(function (r) { return r.hasIntersect(range) && r !== range; });\r\n    };\r\n    ;\r\n    DayWorkingTimeInfo.prototype.sortIntervals = function () {\r\n        this._workingIntervals.sort(function (r1, r2) { return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(r2.start, r1.start); });\r\n    };\r\n    ;\r\n    DayWorkingTimeInfo.prototype.removeInterval = function (element) {\r\n        var index = this._workingIntervals.indexOf(element);\r\n        if (index > -1 && index < this._workingIntervals.length)\r\n            this._workingIntervals.splice(index, 1);\r\n    };\r\n    ;\r\n    DayWorkingTimeInfo.prototype.clearIntervals = function () {\r\n        this._workingIntervals.splice(0, this._workingIntervals.length);\r\n    };\r\n    Object.defineProperty(DayWorkingTimeInfo.prototype, \"workingIntervals\", {\r\n        get: function () { return this._workingIntervals.slice(); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(DayWorkingTimeInfo.prototype, \"noWorkingIntervals\", {\r\n        get: function () {\r\n            var res = new Array();\r\n            if (this.isWorkDay && this._workingIntervals.length == 0)\r\n                return res;\r\n            var starts = this._workingIntervals.map(function (r) { return r.end; });\r\n            starts.splice(0, 0, new Time_1.Time());\r\n            var ends = this._workingIntervals.map(function (r) { return r.start; });\r\n            ends.push(DateTimeUtils_1.DateTimeUtils.getLastTimeOfDay());\r\n            for (var i = 0; i < starts.length; i++) {\r\n                var start = starts[i];\r\n                var end = ends[i];\r\n                if (!DateTimeUtils_1.DateTimeUtils.areTimesEqual(start, end))\r\n                    res.push(new TimeRange_1.TimeRange(start, end));\r\n            }\r\n            return res;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(DayWorkingTimeInfo.prototype, \"isWorkDay\", {\r\n        get: function () { return this._isWorkDay; },\r\n        set: function (value) {\r\n            this._isWorkDay = value;\r\n            if (!value)\r\n                this.clearIntervals();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    return DayWorkingTimeInfo;\r\n}());\r\nexports.DayWorkingTimeInfo = DayWorkingTimeInfo;\r\n\r\n\r\n/***/ }),\r\n/* 54 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Margins = (function () {\r\n    function Margins() {\r\n        this.marginLeft = null;\r\n        this.marginTop = null;\r\n        this.marginRight = null;\r\n        this.marginBottom = null;\r\n    }\r\n    return Margins;\r\n}());\r\nexports.Margins = Margins;\r\n\r\n\r\n/***/ }),\r\n/* 55 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EtalonSizeValues = (function () {\r\n    function EtalonSizeValues() {\r\n        this.scaleItemWidths = {};\r\n    }\r\n    return EtalonSizeValues;\r\n}());\r\nexports.EtalonSizeValues = EtalonSizeValues;\r\n\r\n\r\n/***/ }),\r\n/* 56 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DependencyManipulator_1 = __webpack_require__(57);\r\nvar ResourcesManipulator_1 = __webpack_require__(59);\r\nvar TaskManipulator_1 = __webpack_require__(60);\r\nvar ModelManipulator = (function () {\r\n    function ModelManipulator(viewModel, dispatcher) {\r\n        this.task = new TaskManipulator_1.TaskManipulator(viewModel, dispatcher);\r\n        this.dependency = new DependencyManipulator_1.TaskDependencyManipulator(viewModel, dispatcher);\r\n        this.resource = new ResourcesManipulator_1.ResourcesManipulator(viewModel, dispatcher);\r\n    }\r\n    return ModelManipulator;\r\n}());\r\nexports.ModelManipulator = ModelManipulator;\r\n\r\n\r\n/***/ }),\r\n/* 57 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskPropertiesManipulator_1 = __webpack_require__(17);\r\nvar TaskDependencyManipulator = (function (_super) {\r\n    __extends(TaskDependencyManipulator, _super);\r\n    function TaskDependencyManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDependencyManipulator.prototype.insertDependency = function (predecessorId, successorId, type, id) {\r\n        var dependency = this.viewModel.dependencies.createItem();\r\n        dependency.predecessorId = predecessorId;\r\n        dependency.successorId = successorId;\r\n        dependency.type = type;\r\n        if (id)\r\n            dependency.internalId = id;\r\n        this.viewModel.dependencies.add(dependency);\r\n        this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(dependency), function (id) { return dependency.id = id; });\r\n        this.viewModel.updateVisibleItemDependencies();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return dependency;\r\n    };\r\n    TaskDependencyManipulator.prototype.removeDependency = function (dependencyId) {\r\n        var dependency = this.viewModel.dependencies.getItemById(dependencyId);\r\n        this.viewModel.dependencies.remove(dependency);\r\n        this.dispatcher.notifyDependencyRemoved(dependency.id);\r\n        this.viewModel.updateVisibleItemDependencies();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return dependency;\r\n    };\r\n    TaskDependencyManipulator.prototype.getObjectForDataSource = function (dependency) {\r\n        return {\r\n            id: dependency.id,\r\n            predecessorId: this.viewModel.tasks.getItemById(dependency.predecessorId).id,\r\n            successorId: this.viewModel.tasks.getItemById(dependency.successorId).id,\r\n            type: dependency.type\r\n        };\r\n    };\r\n    return TaskDependencyManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.TaskDependencyManipulator = TaskDependencyManipulator;\r\n\r\n\r\n/***/ }),\r\n/* 58 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItemState = (function () {\r\n    function HistoryItemState(taskId, value) {\r\n        this.taskId = taskId;\r\n        this.value = value;\r\n    }\r\n    return HistoryItemState;\r\n}());\r\nexports.HistoryItemState = HistoryItemState;\r\n\r\n\r\n/***/ }),\r\n/* 59 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskPropertiesManipulator_1 = __webpack_require__(17);\r\nvar ResourcesManipulator = (function (_super) {\r\n    __extends(ResourcesManipulator, _super);\r\n    function ResourcesManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourcesManipulator.prototype.create = function (text, id) {\r\n        var resource = this.viewModel.resources.createItem();\r\n        resource.text = text;\r\n        if (id)\r\n            resource.internalId = id;\r\n        this.viewModel.resources.add(resource);\r\n        this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(resource), function (id) { return resource.id = id; });\r\n        return resource;\r\n    };\r\n    ResourcesManipulator.prototype.remove = function (resourceId) {\r\n        var resource = this.viewModel.resources.getItemById(resourceId);\r\n        if (!resource)\r\n            throw new Error(\"Invalid resource id\");\r\n        var assignments = this.viewModel.assignments.items.filter(function (a) { return a.resourceId == resourceId; });\r\n        if (assignments.length)\r\n            throw new Error(\"Can't delete assigned resource\");\r\n        this.viewModel.resources.remove(resource);\r\n        this.dispatcher.notifyResourceRemoved(resource.id);\r\n        return resource;\r\n    };\r\n    ResourcesManipulator.prototype.assign = function (resourceID, taskId, id) {\r\n        var assignment = this.viewModel.assignments.createItem();\r\n        assignment.resourceId = resourceID;\r\n        assignment.taskId = taskId;\r\n        if (id)\r\n            assignment.internalId = id;\r\n        this.viewModel.assignments.add(assignment);\r\n        this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(assignment), function (id) { return assignment.id = id; });\r\n        this.viewModel.updateModel();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return assignment;\r\n    };\r\n    ResourcesManipulator.prototype.deassig = function (assignmentId) {\r\n        var assignment = this.viewModel.assignments.getItemById(assignmentId);\r\n        this.viewModel.assignments.remove(assignment);\r\n        this.dispatcher.notifyResourceUnassigned(assignment);\r\n        this.viewModel.updateModel();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return assignment;\r\n    };\r\n    ResourcesManipulator.prototype.getResourceObjectForDataSource = function (resource) {\r\n        return {\r\n            id: resource.id,\r\n            text: resource.text\r\n        };\r\n    };\r\n    ResourcesManipulator.prototype.getResourceAssignmentObjectForDataSource = function (resourceAssignment) {\r\n        return {\r\n            id: resourceAssignment,\r\n            taskId: this.viewModel.tasks.getItemById(resourceAssignment.taskId).id,\r\n            resourceId: this.viewModel.resources.getItemById(resourceAssignment.resourceId).id\r\n        };\r\n    };\r\n    return ResourcesManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.ResourcesManipulator = ResourcesManipulator;\r\n\r\n\r\n/***/ }),\r\n/* 60 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskPropertiesManipulator_1 = __webpack_require__(17);\r\nvar TaskManipulator = (function (_super) {\r\n    __extends(TaskManipulator, _super);\r\n    function TaskManipulator(viewModel, dispatcher) {\r\n        var _this = _super.call(this, viewModel, dispatcher) || this;\r\n        _this.properties = new TaskPropertiesManipulator_1.TaskPropertiesManipulator(viewModel, dispatcher);\r\n        return _this;\r\n    }\r\n    TaskManipulator.prototype.create = function (start, end, title, parentId, id) {\r\n        var task = this.viewModel.tasks.createItem();\r\n        task.start = start;\r\n        task.end = end;\r\n        task.title = title;\r\n        if (parentId) {\r\n            var parentItem = this.viewModel.tasks.getItemById(parentId);\r\n            parentItem.expanded = true;\r\n            task.parentId = parentId;\r\n        }\r\n        if (id) {\r\n            task.internalId = id;\r\n        }\r\n        task.id = task.internalId;\r\n        this.viewModel.tasks.add(task);\r\n        this.viewModel.updateModel();\r\n        this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(task), function (id) { return task.id = id; });\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return task;\r\n    };\r\n    TaskManipulator.prototype.remove = function (taskId) {\r\n        var task = this.viewModel.tasks.getItemById(taskId);\r\n        if (!task)\r\n            throw new Error(\"Invalid task id\");\r\n        var dependencies = this.viewModel.dependencies.items.filter(function (d) { return d.predecessorId == taskId || d.successorId == taskId; });\r\n        if (dependencies.length)\r\n            throw new Error(\"Can't delete task with dependency\");\r\n        var assignments = this.viewModel.assignments.items.filter(function (a) { return a.taskId == taskId; });\r\n        if (assignments.length)\r\n            throw new Error(\"Can't delete task with assigned resource\");\r\n        this.viewModel.tasks.remove(task);\r\n        this.dispatcher.notifyTaskRemoved(task.id);\r\n        this.viewModel.updateModel();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return task;\r\n    };\r\n    TaskManipulator.prototype.getObjectForDataSource = function (task) {\r\n        return {\r\n            id: task.id,\r\n            start: task.start,\r\n            end: task.end,\r\n            duration: task.duration,\r\n            description: task.description,\r\n            parentId: task.parentId ? this.viewModel.tasks.getItemById(task.parentId).id : null,\r\n            progress: task.progress,\r\n            taskType: task.taskType,\r\n            title: task.title,\r\n            customFields: task.customFields,\r\n            expanded: task.expanded\r\n        };\r\n    };\r\n    return TaskManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.TaskManipulator = TaskManipulator;\r\n\r\n\r\n/***/ }),\r\n/* 61 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem_1 = __webpack_require__(9);\r\nvar History = (function () {\r\n    function History() {\r\n        this.historyItems = [];\r\n        this.currentIndex = -1;\r\n        this.transaction = null;\r\n        this.transactionLevel = -1;\r\n    }\r\n    History.prototype.undo = function () {\r\n        if (this.currentIndex < 0)\r\n            return;\r\n        this.historyItems[this.currentIndex].undo();\r\n        this.currentIndex--;\r\n    };\r\n    History.prototype.redo = function () {\r\n        if (this.currentIndex >= this.historyItems.length - 1)\r\n            return;\r\n        this.currentIndex++;\r\n        this.historyItems[this.currentIndex].redo();\r\n    };\r\n    History.prototype.beginTransaction = function () {\r\n        this.transactionLevel++;\r\n        if (this.transactionLevel == 0)\r\n            this.transaction = new HistoryItem_1.CompositionHistoryItem();\r\n    };\r\n    History.prototype.endTransaction = function () {\r\n        if (--this.transactionLevel >= 0)\r\n            return;\r\n        var transactionLength = this.transaction.historyItems.length;\r\n        if (transactionLength > 1)\r\n            this.addInternal(this.transaction);\r\n        else if (transactionLength == 1)\r\n            this.addInternal(this.transaction.historyItems.pop());\r\n        this.transaction = null;\r\n    };\r\n    History.prototype.addAndRedo = function (historyItem) {\r\n        this.add(historyItem);\r\n        historyItem.redo();\r\n    };\r\n    History.prototype.add = function (historyItem) {\r\n        if (this.transactionLevel >= 0)\r\n            this.transaction.add(historyItem);\r\n        else\r\n            this.addInternal(historyItem);\r\n    };\r\n    History.prototype.addInternal = function (historyItem) {\r\n        if (this.currentIndex < this.historyItems.length - 1)\r\n            this.historyItems.splice(this.currentIndex + 1);\r\n        this.historyItems.push(historyItem);\r\n        this.currentIndex++;\r\n        this.deleteOldItems();\r\n    };\r\n    History.prototype.deleteOldItems = function () {\r\n        var exceedItemsCount = this.historyItems.length - History.MAX_HISTORY_ITEM_COUNT;\r\n        if (exceedItemsCount > 0 && this.currentIndex > exceedItemsCount) {\r\n            this.historyItems.splice(0, exceedItemsCount);\r\n            this.currentIndex -= exceedItemsCount;\r\n        }\r\n    };\r\n    History.prototype.clear = function () {\r\n        this.currentIndex = -1;\r\n        this.historyItems = [];\r\n    };\r\n    History.MAX_HISTORY_ITEM_COUNT = 100;\r\n    return History;\r\n}());\r\nexports.History = History;\r\n\r\n\r\n/***/ }),\r\n/* 62 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MouseHandler_1 = __webpack_require__(63);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar KeyCode_1 = __webpack_require__(71);\r\nvar Browser_1 = __webpack_require__(12);\r\nvar EventManager = (function () {\r\n    function EventManager(control) {\r\n        this.control = control;\r\n        this.mouseHandler = new MouseHandler_1.MouseHandler(control);\r\n    }\r\n    EventManager.prototype.onMouseDown = function (evt) {\r\n        this.mouseHandler.onMouseDown(evt);\r\n    };\r\n    EventManager.prototype.onMouseMove = function (evt) {\r\n        this.mouseHandler.onMouseMove(evt);\r\n    };\r\n    EventManager.prototype.onMouseUp = function (evt) {\r\n        this.mouseHandler.onMouseUp(evt);\r\n    };\r\n    EventManager.prototype.onMouseDblClick = function (evt) {\r\n        this.mouseHandler.onMouseDoubleClick(evt);\r\n    };\r\n    EventManager.prototype.onMouseWheel = function (evt) {\r\n        this.mouseHandler.onMouseWheel(evt);\r\n    };\r\n    EventManager.prototype.onKeyDown = function (evt) {\r\n        if (this.control.isFocus) {\r\n            var code = this.getShortcutCode(evt);\r\n            if (code == (KeyCode_1.ModifierKey.Ctrl | KeyCode_1.KeyCode.Key_z))\r\n                this.control.history.undo();\r\n            if (code == (KeyCode_1.ModifierKey.Ctrl | KeyCode_1.KeyCode.Key_y))\r\n                this.control.history.redo();\r\n            if (code == KeyCode_1.KeyCode.Delete)\r\n                this.control.taskEditController.deleteSelectedDependency();\r\n        }\r\n    };\r\n    EventManager.prototype.getShortcutCode = function (evt) {\r\n        var keyCode = DomUtils_1.DomUtils.GetKeyCode(evt);\r\n        var modifiers = 0;\r\n        if (evt.altKey)\r\n            modifiers |= KeyCode_1.ModifierKey.Alt;\r\n        if (evt.ctrlKey)\r\n            modifiers |= KeyCode_1.ModifierKey.Ctrl;\r\n        if (evt.shiftKey)\r\n            modifiers |= KeyCode_1.ModifierKey.Shift;\r\n        if (evt.metaKey && Browser_1.Browser.MacOSPlatform)\r\n            modifiers |= KeyCode_1.ModifierKey.Meta;\r\n        return modifiers | keyCode;\r\n    };\r\n    return EventManager;\r\n}());\r\nexports.EventManager = EventManager;\r\n\r\n\r\n/***/ }),\r\n/* 63 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HandlerBase_1 = __webpack_require__(64);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar TaskEditController_1 = __webpack_require__(30);\r\nvar MouseHandlerDefaultState_1 = __webpack_require__(65);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerMoveTaskState_1 = __webpack_require__(67);\r\nvar MouseHandlerProgressTaskState_1 = __webpack_require__(68);\r\nvar MouseHandlerTimestampTaskState_1 = __webpack_require__(69);\r\nvar MouseHandlerDependencyState_1 = __webpack_require__(70);\r\nvar MouseHandler = (function (_super) {\r\n    __extends(MouseHandler, _super);\r\n    function MouseHandler() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandler.prototype.onMouseDoubleClick = function (evt) {\r\n        this.state.onMouseDoubleClick(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseDown = function (evt) {\r\n        var source = this.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\r\n        switch (source) {\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Frame:\r\n                this.switchState(new MouseHandlerMoveTaskState_1.MouseHandlerMoveTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Progress:\r\n                this.switchState(new MouseHandlerProgressTaskState_1.MouseHandlerProgressTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Start:\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_End:\r\n                this.switchState(new MouseHandlerTimestampTaskState_1.MouseHandlerTimestampTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart:\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish:\r\n                this.switchState(new MouseHandlerDependencyState_1.MouseHandlerDependencyState(this));\r\n                break;\r\n        }\r\n        this.state.onMouseDown(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseUp = function (evt) {\r\n        this.state.onMouseUp(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseMove = function (evt) {\r\n        this.state.onMouseMove(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseWheel = function (evt) {\r\n        this.state.onMouseWheel(evt);\r\n    };\r\n    MouseHandler.prototype.switchToDefaultState = function () {\r\n        this.state = new MouseHandlerDefaultState_1.MouseHandlerDefaultState(this);\r\n    };\r\n    MouseHandler.prototype.getMouseEventSource = function (initSource) {\r\n        var source = initSource.nodeType === Node.ELEMENT_NODE ? initSource : initSource.parentNode;\r\n        var className = source.className;\r\n        return TaskEditController_1.TaskEditController.classToSource[className] || TaskAreaManager_1.MouseEventSource.TaskArea;\r\n    };\r\n    return MouseHandler;\r\n}(HandlerBase_1.HandlerBase));\r\nexports.MouseHandler = MouseHandler;\r\n\r\n\r\n/***/ }),\r\n/* 64 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HandlerBase = (function () {\r\n    function HandlerBase(control) {\r\n        this.control = control;\r\n        this.switchToDefaultState();\r\n    }\r\n    HandlerBase.prototype.switchState = function (state) {\r\n        if (this.state)\r\n            this.state.finish();\r\n        this.state = state;\r\n        this.state.start();\r\n    };\r\n    HandlerBase.prototype.switchToDefaultState = function () {\r\n        throw new Error(\"Not implemented\");\r\n    };\r\n    return HandlerBase;\r\n}());\r\nexports.HandlerBase = HandlerBase;\r\n\r\n\r\n/***/ }),\r\n/* 65 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerStateBase_1 = __webpack_require__(18);\r\nvar Point_1 = __webpack_require__(3);\r\nvar GridLayoutCalculator_1 = __webpack_require__(16);\r\nvar MouseHandlerDefaultState = (function (_super) {\r\n    __extends(MouseHandlerDefaultState, _super);\r\n    function MouseHandlerDefaultState(handler) {\r\n        var _this = _super.call(this, handler) || this;\r\n        _this.ganttMovingHelper = new GanttMovingHelper(_this.handler.control);\r\n        return _this;\r\n    }\r\n    MouseHandlerDefaultState.prototype.onMouseDown = function (evt) {\r\n        evt.preventDefault();\r\n        var source = DomUtils_1.DomUtils.getEventSource(evt);\r\n        if (source.className == GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL ||\r\n            source.className == GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL) {\r\n            var id = source.getAttribute(\"dependency-id\");\r\n            this.handler.control.taskEditController.selectDependency(id);\r\n            this.handler.control.resetAndUpdate();\r\n        }\r\n        else {\r\n            if (DomUtils_1.DomUtils.IsLeftButtonPressed(evt))\r\n                this.ganttMovingHelper.startMoving(evt);\r\n            if (this.handler.control.taskEditController.dependencyId != null) {\r\n                this.handler.control.taskEditController.selectDependency(null);\r\n                this.handler.control.resetAndUpdate();\r\n            }\r\n        }\r\n    };\r\n    MouseHandlerDefaultState.prototype.onMouseUp = function (evt) {\r\n        this.ganttMovingHelper.onMouseUp(evt);\r\n    };\r\n    MouseHandlerDefaultState.prototype.onMouseMove = function (evt) {\r\n        if (this.ganttMovingHelper.movingInfo) {\r\n            this.ganttMovingHelper.onMouseMove(evt);\r\n            evt.preventDefault();\r\n        }\r\n    };\r\n    MouseHandlerDefaultState.prototype.onMouseWheel = function (evt) {\r\n        if (evt.ctrlKey) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n            var increase = DomUtils_1.DomUtils.getWheelDelta(evt) > 0;\r\n            var absolutePos = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\r\n            var currentPos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\r\n            var currentDate = this.handler.control.gridLayoutCalculator.getDateByPos(currentPos.x);\r\n            if (increase)\r\n                this.handler.control.zoomIn();\r\n            else\r\n                this.handler.control.zoomOut();\r\n            var scrollLeft = this.handler.control.gridLayoutCalculator.getPosByDate(currentDate);\r\n            this.handler.control.taskAreaContainer.scrollLeft = scrollLeft -\r\n                (absolutePos.x - DomUtils_1.DomUtils.getAbsolutePositionX(this.handler.control.taskAreaContainer.getElement()));\r\n        }\r\n    };\r\n    return MouseHandlerDefaultState;\r\n}(MouseHandlerStateBase_1.MouseHandlerStateBase));\r\nexports.MouseHandlerDefaultState = MouseHandlerDefaultState;\r\nvar GanttMovingHelper = (function () {\r\n    function GanttMovingHelper(gantt) {\r\n        this.gantt = gantt;\r\n        this.movingInfo = null;\r\n    }\r\n    GanttMovingHelper.prototype.startMoving = function (e) {\r\n        this.movingInfo = this.calcMovingInfo(e);\r\n        this.updateGanttAreaCursor(true);\r\n    };\r\n    GanttMovingHelper.prototype.cancelMoving = function () {\r\n        this.movingInfo = null;\r\n    };\r\n    GanttMovingHelper.prototype.onMouseMove = function (e) {\r\n        this.move(e);\r\n    };\r\n    GanttMovingHelper.prototype.onMouseUp = function (e) {\r\n        this.cancelMoving();\r\n        this.updateGanttAreaCursor(false);\r\n    };\r\n    GanttMovingHelper.prototype.move = function (e) {\r\n        this.updateScrollPosition(e);\r\n    };\r\n    GanttMovingHelper.prototype.updateScrollPosition = function (e) {\r\n        var newEventX = Math.round(DomUtils_1.DomUtils.getEventX(e));\r\n        var newEventY = Math.round(DomUtils_1.DomUtils.getEventY(e));\r\n        var deltaX = newEventX - this.movingInfo.eventX;\r\n        var deltaY = newEventY - this.movingInfo.eventY;\r\n        var dirX = deltaX < 0 ? -1 : 1;\r\n        var dirY = deltaY < 0 ? -1 : 1;\r\n        var maxDeltaX = dirX < 0 ? this.movingInfo.maxRightDelta : this.movingInfo.maxLeftDelta;\r\n        var maxDeltaY = dirY < 0 ? this.movingInfo.maxBottomDelta : this.movingInfo.maxTopDelta;\r\n        if (Math.abs(deltaX) > maxDeltaX)\r\n            deltaX = maxDeltaX * dirX;\r\n        if (Math.abs(deltaY) > maxDeltaY)\r\n            deltaY = maxDeltaY * dirY;\r\n        var newScrollLeft = this.movingInfo.scrollLeft - deltaX;\r\n        var newScrollTop = this.movingInfo.scrollTop - deltaY;\r\n        var taskAreaContainer = this.gantt.taskAreaContainer;\r\n        if (taskAreaContainer.scrollLeft !== newScrollLeft)\r\n            taskAreaContainer.scrollLeft = newScrollLeft;\r\n        if (taskAreaContainer.scrollTop !== newScrollTop)\r\n            taskAreaContainer.scrollTop = newScrollTop;\r\n    };\r\n    GanttMovingHelper.prototype.calcMovingInfo = function (e) {\r\n        var taskAreaContainer = this.gantt.taskAreaContainer;\r\n        return {\r\n            eventX: DomUtils_1.DomUtils.getEventX(e),\r\n            eventY: DomUtils_1.DomUtils.getEventY(e),\r\n            scrollLeft: taskAreaContainer.scrollLeft,\r\n            scrollTop: taskAreaContainer.scrollTop,\r\n            maxLeftDelta: taskAreaContainer.scrollLeft,\r\n            maxRightDelta: taskAreaContainer.scrollWidth - taskAreaContainer.scrollLeft - taskAreaContainer.getElement().offsetWidth,\r\n            maxTopDelta: taskAreaContainer.scrollTop,\r\n            maxBottomDelta: taskAreaContainer.scrollHeight - taskAreaContainer.scrollTop - taskAreaContainer.getElement().offsetHeight\r\n        };\r\n    };\r\n    GanttMovingHelper.prototype.updateGanttAreaCursor = function (drag) {\r\n        this.gantt.taskAreaContainer.getElement().style.cursor = drag ? \"grabbing\" : \"default\";\r\n    };\r\n    return GanttMovingHelper;\r\n}());\r\nexports.GanttMovingHelper = GanttMovingHelper;\r\n\r\n\r\n/***/ }),\r\n/* 66 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HandlerStateBase = (function () {\r\n    function HandlerStateBase(handler) {\r\n        this.handler = handler;\r\n    }\r\n    HandlerStateBase.prototype.start = function () { };\r\n    HandlerStateBase.prototype.finish = function () { };\r\n    return HandlerStateBase;\r\n}());\r\nexports.HandlerStateBase = HandlerStateBase;\r\n\r\n\r\n/***/ }),\r\n/* 67 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\r\nvar MouseHandlerMoveTaskState = (function (_super) {\r\n    __extends(MouseHandlerMoveTaskState, _super);\r\n    function MouseHandlerMoveTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerMoveTaskState.prototype.onMouseUpInternal = function (_evt) {\r\n        this.handler.control.taskEditController.confirmMove();\r\n    };\r\n    MouseHandlerMoveTaskState.prototype.onMouseMoveInternal = function (position) {\r\n        this.handler.control.taskEditController.processMove(position.x - this.currentPosition.x);\r\n    };\r\n    return MouseHandlerMoveTaskState;\r\n}(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState));\r\nexports.MouseHandlerMoveTaskState = MouseHandlerMoveTaskState;\r\n\r\n\r\n/***/ }),\r\n/* 68 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\r\nvar MouseHandlerProgressTaskState = (function (_super) {\r\n    __extends(MouseHandlerProgressTaskState, _super);\r\n    function MouseHandlerProgressTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerProgressTaskState.prototype.onMouseUpInternal = function (_evt) {\r\n        this.handler.control.taskEditController.confirmProgress();\r\n    };\r\n    MouseHandlerProgressTaskState.prototype.onMouseMoveInternal = function (position) {\r\n        var relativePosition = this.getRelativePos(position);\r\n        this.handler.control.taskEditController.processProgress(relativePosition);\r\n    };\r\n    return MouseHandlerProgressTaskState;\r\n}(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState));\r\nexports.MouseHandlerProgressTaskState = MouseHandlerProgressTaskState;\r\n\r\n\r\n/***/ }),\r\n/* 69 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\r\nvar MouseHandlerTimestampTaskState = (function (_super) {\r\n    __extends(MouseHandlerTimestampTaskState, _super);\r\n    function MouseHandlerTimestampTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerTimestampTaskState.prototype.onMouseDown = function (evt) {\r\n        _super.prototype.onMouseDown.call(this, evt);\r\n        this.source = this.handler.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\r\n    };\r\n    MouseHandlerTimestampTaskState.prototype.onMouseUpInternal = function (_evt) {\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start)\r\n            this.handler.control.taskEditController.confirmStart();\r\n        else\r\n            this.handler.control.taskEditController.confirmEnd();\r\n    };\r\n    MouseHandlerTimestampTaskState.prototype.onMouseMoveInternal = function (position) {\r\n        var relativePosition = this.getRelativePos(position);\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start)\r\n            this.handler.control.taskEditController.processStart(relativePosition);\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_End)\r\n            this.handler.control.taskEditController.processEnd(relativePosition);\r\n    };\r\n    return MouseHandlerTimestampTaskState;\r\n}(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState));\r\nexports.MouseHandlerTimestampTaskState = MouseHandlerTimestampTaskState;\r\n\r\n\r\n/***/ }),\r\n/* 70 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Point_1 = __webpack_require__(3);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerStateBase_1 = __webpack_require__(18);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar Dependency_1 = __webpack_require__(14);\r\nvar dependencyMap = [];\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart] = [];\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish] = [];\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.SS;\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.SF;\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.FS;\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.FF;\r\nvar MouseHandlerDependencyState = (function (_super) {\r\n    __extends(MouseHandlerDependencyState, _super);\r\n    function MouseHandlerDependencyState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerDependencyState.prototype.onMouseDown = function (evt) {\r\n        var sourceElement = DomUtils_1.DomUtils.getEventSource(evt);\r\n        this.source = this.handler.getMouseEventSource(sourceElement);\r\n        var pos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getAbsolutePositionX(sourceElement) + sourceElement.clientWidth / 2, DomUtils_1.DomUtils.getAbsolutePositionY(sourceElement) + sourceElement.clientHeight / 2));\r\n        this.handler.control.taskEditController.startDependency(pos);\r\n    };\r\n    MouseHandlerDependencyState.prototype.onMouseUp = function (evt) {\r\n        var target = this.handler.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\r\n        var type = target === TaskAreaManager_1.MouseEventSource.Successor_DependencyStart || target == TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish ?\r\n            dependencyMap[this.source][target] : null;\r\n        this.handler.control.taskEditController.endDependency(type);\r\n        this.handler.switchToDefaultState();\r\n    };\r\n    MouseHandlerDependencyState.prototype.onMouseMove = function (evt) {\r\n        evt.preventDefault();\r\n        var relativePos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\r\n        var hoverTaskIndex = Math.floor(relativePos.y / this.handler.control.tickSize.height);\r\n        this.handler.control.taskEditController.processDependency(relativePos);\r\n        if (this.handler.control.viewModel.tasks.items[hoverTaskIndex])\r\n            this.handler.control.taskEditController.showDependencySuccessor(hoverTaskIndex);\r\n    };\r\n    return MouseHandlerDependencyState;\r\n}(MouseHandlerStateBase_1.MouseHandlerStateBase));\r\nexports.MouseHandlerDependencyState = MouseHandlerDependencyState;\r\n\r\n\r\n/***/ }),\r\n/* 71 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ModifierKey;\r\n(function (ModifierKey) {\r\n    ModifierKey[ModifierKey[\"None\"] = 0] = \"None\";\r\n    ModifierKey[ModifierKey[\"Ctrl\"] = 65536] = \"Ctrl\";\r\n    ModifierKey[ModifierKey[\"Shift\"] = 262144] = \"Shift\";\r\n    ModifierKey[ModifierKey[\"Alt\"] = 1048576] = \"Alt\";\r\n    ModifierKey[ModifierKey[\"Meta\"] = 16777216] = \"Meta\";\r\n})(ModifierKey = exports.ModifierKey || (exports.ModifierKey = {}));\r\nvar KeyCode;\r\n(function (KeyCode) {\r\n    KeyCode[KeyCode[\"Backspace\"] = 8] = \"Backspace\";\r\n    KeyCode[KeyCode[\"Tab\"] = 9] = \"Tab\";\r\n    KeyCode[KeyCode[\"Enter\"] = 13] = \"Enter\";\r\n    KeyCode[KeyCode[\"Pause\"] = 19] = \"Pause\";\r\n    KeyCode[KeyCode[\"CapsLock\"] = 20] = \"CapsLock\";\r\n    KeyCode[KeyCode[\"Esc\"] = 27] = \"Esc\";\r\n    KeyCode[KeyCode[\"Space\"] = 32] = \"Space\";\r\n    KeyCode[KeyCode[\"PageUp\"] = 33] = \"PageUp\";\r\n    KeyCode[KeyCode[\"PageDown\"] = 34] = \"PageDown\";\r\n    KeyCode[KeyCode[\"End\"] = 35] = \"End\";\r\n    KeyCode[KeyCode[\"Home\"] = 36] = \"Home\";\r\n    KeyCode[KeyCode[\"Left\"] = 37] = \"Left\";\r\n    KeyCode[KeyCode[\"Up\"] = 38] = \"Up\";\r\n    KeyCode[KeyCode[\"Right\"] = 39] = \"Right\";\r\n    KeyCode[KeyCode[\"Down\"] = 40] = \"Down\";\r\n    KeyCode[KeyCode[\"Insert\"] = 45] = \"Insert\";\r\n    KeyCode[KeyCode[\"Delete\"] = 46] = \"Delete\";\r\n    KeyCode[KeyCode[\"Key_0\"] = 48] = \"Key_0\";\r\n    KeyCode[KeyCode[\"Key_1\"] = 49] = \"Key_1\";\r\n    KeyCode[KeyCode[\"Key_2\"] = 50] = \"Key_2\";\r\n    KeyCode[KeyCode[\"Key_3\"] = 51] = \"Key_3\";\r\n    KeyCode[KeyCode[\"Key_4\"] = 52] = \"Key_4\";\r\n    KeyCode[KeyCode[\"Key_5\"] = 53] = \"Key_5\";\r\n    KeyCode[KeyCode[\"Key_6\"] = 54] = \"Key_6\";\r\n    KeyCode[KeyCode[\"Key_7\"] = 55] = \"Key_7\";\r\n    KeyCode[KeyCode[\"Key_8\"] = 56] = \"Key_8\";\r\n    KeyCode[KeyCode[\"Key_9\"] = 57] = \"Key_9\";\r\n    KeyCode[KeyCode[\"Key_a\"] = 65] = \"Key_a\";\r\n    KeyCode[KeyCode[\"Key_b\"] = 66] = \"Key_b\";\r\n    KeyCode[KeyCode[\"Key_c\"] = 67] = \"Key_c\";\r\n    KeyCode[KeyCode[\"Key_d\"] = 68] = \"Key_d\";\r\n    KeyCode[KeyCode[\"Key_e\"] = 69] = \"Key_e\";\r\n    KeyCode[KeyCode[\"Key_f\"] = 70] = \"Key_f\";\r\n    KeyCode[KeyCode[\"Key_g\"] = 71] = \"Key_g\";\r\n    KeyCode[KeyCode[\"Key_h\"] = 72] = \"Key_h\";\r\n    KeyCode[KeyCode[\"Key_i\"] = 73] = \"Key_i\";\r\n    KeyCode[KeyCode[\"Key_j\"] = 74] = \"Key_j\";\r\n    KeyCode[KeyCode[\"Key_k\"] = 75] = \"Key_k\";\r\n    KeyCode[KeyCode[\"Key_l\"] = 76] = \"Key_l\";\r\n    KeyCode[KeyCode[\"Key_m\"] = 77] = \"Key_m\";\r\n    KeyCode[KeyCode[\"Key_n\"] = 78] = \"Key_n\";\r\n    KeyCode[KeyCode[\"Key_o\"] = 79] = \"Key_o\";\r\n    KeyCode[KeyCode[\"Key_p\"] = 80] = \"Key_p\";\r\n    KeyCode[KeyCode[\"Key_q\"] = 81] = \"Key_q\";\r\n    KeyCode[KeyCode[\"Key_r\"] = 82] = \"Key_r\";\r\n    KeyCode[KeyCode[\"Key_s\"] = 83] = \"Key_s\";\r\n    KeyCode[KeyCode[\"Key_t\"] = 84] = \"Key_t\";\r\n    KeyCode[KeyCode[\"Key_u\"] = 85] = \"Key_u\";\r\n    KeyCode[KeyCode[\"Key_v\"] = 86] = \"Key_v\";\r\n    KeyCode[KeyCode[\"Key_w\"] = 87] = \"Key_w\";\r\n    KeyCode[KeyCode[\"Key_x\"] = 88] = \"Key_x\";\r\n    KeyCode[KeyCode[\"Key_y\"] = 89] = \"Key_y\";\r\n    KeyCode[KeyCode[\"Key_z\"] = 90] = \"Key_z\";\r\n    KeyCode[KeyCode[\"Windows\"] = 91] = \"Windows\";\r\n    KeyCode[KeyCode[\"ContextMenu\"] = 93] = \"ContextMenu\";\r\n    KeyCode[KeyCode[\"Numpad_0\"] = 96] = \"Numpad_0\";\r\n    KeyCode[KeyCode[\"Numpad_1\"] = 97] = \"Numpad_1\";\r\n    KeyCode[KeyCode[\"Numpad_2\"] = 98] = \"Numpad_2\";\r\n    KeyCode[KeyCode[\"Numpad_3\"] = 99] = \"Numpad_3\";\r\n    KeyCode[KeyCode[\"Numpad_4\"] = 100] = \"Numpad_4\";\r\n    KeyCode[KeyCode[\"Numpad_5\"] = 101] = \"Numpad_5\";\r\n    KeyCode[KeyCode[\"Numpad_6\"] = 102] = \"Numpad_6\";\r\n    KeyCode[KeyCode[\"Numpad_7\"] = 103] = \"Numpad_7\";\r\n    KeyCode[KeyCode[\"Numpad_8\"] = 104] = \"Numpad_8\";\r\n    KeyCode[KeyCode[\"Numpad_9\"] = 105] = \"Numpad_9\";\r\n    KeyCode[KeyCode[\"Multiply\"] = 106] = \"Multiply\";\r\n    KeyCode[KeyCode[\"Add\"] = 107] = \"Add\";\r\n    KeyCode[KeyCode[\"Subtract\"] = 109] = \"Subtract\";\r\n    KeyCode[KeyCode[\"Decimal\"] = 110] = \"Decimal\";\r\n    KeyCode[KeyCode[\"Divide\"] = 111] = \"Divide\";\r\n    KeyCode[KeyCode[\"F1\"] = 112] = \"F1\";\r\n    KeyCode[KeyCode[\"F2\"] = 113] = \"F2\";\r\n    KeyCode[KeyCode[\"F3\"] = 114] = \"F3\";\r\n    KeyCode[KeyCode[\"F4\"] = 115] = \"F4\";\r\n    KeyCode[KeyCode[\"F5\"] = 116] = \"F5\";\r\n    KeyCode[KeyCode[\"F6\"] = 117] = \"F6\";\r\n    KeyCode[KeyCode[\"F7\"] = 118] = \"F7\";\r\n    KeyCode[KeyCode[\"F8\"] = 119] = \"F8\";\r\n    KeyCode[KeyCode[\"F9\"] = 120] = \"F9\";\r\n    KeyCode[KeyCode[\"F10\"] = 121] = \"F10\";\r\n    KeyCode[KeyCode[\"F11\"] = 122] = \"F11\";\r\n    KeyCode[KeyCode[\"F12\"] = 123] = \"F12\";\r\n    KeyCode[KeyCode[\"NumLock\"] = 144] = \"NumLock\";\r\n    KeyCode[KeyCode[\"ScrollLock\"] = 145] = \"ScrollLock\";\r\n    KeyCode[KeyCode[\"Semicolon\"] = 186] = \"Semicolon\";\r\n    KeyCode[KeyCode[\"Equals\"] = 187] = \"Equals\";\r\n    KeyCode[KeyCode[\"Comma\"] = 188] = \"Comma\";\r\n    KeyCode[KeyCode[\"Dash\"] = 189] = \"Dash\";\r\n    KeyCode[KeyCode[\"Period\"] = 190] = \"Period\";\r\n    KeyCode[KeyCode[\"ForwardSlash\"] = 191] = \"ForwardSlash\";\r\n    KeyCode[KeyCode[\"GraveAccent\"] = 192] = \"GraveAccent\";\r\n    KeyCode[KeyCode[\"OpenBracket\"] = 219] = \"OpenBracket\";\r\n    KeyCode[KeyCode[\"BackSlash\"] = 220] = \"BackSlash\";\r\n    KeyCode[KeyCode[\"CloseBracket\"] = 221] = \"CloseBracket\";\r\n    KeyCode[KeyCode[\"SingleQuote\"] = 222] = \"SingleQuote\";\r\n})(KeyCode = exports.KeyCode || (exports.KeyCode = {}));\r\n\r\n\r\n/***/ }),\r\n/* 72 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskAreaContainer = (function () {\r\n    function TaskAreaContainer(element, ganttView) {\r\n        this.element = element;\r\n        this.element.addEventListener(\"scroll\", function () { ganttView.updateView(); });\r\n    }\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollTop\", {\r\n        get: function () {\r\n            return this.element.scrollTop;\r\n        },\r\n        set: function (value) {\r\n            this.element.scrollTop = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollLeft\", {\r\n        get: function () {\r\n            return this.element.scrollLeft;\r\n        },\r\n        set: function (value) {\r\n            this.element.scrollLeft = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollWidth\", {\r\n        get: function () {\r\n            return this.element.scrollWidth;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollHeight\", {\r\n        get: function () {\r\n            return this.element.scrollHeight;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"isExternal\", {\r\n        get: function () {\r\n            return false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TaskAreaContainer.prototype.getWidth = function () {\r\n        return this.element.offsetWidth;\r\n    };\r\n    TaskAreaContainer.prototype.getHeight = function () {\r\n        return this.element.offsetHeight;\r\n    };\r\n    TaskAreaContainer.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    return TaskAreaContainer;\r\n}());\r\nexports.TaskAreaContainer = TaskAreaContainer;\r\n\r\n\r\n/***/ }),\r\n/* 73 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Enums_1 = __webpack_require__(7);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar Settings = (function () {\r\n    function Settings() {\r\n        this.viewType = undefined;\r\n        this.taskTitlePosition = Enums_1.TaskTitlePosition.Inside;\r\n        this.showResources = true;\r\n        this.areHorizontalBordersEnabled = true;\r\n        this.areVerticalBordersEnabled = true;\r\n        this.areAlternateRowsEnabled = true;\r\n        this.allowSelectTask = true;\r\n        this.editing = new EditingSettings();\r\n    }\r\n    Settings.parse = function (settings) {\r\n        var result = new Settings();\r\n        if (settings) {\r\n            if (Utils_1.JsonUtils.isExists(settings.viewType))\r\n                result.viewType = settings.viewType;\r\n            if (Utils_1.JsonUtils.isExists(settings.taskTitlePosition))\r\n                result.taskTitlePosition = settings.taskTitlePosition;\r\n            if (Utils_1.JsonUtils.isExists(settings.showResources))\r\n                result.showResources = settings.showResources;\r\n            if (Utils_1.JsonUtils.isExists(settings.areHorizontalBordersEnabled))\r\n                result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\r\n            if (Utils_1.JsonUtils.isExists(settings.areVerticalBordersEnabled))\r\n                result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\r\n            if (Utils_1.JsonUtils.isExists(settings.areAlternateRowsEnabled))\r\n                result.areAlternateRowsEnabled = settings.areAlternateRowsEnabled;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowSelectTask))\r\n                result.allowSelectTask = settings.allowSelectTask;\r\n            if (Utils_1.JsonUtils.isExists(settings.editing))\r\n                result.editing = EditingSettings.parse(settings.editing);\r\n        }\r\n        return result;\r\n    };\r\n    return Settings;\r\n}());\r\nexports.Settings = Settings;\r\nvar EditingSettings = (function () {\r\n    function EditingSettings() {\r\n        this.enabled = false;\r\n        this.allowDependencyDeleting = true;\r\n        this.allowDependencyAdding = true;\r\n        this.allowDependencyUpdating = true;\r\n        this.allowTaskDeleting = true;\r\n        this.allowTaskAdding = true;\r\n        this.allowTaskUpdating = true;\r\n        this.allowResourceDeleting = true;\r\n        this.allowResourceAdding = true;\r\n        this.allowResourceUpdating = true;\r\n    }\r\n    EditingSettings.parse = function (settings) {\r\n        var result = new EditingSettings();\r\n        if (settings) {\r\n            if (Utils_1.JsonUtils.isExists(settings.enabled))\r\n                result.enabled = settings.enabled;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyDeleting))\r\n                result.allowDependencyDeleting = settings.allowDependencyDeleting;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyAdding))\r\n                result.allowDependencyAdding = settings.allowDependencyAdding;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyUpdating))\r\n                result.allowDependencyUpdating = settings.allowDependencyUpdating;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskDeleting))\r\n                result.allowTaskDeleting = settings.allowTaskDeleting;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskAdding))\r\n                result.allowTaskAdding = settings.allowTaskAdding;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskUpdating))\r\n                result.allowTaskUpdating = settings.allowTaskUpdating;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceDeleting))\r\n                result.allowResourceDeleting = settings.allowResourceDeleting;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceAdding))\r\n                result.allowResourceAdding = settings.allowResourceAdding;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceUpdating))\r\n                result.allowResourceUpdating = settings.allowResourceUpdating;\r\n        }\r\n        return result;\r\n    };\r\n    return EditingSettings;\r\n}());\r\nexports.EditingSettings = EditingSettings;\r\n\r\n\r\n/***/ }),\r\n/* 74 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventDispatcher_1 = __webpack_require__(75);\r\nvar ModelChangesDispatcher = (function () {\r\n    function ModelChangesDispatcher() {\r\n        this.onModelChanged = new EventDispatcher_1.EventDispatcher();\r\n    }\r\n    ModelChangesDispatcher.prototype.notifyTaskCreated = function (task, callback) {\r\n        this.onModelChanged.raise(\"NotifyTaskCreated\", task, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskRemoved = function (taskID) {\r\n        this.onModelChanged.raise(\"NotifyTaskRemoved\", taskID);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskTitleChanged = function (taskID, newValue) {\r\n        this.onModelChanged.raise(\"NotifyTaskTitleChanged\", taskID, newValue);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskDescriptionChanged = function (taskID, newValue) {\r\n        this.onModelChanged.raise(\"NotifyTaskDescriptionChanged\", taskID, newValue);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskStartChanged = function (taskID, newValue) {\r\n        this.onModelChanged.raise(\"NotifyTaskStartChanged\", taskID, newValue);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskEndChanged = function (taskID, newValue) {\r\n        this.onModelChanged.raise(\"NotifyTaskEndChanged\", taskID, newValue);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskProgressChanged = function (taskID, newValue) {\r\n        this.onModelChanged.raise(\"NotifyTaskProgressChanged\", taskID, newValue);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyDependencyInserted = function (dependency, callback) {\r\n        this.onModelChanged.raise(\"NotifyDependencyInserted\", dependency, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyDependencyRemoved = function (dependencyID) {\r\n        this.onModelChanged.raise(\"NotifyDependencyRemoved\", dependencyID);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceCreated = function (resource, callback) {\r\n        this.onModelChanged.raise(\"NotifyResourceCreated\", resource, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceRemoved = function (resourceID) {\r\n        this.onModelChanged.raise(\"NotifyResourceRemoved\", resourceID);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceAssigned = function (assignment, callback) {\r\n        this.onModelChanged.raise(\"NotifyResourceAssigned\", assignment, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceUnassigned = function (assignmentID) {\r\n        this.onModelChanged.raise(\"NotifyResourceUnassigned\", assignmentID);\r\n    };\r\n    return ModelChangesDispatcher;\r\n}());\r\nexports.ModelChangesDispatcher = ModelChangesDispatcher;\r\n\r\n\r\n/***/ }),\r\n/* 75 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventDispatcher = (function () {\r\n    function EventDispatcher() {\r\n        this.listeners = [];\r\n    }\r\n    EventDispatcher.prototype.add = function (listener) {\r\n        if (!listener)\r\n            throw new Error(\"Error\");\r\n        if (!this.hasEventListener(listener))\r\n            this.listeners.push(listener);\r\n    };\r\n    EventDispatcher.prototype.remove = function (listener) {\r\n        for (var i = 0, currentListener; currentListener = this.listeners[i]; i++) {\r\n            if (currentListener === listener) {\r\n                this.listeners.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    EventDispatcher.prototype.raise = function (funcName) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        for (var i = 0, listener; listener = this.listeners[i]; i++) {\r\n            listener[funcName].apply(listener, args);\r\n        }\r\n    };\r\n    EventDispatcher.prototype.hasEventListener = function (listener) {\r\n        for (var i = 0, l = this.listeners.length; i < l; i++)\r\n            if (this.listeners[i] === listener)\r\n                return true;\r\n        return false;\r\n    };\r\n    return EventDispatcher;\r\n}());\r\nexports.EventDispatcher = EventDispatcher;\r\n\r\n\r\n/***/ }),\r\n/* 76 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskCommands_1 = __webpack_require__(77);\r\nvar TaskPropertiesCommands_1 = __webpack_require__(79);\r\nvar DependencyCommands_1 = __webpack_require__(80);\r\nvar ResourceCommands_1 = __webpack_require__(81);\r\nvar TaskEditDialog_1 = __webpack_require__(82);\r\nvar ConstraintViolationDialog_1 = __webpack_require__(83);\r\nvar ResourcesDialog_1 = __webpack_require__(84);\r\nvar ClientCommand_1 = __webpack_require__(85);\r\nvar CommandManager = (function () {\r\n    function CommandManager(control) {\r\n        this.control = control;\r\n        this.commands = {};\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.CreateTask, this.createTaskCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.CreateSubTask, this.createSubTaskCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.RemoveTask, this.removeTaskCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.RemoveDependency, this.removeDependencyCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.TaskInformation, this.showTaskEditDialog);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.TaskAddContextItem, new TaskCommands_1.TaskAddContextItemCommand(this.control));\r\n    }\r\n    Object.defineProperty(CommandManager.prototype, \"createTaskCommand\", {\r\n        get: function () { return new TaskCommands_1.CreateTaskCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"createSubTaskCommand\", {\r\n        get: function () { return new TaskCommands_1.CreateSubTaskCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"removeTaskCommand\", {\r\n        get: function () { return new TaskCommands_1.RemoveTaskCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskTitleCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskTitleCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskDescriptionCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskDescriptionCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskProgressCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskProgressCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskStartCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskStartCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskEndCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskEndCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"createDependencyCommand\", {\r\n        get: function () { return new DependencyCommands_1.CreateDependencyCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"removeDependencyCommand\", {\r\n        get: function () { return new DependencyCommands_1.RemoveDependencyCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"createResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.CreateResourceCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"removeResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.RemoveResourceCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"assignResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.AssignResourceCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"deassignResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.DeassignResourceCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"showTaskEditDialog\", {\r\n        get: function () { return new TaskEditDialog_1.TaskEditDialogCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"showConstraintViolationDialog\", {\r\n        get: function () { return new ConstraintViolationDialog_1.ConstraintViolationDialogCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"showResourcesDialog\", {\r\n        get: function () { return new ResourcesDialog_1.ResourcesDialogCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CommandManager.prototype.getCommand = function (key) {\r\n        return this.commands[key];\r\n    };\r\n    CommandManager.prototype.createCommand = function (commandId, command) {\r\n        this.commands[commandId] = command;\r\n    };\r\n    return CommandManager;\r\n}());\r\nexports.CommandManager = CommandManager;\r\n\r\n\r\n/***/ }),\r\n/* 77 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar TaskHistoryItem_1 = __webpack_require__(78);\r\nvar TaskDependencyHistoryItem_1 = __webpack_require__(20);\r\nvar ResourceHistoryItem_1 = __webpack_require__(21);\r\nvar TaskCommandBase = (function (_super) {\r\n    __extends(TaskCommandBase, _super);\r\n    function TaskCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskCommandBase.prototype.getState = function () {\r\n        var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n        state.visible = state.enabled && !this.control.taskEditController.dependencyId;\r\n        return state;\r\n    };\r\n    return TaskCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.TaskCommandBase = TaskCommandBase;\r\nvar CreateTaskCommand = (function (_super) {\r\n    __extends(CreateTaskCommand, _super);\r\n    function CreateTaskCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateTaskCommand.prototype.execute = function (start, end, title, parentId) {\r\n        return _super.prototype.execute.call(this, start, end, title, parentId);\r\n    };\r\n    CreateTaskCommand.prototype.executeInternal = function (start, end, title, parentId) {\r\n        if (!parentId) {\r\n            var selectedTask = this.control.viewModel.findItem(this.control.currentSelectedTaskID).task;\r\n            if (selectedTask)\r\n                parentId = selectedTask.parentId;\r\n        }\r\n        var referenceItem = this.control.viewModel.findItem(parentId) || this.control.viewModel.items[0];\r\n        var referenceTask = referenceItem.task;\r\n        start = start || new Date(referenceTask.start.getTime());\r\n        end = end || new Date(referenceTask.end.getTime());\r\n        title = title || \"New task\";\r\n        this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, start, end, title, parentId));\r\n        return true;\r\n    };\r\n    CreateTaskCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskAdding;\r\n    };\r\n    return CreateTaskCommand;\r\n}(TaskCommandBase));\r\nexports.CreateTaskCommand = CreateTaskCommand;\r\nvar CreateSubTaskCommand = (function (_super) {\r\n    __extends(CreateSubTaskCommand, _super);\r\n    function CreateSubTaskCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateSubTaskCommand.prototype.execute = function (parentId) {\r\n        return _super.prototype.execute.call(this, parentId);\r\n    };\r\n    CreateSubTaskCommand.prototype.executeInternal = function (parentId) {\r\n        parentId = parentId || this.control.currentSelectedTaskID;\r\n        var selectedItem = this.control.viewModel.findItem(parentId);\r\n        if (selectedItem.selected) {\r\n            this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, new Date(selectedItem.task.start.getTime()), new Date(selectedItem.task.end.getTime()), \"New task\", parentId));\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CreateSubTaskCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskAdding;\r\n    };\r\n    CreateSubTaskCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        var selectedItem = this.control.viewModel.findItem(this.control.currentSelectedTaskID);\r\n        state.visible = state.visible && selectedItem && selectedItem.selected;\r\n        return state;\r\n    };\r\n    return CreateSubTaskCommand;\r\n}(TaskCommandBase));\r\nexports.CreateSubTaskCommand = CreateSubTaskCommand;\r\nvar RemoveTaskCommand = (function (_super) {\r\n    __extends(RemoveTaskCommand, _super);\r\n    function RemoveTaskCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RemoveTaskCommand.prototype.execute = function (id) {\r\n        return _super.prototype.execute.call(this, id);\r\n    };\r\n    RemoveTaskCommand.prototype.executeInternal = function (id) {\r\n        var _this = this;\r\n        id = id || this.control.currentSelectedTaskID;\r\n        this.control.viewModel.beginUpdate();\r\n        this.history.beginTransaction();\r\n        var childTasks = this.control.viewModel.tasks.items.filter(function (t) { return t.parentId == id; });\r\n        childTasks.forEach(function (t) { return new RemoveTaskCommand(_this.control).execute(t.internalId); });\r\n        var dependencies = this.control.viewModel.dependencies.items.filter(function (d) { return d.predecessorId == id || d.successorId == id; });\r\n        if (dependencies.length)\r\n            if (this.control.settings.editing.allowDependencyDeleting)\r\n                dependencies.forEach(function (d) { return _this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(_this.modelManipulator, d.internalId)); });\r\n            else\r\n                return false;\r\n        var assignments = this.control.viewModel.assignments.items.filter(function (a) { return a.taskId == id; });\r\n        assignments.forEach(function (a) { return _this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId)); });\r\n        this.history.addAndRedo(new TaskHistoryItem_1.RemoveTaskHistoryItem(this.modelManipulator, id));\r\n        this.history.endTransaction();\r\n        this.control.viewModel.endUpdate();\r\n        return true;\r\n    };\r\n    RemoveTaskCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskDeleting;\r\n    };\r\n    return RemoveTaskCommand;\r\n}(TaskCommandBase));\r\nexports.RemoveTaskCommand = RemoveTaskCommand;\r\nvar TaskAddContextItemCommand = (function (_super) {\r\n    __extends(TaskAddContextItemCommand, _super);\r\n    function TaskAddContextItemCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskAddContextItemCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        state.visible = state.visible && this.control.settings.editing.allowTaskAdding;\r\n        return state;\r\n    };\r\n    TaskAddContextItemCommand.prototype.execute = function () {\r\n        return false;\r\n    };\r\n    return TaskAddContextItemCommand;\r\n}(TaskCommandBase));\r\nexports.TaskAddContextItemCommand = TaskAddContextItemCommand;\r\n\r\n\r\n/***/ }),\r\n/* 78 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem_1 = __webpack_require__(9);\r\nvar CreateTaskHistoryItem = (function (_super) {\r\n    __extends(CreateTaskHistoryItem, _super);\r\n    function CreateTaskHistoryItem(modelManipulator, start, end, title, parentId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.start = start;\r\n        _this.end = end;\r\n        _this.title = title;\r\n        _this.parentId = parentId;\r\n        return _this;\r\n    }\r\n    CreateTaskHistoryItem.prototype.redo = function () {\r\n        this.taskId = this.modelManipulator.task.create(this.start, this.end, this.title, this.parentId, this.taskId ? this.taskId : null).internalId;\r\n    };\r\n    CreateTaskHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.task.remove(this.taskId);\r\n    };\r\n    return CreateTaskHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.CreateTaskHistoryItem = CreateTaskHistoryItem;\r\nvar RemoveTaskHistoryItem = (function (_super) {\r\n    __extends(RemoveTaskHistoryItem, _super);\r\n    function RemoveTaskHistoryItem(modelManipulator, taskId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.taskId = taskId;\r\n        return _this;\r\n    }\r\n    RemoveTaskHistoryItem.prototype.redo = function () {\r\n        this.task = this.modelManipulator.task.remove(this.taskId);\r\n    };\r\n    RemoveTaskHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.task.create(this.task.start, this.task.end, this.task.title, this.task.parentId, this.task.internalId);\r\n    };\r\n    return RemoveTaskHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.RemoveTaskHistoryItem = RemoveTaskHistoryItem;\r\n\r\n\r\n/***/ }),\r\n/* 79 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar TaskPropertiesHistoryItem_1 = __webpack_require__(31);\r\nvar TaskPropertyCommandBase = (function (_super) {\r\n    __extends(TaskPropertyCommandBase, _super);\r\n    function TaskPropertyCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskPropertyCommandBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    TaskPropertyCommandBase.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskUpdating;\r\n    };\r\n    return TaskPropertyCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.TaskPropertyCommandBase = TaskPropertyCommandBase;\r\nvar TaskTitleCommand = (function (_super) {\r\n    __extends(TaskTitleCommand, _super);\r\n    function TaskTitleCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskTitleCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskTitleCommand.prototype.executeInternal = function (id, value) {\r\n        var oldTitle = this.control.viewModel.tasks.getItemById(id).title;\r\n        if (oldTitle == value)\r\n            return false;\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, id, value));\r\n        return true;\r\n    };\r\n    return TaskTitleCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskTitleCommand = TaskTitleCommand;\r\nvar TaskDescriptionCommand = (function (_super) {\r\n    __extends(TaskDescriptionCommand, _super);\r\n    function TaskDescriptionCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDescriptionCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskDescriptionCommand.prototype.executeInternal = function (id, value) {\r\n        var oldDescription = this.control.viewModel.tasks.getItemById(id).description;\r\n        if (oldDescription == value)\r\n            return false;\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskDesriptionHistoryItem(this.modelManipulator, id, value));\r\n        return true;\r\n    };\r\n    return TaskDescriptionCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskDescriptionCommand = TaskDescriptionCommand;\r\nvar TaskProgressCommand = (function (_super) {\r\n    __extends(TaskProgressCommand, _super);\r\n    function TaskProgressCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskProgressCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskProgressCommand.prototype.executeInternal = function (id, value) {\r\n        var oldProgress = this.control.viewModel.tasks.getItemById(id).progress;\r\n        if (oldProgress == value)\r\n            return false;\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, id, value));\r\n        return true;\r\n    };\r\n    return TaskProgressCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskProgressCommand = TaskProgressCommand;\r\nvar TaskStartCommand = (function (_super) {\r\n    __extends(TaskStartCommand, _super);\r\n    function TaskStartCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskStartCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskStartCommand.prototype.executeInternal = function (id, value) {\r\n        var oldStart = this.control.viewModel.tasks.getItemById(id).start;\r\n        if (oldStart.getTime() == value.getTime())\r\n            return false;\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, id, value));\r\n        if (value < this.control.dataRange.start)\r\n            this.control.dataRange.start = value;\r\n        return true;\r\n    };\r\n    return TaskStartCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskStartCommand = TaskStartCommand;\r\nvar TaskEndCommand = (function (_super) {\r\n    __extends(TaskEndCommand, _super);\r\n    function TaskEndCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEndCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskEndCommand.prototype.executeInternal = function (id, value) {\r\n        var oldEnd = this.control.viewModel.tasks.getItemById(id).end;\r\n        if (oldEnd.getTime() == value.getTime())\r\n            return false;\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, id, value));\r\n        if (value > this.control.dataRange.end)\r\n            this.control.dataRange.end = value;\r\n        return true;\r\n    };\r\n    return TaskEndCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskEndCommand = TaskEndCommand;\r\n\r\n\r\n/***/ }),\r\n/* 80 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar TaskDependencyHistoryItem_1 = __webpack_require__(20);\r\nvar DependencyCommandBase = (function (_super) {\r\n    __extends(DependencyCommandBase, _super);\r\n    function DependencyCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DependencyCommandBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    return DependencyCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.DependencyCommandBase = DependencyCommandBase;\r\nvar CreateDependencyCommand = (function (_super) {\r\n    __extends(CreateDependencyCommand, _super);\r\n    function CreateDependencyCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateDependencyCommand.prototype.execute = function (predecessorId, successorId, type) {\r\n        return _super.prototype.execute.call(this, predecessorId, successorId, type);\r\n    };\r\n    CreateDependencyCommand.prototype.executeInternal = function (predecessorId, successorId, type) {\r\n        if (this.control.viewModel.dependencies.items.filter(function (d) { return (d.predecessorId == predecessorId && d.successorId == successorId) ||\r\n            (d.successorId == predecessorId && d.predecessorId == successorId); }).length)\r\n            return false;\r\n        this.history.addAndRedo(new TaskDependencyHistoryItem_1.InsertDependencyHistoryItem(this.modelManipulator, predecessorId, successorId, type));\r\n        return true;\r\n    };\r\n    CreateDependencyCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyAdding;\r\n    };\r\n    return CreateDependencyCommand;\r\n}(DependencyCommandBase));\r\nexports.CreateDependencyCommand = CreateDependencyCommand;\r\nvar RemoveDependencyCommand = (function (_super) {\r\n    __extends(RemoveDependencyCommand, _super);\r\n    function RemoveDependencyCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RemoveDependencyCommand.prototype.execute = function (id) {\r\n        return _super.prototype.execute.call(this, id);\r\n    };\r\n    RemoveDependencyCommand.prototype.executeInternal = function (id) {\r\n        id = id || this.control.taskEditController.dependencyId;\r\n        if (id != null) {\r\n            var dependency = this.control.viewModel.dependencies.items.filter(function (d) { return d.internalId == id; })[0];\r\n            if (dependency) {\r\n                this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, id));\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    RemoveDependencyCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyDeleting;\r\n    };\r\n    RemoveDependencyCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        state.visible = state.enabled && this.control.taskEditController.dependencyId != null;\r\n        return state;\r\n    };\r\n    return RemoveDependencyCommand;\r\n}(DependencyCommandBase));\r\nexports.RemoveDependencyCommand = RemoveDependencyCommand;\r\n\r\n\r\n/***/ }),\r\n/* 81 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar ResourceHistoryItem_1 = __webpack_require__(21);\r\nvar ResourceCommandBase = (function (_super) {\r\n    __extends(ResourceCommandBase, _super);\r\n    function ResourceCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceCommandBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    return ResourceCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.ResourceCommandBase = ResourceCommandBase;\r\nvar CreateResourceCommand = (function (_super) {\r\n    __extends(CreateResourceCommand, _super);\r\n    function CreateResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateResourceCommand.prototype.execute = function (text) {\r\n        return _super.prototype.execute.call(this, text);\r\n    };\r\n    CreateResourceCommand.prototype.executeInternal = function (text) {\r\n        this.history.addAndRedo(new ResourceHistoryItem_1.CreateResourceHistoryItem(this.modelManipulator, text));\r\n        return true;\r\n    };\r\n    return CreateResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.CreateResourceCommand = CreateResourceCommand;\r\nvar RemoveResourceCommand = (function (_super) {\r\n    __extends(RemoveResourceCommand, _super);\r\n    function RemoveResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RemoveResourceCommand.prototype.execute = function (id) {\r\n        return _super.prototype.execute.call(this, id);\r\n    };\r\n    RemoveResourceCommand.prototype.executeInternal = function (id) {\r\n        var _this = this;\r\n        var resource = this.control.viewModel.resources.items.filter(function (r) { return r.internalId == id; })[0];\r\n        if (resource) {\r\n            this.history.beginTransaction();\r\n            var assignments = this.control.viewModel.assignments.items.filter(function (a) { return a.resourceId == id; });\r\n            assignments.forEach(function (a) { return _this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId)); });\r\n            this.history.addAndRedo(new ResourceHistoryItem_1.RemoveResourceHistoryItem(this.modelManipulator, id));\r\n            this.history.endTransaction();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return RemoveResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.RemoveResourceCommand = RemoveResourceCommand;\r\nvar AssignResourceCommand = (function (_super) {\r\n    __extends(AssignResourceCommand, _super);\r\n    function AssignResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AssignResourceCommand.prototype.execute = function (resourceId, taskId) {\r\n        return _super.prototype.execute.call(this, resourceId, taskId);\r\n    };\r\n    AssignResourceCommand.prototype.executeInternal = function (resourceId, taskId) {\r\n        var assignment = this.control.viewModel.assignments.items.filter(function (r) { return r.resourceId == resourceId && r.taskId == taskId; })[0];\r\n        if (!assignment) {\r\n            this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, resourceId, taskId));\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return AssignResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.AssignResourceCommand = AssignResourceCommand;\r\nvar DeassignResourceCommand = (function (_super) {\r\n    __extends(DeassignResourceCommand, _super);\r\n    function DeassignResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeassignResourceCommand.prototype.execute = function (assignmentId) {\r\n        return _super.prototype.execute.call(this, assignmentId);\r\n    };\r\n    DeassignResourceCommand.prototype.executeInternal = function (assignmentId) {\r\n        var assignment = this.control.viewModel.assignments.items.filter(function (r) { return r.internalId == assignmentId; })[0];\r\n        if (assignment) {\r\n            this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this.modelManipulator, assignmentId));\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return DeassignResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.DeassignResourceCommand = DeassignResourceCommand;\r\n\r\n\r\n/***/ }),\r\n/* 82 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DialogBase_1 = __webpack_require__(22);\r\nvar TaskPropertiesHistoryItem_1 = __webpack_require__(31);\r\nvar ResourceCollection_1 = __webpack_require__(13);\r\nvar ResourceHistoryItem_1 = __webpack_require__(21);\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar TaskEditDialogCommand = (function (_super) {\r\n    __extends(TaskEditDialogCommand, _super);\r\n    function TaskEditDialogCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEditDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\r\n        this.history.beginTransaction();\r\n        if (newParameters.title != oldParameters.title)\r\n            this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, oldParameters.id, newParameters.title));\r\n        if (newParameters.progress != oldParameters.progress)\r\n            this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, oldParameters.id, newParameters.progress));\r\n        if (newParameters.start != oldParameters.start)\r\n            this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, oldParameters.id, newParameters.start));\r\n        if (newParameters.end != oldParameters.end)\r\n            this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, oldParameters.id, newParameters.end));\r\n        for (var i = 0; i < newParameters.assigned.length; i++) {\r\n            var resource = oldParameters.assigned.getItemById(newParameters.assigned.getItem(i).internalId);\r\n            if (!resource)\r\n                this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, newParameters.assigned.getItem(i).internalId, oldParameters.id));\r\n        }\r\n        var _loop_1 = function (i) {\r\n            var assigned = oldParameters.assigned.getItem(i);\r\n            var resource = newParameters.assigned.getItemById(assigned.internalId);\r\n            if (!resource) {\r\n                var assignment = this_1.control.viewModel.assignments.items.filter(function (assignment) { return assignment.resourceId == assigned.internalId && assignment.taskId == oldParameters.id; })[0];\r\n                this_1.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this_1.modelManipulator, assignment.internalId));\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < oldParameters.assigned.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n        this.history.endTransaction();\r\n        return false;\r\n    };\r\n    TaskEditDialogCommand.prototype.createParameters = function (options) {\r\n        options = options || this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);\r\n        var param = new TaskEditParameters();\r\n        param.id = options.internalId;\r\n        param.title = options.title;\r\n        param.progress = options.progress;\r\n        param.start = options.start;\r\n        param.end = options.end;\r\n        param.assigned = this.control.viewModel.getAssignedResources(options);\r\n        param.resources = new ResourceCollection_1.ResourceCollection();\r\n        param.resources.addRange(this.control.viewModel.resources.items);\r\n        param.showResourcesDialogCommand = this.control.commandManager.showResourcesDialog;\r\n        return param;\r\n    };\r\n    TaskEditDialogCommand.prototype.isEnabled = function () {\r\n        return true;\r\n    };\r\n    TaskEditDialogCommand.prototype.getState = function () {\r\n        var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n        state.visible = !this.control.taskEditController.dependencyId;\r\n        return state;\r\n    };\r\n    TaskEditDialogCommand.prototype.getDialogName = function () {\r\n        return \"TaskEdit\";\r\n    };\r\n    return TaskEditDialogCommand;\r\n}(DialogBase_1.DialogBase));\r\nexports.TaskEditDialogCommand = TaskEditDialogCommand;\r\nvar TaskEditParameters = (function (_super) {\r\n    __extends(TaskEditParameters, _super);\r\n    function TaskEditParameters() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEditParameters.prototype.clone = function () {\r\n        var clone = new TaskEditParameters();\r\n        clone.id = this.id;\r\n        clone.title = this.title;\r\n        clone.progress = this.progress;\r\n        clone.start = this.start;\r\n        clone.end = this.end;\r\n        clone.assigned = new ResourceCollection_1.ResourceCollection();\r\n        clone.assigned.addRange(this.assigned.items);\r\n        clone.resources = new ResourceCollection_1.ResourceCollection();\r\n        clone.resources.addRange(this.resources.items);\r\n        clone.showResourcesDialogCommand = this.showResourcesDialogCommand;\r\n        return clone;\r\n    };\r\n    return TaskEditParameters;\r\n}(DialogBase_1.DialogParametersBase));\r\nexports.TaskEditParameters = TaskEditParameters;\r\n\r\n\r\n/***/ }),\r\n/* 83 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DialogBase_1 = __webpack_require__(22);\r\nvar TaskDependencyHistoryItem_1 = __webpack_require__(20);\r\nvar ConstraintViolationOption;\r\n(function (ConstraintViolationOption) {\r\n    ConstraintViolationOption[ConstraintViolationOption[\"DoNothing\"] = 0] = \"DoNothing\";\r\n    ConstraintViolationOption[ConstraintViolationOption[\"RemoveDependency\"] = 1] = \"RemoveDependency\";\r\n    ConstraintViolationOption[ConstraintViolationOption[\"KeepDependency\"] = 2] = \"KeepDependency\";\r\n})(ConstraintViolationOption = exports.ConstraintViolationOption || (exports.ConstraintViolationOption = {}));\r\nvar ConstraintViolationDialogCommand = (function (_super) {\r\n    __extends(ConstraintViolationDialogCommand, _super);\r\n    function ConstraintViolationDialogCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ConstraintViolationDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\r\n        if (newParameters.option === ConstraintViolationOption.DoNothing)\r\n            return false;\r\n        if (newParameters.option === ConstraintViolationOption.RemoveDependency)\r\n            this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, oldParameters.dependencyId));\r\n        return true;\r\n    };\r\n    ConstraintViolationDialogCommand.prototype.createParameters = function (options) {\r\n        var result = new ConstraintViolationDialogParameters();\r\n        result.dependencyId = options;\r\n        return result;\r\n    };\r\n    ConstraintViolationDialogCommand.prototype.getDialogName = function () {\r\n        return \"ConstraintViolation\";\r\n    };\r\n    return ConstraintViolationDialogCommand;\r\n}(DialogBase_1.DialogBase));\r\nexports.ConstraintViolationDialogCommand = ConstraintViolationDialogCommand;\r\nvar ConstraintViolationDialogParameters = (function (_super) {\r\n    __extends(ConstraintViolationDialogParameters, _super);\r\n    function ConstraintViolationDialogParameters() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ConstraintViolationDialogParameters.prototype.clone = function () {\r\n        var result = new ConstraintViolationDialogParameters();\r\n        result.dependencyId = this.dependencyId;\r\n        result.option = this.option;\r\n        return result;\r\n    };\r\n    return ConstraintViolationDialogParameters;\r\n}(DialogBase_1.DialogParametersBase));\r\nexports.ConstraintViolationDialogParameters = ConstraintViolationDialogParameters;\r\n\r\n\r\n/***/ }),\r\n/* 84 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DialogBase_1 = __webpack_require__(22);\r\nvar ResourceCollection_1 = __webpack_require__(13);\r\nvar ResourcesDialogCommand = (function (_super) {\r\n    __extends(ResourcesDialogCommand, _super);\r\n    function ResourcesDialogCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourcesDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\r\n        this.history.beginTransaction();\r\n        for (var i = 0; i < newParameters.resources.length; i++) {\r\n            var resource = oldParameters.resources.getItemById(newParameters.resources.getItem(i).internalId);\r\n            if (!resource)\r\n                this.control.commandManager.createResourceCommand.execute(newParameters.resources.getItem(i).text);\r\n        }\r\n        for (var i = 0; i < oldParameters.resources.length; i++) {\r\n            var resource = newParameters.resources.getItemById(oldParameters.resources.getItem(i).internalId);\r\n            if (!resource)\r\n                this.control.commandManager.removeResourceCommand.execute(oldParameters.resources.getItem(i).internalId);\r\n        }\r\n        this.history.endTransaction();\r\n        return false;\r\n    };\r\n    ResourcesDialogCommand.prototype.createParameters = function () {\r\n        var param = new ResourcesDialogParameters();\r\n        param.resources = new ResourceCollection_1.ResourceCollection();\r\n        param.resources.addRange(this.control.viewModel.resources.items);\r\n        return param;\r\n    };\r\n    ResourcesDialogCommand.prototype.getDialogName = function () {\r\n        return \"Resources\";\r\n    };\r\n    return ResourcesDialogCommand;\r\n}(DialogBase_1.DialogBase));\r\nexports.ResourcesDialogCommand = ResourcesDialogCommand;\r\nvar ResourcesDialogParameters = (function (_super) {\r\n    __extends(ResourcesDialogParameters, _super);\r\n    function ResourcesDialogParameters() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourcesDialogParameters.prototype.clone = function () {\r\n        var clone = new ResourcesDialogParameters();\r\n        clone.resources = new ResourceCollection_1.ResourceCollection();\r\n        clone.resources.addRange(this.resources.items);\r\n        return clone;\r\n    };\r\n    return ResourcesDialogParameters;\r\n}(DialogBase_1.DialogParametersBase));\r\nexports.ResourcesDialogParameters = ResourcesDialogParameters;\r\n\r\n\r\n/***/ }),\r\n/* 85 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GanttClientCommand;\r\n(function (GanttClientCommand) {\r\n    GanttClientCommand[GanttClientCommand[\"CreateTask\"] = 0] = \"CreateTask\";\r\n    GanttClientCommand[GanttClientCommand[\"CreateSubTask\"] = 1] = \"CreateSubTask\";\r\n    GanttClientCommand[GanttClientCommand[\"RemoveTask\"] = 2] = \"RemoveTask\";\r\n    GanttClientCommand[GanttClientCommand[\"RemoveDependency\"] = 3] = \"RemoveDependency\";\r\n    GanttClientCommand[GanttClientCommand[\"TaskInformation\"] = 4] = \"TaskInformation\";\r\n    GanttClientCommand[GanttClientCommand[\"TaskAddContextItem\"] = 5] = \"TaskAddContextItem\";\r\n})(GanttClientCommand = exports.GanttClientCommand || (exports.GanttClientCommand = {}));\r\n\r\n\r\n/***/ }),\r\n/* 86 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BarManager = (function () {\r\n    function BarManager(control, bars) {\r\n        this.control = control;\r\n        this.bars = bars;\r\n    }\r\n    BarManager.prototype.updateContextMenu = function () {\r\n        for (var i = 0, bar; bar = this.bars[i]; i++) {\r\n            if (bar.isContextMenu()) {\r\n                bar.updateItemsList();\r\n                var commandKeys = bar.getCommandKeys();\r\n                for (var j = 0; j < commandKeys.length; j++) {\r\n                    this.updateBarItem(bar, commandKeys[j]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    BarManager.prototype.updateItemsState = function (queryCommands) {\r\n        var anyQuerySended = !!queryCommands.length;\r\n        for (var i = 0, bar; bar = this.bars[i]; i++) {\r\n            if (bar.isVisible()) {\r\n                var commandKeys = bar.getCommandKeys();\r\n                var _loop_1 = function (j, commandKey) {\r\n                    if (anyQuerySended && !queryCommands.filter(function (q) { return q == commandKey; }).length)\r\n                        return \"continue\";\r\n                    this_1.updateBarItem(bar, commandKey);\r\n                };\r\n                var this_1 = this;\r\n                for (var j = 0, commandKey = void 0; commandKey = commandKeys[j]; j++) {\r\n                    _loop_1(j, commandKey);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    BarManager.prototype.updateBarItem = function (bar, commandKey) {\r\n        var command = this.control.commandManager.getCommand(commandKey);\r\n        if (command) {\r\n            var commandState = command.getState();\r\n            bar.setItemVisible(commandKey, commandState.visible);\r\n            if (commandState.visible) {\r\n                bar.setItemEnabled(commandKey, commandState.enabled);\r\n                bar.setItemValue(commandKey, commandState.value);\r\n            }\r\n        }\r\n    };\r\n    return BarManager;\r\n}());\r\nexports.BarManager = BarManager;\r\n\r\n\r\n/***/ })\r\n/******/ ]);\r\n});"]},"metadata":{},"sourceType":"module"}