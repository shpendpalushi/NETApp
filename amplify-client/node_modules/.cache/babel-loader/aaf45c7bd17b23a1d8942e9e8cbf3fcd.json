{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/ui.scheduler.table_creator.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _dom_adapter = require(\"../../core/dom_adapter\");\n\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\n\nvar _element_data = require(\"../../core/element_data\");\n\nvar _element_data2 = _interopRequireDefault(_element_data);\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _type2 = _interopRequireDefault(_type);\n\nvar _dom = require(\"../../core/utils/dom\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar ROW_SELECTOR = \"tr\";\nvar SchedulerTableCreator = {\n  VERTICAL: \"vertical\",\n  HORIZONTAL: \"horizontal\",\n  insertAllDayRow: function insertAllDayRow(allDayElements, tableBody, index) {\n    if (allDayElements[index]) {\n      var row = allDayElements[index].find(ROW_SELECTOR);\n\n      if (!row.length) {\n        row = (0, _renderer2.default)(_dom_adapter2.default.createElement(ROW_SELECTOR));\n        row.append(allDayElements[index].get(0));\n      }\n\n      tableBody.appendChild(row.get ? row.get(0) : row);\n    }\n  },\n  makeTable: function makeTable(options) {\n    var tableBody = _dom_adapter2.default.createElement(\"tbody\");\n\n    var templateCallbacks = [];\n    var row;\n    var rowCountInGroup = options.groupCount ? options.rowCount / options.groupCount : options.rowCount;\n    var allDayElementIndex = 0;\n    var allDayElements = options.allDayElements;\n    var groupIndex = options.groupIndex;\n    var rowCount = options.rowCount;\n    (0, _renderer2.default)(options.container).append(tableBody);\n\n    if (allDayElements) {\n      this.insertAllDayRow(allDayElements, tableBody, 0);\n      allDayElementIndex++;\n    }\n\n    for (var i = 0; i < rowCount; i++) {\n      row = _dom_adapter2.default.createElement(ROW_SELECTOR);\n      tableBody.appendChild(row);\n      var isLastRowInGroup = (i + 1) % rowCountInGroup === 0;\n\n      if (options.rowClass) {\n        row.className = options.rowClass;\n      }\n\n      for (var j = 0; j < options.cellCount; j++) {\n        var td = _dom_adapter2.default.createElement(\"td\");\n\n        row.appendChild(td);\n\n        if (options.cellClass) {\n          if (_type2.default.isFunction(options.cellClass)) {\n            td.className = options.cellClass(i, j);\n          } else {\n            td.className = options.cellClass;\n          }\n        }\n\n        var cellDataObject;\n        var dataKey;\n        var dataValue;\n\n        if (options.getCellData) {\n          cellDataObject = options.getCellData(td, i, j, groupIndex);\n          dataKey = cellDataObject.key;\n          dataValue = cellDataObject.value;\n          dataKey && _element_data2.default.data(td, dataKey, dataValue);\n        }\n\n        if (options.cellTemplate && options.cellTemplate.render) {\n          var templateOptions = {\n            model: {\n              text: options.getCellText ? options.getCellText(i, j) : \"\",\n              date: options.getCellDate ? options.getCellDate(i) : void 0\n            },\n            container: (0, _dom.getPublicElement)((0, _renderer2.default)(td)),\n            index: i * options.cellCount + j\n          };\n\n          if (dataValue) {\n            if (dataValue.startDate) {\n              templateOptions.model.startDate = dataValue.startDate;\n            }\n\n            if (dataValue.endDate) {\n              templateOptions.model.endDate = dataValue.endDate;\n            }\n\n            if (dataValue.groups) {\n              templateOptions.model.groups = dataValue.groups;\n            }\n\n            if (dataValue.allDay) {\n              templateOptions.model.allDay = dataValue.allDay;\n            }\n          }\n\n          templateCallbacks.push(options.cellTemplate.render.bind(options.cellTemplate, templateOptions));\n        } else {\n          if (options.getCellText) {\n            td.innerHTML = \"<div>\" + options.getCellText(i, j) + \"</div>\";\n          }\n        }\n      }\n\n      if (allDayElements && isLastRowInGroup) {\n        this.insertAllDayRow(allDayElements, tableBody, allDayElementIndex);\n        allDayElementIndex++;\n      }\n    }\n\n    return templateCallbacks;\n  },\n  makeGroupedTable: function makeGroupedTable(type, groups, cssClasses, cellCount, cellTemplate, rowCount, groupByDate) {\n    var rows = [];\n\n    if (type === this.VERTICAL) {\n      rows = this._makeVerticalGroupedRows(groups, cssClasses, cellTemplate, rowCount);\n    } else {\n      rows = this._makeHorizontalGroupedRows(groups, cssClasses, cellCount, cellTemplate, groupByDate);\n    }\n\n    return rows;\n  },\n  makeGroupedTableFromJSON: function makeGroupedTableFromJSON(type, data, config) {\n    var table;\n    var cellStorage = [];\n    var rowIndex = 0;\n    config = config || {};\n    var cellTag = config.cellTag || \"td\";\n    var childrenField = config.childrenField || \"children\";\n    var titleField = config.titleField || \"title\";\n    var groupTableClass = config.groupTableClass;\n    var groupRowClass = config.groupRowClass;\n    var groupCellClass = config.groupCellClass;\n    var groupCellCustomContent = config.groupCellCustomContent;\n\n    function createTable() {\n      table = _dom_adapter2.default.createElement(\"table\");\n\n      if (groupTableClass) {\n        table.className = groupTableClass;\n      }\n    }\n\n    function getChildCount(item) {\n      if (item[childrenField]) {\n        return item[childrenField].length;\n      }\n\n      return 0;\n    }\n\n    function createCell(text, childCount, index, data) {\n      var cell = {\n        element: _dom_adapter2.default.createElement(cellTag),\n        childCount: childCount\n      };\n\n      if (groupCellClass) {\n        cell.element.className = groupCellClass;\n      }\n\n      var cellText = _dom_adapter2.default.createTextNode(text);\n\n      if (\"function\" === typeof groupCellCustomContent) {\n        groupCellCustomContent(cell.element, cellText, index, data);\n      } else {\n        cell.element.appendChild(cellText);\n      }\n\n      return cell;\n    }\n\n    function generateCells(data) {\n      for (var i = 0; i < data.length; i++) {\n        var childCount = getChildCount(data[i]);\n        var cell = createCell(data[i][titleField], childCount, i, data[i]);\n\n        if (!cellStorage[rowIndex]) {\n          cellStorage[rowIndex] = [];\n        }\n\n        cellStorage[rowIndex].push(cell);\n\n        if (childCount) {\n          generateCells(data[i][childrenField]);\n        } else {\n          rowIndex++;\n        }\n      }\n    }\n\n    function putCellsToRows() {\n      cellStorage.forEach(function (cells) {\n        var row = _dom_adapter2.default.createElement(ROW_SELECTOR);\n\n        if (groupRowClass) {\n          row.className = groupRowClass;\n        }\n\n        var rowspans = [];\n\n        for (var i = cells.length - 1; i >= 0; i--) {\n          var prev = cells[i + 1];\n          var rowspan = cells[i].childCount;\n\n          if (prev && prev.childCount) {\n            rowspan *= prev.childCount;\n          }\n\n          rowspans.push(rowspan);\n        }\n\n        rowspans.reverse();\n        cells.forEach(function (cell, index) {\n          if (rowspans[index]) {\n            cell.element.setAttribute(\"rowSpan\", rowspans[index]);\n          }\n\n          row.appendChild(cell.element);\n        });\n        table.appendChild(row);\n      });\n    }\n\n    createTable();\n    generateCells(data);\n    putCellsToRows();\n    return table;\n  },\n  _makeFlexGroupedRowCells: function _makeFlexGroupedRowCells(group, repeatCount, cssClasses, cellTemplate) {\n    var repeatByDate = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1;\n    var cells = [];\n    var items = group.items;\n    var itemCount = items.length;\n\n    for (var i = 0; i < repeatCount * repeatByDate; i++) {\n      for (var j = 0; j < itemCount; j++) {\n        var $container = (0, _renderer2.default)(\"<div>\");\n        var cell = {};\n\n        if (cellTemplate && cellTemplate.render) {\n          var templateOptions = {\n            model: items[j],\n            container: (0, _dom.getPublicElement)($container),\n            index: i * itemCount + j\n          };\n\n          if (group.data) {\n            templateOptions.model.data = group.data[j];\n          }\n\n          cell.template = cellTemplate.render.bind(cellTemplate, templateOptions);\n        } else {\n          $container.text(items[j].text).attr(\"title\", items[j].text).addClass(\"dx-scheduler-group-header-content\");\n          $container = (0, _renderer2.default)(\"<div>\").append($container);\n        }\n\n        var cssClass = _type2.default.isFunction(cssClasses.groupHeaderClass) ? cssClasses.groupHeaderClass(j) : cssClasses.groupHeaderClass;\n        cell.element = $container.addClass(cssClass);\n        cells.push(cell);\n      }\n    }\n\n    return cells;\n  },\n  _makeVerticalGroupedRows: function _makeVerticalGroupedRows(groups, cssClasses, cellTemplate) {\n    var cellTemplates = [];\n    var repeatCount = 1;\n    var cellsArray = [];\n\n    var cellIterator = function cellIterator(cell) {\n      if (cell.template) {\n        cellTemplates.push(cell.template);\n      }\n    };\n\n    for (var i = 0; i < groups.length; i++) {\n      if (i > 0) {\n        repeatCount = groups[i - 1].items.length * repeatCount;\n      }\n\n      var cells = this._makeFlexGroupedRowCells(groups[i], repeatCount, cssClasses, cellTemplate);\n\n      cells.forEach(cellIterator);\n      cellsArray.push(cells);\n    }\n\n    var rows = [];\n    var groupCount = cellsArray.length;\n\n    for (var _i = 0; _i < groupCount; _i++) {\n      rows.push((0, _renderer2.default)(\"<div>\").addClass(cssClasses.groupHeaderRowClass));\n    }\n\n    for (var _i2 = groupCount - 1; _i2 >= 0; _i2--) {\n      var currentColumnLength = cellsArray[_i2].length;\n\n      for (var j = 0; j < currentColumnLength; j++) {\n        rows[_i2].append(cellsArray[_i2][j].element);\n      }\n    }\n\n    return {\n      elements: (0, _renderer2.default)(\"<div>\").addClass(\"dx-scheduler-group-flex-container\").append(rows),\n      cellTemplates: cellTemplates\n    };\n  },\n  _makeHorizontalGroupedRows: function _makeHorizontalGroupedRows(groups, cssClasses, cellCount, cellTemplate, groupByDate) {\n    var repeatCount = 1;\n    var groupCount = groups.length;\n    var rows = [];\n    var cellTemplates = [];\n    var repeatByDate = groupByDate ? cellCount : 1;\n\n    var cellIterator = function cellIterator(cell) {\n      if (cell.template) {\n        cellTemplates.push(cell.template);\n      }\n\n      return cell.element;\n    };\n\n    for (var i = 0; i < groupCount; i++) {\n      if (i > 0) {\n        repeatCount = groups[i - 1].items.length * repeatCount;\n      }\n\n      var cells = this._makeGroupedRowCells(groups[i], repeatCount, cssClasses, cellTemplate, repeatByDate);\n\n      rows.push((0, _renderer2.default)(\"<tr>\").addClass(cssClasses.groupRowClass).append(cells.map(cellIterator)));\n    }\n\n    var maxCellCount = rows[groupCount - 1].find(\"th\").length;\n\n    for (var j = 0; j < groupCount; j++) {\n      var $cell = rows[j].find(\"th\");\n      var colspan = maxCellCount / $cell.length;\n\n      if (!groupByDate) {\n        colspan *= cellCount;\n      }\n\n      if (colspan > 1 && 1 === repeatByDate || groupByDate && groupCount > 1) {\n        $cell.attr(\"colSpan\", colspan);\n      }\n    }\n\n    return {\n      elements: rows,\n      cellTemplates: cellTemplates\n    };\n  },\n  _makeGroupedRowCells: function _makeGroupedRowCells(group, repeatCount, cssClasses, cellTemplate, repeatByDate) {\n    repeatByDate = repeatByDate || 1;\n    repeatCount *= repeatByDate;\n    var cells = [];\n    var items = group.items;\n    var itemCount = items.length;\n\n    for (var i = 0; i < repeatCount; i++) {\n      for (var j = 0; j < itemCount; j++) {\n        var $container = (0, _renderer2.default)(\"<div>\");\n        var cell = {};\n\n        if (cellTemplate && cellTemplate.render) {\n          var templateOptions = {\n            model: items[j],\n            container: (0, _dom.getPublicElement)($container),\n            index: i * itemCount + j\n          };\n\n          if (group.data) {\n            templateOptions.model.data = group.data[j];\n          }\n\n          cell.template = cellTemplate.render.bind(cellTemplate, templateOptions);\n        } else {\n          $container.text(items[j].text);\n          $container = (0, _renderer2.default)(\"<div>\").append($container);\n        }\n\n        $container.addClass(cssClasses.groupHeaderContentClass);\n        var cssClass;\n\n        if (_type2.default.isFunction(cssClasses.groupHeaderClass)) {\n          cssClass = cssClasses.groupHeaderClass(j);\n        } else {\n          cssClass = cssClasses.groupHeaderClass;\n        }\n\n        cell.element = (0, _renderer2.default)(\"<th>\").addClass(cssClass).append($container);\n        cells.push(cell);\n      }\n    }\n\n    return cells;\n  }\n};\nmodule.exports = SchedulerTableCreator;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/scheduler/ui.scheduler.table_creator.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_dom_adapter","_dom_adapter2","_element_data","_element_data2","_type","_type2","_dom","obj","ROW_SELECTOR","SchedulerTableCreator","VERTICAL","HORIZONTAL","insertAllDayRow","allDayElements","row","tableBody","makeTable","templateCallbacks","rowCountInGroup","options","allDayElementIndex","groupIndex","rowCount","i","isLastRowInGroup","j","td","cellDataObject","dataKey","dataValue","templateOptions","model","text","date","container","index","makeGroupedTable","rows","type","makeGroupedTableFromJSON","cellStorage","rowIndex","config","cellTag","childrenField","titleField","groupTableClass","groupRowClass","groupCellClass","groupCellCustomContent","table","item","cell","element","childCount","cellText","data","getChildCount","createCell","generateCells","rowspans","cells","prev","rowspan","createTable","putCellsToRows","_makeFlexGroupedRowCells","repeatByDate","arguments","items","group","itemCount","repeatCount","$container","cellTemplate","cssClass","cssClasses","_makeVerticalGroupedRows","cellTemplates","cellsArray","cellIterator","groups","groupCount","_i","_i2","currentColumnLength","elements","_makeHorizontalGroupedRows","groupByDate","maxCellCount","$cell","colspan","_makeGroupedRowCells","module"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,SAAS,GAAGC,OAAO,CAAvB,qBAAuB,CAAvB;;AACA,IAAIC,UAAU,GAAGC,sBAAsB,CAAvC,SAAuC,CAAvC;;AACA,IAAIC,YAAY,GAAGH,OAAO,CAA1B,wBAA0B,CAA1B;;AACA,IAAII,aAAa,GAAGF,sBAAsB,CAA1C,YAA0C,CAA1C;;AACA,IAAIG,aAAa,GAAGL,OAAO,CAA3B,yBAA2B,CAA3B;;AACA,IAAIM,cAAc,GAAGJ,sBAAsB,CAA3C,aAA2C,CAA3C;;AACA,IAAIK,KAAK,GAAGP,OAAO,CAAnB,uBAAmB,CAAnB;;AACA,IAAIQ,MAAM,GAAGN,sBAAsB,CAAnC,KAAmC,CAAnC;;AACA,IAAIO,IAAI,GAAGT,OAAO,CAAlB,sBAAkB,CAAlB;;AAEA,SAAA,sBAAA,CAAA,GAAA,EAAqC;AACjC,SAAOU,GAAG,IAAIA,GAAG,CAAVA,UAAAA,GAAAA,GAAAA,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AACD,IAAIC,YAAY,GAAhB,IAAA;AACA,IAAIC,qBAAqB,GAAG;AACxBC,EAAAA,QAAQ,EADgB,UAAA;AAExBC,EAAAA,UAAU,EAFc,YAAA;AAGxBC,EAAAA,eAAe,EAAE,SAAA,eAAA,CAAA,cAAA,EAAA,SAAA,EAAA,KAAA,EAA2C;AACxD,QAAIC,cAAc,CAAlB,KAAkB,CAAlB,EAA2B;AACvB,UAAIC,GAAG,GAAGD,cAAc,CAAdA,KAAc,CAAdA,CAAAA,IAAAA,CAAV,YAAUA,CAAV;;AACA,UAAI,CAACC,GAAG,CAAR,MAAA,EAAiB;AACbA,QAAAA,GAAG,GAAG,CAAC,GAAGhB,UAAU,CAAd,OAAA,EAAwBG,aAAa,CAAbA,OAAAA,CAAAA,aAAAA,CAA9Ba,YAA8Bb,CAAxB,CAANa;AACAA,QAAAA,GAAG,CAAHA,MAAAA,CAAWD,cAAc,CAAdA,KAAc,CAAdA,CAAAA,GAAAA,CAAXC,CAAWD,CAAXC;AACH;;AACDC,MAAAA,SAAS,CAATA,WAAAA,CAAsBD,GAAG,CAAHA,GAAAA,GAAUA,GAAG,CAAHA,GAAAA,CAAVA,CAAUA,CAAVA,GAAtBC,GAAAA;AACH;AAXmB,GAAA;AAaxBC,EAAAA,SAAS,EAAE,SAAA,SAAA,CAAA,OAAA,EAAkB;AACzB,QAAID,SAAS,GAAGd,aAAa,CAAbA,OAAAA,CAAAA,aAAAA,CAAhB,OAAgBA,CAAhB;;AACA,QAAIgB,iBAAiB,GAArB,EAAA;AACA,QAAA,GAAA;AACA,QAAIC,eAAe,GAAGC,OAAO,CAAPA,UAAAA,GAAqBA,OAAO,CAAPA,QAAAA,GAAmBA,OAAO,CAA/CA,UAAAA,GAA6DA,OAAO,CAA1F,QAAA;AACA,QAAIC,kBAAkB,GAAtB,CAAA;AACA,QAAIP,cAAc,GAAGM,OAAO,CAA5B,cAAA;AACA,QAAIE,UAAU,GAAGF,OAAO,CAAxB,UAAA;AACA,QAAIG,QAAQ,GAAGH,OAAO,CAAtB,QAAA;AACA,KAAC,GAAGrB,UAAU,CAAd,OAAA,EAAwBqB,OAAO,CAA/B,SAAA,EAAA,MAAA,CAAA,SAAA;;AACA,QAAA,cAAA,EAAoB;AAChB,WAAA,eAAA,CAAA,cAAA,EAAA,SAAA,EAAA,CAAA;AACAC,MAAAA,kBAAkB;AACrB;;AACD,SAAK,IAAIG,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,QAAA,EAA8BA,CAA9B,EAAA,EAAmC;AAC/BT,MAAAA,GAAG,GAAGb,aAAa,CAAbA,OAAAA,CAAAA,aAAAA,CAANa,YAAMb,CAANa;AACAC,MAAAA,SAAS,CAATA,WAAAA,CAAAA,GAAAA;AACA,UAAIS,gBAAgB,GAAG,CAACD,CAAC,GAAF,CAAA,IAAA,eAAA,KAAvB,CAAA;;AACA,UAAIJ,OAAO,CAAX,QAAA,EAAsB;AAClBL,QAAAA,GAAG,CAAHA,SAAAA,GAAgBK,OAAO,CAAvBL,QAAAA;AACH;;AACD,WAAK,IAAIW,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGN,OAAO,CAA3B,SAAA,EAAuCM,CAAvC,EAAA,EAA4C;AACxC,YAAIC,EAAE,GAAGzB,aAAa,CAAbA,OAAAA,CAAAA,aAAAA,CAAT,IAASA,CAAT;;AACAa,QAAAA,GAAG,CAAHA,WAAAA,CAAAA,EAAAA;;AACA,YAAIK,OAAO,CAAX,SAAA,EAAuB;AACnB,cAAId,MAAM,CAANA,OAAAA,CAAAA,UAAAA,CAA0Bc,OAAO,CAArC,SAAId,CAAJ,EAAkD;AAC9CqB,YAAAA,EAAE,CAAFA,SAAAA,GAAeP,OAAO,CAAPA,SAAAA,CAAAA,CAAAA,EAAfO,CAAeP,CAAfO;AADJ,WAAA,MAEO;AACHA,YAAAA,EAAE,CAAFA,SAAAA,GAAeP,OAAO,CAAtBO,SAAAA;AACH;AACJ;;AACD,YAAA,cAAA;AACA,YAAA,OAAA;AACA,YAAA,SAAA;;AACA,YAAIP,OAAO,CAAX,WAAA,EAAyB;AACrBQ,UAAAA,cAAc,GAAGR,OAAO,CAAPA,WAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAjBQ,UAAiBR,CAAjBQ;AACAC,UAAAA,OAAO,GAAGD,cAAc,CAAxBC,GAAAA;AACAC,UAAAA,SAAS,GAAGF,cAAc,CAA1BE,KAAAA;AACAD,UAAAA,OAAO,IAAIzB,cAAc,CAAdA,OAAAA,CAAAA,IAAAA,CAAAA,EAAAA,EAAAA,OAAAA,EAAXyB,SAAWzB,CAAXyB;AACH;;AACD,YAAIT,OAAO,CAAPA,YAAAA,IAAwBA,OAAO,CAAPA,YAAAA,CAA5B,MAAA,EAAyD;AACrD,cAAIW,eAAe,GAAG;AAClBC,YAAAA,KAAK,EAAE;AACHC,cAAAA,IAAI,EAAEb,OAAO,CAAPA,WAAAA,GAAsBA,OAAO,CAAPA,WAAAA,CAAAA,CAAAA,EAAtBA,CAAsBA,CAAtBA,GADH,EAAA;AAEHc,cAAAA,IAAI,EAAEd,OAAO,CAAPA,WAAAA,GAAsBA,OAAO,CAAPA,WAAAA,CAAtBA,CAAsBA,CAAtBA,GAA+C,KAAK;AAFvD,aADW;AAKlBe,YAAAA,SAAS,EAAE,CAAC,GAAG5B,IAAI,CAAR,gBAAA,EAA2B,CAAC,GAAGR,UAAU,CAAd,OAAA,EALpB,EAKoB,CAA3B,CALO;AAMlBqC,YAAAA,KAAK,EAAEZ,CAAC,GAAGJ,OAAO,CAAXI,SAAAA,GAAwBE;AANb,WAAtB;;AAQA,cAAA,SAAA,EAAe;AACX,gBAAII,SAAS,CAAb,SAAA,EAAyB;AACrBC,cAAAA,eAAe,CAAfA,KAAAA,CAAAA,SAAAA,GAAkCD,SAAS,CAA3CC,SAAAA;AACH;;AACD,gBAAID,SAAS,CAAb,OAAA,EAAuB;AACnBC,cAAAA,eAAe,CAAfA,KAAAA,CAAAA,OAAAA,GAAgCD,SAAS,CAAzCC,OAAAA;AACH;;AACD,gBAAID,SAAS,CAAb,MAAA,EAAsB;AAClBC,cAAAA,eAAe,CAAfA,KAAAA,CAAAA,MAAAA,GAA+BD,SAAS,CAAxCC,MAAAA;AACH;;AACD,gBAAID,SAAS,CAAb,MAAA,EAAsB;AAClBC,cAAAA,eAAe,CAAfA,KAAAA,CAAAA,MAAAA,GAA+BD,SAAS,CAAxCC,MAAAA;AACH;AACJ;;AACDb,UAAAA,iBAAiB,CAAjBA,IAAAA,CAAuBE,OAAO,CAAPA,YAAAA,CAAAA,MAAAA,CAAAA,IAAAA,CAAiCA,OAAO,CAAxCA,YAAAA,EAAvBF,eAAuBE,CAAvBF;AAvBJ,SAAA,MAwBO;AACH,cAAIE,OAAO,CAAX,WAAA,EAAyB;AACrBO,YAAAA,EAAE,CAAFA,SAAAA,GAAe,UAAUP,OAAO,CAAPA,WAAAA,CAAAA,CAAAA,EAAV,CAAUA,CAAV,GAAfO,QAAAA;AACH;AACJ;AACJ;;AACD,UAAIb,cAAc,IAAlB,gBAAA,EAAwC;AACpC,aAAA,eAAA,CAAA,cAAA,EAAA,SAAA,EAAA,kBAAA;AACAO,QAAAA,kBAAkB;AACrB;AACJ;;AACD,WAAA,iBAAA;AAxFoB,GAAA;AA0FxBgB,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,IAAA,EAAA,MAAA,EAAA,UAAA,EAAA,SAAA,EAAA,YAAA,EAAA,QAAA,EAAA,WAAA,EAAmF;AACjG,QAAIC,IAAI,GAAR,EAAA;;AACA,QAAIC,IAAI,KAAK,KAAb,QAAA,EAA4B;AACxBD,MAAAA,IAAI,GAAG,KAAA,wBAAA,CAAA,MAAA,EAAA,UAAA,EAAA,YAAA,EAAPA,QAAO,CAAPA;AADJ,KAAA,MAEO;AACHA,MAAAA,IAAI,GAAG,KAAA,0BAAA,CAAA,MAAA,EAAA,UAAA,EAAA,SAAA,EAAA,YAAA,EAAPA,WAAO,CAAPA;AACH;;AACD,WAAA,IAAA;AAjGoB,GAAA;AAmGxBE,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,CAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAA6B;AACnD,QAAA,KAAA;AACA,QAAIC,WAAW,GAAf,EAAA;AACA,QAAIC,QAAQ,GAAZ,CAAA;AACAC,IAAAA,MAAM,GAAGA,MAAM,IAAfA,EAAAA;AACA,QAAIC,OAAO,GAAGD,MAAM,CAANA,OAAAA,IAAd,IAAA;AACA,QAAIE,aAAa,GAAGF,MAAM,CAANA,aAAAA,IAApB,UAAA;AACA,QAAIG,UAAU,GAAGH,MAAM,CAANA,UAAAA,IAAjB,OAAA;AACA,QAAII,eAAe,GAAGJ,MAAM,CAA5B,eAAA;AACA,QAAIK,aAAa,GAAGL,MAAM,CAA1B,aAAA;AACA,QAAIM,cAAc,GAAGN,MAAM,CAA3B,cAAA;AACA,QAAIO,sBAAsB,GAAGP,MAAM,CAAnC,sBAAA;;AAEA,aAAA,WAAA,GAAuB;AACnBQ,MAAAA,KAAK,GAAGjD,aAAa,CAAbA,OAAAA,CAAAA,aAAAA,CAARiD,OAAQjD,CAARiD;;AACA,UAAA,eAAA,EAAqB;AACjBA,QAAAA,KAAK,CAALA,SAAAA,GAAAA,eAAAA;AACH;AACJ;;AAED,aAAA,aAAA,CAAA,IAAA,EAA6B;AACzB,UAAIC,IAAI,CAAR,aAAQ,CAAR,EAAyB;AACrB,eAAOA,IAAI,CAAJA,aAAI,CAAJA,CAAP,MAAA;AACH;;AACD,aAAA,CAAA;AACH;;AAED,aAAA,UAAA,CAAA,IAAA,EAAA,UAAA,EAAA,KAAA,EAAA,IAAA,EAAmD;AAC/C,UAAIC,IAAI,GAAG;AACPC,QAAAA,OAAO,EAAEpD,aAAa,CAAbA,OAAAA,CAAAA,aAAAA,CADF,OACEA,CADF;AAEPqD,QAAAA,UAAU,EAAEA;AAFL,OAAX;;AAIA,UAAA,cAAA,EAAoB;AAChBF,QAAAA,IAAI,CAAJA,OAAAA,CAAAA,SAAAA,GAAAA,cAAAA;AACH;;AACD,UAAIG,QAAQ,GAAGtD,aAAa,CAAbA,OAAAA,CAAAA,cAAAA,CAAf,IAAeA,CAAf;;AACA,UAAI,eAAe,OAAnB,sBAAA,EAAkD;AAC9CgD,QAAAA,sBAAsB,CAACG,IAAI,CAAL,OAAA,EAAA,QAAA,EAAA,KAAA,EAAtBH,IAAsB,CAAtBA;AADJ,OAAA,MAEO;AACHG,QAAAA,IAAI,CAAJA,OAAAA,CAAAA,WAAAA,CAAAA,QAAAA;AACH;;AACD,aAAA,IAAA;AACH;;AAED,aAAA,aAAA,CAAA,IAAA,EAA6B;AACzB,WAAK,IAAI7B,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGiC,IAAI,CAAxB,MAAA,EAAiCjC,CAAjC,EAAA,EAAsC;AAClC,YAAI+B,UAAU,GAAGG,aAAa,CAACD,IAAI,CAAnC,CAAmC,CAAL,CAA9B;AACA,YAAIJ,IAAI,GAAGM,UAAU,CAACF,IAAI,CAAJA,CAAI,CAAJA,CAAD,UAACA,CAAD,EAAA,UAAA,EAAA,CAAA,EAAqCA,IAAI,CAA9D,CAA8D,CAAzC,CAArB;;AACA,YAAI,CAAChB,WAAW,CAAhB,QAAgB,CAAhB,EAA4B;AACxBA,UAAAA,WAAW,CAAXA,QAAW,CAAXA,GAAAA,EAAAA;AACH;;AACDA,QAAAA,WAAW,CAAXA,QAAW,CAAXA,CAAAA,IAAAA,CAAAA,IAAAA;;AACA,YAAA,UAAA,EAAgB;AACZmB,UAAAA,aAAa,CAACH,IAAI,CAAJA,CAAI,CAAJA,CAAdG,aAAcH,CAAD,CAAbG;AADJ,SAAA,MAEO;AACHlB,UAAAA,QAAQ;AACX;AACJ;AACJ;;AAED,aAAA,cAAA,GAA0B;AACtBD,MAAAA,WAAW,CAAXA,OAAAA,CAAoB,UAAA,KAAA,EAAgB;AAChC,YAAI1B,GAAG,GAAGb,aAAa,CAAbA,OAAAA,CAAAA,aAAAA,CAAV,YAAUA,CAAV;;AACA,YAAA,aAAA,EAAmB;AACfa,UAAAA,GAAG,CAAHA,SAAAA,GAAAA,aAAAA;AACH;;AACD,YAAI8C,QAAQ,GAAZ,EAAA;;AACA,aAAK,IAAIrC,CAAC,GAAGsC,KAAK,CAALA,MAAAA,GAAb,CAAA,EAA+BtC,CAAC,IAAhC,CAAA,EAAuCA,CAAvC,EAAA,EAA4C;AACxC,cAAIuC,IAAI,GAAGD,KAAK,CAACtC,CAAC,GAAlB,CAAgB,CAAhB;AACA,cAAIwC,OAAO,GAAGF,KAAK,CAALA,CAAK,CAALA,CAAd,UAAA;;AACA,cAAIC,IAAI,IAAIA,IAAI,CAAhB,UAAA,EAA6B;AACzBC,YAAAA,OAAO,IAAID,IAAI,CAAfC,UAAAA;AACH;;AACDH,UAAAA,QAAQ,CAARA,IAAAA,CAAAA,OAAAA;AACH;;AACDA,QAAAA,QAAQ,CAARA,OAAAA;AACAC,QAAAA,KAAK,CAALA,OAAAA,CAAc,UAAA,IAAA,EAAA,KAAA,EAAsB;AAChC,cAAID,QAAQ,CAAZ,KAAY,CAAZ,EAAqB;AACjBR,YAAAA,IAAI,CAAJA,OAAAA,CAAAA,YAAAA,CAAAA,SAAAA,EAAqCQ,QAAQ,CAA7CR,KAA6C,CAA7CA;AACH;;AACDtC,UAAAA,GAAG,CAAHA,WAAAA,CAAgBsC,IAAI,CAApBtC,OAAAA;AAJJ+C,SAAAA;AAMAX,QAAAA,KAAK,CAALA,WAAAA,CAAAA,GAAAA;AArBJV,OAAAA;AAuBH;;AACDwB,IAAAA,WAAW;AACXL,IAAAA,aAAa,CAAbA,IAAa,CAAbA;AACAM,IAAAA,cAAc;AACd,WAAA,KAAA;AA3LoB,GAAA;AA6LxBC,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,CAAA,KAAA,EAAA,WAAA,EAAA,UAAA,EAAA,YAAA,EAAuD;AAC7E,QAAIC,YAAY,GAAGC,SAAS,CAATA,MAAAA,GAAAA,CAAAA,IAAwB,KAAA,CAAA,KAAWA,SAAS,CAA5CA,CAA4C,CAA5CA,GAAkDA,SAAS,CAA3DA,CAA2D,CAA3DA,GAAnB,CAAA;AACA,QAAIP,KAAK,GAAT,EAAA;AACA,QAAIQ,KAAK,GAAGC,KAAK,CAAjB,KAAA;AACA,QAAIC,SAAS,GAAGF,KAAK,CAArB,MAAA;;AACA,SAAK,IAAI9C,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGiD,WAAW,GAA/B,YAAA,EAAgDjD,CAAhD,EAAA,EAAqD;AACjD,WAAK,IAAIE,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,SAAA,EAA+BA,CAA/B,EAAA,EAAoC;AAChC,YAAIgD,UAAU,GAAG,CAAC,GAAG3E,UAAU,CAAd,OAAA,EAAjB,OAAiB,CAAjB;AACA,YAAIsD,IAAI,GAAR,EAAA;;AACA,YAAIsB,YAAY,IAAIA,YAAY,CAAhC,MAAA,EAAyC;AACrC,cAAI5C,eAAe,GAAG;AAClBC,YAAAA,KAAK,EAAEsC,KAAK,CADM,CACN,CADM;AAElBnC,YAAAA,SAAS,EAAE,CAAC,GAAG5B,IAAI,CAAR,gBAAA,EAFO,UAEP,CAFO;AAGlB6B,YAAAA,KAAK,EAAEZ,CAAC,GAADA,SAAAA,GAAgBE;AAHL,WAAtB;;AAKA,cAAI6C,KAAK,CAAT,IAAA,EAAgB;AACZxC,YAAAA,eAAe,CAAfA,KAAAA,CAAAA,IAAAA,GAA6BwC,KAAK,CAALA,IAAAA,CAA7BxC,CAA6BwC,CAA7BxC;AACH;;AACDsB,UAAAA,IAAI,CAAJA,QAAAA,GAAgBsB,YAAY,CAAZA,MAAAA,CAAAA,IAAAA,CAAAA,YAAAA,EAAhBtB,eAAgBsB,CAAhBtB;AATJ,SAAA,MAUO;AACHqB,UAAAA,UAAU,CAAVA,IAAAA,CAAgBJ,KAAK,CAALA,CAAK,CAALA,CAAhBI,IAAAA,EAAAA,IAAAA,CAAAA,OAAAA,EAA6CJ,KAAK,CAALA,CAAK,CAALA,CAA7CI,IAAAA,EAAAA,QAAAA,CAAAA,mCAAAA;AACAA,UAAAA,UAAU,GAAG,CAAC,GAAG3E,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,MAAA,CAAb2E,UAAa,CAAbA;AACH;;AACD,YAAIE,QAAQ,GAAGtE,MAAM,CAANA,OAAAA,CAAAA,UAAAA,CAA0BuE,UAAU,CAApCvE,gBAAAA,IAAyDuE,UAAU,CAAVA,gBAAAA,CAAzDvE,CAAyDuE,CAAzDvE,GAA0FuE,UAAU,CAAnH,gBAAA;AACAxB,QAAAA,IAAI,CAAJA,OAAAA,GAAeqB,UAAU,CAAVA,QAAAA,CAAfrB,QAAeqB,CAAfrB;AACAS,QAAAA,KAAK,CAALA,IAAAA,CAAAA,IAAAA;AACH;AACJ;;AACD,WAAA,KAAA;AAzNoB,GAAA;AA2NxBgB,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,CAAA,MAAA,EAAA,UAAA,EAAA,YAAA,EAA2C;AACjE,QAAIC,aAAa,GAAjB,EAAA;AACA,QAAIN,WAAW,GAAf,CAAA;AACA,QAAIO,UAAU,GAAd,EAAA;;AACA,QAAIC,YAAY,GAAG,SAAfA,YAAe,CAAA,IAAA,EAAe;AAC9B,UAAI5B,IAAI,CAAR,QAAA,EAAmB;AACf0B,QAAAA,aAAa,CAAbA,IAAAA,CAAmB1B,IAAI,CAAvB0B,QAAAA;AACH;AAHL,KAAA;;AAKA,SAAK,IAAIvD,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAG0D,MAAM,CAA1B,MAAA,EAAmC1D,CAAnC,EAAA,EAAwC;AACpC,UAAIA,CAAC,GAAL,CAAA,EAAW;AACPiD,QAAAA,WAAW,GAAGS,MAAM,CAAC1D,CAAC,GAAR0D,CAAM,CAANA,CAAAA,KAAAA,CAAAA,MAAAA,GAAdT,WAAAA;AACH;;AACD,UAAIX,KAAK,GAAG,KAAA,wBAAA,CAA8BoB,MAAM,CAApC,CAAoC,CAApC,EAAA,WAAA,EAAA,UAAA,EAAZ,YAAY,CAAZ;;AACApB,MAAAA,KAAK,CAALA,OAAAA,CAAAA,YAAAA;AACAkB,MAAAA,UAAU,CAAVA,IAAAA,CAAAA,KAAAA;AACH;;AACD,QAAI1C,IAAI,GAAR,EAAA;AACA,QAAI6C,UAAU,GAAGH,UAAU,CAA3B,MAAA;;AACA,SAAK,IAAII,EAAE,GAAX,CAAA,EAAiBA,EAAE,GAAnB,UAAA,EAAkCA,EAAlC,EAAA,EAAwC;AACpC9C,MAAAA,IAAI,CAAJA,IAAAA,CAAU,CAAC,GAAGvC,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAA0C8E,UAAU,CAA9DvC,mBAAU,CAAVA;AACH;;AACD,SAAK,IAAI+C,GAAG,GAAGF,UAAU,GAAzB,CAAA,EAA+BE,GAAG,IAAlC,CAAA,EAAyCA,GAAzC,EAAA,EAAgD;AAC5C,UAAIC,mBAAmB,GAAGN,UAAU,CAAVA,GAAU,CAAVA,CAA1B,MAAA;;AACA,WAAK,IAAItD,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,mBAAA,EAAyCA,CAAzC,EAAA,EAA8C;AAC1CY,QAAAA,IAAI,CAAJA,GAAI,CAAJA,CAAAA,MAAAA,CAAiB0C,UAAU,CAAVA,GAAU,CAAVA,CAAAA,CAAAA,EAAjB1C,OAAAA;AACH;AACJ;;AACD,WAAO;AACHiD,MAAAA,QAAQ,EAAE,CAAC,GAAGxF,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAAA,mCAAA,EAAA,MAAA,CADP,IACO,CADP;AAEHgF,MAAAA,aAAa,EAAEA;AAFZ,KAAP;AAvPoB,GAAA;AA4PxBS,EAAAA,0BAA0B,EAAE,SAAA,0BAAA,CAAA,MAAA,EAAA,UAAA,EAAA,SAAA,EAAA,YAAA,EAAA,WAAA,EAAmE;AAC3F,QAAIf,WAAW,GAAf,CAAA;AACA,QAAIU,UAAU,GAAGD,MAAM,CAAvB,MAAA;AACA,QAAI5C,IAAI,GAAR,EAAA;AACA,QAAIyC,aAAa,GAAjB,EAAA;AACA,QAAIX,YAAY,GAAGqB,WAAW,GAAA,SAAA,GAA9B,CAAA;;AACA,QAAIR,YAAY,GAAG,SAAfA,YAAe,CAAA,IAAA,EAAe;AAC9B,UAAI5B,IAAI,CAAR,QAAA,EAAmB;AACf0B,QAAAA,aAAa,CAAbA,IAAAA,CAAmB1B,IAAI,CAAvB0B,QAAAA;AACH;;AACD,aAAO1B,IAAI,CAAX,OAAA;AAJJ,KAAA;;AAMA,SAAK,IAAI7B,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,UAAA,EAAgCA,CAAhC,EAAA,EAAqC;AACjC,UAAIA,CAAC,GAAL,CAAA,EAAW;AACPiD,QAAAA,WAAW,GAAGS,MAAM,CAAC1D,CAAC,GAAR0D,CAAM,CAANA,CAAAA,KAAAA,CAAAA,MAAAA,GAAdT,WAAAA;AACH;;AACD,UAAIX,KAAK,GAAG,KAAA,oBAAA,CAA0BoB,MAAM,CAAhC,CAAgC,CAAhC,EAAA,WAAA,EAAA,UAAA,EAAA,YAAA,EAAZ,YAAY,CAAZ;;AACA5C,MAAAA,IAAI,CAAJA,IAAAA,CAAU,CAAC,GAAGvC,UAAU,CAAd,OAAA,EAAA,MAAA,EAAA,QAAA,CAAyC8E,UAAU,CAAnD,aAAA,EAAA,MAAA,CAA0Ef,KAAK,CAALA,GAAAA,CAApFxB,YAAoFwB,CAA1E,CAAVxB;AACH;;AACD,QAAIoD,YAAY,GAAGpD,IAAI,CAAC6C,UAAU,GAAf7C,CAAI,CAAJA,CAAAA,IAAAA,CAAAA,IAAAA,EAAnB,MAAA;;AACA,SAAK,IAAIZ,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,UAAA,EAAgCA,CAAhC,EAAA,EAAqC;AACjC,UAAIiE,KAAK,GAAGrD,IAAI,CAAJA,CAAI,CAAJA,CAAAA,IAAAA,CAAZ,IAAYA,CAAZ;AACA,UAAIsD,OAAO,GAAGF,YAAY,GAAGC,KAAK,CAAlC,MAAA;;AACA,UAAI,CAAJ,WAAA,EAAkB;AACdC,QAAAA,OAAO,IAAPA,SAAAA;AACH;;AACD,UAAIA,OAAO,GAAPA,CAAAA,IAAe,MAAfA,YAAAA,IAAqCH,WAAW,IAAIN,UAAU,GAAlE,CAAA,EAAwE;AACpEQ,QAAAA,KAAK,CAALA,IAAAA,CAAAA,SAAAA,EAAAA,OAAAA;AACH;AACJ;;AACD,WAAO;AACHJ,MAAAA,QAAQ,EADL,IAAA;AAEHR,MAAAA,aAAa,EAAEA;AAFZ,KAAP;AA1RoB,GAAA;AA+RxBc,EAAAA,oBAAoB,EAAE,SAAA,oBAAA,CAAA,KAAA,EAAA,WAAA,EAAA,UAAA,EAAA,YAAA,EAAA,YAAA,EAAqE;AACvFzB,IAAAA,YAAY,GAAGA,YAAY,IAA3BA,CAAAA;AACAK,IAAAA,WAAW,IAAXA,YAAAA;AACA,QAAIX,KAAK,GAAT,EAAA;AACA,QAAIQ,KAAK,GAAGC,KAAK,CAAjB,KAAA;AACA,QAAIC,SAAS,GAAGF,KAAK,CAArB,MAAA;;AACA,SAAK,IAAI9C,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,WAAA,EAAiCA,CAAjC,EAAA,EAAsC;AAClC,WAAK,IAAIE,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,SAAA,EAA+BA,CAA/B,EAAA,EAAoC;AAChC,YAAIgD,UAAU,GAAG,CAAC,GAAG3E,UAAU,CAAd,OAAA,EAAjB,OAAiB,CAAjB;AACA,YAAIsD,IAAI,GAAR,EAAA;;AACA,YAAIsB,YAAY,IAAIA,YAAY,CAAhC,MAAA,EAAyC;AACrC,cAAI5C,eAAe,GAAG;AAClBC,YAAAA,KAAK,EAAEsC,KAAK,CADM,CACN,CADM;AAElBnC,YAAAA,SAAS,EAAE,CAAC,GAAG5B,IAAI,CAAR,gBAAA,EAFO,UAEP,CAFO;AAGlB6B,YAAAA,KAAK,EAAEZ,CAAC,GAADA,SAAAA,GAAgBE;AAHL,WAAtB;;AAKA,cAAI6C,KAAK,CAAT,IAAA,EAAgB;AACZxC,YAAAA,eAAe,CAAfA,KAAAA,CAAAA,IAAAA,GAA6BwC,KAAK,CAALA,IAAAA,CAA7BxC,CAA6BwC,CAA7BxC;AACH;;AACDsB,UAAAA,IAAI,CAAJA,QAAAA,GAAgBsB,YAAY,CAAZA,MAAAA,CAAAA,IAAAA,CAAAA,YAAAA,EAAhBtB,eAAgBsB,CAAhBtB;AATJ,SAAA,MAUO;AACHqB,UAAAA,UAAU,CAAVA,IAAAA,CAAgBJ,KAAK,CAALA,CAAK,CAALA,CAAhBI,IAAAA;AACAA,UAAAA,UAAU,GAAG,CAAC,GAAG3E,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,MAAA,CAAb2E,UAAa,CAAbA;AACH;;AACDA,QAAAA,UAAU,CAAVA,QAAAA,CAAoBG,UAAU,CAA9BH,uBAAAA;AACA,YAAA,QAAA;;AACA,YAAIpE,MAAM,CAANA,OAAAA,CAAAA,UAAAA,CAA0BuE,UAAU,CAAxC,gBAAIvE,CAAJ,EAA4D;AACxDsE,UAAAA,QAAQ,GAAGC,UAAU,CAAVA,gBAAAA,CAAXD,CAAWC,CAAXD;AADJ,SAAA,MAEO;AACHA,UAAAA,QAAQ,GAAGC,UAAU,CAArBD,gBAAAA;AACH;;AACDvB,QAAAA,IAAI,CAAJA,OAAAA,GAAe,CAAC,GAAGtD,UAAU,CAAd,OAAA,EAAA,MAAA,EAAA,QAAA,CAAA,QAAA,EAAA,MAAA,CAAfsD,UAAe,CAAfA;AACAS,QAAAA,KAAK,CAALA,IAAAA,CAAAA,IAAAA;AACH;AACJ;;AACD,WAAA,KAAA;AACH;AAnUuB,CAA5B;AAqUAgC,MAAM,CAANA,OAAAA,GAAAA,qBAAAA","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/ui.scheduler.table_creator.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _dom_adapter = require(\"../../core/dom_adapter\");\r\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\r\nvar _element_data = require(\"../../core/element_data\");\r\nvar _element_data2 = _interopRequireDefault(_element_data);\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _type2 = _interopRequireDefault(_type);\r\nvar _dom = require(\"../../core/utils/dom\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ROW_SELECTOR = \"tr\";\r\nvar SchedulerTableCreator = {\r\n    VERTICAL: \"vertical\",\r\n    HORIZONTAL: \"horizontal\",\r\n    insertAllDayRow: function(allDayElements, tableBody, index) {\r\n        if (allDayElements[index]) {\r\n            var row = allDayElements[index].find(ROW_SELECTOR);\r\n            if (!row.length) {\r\n                row = (0, _renderer2.default)(_dom_adapter2.default.createElement(ROW_SELECTOR));\r\n                row.append(allDayElements[index].get(0))\r\n            }\r\n            tableBody.appendChild(row.get ? row.get(0) : row)\r\n        }\r\n    },\r\n    makeTable: function(options) {\r\n        var tableBody = _dom_adapter2.default.createElement(\"tbody\");\r\n        var templateCallbacks = [];\r\n        var row;\r\n        var rowCountInGroup = options.groupCount ? options.rowCount / options.groupCount : options.rowCount;\r\n        var allDayElementIndex = 0;\r\n        var allDayElements = options.allDayElements;\r\n        var groupIndex = options.groupIndex;\r\n        var rowCount = options.rowCount;\r\n        (0, _renderer2.default)(options.container).append(tableBody);\r\n        if (allDayElements) {\r\n            this.insertAllDayRow(allDayElements, tableBody, 0);\r\n            allDayElementIndex++\r\n        }\r\n        for (var i = 0; i < rowCount; i++) {\r\n            row = _dom_adapter2.default.createElement(ROW_SELECTOR);\r\n            tableBody.appendChild(row);\r\n            var isLastRowInGroup = (i + 1) % rowCountInGroup === 0;\r\n            if (options.rowClass) {\r\n                row.className = options.rowClass\r\n            }\r\n            for (var j = 0; j < options.cellCount; j++) {\r\n                var td = _dom_adapter2.default.createElement(\"td\");\r\n                row.appendChild(td);\r\n                if (options.cellClass) {\r\n                    if (_type2.default.isFunction(options.cellClass)) {\r\n                        td.className = options.cellClass(i, j)\r\n                    } else {\r\n                        td.className = options.cellClass\r\n                    }\r\n                }\r\n                var cellDataObject;\r\n                var dataKey;\r\n                var dataValue;\r\n                if (options.getCellData) {\r\n                    cellDataObject = options.getCellData(td, i, j, groupIndex);\r\n                    dataKey = cellDataObject.key;\r\n                    dataValue = cellDataObject.value;\r\n                    dataKey && _element_data2.default.data(td, dataKey, dataValue)\r\n                }\r\n                if (options.cellTemplate && options.cellTemplate.render) {\r\n                    var templateOptions = {\r\n                        model: {\r\n                            text: options.getCellText ? options.getCellText(i, j) : \"\",\r\n                            date: options.getCellDate ? options.getCellDate(i) : void 0\r\n                        },\r\n                        container: (0, _dom.getPublicElement)((0, _renderer2.default)(td)),\r\n                        index: i * options.cellCount + j\r\n                    };\r\n                    if (dataValue) {\r\n                        if (dataValue.startDate) {\r\n                            templateOptions.model.startDate = dataValue.startDate\r\n                        }\r\n                        if (dataValue.endDate) {\r\n                            templateOptions.model.endDate = dataValue.endDate\r\n                        }\r\n                        if (dataValue.groups) {\r\n                            templateOptions.model.groups = dataValue.groups\r\n                        }\r\n                        if (dataValue.allDay) {\r\n                            templateOptions.model.allDay = dataValue.allDay\r\n                        }\r\n                    }\r\n                    templateCallbacks.push(options.cellTemplate.render.bind(options.cellTemplate, templateOptions))\r\n                } else {\r\n                    if (options.getCellText) {\r\n                        td.innerHTML = \"<div>\" + options.getCellText(i, j) + \"</div>\"\r\n                    }\r\n                }\r\n            }\r\n            if (allDayElements && isLastRowInGroup) {\r\n                this.insertAllDayRow(allDayElements, tableBody, allDayElementIndex);\r\n                allDayElementIndex++\r\n            }\r\n        }\r\n        return templateCallbacks\r\n    },\r\n    makeGroupedTable: function(type, groups, cssClasses, cellCount, cellTemplate, rowCount, groupByDate) {\r\n        var rows = [];\r\n        if (type === this.VERTICAL) {\r\n            rows = this._makeVerticalGroupedRows(groups, cssClasses, cellTemplate, rowCount)\r\n        } else {\r\n            rows = this._makeHorizontalGroupedRows(groups, cssClasses, cellCount, cellTemplate, groupByDate)\r\n        }\r\n        return rows\r\n    },\r\n    makeGroupedTableFromJSON: function(type, data, config) {\r\n        var table;\r\n        var cellStorage = [];\r\n        var rowIndex = 0;\r\n        config = config || {};\r\n        var cellTag = config.cellTag || \"td\";\r\n        var childrenField = config.childrenField || \"children\";\r\n        var titleField = config.titleField || \"title\";\r\n        var groupTableClass = config.groupTableClass;\r\n        var groupRowClass = config.groupRowClass;\r\n        var groupCellClass = config.groupCellClass;\r\n        var groupCellCustomContent = config.groupCellCustomContent;\r\n\r\n        function createTable() {\r\n            table = _dom_adapter2.default.createElement(\"table\");\r\n            if (groupTableClass) {\r\n                table.className = groupTableClass\r\n            }\r\n        }\r\n\r\n        function getChildCount(item) {\r\n            if (item[childrenField]) {\r\n                return item[childrenField].length\r\n            }\r\n            return 0\r\n        }\r\n\r\n        function createCell(text, childCount, index, data) {\r\n            var cell = {\r\n                element: _dom_adapter2.default.createElement(cellTag),\r\n                childCount: childCount\r\n            };\r\n            if (groupCellClass) {\r\n                cell.element.className = groupCellClass\r\n            }\r\n            var cellText = _dom_adapter2.default.createTextNode(text);\r\n            if (\"function\" === typeof groupCellCustomContent) {\r\n                groupCellCustomContent(cell.element, cellText, index, data)\r\n            } else {\r\n                cell.element.appendChild(cellText)\r\n            }\r\n            return cell\r\n        }\r\n\r\n        function generateCells(data) {\r\n            for (var i = 0; i < data.length; i++) {\r\n                var childCount = getChildCount(data[i]);\r\n                var cell = createCell(data[i][titleField], childCount, i, data[i]);\r\n                if (!cellStorage[rowIndex]) {\r\n                    cellStorage[rowIndex] = []\r\n                }\r\n                cellStorage[rowIndex].push(cell);\r\n                if (childCount) {\r\n                    generateCells(data[i][childrenField])\r\n                } else {\r\n                    rowIndex++\r\n                }\r\n            }\r\n        }\r\n\r\n        function putCellsToRows() {\r\n            cellStorage.forEach(function(cells) {\r\n                var row = _dom_adapter2.default.createElement(ROW_SELECTOR);\r\n                if (groupRowClass) {\r\n                    row.className = groupRowClass\r\n                }\r\n                var rowspans = [];\r\n                for (var i = cells.length - 1; i >= 0; i--) {\r\n                    var prev = cells[i + 1];\r\n                    var rowspan = cells[i].childCount;\r\n                    if (prev && prev.childCount) {\r\n                        rowspan *= prev.childCount\r\n                    }\r\n                    rowspans.push(rowspan)\r\n                }\r\n                rowspans.reverse();\r\n                cells.forEach(function(cell, index) {\r\n                    if (rowspans[index]) {\r\n                        cell.element.setAttribute(\"rowSpan\", rowspans[index])\r\n                    }\r\n                    row.appendChild(cell.element)\r\n                });\r\n                table.appendChild(row)\r\n            })\r\n        }\r\n        createTable();\r\n        generateCells(data);\r\n        putCellsToRows();\r\n        return table\r\n    },\r\n    _makeFlexGroupedRowCells: function(group, repeatCount, cssClasses, cellTemplate) {\r\n        var repeatByDate = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1;\r\n        var cells = [];\r\n        var items = group.items;\r\n        var itemCount = items.length;\r\n        for (var i = 0; i < repeatCount * repeatByDate; i++) {\r\n            for (var j = 0; j < itemCount; j++) {\r\n                var $container = (0, _renderer2.default)(\"<div>\");\r\n                var cell = {};\r\n                if (cellTemplate && cellTemplate.render) {\r\n                    var templateOptions = {\r\n                        model: items[j],\r\n                        container: (0, _dom.getPublicElement)($container),\r\n                        index: i * itemCount + j\r\n                    };\r\n                    if (group.data) {\r\n                        templateOptions.model.data = group.data[j]\r\n                    }\r\n                    cell.template = cellTemplate.render.bind(cellTemplate, templateOptions)\r\n                } else {\r\n                    $container.text(items[j].text).attr(\"title\", items[j].text).addClass(\"dx-scheduler-group-header-content\");\r\n                    $container = (0, _renderer2.default)(\"<div>\").append($container)\r\n                }\r\n                var cssClass = _type2.default.isFunction(cssClasses.groupHeaderClass) ? cssClasses.groupHeaderClass(j) : cssClasses.groupHeaderClass;\r\n                cell.element = $container.addClass(cssClass);\r\n                cells.push(cell)\r\n            }\r\n        }\r\n        return cells\r\n    },\r\n    _makeVerticalGroupedRows: function(groups, cssClasses, cellTemplate) {\r\n        var cellTemplates = [];\r\n        var repeatCount = 1;\r\n        var cellsArray = [];\r\n        var cellIterator = function(cell) {\r\n            if (cell.template) {\r\n                cellTemplates.push(cell.template)\r\n            }\r\n        };\r\n        for (var i = 0; i < groups.length; i++) {\r\n            if (i > 0) {\r\n                repeatCount = groups[i - 1].items.length * repeatCount\r\n            }\r\n            var cells = this._makeFlexGroupedRowCells(groups[i], repeatCount, cssClasses, cellTemplate);\r\n            cells.forEach(cellIterator);\r\n            cellsArray.push(cells)\r\n        }\r\n        var rows = [];\r\n        var groupCount = cellsArray.length;\r\n        for (var _i = 0; _i < groupCount; _i++) {\r\n            rows.push((0, _renderer2.default)(\"<div>\").addClass(cssClasses.groupHeaderRowClass))\r\n        }\r\n        for (var _i2 = groupCount - 1; _i2 >= 0; _i2--) {\r\n            var currentColumnLength = cellsArray[_i2].length;\r\n            for (var j = 0; j < currentColumnLength; j++) {\r\n                rows[_i2].append(cellsArray[_i2][j].element)\r\n            }\r\n        }\r\n        return {\r\n            elements: (0, _renderer2.default)(\"<div>\").addClass(\"dx-scheduler-group-flex-container\").append(rows),\r\n            cellTemplates: cellTemplates\r\n        }\r\n    },\r\n    _makeHorizontalGroupedRows: function(groups, cssClasses, cellCount, cellTemplate, groupByDate) {\r\n        var repeatCount = 1;\r\n        var groupCount = groups.length;\r\n        var rows = [];\r\n        var cellTemplates = [];\r\n        var repeatByDate = groupByDate ? cellCount : 1;\r\n        var cellIterator = function(cell) {\r\n            if (cell.template) {\r\n                cellTemplates.push(cell.template)\r\n            }\r\n            return cell.element\r\n        };\r\n        for (var i = 0; i < groupCount; i++) {\r\n            if (i > 0) {\r\n                repeatCount = groups[i - 1].items.length * repeatCount\r\n            }\r\n            var cells = this._makeGroupedRowCells(groups[i], repeatCount, cssClasses, cellTemplate, repeatByDate);\r\n            rows.push((0, _renderer2.default)(\"<tr>\").addClass(cssClasses.groupRowClass).append(cells.map(cellIterator)))\r\n        }\r\n        var maxCellCount = rows[groupCount - 1].find(\"th\").length;\r\n        for (var j = 0; j < groupCount; j++) {\r\n            var $cell = rows[j].find(\"th\");\r\n            var colspan = maxCellCount / $cell.length;\r\n            if (!groupByDate) {\r\n                colspan *= cellCount\r\n            }\r\n            if (colspan > 1 && 1 === repeatByDate || groupByDate && groupCount > 1) {\r\n                $cell.attr(\"colSpan\", colspan)\r\n            }\r\n        }\r\n        return {\r\n            elements: rows,\r\n            cellTemplates: cellTemplates\r\n        }\r\n    },\r\n    _makeGroupedRowCells: function(group, repeatCount, cssClasses, cellTemplate, repeatByDate) {\r\n        repeatByDate = repeatByDate || 1;\r\n        repeatCount *= repeatByDate;\r\n        var cells = [];\r\n        var items = group.items;\r\n        var itemCount = items.length;\r\n        for (var i = 0; i < repeatCount; i++) {\r\n            for (var j = 0; j < itemCount; j++) {\r\n                var $container = (0, _renderer2.default)(\"<div>\");\r\n                var cell = {};\r\n                if (cellTemplate && cellTemplate.render) {\r\n                    var templateOptions = {\r\n                        model: items[j],\r\n                        container: (0, _dom.getPublicElement)($container),\r\n                        index: i * itemCount + j\r\n                    };\r\n                    if (group.data) {\r\n                        templateOptions.model.data = group.data[j]\r\n                    }\r\n                    cell.template = cellTemplate.render.bind(cellTemplate, templateOptions)\r\n                } else {\r\n                    $container.text(items[j].text);\r\n                    $container = (0, _renderer2.default)(\"<div>\").append($container)\r\n                }\r\n                $container.addClass(cssClasses.groupHeaderContentClass);\r\n                var cssClass;\r\n                if (_type2.default.isFunction(cssClasses.groupHeaderClass)) {\r\n                    cssClass = cssClasses.groupHeaderClass(j)\r\n                } else {\r\n                    cssClass = cssClasses.groupHeaderClass\r\n                }\r\n                cell.element = (0, _renderer2.default)(\"<th>\").addClass(cssClass).append($container);\r\n                cells.push(cell)\r\n            }\r\n        }\r\n        return cells\r\n    }\r\n};\r\nmodule.exports = SchedulerTableCreator;\r\n"]},"metadata":{},"sourceType":"module"}