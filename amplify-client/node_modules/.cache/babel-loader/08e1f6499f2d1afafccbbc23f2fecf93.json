{"ast":null,"code":"/**\r\n * DevExtreme (data_helper.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar DataSource = require(\"./data/data_source/data_source\").DataSource;\n\nvar extend = require(\"./core/utils/extend\").extend;\n\nvar normalizeDataSourceOptions = require(\"./data/data_source/data_source\").normalizeDataSourceOptions;\n\nvar DATA_SOURCE_OPTIONS_METHOD = \"_dataSourceOptions\";\nvar DATA_SOURCE_CHANGED_METHOD = \"_dataSourceChangedHandler\";\nvar DATA_SOURCE_LOAD_ERROR_METHOD = \"_dataSourceLoadErrorHandler\";\nvar DATA_SOURCE_LOADING_CHANGED_METHOD = \"_dataSourceLoadingChangedHandler\";\nvar DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD = \"_dataSourceFromUrlLoadMode\";\nvar SPECIFIC_DATA_SOURCE_OPTION = \"_getSpecificDataSourceOption\";\nvar DataHelperMixin = {\n  postCtor: function postCtor() {\n    this.on(\"disposing\", function () {\n      this._disposeDataSource();\n    }.bind(this));\n  },\n  _refreshDataSource: function _refreshDataSource() {\n    this._initDataSource();\n\n    this._loadDataSource();\n  },\n  _initDataSource: function _initDataSource() {\n    var dataSourceOptions = SPECIFIC_DATA_SOURCE_OPTION in this ? this[SPECIFIC_DATA_SOURCE_OPTION]() : this.option(\"dataSource\");\n    var widgetDataSourceOptions;\n    var dataSourceType;\n\n    this._disposeDataSource();\n\n    if (dataSourceOptions) {\n      if (dataSourceOptions instanceof DataSource) {\n        this._isSharedDataSource = true;\n        this._dataSource = dataSourceOptions;\n      } else {\n        widgetDataSourceOptions = DATA_SOURCE_OPTIONS_METHOD in this ? this[DATA_SOURCE_OPTIONS_METHOD]() : {};\n        dataSourceType = this._dataSourceType ? this._dataSourceType() : DataSource;\n        dataSourceOptions = normalizeDataSourceOptions(dataSourceOptions, {\n          fromUrlLoadMode: DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD in this && this[DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD]()\n        });\n        this._dataSource = new dataSourceType(extend(true, {}, widgetDataSourceOptions, dataSourceOptions));\n      }\n\n      this._addDataSourceHandlers();\n    }\n  },\n  _addDataSourceHandlers: function _addDataSourceHandlers() {\n    if (DATA_SOURCE_CHANGED_METHOD in this) {\n      this._addDataSourceChangeHandler();\n    }\n\n    if (DATA_SOURCE_LOAD_ERROR_METHOD in this) {\n      this._addDataSourceLoadErrorHandler();\n    }\n\n    if (DATA_SOURCE_LOADING_CHANGED_METHOD in this) {\n      this._addDataSourceLoadingChangedHandler();\n    }\n\n    this._addReadyWatcher();\n  },\n  _addReadyWatcher: function _addReadyWatcher() {\n    this._dataSource.on(\"loadingChanged\", function (isLoading) {\n      this._ready && this._ready(!isLoading);\n    }.bind(this));\n  },\n  _addDataSourceChangeHandler: function _addDataSourceChangeHandler() {\n    var dataSource = this._dataSource;\n\n    this._proxiedDataSourceChangedHandler = function (e) {\n      this[DATA_SOURCE_CHANGED_METHOD](dataSource.items(), e);\n    }.bind(this);\n\n    dataSource.on(\"changed\", this._proxiedDataSourceChangedHandler);\n  },\n  _addDataSourceLoadErrorHandler: function _addDataSourceLoadErrorHandler() {\n    this._proxiedDataSourceLoadErrorHandler = this[DATA_SOURCE_LOAD_ERROR_METHOD].bind(this);\n\n    this._dataSource.on(\"loadError\", this._proxiedDataSourceLoadErrorHandler);\n  },\n  _addDataSourceLoadingChangedHandler: function _addDataSourceLoadingChangedHandler() {\n    this._proxiedDataSourceLoadingChangedHandler = this[DATA_SOURCE_LOADING_CHANGED_METHOD].bind(this);\n\n    this._dataSource.on(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler);\n  },\n  _loadDataSource: function _loadDataSource() {\n    if (this._dataSource) {\n      var dataSource = this._dataSource;\n\n      if (dataSource.isLoaded()) {\n        this._proxiedDataSourceChangedHandler && this._proxiedDataSourceChangedHandler();\n      } else {\n        dataSource.load();\n      }\n    }\n  },\n  _loadSingle: function _loadSingle(key, value) {\n    key = \"this\" === key ? this._dataSource.key() || \"this\" : key;\n    return this._dataSource.loadSingle(key, value);\n  },\n  _isLastPage: function _isLastPage() {\n    return !this._dataSource || this._dataSource.isLastPage() || !this._dataSource._pageSize;\n  },\n  _isDataSourceLoading: function _isDataSourceLoading() {\n    return this._dataSource && this._dataSource.isLoading();\n  },\n  _disposeDataSource: function _disposeDataSource() {\n    if (this._dataSource) {\n      if (this._isSharedDataSource) {\n        delete this._isSharedDataSource;\n        this._proxiedDataSourceChangedHandler && this._dataSource.off(\"changed\", this._proxiedDataSourceChangedHandler);\n        this._proxiedDataSourceLoadErrorHandler && this._dataSource.off(\"loadError\", this._proxiedDataSourceLoadErrorHandler);\n        this._proxiedDataSourceLoadingChangedHandler && this._dataSource.off(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler);\n      } else {\n        this._dataSource.dispose();\n      }\n\n      delete this._dataSource;\n      delete this._proxiedDataSourceChangedHandler;\n      delete this._proxiedDataSourceLoadErrorHandler;\n      delete this._proxiedDataSourceLoadingChangedHandler;\n    }\n  },\n  getDataSource: function getDataSource() {\n    return this._dataSource || null;\n  }\n};\nmodule.exports = DataHelperMixin;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/data_helper.js"],"names":["DataSource","require","extend","normalizeDataSourceOptions","DATA_SOURCE_OPTIONS_METHOD","DATA_SOURCE_CHANGED_METHOD","DATA_SOURCE_LOAD_ERROR_METHOD","DATA_SOURCE_LOADING_CHANGED_METHOD","DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD","SPECIFIC_DATA_SOURCE_OPTION","DataHelperMixin","postCtor","_refreshDataSource","_initDataSource","dataSourceOptions","widgetDataSourceOptions","dataSourceType","fromUrlLoadMode","_addDataSourceHandlers","_addReadyWatcher","_addDataSourceChangeHandler","dataSource","_addDataSourceLoadErrorHandler","_addDataSourceLoadingChangedHandler","_loadDataSource","_loadSingle","key","_isLastPage","_isDataSourceLoading","_disposeDataSource","getDataSource","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (data_helper.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar DataSource = require(\"./data/data_source/data_source\").DataSource;\r\nvar extend = require(\"./core/utils/extend\").extend;\r\nvar normalizeDataSourceOptions = require(\"./data/data_source/data_source\").normalizeDataSourceOptions;\r\nvar DATA_SOURCE_OPTIONS_METHOD = \"_dataSourceOptions\";\r\nvar DATA_SOURCE_CHANGED_METHOD = \"_dataSourceChangedHandler\";\r\nvar DATA_SOURCE_LOAD_ERROR_METHOD = \"_dataSourceLoadErrorHandler\";\r\nvar DATA_SOURCE_LOADING_CHANGED_METHOD = \"_dataSourceLoadingChangedHandler\";\r\nvar DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD = \"_dataSourceFromUrlLoadMode\";\r\nvar SPECIFIC_DATA_SOURCE_OPTION = \"_getSpecificDataSourceOption\";\r\nvar DataHelperMixin = {\r\n    postCtor: function() {\r\n        this.on(\"disposing\", function() {\r\n            this._disposeDataSource()\r\n        }.bind(this))\r\n    },\r\n    _refreshDataSource: function() {\r\n        this._initDataSource();\r\n        this._loadDataSource()\r\n    },\r\n    _initDataSource: function() {\r\n        var dataSourceOptions = SPECIFIC_DATA_SOURCE_OPTION in this ? this[SPECIFIC_DATA_SOURCE_OPTION]() : this.option(\"dataSource\");\r\n        var widgetDataSourceOptions;\r\n        var dataSourceType;\r\n        this._disposeDataSource();\r\n        if (dataSourceOptions) {\r\n            if (dataSourceOptions instanceof DataSource) {\r\n                this._isSharedDataSource = true;\r\n                this._dataSource = dataSourceOptions\r\n            } else {\r\n                widgetDataSourceOptions = DATA_SOURCE_OPTIONS_METHOD in this ? this[DATA_SOURCE_OPTIONS_METHOD]() : {};\r\n                dataSourceType = this._dataSourceType ? this._dataSourceType() : DataSource;\r\n                dataSourceOptions = normalizeDataSourceOptions(dataSourceOptions, {\r\n                    fromUrlLoadMode: DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD in this && this[DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD]()\r\n                });\r\n                this._dataSource = new dataSourceType(extend(true, {}, widgetDataSourceOptions, dataSourceOptions))\r\n            }\r\n            this._addDataSourceHandlers()\r\n        }\r\n    },\r\n    _addDataSourceHandlers: function() {\r\n        if (DATA_SOURCE_CHANGED_METHOD in this) {\r\n            this._addDataSourceChangeHandler()\r\n        }\r\n        if (DATA_SOURCE_LOAD_ERROR_METHOD in this) {\r\n            this._addDataSourceLoadErrorHandler()\r\n        }\r\n        if (DATA_SOURCE_LOADING_CHANGED_METHOD in this) {\r\n            this._addDataSourceLoadingChangedHandler()\r\n        }\r\n        this._addReadyWatcher()\r\n    },\r\n    _addReadyWatcher: function() {\r\n        this._dataSource.on(\"loadingChanged\", function(isLoading) {\r\n            this._ready && this._ready(!isLoading)\r\n        }.bind(this))\r\n    },\r\n    _addDataSourceChangeHandler: function() {\r\n        var dataSource = this._dataSource;\r\n        this._proxiedDataSourceChangedHandler = function(e) {\r\n            this[DATA_SOURCE_CHANGED_METHOD](dataSource.items(), e)\r\n        }.bind(this);\r\n        dataSource.on(\"changed\", this._proxiedDataSourceChangedHandler)\r\n    },\r\n    _addDataSourceLoadErrorHandler: function() {\r\n        this._proxiedDataSourceLoadErrorHandler = this[DATA_SOURCE_LOAD_ERROR_METHOD].bind(this);\r\n        this._dataSource.on(\"loadError\", this._proxiedDataSourceLoadErrorHandler)\r\n    },\r\n    _addDataSourceLoadingChangedHandler: function() {\r\n        this._proxiedDataSourceLoadingChangedHandler = this[DATA_SOURCE_LOADING_CHANGED_METHOD].bind(this);\r\n        this._dataSource.on(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler)\r\n    },\r\n    _loadDataSource: function() {\r\n        if (this._dataSource) {\r\n            var dataSource = this._dataSource;\r\n            if (dataSource.isLoaded()) {\r\n                this._proxiedDataSourceChangedHandler && this._proxiedDataSourceChangedHandler()\r\n            } else {\r\n                dataSource.load()\r\n            }\r\n        }\r\n    },\r\n    _loadSingle: function(key, value) {\r\n        key = \"this\" === key ? this._dataSource.key() || \"this\" : key;\r\n        return this._dataSource.loadSingle(key, value)\r\n    },\r\n    _isLastPage: function() {\r\n        return !this._dataSource || this._dataSource.isLastPage() || !this._dataSource._pageSize\r\n    },\r\n    _isDataSourceLoading: function() {\r\n        return this._dataSource && this._dataSource.isLoading()\r\n    },\r\n    _disposeDataSource: function() {\r\n        if (this._dataSource) {\r\n            if (this._isSharedDataSource) {\r\n                delete this._isSharedDataSource;\r\n                this._proxiedDataSourceChangedHandler && this._dataSource.off(\"changed\", this._proxiedDataSourceChangedHandler);\r\n                this._proxiedDataSourceLoadErrorHandler && this._dataSource.off(\"loadError\", this._proxiedDataSourceLoadErrorHandler);\r\n                this._proxiedDataSourceLoadingChangedHandler && this._dataSource.off(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler)\r\n            } else {\r\n                this._dataSource.dispose()\r\n            }\r\n            delete this._dataSource;\r\n            delete this._proxiedDataSourceChangedHandler;\r\n            delete this._proxiedDataSourceLoadErrorHandler;\r\n            delete this._proxiedDataSourceLoadingChangedHandler\r\n        }\r\n    },\r\n    getDataSource: function() {\r\n        return this._dataSource || null\r\n    }\r\n};\r\nmodule.exports = DataHelperMixin;\r\n"]},"metadata":{},"sourceType":"module"}