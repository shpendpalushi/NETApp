{"ast":null,"code":"import _classCallCheck from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nexport var AsapAction = /*#__PURE__*/function (_AsyncAction) {\n  _inherits(AsapAction, _AsyncAction);\n\n  var _super = _createSuper(AsapAction);\n\n  function AsapAction(scheduler, work) {\n    var _this;\n\n    _classCallCheck(this, AsapAction);\n\n    _this = _super.call(this, scheduler, work);\n    _this.scheduler = scheduler;\n    _this.work = work;\n    return _this;\n  }\n\n  _createClass(AsapAction, [{\n    key: \"requestAsyncId\",\n    value: function requestAsyncId(scheduler, id) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      if (delay !== null && delay > 0) {\n        return _get(_getPrototypeOf(AsapAction.prototype), \"requestAsyncId\", this).call(this, scheduler, id, delay);\n      }\n\n      scheduler.actions.push(this);\n      return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    }\n  }, {\n    key: \"recycleAsyncId\",\n    value: function recycleAsyncId(scheduler, id) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      if (delay !== null && delay > 0 || delay === null && this.delay > 0) {\n        return _get(_getPrototypeOf(AsapAction.prototype), \"recycleAsyncId\", this).call(this, scheduler, id, delay);\n      }\n\n      if (scheduler.actions.length === 0) {\n        Immediate.clearImmediate(id);\n        scheduler.scheduled = undefined;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return AsapAction;\n}(AsyncAction);","map":{"version":3,"sources":["../../../src/internal/scheduler/AsapAction.ts"],"names":[],"mappings":";;;;;;AAAA,SAAA,SAAA,QAAA,mBAAA;AACA,SAAA,WAAA,QAAA,eAAA;AAQA,OAAA,IAAa,UAAb,GAAA,aAAA,UAAA,YAAA,EAAA;AAAA,EAAA,SAAA,CAAA,UAAA,EAAA,YAAA,CAAA;;AAAA,MAAA,MAAA,GAAA,YAAA,CAAA,UAAA,CAAA;;AAEE,WAAA,UAAA,CAAA,SAAA,EAAA,IAAA,EACyE;AAAA,QAAA,KAAA;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,UAAA,CAAA;;AACvE,IAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,SAAA,EAAA,IAAA,CAAA;AAFoB,IAAA,KAAA,CAAA,SAAA,GAAA,SAAA;AACA,IAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AAAmD,WAAA,KAAA;AAExE;;AALH,EAAA,YAAA,CAAA,UAAA,EAAA,CAAA;AAAA,IAAA,GAAA,EAAA,gBAAA;AAAA,IAAA,KAAA,EAAA,SAAA,cAAA,CAAA,SAAA,EAAA,EAAA,EAOgF;AAAA,UAAjB,KAAiB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAD,CAAC;;AAE5E,UAAI,KAAK,KAAL,IAAA,IAAkB,KAAK,GAA3B,CAAA,EAAiC;AAC/B,eAAA,IAAA,CAAA,eAAA,CAAA,UAAA,CAAA,SAAA,CAAA,EAAA,gBAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,SAAA,EAAA,EAAA,EAAA,KAAA,CAAA;AACD;;AAED,MAAA,SAAS,CAAT,OAAA,CAAA,IAAA,CAAA,IAAA;AAIA,aAAO,SAAS,CAAT,SAAA,KAAwB,SAAS,CAAT,SAAA,GAAsB,SAAS,CAAT,YAAA,CACnD,SAAS,CAAT,KAAA,CAAA,IAAA,CAAA,SAAA,EADF,IACE,CADmD,CAA9C,CAAP;AAGD;AApBH,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,gBAAA;AAAA,IAAA,KAAA,EAAA,SAAA,cAAA,CAAA,SAAA,EAAA,EAAA,EAqBgF;AAAA,UAAjB,KAAiB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAD,CAAC;;AAI5E,UAAK,KAAK,KAAL,IAAA,IAAkB,KAAK,GAAxB,CAAC,IAAiC,KAAK,KAAL,IAAA,IAAkB,KAAA,KAAA,GAAxD,CAAA,EAAyE;AACvE,eAAA,IAAA,CAAA,eAAA,CAAA,UAAA,CAAA,SAAA,CAAA,EAAA,gBAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,SAAA,EAAA,EAAA,EAAA,KAAA,CAAA;AACD;;AAID,UAAI,SAAS,CAAT,OAAA,CAAA,MAAA,KAAJ,CAAA,EAAoC;AAClC,QAAA,SAAS,CAAT,cAAA,CAAA,EAAA;AACA,QAAA,SAAS,CAAT,SAAA,GAAA,SAAA;AACD;;AAED,aAAA,SAAA;AACD;AArCH,GAAA,CAAA,CAAA;;AAAA,SAAA,UAAA;AAAA,CAAA,CAAA,WAAA,CAAA","sourcesContent":["import { Immediate } from '../util/Immediate';\r\nimport { AsyncAction } from './AsyncAction';\r\nexport class AsapAction extends AsyncAction {\r\n    constructor(scheduler, work) {\r\n        super(scheduler, work);\r\n        this.scheduler = scheduler;\r\n        this.work = work;\r\n    }\r\n    requestAsyncId(scheduler, id, delay = 0) {\r\n        if (delay !== null && delay > 0) {\r\n            return super.requestAsyncId(scheduler, id, delay);\r\n        }\r\n        scheduler.actions.push(this);\r\n        return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\r\n    }\r\n    recycleAsyncId(scheduler, id, delay = 0) {\r\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\r\n            return super.recycleAsyncId(scheduler, id, delay);\r\n        }\r\n        if (scheduler.actions.length === 0) {\r\n            Immediate.clearImmediate(id);\r\n            scheduler.scheduled = undefined;\r\n        }\r\n        return undefined;\r\n    }\r\n}\r\n//# sourceMappingURL=AsapAction.js.map"]},"metadata":{},"sourceType":"module"}