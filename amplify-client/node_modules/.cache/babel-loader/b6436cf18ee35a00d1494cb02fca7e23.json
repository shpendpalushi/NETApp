{"ast":null,"code":"/**\r\n * DevExtreme (ui/diagram/ui.diagram.toolbar.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _diagram = require(\"./diagram.panel\");\n\nvar _diagram2 = _interopRequireDefault(_diagram);\n\nvar _toolbar = require(\"../toolbar\");\n\nvar _toolbar2 = _interopRequireDefault(_toolbar);\n\nvar _context_menu = require(\"../context_menu\");\n\nvar _context_menu2 = _interopRequireDefault(_context_menu);\n\nvar _uiDiagram = require(\"./ui.diagram.commands\");\n\nvar _uiDiagram2 = _interopRequireDefault(_uiDiagram);\n\nvar _diagram_bar = require(\"./diagram_bar\");\n\nvar _diagram_bar2 = _interopRequireDefault(_diagram_bar);\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _message = require(\"../../localization/message\");\n\nvar _message2 = _interopRequireDefault(_message);\n\nrequire(\"../select_box\");\n\nrequire(\"../color_box\");\n\nrequire(\"../check_box\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar ACTIVE_FORMAT_CLASS = \"dx-format-active\";\nvar TOOLBAR_CLASS = \"dx-diagram-toolbar\";\nvar WIDGET_COMMANDS = [{\n  command: \"options\",\n  icon: \"preferences\",\n  hint: _message2.default.format(\"dxDiagram-commandProperties\"),\n  text: _message2.default.format(\"dxDiagram-commandProperties\")\n}];\nvar TOOLBAR_SEPARATOR_CLASS = \"dx-diagram-toolbar-separator\";\nvar TOOLBAR_MENU_SEPARATOR_CLASS = \"dx-diagram-toolbar-menu-separator\";\n\nvar DiagramToolbar = function (_DiagramPanel) {\n  _inherits(DiagramToolbar, _DiagramPanel);\n\n  function DiagramToolbar() {\n    _classCallCheck(this, DiagramToolbar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DiagramToolbar).apply(this, arguments));\n  }\n\n  _createClass(DiagramToolbar, [{\n    key: \"_init\",\n    value: function value() {\n      this.bar = new ToolbarDiagramBar(this);\n      this._itemHelpers = {};\n      this._contextMenus = [];\n\n      this._createOnWidgetCommand();\n\n      _get(_getPrototypeOf(DiagramToolbar.prototype), \"_init\", this).call(this);\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function value() {\n      _get(_getPrototypeOf(DiagramToolbar.prototype), \"_initMarkup\", this).call(this);\n\n      var $toolbar = (0, _renderer2.default)(\"<div>\").addClass(TOOLBAR_CLASS).appendTo(this._$element);\n\n      this._renderToolbar($toolbar);\n    }\n  }, {\n    key: \"_renderToolbar\",\n    value: function value($toolbar) {\n      var commands = _uiDiagram2.default.getToolbarCommands(this.option(\"commands\"));\n\n      var widgetCommandNames = this.option(\"widgetCommandNames\") || [];\n      var widgetCommands = WIDGET_COMMANDS.filter(function (c) {\n        return widgetCommandNames.indexOf(c.command) > -1;\n      });\n\n      var dataSource = this._prepareToolbarItems(commands, \"before\", this._execDiagramCommand);\n\n      dataSource = dataSource.concat(this._prepareToolbarItems(widgetCommands, \"after\", this._execWidgetCommand));\n      this._toolbarInstance = this._createComponent($toolbar, _toolbar2.default, {\n        dataSource: dataSource\n      });\n    }\n  }, {\n    key: \"_prepareToolbarItems\",\n    value: function value(items, location, actionHandler) {\n      var _this = this;\n\n      return items.map(function (item) {\n        return (0, _extend.extend)(true, {\n          location: location,\n          locateInMenu: \"auto\"\n        }, _this._createItem(item, location, actionHandler), _this._createItemOptions(item), _this._createItemActionOptions(item, actionHandler));\n      });\n    }\n  }, {\n    key: \"_createItem\",\n    value: function value(item, location, actionHandler) {\n      var _this2 = this;\n\n      if (\"separator\" === item.widget) {\n        return {\n          template: function template(data, index, element) {\n            (0, _renderer2.default)(element).addClass(TOOLBAR_SEPARATOR_CLASS);\n          },\n          menuItemTemplate: function menuItemTemplate(data, index, element) {\n            (0, _renderer2.default)(element).addClass(TOOLBAR_MENU_SEPARATOR_CLASS);\n          }\n        };\n      }\n\n      return {\n        widget: item.widget || \"dxButton\",\n        cssClass: item.cssClass,\n        options: {\n          stylingMode: \"text\",\n          text: item.text,\n          hint: item.hint,\n          icon: item.icon,\n          onInitialized: function onInitialized(e) {\n            return _this2._onItemInitialized(e.component, item);\n          },\n          onContentReady: function onContentReady(e) {\n            return _this2._onItemContentReady(e.component, item, actionHandler);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"_createItemOptions\",\n    value: function value(_ref) {\n      var widget = _ref.widget,\n          items = _ref.items,\n          valueExpr = _ref.valueExpr,\n          displayExpr = _ref.displayExpr,\n          showText = _ref.showText,\n          hint = _ref.hint,\n          icon = _ref.icon;\n\n      if (\"dxSelectBox\" === widget) {\n        return this._createSelectBoxItemOptions(hint, items, valueExpr, displayExpr);\n      } else {\n        if (\"dxColorBox\" === widget) {\n          return this._createColorBoxItemOptions(hint, icon);\n        } else {\n          if (!widget || \"dxButton\" === widget) {\n            return {\n              showText: showText || \"inMenu\"\n            };\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_createSelectBoxItemOptions\",\n    value: function value(hint, items, valueExpr, displayExpr) {\n      var options = this._createSelectBoxBaseItemOptions(hint);\n\n      if (items) {\n        options = (0, _extend.extend)(true, options, {\n          options: {\n            items: items,\n            displayExpr: displayExpr,\n            valueExpr: valueExpr\n          }\n        });\n      } else {\n        options = (0, _extend.extend)(true, options, {\n          options: {\n            dataSource: items,\n            displayExpr: \"title\",\n            valueExpr: \"value\"\n          }\n        });\n      }\n\n      var isSelectButton = items && items.every(function (i) {\n        return void 0 !== i.icon;\n      });\n\n      if (isSelectButton) {\n        options = (0, _extend.extend)(true, options, {\n          options: {\n            fieldTemplate: function fieldTemplate(data, container) {\n              (0, _renderer2.default)(\"<i>\").addClass(data && data.icon).appendTo(container);\n              (0, _renderer2.default)(\"<div>\").dxTextBox({\n                readOnly: true,\n                stylingMode: \"outlined\"\n              }).appendTo(container);\n            },\n            itemTemplate: function itemTemplate(data) {\n              return '<i class=\"'.concat(data.icon, '\"').concat(data.hint && ' title=\"'.concat(data.hint), '\"}></i>');\n            }\n          }\n        });\n      }\n\n      return options;\n    }\n  }, {\n    key: \"_createColorBoxItemOptions\",\n    value: function value(hint, icon) {\n      var options = this._createSelectBoxBaseItemOptions(hint);\n\n      if (icon) {\n        options = (0, _extend.extend)(true, options, {\n          options: {\n            openOnFieldClick: true,\n            fieldTemplate: function fieldTemplate(data, container) {\n              (0, _renderer2.default)(\"<i>\").addClass(icon).css(\"borderBottomColor\", data).appendTo(container);\n              (0, _renderer2.default)(\"<div>\").dxTextBox({\n                readOnly: true,\n                stylingMode: \"outlined\"\n              }).appendTo(container);\n            }\n          }\n        });\n      }\n\n      return options;\n    }\n  }, {\n    key: \"_createSelectBoxBaseItemOptions\",\n    value: function value(hint) {\n      return {\n        options: {\n          stylingMode: \"filled\",\n          hint: hint\n        }\n      };\n    }\n  }, {\n    key: \"_createItemActionOptions\",\n    value: function value(item, handler) {\n      var _this3 = this;\n\n      switch (item.widget) {\n        case \"dxSelectBox\":\n        case \"dxColorBox\":\n        case \"dxCheckBox\":\n          return {\n            options: {\n              onValueChanged: function onValueChanged(e) {\n                var parameter = _this3._getExecCommandParameter(item, e.component.option(\"value\"));\n\n                handler.call(_this3, item.command, parameter);\n              }\n            }\n          };\n\n        default:\n          if (!item.items) {\n            return {\n              options: {\n                onClick: function onClick(e) {\n                  var parameter = _this3._getExecCommandParameter(item);\n\n                  handler.call(_this3, item.command, parameter);\n                }\n              }\n            };\n          }\n\n      }\n    }\n  }, {\n    key: \"_getExecCommandParameter\",\n    value: function value(item, widgetValue) {\n      if (item.getParameter) {\n        return item.getParameter(this, widgetValue);\n      }\n\n      return widgetValue;\n    }\n  }, {\n    key: \"_onItemInitialized\",\n    value: function value(widget, item) {\n      if (void 0 !== item.command) {\n        this._itemHelpers[item.command] = new ToolbarItemHelper(widget);\n      }\n    }\n  }, {\n    key: \"_onItemContentReady\",\n    value: function value(widget, item, actionHandler) {\n      var _this4 = this;\n\n      if (\"dxButton\" === widget.NAME && item.items) {\n        var $menuContainer = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n\n        this._createComponent($menuContainer, _context_menu2.default, {\n          dataSource: item.items,\n          displayExpr: \"text\",\n          valueExpr: \"command\",\n          target: widget.$element(),\n          showEvent: \"dxclick\",\n          position: {\n            at: \"left bottom\"\n          },\n          onItemClick: function onItemClick(_ref2) {\n            var itemData = _ref2.itemData;\n\n            if (void 0 !== itemData.command) {\n              var parameter = _this4._getExecCommandParameter(itemData);\n\n              actionHandler.call(_this4, itemData.command, parameter);\n            }\n          },\n          onInitialized: function onInitialized(_ref3) {\n            var component = _ref3.component;\n            return _this4._onContextMenuInitialized(component, item, widget);\n          },\n          onDisposing: function onDisposing(_ref4) {\n            var component = _ref4.component;\n            return _this4._onContextMenuDisposing(component, item);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onContextMenuInitialized\",\n    value: function value(widget, item, rootButton) {\n      this._contextMenus.push(widget);\n\n      this._addContextMenuHelper(item.items, widget, [], rootButton);\n    }\n  }, {\n    key: \"_addContextMenuHelper\",\n    value: function value(items, widget, indexPath, rootButton) {\n      var _this5 = this;\n\n      if (items) {\n        items.forEach(function (item, index) {\n          var itemIndexPath = indexPath.concat(index);\n          _this5._itemHelpers[item.command] = new ContextMenuItemHelper(widget, itemIndexPath, rootButton);\n\n          _this5._addContextMenuHelper(item.items, widget, itemIndexPath, rootButton);\n        });\n      }\n    }\n  }, {\n    key: \"_onContextMenuDisposing\",\n    value: function value(widget, item) {\n      this._contextMenus = this._contextMenus.filter(function (cm) {\n        return cm !== widget;\n      });\n    }\n  }, {\n    key: \"_execDiagramCommand\",\n    value: function value(command, _value) {\n      if (!this._updateLocked) {\n        this.bar.raiseBarCommandExecuted(command, _value);\n      }\n    }\n  }, {\n    key: \"_execWidgetCommand\",\n    value: function value(command) {\n      if (!this._updateLocked) {\n        this._onWidgetCommandAction({\n          name: command\n        });\n      }\n    }\n  }, {\n    key: \"_createOnWidgetCommand\",\n    value: function value() {\n      this._onWidgetCommandAction = this._createActionByOption(\"onWidgetCommand\");\n    }\n  }, {\n    key: \"_setItemEnabled\",\n    value: function value(command, enabled) {\n      if (command in this._itemHelpers) {\n        this._itemHelpers[command].setEnabled(enabled);\n      }\n    }\n  }, {\n    key: \"_setEnabled\",\n    value: function value(enabled) {\n      this._toolbarInstance.option(\"disabled\", !enabled);\n\n      this._contextMenus.forEach(function (cm) {\n        return cm.option(\"disabled\", !enabled);\n      });\n    }\n  }, {\n    key: \"_setItemValue\",\n    value: function value(command, _value2) {\n      try {\n        this._updateLocked = true;\n\n        if (command in this._itemHelpers) {\n          this._itemHelpers[command].setValue(_value2);\n        }\n      } finally {\n        this._updateLocked = false;\n      }\n    }\n  }, {\n    key: \"_setItemSubItems\",\n    value: function value(command, items) {\n      this._updateLocked = true;\n\n      if (command in this._itemHelpers) {\n        this._itemHelpers[command].setItems(items);\n      }\n\n      this._updateLocked = false;\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      switch (args.name) {\n        case \"onWidgetCommand\":\n          this._createOnWidgetCommand();\n\n          break;\n\n        case \"commands\":\n          this._invalidate();\n\n          break;\n\n        case \"export\":\n          break;\n\n        default:\n          _get(_getPrototypeOf(DiagramToolbar.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(DiagramToolbar.prototype), \"_getDefaultOptions\", this).call(this), {\n        \"export\": {\n          fileName: \"Diagram\",\n          proxyUrl: void 0\n        }\n      });\n    }\n  }]);\n\n  return DiagramToolbar;\n}(_diagram2.default);\n\nvar ToolbarDiagramBar = function (_DiagramBar) {\n  _inherits(ToolbarDiagramBar, _DiagramBar);\n\n  function ToolbarDiagramBar() {\n    _classCallCheck(this, ToolbarDiagramBar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ToolbarDiagramBar).apply(this, arguments));\n  }\n\n  _createClass(ToolbarDiagramBar, [{\n    key: \"getCommandKeys\",\n    value: function value() {\n      return this.getKeys(_uiDiagram2.default.getToolbarCommands());\n    }\n  }, {\n    key: \"getKeys\",\n    value: function value(items) {\n      var _this6 = this;\n\n      return items.reduce(function (commands, item) {\n        if (void 0 !== item.command) {\n          commands.push(item.command);\n        }\n\n        if (item.items) {\n          commands = commands.concat(_this6.getKeys(item.items));\n        }\n\n        return commands;\n      }, []);\n    }\n  }, {\n    key: \"setItemValue\",\n    value: function value(key, _value3) {\n      this._owner._setItemValue(key, _value3);\n    }\n  }, {\n    key: \"setItemEnabled\",\n    value: function value(key, enabled) {\n      this._owner._setItemEnabled(key, enabled);\n    }\n  }, {\n    key: \"setEnabled\",\n    value: function value(enabled) {\n      this._owner._setEnabled(enabled);\n    }\n  }, {\n    key: \"setItemSubItems\",\n    value: function value(key, items) {\n      this._owner._setItemSubItems(key, items);\n    }\n  }]);\n\n  return ToolbarDiagramBar;\n}(_diagram_bar2.default);\n\nvar ToolbarItemHelper = function () {\n  function ToolbarItemHelper(widget) {\n    _classCallCheck(this, ToolbarItemHelper);\n\n    this._widget = widget;\n  }\n\n  _createClass(ToolbarItemHelper, [{\n    key: \"setEnabled\",\n    value: function value(enabled) {\n      this._widget.option(\"disabled\", !enabled);\n    }\n  }, {\n    key: \"setValue\",\n    value: function value(_value4) {\n      if (\"value\" in this._widget.option()) {\n        this._widget.option(\"value\", _value4);\n      } else {\n        if (void 0 !== _value4) {\n          this._widget.$element().toggleClass(ACTIVE_FORMAT_CLASS, _value4);\n        }\n      }\n    }\n  }, {\n    key: \"setItems\",\n    value: function value(items) {\n      if (\"items\" in this._widget.option()) {\n        this._widget.option(\"items\", items.map(function (item) {\n          var value = \"object\" === _typeof(item.value) ? JSON.stringify(item.value) : item.value;\n          return {\n            value: value,\n            title: item.text\n          };\n        }));\n      }\n    }\n  }]);\n\n  return ToolbarItemHelper;\n}();\n\nvar ContextMenuItemHelper = function (_ToolbarItemHelper) {\n  _inherits(ContextMenuItemHelper, _ToolbarItemHelper);\n\n  function ContextMenuItemHelper(widget, indexPath, rootButton) {\n    var _this7;\n\n    _classCallCheck(this, ContextMenuItemHelper);\n\n    _this7 = _possibleConstructorReturn(this, _getPrototypeOf(ContextMenuItemHelper).call(this, widget));\n    _this7._indexPath = indexPath;\n    _this7._rootButton = rootButton;\n    return _this7;\n  }\n\n  _createClass(ContextMenuItemHelper, [{\n    key: \"setEnabled\",\n    value: function value(enabled) {\n      var optionText = this._indexPath.reduce(function (r, i) {\n        return r + \"items[\".concat(i, \"].\");\n      }, \"\") + \"disabled\";\n\n      this._widget.option(optionText, !enabled);\n\n      var rootEnabled = this._hasEnabledCommandItems(this._widget.option(\"items\"));\n\n      this._rootButton.option(\"disabled\", !rootEnabled);\n    }\n  }, {\n    key: \"_hasEnabledCommandItems\",\n    value: function value(items) {\n      var _this8 = this;\n\n      if (items) {\n        return items.some(function (item) {\n          return void 0 !== item.command && !item.disabled || _this8._hasEnabledCommandItems(item.items);\n        });\n      }\n\n      return false;\n    }\n  }, {\n    key: \"setValue\",\n    value: function value(_value5) {}\n  }]);\n\n  return ContextMenuItemHelper;\n}(ToolbarItemHelper);\n\nmodule.exports = DiagramToolbar;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/diagram/ui.diagram.toolbar.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_diagram","_diagram2","_toolbar","_toolbar2","_context_menu","_context_menu2","_uiDiagram","_uiDiagram2","_diagram_bar","_diagram_bar2","_extend","_message","_message2","obj","Symbol","_typeof","instance","i","props","descriptor","Object","_defineProperties","Constructor","call","_assertThisInitialized","Reflect","_get","base","_superPropBase","desc","receiver","object","_getPrototypeOf","o","subClass","superClass","constructor","value","writable","configurable","_setPrototypeOf","ACTIVE_FORMAT_CLASS","TOOLBAR_CLASS","WIDGET_COMMANDS","command","icon","hint","text","TOOLBAR_SEPARATOR_CLASS","TOOLBAR_MENU_SEPARATOR_CLASS","DiagramToolbar","_inherits","_classCallCheck","_possibleConstructorReturn","_createClass","key","$toolbar","commands","widgetCommandNames","widgetCommands","c","dataSource","_this","location","locateInMenu","_this2","item","template","menuItemTemplate","widget","cssClass","options","stylingMode","onInitialized","e","onContentReady","_ref","items","valueExpr","displayExpr","showText","isSelectButton","fieldTemplate","data","readOnly","itemTemplate","openOnFieldClick","_this3","onValueChanged","parameter","handler","onClick","_this4","$menuContainer","target","showEvent","position","at","onItemClick","itemData","_ref2","actionHandler","component","_ref3","onDisposing","_ref4","_this5","itemIndexPath","indexPath","cm","name","args","fileName","proxyUrl","ToolbarDiagramBar","_this6","ToolbarItemHelper","JSON","title","ContextMenuItemHelper","_this7","optionText","r","rootEnabled","_this8","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/diagram/ui.diagram.toolbar.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _diagram = require(\"./diagram.panel\");\r\nvar _diagram2 = _interopRequireDefault(_diagram);\r\nvar _toolbar = require(\"../toolbar\");\r\nvar _toolbar2 = _interopRequireDefault(_toolbar);\r\nvar _context_menu = require(\"../context_menu\");\r\nvar _context_menu2 = _interopRequireDefault(_context_menu);\r\nvar _uiDiagram = require(\"./ui.diagram.commands\");\r\nvar _uiDiagram2 = _interopRequireDefault(_uiDiagram);\r\nvar _diagram_bar = require(\"./diagram_bar\");\r\nvar _diagram_bar2 = _interopRequireDefault(_diagram_bar);\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _message = require(\"../../localization/message\");\r\nvar _message2 = _interopRequireDefault(_message);\r\nrequire(\"../select_box\");\r\nrequire(\"../color_box\");\r\nrequire(\"../check_box\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar ACTIVE_FORMAT_CLASS = \"dx-format-active\";\r\nvar TOOLBAR_CLASS = \"dx-diagram-toolbar\";\r\nvar WIDGET_COMMANDS = [{\r\n    command: \"options\",\r\n    icon: \"preferences\",\r\n    hint: _message2.default.format(\"dxDiagram-commandProperties\"),\r\n    text: _message2.default.format(\"dxDiagram-commandProperties\")\r\n}];\r\nvar TOOLBAR_SEPARATOR_CLASS = \"dx-diagram-toolbar-separator\";\r\nvar TOOLBAR_MENU_SEPARATOR_CLASS = \"dx-diagram-toolbar-menu-separator\";\r\nvar DiagramToolbar = function(_DiagramPanel) {\r\n    _inherits(DiagramToolbar, _DiagramPanel);\r\n\r\n    function DiagramToolbar() {\r\n        _classCallCheck(this, DiagramToolbar);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(DiagramToolbar).apply(this, arguments))\r\n    }\r\n    _createClass(DiagramToolbar, [{\r\n        key: \"_init\",\r\n        value: function() {\r\n            this.bar = new ToolbarDiagramBar(this);\r\n            this._itemHelpers = {};\r\n            this._contextMenus = [];\r\n            this._createOnWidgetCommand();\r\n            _get(_getPrototypeOf(DiagramToolbar.prototype), \"_init\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(DiagramToolbar.prototype), \"_initMarkup\", this).call(this);\r\n            var $toolbar = (0, _renderer2.default)(\"<div>\").addClass(TOOLBAR_CLASS).appendTo(this._$element);\r\n            this._renderToolbar($toolbar)\r\n        }\r\n    }, {\r\n        key: \"_renderToolbar\",\r\n        value: function($toolbar) {\r\n            var commands = _uiDiagram2.default.getToolbarCommands(this.option(\"commands\"));\r\n            var widgetCommandNames = this.option(\"widgetCommandNames\") || [];\r\n            var widgetCommands = WIDGET_COMMANDS.filter(function(c) {\r\n                return widgetCommandNames.indexOf(c.command) > -1\r\n            });\r\n            var dataSource = this._prepareToolbarItems(commands, \"before\", this._execDiagramCommand);\r\n            dataSource = dataSource.concat(this._prepareToolbarItems(widgetCommands, \"after\", this._execWidgetCommand));\r\n            this._toolbarInstance = this._createComponent($toolbar, _toolbar2.default, {\r\n                dataSource: dataSource\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_prepareToolbarItems\",\r\n        value: function(items, location, actionHandler) {\r\n            var _this = this;\r\n            return items.map(function(item) {\r\n                return (0, _extend.extend)(true, {\r\n                    location: location,\r\n                    locateInMenu: \"auto\"\r\n                }, _this._createItem(item, location, actionHandler), _this._createItemOptions(item), _this._createItemActionOptions(item, actionHandler))\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createItem\",\r\n        value: function(item, location, actionHandler) {\r\n            var _this2 = this;\r\n            if (\"separator\" === item.widget) {\r\n                return {\r\n                    template: function(data, index, element) {\r\n                        (0, _renderer2.default)(element).addClass(TOOLBAR_SEPARATOR_CLASS)\r\n                    },\r\n                    menuItemTemplate: function(data, index, element) {\r\n                        (0, _renderer2.default)(element).addClass(TOOLBAR_MENU_SEPARATOR_CLASS)\r\n                    }\r\n                }\r\n            }\r\n            return {\r\n                widget: item.widget || \"dxButton\",\r\n                cssClass: item.cssClass,\r\n                options: {\r\n                    stylingMode: \"text\",\r\n                    text: item.text,\r\n                    hint: item.hint,\r\n                    icon: item.icon,\r\n                    onInitialized: function(e) {\r\n                        return _this2._onItemInitialized(e.component, item)\r\n                    },\r\n                    onContentReady: function(e) {\r\n                        return _this2._onItemContentReady(e.component, item, actionHandler)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createItemOptions\",\r\n        value: function(_ref) {\r\n            var widget = _ref.widget,\r\n                items = _ref.items,\r\n                valueExpr = _ref.valueExpr,\r\n                displayExpr = _ref.displayExpr,\r\n                showText = _ref.showText,\r\n                hint = _ref.hint,\r\n                icon = _ref.icon;\r\n            if (\"dxSelectBox\" === widget) {\r\n                return this._createSelectBoxItemOptions(hint, items, valueExpr, displayExpr)\r\n            } else {\r\n                if (\"dxColorBox\" === widget) {\r\n                    return this._createColorBoxItemOptions(hint, icon)\r\n                } else {\r\n                    if (!widget || \"dxButton\" === widget) {\r\n                        return {\r\n                            showText: showText || \"inMenu\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createSelectBoxItemOptions\",\r\n        value: function(hint, items, valueExpr, displayExpr) {\r\n            var options = this._createSelectBoxBaseItemOptions(hint);\r\n            if (items) {\r\n                options = (0, _extend.extend)(true, options, {\r\n                    options: {\r\n                        items: items,\r\n                        displayExpr: displayExpr,\r\n                        valueExpr: valueExpr\r\n                    }\r\n                })\r\n            } else {\r\n                options = (0, _extend.extend)(true, options, {\r\n                    options: {\r\n                        dataSource: items,\r\n                        displayExpr: \"title\",\r\n                        valueExpr: \"value\"\r\n                    }\r\n                })\r\n            }\r\n            var isSelectButton = items && items.every(function(i) {\r\n                return void 0 !== i.icon\r\n            });\r\n            if (isSelectButton) {\r\n                options = (0, _extend.extend)(true, options, {\r\n                    options: {\r\n                        fieldTemplate: function(data, container) {\r\n                            (0, _renderer2.default)(\"<i>\").addClass(data && data.icon).appendTo(container);\r\n                            (0, _renderer2.default)(\"<div>\").dxTextBox({\r\n                                readOnly: true,\r\n                                stylingMode: \"outlined\"\r\n                            }).appendTo(container)\r\n                        },\r\n                        itemTemplate: function(data) {\r\n                            return '<i class=\"'.concat(data.icon, '\"').concat(data.hint && ' title=\"'.concat(data.hint), '\"}></i>')\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n            return options\r\n        }\r\n    }, {\r\n        key: \"_createColorBoxItemOptions\",\r\n        value: function(hint, icon) {\r\n            var options = this._createSelectBoxBaseItemOptions(hint);\r\n            if (icon) {\r\n                options = (0, _extend.extend)(true, options, {\r\n                    options: {\r\n                        openOnFieldClick: true,\r\n                        fieldTemplate: function(data, container) {\r\n                            (0, _renderer2.default)(\"<i>\").addClass(icon).css(\"borderBottomColor\", data).appendTo(container);\r\n                            (0, _renderer2.default)(\"<div>\").dxTextBox({\r\n                                readOnly: true,\r\n                                stylingMode: \"outlined\"\r\n                            }).appendTo(container)\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n            return options\r\n        }\r\n    }, {\r\n        key: \"_createSelectBoxBaseItemOptions\",\r\n        value: function(hint) {\r\n            return {\r\n                options: {\r\n                    stylingMode: \"filled\",\r\n                    hint: hint\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createItemActionOptions\",\r\n        value: function(item, handler) {\r\n            var _this3 = this;\r\n            switch (item.widget) {\r\n                case \"dxSelectBox\":\r\n                case \"dxColorBox\":\r\n                case \"dxCheckBox\":\r\n                    return {\r\n                        options: {\r\n                            onValueChanged: function(e) {\r\n                                var parameter = _this3._getExecCommandParameter(item, e.component.option(\"value\"));\r\n                                handler.call(_this3, item.command, parameter)\r\n                            }\r\n                        }\r\n                    };\r\n                default:\r\n                    if (!item.items) {\r\n                        return {\r\n                            options: {\r\n                                onClick: function(e) {\r\n                                    var parameter = _this3._getExecCommandParameter(item);\r\n                                    handler.call(_this3, item.command, parameter)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getExecCommandParameter\",\r\n        value: function(item, widgetValue) {\r\n            if (item.getParameter) {\r\n                return item.getParameter(this, widgetValue)\r\n            }\r\n            return widgetValue\r\n        }\r\n    }, {\r\n        key: \"_onItemInitialized\",\r\n        value: function(widget, item) {\r\n            if (void 0 !== item.command) {\r\n                this._itemHelpers[item.command] = new ToolbarItemHelper(widget)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onItemContentReady\",\r\n        value: function(widget, item, actionHandler) {\r\n            var _this4 = this;\r\n            if (\"dxButton\" === widget.NAME && item.items) {\r\n                var $menuContainer = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n                this._createComponent($menuContainer, _context_menu2.default, {\r\n                    dataSource: item.items,\r\n                    displayExpr: \"text\",\r\n                    valueExpr: \"command\",\r\n                    target: widget.$element(),\r\n                    showEvent: \"dxclick\",\r\n                    position: {\r\n                        at: \"left bottom\"\r\n                    },\r\n                    onItemClick: function(_ref2) {\r\n                        var itemData = _ref2.itemData;\r\n                        if (void 0 !== itemData.command) {\r\n                            var parameter = _this4._getExecCommandParameter(itemData);\r\n                            actionHandler.call(_this4, itemData.command, parameter)\r\n                        }\r\n                    },\r\n                    onInitialized: function(_ref3) {\r\n                        var component = _ref3.component;\r\n                        return _this4._onContextMenuInitialized(component, item, widget)\r\n                    },\r\n                    onDisposing: function(_ref4) {\r\n                        var component = _ref4.component;\r\n                        return _this4._onContextMenuDisposing(component, item)\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onContextMenuInitialized\",\r\n        value: function(widget, item, rootButton) {\r\n            this._contextMenus.push(widget);\r\n            this._addContextMenuHelper(item.items, widget, [], rootButton)\r\n        }\r\n    }, {\r\n        key: \"_addContextMenuHelper\",\r\n        value: function(items, widget, indexPath, rootButton) {\r\n            var _this5 = this;\r\n            if (items) {\r\n                items.forEach(function(item, index) {\r\n                    var itemIndexPath = indexPath.concat(index);\r\n                    _this5._itemHelpers[item.command] = new ContextMenuItemHelper(widget, itemIndexPath, rootButton);\r\n                    _this5._addContextMenuHelper(item.items, widget, itemIndexPath, rootButton)\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onContextMenuDisposing\",\r\n        value: function(widget, item) {\r\n            this._contextMenus = this._contextMenus.filter(function(cm) {\r\n                return cm !== widget\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_execDiagramCommand\",\r\n        value: function(command, value) {\r\n            if (!this._updateLocked) {\r\n                this.bar.raiseBarCommandExecuted(command, value)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_execWidgetCommand\",\r\n        value: function(command) {\r\n            if (!this._updateLocked) {\r\n                this._onWidgetCommandAction({\r\n                    name: command\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createOnWidgetCommand\",\r\n        value: function() {\r\n            this._onWidgetCommandAction = this._createActionByOption(\"onWidgetCommand\")\r\n        }\r\n    }, {\r\n        key: \"_setItemEnabled\",\r\n        value: function(command, enabled) {\r\n            if (command in this._itemHelpers) {\r\n                this._itemHelpers[command].setEnabled(enabled)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_setEnabled\",\r\n        value: function(enabled) {\r\n            this._toolbarInstance.option(\"disabled\", !enabled);\r\n            this._contextMenus.forEach(function(cm) {\r\n                return cm.option(\"disabled\", !enabled)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_setItemValue\",\r\n        value: function(command, value) {\r\n            try {\r\n                this._updateLocked = true;\r\n                if (command in this._itemHelpers) {\r\n                    this._itemHelpers[command].setValue(value)\r\n                }\r\n            } finally {\r\n                this._updateLocked = false\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_setItemSubItems\",\r\n        value: function(command, items) {\r\n            this._updateLocked = true;\r\n            if (command in this._itemHelpers) {\r\n                this._itemHelpers[command].setItems(items)\r\n            }\r\n            this._updateLocked = false\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            switch (args.name) {\r\n                case \"onWidgetCommand\":\r\n                    this._createOnWidgetCommand();\r\n                    break;\r\n                case \"commands\":\r\n                    this._invalidate();\r\n                    break;\r\n                case \"export\":\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(DiagramToolbar.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(DiagramToolbar.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                \"export\": {\r\n                    fileName: \"Diagram\",\r\n                    proxyUrl: void 0\r\n                }\r\n            })\r\n        }\r\n    }]);\r\n    return DiagramToolbar\r\n}(_diagram2.default);\r\nvar ToolbarDiagramBar = function(_DiagramBar) {\r\n    _inherits(ToolbarDiagramBar, _DiagramBar);\r\n\r\n    function ToolbarDiagramBar() {\r\n        _classCallCheck(this, ToolbarDiagramBar);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(ToolbarDiagramBar).apply(this, arguments))\r\n    }\r\n    _createClass(ToolbarDiagramBar, [{\r\n        key: \"getCommandKeys\",\r\n        value: function() {\r\n            return this.getKeys(_uiDiagram2.default.getToolbarCommands())\r\n        }\r\n    }, {\r\n        key: \"getKeys\",\r\n        value: function(items) {\r\n            var _this6 = this;\r\n            return items.reduce(function(commands, item) {\r\n                if (void 0 !== item.command) {\r\n                    commands.push(item.command)\r\n                }\r\n                if (item.items) {\r\n                    commands = commands.concat(_this6.getKeys(item.items))\r\n                }\r\n                return commands\r\n            }, [])\r\n        }\r\n    }, {\r\n        key: \"setItemValue\",\r\n        value: function(key, value) {\r\n            this._owner._setItemValue(key, value)\r\n        }\r\n    }, {\r\n        key: \"setItemEnabled\",\r\n        value: function(key, enabled) {\r\n            this._owner._setItemEnabled(key, enabled)\r\n        }\r\n    }, {\r\n        key: \"setEnabled\",\r\n        value: function(enabled) {\r\n            this._owner._setEnabled(enabled)\r\n        }\r\n    }, {\r\n        key: \"setItemSubItems\",\r\n        value: function(key, items) {\r\n            this._owner._setItemSubItems(key, items)\r\n        }\r\n    }]);\r\n    return ToolbarDiagramBar\r\n}(_diagram_bar2.default);\r\nvar ToolbarItemHelper = function() {\r\n    function ToolbarItemHelper(widget) {\r\n        _classCallCheck(this, ToolbarItemHelper);\r\n        this._widget = widget\r\n    }\r\n    _createClass(ToolbarItemHelper, [{\r\n        key: \"setEnabled\",\r\n        value: function(enabled) {\r\n            this._widget.option(\"disabled\", !enabled)\r\n        }\r\n    }, {\r\n        key: \"setValue\",\r\n        value: function(value) {\r\n            if (\"value\" in this._widget.option()) {\r\n                this._widget.option(\"value\", value)\r\n            } else {\r\n                if (void 0 !== value) {\r\n                    this._widget.$element().toggleClass(ACTIVE_FORMAT_CLASS, value)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"setItems\",\r\n        value: function(items) {\r\n            if (\"items\" in this._widget.option()) {\r\n                this._widget.option(\"items\", items.map(function(item) {\r\n                    var value = \"object\" === _typeof(item.value) ? JSON.stringify(item.value) : item.value;\r\n                    return {\r\n                        value: value,\r\n                        title: item.text\r\n                    }\r\n                }))\r\n            }\r\n        }\r\n    }]);\r\n    return ToolbarItemHelper\r\n}();\r\nvar ContextMenuItemHelper = function(_ToolbarItemHelper) {\r\n    _inherits(ContextMenuItemHelper, _ToolbarItemHelper);\r\n\r\n    function ContextMenuItemHelper(widget, indexPath, rootButton) {\r\n        var _this7;\r\n        _classCallCheck(this, ContextMenuItemHelper);\r\n        _this7 = _possibleConstructorReturn(this, _getPrototypeOf(ContextMenuItemHelper).call(this, widget));\r\n        _this7._indexPath = indexPath;\r\n        _this7._rootButton = rootButton;\r\n        return _this7\r\n    }\r\n    _createClass(ContextMenuItemHelper, [{\r\n        key: \"setEnabled\",\r\n        value: function(enabled) {\r\n            var optionText = this._indexPath.reduce(function(r, i) {\r\n                return r + \"items[\".concat(i, \"].\")\r\n            }, \"\") + \"disabled\";\r\n            this._widget.option(optionText, !enabled);\r\n            var rootEnabled = this._hasEnabledCommandItems(this._widget.option(\"items\"));\r\n            this._rootButton.option(\"disabled\", !rootEnabled)\r\n        }\r\n    }, {\r\n        key: \"_hasEnabledCommandItems\",\r\n        value: function(items) {\r\n            var _this8 = this;\r\n            if (items) {\r\n                return items.some(function(item) {\r\n                    return void 0 !== item.command && !item.disabled || _this8._hasEnabledCommandItems(item.items)\r\n                })\r\n            }\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"setValue\",\r\n        value: function(value) {}\r\n    }]);\r\n    return ContextMenuItemHelper\r\n}(ToolbarItemHelper);\r\nmodule.exports = DiagramToolbar;\r\n"]},"metadata":{},"sourceType":"module"}