{"ast":null,"code":"import _inherits from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { defaultThrottleConfig } from './throttle';\nexport function throttleTime(duration) {\n  var scheduler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : async;\n  var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultThrottleConfig;\n  return function (source) {\n    return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));\n  };\n}\n\nvar ThrottleTimeOperator = /*#__PURE__*/function () {\n  function ThrottleTimeOperator(duration, scheduler, leading, trailing) {\n    _classCallCheck(this, ThrottleTimeOperator);\n\n    this.duration = duration;\n    this.scheduler = scheduler;\n    this.leading = leading;\n    this.trailing = trailing;\n  }\n\n  _createClass(ThrottleTimeOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\n    }\n  }]);\n\n  return ThrottleTimeOperator;\n}();\n\nvar ThrottleTimeSubscriber = /*#__PURE__*/function (_Subscriber) {\n  _inherits(ThrottleTimeSubscriber, _Subscriber);\n\n  var _super = _createSuper(ThrottleTimeSubscriber);\n\n  function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {\n    var _this;\n\n    _classCallCheck(this, ThrottleTimeSubscriber);\n\n    _this = _super.call(this, destination);\n    _this.duration = duration;\n    _this.scheduler = scheduler;\n    _this.leading = leading;\n    _this.trailing = trailing;\n    _this._hasTrailingValue = false;\n    _this._trailingValue = null;\n    return _this;\n  }\n\n  _createClass(ThrottleTimeSubscriber, [{\n    key: \"_next\",\n    value: function _next(value) {\n      if (this.throttled) {\n        if (this.trailing) {\n          this._trailingValue = value;\n          this._hasTrailingValue = true;\n        }\n      } else {\n        this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, {\n          subscriber: this\n        }));\n\n        if (this.leading) {\n          this.destination.next(value);\n        } else if (this.trailing) {\n          this._trailingValue = value;\n          this._hasTrailingValue = true;\n        }\n      }\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      if (this._hasTrailingValue) {\n        this.destination.next(this._trailingValue);\n        this.destination.complete();\n      } else {\n        this.destination.complete();\n      }\n    }\n  }, {\n    key: \"clearThrottle\",\n    value: function clearThrottle() {\n      var throttled = this.throttled;\n\n      if (throttled) {\n        if (this.trailing && this._hasTrailingValue) {\n          this.destination.next(this._trailingValue);\n          this._trailingValue = null;\n          this._hasTrailingValue = false;\n        }\n\n        throttled.unsubscribe();\n        this.remove(throttled);\n        this.throttled = null;\n      }\n    }\n  }]);\n\n  return ThrottleTimeSubscriber;\n}(Subscriber);\n\nfunction dispatchNext(arg) {\n  var subscriber = arg.subscriber;\n  subscriber.clearThrottle();\n}","map":{"version":3,"sources":["../../../src/internal/operators/throttleTime.ts"],"names":[],"mappings":"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","sourcesContent":["import { Subscriber } from '../Subscriber';\r\nimport { async } from '../scheduler/async';\r\nimport { defaultThrottleConfig } from './throttle';\r\nexport function throttleTime(duration, scheduler = async, config = defaultThrottleConfig) {\r\n    return (source) => source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));\r\n}\r\nclass ThrottleTimeOperator {\r\n    constructor(duration, scheduler, leading, trailing) {\r\n        this.duration = duration;\r\n        this.scheduler = scheduler;\r\n        this.leading = leading;\r\n        this.trailing = trailing;\r\n    }\r\n    call(subscriber, source) {\r\n        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\r\n    }\r\n}\r\nclass ThrottleTimeSubscriber extends Subscriber {\r\n    constructor(destination, duration, scheduler, leading, trailing) {\r\n        super(destination);\r\n        this.duration = duration;\r\n        this.scheduler = scheduler;\r\n        this.leading = leading;\r\n        this.trailing = trailing;\r\n        this._hasTrailingValue = false;\r\n        this._trailingValue = null;\r\n    }\r\n    _next(value) {\r\n        if (this.throttled) {\r\n            if (this.trailing) {\r\n                this._trailingValue = value;\r\n                this._hasTrailingValue = true;\r\n            }\r\n        }\r\n        else {\r\n            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, { subscriber: this }));\r\n            if (this.leading) {\r\n                this.destination.next(value);\r\n            }\r\n            else if (this.trailing) {\r\n                this._trailingValue = value;\r\n                this._hasTrailingValue = true;\r\n            }\r\n        }\r\n    }\r\n    _complete() {\r\n        if (this._hasTrailingValue) {\r\n            this.destination.next(this._trailingValue);\r\n            this.destination.complete();\r\n        }\r\n        else {\r\n            this.destination.complete();\r\n        }\r\n    }\r\n    clearThrottle() {\r\n        const throttled = this.throttled;\r\n        if (throttled) {\r\n            if (this.trailing && this._hasTrailingValue) {\r\n                this.destination.next(this._trailingValue);\r\n                this._trailingValue = null;\r\n                this._hasTrailingValue = false;\r\n            }\r\n            throttled.unsubscribe();\r\n            this.remove(throttled);\r\n            this.throttled = null;\r\n        }\r\n    }\r\n}\r\nfunction dispatchNext(arg) {\r\n    const { subscriber } = arg;\r\n    subscriber.clearThrottle();\r\n}\r\n//# sourceMappingURL=throttleTime.js.map"]},"metadata":{},"sourceType":"module"}