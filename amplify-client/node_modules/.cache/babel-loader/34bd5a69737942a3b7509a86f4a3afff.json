{"ast":null,"code":"/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.columns_view.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _dom_adapter = require(\"../../core/dom_adapter\");\n\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _element_data = require(\"../../core/element_data\");\n\nvar _element_data2 = _interopRequireDefault(_element_data);\n\nvar _pointer = require(\"../../events/pointer\");\n\nvar _pointer2 = _interopRequireDefault(_pointer);\n\nvar _click = require(\"../../events/click\");\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _double_click = require(\"../../events/double_click\");\n\nvar _double_click2 = _interopRequireDefault(_double_click);\n\nvar _browser = require(\"../../core/utils/browser\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _style = require(\"../../core/utils/style\");\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _dom = require(\"../../core/utils/dom\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _type2 = _interopRequireDefault(_type);\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _position = require(\"../../core/utils/position\");\n\nvar _uiGrid_core = require(\"./ui.grid_core.modules\");\n\nvar _uiGrid_core2 = _interopRequireDefault(_uiGrid_core);\n\nvar _uiGrid_core3 = require(\"./ui.grid_core.utils\");\n\nvar _uiGrid_core4 = require(\"./ui.grid_core.column_state_mixin\");\n\nvar _uiGrid_core5 = _interopRequireDefault(_uiGrid_core4);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar SCROLL_CONTAINER_CLASS = \"scroll-container\";\nvar GROUP_SPACE_CLASS = \"group-space\";\nvar CONTENT_CLASS = \"content\";\nvar TABLE_CLASS = \"table\";\nvar TABLE_FIXED_CLASS = \"table-fixed\";\nvar CONTENT_FIXED_CLASS = \"content-fixed\";\nvar ROW_CLASS = \"dx-row\";\nvar FIXED_COL_CLASS = \"dx-col-fixed\";\nvar GROUP_ROW_CLASS = \"dx-group-row\";\nvar DETAIL_ROW_CLASS = \"dx-master-detail-row\";\nvar FILTER_ROW_CLASS = \"filter-row\";\nvar CELL_UPDATED_ANIMATION_CLASS = \"cell-updated-animation\";\nvar HIDDEN_COLUMNS_WIDTH = \"0.0001px\";\nvar CELL_HINT_VISIBLE = \"dxCellHintVisible\";\nvar FORM_FIELD_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\nvar appendElementTemplate = {\n  render: function render(options) {\n    options.container.append(options.content);\n  }\n};\n\nvar subscribeToRowEvents = function subscribeToRowEvents(that, $table) {\n  var touchTarget;\n  var touchCurrentTarget;\n  var timeoutId;\n\n  function clearTouchTargets(timeout) {\n    return setTimeout(function () {\n      touchTarget = touchCurrentTarget = null;\n    }, timeout);\n  }\n\n  _events_engine2.default.on($table, \"touchstart touchend\", \".dx-row\", function (e) {\n    clearTimeout(timeoutId);\n\n    if (\"touchstart\" === e.type) {\n      touchTarget = e.target;\n      touchCurrentTarget = e.currentTarget;\n      timeoutId = clearTouchTargets(1e3);\n    } else {\n      timeoutId = clearTouchTargets();\n    }\n  });\n\n  _events_engine2.default.on($table, [_click2.default.name, _double_click2.default.name, _pointer2.default.down].join(\" \"), \".dx-row\", {\n    useNative: that._isNativeClick()\n  }, that.createAction(function (e) {\n    var event = e.event;\n\n    if (touchTarget) {\n      event.target = touchTarget;\n      event.currentTarget = touchCurrentTarget;\n    }\n\n    if (!(0, _renderer2.default)(event.target).closest(\"a\").length) {\n      e.rowIndex = that.getRowIndex(event.currentTarget);\n\n      if (e.rowIndex >= 0) {\n        e.rowElement = (0, _dom.getPublicElement)((0, _renderer2.default)(event.currentTarget));\n        e.columns = that.getColumns();\n\n        if (event.type === _pointer2.default.down) {\n          that._rowPointerDown(e);\n        } else {\n          if (event.type === _click2.default.name) {\n            that._rowClick(e);\n          } else {\n            that._rowDblClick(e);\n          }\n        }\n      }\n    }\n  }));\n};\n\nvar getWidthStyle = function getWidthStyle(width) {\n  if (\"auto\" === width) {\n    return \"\";\n  }\n\n  return _type2.default.isNumeric(width) ? width + \"px\" : width;\n};\n\nvar setCellWidth = function setCellWidth(cell, column, width) {\n  cell.style.width = cell.style.maxWidth = \"auto\" === column.width ? \"\" : width;\n};\n\nvar copyAttributes = function copyAttributes(element, newElement) {\n  if (!element || !newElement) {\n    return;\n  }\n\n  var oldAttributes = element.attributes;\n  var newAttributes = newElement.attributes;\n  var name;\n  var i;\n\n  for (i = 0; i < oldAttributes.length; i++) {\n    name = oldAttributes[i].nodeName;\n\n    if (!newElement.hasAttribute(name)) {\n      element.removeAttribute(name);\n    }\n  }\n\n  for (i = 0; i < newAttributes.length; i++) {\n    element.setAttribute(newAttributes[i].nodeName, newAttributes[i].nodeValue);\n  }\n};\n\nexports.ColumnsView = _uiGrid_core2.default.View.inherit(_uiGrid_core5.default).inherit({\n  _createScrollableOptions: function _createScrollableOptions() {\n    var that = this;\n    var scrollingOptions = that.option(\"scrolling\");\n    var useNativeScrolling = that.option(\"scrolling.useNative\");\n    var options = (0, _extend.extend)({\n      pushBackValue: 0\n    }, scrollingOptions, {\n      direction: \"both\",\n      bounceEnabled: false,\n      useKeyboard: false\n    });\n\n    if (void 0 === useNativeScrolling) {\n      useNativeScrolling = true;\n    }\n\n    if (\"auto\" === useNativeScrolling) {\n      delete options.useNative;\n      delete options.useSimulatedScrollbar;\n    } else {\n      options.useNative = !!useNativeScrolling;\n      options.useSimulatedScrollbar = !useNativeScrolling;\n    }\n\n    return options;\n  },\n  _updateCell: function _updateCell($cell, parameters) {\n    if (parameters.rowType) {\n      this._cellPrepared($cell, parameters);\n    }\n  },\n  _createCell: function _createCell(options) {\n    var column = options.column;\n    var alignment = column.alignment || (0, _position.getDefaultAlignment)(this.option(\"rtlEnabled\"));\n\n    var cell = _dom_adapter2.default.createElement(\"td\");\n\n    cell.style.textAlign = alignment;\n    var $cell = (0, _renderer2.default)(cell);\n\n    if (\"data\" === options.rowType && column.headerId && !column.type) {\n      if (this.component.option(\"showColumnHeaders\")) {\n        this.setAria(\"describedby\", column.headerId, $cell);\n      }\n    }\n\n    if (column.cssClass) {\n      $cell.addClass(column.cssClass);\n    }\n\n    if (\"expand\" === column.command) {\n      $cell.addClass(column.cssClass);\n      $cell.addClass(this.addWidgetPrefix(GROUP_SPACE_CLASS));\n    }\n\n    if (column.colspan > 1) {\n      $cell.attr(\"colSpan\", column.colspan);\n    } else {\n      if (!column.isBand && \"auto\" !== column.visibleWidth && !this.option(\"legacyRendering\") && this.option(\"columnAutoWidth\")) {\n        if (column.width || column.minWidth) {\n          cell.style.minWidth = getWidthStyle(column.minWidth || column.width);\n        }\n\n        if (column.width) {\n          setCellWidth(cell, column, getWidthStyle(column.width));\n        }\n      }\n    }\n\n    if (_browser2.default.mozilla && options.column.fixed) {\n      $cell.addClass(FIXED_COL_CLASS);\n    }\n\n    return $cell;\n  },\n  _createRow: function _createRow(rowObject) {\n    var $element = (0, _renderer2.default)(\"<tr>\").addClass(ROW_CLASS);\n    this.setAria(\"role\", \"row\", $element);\n    return $element;\n  },\n  _createTable: function _createTable(columns, isAppend) {\n    var that = this;\n    var $table = (0, _renderer2.default)(\"<table>\").addClass(that.addWidgetPrefix(TABLE_CLASS)).addClass(that.addWidgetPrefix(TABLE_FIXED_CLASS));\n\n    if (columns && !isAppend) {\n      $table.append(that._createColGroup(columns));\n\n      if (_browser2.default.safari) {\n        $table.append((0, _renderer2.default)(\"<thead>\").append(\"<tr>\"));\n      }\n\n      that.setAria(\"role\", \"presentation\", $table);\n    } else {\n      that.setAria(\"hidden\", true, $table);\n    }\n\n    this.setAria(\"role\", \"presentation\", (0, _renderer2.default)(\"<tbody>\").appendTo($table));\n\n    if (isAppend) {\n      return $table;\n    }\n\n    if (_browser2.default.mozilla) {\n      _events_engine2.default.on($table, \"mousedown\", \"td\", function (e) {\n        if (e.ctrlKey) {\n          e.preventDefault();\n        }\n      });\n    }\n\n    if (that.option(\"cellHintEnabled\")) {\n      _events_engine2.default.on($table, \"mousemove\", \".dx-row > td\", this.createAction(function (args) {\n        var e = args.event;\n        var difference;\n        var $element = (0, _renderer2.default)(e.target);\n        var $cell = (0, _renderer2.default)(e.currentTarget);\n        var $row = $cell.parent();\n        var isDataRow = $row.hasClass(\"dx-data-row\");\n        var isHeaderRow = $row.hasClass(\"dx-header-row\");\n        var isGroupRow = $row.hasClass(GROUP_ROW_CLASS);\n        var isMasterDetailRow = $row.hasClass(DETAIL_ROW_CLASS);\n        var isFilterRow = $row.hasClass(that.addWidgetPrefix(FILTER_ROW_CLASS));\n\n        var visibleColumns = that._columnsController.getVisibleColumns();\n\n        var rowOptions = $row.data(\"options\");\n        var columnIndex = $cell.index();\n        var cellOptions = rowOptions && rowOptions.cells && rowOptions.cells[columnIndex];\n        var column = cellOptions ? cellOptions.column : visibleColumns[columnIndex];\n        var msieCorrection = _browser2.default.msie ? 1 : 0;\n\n        if (!isMasterDetailRow && !isFilterRow && (!isDataRow || isDataRow && column && !column.cellTemplate) && (!isHeaderRow || isHeaderRow && column && !column.headerCellTemplate) && (!isGroupRow || isGroupRow && column && (void 0 === column.groupIndex || !column.groupCellTemplate))) {\n          if ($element.data(CELL_HINT_VISIBLE)) {\n            $element.removeAttr(\"title\");\n            $element.data(CELL_HINT_VISIBLE, false);\n          }\n\n          difference = $element[0].scrollWidth - $element[0].clientWidth - msieCorrection;\n\n          if (difference > 0 && !_type2.default.isDefined($element.attr(\"title\"))) {\n            $element.attr(\"title\", $element.text());\n            $element.data(CELL_HINT_VISIBLE, true);\n          }\n        }\n      }));\n    }\n\n    var getOptions = function getOptions(event) {\n      var $cell = (0, _renderer2.default)(event.currentTarget);\n      var $fieldItemContent = (0, _renderer2.default)(event.target).closest(\".\" + FORM_FIELD_ITEM_CONTENT_CLASS);\n      var formItemOptions;\n      var rowOptions = $cell.parent().data(\"options\");\n      var options = rowOptions && rowOptions.cells && rowOptions.cells[$cell.index()];\n      var resultOptions;\n\n      if (!$cell.closest(\"table\").is(event.delegateTarget)) {\n        return;\n      }\n\n      resultOptions = (0, _extend.extend)({}, options, {\n        cellElement: (0, _dom.getPublicElement)($cell),\n        event: event,\n        eventType: event.type\n      });\n\n      if ($fieldItemContent.length) {\n        formItemOptions = $fieldItemContent.data(\"dx-form-item\");\n\n        if (formItemOptions.column) {\n          resultOptions.column = formItemOptions.column;\n          resultOptions.columnIndex = that._columnsController.getVisibleIndex(resultOptions.column.index);\n        }\n      }\n\n      return resultOptions;\n    };\n\n    _events_engine2.default.on($table, \"mouseover\", \".dx-row > td\", function (e) {\n      var options = getOptions(e);\n      options && that.executeAction(\"onCellHoverChanged\", options);\n    });\n\n    _events_engine2.default.on($table, \"mouseout\", \".dx-row > td\", function (e) {\n      var options = getOptions(e);\n      options && that.executeAction(\"onCellHoverChanged\", options);\n    });\n\n    _events_engine2.default.on($table, _click2.default.name, \".dx-row > td\", function (e) {\n      var options = getOptions(e);\n      options && that.executeAction(\"onCellClick\", options);\n    });\n\n    _events_engine2.default.on($table, _double_click2.default.name, \".dx-row > td\", function (e) {\n      var options = getOptions(e);\n      options && that.executeAction(\"onCellDblClick\", options);\n    });\n\n    subscribeToRowEvents(that, $table);\n    return $table;\n  },\n  _isNativeClick: _common.noop,\n  _rowPointerDown: _common.noop,\n  _rowClick: _common.noop,\n  _rowDblClick: _common.noop,\n  _createColGroup: function _createColGroup(columns) {\n    var i;\n    var j;\n    var colgroupElement = (0, _renderer2.default)(\"<colgroup>\");\n    var colspan;\n\n    for (i = 0; i < columns.length; i++) {\n      colspan = columns[i].colspan || 1;\n\n      for (j = 0; j < colspan; j++) {\n        colgroupElement.append(this._createCol(columns[i]));\n      }\n    }\n\n    return colgroupElement;\n  },\n  _createCol: function _createCol(column) {\n    var width = column.visibleWidth || column.width;\n\n    if (\"adaptiveHidden\" === width) {\n      width = HIDDEN_COLUMNS_WIDTH;\n    }\n\n    var col = (0, _renderer2.default)(\"<col>\");\n\n    _style2.default.setWidth(col, width);\n\n    return col;\n  },\n  renderDelayedTemplates: function renderDelayedTemplates() {\n    var delayedTemplates = this._delayedTemplates;\n    var syncTemplates = delayedTemplates.filter(function (template) {\n      return !template.async;\n    });\n    var asyncTemplates = delayedTemplates.filter(function (template) {\n      return template.async;\n    });\n    this._delayedTemplates = [];\n\n    this._renderDelayedTemplatesCore(syncTemplates);\n\n    this._renderDelayedTemplatesCoreAsync(asyncTemplates);\n  },\n  _renderDelayedTemplatesCoreAsync: function _renderDelayedTemplatesCoreAsync(templates) {\n    var that = this;\n\n    if (templates.length) {\n      (0, _window.getWindow)().setTimeout(function () {\n        that._renderDelayedTemplatesCore(templates, true);\n      });\n    }\n  },\n  _renderDelayedTemplatesCore: function _renderDelayedTemplatesCore(templates, isAsync) {\n    var templateParameters;\n    var date = new Date();\n\n    while (templates.length) {\n      templateParameters = templates.shift();\n      var options = templateParameters.options;\n      var model = options.model;\n\n      var doc = _dom_adapter2.default.getDocument();\n\n      if (!isAsync || (0, _renderer2.default)(options.container).closest(doc).length) {\n        templateParameters.template.render(options);\n\n        if (model && model.column) {\n          this._updateCell(options.container, model);\n        }\n      }\n\n      if (isAsync && new Date() - date > 30) {\n        this._renderDelayedTemplatesCoreAsync(templates);\n\n        break;\n      }\n    }\n  },\n  _processTemplate: function _processTemplate(template) {\n    var that = this;\n    var templateID;\n    var renderingTemplate;\n\n    if (template && template.render && !_type2.default.isRenderer(template)) {\n      renderingTemplate = {\n        allowRenderToDetachedContainer: template.allowRenderToDetachedContainer,\n        render: function render(options) {\n          template.render(options.container, options.model);\n        }\n      };\n    } else {\n      if (_type2.default.isFunction(template)) {\n        renderingTemplate = {\n          render: function render(options) {\n            var renderedTemplate = template((0, _dom.getPublicElement)(options.container), options.model);\n\n            if (renderedTemplate && (renderedTemplate.nodeType || _type2.default.isRenderer(renderedTemplate))) {\n              options.container.append(renderedTemplate);\n            }\n          }\n        };\n      } else {\n        templateID = _type2.default.isString(template) ? template : (0, _renderer2.default)(template).attr(\"id\");\n\n        if (!templateID) {\n          renderingTemplate = that.getTemplate(template);\n        } else {\n          if (!that._templatesCache[templateID]) {\n            that._templatesCache[templateID] = that.getTemplate(template);\n          }\n\n          renderingTemplate = that._templatesCache[templateID];\n        }\n      }\n    }\n\n    return renderingTemplate;\n  },\n  renderTemplate: function renderTemplate(container, template, options, allowRenderToDetachedContainer) {\n    var that = this;\n\n    var renderingTemplate = that._processTemplate(template, options);\n\n    var column = options.column;\n    var isDataRow = \"data\" === options.rowType;\n    var async;\n\n    if (renderingTemplate) {\n      options.component = that.component;\n      async = column && (column.renderAsync && isDataRow || that.option(\"renderAsync\") && (false !== column.renderAsync && (column.command || column.showEditorAlways) && isDataRow || \"filter\" === options.rowType));\n\n      if ((renderingTemplate.allowRenderToDetachedContainer || allowRenderToDetachedContainer) && !async) {\n        renderingTemplate.render({\n          container: container,\n          model: options\n        });\n        return true;\n      } else {\n        that._delayedTemplates.push({\n          template: renderingTemplate,\n          options: {\n            container: container,\n            model: options\n          },\n          async: async\n        });\n      }\n    }\n\n    return false;\n  },\n  _getBodies: function _getBodies(tableElement) {\n    return (0, _renderer2.default)(tableElement).children(\"tbody\").not(\".dx-header\").not(\".dx-footer\");\n  },\n  _wrapRowIfNeed: function _wrapRowIfNeed($table, $row) {\n    var $tBodies = this.option(\"rowTemplate\") && this._getBodies(this._tableElement || $table);\n\n    if ($tBodies && $tBodies.filter(\".\" + ROW_CLASS).length) {\n      var $tbody = (0, _renderer2.default)(\"<tbody>\").addClass($row.attr(\"class\"));\n      this.setAria(\"role\", \"presentation\", $tbody);\n      return $tbody.append($row);\n    }\n\n    return $row;\n  },\n  _appendRow: function _appendRow($table, $row, appendTemplate) {\n    appendTemplate = appendTemplate || appendElementTemplate;\n    appendTemplate.render({\n      content: $row,\n      container: $table\n    });\n  },\n  _resizeCore: function _resizeCore() {\n    var that = this;\n    var scrollLeft = that._scrollLeft;\n\n    if (scrollLeft >= 0) {\n      that._scrollLeft = 0;\n      that.scrollTo({\n        left: scrollLeft\n      });\n    }\n  },\n  _renderCore: function _renderCore(e) {\n    var $root = this.element().parent();\n\n    if (!$root || $root.parent().length) {\n      this.renderDelayedTemplates(e);\n    }\n  },\n  _renderTable: function _renderTable(options) {\n    options = options || {};\n    var that = this;\n    var $table;\n    options.columns = that._columnsController.getVisibleColumns();\n    var changeType = options.change && options.change.changeType;\n    $table = that._createTable(options.columns, \"append\" === changeType || \"prepend\" === changeType || \"update\" === changeType);\n\n    that._renderRows($table, options);\n\n    return $table;\n  },\n  _renderRows: function _renderRows($table, options) {\n    var that = this;\n    var i;\n\n    var rows = that._getRows(options.change);\n\n    var columnIndices = options.change && options.change.columnIndices || [];\n    var changeTypes = options.change && options.change.changeTypes || [];\n\n    for (i = 0; i < rows.length; i++) {\n      that._renderRow($table, (0, _extend.extend)({\n        row: rows[i],\n        columnIndices: columnIndices[i],\n        changeType: changeTypes[i]\n      }, options));\n    }\n  },\n  _renderRow: function _renderRow($table, options) {\n    var that = this;\n    var $row;\n    var $wrappedRow;\n\n    if (!options.columnIndices) {\n      options.row.cells = [];\n    }\n\n    $row = that._createRow(options.row);\n    $wrappedRow = that._wrapRowIfNeed($table, $row);\n\n    if (\"remove\" !== options.changeType) {\n      that._renderCells($row, options);\n    }\n\n    that._appendRow($table, $wrappedRow);\n\n    var rowOptions = (0, _extend.extend)({\n      columns: options.columns\n    }, options.row);\n\n    that._addWatchMethod(rowOptions, options.row);\n\n    that._rowPrepared($wrappedRow, rowOptions, options.row);\n  },\n  _needRenderCell: function _needRenderCell(columnIndex, columnIndices) {\n    return !columnIndices || columnIndices.indexOf(columnIndex) >= 0;\n  },\n  _renderCells: function _renderCells($row, options) {\n    var that = this;\n    var i;\n    var columnIndex = 0;\n    var row = options.row;\n    var columns = options.columns;\n\n    for (i = 0; i < columns.length; i++) {\n      if (this._needRenderCell(i, options.columnIndices)) {\n        that._renderCell($row, (0, _extend.extend)({\n          column: columns[i],\n          columnIndex: columnIndex,\n          value: row.values && row.values[columnIndex],\n          oldValue: row.oldValues && row.oldValues[columnIndex]\n        }, options));\n      }\n\n      if (columns[i].colspan > 1) {\n        columnIndex += columns[i].colspan;\n      } else {\n        columnIndex++;\n      }\n    }\n  },\n  _updateCells: function _updateCells($rowElement, $newRowElement, columnIndices) {\n    var $cells = $rowElement.children();\n    var $newCells = $newRowElement.children();\n    var highlightChanges = this.option(\"highlightChanges\");\n    var cellUpdatedClass = this.addWidgetPrefix(CELL_UPDATED_ANIMATION_CLASS);\n    columnIndices.forEach(function (columnIndex, index) {\n      var $cell = $cells.eq(columnIndex);\n      var $newCell = $newCells.eq(index);\n      $cell.replaceWith($newCell);\n\n      if (highlightChanges && !$newCell.hasClass(\"dx-command-expand\")) {\n        $newCell.addClass(cellUpdatedClass);\n      }\n    });\n    copyAttributes($rowElement.get(0), $newRowElement.get(0));\n  },\n  _setCellAriaAttributes: function _setCellAriaAttributes($cell, cellOptions) {\n    if (\"freeSpace\" !== cellOptions.rowType) {\n      this.setAria(\"selected\", false, $cell);\n      this.setAria(\"role\", \"gridcell\", $cell);\n      this.setAria(\"colindex\", cellOptions.columnIndex + 1, $cell);\n    }\n  },\n  _renderCell: function _renderCell($row, options) {\n    var that = this;\n\n    var cellOptions = that._getCellOptions(options);\n\n    var $cell;\n\n    if (options.columnIndices) {\n      if (options.row.cells) {\n        options.row.cells[cellOptions.columnIndex] = cellOptions;\n      }\n    } else {\n      options.row.cells.push(cellOptions);\n    }\n\n    $cell = that._createCell(cellOptions);\n\n    that._setCellAriaAttributes($cell, cellOptions);\n\n    that._renderCellContent($cell, cellOptions);\n\n    $row.get(0).appendChild($cell.get(0));\n    return $cell;\n  },\n  _renderCellContent: function _renderCellContent($cell, options) {\n    var template = this._getCellTemplate(options);\n\n    if (!template || this.renderTemplate($cell, template, options)) {\n      this._updateCell($cell, options);\n    }\n  },\n  _getCellTemplate: function _getCellTemplate() {},\n  _getRows: function _getRows() {\n    return [];\n  },\n  _getCellOptions: function _getCellOptions(options) {\n    var cellOptions = {\n      column: options.column,\n      columnIndex: options.columnIndex,\n      rowType: options.row.rowType\n    };\n\n    this._addWatchMethod(cellOptions);\n\n    return cellOptions;\n  },\n  _addWatchMethod: function _addWatchMethod(options, source) {\n    if (!this.option(\"repaintChangesOnly\")) {\n      return;\n    }\n\n    var watchers = [];\n    source = source || options;\n\n    source.watch = source.watch || function (getter, updateFunc) {\n      var oldValue = getter(source.data);\n\n      var watcher = function watcher() {\n        var newValue = getter(source.data);\n\n        if (JSON.stringify(oldValue) !== JSON.stringify(newValue)) {\n          updateFunc(newValue, oldValue);\n          oldValue = newValue;\n        }\n      };\n\n      watchers.push(watcher);\n\n      var stopWatch = function stopWatch() {\n        var index = watchers.indexOf(watcher);\n\n        if (index >= 0) {\n          watchers.splice(index, 1);\n        }\n      };\n\n      return stopWatch;\n    };\n\n    source.update = source.update || function (row) {\n      this.data = options.data = row.data;\n      this.rowIndex = options.rowIndex = row.rowIndex;\n      this.dataIndex = options.dataIndex = row.dataIndex;\n      this.isExpanded = options.isExpanded = row.isExpanded;\n\n      if (options.row) {\n        options.row = row;\n      }\n\n      watchers.forEach(function (watcher) {\n        watcher();\n      });\n    };\n\n    if (source !== options) {\n      options.watch = source.watch.bind(source);\n    }\n\n    return options;\n  },\n  _cellPrepared: function _cellPrepared(cell, options) {\n    options.cellElement = (0, _dom.getPublicElement)((0, _renderer2.default)(cell));\n    this.executeAction(\"onCellPrepared\", options);\n  },\n  _rowPrepared: function _rowPrepared($row, options) {\n    _element_data2.default.data($row.get(0), \"options\", options);\n\n    options.rowElement = (0, _dom.getPublicElement)($row);\n    this.executeAction(\"onRowPrepared\", options);\n  },\n  _columnOptionChanged: function _columnOptionChanged(e) {\n    var optionNames = e.optionNames;\n\n    if ((0, _uiGrid_core3.checkChanges)(optionNames, [\"width\", \"visibleWidth\"])) {\n      var visibleColumns = this._columnsController.getVisibleColumns();\n\n      var widths = _iterator2.default.map(visibleColumns, function (column) {\n        var width = column.visibleWidth || column.width;\n        return _type2.default.isDefined(width) ? width : \"auto\";\n      });\n\n      this.setColumnWidths({\n        widths: widths,\n        optionNames: optionNames\n      });\n      return;\n    }\n\n    if (!this._requireReady) {\n      this.render();\n    }\n  },\n  getCellIndex: function getCellIndex($cell) {\n    var cellIndex = $cell.length ? $cell[0].cellIndex : -1;\n    return cellIndex;\n  },\n  getTableElements: function getTableElements() {\n    return this._tableElement || (0, _renderer2.default)();\n  },\n  _getTableElement: function _getTableElement() {\n    return this._tableElement;\n  },\n  _setTableElement: function _setTableElement(tableElement) {\n    this._tableElement = tableElement;\n  },\n  optionChanged: function optionChanged(args) {\n    this.callBase(args);\n\n    switch (args.name) {\n      case \"cellHintEnabled\":\n      case \"onCellPrepared\":\n      case \"onRowPrepared\":\n      case \"onCellHoverChanged\":\n        this._invalidate(true, true);\n\n        args.handled = true;\n    }\n  },\n  init: function init() {\n    var that = this;\n    that._scrollLeft = -1;\n    that._columnsController = that.getController(\"columns\");\n    that._dataController = that.getController(\"data\");\n    that._delayedTemplates = [];\n    that._templatesCache = {};\n    that.createAction(\"onCellClick\");\n    that.createAction(\"onRowClick\");\n    that.createAction(\"onCellDblClick\");\n    that.createAction(\"onRowDblClick\");\n    that.createAction(\"onCellHoverChanged\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n    that.createAction(\"onCellPrepared\", {\n      excludeValidators: [\"disabled\", \"readOnly\"],\n      category: \"rendering\"\n    });\n    that.createAction(\"onRowPrepared\", {\n      excludeValidators: [\"disabled\", \"readOnly\"],\n      category: \"rendering\",\n      afterExecute: function afterExecute(e) {\n        that._afterRowPrepared(e);\n      }\n    });\n\n    that._columnsController.columnsChanged.add(that._columnOptionChanged.bind(that));\n\n    that._dataController && that._dataController.changed.add(that._handleDataChanged.bind(that));\n  },\n  _afterRowPrepared: _common.noop,\n  _handleDataChanged: function _handleDataChanged() {},\n  callbackNames: function callbackNames() {\n    return [\"scrollChanged\"];\n  },\n  scrollTo: function scrollTo(pos) {\n    var that = this;\n    var $element = that.element();\n    var $scrollContainer = $element && $element.children(\".\" + that.addWidgetPrefix(SCROLL_CONTAINER_CLASS)).not(\".\" + that.addWidgetPrefix(CONTENT_FIXED_CLASS));\n    that._skipScrollChanged = false;\n\n    if (_type2.default.isDefined(pos) && _type2.default.isDefined(pos.left) && that._scrollLeft !== pos.left) {\n      that._scrollLeft = pos.left;\n      $scrollContainer && $scrollContainer.scrollLeft(Math.round(pos.left));\n      that._skipScrollChanged = true;\n    }\n  },\n  _wrapTableInScrollContainer: function _wrapTableInScrollContainer($table) {\n    var that = this;\n    var $scrollContainer;\n    $scrollContainer = (0, _renderer2.default)(\"<div>\");\n\n    _events_engine2.default.on($scrollContainer, \"scroll\", function () {\n      !that._skipScrollChanged && that.scrollChanged.fire({\n        left: $scrollContainer.scrollLeft()\n      }, that.name);\n      that._skipScrollChanged = false;\n    });\n\n    $scrollContainer.addClass(that.addWidgetPrefix(CONTENT_CLASS)).addClass(that.addWidgetPrefix(SCROLL_CONTAINER_CLASS)).append($table).appendTo(that.element());\n    that.setAria(\"role\", \"presentation\", $scrollContainer);\n    return $scrollContainer;\n  },\n  _updateContent: function _updateContent($newTableElement) {\n    this._setTableElement($newTableElement);\n\n    this._wrapTableInScrollContainer($newTableElement);\n  },\n  _findContentElement: _common.noop,\n  _getWidths: function _getWidths($cellElements) {\n    var result = [];\n    var legacyRendering = this.option(\"legacyRendering\");\n    var width;\n    var clientRect;\n\n    if ($cellElements) {\n      _iterator2.default.each($cellElements, function (index, item) {\n        width = item.offsetWidth;\n\n        if (item.getBoundingClientRect) {\n          clientRect = item.getBoundingClientRect();\n\n          if (clientRect.width > width - 1) {\n            width = legacyRendering ? Math.ceil(clientRect.width) : clientRect.width;\n          }\n        }\n\n        result.push(width);\n      });\n    }\n\n    return result;\n  },\n  getColumnWidths: function getColumnWidths($tableElement) {\n    var that = this;\n    var result = [];\n    var $rows;\n    var $cells;\n\n    (this.option(\"forceApplyBindings\") || _common.noop)();\n\n    $tableElement = $tableElement || that._getTableElement();\n\n    if ($tableElement) {\n      $rows = $tableElement.children(\"tbody\").children();\n\n      for (var i = 0; i < $rows.length; i++) {\n        var $row = $rows.eq(i);\n        var isRowVisible = \"none\" !== $row.get(0).style.display && !$row.hasClass(\"dx-state-invisible\");\n\n        if (!$row.is(\".\" + GROUP_ROW_CLASS) && !$row.is(\".\" + DETAIL_ROW_CLASS) && isRowVisible) {\n          $cells = $row.children(\"td\");\n          break;\n        }\n      }\n\n      result = that._getWidths($cells);\n    }\n\n    return result;\n  },\n  getVisibleColumnIndex: function getVisibleColumnIndex(columnIndex, rowIndex) {\n    return columnIndex;\n  },\n  setColumnWidths: function setColumnWidths(_ref) {\n    var widths = _ref.widths,\n        $tableElement = _ref.$tableElement,\n        columns = _ref.columns,\n        fixed = _ref.fixed;\n    var $cols;\n    var i;\n    var width;\n    var minWidth;\n    var columnIndex;\n    var columnAutoWidth = this.option(\"columnAutoWidth\");\n    var legacyRendering = this.option(\"legacyRendering\");\n    $tableElement = $tableElement || this._getTableElement();\n\n    if ($tableElement && $tableElement.length && widths) {\n      columnIndex = 0;\n      $cols = $tableElement.children(\"colgroup\").children(\"col\");\n\n      _style2.default.setWidth($cols, \"auto\");\n\n      columns = columns || this.getColumns(null, $tableElement);\n\n      for (i = 0; i < columns.length; i++) {\n        if (!legacyRendering && columnAutoWidth && !fixed) {\n          width = columns[i].width;\n\n          if (width && !columns[i].command) {\n            width = columns[i].visibleWidth || width;\n            width = getWidthStyle(width);\n            minWidth = getWidthStyle(columns[i].minWidth || width);\n            var $rows = $rows || $tableElement.children().children(\".dx-row\").not(\".\" + GROUP_ROW_CLASS).not(\".\" + DETAIL_ROW_CLASS);\n\n            for (var rowIndex = 0; rowIndex < $rows.length; rowIndex++) {\n              var visibleIndex = this.getVisibleColumnIndex(i, rowIndex);\n              var cell = $rows[rowIndex].cells[visibleIndex];\n\n              if (cell) {\n                setCellWidth(cell, columns[i], width);\n                cell.style.minWidth = minWidth;\n              }\n            }\n          }\n        }\n\n        if (columns[i].colspan) {\n          columnIndex += columns[i].colspan;\n          continue;\n        }\n\n        width = widths[columnIndex];\n\n        if (\"adaptiveHidden\" === width) {\n          width = HIDDEN_COLUMNS_WIDTH;\n        }\n\n        if (\"number\" === typeof width) {\n          width = width.toFixed(3) + \"px\";\n        }\n\n        _style2.default.setWidth($cols.eq(columnIndex), _type2.default.isDefined(width) ? width : \"auto\");\n\n        columnIndex++;\n      }\n    }\n  },\n  getCellElements: function getCellElements(rowIndex) {\n    return this._getCellElementsCore(rowIndex);\n  },\n  _getCellElementsCore: function _getCellElementsCore(rowIndex) {\n    var $row = this._getRowElements().eq(rowIndex);\n\n    return $row.children();\n  },\n  _getCellElement: function _getCellElement(rowIndex, columnIdentifier) {\n    var that = this;\n    var $cell;\n    var $cells = that.getCellElements(rowIndex);\n\n    var columnVisibleIndex = that._getVisibleColumnIndex($cells, rowIndex, columnIdentifier);\n\n    if ($cells.length && columnVisibleIndex >= 0) {\n      $cell = $cells.eq(columnVisibleIndex);\n    }\n\n    if ($cell && $cell.length) {\n      return $cell;\n    }\n  },\n  _getRowElement: function _getRowElement(rowIndex) {\n    var that = this;\n    var $rowElement = (0, _renderer2.default)();\n    var $tableElements = that.getTableElements();\n\n    _iterator2.default.each($tableElements, function (_, tableElement) {\n      $rowElement = $rowElement.add(that._getRowElements((0, _renderer2.default)(tableElement)).eq(rowIndex));\n    });\n\n    if ($rowElement.length) {\n      return $rowElement;\n    }\n  },\n  getCellElement: function getCellElement(rowIndex, columnIdentifier) {\n    return (0, _dom.getPublicElement)(this._getCellElement(rowIndex, columnIdentifier));\n  },\n  getRowElement: function getRowElement(rowIndex) {\n    var $rows = this._getRowElement(rowIndex);\n\n    var elements = [];\n\n    if ($rows && !(0, _dom.getPublicElement)($rows).get) {\n      for (var i = 0; i < $rows.length; i++) {\n        elements.push($rows[i]);\n      }\n    } else {\n      elements = $rows;\n    }\n\n    return elements;\n  },\n  _getVisibleColumnIndex: function _getVisibleColumnIndex($cells, rowIndex, columnIdentifier) {\n    var columnIndex;\n\n    if (_type2.default.isString(columnIdentifier)) {\n      columnIndex = this._columnsController.columnOption(columnIdentifier, \"index\");\n      return this._columnsController.getVisibleIndex(columnIndex);\n    }\n\n    return columnIdentifier;\n  },\n  getColumnElements: function getColumnElements() {},\n  getColumns: function getColumns(rowIndex) {\n    return this._columnsController.getVisibleColumns(rowIndex);\n  },\n  getCell: function getCell(cellPosition, rows) {\n    var $rows = rows || this._getRowElements();\n\n    var $cells;\n\n    if ($rows.length > 0 && cellPosition.rowIndex >= 0) {\n      if (\"virtual\" !== this.option(\"scrolling.mode\")) {\n        cellPosition.rowIndex = cellPosition.rowIndex < $rows.length ? cellPosition.rowIndex : $rows.length - 1;\n      }\n\n      $cells = this.getCellElements(cellPosition.rowIndex);\n\n      if ($cells && $cells.length > 0) {\n        return $cells.eq($cells.length > cellPosition.columnIndex ? cellPosition.columnIndex : $cells.length - 1);\n      }\n    }\n  },\n  getRowsCount: function getRowsCount() {\n    var tableElement = this._getTableElement();\n\n    if (tableElement && 1 === tableElement.length) {\n      return tableElement[0].rows.length;\n    }\n\n    return 0;\n  },\n  _getRowElementsCore: function _getRowElementsCore(tableElement) {\n    tableElement = tableElement || this._getTableElement();\n\n    if (tableElement) {\n      var tBodies = this.option(\"rowTemplate\") && tableElement.find(\"> tbody.\" + ROW_CLASS);\n      return tBodies && tBodies.length ? tBodies : tableElement.find(\"> tbody > .\" + ROW_CLASS + \", > .\" + ROW_CLASS);\n    }\n\n    return (0, _renderer2.default)();\n  },\n  _getRowElements: function _getRowElements(tableElement) {\n    return this._getRowElementsCore(tableElement);\n  },\n  getRowIndex: function getRowIndex($row) {\n    return this._getRowElements().index($row);\n  },\n  getBoundingRect: function getBoundingRect() {},\n  getName: function getName() {},\n  setScrollerSpacing: function setScrollerSpacing(width) {\n    var that = this;\n    var $element = that.element();\n    var rtlEnabled = that.option(\"rtlEnabled\");\n    $element && $element.css({\n      paddingLeft: rtlEnabled ? width : \"\",\n      paddingRight: !rtlEnabled ? width : \"\"\n    });\n  },\n  isScrollbarVisible: function isScrollbarVisible(isHorizontal) {\n    var $element = this.element();\n    var $tableElement = this._tableElement;\n\n    if ($element && $tableElement) {\n      return isHorizontal ? $tableElement.outerWidth() - $element.width() > 0 : $tableElement.outerHeight() - $element.height() > 0;\n    }\n\n    return false;\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/grid_core/ui.grid_core.columns_view.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_dom_adapter","_dom_adapter2","_window","_events_engine","_events_engine2","_element_data","_element_data2","_pointer","_pointer2","_click","_click2","_double_click","_double_click2","_browser","_browser2","_common","_style","_style2","_dom","_type","_type2","_iterator","_iterator2","_extend","_position","_uiGrid_core","_uiGrid_core2","_uiGrid_core3","_uiGrid_core4","_uiGrid_core5","obj","SCROLL_CONTAINER_CLASS","GROUP_SPACE_CLASS","CONTENT_CLASS","TABLE_CLASS","TABLE_FIXED_CLASS","CONTENT_FIXED_CLASS","ROW_CLASS","FIXED_COL_CLASS","GROUP_ROW_CLASS","DETAIL_ROW_CLASS","FILTER_ROW_CLASS","CELL_UPDATED_ANIMATION_CLASS","HIDDEN_COLUMNS_WIDTH","CELL_HINT_VISIBLE","FORM_FIELD_ITEM_CONTENT_CLASS","appendElementTemplate","render","options","subscribeToRowEvents","setTimeout","touchTarget","touchCurrentTarget","clearTimeout","e","timeoutId","clearTouchTargets","useNative","that","event","getWidthStyle","width","setCellWidth","cell","column","copyAttributes","oldAttributes","element","newAttributes","newElement","i","name","exports","_createScrollableOptions","scrollingOptions","useNativeScrolling","pushBackValue","direction","bounceEnabled","useKeyboard","_updateCell","parameters","_createCell","alignment","$cell","_createRow","$element","_createTable","$table","columns","args","$row","isDataRow","isHeaderRow","isGroupRow","isMasterDetailRow","isFilterRow","visibleColumns","rowOptions","columnIndex","cellOptions","msieCorrection","difference","getOptions","$fieldItemContent","resultOptions","cellElement","eventType","type","formItemOptions","_isNativeClick","_rowPointerDown","_rowClick","_rowDblClick","_createColGroup","colgroupElement","colspan","j","_createCol","col","renderDelayedTemplates","delayedTemplates","syncTemplates","template","asyncTemplates","_renderDelayedTemplatesCoreAsync","templates","_renderDelayedTemplatesCore","date","templateParameters","model","doc","isAsync","_processTemplate","renderingTemplate","allowRenderToDetachedContainer","renderedTemplate","templateID","renderTemplate","async","container","_getBodies","_wrapRowIfNeed","$tBodies","$tbody","_appendRow","appendTemplate","content","_resizeCore","scrollLeft","left","_renderCore","$root","_renderTable","changeType","_renderRows","rows","columnIndices","changeTypes","row","_renderRow","$wrappedRow","_needRenderCell","_renderCells","value","oldValue","_updateCells","$cells","$rowElement","$newCells","$newRowElement","highlightChanges","cellUpdatedClass","$newCell","_setCellAriaAttributes","_renderCell","_renderCellContent","_getCellTemplate","_getRows","_getCellOptions","rowType","_addWatchMethod","watchers","source","getter","watcher","newValue","JSON","updateFunc","stopWatch","index","_cellPrepared","_rowPrepared","_columnOptionChanged","optionNames","widths","getCellIndex","cellIndex","getTableElements","_getTableElement","_setTableElement","optionChanged","init","excludeValidators","category","afterExecute","_afterRowPrepared","_handleDataChanged","callbackNames","scrollTo","$scrollContainer","pos","Math","_wrapTableInScrollContainer","_updateContent","_findContentElement","_getWidths","result","legacyRendering","item","clientRect","getColumnWidths","$tableElement","$rows","isRowVisible","getVisibleColumnIndex","setColumnWidths","_ref","fixed","columnAutoWidth","$cols","minWidth","rowIndex","visibleIndex","getCellElements","_getCellElementsCore","_getCellElement","columnVisibleIndex","_getRowElement","$tableElements","getCellElement","getRowElement","elements","_getVisibleColumnIndex","getColumnElements","getColumns","getCell","cellPosition","getRowsCount","tableElement","_getRowElementsCore","tBodies","_getRowElements","getRowIndex","getBoundingRect","getName","setScrollerSpacing","rtlEnabled","paddingLeft","paddingRight","isScrollbarVisible","isHorizontal"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.columns_view.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _dom_adapter = require(\"../../core/dom_adapter\");\r\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _element_data = require(\"../../core/element_data\");\r\nvar _element_data2 = _interopRequireDefault(_element_data);\r\nvar _pointer = require(\"../../events/pointer\");\r\nvar _pointer2 = _interopRequireDefault(_pointer);\r\nvar _click = require(\"../../events/click\");\r\nvar _click2 = _interopRequireDefault(_click);\r\nvar _double_click = require(\"../../events/double_click\");\r\nvar _double_click2 = _interopRequireDefault(_double_click);\r\nvar _browser = require(\"../../core/utils/browser\");\r\nvar _browser2 = _interopRequireDefault(_browser);\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _style = require(\"../../core/utils/style\");\r\nvar _style2 = _interopRequireDefault(_style);\r\nvar _dom = require(\"../../core/utils/dom\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _type2 = _interopRequireDefault(_type);\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _iterator2 = _interopRequireDefault(_iterator);\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _uiGrid_core = require(\"./ui.grid_core.modules\");\r\nvar _uiGrid_core2 = _interopRequireDefault(_uiGrid_core);\r\nvar _uiGrid_core3 = require(\"./ui.grid_core.utils\");\r\nvar _uiGrid_core4 = require(\"./ui.grid_core.column_state_mixin\");\r\nvar _uiGrid_core5 = _interopRequireDefault(_uiGrid_core4);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar SCROLL_CONTAINER_CLASS = \"scroll-container\";\r\nvar GROUP_SPACE_CLASS = \"group-space\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar TABLE_CLASS = \"table\";\r\nvar TABLE_FIXED_CLASS = \"table-fixed\";\r\nvar CONTENT_FIXED_CLASS = \"content-fixed\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar FIXED_COL_CLASS = \"dx-col-fixed\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar FILTER_ROW_CLASS = \"filter-row\";\r\nvar CELL_UPDATED_ANIMATION_CLASS = \"cell-updated-animation\";\r\nvar HIDDEN_COLUMNS_WIDTH = \"0.0001px\";\r\nvar CELL_HINT_VISIBLE = \"dxCellHintVisible\";\r\nvar FORM_FIELD_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nvar appendElementTemplate = {\r\n    render: function(options) {\r\n        options.container.append(options.content)\r\n    }\r\n};\r\nvar subscribeToRowEvents = function(that, $table) {\r\n    var touchTarget;\r\n    var touchCurrentTarget;\r\n    var timeoutId;\r\n\r\n    function clearTouchTargets(timeout) {\r\n        return setTimeout(function() {\r\n            touchTarget = touchCurrentTarget = null\r\n        }, timeout)\r\n    }\r\n    _events_engine2.default.on($table, \"touchstart touchend\", \".dx-row\", function(e) {\r\n        clearTimeout(timeoutId);\r\n        if (\"touchstart\" === e.type) {\r\n            touchTarget = e.target;\r\n            touchCurrentTarget = e.currentTarget;\r\n            timeoutId = clearTouchTargets(1e3)\r\n        } else {\r\n            timeoutId = clearTouchTargets()\r\n        }\r\n    });\r\n    _events_engine2.default.on($table, [_click2.default.name, _double_click2.default.name, _pointer2.default.down].join(\" \"), \".dx-row\", {\r\n        useNative: that._isNativeClick()\r\n    }, that.createAction(function(e) {\r\n        var event = e.event;\r\n        if (touchTarget) {\r\n            event.target = touchTarget;\r\n            event.currentTarget = touchCurrentTarget\r\n        }\r\n        if (!(0, _renderer2.default)(event.target).closest(\"a\").length) {\r\n            e.rowIndex = that.getRowIndex(event.currentTarget);\r\n            if (e.rowIndex >= 0) {\r\n                e.rowElement = (0, _dom.getPublicElement)((0, _renderer2.default)(event.currentTarget));\r\n                e.columns = that.getColumns();\r\n                if (event.type === _pointer2.default.down) {\r\n                    that._rowPointerDown(e)\r\n                } else {\r\n                    if (event.type === _click2.default.name) {\r\n                        that._rowClick(e)\r\n                    } else {\r\n                        that._rowDblClick(e)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }))\r\n};\r\nvar getWidthStyle = function(width) {\r\n    if (\"auto\" === width) {\r\n        return \"\"\r\n    }\r\n    return _type2.default.isNumeric(width) ? width + \"px\" : width\r\n};\r\nvar setCellWidth = function(cell, column, width) {\r\n    cell.style.width = cell.style.maxWidth = \"auto\" === column.width ? \"\" : width\r\n};\r\nvar copyAttributes = function(element, newElement) {\r\n    if (!element || !newElement) {\r\n        return\r\n    }\r\n    var oldAttributes = element.attributes;\r\n    var newAttributes = newElement.attributes;\r\n    var name;\r\n    var i;\r\n    for (i = 0; i < oldAttributes.length; i++) {\r\n        name = oldAttributes[i].nodeName;\r\n        if (!newElement.hasAttribute(name)) {\r\n            element.removeAttribute(name)\r\n        }\r\n    }\r\n    for (i = 0; i < newAttributes.length; i++) {\r\n        element.setAttribute(newAttributes[i].nodeName, newAttributes[i].nodeValue)\r\n    }\r\n};\r\nexports.ColumnsView = _uiGrid_core2.default.View.inherit(_uiGrid_core5.default).inherit({\r\n    _createScrollableOptions: function() {\r\n        var that = this;\r\n        var scrollingOptions = that.option(\"scrolling\");\r\n        var useNativeScrolling = that.option(\"scrolling.useNative\");\r\n        var options = (0, _extend.extend)({\r\n            pushBackValue: 0\r\n        }, scrollingOptions, {\r\n            direction: \"both\",\r\n            bounceEnabled: false,\r\n            useKeyboard: false\r\n        });\r\n        if (void 0 === useNativeScrolling) {\r\n            useNativeScrolling = true\r\n        }\r\n        if (\"auto\" === useNativeScrolling) {\r\n            delete options.useNative;\r\n            delete options.useSimulatedScrollbar\r\n        } else {\r\n            options.useNative = !!useNativeScrolling;\r\n            options.useSimulatedScrollbar = !useNativeScrolling\r\n        }\r\n        return options\r\n    },\r\n    _updateCell: function($cell, parameters) {\r\n        if (parameters.rowType) {\r\n            this._cellPrepared($cell, parameters)\r\n        }\r\n    },\r\n    _createCell: function(options) {\r\n        var column = options.column;\r\n        var alignment = column.alignment || (0, _position.getDefaultAlignment)(this.option(\"rtlEnabled\"));\r\n        var cell = _dom_adapter2.default.createElement(\"td\");\r\n        cell.style.textAlign = alignment;\r\n        var $cell = (0, _renderer2.default)(cell);\r\n        if (\"data\" === options.rowType && column.headerId && !column.type) {\r\n            if (this.component.option(\"showColumnHeaders\")) {\r\n                this.setAria(\"describedby\", column.headerId, $cell)\r\n            }\r\n        }\r\n        if (column.cssClass) {\r\n            $cell.addClass(column.cssClass)\r\n        }\r\n        if (\"expand\" === column.command) {\r\n            $cell.addClass(column.cssClass);\r\n            $cell.addClass(this.addWidgetPrefix(GROUP_SPACE_CLASS))\r\n        }\r\n        if (column.colspan > 1) {\r\n            $cell.attr(\"colSpan\", column.colspan)\r\n        } else {\r\n            if (!column.isBand && \"auto\" !== column.visibleWidth && !this.option(\"legacyRendering\") && this.option(\"columnAutoWidth\")) {\r\n                if (column.width || column.minWidth) {\r\n                    cell.style.minWidth = getWidthStyle(column.minWidth || column.width)\r\n                }\r\n                if (column.width) {\r\n                    setCellWidth(cell, column, getWidthStyle(column.width))\r\n                }\r\n            }\r\n        }\r\n        if (_browser2.default.mozilla && options.column.fixed) {\r\n            $cell.addClass(FIXED_COL_CLASS)\r\n        }\r\n        return $cell\r\n    },\r\n    _createRow: function(rowObject) {\r\n        var $element = (0, _renderer2.default)(\"<tr>\").addClass(ROW_CLASS);\r\n        this.setAria(\"role\", \"row\", $element);\r\n        return $element\r\n    },\r\n    _createTable: function(columns, isAppend) {\r\n        var that = this;\r\n        var $table = (0, _renderer2.default)(\"<table>\").addClass(that.addWidgetPrefix(TABLE_CLASS)).addClass(that.addWidgetPrefix(TABLE_FIXED_CLASS));\r\n        if (columns && !isAppend) {\r\n            $table.append(that._createColGroup(columns));\r\n            if (_browser2.default.safari) {\r\n                $table.append((0, _renderer2.default)(\"<thead>\").append(\"<tr>\"))\r\n            }\r\n            that.setAria(\"role\", \"presentation\", $table)\r\n        } else {\r\n            that.setAria(\"hidden\", true, $table)\r\n        }\r\n        this.setAria(\"role\", \"presentation\", (0, _renderer2.default)(\"<tbody>\").appendTo($table));\r\n        if (isAppend) {\r\n            return $table\r\n        }\r\n        if (_browser2.default.mozilla) {\r\n            _events_engine2.default.on($table, \"mousedown\", \"td\", function(e) {\r\n                if (e.ctrlKey) {\r\n                    e.preventDefault()\r\n                }\r\n            })\r\n        }\r\n        if (that.option(\"cellHintEnabled\")) {\r\n            _events_engine2.default.on($table, \"mousemove\", \".dx-row > td\", this.createAction(function(args) {\r\n                var e = args.event;\r\n                var difference;\r\n                var $element = (0, _renderer2.default)(e.target);\r\n                var $cell = (0, _renderer2.default)(e.currentTarget);\r\n                var $row = $cell.parent();\r\n                var isDataRow = $row.hasClass(\"dx-data-row\");\r\n                var isHeaderRow = $row.hasClass(\"dx-header-row\");\r\n                var isGroupRow = $row.hasClass(GROUP_ROW_CLASS);\r\n                var isMasterDetailRow = $row.hasClass(DETAIL_ROW_CLASS);\r\n                var isFilterRow = $row.hasClass(that.addWidgetPrefix(FILTER_ROW_CLASS));\r\n                var visibleColumns = that._columnsController.getVisibleColumns();\r\n                var rowOptions = $row.data(\"options\");\r\n                var columnIndex = $cell.index();\r\n                var cellOptions = rowOptions && rowOptions.cells && rowOptions.cells[columnIndex];\r\n                var column = cellOptions ? cellOptions.column : visibleColumns[columnIndex];\r\n                var msieCorrection = _browser2.default.msie ? 1 : 0;\r\n                if (!isMasterDetailRow && !isFilterRow && (!isDataRow || isDataRow && column && !column.cellTemplate) && (!isHeaderRow || isHeaderRow && column && !column.headerCellTemplate) && (!isGroupRow || isGroupRow && column && (void 0 === column.groupIndex || !column.groupCellTemplate))) {\r\n                    if ($element.data(CELL_HINT_VISIBLE)) {\r\n                        $element.removeAttr(\"title\");\r\n                        $element.data(CELL_HINT_VISIBLE, false)\r\n                    }\r\n                    difference = $element[0].scrollWidth - $element[0].clientWidth - msieCorrection;\r\n                    if (difference > 0 && !_type2.default.isDefined($element.attr(\"title\"))) {\r\n                        $element.attr(\"title\", $element.text());\r\n                        $element.data(CELL_HINT_VISIBLE, true)\r\n                    }\r\n                }\r\n            }))\r\n        }\r\n        var getOptions = function(event) {\r\n            var $cell = (0, _renderer2.default)(event.currentTarget);\r\n            var $fieldItemContent = (0, _renderer2.default)(event.target).closest(\".\" + FORM_FIELD_ITEM_CONTENT_CLASS);\r\n            var formItemOptions;\r\n            var rowOptions = $cell.parent().data(\"options\");\r\n            var options = rowOptions && rowOptions.cells && rowOptions.cells[$cell.index()];\r\n            var resultOptions;\r\n            if (!$cell.closest(\"table\").is(event.delegateTarget)) {\r\n                return\r\n            }\r\n            resultOptions = (0, _extend.extend)({}, options, {\r\n                cellElement: (0, _dom.getPublicElement)($cell),\r\n                event: event,\r\n                eventType: event.type\r\n            });\r\n            if ($fieldItemContent.length) {\r\n                formItemOptions = $fieldItemContent.data(\"dx-form-item\");\r\n                if (formItemOptions.column) {\r\n                    resultOptions.column = formItemOptions.column;\r\n                    resultOptions.columnIndex = that._columnsController.getVisibleIndex(resultOptions.column.index)\r\n                }\r\n            }\r\n            return resultOptions\r\n        };\r\n        _events_engine2.default.on($table, \"mouseover\", \".dx-row > td\", function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellHoverChanged\", options)\r\n        });\r\n        _events_engine2.default.on($table, \"mouseout\", \".dx-row > td\", function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellHoverChanged\", options)\r\n        });\r\n        _events_engine2.default.on($table, _click2.default.name, \".dx-row > td\", function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellClick\", options)\r\n        });\r\n        _events_engine2.default.on($table, _double_click2.default.name, \".dx-row > td\", function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellDblClick\", options)\r\n        });\r\n        subscribeToRowEvents(that, $table);\r\n        return $table\r\n    },\r\n    _isNativeClick: _common.noop,\r\n    _rowPointerDown: _common.noop,\r\n    _rowClick: _common.noop,\r\n    _rowDblClick: _common.noop,\r\n    _createColGroup: function(columns) {\r\n        var i;\r\n        var j;\r\n        var colgroupElement = (0, _renderer2.default)(\"<colgroup>\");\r\n        var colspan;\r\n        for (i = 0; i < columns.length; i++) {\r\n            colspan = columns[i].colspan || 1;\r\n            for (j = 0; j < colspan; j++) {\r\n                colgroupElement.append(this._createCol(columns[i]))\r\n            }\r\n        }\r\n        return colgroupElement\r\n    },\r\n    _createCol: function(column) {\r\n        var width = column.visibleWidth || column.width;\r\n        if (\"adaptiveHidden\" === width) {\r\n            width = HIDDEN_COLUMNS_WIDTH\r\n        }\r\n        var col = (0, _renderer2.default)(\"<col>\");\r\n        _style2.default.setWidth(col, width);\r\n        return col\r\n    },\r\n    renderDelayedTemplates: function() {\r\n        var delayedTemplates = this._delayedTemplates;\r\n        var syncTemplates = delayedTemplates.filter(function(template) {\r\n            return !template.async\r\n        });\r\n        var asyncTemplates = delayedTemplates.filter(function(template) {\r\n            return template.async\r\n        });\r\n        this._delayedTemplates = [];\r\n        this._renderDelayedTemplatesCore(syncTemplates);\r\n        this._renderDelayedTemplatesCoreAsync(asyncTemplates)\r\n    },\r\n    _renderDelayedTemplatesCoreAsync: function(templates) {\r\n        var that = this;\r\n        if (templates.length) {\r\n            (0, _window.getWindow)().setTimeout(function() {\r\n                that._renderDelayedTemplatesCore(templates, true)\r\n            })\r\n        }\r\n    },\r\n    _renderDelayedTemplatesCore: function(templates, isAsync) {\r\n        var templateParameters;\r\n        var date = new Date;\r\n        while (templates.length) {\r\n            templateParameters = templates.shift();\r\n            var options = templateParameters.options;\r\n            var model = options.model;\r\n            var doc = _dom_adapter2.default.getDocument();\r\n            if (!isAsync || (0, _renderer2.default)(options.container).closest(doc).length) {\r\n                templateParameters.template.render(options);\r\n                if (model && model.column) {\r\n                    this._updateCell(options.container, model)\r\n                }\r\n            }\r\n            if (isAsync && new Date - date > 30) {\r\n                this._renderDelayedTemplatesCoreAsync(templates);\r\n                break\r\n            }\r\n        }\r\n    },\r\n    _processTemplate: function(template) {\r\n        var that = this;\r\n        var templateID;\r\n        var renderingTemplate;\r\n        if (template && template.render && !_type2.default.isRenderer(template)) {\r\n            renderingTemplate = {\r\n                allowRenderToDetachedContainer: template.allowRenderToDetachedContainer,\r\n                render: function(options) {\r\n                    template.render(options.container, options.model)\r\n                }\r\n            }\r\n        } else {\r\n            if (_type2.default.isFunction(template)) {\r\n                renderingTemplate = {\r\n                    render: function(options) {\r\n                        var renderedTemplate = template((0, _dom.getPublicElement)(options.container), options.model);\r\n                        if (renderedTemplate && (renderedTemplate.nodeType || _type2.default.isRenderer(renderedTemplate))) {\r\n                            options.container.append(renderedTemplate)\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                templateID = _type2.default.isString(template) ? template : (0, _renderer2.default)(template).attr(\"id\");\r\n                if (!templateID) {\r\n                    renderingTemplate = that.getTemplate(template)\r\n                } else {\r\n                    if (!that._templatesCache[templateID]) {\r\n                        that._templatesCache[templateID] = that.getTemplate(template)\r\n                    }\r\n                    renderingTemplate = that._templatesCache[templateID]\r\n                }\r\n            }\r\n        }\r\n        return renderingTemplate\r\n    },\r\n    renderTemplate: function(container, template, options, allowRenderToDetachedContainer) {\r\n        var that = this;\r\n        var renderingTemplate = that._processTemplate(template, options);\r\n        var column = options.column;\r\n        var isDataRow = \"data\" === options.rowType;\r\n        var async;\r\n        if (renderingTemplate) {\r\n            options.component = that.component;\r\n            async = column && (column.renderAsync && isDataRow || that.option(\"renderAsync\") && (false !== column.renderAsync && (column.command || column.showEditorAlways) && isDataRow || \"filter\" === options.rowType));\r\n            if ((renderingTemplate.allowRenderToDetachedContainer || allowRenderToDetachedContainer) && !async) {\r\n                renderingTemplate.render({\r\n                    container: container,\r\n                    model: options\r\n                });\r\n                return true\r\n            } else {\r\n                that._delayedTemplates.push({\r\n                    template: renderingTemplate,\r\n                    options: {\r\n                        container: container,\r\n                        model: options\r\n                    },\r\n                    async: async\r\n                })\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _getBodies: function(tableElement) {\r\n        return (0, _renderer2.default)(tableElement).children(\"tbody\").not(\".dx-header\").not(\".dx-footer\")\r\n    },\r\n    _wrapRowIfNeed: function($table, $row) {\r\n        var $tBodies = this.option(\"rowTemplate\") && this._getBodies(this._tableElement || $table);\r\n        if ($tBodies && $tBodies.filter(\".\" + ROW_CLASS).length) {\r\n            var $tbody = (0, _renderer2.default)(\"<tbody>\").addClass($row.attr(\"class\"));\r\n            this.setAria(\"role\", \"presentation\", $tbody);\r\n            return $tbody.append($row)\r\n        }\r\n        return $row\r\n    },\r\n    _appendRow: function($table, $row, appendTemplate) {\r\n        appendTemplate = appendTemplate || appendElementTemplate;\r\n        appendTemplate.render({\r\n            content: $row,\r\n            container: $table\r\n        })\r\n    },\r\n    _resizeCore: function() {\r\n        var that = this;\r\n        var scrollLeft = that._scrollLeft;\r\n        if (scrollLeft >= 0) {\r\n            that._scrollLeft = 0;\r\n            that.scrollTo({\r\n                left: scrollLeft\r\n            })\r\n        }\r\n    },\r\n    _renderCore: function(e) {\r\n        var $root = this.element().parent();\r\n        if (!$root || $root.parent().length) {\r\n            this.renderDelayedTemplates(e)\r\n        }\r\n    },\r\n    _renderTable: function(options) {\r\n        options = options || {};\r\n        var that = this;\r\n        var $table;\r\n        options.columns = that._columnsController.getVisibleColumns();\r\n        var changeType = options.change && options.change.changeType;\r\n        $table = that._createTable(options.columns, \"append\" === changeType || \"prepend\" === changeType || \"update\" === changeType);\r\n        that._renderRows($table, options);\r\n        return $table\r\n    },\r\n    _renderRows: function($table, options) {\r\n        var that = this;\r\n        var i;\r\n        var rows = that._getRows(options.change);\r\n        var columnIndices = options.change && options.change.columnIndices || [];\r\n        var changeTypes = options.change && options.change.changeTypes || [];\r\n        for (i = 0; i < rows.length; i++) {\r\n            that._renderRow($table, (0, _extend.extend)({\r\n                row: rows[i],\r\n                columnIndices: columnIndices[i],\r\n                changeType: changeTypes[i]\r\n            }, options))\r\n        }\r\n    },\r\n    _renderRow: function($table, options) {\r\n        var that = this;\r\n        var $row;\r\n        var $wrappedRow;\r\n        if (!options.columnIndices) {\r\n            options.row.cells = []\r\n        }\r\n        $row = that._createRow(options.row);\r\n        $wrappedRow = that._wrapRowIfNeed($table, $row);\r\n        if (\"remove\" !== options.changeType) {\r\n            that._renderCells($row, options)\r\n        }\r\n        that._appendRow($table, $wrappedRow);\r\n        var rowOptions = (0, _extend.extend)({\r\n            columns: options.columns\r\n        }, options.row);\r\n        that._addWatchMethod(rowOptions, options.row);\r\n        that._rowPrepared($wrappedRow, rowOptions, options.row)\r\n    },\r\n    _needRenderCell: function(columnIndex, columnIndices) {\r\n        return !columnIndices || columnIndices.indexOf(columnIndex) >= 0\r\n    },\r\n    _renderCells: function($row, options) {\r\n        var that = this;\r\n        var i;\r\n        var columnIndex = 0;\r\n        var row = options.row;\r\n        var columns = options.columns;\r\n        for (i = 0; i < columns.length; i++) {\r\n            if (this._needRenderCell(i, options.columnIndices)) {\r\n                that._renderCell($row, (0, _extend.extend)({\r\n                    column: columns[i],\r\n                    columnIndex: columnIndex,\r\n                    value: row.values && row.values[columnIndex],\r\n                    oldValue: row.oldValues && row.oldValues[columnIndex]\r\n                }, options))\r\n            }\r\n            if (columns[i].colspan > 1) {\r\n                columnIndex += columns[i].colspan\r\n            } else {\r\n                columnIndex++\r\n            }\r\n        }\r\n    },\r\n    _updateCells: function($rowElement, $newRowElement, columnIndices) {\r\n        var $cells = $rowElement.children();\r\n        var $newCells = $newRowElement.children();\r\n        var highlightChanges = this.option(\"highlightChanges\");\r\n        var cellUpdatedClass = this.addWidgetPrefix(CELL_UPDATED_ANIMATION_CLASS);\r\n        columnIndices.forEach(function(columnIndex, index) {\r\n            var $cell = $cells.eq(columnIndex);\r\n            var $newCell = $newCells.eq(index);\r\n            $cell.replaceWith($newCell);\r\n            if (highlightChanges && !$newCell.hasClass(\"dx-command-expand\")) {\r\n                $newCell.addClass(cellUpdatedClass)\r\n            }\r\n        });\r\n        copyAttributes($rowElement.get(0), $newRowElement.get(0))\r\n    },\r\n    _setCellAriaAttributes: function($cell, cellOptions) {\r\n        if (\"freeSpace\" !== cellOptions.rowType) {\r\n            this.setAria(\"selected\", false, $cell);\r\n            this.setAria(\"role\", \"gridcell\", $cell);\r\n            this.setAria(\"colindex\", cellOptions.columnIndex + 1, $cell)\r\n        }\r\n    },\r\n    _renderCell: function($row, options) {\r\n        var that = this;\r\n        var cellOptions = that._getCellOptions(options);\r\n        var $cell;\r\n        if (options.columnIndices) {\r\n            if (options.row.cells) {\r\n                options.row.cells[cellOptions.columnIndex] = cellOptions\r\n            }\r\n        } else {\r\n            options.row.cells.push(cellOptions)\r\n        }\r\n        $cell = that._createCell(cellOptions);\r\n        that._setCellAriaAttributes($cell, cellOptions);\r\n        that._renderCellContent($cell, cellOptions);\r\n        $row.get(0).appendChild($cell.get(0));\r\n        return $cell\r\n    },\r\n    _renderCellContent: function($cell, options) {\r\n        var template = this._getCellTemplate(options);\r\n        if (!template || this.renderTemplate($cell, template, options)) {\r\n            this._updateCell($cell, options)\r\n        }\r\n    },\r\n    _getCellTemplate: function() {},\r\n    _getRows: function() {\r\n        return []\r\n    },\r\n    _getCellOptions: function(options) {\r\n        var cellOptions = {\r\n            column: options.column,\r\n            columnIndex: options.columnIndex,\r\n            rowType: options.row.rowType\r\n        };\r\n        this._addWatchMethod(cellOptions);\r\n        return cellOptions\r\n    },\r\n    _addWatchMethod: function(options, source) {\r\n        if (!this.option(\"repaintChangesOnly\")) {\r\n            return\r\n        }\r\n        var watchers = [];\r\n        source = source || options;\r\n        source.watch = source.watch || function(getter, updateFunc) {\r\n            var oldValue = getter(source.data);\r\n            var watcher = function() {\r\n                var newValue = getter(source.data);\r\n                if (JSON.stringify(oldValue) !== JSON.stringify(newValue)) {\r\n                    updateFunc(newValue, oldValue);\r\n                    oldValue = newValue\r\n                }\r\n            };\r\n            watchers.push(watcher);\r\n            var stopWatch = function() {\r\n                var index = watchers.indexOf(watcher);\r\n                if (index >= 0) {\r\n                    watchers.splice(index, 1)\r\n                }\r\n            };\r\n            return stopWatch\r\n        };\r\n        source.update = source.update || function(row) {\r\n            this.data = options.data = row.data;\r\n            this.rowIndex = options.rowIndex = row.rowIndex;\r\n            this.dataIndex = options.dataIndex = row.dataIndex;\r\n            this.isExpanded = options.isExpanded = row.isExpanded;\r\n            if (options.row) {\r\n                options.row = row\r\n            }\r\n            watchers.forEach(function(watcher) {\r\n                watcher()\r\n            })\r\n        };\r\n        if (source !== options) {\r\n            options.watch = source.watch.bind(source)\r\n        }\r\n        return options\r\n    },\r\n    _cellPrepared: function(cell, options) {\r\n        options.cellElement = (0, _dom.getPublicElement)((0, _renderer2.default)(cell));\r\n        this.executeAction(\"onCellPrepared\", options)\r\n    },\r\n    _rowPrepared: function($row, options) {\r\n        _element_data2.default.data($row.get(0), \"options\", options);\r\n        options.rowElement = (0, _dom.getPublicElement)($row);\r\n        this.executeAction(\"onRowPrepared\", options)\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var optionNames = e.optionNames;\r\n        if ((0, _uiGrid_core3.checkChanges)(optionNames, [\"width\", \"visibleWidth\"])) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            var widths = _iterator2.default.map(visibleColumns, function(column) {\r\n                var width = column.visibleWidth || column.width;\r\n                return _type2.default.isDefined(width) ? width : \"auto\"\r\n            });\r\n            this.setColumnWidths({\r\n                widths: widths,\r\n                optionNames: optionNames\r\n            });\r\n            return\r\n        }\r\n        if (!this._requireReady) {\r\n            this.render()\r\n        }\r\n    },\r\n    getCellIndex: function($cell) {\r\n        var cellIndex = $cell.length ? $cell[0].cellIndex : -1;\r\n        return cellIndex\r\n    },\r\n    getTableElements: function() {\r\n        return this._tableElement || (0, _renderer2.default)()\r\n    },\r\n    _getTableElement: function() {\r\n        return this._tableElement\r\n    },\r\n    _setTableElement: function(tableElement) {\r\n        this._tableElement = tableElement\r\n    },\r\n    optionChanged: function(args) {\r\n        this.callBase(args);\r\n        switch (args.name) {\r\n            case \"cellHintEnabled\":\r\n            case \"onCellPrepared\":\r\n            case \"onRowPrepared\":\r\n            case \"onCellHoverChanged\":\r\n                this._invalidate(true, true);\r\n                args.handled = true\r\n        }\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that._scrollLeft = -1;\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._dataController = that.getController(\"data\");\r\n        that._delayedTemplates = [];\r\n        that._templatesCache = {};\r\n        that.createAction(\"onCellClick\");\r\n        that.createAction(\"onRowClick\");\r\n        that.createAction(\"onCellDblClick\");\r\n        that.createAction(\"onRowDblClick\");\r\n        that.createAction(\"onCellHoverChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        that.createAction(\"onCellPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        that.createAction(\"onRowPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\",\r\n            afterExecute: function(e) {\r\n                that._afterRowPrepared(e)\r\n            }\r\n        });\r\n        that._columnsController.columnsChanged.add(that._columnOptionChanged.bind(that));\r\n        that._dataController && that._dataController.changed.add(that._handleDataChanged.bind(that))\r\n    },\r\n    _afterRowPrepared: _common.noop,\r\n    _handleDataChanged: function() {},\r\n    callbackNames: function() {\r\n        return [\"scrollChanged\"]\r\n    },\r\n    scrollTo: function(pos) {\r\n        var that = this;\r\n        var $element = that.element();\r\n        var $scrollContainer = $element && $element.children(\".\" + that.addWidgetPrefix(SCROLL_CONTAINER_CLASS)).not(\".\" + that.addWidgetPrefix(CONTENT_FIXED_CLASS));\r\n        that._skipScrollChanged = false;\r\n        if (_type2.default.isDefined(pos) && _type2.default.isDefined(pos.left) && that._scrollLeft !== pos.left) {\r\n            that._scrollLeft = pos.left;\r\n            $scrollContainer && $scrollContainer.scrollLeft(Math.round(pos.left));\r\n            that._skipScrollChanged = true\r\n        }\r\n    },\r\n    _wrapTableInScrollContainer: function($table) {\r\n        var that = this;\r\n        var $scrollContainer;\r\n        $scrollContainer = (0, _renderer2.default)(\"<div>\");\r\n        _events_engine2.default.on($scrollContainer, \"scroll\", function() {\r\n            !that._skipScrollChanged && that.scrollChanged.fire({\r\n                left: $scrollContainer.scrollLeft()\r\n            }, that.name);\r\n            that._skipScrollChanged = false\r\n        });\r\n        $scrollContainer.addClass(that.addWidgetPrefix(CONTENT_CLASS)).addClass(that.addWidgetPrefix(SCROLL_CONTAINER_CLASS)).append($table).appendTo(that.element());\r\n        that.setAria(\"role\", \"presentation\", $scrollContainer);\r\n        return $scrollContainer\r\n    },\r\n    _updateContent: function($newTableElement) {\r\n        this._setTableElement($newTableElement);\r\n        this._wrapTableInScrollContainer($newTableElement)\r\n    },\r\n    _findContentElement: _common.noop,\r\n    _getWidths: function($cellElements) {\r\n        var result = [];\r\n        var legacyRendering = this.option(\"legacyRendering\");\r\n        var width;\r\n        var clientRect;\r\n        if ($cellElements) {\r\n            _iterator2.default.each($cellElements, function(index, item) {\r\n                width = item.offsetWidth;\r\n                if (item.getBoundingClientRect) {\r\n                    clientRect = item.getBoundingClientRect();\r\n                    if (clientRect.width > width - 1) {\r\n                        width = legacyRendering ? Math.ceil(clientRect.width) : clientRect.width\r\n                    }\r\n                }\r\n                result.push(width)\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    getColumnWidths: function($tableElement) {\r\n        var that = this;\r\n        var result = [];\r\n        var $rows;\r\n        var $cells;\r\n        (this.option(\"forceApplyBindings\") || _common.noop)();\r\n        $tableElement = $tableElement || that._getTableElement();\r\n        if ($tableElement) {\r\n            $rows = $tableElement.children(\"tbody\").children();\r\n            for (var i = 0; i < $rows.length; i++) {\r\n                var $row = $rows.eq(i);\r\n                var isRowVisible = \"none\" !== $row.get(0).style.display && !$row.hasClass(\"dx-state-invisible\");\r\n                if (!$row.is(\".\" + GROUP_ROW_CLASS) && !$row.is(\".\" + DETAIL_ROW_CLASS) && isRowVisible) {\r\n                    $cells = $row.children(\"td\");\r\n                    break\r\n                }\r\n            }\r\n            result = that._getWidths($cells)\r\n        }\r\n        return result\r\n    },\r\n    getVisibleColumnIndex: function(columnIndex, rowIndex) {\r\n        return columnIndex\r\n    },\r\n    setColumnWidths: function(_ref) {\r\n        var widths = _ref.widths,\r\n            $tableElement = _ref.$tableElement,\r\n            columns = _ref.columns,\r\n            fixed = _ref.fixed;\r\n        var $cols;\r\n        var i;\r\n        var width;\r\n        var minWidth;\r\n        var columnIndex;\r\n        var columnAutoWidth = this.option(\"columnAutoWidth\");\r\n        var legacyRendering = this.option(\"legacyRendering\");\r\n        $tableElement = $tableElement || this._getTableElement();\r\n        if ($tableElement && $tableElement.length && widths) {\r\n            columnIndex = 0;\r\n            $cols = $tableElement.children(\"colgroup\").children(\"col\");\r\n            _style2.default.setWidth($cols, \"auto\");\r\n            columns = columns || this.getColumns(null, $tableElement);\r\n            for (i = 0; i < columns.length; i++) {\r\n                if (!legacyRendering && columnAutoWidth && !fixed) {\r\n                    width = columns[i].width;\r\n                    if (width && !columns[i].command) {\r\n                        width = columns[i].visibleWidth || width;\r\n                        width = getWidthStyle(width);\r\n                        minWidth = getWidthStyle(columns[i].minWidth || width);\r\n                        var $rows = $rows || $tableElement.children().children(\".dx-row\").not(\".\" + GROUP_ROW_CLASS).not(\".\" + DETAIL_ROW_CLASS);\r\n                        for (var rowIndex = 0; rowIndex < $rows.length; rowIndex++) {\r\n                            var visibleIndex = this.getVisibleColumnIndex(i, rowIndex);\r\n                            var cell = $rows[rowIndex].cells[visibleIndex];\r\n                            if (cell) {\r\n                                setCellWidth(cell, columns[i], width);\r\n                                cell.style.minWidth = minWidth\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (columns[i].colspan) {\r\n                    columnIndex += columns[i].colspan;\r\n                    continue\r\n                }\r\n                width = widths[columnIndex];\r\n                if (\"adaptiveHidden\" === width) {\r\n                    width = HIDDEN_COLUMNS_WIDTH\r\n                }\r\n                if (\"number\" === typeof width) {\r\n                    width = width.toFixed(3) + \"px\"\r\n                }\r\n                _style2.default.setWidth($cols.eq(columnIndex), _type2.default.isDefined(width) ? width : \"auto\");\r\n                columnIndex++\r\n            }\r\n        }\r\n    },\r\n    getCellElements: function(rowIndex) {\r\n        return this._getCellElementsCore(rowIndex)\r\n    },\r\n    _getCellElementsCore: function(rowIndex) {\r\n        var $row = this._getRowElements().eq(rowIndex);\r\n        return $row.children()\r\n    },\r\n    _getCellElement: function(rowIndex, columnIdentifier) {\r\n        var that = this;\r\n        var $cell;\r\n        var $cells = that.getCellElements(rowIndex);\r\n        var columnVisibleIndex = that._getVisibleColumnIndex($cells, rowIndex, columnIdentifier);\r\n        if ($cells.length && columnVisibleIndex >= 0) {\r\n            $cell = $cells.eq(columnVisibleIndex)\r\n        }\r\n        if ($cell && $cell.length) {\r\n            return $cell\r\n        }\r\n    },\r\n    _getRowElement: function(rowIndex) {\r\n        var that = this;\r\n        var $rowElement = (0, _renderer2.default)();\r\n        var $tableElements = that.getTableElements();\r\n        _iterator2.default.each($tableElements, function(_, tableElement) {\r\n            $rowElement = $rowElement.add(that._getRowElements((0, _renderer2.default)(tableElement)).eq(rowIndex))\r\n        });\r\n        if ($rowElement.length) {\r\n            return $rowElement\r\n        }\r\n    },\r\n    getCellElement: function(rowIndex, columnIdentifier) {\r\n        return (0, _dom.getPublicElement)(this._getCellElement(rowIndex, columnIdentifier))\r\n    },\r\n    getRowElement: function(rowIndex) {\r\n        var $rows = this._getRowElement(rowIndex);\r\n        var elements = [];\r\n        if ($rows && !(0, _dom.getPublicElement)($rows).get) {\r\n            for (var i = 0; i < $rows.length; i++) {\r\n                elements.push($rows[i])\r\n            }\r\n        } else {\r\n            elements = $rows\r\n        }\r\n        return elements\r\n    },\r\n    _getVisibleColumnIndex: function($cells, rowIndex, columnIdentifier) {\r\n        var columnIndex;\r\n        if (_type2.default.isString(columnIdentifier)) {\r\n            columnIndex = this._columnsController.columnOption(columnIdentifier, \"index\");\r\n            return this._columnsController.getVisibleIndex(columnIndex)\r\n        }\r\n        return columnIdentifier\r\n    },\r\n    getColumnElements: function() {},\r\n    getColumns: function(rowIndex) {\r\n        return this._columnsController.getVisibleColumns(rowIndex)\r\n    },\r\n    getCell: function(cellPosition, rows) {\r\n        var $rows = rows || this._getRowElements();\r\n        var $cells;\r\n        if ($rows.length > 0 && cellPosition.rowIndex >= 0) {\r\n            if (\"virtual\" !== this.option(\"scrolling.mode\")) {\r\n                cellPosition.rowIndex = cellPosition.rowIndex < $rows.length ? cellPosition.rowIndex : $rows.length - 1\r\n            }\r\n            $cells = this.getCellElements(cellPosition.rowIndex);\r\n            if ($cells && $cells.length > 0) {\r\n                return $cells.eq($cells.length > cellPosition.columnIndex ? cellPosition.columnIndex : $cells.length - 1)\r\n            }\r\n        }\r\n    },\r\n    getRowsCount: function() {\r\n        var tableElement = this._getTableElement();\r\n        if (tableElement && 1 === tableElement.length) {\r\n            return tableElement[0].rows.length\r\n        }\r\n        return 0\r\n    },\r\n    _getRowElementsCore: function(tableElement) {\r\n        tableElement = tableElement || this._getTableElement();\r\n        if (tableElement) {\r\n            var tBodies = this.option(\"rowTemplate\") && tableElement.find(\"> tbody.\" + ROW_CLASS);\r\n            return tBodies && tBodies.length ? tBodies : tableElement.find(\"> tbody > .\" + ROW_CLASS + \", > .\" + ROW_CLASS)\r\n        }\r\n        return (0, _renderer2.default)()\r\n    },\r\n    _getRowElements: function(tableElement) {\r\n        return this._getRowElementsCore(tableElement)\r\n    },\r\n    getRowIndex: function($row) {\r\n        return this._getRowElements().index($row)\r\n    },\r\n    getBoundingRect: function() {},\r\n    getName: function() {},\r\n    setScrollerSpacing: function(width) {\r\n        var that = this;\r\n        var $element = that.element();\r\n        var rtlEnabled = that.option(\"rtlEnabled\");\r\n        $element && $element.css({\r\n            paddingLeft: rtlEnabled ? width : \"\",\r\n            paddingRight: !rtlEnabled ? width : \"\"\r\n        })\r\n    },\r\n    isScrollbarVisible: function(isHorizontal) {\r\n        var $element = this.element();\r\n        var $tableElement = this._tableElement;\r\n        if ($element && $tableElement) {\r\n            return isHorizontal ? $tableElement.outerWidth() - $element.width() > 0 : $tableElement.outerHeight() - $element.height() > 0\r\n        }\r\n        return false\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}