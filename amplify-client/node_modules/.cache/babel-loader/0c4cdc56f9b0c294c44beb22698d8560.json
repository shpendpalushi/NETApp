{"ast":null,"code":"/*!\r\n * Quill Editor v1.3.7\r\n * https://quilljs.com/\r\n * Copyright (c) 2014, Jason Chen\r\n * Copyright (c) 2013, salesforce.com\r\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"Quill\"] = factory();else root[\"Quill\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 109);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var container_1 = __webpack_require__(17);\n\n      var format_1 = __webpack_require__(18);\n\n      var leaf_1 = __webpack_require__(19);\n\n      var scroll_1 = __webpack_require__(45);\n\n      var inline_1 = __webpack_require__(46);\n\n      var block_1 = __webpack_require__(47);\n\n      var embed_1 = __webpack_require__(48);\n\n      var text_1 = __webpack_require__(49);\n\n      var attributor_1 = __webpack_require__(12);\n\n      var class_1 = __webpack_require__(32);\n\n      var style_1 = __webpack_require__(33);\n\n      var store_1 = __webpack_require__(31);\n\n      var Registry = __webpack_require__(1);\n\n      var Parchment = {\n        Scope: Registry.Scope,\n        create: Registry.create,\n        find: Registry.find,\n        query: Registry.query,\n        register: Registry.register,\n        Container: container_1.default,\n        Format: format_1.default,\n        Leaf: leaf_1.default,\n        Embed: embed_1.default,\n        Scroll: scroll_1.default,\n        Block: block_1.default,\n        Inline: inline_1.default,\n        Text: text_1.default,\n        Attributor: {\n          Attribute: attributor_1.default,\n          Class: class_1.default,\n          Style: style_1.default,\n          Store: store_1.default\n        }\n      };\n      exports.default = Parchment;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ParchmentError =\n      /** @class */\n      function (_super) {\n        __extends(ParchmentError, _super);\n\n        function ParchmentError(message) {\n          var _this = this;\n\n          message = '[Parchment] ' + message;\n          _this = _super.call(this, message) || this;\n          _this.message = message;\n          _this.name = _this.constructor.name;\n          return _this;\n        }\n\n        return ParchmentError;\n      }(Error);\n\n      exports.ParchmentError = ParchmentError;\n      var attributes = {};\n      var classes = {};\n      var tags = {};\n      var types = {};\n      exports.DATA_KEY = '__blot';\n      var Scope;\n\n      (function (Scope) {\n        Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n        Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n        Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n        Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n        Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n        Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n        Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n        Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n        Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n        Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n        Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n      })(Scope = exports.Scope || (exports.Scope = {}));\n\n      function create(input, value) {\n        var match = query(input);\n\n        if (match == null) {\n          throw new ParchmentError(\"Unable to create \" + input + \" blot\");\n        }\n\n        var BlotClass = match;\n        var node = // @ts-ignore\n        input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\n        return new BlotClass(node, value);\n      }\n\n      exports.create = create;\n\n      function find(node, bubble) {\n        if (bubble === void 0) {\n          bubble = false;\n        }\n\n        if (node == null) return null; // @ts-ignore\n\n        if (node[exports.DATA_KEY] != null) return node[exports.DATA_KEY].blot;\n        if (bubble) return find(node.parentNode, bubble);\n        return null;\n      }\n\n      exports.find = find;\n\n      function query(query, scope) {\n        if (scope === void 0) {\n          scope = Scope.ANY;\n        }\n\n        var match;\n\n        if (typeof query === 'string') {\n          match = types[query] || attributes[query]; // @ts-ignore\n        } else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\n          match = types['text'];\n        } else if (typeof query === 'number') {\n          if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n          } else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n          }\n        } else if (query instanceof HTMLElement) {\n          var names = (query.getAttribute('class') || '').split(/\\s+/);\n\n          for (var i in names) {\n            match = classes[names[i]];\n            if (match) break;\n          }\n\n          match = match || tags[query.tagName];\n        }\n\n        if (match == null) return null; // @ts-ignore\n\n        if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope) return match;\n        return null;\n      }\n\n      exports.query = query;\n\n      function register() {\n        var Definitions = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          Definitions[_i] = arguments[_i];\n        }\n\n        if (Definitions.length > 1) {\n          return Definitions.map(function (d) {\n            return register(d);\n          });\n        }\n\n        var Definition = Definitions[0];\n\n        if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n          throw new ParchmentError('Invalid definition');\n        } else if (Definition.blotName === 'abstract') {\n          throw new ParchmentError('Cannot register abstract class');\n        }\n\n        types[Definition.blotName || Definition.attrName] = Definition;\n\n        if (typeof Definition.keyName === 'string') {\n          attributes[Definition.keyName] = Definition;\n        } else {\n          if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n          }\n\n          if (Definition.tagName != null) {\n            if (Array.isArray(Definition.tagName)) {\n              Definition.tagName = Definition.tagName.map(function (tagName) {\n                return tagName.toUpperCase();\n              });\n            } else {\n              Definition.tagName = Definition.tagName.toUpperCase();\n            }\n\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n              if (tags[tag] == null || Definition.className == null) {\n                tags[tag] = Definition;\n              }\n            });\n          }\n        }\n\n        return Definition;\n      }\n\n      exports.register = register;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var diff = __webpack_require__(51);\n\n      var equal = __webpack_require__(11);\n\n      var extend = __webpack_require__(3);\n\n      var op = __webpack_require__(20);\n\n      var NULL_CHARACTER = String.fromCharCode(0); // Placeholder char for embed in diff()\n\n      var Delta = function Delta(ops) {\n        // Assume we are given a well formed ops\n        if (Array.isArray(ops)) {\n          this.ops = ops;\n        } else if (ops != null && Array.isArray(ops.ops)) {\n          this.ops = ops.ops;\n        } else {\n          this.ops = [];\n        }\n      };\n\n      Delta.prototype.insert = function (text, attributes) {\n        var newOp = {};\n        if (text.length === 0) return this;\n        newOp.insert = text;\n\n        if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n          newOp.attributes = attributes;\n        }\n\n        return this.push(newOp);\n      };\n\n      Delta.prototype['delete'] = function (length) {\n        if (length <= 0) return this;\n        return this.push({\n          'delete': length\n        });\n      };\n\n      Delta.prototype.retain = function (length, attributes) {\n        if (length <= 0) return this;\n        var newOp = {\n          retain: length\n        };\n\n        if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n          newOp.attributes = attributes;\n        }\n\n        return this.push(newOp);\n      };\n\n      Delta.prototype.push = function (newOp) {\n        var index = this.ops.length;\n        var lastOp = this.ops[index - 1];\n        newOp = extend(true, {}, newOp);\n\n        if (typeof lastOp === 'object') {\n          if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n            this.ops[index - 1] = {\n              'delete': lastOp['delete'] + newOp['delete']\n            };\n            return this;\n          } // Since it does not matter if we insert before or after deleting at the same index,\n          // always prefer to insert first\n\n\n          if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n            index -= 1;\n            lastOp = this.ops[index - 1];\n\n            if (typeof lastOp !== 'object') {\n              this.ops.unshift(newOp);\n              return this;\n            }\n          }\n\n          if (equal(newOp.attributes, lastOp.attributes)) {\n            if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n              this.ops[index - 1] = {\n                insert: lastOp.insert + newOp.insert\n              };\n              if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes;\n              return this;\n            } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n              this.ops[index - 1] = {\n                retain: lastOp.retain + newOp.retain\n              };\n              if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes;\n              return this;\n            }\n          }\n        }\n\n        if (index === this.ops.length) {\n          this.ops.push(newOp);\n        } else {\n          this.ops.splice(index, 0, newOp);\n        }\n\n        return this;\n      };\n\n      Delta.prototype.chop = function () {\n        var lastOp = this.ops[this.ops.length - 1];\n\n        if (lastOp && lastOp.retain && !lastOp.attributes) {\n          this.ops.pop();\n        }\n\n        return this;\n      };\n\n      Delta.prototype.filter = function (predicate) {\n        return this.ops.filter(predicate);\n      };\n\n      Delta.prototype.forEach = function (predicate) {\n        this.ops.forEach(predicate);\n      };\n\n      Delta.prototype.map = function (predicate) {\n        return this.ops.map(predicate);\n      };\n\n      Delta.prototype.partition = function (predicate) {\n        var passed = [],\n            failed = [];\n        this.forEach(function (op) {\n          var target = predicate(op) ? passed : failed;\n          target.push(op);\n        });\n        return [passed, failed];\n      };\n\n      Delta.prototype.reduce = function (predicate, initial) {\n        return this.ops.reduce(predicate, initial);\n      };\n\n      Delta.prototype.changeLength = function () {\n        return this.reduce(function (length, elem) {\n          if (elem.insert) {\n            return length + op.length(elem);\n          } else if (elem.delete) {\n            return length - elem.delete;\n          }\n\n          return length;\n        }, 0);\n      };\n\n      Delta.prototype.length = function () {\n        return this.reduce(function (length, elem) {\n          return length + op.length(elem);\n        }, 0);\n      };\n\n      Delta.prototype.slice = function (start, end) {\n        start = start || 0;\n        if (typeof end !== 'number') end = Infinity;\n        var ops = [];\n        var iter = op.iterator(this.ops);\n        var index = 0;\n\n        while (index < end && iter.hasNext()) {\n          var nextOp;\n\n          if (index < start) {\n            nextOp = iter.next(start - index);\n          } else {\n            nextOp = iter.next(end - index);\n            ops.push(nextOp);\n          }\n\n          index += op.length(nextOp);\n        }\n\n        return new Delta(ops);\n      };\n\n      Delta.prototype.compose = function (other) {\n        var thisIter = op.iterator(this.ops);\n        var otherIter = op.iterator(other.ops);\n        var ops = [];\n        var firstOther = otherIter.peek();\n\n        if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\n          var firstLeft = firstOther.retain;\n\n          while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\n            firstLeft -= thisIter.peekLength();\n            ops.push(thisIter.next());\n          }\n\n          if (firstOther.retain - firstLeft > 0) {\n            otherIter.next(firstOther.retain - firstLeft);\n          }\n        }\n\n        var delta = new Delta(ops);\n\n        while (thisIter.hasNext() || otherIter.hasNext()) {\n          if (otherIter.peekType() === 'insert') {\n            delta.push(otherIter.next());\n          } else if (thisIter.peekType() === 'delete') {\n            delta.push(thisIter.next());\n          } else {\n            var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n            var thisOp = thisIter.next(length);\n            var otherOp = otherIter.next(length);\n\n            if (typeof otherOp.retain === 'number') {\n              var newOp = {};\n\n              if (typeof thisOp.retain === 'number') {\n                newOp.retain = length;\n              } else {\n                newOp.insert = thisOp.insert;\n              } // Preserve null when composing with a retain, otherwise remove it for inserts\n\n\n              var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n              if (attributes) newOp.attributes = attributes;\n              delta.push(newOp); // Optimization if rest of other is just retain\n\n              if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\n                var rest = new Delta(thisIter.rest());\n                return delta.concat(rest).chop();\n              } // Other op should be delete, we could be an insert or retain\n              // Insert + delete cancels out\n\n            } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n              delta.push(otherOp);\n            }\n          }\n        }\n\n        return delta.chop();\n      };\n\n      Delta.prototype.concat = function (other) {\n        var delta = new Delta(this.ops.slice());\n\n        if (other.ops.length > 0) {\n          delta.push(other.ops[0]);\n          delta.ops = delta.ops.concat(other.ops.slice(1));\n        }\n\n        return delta;\n      };\n\n      Delta.prototype.diff = function (other, index) {\n        if (this.ops === other.ops) {\n          return new Delta();\n        }\n\n        var strings = [this, other].map(function (delta) {\n          return delta.map(function (op) {\n            if (op.insert != null) {\n              return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n            }\n\n            var prep = delta === other ? 'on' : 'with';\n            throw new Error('diff() called ' + prep + ' non-document');\n          }).join('');\n        });\n        var delta = new Delta();\n        var diffResult = diff(strings[0], strings[1], index);\n        var thisIter = op.iterator(this.ops);\n        var otherIter = op.iterator(other.ops);\n        diffResult.forEach(function (component) {\n          var length = component[1].length;\n\n          while (length > 0) {\n            var opLength = 0;\n\n            switch (component[0]) {\n              case diff.INSERT:\n                opLength = Math.min(otherIter.peekLength(), length);\n                delta.push(otherIter.next(opLength));\n                break;\n\n              case diff.DELETE:\n                opLength = Math.min(length, thisIter.peekLength());\n                thisIter.next(opLength);\n                delta['delete'](opLength);\n                break;\n\n              case diff.EQUAL:\n                opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n                var thisOp = thisIter.next(opLength);\n                var otherOp = otherIter.next(opLength);\n\n                if (equal(thisOp.insert, otherOp.insert)) {\n                  delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n                } else {\n                  delta.push(otherOp)['delete'](opLength);\n                }\n\n                break;\n            }\n\n            length -= opLength;\n          }\n        });\n        return delta.chop();\n      };\n\n      Delta.prototype.eachLine = function (predicate, newline) {\n        newline = newline || '\\n';\n        var iter = op.iterator(this.ops);\n        var line = new Delta();\n        var i = 0;\n\n        while (iter.hasNext()) {\n          if (iter.peekType() !== 'insert') return;\n          var thisOp = iter.peek();\n          var start = op.length(thisOp) - iter.peekLength();\n          var index = typeof thisOp.insert === 'string' ? thisOp.insert.indexOf(newline, start) - start : -1;\n\n          if (index < 0) {\n            line.push(iter.next());\n          } else if (index > 0) {\n            line.push(iter.next(index));\n          } else {\n            if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n              return;\n            }\n\n            i += 1;\n            line = new Delta();\n          }\n        }\n\n        if (line.length() > 0) {\n          predicate(line, {}, i);\n        }\n      };\n\n      Delta.prototype.transform = function (other, priority) {\n        priority = !!priority;\n\n        if (typeof other === 'number') {\n          return this.transformPosition(other, priority);\n        }\n\n        var thisIter = op.iterator(this.ops);\n        var otherIter = op.iterator(other.ops);\n        var delta = new Delta();\n\n        while (thisIter.hasNext() || otherIter.hasNext()) {\n          if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n            delta.retain(op.length(thisIter.next()));\n          } else if (otherIter.peekType() === 'insert') {\n            delta.push(otherIter.next());\n          } else {\n            var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n            var thisOp = thisIter.next(length);\n            var otherOp = otherIter.next(length);\n\n            if (thisOp['delete']) {\n              // Our delete either makes their delete redundant or removes their retain\n              continue;\n            } else if (otherOp['delete']) {\n              delta.push(otherOp);\n            } else {\n              // We retain either their retain or insert\n              delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n            }\n          }\n        }\n\n        return delta.chop();\n      };\n\n      Delta.prototype.transformPosition = function (index, priority) {\n        priority = !!priority;\n        var thisIter = op.iterator(this.ops);\n        var offset = 0;\n\n        while (thisIter.hasNext() && offset <= index) {\n          var length = thisIter.peekLength();\n          var nextType = thisIter.peekType();\n          thisIter.next();\n\n          if (nextType === 'delete') {\n            index -= Math.min(length, index - offset);\n            continue;\n          } else if (nextType === 'insert' && (offset < index || !priority)) {\n            index += length;\n          }\n\n          offset += length;\n        }\n\n        return index;\n      };\n\n      module.exports = Delta;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports) {\n      'use strict';\n\n      var hasOwn = Object.prototype.hasOwnProperty;\n      var toStr = Object.prototype.toString;\n      var defineProperty = Object.defineProperty;\n      var gOPD = Object.getOwnPropertyDescriptor;\n\n      var isArray = function isArray(arr) {\n        if (typeof Array.isArray === 'function') {\n          return Array.isArray(arr);\n        }\n\n        return toStr.call(arr) === '[object Array]';\n      };\n\n      var isPlainObject = function isPlainObject(obj) {\n        if (!obj || toStr.call(obj) !== '[object Object]') {\n          return false;\n        }\n\n        var hasOwnConstructor = hasOwn.call(obj, 'constructor');\n        var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf'); // Not own constructor property must be Object\n\n        if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n          return false;\n        } // Own properties are enumerated firstly, so to speed up,\n        // if last one is own, then all properties are own.\n\n\n        var key;\n\n        for (key in obj) {\n          /**/\n        }\n\n        return typeof key === 'undefined' || hasOwn.call(obj, key);\n      }; // If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\n\n\n      var setProperty = function setProperty(target, options) {\n        if (defineProperty && options.name === '__proto__') {\n          defineProperty(target, options.name, {\n            enumerable: true,\n            configurable: true,\n            value: options.newValue,\n            writable: true\n          });\n        } else {\n          target[options.name] = options.newValue;\n        }\n      }; // Return undefined instead of __proto__ if '__proto__' is not an own property\n\n\n      var getProperty = function getProperty(obj, name) {\n        if (name === '__proto__') {\n          if (!hasOwn.call(obj, name)) {\n            return void 0;\n          } else if (gOPD) {\n            // In early versions of node, obj['__proto__'] is buggy when obj has\n            // __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n            return gOPD(obj, name).value;\n          }\n        }\n\n        return obj[name];\n      };\n\n      module.exports = function extend() {\n        var options, name, src, copy, copyIsArray, clone;\n        var target = arguments[0];\n        var i = 1;\n        var length = arguments.length;\n        var deep = false; // Handle a deep copy situation\n\n        if (typeof target === 'boolean') {\n          deep = target;\n          target = arguments[1] || {}; // skip the boolean and the target\n\n          i = 2;\n        }\n\n        if (target == null || typeof target !== 'object' && typeof target !== 'function') {\n          target = {};\n        }\n\n        for (; i < length; ++i) {\n          options = arguments[i]; // Only deal with non-null/undefined values\n\n          if (options != null) {\n            // Extend the base object\n            for (name in options) {\n              src = getProperty(target, name);\n              copy = getProperty(options, name); // Prevent never-ending loop\n\n              if (target !== copy) {\n                // Recurse if we're merging plain objects or arrays\n                if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n                  if (copyIsArray) {\n                    copyIsArray = false;\n                    clone = src && isArray(src) ? src : [];\n                  } else {\n                    clone = src && isPlainObject(src) ? src : {};\n                  } // Never move original objects, clone them\n\n\n                  setProperty(target, {\n                    name: name,\n                    newValue: extend(deep, clone, copy)\n                  }); // Don't bring in undefined values\n                } else if (typeof copy !== 'undefined') {\n                  setProperty(target, {\n                    name: name,\n                    newValue: copy\n                  });\n                }\n              }\n            }\n          }\n        } // Return the modified object\n\n\n        return target;\n      };\n      /***/\n\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var NEWLINE_LENGTH = 1;\n\n      var BlockEmbed = function (_Parchment$Embed) {\n        _inherits(BlockEmbed, _Parchment$Embed);\n\n        function BlockEmbed() {\n          _classCallCheck(this, BlockEmbed);\n\n          return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\n        }\n\n        _createClass(BlockEmbed, [{\n          key: 'attach',\n          value: function attach() {\n            _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\n\n            this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\n          }\n        }, {\n          key: 'delta',\n          value: function delta() {\n            return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\n\n            if (attribute != null) {\n              this.attributes.attribute(attribute, value);\n            }\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            this.format(name, value);\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (typeof value === 'string' && value.endsWith('\\n')) {\n              var block = _parchment2.default.create(Block.blotName);\n\n              this.parent.insertBefore(block, index === 0 ? this : this.next);\n              block.insertAt(0, value.slice(0, -1));\n            } else {\n              _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\n            }\n          }\n        }]);\n\n        return BlockEmbed;\n      }(_parchment2.default.Embed);\n\n      BlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT; // It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\n      var Block = function (_Parchment$Block) {\n        _inherits(Block, _Parchment$Block);\n\n        function Block(domNode) {\n          _classCallCheck(this, Block);\n\n          var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\n\n          _this2.cache = {};\n          return _this2;\n        }\n\n        _createClass(Block, [{\n          key: 'delta',\n          value: function delta() {\n            if (this.cache.delta == null) {\n              this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\n                if (leaf.length() === 0) {\n                  return delta;\n                } else {\n                  return delta.insert(leaf.value(), bubbleFormats(leaf));\n                }\n              }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\n            }\n\n            return this.cache.delta;\n          }\n        }, {\n          key: 'deleteAt',\n          value: function deleteAt(index, length) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            if (length <= 0) return;\n\n            if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n              if (index + length === this.length()) {\n                this.format(name, value);\n              }\n            } else {\n              _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\n            }\n\n            this.cache = {};\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\n            if (value.length === 0) return;\n            var lines = value.split('\\n');\n            var text = lines.shift();\n\n            if (text.length > 0) {\n              if (index < this.length() - 1 || this.children.tail == null) {\n                _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\n              } else {\n                this.children.tail.insertAt(this.children.tail.length(), text);\n              }\n\n              this.cache = {};\n            }\n\n            var block = this;\n            lines.reduce(function (index, line) {\n              block = block.split(index, true);\n              block.insertAt(0, line);\n              return line.length;\n            }, index + text.length);\n          }\n        }, {\n          key: 'insertBefore',\n          value: function insertBefore(blot, ref) {\n            var head = this.children.head;\n\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\n\n            if (head instanceof _break2.default) {\n              head.remove();\n            }\n\n            this.cache = {};\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            if (this.cache.length == null) {\n              this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\n            }\n\n            return this.cache.length;\n          }\n        }, {\n          key: 'moveChildren',\n          value: function moveChildren(target, ref) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'path',\n          value: function path(index) {\n            return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\n          }\n        }, {\n          key: 'removeChild',\n          value: function removeChild(child) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'split',\n          value: function split(index) {\n            var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n              var clone = this.clone();\n\n              if (index === 0) {\n                this.parent.insertBefore(clone, this);\n                return this;\n              } else {\n                this.parent.insertBefore(clone, this.next);\n                return clone;\n              }\n            } else {\n              var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\n\n              this.cache = {};\n              return next;\n            }\n          }\n        }]);\n\n        return Block;\n      }(_parchment2.default.Block);\n\n      Block.blotName = 'block';\n      Block.tagName = 'P';\n      Block.defaultChild = 'break';\n      Block.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\n\n      function bubbleFormats(blot) {\n        var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        if (blot == null) return formats;\n\n        if (typeof blot.formats === 'function') {\n          formats = (0, _extend2.default)(formats, blot.formats());\n        }\n\n        if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n          return formats;\n        }\n\n        return bubbleFormats(blot.parent, formats);\n      }\n\n      exports.bubbleFormats = bubbleFormats;\n      exports.BlockEmbed = BlockEmbed;\n      exports.default = Block;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.overload = exports.expandConfig = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      __webpack_require__(50);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _editor = __webpack_require__(14);\n\n      var _editor2 = _interopRequireDefault(_editor);\n\n      var _emitter3 = __webpack_require__(8);\n\n      var _emitter4 = _interopRequireDefault(_emitter3);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _selection = __webpack_require__(15);\n\n      var _selection2 = _interopRequireDefault(_selection);\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _theme = __webpack_require__(34);\n\n      var _theme2 = _interopRequireDefault(_theme);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var debug = (0, _logger2.default)('quill');\n\n      var Quill = function () {\n        _createClass(Quill, null, [{\n          key: 'debug',\n          value: function debug(limit) {\n            if (limit === true) {\n              limit = 'log';\n            }\n\n            _logger2.default.level(limit);\n          }\n        }, {\n          key: 'find',\n          value: function find(node) {\n            return node.__quill || _parchment2.default.find(node);\n          }\n        }, {\n          key: 'import',\n          value: function _import(name) {\n            if (this.imports[name] == null) {\n              debug.error('Cannot import ' + name + '. Are you sure it was registered?');\n            }\n\n            return this.imports[name];\n          }\n        }, {\n          key: 'register',\n          value: function register(path, target) {\n            var _this = this;\n\n            var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n            if (typeof path !== 'string') {\n              var name = path.attrName || path.blotName;\n\n              if (typeof name === 'string') {\n                // register(Blot | Attributor, overwrite)\n                this.register('formats/' + name, path, target);\n              } else {\n                Object.keys(path).forEach(function (key) {\n                  _this.register(key, path[key], target);\n                });\n              }\n            } else {\n              if (this.imports[path] != null && !overwrite) {\n                debug.warn('Overwriting ' + path + ' with', target);\n              }\n\n              this.imports[path] = target;\n\n              if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n                _parchment2.default.register(target);\n              } else if (path.startsWith('modules') && typeof target.register === 'function') {\n                target.register();\n              }\n            }\n          }\n        }]);\n\n        function Quill(container) {\n          var _this2 = this;\n\n          var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n          _classCallCheck(this, Quill);\n\n          this.options = expandConfig(container, options);\n          this.container = this.options.container;\n\n          if (this.container == null) {\n            return debug.error('Invalid Quill container', container);\n          }\n\n          if (this.options.debug) {\n            Quill.debug(this.options.debug);\n          }\n\n          var html = this.container.innerHTML.trim();\n          this.container.classList.add('ql-container');\n          this.container.innerHTML = '';\n          this.container.__quill = this;\n          this.root = this.addContainer('ql-editor');\n          this.root.classList.add('ql-blank');\n          this.root.setAttribute('data-gramm', false);\n          this.scrollingContainer = this.options.scrollingContainer || this.root;\n          this.emitter = new _emitter4.default();\n          this.scroll = _parchment2.default.create(this.root, {\n            emitter: this.emitter,\n            whitelist: this.options.formats\n          });\n          this.editor = new _editor2.default(this.scroll);\n          this.selection = new _selection2.default(this.scroll, this.emitter);\n          this.theme = new this.options.theme(this, this.options);\n          this.keyboard = this.theme.addModule('keyboard');\n          this.clipboard = this.theme.addModule('clipboard');\n          this.history = this.theme.addModule('history');\n          this.theme.init();\n          this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\n            if (type === _emitter4.default.events.TEXT_CHANGE) {\n              _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\n            }\n          });\n          this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\n            var range = _this2.selection.lastRange;\n            var index = range && range.length === 0 ? range.index : undefined;\n            modify.call(_this2, function () {\n              return _this2.editor.update(null, mutations, index);\n            }, source);\n          });\n          var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\n          this.setContents(contents);\n          this.history.clear();\n\n          if (this.options.placeholder) {\n            this.root.setAttribute('data-placeholder', this.options.placeholder);\n          }\n\n          if (this.options.readOnly) {\n            this.disable();\n          }\n        }\n\n        _createClass(Quill, [{\n          key: 'addContainer',\n          value: function addContainer(container) {\n            var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n            if (typeof container === 'string') {\n              var className = container;\n              container = document.createElement('div');\n              container.classList.add(className);\n            }\n\n            this.container.insertBefore(container, refNode);\n            return container;\n          }\n        }, {\n          key: 'blur',\n          value: function blur() {\n            this.selection.setRange(null);\n          }\n        }, {\n          key: 'deleteText',\n          value: function deleteText(index, length, source) {\n            var _this3 = this;\n\n            var _overload = overload(index, length, source);\n\n            var _overload2 = _slicedToArray(_overload, 4);\n\n            index = _overload2[0];\n            length = _overload2[1];\n            source = _overload2[3];\n            return modify.call(this, function () {\n              return _this3.editor.deleteText(index, length);\n            }, source, index, -1 * length);\n          }\n        }, {\n          key: 'disable',\n          value: function disable() {\n            this.enable(false);\n          }\n        }, {\n          key: 'enable',\n          value: function enable() {\n            var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n            this.scroll.enable(enabled);\n            this.container.classList.toggle('ql-disabled', !enabled);\n          }\n        }, {\n          key: 'focus',\n          value: function focus() {\n            var scrollTop = this.scrollingContainer.scrollTop;\n            this.selection.focus();\n            this.scrollingContainer.scrollTop = scrollTop;\n            this.scrollIntoView();\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            var _this4 = this;\n\n            var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n            return modify.call(this, function () {\n              var range = _this4.getSelection(true);\n\n              var change = new _quillDelta2.default();\n\n              if (range == null) {\n                return change;\n              } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n                change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\n              } else if (range.length === 0) {\n                _this4.selection.format(name, value);\n\n                return change;\n              } else {\n                change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\n              }\n\n              _this4.setSelection(range, _emitter4.default.sources.SILENT);\n\n              return change;\n            }, source);\n          }\n        }, {\n          key: 'formatLine',\n          value: function formatLine(index, length, name, value, source) {\n            var _this5 = this;\n\n            var formats = void 0;\n\n            var _overload3 = overload(index, length, name, value, source);\n\n            var _overload4 = _slicedToArray(_overload3, 4);\n\n            index = _overload4[0];\n            length = _overload4[1];\n            formats = _overload4[2];\n            source = _overload4[3];\n            return modify.call(this, function () {\n              return _this5.editor.formatLine(index, length, formats);\n            }, source, index, 0);\n          }\n        }, {\n          key: 'formatText',\n          value: function formatText(index, length, name, value, source) {\n            var _this6 = this;\n\n            var formats = void 0;\n\n            var _overload5 = overload(index, length, name, value, source);\n\n            var _overload6 = _slicedToArray(_overload5, 4);\n\n            index = _overload6[0];\n            length = _overload6[1];\n            formats = _overload6[2];\n            source = _overload6[3];\n            return modify.call(this, function () {\n              return _this6.editor.formatText(index, length, formats);\n            }, source, index, 0);\n          }\n        }, {\n          key: 'getBounds',\n          value: function getBounds(index) {\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var bounds = void 0;\n\n            if (typeof index === 'number') {\n              bounds = this.selection.getBounds(index, length);\n            } else {\n              bounds = this.selection.getBounds(index.index, index.length);\n            }\n\n            var containerBounds = this.container.getBoundingClientRect();\n            return {\n              bottom: bounds.bottom - containerBounds.top,\n              height: bounds.height,\n              left: bounds.left - containerBounds.left,\n              right: bounds.right - containerBounds.left,\n              top: bounds.top - containerBounds.top,\n              width: bounds.width\n            };\n          }\n        }, {\n          key: 'getContents',\n          value: function getContents() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n            var _overload7 = overload(index, length);\n\n            var _overload8 = _slicedToArray(_overload7, 2);\n\n            index = _overload8[0];\n            length = _overload8[1];\n            return this.editor.getContents(index, length);\n          }\n        }, {\n          key: 'getFormat',\n          value: function getFormat() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n            if (typeof index === 'number') {\n              return this.editor.getFormat(index, length);\n            } else {\n              return this.editor.getFormat(index.index, index.length);\n            }\n          }\n        }, {\n          key: 'getIndex',\n          value: function getIndex(blot) {\n            return blot.offset(this.scroll);\n          }\n        }, {\n          key: 'getLength',\n          value: function getLength() {\n            return this.scroll.length();\n          }\n        }, {\n          key: 'getLeaf',\n          value: function getLeaf(index) {\n            return this.scroll.leaf(index);\n          }\n        }, {\n          key: 'getLine',\n          value: function getLine(index) {\n            return this.scroll.line(index);\n          }\n        }, {\n          key: 'getLines',\n          value: function getLines() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n            if (typeof index !== 'number') {\n              return this.scroll.lines(index.index, index.length);\n            } else {\n              return this.scroll.lines(index, length);\n            }\n          }\n        }, {\n          key: 'getModule',\n          value: function getModule(name) {\n            return this.theme.modules[name];\n          }\n        }, {\n          key: 'getSelection',\n          value: function getSelection() {\n            var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n            if (focus) this.focus();\n            this.update(); // Make sure we access getRange with editor in consistent state\n\n            return this.selection.getRange()[0];\n          }\n        }, {\n          key: 'getText',\n          value: function getText() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n            var _overload9 = overload(index, length);\n\n            var _overload10 = _slicedToArray(_overload9, 2);\n\n            index = _overload10[0];\n            length = _overload10[1];\n            return this.editor.getText(index, length);\n          }\n        }, {\n          key: 'hasFocus',\n          value: function hasFocus() {\n            return this.selection.hasFocus();\n          }\n        }, {\n          key: 'insertEmbed',\n          value: function insertEmbed(index, embed, value) {\n            var _this7 = this;\n\n            var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\n            return modify.call(this, function () {\n              return _this7.editor.insertEmbed(index, embed, value);\n            }, source, index);\n          }\n        }, {\n          key: 'insertText',\n          value: function insertText(index, text, name, value, source) {\n            var _this8 = this;\n\n            var formats = void 0;\n\n            var _overload11 = overload(index, 0, name, value, source);\n\n            var _overload12 = _slicedToArray(_overload11, 4);\n\n            index = _overload12[0];\n            formats = _overload12[2];\n            source = _overload12[3];\n            return modify.call(this, function () {\n              return _this8.editor.insertText(index, text, formats);\n            }, source, index, text.length);\n          }\n        }, {\n          key: 'isEnabled',\n          value: function isEnabled() {\n            return !this.container.classList.contains('ql-disabled');\n          }\n        }, {\n          key: 'off',\n          value: function off() {\n            return this.emitter.off.apply(this.emitter, arguments);\n          }\n        }, {\n          key: 'on',\n          value: function on() {\n            return this.emitter.on.apply(this.emitter, arguments);\n          }\n        }, {\n          key: 'once',\n          value: function once() {\n            return this.emitter.once.apply(this.emitter, arguments);\n          }\n        }, {\n          key: 'pasteHTML',\n          value: function pasteHTML(index, html, source) {\n            this.clipboard.dangerouslyPasteHTML(index, html, source);\n          }\n        }, {\n          key: 'removeFormat',\n          value: function removeFormat(index, length, source) {\n            var _this9 = this;\n\n            var _overload13 = overload(index, length, source);\n\n            var _overload14 = _slicedToArray(_overload13, 4);\n\n            index = _overload14[0];\n            length = _overload14[1];\n            source = _overload14[3];\n            return modify.call(this, function () {\n              return _this9.editor.removeFormat(index, length);\n            }, source, index);\n          }\n        }, {\n          key: 'scrollIntoView',\n          value: function scrollIntoView() {\n            this.selection.scrollIntoView(this.scrollingContainer);\n          }\n        }, {\n          key: 'setContents',\n          value: function setContents(delta) {\n            var _this10 = this;\n\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n            return modify.call(this, function () {\n              delta = new _quillDelta2.default(delta);\n\n              var length = _this10.getLength();\n\n              var deleted = _this10.editor.deleteText(0, length);\n\n              var applied = _this10.editor.applyDelta(delta);\n\n              var lastOp = applied.ops[applied.ops.length - 1];\n\n              if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n                _this10.editor.deleteText(_this10.getLength() - 1, 1);\n\n                applied.delete(1);\n              }\n\n              var ret = deleted.compose(applied);\n              return ret;\n            }, source);\n          }\n        }, {\n          key: 'setSelection',\n          value: function setSelection(index, length, source) {\n            if (index == null) {\n              this.selection.setRange(null, length || Quill.sources.API);\n            } else {\n              var _overload15 = overload(index, length, source);\n\n              var _overload16 = _slicedToArray(_overload15, 4);\n\n              index = _overload16[0];\n              length = _overload16[1];\n              source = _overload16[3];\n              this.selection.setRange(new _selection.Range(index, length), source);\n\n              if (source !== _emitter4.default.sources.SILENT) {\n                this.selection.scrollIntoView(this.scrollingContainer);\n              }\n            }\n          }\n        }, {\n          key: 'setText',\n          value: function setText(text) {\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n            var delta = new _quillDelta2.default().insert(text);\n            return this.setContents(delta, source);\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n            var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n\n            this.selection.update(source);\n            return change;\n          }\n        }, {\n          key: 'updateContents',\n          value: function updateContents(delta) {\n            var _this11 = this;\n\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n            return modify.call(this, function () {\n              delta = new _quillDelta2.default(delta);\n              return _this11.editor.applyDelta(delta, source);\n            }, source, true);\n          }\n        }]);\n\n        return Quill;\n      }();\n\n      Quill.DEFAULTS = {\n        bounds: null,\n        formats: null,\n        modules: {},\n        placeholder: '',\n        readOnly: false,\n        scrollingContainer: null,\n        strict: true,\n        theme: 'default'\n      };\n      Quill.events = _emitter4.default.events;\n      Quill.sources = _emitter4.default.sources; // eslint-disable-next-line no-undef\n\n      Quill.version = false ? 'dev' : \"1.3.7\";\n      Quill.imports = {\n        'delta': _quillDelta2.default,\n        'parchment': _parchment2.default,\n        'core/module': _module2.default,\n        'core/theme': _theme2.default\n      };\n\n      function expandConfig(container, userConfig) {\n        userConfig = (0, _extend2.default)(true, {\n          container: container,\n          modules: {\n            clipboard: true,\n            keyboard: true,\n            history: true\n          }\n        }, userConfig);\n\n        if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n          userConfig.theme = _theme2.default;\n        } else {\n          userConfig.theme = Quill.import('themes/' + userConfig.theme);\n\n          if (userConfig.theme == null) {\n            throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\n          }\n        }\n\n        var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\n        [themeConfig, userConfig].forEach(function (config) {\n          config.modules = config.modules || {};\n          Object.keys(config.modules).forEach(function (module) {\n            if (config.modules[module] === true) {\n              config.modules[module] = {};\n            }\n          });\n        });\n        var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n        var moduleConfig = moduleNames.reduce(function (config, name) {\n          var moduleClass = Quill.import('modules/' + name);\n\n          if (moduleClass == null) {\n            debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\n          } else {\n            config[name] = moduleClass.DEFAULTS || {};\n          }\n\n          return config;\n        }, {}); // Special case toolbar shorthand\n\n        if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n          userConfig.modules.toolbar = {\n            container: userConfig.modules.toolbar\n          };\n        }\n\n        userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, {\n          modules: moduleConfig\n        }, themeConfig, userConfig);\n        ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\n          if (typeof userConfig[key] === 'string') {\n            userConfig[key] = document.querySelector(userConfig[key]);\n          }\n        });\n        userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\n          if (userConfig.modules[name]) {\n            config[name] = userConfig.modules[name];\n          }\n\n          return config;\n        }, {});\n        return userConfig;\n      } // Handle selection preservation and TEXT_CHANGE emission\n      // common to modification APIs\n\n\n      function modify(modifier, source, index, shift) {\n        if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\n          return new _quillDelta2.default();\n        }\n\n        var range = index == null ? null : this.getSelection();\n        var oldDelta = this.editor.delta;\n        var change = modifier();\n\n        if (range != null) {\n          if (index === true) index = range.index;\n\n          if (shift == null) {\n            range = shiftRange(range, change, source);\n          } else if (shift !== 0) {\n            range = shiftRange(range, index, shift, source);\n          }\n\n          this.setSelection(range, _emitter4.default.sources.SILENT);\n        }\n\n        if (change.length() > 0) {\n          var _emitter;\n\n          var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\n\n          (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n\n          if (source !== _emitter4.default.sources.SILENT) {\n            var _emitter2;\n\n            (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n          }\n        }\n\n        return change;\n      }\n\n      function overload(index, length, name, value, source) {\n        var formats = {};\n\n        if (typeof index.index === 'number' && typeof index.length === 'number') {\n          // Allow for throwaway end (used by insertText/insertEmbed)\n          if (typeof length !== 'number') {\n            source = value, value = name, name = length, length = index.length, index = index.index;\n          } else {\n            length = index.length, index = index.index;\n          }\n        } else if (typeof length !== 'number') {\n          source = value, value = name, name = length, length = 0;\n        } // Handle format being object, two format name/value strings or excluded\n\n\n        if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n          formats = name;\n          source = value;\n        } else if (typeof name === 'string') {\n          if (value != null) {\n            formats[name] = value;\n          } else {\n            source = name;\n          }\n        } // Handle optional source\n\n\n        source = source || _emitter4.default.sources.API;\n        return [index, length, formats, source];\n      }\n\n      function shiftRange(range, index, length, source) {\n        if (range == null) return null;\n        var start = void 0,\n            end = void 0;\n\n        if (index instanceof _quillDelta2.default) {\n          var _map = [range.index, range.index + range.length].map(function (pos) {\n            return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\n          });\n\n          var _map2 = _slicedToArray(_map, 2);\n\n          start = _map2[0];\n          end = _map2[1];\n        } else {\n          var _map3 = [range.index, range.index + range.length].map(function (pos) {\n            if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\n\n            if (length >= 0) {\n              return pos + length;\n            } else {\n              return Math.max(index, pos + length);\n            }\n          });\n\n          var _map4 = _slicedToArray(_map3, 2);\n\n          start = _map4[0];\n          end = _map4[1];\n        }\n\n        return new _selection.Range(start, end - start);\n      }\n\n      exports.expandConfig = expandConfig;\n      exports.overload = overload;\n      exports.default = Quill;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Inline = function (_Parchment$Inline) {\n        _inherits(Inline, _Parchment$Inline);\n\n        function Inline() {\n          _classCallCheck(this, Inline);\n\n          return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\n        }\n\n        _createClass(Inline, [{\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\n              var blot = this.isolate(index, length);\n\n              if (value) {\n                blot.wrap(name, value);\n              }\n            } else {\n              _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\n            }\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\n\n            if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n              var parent = this.parent.isolate(this.offset(), this.length());\n              this.moveChildren(parent);\n              parent.wrap(this);\n            }\n          }\n        }], [{\n          key: 'compare',\n          value: function compare(self, other) {\n            var selfIndex = Inline.order.indexOf(self);\n            var otherIndex = Inline.order.indexOf(other);\n\n            if (selfIndex >= 0 || otherIndex >= 0) {\n              return selfIndex - otherIndex;\n            } else if (self === other) {\n              return 0;\n            } else if (self < other) {\n              return -1;\n            } else {\n              return 1;\n            }\n          }\n        }]);\n\n        return Inline;\n      }(_parchment2.default.Inline);\n\n      Inline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default]; // Lower index means deeper in the DOM tree, since not found (-1) is for embeds\n\n      Inline.order = ['cursor', 'inline', // Must be lower\n      'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\n      ];\n      exports.default = Inline;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var TextBlot = function (_Parchment$Text) {\n        _inherits(TextBlot, _Parchment$Text);\n\n        function TextBlot() {\n          _classCallCheck(this, TextBlot);\n\n          return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\n        }\n\n        return TextBlot;\n      }(_parchment2.default.Text);\n\n      exports.default = TextBlot;\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _eventemitter = __webpack_require__(54);\n\n      var _eventemitter2 = _interopRequireDefault(_eventemitter);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:events');\n      var EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n      EVENTS.forEach(function (eventName) {\n        document.addEventListener(eventName, function () {\n          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\n            // TODO use WeakMap\n            if (node.__quill && node.__quill.emitter) {\n              var _node$__quill$emitter;\n\n              (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\n            }\n          });\n        });\n      });\n\n      var Emitter = function (_EventEmitter) {\n        _inherits(Emitter, _EventEmitter);\n\n        function Emitter() {\n          _classCallCheck(this, Emitter);\n\n          var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n          _this.listeners = {};\n\n          _this.on('error', debug.error);\n\n          return _this;\n        }\n\n        _createClass(Emitter, [{\n          key: 'emit',\n          value: function emit() {\n            debug.log.apply(debug, arguments);\n\n            _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\n          }\n        }, {\n          key: 'handleDOM',\n          value: function handleDOM(event) {\n            for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n              args[_key2 - 1] = arguments[_key2];\n            }\n\n            (this.listeners[event.type] || []).forEach(function (_ref) {\n              var node = _ref.node,\n                  handler = _ref.handler;\n\n              if (event.target === node || node.contains(event.target)) {\n                handler.apply(undefined, [event].concat(args));\n              }\n            });\n          }\n        }, {\n          key: 'listenDOM',\n          value: function listenDOM(eventName, node, handler) {\n            if (!this.listeners[eventName]) {\n              this.listeners[eventName] = [];\n            }\n\n            this.listeners[eventName].push({\n              node: node,\n              handler: handler\n            });\n          }\n        }]);\n\n        return Emitter;\n      }(_eventemitter2.default);\n\n      Emitter.events = {\n        EDITOR_CHANGE: 'editor-change',\n        SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n        SCROLL_OPTIMIZE: 'scroll-optimize',\n        SCROLL_UPDATE: 'scroll-update',\n        SELECTION_CHANGE: 'selection-change',\n        TEXT_CHANGE: 'text-change'\n      };\n      Emitter.sources = {\n        API: 'api',\n        SILENT: 'silent',\n        USER: 'user'\n      };\n      exports.default = Emitter;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var Module = function Module(quill) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, Module);\n\n        this.quill = quill;\n        this.options = options;\n      };\n\n      Module.DEFAULTS = {};\n      exports.default = Module;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var levels = ['error', 'warn', 'log', 'info'];\n      var level = 'warn';\n\n      function debug(method) {\n        if (levels.indexOf(method) <= levels.indexOf(level)) {\n          var _console;\n\n          for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\n\n        }\n      }\n\n      function namespace(ns) {\n        return levels.reduce(function (logger, method) {\n          logger[method] = debug.bind(console, method, ns);\n          return logger;\n        }, {});\n      }\n\n      debug.level = namespace.level = function (newLevel) {\n        level = newLevel;\n      };\n\n      exports.default = namespace;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var pSlice = Array.prototype.slice;\n\n      var objectKeys = __webpack_require__(52);\n\n      var isArguments = __webpack_require__(53);\n\n      var deepEqual = module.exports = function (actual, expected, opts) {\n        if (!opts) opts = {}; // 7.1. All identical values are equivalent, as determined by ===.\n\n        if (actual === expected) {\n          return true;\n        } else if (actual instanceof Date && expected instanceof Date) {\n          return actual.getTime() === expected.getTime(); // 7.3. Other pairs that do not both pass typeof value == 'object',\n          // equivalence is determined by ==.\n        } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n          return opts.strict ? actual === expected : actual == expected; // 7.4. For all other Object pairs, including Array objects, equivalence is\n          // determined by having the same number of owned properties (as verified\n          // with Object.prototype.hasOwnProperty.call), the same set of keys\n          // (although not necessarily the same order), equivalent values for every\n          // corresponding key, and an identical 'prototype' property. Note: this\n          // accounts for both named and indexed properties on Arrays.\n        } else {\n          return objEquiv(actual, expected, opts);\n        }\n      };\n\n      function isUndefinedOrNull(value) {\n        return value === null || value === undefined;\n      }\n\n      function isBuffer(x) {\n        if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n\n        if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n          return false;\n        }\n\n        if (x.length > 0 && typeof x[0] !== 'number') return false;\n        return true;\n      }\n\n      function objEquiv(a, b, opts) {\n        var i, key;\n        if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) return false; // an identical 'prototype' property.\n\n        if (a.prototype !== b.prototype) return false; //~~~I've managed to break Object.keys through screwy arguments passing.\n        //   Converting to array solves the problem.\n\n        if (isArguments(a)) {\n          if (!isArguments(b)) {\n            return false;\n          }\n\n          a = pSlice.call(a);\n          b = pSlice.call(b);\n          return deepEqual(a, b, opts);\n        }\n\n        if (isBuffer(a)) {\n          if (!isBuffer(b)) {\n            return false;\n          }\n\n          if (a.length !== b.length) return false;\n\n          for (i = 0; i < a.length; i++) {\n            if (a[i] !== b[i]) return false;\n          }\n\n          return true;\n        }\n\n        try {\n          var ka = objectKeys(a),\n              kb = objectKeys(b);\n        } catch (e) {\n          //happens when one is a string literal and the other isn't\n          return false;\n        } // having the same number of owned properties (keys incorporates\n        // hasOwnProperty)\n\n\n        if (ka.length != kb.length) return false; //the same set of keys (although not necessarily the same order),\n\n        ka.sort();\n        kb.sort(); //~~~cheap key test\n\n        for (i = ka.length - 1; i >= 0; i--) {\n          if (ka[i] != kb[i]) return false;\n        } //equivalent values for every corresponding key, and\n        //~~~possibly expensive deep test\n\n\n        for (i = ka.length - 1; i >= 0; i--) {\n          key = ka[i];\n          if (!deepEqual(a[key], b[key], opts)) return false;\n        }\n\n        return typeof a === typeof b;\n      }\n      /***/\n\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Registry = __webpack_require__(1);\n\n      var Attributor =\n      /** @class */\n      function () {\n        function Attributor(attrName, keyName, options) {\n          if (options === void 0) {\n            options = {};\n          }\n\n          this.attrName = attrName;\n          this.keyName = keyName;\n          var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n\n          if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = options.scope & Registry.Scope.LEVEL | attributeBit;\n          } else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n          }\n\n          if (options.whitelist != null) this.whitelist = options.whitelist;\n        }\n\n        Attributor.keys = function (node) {\n          return [].map.call(node.attributes, function (item) {\n            return item.name;\n          });\n        };\n\n        Attributor.prototype.add = function (node, value) {\n          if (!this.canAdd(node, value)) return false;\n          node.setAttribute(this.keyName, value);\n          return true;\n        };\n\n        Attributor.prototype.canAdd = function (node, value) {\n          var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n          if (match == null) return false;\n          if (this.whitelist == null) return true;\n\n          if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n          } else {\n            return this.whitelist.indexOf(value) > -1;\n          }\n        };\n\n        Attributor.prototype.remove = function (node) {\n          node.removeAttribute(this.keyName);\n        };\n\n        Attributor.prototype.value = function (node) {\n          var value = node.getAttribute(this.keyName);\n\n          if (this.canAdd(node, value) && value) {\n            return value;\n          }\n\n          return '';\n        };\n\n        return Attributor;\n      }();\n\n      exports.default = Attributor;\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.Code = undefined;\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Code = function (_Inline) {\n        _inherits(Code, _Inline);\n\n        function Code() {\n          _classCallCheck(this, Code);\n\n          return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\n        }\n\n        return Code;\n      }(_inline2.default);\n\n      Code.blotName = 'code';\n      Code.tagName = 'CODE';\n\n      var CodeBlock = function (_Block) {\n        _inherits(CodeBlock, _Block);\n\n        function CodeBlock() {\n          _classCallCheck(this, CodeBlock);\n\n          return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\n        }\n\n        _createClass(CodeBlock, [{\n          key: 'delta',\n          value: function delta() {\n            var _this3 = this;\n\n            var text = this.domNode.textContent;\n\n            if (text.endsWith('\\n')) {\n              // Should always be true\n              text = text.slice(0, -1);\n            }\n\n            return text.split('\\n').reduce(function (delta, frag) {\n              return delta.insert(frag).insert('\\n', _this3.formats());\n            }, new _quillDelta2.default());\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            if (name === this.statics.blotName && value) return;\n\n            var _descendant = this.descendant(_text2.default, this.length() - 1),\n                _descendant2 = _slicedToArray(_descendant, 1),\n                text = _descendant2[0];\n\n            if (text != null) {\n              text.deleteAt(text.length() - 1, 1);\n            }\n\n            _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            if (length === 0) return;\n\n            if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\n              return;\n            }\n\n            var nextNewline = this.newlineIndex(index);\n            if (nextNewline < 0 || nextNewline >= index + length) return;\n            var prevNewline = this.newlineIndex(index, true) + 1;\n            var isolateLength = nextNewline - prevNewline + 1;\n            var blot = this.isolate(prevNewline, isolateLength);\n            var next = blot.next;\n            blot.format(name, value);\n\n            if (next instanceof CodeBlock) {\n              next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\n            }\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (def != null) return;\n\n            var _descendant3 = this.descendant(_text2.default, index),\n                _descendant4 = _slicedToArray(_descendant3, 2),\n                text = _descendant4[0],\n                offset = _descendant4[1];\n\n            text.insertAt(offset, value);\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            var length = this.domNode.textContent.length;\n\n            if (!this.domNode.textContent.endsWith('\\n')) {\n              return length + 1;\n            }\n\n            return length;\n          }\n        }, {\n          key: 'newlineIndex',\n          value: function newlineIndex(searchIndex) {\n            var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (!reverse) {\n              var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\n              return offset > -1 ? searchIndex + offset : -1;\n            } else {\n              return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\n            }\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            if (!this.domNode.textContent.endsWith('\\n')) {\n              this.appendChild(_parchment2.default.create('text', '\\n'));\n            }\n\n            _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\n\n            var next = this.next;\n\n            if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\n              next.optimize(context);\n              next.moveChildren(this);\n              next.remove();\n            }\n          }\n        }, {\n          key: 'replace',\n          value: function replace(target) {\n            _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\n\n            [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\n              var blot = _parchment2.default.find(node);\n\n              if (blot == null) {\n                node.parentNode.removeChild(node);\n              } else if (blot instanceof _parchment2.default.Embed) {\n                blot.remove();\n              } else {\n                blot.unwrap();\n              }\n            });\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\n\n            domNode.setAttribute('spellcheck', false);\n            return domNode;\n          }\n        }, {\n          key: 'formats',\n          value: function formats() {\n            return true;\n          }\n        }]);\n\n        return CodeBlock;\n      }(_block2.default);\n\n      CodeBlock.blotName = 'code-block';\n      CodeBlock.tagName = 'PRE';\n      CodeBlock.TAB = '  ';\n      exports.Code = Code;\n      exports.default = CodeBlock;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _op = __webpack_require__(20);\n\n      var _op2 = _interopRequireDefault(_op);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _cursor = __webpack_require__(24);\n\n      var _cursor2 = _interopRequireDefault(_cursor);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _clone = __webpack_require__(21);\n\n      var _clone2 = _interopRequireDefault(_clone);\n\n      var _deepEqual = __webpack_require__(11);\n\n      var _deepEqual2 = _interopRequireDefault(_deepEqual);\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var ASCII = /^[ -~]*$/;\n\n      var Editor = function () {\n        function Editor(scroll) {\n          _classCallCheck(this, Editor);\n\n          this.scroll = scroll;\n          this.delta = this.getDelta();\n        }\n\n        _createClass(Editor, [{\n          key: 'applyDelta',\n          value: function applyDelta(delta) {\n            var _this = this;\n\n            var consumeNextNewline = false;\n            this.scroll.update();\n            var scrollLength = this.scroll.length();\n            this.scroll.batchStart();\n            delta = normalizeDelta(delta);\n            delta.reduce(function (index, op) {\n              var length = op.retain || op.delete || op.insert.length || 1;\n              var attributes = op.attributes || {};\n\n              if (op.insert != null) {\n                if (typeof op.insert === 'string') {\n                  var text = op.insert;\n\n                  if (text.endsWith('\\n') && consumeNextNewline) {\n                    consumeNextNewline = false;\n                    text = text.slice(0, -1);\n                  }\n\n                  if (index >= scrollLength && !text.endsWith('\\n')) {\n                    consumeNextNewline = true;\n                  }\n\n                  _this.scroll.insertAt(index, text);\n\n                  var _scroll$line = _this.scroll.line(index),\n                      _scroll$line2 = _slicedToArray(_scroll$line, 2),\n                      line = _scroll$line2[0],\n                      offset = _scroll$line2[1];\n\n                  var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\n\n                  if (line instanceof _block2.default) {\n                    var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\n                        _line$descendant2 = _slicedToArray(_line$descendant, 1),\n                        leaf = _line$descendant2[0];\n\n                    formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\n                  }\n\n                  attributes = _op2.default.attributes.diff(formats, attributes) || {};\n                } else if (_typeof(op.insert) === 'object') {\n                  var key = Object.keys(op.insert)[0]; // There should only be one key\n\n                  if (key == null) return index;\n\n                  _this.scroll.insertAt(index, key, op.insert[key]);\n                }\n\n                scrollLength += length;\n              }\n\n              Object.keys(attributes).forEach(function (name) {\n                _this.scroll.formatAt(index, length, name, attributes[name]);\n              });\n              return index + length;\n            }, 0);\n            delta.reduce(function (index, op) {\n              if (typeof op.delete === 'number') {\n                _this.scroll.deleteAt(index, op.delete);\n\n                return index;\n              }\n\n              return index + (op.retain || op.insert.length || 1);\n            }, 0);\n            this.scroll.batchEnd();\n            return this.update(delta);\n          }\n        }, {\n          key: 'deleteText',\n          value: function deleteText(index, length) {\n            this.scroll.deleteAt(index, length);\n            return this.update(new _quillDelta2.default().retain(index).delete(length));\n          }\n        }, {\n          key: 'formatLine',\n          value: function formatLine(index, length) {\n            var _this2 = this;\n\n            var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            this.scroll.update();\n            Object.keys(formats).forEach(function (format) {\n              if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\n\n              var lines = _this2.scroll.lines(index, Math.max(length, 1));\n\n              var lengthRemaining = length;\n              lines.forEach(function (line) {\n                var lineLength = line.length();\n\n                if (!(line instanceof _code2.default)) {\n                  line.format(format, formats[format]);\n                } else {\n                  var codeIndex = index - line.offset(_this2.scroll);\n                  var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\n                  line.formatAt(codeIndex, codeLength, format, formats[format]);\n                }\n\n                lengthRemaining -= lineLength;\n              });\n            });\n            this.scroll.optimize();\n            return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n          }\n        }, {\n          key: 'formatText',\n          value: function formatText(index, length) {\n            var _this3 = this;\n\n            var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            Object.keys(formats).forEach(function (format) {\n              _this3.scroll.formatAt(index, length, format, formats[format]);\n            });\n            return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n          }\n        }, {\n          key: 'getContents',\n          value: function getContents(index, length) {\n            return this.delta.slice(index, index + length);\n          }\n        }, {\n          key: 'getDelta',\n          value: function getDelta() {\n            return this.scroll.lines().reduce(function (delta, line) {\n              return delta.concat(line.delta());\n            }, new _quillDelta2.default());\n          }\n        }, {\n          key: 'getFormat',\n          value: function getFormat(index) {\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var lines = [],\n                leaves = [];\n\n            if (length === 0) {\n              this.scroll.path(index).forEach(function (path) {\n                var _path = _slicedToArray(path, 1),\n                    blot = _path[0];\n\n                if (blot instanceof _block2.default) {\n                  lines.push(blot);\n                } else if (blot instanceof _parchment2.default.Leaf) {\n                  leaves.push(blot);\n                }\n              });\n            } else {\n              lines = this.scroll.lines(index, length);\n              leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\n            }\n\n            var formatsArr = [lines, leaves].map(function (blots) {\n              if (blots.length === 0) return {};\n              var formats = (0, _block.bubbleFormats)(blots.shift());\n\n              while (Object.keys(formats).length > 0) {\n                var blot = blots.shift();\n                if (blot == null) return formats;\n                formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\n              }\n\n              return formats;\n            });\n            return _extend2.default.apply(_extend2.default, formatsArr);\n          }\n        }, {\n          key: 'getText',\n          value: function getText(index, length) {\n            return this.getContents(index, length).filter(function (op) {\n              return typeof op.insert === 'string';\n            }).map(function (op) {\n              return op.insert;\n            }).join('');\n          }\n        }, {\n          key: 'insertEmbed',\n          value: function insertEmbed(index, embed, value) {\n            this.scroll.insertAt(index, embed, value);\n            return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\n          }\n        }, {\n          key: 'insertText',\n          value: function insertText(index, text) {\n            var _this4 = this;\n\n            var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n            this.scroll.insertAt(index, text);\n            Object.keys(formats).forEach(function (format) {\n              _this4.scroll.formatAt(index, text.length, format, formats[format]);\n            });\n            return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\n          }\n        }, {\n          key: 'isBlank',\n          value: function isBlank() {\n            if (this.scroll.children.length == 0) return true;\n            if (this.scroll.children.length > 1) return false;\n            var block = this.scroll.children.head;\n            if (block.statics.blotName !== _block2.default.blotName) return false;\n            if (block.children.length > 1) return false;\n            return block.children.head instanceof _break2.default;\n          }\n        }, {\n          key: 'removeFormat',\n          value: function removeFormat(index, length) {\n            var text = this.getText(index, length);\n\n            var _scroll$line3 = this.scroll.line(index + length),\n                _scroll$line4 = _slicedToArray(_scroll$line3, 2),\n                line = _scroll$line4[0],\n                offset = _scroll$line4[1];\n\n            var suffixLength = 0,\n                suffix = new _quillDelta2.default();\n\n            if (line != null) {\n              if (!(line instanceof _code2.default)) {\n                suffixLength = line.length() - offset;\n              } else {\n                suffixLength = line.newlineIndex(offset) - offset + 1;\n              }\n\n              suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n            }\n\n            var contents = this.getContents(index, length + suffixLength);\n            var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\n            var delta = new _quillDelta2.default().retain(index).concat(diff);\n            return this.applyDelta(delta);\n          }\n        }, {\n          key: 'update',\n          value: function update(change) {\n            var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n            var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n            var oldDelta = this.delta;\n\n            if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\n              // Optimization for character changes\n              var textBlot = _parchment2.default.find(mutations[0].target);\n\n              var formats = (0, _block.bubbleFormats)(textBlot);\n              var index = textBlot.offset(this.scroll);\n              var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\n              var oldText = new _quillDelta2.default().insert(oldValue);\n              var newText = new _quillDelta2.default().insert(textBlot.value());\n              var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\n              change = diffDelta.reduce(function (delta, op) {\n                if (op.insert) {\n                  return delta.insert(op.insert, formats);\n                } else {\n                  return delta.push(op);\n                }\n              }, new _quillDelta2.default());\n              this.delta = oldDelta.compose(change);\n            } else {\n              this.delta = this.getDelta();\n\n              if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\n                change = oldDelta.diff(this.delta, cursorIndex);\n              }\n            }\n\n            return change;\n          }\n        }]);\n\n        return Editor;\n      }();\n\n      function combineFormats(formats, combined) {\n        return Object.keys(combined).reduce(function (merged, name) {\n          if (formats[name] == null) return merged;\n\n          if (combined[name] === formats[name]) {\n            merged[name] = combined[name];\n          } else if (Array.isArray(combined[name])) {\n            if (combined[name].indexOf(formats[name]) < 0) {\n              merged[name] = combined[name].concat([formats[name]]);\n            }\n          } else {\n            merged[name] = [combined[name], formats[name]];\n          }\n\n          return merged;\n        }, {});\n      }\n\n      function normalizeDelta(delta) {\n        return delta.reduce(function (delta, op) {\n          if (op.insert === 1) {\n            var attributes = (0, _clone2.default)(op.attributes);\n            delete attributes['image'];\n            return delta.insert({\n              image: op.attributes.image\n            }, attributes);\n          }\n\n          if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\n            op = (0, _clone2.default)(op);\n\n            if (op.attributes.list) {\n              op.attributes.list = 'ordered';\n            } else {\n              op.attributes.list = 'bullet';\n              delete op.attributes.bullet;\n            }\n          }\n\n          if (typeof op.insert === 'string') {\n            var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n            return delta.insert(text, op.attributes);\n          }\n\n          return delta.push(op);\n        }, new _quillDelta2.default());\n      }\n\n      exports.default = Editor;\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.Range = undefined;\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _clone = __webpack_require__(21);\n\n      var _clone2 = _interopRequireDefault(_clone);\n\n      var _deepEqual = __webpack_require__(11);\n\n      var _deepEqual2 = _interopRequireDefault(_deepEqual);\n\n      var _emitter3 = __webpack_require__(8);\n\n      var _emitter4 = _interopRequireDefault(_emitter3);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }\n\n          return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var debug = (0, _logger2.default)('quill:selection');\n\n      var Range = function Range(index) {\n        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        _classCallCheck(this, Range);\n\n        this.index = index;\n        this.length = length;\n      };\n\n      var Selection = function () {\n        function Selection(scroll, emitter) {\n          var _this = this;\n\n          _classCallCheck(this, Selection);\n\n          this.emitter = emitter;\n          this.scroll = scroll;\n          this.composing = false;\n          this.mouseDown = false;\n          this.root = this.scroll.domNode;\n          this.cursor = _parchment2.default.create('cursor', this); // savedRange is last non-null range\n\n          this.lastRange = this.savedRange = new Range(0, 0);\n          this.handleComposition();\n          this.handleDragging();\n          this.emitter.listenDOM('selectionchange', document, function () {\n            if (!_this.mouseDown) {\n              setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\n            }\n          });\n          this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\n            if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\n              _this.update(_emitter4.default.sources.SILENT);\n            }\n          });\n          this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\n            if (!_this.hasFocus()) return;\n\n            var native = _this.getNativeRange();\n\n            if (native == null) return;\n            if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\n            // TODO unclear if this has negative side effects\n\n            _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\n              try {\n                _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n              } catch (ignored) {}\n            });\n          });\n          this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\n            if (context.range) {\n              var _context$range = context.range,\n                  startNode = _context$range.startNode,\n                  startOffset = _context$range.startOffset,\n                  endNode = _context$range.endNode,\n                  endOffset = _context$range.endOffset;\n\n              _this.setNativeRange(startNode, startOffset, endNode, endOffset);\n            }\n          });\n          this.update(_emitter4.default.sources.SILENT);\n        }\n\n        _createClass(Selection, [{\n          key: 'handleComposition',\n          value: function handleComposition() {\n            var _this2 = this;\n\n            this.root.addEventListener('compositionstart', function () {\n              _this2.composing = true;\n            });\n            this.root.addEventListener('compositionend', function () {\n              _this2.composing = false;\n\n              if (_this2.cursor.parent) {\n                var range = _this2.cursor.restore();\n\n                if (!range) return;\n                setTimeout(function () {\n                  _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n                }, 1);\n              }\n            });\n          }\n        }, {\n          key: 'handleDragging',\n          value: function handleDragging() {\n            var _this3 = this;\n\n            this.emitter.listenDOM('mousedown', document.body, function () {\n              _this3.mouseDown = true;\n            });\n            this.emitter.listenDOM('mouseup', document.body, function () {\n              _this3.mouseDown = false;\n\n              _this3.update(_emitter4.default.sources.USER);\n            });\n          }\n        }, {\n          key: 'focus',\n          value: function focus() {\n            if (this.hasFocus()) return;\n            this.root.focus();\n            this.setRange(this.savedRange);\n          }\n        }, {\n          key: 'format',\n          value: function format(_format, value) {\n            if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\n            this.scroll.update();\n            var nativeRange = this.getNativeRange();\n            if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\n\n            if (nativeRange.start.node !== this.cursor.textNode) {\n              var blot = _parchment2.default.find(nativeRange.start.node, false);\n\n              if (blot == null) return; // TODO Give blot ability to not split\n\n              if (blot instanceof _parchment2.default.Leaf) {\n                var after = blot.split(nativeRange.start.offset);\n                blot.parent.insertBefore(this.cursor, after);\n              } else {\n                blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n              }\n\n              this.cursor.attach();\n            }\n\n            this.cursor.format(_format, value);\n            this.scroll.optimize();\n            this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n            this.update();\n          }\n        }, {\n          key: 'getBounds',\n          value: function getBounds(index) {\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var scrollLength = this.scroll.length();\n            index = Math.min(index, scrollLength - 1);\n            length = Math.min(index + length, scrollLength - 1) - index;\n\n            var node = void 0,\n                _scroll$leaf = this.scroll.leaf(index),\n                _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\n                leaf = _scroll$leaf2[0],\n                offset = _scroll$leaf2[1];\n\n            if (leaf == null) return null;\n\n            var _leaf$position = leaf.position(offset, true);\n\n            var _leaf$position2 = _slicedToArray(_leaf$position, 2);\n\n            node = _leaf$position2[0];\n            offset = _leaf$position2[1];\n            var range = document.createRange();\n\n            if (length > 0) {\n              range.setStart(node, offset);\n\n              var _scroll$leaf3 = this.scroll.leaf(index + length);\n\n              var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\n\n              leaf = _scroll$leaf4[0];\n              offset = _scroll$leaf4[1];\n              if (leaf == null) return null;\n\n              var _leaf$position3 = leaf.position(offset, true);\n\n              var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\n\n              node = _leaf$position4[0];\n              offset = _leaf$position4[1];\n              range.setEnd(node, offset);\n              return range.getBoundingClientRect();\n            } else {\n              var side = 'left';\n              var rect = void 0;\n\n              if (node instanceof Text) {\n                if (offset < node.data.length) {\n                  range.setStart(node, offset);\n                  range.setEnd(node, offset + 1);\n                } else {\n                  range.setStart(node, offset - 1);\n                  range.setEnd(node, offset);\n                  side = 'right';\n                }\n\n                rect = range.getBoundingClientRect();\n              } else {\n                rect = leaf.domNode.getBoundingClientRect();\n                if (offset > 0) side = 'right';\n              }\n\n              return {\n                bottom: rect.top + rect.height,\n                height: rect.height,\n                left: rect[side],\n                right: rect[side],\n                top: rect.top,\n                width: 0\n              };\n            }\n          }\n        }, {\n          key: 'getNativeRange',\n          value: function getNativeRange() {\n            var selection = document.getSelection();\n            if (selection == null || selection.rangeCount <= 0) return null;\n            var nativeRange = selection.getRangeAt(0);\n            if (nativeRange == null) return null;\n            var range = this.normalizeNative(nativeRange);\n            debug.info('getNativeRange', range);\n            return range;\n          }\n        }, {\n          key: 'getRange',\n          value: function getRange() {\n            var normalized = this.getNativeRange();\n            if (normalized == null) return [null, null];\n            var range = this.normalizedToRange(normalized);\n            return [range, normalized];\n          }\n        }, {\n          key: 'hasFocus',\n          value: function hasFocus() {\n            return document.activeElement === this.root;\n          }\n        }, {\n          key: 'normalizedToRange',\n          value: function normalizedToRange(range) {\n            var _this4 = this;\n\n            var positions = [[range.start.node, range.start.offset]];\n\n            if (!range.native.collapsed) {\n              positions.push([range.end.node, range.end.offset]);\n            }\n\n            var indexes = positions.map(function (position) {\n              var _position = _slicedToArray(position, 2),\n                  node = _position[0],\n                  offset = _position[1];\n\n              var blot = _parchment2.default.find(node, true);\n\n              var index = blot.offset(_this4.scroll);\n\n              if (offset === 0) {\n                return index;\n              } else if (blot instanceof _parchment2.default.Container) {\n                return index + blot.length();\n              } else {\n                return index + blot.index(node, offset);\n              }\n            });\n            var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\n            var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\n            return new Range(start, end - start);\n          }\n        }, {\n          key: 'normalizeNative',\n          value: function normalizeNative(nativeRange) {\n            if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n              return null;\n            }\n\n            var range = {\n              start: {\n                node: nativeRange.startContainer,\n                offset: nativeRange.startOffset\n              },\n              end: {\n                node: nativeRange.endContainer,\n                offset: nativeRange.endOffset\n              },\n              native: nativeRange\n            };\n            [range.start, range.end].forEach(function (position) {\n              var node = position.node,\n                  offset = position.offset;\n\n              while (!(node instanceof Text) && node.childNodes.length > 0) {\n                if (node.childNodes.length > offset) {\n                  node = node.childNodes[offset];\n                  offset = 0;\n                } else if (node.childNodes.length === offset) {\n                  node = node.lastChild;\n                  offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\n                } else {\n                  break;\n                }\n              }\n\n              position.node = node, position.offset = offset;\n            });\n            return range;\n          }\n        }, {\n          key: 'rangeToNative',\n          value: function rangeToNative(range) {\n            var _this5 = this;\n\n            var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n            var args = [];\n            var scrollLength = this.scroll.length();\n            indexes.forEach(function (index, i) {\n              index = Math.min(scrollLength - 1, index);\n\n              var node = void 0,\n                  _scroll$leaf5 = _this5.scroll.leaf(index),\n                  _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\n                  leaf = _scroll$leaf6[0],\n                  offset = _scroll$leaf6[1];\n\n              var _leaf$position5 = leaf.position(offset, i !== 0);\n\n              var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\n\n              node = _leaf$position6[0];\n              offset = _leaf$position6[1];\n              args.push(node, offset);\n            });\n\n            if (args.length < 2) {\n              args = args.concat(args);\n            }\n\n            return args;\n          }\n        }, {\n          key: 'scrollIntoView',\n          value: function scrollIntoView(scrollingContainer) {\n            var range = this.lastRange;\n            if (range == null) return;\n            var bounds = this.getBounds(range.index, range.length);\n            if (bounds == null) return;\n            var limit = this.scroll.length() - 1;\n\n            var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\n                _scroll$line2 = _slicedToArray(_scroll$line, 1),\n                first = _scroll$line2[0];\n\n            var last = first;\n\n            if (range.length > 0) {\n              var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\n\n              var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\n\n              last = _scroll$line4[0];\n            }\n\n            if (first == null || last == null) return;\n            var scrollBounds = scrollingContainer.getBoundingClientRect();\n\n            if (bounds.top < scrollBounds.top) {\n              scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n            } else if (bounds.bottom > scrollBounds.bottom) {\n              scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n            }\n          }\n        }, {\n          key: 'setNativeRange',\n          value: function setNativeRange(startNode, startOffset) {\n            var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\n            var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\n            var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n            debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n\n            if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n              return;\n            }\n\n            var selection = document.getSelection();\n            if (selection == null) return;\n\n            if (startNode != null) {\n              if (!this.hasFocus()) this.root.focus();\n              var native = (this.getNativeRange() || {}).native;\n\n              if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n                if (startNode.tagName == \"BR\") {\n                  startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\n                  startNode = startNode.parentNode;\n                }\n\n                if (endNode.tagName == \"BR\") {\n                  endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\n                  endNode = endNode.parentNode;\n                }\n\n                var range = document.createRange();\n                range.setStart(startNode, startOffset);\n                range.setEnd(endNode, endOffset);\n                selection.removeAllRanges();\n                selection.addRange(range);\n              }\n            } else {\n              selection.removeAllRanges();\n              this.root.blur();\n              document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n            }\n          }\n        }, {\n          key: 'setRange',\n          value: function setRange(range) {\n            var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n            if (typeof force === 'string') {\n              source = force;\n              force = false;\n            }\n\n            debug.info('setRange', range);\n\n            if (range != null) {\n              var args = this.rangeToNative(range);\n              this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\n            } else {\n              this.setNativeRange(null);\n            }\n\n            this.update(source);\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n            var oldRange = this.lastRange;\n\n            var _getRange = this.getRange(),\n                _getRange2 = _slicedToArray(_getRange, 2),\n                lastRange = _getRange2[0],\n                nativeRange = _getRange2[1];\n\n            this.lastRange = lastRange;\n\n            if (this.lastRange != null) {\n              this.savedRange = this.lastRange;\n            }\n\n            if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\n              var _emitter;\n\n              if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n                this.cursor.restore();\n              }\n\n              var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\n\n              (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n\n              if (source !== _emitter4.default.sources.SILENT) {\n                var _emitter2;\n\n                (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n              }\n            }\n          }\n        }]);\n\n        return Selection;\n      }();\n\n      function contains(parent, descendant) {\n        try {\n          // Firefox inserts inaccessible nodes around video elements\n          descendant.parentNode;\n        } catch (e) {\n          return false;\n        } // IE11 has bug with Text nodes\n        // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n\n\n        if (descendant instanceof Text) {\n          descendant = descendant.parentNode;\n        }\n\n        return parent.contains(descendant);\n      }\n\n      exports.Range = Range;\n      exports.default = Selection;\n      /***/\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Break = function (_Parchment$Embed) {\n        _inherits(Break, _Parchment$Embed);\n\n        function Break() {\n          _classCallCheck(this, Break);\n\n          return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\n        }\n\n        _createClass(Break, [{\n          key: 'insertInto',\n          value: function insertInto(parent, ref) {\n            if (parent.children.length === 0) {\n              _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\n            } else {\n              this.remove();\n            }\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            return 0;\n          }\n        }, {\n          key: 'value',\n          value: function value() {\n            return '';\n          }\n        }], [{\n          key: 'value',\n          value: function value() {\n            return undefined;\n          }\n        }]);\n\n        return Break;\n      }(_parchment2.default.Embed);\n\n      Break.blotName = 'break';\n      Break.tagName = 'BR';\n      exports.default = Break;\n      /***/\n    },\n    /* 17 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var linked_list_1 = __webpack_require__(44);\n\n      var shadow_1 = __webpack_require__(30);\n\n      var Registry = __webpack_require__(1);\n\n      var ContainerBlot =\n      /** @class */\n      function (_super) {\n        __extends(ContainerBlot, _super);\n\n        function ContainerBlot(domNode) {\n          var _this = _super.call(this, domNode) || this;\n\n          _this.build();\n\n          return _this;\n        }\n\n        ContainerBlot.prototype.appendChild = function (other) {\n          this.insertBefore(other);\n        };\n\n        ContainerBlot.prototype.attach = function () {\n          _super.prototype.attach.call(this);\n\n          this.children.forEach(function (child) {\n            child.attach();\n          });\n        };\n\n        ContainerBlot.prototype.build = function () {\n          var _this = this;\n\n          this.children = new linked_list_1.default(); // Need to be reversed for if DOM nodes already in order\n\n          [].slice.call(this.domNode.childNodes).reverse().forEach(function (node) {\n            try {\n              var child = makeBlot(node);\n\n              _this.insertBefore(child, _this.children.head || undefined);\n            } catch (err) {\n              if (err instanceof Registry.ParchmentError) return;else throw err;\n            }\n          });\n        };\n\n        ContainerBlot.prototype.deleteAt = function (index, length) {\n          if (index === 0 && length === this.length()) {\n            return this.remove();\n          }\n\n          this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n          });\n        };\n\n        ContainerBlot.prototype.descendant = function (criteria, index) {\n          var _a = this.children.find(index),\n              child = _a[0],\n              offset = _a[1];\n\n          if (criteria.blotName == null && criteria(child) || criteria.blotName != null && child instanceof criteria) {\n            return [child, offset];\n          } else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n          } else {\n            return [null, -1];\n          }\n        };\n\n        ContainerBlot.prototype.descendants = function (criteria, index, length) {\n          if (index === void 0) {\n            index = 0;\n          }\n\n          if (length === void 0) {\n            length = Number.MAX_VALUE;\n          }\n\n          var descendants = [];\n          var lengthLeft = length;\n          this.children.forEachAt(index, length, function (child, index, length) {\n            if (criteria.blotName == null && criteria(child) || criteria.blotName != null && child instanceof criteria) {\n              descendants.push(child);\n            }\n\n            if (child instanceof ContainerBlot) {\n              descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n\n            lengthLeft -= length;\n          });\n          return descendants;\n        };\n\n        ContainerBlot.prototype.detach = function () {\n          this.children.forEach(function (child) {\n            child.detach();\n          });\n\n          _super.prototype.detach.call(this);\n        };\n\n        ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n          this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n          });\n        };\n\n        ContainerBlot.prototype.insertAt = function (index, value, def) {\n          var _a = this.children.find(index),\n              child = _a[0],\n              offset = _a[1];\n\n          if (child) {\n            child.insertAt(offset, value, def);\n          } else {\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n          }\n        };\n\n        ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n          if (this.statics.allowedChildren != null && !this.statics.allowedChildren.some(function (child) {\n            return childBlot instanceof child;\n          })) {\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\n          }\n\n          childBlot.insertInto(this, refBlot);\n        };\n\n        ContainerBlot.prototype.length = function () {\n          return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n          }, 0);\n        };\n\n        ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n          this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n          });\n        };\n\n        ContainerBlot.prototype.optimize = function (context) {\n          _super.prototype.optimize.call(this, context);\n\n          if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n              var child = Registry.create(this.statics.defaultChild);\n              this.appendChild(child);\n              child.optimize(context);\n            } else {\n              this.remove();\n            }\n          }\n        };\n\n        ContainerBlot.prototype.path = function (index, inclusive) {\n          if (inclusive === void 0) {\n            inclusive = false;\n          }\n\n          var _a = this.children.find(index, inclusive),\n              child = _a[0],\n              offset = _a[1];\n\n          var position = [[this, index]];\n\n          if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n          } else if (child != null) {\n            position.push([child, offset]);\n          }\n\n          return position;\n        };\n\n        ContainerBlot.prototype.removeChild = function (child) {\n          this.children.remove(child);\n        };\n\n        ContainerBlot.prototype.replace = function (target) {\n          if (target instanceof ContainerBlot) {\n            target.moveChildren(this);\n          }\n\n          _super.prototype.replace.call(this, target);\n        };\n\n        ContainerBlot.prototype.split = function (index, force) {\n          if (force === void 0) {\n            force = false;\n          }\n\n          if (!force) {\n            if (index === 0) return this;\n            if (index === this.length()) return this.next;\n          }\n\n          var after = this.clone();\n          this.parent.insertBefore(after, this.next);\n          this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n          });\n          return after;\n        };\n\n        ContainerBlot.prototype.unwrap = function () {\n          this.moveChildren(this.parent, this.next);\n          this.remove();\n        };\n\n        ContainerBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          var addedNodes = [];\n          var removedNodes = [];\n          mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n              addedNodes.push.apply(addedNodes, mutation.addedNodes);\n              removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n          });\n          removedNodes.forEach(function (node) {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null && // @ts-ignore\n            node.tagName !== 'IFRAME' && document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n              return;\n            }\n\n            var blot = Registry.find(node);\n            if (blot == null) return;\n\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\n              blot.detach();\n            }\n          });\n          addedNodes.filter(function (node) {\n            return node.parentNode == _this.domNode;\n          }).sort(function (a, b) {\n            if (a === b) return 0;\n\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n              return 1;\n            }\n\n            return -1;\n          }).forEach(function (node) {\n            var refBlot = null;\n\n            if (node.nextSibling != null) {\n              refBlot = Registry.find(node.nextSibling);\n            }\n\n            var blot = makeBlot(node);\n\n            if (blot.next != refBlot || blot.next == null) {\n              if (blot.parent != null) {\n                blot.parent.removeChild(_this);\n              }\n\n              _this.insertBefore(blot, refBlot || undefined);\n            }\n          });\n        };\n\n        return ContainerBlot;\n      }(shadow_1.default);\n\n      function makeBlot(node) {\n        var blot = Registry.find(node);\n\n        if (blot == null) {\n          try {\n            blot = Registry.create(node);\n          } catch (e) {\n            blot = Registry.create(Registry.Scope.INLINE);\n            [].slice.call(node.childNodes).forEach(function (child) {\n              // @ts-ignore\n              blot.domNode.appendChild(child);\n            });\n\n            if (node.parentNode) {\n              node.parentNode.replaceChild(blot.domNode, node);\n            }\n\n            blot.attach();\n          }\n        }\n\n        return blot;\n      }\n\n      exports.default = ContainerBlot;\n      /***/\n    },\n    /* 18 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      var store_1 = __webpack_require__(31);\n\n      var container_1 = __webpack_require__(17);\n\n      var Registry = __webpack_require__(1);\n\n      var FormatBlot =\n      /** @class */\n      function (_super) {\n        __extends(FormatBlot, _super);\n\n        function FormatBlot(domNode) {\n          var _this = _super.call(this, domNode) || this;\n\n          _this.attributes = new store_1.default(_this.domNode);\n          return _this;\n        }\n\n        FormatBlot.formats = function (domNode) {\n          if (typeof this.tagName === 'string') {\n            return true;\n          } else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n          }\n\n          return undefined;\n        };\n\n        FormatBlot.prototype.format = function (name, value) {\n          var format = Registry.query(name);\n\n          if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n          } else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n              this.replaceWith(name, value);\n            }\n          }\n        };\n\n        FormatBlot.prototype.formats = function () {\n          var formats = this.attributes.values();\n          var format = this.statics.formats(this.domNode);\n\n          if (format != null) {\n            formats[this.statics.blotName] = format;\n          }\n\n          return formats;\n        };\n\n        FormatBlot.prototype.replaceWith = function (name, value) {\n          var replacement = _super.prototype.replaceWith.call(this, name, value);\n\n          this.attributes.copy(replacement);\n          return replacement;\n        };\n\n        FormatBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          _super.prototype.update.call(this, mutations, context);\n\n          if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n          })) {\n            this.attributes.build();\n          }\n        };\n\n        FormatBlot.prototype.wrap = function (name, value) {\n          var wrapper = _super.prototype.wrap.call(this, name, value);\n\n          if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n          }\n\n          return wrapper;\n        };\n\n        return FormatBlot;\n      }(container_1.default);\n\n      exports.default = FormatBlot;\n      /***/\n    },\n    /* 19 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var shadow_1 = __webpack_require__(30);\n\n      var Registry = __webpack_require__(1);\n\n      var LeafBlot =\n      /** @class */\n      function (_super) {\n        __extends(LeafBlot, _super);\n\n        function LeafBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        LeafBlot.value = function (domNode) {\n          return true;\n        };\n\n        LeafBlot.prototype.index = function (node, offset) {\n          if (this.domNode === node || this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n          }\n\n          return -1;\n        };\n\n        LeafBlot.prototype.position = function (index, inclusive) {\n          var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n          if (index > 0) offset += 1;\n          return [this.parent.domNode, offset];\n        };\n\n        LeafBlot.prototype.value = function () {\n          var _a;\n\n          return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\n        };\n\n        LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n        return LeafBlot;\n      }(shadow_1.default);\n\n      exports.default = LeafBlot;\n      /***/\n    },\n    /* 20 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var equal = __webpack_require__(11);\n\n      var extend = __webpack_require__(3);\n\n      var lib = {\n        attributes: {\n          compose: function compose(a, b, keepNull) {\n            if (typeof a !== 'object') a = {};\n            if (typeof b !== 'object') b = {};\n            var attributes = extend(true, {}, b);\n\n            if (!keepNull) {\n              attributes = Object.keys(attributes).reduce(function (copy, key) {\n                if (attributes[key] != null) {\n                  copy[key] = attributes[key];\n                }\n\n                return copy;\n              }, {});\n            }\n\n            for (var key in a) {\n              if (a[key] !== undefined && b[key] === undefined) {\n                attributes[key] = a[key];\n              }\n            }\n\n            return Object.keys(attributes).length > 0 ? attributes : undefined;\n          },\n          diff: function diff(a, b) {\n            if (typeof a !== 'object') a = {};\n            if (typeof b !== 'object') b = {};\n            var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n              if (!equal(a[key], b[key])) {\n                attributes[key] = b[key] === undefined ? null : b[key];\n              }\n\n              return attributes;\n            }, {});\n            return Object.keys(attributes).length > 0 ? attributes : undefined;\n          },\n          transform: function transform(a, b, priority) {\n            if (typeof a !== 'object') return b;\n            if (typeof b !== 'object') return undefined;\n            if (!priority) return b; // b simply overwrites us without priority\n\n            var attributes = Object.keys(b).reduce(function (attributes, key) {\n              if (a[key] === undefined) attributes[key] = b[key]; // null is a valid value\n\n              return attributes;\n            }, {});\n            return Object.keys(attributes).length > 0 ? attributes : undefined;\n          }\n        },\n        iterator: function iterator(ops) {\n          return new Iterator(ops);\n        },\n        length: function length(op) {\n          if (typeof op['delete'] === 'number') {\n            return op['delete'];\n          } else if (typeof op.retain === 'number') {\n            return op.retain;\n          } else {\n            return typeof op.insert === 'string' ? op.insert.length : 1;\n          }\n        }\n      };\n\n      function Iterator(ops) {\n        this.ops = ops;\n        this.index = 0;\n        this.offset = 0;\n      }\n\n      ;\n\n      Iterator.prototype.hasNext = function () {\n        return this.peekLength() < Infinity;\n      };\n\n      Iterator.prototype.next = function (length) {\n        if (!length) length = Infinity;\n        var nextOp = this.ops[this.index];\n\n        if (nextOp) {\n          var offset = this.offset;\n          var opLength = lib.length(nextOp);\n\n          if (length >= opLength - offset) {\n            length = opLength - offset;\n            this.index += 1;\n            this.offset = 0;\n          } else {\n            this.offset += length;\n          }\n\n          if (typeof nextOp['delete'] === 'number') {\n            return {\n              'delete': length\n            };\n          } else {\n            var retOp = {};\n\n            if (nextOp.attributes) {\n              retOp.attributes = nextOp.attributes;\n            }\n\n            if (typeof nextOp.retain === 'number') {\n              retOp.retain = length;\n            } else if (typeof nextOp.insert === 'string') {\n              retOp.insert = nextOp.insert.substr(offset, length);\n            } else {\n              // offset should === 0, length should === 1\n              retOp.insert = nextOp.insert;\n            }\n\n            return retOp;\n          }\n        } else {\n          return {\n            retain: Infinity\n          };\n        }\n      };\n\n      Iterator.prototype.peek = function () {\n        return this.ops[this.index];\n      };\n\n      Iterator.prototype.peekLength = function () {\n        if (this.ops[this.index]) {\n          // Should never return 0 if our index is being managed correctly\n          return lib.length(this.ops[this.index]) - this.offset;\n        } else {\n          return Infinity;\n        }\n      };\n\n      Iterator.prototype.peekType = function () {\n        if (this.ops[this.index]) {\n          if (typeof this.ops[this.index]['delete'] === 'number') {\n            return 'delete';\n          } else if (typeof this.ops[this.index].retain === 'number') {\n            return 'retain';\n          } else {\n            return 'insert';\n          }\n        }\n\n        return 'retain';\n      };\n\n      Iterator.prototype.rest = function () {\n        if (!this.hasNext()) {\n          return [];\n        } else if (this.offset === 0) {\n          return this.ops.slice(this.index);\n        } else {\n          var offset = this.offset;\n          var index = this.index;\n          var next = this.next();\n          var rest = this.ops.slice(this.index);\n          this.offset = offset;\n          this.index = index;\n          return [next].concat(rest);\n        }\n      };\n\n      module.exports = lib;\n      /***/\n    },\n    /* 21 */\n\n    /***/\n    function (module, exports) {\n      var clone = function () {\n        'use strict';\n\n        function _instanceof(obj, type) {\n          return type != null && obj instanceof type;\n        }\n\n        var nativeMap;\n\n        try {\n          nativeMap = Map;\n        } catch (_) {\n          // maybe a reference error because no `Map`. Give it a dummy value that no\n          // value will ever be an instanceof.\n          nativeMap = function nativeMap() {};\n        }\n\n        var nativeSet;\n\n        try {\n          nativeSet = Set;\n        } catch (_) {\n          nativeSet = function nativeSet() {};\n        }\n\n        var nativePromise;\n\n        try {\n          nativePromise = Promise;\n        } catch (_) {\n          nativePromise = function nativePromise() {};\n        }\n        /**\r\n         * Clones (copies) an Object using deep copying.\r\n         *\r\n         * This function supports circular references by default, but if you are certain\r\n         * there are no circular references in your object, you can save some CPU time\r\n         * by calling clone(obj, false).\r\n         *\r\n         * Caution: if `circular` is false and `parent` contains circular references,\r\n         * your program may enter an infinite loop and crash.\r\n         *\r\n         * @param `parent` - the object to be cloned\r\n         * @param `circular` - set to true if the object to be cloned may contain\r\n         *    circular references. (optional - true by default)\r\n         * @param `depth` - set to a number if the object is only to be cloned to\r\n         *    a particular depth. (optional - defaults to Infinity)\r\n         * @param `prototype` - sets the prototype to be used when cloning an object.\r\n         *    (optional - defaults to parent prototype).\r\n         * @param `includeNonEnumerable` - set to true if the non-enumerable properties\r\n         *    should be cloned as well. Non-enumerable properties on the prototype\r\n         *    chain will be ignored. (optional - false by default)\r\n        */\n\n\n        function clone(parent, circular, depth, prototype, includeNonEnumerable) {\n          if (typeof circular === 'object') {\n            depth = circular.depth;\n            prototype = circular.prototype;\n            includeNonEnumerable = circular.includeNonEnumerable;\n            circular = circular.circular;\n          } // maintain two arrays for circular references, where corresponding parents\n          // and children have the same index\n\n\n          var allParents = [];\n          var allChildren = [];\n          var useBuffer = typeof Buffer != 'undefined';\n          if (typeof circular == 'undefined') circular = true;\n          if (typeof depth == 'undefined') depth = Infinity; // recurse this function so we don't reset allParents and allChildren\n\n          function _clone(parent, depth) {\n            // cloning null always returns null\n            if (parent === null) return null;\n            if (depth === 0) return parent;\n            var child;\n            var proto;\n\n            if (typeof parent != 'object') {\n              return parent;\n            }\n\n            if (_instanceof(parent, nativeMap)) {\n              child = new nativeMap();\n            } else if (_instanceof(parent, nativeSet)) {\n              child = new nativeSet();\n            } else if (_instanceof(parent, nativePromise)) {\n              child = new nativePromise(function (resolve, reject) {\n                parent.then(function (value) {\n                  resolve(_clone(value, depth - 1));\n                }, function (err) {\n                  reject(_clone(err, depth - 1));\n                });\n              });\n            } else if (clone.__isArray(parent)) {\n              child = [];\n            } else if (clone.__isRegExp(parent)) {\n              child = new RegExp(parent.source, __getRegExpFlags(parent));\n              if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n            } else if (clone.__isDate(parent)) {\n              child = new Date(parent.getTime());\n            } else if (useBuffer && Buffer.isBuffer(parent)) {\n              if (Buffer.allocUnsafe) {\n                // Node.js >= 4.5.0\n                child = Buffer.allocUnsafe(parent.length);\n              } else {\n                // Older Node.js versions\n                child = new Buffer(parent.length);\n              }\n\n              parent.copy(child);\n              return child;\n            } else if (_instanceof(parent, Error)) {\n              child = Object.create(parent);\n            } else {\n              if (typeof prototype == 'undefined') {\n                proto = Object.getPrototypeOf(parent);\n                child = Object.create(proto);\n              } else {\n                child = Object.create(prototype);\n                proto = prototype;\n              }\n            }\n\n            if (circular) {\n              var index = allParents.indexOf(parent);\n\n              if (index != -1) {\n                return allChildren[index];\n              }\n\n              allParents.push(parent);\n              allChildren.push(child);\n            }\n\n            if (_instanceof(parent, nativeMap)) {\n              parent.forEach(function (value, key) {\n                var keyChild = _clone(key, depth - 1);\n\n                var valueChild = _clone(value, depth - 1);\n\n                child.set(keyChild, valueChild);\n              });\n            }\n\n            if (_instanceof(parent, nativeSet)) {\n              parent.forEach(function (value) {\n                var entryChild = _clone(value, depth - 1);\n\n                child.add(entryChild);\n              });\n            }\n\n            for (var i in parent) {\n              var attrs;\n\n              if (proto) {\n                attrs = Object.getOwnPropertyDescriptor(proto, i);\n              }\n\n              if (attrs && attrs.set == null) {\n                continue;\n              }\n\n              child[i] = _clone(parent[i], depth - 1);\n            }\n\n            if (Object.getOwnPropertySymbols) {\n              var symbols = Object.getOwnPropertySymbols(parent);\n\n              for (var i = 0; i < symbols.length; i++) {\n                // Don't need to worry about cloning a symbol because it is a primitive,\n                // like a number or string.\n                var symbol = symbols[i];\n                var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n\n                if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n                  continue;\n                }\n\n                child[symbol] = _clone(parent[symbol], depth - 1);\n\n                if (!descriptor.enumerable) {\n                  Object.defineProperty(child, symbol, {\n                    enumerable: false\n                  });\n                }\n              }\n            }\n\n            if (includeNonEnumerable) {\n              var allPropertyNames = Object.getOwnPropertyNames(parent);\n\n              for (var i = 0; i < allPropertyNames.length; i++) {\n                var propertyName = allPropertyNames[i];\n                var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n\n                if (descriptor && descriptor.enumerable) {\n                  continue;\n                }\n\n                child[propertyName] = _clone(parent[propertyName], depth - 1);\n                Object.defineProperty(child, propertyName, {\n                  enumerable: false\n                });\n              }\n            }\n\n            return child;\n          }\n\n          return _clone(parent, depth);\n        }\n        /**\r\n         * Simple flat clone using prototype, accepts only objects, usefull for property\r\n         * override on FLAT configuration object (no nested props).\r\n         *\r\n         * USE WITH CAUTION! This may not behave as you wish if you do not know how this\r\n         * works.\r\n         */\n\n\n        clone.clonePrototype = function clonePrototype(parent) {\n          if (parent === null) return null;\n\n          var c = function c() {};\n\n          c.prototype = parent;\n          return new c();\n        }; // private utility functions\n\n\n        function __objToStr(o) {\n          return Object.prototype.toString.call(o);\n        }\n\n        clone.__objToStr = __objToStr;\n\n        function __isDate(o) {\n          return typeof o === 'object' && __objToStr(o) === '[object Date]';\n        }\n\n        clone.__isDate = __isDate;\n\n        function __isArray(o) {\n          return typeof o === 'object' && __objToStr(o) === '[object Array]';\n        }\n\n        clone.__isArray = __isArray;\n\n        function __isRegExp(o) {\n          return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n        }\n\n        clone.__isRegExp = __isRegExp;\n\n        function __getRegExpFlags(re) {\n          var flags = '';\n          if (re.global) flags += 'g';\n          if (re.ignoreCase) flags += 'i';\n          if (re.multiline) flags += 'm';\n          return flags;\n        }\n\n        clone.__getRegExpFlags = __getRegExpFlags;\n        return clone;\n      }();\n\n      if (typeof module === 'object' && module.exports) {\n        module.exports = clone;\n      }\n      /***/\n\n    },\n    /* 22 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _container = __webpack_require__(25);\n\n      var _container2 = _interopRequireDefault(_container);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      function isLine(blot) {\n        return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\n      }\n\n      var Scroll = function (_Parchment$Scroll) {\n        _inherits(Scroll, _Parchment$Scroll);\n\n        function Scroll(domNode, config) {\n          _classCallCheck(this, Scroll);\n\n          var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\n\n          _this.emitter = config.emitter;\n\n          if (Array.isArray(config.whitelist)) {\n            _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\n              whitelist[format] = true;\n              return whitelist;\n            }, {});\n          } // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\n\n\n          _this.domNode.addEventListener('DOMNodeInserted', function () {});\n\n          _this.optimize();\n\n          _this.enable();\n\n          return _this;\n        }\n\n        _createClass(Scroll, [{\n          key: 'batchStart',\n          value: function batchStart() {\n            this.batch = true;\n          }\n        }, {\n          key: 'batchEnd',\n          value: function batchEnd() {\n            this.batch = false;\n            this.optimize();\n          }\n        }, {\n          key: 'deleteAt',\n          value: function deleteAt(index, length) {\n            var _line = this.line(index),\n                _line2 = _slicedToArray(_line, 2),\n                first = _line2[0],\n                offset = _line2[1];\n\n            var _line3 = this.line(index + length),\n                _line4 = _slicedToArray(_line3, 1),\n                last = _line4[0];\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\n\n            if (last != null && first !== last && offset > 0) {\n              if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\n                this.optimize();\n                return;\n              }\n\n              if (first instanceof _code2.default) {\n                var newlineIndex = first.newlineIndex(first.length(), true);\n\n                if (newlineIndex > -1) {\n                  first = first.split(newlineIndex + 1);\n\n                  if (first === last) {\n                    this.optimize();\n                    return;\n                  }\n                }\n              } else if (last instanceof _code2.default) {\n                var _newlineIndex = last.newlineIndex(0);\n\n                if (_newlineIndex > -1) {\n                  last.split(_newlineIndex + 1);\n                }\n              }\n\n              var ref = last.children.head instanceof _break2.default ? null : last.children.head;\n              first.moveChildren(last, ref);\n              first.remove();\n            }\n\n            this.optimize();\n          }\n        }, {\n          key: 'enable',\n          value: function enable() {\n            var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n            this.domNode.setAttribute('contenteditable', enabled);\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, format, value) {\n            if (this.whitelist != null && !this.whitelist[format]) return;\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\n\n            this.optimize();\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (def != null && this.whitelist != null && !this.whitelist[value]) return;\n\n            if (index >= this.length()) {\n              if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\n                var blot = _parchment2.default.create(this.statics.defaultChild);\n\n                this.appendChild(blot);\n\n                if (def == null && value.endsWith('\\n')) {\n                  value = value.slice(0, -1);\n                }\n\n                blot.insertAt(0, value, def);\n              } else {\n                var embed = _parchment2.default.create(value, def);\n\n                this.appendChild(embed);\n              }\n            } else {\n              _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\n            }\n\n            this.optimize();\n          }\n        }, {\n          key: 'insertBefore',\n          value: function insertBefore(blot, ref) {\n            if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\n              var wrapper = _parchment2.default.create(this.statics.defaultChild);\n\n              wrapper.appendChild(blot);\n              blot = wrapper;\n            }\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\n          }\n        }, {\n          key: 'leaf',\n          value: function leaf(index) {\n            return this.path(index).pop() || [null, -1];\n          }\n        }, {\n          key: 'line',\n          value: function line(index) {\n            if (index === this.length()) {\n              return this.line(index - 1);\n            }\n\n            return this.descendant(isLine, index);\n          }\n        }, {\n          key: 'lines',\n          value: function lines() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n            var getLines = function getLines(blot, index, length) {\n              var lines = [],\n                  lengthLeft = length;\n              blot.children.forEachAt(index, length, function (child, index, length) {\n                if (isLine(child)) {\n                  lines.push(child);\n                } else if (child instanceof _parchment2.default.Container) {\n                  lines = lines.concat(getLines(child, index, lengthLeft));\n                }\n\n                lengthLeft -= length;\n              });\n              return lines;\n            };\n\n            return getLines(this, index, length);\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize() {\n            var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n            var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            if (this.batch === true) return;\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\n\n            if (mutations.length > 0) {\n              this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\n            }\n          }\n        }, {\n          key: 'path',\n          value: function path(index) {\n            return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\n          }\n        }, {\n          key: 'update',\n          value: function update(mutations) {\n            if (this.batch === true) return;\n            var source = _emitter2.default.sources.USER;\n\n            if (typeof mutations === 'string') {\n              source = mutations;\n            }\n\n            if (!Array.isArray(mutations)) {\n              mutations = this.observer.takeRecords();\n            }\n\n            if (mutations.length > 0) {\n              this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\n            }\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\n\n\n            if (mutations.length > 0) {\n              this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\n            }\n          }\n        }]);\n\n        return Scroll;\n      }(_parchment2.default.Scroll);\n\n      Scroll.blotName = 'scroll';\n      Scroll.className = 'ql-editor';\n      Scroll.tagName = 'DIV';\n      Scroll.defaultChild = 'block';\n      Scroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\n      exports.default = Scroll;\n      /***/\n    },\n    /* 23 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SHORTKEY = exports.default = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _clone = __webpack_require__(21);\n\n      var _clone2 = _interopRequireDefault(_clone);\n\n      var _deepEqual = __webpack_require__(11);\n\n      var _deepEqual2 = _interopRequireDefault(_deepEqual);\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _op = __webpack_require__(20);\n\n      var _op2 = _interopRequireDefault(_op);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:keyboard');\n      var SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\n      var Keyboard = function (_Module) {\n        _inherits(Keyboard, _Module);\n\n        _createClass(Keyboard, null, [{\n          key: 'match',\n          value: function match(evt, binding) {\n            binding = normalize(binding);\n\n            if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\n              return !!binding[key] !== evt[key] && binding[key] !== null;\n            })) {\n              return false;\n            }\n\n            return binding.key === (evt.which || evt.keyCode);\n          }\n        }]);\n\n        function Keyboard(quill, options) {\n          _classCallCheck(this, Keyboard);\n\n          var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\n\n          _this.bindings = {};\n          Object.keys(_this.options.bindings).forEach(function (name) {\n            if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\n              return;\n            }\n\n            if (_this.options.bindings[name]) {\n              _this.addBinding(_this.options.bindings[name]);\n            }\n          });\n\n          _this.addBinding({\n            key: Keyboard.keys.ENTER,\n            shiftKey: null\n          }, handleEnter);\n\n          _this.addBinding({\n            key: Keyboard.keys.ENTER,\n            metaKey: null,\n            ctrlKey: null,\n            altKey: null\n          }, function () {});\n\n          if (/Firefox/i.test(navigator.userAgent)) {\n            // Need to handle delete and backspace for Firefox in the general case #1171\n            _this.addBinding({\n              key: Keyboard.keys.BACKSPACE\n            }, {\n              collapsed: true\n            }, handleBackspace);\n\n            _this.addBinding({\n              key: Keyboard.keys.DELETE\n            }, {\n              collapsed: true\n            }, handleDelete);\n          } else {\n            _this.addBinding({\n              key: Keyboard.keys.BACKSPACE\n            }, {\n              collapsed: true,\n              prefix: /^.?$/\n            }, handleBackspace);\n\n            _this.addBinding({\n              key: Keyboard.keys.DELETE\n            }, {\n              collapsed: true,\n              suffix: /^.?$/\n            }, handleDelete);\n          }\n\n          _this.addBinding({\n            key: Keyboard.keys.BACKSPACE\n          }, {\n            collapsed: false\n          }, handleDeleteRange);\n\n          _this.addBinding({\n            key: Keyboard.keys.DELETE\n          }, {\n            collapsed: false\n          }, handleDeleteRange);\n\n          _this.addBinding({\n            key: Keyboard.keys.BACKSPACE,\n            altKey: null,\n            ctrlKey: null,\n            metaKey: null,\n            shiftKey: null\n          }, {\n            collapsed: true,\n            offset: 0\n          }, handleBackspace);\n\n          _this.listen();\n\n          return _this;\n        }\n\n        _createClass(Keyboard, [{\n          key: 'addBinding',\n          value: function addBinding(key) {\n            var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            var binding = normalize(key);\n\n            if (binding == null || binding.key == null) {\n              return debug.warn('Attempted to add invalid keyboard binding', binding);\n            }\n\n            if (typeof context === 'function') {\n              context = {\n                handler: context\n              };\n            }\n\n            if (typeof handler === 'function') {\n              handler = {\n                handler: handler\n              };\n            }\n\n            binding = (0, _extend2.default)(binding, context, handler);\n            this.bindings[binding.key] = this.bindings[binding.key] || [];\n            this.bindings[binding.key].push(binding);\n          }\n        }, {\n          key: 'listen',\n          value: function listen() {\n            var _this2 = this;\n\n            this.quill.root.addEventListener('keydown', function (evt) {\n              if (evt.defaultPrevented) return;\n              var which = evt.which || evt.keyCode;\n              var bindings = (_this2.bindings[which] || []).filter(function (binding) {\n                return Keyboard.match(evt, binding);\n              });\n              if (bindings.length === 0) return;\n\n              var range = _this2.quill.getSelection();\n\n              if (range == null || !_this2.quill.hasFocus()) return;\n\n              var _quill$getLine = _this2.quill.getLine(range.index),\n                  _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\n                  line = _quill$getLine2[0],\n                  offset = _quill$getLine2[1];\n\n              var _quill$getLeaf = _this2.quill.getLeaf(range.index),\n                  _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\n                  leafStart = _quill$getLeaf2[0],\n                  offsetStart = _quill$getLeaf2[1];\n\n              var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\n                  _ref2 = _slicedToArray(_ref, 2),\n                  leafEnd = _ref2[0],\n                  offsetEnd = _ref2[1];\n\n              var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\n              var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\n              var curContext = {\n                collapsed: range.length === 0,\n                empty: range.length === 0 && line.length() <= 1,\n                format: _this2.quill.getFormat(range),\n                offset: offset,\n                prefix: prefixText,\n                suffix: suffixText\n              };\n              var prevented = bindings.some(function (binding) {\n                if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\n                if (binding.empty != null && binding.empty !== curContext.empty) return false;\n                if (binding.offset != null && binding.offset !== curContext.offset) return false;\n\n                if (Array.isArray(binding.format)) {\n                  // any format is present\n                  if (binding.format.every(function (name) {\n                    return curContext.format[name] == null;\n                  })) {\n                    return false;\n                  }\n                } else if (_typeof(binding.format) === 'object') {\n                  // all formats must match\n                  if (!Object.keys(binding.format).every(function (name) {\n                    if (binding.format[name] === true) return curContext.format[name] != null;\n                    if (binding.format[name] === false) return curContext.format[name] == null;\n                    return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\n                  })) {\n                    return false;\n                  }\n                }\n\n                if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\n                if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\n                return binding.handler.call(_this2, range, curContext) !== true;\n              });\n\n              if (prevented) {\n                evt.preventDefault();\n              }\n            });\n          }\n        }]);\n\n        return Keyboard;\n      }(_module2.default);\n\n      Keyboard.keys = {\n        BACKSPACE: 8,\n        TAB: 9,\n        ENTER: 13,\n        ESCAPE: 27,\n        LEFT: 37,\n        UP: 38,\n        RIGHT: 39,\n        DOWN: 40,\n        DELETE: 46\n      };\n      Keyboard.DEFAULTS = {\n        bindings: {\n          'bold': makeFormatHandler('bold'),\n          'italic': makeFormatHandler('italic'),\n          'underline': makeFormatHandler('underline'),\n          'indent': {\n            // highlight tab or tab at beginning of list, indent or blockquote\n            key: Keyboard.keys.TAB,\n            format: ['blockquote', 'indent', 'list'],\n            handler: function handler(range, context) {\n              if (context.collapsed && context.offset !== 0) return true;\n              this.quill.format('indent', '+1', _quill2.default.sources.USER);\n            }\n          },\n          'outdent': {\n            key: Keyboard.keys.TAB,\n            shiftKey: true,\n            format: ['blockquote', 'indent', 'list'],\n            // highlight tab or tab at beginning of list, indent or blockquote\n            handler: function handler(range, context) {\n              if (context.collapsed && context.offset !== 0) return true;\n              this.quill.format('indent', '-1', _quill2.default.sources.USER);\n            }\n          },\n          'outdent backspace': {\n            key: Keyboard.keys.BACKSPACE,\n            collapsed: true,\n            shiftKey: null,\n            metaKey: null,\n            ctrlKey: null,\n            altKey: null,\n            format: ['indent', 'list'],\n            offset: 0,\n            handler: function handler(range, context) {\n              if (context.format.indent != null) {\n                this.quill.format('indent', '-1', _quill2.default.sources.USER);\n              } else if (context.format.list != null) {\n                this.quill.format('list', false, _quill2.default.sources.USER);\n              }\n            }\n          },\n          'indent code-block': makeCodeBlockHandler(true),\n          'outdent code-block': makeCodeBlockHandler(false),\n          'remove tab': {\n            key: Keyboard.keys.TAB,\n            shiftKey: true,\n            collapsed: true,\n            prefix: /\\t$/,\n            handler: function handler(range) {\n              this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\n            }\n          },\n          'tab': {\n            key: Keyboard.keys.TAB,\n            handler: function handler(range) {\n              this.quill.history.cutoff();\n              var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.history.cutoff();\n              this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n            }\n          },\n          'list empty enter': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: ['list'],\n            empty: true,\n            handler: function handler(range, context) {\n              this.quill.format('list', false, _quill2.default.sources.USER);\n\n              if (context.format.indent) {\n                this.quill.format('indent', false, _quill2.default.sources.USER);\n              }\n            }\n          },\n          'checklist enter': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: {\n              list: 'checked'\n            },\n            handler: function handler(range) {\n              var _quill$getLine3 = this.quill.getLine(range.index),\n                  _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\n                  line = _quill$getLine4[0],\n                  offset = _quill$getLine4[1];\n\n              var formats = (0, _extend2.default)({}, line.formats(), {\n                list: 'checked'\n              });\n              var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, {\n                list: 'unchecked'\n              });\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n              this.quill.scrollIntoView();\n            }\n          },\n          'header enter': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: ['header'],\n            suffix: /^$/,\n            handler: function handler(range, context) {\n              var _quill$getLine5 = this.quill.getLine(range.index),\n                  _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\n                  line = _quill$getLine6[0],\n                  offset = _quill$getLine6[1];\n\n              var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, {\n                header: null\n              });\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n              this.quill.scrollIntoView();\n            }\n          },\n          'list autofill': {\n            key: ' ',\n            collapsed: true,\n            format: {\n              list: false\n            },\n            prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n            handler: function handler(range, context) {\n              var length = context.prefix.length;\n\n              var _quill$getLine7 = this.quill.getLine(range.index),\n                  _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\n                  line = _quill$getLine8[0],\n                  offset = _quill$getLine8[1];\n\n              if (offset > length) return true;\n              var value = void 0;\n\n              switch (context.prefix.trim()) {\n                case '[]':\n                case '[ ]':\n                  value = 'unchecked';\n                  break;\n\n                case '[x]':\n                  value = 'checked';\n                  break;\n\n                case '-':\n                case '*':\n                  value = 'bullet';\n                  break;\n\n                default:\n                  value = 'ordered';\n              }\n\n              this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\n              this.quill.history.cutoff();\n              var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, {\n                list: value\n              });\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.history.cutoff();\n              this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\n            }\n          },\n          'code exit': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: ['code-block'],\n            prefix: /\\n\\n$/,\n            suffix: /^\\s+$/,\n            handler: function handler(range) {\n              var _quill$getLine9 = this.quill.getLine(range.index),\n                  _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\n                  line = _quill$getLine10[0],\n                  offset = _quill$getLine10[1];\n\n              var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, {\n                'code-block': null\n              }).delete(1);\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n            }\n          },\n          'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\n          'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\n          'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\n          'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\n        }\n      };\n\n      function makeEmbedArrowHandler(key, shiftKey) {\n        var _ref3;\n\n        var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\n        return _ref3 = {\n          key: key,\n          shiftKey: shiftKey,\n          altKey: null\n        }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\n          var index = range.index;\n\n          if (key === Keyboard.keys.RIGHT) {\n            index += range.length + 1;\n          }\n\n          var _quill$getLeaf3 = this.quill.getLeaf(index),\n              _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\n              leaf = _quill$getLeaf4[0];\n\n          if (!(leaf instanceof _parchment2.default.Embed)) return true;\n\n          if (key === Keyboard.keys.LEFT) {\n            if (shiftKey) {\n              this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\n            } else {\n              this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\n            }\n          } else {\n            if (shiftKey) {\n              this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\n            } else {\n              this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\n            }\n          }\n\n          return false;\n        }), _ref3;\n      }\n\n      function handleBackspace(range, context) {\n        if (range.index === 0 || this.quill.getLength() <= 1) return;\n\n        var _quill$getLine11 = this.quill.getLine(range.index),\n            _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\n            line = _quill$getLine12[0];\n\n        var formats = {};\n\n        if (context.offset === 0) {\n          var _quill$getLine13 = this.quill.getLine(range.index - 1),\n              _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\n              prev = _quill$getLine14[0];\n\n          if (prev != null && prev.length() > 1) {\n            var curFormats = line.formats();\n            var prevFormats = this.quill.getFormat(range.index - 1, 1);\n            formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\n          }\n        } // Check for astral symbols\n\n\n        var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n        this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\n\n        if (Object.keys(formats).length > 0) {\n          this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\n        }\n\n        this.quill.focus();\n      }\n\n      function handleDelete(range, context) {\n        // Check for astral symbols\n        var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n        if (range.index >= this.quill.getLength() - length) return;\n        var formats = {},\n            nextLength = 0;\n\n        var _quill$getLine15 = this.quill.getLine(range.index),\n            _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\n            line = _quill$getLine16[0];\n\n        if (context.offset >= line.length() - 1) {\n          var _quill$getLine17 = this.quill.getLine(range.index + 1),\n              _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\n              next = _quill$getLine18[0];\n\n          if (next) {\n            var curFormats = line.formats();\n            var nextFormats = this.quill.getFormat(range.index, 1);\n            formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\n            nextLength = next.length();\n          }\n        }\n\n        this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\n\n        if (Object.keys(formats).length > 0) {\n          this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\n        }\n      }\n\n      function handleDeleteRange(range) {\n        var lines = this.quill.getLines(range);\n        var formats = {};\n\n        if (lines.length > 1) {\n          var firstFormats = lines[0].formats();\n          var lastFormats = lines[lines.length - 1].formats();\n          formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\n        }\n\n        this.quill.deleteText(range, _quill2.default.sources.USER);\n\n        if (Object.keys(formats).length > 0) {\n          this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\n        }\n\n        this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\n        this.quill.focus();\n      }\n\n      function handleEnter(range, context) {\n        var _this3 = this;\n\n        if (range.length > 0) {\n          this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\n        }\n\n        var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\n          if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\n            lineFormats[format] = context.format[format];\n          }\n\n          return lineFormats;\n        }, {});\n        this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER); // Earlier scroll.deleteAt might have messed up our selection,\n        // so insertText's built in selection preservation is not reliable\n\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.focus();\n        Object.keys(context.format).forEach(function (name) {\n          if (lineFormats[name] != null) return;\n          if (Array.isArray(context.format[name])) return;\n          if (name === 'link') return;\n\n          _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\n        });\n      }\n\n      function makeCodeBlockHandler(indent) {\n        return {\n          key: Keyboard.keys.TAB,\n          shiftKey: !indent,\n          format: {\n            'code-block': true\n          },\n          handler: function handler(range) {\n            var CodeBlock = _parchment2.default.query('code-block');\n\n            var index = range.index,\n                length = range.length;\n\n            var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\n                _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n                block = _quill$scroll$descend2[0],\n                offset = _quill$scroll$descend2[1];\n\n            if (block == null) return;\n            var scrollIndex = this.quill.getIndex(block);\n            var start = block.newlineIndex(offset, true) + 1;\n            var end = block.newlineIndex(scrollIndex + offset + length);\n            var lines = block.domNode.textContent.slice(start, end).split('\\n');\n            offset = 0;\n            lines.forEach(function (line, i) {\n              if (indent) {\n                block.insertAt(start + offset, CodeBlock.TAB);\n                offset += CodeBlock.TAB.length;\n\n                if (i === 0) {\n                  index += CodeBlock.TAB.length;\n                } else {\n                  length += CodeBlock.TAB.length;\n                }\n              } else if (line.startsWith(CodeBlock.TAB)) {\n                block.deleteAt(start + offset, CodeBlock.TAB.length);\n                offset -= CodeBlock.TAB.length;\n\n                if (i === 0) {\n                  index -= CodeBlock.TAB.length;\n                } else {\n                  length -= CodeBlock.TAB.length;\n                }\n              }\n\n              offset += line.length + 1;\n            });\n            this.quill.update(_quill2.default.sources.USER);\n            this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\n          }\n        };\n      }\n\n      function makeFormatHandler(format) {\n        return {\n          key: format[0].toUpperCase(),\n          shortKey: true,\n          handler: function handler(range, context) {\n            this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\n          }\n        };\n      }\n\n      function normalize(binding) {\n        if (typeof binding === 'string' || typeof binding === 'number') {\n          return normalize({\n            key: binding\n          });\n        }\n\n        if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\n          binding = (0, _clone2.default)(binding, false);\n        }\n\n        if (typeof binding.key === 'string') {\n          if (Keyboard.keys[binding.key.toUpperCase()] != null) {\n            binding.key = Keyboard.keys[binding.key.toUpperCase()];\n          } else if (binding.key.length === 1) {\n            binding.key = binding.key.toUpperCase().charCodeAt(0);\n          } else {\n            return null;\n          }\n        }\n\n        if (binding.shortKey) {\n          binding[SHORTKEY] = binding.shortKey;\n          delete binding.shortKey;\n        }\n\n        return binding;\n      }\n\n      exports.default = Keyboard;\n      exports.SHORTKEY = SHORTKEY;\n      /***/\n    },\n    /* 24 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Cursor = function (_Parchment$Embed) {\n        _inherits(Cursor, _Parchment$Embed);\n\n        _createClass(Cursor, null, [{\n          key: 'value',\n          value: function value() {\n            return undefined;\n          }\n        }]);\n\n        function Cursor(domNode, selection) {\n          _classCallCheck(this, Cursor);\n\n          var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\n\n          _this.selection = selection;\n          _this.textNode = document.createTextNode(Cursor.CONTENTS);\n\n          _this.domNode.appendChild(_this.textNode);\n\n          _this._length = 0;\n          return _this;\n        }\n\n        _createClass(Cursor, [{\n          key: 'detach',\n          value: function detach() {\n            // super.detach() will also clear domNode.__blot\n            if (this.parent != null) this.parent.removeChild(this);\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            if (this._length !== 0) {\n              return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\n            }\n\n            var target = this,\n                index = 0;\n\n            while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\n              index += target.offset(target.parent);\n              target = target.parent;\n            }\n\n            if (target != null) {\n              this._length = Cursor.CONTENTS.length;\n              target.optimize();\n              target.formatAt(index, Cursor.CONTENTS.length, name, value);\n              this._length = 0;\n            }\n          }\n        }, {\n          key: 'index',\n          value: function index(node, offset) {\n            if (node === this.textNode) return 0;\n            return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            return this._length;\n          }\n        }, {\n          key: 'position',\n          value: function position() {\n            return [this.textNode, this.textNode.data.length];\n          }\n        }, {\n          key: 'remove',\n          value: function remove() {\n            _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\n\n            this.parent = null;\n          }\n        }, {\n          key: 'restore',\n          value: function restore() {\n            if (this.selection.composing || this.parent == null) return;\n            var textNode = this.textNode;\n            var range = this.selection.getNativeRange();\n            var restoreText = void 0,\n                start = void 0,\n                end = void 0;\n\n            if (range != null && range.start.node === textNode && range.end.node === textNode) {\n              var _ref = [textNode, range.start.offset, range.end.offset];\n              restoreText = _ref[0];\n              start = _ref[1];\n              end = _ref[2];\n            } // Link format will insert text outside of anchor tag\n\n\n            while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n              this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n            }\n\n            if (this.textNode.data !== Cursor.CONTENTS) {\n              var text = this.textNode.data.split(Cursor.CONTENTS).join('');\n\n              if (this.next instanceof _text2.default) {\n                restoreText = this.next.domNode;\n                this.next.insertAt(0, text);\n                this.textNode.data = Cursor.CONTENTS;\n              } else {\n                this.textNode.data = text;\n                this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\n                this.textNode = document.createTextNode(Cursor.CONTENTS);\n                this.domNode.appendChild(this.textNode);\n              }\n            }\n\n            this.remove();\n\n            if (start != null) {\n              var _map = [start, end].map(function (offset) {\n                return Math.max(0, Math.min(restoreText.data.length, offset - 1));\n              });\n\n              var _map2 = _slicedToArray(_map, 2);\n\n              start = _map2[0];\n              end = _map2[1];\n              return {\n                startNode: restoreText,\n                startOffset: start,\n                endNode: restoreText,\n                endOffset: end\n              };\n            }\n          }\n        }, {\n          key: 'update',\n          value: function update(mutations, context) {\n            var _this2 = this;\n\n            if (mutations.some(function (mutation) {\n              return mutation.type === 'characterData' && mutation.target === _this2.textNode;\n            })) {\n              var range = this.restore();\n              if (range) context.range = range;\n            }\n          }\n        }, {\n          key: 'value',\n          value: function value() {\n            return '';\n          }\n        }]);\n\n        return Cursor;\n      }(_parchment2.default.Embed);\n\n      Cursor.blotName = 'cursor';\n      Cursor.className = 'ql-cursor';\n      Cursor.tagName = 'span';\n      Cursor.CONTENTS = \"\\uFEFF\"; // Zero width no break space\n\n      exports.default = Cursor;\n      /***/\n    },\n    /* 25 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Container = function (_Parchment$Container) {\n        _inherits(Container, _Parchment$Container);\n\n        function Container() {\n          _classCallCheck(this, Container);\n\n          return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\n        }\n\n        return Container;\n      }(_parchment2.default.Container);\n\n      Container.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\n      exports.default = Container;\n      /***/\n    },\n    /* 26 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ColorAttributor = function (_Parchment$Attributor) {\n        _inherits(ColorAttributor, _Parchment$Attributor);\n\n        function ColorAttributor() {\n          _classCallCheck(this, ColorAttributor);\n\n          return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\n        }\n\n        _createClass(ColorAttributor, [{\n          key: 'value',\n          value: function value(domNode) {\n            var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\n\n            if (!value.startsWith('rgb(')) return value;\n            value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n            return '#' + value.split(',').map(function (component) {\n              return ('00' + parseInt(component).toString(16)).slice(-2);\n            }).join('');\n          }\n        }]);\n\n        return ColorAttributor;\n      }(_parchment2.default.Attributor.Style);\n\n      var ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      var ColorStyle = new ColorAttributor('color', 'color', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      exports.ColorAttributor = ColorAttributor;\n      exports.ColorClass = ColorClass;\n      exports.ColorStyle = ColorStyle;\n      /***/\n    },\n    /* 27 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.sanitize = exports.default = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Link = function (_Inline) {\n        _inherits(Link, _Inline);\n\n        function Link() {\n          _classCallCheck(this, Link);\n\n          return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n        }\n\n        _createClass(Link, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\n            value = this.constructor.sanitize(value);\n            this.domNode.setAttribute('href', value);\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\n\n            value = this.sanitize(value);\n            node.setAttribute('href', value);\n            node.setAttribute('rel', 'noopener noreferrer');\n            node.setAttribute('target', '_blank');\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            return domNode.getAttribute('href');\n          }\n        }, {\n          key: 'sanitize',\n          value: function sanitize(url) {\n            return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n          }\n        }]);\n\n        return Link;\n      }(_inline2.default);\n\n      Link.blotName = 'link';\n      Link.tagName = 'A';\n      Link.SANITIZED_URL = 'about:blank';\n      Link.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\n      function _sanitize(url, protocols) {\n        var anchor = document.createElement('a');\n        anchor.href = url;\n        var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n        return protocols.indexOf(protocol) > -1;\n      }\n\n      exports.default = Link;\n      exports.sanitize = _sanitize;\n      /***/\n    },\n    /* 28 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _keyboard = __webpack_require__(23);\n\n      var _keyboard2 = _interopRequireDefault(_keyboard);\n\n      var _dropdown = __webpack_require__(107);\n\n      var _dropdown2 = _interopRequireDefault(_dropdown);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var optionsCounter = 0;\n\n      function toggleAriaAttribute(element, attribute) {\n        element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n      }\n\n      var Picker = function () {\n        function Picker(select) {\n          var _this = this;\n\n          _classCallCheck(this, Picker);\n\n          this.select = select;\n          this.container = document.createElement('span');\n          this.buildPicker();\n          this.select.style.display = 'none';\n          this.select.parentNode.insertBefore(this.container, this.select);\n          this.label.addEventListener('mousedown', function () {\n            _this.togglePicker();\n          });\n          this.label.addEventListener('keydown', function (event) {\n            switch (event.keyCode) {\n              // Allows the \"Enter\" key to open the picker\n              case _keyboard2.default.keys.ENTER:\n                _this.togglePicker();\n\n                break;\n              // Allows the \"Escape\" key to close the picker\n\n              case _keyboard2.default.keys.ESCAPE:\n                _this.escape();\n\n                event.preventDefault();\n                break;\n\n              default:\n            }\n          });\n          this.select.addEventListener('change', this.update.bind(this));\n        }\n\n        _createClass(Picker, [{\n          key: 'togglePicker',\n          value: function togglePicker() {\n            this.container.classList.toggle('ql-expanded'); // Toggle aria-expanded and aria-hidden to make the picker accessible\n\n            toggleAriaAttribute(this.label, 'aria-expanded');\n            toggleAriaAttribute(this.options, 'aria-hidden');\n          }\n        }, {\n          key: 'buildItem',\n          value: function buildItem(option) {\n            var _this2 = this;\n\n            var item = document.createElement('span');\n            item.tabIndex = '0';\n            item.setAttribute('role', 'button');\n            item.classList.add('ql-picker-item');\n\n            if (option.hasAttribute('value')) {\n              item.setAttribute('data-value', option.getAttribute('value'));\n            }\n\n            if (option.textContent) {\n              item.setAttribute('data-label', option.textContent);\n            }\n\n            item.addEventListener('click', function () {\n              _this2.selectItem(item, true);\n            });\n            item.addEventListener('keydown', function (event) {\n              switch (event.keyCode) {\n                // Allows the \"Enter\" key to select an item\n                case _keyboard2.default.keys.ENTER:\n                  _this2.selectItem(item, true);\n\n                  event.preventDefault();\n                  break;\n                // Allows the \"Escape\" key to close the picker\n\n                case _keyboard2.default.keys.ESCAPE:\n                  _this2.escape();\n\n                  event.preventDefault();\n                  break;\n\n                default:\n              }\n            });\n            return item;\n          }\n        }, {\n          key: 'buildLabel',\n          value: function buildLabel() {\n            var label = document.createElement('span');\n            label.classList.add('ql-picker-label');\n            label.innerHTML = _dropdown2.default;\n            label.tabIndex = '0';\n            label.setAttribute('role', 'button');\n            label.setAttribute('aria-expanded', 'false');\n            this.container.appendChild(label);\n            return label;\n          }\n        }, {\n          key: 'buildOptions',\n          value: function buildOptions() {\n            var _this3 = this;\n\n            var options = document.createElement('span');\n            options.classList.add('ql-picker-options'); // Don't want screen readers to read this until options are visible\n\n            options.setAttribute('aria-hidden', 'true');\n            options.tabIndex = '-1'; // Need a unique id for aria-controls\n\n            options.id = 'ql-picker-options-' + optionsCounter;\n            optionsCounter += 1;\n            this.label.setAttribute('aria-controls', options.id);\n            this.options = options;\n            [].slice.call(this.select.options).forEach(function (option) {\n              var item = _this3.buildItem(option);\n\n              options.appendChild(item);\n\n              if (option.selected === true) {\n                _this3.selectItem(item);\n              }\n            });\n            this.container.appendChild(options);\n          }\n        }, {\n          key: 'buildPicker',\n          value: function buildPicker() {\n            var _this4 = this;\n\n            [].slice.call(this.select.attributes).forEach(function (item) {\n              _this4.container.setAttribute(item.name, item.value);\n            });\n            this.container.classList.add('ql-picker');\n            this.label = this.buildLabel();\n            this.buildOptions();\n          }\n        }, {\n          key: 'escape',\n          value: function escape() {\n            var _this5 = this; // Close menu and return focus to trigger label\n\n\n            this.close(); // Need setTimeout for accessibility to ensure that the browser executes\n            // focus on the next process thread and after any DOM content changes\n\n            setTimeout(function () {\n              return _this5.label.focus();\n            }, 1);\n          }\n        }, {\n          key: 'close',\n          value: function close() {\n            this.container.classList.remove('ql-expanded');\n            this.label.setAttribute('aria-expanded', 'false');\n            this.options.setAttribute('aria-hidden', 'true');\n          }\n        }, {\n          key: 'selectItem',\n          value: function selectItem(item) {\n            var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var selected = this.container.querySelector('.ql-selected');\n            if (item === selected) return;\n\n            if (selected != null) {\n              selected.classList.remove('ql-selected');\n            }\n\n            if (item == null) return;\n            item.classList.add('ql-selected');\n            this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n\n            if (item.hasAttribute('data-value')) {\n              this.label.setAttribute('data-value', item.getAttribute('data-value'));\n            } else {\n              this.label.removeAttribute('data-value');\n            }\n\n            if (item.hasAttribute('data-label')) {\n              this.label.setAttribute('data-label', item.getAttribute('data-label'));\n            } else {\n              this.label.removeAttribute('data-label');\n            }\n\n            if (trigger) {\n              if (typeof Event === 'function') {\n                this.select.dispatchEvent(new Event('change'));\n              } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\n                // IE11\n                var event = document.createEvent('Event');\n                event.initEvent('change', true, true);\n                this.select.dispatchEvent(event);\n              }\n\n              this.close();\n            }\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var option = void 0;\n\n            if (this.select.selectedIndex > -1) {\n              var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n              option = this.select.options[this.select.selectedIndex];\n              this.selectItem(item);\n            } else {\n              this.selectItem(null);\n            }\n\n            var isActive = option != null && option !== this.select.querySelector('option[selected]');\n            this.label.classList.toggle('ql-active', isActive);\n          }\n        }]);\n\n        return Picker;\n      }();\n\n      exports.default = Picker;\n      /***/\n    },\n    /* 29 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _container = __webpack_require__(25);\n\n      var _container2 = _interopRequireDefault(_container);\n\n      var _cursor = __webpack_require__(24);\n\n      var _cursor2 = _interopRequireDefault(_cursor);\n\n      var _embed = __webpack_require__(35);\n\n      var _embed2 = _interopRequireDefault(_embed);\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      var _scroll = __webpack_require__(22);\n\n      var _scroll2 = _interopRequireDefault(_scroll);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      var _clipboard = __webpack_require__(55);\n\n      var _clipboard2 = _interopRequireDefault(_clipboard);\n\n      var _history = __webpack_require__(42);\n\n      var _history2 = _interopRequireDefault(_history);\n\n      var _keyboard = __webpack_require__(23);\n\n      var _keyboard2 = _interopRequireDefault(_keyboard);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      _quill2.default.register({\n        'blots/block': _block2.default,\n        'blots/block/embed': _block.BlockEmbed,\n        'blots/break': _break2.default,\n        'blots/container': _container2.default,\n        'blots/cursor': _cursor2.default,\n        'blots/embed': _embed2.default,\n        'blots/inline': _inline2.default,\n        'blots/scroll': _scroll2.default,\n        'blots/text': _text2.default,\n        'modules/clipboard': _clipboard2.default,\n        'modules/history': _history2.default,\n        'modules/keyboard': _keyboard2.default\n      });\n\n      _parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\n\n      exports.default = _quill2.default;\n      /***/\n    },\n    /* 30 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Registry = __webpack_require__(1);\n\n      var ShadowBlot =\n      /** @class */\n      function () {\n        function ShadowBlot(domNode) {\n          this.domNode = domNode; // @ts-ignore\n\n          this.domNode[Registry.DATA_KEY] = {\n            blot: this\n          };\n        }\n\n        Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n          // Hack for accessing inherited static methods\n          get: function get() {\n            return this.constructor;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        ShadowBlot.create = function (value) {\n          if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n          }\n\n          var node;\n\n          if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n              value = value.toUpperCase();\n\n              if (parseInt(value).toString() === value) {\n                value = parseInt(value);\n              }\n            }\n\n            if (typeof value === 'number') {\n              node = document.createElement(this.tagName[value - 1]);\n            } else if (this.tagName.indexOf(value) > -1) {\n              node = document.createElement(value);\n            } else {\n              node = document.createElement(this.tagName[0]);\n            }\n          } else {\n            node = document.createElement(this.tagName);\n          }\n\n          if (this.className) {\n            node.classList.add(this.className);\n          }\n\n          return node;\n        };\n\n        ShadowBlot.prototype.attach = function () {\n          if (this.parent != null) {\n            this.scroll = this.parent.scroll;\n          }\n        };\n\n        ShadowBlot.prototype.clone = function () {\n          var domNode = this.domNode.cloneNode(false);\n          return Registry.create(domNode);\n        };\n\n        ShadowBlot.prototype.detach = function () {\n          if (this.parent != null) this.parent.removeChild(this); // @ts-ignore\n\n          delete this.domNode[Registry.DATA_KEY];\n        };\n\n        ShadowBlot.prototype.deleteAt = function (index, length) {\n          var blot = this.isolate(index, length);\n          blot.remove();\n        };\n\n        ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n          var blot = this.isolate(index, length);\n\n          if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\n            blot.wrap(name, value);\n          } else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\n            var parent = Registry.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n          }\n        };\n\n        ShadowBlot.prototype.insertAt = function (index, value, def) {\n          var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n          var ref = this.split(index);\n          this.parent.insertBefore(blot, ref);\n        };\n\n        ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n          if (refBlot === void 0) {\n            refBlot = null;\n          }\n\n          if (this.parent != null) {\n            this.parent.children.remove(this);\n          }\n\n          var refDomNode = null;\n          parentBlot.children.insertBefore(this, refBlot);\n\n          if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n          }\n\n          if (this.domNode.parentNode != parentBlot.domNode || this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n          }\n\n          this.parent = parentBlot;\n          this.attach();\n        };\n\n        ShadowBlot.prototype.isolate = function (index, length) {\n          var target = this.split(index);\n          target.split(length);\n          return target;\n        };\n\n        ShadowBlot.prototype.length = function () {\n          return 1;\n        };\n\n        ShadowBlot.prototype.offset = function (root) {\n          if (root === void 0) {\n            root = this.parent;\n          }\n\n          if (this.parent == null || this == root) return 0;\n          return this.parent.children.offset(this) + this.parent.offset(root);\n        };\n\n        ShadowBlot.prototype.optimize = function (context) {\n          // TODO clean up once we use WeakMap\n          // @ts-ignore\n          if (this.domNode[Registry.DATA_KEY] != null) {\n            // @ts-ignore\n            delete this.domNode[Registry.DATA_KEY].mutations;\n          }\n        };\n\n        ShadowBlot.prototype.remove = function () {\n          if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n          }\n\n          this.detach();\n        };\n\n        ShadowBlot.prototype.replace = function (target) {\n          if (target.parent == null) return;\n          target.parent.insertBefore(this, target.next);\n          target.remove();\n        };\n\n        ShadowBlot.prototype.replaceWith = function (name, value) {\n          var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n          replacement.replace(this);\n          return replacement;\n        };\n\n        ShadowBlot.prototype.split = function (index, force) {\n          return index === 0 ? this : this.next;\n        };\n\n        ShadowBlot.prototype.update = function (mutations, context) {// Nothing to do by default\n        };\n\n        ShadowBlot.prototype.wrap = function (name, value) {\n          var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n\n          if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n          }\n\n          wrapper.appendChild(this);\n          return wrapper;\n        };\n\n        ShadowBlot.blotName = 'abstract';\n        return ShadowBlot;\n      }();\n\n      exports.default = ShadowBlot;\n      /***/\n    },\n    /* 31 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      var class_1 = __webpack_require__(32);\n\n      var style_1 = __webpack_require__(33);\n\n      var Registry = __webpack_require__(1);\n\n      var AttributorStore =\n      /** @class */\n      function () {\n        function AttributorStore(domNode) {\n          this.attributes = {};\n          this.domNode = domNode;\n          this.build();\n        }\n\n        AttributorStore.prototype.attribute = function (attribute, value) {\n          // verb\n          if (value) {\n            if (attribute.add(this.domNode, value)) {\n              if (attribute.value(this.domNode) != null) {\n                this.attributes[attribute.attrName] = attribute;\n              } else {\n                delete this.attributes[attribute.attrName];\n              }\n            }\n          } else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n          }\n        };\n\n        AttributorStore.prototype.build = function () {\n          var _this = this;\n\n          this.attributes = {};\n          var attributes = attributor_1.default.keys(this.domNode);\n          var classes = class_1.default.keys(this.domNode);\n          var styles = style_1.default.keys(this.domNode);\n          attributes.concat(classes).concat(styles).forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n\n            if (attr instanceof attributor_1.default) {\n              _this.attributes[attr.attrName] = attr;\n            }\n          });\n        };\n\n        AttributorStore.prototype.copy = function (target) {\n          var _this = this;\n\n          Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n\n            target.format(key, value);\n          });\n        };\n\n        AttributorStore.prototype.move = function (target) {\n          var _this = this;\n\n          this.copy(target);\n          Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n          });\n          this.attributes = {};\n        };\n\n        AttributorStore.prototype.values = function () {\n          var _this = this;\n\n          return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n          }, {});\n        };\n\n        return AttributorStore;\n      }();\n\n      exports.default = AttributorStore;\n      /***/\n    },\n    /* 32 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      function match(node, prefix) {\n        var className = node.getAttribute('class') || '';\n        return className.split(/\\s+/).filter(function (name) {\n          return name.indexOf(prefix + \"-\") === 0;\n        });\n      }\n\n      var ClassAttributor =\n      /** @class */\n      function (_super) {\n        __extends(ClassAttributor, _super);\n\n        function ClassAttributor() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ClassAttributor.keys = function (node) {\n          return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\n            return name.split('-').slice(0, -1).join('-');\n          });\n        };\n\n        ClassAttributor.prototype.add = function (node, value) {\n          if (!this.canAdd(node, value)) return false;\n          this.remove(node);\n          node.classList.add(this.keyName + \"-\" + value);\n          return true;\n        };\n\n        ClassAttributor.prototype.remove = function (node) {\n          var matches = match(node, this.keyName);\n          matches.forEach(function (name) {\n            node.classList.remove(name);\n          });\n\n          if (node.classList.length === 0) {\n            node.removeAttribute('class');\n          }\n        };\n\n        ClassAttributor.prototype.value = function (node) {\n          var result = match(node, this.keyName)[0] || '';\n          var value = result.slice(this.keyName.length + 1); // +1 for hyphen\n\n          return this.canAdd(node, value) ? value : '';\n        };\n\n        return ClassAttributor;\n      }(attributor_1.default);\n\n      exports.default = ClassAttributor;\n      /***/\n    },\n    /* 33 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      function camelize(name) {\n        var parts = name.split('-');\n        var rest = parts.slice(1).map(function (part) {\n          return part[0].toUpperCase() + part.slice(1);\n        }).join('');\n        return parts[0] + rest;\n      }\n\n      var StyleAttributor =\n      /** @class */\n      function (_super) {\n        __extends(StyleAttributor, _super);\n\n        function StyleAttributor() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        StyleAttributor.keys = function (node) {\n          return (node.getAttribute('style') || '').split(';').map(function (value) {\n            var arr = value.split(':');\n            return arr[0].trim();\n          });\n        };\n\n        StyleAttributor.prototype.add = function (node, value) {\n          if (!this.canAdd(node, value)) return false; // @ts-ignore\n\n          node.style[camelize(this.keyName)] = value;\n          return true;\n        };\n\n        StyleAttributor.prototype.remove = function (node) {\n          // @ts-ignore\n          node.style[camelize(this.keyName)] = '';\n\n          if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n          }\n        };\n\n        StyleAttributor.prototype.value = function (node) {\n          // @ts-ignore\n          var value = node.style[camelize(this.keyName)];\n          return this.canAdd(node, value) ? value : '';\n        };\n\n        return StyleAttributor;\n      }(attributor_1.default);\n\n      exports.default = StyleAttributor;\n      /***/\n    },\n    /* 34 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var Theme = function () {\n        function Theme(quill, options) {\n          _classCallCheck(this, Theme);\n\n          this.quill = quill;\n          this.options = options;\n          this.modules = {};\n        }\n\n        _createClass(Theme, [{\n          key: 'init',\n          value: function init() {\n            var _this = this;\n\n            Object.keys(this.options.modules).forEach(function (name) {\n              if (_this.modules[name] == null) {\n                _this.addModule(name);\n              }\n            });\n          }\n        }, {\n          key: 'addModule',\n          value: function addModule(name) {\n            var moduleClass = this.quill.constructor.import('modules/' + name);\n            this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\n            return this.modules[name];\n          }\n        }]);\n\n        return Theme;\n      }();\n\n      Theme.DEFAULTS = {\n        modules: {}\n      };\n      Theme.themes = {\n        'default': Theme\n      };\n      exports.default = Theme;\n      /***/\n    },\n    /* 35 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var GUARD_TEXT = \"\\uFEFF\";\n\n      var Embed = function (_Parchment$Embed) {\n        _inherits(Embed, _Parchment$Embed);\n\n        function Embed(node) {\n          _classCallCheck(this, Embed);\n\n          var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\n\n          _this.contentNode = document.createElement('span');\n\n          _this.contentNode.setAttribute('contenteditable', false);\n\n          [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\n            _this.contentNode.appendChild(childNode);\n          });\n          _this.leftGuard = document.createTextNode(GUARD_TEXT);\n          _this.rightGuard = document.createTextNode(GUARD_TEXT);\n\n          _this.domNode.appendChild(_this.leftGuard);\n\n          _this.domNode.appendChild(_this.contentNode);\n\n          _this.domNode.appendChild(_this.rightGuard);\n\n          return _this;\n        }\n\n        _createClass(Embed, [{\n          key: 'index',\n          value: function index(node, offset) {\n            if (node === this.leftGuard) return 0;\n            if (node === this.rightGuard) return 1;\n            return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\n          }\n        }, {\n          key: 'restore',\n          value: function restore(node) {\n            var range = void 0,\n                textNode = void 0;\n            var text = node.data.split(GUARD_TEXT).join('');\n\n            if (node === this.leftGuard) {\n              if (this.prev instanceof _text2.default) {\n                var prevLength = this.prev.length();\n                this.prev.insertAt(prevLength, text);\n                range = {\n                  startNode: this.prev.domNode,\n                  startOffset: prevLength + text.length\n                };\n              } else {\n                textNode = document.createTextNode(text);\n                this.parent.insertBefore(_parchment2.default.create(textNode), this);\n                range = {\n                  startNode: textNode,\n                  startOffset: text.length\n                };\n              }\n            } else if (node === this.rightGuard) {\n              if (this.next instanceof _text2.default) {\n                this.next.insertAt(0, text);\n                range = {\n                  startNode: this.next.domNode,\n                  startOffset: text.length\n                };\n              } else {\n                textNode = document.createTextNode(text);\n                this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\n                range = {\n                  startNode: textNode,\n                  startOffset: text.length\n                };\n              }\n            }\n\n            node.data = GUARD_TEXT;\n            return range;\n          }\n        }, {\n          key: 'update',\n          value: function update(mutations, context) {\n            var _this2 = this;\n\n            mutations.forEach(function (mutation) {\n              if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\n                var range = _this2.restore(mutation.target);\n\n                if (range) context.range = range;\n              }\n            });\n          }\n        }]);\n\n        return Embed;\n      }(_parchment2.default.Embed);\n\n      exports.default = Embed;\n      /***/\n    },\n    /* 36 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var config = {\n        scope: _parchment2.default.Scope.BLOCK,\n        whitelist: ['right', 'center', 'justify']\n      };\n      var AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\n      var AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\n      var AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\n      exports.AlignAttribute = AlignAttribute;\n      exports.AlignClass = AlignClass;\n      exports.AlignStyle = AlignStyle;\n      /***/\n    },\n    /* 37 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.BackgroundStyle = exports.BackgroundClass = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _color = __webpack_require__(26);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      var BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      exports.BackgroundClass = BackgroundClass;\n      exports.BackgroundStyle = BackgroundStyle;\n      /***/\n    },\n    /* 38 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var config = {\n        scope: _parchment2.default.Scope.BLOCK,\n        whitelist: ['rtl']\n      };\n      var DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\n      var DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\n      var DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\n      exports.DirectionAttribute = DirectionAttribute;\n      exports.DirectionClass = DirectionClass;\n      exports.DirectionStyle = DirectionStyle;\n      /***/\n    },\n    /* 39 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.FontClass = exports.FontStyle = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var config = {\n        scope: _parchment2.default.Scope.INLINE,\n        whitelist: ['serif', 'monospace']\n      };\n      var FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\n\n      var FontStyleAttributor = function (_Parchment$Attributor) {\n        _inherits(FontStyleAttributor, _Parchment$Attributor);\n\n        function FontStyleAttributor() {\n          _classCallCheck(this, FontStyleAttributor);\n\n          return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\n        }\n\n        _createClass(FontStyleAttributor, [{\n          key: 'value',\n          value: function value(node) {\n            return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\n          }\n        }]);\n\n        return FontStyleAttributor;\n      }(_parchment2.default.Attributor.Style);\n\n      var FontStyle = new FontStyleAttributor('font', 'font-family', config);\n      exports.FontStyle = FontStyle;\n      exports.FontClass = FontClass;\n      /***/\n    },\n    /* 40 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SizeStyle = exports.SizeClass = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\n        scope: _parchment2.default.Scope.INLINE,\n        whitelist: ['small', 'large', 'huge']\n      });\n      var SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\n        scope: _parchment2.default.Scope.INLINE,\n        whitelist: ['10px', '18px', '32px']\n      });\n      exports.SizeClass = SizeClass;\n      exports.SizeStyle = SizeStyle;\n      /***/\n    },\n    /* 41 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = {\n        'align': {\n          '': __webpack_require__(76),\n          'center': __webpack_require__(77),\n          'right': __webpack_require__(78),\n          'justify': __webpack_require__(79)\n        },\n        'background': __webpack_require__(80),\n        'blockquote': __webpack_require__(81),\n        'bold': __webpack_require__(82),\n        'clean': __webpack_require__(83),\n        'code': __webpack_require__(58),\n        'code-block': __webpack_require__(58),\n        'color': __webpack_require__(84),\n        'direction': {\n          '': __webpack_require__(85),\n          'rtl': __webpack_require__(86)\n        },\n        'float': {\n          'center': __webpack_require__(87),\n          'full': __webpack_require__(88),\n          'left': __webpack_require__(89),\n          'right': __webpack_require__(90)\n        },\n        'formula': __webpack_require__(91),\n        'header': {\n          '1': __webpack_require__(92),\n          '2': __webpack_require__(93)\n        },\n        'italic': __webpack_require__(94),\n        'image': __webpack_require__(95),\n        'indent': {\n          '+1': __webpack_require__(96),\n          '-1': __webpack_require__(97)\n        },\n        'link': __webpack_require__(98),\n        'list': {\n          'ordered': __webpack_require__(99),\n          'bullet': __webpack_require__(100),\n          'check': __webpack_require__(101)\n        },\n        'script': {\n          'sub': __webpack_require__(102),\n          'super': __webpack_require__(103)\n        },\n        'strike': __webpack_require__(104),\n        'underline': __webpack_require__(105),\n        'video': __webpack_require__(106)\n      };\n      /***/\n    },\n    /* 42 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.getLastChangeIndex = exports.default = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var History = function (_Module) {\n        _inherits(History, _Module);\n\n        function History(quill, options) {\n          _classCallCheck(this, History);\n\n          var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\n\n          _this.lastRecorded = 0;\n          _this.ignoreChange = false;\n\n          _this.clear();\n\n          _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\n            if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\n\n            if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\n              _this.record(delta, oldDelta);\n            } else {\n              _this.transform(delta);\n            }\n          });\n\n          _this.quill.keyboard.addBinding({\n            key: 'Z',\n            shortKey: true\n          }, _this.undo.bind(_this));\n\n          _this.quill.keyboard.addBinding({\n            key: 'Z',\n            shortKey: true,\n            shiftKey: true\n          }, _this.redo.bind(_this));\n\n          if (/Win/i.test(navigator.platform)) {\n            _this.quill.keyboard.addBinding({\n              key: 'Y',\n              shortKey: true\n            }, _this.redo.bind(_this));\n          }\n\n          return _this;\n        }\n\n        _createClass(History, [{\n          key: 'change',\n          value: function change(source, dest) {\n            if (this.stack[source].length === 0) return;\n            var delta = this.stack[source].pop();\n            this.stack[dest].push(delta);\n            this.lastRecorded = 0;\n            this.ignoreChange = true;\n            this.quill.updateContents(delta[source], _quill2.default.sources.USER);\n            this.ignoreChange = false;\n            var index = getLastChangeIndex(delta[source]);\n            this.quill.setSelection(index);\n          }\n        }, {\n          key: 'clear',\n          value: function clear() {\n            this.stack = {\n              undo: [],\n              redo: []\n            };\n          }\n        }, {\n          key: 'cutoff',\n          value: function cutoff() {\n            this.lastRecorded = 0;\n          }\n        }, {\n          key: 'record',\n          value: function record(changeDelta, oldDelta) {\n            if (changeDelta.ops.length === 0) return;\n            this.stack.redo = [];\n            var undoDelta = this.quill.getContents().diff(oldDelta);\n            var timestamp = Date.now();\n\n            if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n              var delta = this.stack.undo.pop();\n              undoDelta = undoDelta.compose(delta.undo);\n              changeDelta = delta.redo.compose(changeDelta);\n            } else {\n              this.lastRecorded = timestamp;\n            }\n\n            this.stack.undo.push({\n              redo: changeDelta,\n              undo: undoDelta\n            });\n\n            if (this.stack.undo.length > this.options.maxStack) {\n              this.stack.undo.shift();\n            }\n          }\n        }, {\n          key: 'redo',\n          value: function redo() {\n            this.change('redo', 'undo');\n          }\n        }, {\n          key: 'transform',\n          value: function transform(delta) {\n            this.stack.undo.forEach(function (change) {\n              change.undo = delta.transform(change.undo, true);\n              change.redo = delta.transform(change.redo, true);\n            });\n            this.stack.redo.forEach(function (change) {\n              change.undo = delta.transform(change.undo, true);\n              change.redo = delta.transform(change.redo, true);\n            });\n          }\n        }, {\n          key: 'undo',\n          value: function undo() {\n            this.change('undo', 'redo');\n          }\n        }]);\n\n        return History;\n      }(_module2.default);\n\n      History.DEFAULTS = {\n        delay: 1000,\n        maxStack: 100,\n        userOnly: false\n      };\n\n      function endsWithNewlineChange(delta) {\n        var lastOp = delta.ops[delta.ops.length - 1];\n        if (lastOp == null) return false;\n\n        if (lastOp.insert != null) {\n          return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n        }\n\n        if (lastOp.attributes != null) {\n          return Object.keys(lastOp.attributes).some(function (attr) {\n            return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\n          });\n        }\n\n        return false;\n      }\n\n      function getLastChangeIndex(delta) {\n        var deleteLength = delta.reduce(function (length, op) {\n          length += op.delete || 0;\n          return length;\n        }, 0);\n        var changeIndex = delta.length() - deleteLength;\n\n        if (endsWithNewlineChange(delta)) {\n          changeIndex -= 1;\n        }\n\n        return changeIndex;\n      }\n\n      exports.default = History;\n      exports.getLastChangeIndex = getLastChangeIndex;\n      /***/\n    },\n    /* 43 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.BaseTooltip = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _keyboard = __webpack_require__(23);\n\n      var _keyboard2 = _interopRequireDefault(_keyboard);\n\n      var _theme = __webpack_require__(34);\n\n      var _theme2 = _interopRequireDefault(_theme);\n\n      var _colorPicker = __webpack_require__(59);\n\n      var _colorPicker2 = _interopRequireDefault(_colorPicker);\n\n      var _iconPicker = __webpack_require__(60);\n\n      var _iconPicker2 = _interopRequireDefault(_iconPicker);\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      var _tooltip = __webpack_require__(61);\n\n      var _tooltip2 = _interopRequireDefault(_tooltip);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ALIGNS = [false, 'center', 'right', 'justify'];\n      var COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n      var FONTS = [false, 'serif', 'monospace'];\n      var HEADERS = ['1', '2', '3', false];\n      var SIZES = ['small', false, 'large', 'huge'];\n\n      var BaseTheme = function (_Theme) {\n        _inherits(BaseTheme, _Theme);\n\n        function BaseTheme(quill, options) {\n          _classCallCheck(this, BaseTheme);\n\n          var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\n\n          var listener = function listener(e) {\n            if (!document.body.contains(quill.root)) {\n              return document.body.removeEventListener('click', listener);\n            }\n\n            if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\n              _this.tooltip.hide();\n            }\n\n            if (_this.pickers != null) {\n              _this.pickers.forEach(function (picker) {\n                if (!picker.container.contains(e.target)) {\n                  picker.close();\n                }\n              });\n            }\n          };\n\n          quill.emitter.listenDOM('click', document.body, listener);\n          return _this;\n        }\n\n        _createClass(BaseTheme, [{\n          key: 'addModule',\n          value: function addModule(name) {\n            var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\n\n            if (name === 'toolbar') {\n              this.extendToolbar(module);\n            }\n\n            return module;\n          }\n        }, {\n          key: 'buildButtons',\n          value: function buildButtons(buttons, icons) {\n            buttons.forEach(function (button) {\n              var className = button.getAttribute('class') || '';\n              className.split(/\\s+/).forEach(function (name) {\n                if (!name.startsWith('ql-')) return;\n                name = name.slice('ql-'.length);\n                if (icons[name] == null) return;\n\n                if (name === 'direction') {\n                  button.innerHTML = icons[name][''] + icons[name]['rtl'];\n                } else if (typeof icons[name] === 'string') {\n                  button.innerHTML = icons[name];\n                } else {\n                  var value = button.value || '';\n\n                  if (value != null && icons[name][value]) {\n                    button.innerHTML = icons[name][value];\n                  }\n                }\n              });\n            });\n          }\n        }, {\n          key: 'buildPickers',\n          value: function buildPickers(selects, icons) {\n            var _this2 = this;\n\n            this.pickers = selects.map(function (select) {\n              if (select.classList.contains('ql-align')) {\n                if (select.querySelector('option') == null) {\n                  fillSelect(select, ALIGNS);\n                }\n\n                return new _iconPicker2.default(select, icons.align);\n              } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n                var format = select.classList.contains('ql-background') ? 'background' : 'color';\n\n                if (select.querySelector('option') == null) {\n                  fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n                }\n\n                return new _colorPicker2.default(select, icons[format]);\n              } else {\n                if (select.querySelector('option') == null) {\n                  if (select.classList.contains('ql-font')) {\n                    fillSelect(select, FONTS);\n                  } else if (select.classList.contains('ql-header')) {\n                    fillSelect(select, HEADERS);\n                  } else if (select.classList.contains('ql-size')) {\n                    fillSelect(select, SIZES);\n                  }\n                }\n\n                return new _picker2.default(select);\n              }\n            });\n\n            var update = function update() {\n              _this2.pickers.forEach(function (picker) {\n                picker.update();\n              });\n            };\n\n            this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\n          }\n        }]);\n\n        return BaseTheme;\n      }(_theme2.default);\n\n      BaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              formula: function formula() {\n                this.quill.theme.tooltip.edit('formula');\n              },\n              image: function image() {\n                var _this3 = this;\n\n                var fileInput = this.container.querySelector('input.ql-image[type=file]');\n\n                if (fileInput == null) {\n                  fileInput = document.createElement('input');\n                  fileInput.setAttribute('type', 'file');\n                  fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n                  fileInput.classList.add('ql-image');\n                  fileInput.addEventListener('change', function () {\n                    if (fileInput.files != null && fileInput.files[0] != null) {\n                      var reader = new FileReader();\n\n                      reader.onload = function (e) {\n                        var range = _this3.quill.getSelection(true);\n\n                        _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({\n                          image: e.target.result\n                        }), _emitter2.default.sources.USER);\n\n                        _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\n\n                        fileInput.value = \"\";\n                      };\n\n                      reader.readAsDataURL(fileInput.files[0]);\n                    }\n                  });\n                  this.container.appendChild(fileInput);\n                }\n\n                fileInput.click();\n              },\n              video: function video() {\n                this.quill.theme.tooltip.edit('video');\n              }\n            }\n          }\n        }\n      });\n\n      var BaseTooltip = function (_Tooltip) {\n        _inherits(BaseTooltip, _Tooltip);\n\n        function BaseTooltip(quill, boundsContainer) {\n          _classCallCheck(this, BaseTooltip);\n\n          var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\n\n          _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\n\n          _this4.listen();\n\n          return _this4;\n        }\n\n        _createClass(BaseTooltip, [{\n          key: 'listen',\n          value: function listen() {\n            var _this5 = this;\n\n            this.textbox.addEventListener('keydown', function (event) {\n              if (_keyboard2.default.match(event, 'enter')) {\n                _this5.save();\n\n                event.preventDefault();\n              } else if (_keyboard2.default.match(event, 'escape')) {\n                _this5.cancel();\n\n                event.preventDefault();\n              }\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel() {\n            this.hide();\n          }\n        }, {\n          key: 'edit',\n          value: function edit() {\n            var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\n            var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n            this.root.classList.remove('ql-hidden');\n            this.root.classList.add('ql-editing');\n\n            if (preview != null) {\n              this.textbox.value = preview;\n            } else if (mode !== this.root.getAttribute('data-mode')) {\n              this.textbox.value = '';\n            }\n\n            this.position(this.quill.getBounds(this.quill.selection.savedRange));\n            this.textbox.select();\n            this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\n            this.root.setAttribute('data-mode', mode);\n          }\n        }, {\n          key: 'restoreFocus',\n          value: function restoreFocus() {\n            var scrollTop = this.quill.scrollingContainer.scrollTop;\n            this.quill.focus();\n            this.quill.scrollingContainer.scrollTop = scrollTop;\n          }\n        }, {\n          key: 'save',\n          value: function save() {\n            var value = this.textbox.value;\n\n            switch (this.root.getAttribute('data-mode')) {\n              case 'link':\n                {\n                  var scrollTop = this.quill.root.scrollTop;\n\n                  if (this.linkRange) {\n                    this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\n                    delete this.linkRange;\n                  } else {\n                    this.restoreFocus();\n                    this.quill.format('link', value, _emitter2.default.sources.USER);\n                  }\n\n                  this.quill.root.scrollTop = scrollTop;\n                  break;\n                }\n\n              case 'video':\n                {\n                  value = extractVideoUrl(value);\n                }\n              // eslint-disable-next-line no-fallthrough\n\n              case 'formula':\n                {\n                  if (!value) break;\n                  var range = this.quill.getSelection(true);\n\n                  if (range != null) {\n                    var index = range.index + range.length;\n                    this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\n\n                    if (this.root.getAttribute('data-mode') === 'formula') {\n                      this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\n                    }\n\n                    this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\n                  }\n\n                  break;\n                }\n\n              default:\n            }\n\n            this.textbox.value = '';\n            this.hide();\n          }\n        }]);\n\n        return BaseTooltip;\n      }(_tooltip2.default);\n\n      function extractVideoUrl(url) {\n        var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n\n        if (match) {\n          return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\n        }\n\n        if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n          // eslint-disable-line no-cond-assign\n          return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\n        }\n\n        return url;\n      }\n\n      function fillSelect(select, values) {\n        var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        values.forEach(function (value) {\n          var option = document.createElement('option');\n\n          if (value === defaultValue) {\n            option.setAttribute('selected', 'selected');\n          } else {\n            option.setAttribute('value', value);\n          }\n\n          select.appendChild(option);\n        });\n      }\n\n      exports.BaseTooltip = BaseTooltip;\n      exports.default = BaseTheme;\n      /***/\n    },\n    /* 44 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var LinkedList =\n      /** @class */\n      function () {\n        function LinkedList() {\n          this.head = this.tail = null;\n          this.length = 0;\n        }\n\n        LinkedList.prototype.append = function () {\n          var nodes = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n          }\n\n          this.insertBefore(nodes[0], null);\n\n          if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n          }\n        };\n\n        LinkedList.prototype.contains = function (node) {\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            if (cur === node) return true;\n          }\n\n          return false;\n        };\n\n        LinkedList.prototype.insertBefore = function (node, refNode) {\n          if (!node) return;\n          node.next = refNode;\n\n          if (refNode != null) {\n            node.prev = refNode.prev;\n\n            if (refNode.prev != null) {\n              refNode.prev.next = node;\n            }\n\n            refNode.prev = node;\n\n            if (refNode === this.head) {\n              this.head = node;\n            }\n          } else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n          } else {\n            node.prev = null;\n            this.head = this.tail = node;\n          }\n\n          this.length += 1;\n        };\n\n        LinkedList.prototype.offset = function (target) {\n          var index = 0,\n              cur = this.head;\n\n          while (cur != null) {\n            if (cur === target) return index;\n            index += cur.length();\n            cur = cur.next;\n          }\n\n          return -1;\n        };\n\n        LinkedList.prototype.remove = function (node) {\n          if (!this.contains(node)) return;\n          if (node.prev != null) node.prev.next = node.next;\n          if (node.next != null) node.next.prev = node.prev;\n          if (node === this.head) this.head = node.next;\n          if (node === this.tail) this.tail = node.prev;\n          this.length -= 1;\n        };\n\n        LinkedList.prototype.iterator = function (curNode) {\n          if (curNode === void 0) {\n            curNode = this.head;\n          } // TODO use yield when we can\n\n\n          return function () {\n            var ret = curNode;\n            if (curNode != null) curNode = curNode.next;\n            return ret;\n          };\n        };\n\n        LinkedList.prototype.find = function (index, inclusive) {\n          if (inclusive === void 0) {\n            inclusive = false;\n          }\n\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            var length = cur.length();\n\n            if (index < length || inclusive && index === length && (cur.next == null || cur.next.length() !== 0)) {\n              return [cur, index];\n            }\n\n            index -= length;\n          }\n\n          return [null, 0];\n        };\n\n        LinkedList.prototype.forEach = function (callback) {\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            callback(cur);\n          }\n        };\n\n        LinkedList.prototype.forEachAt = function (index, length, callback) {\n          if (length <= 0) return;\n\n          var _a = this.find(index),\n              startNode = _a[0],\n              offset = _a[1];\n\n          var cur,\n              curIndex = index - offset,\n              next = this.iterator(startNode);\n\n          while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n\n            if (index > curIndex) {\n              callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            } else {\n              callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n\n            curIndex += curLength;\n          }\n        };\n\n        LinkedList.prototype.map = function (callback) {\n          return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n          }, []);\n        };\n\n        LinkedList.prototype.reduce = function (callback, memo) {\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            memo = callback(memo, cur);\n          }\n\n          return memo;\n        };\n\n        return LinkedList;\n      }();\n\n      exports.default = LinkedList;\n      /***/\n    },\n    /* 45 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var container_1 = __webpack_require__(17);\n\n      var Registry = __webpack_require__(1);\n\n      var OBSERVER_CONFIG = {\n        attributes: true,\n        characterData: true,\n        characterDataOldValue: true,\n        childList: true,\n        subtree: true\n      };\n      var MAX_OPTIMIZE_ITERATIONS = 100;\n\n      var ScrollBlot =\n      /** @class */\n      function (_super) {\n        __extends(ScrollBlot, _super);\n\n        function ScrollBlot(node) {\n          var _this = _super.call(this, node) || this;\n\n          _this.scroll = _this;\n          _this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n          });\n\n          _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\n\n          _this.attach();\n\n          return _this;\n        }\n\n        ScrollBlot.prototype.detach = function () {\n          _super.prototype.detach.call(this);\n\n          this.observer.disconnect();\n        };\n\n        ScrollBlot.prototype.deleteAt = function (index, length) {\n          this.update();\n\n          if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n              child.remove();\n            });\n          } else {\n            _super.prototype.deleteAt.call(this, index, length);\n          }\n        };\n\n        ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n          this.update();\n\n          _super.prototype.formatAt.call(this, index, length, name, value);\n        };\n\n        ScrollBlot.prototype.insertAt = function (index, value, def) {\n          this.update();\n\n          _super.prototype.insertAt.call(this, index, value, def);\n        };\n\n        ScrollBlot.prototype.optimize = function (mutations, context) {\n          var _this = this;\n\n          if (mutations === void 0) {\n            mutations = [];\n          }\n\n          if (context === void 0) {\n            context = {};\n          }\n\n          _super.prototype.optimize.call(this, context); // We must modify mutations directly, cannot make copy and then modify\n\n\n          var records = [].slice.call(this.observer.takeRecords()); // Array.push currently seems to be implemented by a non-tail recursive function\n          // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n\n          while (records.length > 0) {\n            mutations.push(records.pop());\n          } // TODO use WeakMap\n\n\n          var mark = function mark(blot, markParent) {\n            if (markParent === void 0) {\n              markParent = true;\n            }\n\n            if (blot == null || blot === _this) return;\n            if (blot.domNode.parentNode == null) return; // @ts-ignore\n\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n              // @ts-ignore\n              blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n\n            if (markParent) mark(blot.parent);\n          };\n\n          var optimize = function optimize(blot) {\n            // Post-order traversal\n            if ( // @ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null || // @ts-ignore\n            blot.domNode[Registry.DATA_KEY].mutations == null) {\n              return;\n            }\n\n            if (blot instanceof container_1.default) {\n              blot.children.forEach(optimize);\n            }\n\n            blot.optimize(context);\n          };\n\n          var remaining = mutations;\n\n          for (var i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n              throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n\n            remaining.forEach(function (mutation) {\n              var blot = Registry.find(mutation.target, true);\n              if (blot == null) return;\n\n              if (blot.domNode === mutation.target) {\n                if (mutation.type === 'childList') {\n                  mark(Registry.find(mutation.previousSibling, false));\n                  [].forEach.call(mutation.addedNodes, function (node) {\n                    var child = Registry.find(node, false);\n                    mark(child, false);\n\n                    if (child instanceof container_1.default) {\n                      child.children.forEach(function (grandChild) {\n                        mark(grandChild, false);\n                      });\n                    }\n                  });\n                } else if (mutation.type === 'attributes') {\n                  mark(blot.prev);\n                }\n              }\n\n              mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = [].slice.call(this.observer.takeRecords());\n            records = remaining.slice();\n\n            while (records.length > 0) {\n              mutations.push(records.pop());\n            }\n          }\n        };\n\n        ScrollBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          if (context === void 0) {\n            context = {};\n          }\n\n          mutations = mutations || this.observer.takeRecords(); // TODO use WeakMap\n\n          mutations.map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null) return null; // @ts-ignore\n\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n              // @ts-ignore\n              blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n              return blot;\n            } else {\n              // @ts-ignore\n              blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n              return null;\n            }\n          }).forEach(function (blot) {\n            if (blot == null || blot === _this || //@ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null) return; // @ts-ignore\n\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\n          }); // @ts-ignore\n\n          if (this.domNode[Registry.DATA_KEY].mutations != null) {\n            // @ts-ignore\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\n          }\n\n          this.optimize(mutations, context);\n        };\n\n        ScrollBlot.blotName = 'scroll';\n        ScrollBlot.defaultChild = 'block';\n        ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n        ScrollBlot.tagName = 'DIV';\n        return ScrollBlot;\n      }(container_1.default);\n\n      exports.default = ScrollBlot;\n      /***/\n    },\n    /* 46 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var format_1 = __webpack_require__(18);\n\n      var Registry = __webpack_require__(1); // Shallow object comparison\n\n\n      function isEqual(obj1, obj2) {\n        if (Object.keys(obj1).length !== Object.keys(obj2).length) return false; // @ts-ignore\n\n        for (var prop in obj1) {\n          // @ts-ignore\n          if (obj1[prop] !== obj2[prop]) return false;\n        }\n\n        return true;\n      }\n\n      var InlineBlot =\n      /** @class */\n      function (_super) {\n        __extends(InlineBlot, _super);\n\n        function InlineBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        InlineBlot.formats = function (domNode) {\n          if (domNode.tagName === InlineBlot.tagName) return undefined;\n          return _super.formats.call(this, domNode);\n        };\n\n        InlineBlot.prototype.format = function (name, value) {\n          var _this = this;\n\n          if (name === this.statics.blotName && !value) {\n            this.children.forEach(function (child) {\n              if (!(child instanceof format_1.default)) {\n                child = child.wrap(InlineBlot.blotName, true);\n              }\n\n              _this.attributes.copy(child);\n            });\n            this.unwrap();\n          } else {\n            _super.prototype.format.call(this, name, value);\n          }\n        };\n\n        InlineBlot.prototype.formatAt = function (index, length, name, value) {\n          if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n          } else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n          }\n        };\n\n        InlineBlot.prototype.optimize = function (context) {\n          _super.prototype.optimize.call(this, context);\n\n          var formats = this.formats();\n\n          if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n          }\n\n          var next = this.next;\n\n          if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n          }\n        };\n\n        InlineBlot.blotName = 'inline';\n        InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n        InlineBlot.tagName = 'SPAN';\n        return InlineBlot;\n      }(format_1.default);\n\n      exports.default = InlineBlot;\n      /***/\n    },\n    /* 47 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var format_1 = __webpack_require__(18);\n\n      var Registry = __webpack_require__(1);\n\n      var BlockBlot =\n      /** @class */\n      function (_super) {\n        __extends(BlockBlot, _super);\n\n        function BlockBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        BlockBlot.formats = function (domNode) {\n          var tagName = Registry.query(BlockBlot.blotName).tagName;\n          if (domNode.tagName === tagName) return undefined;\n          return _super.formats.call(this, domNode);\n        };\n\n        BlockBlot.prototype.format = function (name, value) {\n          if (Registry.query(name, Registry.Scope.BLOCK) == null) {\n            return;\n          } else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n          } else {\n            _super.prototype.format.call(this, name, value);\n          }\n        };\n\n        BlockBlot.prototype.formatAt = function (index, length, name, value) {\n          if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n          } else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n          }\n        };\n\n        BlockBlot.prototype.insertAt = function (index, value, def) {\n          if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            // Insert text or inline\n            _super.prototype.insertAt.call(this, index, value, def);\n          } else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n          }\n        };\n\n        BlockBlot.prototype.update = function (mutations, context) {\n          if (navigator.userAgent.match(/Trident/)) {\n            this.build();\n          } else {\n            _super.prototype.update.call(this, mutations, context);\n          }\n        };\n\n        BlockBlot.blotName = 'block';\n        BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n        BlockBlot.tagName = 'P';\n        return BlockBlot;\n      }(format_1.default);\n\n      exports.default = BlockBlot;\n      /***/\n    },\n    /* 48 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var leaf_1 = __webpack_require__(19);\n\n      var EmbedBlot =\n      /** @class */\n      function (_super) {\n        __extends(EmbedBlot, _super);\n\n        function EmbedBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        EmbedBlot.formats = function (domNode) {\n          return undefined;\n        };\n\n        EmbedBlot.prototype.format = function (name, value) {\n          // super.formatAt wraps, which is what we want in general,\n          // but this allows subclasses to overwrite for formats\n          // that just apply to particular embeds\n          _super.prototype.formatAt.call(this, 0, this.length(), name, value);\n        };\n\n        EmbedBlot.prototype.formatAt = function (index, length, name, value) {\n          if (index === 0 && length === this.length()) {\n            this.format(name, value);\n          } else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n          }\n        };\n\n        EmbedBlot.prototype.formats = function () {\n          return this.statics.formats(this.domNode);\n        };\n\n        return EmbedBlot;\n      }(leaf_1.default);\n\n      exports.default = EmbedBlot;\n      /***/\n    },\n    /* 49 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var leaf_1 = __webpack_require__(19);\n\n      var Registry = __webpack_require__(1);\n\n      var TextBlot =\n      /** @class */\n      function (_super) {\n        __extends(TextBlot, _super);\n\n        function TextBlot(node) {\n          var _this = _super.call(this, node) || this;\n\n          _this.text = _this.statics.value(_this.domNode);\n          return _this;\n        }\n\n        TextBlot.create = function (value) {\n          return document.createTextNode(value);\n        };\n\n        TextBlot.value = function (domNode) {\n          var text = domNode.data; // @ts-ignore\n\n          if (text['normalize']) text = text['normalize']();\n          return text;\n        };\n\n        TextBlot.prototype.deleteAt = function (index, length) {\n          this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n        };\n\n        TextBlot.prototype.index = function (node, offset) {\n          if (this.domNode === node) {\n            return offset;\n          }\n\n          return -1;\n        };\n\n        TextBlot.prototype.insertAt = function (index, value, def) {\n          if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n          } else {\n            _super.prototype.insertAt.call(this, index, value, def);\n          }\n        };\n\n        TextBlot.prototype.length = function () {\n          return this.text.length;\n        };\n\n        TextBlot.prototype.optimize = function (context) {\n          _super.prototype.optimize.call(this, context);\n\n          this.text = this.statics.value(this.domNode);\n\n          if (this.text.length === 0) {\n            this.remove();\n          } else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n          }\n        };\n\n        TextBlot.prototype.position = function (index, inclusive) {\n          if (inclusive === void 0) {\n            inclusive = false;\n          }\n\n          return [this.domNode, index];\n        };\n\n        TextBlot.prototype.split = function (index, force) {\n          if (force === void 0) {\n            force = false;\n          }\n\n          if (!force) {\n            if (index === 0) return this;\n            if (index === this.length()) return this.next;\n          }\n\n          var after = Registry.create(this.domNode.splitText(index));\n          this.parent.insertBefore(after, this.next);\n          this.text = this.statics.value(this.domNode);\n          return after;\n        };\n\n        TextBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n          })) {\n            this.text = this.statics.value(this.domNode);\n          }\n        };\n\n        TextBlot.prototype.value = function () {\n          return this.text;\n        };\n\n        TextBlot.blotName = 'text';\n        TextBlot.scope = Registry.Scope.INLINE_BLOT;\n        return TextBlot;\n      }(leaf_1.default);\n\n      exports.default = TextBlot;\n      /***/\n    },\n    /* 50 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var elem = document.createElement('div');\n      elem.classList.toggle('test-class', false);\n\n      if (elem.classList.contains('test-class')) {\n        var _toggle = DOMTokenList.prototype.toggle;\n\n        DOMTokenList.prototype.toggle = function (token, force) {\n          if (arguments.length > 1 && !this.contains(token) === !force) {\n            return force;\n          } else {\n            return _toggle.call(this, token);\n          }\n        };\n      }\n\n      if (!String.prototype.startsWith) {\n        String.prototype.startsWith = function (searchString, position) {\n          position = position || 0;\n          return this.substr(position, searchString.length) === searchString;\n        };\n      }\n\n      if (!String.prototype.endsWith) {\n        String.prototype.endsWith = function (searchString, position) {\n          var subjectString = this.toString();\n\n          if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n            position = subjectString.length;\n          }\n\n          position -= searchString.length;\n          var lastIndex = subjectString.indexOf(searchString, position);\n          return lastIndex !== -1 && lastIndex === position;\n        };\n      }\n\n      if (!Array.prototype.find) {\n        Object.defineProperty(Array.prototype, \"find\", {\n          value: function value(predicate) {\n            if (this === null) {\n              throw new TypeError('Array.prototype.find called on null or undefined');\n            }\n\n            if (typeof predicate !== 'function') {\n              throw new TypeError('predicate must be a function');\n            }\n\n            var list = Object(this);\n            var length = list.length >>> 0;\n            var thisArg = arguments[1];\n            var value;\n\n            for (var i = 0; i < length; i++) {\n              value = list[i];\n\n              if (predicate.call(thisArg, value, i, list)) {\n                return value;\n              }\n            }\n\n            return undefined;\n          }\n        });\n      }\n\n      document.addEventListener(\"DOMContentLoaded\", function () {\n        // Disable resizing in Firefox\n        document.execCommand(\"enableObjectResizing\", false, false); // Disable automatic linkifying in IE11\n\n        document.execCommand(\"autoUrlDetect\", false, false);\n      });\n      /***/\n    },\n    /* 51 */\n\n    /***/\n    function (module, exports) {\n      /**\r\n       * This library modifies the diff-patch-match library by Neil Fraser\r\n       * by removing the patch and match functionality and certain advanced\r\n       * options in the diff function. The original license is as follows:\r\n       *\r\n       * ===\r\n       *\r\n       * Diff Match and Patch\r\n       *\r\n       * Copyright 2006 Google Inc.\r\n       * http://code.google.com/p/google-diff-match-patch/\r\n       *\r\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n       * you may not use this file except in compliance with the License.\r\n       * You may obtain a copy of the License at\r\n       *\r\n       *   http://www.apache.org/licenses/LICENSE-2.0\r\n       *\r\n       * Unless required by applicable law or agreed to in writing, software\r\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n       * See the License for the specific language governing permissions and\r\n       * limitations under the License.\r\n       */\n\n      /**\r\n       * The data structure representing a diff is an array of tuples:\r\n       * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\r\n       * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\r\n       */\n      var DIFF_DELETE = -1;\n      var DIFF_INSERT = 1;\n      var DIFF_EQUAL = 0;\n      /**\r\n       * Find the differences between two texts.  Simplifies the problem by stripping\r\n       * any common prefix or suffix off the texts before diffing.\r\n       * @param {string} text1 Old string to be diffed.\r\n       * @param {string} text2 New string to be diffed.\r\n       * @param {Int} cursor_pos Expected edit position in text1 (optional)\r\n       * @return {Array} Array of diff tuples.\r\n       */\n\n      function diff_main(text1, text2, cursor_pos) {\n        // Check for equality (speedup).\n        if (text1 == text2) {\n          if (text1) {\n            return [[DIFF_EQUAL, text1]];\n          }\n\n          return [];\n        } // Check cursor_pos within bounds\n\n\n        if (cursor_pos < 0 || text1.length < cursor_pos) {\n          cursor_pos = null;\n        } // Trim off common prefix (speedup).\n\n\n        var commonlength = diff_commonPrefix(text1, text2);\n        var commonprefix = text1.substring(0, commonlength);\n        text1 = text1.substring(commonlength);\n        text2 = text2.substring(commonlength); // Trim off common suffix (speedup).\n\n        commonlength = diff_commonSuffix(text1, text2);\n        var commonsuffix = text1.substring(text1.length - commonlength);\n        text1 = text1.substring(0, text1.length - commonlength);\n        text2 = text2.substring(0, text2.length - commonlength); // Compute the diff on the middle block.\n\n        var diffs = diff_compute_(text1, text2); // Restore the prefix and suffix.\n\n        if (commonprefix) {\n          diffs.unshift([DIFF_EQUAL, commonprefix]);\n        }\n\n        if (commonsuffix) {\n          diffs.push([DIFF_EQUAL, commonsuffix]);\n        }\n\n        diff_cleanupMerge(diffs);\n\n        if (cursor_pos != null) {\n          diffs = fix_cursor(diffs, cursor_pos);\n        }\n\n        diffs = fix_emoji(diffs);\n        return diffs;\n      }\n\n      ;\n      /**\r\n       * Find the differences between two texts.  Assumes that the texts do not\r\n       * have any common prefix or suffix.\r\n       * @param {string} text1 Old string to be diffed.\r\n       * @param {string} text2 New string to be diffed.\r\n       * @return {Array} Array of diff tuples.\r\n       */\n\n      function diff_compute_(text1, text2) {\n        var diffs;\n\n        if (!text1) {\n          // Just add some text (speedup).\n          return [[DIFF_INSERT, text2]];\n        }\n\n        if (!text2) {\n          // Just delete some text (speedup).\n          return [[DIFF_DELETE, text1]];\n        }\n\n        var longtext = text1.length > text2.length ? text1 : text2;\n        var shorttext = text1.length > text2.length ? text2 : text1;\n        var i = longtext.indexOf(shorttext);\n\n        if (i != -1) {\n          // Shorter text is inside the longer text (speedup).\n          diffs = [[DIFF_INSERT, longtext.substring(0, i)], [DIFF_EQUAL, shorttext], [DIFF_INSERT, longtext.substring(i + shorttext.length)]]; // Swap insertions for deletions if diff is reversed.\n\n          if (text1.length > text2.length) {\n            diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n          }\n\n          return diffs;\n        }\n\n        if (shorttext.length == 1) {\n          // Single character string.\n          // After the previous speedup, the character can't be an equality.\n          return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n        } // Check to see if the problem can be split in two.\n\n\n        var hm = diff_halfMatch_(text1, text2);\n\n        if (hm) {\n          // A half-match was found, sort out the return data.\n          var text1_a = hm[0];\n          var text1_b = hm[1];\n          var text2_a = hm[2];\n          var text2_b = hm[3];\n          var mid_common = hm[4]; // Send both pairs off for separate processing.\n\n          var diffs_a = diff_main(text1_a, text2_a);\n          var diffs_b = diff_main(text1_b, text2_b); // Merge the results.\n\n          return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n        }\n\n        return diff_bisect_(text1, text2);\n      }\n\n      ;\n      /**\r\n       * Find the 'middle snake' of a diff, split the problem in two\r\n       * and return the recursively constructed diff.\r\n       * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\r\n       * @param {string} text1 Old string to be diffed.\r\n       * @param {string} text2 New string to be diffed.\r\n       * @return {Array} Array of diff tuples.\r\n       * @private\r\n       */\n\n      function diff_bisect_(text1, text2) {\n        // Cache the text lengths to prevent multiple calls.\n        var text1_length = text1.length;\n        var text2_length = text2.length;\n        var max_d = Math.ceil((text1_length + text2_length) / 2);\n        var v_offset = max_d;\n        var v_length = 2 * max_d;\n        var v1 = new Array(v_length);\n        var v2 = new Array(v_length); // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n        // integers and undefined.\n\n        for (var x = 0; x < v_length; x++) {\n          v1[x] = -1;\n          v2[x] = -1;\n        }\n\n        v1[v_offset + 1] = 0;\n        v2[v_offset + 1] = 0;\n        var delta = text1_length - text2_length; // If the total number of characters is odd, then the front path will collide\n        // with the reverse path.\n\n        var front = delta % 2 != 0; // Offsets for start and end of k loop.\n        // Prevents mapping of space beyond the grid.\n\n        var k1start = 0;\n        var k1end = 0;\n        var k2start = 0;\n        var k2end = 0;\n\n        for (var d = 0; d < max_d; d++) {\n          // Walk the front path one step.\n          for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n            var k1_offset = v_offset + k1;\n            var x1;\n\n            if (k1 == -d || k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1]) {\n              x1 = v1[k1_offset + 1];\n            } else {\n              x1 = v1[k1_offset - 1] + 1;\n            }\n\n            var y1 = x1 - k1;\n\n            while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {\n              x1++;\n              y1++;\n            }\n\n            v1[k1_offset] = x1;\n\n            if (x1 > text1_length) {\n              // Ran off the right of the graph.\n              k1end += 2;\n            } else if (y1 > text2_length) {\n              // Ran off the bottom of the graph.\n              k1start += 2;\n            } else if (front) {\n              var k2_offset = v_offset + delta - k1;\n\n              if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n                // Mirror x2 onto top-left coordinate system.\n                var x2 = text1_length - v2[k2_offset];\n\n                if (x1 >= x2) {\n                  // Overlap detected.\n                  return diff_bisectSplit_(text1, text2, x1, y1);\n                }\n              }\n            }\n          } // Walk the reverse path one step.\n\n\n          for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n            var k2_offset = v_offset + k2;\n            var x2;\n\n            if (k2 == -d || k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1]) {\n              x2 = v2[k2_offset + 1];\n            } else {\n              x2 = v2[k2_offset - 1] + 1;\n            }\n\n            var y2 = x2 - k2;\n\n            while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) == text2.charAt(text2_length - y2 - 1)) {\n              x2++;\n              y2++;\n            }\n\n            v2[k2_offset] = x2;\n\n            if (x2 > text1_length) {\n              // Ran off the left of the graph.\n              k2end += 2;\n            } else if (y2 > text2_length) {\n              // Ran off the top of the graph.\n              k2start += 2;\n            } else if (!front) {\n              var k1_offset = v_offset + delta - k2;\n\n              if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n                var x1 = v1[k1_offset];\n                var y1 = v_offset + x1 - k1_offset; // Mirror x2 onto top-left coordinate system.\n\n                x2 = text1_length - x2;\n\n                if (x1 >= x2) {\n                  // Overlap detected.\n                  return diff_bisectSplit_(text1, text2, x1, y1);\n                }\n              }\n            }\n          }\n        } // Diff took too long and hit the deadline or\n        // number of diffs equals number of characters, no commonality at all.\n\n\n        return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n      }\n\n      ;\n      /**\r\n       * Given the location of the 'middle snake', split the diff in two parts\r\n       * and recurse.\r\n       * @param {string} text1 Old string to be diffed.\r\n       * @param {string} text2 New string to be diffed.\r\n       * @param {number} x Index of split point in text1.\r\n       * @param {number} y Index of split point in text2.\r\n       * @return {Array} Array of diff tuples.\r\n       */\n\n      function diff_bisectSplit_(text1, text2, x, y) {\n        var text1a = text1.substring(0, x);\n        var text2a = text2.substring(0, y);\n        var text1b = text1.substring(x);\n        var text2b = text2.substring(y); // Compute both diffs serially.\n\n        var diffs = diff_main(text1a, text2a);\n        var diffsb = diff_main(text1b, text2b);\n        return diffs.concat(diffsb);\n      }\n\n      ;\n      /**\r\n       * Determine the common prefix of two strings.\r\n       * @param {string} text1 First string.\r\n       * @param {string} text2 Second string.\r\n       * @return {number} The number of characters common to the start of each\r\n       *     string.\r\n       */\n\n      function diff_commonPrefix(text1, text2) {\n        // Quick check for common null cases.\n        if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n          return 0;\n        } // Binary search.\n        // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n\n\n        var pointermin = 0;\n        var pointermax = Math.min(text1.length, text2.length);\n        var pointermid = pointermax;\n        var pointerstart = 0;\n\n        while (pointermin < pointermid) {\n          if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {\n            pointermin = pointermid;\n            pointerstart = pointermin;\n          } else {\n            pointermax = pointermid;\n          }\n\n          pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n        }\n\n        return pointermid;\n      }\n\n      ;\n      /**\r\n       * Determine the common suffix of two strings.\r\n       * @param {string} text1 First string.\r\n       * @param {string} text2 Second string.\r\n       * @return {number} The number of characters common to the end of each string.\r\n       */\n\n      function diff_commonSuffix(text1, text2) {\n        // Quick check for common null cases.\n        if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n          return 0;\n        } // Binary search.\n        // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n\n\n        var pointermin = 0;\n        var pointermax = Math.min(text1.length, text2.length);\n        var pointermid = pointermax;\n        var pointerend = 0;\n\n        while (pointermin < pointermid) {\n          if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n            pointermin = pointermid;\n            pointerend = pointermin;\n          } else {\n            pointermax = pointermid;\n          }\n\n          pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n        }\n\n        return pointermid;\n      }\n\n      ;\n      /**\r\n       * Do the two texts share a substring which is at least half the length of the\r\n       * longer text?\r\n       * This speedup can produce non-minimal diffs.\r\n       * @param {string} text1 First string.\r\n       * @param {string} text2 Second string.\r\n       * @return {Array.<string>} Five element Array, containing the prefix of\r\n       *     text1, the suffix of text1, the prefix of text2, the suffix of\r\n       *     text2 and the common middle.  Or null if there was no match.\r\n       */\n\n      function diff_halfMatch_(text1, text2) {\n        var longtext = text1.length > text2.length ? text1 : text2;\n        var shorttext = text1.length > text2.length ? text2 : text1;\n\n        if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n          return null; // Pointless.\n        }\n        /**\r\n         * Does a substring of shorttext exist within longtext such that the substring\r\n         * is at least half the length of longtext?\r\n         * Closure, but does not reference any external variables.\r\n         * @param {string} longtext Longer string.\r\n         * @param {string} shorttext Shorter string.\r\n         * @param {number} i Start index of quarter length substring within longtext.\r\n         * @return {Array.<string>} Five element Array, containing the prefix of\r\n         *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\r\n         *     of shorttext and the common middle.  Or null if there was no match.\r\n         * @private\r\n         */\n\n\n        function diff_halfMatchI_(longtext, shorttext, i) {\n          // Start with a 1/4 length substring at position i as a seed.\n          var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n          var j = -1;\n          var best_common = '';\n          var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n\n          while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n            var prefixLength = diff_commonPrefix(longtext.substring(i), shorttext.substring(j));\n            var suffixLength = diff_commonSuffix(longtext.substring(0, i), shorttext.substring(0, j));\n\n            if (best_common.length < suffixLength + prefixLength) {\n              best_common = shorttext.substring(j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n              best_longtext_a = longtext.substring(0, i - suffixLength);\n              best_longtext_b = longtext.substring(i + prefixLength);\n              best_shorttext_a = shorttext.substring(0, j - suffixLength);\n              best_shorttext_b = shorttext.substring(j + prefixLength);\n            }\n          }\n\n          if (best_common.length * 2 >= longtext.length) {\n            return [best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b, best_common];\n          } else {\n            return null;\n          }\n        } // First check if the second quarter is the seed for a half-match.\n\n\n        var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4)); // Check again based on the third quarter.\n\n        var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n        var hm;\n\n        if (!hm1 && !hm2) {\n          return null;\n        } else if (!hm2) {\n          hm = hm1;\n        } else if (!hm1) {\n          hm = hm2;\n        } else {\n          // Both matched.  Select the longest.\n          hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n        } // A half-match was found, sort out the return data.\n\n\n        var text1_a, text1_b, text2_a, text2_b;\n\n        if (text1.length > text2.length) {\n          text1_a = hm[0];\n          text1_b = hm[1];\n          text2_a = hm[2];\n          text2_b = hm[3];\n        } else {\n          text2_a = hm[0];\n          text2_b = hm[1];\n          text1_a = hm[2];\n          text1_b = hm[3];\n        }\n\n        var mid_common = hm[4];\n        return [text1_a, text1_b, text2_a, text2_b, mid_common];\n      }\n\n      ;\n      /**\r\n       * Reorder and merge like edit sections.  Merge equalities.\r\n       * Any edit section can move as long as it doesn't cross an equality.\r\n       * @param {Array} diffs Array of diff tuples.\r\n       */\n\n      function diff_cleanupMerge(diffs) {\n        diffs.push([DIFF_EQUAL, '']); // Add a dummy entry at the end.\n\n        var pointer = 0;\n        var count_delete = 0;\n        var count_insert = 0;\n        var text_delete = '';\n        var text_insert = '';\n        var commonlength;\n\n        while (pointer < diffs.length) {\n          switch (diffs[pointer][0]) {\n            case DIFF_INSERT:\n              count_insert++;\n              text_insert += diffs[pointer][1];\n              pointer++;\n              break;\n\n            case DIFF_DELETE:\n              count_delete++;\n              text_delete += diffs[pointer][1];\n              pointer++;\n              break;\n\n            case DIFF_EQUAL:\n              // Upon reaching an equality, check for prior redundancies.\n              if (count_delete + count_insert > 1) {\n                if (count_delete !== 0 && count_insert !== 0) {\n                  // Factor out any common prefixies.\n                  commonlength = diff_commonPrefix(text_insert, text_delete);\n\n                  if (commonlength !== 0) {\n                    if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {\n                      diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);\n                    } else {\n                      diffs.splice(0, 0, [DIFF_EQUAL, text_insert.substring(0, commonlength)]);\n                      pointer++;\n                    }\n\n                    text_insert = text_insert.substring(commonlength);\n                    text_delete = text_delete.substring(commonlength);\n                  } // Factor out any common suffixies.\n\n\n                  commonlength = diff_commonSuffix(text_insert, text_delete);\n\n                  if (commonlength !== 0) {\n                    diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n                    text_insert = text_insert.substring(0, text_insert.length - commonlength);\n                    text_delete = text_delete.substring(0, text_delete.length - commonlength);\n                  }\n                } // Delete the offending records and add the merged ones.\n\n\n                if (count_delete === 0) {\n                  diffs.splice(pointer - count_insert, count_delete + count_insert, [DIFF_INSERT, text_insert]);\n                } else if (count_insert === 0) {\n                  diffs.splice(pointer - count_delete, count_delete + count_insert, [DIFF_DELETE, text_delete]);\n                } else {\n                  diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert, [DIFF_DELETE, text_delete], [DIFF_INSERT, text_insert]);\n                }\n\n                pointer = pointer - count_delete - count_insert + (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n              } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n                // Merge this equality with the previous one.\n                diffs[pointer - 1][1] += diffs[pointer][1];\n                diffs.splice(pointer, 1);\n              } else {\n                pointer++;\n              }\n\n              count_insert = 0;\n              count_delete = 0;\n              text_delete = '';\n              text_insert = '';\n              break;\n          }\n        }\n\n        if (diffs[diffs.length - 1][1] === '') {\n          diffs.pop(); // Remove the dummy entry at the end.\n        } // Second pass: look for single edits surrounded on both sides by equalities\n        // which can be shifted sideways to eliminate an equality.\n        // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n\n\n        var changes = false;\n        pointer = 1; // Intentionally ignore the first and last element (don't need checking).\n\n        while (pointer < diffs.length - 1) {\n          if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n            // This is a single edit surrounded by equalities.\n            if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n              // Shift the edit over the previous equality.\n              diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);\n              diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n              diffs.splice(pointer - 1, 1);\n              changes = true;\n            } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {\n              // Shift the edit over the next equality.\n              diffs[pointer - 1][1] += diffs[pointer + 1][1];\n              diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];\n              diffs.splice(pointer + 1, 1);\n              changes = true;\n            }\n          }\n\n          pointer++;\n        } // If shifts were made, the diff needs reordering and another shift sweep.\n\n\n        if (changes) {\n          diff_cleanupMerge(diffs);\n        }\n      }\n\n      ;\n      var diff = diff_main;\n      diff.INSERT = DIFF_INSERT;\n      diff.DELETE = DIFF_DELETE;\n      diff.EQUAL = DIFF_EQUAL;\n      module.exports = diff;\n      /*\r\n       * Modify a diff such that the cursor position points to the start of a change:\r\n       * E.g.\r\n       *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\r\n       *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\r\n       *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\r\n       *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\r\n       *\r\n       * @param {Array} diffs Array of diff tuples\r\n       * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\r\n       * @return {Array} A tuple [cursor location in the modified diff, modified diff]\r\n       */\n\n      function cursor_normalize_diff(diffs, cursor_pos) {\n        if (cursor_pos === 0) {\n          return [DIFF_EQUAL, diffs];\n        }\n\n        for (var current_pos = 0, i = 0; i < diffs.length; i++) {\n          var d = diffs[i];\n\n          if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\n            var next_pos = current_pos + d[1].length;\n\n            if (cursor_pos === next_pos) {\n              return [i + 1, diffs];\n            } else if (cursor_pos < next_pos) {\n              // copy to prevent side effects\n              diffs = diffs.slice(); // split d into two diff changes\n\n              var split_pos = cursor_pos - current_pos;\n              var d_left = [d[0], d[1].slice(0, split_pos)];\n              var d_right = [d[0], d[1].slice(split_pos)];\n              diffs.splice(i, 1, d_left, d_right);\n              return [i + 1, diffs];\n            } else {\n              current_pos = next_pos;\n            }\n          }\n        }\n\n        throw new Error('cursor_pos is out of bounds!');\n      }\n      /*\r\n       * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\r\n       *\r\n       * Case 1)\r\n       *   Check if a naive shift is possible:\r\n       *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\r\n       *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\r\n       * Case 2)\r\n       *   Check if the following shifts are possible:\r\n       *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\r\n       *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\r\n       *         ^            ^\r\n       *         d          d_next\r\n       *\r\n       * @param {Array} diffs Array of diff tuples\r\n       * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\r\n       * @return {Array} Array of diff tuples\r\n       */\n\n\n      function fix_cursor(diffs, cursor_pos) {\n        var norm = cursor_normalize_diff(diffs, cursor_pos);\n        var ndiffs = norm[1];\n        var cursor_pointer = norm[0];\n        var d = ndiffs[cursor_pointer];\n        var d_next = ndiffs[cursor_pointer + 1];\n\n        if (d == null) {\n          // Text was deleted from end of original string,\n          // cursor is now out of bounds in new string\n          return diffs;\n        } else if (d[0] !== DIFF_EQUAL) {\n          // A modification happened at the cursor location.\n          // This is the expected outcome, so we can return the original diff.\n          return diffs;\n        } else {\n          if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\n            // Case 1)\n            // It is possible to perform a naive shift\n            ndiffs.splice(cursor_pointer, 2, d_next, d);\n            return merge_tuples(ndiffs, cursor_pointer, 2);\n          } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\n            // Case 2)\n            // d[1] is a prefix of d_next[1]\n            // We can assume that d_next[0] !== 0, since d[0] === 0\n            // Shift edit locations..\n            ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\n            var suffix = d_next[1].slice(d[1].length);\n\n            if (suffix.length > 0) {\n              ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\n            }\n\n            return merge_tuples(ndiffs, cursor_pointer, 3);\n          } else {\n            // Not possible to perform any modification\n            return diffs;\n          }\n        }\n      }\n      /*\r\n       * Check diff did not split surrogate pairs.\r\n       * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\r\n       *     '\\uD83D\\uDC36' === '', '\\uD83D\\uDC2F' === ''\r\n       *\r\n       * @param {Array} diffs Array of diff tuples\r\n       * @return {Array} Array of diff tuples\r\n       */\n\n\n      function fix_emoji(diffs) {\n        var compact = false;\n\n        var starts_with_pair_end = function starts_with_pair_end(str) {\n          return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\n        };\n\n        var ends_with_pair_start = function ends_with_pair_start(str) {\n          return str.charCodeAt(str.length - 1) >= 0xD800 && str.charCodeAt(str.length - 1) <= 0xDBFF;\n        };\n\n        for (var i = 2; i < diffs.length; i += 1) {\n          if (diffs[i - 2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i - 2][1]) && diffs[i - 1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i - 1][1]) && diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\n            compact = true;\n            diffs[i - 1][1] = diffs[i - 2][1].slice(-1) + diffs[i - 1][1];\n            diffs[i][1] = diffs[i - 2][1].slice(-1) + diffs[i][1];\n            diffs[i - 2][1] = diffs[i - 2][1].slice(0, -1);\n          }\n        }\n\n        if (!compact) {\n          return diffs;\n        }\n\n        var fixed_diffs = [];\n\n        for (var i = 0; i < diffs.length; i += 1) {\n          if (diffs[i][1].length > 0) {\n            fixed_diffs.push(diffs[i]);\n          }\n        }\n\n        return fixed_diffs;\n      }\n      /*\r\n       * Try to merge tuples with their neigbors in a given range.\r\n       * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\r\n       *\r\n       * @param {Array} diffs Array of diff tuples.\r\n       * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\r\n       * @param {Int} length Number of consecutive elements to check.\r\n       * @return {Array} Array of merged diff tuples.\r\n       */\n\n\n      function merge_tuples(diffs, start, length) {\n        // Check from (start-1) to (start+length).\n        for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\n          if (i + 1 < diffs.length) {\n            var left_d = diffs[i];\n            var right_d = diffs[i + 1];\n\n            if (left_d[0] === right_d[1]) {\n              diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\n            }\n          }\n        }\n\n        return diffs;\n      }\n      /***/\n\n    },\n    /* 52 */\n\n    /***/\n    function (module, exports) {\n      exports = module.exports = typeof Object.keys === 'function' ? Object.keys : shim;\n      exports.shim = shim;\n\n      function shim(obj) {\n        var keys = [];\n\n        for (var key in obj) {\n          keys.push(key);\n        }\n\n        return keys;\n      }\n      /***/\n\n    },\n    /* 53 */\n\n    /***/\n    function (module, exports) {\n      var supportsArgumentsClass = function () {\n        return Object.prototype.toString.call(arguments);\n      }() == '[object Arguments]';\n\n      exports = module.exports = supportsArgumentsClass ? supported : unsupported;\n      exports.supported = supported;\n\n      function supported(object) {\n        return Object.prototype.toString.call(object) == '[object Arguments]';\n      }\n\n      ;\n      exports.unsupported = unsupported;\n\n      function unsupported(object) {\n        return object && typeof object == 'object' && typeof object.length == 'number' && Object.prototype.hasOwnProperty.call(object, 'callee') && !Object.prototype.propertyIsEnumerable.call(object, 'callee') || false;\n      }\n\n      ;\n      /***/\n    },\n    /* 54 */\n\n    /***/\n    function (module, exports) {\n      'use strict';\n\n      var has = Object.prototype.hasOwnProperty,\n          prefix = '~';\n      /**\r\n       * Constructor to create a storage for our `EE` objects.\r\n       * An `Events` instance is a plain object whose properties are event names.\r\n       *\r\n       * @constructor\r\n       * @api private\r\n       */\n\n      function Events() {} //\n      // We try to not inherit from `Object.prototype`. In some engines creating an\n      // instance in this way is faster than calling `Object.create(null)` directly.\n      // If `Object.create(null)` is not supported we prefix the event names with a\n      // character to make sure that the built-in object properties are not\n      // overridden or used as an attack vector.\n      //\n\n\n      if (Object.create) {\n        Events.prototype = Object.create(null); //\n        // This hack is needed because the `__proto__` property is still inherited in\n        // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n        //\n\n        if (!new Events().__proto__) prefix = false;\n      }\n      /**\r\n       * Representation of a single event listener.\r\n       *\r\n       * @param {Function} fn The listener function.\r\n       * @param {Mixed} context The context to invoke the listener with.\r\n       * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\r\n       * @constructor\r\n       * @api private\r\n       */\n\n\n      function EE(fn, context, once) {\n        this.fn = fn;\n        this.context = context;\n        this.once = once || false;\n      }\n      /**\r\n       * Minimal `EventEmitter` interface that is molded against the Node.js\r\n       * `EventEmitter` interface.\r\n       *\r\n       * @constructor\r\n       * @api public\r\n       */\n\n\n      function EventEmitter() {\n        this._events = new Events();\n        this._eventsCount = 0;\n      }\n      /**\r\n       * Return an array listing the events for which the emitter has registered\r\n       * listeners.\r\n       *\r\n       * @returns {Array}\r\n       * @api public\r\n       */\n\n\n      EventEmitter.prototype.eventNames = function eventNames() {\n        var names = [],\n            events,\n            name;\n        if (this._eventsCount === 0) return names;\n\n        for (name in events = this._events) {\n          if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n        }\n\n        if (Object.getOwnPropertySymbols) {\n          return names.concat(Object.getOwnPropertySymbols(events));\n        }\n\n        return names;\n      };\n      /**\r\n       * Return the listeners registered for a given event.\r\n       *\r\n       * @param {String|Symbol} event The event name.\r\n       * @param {Boolean} exists Only check if there are listeners.\r\n       * @returns {Array|Boolean}\r\n       * @api public\r\n       */\n\n\n      EventEmitter.prototype.listeners = function listeners(event, exists) {\n        var evt = prefix ? prefix + event : event,\n            available = this._events[evt];\n        if (exists) return !!available;\n        if (!available) return [];\n        if (available.fn) return [available.fn];\n\n        for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n          ee[i] = available[i].fn;\n        }\n\n        return ee;\n      };\n      /**\r\n       * Calls each of the listeners registered for a given event.\r\n       *\r\n       * @param {String|Symbol} event The event name.\r\n       * @returns {Boolean} `true` if the event had listeners, else `false`.\r\n       * @api public\r\n       */\n\n\n      EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n        var evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) return false;\n        var listeners = this._events[evt],\n            len = arguments.length,\n            args,\n            i;\n\n        if (listeners.fn) {\n          if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n          switch (len) {\n            case 1:\n              return listeners.fn.call(listeners.context), true;\n\n            case 2:\n              return listeners.fn.call(listeners.context, a1), true;\n\n            case 3:\n              return listeners.fn.call(listeners.context, a1, a2), true;\n\n            case 4:\n              return listeners.fn.call(listeners.context, a1, a2, a3), true;\n\n            case 5:\n              return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n\n            case 6:\n              return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n          }\n\n          for (i = 1, args = new Array(len - 1); i < len; i++) {\n            args[i - 1] = arguments[i];\n          }\n\n          listeners.fn.apply(listeners.context, args);\n        } else {\n          var length = listeners.length,\n              j;\n\n          for (i = 0; i < length; i++) {\n            if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n            switch (len) {\n              case 1:\n                listeners[i].fn.call(listeners[i].context);\n                break;\n\n              case 2:\n                listeners[i].fn.call(listeners[i].context, a1);\n                break;\n\n              case 3:\n                listeners[i].fn.call(listeners[i].context, a1, a2);\n                break;\n\n              case 4:\n                listeners[i].fn.call(listeners[i].context, a1, a2, a3);\n                break;\n\n              default:\n                if (!args) for (j = 1, args = new Array(len - 1); j < len; j++) {\n                  args[j - 1] = arguments[j];\n                }\n                listeners[i].fn.apply(listeners[i].context, args);\n            }\n          }\n        }\n\n        return true;\n      };\n      /**\r\n       * Add a listener for a given event.\r\n       *\r\n       * @param {String|Symbol} event The event name.\r\n       * @param {Function} fn The listener function.\r\n       * @param {Mixed} [context=this] The context to invoke the listener with.\r\n       * @returns {EventEmitter} `this`.\r\n       * @api public\r\n       */\n\n\n      EventEmitter.prototype.on = function on(event, fn, context) {\n        var listener = new EE(fn, context || this),\n            evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;else if (!this._events[evt].fn) this._events[evt].push(listener);else this._events[evt] = [this._events[evt], listener];\n        return this;\n      };\n      /**\r\n       * Add a one-time listener for a given event.\r\n       *\r\n       * @param {String|Symbol} event The event name.\r\n       * @param {Function} fn The listener function.\r\n       * @param {Mixed} [context=this] The context to invoke the listener with.\r\n       * @returns {EventEmitter} `this`.\r\n       * @api public\r\n       */\n\n\n      EventEmitter.prototype.once = function once(event, fn, context) {\n        var listener = new EE(fn, context || this, true),\n            evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;else if (!this._events[evt].fn) this._events[evt].push(listener);else this._events[evt] = [this._events[evt], listener];\n        return this;\n      };\n      /**\r\n       * Remove the listeners of a given event.\r\n       *\r\n       * @param {String|Symbol} event The event name.\r\n       * @param {Function} fn Only remove the listeners that match this function.\r\n       * @param {Mixed} context Only remove the listeners that have this context.\r\n       * @param {Boolean} once Only remove one-time listeners.\r\n       * @returns {EventEmitter} `this`.\r\n       * @api public\r\n       */\n\n\n      EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n        var evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) return this;\n\n        if (!fn) {\n          if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n          return this;\n        }\n\n        var listeners = this._events[evt];\n\n        if (listeners.fn) {\n          if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {\n            if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n          }\n        } else {\n          for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n            if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {\n              events.push(listeners[i]);\n            }\n          } //\n          // Reset the array, or remove it completely if we have no more listeners.\n          //\n\n\n          if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;else if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n        }\n\n        return this;\n      };\n      /**\r\n       * Remove all listeners, or those of the specified event.\r\n       *\r\n       * @param {String|Symbol} [event] The event name.\r\n       * @returns {EventEmitter} `this`.\r\n       * @api public\r\n       */\n\n\n      EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n        var evt;\n\n        if (event) {\n          evt = prefix ? prefix + event : event;\n\n          if (this._events[evt]) {\n            if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n          }\n        } else {\n          this._events = new Events();\n          this._eventsCount = 0;\n        }\n\n        return this;\n      }; //\n      // Alias methods names because people roll like that.\n      //\n\n\n      EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n      EventEmitter.prototype.addListener = EventEmitter.prototype.on; //\n      // This function doesn't apply anymore.\n      //\n\n      EventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n        return this;\n      }; //\n      // Expose the prefix.\n      //\n\n\n      EventEmitter.prefixed = prefix; //\n      // Allow `EventEmitter` to be imported as module namespace.\n      //\n\n      EventEmitter.EventEmitter = EventEmitter; //\n      // Expose the module.\n      //\n\n      if ('undefined' !== typeof module) {\n        module.exports = EventEmitter;\n      }\n      /***/\n\n    },\n    /* 55 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _extend2 = __webpack_require__(3);\n\n      var _extend3 = _interopRequireDefault(_extend2);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      var _align = __webpack_require__(36);\n\n      var _background = __webpack_require__(37);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _color = __webpack_require__(26);\n\n      var _direction = __webpack_require__(38);\n\n      var _font = __webpack_require__(39);\n\n      var _size = __webpack_require__(40);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:clipboard');\n      var DOM_KEY = '__ql-matcher';\n      var CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\n      var ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\n        memo[attr.keyName] = attr;\n        return memo;\n      }, {});\n      var STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\n        memo[attr.keyName] = attr;\n        return memo;\n      }, {});\n\n      var Clipboard = function (_Module) {\n        _inherits(Clipboard, _Module);\n\n        function Clipboard(quill, options) {\n          _classCallCheck(this, Clipboard);\n\n          var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\n\n          _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\n\n          _this.container = _this.quill.addContainer('ql-clipboard');\n\n          _this.container.setAttribute('contenteditable', true);\n\n          _this.container.setAttribute('tabindex', -1);\n\n          _this.matchers = [];\n          CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n                selector = _ref2[0],\n                matcher = _ref2[1];\n\n            if (!options.matchVisual && matcher === matchSpacing) return;\n\n            _this.addMatcher(selector, matcher);\n          });\n          return _this;\n        }\n\n        _createClass(Clipboard, [{\n          key: 'addMatcher',\n          value: function addMatcher(selector, matcher) {\n            this.matchers.push([selector, matcher]);\n          }\n        }, {\n          key: 'convert',\n          value: function convert(html) {\n            if (typeof html === 'string') {\n              this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\n\n              return this.convert();\n            }\n\n            var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\n\n            if (formats[_code2.default.blotName]) {\n              var text = this.container.innerText;\n              this.container.innerHTML = '';\n              return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\n            }\n\n            var _prepareMatching = this.prepareMatching(),\n                _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\n                elementMatchers = _prepareMatching2[0],\n                textMatchers = _prepareMatching2[1];\n\n            var delta = traverse(this.container, elementMatchers, textMatchers); // Remove trailing newline\n\n            if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\n              delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\n            }\n\n            debug.log('convert', this.container.innerHTML, delta);\n            this.container.innerHTML = '';\n            return delta;\n          }\n        }, {\n          key: 'dangerouslyPasteHTML',\n          value: function dangerouslyPasteHTML(index, html) {\n            var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\n\n            if (typeof index === 'string') {\n              this.quill.setContents(this.convert(index), html);\n              this.quill.setSelection(0, _quill2.default.sources.SILENT);\n            } else {\n              var paste = this.convert(html);\n              this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\n              this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\n            }\n          }\n        }, {\n          key: 'onPaste',\n          value: function onPaste(e) {\n            var _this2 = this;\n\n            if (e.defaultPrevented || !this.quill.isEnabled()) return;\n            var range = this.quill.getSelection();\n            var delta = new _quillDelta2.default().retain(range.index);\n            var scrollTop = this.quill.scrollingContainer.scrollTop;\n            this.container.focus();\n            this.quill.selection.update(_quill2.default.sources.SILENT);\n            setTimeout(function () {\n              delta = delta.concat(_this2.convert()).delete(range.length);\n\n              _this2.quill.updateContents(delta, _quill2.default.sources.USER); // range.length contributes to delta.length()\n\n\n              _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\n\n              _this2.quill.scrollingContainer.scrollTop = scrollTop;\n\n              _this2.quill.focus();\n            }, 1);\n          }\n        }, {\n          key: 'prepareMatching',\n          value: function prepareMatching() {\n            var _this3 = this;\n\n            var elementMatchers = [],\n                textMatchers = [];\n            this.matchers.forEach(function (pair) {\n              var _pair = _slicedToArray(pair, 2),\n                  selector = _pair[0],\n                  matcher = _pair[1];\n\n              switch (selector) {\n                case Node.TEXT_NODE:\n                  textMatchers.push(matcher);\n                  break;\n\n                case Node.ELEMENT_NODE:\n                  elementMatchers.push(matcher);\n                  break;\n\n                default:\n                  [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\n                    // TODO use weakmap\n                    node[DOM_KEY] = node[DOM_KEY] || [];\n                    node[DOM_KEY].push(matcher);\n                  });\n                  break;\n              }\n            });\n            return [elementMatchers, textMatchers];\n          }\n        }]);\n\n        return Clipboard;\n      }(_module2.default);\n\n      Clipboard.DEFAULTS = {\n        matchers: [],\n        matchVisual: true\n      };\n\n      function applyFormat(delta, format, value) {\n        if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\n          return Object.keys(format).reduce(function (delta, key) {\n            return applyFormat(delta, key, format[key]);\n          }, delta);\n        } else {\n          return delta.reduce(function (delta, op) {\n            if (op.attributes && op.attributes[format]) {\n              return delta.push(op);\n            } else {\n              return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\n            }\n          }, new _quillDelta2.default());\n        }\n      }\n\n      function computeStyle(node) {\n        if (node.nodeType !== Node.ELEMENT_NODE) return {};\n        var DOM_KEY = '__ql-computed-style';\n        return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\n      }\n\n      function deltaEndsWith(delta, text) {\n        var endText = \"\";\n\n        for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\n          var op = delta.ops[i];\n          if (typeof op.insert !== 'string') break;\n          endText = op.insert + endText;\n        }\n\n        return endText.slice(-1 * text.length) === text;\n      }\n\n      function isLine(node) {\n        if (node.childNodes.length === 0) return false; // Exclude embed blocks\n\n        var style = computeStyle(node);\n        return ['block', 'list-item'].indexOf(style.display) > -1;\n      }\n\n      function traverse(node, elementMatchers, textMatchers) {\n        // Post-order\n        if (node.nodeType === node.TEXT_NODE) {\n          return textMatchers.reduce(function (delta, matcher) {\n            return matcher(node, delta);\n          }, new _quillDelta2.default());\n        } else if (node.nodeType === node.ELEMENT_NODE) {\n          return [].reduce.call(node.childNodes || [], function (delta, childNode) {\n            var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\n\n            if (childNode.nodeType === node.ELEMENT_NODE) {\n              childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\n                return matcher(childNode, childrenDelta);\n              }, childrenDelta);\n              childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\n                return matcher(childNode, childrenDelta);\n              }, childrenDelta);\n            }\n\n            return delta.concat(childrenDelta);\n          }, new _quillDelta2.default());\n        } else {\n          return new _quillDelta2.default();\n        }\n      }\n\n      function matchAlias(format, node, delta) {\n        return applyFormat(delta, format, true);\n      }\n\n      function matchAttributor(node, delta) {\n        var attributes = _parchment2.default.Attributor.Attribute.keys(node);\n\n        var classes = _parchment2.default.Attributor.Class.keys(node);\n\n        var styles = _parchment2.default.Attributor.Style.keys(node);\n\n        var formats = {};\n        attributes.concat(classes).concat(styles).forEach(function (name) {\n          var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\n\n          if (attr != null) {\n            formats[attr.attrName] = attr.value(node);\n            if (formats[attr.attrName]) return;\n          }\n\n          attr = ATTRIBUTE_ATTRIBUTORS[name];\n\n          if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n            formats[attr.attrName] = attr.value(node) || undefined;\n          }\n\n          attr = STYLE_ATTRIBUTORS[name];\n\n          if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n            attr = STYLE_ATTRIBUTORS[name];\n            formats[attr.attrName] = attr.value(node) || undefined;\n          }\n        });\n\n        if (Object.keys(formats).length > 0) {\n          delta = applyFormat(delta, formats);\n        }\n\n        return delta;\n      }\n\n      function matchBlot(node, delta) {\n        var match = _parchment2.default.query(node);\n\n        if (match == null) return delta;\n\n        if (match.prototype instanceof _parchment2.default.Embed) {\n          var embed = {};\n          var value = match.value(node);\n\n          if (value != null) {\n            embed[match.blotName] = value;\n            delta = new _quillDelta2.default().insert(embed, match.formats(node));\n          }\n        } else if (typeof match.formats === 'function') {\n          delta = applyFormat(delta, match.blotName, match.formats(node));\n        }\n\n        return delta;\n      }\n\n      function matchBreak(node, delta) {\n        if (!deltaEndsWith(delta, '\\n')) {\n          delta.insert('\\n');\n        }\n\n        return delta;\n      }\n\n      function matchIgnore() {\n        return new _quillDelta2.default();\n      }\n\n      function matchIndent(node, delta) {\n        var match = _parchment2.default.query(node);\n\n        if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\n          return delta;\n        }\n\n        var indent = -1,\n            parent = node.parentNode;\n\n        while (!parent.classList.contains('ql-clipboard')) {\n          if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\n            indent += 1;\n          }\n\n          parent = parent.parentNode;\n        }\n\n        if (indent <= 0) return delta;\n        return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, {\n          indent: indent\n        }));\n      }\n\n      function matchNewline(node, delta) {\n        if (!deltaEndsWith(delta, '\\n')) {\n          if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\n            delta.insert('\\n');\n          }\n        }\n\n        return delta;\n      }\n\n      function matchSpacing(node, delta) {\n        if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\n          var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\n\n          if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\n            delta.insert('\\n');\n          }\n        }\n\n        return delta;\n      }\n\n      function matchStyles(node, delta) {\n        var formats = {};\n        var style = node.style || {};\n\n        if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\n          formats.italic = true;\n        }\n\n        if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\n          formats.bold = true;\n        }\n\n        if (Object.keys(formats).length > 0) {\n          delta = applyFormat(delta, formats);\n        }\n\n        if (parseFloat(style.textIndent || 0) > 0) {\n          // Could be 0.5in\n          delta = new _quillDelta2.default().insert('\\t').concat(delta);\n        }\n\n        return delta;\n      }\n\n      function matchText(node, delta) {\n        var text = node.data; // Word represents empty line with <o:p>&nbsp;</o:p>\n\n        if (node.parentNode.tagName === 'O:P') {\n          return delta.insert(text.trim());\n        }\n\n        if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\n          return delta;\n        }\n\n        if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\n          // eslint-disable-next-line func-style\n          var replacer = function replacer(collapse, match) {\n            match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n\n            return match.length < 1 && collapse ? ' ' : match;\n          };\n\n          text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n          text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n\n          if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n            text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n          }\n\n          if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n            text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n          }\n        }\n\n        return delta.insert(text);\n      }\n\n      exports.default = Clipboard;\n      exports.matchAttributor = matchAttributor;\n      exports.matchBlot = matchBlot;\n      exports.matchNewline = matchNewline;\n      exports.matchSpacing = matchSpacing;\n      exports.matchText = matchText;\n      /***/\n    },\n    /* 56 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Bold = function (_Inline) {\n        _inherits(Bold, _Inline);\n\n        function Bold() {\n          _classCallCheck(this, Bold);\n\n          return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\n        }\n\n        _createClass(Bold, [{\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\n\n            if (this.domNode.tagName !== this.statics.tagName[0]) {\n              this.replaceWith(this.statics.blotName);\n            }\n          }\n        }], [{\n          key: 'create',\n          value: function create() {\n            return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\n          }\n        }, {\n          key: 'formats',\n          value: function formats() {\n            return true;\n          }\n        }]);\n\n        return Bold;\n      }(_inline2.default);\n\n      Bold.blotName = 'bold';\n      Bold.tagName = ['STRONG', 'B'];\n      exports.default = Bold;\n      /***/\n    },\n    /* 57 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.addControls = exports.default = undefined;\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:toolbar');\n\n      var Toolbar = function (_Module) {\n        _inherits(Toolbar, _Module);\n\n        function Toolbar(quill, options) {\n          _classCallCheck(this, Toolbar);\n\n          var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\n\n          if (Array.isArray(_this.options.container)) {\n            var container = document.createElement('div');\n            addControls(container, _this.options.container);\n            quill.container.parentNode.insertBefore(container, quill.container);\n            _this.container = container;\n          } else if (typeof _this.options.container === 'string') {\n            _this.container = document.querySelector(_this.options.container);\n          } else {\n            _this.container = _this.options.container;\n          }\n\n          if (!(_this.container instanceof HTMLElement)) {\n            var _ret;\n\n            return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\n          }\n\n          _this.container.classList.add('ql-toolbar');\n\n          _this.controls = [];\n          _this.handlers = {};\n          Object.keys(_this.options.handlers).forEach(function (format) {\n            _this.addHandler(format, _this.options.handlers[format]);\n          });\n          [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\n            _this.attach(input);\n          });\n\n          _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\n            if (type === _quill2.default.events.SELECTION_CHANGE) {\n              _this.update(range);\n            }\n          });\n\n          _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n            var _this$quill$selection = _this.quill.selection.getRange(),\n                _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\n                range = _this$quill$selection2[0]; // quill.getSelection triggers update\n\n\n            _this.update(range);\n          });\n\n          return _this;\n        }\n\n        _createClass(Toolbar, [{\n          key: 'addHandler',\n          value: function addHandler(format, handler) {\n            this.handlers[format] = handler;\n          }\n        }, {\n          key: 'attach',\n          value: function attach(input) {\n            var _this2 = this;\n\n            var format = [].find.call(input.classList, function (className) {\n              return className.indexOf('ql-') === 0;\n            });\n            if (!format) return;\n            format = format.slice('ql-'.length);\n\n            if (input.tagName === 'BUTTON') {\n              input.setAttribute('type', 'button');\n            }\n\n            if (this.handlers[format] == null) {\n              if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\n                debug.warn('ignoring attaching to disabled format', format, input);\n                return;\n              }\n\n              if (_parchment2.default.query(format) == null) {\n                debug.warn('ignoring attaching to nonexistent format', format, input);\n                return;\n              }\n            }\n\n            var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n            input.addEventListener(eventName, function (e) {\n              var value = void 0;\n\n              if (input.tagName === 'SELECT') {\n                if (input.selectedIndex < 0) return;\n                var selected = input.options[input.selectedIndex];\n\n                if (selected.hasAttribute('selected')) {\n                  value = false;\n                } else {\n                  value = selected.value || false;\n                }\n              } else {\n                if (input.classList.contains('ql-active')) {\n                  value = false;\n                } else {\n                  value = input.value || !input.hasAttribute('value');\n                }\n\n                e.preventDefault();\n              }\n\n              _this2.quill.focus();\n\n              var _quill$selection$getR = _this2.quill.selection.getRange(),\n                  _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\n                  range = _quill$selection$getR2[0];\n\n              if (_this2.handlers[format] != null) {\n                _this2.handlers[format].call(_this2, value);\n              } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\n                value = prompt('Enter ' + format);\n                if (!value) return;\n\n                _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\n              } else {\n                _this2.quill.format(format, value, _quill2.default.sources.USER);\n              }\n\n              _this2.update(range);\n            }); // TODO use weakmap\n\n            this.controls.push([format, input]);\n          }\n        }, {\n          key: 'update',\n          value: function update(range) {\n            var formats = range == null ? {} : this.quill.getFormat(range);\n            this.controls.forEach(function (pair) {\n              var _pair = _slicedToArray(pair, 2),\n                  format = _pair[0],\n                  input = _pair[1];\n\n              if (input.tagName === 'SELECT') {\n                var option = void 0;\n\n                if (range == null) {\n                  option = null;\n                } else if (formats[format] == null) {\n                  option = input.querySelector('option[selected]');\n                } else if (!Array.isArray(formats[format])) {\n                  var value = formats[format];\n\n                  if (typeof value === 'string') {\n                    value = value.replace(/\\\"/g, '\\\\\"');\n                  }\n\n                  option = input.querySelector('option[value=\"' + value + '\"]');\n                }\n\n                if (option == null) {\n                  input.value = ''; // TODO make configurable?\n\n                  input.selectedIndex = -1;\n                } else {\n                  option.selected = true;\n                }\n              } else {\n                if (range == null) {\n                  input.classList.remove('ql-active');\n                } else if (input.hasAttribute('value')) {\n                  // both being null should match (default values)\n                  // '1' should match with 1 (headers)\n                  var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n                  input.classList.toggle('ql-active', isActive);\n                } else {\n                  input.classList.toggle('ql-active', formats[format] != null);\n                }\n              }\n            });\n          }\n        }]);\n\n        return Toolbar;\n      }(_module2.default);\n\n      Toolbar.DEFAULTS = {};\n\n      function addButton(container, format, value) {\n        var input = document.createElement('button');\n        input.setAttribute('type', 'button');\n        input.classList.add('ql-' + format);\n\n        if (value != null) {\n          input.value = value;\n        }\n\n        container.appendChild(input);\n      }\n\n      function addControls(container, groups) {\n        if (!Array.isArray(groups[0])) {\n          groups = [groups];\n        }\n\n        groups.forEach(function (controls) {\n          var group = document.createElement('span');\n          group.classList.add('ql-formats');\n          controls.forEach(function (control) {\n            if (typeof control === 'string') {\n              addButton(group, control);\n            } else {\n              var format = Object.keys(control)[0];\n              var value = control[format];\n\n              if (Array.isArray(value)) {\n                addSelect(group, format, value);\n              } else {\n                addButton(group, format, value);\n              }\n            }\n          });\n          container.appendChild(group);\n        });\n      }\n\n      function addSelect(container, format, values) {\n        var input = document.createElement('select');\n        input.classList.add('ql-' + format);\n        values.forEach(function (value) {\n          var option = document.createElement('option');\n\n          if (value !== false) {\n            option.setAttribute('value', value);\n          } else {\n            option.setAttribute('selected', 'selected');\n          }\n\n          input.appendChild(option);\n        });\n        container.appendChild(input);\n      }\n\n      Toolbar.DEFAULTS = {\n        container: null,\n        handlers: {\n          clean: function clean() {\n            var _this3 = this;\n\n            var range = this.quill.getSelection();\n            if (range == null) return;\n\n            if (range.length == 0) {\n              var formats = this.quill.getFormat();\n              Object.keys(formats).forEach(function (name) {\n                // Clean functionality in existing apps only clean inline formats\n                if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\n                  _this3.quill.format(name, false);\n                }\n              });\n            } else {\n              this.quill.removeFormat(range, _quill2.default.sources.USER);\n            }\n          },\n          direction: function direction(value) {\n            var align = this.quill.getFormat()['align'];\n\n            if (value === 'rtl' && align == null) {\n              this.quill.format('align', 'right', _quill2.default.sources.USER);\n            } else if (!value && align === 'right') {\n              this.quill.format('align', false, _quill2.default.sources.USER);\n            }\n\n            this.quill.format('direction', value, _quill2.default.sources.USER);\n          },\n          indent: function indent(value) {\n            var range = this.quill.getSelection();\n            var formats = this.quill.getFormat(range);\n            var indent = parseInt(formats.indent || 0);\n\n            if (value === '+1' || value === '-1') {\n              var modifier = value === '+1' ? 1 : -1;\n              if (formats.direction === 'rtl') modifier *= -1;\n              this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\n            }\n          },\n          link: function link(value) {\n            if (value === true) {\n              value = prompt('Enter link URL:');\n            }\n\n            this.quill.format('link', value, _quill2.default.sources.USER);\n          },\n          list: function list(value) {\n            var range = this.quill.getSelection();\n            var formats = this.quill.getFormat(range);\n\n            if (value === 'check') {\n              if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\n                this.quill.format('list', false, _quill2.default.sources.USER);\n              } else {\n                this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\n              }\n            } else {\n              this.quill.format('list', value, _quill2.default.sources.USER);\n            }\n          }\n        }\n      };\n      exports.default = Toolbar;\n      exports.addControls = addControls;\n      /***/\n    },\n    /* 58 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n      /***/\n    },\n    /* 59 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ColorPicker = function (_Picker) {\n        _inherits(ColorPicker, _Picker);\n\n        function ColorPicker(select, label) {\n          _classCallCheck(this, ColorPicker);\n\n          var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\n\n          _this.label.innerHTML = label;\n\n          _this.container.classList.add('ql-color-picker');\n\n          [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\n            item.classList.add('ql-primary');\n          });\n          return _this;\n        }\n\n        _createClass(ColorPicker, [{\n          key: 'buildItem',\n          value: function buildItem(option) {\n            var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\n\n            item.style.backgroundColor = option.getAttribute('value') || '';\n            return item;\n          }\n        }, {\n          key: 'selectItem',\n          value: function selectItem(item, trigger) {\n            _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\n\n            var colorLabel = this.label.querySelector('.ql-color-label');\n            var value = item ? item.getAttribute('data-value') || '' : '';\n\n            if (colorLabel) {\n              if (colorLabel.tagName === 'line') {\n                colorLabel.style.stroke = value;\n              } else {\n                colorLabel.style.fill = value;\n              }\n            }\n          }\n        }]);\n\n        return ColorPicker;\n      }(_picker2.default);\n\n      exports.default = ColorPicker;\n      /***/\n    },\n    /* 60 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var IconPicker = function (_Picker) {\n        _inherits(IconPicker, _Picker);\n\n        function IconPicker(select, icons) {\n          _classCallCheck(this, IconPicker);\n\n          var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\n\n          _this.container.classList.add('ql-icon-picker');\n\n          [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\n            item.innerHTML = icons[item.getAttribute('data-value') || ''];\n          });\n          _this.defaultItem = _this.container.querySelector('.ql-selected');\n\n          _this.selectItem(_this.defaultItem);\n\n          return _this;\n        }\n\n        _createClass(IconPicker, [{\n          key: 'selectItem',\n          value: function selectItem(item, trigger) {\n            _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\n\n            item = item || this.defaultItem;\n            this.label.innerHTML = item.innerHTML;\n          }\n        }]);\n\n        return IconPicker;\n      }(_picker2.default);\n\n      exports.default = IconPicker;\n      /***/\n    },\n    /* 61 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var Tooltip = function () {\n        function Tooltip(quill, boundsContainer) {\n          var _this = this;\n\n          _classCallCheck(this, Tooltip);\n\n          this.quill = quill;\n          this.boundsContainer = boundsContainer || document.body;\n          this.root = quill.addContainer('ql-tooltip');\n          this.root.innerHTML = this.constructor.TEMPLATE;\n\n          if (this.quill.root === this.quill.scrollingContainer) {\n            this.quill.root.addEventListener('scroll', function () {\n              _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\n            });\n          }\n\n          this.hide();\n        }\n\n        _createClass(Tooltip, [{\n          key: 'hide',\n          value: function hide() {\n            this.root.classList.add('ql-hidden');\n          }\n        }, {\n          key: 'position',\n          value: function position(reference) {\n            var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2; // root.scrollTop should be 0 if scrollContainer !== root\n\n            var top = reference.bottom + this.quill.root.scrollTop;\n            this.root.style.left = left + 'px';\n            this.root.style.top = top + 'px';\n            this.root.classList.remove('ql-flip');\n            var containerBounds = this.boundsContainer.getBoundingClientRect();\n            var rootBounds = this.root.getBoundingClientRect();\n            var shift = 0;\n\n            if (rootBounds.right > containerBounds.right) {\n              shift = containerBounds.right - rootBounds.right;\n              this.root.style.left = left + shift + 'px';\n            }\n\n            if (rootBounds.left < containerBounds.left) {\n              shift = containerBounds.left - rootBounds.left;\n              this.root.style.left = left + shift + 'px';\n            }\n\n            if (rootBounds.bottom > containerBounds.bottom) {\n              var height = rootBounds.bottom - rootBounds.top;\n              var verticalShift = reference.bottom - reference.top + height;\n              this.root.style.top = top - verticalShift + 'px';\n              this.root.classList.add('ql-flip');\n            }\n\n            return shift;\n          }\n        }, {\n          key: 'show',\n          value: function show() {\n            this.root.classList.remove('ql-editing');\n            this.root.classList.remove('ql-hidden');\n          }\n        }]);\n\n        return Tooltip;\n      }();\n\n      exports.default = Tooltip;\n      /***/\n    },\n    /* 62 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _base = __webpack_require__(43);\n\n      var _base2 = _interopRequireDefault(_base);\n\n      var _link = __webpack_require__(27);\n\n      var _link2 = _interopRequireDefault(_link);\n\n      var _selection = __webpack_require__(15);\n\n      var _icons = __webpack_require__(41);\n\n      var _icons2 = _interopRequireDefault(_icons);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var TOOLBAR_CONFIG = [[{\n        header: ['1', '2', '3', false]\n      }], ['bold', 'italic', 'underline', 'link'], [{\n        list: 'ordered'\n      }, {\n        list: 'bullet'\n      }], ['clean']];\n\n      var SnowTheme = function (_BaseTheme) {\n        _inherits(SnowTheme, _BaseTheme);\n\n        function SnowTheme(quill, options) {\n          _classCallCheck(this, SnowTheme);\n\n          if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n            options.modules.toolbar.container = TOOLBAR_CONFIG;\n          }\n\n          var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\n\n          _this.quill.container.classList.add('ql-snow');\n\n          return _this;\n        }\n\n        _createClass(SnowTheme, [{\n          key: 'extendToolbar',\n          value: function extendToolbar(toolbar) {\n            toolbar.container.classList.add('ql-snow');\n            this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n            this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n            this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n\n            if (toolbar.container.querySelector('.ql-link')) {\n              this.quill.keyboard.addBinding({\n                key: 'K',\n                shortKey: true\n              }, function (range, context) {\n                toolbar.handlers['link'].call(toolbar, !context.format.link);\n              });\n            }\n          }\n        }]);\n\n        return SnowTheme;\n      }(_base2.default);\n\n      SnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              link: function link(value) {\n                if (value) {\n                  var range = this.quill.getSelection();\n                  if (range == null || range.length == 0) return;\n                  var preview = this.quill.getText(range);\n\n                  if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n                    preview = 'mailto:' + preview;\n                  }\n\n                  var tooltip = this.quill.theme.tooltip;\n                  tooltip.edit('link', preview);\n                } else {\n                  this.quill.format('link', false);\n                }\n              }\n            }\n          }\n        }\n      });\n\n      var SnowTooltip = function (_BaseTooltip) {\n        _inherits(SnowTooltip, _BaseTooltip);\n\n        function SnowTooltip(quill, bounds) {\n          _classCallCheck(this, SnowTooltip);\n\n          var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\n\n          _this2.preview = _this2.root.querySelector('a.ql-preview');\n          return _this2;\n        }\n\n        _createClass(SnowTooltip, [{\n          key: 'listen',\n          value: function listen() {\n            var _this3 = this;\n\n            _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\n\n            this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\n              if (_this3.root.classList.contains('ql-editing')) {\n                _this3.save();\n              } else {\n                _this3.edit('link', _this3.preview.textContent);\n              }\n\n              event.preventDefault();\n            });\n            this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\n              if (_this3.linkRange != null) {\n                var range = _this3.linkRange;\n\n                _this3.restoreFocus();\n\n                _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\n\n                delete _this3.linkRange;\n              }\n\n              event.preventDefault();\n\n              _this3.hide();\n            });\n            this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\n              if (range == null) return;\n\n              if (range.length === 0 && source === _emitter2.default.sources.USER) {\n                var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\n                    _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n                    link = _quill$scroll$descend2[0],\n                    offset = _quill$scroll$descend2[1];\n\n                if (link != null) {\n                  _this3.linkRange = new _selection.Range(range.index - offset, link.length());\n\n                  var preview = _link2.default.formats(link.domNode);\n\n                  _this3.preview.textContent = preview;\n\n                  _this3.preview.setAttribute('href', preview);\n\n                  _this3.show();\n\n                  _this3.position(_this3.quill.getBounds(_this3.linkRange));\n\n                  return;\n                }\n              } else {\n                delete _this3.linkRange;\n              }\n\n              _this3.hide();\n            });\n          }\n        }, {\n          key: 'show',\n          value: function show() {\n            _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\n\n            this.root.removeAttribute('data-mode');\n          }\n        }]);\n\n        return SnowTooltip;\n      }(_base.BaseTooltip);\n\n      SnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n      exports.default = SnowTheme;\n      /***/\n    },\n    /* 63 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _core = __webpack_require__(29);\n\n      var _core2 = _interopRequireDefault(_core);\n\n      var _align = __webpack_require__(36);\n\n      var _direction = __webpack_require__(38);\n\n      var _indent = __webpack_require__(64);\n\n      var _blockquote = __webpack_require__(65);\n\n      var _blockquote2 = _interopRequireDefault(_blockquote);\n\n      var _header = __webpack_require__(66);\n\n      var _header2 = _interopRequireDefault(_header);\n\n      var _list = __webpack_require__(67);\n\n      var _list2 = _interopRequireDefault(_list);\n\n      var _background = __webpack_require__(37);\n\n      var _color = __webpack_require__(26);\n\n      var _font = __webpack_require__(39);\n\n      var _size = __webpack_require__(40);\n\n      var _bold = __webpack_require__(56);\n\n      var _bold2 = _interopRequireDefault(_bold);\n\n      var _italic = __webpack_require__(68);\n\n      var _italic2 = _interopRequireDefault(_italic);\n\n      var _link = __webpack_require__(27);\n\n      var _link2 = _interopRequireDefault(_link);\n\n      var _script = __webpack_require__(69);\n\n      var _script2 = _interopRequireDefault(_script);\n\n      var _strike = __webpack_require__(70);\n\n      var _strike2 = _interopRequireDefault(_strike);\n\n      var _underline = __webpack_require__(71);\n\n      var _underline2 = _interopRequireDefault(_underline);\n\n      var _image = __webpack_require__(72);\n\n      var _image2 = _interopRequireDefault(_image);\n\n      var _video = __webpack_require__(73);\n\n      var _video2 = _interopRequireDefault(_video);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _formula = __webpack_require__(74);\n\n      var _formula2 = _interopRequireDefault(_formula);\n\n      var _syntax = __webpack_require__(75);\n\n      var _syntax2 = _interopRequireDefault(_syntax);\n\n      var _toolbar = __webpack_require__(57);\n\n      var _toolbar2 = _interopRequireDefault(_toolbar);\n\n      var _icons = __webpack_require__(41);\n\n      var _icons2 = _interopRequireDefault(_icons);\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      var _colorPicker = __webpack_require__(59);\n\n      var _colorPicker2 = _interopRequireDefault(_colorPicker);\n\n      var _iconPicker = __webpack_require__(60);\n\n      var _iconPicker2 = _interopRequireDefault(_iconPicker);\n\n      var _tooltip = __webpack_require__(61);\n\n      var _tooltip2 = _interopRequireDefault(_tooltip);\n\n      var _bubble = __webpack_require__(108);\n\n      var _bubble2 = _interopRequireDefault(_bubble);\n\n      var _snow = __webpack_require__(62);\n\n      var _snow2 = _interopRequireDefault(_snow);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      _core2.default.register({\n        'attributors/attribute/direction': _direction.DirectionAttribute,\n        'attributors/class/align': _align.AlignClass,\n        'attributors/class/background': _background.BackgroundClass,\n        'attributors/class/color': _color.ColorClass,\n        'attributors/class/direction': _direction.DirectionClass,\n        'attributors/class/font': _font.FontClass,\n        'attributors/class/size': _size.SizeClass,\n        'attributors/style/align': _align.AlignStyle,\n        'attributors/style/background': _background.BackgroundStyle,\n        'attributors/style/color': _color.ColorStyle,\n        'attributors/style/direction': _direction.DirectionStyle,\n        'attributors/style/font': _font.FontStyle,\n        'attributors/style/size': _size.SizeStyle\n      }, true);\n\n      _core2.default.register({\n        'formats/align': _align.AlignClass,\n        'formats/direction': _direction.DirectionClass,\n        'formats/indent': _indent.IndentClass,\n        'formats/background': _background.BackgroundStyle,\n        'formats/color': _color.ColorStyle,\n        'formats/font': _font.FontClass,\n        'formats/size': _size.SizeClass,\n        'formats/blockquote': _blockquote2.default,\n        'formats/code-block': _code2.default,\n        'formats/header': _header2.default,\n        'formats/list': _list2.default,\n        'formats/bold': _bold2.default,\n        'formats/code': _code.Code,\n        'formats/italic': _italic2.default,\n        'formats/link': _link2.default,\n        'formats/script': _script2.default,\n        'formats/strike': _strike2.default,\n        'formats/underline': _underline2.default,\n        'formats/image': _image2.default,\n        'formats/video': _video2.default,\n        'formats/list/item': _list.ListItem,\n        'modules/formula': _formula2.default,\n        'modules/syntax': _syntax2.default,\n        'modules/toolbar': _toolbar2.default,\n        'themes/bubble': _bubble2.default,\n        'themes/snow': _snow2.default,\n        'ui/icons': _icons2.default,\n        'ui/picker': _picker2.default,\n        'ui/icon-picker': _iconPicker2.default,\n        'ui/color-picker': _colorPicker2.default,\n        'ui/tooltip': _tooltip2.default\n      }, true);\n\n      exports.default = _core2.default;\n      /***/\n    },\n    /* 64 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.IndentClass = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var IdentAttributor = function (_Parchment$Attributor) {\n        _inherits(IdentAttributor, _Parchment$Attributor);\n\n        function IdentAttributor() {\n          _classCallCheck(this, IdentAttributor);\n\n          return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\n        }\n\n        _createClass(IdentAttributor, [{\n          key: 'add',\n          value: function add(node, value) {\n            if (value === '+1' || value === '-1') {\n              var indent = this.value(node) || 0;\n              value = value === '+1' ? indent + 1 : indent - 1;\n            }\n\n            if (value === 0) {\n              this.remove(node);\n              return true;\n            } else {\n              return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\n            }\n          }\n        }, {\n          key: 'canAdd',\n          value: function canAdd(node, value) {\n            return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\n          }\n        }, {\n          key: 'value',\n          value: function value(node) {\n            return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\n          }\n        }]);\n\n        return IdentAttributor;\n      }(_parchment2.default.Attributor.Class);\n\n      var IndentClass = new IdentAttributor('indent', 'ql-indent', {\n        scope: _parchment2.default.Scope.BLOCK,\n        whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n      });\n      exports.IndentClass = IndentClass;\n      /***/\n    },\n    /* 65 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Blockquote = function (_Block) {\n        _inherits(Blockquote, _Block);\n\n        function Blockquote() {\n          _classCallCheck(this, Blockquote);\n\n          return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\n        }\n\n        return Blockquote;\n      }(_block2.default);\n\n      Blockquote.blotName = 'blockquote';\n      Blockquote.tagName = 'blockquote';\n      exports.default = Blockquote;\n      /***/\n    },\n    /* 66 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Header = function (_Block) {\n        _inherits(Header, _Block);\n\n        function Header() {\n          _classCallCheck(this, Header);\n\n          return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n        }\n\n        _createClass(Header, null, [{\n          key: 'formats',\n          value: function formats(domNode) {\n            return this.tagName.indexOf(domNode.tagName) + 1;\n          }\n        }]);\n\n        return Header;\n      }(_block2.default);\n\n      Header.blotName = 'header';\n      Header.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n      exports.default = Header;\n      /***/\n    },\n    /* 67 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.ListItem = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _container = __webpack_require__(25);\n\n      var _container2 = _interopRequireDefault(_container);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ListItem = function (_Block) {\n        _inherits(ListItem, _Block);\n\n        function ListItem() {\n          _classCallCheck(this, ListItem);\n\n          return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\n        }\n\n        _createClass(ListItem, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (name === List.blotName && !value) {\n              this.replaceWith(_parchment2.default.create(this.statics.scope));\n            } else {\n              _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\n            }\n          }\n        }, {\n          key: 'remove',\n          value: function remove() {\n            if (this.prev == null && this.next == null) {\n              this.parent.remove();\n            } else {\n              _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\n            }\n          }\n        }, {\n          key: 'replaceWith',\n          value: function replaceWith(name, value) {\n            this.parent.isolate(this.offset(this.parent), this.length());\n\n            if (name === this.parent.statics.blotName) {\n              this.parent.replaceWith(name, value);\n              return this;\n            } else {\n              this.parent.unwrap();\n              return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\n            }\n          }\n        }], [{\n          key: 'formats',\n          value: function formats(domNode) {\n            return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\n          }\n        }]);\n\n        return ListItem;\n      }(_block2.default);\n\n      ListItem.blotName = 'list-item';\n      ListItem.tagName = 'LI';\n\n      var List = function (_Container) {\n        _inherits(List, _Container);\n\n        _createClass(List, null, [{\n          key: 'create',\n          value: function create(value) {\n            var tagName = value === 'ordered' ? 'OL' : 'UL';\n\n            var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\n\n            if (value === 'checked' || value === 'unchecked') {\n              node.setAttribute('data-checked', value === 'checked');\n            }\n\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            if (domNode.tagName === 'OL') return 'ordered';\n\n            if (domNode.tagName === 'UL') {\n              if (domNode.hasAttribute('data-checked')) {\n                return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\n              } else {\n                return 'bullet';\n              }\n            }\n\n            return undefined;\n          }\n        }]);\n\n        function List(domNode) {\n          _classCallCheck(this, List);\n\n          var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\n\n          var listEventHandler = function listEventHandler(e) {\n            if (e.target.parentNode !== domNode) return;\n\n            var format = _this2.statics.formats(domNode);\n\n            var blot = _parchment2.default.find(e.target);\n\n            if (format === 'checked') {\n              blot.format('list', 'unchecked');\n            } else if (format === 'unchecked') {\n              blot.format('list', 'checked');\n            }\n          };\n\n          domNode.addEventListener('touchstart', listEventHandler);\n          domNode.addEventListener('mousedown', listEventHandler);\n          return _this2;\n        }\n\n        _createClass(List, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (this.children.length > 0) {\n              this.children.tail.format(name, value);\n            }\n          }\n        }, {\n          key: 'formats',\n          value: function formats() {\n            // We don't inherit from FormatBlot\n            return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\n          }\n        }, {\n          key: 'insertBefore',\n          value: function insertBefore(blot, ref) {\n            if (blot instanceof ListItem) {\n              _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\n            } else {\n              var index = ref == null ? this.length() : ref.offset(this);\n              var after = this.split(index);\n              after.parent.insertBefore(blot, after);\n            }\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\n\n            var next = this.next;\n\n            if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\n              next.moveChildren(this);\n              next.remove();\n            }\n          }\n        }, {\n          key: 'replace',\n          value: function replace(target) {\n            if (target.statics.blotName !== this.statics.blotName) {\n              var item = _parchment2.default.create(this.statics.defaultChild);\n\n              target.moveChildren(item);\n              this.appendChild(item);\n            }\n\n            _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\n          }\n        }]);\n\n        return List;\n      }(_container2.default);\n\n      List.blotName = 'list';\n      List.scope = _parchment2.default.Scope.BLOCK_BLOT;\n      List.tagName = ['OL', 'UL'];\n      List.defaultChild = 'list-item';\n      List.allowedChildren = [ListItem];\n      exports.ListItem = ListItem;\n      exports.default = List;\n      /***/\n    },\n    /* 68 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _bold = __webpack_require__(56);\n\n      var _bold2 = _interopRequireDefault(_bold);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Italic = function (_Bold) {\n        _inherits(Italic, _Bold);\n\n        function Italic() {\n          _classCallCheck(this, Italic);\n\n          return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\n        }\n\n        return Italic;\n      }(_bold2.default);\n\n      Italic.blotName = 'italic';\n      Italic.tagName = ['EM', 'I'];\n      exports.default = Italic;\n      /***/\n    },\n    /* 69 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Script = function (_Inline) {\n        _inherits(Script, _Inline);\n\n        function Script() {\n          _classCallCheck(this, Script);\n\n          return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\n        }\n\n        _createClass(Script, null, [{\n          key: 'create',\n          value: function create(value) {\n            if (value === 'super') {\n              return document.createElement('sup');\n            } else if (value === 'sub') {\n              return document.createElement('sub');\n            } else {\n              return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\n            }\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            if (domNode.tagName === 'SUB') return 'sub';\n            if (domNode.tagName === 'SUP') return 'super';\n            return undefined;\n          }\n        }]);\n\n        return Script;\n      }(_inline2.default);\n\n      Script.blotName = 'script';\n      Script.tagName = ['SUB', 'SUP'];\n      exports.default = Script;\n      /***/\n    },\n    /* 70 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Strike = function (_Inline) {\n        _inherits(Strike, _Inline);\n\n        function Strike() {\n          _classCallCheck(this, Strike);\n\n          return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\n        }\n\n        return Strike;\n      }(_inline2.default);\n\n      Strike.blotName = 'strike';\n      Strike.tagName = 'S';\n      exports.default = Strike;\n      /***/\n    },\n    /* 71 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Underline = function (_Inline) {\n        _inherits(Underline, _Inline);\n\n        function Underline() {\n          _classCallCheck(this, Underline);\n\n          return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\n        }\n\n        return Underline;\n      }(_inline2.default);\n\n      Underline.blotName = 'underline';\n      Underline.tagName = 'U';\n      exports.default = Underline;\n      /***/\n    },\n    /* 72 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _link = __webpack_require__(27);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ATTRIBUTES = ['alt', 'height', 'width'];\n\n      var Image = function (_Parchment$Embed) {\n        _inherits(Image, _Parchment$Embed);\n\n        function Image() {\n          _classCallCheck(this, Image);\n\n          return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n        }\n\n        _createClass(Image, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (ATTRIBUTES.indexOf(name) > -1) {\n              if (value) {\n                this.domNode.setAttribute(name, value);\n              } else {\n                this.domNode.removeAttribute(name);\n              }\n            } else {\n              _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\n            }\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\n\n            if (typeof value === 'string') {\n              node.setAttribute('src', this.sanitize(value));\n            }\n\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            return ATTRIBUTES.reduce(function (formats, attribute) {\n              if (domNode.hasAttribute(attribute)) {\n                formats[attribute] = domNode.getAttribute(attribute);\n              }\n\n              return formats;\n            }, {});\n          }\n        }, {\n          key: 'match',\n          value: function match(url) {\n            return /\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url);\n          }\n        }, {\n          key: 'sanitize',\n          value: function sanitize(url) {\n            return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\n          }\n        }, {\n          key: 'value',\n          value: function value(domNode) {\n            return domNode.getAttribute('src');\n          }\n        }]);\n\n        return Image;\n      }(_parchment2.default.Embed);\n\n      Image.blotName = 'image';\n      Image.tagName = 'IMG';\n      exports.default = Image;\n      /***/\n    },\n    /* 73 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _block = __webpack_require__(4);\n\n      var _link = __webpack_require__(27);\n\n      var _link2 = _interopRequireDefault(_link);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ATTRIBUTES = ['height', 'width'];\n\n      var Video = function (_BlockEmbed) {\n        _inherits(Video, _BlockEmbed);\n\n        function Video() {\n          _classCallCheck(this, Video);\n\n          return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n        }\n\n        _createClass(Video, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (ATTRIBUTES.indexOf(name) > -1) {\n              if (value) {\n                this.domNode.setAttribute(name, value);\n              } else {\n                this.domNode.removeAttribute(name);\n              }\n            } else {\n              _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\n            }\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\n\n            node.setAttribute('frameborder', '0');\n            node.setAttribute('allowfullscreen', true);\n            node.setAttribute('src', this.sanitize(value));\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            return ATTRIBUTES.reduce(function (formats, attribute) {\n              if (domNode.hasAttribute(attribute)) {\n                formats[attribute] = domNode.getAttribute(attribute);\n              }\n\n              return formats;\n            }, {});\n          }\n        }, {\n          key: 'sanitize',\n          value: function sanitize(url) {\n            return _link2.default.sanitize(url);\n          }\n        }, {\n          key: 'value',\n          value: function value(domNode) {\n            return domNode.getAttribute('src');\n          }\n        }]);\n\n        return Video;\n      }(_block.BlockEmbed);\n\n      Video.blotName = 'video';\n      Video.className = 'ql-video';\n      Video.tagName = 'IFRAME';\n      exports.default = Video;\n      /***/\n    },\n    /* 74 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.FormulaBlot = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _embed = __webpack_require__(35);\n\n      var _embed2 = _interopRequireDefault(_embed);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var FormulaBlot = function (_Embed) {\n        _inherits(FormulaBlot, _Embed);\n\n        function FormulaBlot() {\n          _classCallCheck(this, FormulaBlot);\n\n          return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\n        }\n\n        _createClass(FormulaBlot, null, [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\n\n            if (typeof value === 'string') {\n              window.katex.render(value, node, {\n                throwOnError: false,\n                errorColor: '#f00'\n              });\n              node.setAttribute('data-value', value);\n            }\n\n            return node;\n          }\n        }, {\n          key: 'value',\n          value: function value(domNode) {\n            return domNode.getAttribute('data-value');\n          }\n        }]);\n\n        return FormulaBlot;\n      }(_embed2.default);\n\n      FormulaBlot.blotName = 'formula';\n      FormulaBlot.className = 'ql-formula';\n      FormulaBlot.tagName = 'SPAN';\n\n      var Formula = function (_Module) {\n        _inherits(Formula, _Module);\n\n        _createClass(Formula, null, [{\n          key: 'register',\n          value: function register() {\n            _quill2.default.register(FormulaBlot, true);\n          }\n        }]);\n\n        function Formula() {\n          _classCallCheck(this, Formula);\n\n          var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\n\n          if (window.katex == null) {\n            throw new Error('Formula module requires KaTeX.');\n          }\n\n          return _this2;\n        }\n\n        return Formula;\n      }(_module2.default);\n\n      exports.FormulaBlot = FormulaBlot;\n      exports.default = Formula;\n      /***/\n    },\n    /* 75 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.CodeToken = exports.CodeBlock = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var SyntaxCodeBlock = function (_CodeBlock) {\n        _inherits(SyntaxCodeBlock, _CodeBlock);\n\n        function SyntaxCodeBlock() {\n          _classCallCheck(this, SyntaxCodeBlock);\n\n          return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\n        }\n\n        _createClass(SyntaxCodeBlock, [{\n          key: 'replaceWith',\n          value: function replaceWith(block) {\n            this.domNode.textContent = this.domNode.textContent;\n            this.attach();\n\n            _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\n          }\n        }, {\n          key: 'highlight',\n          value: function highlight(_highlight) {\n            var text = this.domNode.textContent;\n\n            if (this.cachedText !== text) {\n              if (text.trim().length > 0 || this.cachedText == null) {\n                this.domNode.innerHTML = _highlight(text);\n                this.domNode.normalize();\n                this.attach();\n              }\n\n              this.cachedText = text;\n            }\n          }\n        }]);\n\n        return SyntaxCodeBlock;\n      }(_code2.default);\n\n      SyntaxCodeBlock.className = 'ql-syntax';\n      var CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n\n      var Syntax = function (_Module) {\n        _inherits(Syntax, _Module);\n\n        _createClass(Syntax, null, [{\n          key: 'register',\n          value: function register() {\n            _quill2.default.register(CodeToken, true);\n\n            _quill2.default.register(SyntaxCodeBlock, true);\n          }\n        }]);\n\n        function Syntax(quill, options) {\n          _classCallCheck(this, Syntax);\n\n          var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\n\n          if (typeof _this2.options.highlight !== 'function') {\n            throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n          }\n\n          var timer = null;\n\n          _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n            clearTimeout(timer);\n            timer = setTimeout(function () {\n              _this2.highlight();\n\n              timer = null;\n            }, _this2.options.interval);\n          });\n\n          _this2.highlight();\n\n          return _this2;\n        }\n\n        _createClass(Syntax, [{\n          key: 'highlight',\n          value: function highlight() {\n            var _this3 = this;\n\n            if (this.quill.selection.composing) return;\n            this.quill.update(_quill2.default.sources.USER);\n            var range = this.quill.getSelection();\n            this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\n              code.highlight(_this3.options.highlight);\n            });\n            this.quill.update(_quill2.default.sources.SILENT);\n\n            if (range != null) {\n              this.quill.setSelection(range, _quill2.default.sources.SILENT);\n            }\n          }\n        }]);\n\n        return Syntax;\n      }(_module2.default);\n\n      Syntax.DEFAULTS = {\n        highlight: function () {\n          if (window.hljs == null) return null;\n          return function (text) {\n            var result = window.hljs.highlightAuto(text);\n            return result.value;\n          };\n        }(),\n        interval: 1000\n      };\n      exports.CodeBlock = SyntaxCodeBlock;\n      exports.CodeToken = CodeToken;\n      exports.default = Syntax;\n      /***/\n    },\n    /* 76 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 77 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 78 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 79 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 80 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n      /***/\n    },\n    /* 81 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n      /***/\n    },\n    /* 82 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n      /***/\n    },\n    /* 83 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n      /***/\n    },\n    /* 84 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n      /***/\n    },\n    /* 85 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n      /***/\n    },\n    /* 86 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n      /***/\n    },\n    /* 87 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\n      /***/\n    },\n    /* 88 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\n      /***/\n    },\n    /* 89 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\n      /***/\n    },\n    /* 90 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\n      /***/\n    },\n    /* 91 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n      /***/\n    },\n    /* 92 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n      /***/\n    },\n    /* 93 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n      /***/\n    },\n    /* 94 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 95 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 96 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 97 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 98 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n      /***/\n    },\n    /* 99 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n      /***/\n    },\n    /* 100 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n      /***/\n    },\n    /* 101 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 102 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n      /***/\n    },\n    /* 103 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n      /***/\n    },\n    /* 104 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n      /***/\n    },\n    /* 105 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n      /***/\n    },\n    /* 106 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n      /***/\n    },\n    /* 107 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n      /***/\n    },\n    /* 108 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.BubbleTooltip = undefined;\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _base = __webpack_require__(43);\n\n      var _base2 = _interopRequireDefault(_base);\n\n      var _selection = __webpack_require__(15);\n\n      var _icons = __webpack_require__(41);\n\n      var _icons2 = _interopRequireDefault(_icons);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{\n        header: 1\n      }, {\n        header: 2\n      }, 'blockquote']];\n\n      var BubbleTheme = function (_BaseTheme) {\n        _inherits(BubbleTheme, _BaseTheme);\n\n        function BubbleTheme(quill, options) {\n          _classCallCheck(this, BubbleTheme);\n\n          if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n            options.modules.toolbar.container = TOOLBAR_CONFIG;\n          }\n\n          var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\n\n          _this.quill.container.classList.add('ql-bubble');\n\n          return _this;\n        }\n\n        _createClass(BubbleTheme, [{\n          key: 'extendToolbar',\n          value: function extendToolbar(toolbar) {\n            this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n            this.tooltip.root.appendChild(toolbar.container);\n            this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n            this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n          }\n        }]);\n\n        return BubbleTheme;\n      }(_base2.default);\n\n      BubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              link: function link(value) {\n                if (!value) {\n                  this.quill.format('link', false);\n                } else {\n                  this.quill.theme.tooltip.edit();\n                }\n              }\n            }\n          }\n        }\n      });\n\n      var BubbleTooltip = function (_BaseTooltip) {\n        _inherits(BubbleTooltip, _BaseTooltip);\n\n        function BubbleTooltip(quill, bounds) {\n          _classCallCheck(this, BubbleTooltip);\n\n          var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\n\n          _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\n            if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\n\n            if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\n              _this2.show(); // Lock our width so we will expand beyond our offsetParent boundaries\n\n\n              _this2.root.style.left = '0px';\n              _this2.root.style.width = '';\n              _this2.root.style.width = _this2.root.offsetWidth + 'px';\n\n              var lines = _this2.quill.getLines(range.index, range.length);\n\n              if (lines.length === 1) {\n                _this2.position(_this2.quill.getBounds(range));\n              } else {\n                var lastLine = lines[lines.length - 1];\n\n                var index = _this2.quill.getIndex(lastLine);\n\n                var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n\n                var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\n\n                _this2.position(_bounds);\n              }\n            } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\n              _this2.hide();\n            }\n          });\n\n          return _this2;\n        }\n\n        _createClass(BubbleTooltip, [{\n          key: 'listen',\n          value: function listen() {\n            var _this3 = this;\n\n            _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\n\n            this.root.querySelector('.ql-close').addEventListener('click', function () {\n              _this3.root.classList.remove('ql-editing');\n            });\n            this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\n              // Let selection be restored by toolbar handlers before repositioning\n              setTimeout(function () {\n                if (_this3.root.classList.contains('ql-hidden')) return;\n\n                var range = _this3.quill.getSelection();\n\n                if (range != null) {\n                  _this3.position(_this3.quill.getBounds(range));\n                }\n              }, 1);\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel() {\n            this.show();\n          }\n        }, {\n          key: 'position',\n          value: function position(reference) {\n            var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\n\n            var arrow = this.root.querySelector('.ql-tooltip-arrow');\n            arrow.style.marginLeft = '';\n            if (shift === 0) return shift;\n            arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\n          }\n        }]);\n\n        return BubbleTooltip;\n      }(_base.BaseTooltip);\n\n      BubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n      exports.BubbleTooltip = BubbleTooltip;\n      exports.default = BubbleTheme;\n      /***/\n    },\n    /* 109 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      module.exports = __webpack_require__(63);\n      /***/\n    }\n    /******/\n    ])[\"default\"]\n  );\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/quill/dist/quill.js"],"names":["module","factory","define","exports","root","installedModules","i","l","modules","__webpack_require__","Object","configurable","enumerable","get","getter","value","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","create","find","query","register","Container","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Class","Style","Store","default","__extends","extendStatics","__proto__","d","b","__","ParchmentError","_this","message","_super","attributes","classes","tags","types","match","BlotClass","node","input","Node","bubble","scope","names","Definitions","_i","arguments","Definition","Array","tagName","tagNames","diff","equal","extend","op","NULL_CHARACTER","String","Delta","ops","newOp","text","length","retain","index","lastOp","insert","passed","failed","target","predicate","elem","start","end","iter","nextOp","thisIter","otherIter","other","firstOther","firstLeft","delta","Math","thisOp","otherOp","rest","strings","prep","diffResult","component","opLength","newline","line","priority","offset","nextType","hasOwn","toStr","defineProperty","gOPD","isArray","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","obj","setProperty","options","writable","getProperty","name","deep","src","copy","copyIsArray","clone","newValue","_createClass","props","descriptor","defineProperties","Constructor","_get","object","Function","desc","parent","_extend","_extend2","_interopRequireDefault","_quillDelta","_quillDelta2","_parchment","_parchment2","_break","_break2","_inline","_inline2","_text","_text2","instance","call","superClass","subClass","constructor","NEWLINE_LENGTH","BlockEmbed","_inherits","_classCallCheck","_possibleConstructorReturn","key","attribute","block","_this2","leaf","bubbleFormats","def","lines","head","force","next","formats","blot","_typeof","Symbol","_slicedToArray","_arr","_n","_d","_e","arr","_s","sliceIterator","_editor","_editor2","_emitter3","_emitter4","_module","_module2","_selection","_selection2","_logger","_logger2","_theme","_theme2","debug","Quill","limit","overwrite","path","expandConfig","html","emitter","whitelist","type","range","modify","contents","refNode","className","container","document","_this3","_overload","overload","_overload2","source","enabled","scrollTop","_this4","change","_defineProperty","_this5","_overload3","_overload4","_this6","_overload5","_overload6","bounds","containerBounds","bottom","height","left","right","top","width","_overload7","_overload8","Number","focus","_overload9","_overload10","_this7","_this8","_overload11","_overload12","_this9","_overload13","_overload14","_this10","deleted","applied","ret","_overload15","_overload16","_this11","placeholder","readOnly","scrollingContainer","strict","theme","userConfig","clipboard","keyboard","history","themeConfig","config","moduleNames","moduleConfig","moduleClass","toolbar","oldDelta","modifier","shift","shiftRange","args","_emitter","_emitter2","_map","_map2","_map3","pos","_map4","selfIndex","otherIndex","self","TextBlot","_eventemitter","_eventemitter2","EVENTS","_len","_key","_node$__quill$emitter","Emitter","_len2","_key2","event","_ref","handler","EDITOR_CHANGE","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SCROLL_UPDATE","SELECTION_CHANGE","TEXT_CHANGE","API","SILENT","USER","Module","levels","level","_console","logger","namespace","pSlice","objectKeys","isArguments","deepEqual","opts","actual","expected","objEquiv","x","isUndefinedOrNull","a","isBuffer","ka","kb","attributeBit","item","_block","_block2","Code","CodeBlock","_descendant","_descendant2","nextNewline","prevNewline","isolateLength","_descendant3","_descendant4","reverse","searchIndex","domNode","_op","_op2","_code","_code2","_cursor","_cursor2","_clone","_clone2","_deepEqual","_deepEqual2","ASCII","Editor","consumeNextNewline","scrollLength","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","_line$descendant2","lengthRemaining","lineLength","codeIndex","codeLength","leaves","_path","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","suffix","mutations","cursorIndex","textBlot","oldValue","oldText","newText","diffDelta","combined","merged","image","arr2","Range","Selection","setTimeout","native","context","_context$range","startNode","startOffset","endNode","endOffset","nativeRange","after","_scroll$leaf","_scroll$leaf2","_leaf$position","_leaf$position2","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","side","rect","selection","normalized","positions","indexes","_position","_toConsumableArray","contains","position","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","first","last","scrollBounds","oldRange","_getRange","_getRange2","lastRange","descendant","Break","linked_list_1","shadow_1","ContainerBlot","child","makeBlot","err","_a","criteria","descendants","lengthLeft","childBlot","memo","targetParent","inclusive","addedNodes","removedNodes","mutation","refBlot","FormatBlot","format","replacement","wrapper","LeafBlot","lib","compose","transform","iterator","Iterator","retOp","Infinity","nativeMap","nativeSet","nativePromise","depth","circular","prototype","includeNonEnumerable","allParents","allChildren","useBuffer","_instanceof","resolve","reject","__getRegExpFlags","Buffer","proto","keyChild","valueChild","entryChild","attrs","symbols","symbol","allPropertyNames","propertyName","c","__objToStr","flags","re","_container","_container2","_line","_line2","_line3","_line4","newlineIndex","_newlineIndex","ref","embed","getLines","isLine","_quill","_quill2","SHORTKEY","navigator","Keyboard","binding","normalize","evt","quill","shiftKey","metaKey","ctrlKey","altKey","BACKSPACE","collapsed","DELETE","prefix","which","bindings","_quill$getLine","_quill$getLine2","_quill$getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","empty","prevented","TAB","ENTER","ESCAPE","LEFT","UP","RIGHT","DOWN","makeFormatHandler","makeCodeBlockHandler","list","_quill$getLine3","_quill$getLine4","_quill$getLine5","_quill$getLine6","header","_quill$getLine7","_quill$getLine8","_quill$getLine9","_quill$getLine10","makeEmbedArrowHandler","where","_quill$getLeaf3","_quill$getLeaf4","_quill$getLine11","_quill$getLine12","_quill$getLine13","_quill$getLine14","prev","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine16","_quill$getLine17","_quill$getLine18","nextFormats","firstFormats","lastFormats","lineFormats","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","shortKey","Cursor","textNode","restoreText","ColorAttributor","parseInt","ColorClass","INLINE","ColorStyle","Link","_sanitize","anchor","protocol","protocols","_keyboard","_keyboard2","_dropdown","_dropdown2","optionsCounter","element","Picker","toggleAriaAttribute","option","label","trigger","selected","isActive","_embed","_embed2","_scroll","_scroll2","_clipboard","_clipboard2","_history","_history2","ShadowBlot","refDomNode","parentBlot","AttributorStore","styles","attr","ClassAttributor","matches","result","parts","part","StyleAttributor","camelize","Theme","GUARD_TEXT","prevLength","AlignAttribute","AlignClass","AlignStyle","_color","BackgroundClass","BackgroundStyle","DirectionAttribute","DirectionClass","DirectionStyle","FontClass","FontStyleAttributor","FontStyle","SizeClass","SizeStyle","History","eventName","getLastChangeIndex","undo","redo","changeDelta","undoDelta","timestamp","Date","delay","maxStack","userOnly","deleteLength","changeIndex","endsWithNewlineChange","_colorPicker","_colorPicker2","_iconPicker","_iconPicker2","_picker","_picker2","_tooltip","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","listener","e","picker","buttons","button","icons","select","fillSelect","update","handlers","formula","fileInput","reader","video","BaseTooltip","mode","preview","extractVideoUrl","url","defaultValue","values","LinkedList","nodes","cur","curNode","callback","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","MAX_OPTIMIZE_ITERATIONS","ScrollBlot","records","mark","markParent","optimize","remaining","obj1","obj2","InlineBlot","isEqual","BlockBlot","EmbedBlot","_toggle","DOMTokenList","searchString","subjectString","isFinite","lastIndex","thisArg","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","text1","cursor_pos","commonlength","diff_commonPrefix","commonprefix","text2","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","fix_cursor","fix_emoji","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diff_main","diffs_b","diff_bisect_","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","y1","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","seed","j","best_common","prefixLength","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","hm1","diff_halfMatchI_","hm2","pointer","count_delete","count_insert","text_delete","text_insert","changes","current_pos","next_pos","split_pos","d_left","d_right","norm","cursor_normalize_diff","ndiffs","cursor_pointer","d_next","merge_tuples","compact","starts_with_pair_end","str","ends_with_pair_start","fixed_diffs","left_d","right_d","keys","supportsArgumentsClass","has","Events","once","EventEmitter","events","available","ee","listeners","len","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","matchAlias","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","selector","matcher","_prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","deltaEndsWith","paste","_pair","matchers","matchVisual","applyFormat","window","endText","style","computeStyle","childrenDelta","childNode","indent","nodeHeight","parseFloat","replacer","Bold","Toolbar","addControls","_ret","_this$quill$selection","_this$quill$selection2","_quill$selection$getR","_quill$selection$getR2","prompt","groups","group","controls","addButton","control","addSelect","clean","direction","align","link","ColorPicker","colorLabel","IconPicker","Tooltip","boundsContainer","reference","rootBounds","verticalShift","_base","_base2","_link","_link2","_icons","_icons2","TOOLBAR_CONFIG","SnowTheme","tooltip","SnowTooltip","_core","_core2","_indent","_blockquote","_blockquote2","_header","_header2","_list","_list2","_bold","_bold2","_italic","_italic2","_script","_script2","_strike","_strike2","_underline","_underline2","_image","_image2","_video","_video2","_formula","_formula2","_syntax","_syntax2","_toolbar","_toolbar2","_bubble","_bubble2","_snow","_snow2","IdentAttributor","IndentClass","Blockquote","Header","ListItem","List","listEventHandler","Italic","Script","Strike","Underline","ATTRIBUTES","Image","Video","FormulaBlot","throwOnError","errorColor","Formula","SyntaxCodeBlock","_highlight","CodeToken","Syntax","timer","clearTimeout","code","highlight","interval","BubbleTheme","BubbleTooltip","lastLine","_bounds","arrow"],"mappings":"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","sourcesContent":["/*!\r\n * Quill Editor v1.3.7\r\n * https://quilljs.com/\r\n * Copyright (c) 2014, Jason Chen\r\n * Copyright (c) 2013, salesforce.com\r\n */\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"Quill\"] = factory();\r\n\telse\r\n\t\troot[\"Quill\"] = factory();\r\n})(typeof self !== 'undefined' ? self : this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 109);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar container_1 = __webpack_require__(17);\r\nvar format_1 = __webpack_require__(18);\r\nvar leaf_1 = __webpack_require__(19);\r\nvar scroll_1 = __webpack_require__(45);\r\nvar inline_1 = __webpack_require__(46);\r\nvar block_1 = __webpack_require__(47);\r\nvar embed_1 = __webpack_require__(48);\r\nvar text_1 = __webpack_require__(49);\r\nvar attributor_1 = __webpack_require__(12);\r\nvar class_1 = __webpack_require__(32);\r\nvar style_1 = __webpack_require__(33);\r\nvar store_1 = __webpack_require__(31);\r\nvar Registry = __webpack_require__(1);\r\nvar Parchment = {\r\n    Scope: Registry.Scope,\r\n    create: Registry.create,\r\n    find: Registry.find,\r\n    query: Registry.query,\r\n    register: Registry.register,\r\n    Container: container_1.default,\r\n    Format: format_1.default,\r\n    Leaf: leaf_1.default,\r\n    Embed: embed_1.default,\r\n    Scroll: scroll_1.default,\r\n    Block: block_1.default,\r\n    Inline: inline_1.default,\r\n    Text: text_1.default,\r\n    Attributor: {\r\n        Attribute: attributor_1.default,\r\n        Class: class_1.default,\r\n        Style: style_1.default,\r\n        Store: store_1.default,\r\n    },\r\n};\r\nexports.default = Parchment;\r\n\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ParchmentError = /** @class */ (function (_super) {\r\n    __extends(ParchmentError, _super);\r\n    function ParchmentError(message) {\r\n        var _this = this;\r\n        message = '[Parchment] ' + message;\r\n        _this = _super.call(this, message) || this;\r\n        _this.message = message;\r\n        _this.name = _this.constructor.name;\r\n        return _this;\r\n    }\r\n    return ParchmentError;\r\n}(Error));\r\nexports.ParchmentError = ParchmentError;\r\nvar attributes = {};\r\nvar classes = {};\r\nvar tags = {};\r\nvar types = {};\r\nexports.DATA_KEY = '__blot';\r\nvar Scope;\r\n(function (Scope) {\r\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\r\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\r\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\r\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\r\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\r\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\r\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\r\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\r\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\r\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\r\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\r\n})(Scope = exports.Scope || (exports.Scope = {}));\r\nfunction create(input, value) {\r\n    var match = query(input);\r\n    if (match == null) {\r\n        throw new ParchmentError(\"Unable to create \" + input + \" blot\");\r\n    }\r\n    var BlotClass = match;\r\n    var node = \r\n    // @ts-ignore\r\n    input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\r\n    return new BlotClass(node, value);\r\n}\r\nexports.create = create;\r\nfunction find(node, bubble) {\r\n    if (bubble === void 0) { bubble = false; }\r\n    if (node == null)\r\n        return null;\r\n    // @ts-ignore\r\n    if (node[exports.DATA_KEY] != null)\r\n        return node[exports.DATA_KEY].blot;\r\n    if (bubble)\r\n        return find(node.parentNode, bubble);\r\n    return null;\r\n}\r\nexports.find = find;\r\nfunction query(query, scope) {\r\n    if (scope === void 0) { scope = Scope.ANY; }\r\n    var match;\r\n    if (typeof query === 'string') {\r\n        match = types[query] || attributes[query];\r\n        // @ts-ignore\r\n    }\r\n    else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\r\n        match = types['text'];\r\n    }\r\n    else if (typeof query === 'number') {\r\n        if (query & Scope.LEVEL & Scope.BLOCK) {\r\n            match = types['block'];\r\n        }\r\n        else if (query & Scope.LEVEL & Scope.INLINE) {\r\n            match = types['inline'];\r\n        }\r\n    }\r\n    else if (query instanceof HTMLElement) {\r\n        var names = (query.getAttribute('class') || '').split(/\\s+/);\r\n        for (var i in names) {\r\n            match = classes[names[i]];\r\n            if (match)\r\n                break;\r\n        }\r\n        match = match || tags[query.tagName];\r\n    }\r\n    if (match == null)\r\n        return null;\r\n    // @ts-ignore\r\n    if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)\r\n        return match;\r\n    return null;\r\n}\r\nexports.query = query;\r\nfunction register() {\r\n    var Definitions = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        Definitions[_i] = arguments[_i];\r\n    }\r\n    if (Definitions.length > 1) {\r\n        return Definitions.map(function (d) {\r\n            return register(d);\r\n        });\r\n    }\r\n    var Definition = Definitions[0];\r\n    if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\r\n        throw new ParchmentError('Invalid definition');\r\n    }\r\n    else if (Definition.blotName === 'abstract') {\r\n        throw new ParchmentError('Cannot register abstract class');\r\n    }\r\n    types[Definition.blotName || Definition.attrName] = Definition;\r\n    if (typeof Definition.keyName === 'string') {\r\n        attributes[Definition.keyName] = Definition;\r\n    }\r\n    else {\r\n        if (Definition.className != null) {\r\n            classes[Definition.className] = Definition;\r\n        }\r\n        if (Definition.tagName != null) {\r\n            if (Array.isArray(Definition.tagName)) {\r\n                Definition.tagName = Definition.tagName.map(function (tagName) {\r\n                    return tagName.toUpperCase();\r\n                });\r\n            }\r\n            else {\r\n                Definition.tagName = Definition.tagName.toUpperCase();\r\n            }\r\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\r\n            tagNames.forEach(function (tag) {\r\n                if (tags[tag] == null || Definition.className == null) {\r\n                    tags[tag] = Definition;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return Definition;\r\n}\r\nexports.register = register;\r\n\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar diff = __webpack_require__(51);\r\nvar equal = __webpack_require__(11);\r\nvar extend = __webpack_require__(3);\r\nvar op = __webpack_require__(20);\r\n\r\n\r\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\r\n\r\n\r\nvar Delta = function (ops) {\r\n  // Assume we are given a well formed ops\r\n  if (Array.isArray(ops)) {\r\n    this.ops = ops;\r\n  } else if (ops != null && Array.isArray(ops.ops)) {\r\n    this.ops = ops.ops;\r\n  } else {\r\n    this.ops = [];\r\n  }\r\n};\r\n\r\n\r\nDelta.prototype.insert = function (text, attributes) {\r\n  var newOp = {};\r\n  if (text.length === 0) return this;\r\n  newOp.insert = text;\r\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\r\n    newOp.attributes = attributes;\r\n  }\r\n  return this.push(newOp);\r\n};\r\n\r\nDelta.prototype['delete'] = function (length) {\r\n  if (length <= 0) return this;\r\n  return this.push({ 'delete': length });\r\n};\r\n\r\nDelta.prototype.retain = function (length, attributes) {\r\n  if (length <= 0) return this;\r\n  var newOp = { retain: length };\r\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\r\n    newOp.attributes = attributes;\r\n  }\r\n  return this.push(newOp);\r\n};\r\n\r\nDelta.prototype.push = function (newOp) {\r\n  var index = this.ops.length;\r\n  var lastOp = this.ops[index - 1];\r\n  newOp = extend(true, {}, newOp);\r\n  if (typeof lastOp === 'object') {\r\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\r\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\r\n      return this;\r\n    }\r\n    // Since it does not matter if we insert before or after deleting at the same index,\r\n    // always prefer to insert first\r\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\r\n      index -= 1;\r\n      lastOp = this.ops[index - 1];\r\n      if (typeof lastOp !== 'object') {\r\n        this.ops.unshift(newOp);\r\n        return this;\r\n      }\r\n    }\r\n    if (equal(newOp.attributes, lastOp.attributes)) {\r\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\r\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\r\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\r\n        return this;\r\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\r\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\r\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\r\n        return this;\r\n      }\r\n    }\r\n  }\r\n  if (index === this.ops.length) {\r\n    this.ops.push(newOp);\r\n  } else {\r\n    this.ops.splice(index, 0, newOp);\r\n  }\r\n  return this;\r\n};\r\n\r\nDelta.prototype.chop = function () {\r\n  var lastOp = this.ops[this.ops.length - 1];\r\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\r\n    this.ops.pop();\r\n  }\r\n  return this;\r\n};\r\n\r\nDelta.prototype.filter = function (predicate) {\r\n  return this.ops.filter(predicate);\r\n};\r\n\r\nDelta.prototype.forEach = function (predicate) {\r\n  this.ops.forEach(predicate);\r\n};\r\n\r\nDelta.prototype.map = function (predicate) {\r\n  return this.ops.map(predicate);\r\n};\r\n\r\nDelta.prototype.partition = function (predicate) {\r\n  var passed = [], failed = [];\r\n  this.forEach(function(op) {\r\n    var target = predicate(op) ? passed : failed;\r\n    target.push(op);\r\n  });\r\n  return [passed, failed];\r\n};\r\n\r\nDelta.prototype.reduce = function (predicate, initial) {\r\n  return this.ops.reduce(predicate, initial);\r\n};\r\n\r\nDelta.prototype.changeLength = function () {\r\n  return this.reduce(function (length, elem) {\r\n    if (elem.insert) {\r\n      return length + op.length(elem);\r\n    } else if (elem.delete) {\r\n      return length - elem.delete;\r\n    }\r\n    return length;\r\n  }, 0);\r\n};\r\n\r\nDelta.prototype.length = function () {\r\n  return this.reduce(function (length, elem) {\r\n    return length + op.length(elem);\r\n  }, 0);\r\n};\r\n\r\nDelta.prototype.slice = function (start, end) {\r\n  start = start || 0;\r\n  if (typeof end !== 'number') end = Infinity;\r\n  var ops = [];\r\n  var iter = op.iterator(this.ops);\r\n  var index = 0;\r\n  while (index < end && iter.hasNext()) {\r\n    var nextOp;\r\n    if (index < start) {\r\n      nextOp = iter.next(start - index);\r\n    } else {\r\n      nextOp = iter.next(end - index);\r\n      ops.push(nextOp);\r\n    }\r\n    index += op.length(nextOp);\r\n  }\r\n  return new Delta(ops);\r\n};\r\n\r\n\r\nDelta.prototype.compose = function (other) {\r\n  var thisIter = op.iterator(this.ops);\r\n  var otherIter = op.iterator(other.ops);\r\n  var ops = [];\r\n  var firstOther = otherIter.peek();\r\n  if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\r\n    var firstLeft = firstOther.retain;\r\n    while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\r\n      firstLeft -= thisIter.peekLength();\r\n      ops.push(thisIter.next());\r\n    }\r\n    if (firstOther.retain - firstLeft > 0) {\r\n      otherIter.next(firstOther.retain - firstLeft);\r\n    }\r\n  }\r\n  var delta = new Delta(ops);\r\n  while (thisIter.hasNext() || otherIter.hasNext()) {\r\n    if (otherIter.peekType() === 'insert') {\r\n      delta.push(otherIter.next());\r\n    } else if (thisIter.peekType() === 'delete') {\r\n      delta.push(thisIter.next());\r\n    } else {\r\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\r\n      var thisOp = thisIter.next(length);\r\n      var otherOp = otherIter.next(length);\r\n      if (typeof otherOp.retain === 'number') {\r\n        var newOp = {};\r\n        if (typeof thisOp.retain === 'number') {\r\n          newOp.retain = length;\r\n        } else {\r\n          newOp.insert = thisOp.insert;\r\n        }\r\n        // Preserve null when composing with a retain, otherwise remove it for inserts\r\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\r\n        if (attributes) newOp.attributes = attributes;\r\n        delta.push(newOp);\r\n\r\n        // Optimization if rest of other is just retain\r\n        if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\r\n          var rest = new Delta(thisIter.rest());\r\n          return delta.concat(rest).chop();\r\n        }\r\n\r\n      // Other op should be delete, we could be an insert or retain\r\n      // Insert + delete cancels out\r\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\r\n        delta.push(otherOp);\r\n      }\r\n    }\r\n  }\r\n  return delta.chop();\r\n};\r\n\r\nDelta.prototype.concat = function (other) {\r\n  var delta = new Delta(this.ops.slice());\r\n  if (other.ops.length > 0) {\r\n    delta.push(other.ops[0]);\r\n    delta.ops = delta.ops.concat(other.ops.slice(1));\r\n  }\r\n  return delta;\r\n};\r\n\r\nDelta.prototype.diff = function (other, index) {\r\n  if (this.ops === other.ops) {\r\n    return new Delta();\r\n  }\r\n  var strings = [this, other].map(function (delta) {\r\n    return delta.map(function (op) {\r\n      if (op.insert != null) {\r\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\r\n      }\r\n      var prep = (delta === other) ? 'on' : 'with';\r\n      throw new Error('diff() called ' + prep + ' non-document');\r\n    }).join('');\r\n  });\r\n  var delta = new Delta();\r\n  var diffResult = diff(strings[0], strings[1], index);\r\n  var thisIter = op.iterator(this.ops);\r\n  var otherIter = op.iterator(other.ops);\r\n  diffResult.forEach(function (component) {\r\n    var length = component[1].length;\r\n    while (length > 0) {\r\n      var opLength = 0;\r\n      switch (component[0]) {\r\n        case diff.INSERT:\r\n          opLength = Math.min(otherIter.peekLength(), length);\r\n          delta.push(otherIter.next(opLength));\r\n          break;\r\n        case diff.DELETE:\r\n          opLength = Math.min(length, thisIter.peekLength());\r\n          thisIter.next(opLength);\r\n          delta['delete'](opLength);\r\n          break;\r\n        case diff.EQUAL:\r\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\r\n          var thisOp = thisIter.next(opLength);\r\n          var otherOp = otherIter.next(opLength);\r\n          if (equal(thisOp.insert, otherOp.insert)) {\r\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\r\n          } else {\r\n            delta.push(otherOp)['delete'](opLength);\r\n          }\r\n          break;\r\n      }\r\n      length -= opLength;\r\n    }\r\n  });\r\n  return delta.chop();\r\n};\r\n\r\nDelta.prototype.eachLine = function (predicate, newline) {\r\n  newline = newline || '\\n';\r\n  var iter = op.iterator(this.ops);\r\n  var line = new Delta();\r\n  var i = 0;\r\n  while (iter.hasNext()) {\r\n    if (iter.peekType() !== 'insert') return;\r\n    var thisOp = iter.peek();\r\n    var start = op.length(thisOp) - iter.peekLength();\r\n    var index = typeof thisOp.insert === 'string' ?\r\n      thisOp.insert.indexOf(newline, start) - start : -1;\r\n    if (index < 0) {\r\n      line.push(iter.next());\r\n    } else if (index > 0) {\r\n      line.push(iter.next(index));\r\n    } else {\r\n      if (predicate(line, iter.next(1).attributes || {}, i) === false) {\r\n        return;\r\n      }\r\n      i += 1;\r\n      line = new Delta();\r\n    }\r\n  }\r\n  if (line.length() > 0) {\r\n    predicate(line, {}, i);\r\n  }\r\n};\r\n\r\nDelta.prototype.transform = function (other, priority) {\r\n  priority = !!priority;\r\n  if (typeof other === 'number') {\r\n    return this.transformPosition(other, priority);\r\n  }\r\n  var thisIter = op.iterator(this.ops);\r\n  var otherIter = op.iterator(other.ops);\r\n  var delta = new Delta();\r\n  while (thisIter.hasNext() || otherIter.hasNext()) {\r\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\r\n      delta.retain(op.length(thisIter.next()));\r\n    } else if (otherIter.peekType() === 'insert') {\r\n      delta.push(otherIter.next());\r\n    } else {\r\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\r\n      var thisOp = thisIter.next(length);\r\n      var otherOp = otherIter.next(length);\r\n      if (thisOp['delete']) {\r\n        // Our delete either makes their delete redundant or removes their retain\r\n        continue;\r\n      } else if (otherOp['delete']) {\r\n        delta.push(otherOp);\r\n      } else {\r\n        // We retain either their retain or insert\r\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\r\n      }\r\n    }\r\n  }\r\n  return delta.chop();\r\n};\r\n\r\nDelta.prototype.transformPosition = function (index, priority) {\r\n  priority = !!priority;\r\n  var thisIter = op.iterator(this.ops);\r\n  var offset = 0;\r\n  while (thisIter.hasNext() && offset <= index) {\r\n    var length = thisIter.peekLength();\r\n    var nextType = thisIter.peekType();\r\n    thisIter.next();\r\n    if (nextType === 'delete') {\r\n      index -= Math.min(length, index - offset);\r\n      continue;\r\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\r\n      index += length;\r\n    }\r\n    offset += length;\r\n  }\r\n  return index;\r\n};\r\n\r\n\r\nmodule.exports = Delta;\r\n\r\n\r\n/***/ }),\r\n/* 3 */\r\n/***/ (function(module, exports) {\r\n\r\n'use strict';\r\n\r\nvar hasOwn = Object.prototype.hasOwnProperty;\r\nvar toStr = Object.prototype.toString;\r\nvar defineProperty = Object.defineProperty;\r\nvar gOPD = Object.getOwnPropertyDescriptor;\r\n\r\nvar isArray = function isArray(arr) {\r\n\tif (typeof Array.isArray === 'function') {\r\n\t\treturn Array.isArray(arr);\r\n\t}\r\n\r\n\treturn toStr.call(arr) === '[object Array]';\r\n};\r\n\r\nvar isPlainObject = function isPlainObject(obj) {\r\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\r\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\r\n\t// Not own constructor property must be Object\r\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Own properties are enumerated firstly, so to speed up,\r\n\t// if last one is own, then all properties are own.\r\n\tvar key;\r\n\tfor (key in obj) { /**/ }\r\n\r\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\r\n};\r\n\r\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\r\nvar setProperty = function setProperty(target, options) {\r\n\tif (defineProperty && options.name === '__proto__') {\r\n\t\tdefineProperty(target, options.name, {\r\n\t\t\tenumerable: true,\r\n\t\t\tconfigurable: true,\r\n\t\t\tvalue: options.newValue,\r\n\t\t\twritable: true\r\n\t\t});\r\n\t} else {\r\n\t\ttarget[options.name] = options.newValue;\r\n\t}\r\n};\r\n\r\n// Return undefined instead of __proto__ if '__proto__' is not an own property\r\nvar getProperty = function getProperty(obj, name) {\r\n\tif (name === '__proto__') {\r\n\t\tif (!hasOwn.call(obj, name)) {\r\n\t\t\treturn void 0;\r\n\t\t} else if (gOPD) {\r\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\r\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\r\n\t\t\treturn gOPD(obj, name).value;\r\n\t\t}\r\n\t}\r\n\r\n\treturn obj[name];\r\n};\r\n\r\nmodule.exports = function extend() {\r\n\tvar options, name, src, copy, copyIsArray, clone;\r\n\tvar target = arguments[0];\r\n\tvar i = 1;\r\n\tvar length = arguments.length;\r\n\tvar deep = false;\r\n\r\n\t// Handle a deep copy situation\r\n\tif (typeof target === 'boolean') {\r\n\t\tdeep = target;\r\n\t\ttarget = arguments[1] || {};\r\n\t\t// skip the boolean and the target\r\n\t\ti = 2;\r\n\t}\r\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\r\n\t\ttarget = {};\r\n\t}\r\n\r\n\tfor (; i < length; ++i) {\r\n\t\toptions = arguments[i];\r\n\t\t// Only deal with non-null/undefined values\r\n\t\tif (options != null) {\r\n\t\t\t// Extend the base object\r\n\t\t\tfor (name in options) {\r\n\t\t\t\tsrc = getProperty(target, name);\r\n\t\t\t\tcopy = getProperty(options, name);\r\n\r\n\t\t\t\t// Prevent never-ending loop\r\n\t\t\t\tif (target !== copy) {\r\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\r\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\r\n\t\t\t\t\t\tif (copyIsArray) {\r\n\t\t\t\t\t\t\tcopyIsArray = false;\r\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Never move original objects, clone them\r\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\r\n\r\n\t\t\t\t\t// Don't bring in undefined values\r\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\r\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the modified object\r\n\treturn target;\r\n};\r\n\r\n\r\n/***/ }),\r\n/* 4 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _break = __webpack_require__(16);\r\n\r\nvar _break2 = _interopRequireDefault(_break);\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar NEWLINE_LENGTH = 1;\r\n\r\nvar BlockEmbed = function (_Parchment$Embed) {\r\n  _inherits(BlockEmbed, _Parchment$Embed);\r\n\r\n  function BlockEmbed() {\r\n    _classCallCheck(this, BlockEmbed);\r\n\r\n    return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(BlockEmbed, [{\r\n    key: 'attach',\r\n    value: function attach() {\r\n      _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\r\n      this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\r\n    }\r\n  }, {\r\n    key: 'delta',\r\n    value: function delta() {\r\n      return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\r\n    }\r\n  }, {\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\r\n      if (attribute != null) {\r\n        this.attributes.attribute(attribute, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'formatAt',\r\n    value: function formatAt(index, length, name, value) {\r\n      this.format(name, value);\r\n    }\r\n  }, {\r\n    key: 'insertAt',\r\n    value: function insertAt(index, value, def) {\r\n      if (typeof value === 'string' && value.endsWith('\\n')) {\r\n        var block = _parchment2.default.create(Block.blotName);\r\n        this.parent.insertBefore(block, index === 0 ? this : this.next);\r\n        block.insertAt(0, value.slice(0, -1));\r\n      } else {\r\n        _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return BlockEmbed;\r\n}(_parchment2.default.Embed);\r\n\r\nBlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;\r\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\r\n\r\n\r\nvar Block = function (_Parchment$Block) {\r\n  _inherits(Block, _Parchment$Block);\r\n\r\n  function Block(domNode) {\r\n    _classCallCheck(this, Block);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\r\n\r\n    _this2.cache = {};\r\n    return _this2;\r\n  }\r\n\r\n  _createClass(Block, [{\r\n    key: 'delta',\r\n    value: function delta() {\r\n      if (this.cache.delta == null) {\r\n        this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\r\n          if (leaf.length() === 0) {\r\n            return delta;\r\n          } else {\r\n            return delta.insert(leaf.value(), bubbleFormats(leaf));\r\n          }\r\n        }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\r\n      }\r\n      return this.cache.delta;\r\n    }\r\n  }, {\r\n    key: 'deleteAt',\r\n    value: function deleteAt(index, length) {\r\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'formatAt',\r\n    value: function formatAt(index, length, name, value) {\r\n      if (length <= 0) return;\r\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\r\n        if (index + length === this.length()) {\r\n          this.format(name, value);\r\n        }\r\n      } else {\r\n        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\r\n      }\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'insertAt',\r\n    value: function insertAt(index, value, def) {\r\n      if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\r\n      if (value.length === 0) return;\r\n      var lines = value.split('\\n');\r\n      var text = lines.shift();\r\n      if (text.length > 0) {\r\n        if (index < this.length() - 1 || this.children.tail == null) {\r\n          _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\r\n        } else {\r\n          this.children.tail.insertAt(this.children.tail.length(), text);\r\n        }\r\n        this.cache = {};\r\n      }\r\n      var block = this;\r\n      lines.reduce(function (index, line) {\r\n        block = block.split(index, true);\r\n        block.insertAt(0, line);\r\n        return line.length;\r\n      }, index + text.length);\r\n    }\r\n  }, {\r\n    key: 'insertBefore',\r\n    value: function insertBefore(blot, ref) {\r\n      var head = this.children.head;\r\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\r\n      if (head instanceof _break2.default) {\r\n        head.remove();\r\n      }\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'length',\r\n    value: function length() {\r\n      if (this.cache.length == null) {\r\n        this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\r\n      }\r\n      return this.cache.length;\r\n    }\r\n  }, {\r\n    key: 'moveChildren',\r\n    value: function moveChildren(target, ref) {\r\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'optimize',\r\n    value: function optimize(context) {\r\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'path',\r\n    value: function path(index) {\r\n      return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\r\n    }\r\n  }, {\r\n    key: 'removeChild',\r\n    value: function removeChild(child) {\r\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'split',\r\n    value: function split(index) {\r\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n      if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\r\n        var clone = this.clone();\r\n        if (index === 0) {\r\n          this.parent.insertBefore(clone, this);\r\n          return this;\r\n        } else {\r\n          this.parent.insertBefore(clone, this.next);\r\n          return clone;\r\n        }\r\n      } else {\r\n        var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\r\n        this.cache = {};\r\n        return next;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Block;\r\n}(_parchment2.default.Block);\r\n\r\nBlock.blotName = 'block';\r\nBlock.tagName = 'P';\r\nBlock.defaultChild = 'break';\r\nBlock.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\r\n\r\nfunction bubbleFormats(blot) {\r\n  var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n  if (blot == null) return formats;\r\n  if (typeof blot.formats === 'function') {\r\n    formats = (0, _extend2.default)(formats, blot.formats());\r\n  }\r\n  if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\r\n    return formats;\r\n  }\r\n  return bubbleFormats(blot.parent, formats);\r\n}\r\n\r\nexports.bubbleFormats = bubbleFormats;\r\nexports.BlockEmbed = BlockEmbed;\r\nexports.default = Block;\r\n\r\n/***/ }),\r\n/* 5 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.overload = exports.expandConfig = undefined;\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\n__webpack_require__(50);\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _editor = __webpack_require__(14);\r\n\r\nvar _editor2 = _interopRequireDefault(_editor);\r\n\r\nvar _emitter3 = __webpack_require__(8);\r\n\r\nvar _emitter4 = _interopRequireDefault(_emitter3);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _selection = __webpack_require__(15);\r\n\r\nvar _selection2 = _interopRequireDefault(_selection);\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nvar _theme = __webpack_require__(34);\r\n\r\nvar _theme2 = _interopRequireDefault(_theme);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar debug = (0, _logger2.default)('quill');\r\n\r\nvar Quill = function () {\r\n  _createClass(Quill, null, [{\r\n    key: 'debug',\r\n    value: function debug(limit) {\r\n      if (limit === true) {\r\n        limit = 'log';\r\n      }\r\n      _logger2.default.level(limit);\r\n    }\r\n  }, {\r\n    key: 'find',\r\n    value: function find(node) {\r\n      return node.__quill || _parchment2.default.find(node);\r\n    }\r\n  }, {\r\n    key: 'import',\r\n    value: function _import(name) {\r\n      if (this.imports[name] == null) {\r\n        debug.error('Cannot import ' + name + '. Are you sure it was registered?');\r\n      }\r\n      return this.imports[name];\r\n    }\r\n  }, {\r\n    key: 'register',\r\n    value: function register(path, target) {\r\n      var _this = this;\r\n\r\n      var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\r\n\r\n      if (typeof path !== 'string') {\r\n        var name = path.attrName || path.blotName;\r\n        if (typeof name === 'string') {\r\n          // register(Blot | Attributor, overwrite)\r\n          this.register('formats/' + name, path, target);\r\n        } else {\r\n          Object.keys(path).forEach(function (key) {\r\n            _this.register(key, path[key], target);\r\n          });\r\n        }\r\n      } else {\r\n        if (this.imports[path] != null && !overwrite) {\r\n          debug.warn('Overwriting ' + path + ' with', target);\r\n        }\r\n        this.imports[path] = target;\r\n        if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\r\n          _parchment2.default.register(target);\r\n        } else if (path.startsWith('modules') && typeof target.register === 'function') {\r\n          target.register();\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  function Quill(container) {\r\n    var _this2 = this;\r\n\r\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n    _classCallCheck(this, Quill);\r\n\r\n    this.options = expandConfig(container, options);\r\n    this.container = this.options.container;\r\n    if (this.container == null) {\r\n      return debug.error('Invalid Quill container', container);\r\n    }\r\n    if (this.options.debug) {\r\n      Quill.debug(this.options.debug);\r\n    }\r\n    var html = this.container.innerHTML.trim();\r\n    this.container.classList.add('ql-container');\r\n    this.container.innerHTML = '';\r\n    this.container.__quill = this;\r\n    this.root = this.addContainer('ql-editor');\r\n    this.root.classList.add('ql-blank');\r\n    this.root.setAttribute('data-gramm', false);\r\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\r\n    this.emitter = new _emitter4.default();\r\n    this.scroll = _parchment2.default.create(this.root, {\r\n      emitter: this.emitter,\r\n      whitelist: this.options.formats\r\n    });\r\n    this.editor = new _editor2.default(this.scroll);\r\n    this.selection = new _selection2.default(this.scroll, this.emitter);\r\n    this.theme = new this.options.theme(this, this.options);\r\n    this.keyboard = this.theme.addModule('keyboard');\r\n    this.clipboard = this.theme.addModule('clipboard');\r\n    this.history = this.theme.addModule('history');\r\n    this.theme.init();\r\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\r\n      if (type === _emitter4.default.events.TEXT_CHANGE) {\r\n        _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\r\n      }\r\n    });\r\n    this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\r\n      var range = _this2.selection.lastRange;\r\n      var index = range && range.length === 0 ? range.index : undefined;\r\n      modify.call(_this2, function () {\r\n        return _this2.editor.update(null, mutations, index);\r\n      }, source);\r\n    });\r\n    var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\r\n    this.setContents(contents);\r\n    this.history.clear();\r\n    if (this.options.placeholder) {\r\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\r\n    }\r\n    if (this.options.readOnly) {\r\n      this.disable();\r\n    }\r\n  }\r\n\r\n  _createClass(Quill, [{\r\n    key: 'addContainer',\r\n    value: function addContainer(container) {\r\n      var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n\r\n      if (typeof container === 'string') {\r\n        var className = container;\r\n        container = document.createElement('div');\r\n        container.classList.add(className);\r\n      }\r\n      this.container.insertBefore(container, refNode);\r\n      return container;\r\n    }\r\n  }, {\r\n    key: 'blur',\r\n    value: function blur() {\r\n      this.selection.setRange(null);\r\n    }\r\n  }, {\r\n    key: 'deleteText',\r\n    value: function deleteText(index, length, source) {\r\n      var _this3 = this;\r\n\r\n      var _overload = overload(index, length, source);\r\n\r\n      var _overload2 = _slicedToArray(_overload, 4);\r\n\r\n      index = _overload2[0];\r\n      length = _overload2[1];\r\n      source = _overload2[3];\r\n\r\n      return modify.call(this, function () {\r\n        return _this3.editor.deleteText(index, length);\r\n      }, source, index, -1 * length);\r\n    }\r\n  }, {\r\n    key: 'disable',\r\n    value: function disable() {\r\n      this.enable(false);\r\n    }\r\n  }, {\r\n    key: 'enable',\r\n    value: function enable() {\r\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\r\n\r\n      this.scroll.enable(enabled);\r\n      this.container.classList.toggle('ql-disabled', !enabled);\r\n    }\r\n  }, {\r\n    key: 'focus',\r\n    value: function focus() {\r\n      var scrollTop = this.scrollingContainer.scrollTop;\r\n      this.selection.focus();\r\n      this.scrollingContainer.scrollTop = scrollTop;\r\n      this.scrollIntoView();\r\n    }\r\n  }, {\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      var _this4 = this;\r\n\r\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\r\n\r\n      return modify.call(this, function () {\r\n        var range = _this4.getSelection(true);\r\n        var change = new _quillDelta2.default();\r\n        if (range == null) {\r\n          return change;\r\n        } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\r\n          change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\r\n        } else if (range.length === 0) {\r\n          _this4.selection.format(name, value);\r\n          return change;\r\n        } else {\r\n          change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\r\n        }\r\n        _this4.setSelection(range, _emitter4.default.sources.SILENT);\r\n        return change;\r\n      }, source);\r\n    }\r\n  }, {\r\n    key: 'formatLine',\r\n    value: function formatLine(index, length, name, value, source) {\r\n      var _this5 = this;\r\n\r\n      var formats = void 0;\r\n\r\n      var _overload3 = overload(index, length, name, value, source);\r\n\r\n      var _overload4 = _slicedToArray(_overload3, 4);\r\n\r\n      index = _overload4[0];\r\n      length = _overload4[1];\r\n      formats = _overload4[2];\r\n      source = _overload4[3];\r\n\r\n      return modify.call(this, function () {\r\n        return _this5.editor.formatLine(index, length, formats);\r\n      }, source, index, 0);\r\n    }\r\n  }, {\r\n    key: 'formatText',\r\n    value: function formatText(index, length, name, value, source) {\r\n      var _this6 = this;\r\n\r\n      var formats = void 0;\r\n\r\n      var _overload5 = overload(index, length, name, value, source);\r\n\r\n      var _overload6 = _slicedToArray(_overload5, 4);\r\n\r\n      index = _overload6[0];\r\n      length = _overload6[1];\r\n      formats = _overload6[2];\r\n      source = _overload6[3];\r\n\r\n      return modify.call(this, function () {\r\n        return _this6.editor.formatText(index, length, formats);\r\n      }, source, index, 0);\r\n    }\r\n  }, {\r\n    key: 'getBounds',\r\n    value: function getBounds(index) {\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n      var bounds = void 0;\r\n      if (typeof index === 'number') {\r\n        bounds = this.selection.getBounds(index, length);\r\n      } else {\r\n        bounds = this.selection.getBounds(index.index, index.length);\r\n      }\r\n      var containerBounds = this.container.getBoundingClientRect();\r\n      return {\r\n        bottom: bounds.bottom - containerBounds.top,\r\n        height: bounds.height,\r\n        left: bounds.left - containerBounds.left,\r\n        right: bounds.right - containerBounds.left,\r\n        top: bounds.top - containerBounds.top,\r\n        width: bounds.width\r\n      };\r\n    }\r\n  }, {\r\n    key: 'getContents',\r\n    value: function getContents() {\r\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\r\n\r\n      var _overload7 = overload(index, length);\r\n\r\n      var _overload8 = _slicedToArray(_overload7, 2);\r\n\r\n      index = _overload8[0];\r\n      length = _overload8[1];\r\n\r\n      return this.editor.getContents(index, length);\r\n    }\r\n  }, {\r\n    key: 'getFormat',\r\n    value: function getFormat() {\r\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n      if (typeof index === 'number') {\r\n        return this.editor.getFormat(index, length);\r\n      } else {\r\n        return this.editor.getFormat(index.index, index.length);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'getIndex',\r\n    value: function getIndex(blot) {\r\n      return blot.offset(this.scroll);\r\n    }\r\n  }, {\r\n    key: 'getLength',\r\n    value: function getLength() {\r\n      return this.scroll.length();\r\n    }\r\n  }, {\r\n    key: 'getLeaf',\r\n    value: function getLeaf(index) {\r\n      return this.scroll.leaf(index);\r\n    }\r\n  }, {\r\n    key: 'getLine',\r\n    value: function getLine(index) {\r\n      return this.scroll.line(index);\r\n    }\r\n  }, {\r\n    key: 'getLines',\r\n    value: function getLines() {\r\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\r\n\r\n      if (typeof index !== 'number') {\r\n        return this.scroll.lines(index.index, index.length);\r\n      } else {\r\n        return this.scroll.lines(index, length);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'getModule',\r\n    value: function getModule(name) {\r\n      return this.theme.modules[name];\r\n    }\r\n  }, {\r\n    key: 'getSelection',\r\n    value: function getSelection() {\r\n      var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\r\n\r\n      if (focus) this.focus();\r\n      this.update(); // Make sure we access getRange with editor in consistent state\r\n      return this.selection.getRange()[0];\r\n    }\r\n  }, {\r\n    key: 'getText',\r\n    value: function getText() {\r\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\r\n\r\n      var _overload9 = overload(index, length);\r\n\r\n      var _overload10 = _slicedToArray(_overload9, 2);\r\n\r\n      index = _overload10[0];\r\n      length = _overload10[1];\r\n\r\n      return this.editor.getText(index, length);\r\n    }\r\n  }, {\r\n    key: 'hasFocus',\r\n    value: function hasFocus() {\r\n      return this.selection.hasFocus();\r\n    }\r\n  }, {\r\n    key: 'insertEmbed',\r\n    value: function insertEmbed(index, embed, value) {\r\n      var _this7 = this;\r\n\r\n      var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\r\n\r\n      return modify.call(this, function () {\r\n        return _this7.editor.insertEmbed(index, embed, value);\r\n      }, source, index);\r\n    }\r\n  }, {\r\n    key: 'insertText',\r\n    value: function insertText(index, text, name, value, source) {\r\n      var _this8 = this;\r\n\r\n      var formats = void 0;\r\n\r\n      var _overload11 = overload(index, 0, name, value, source);\r\n\r\n      var _overload12 = _slicedToArray(_overload11, 4);\r\n\r\n      index = _overload12[0];\r\n      formats = _overload12[2];\r\n      source = _overload12[3];\r\n\r\n      return modify.call(this, function () {\r\n        return _this8.editor.insertText(index, text, formats);\r\n      }, source, index, text.length);\r\n    }\r\n  }, {\r\n    key: 'isEnabled',\r\n    value: function isEnabled() {\r\n      return !this.container.classList.contains('ql-disabled');\r\n    }\r\n  }, {\r\n    key: 'off',\r\n    value: function off() {\r\n      return this.emitter.off.apply(this.emitter, arguments);\r\n    }\r\n  }, {\r\n    key: 'on',\r\n    value: function on() {\r\n      return this.emitter.on.apply(this.emitter, arguments);\r\n    }\r\n  }, {\r\n    key: 'once',\r\n    value: function once() {\r\n      return this.emitter.once.apply(this.emitter, arguments);\r\n    }\r\n  }, {\r\n    key: 'pasteHTML',\r\n    value: function pasteHTML(index, html, source) {\r\n      this.clipboard.dangerouslyPasteHTML(index, html, source);\r\n    }\r\n  }, {\r\n    key: 'removeFormat',\r\n    value: function removeFormat(index, length, source) {\r\n      var _this9 = this;\r\n\r\n      var _overload13 = overload(index, length, source);\r\n\r\n      var _overload14 = _slicedToArray(_overload13, 4);\r\n\r\n      index = _overload14[0];\r\n      length = _overload14[1];\r\n      source = _overload14[3];\r\n\r\n      return modify.call(this, function () {\r\n        return _this9.editor.removeFormat(index, length);\r\n      }, source, index);\r\n    }\r\n  }, {\r\n    key: 'scrollIntoView',\r\n    value: function scrollIntoView() {\r\n      this.selection.scrollIntoView(this.scrollingContainer);\r\n    }\r\n  }, {\r\n    key: 'setContents',\r\n    value: function setContents(delta) {\r\n      var _this10 = this;\r\n\r\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\r\n\r\n      return modify.call(this, function () {\r\n        delta = new _quillDelta2.default(delta);\r\n        var length = _this10.getLength();\r\n        var deleted = _this10.editor.deleteText(0, length);\r\n        var applied = _this10.editor.applyDelta(delta);\r\n        var lastOp = applied.ops[applied.ops.length - 1];\r\n        if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\r\n          _this10.editor.deleteText(_this10.getLength() - 1, 1);\r\n          applied.delete(1);\r\n        }\r\n        var ret = deleted.compose(applied);\r\n        return ret;\r\n      }, source);\r\n    }\r\n  }, {\r\n    key: 'setSelection',\r\n    value: function setSelection(index, length, source) {\r\n      if (index == null) {\r\n        this.selection.setRange(null, length || Quill.sources.API);\r\n      } else {\r\n        var _overload15 = overload(index, length, source);\r\n\r\n        var _overload16 = _slicedToArray(_overload15, 4);\r\n\r\n        index = _overload16[0];\r\n        length = _overload16[1];\r\n        source = _overload16[3];\r\n\r\n        this.selection.setRange(new _selection.Range(index, length), source);\r\n        if (source !== _emitter4.default.sources.SILENT) {\r\n          this.selection.scrollIntoView(this.scrollingContainer);\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setText',\r\n    value: function setText(text) {\r\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\r\n\r\n      var delta = new _quillDelta2.default().insert(text);\r\n      return this.setContents(delta, source);\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update() {\r\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\r\n\r\n      var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\r\n      this.selection.update(source);\r\n      return change;\r\n    }\r\n  }, {\r\n    key: 'updateContents',\r\n    value: function updateContents(delta) {\r\n      var _this11 = this;\r\n\r\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\r\n\r\n      return modify.call(this, function () {\r\n        delta = new _quillDelta2.default(delta);\r\n        return _this11.editor.applyDelta(delta, source);\r\n      }, source, true);\r\n    }\r\n  }]);\r\n\r\n  return Quill;\r\n}();\r\n\r\nQuill.DEFAULTS = {\r\n  bounds: null,\r\n  formats: null,\r\n  modules: {},\r\n  placeholder: '',\r\n  readOnly: false,\r\n  scrollingContainer: null,\r\n  strict: true,\r\n  theme: 'default'\r\n};\r\nQuill.events = _emitter4.default.events;\r\nQuill.sources = _emitter4.default.sources;\r\n// eslint-disable-next-line no-undef\r\nQuill.version =  false ? 'dev' : \"1.3.7\";\r\n\r\nQuill.imports = {\r\n  'delta': _quillDelta2.default,\r\n  'parchment': _parchment2.default,\r\n  'core/module': _module2.default,\r\n  'core/theme': _theme2.default\r\n};\r\n\r\nfunction expandConfig(container, userConfig) {\r\n  userConfig = (0, _extend2.default)(true, {\r\n    container: container,\r\n    modules: {\r\n      clipboard: true,\r\n      keyboard: true,\r\n      history: true\r\n    }\r\n  }, userConfig);\r\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\r\n    userConfig.theme = _theme2.default;\r\n  } else {\r\n    userConfig.theme = Quill.import('themes/' + userConfig.theme);\r\n    if (userConfig.theme == null) {\r\n      throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\r\n    }\r\n  }\r\n  var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\r\n  [themeConfig, userConfig].forEach(function (config) {\r\n    config.modules = config.modules || {};\r\n    Object.keys(config.modules).forEach(function (module) {\r\n      if (config.modules[module] === true) {\r\n        config.modules[module] = {};\r\n      }\r\n    });\r\n  });\r\n  var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\r\n  var moduleConfig = moduleNames.reduce(function (config, name) {\r\n    var moduleClass = Quill.import('modules/' + name);\r\n    if (moduleClass == null) {\r\n      debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\r\n    } else {\r\n      config[name] = moduleClass.DEFAULTS || {};\r\n    }\r\n    return config;\r\n  }, {});\r\n  // Special case toolbar shorthand\r\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\r\n    userConfig.modules.toolbar = {\r\n      container: userConfig.modules.toolbar\r\n    };\r\n  }\r\n  userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);\r\n  ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\r\n    if (typeof userConfig[key] === 'string') {\r\n      userConfig[key] = document.querySelector(userConfig[key]);\r\n    }\r\n  });\r\n  userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\r\n    if (userConfig.modules[name]) {\r\n      config[name] = userConfig.modules[name];\r\n    }\r\n    return config;\r\n  }, {});\r\n  return userConfig;\r\n}\r\n\r\n// Handle selection preservation and TEXT_CHANGE emission\r\n// common to modification APIs\r\nfunction modify(modifier, source, index, shift) {\r\n  if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\r\n    return new _quillDelta2.default();\r\n  }\r\n  var range = index == null ? null : this.getSelection();\r\n  var oldDelta = this.editor.delta;\r\n  var change = modifier();\r\n  if (range != null) {\r\n    if (index === true) index = range.index;\r\n    if (shift == null) {\r\n      range = shiftRange(range, change, source);\r\n    } else if (shift !== 0) {\r\n      range = shiftRange(range, index, shift, source);\r\n    }\r\n    this.setSelection(range, _emitter4.default.sources.SILENT);\r\n  }\r\n  if (change.length() > 0) {\r\n    var _emitter;\r\n\r\n    var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\r\n    (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\r\n    if (source !== _emitter4.default.sources.SILENT) {\r\n      var _emitter2;\r\n\r\n      (_emitter2 = this.emitter).emit.apply(_emitter2, args);\r\n    }\r\n  }\r\n  return change;\r\n}\r\n\r\nfunction overload(index, length, name, value, source) {\r\n  var formats = {};\r\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\r\n    // Allow for throwaway end (used by insertText/insertEmbed)\r\n    if (typeof length !== 'number') {\r\n      source = value, value = name, name = length, length = index.length, index = index.index;\r\n    } else {\r\n      length = index.length, index = index.index;\r\n    }\r\n  } else if (typeof length !== 'number') {\r\n    source = value, value = name, name = length, length = 0;\r\n  }\r\n  // Handle format being object, two format name/value strings or excluded\r\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\r\n    formats = name;\r\n    source = value;\r\n  } else if (typeof name === 'string') {\r\n    if (value != null) {\r\n      formats[name] = value;\r\n    } else {\r\n      source = name;\r\n    }\r\n  }\r\n  // Handle optional source\r\n  source = source || _emitter4.default.sources.API;\r\n  return [index, length, formats, source];\r\n}\r\n\r\nfunction shiftRange(range, index, length, source) {\r\n  if (range == null) return null;\r\n  var start = void 0,\r\n      end = void 0;\r\n  if (index instanceof _quillDelta2.default) {\r\n    var _map = [range.index, range.index + range.length].map(function (pos) {\r\n      return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\r\n    });\r\n\r\n    var _map2 = _slicedToArray(_map, 2);\r\n\r\n    start = _map2[0];\r\n    end = _map2[1];\r\n  } else {\r\n    var _map3 = [range.index, range.index + range.length].map(function (pos) {\r\n      if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\r\n      if (length >= 0) {\r\n        return pos + length;\r\n      } else {\r\n        return Math.max(index, pos + length);\r\n      }\r\n    });\r\n\r\n    var _map4 = _slicedToArray(_map3, 2);\r\n\r\n    start = _map4[0];\r\n    end = _map4[1];\r\n  }\r\n  return new _selection.Range(start, end - start);\r\n}\r\n\r\nexports.expandConfig = expandConfig;\r\nexports.overload = overload;\r\nexports.default = Quill;\r\n\r\n/***/ }),\r\n/* 6 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Inline = function (_Parchment$Inline) {\r\n  _inherits(Inline, _Parchment$Inline);\r\n\r\n  function Inline() {\r\n    _classCallCheck(this, Inline);\r\n\r\n    return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Inline, [{\r\n    key: 'formatAt',\r\n    value: function formatAt(index, length, name, value) {\r\n      if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\r\n        var blot = this.isolate(index, length);\r\n        if (value) {\r\n          blot.wrap(name, value);\r\n        }\r\n      } else {\r\n        _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'optimize',\r\n    value: function optimize(context) {\r\n      _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\r\n      if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\r\n        var parent = this.parent.isolate(this.offset(), this.length());\r\n        this.moveChildren(parent);\r\n        parent.wrap(this);\r\n      }\r\n    }\r\n  }], [{\r\n    key: 'compare',\r\n    value: function compare(self, other) {\r\n      var selfIndex = Inline.order.indexOf(self);\r\n      var otherIndex = Inline.order.indexOf(other);\r\n      if (selfIndex >= 0 || otherIndex >= 0) {\r\n        return selfIndex - otherIndex;\r\n      } else if (self === other) {\r\n        return 0;\r\n      } else if (self < other) {\r\n        return -1;\r\n      } else {\r\n        return 1;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Inline;\r\n}(_parchment2.default.Inline);\r\n\r\nInline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];\r\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\r\nInline.order = ['cursor', 'inline', // Must be lower\r\n'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\r\n];\r\n\r\nexports.default = Inline;\r\n\r\n/***/ }),\r\n/* 7 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar TextBlot = function (_Parchment$Text) {\r\n  _inherits(TextBlot, _Parchment$Text);\r\n\r\n  function TextBlot() {\r\n    _classCallCheck(this, TextBlot);\r\n\r\n    return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\r\n  }\r\n\r\n  return TextBlot;\r\n}(_parchment2.default.Text);\r\n\r\nexports.default = TextBlot;\r\n\r\n/***/ }),\r\n/* 8 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _eventemitter = __webpack_require__(54);\r\n\r\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar debug = (0, _logger2.default)('quill:events');\r\n\r\nvar EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\r\n\r\nEVENTS.forEach(function (eventName) {\r\n  document.addEventListener(eventName, function () {\r\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\r\n      // TODO use WeakMap\r\n      if (node.__quill && node.__quill.emitter) {\r\n        var _node$__quill$emitter;\r\n\r\n        (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\r\n      }\r\n    });\r\n  });\r\n});\r\n\r\nvar Emitter = function (_EventEmitter) {\r\n  _inherits(Emitter, _EventEmitter);\r\n\r\n  function Emitter() {\r\n    _classCallCheck(this, Emitter);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\r\n\r\n    _this.listeners = {};\r\n    _this.on('error', debug.error);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Emitter, [{\r\n    key: 'emit',\r\n    value: function emit() {\r\n      debug.log.apply(debug, arguments);\r\n      _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\r\n    }\r\n  }, {\r\n    key: 'handleDOM',\r\n    value: function handleDOM(event) {\r\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\r\n        args[_key2 - 1] = arguments[_key2];\r\n      }\r\n\r\n      (this.listeners[event.type] || []).forEach(function (_ref) {\r\n        var node = _ref.node,\r\n            handler = _ref.handler;\r\n\r\n        if (event.target === node || node.contains(event.target)) {\r\n          handler.apply(undefined, [event].concat(args));\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: 'listenDOM',\r\n    value: function listenDOM(eventName, node, handler) {\r\n      if (!this.listeners[eventName]) {\r\n        this.listeners[eventName] = [];\r\n      }\r\n      this.listeners[eventName].push({ node: node, handler: handler });\r\n    }\r\n  }]);\r\n\r\n  return Emitter;\r\n}(_eventemitter2.default);\r\n\r\nEmitter.events = {\r\n  EDITOR_CHANGE: 'editor-change',\r\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\r\n  SCROLL_OPTIMIZE: 'scroll-optimize',\r\n  SCROLL_UPDATE: 'scroll-update',\r\n  SELECTION_CHANGE: 'selection-change',\r\n  TEXT_CHANGE: 'text-change'\r\n};\r\nEmitter.sources = {\r\n  API: 'api',\r\n  SILENT: 'silent',\r\n  USER: 'user'\r\n};\r\n\r\nexports.default = Emitter;\r\n\r\n/***/ }),\r\n/* 9 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Module = function Module(quill) {\r\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n  _classCallCheck(this, Module);\r\n\r\n  this.quill = quill;\r\n  this.options = options;\r\n};\r\n\r\nModule.DEFAULTS = {};\r\n\r\nexports.default = Module;\r\n\r\n/***/ }),\r\n/* 10 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nvar levels = ['error', 'warn', 'log', 'info'];\r\nvar level = 'warn';\r\n\r\nfunction debug(method) {\r\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\r\n    var _console;\r\n\r\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n      args[_key - 1] = arguments[_key];\r\n    }\r\n\r\n    (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\r\n  }\r\n}\r\n\r\nfunction namespace(ns) {\r\n  return levels.reduce(function (logger, method) {\r\n    logger[method] = debug.bind(console, method, ns);\r\n    return logger;\r\n  }, {});\r\n}\r\n\r\ndebug.level = namespace.level = function (newLevel) {\r\n  level = newLevel;\r\n};\r\n\r\nexports.default = namespace;\r\n\r\n/***/ }),\r\n/* 11 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar pSlice = Array.prototype.slice;\r\nvar objectKeys = __webpack_require__(52);\r\nvar isArguments = __webpack_require__(53);\r\n\r\nvar deepEqual = module.exports = function (actual, expected, opts) {\r\n  if (!opts) opts = {};\r\n  // 7.1. All identical values are equivalent, as determined by ===.\r\n  if (actual === expected) {\r\n    return true;\r\n\r\n  } else if (actual instanceof Date && expected instanceof Date) {\r\n    return actual.getTime() === expected.getTime();\r\n\r\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\r\n  // equivalence is determined by ==.\r\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\r\n    return opts.strict ? actual === expected : actual == expected;\r\n\r\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\r\n  // determined by having the same number of owned properties (as verified\r\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\r\n  // (although not necessarily the same order), equivalent values for every\r\n  // corresponding key, and an identical 'prototype' property. Note: this\r\n  // accounts for both named and indexed properties on Arrays.\r\n  } else {\r\n    return objEquiv(actual, expected, opts);\r\n  }\r\n}\r\n\r\nfunction isUndefinedOrNull(value) {\r\n  return value === null || value === undefined;\r\n}\r\n\r\nfunction isBuffer (x) {\r\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\r\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\r\n    return false;\r\n  }\r\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\r\n  return true;\r\n}\r\n\r\nfunction objEquiv(a, b, opts) {\r\n  var i, key;\r\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\r\n    return false;\r\n  // an identical 'prototype' property.\r\n  if (a.prototype !== b.prototype) return false;\r\n  //~~~I've managed to break Object.keys through screwy arguments passing.\r\n  //   Converting to array solves the problem.\r\n  if (isArguments(a)) {\r\n    if (!isArguments(b)) {\r\n      return false;\r\n    }\r\n    a = pSlice.call(a);\r\n    b = pSlice.call(b);\r\n    return deepEqual(a, b, opts);\r\n  }\r\n  if (isBuffer(a)) {\r\n    if (!isBuffer(b)) {\r\n      return false;\r\n    }\r\n    if (a.length !== b.length) return false;\r\n    for (i = 0; i < a.length; i++) {\r\n      if (a[i] !== b[i]) return false;\r\n    }\r\n    return true;\r\n  }\r\n  try {\r\n    var ka = objectKeys(a),\r\n        kb = objectKeys(b);\r\n  } catch (e) {//happens when one is a string literal and the other isn't\r\n    return false;\r\n  }\r\n  // having the same number of owned properties (keys incorporates\r\n  // hasOwnProperty)\r\n  if (ka.length != kb.length)\r\n    return false;\r\n  //the same set of keys (although not necessarily the same order),\r\n  ka.sort();\r\n  kb.sort();\r\n  //~~~cheap key test\r\n  for (i = ka.length - 1; i >= 0; i--) {\r\n    if (ka[i] != kb[i])\r\n      return false;\r\n  }\r\n  //equivalent values for every corresponding key, and\r\n  //~~~possibly expensive deep test\r\n  for (i = ka.length - 1; i >= 0; i--) {\r\n    key = ka[i];\r\n    if (!deepEqual(a[key], b[key], opts)) return false;\r\n  }\r\n  return typeof a === typeof b;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 12 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Registry = __webpack_require__(1);\r\nvar Attributor = /** @class */ (function () {\r\n    function Attributor(attrName, keyName, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.attrName = attrName;\r\n        this.keyName = keyName;\r\n        var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\r\n        if (options.scope != null) {\r\n            // Ignore type bits, force attribute bit\r\n            this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;\r\n        }\r\n        else {\r\n            this.scope = Registry.Scope.ATTRIBUTE;\r\n        }\r\n        if (options.whitelist != null)\r\n            this.whitelist = options.whitelist;\r\n    }\r\n    Attributor.keys = function (node) {\r\n        return [].map.call(node.attributes, function (item) {\r\n            return item.name;\r\n        });\r\n    };\r\n    Attributor.prototype.add = function (node, value) {\r\n        if (!this.canAdd(node, value))\r\n            return false;\r\n        node.setAttribute(this.keyName, value);\r\n        return true;\r\n    };\r\n    Attributor.prototype.canAdd = function (node, value) {\r\n        var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\r\n        if (match == null)\r\n            return false;\r\n        if (this.whitelist == null)\r\n            return true;\r\n        if (typeof value === 'string') {\r\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\r\n        }\r\n        else {\r\n            return this.whitelist.indexOf(value) > -1;\r\n        }\r\n    };\r\n    Attributor.prototype.remove = function (node) {\r\n        node.removeAttribute(this.keyName);\r\n    };\r\n    Attributor.prototype.value = function (node) {\r\n        var value = node.getAttribute(this.keyName);\r\n        if (this.canAdd(node, value) && value) {\r\n            return value;\r\n        }\r\n        return '';\r\n    };\r\n    return Attributor;\r\n}());\r\nexports.default = Attributor;\r\n\r\n\r\n/***/ }),\r\n/* 13 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.Code = undefined;\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Code = function (_Inline) {\r\n  _inherits(Code, _Inline);\r\n\r\n  function Code() {\r\n    _classCallCheck(this, Code);\r\n\r\n    return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\r\n  }\r\n\r\n  return Code;\r\n}(_inline2.default);\r\n\r\nCode.blotName = 'code';\r\nCode.tagName = 'CODE';\r\n\r\nvar CodeBlock = function (_Block) {\r\n  _inherits(CodeBlock, _Block);\r\n\r\n  function CodeBlock() {\r\n    _classCallCheck(this, CodeBlock);\r\n\r\n    return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(CodeBlock, [{\r\n    key: 'delta',\r\n    value: function delta() {\r\n      var _this3 = this;\r\n\r\n      var text = this.domNode.textContent;\r\n      if (text.endsWith('\\n')) {\r\n        // Should always be true\r\n        text = text.slice(0, -1);\r\n      }\r\n      return text.split('\\n').reduce(function (delta, frag) {\r\n        return delta.insert(frag).insert('\\n', _this3.formats());\r\n      }, new _quillDelta2.default());\r\n    }\r\n  }, {\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (name === this.statics.blotName && value) return;\r\n\r\n      var _descendant = this.descendant(_text2.default, this.length() - 1),\r\n          _descendant2 = _slicedToArray(_descendant, 1),\r\n          text = _descendant2[0];\r\n\r\n      if (text != null) {\r\n        text.deleteAt(text.length() - 1, 1);\r\n      }\r\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\r\n    }\r\n  }, {\r\n    key: 'formatAt',\r\n    value: function formatAt(index, length, name, value) {\r\n      if (length === 0) return;\r\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\r\n        return;\r\n      }\r\n      var nextNewline = this.newlineIndex(index);\r\n      if (nextNewline < 0 || nextNewline >= index + length) return;\r\n      var prevNewline = this.newlineIndex(index, true) + 1;\r\n      var isolateLength = nextNewline - prevNewline + 1;\r\n      var blot = this.isolate(prevNewline, isolateLength);\r\n      var next = blot.next;\r\n      blot.format(name, value);\r\n      if (next instanceof CodeBlock) {\r\n        next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'insertAt',\r\n    value: function insertAt(index, value, def) {\r\n      if (def != null) return;\r\n\r\n      var _descendant3 = this.descendant(_text2.default, index),\r\n          _descendant4 = _slicedToArray(_descendant3, 2),\r\n          text = _descendant4[0],\r\n          offset = _descendant4[1];\r\n\r\n      text.insertAt(offset, value);\r\n    }\r\n  }, {\r\n    key: 'length',\r\n    value: function length() {\r\n      var length = this.domNode.textContent.length;\r\n      if (!this.domNode.textContent.endsWith('\\n')) {\r\n        return length + 1;\r\n      }\r\n      return length;\r\n    }\r\n  }, {\r\n    key: 'newlineIndex',\r\n    value: function newlineIndex(searchIndex) {\r\n      var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n      if (!reverse) {\r\n        var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\r\n        return offset > -1 ? searchIndex + offset : -1;\r\n      } else {\r\n        return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\r\n      }\r\n    }\r\n  }, {\r\n    key: 'optimize',\r\n    value: function optimize(context) {\r\n      if (!this.domNode.textContent.endsWith('\\n')) {\r\n        this.appendChild(_parchment2.default.create('text', '\\n'));\r\n      }\r\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\r\n      var next = this.next;\r\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\r\n        next.optimize(context);\r\n        next.moveChildren(this);\r\n        next.remove();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'replace',\r\n    value: function replace(target) {\r\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\r\n      [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\r\n        var blot = _parchment2.default.find(node);\r\n        if (blot == null) {\r\n          node.parentNode.removeChild(node);\r\n        } else if (blot instanceof _parchment2.default.Embed) {\r\n          blot.remove();\r\n        } else {\r\n          blot.unwrap();\r\n        }\r\n      });\r\n    }\r\n  }], [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\r\n      domNode.setAttribute('spellcheck', false);\r\n      return domNode;\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats() {\r\n      return true;\r\n    }\r\n  }]);\r\n\r\n  return CodeBlock;\r\n}(_block2.default);\r\n\r\nCodeBlock.blotName = 'code-block';\r\nCodeBlock.tagName = 'PRE';\r\nCodeBlock.TAB = '  ';\r\n\r\nexports.Code = Code;\r\nexports.default = CodeBlock;\r\n\r\n/***/ }),\r\n/* 14 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _op = __webpack_require__(20);\r\n\r\nvar _op2 = _interopRequireDefault(_op);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _code = __webpack_require__(13);\r\n\r\nvar _code2 = _interopRequireDefault(_code);\r\n\r\nvar _cursor = __webpack_require__(24);\r\n\r\nvar _cursor2 = _interopRequireDefault(_cursor);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nvar _break = __webpack_require__(16);\r\n\r\nvar _break2 = _interopRequireDefault(_break);\r\n\r\nvar _clone = __webpack_require__(21);\r\n\r\nvar _clone2 = _interopRequireDefault(_clone);\r\n\r\nvar _deepEqual = __webpack_require__(11);\r\n\r\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar ASCII = /^[ -~]*$/;\r\n\r\nvar Editor = function () {\r\n  function Editor(scroll) {\r\n    _classCallCheck(this, Editor);\r\n\r\n    this.scroll = scroll;\r\n    this.delta = this.getDelta();\r\n  }\r\n\r\n  _createClass(Editor, [{\r\n    key: 'applyDelta',\r\n    value: function applyDelta(delta) {\r\n      var _this = this;\r\n\r\n      var consumeNextNewline = false;\r\n      this.scroll.update();\r\n      var scrollLength = this.scroll.length();\r\n      this.scroll.batchStart();\r\n      delta = normalizeDelta(delta);\r\n      delta.reduce(function (index, op) {\r\n        var length = op.retain || op.delete || op.insert.length || 1;\r\n        var attributes = op.attributes || {};\r\n        if (op.insert != null) {\r\n          if (typeof op.insert === 'string') {\r\n            var text = op.insert;\r\n            if (text.endsWith('\\n') && consumeNextNewline) {\r\n              consumeNextNewline = false;\r\n              text = text.slice(0, -1);\r\n            }\r\n            if (index >= scrollLength && !text.endsWith('\\n')) {\r\n              consumeNextNewline = true;\r\n            }\r\n            _this.scroll.insertAt(index, text);\r\n\r\n            var _scroll$line = _this.scroll.line(index),\r\n                _scroll$line2 = _slicedToArray(_scroll$line, 2),\r\n                line = _scroll$line2[0],\r\n                offset = _scroll$line2[1];\r\n\r\n            var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\r\n            if (line instanceof _block2.default) {\r\n              var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\r\n                  _line$descendant2 = _slicedToArray(_line$descendant, 1),\r\n                  leaf = _line$descendant2[0];\r\n\r\n              formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\r\n            }\r\n            attributes = _op2.default.attributes.diff(formats, attributes) || {};\r\n          } else if (_typeof(op.insert) === 'object') {\r\n            var key = Object.keys(op.insert)[0]; // There should only be one key\r\n            if (key == null) return index;\r\n            _this.scroll.insertAt(index, key, op.insert[key]);\r\n          }\r\n          scrollLength += length;\r\n        }\r\n        Object.keys(attributes).forEach(function (name) {\r\n          _this.scroll.formatAt(index, length, name, attributes[name]);\r\n        });\r\n        return index + length;\r\n      }, 0);\r\n      delta.reduce(function (index, op) {\r\n        if (typeof op.delete === 'number') {\r\n          _this.scroll.deleteAt(index, op.delete);\r\n          return index;\r\n        }\r\n        return index + (op.retain || op.insert.length || 1);\r\n      }, 0);\r\n      this.scroll.batchEnd();\r\n      return this.update(delta);\r\n    }\r\n  }, {\r\n    key: 'deleteText',\r\n    value: function deleteText(index, length) {\r\n      this.scroll.deleteAt(index, length);\r\n      return this.update(new _quillDelta2.default().retain(index).delete(length));\r\n    }\r\n  }, {\r\n    key: 'formatLine',\r\n    value: function formatLine(index, length) {\r\n      var _this2 = this;\r\n\r\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\r\n\r\n      this.scroll.update();\r\n      Object.keys(formats).forEach(function (format) {\r\n        if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\r\n        var lines = _this2.scroll.lines(index, Math.max(length, 1));\r\n        var lengthRemaining = length;\r\n        lines.forEach(function (line) {\r\n          var lineLength = line.length();\r\n          if (!(line instanceof _code2.default)) {\r\n            line.format(format, formats[format]);\r\n          } else {\r\n            var codeIndex = index - line.offset(_this2.scroll);\r\n            var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\r\n            line.formatAt(codeIndex, codeLength, format, formats[format]);\r\n          }\r\n          lengthRemaining -= lineLength;\r\n        });\r\n      });\r\n      this.scroll.optimize();\r\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\r\n    }\r\n  }, {\r\n    key: 'formatText',\r\n    value: function formatText(index, length) {\r\n      var _this3 = this;\r\n\r\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\r\n\r\n      Object.keys(formats).forEach(function (format) {\r\n        _this3.scroll.formatAt(index, length, format, formats[format]);\r\n      });\r\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\r\n    }\r\n  }, {\r\n    key: 'getContents',\r\n    value: function getContents(index, length) {\r\n      return this.delta.slice(index, index + length);\r\n    }\r\n  }, {\r\n    key: 'getDelta',\r\n    value: function getDelta() {\r\n      return this.scroll.lines().reduce(function (delta, line) {\r\n        return delta.concat(line.delta());\r\n      }, new _quillDelta2.default());\r\n    }\r\n  }, {\r\n    key: 'getFormat',\r\n    value: function getFormat(index) {\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n      var lines = [],\r\n          leaves = [];\r\n      if (length === 0) {\r\n        this.scroll.path(index).forEach(function (path) {\r\n          var _path = _slicedToArray(path, 1),\r\n              blot = _path[0];\r\n\r\n          if (blot instanceof _block2.default) {\r\n            lines.push(blot);\r\n          } else if (blot instanceof _parchment2.default.Leaf) {\r\n            leaves.push(blot);\r\n          }\r\n        });\r\n      } else {\r\n        lines = this.scroll.lines(index, length);\r\n        leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\r\n      }\r\n      var formatsArr = [lines, leaves].map(function (blots) {\r\n        if (blots.length === 0) return {};\r\n        var formats = (0, _block.bubbleFormats)(blots.shift());\r\n        while (Object.keys(formats).length > 0) {\r\n          var blot = blots.shift();\r\n          if (blot == null) return formats;\r\n          formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\r\n        }\r\n        return formats;\r\n      });\r\n      return _extend2.default.apply(_extend2.default, formatsArr);\r\n    }\r\n  }, {\r\n    key: 'getText',\r\n    value: function getText(index, length) {\r\n      return this.getContents(index, length).filter(function (op) {\r\n        return typeof op.insert === 'string';\r\n      }).map(function (op) {\r\n        return op.insert;\r\n      }).join('');\r\n    }\r\n  }, {\r\n    key: 'insertEmbed',\r\n    value: function insertEmbed(index, embed, value) {\r\n      this.scroll.insertAt(index, embed, value);\r\n      return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\r\n    }\r\n  }, {\r\n    key: 'insertText',\r\n    value: function insertText(index, text) {\r\n      var _this4 = this;\r\n\r\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\r\n\r\n      text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\r\n      this.scroll.insertAt(index, text);\r\n      Object.keys(formats).forEach(function (format) {\r\n        _this4.scroll.formatAt(index, text.length, format, formats[format]);\r\n      });\r\n      return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\r\n    }\r\n  }, {\r\n    key: 'isBlank',\r\n    value: function isBlank() {\r\n      if (this.scroll.children.length == 0) return true;\r\n      if (this.scroll.children.length > 1) return false;\r\n      var block = this.scroll.children.head;\r\n      if (block.statics.blotName !== _block2.default.blotName) return false;\r\n      if (block.children.length > 1) return false;\r\n      return block.children.head instanceof _break2.default;\r\n    }\r\n  }, {\r\n    key: 'removeFormat',\r\n    value: function removeFormat(index, length) {\r\n      var text = this.getText(index, length);\r\n\r\n      var _scroll$line3 = this.scroll.line(index + length),\r\n          _scroll$line4 = _slicedToArray(_scroll$line3, 2),\r\n          line = _scroll$line4[0],\r\n          offset = _scroll$line4[1];\r\n\r\n      var suffixLength = 0,\r\n          suffix = new _quillDelta2.default();\r\n      if (line != null) {\r\n        if (!(line instanceof _code2.default)) {\r\n          suffixLength = line.length() - offset;\r\n        } else {\r\n          suffixLength = line.newlineIndex(offset) - offset + 1;\r\n        }\r\n        suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\r\n      }\r\n      var contents = this.getContents(index, length + suffixLength);\r\n      var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\r\n      var delta = new _quillDelta2.default().retain(index).concat(diff);\r\n      return this.applyDelta(delta);\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(change) {\r\n      var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\r\n      var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\r\n\r\n      var oldDelta = this.delta;\r\n      if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\r\n        // Optimization for character changes\r\n        var textBlot = _parchment2.default.find(mutations[0].target);\r\n        var formats = (0, _block.bubbleFormats)(textBlot);\r\n        var index = textBlot.offset(this.scroll);\r\n        var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\r\n        var oldText = new _quillDelta2.default().insert(oldValue);\r\n        var newText = new _quillDelta2.default().insert(textBlot.value());\r\n        var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\r\n        change = diffDelta.reduce(function (delta, op) {\r\n          if (op.insert) {\r\n            return delta.insert(op.insert, formats);\r\n          } else {\r\n            return delta.push(op);\r\n          }\r\n        }, new _quillDelta2.default());\r\n        this.delta = oldDelta.compose(change);\r\n      } else {\r\n        this.delta = this.getDelta();\r\n        if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\r\n          change = oldDelta.diff(this.delta, cursorIndex);\r\n        }\r\n      }\r\n      return change;\r\n    }\r\n  }]);\r\n\r\n  return Editor;\r\n}();\r\n\r\nfunction combineFormats(formats, combined) {\r\n  return Object.keys(combined).reduce(function (merged, name) {\r\n    if (formats[name] == null) return merged;\r\n    if (combined[name] === formats[name]) {\r\n      merged[name] = combined[name];\r\n    } else if (Array.isArray(combined[name])) {\r\n      if (combined[name].indexOf(formats[name]) < 0) {\r\n        merged[name] = combined[name].concat([formats[name]]);\r\n      }\r\n    } else {\r\n      merged[name] = [combined[name], formats[name]];\r\n    }\r\n    return merged;\r\n  }, {});\r\n}\r\n\r\nfunction normalizeDelta(delta) {\r\n  return delta.reduce(function (delta, op) {\r\n    if (op.insert === 1) {\r\n      var attributes = (0, _clone2.default)(op.attributes);\r\n      delete attributes['image'];\r\n      return delta.insert({ image: op.attributes.image }, attributes);\r\n    }\r\n    if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\r\n      op = (0, _clone2.default)(op);\r\n      if (op.attributes.list) {\r\n        op.attributes.list = 'ordered';\r\n      } else {\r\n        op.attributes.list = 'bullet';\r\n        delete op.attributes.bullet;\r\n      }\r\n    }\r\n    if (typeof op.insert === 'string') {\r\n      var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\r\n      return delta.insert(text, op.attributes);\r\n    }\r\n    return delta.push(op);\r\n  }, new _quillDelta2.default());\r\n}\r\n\r\nexports.default = Editor;\r\n\r\n/***/ }),\r\n/* 15 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.Range = undefined;\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _clone = __webpack_require__(21);\r\n\r\nvar _clone2 = _interopRequireDefault(_clone);\r\n\r\nvar _deepEqual = __webpack_require__(11);\r\n\r\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\r\n\r\nvar _emitter3 = __webpack_require__(8);\r\n\r\nvar _emitter4 = _interopRequireDefault(_emitter3);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar debug = (0, _logger2.default)('quill:selection');\r\n\r\nvar Range = function Range(index) {\r\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n  _classCallCheck(this, Range);\r\n\r\n  this.index = index;\r\n  this.length = length;\r\n};\r\n\r\nvar Selection = function () {\r\n  function Selection(scroll, emitter) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, Selection);\r\n\r\n    this.emitter = emitter;\r\n    this.scroll = scroll;\r\n    this.composing = false;\r\n    this.mouseDown = false;\r\n    this.root = this.scroll.domNode;\r\n    this.cursor = _parchment2.default.create('cursor', this);\r\n    // savedRange is last non-null range\r\n    this.lastRange = this.savedRange = new Range(0, 0);\r\n    this.handleComposition();\r\n    this.handleDragging();\r\n    this.emitter.listenDOM('selectionchange', document, function () {\r\n      if (!_this.mouseDown) {\r\n        setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\r\n      }\r\n    });\r\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\r\n      if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\r\n        _this.update(_emitter4.default.sources.SILENT);\r\n      }\r\n    });\r\n    this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\r\n      if (!_this.hasFocus()) return;\r\n      var native = _this.getNativeRange();\r\n      if (native == null) return;\r\n      if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\r\n      // TODO unclear if this has negative side effects\r\n      _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\r\n        try {\r\n          _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\r\n        } catch (ignored) {}\r\n      });\r\n    });\r\n    this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\r\n      if (context.range) {\r\n        var _context$range = context.range,\r\n            startNode = _context$range.startNode,\r\n            startOffset = _context$range.startOffset,\r\n            endNode = _context$range.endNode,\r\n            endOffset = _context$range.endOffset;\r\n\r\n        _this.setNativeRange(startNode, startOffset, endNode, endOffset);\r\n      }\r\n    });\r\n    this.update(_emitter4.default.sources.SILENT);\r\n  }\r\n\r\n  _createClass(Selection, [{\r\n    key: 'handleComposition',\r\n    value: function handleComposition() {\r\n      var _this2 = this;\r\n\r\n      this.root.addEventListener('compositionstart', function () {\r\n        _this2.composing = true;\r\n      });\r\n      this.root.addEventListener('compositionend', function () {\r\n        _this2.composing = false;\r\n        if (_this2.cursor.parent) {\r\n          var range = _this2.cursor.restore();\r\n          if (!range) return;\r\n          setTimeout(function () {\r\n            _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\r\n          }, 1);\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: 'handleDragging',\r\n    value: function handleDragging() {\r\n      var _this3 = this;\r\n\r\n      this.emitter.listenDOM('mousedown', document.body, function () {\r\n        _this3.mouseDown = true;\r\n      });\r\n      this.emitter.listenDOM('mouseup', document.body, function () {\r\n        _this3.mouseDown = false;\r\n        _this3.update(_emitter4.default.sources.USER);\r\n      });\r\n    }\r\n  }, {\r\n    key: 'focus',\r\n    value: function focus() {\r\n      if (this.hasFocus()) return;\r\n      this.root.focus();\r\n      this.setRange(this.savedRange);\r\n    }\r\n  }, {\r\n    key: 'format',\r\n    value: function format(_format, value) {\r\n      if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\r\n      this.scroll.update();\r\n      var nativeRange = this.getNativeRange();\r\n      if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\r\n      if (nativeRange.start.node !== this.cursor.textNode) {\r\n        var blot = _parchment2.default.find(nativeRange.start.node, false);\r\n        if (blot == null) return;\r\n        // TODO Give blot ability to not split\r\n        if (blot instanceof _parchment2.default.Leaf) {\r\n          var after = blot.split(nativeRange.start.offset);\r\n          blot.parent.insertBefore(this.cursor, after);\r\n        } else {\r\n          blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\r\n        }\r\n        this.cursor.attach();\r\n      }\r\n      this.cursor.format(_format, value);\r\n      this.scroll.optimize();\r\n      this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\r\n      this.update();\r\n    }\r\n  }, {\r\n    key: 'getBounds',\r\n    value: function getBounds(index) {\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n      var scrollLength = this.scroll.length();\r\n      index = Math.min(index, scrollLength - 1);\r\n      length = Math.min(index + length, scrollLength - 1) - index;\r\n      var node = void 0,\r\n          _scroll$leaf = this.scroll.leaf(index),\r\n          _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\r\n          leaf = _scroll$leaf2[0],\r\n          offset = _scroll$leaf2[1];\r\n      if (leaf == null) return null;\r\n\r\n      var _leaf$position = leaf.position(offset, true);\r\n\r\n      var _leaf$position2 = _slicedToArray(_leaf$position, 2);\r\n\r\n      node = _leaf$position2[0];\r\n      offset = _leaf$position2[1];\r\n\r\n      var range = document.createRange();\r\n      if (length > 0) {\r\n        range.setStart(node, offset);\r\n\r\n        var _scroll$leaf3 = this.scroll.leaf(index + length);\r\n\r\n        var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\r\n\r\n        leaf = _scroll$leaf4[0];\r\n        offset = _scroll$leaf4[1];\r\n\r\n        if (leaf == null) return null;\r\n\r\n        var _leaf$position3 = leaf.position(offset, true);\r\n\r\n        var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\r\n\r\n        node = _leaf$position4[0];\r\n        offset = _leaf$position4[1];\r\n\r\n        range.setEnd(node, offset);\r\n        return range.getBoundingClientRect();\r\n      } else {\r\n        var side = 'left';\r\n        var rect = void 0;\r\n        if (node instanceof Text) {\r\n          if (offset < node.data.length) {\r\n            range.setStart(node, offset);\r\n            range.setEnd(node, offset + 1);\r\n          } else {\r\n            range.setStart(node, offset - 1);\r\n            range.setEnd(node, offset);\r\n            side = 'right';\r\n          }\r\n          rect = range.getBoundingClientRect();\r\n        } else {\r\n          rect = leaf.domNode.getBoundingClientRect();\r\n          if (offset > 0) side = 'right';\r\n        }\r\n        return {\r\n          bottom: rect.top + rect.height,\r\n          height: rect.height,\r\n          left: rect[side],\r\n          right: rect[side],\r\n          top: rect.top,\r\n          width: 0\r\n        };\r\n      }\r\n    }\r\n  }, {\r\n    key: 'getNativeRange',\r\n    value: function getNativeRange() {\r\n      var selection = document.getSelection();\r\n      if (selection == null || selection.rangeCount <= 0) return null;\r\n      var nativeRange = selection.getRangeAt(0);\r\n      if (nativeRange == null) return null;\r\n      var range = this.normalizeNative(nativeRange);\r\n      debug.info('getNativeRange', range);\r\n      return range;\r\n    }\r\n  }, {\r\n    key: 'getRange',\r\n    value: function getRange() {\r\n      var normalized = this.getNativeRange();\r\n      if (normalized == null) return [null, null];\r\n      var range = this.normalizedToRange(normalized);\r\n      return [range, normalized];\r\n    }\r\n  }, {\r\n    key: 'hasFocus',\r\n    value: function hasFocus() {\r\n      return document.activeElement === this.root;\r\n    }\r\n  }, {\r\n    key: 'normalizedToRange',\r\n    value: function normalizedToRange(range) {\r\n      var _this4 = this;\r\n\r\n      var positions = [[range.start.node, range.start.offset]];\r\n      if (!range.native.collapsed) {\r\n        positions.push([range.end.node, range.end.offset]);\r\n      }\r\n      var indexes = positions.map(function (position) {\r\n        var _position = _slicedToArray(position, 2),\r\n            node = _position[0],\r\n            offset = _position[1];\r\n\r\n        var blot = _parchment2.default.find(node, true);\r\n        var index = blot.offset(_this4.scroll);\r\n        if (offset === 0) {\r\n          return index;\r\n        } else if (blot instanceof _parchment2.default.Container) {\r\n          return index + blot.length();\r\n        } else {\r\n          return index + blot.index(node, offset);\r\n        }\r\n      });\r\n      var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\r\n      var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\r\n      return new Range(start, end - start);\r\n    }\r\n  }, {\r\n    key: 'normalizeNative',\r\n    value: function normalizeNative(nativeRange) {\r\n      if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\r\n        return null;\r\n      }\r\n      var range = {\r\n        start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },\r\n        end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\r\n        native: nativeRange\r\n      };\r\n      [range.start, range.end].forEach(function (position) {\r\n        var node = position.node,\r\n            offset = position.offset;\r\n        while (!(node instanceof Text) && node.childNodes.length > 0) {\r\n          if (node.childNodes.length > offset) {\r\n            node = node.childNodes[offset];\r\n            offset = 0;\r\n          } else if (node.childNodes.length === offset) {\r\n            node = node.lastChild;\r\n            offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n        position.node = node, position.offset = offset;\r\n      });\r\n      return range;\r\n    }\r\n  }, {\r\n    key: 'rangeToNative',\r\n    value: function rangeToNative(range) {\r\n      var _this5 = this;\r\n\r\n      var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\r\n      var args = [];\r\n      var scrollLength = this.scroll.length();\r\n      indexes.forEach(function (index, i) {\r\n        index = Math.min(scrollLength - 1, index);\r\n        var node = void 0,\r\n            _scroll$leaf5 = _this5.scroll.leaf(index),\r\n            _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\r\n            leaf = _scroll$leaf6[0],\r\n            offset = _scroll$leaf6[1];\r\n        var _leaf$position5 = leaf.position(offset, i !== 0);\r\n\r\n        var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\r\n\r\n        node = _leaf$position6[0];\r\n        offset = _leaf$position6[1];\r\n\r\n        args.push(node, offset);\r\n      });\r\n      if (args.length < 2) {\r\n        args = args.concat(args);\r\n      }\r\n      return args;\r\n    }\r\n  }, {\r\n    key: 'scrollIntoView',\r\n    value: function scrollIntoView(scrollingContainer) {\r\n      var range = this.lastRange;\r\n      if (range == null) return;\r\n      var bounds = this.getBounds(range.index, range.length);\r\n      if (bounds == null) return;\r\n      var limit = this.scroll.length() - 1;\r\n\r\n      var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\r\n          _scroll$line2 = _slicedToArray(_scroll$line, 1),\r\n          first = _scroll$line2[0];\r\n\r\n      var last = first;\r\n      if (range.length > 0) {\r\n        var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\r\n\r\n        var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\r\n\r\n        last = _scroll$line4[0];\r\n      }\r\n      if (first == null || last == null) return;\r\n      var scrollBounds = scrollingContainer.getBoundingClientRect();\r\n      if (bounds.top < scrollBounds.top) {\r\n        scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\r\n      } else if (bounds.bottom > scrollBounds.bottom) {\r\n        scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setNativeRange',\r\n    value: function setNativeRange(startNode, startOffset) {\r\n      var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\r\n      var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\r\n      var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\r\n\r\n      debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\r\n      if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\r\n        return;\r\n      }\r\n      var selection = document.getSelection();\r\n      if (selection == null) return;\r\n      if (startNode != null) {\r\n        if (!this.hasFocus()) this.root.focus();\r\n        var native = (this.getNativeRange() || {}).native;\r\n        if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\r\n\r\n          if (startNode.tagName == \"BR\") {\r\n            startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\r\n            startNode = startNode.parentNode;\r\n          }\r\n          if (endNode.tagName == \"BR\") {\r\n            endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\r\n            endNode = endNode.parentNode;\r\n          }\r\n          var range = document.createRange();\r\n          range.setStart(startNode, startOffset);\r\n          range.setEnd(endNode, endOffset);\r\n          selection.removeAllRanges();\r\n          selection.addRange(range);\r\n        }\r\n      } else {\r\n        selection.removeAllRanges();\r\n        this.root.blur();\r\n        document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setRange',\r\n    value: function setRange(range) {\r\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\r\n\r\n      if (typeof force === 'string') {\r\n        source = force;\r\n        force = false;\r\n      }\r\n      debug.info('setRange', range);\r\n      if (range != null) {\r\n        var args = this.rangeToNative(range);\r\n        this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\r\n      } else {\r\n        this.setNativeRange(null);\r\n      }\r\n      this.update(source);\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update() {\r\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\r\n\r\n      var oldRange = this.lastRange;\r\n\r\n      var _getRange = this.getRange(),\r\n          _getRange2 = _slicedToArray(_getRange, 2),\r\n          lastRange = _getRange2[0],\r\n          nativeRange = _getRange2[1];\r\n\r\n      this.lastRange = lastRange;\r\n      if (this.lastRange != null) {\r\n        this.savedRange = this.lastRange;\r\n      }\r\n      if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\r\n        var _emitter;\r\n\r\n        if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\r\n          this.cursor.restore();\r\n        }\r\n        var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\r\n        (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\r\n        if (source !== _emitter4.default.sources.SILENT) {\r\n          var _emitter2;\r\n\r\n          (_emitter2 = this.emitter).emit.apply(_emitter2, args);\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Selection;\r\n}();\r\n\r\nfunction contains(parent, descendant) {\r\n  try {\r\n    // Firefox inserts inaccessible nodes around video elements\r\n    descendant.parentNode;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n  // IE11 has bug with Text nodes\r\n  // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\r\n  if (descendant instanceof Text) {\r\n    descendant = descendant.parentNode;\r\n  }\r\n  return parent.contains(descendant);\r\n}\r\n\r\nexports.Range = Range;\r\nexports.default = Selection;\r\n\r\n/***/ }),\r\n/* 16 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Break = function (_Parchment$Embed) {\r\n  _inherits(Break, _Parchment$Embed);\r\n\r\n  function Break() {\r\n    _classCallCheck(this, Break);\r\n\r\n    return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Break, [{\r\n    key: 'insertInto',\r\n    value: function insertInto(parent, ref) {\r\n      if (parent.children.length === 0) {\r\n        _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\r\n      } else {\r\n        this.remove();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'length',\r\n    value: function length() {\r\n      return 0;\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value() {\r\n      return '';\r\n    }\r\n  }], [{\r\n    key: 'value',\r\n    value: function value() {\r\n      return undefined;\r\n    }\r\n  }]);\r\n\r\n  return Break;\r\n}(_parchment2.default.Embed);\r\n\r\nBreak.blotName = 'break';\r\nBreak.tagName = 'BR';\r\n\r\nexports.default = Break;\r\n\r\n/***/ }),\r\n/* 17 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar linked_list_1 = __webpack_require__(44);\r\nvar shadow_1 = __webpack_require__(30);\r\nvar Registry = __webpack_require__(1);\r\nvar ContainerBlot = /** @class */ (function (_super) {\r\n    __extends(ContainerBlot, _super);\r\n    function ContainerBlot(domNode) {\r\n        var _this = _super.call(this, domNode) || this;\r\n        _this.build();\r\n        return _this;\r\n    }\r\n    ContainerBlot.prototype.appendChild = function (other) {\r\n        this.insertBefore(other);\r\n    };\r\n    ContainerBlot.prototype.attach = function () {\r\n        _super.prototype.attach.call(this);\r\n        this.children.forEach(function (child) {\r\n            child.attach();\r\n        });\r\n    };\r\n    ContainerBlot.prototype.build = function () {\r\n        var _this = this;\r\n        this.children = new linked_list_1.default();\r\n        // Need to be reversed for if DOM nodes already in order\r\n        [].slice\r\n            .call(this.domNode.childNodes)\r\n            .reverse()\r\n            .forEach(function (node) {\r\n            try {\r\n                var child = makeBlot(node);\r\n                _this.insertBefore(child, _this.children.head || undefined);\r\n            }\r\n            catch (err) {\r\n                if (err instanceof Registry.ParchmentError)\r\n                    return;\r\n                else\r\n                    throw err;\r\n            }\r\n        });\r\n    };\r\n    ContainerBlot.prototype.deleteAt = function (index, length) {\r\n        if (index === 0 && length === this.length()) {\r\n            return this.remove();\r\n        }\r\n        this.children.forEachAt(index, length, function (child, offset, length) {\r\n            child.deleteAt(offset, length);\r\n        });\r\n    };\r\n    ContainerBlot.prototype.descendant = function (criteria, index) {\r\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\r\n        if ((criteria.blotName == null && criteria(child)) ||\r\n            (criteria.blotName != null && child instanceof criteria)) {\r\n            return [child, offset];\r\n        }\r\n        else if (child instanceof ContainerBlot) {\r\n            return child.descendant(criteria, offset);\r\n        }\r\n        else {\r\n            return [null, -1];\r\n        }\r\n    };\r\n    ContainerBlot.prototype.descendants = function (criteria, index, length) {\r\n        if (index === void 0) { index = 0; }\r\n        if (length === void 0) { length = Number.MAX_VALUE; }\r\n        var descendants = [];\r\n        var lengthLeft = length;\r\n        this.children.forEachAt(index, length, function (child, index, length) {\r\n            if ((criteria.blotName == null && criteria(child)) ||\r\n                (criteria.blotName != null && child instanceof criteria)) {\r\n                descendants.push(child);\r\n            }\r\n            if (child instanceof ContainerBlot) {\r\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\r\n            }\r\n            lengthLeft -= length;\r\n        });\r\n        return descendants;\r\n    };\r\n    ContainerBlot.prototype.detach = function () {\r\n        this.children.forEach(function (child) {\r\n            child.detach();\r\n        });\r\n        _super.prototype.detach.call(this);\r\n    };\r\n    ContainerBlot.prototype.formatAt = function (index, length, name, value) {\r\n        this.children.forEachAt(index, length, function (child, offset, length) {\r\n            child.formatAt(offset, length, name, value);\r\n        });\r\n    };\r\n    ContainerBlot.prototype.insertAt = function (index, value, def) {\r\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\r\n        if (child) {\r\n            child.insertAt(offset, value, def);\r\n        }\r\n        else {\r\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\r\n            this.appendChild(blot);\r\n        }\r\n    };\r\n    ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\r\n        if (this.statics.allowedChildren != null &&\r\n            !this.statics.allowedChildren.some(function (child) {\r\n                return childBlot instanceof child;\r\n            })) {\r\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\r\n        }\r\n        childBlot.insertInto(this, refBlot);\r\n    };\r\n    ContainerBlot.prototype.length = function () {\r\n        return this.children.reduce(function (memo, child) {\r\n            return memo + child.length();\r\n        }, 0);\r\n    };\r\n    ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\r\n        this.children.forEach(function (child) {\r\n            targetParent.insertBefore(child, refNode);\r\n        });\r\n    };\r\n    ContainerBlot.prototype.optimize = function (context) {\r\n        _super.prototype.optimize.call(this, context);\r\n        if (this.children.length === 0) {\r\n            if (this.statics.defaultChild != null) {\r\n                var child = Registry.create(this.statics.defaultChild);\r\n                this.appendChild(child);\r\n                child.optimize(context);\r\n            }\r\n            else {\r\n                this.remove();\r\n            }\r\n        }\r\n    };\r\n    ContainerBlot.prototype.path = function (index, inclusive) {\r\n        if (inclusive === void 0) { inclusive = false; }\r\n        var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];\r\n        var position = [[this, index]];\r\n        if (child instanceof ContainerBlot) {\r\n            return position.concat(child.path(offset, inclusive));\r\n        }\r\n        else if (child != null) {\r\n            position.push([child, offset]);\r\n        }\r\n        return position;\r\n    };\r\n    ContainerBlot.prototype.removeChild = function (child) {\r\n        this.children.remove(child);\r\n    };\r\n    ContainerBlot.prototype.replace = function (target) {\r\n        if (target instanceof ContainerBlot) {\r\n            target.moveChildren(this);\r\n        }\r\n        _super.prototype.replace.call(this, target);\r\n    };\r\n    ContainerBlot.prototype.split = function (index, force) {\r\n        if (force === void 0) { force = false; }\r\n        if (!force) {\r\n            if (index === 0)\r\n                return this;\r\n            if (index === this.length())\r\n                return this.next;\r\n        }\r\n        var after = this.clone();\r\n        this.parent.insertBefore(after, this.next);\r\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\r\n            child = child.split(offset, force);\r\n            after.appendChild(child);\r\n        });\r\n        return after;\r\n    };\r\n    ContainerBlot.prototype.unwrap = function () {\r\n        this.moveChildren(this.parent, this.next);\r\n        this.remove();\r\n    };\r\n    ContainerBlot.prototype.update = function (mutations, context) {\r\n        var _this = this;\r\n        var addedNodes = [];\r\n        var removedNodes = [];\r\n        mutations.forEach(function (mutation) {\r\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\r\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\r\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\r\n            }\r\n        });\r\n        removedNodes.forEach(function (node) {\r\n            // Check node has actually been removed\r\n            // One exception is Chrome does not immediately remove IFRAMEs\r\n            // from DOM but MutationRecord is correct in its reported removal\r\n            if (node.parentNode != null &&\r\n                // @ts-ignore\r\n                node.tagName !== 'IFRAME' &&\r\n                document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\r\n                return;\r\n            }\r\n            var blot = Registry.find(node);\r\n            if (blot == null)\r\n                return;\r\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\r\n                blot.detach();\r\n            }\r\n        });\r\n        addedNodes\r\n            .filter(function (node) {\r\n            return node.parentNode == _this.domNode;\r\n        })\r\n            .sort(function (a, b) {\r\n            if (a === b)\r\n                return 0;\r\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\r\n                return 1;\r\n            }\r\n            return -1;\r\n        })\r\n            .forEach(function (node) {\r\n            var refBlot = null;\r\n            if (node.nextSibling != null) {\r\n                refBlot = Registry.find(node.nextSibling);\r\n            }\r\n            var blot = makeBlot(node);\r\n            if (blot.next != refBlot || blot.next == null) {\r\n                if (blot.parent != null) {\r\n                    blot.parent.removeChild(_this);\r\n                }\r\n                _this.insertBefore(blot, refBlot || undefined);\r\n            }\r\n        });\r\n    };\r\n    return ContainerBlot;\r\n}(shadow_1.default));\r\nfunction makeBlot(node) {\r\n    var blot = Registry.find(node);\r\n    if (blot == null) {\r\n        try {\r\n            blot = Registry.create(node);\r\n        }\r\n        catch (e) {\r\n            blot = Registry.create(Registry.Scope.INLINE);\r\n            [].slice.call(node.childNodes).forEach(function (child) {\r\n                // @ts-ignore\r\n                blot.domNode.appendChild(child);\r\n            });\r\n            if (node.parentNode) {\r\n                node.parentNode.replaceChild(blot.domNode, node);\r\n            }\r\n            blot.attach();\r\n        }\r\n    }\r\n    return blot;\r\n}\r\nexports.default = ContainerBlot;\r\n\r\n\r\n/***/ }),\r\n/* 18 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attributor_1 = __webpack_require__(12);\r\nvar store_1 = __webpack_require__(31);\r\nvar container_1 = __webpack_require__(17);\r\nvar Registry = __webpack_require__(1);\r\nvar FormatBlot = /** @class */ (function (_super) {\r\n    __extends(FormatBlot, _super);\r\n    function FormatBlot(domNode) {\r\n        var _this = _super.call(this, domNode) || this;\r\n        _this.attributes = new store_1.default(_this.domNode);\r\n        return _this;\r\n    }\r\n    FormatBlot.formats = function (domNode) {\r\n        if (typeof this.tagName === 'string') {\r\n            return true;\r\n        }\r\n        else if (Array.isArray(this.tagName)) {\r\n            return domNode.tagName.toLowerCase();\r\n        }\r\n        return undefined;\r\n    };\r\n    FormatBlot.prototype.format = function (name, value) {\r\n        var format = Registry.query(name);\r\n        if (format instanceof attributor_1.default) {\r\n            this.attributes.attribute(format, value);\r\n        }\r\n        else if (value) {\r\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\r\n                this.replaceWith(name, value);\r\n            }\r\n        }\r\n    };\r\n    FormatBlot.prototype.formats = function () {\r\n        var formats = this.attributes.values();\r\n        var format = this.statics.formats(this.domNode);\r\n        if (format != null) {\r\n            formats[this.statics.blotName] = format;\r\n        }\r\n        return formats;\r\n    };\r\n    FormatBlot.prototype.replaceWith = function (name, value) {\r\n        var replacement = _super.prototype.replaceWith.call(this, name, value);\r\n        this.attributes.copy(replacement);\r\n        return replacement;\r\n    };\r\n    FormatBlot.prototype.update = function (mutations, context) {\r\n        var _this = this;\r\n        _super.prototype.update.call(this, mutations, context);\r\n        if (mutations.some(function (mutation) {\r\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\r\n        })) {\r\n            this.attributes.build();\r\n        }\r\n    };\r\n    FormatBlot.prototype.wrap = function (name, value) {\r\n        var wrapper = _super.prototype.wrap.call(this, name, value);\r\n        if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\r\n            this.attributes.move(wrapper);\r\n        }\r\n        return wrapper;\r\n    };\r\n    return FormatBlot;\r\n}(container_1.default));\r\nexports.default = FormatBlot;\r\n\r\n\r\n/***/ }),\r\n/* 19 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar shadow_1 = __webpack_require__(30);\r\nvar Registry = __webpack_require__(1);\r\nvar LeafBlot = /** @class */ (function (_super) {\r\n    __extends(LeafBlot, _super);\r\n    function LeafBlot() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    LeafBlot.value = function (domNode) {\r\n        return true;\r\n    };\r\n    LeafBlot.prototype.index = function (node, offset) {\r\n        if (this.domNode === node ||\r\n            this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\r\n            return Math.min(offset, 1);\r\n        }\r\n        return -1;\r\n    };\r\n    LeafBlot.prototype.position = function (index, inclusive) {\r\n        var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\r\n        if (index > 0)\r\n            offset += 1;\r\n        return [this.parent.domNode, offset];\r\n    };\r\n    LeafBlot.prototype.value = function () {\r\n        var _a;\r\n        return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\r\n    };\r\n    LeafBlot.scope = Registry.Scope.INLINE_BLOT;\r\n    return LeafBlot;\r\n}(shadow_1.default));\r\nexports.default = LeafBlot;\r\n\r\n\r\n/***/ }),\r\n/* 20 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar equal = __webpack_require__(11);\r\nvar extend = __webpack_require__(3);\r\n\r\n\r\nvar lib = {\r\n  attributes: {\r\n    compose: function (a, b, keepNull) {\r\n      if (typeof a !== 'object') a = {};\r\n      if (typeof b !== 'object') b = {};\r\n      var attributes = extend(true, {}, b);\r\n      if (!keepNull) {\r\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\r\n          if (attributes[key] != null) {\r\n            copy[key] = attributes[key];\r\n          }\r\n          return copy;\r\n        }, {});\r\n      }\r\n      for (var key in a) {\r\n        if (a[key] !== undefined && b[key] === undefined) {\r\n          attributes[key] = a[key];\r\n        }\r\n      }\r\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\r\n    },\r\n\r\n    diff: function(a, b) {\r\n      if (typeof a !== 'object') a = {};\r\n      if (typeof b !== 'object') b = {};\r\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\r\n        if (!equal(a[key], b[key])) {\r\n          attributes[key] = b[key] === undefined ? null : b[key];\r\n        }\r\n        return attributes;\r\n      }, {});\r\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\r\n    },\r\n\r\n    transform: function (a, b, priority) {\r\n      if (typeof a !== 'object') return b;\r\n      if (typeof b !== 'object') return undefined;\r\n      if (!priority) return b;  // b simply overwrites us without priority\r\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\r\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\r\n        return attributes;\r\n      }, {});\r\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\r\n    }\r\n  },\r\n\r\n  iterator: function (ops) {\r\n    return new Iterator(ops);\r\n  },\r\n\r\n  length: function (op) {\r\n    if (typeof op['delete'] === 'number') {\r\n      return op['delete'];\r\n    } else if (typeof op.retain === 'number') {\r\n      return op.retain;\r\n    } else {\r\n      return typeof op.insert === 'string' ? op.insert.length : 1;\r\n    }\r\n  }\r\n};\r\n\r\n\r\nfunction Iterator(ops) {\r\n  this.ops = ops;\r\n  this.index = 0;\r\n  this.offset = 0;\r\n};\r\n\r\nIterator.prototype.hasNext = function () {\r\n  return this.peekLength() < Infinity;\r\n};\r\n\r\nIterator.prototype.next = function (length) {\r\n  if (!length) length = Infinity;\r\n  var nextOp = this.ops[this.index];\r\n  if (nextOp) {\r\n    var offset = this.offset;\r\n    var opLength = lib.length(nextOp)\r\n    if (length >= opLength - offset) {\r\n      length = opLength - offset;\r\n      this.index += 1;\r\n      this.offset = 0;\r\n    } else {\r\n      this.offset += length;\r\n    }\r\n    if (typeof nextOp['delete'] === 'number') {\r\n      return { 'delete': length };\r\n    } else {\r\n      var retOp = {};\r\n      if (nextOp.attributes) {\r\n        retOp.attributes = nextOp.attributes;\r\n      }\r\n      if (typeof nextOp.retain === 'number') {\r\n        retOp.retain = length;\r\n      } else if (typeof nextOp.insert === 'string') {\r\n        retOp.insert = nextOp.insert.substr(offset, length);\r\n      } else {\r\n        // offset should === 0, length should === 1\r\n        retOp.insert = nextOp.insert;\r\n      }\r\n      return retOp;\r\n    }\r\n  } else {\r\n    return { retain: Infinity };\r\n  }\r\n};\r\n\r\nIterator.prototype.peek = function () {\r\n  return this.ops[this.index];\r\n};\r\n\r\nIterator.prototype.peekLength = function () {\r\n  if (this.ops[this.index]) {\r\n    // Should never return 0 if our index is being managed correctly\r\n    return lib.length(this.ops[this.index]) - this.offset;\r\n  } else {\r\n    return Infinity;\r\n  }\r\n};\r\n\r\nIterator.prototype.peekType = function () {\r\n  if (this.ops[this.index]) {\r\n    if (typeof this.ops[this.index]['delete'] === 'number') {\r\n      return 'delete';\r\n    } else if (typeof this.ops[this.index].retain === 'number') {\r\n      return 'retain';\r\n    } else {\r\n      return 'insert';\r\n    }\r\n  }\r\n  return 'retain';\r\n};\r\n\r\nIterator.prototype.rest = function () {\r\n  if (!this.hasNext()) {\r\n    return [];\r\n  } else if (this.offset === 0) {\r\n    return this.ops.slice(this.index);\r\n  } else {\r\n    var offset = this.offset;\r\n    var index = this.index;\r\n    var next = this.next();\r\n    var rest = this.ops.slice(this.index);\r\n    this.offset = offset;\r\n    this.index = index;\r\n    return [next].concat(rest);\r\n  }\r\n};\r\n\r\n\r\nmodule.exports = lib;\r\n\r\n\r\n/***/ }),\r\n/* 21 */\r\n/***/ (function(module, exports) {\r\n\r\nvar clone = (function() {\r\n'use strict';\r\n\r\nfunction _instanceof(obj, type) {\r\n  return type != null && obj instanceof type;\r\n}\r\n\r\nvar nativeMap;\r\ntry {\r\n  nativeMap = Map;\r\n} catch(_) {\r\n  // maybe a reference error because no `Map`. Give it a dummy value that no\r\n  // value will ever be an instanceof.\r\n  nativeMap = function() {};\r\n}\r\n\r\nvar nativeSet;\r\ntry {\r\n  nativeSet = Set;\r\n} catch(_) {\r\n  nativeSet = function() {};\r\n}\r\n\r\nvar nativePromise;\r\ntry {\r\n  nativePromise = Promise;\r\n} catch(_) {\r\n  nativePromise = function() {};\r\n}\r\n\r\n/**\r\n * Clones (copies) an Object using deep copying.\r\n *\r\n * This function supports circular references by default, but if you are certain\r\n * there are no circular references in your object, you can save some CPU time\r\n * by calling clone(obj, false).\r\n *\r\n * Caution: if `circular` is false and `parent` contains circular references,\r\n * your program may enter an infinite loop and crash.\r\n *\r\n * @param `parent` - the object to be cloned\r\n * @param `circular` - set to true if the object to be cloned may contain\r\n *    circular references. (optional - true by default)\r\n * @param `depth` - set to a number if the object is only to be cloned to\r\n *    a particular depth. (optional - defaults to Infinity)\r\n * @param `prototype` - sets the prototype to be used when cloning an object.\r\n *    (optional - defaults to parent prototype).\r\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\r\n *    should be cloned as well. Non-enumerable properties on the prototype\r\n *    chain will be ignored. (optional - false by default)\r\n*/\r\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\r\n  if (typeof circular === 'object') {\r\n    depth = circular.depth;\r\n    prototype = circular.prototype;\r\n    includeNonEnumerable = circular.includeNonEnumerable;\r\n    circular = circular.circular;\r\n  }\r\n  // maintain two arrays for circular references, where corresponding parents\r\n  // and children have the same index\r\n  var allParents = [];\r\n  var allChildren = [];\r\n\r\n  var useBuffer = typeof Buffer != 'undefined';\r\n\r\n  if (typeof circular == 'undefined')\r\n    circular = true;\r\n\r\n  if (typeof depth == 'undefined')\r\n    depth = Infinity;\r\n\r\n  // recurse this function so we don't reset allParents and allChildren\r\n  function _clone(parent, depth) {\r\n    // cloning null always returns null\r\n    if (parent === null)\r\n      return null;\r\n\r\n    if (depth === 0)\r\n      return parent;\r\n\r\n    var child;\r\n    var proto;\r\n    if (typeof parent != 'object') {\r\n      return parent;\r\n    }\r\n\r\n    if (_instanceof(parent, nativeMap)) {\r\n      child = new nativeMap();\r\n    } else if (_instanceof(parent, nativeSet)) {\r\n      child = new nativeSet();\r\n    } else if (_instanceof(parent, nativePromise)) {\r\n      child = new nativePromise(function (resolve, reject) {\r\n        parent.then(function(value) {\r\n          resolve(_clone(value, depth - 1));\r\n        }, function(err) {\r\n          reject(_clone(err, depth - 1));\r\n        });\r\n      });\r\n    } else if (clone.__isArray(parent)) {\r\n      child = [];\r\n    } else if (clone.__isRegExp(parent)) {\r\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\r\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\r\n    } else if (clone.__isDate(parent)) {\r\n      child = new Date(parent.getTime());\r\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\r\n      if (Buffer.allocUnsafe) {\r\n        // Node.js >= 4.5.0\r\n        child = Buffer.allocUnsafe(parent.length);\r\n      } else {\r\n        // Older Node.js versions\r\n        child = new Buffer(parent.length);\r\n      }\r\n      parent.copy(child);\r\n      return child;\r\n    } else if (_instanceof(parent, Error)) {\r\n      child = Object.create(parent);\r\n    } else {\r\n      if (typeof prototype == 'undefined') {\r\n        proto = Object.getPrototypeOf(parent);\r\n        child = Object.create(proto);\r\n      }\r\n      else {\r\n        child = Object.create(prototype);\r\n        proto = prototype;\r\n      }\r\n    }\r\n\r\n    if (circular) {\r\n      var index = allParents.indexOf(parent);\r\n\r\n      if (index != -1) {\r\n        return allChildren[index];\r\n      }\r\n      allParents.push(parent);\r\n      allChildren.push(child);\r\n    }\r\n\r\n    if (_instanceof(parent, nativeMap)) {\r\n      parent.forEach(function(value, key) {\r\n        var keyChild = _clone(key, depth - 1);\r\n        var valueChild = _clone(value, depth - 1);\r\n        child.set(keyChild, valueChild);\r\n      });\r\n    }\r\n    if (_instanceof(parent, nativeSet)) {\r\n      parent.forEach(function(value) {\r\n        var entryChild = _clone(value, depth - 1);\r\n        child.add(entryChild);\r\n      });\r\n    }\r\n\r\n    for (var i in parent) {\r\n      var attrs;\r\n      if (proto) {\r\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\r\n      }\r\n\r\n      if (attrs && attrs.set == null) {\r\n        continue;\r\n      }\r\n      child[i] = _clone(parent[i], depth - 1);\r\n    }\r\n\r\n    if (Object.getOwnPropertySymbols) {\r\n      var symbols = Object.getOwnPropertySymbols(parent);\r\n      for (var i = 0; i < symbols.length; i++) {\r\n        // Don't need to worry about cloning a symbol because it is a primitive,\r\n        // like a number or string.\r\n        var symbol = symbols[i];\r\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\r\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\r\n          continue;\r\n        }\r\n        child[symbol] = _clone(parent[symbol], depth - 1);\r\n        if (!descriptor.enumerable) {\r\n          Object.defineProperty(child, symbol, {\r\n            enumerable: false\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (includeNonEnumerable) {\r\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\r\n      for (var i = 0; i < allPropertyNames.length; i++) {\r\n        var propertyName = allPropertyNames[i];\r\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\r\n        if (descriptor && descriptor.enumerable) {\r\n          continue;\r\n        }\r\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\r\n        Object.defineProperty(child, propertyName, {\r\n          enumerable: false\r\n        });\r\n      }\r\n    }\r\n\r\n    return child;\r\n  }\r\n\r\n  return _clone(parent, depth);\r\n}\r\n\r\n/**\r\n * Simple flat clone using prototype, accepts only objects, usefull for property\r\n * override on FLAT configuration object (no nested props).\r\n *\r\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\r\n * works.\r\n */\r\nclone.clonePrototype = function clonePrototype(parent) {\r\n  if (parent === null)\r\n    return null;\r\n\r\n  var c = function () {};\r\n  c.prototype = parent;\r\n  return new c();\r\n};\r\n\r\n// private utility functions\r\n\r\nfunction __objToStr(o) {\r\n  return Object.prototype.toString.call(o);\r\n}\r\nclone.__objToStr = __objToStr;\r\n\r\nfunction __isDate(o) {\r\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\r\n}\r\nclone.__isDate = __isDate;\r\n\r\nfunction __isArray(o) {\r\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\r\n}\r\nclone.__isArray = __isArray;\r\n\r\nfunction __isRegExp(o) {\r\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\r\n}\r\nclone.__isRegExp = __isRegExp;\r\n\r\nfunction __getRegExpFlags(re) {\r\n  var flags = '';\r\n  if (re.global) flags += 'g';\r\n  if (re.ignoreCase) flags += 'i';\r\n  if (re.multiline) flags += 'm';\r\n  return flags;\r\n}\r\nclone.__getRegExpFlags = __getRegExpFlags;\r\n\r\nreturn clone;\r\n})();\r\n\r\nif (typeof module === 'object' && module.exports) {\r\n  module.exports = clone;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 22 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _emitter = __webpack_require__(8);\r\n\r\nvar _emitter2 = _interopRequireDefault(_emitter);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nvar _break = __webpack_require__(16);\r\n\r\nvar _break2 = _interopRequireDefault(_break);\r\n\r\nvar _code = __webpack_require__(13);\r\n\r\nvar _code2 = _interopRequireDefault(_code);\r\n\r\nvar _container = __webpack_require__(25);\r\n\r\nvar _container2 = _interopRequireDefault(_container);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nfunction isLine(blot) {\r\n  return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\r\n}\r\n\r\nvar Scroll = function (_Parchment$Scroll) {\r\n  _inherits(Scroll, _Parchment$Scroll);\r\n\r\n  function Scroll(domNode, config) {\r\n    _classCallCheck(this, Scroll);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\r\n\r\n    _this.emitter = config.emitter;\r\n    if (Array.isArray(config.whitelist)) {\r\n      _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\r\n        whitelist[format] = true;\r\n        return whitelist;\r\n      }, {});\r\n    }\r\n    // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\r\n    _this.domNode.addEventListener('DOMNodeInserted', function () {});\r\n    _this.optimize();\r\n    _this.enable();\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Scroll, [{\r\n    key: 'batchStart',\r\n    value: function batchStart() {\r\n      this.batch = true;\r\n    }\r\n  }, {\r\n    key: 'batchEnd',\r\n    value: function batchEnd() {\r\n      this.batch = false;\r\n      this.optimize();\r\n    }\r\n  }, {\r\n    key: 'deleteAt',\r\n    value: function deleteAt(index, length) {\r\n      var _line = this.line(index),\r\n          _line2 = _slicedToArray(_line, 2),\r\n          first = _line2[0],\r\n          offset = _line2[1];\r\n\r\n      var _line3 = this.line(index + length),\r\n          _line4 = _slicedToArray(_line3, 1),\r\n          last = _line4[0];\r\n\r\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\r\n      if (last != null && first !== last && offset > 0) {\r\n        if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\r\n          this.optimize();\r\n          return;\r\n        }\r\n        if (first instanceof _code2.default) {\r\n          var newlineIndex = first.newlineIndex(first.length(), true);\r\n          if (newlineIndex > -1) {\r\n            first = first.split(newlineIndex + 1);\r\n            if (first === last) {\r\n              this.optimize();\r\n              return;\r\n            }\r\n          }\r\n        } else if (last instanceof _code2.default) {\r\n          var _newlineIndex = last.newlineIndex(0);\r\n          if (_newlineIndex > -1) {\r\n            last.split(_newlineIndex + 1);\r\n          }\r\n        }\r\n        var ref = last.children.head instanceof _break2.default ? null : last.children.head;\r\n        first.moveChildren(last, ref);\r\n        first.remove();\r\n      }\r\n      this.optimize();\r\n    }\r\n  }, {\r\n    key: 'enable',\r\n    value: function enable() {\r\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\r\n\r\n      this.domNode.setAttribute('contenteditable', enabled);\r\n    }\r\n  }, {\r\n    key: 'formatAt',\r\n    value: function formatAt(index, length, format, value) {\r\n      if (this.whitelist != null && !this.whitelist[format]) return;\r\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\r\n      this.optimize();\r\n    }\r\n  }, {\r\n    key: 'insertAt',\r\n    value: function insertAt(index, value, def) {\r\n      if (def != null && this.whitelist != null && !this.whitelist[value]) return;\r\n      if (index >= this.length()) {\r\n        if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\r\n          var blot = _parchment2.default.create(this.statics.defaultChild);\r\n          this.appendChild(blot);\r\n          if (def == null && value.endsWith('\\n')) {\r\n            value = value.slice(0, -1);\r\n          }\r\n          blot.insertAt(0, value, def);\r\n        } else {\r\n          var embed = _parchment2.default.create(value, def);\r\n          this.appendChild(embed);\r\n        }\r\n      } else {\r\n        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\r\n      }\r\n      this.optimize();\r\n    }\r\n  }, {\r\n    key: 'insertBefore',\r\n    value: function insertBefore(blot, ref) {\r\n      if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\r\n        var wrapper = _parchment2.default.create(this.statics.defaultChild);\r\n        wrapper.appendChild(blot);\r\n        blot = wrapper;\r\n      }\r\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\r\n    }\r\n  }, {\r\n    key: 'leaf',\r\n    value: function leaf(index) {\r\n      return this.path(index).pop() || [null, -1];\r\n    }\r\n  }, {\r\n    key: 'line',\r\n    value: function line(index) {\r\n      if (index === this.length()) {\r\n        return this.line(index - 1);\r\n      }\r\n      return this.descendant(isLine, index);\r\n    }\r\n  }, {\r\n    key: 'lines',\r\n    value: function lines() {\r\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\r\n\r\n      var getLines = function getLines(blot, index, length) {\r\n        var lines = [],\r\n            lengthLeft = length;\r\n        blot.children.forEachAt(index, length, function (child, index, length) {\r\n          if (isLine(child)) {\r\n            lines.push(child);\r\n          } else if (child instanceof _parchment2.default.Container) {\r\n            lines = lines.concat(getLines(child, index, lengthLeft));\r\n          }\r\n          lengthLeft -= length;\r\n        });\r\n        return lines;\r\n      };\r\n      return getLines(this, index, length);\r\n    }\r\n  }, {\r\n    key: 'optimize',\r\n    value: function optimize() {\r\n      var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\r\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n      if (this.batch === true) return;\r\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\r\n      if (mutations.length > 0) {\r\n        this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'path',\r\n    value: function path(index) {\r\n      return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(mutations) {\r\n      if (this.batch === true) return;\r\n      var source = _emitter2.default.sources.USER;\r\n      if (typeof mutations === 'string') {\r\n        source = mutations;\r\n      }\r\n      if (!Array.isArray(mutations)) {\r\n        mutations = this.observer.takeRecords();\r\n      }\r\n      if (mutations.length > 0) {\r\n        this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\r\n      }\r\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\r\n      if (mutations.length > 0) {\r\n        this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Scroll;\r\n}(_parchment2.default.Scroll);\r\n\r\nScroll.blotName = 'scroll';\r\nScroll.className = 'ql-editor';\r\nScroll.tagName = 'DIV';\r\nScroll.defaultChild = 'block';\r\nScroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\r\n\r\nexports.default = Scroll;\r\n\r\n/***/ }),\r\n/* 23 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.SHORTKEY = exports.default = undefined;\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _clone = __webpack_require__(21);\r\n\r\nvar _clone2 = _interopRequireDefault(_clone);\r\n\r\nvar _deepEqual = __webpack_require__(11);\r\n\r\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _op = __webpack_require__(20);\r\n\r\nvar _op2 = _interopRequireDefault(_op);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar debug = (0, _logger2.default)('quill:keyboard');\r\n\r\nvar SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\r\n\r\nvar Keyboard = function (_Module) {\r\n  _inherits(Keyboard, _Module);\r\n\r\n  _createClass(Keyboard, null, [{\r\n    key: 'match',\r\n    value: function match(evt, binding) {\r\n      binding = normalize(binding);\r\n      if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\r\n        return !!binding[key] !== evt[key] && binding[key] !== null;\r\n      })) {\r\n        return false;\r\n      }\r\n      return binding.key === (evt.which || evt.keyCode);\r\n    }\r\n  }]);\r\n\r\n  function Keyboard(quill, options) {\r\n    _classCallCheck(this, Keyboard);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\r\n\r\n    _this.bindings = {};\r\n    Object.keys(_this.options.bindings).forEach(function (name) {\r\n      if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\r\n        return;\r\n      }\r\n      if (_this.options.bindings[name]) {\r\n        _this.addBinding(_this.options.bindings[name]);\r\n      }\r\n    });\r\n    _this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, handleEnter);\r\n    _this.addBinding({ key: Keyboard.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () {});\r\n    if (/Firefox/i.test(navigator.userAgent)) {\r\n      // Need to handle delete and backspace for Firefox in the general case #1171\r\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true }, handleBackspace);\r\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true }, handleDelete);\r\n    } else {\r\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);\r\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);\r\n    }\r\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);\r\n    _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: false }, handleDeleteRange);\r\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);\r\n    _this.listen();\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Keyboard, [{\r\n    key: 'addBinding',\r\n    value: function addBinding(key) {\r\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n      var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\r\n\r\n      var binding = normalize(key);\r\n      if (binding == null || binding.key == null) {\r\n        return debug.warn('Attempted to add invalid keyboard binding', binding);\r\n      }\r\n      if (typeof context === 'function') {\r\n        context = { handler: context };\r\n      }\r\n      if (typeof handler === 'function') {\r\n        handler = { handler: handler };\r\n      }\r\n      binding = (0, _extend2.default)(binding, context, handler);\r\n      this.bindings[binding.key] = this.bindings[binding.key] || [];\r\n      this.bindings[binding.key].push(binding);\r\n    }\r\n  }, {\r\n    key: 'listen',\r\n    value: function listen() {\r\n      var _this2 = this;\r\n\r\n      this.quill.root.addEventListener('keydown', function (evt) {\r\n        if (evt.defaultPrevented) return;\r\n        var which = evt.which || evt.keyCode;\r\n        var bindings = (_this2.bindings[which] || []).filter(function (binding) {\r\n          return Keyboard.match(evt, binding);\r\n        });\r\n        if (bindings.length === 0) return;\r\n        var range = _this2.quill.getSelection();\r\n        if (range == null || !_this2.quill.hasFocus()) return;\r\n\r\n        var _quill$getLine = _this2.quill.getLine(range.index),\r\n            _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\r\n            line = _quill$getLine2[0],\r\n            offset = _quill$getLine2[1];\r\n\r\n        var _quill$getLeaf = _this2.quill.getLeaf(range.index),\r\n            _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\r\n            leafStart = _quill$getLeaf2[0],\r\n            offsetStart = _quill$getLeaf2[1];\r\n\r\n        var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\r\n            _ref2 = _slicedToArray(_ref, 2),\r\n            leafEnd = _ref2[0],\r\n            offsetEnd = _ref2[1];\r\n\r\n        var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\r\n        var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\r\n        var curContext = {\r\n          collapsed: range.length === 0,\r\n          empty: range.length === 0 && line.length() <= 1,\r\n          format: _this2.quill.getFormat(range),\r\n          offset: offset,\r\n          prefix: prefixText,\r\n          suffix: suffixText\r\n        };\r\n        var prevented = bindings.some(function (binding) {\r\n          if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\r\n          if (binding.empty != null && binding.empty !== curContext.empty) return false;\r\n          if (binding.offset != null && binding.offset !== curContext.offset) return false;\r\n          if (Array.isArray(binding.format)) {\r\n            // any format is present\r\n            if (binding.format.every(function (name) {\r\n              return curContext.format[name] == null;\r\n            })) {\r\n              return false;\r\n            }\r\n          } else if (_typeof(binding.format) === 'object') {\r\n            // all formats must match\r\n            if (!Object.keys(binding.format).every(function (name) {\r\n              if (binding.format[name] === true) return curContext.format[name] != null;\r\n              if (binding.format[name] === false) return curContext.format[name] == null;\r\n              return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\r\n            })) {\r\n              return false;\r\n            }\r\n          }\r\n          if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\r\n          if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\r\n          return binding.handler.call(_this2, range, curContext) !== true;\r\n        });\r\n        if (prevented) {\r\n          evt.preventDefault();\r\n        }\r\n      });\r\n    }\r\n  }]);\r\n\r\n  return Keyboard;\r\n}(_module2.default);\r\n\r\nKeyboard.keys = {\r\n  BACKSPACE: 8,\r\n  TAB: 9,\r\n  ENTER: 13,\r\n  ESCAPE: 27,\r\n  LEFT: 37,\r\n  UP: 38,\r\n  RIGHT: 39,\r\n  DOWN: 40,\r\n  DELETE: 46\r\n};\r\n\r\nKeyboard.DEFAULTS = {\r\n  bindings: {\r\n    'bold': makeFormatHandler('bold'),\r\n    'italic': makeFormatHandler('italic'),\r\n    'underline': makeFormatHandler('underline'),\r\n    'indent': {\r\n      // highlight tab or tab at beginning of list, indent or blockquote\r\n      key: Keyboard.keys.TAB,\r\n      format: ['blockquote', 'indent', 'list'],\r\n      handler: function handler(range, context) {\r\n        if (context.collapsed && context.offset !== 0) return true;\r\n        this.quill.format('indent', '+1', _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    'outdent': {\r\n      key: Keyboard.keys.TAB,\r\n      shiftKey: true,\r\n      format: ['blockquote', 'indent', 'list'],\r\n      // highlight tab or tab at beginning of list, indent or blockquote\r\n      handler: function handler(range, context) {\r\n        if (context.collapsed && context.offset !== 0) return true;\r\n        this.quill.format('indent', '-1', _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    'outdent backspace': {\r\n      key: Keyboard.keys.BACKSPACE,\r\n      collapsed: true,\r\n      shiftKey: null,\r\n      metaKey: null,\r\n      ctrlKey: null,\r\n      altKey: null,\r\n      format: ['indent', 'list'],\r\n      offset: 0,\r\n      handler: function handler(range, context) {\r\n        if (context.format.indent != null) {\r\n          this.quill.format('indent', '-1', _quill2.default.sources.USER);\r\n        } else if (context.format.list != null) {\r\n          this.quill.format('list', false, _quill2.default.sources.USER);\r\n        }\r\n      }\r\n    },\r\n    'indent code-block': makeCodeBlockHandler(true),\r\n    'outdent code-block': makeCodeBlockHandler(false),\r\n    'remove tab': {\r\n      key: Keyboard.keys.TAB,\r\n      shiftKey: true,\r\n      collapsed: true,\r\n      prefix: /\\t$/,\r\n      handler: function handler(range) {\r\n        this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    'tab': {\r\n      key: Keyboard.keys.TAB,\r\n      handler: function handler(range) {\r\n        this.quill.history.cutoff();\r\n        var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\r\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\r\n        this.quill.history.cutoff();\r\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\r\n      }\r\n    },\r\n    'list empty enter': {\r\n      key: Keyboard.keys.ENTER,\r\n      collapsed: true,\r\n      format: ['list'],\r\n      empty: true,\r\n      handler: function handler(range, context) {\r\n        this.quill.format('list', false, _quill2.default.sources.USER);\r\n        if (context.format.indent) {\r\n          this.quill.format('indent', false, _quill2.default.sources.USER);\r\n        }\r\n      }\r\n    },\r\n    'checklist enter': {\r\n      key: Keyboard.keys.ENTER,\r\n      collapsed: true,\r\n      format: { list: 'checked' },\r\n      handler: function handler(range) {\r\n        var _quill$getLine3 = this.quill.getLine(range.index),\r\n            _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\r\n            line = _quill$getLine4[0],\r\n            offset = _quill$getLine4[1];\r\n\r\n        var formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });\r\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });\r\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\r\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\r\n        this.quill.scrollIntoView();\r\n      }\r\n    },\r\n    'header enter': {\r\n      key: Keyboard.keys.ENTER,\r\n      collapsed: true,\r\n      format: ['header'],\r\n      suffix: /^$/,\r\n      handler: function handler(range, context) {\r\n        var _quill$getLine5 = this.quill.getLine(range.index),\r\n            _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\r\n            line = _quill$getLine6[0],\r\n            offset = _quill$getLine6[1];\r\n\r\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });\r\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\r\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\r\n        this.quill.scrollIntoView();\r\n      }\r\n    },\r\n    'list autofill': {\r\n      key: ' ',\r\n      collapsed: true,\r\n      format: { list: false },\r\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\r\n      handler: function handler(range, context) {\r\n        var length = context.prefix.length;\r\n\r\n        var _quill$getLine7 = this.quill.getLine(range.index),\r\n            _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\r\n            line = _quill$getLine8[0],\r\n            offset = _quill$getLine8[1];\r\n\r\n        if (offset > length) return true;\r\n        var value = void 0;\r\n        switch (context.prefix.trim()) {\r\n          case '[]':case '[ ]':\r\n            value = 'unchecked';\r\n            break;\r\n          case '[x]':\r\n            value = 'checked';\r\n            break;\r\n          case '-':case '*':\r\n            value = 'bullet';\r\n            break;\r\n          default:\r\n            value = 'ordered';\r\n        }\r\n        this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\r\n        this.quill.history.cutoff();\r\n        var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });\r\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\r\n        this.quill.history.cutoff();\r\n        this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\r\n      }\r\n    },\r\n    'code exit': {\r\n      key: Keyboard.keys.ENTER,\r\n      collapsed: true,\r\n      format: ['code-block'],\r\n      prefix: /\\n\\n$/,\r\n      suffix: /^\\s+$/,\r\n      handler: function handler(range) {\r\n        var _quill$getLine9 = this.quill.getLine(range.index),\r\n            _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\r\n            line = _quill$getLine10[0],\r\n            offset = _quill$getLine10[1];\r\n\r\n        var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);\r\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\r\n    'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\r\n    'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\r\n    'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\r\n  }\r\n};\r\n\r\nfunction makeEmbedArrowHandler(key, shiftKey) {\r\n  var _ref3;\r\n\r\n  var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\r\n  return _ref3 = {\r\n    key: key,\r\n    shiftKey: shiftKey,\r\n    altKey: null\r\n  }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\r\n    var index = range.index;\r\n    if (key === Keyboard.keys.RIGHT) {\r\n      index += range.length + 1;\r\n    }\r\n\r\n    var _quill$getLeaf3 = this.quill.getLeaf(index),\r\n        _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\r\n        leaf = _quill$getLeaf4[0];\r\n\r\n    if (!(leaf instanceof _parchment2.default.Embed)) return true;\r\n    if (key === Keyboard.keys.LEFT) {\r\n      if (shiftKey) {\r\n        this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\r\n      } else {\r\n        this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\r\n      }\r\n    } else {\r\n      if (shiftKey) {\r\n        this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\r\n      } else {\r\n        this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\r\n      }\r\n    }\r\n    return false;\r\n  }), _ref3;\r\n}\r\n\r\nfunction handleBackspace(range, context) {\r\n  if (range.index === 0 || this.quill.getLength() <= 1) return;\r\n\r\n  var _quill$getLine11 = this.quill.getLine(range.index),\r\n      _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\r\n      line = _quill$getLine12[0];\r\n\r\n  var formats = {};\r\n  if (context.offset === 0) {\r\n    var _quill$getLine13 = this.quill.getLine(range.index - 1),\r\n        _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\r\n        prev = _quill$getLine14[0];\r\n\r\n    if (prev != null && prev.length() > 1) {\r\n      var curFormats = line.formats();\r\n      var prevFormats = this.quill.getFormat(range.index - 1, 1);\r\n      formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\r\n    }\r\n  }\r\n  // Check for astral symbols\r\n  var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\r\n  this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\r\n  if (Object.keys(formats).length > 0) {\r\n    this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\r\n  }\r\n  this.quill.focus();\r\n}\r\n\r\nfunction handleDelete(range, context) {\r\n  // Check for astral symbols\r\n  var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\r\n  if (range.index >= this.quill.getLength() - length) return;\r\n  var formats = {},\r\n      nextLength = 0;\r\n\r\n  var _quill$getLine15 = this.quill.getLine(range.index),\r\n      _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\r\n      line = _quill$getLine16[0];\r\n\r\n  if (context.offset >= line.length() - 1) {\r\n    var _quill$getLine17 = this.quill.getLine(range.index + 1),\r\n        _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\r\n        next = _quill$getLine18[0];\r\n\r\n    if (next) {\r\n      var curFormats = line.formats();\r\n      var nextFormats = this.quill.getFormat(range.index, 1);\r\n      formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\r\n      nextLength = next.length();\r\n    }\r\n  }\r\n  this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\r\n  if (Object.keys(formats).length > 0) {\r\n    this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\r\n  }\r\n}\r\n\r\nfunction handleDeleteRange(range) {\r\n  var lines = this.quill.getLines(range);\r\n  var formats = {};\r\n  if (lines.length > 1) {\r\n    var firstFormats = lines[0].formats();\r\n    var lastFormats = lines[lines.length - 1].formats();\r\n    formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\r\n  }\r\n  this.quill.deleteText(range, _quill2.default.sources.USER);\r\n  if (Object.keys(formats).length > 0) {\r\n    this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\r\n  }\r\n  this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\r\n  this.quill.focus();\r\n}\r\n\r\nfunction handleEnter(range, context) {\r\n  var _this3 = this;\r\n\r\n  if (range.length > 0) {\r\n    this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\r\n  }\r\n  var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\r\n    if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\r\n      lineFormats[format] = context.format[format];\r\n    }\r\n    return lineFormats;\r\n  }, {});\r\n  this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER);\r\n  // Earlier scroll.deleteAt might have messed up our selection,\r\n  // so insertText's built in selection preservation is not reliable\r\n  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\r\n  this.quill.focus();\r\n  Object.keys(context.format).forEach(function (name) {\r\n    if (lineFormats[name] != null) return;\r\n    if (Array.isArray(context.format[name])) return;\r\n    if (name === 'link') return;\r\n    _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\r\n  });\r\n}\r\n\r\nfunction makeCodeBlockHandler(indent) {\r\n  return {\r\n    key: Keyboard.keys.TAB,\r\n    shiftKey: !indent,\r\n    format: { 'code-block': true },\r\n    handler: function handler(range) {\r\n      var CodeBlock = _parchment2.default.query('code-block');\r\n      var index = range.index,\r\n          length = range.length;\r\n\r\n      var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\r\n          _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\r\n          block = _quill$scroll$descend2[0],\r\n          offset = _quill$scroll$descend2[1];\r\n\r\n      if (block == null) return;\r\n      var scrollIndex = this.quill.getIndex(block);\r\n      var start = block.newlineIndex(offset, true) + 1;\r\n      var end = block.newlineIndex(scrollIndex + offset + length);\r\n      var lines = block.domNode.textContent.slice(start, end).split('\\n');\r\n      offset = 0;\r\n      lines.forEach(function (line, i) {\r\n        if (indent) {\r\n          block.insertAt(start + offset, CodeBlock.TAB);\r\n          offset += CodeBlock.TAB.length;\r\n          if (i === 0) {\r\n            index += CodeBlock.TAB.length;\r\n          } else {\r\n            length += CodeBlock.TAB.length;\r\n          }\r\n        } else if (line.startsWith(CodeBlock.TAB)) {\r\n          block.deleteAt(start + offset, CodeBlock.TAB.length);\r\n          offset -= CodeBlock.TAB.length;\r\n          if (i === 0) {\r\n            index -= CodeBlock.TAB.length;\r\n          } else {\r\n            length -= CodeBlock.TAB.length;\r\n          }\r\n        }\r\n        offset += line.length + 1;\r\n      });\r\n      this.quill.update(_quill2.default.sources.USER);\r\n      this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\r\n    }\r\n  };\r\n}\r\n\r\nfunction makeFormatHandler(format) {\r\n  return {\r\n    key: format[0].toUpperCase(),\r\n    shortKey: true,\r\n    handler: function handler(range, context) {\r\n      this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\r\n    }\r\n  };\r\n}\r\n\r\nfunction normalize(binding) {\r\n  if (typeof binding === 'string' || typeof binding === 'number') {\r\n    return normalize({ key: binding });\r\n  }\r\n  if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\r\n    binding = (0, _clone2.default)(binding, false);\r\n  }\r\n  if (typeof binding.key === 'string') {\r\n    if (Keyboard.keys[binding.key.toUpperCase()] != null) {\r\n      binding.key = Keyboard.keys[binding.key.toUpperCase()];\r\n    } else if (binding.key.length === 1) {\r\n      binding.key = binding.key.toUpperCase().charCodeAt(0);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  if (binding.shortKey) {\r\n    binding[SHORTKEY] = binding.shortKey;\r\n    delete binding.shortKey;\r\n  }\r\n  return binding;\r\n}\r\n\r\nexports.default = Keyboard;\r\nexports.SHORTKEY = SHORTKEY;\r\n\r\n/***/ }),\r\n/* 24 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Cursor = function (_Parchment$Embed) {\r\n  _inherits(Cursor, _Parchment$Embed);\r\n\r\n  _createClass(Cursor, null, [{\r\n    key: 'value',\r\n    value: function value() {\r\n      return undefined;\r\n    }\r\n  }]);\r\n\r\n  function Cursor(domNode, selection) {\r\n    _classCallCheck(this, Cursor);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\r\n\r\n    _this.selection = selection;\r\n    _this.textNode = document.createTextNode(Cursor.CONTENTS);\r\n    _this.domNode.appendChild(_this.textNode);\r\n    _this._length = 0;\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Cursor, [{\r\n    key: 'detach',\r\n    value: function detach() {\r\n      // super.detach() will also clear domNode.__blot\r\n      if (this.parent != null) this.parent.removeChild(this);\r\n    }\r\n  }, {\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (this._length !== 0) {\r\n        return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\r\n      }\r\n      var target = this,\r\n          index = 0;\r\n      while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\r\n        index += target.offset(target.parent);\r\n        target = target.parent;\r\n      }\r\n      if (target != null) {\r\n        this._length = Cursor.CONTENTS.length;\r\n        target.optimize();\r\n        target.formatAt(index, Cursor.CONTENTS.length, name, value);\r\n        this._length = 0;\r\n      }\r\n    }\r\n  }, {\r\n    key: 'index',\r\n    value: function index(node, offset) {\r\n      if (node === this.textNode) return 0;\r\n      return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\r\n    }\r\n  }, {\r\n    key: 'length',\r\n    value: function length() {\r\n      return this._length;\r\n    }\r\n  }, {\r\n    key: 'position',\r\n    value: function position() {\r\n      return [this.textNode, this.textNode.data.length];\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove() {\r\n      _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\r\n      this.parent = null;\r\n    }\r\n  }, {\r\n    key: 'restore',\r\n    value: function restore() {\r\n      if (this.selection.composing || this.parent == null) return;\r\n      var textNode = this.textNode;\r\n      var range = this.selection.getNativeRange();\r\n      var restoreText = void 0,\r\n          start = void 0,\r\n          end = void 0;\r\n      if (range != null && range.start.node === textNode && range.end.node === textNode) {\r\n        var _ref = [textNode, range.start.offset, range.end.offset];\r\n        restoreText = _ref[0];\r\n        start = _ref[1];\r\n        end = _ref[2];\r\n      }\r\n      // Link format will insert text outside of anchor tag\r\n      while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\r\n        this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\r\n      }\r\n      if (this.textNode.data !== Cursor.CONTENTS) {\r\n        var text = this.textNode.data.split(Cursor.CONTENTS).join('');\r\n        if (this.next instanceof _text2.default) {\r\n          restoreText = this.next.domNode;\r\n          this.next.insertAt(0, text);\r\n          this.textNode.data = Cursor.CONTENTS;\r\n        } else {\r\n          this.textNode.data = text;\r\n          this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\r\n          this.textNode = document.createTextNode(Cursor.CONTENTS);\r\n          this.domNode.appendChild(this.textNode);\r\n        }\r\n      }\r\n      this.remove();\r\n      if (start != null) {\r\n        var _map = [start, end].map(function (offset) {\r\n          return Math.max(0, Math.min(restoreText.data.length, offset - 1));\r\n        });\r\n\r\n        var _map2 = _slicedToArray(_map, 2);\r\n\r\n        start = _map2[0];\r\n        end = _map2[1];\r\n\r\n        return {\r\n          startNode: restoreText,\r\n          startOffset: start,\r\n          endNode: restoreText,\r\n          endOffset: end\r\n        };\r\n      }\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(mutations, context) {\r\n      var _this2 = this;\r\n\r\n      if (mutations.some(function (mutation) {\r\n        return mutation.type === 'characterData' && mutation.target === _this2.textNode;\r\n      })) {\r\n        var range = this.restore();\r\n        if (range) context.range = range;\r\n      }\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value() {\r\n      return '';\r\n    }\r\n  }]);\r\n\r\n  return Cursor;\r\n}(_parchment2.default.Embed);\r\n\r\nCursor.blotName = 'cursor';\r\nCursor.className = 'ql-cursor';\r\nCursor.tagName = 'span';\r\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\r\n\r\n\r\nexports.default = Cursor;\r\n\r\n/***/ }),\r\n/* 25 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Container = function (_Parchment$Container) {\r\n  _inherits(Container, _Parchment$Container);\r\n\r\n  function Container() {\r\n    _classCallCheck(this, Container);\r\n\r\n    return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\r\n  }\r\n\r\n  return Container;\r\n}(_parchment2.default.Container);\r\n\r\nContainer.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\r\n\r\nexports.default = Container;\r\n\r\n/***/ }),\r\n/* 26 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ColorAttributor = function (_Parchment$Attributor) {\r\n  _inherits(ColorAttributor, _Parchment$Attributor);\r\n\r\n  function ColorAttributor() {\r\n    _classCallCheck(this, ColorAttributor);\r\n\r\n    return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(ColorAttributor, [{\r\n    key: 'value',\r\n    value: function value(domNode) {\r\n      var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\r\n      if (!value.startsWith('rgb(')) return value;\r\n      value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\r\n      return '#' + value.split(',').map(function (component) {\r\n        return ('00' + parseInt(component).toString(16)).slice(-2);\r\n      }).join('');\r\n    }\r\n  }]);\r\n\r\n  return ColorAttributor;\r\n}(_parchment2.default.Attributor.Style);\r\n\r\nvar ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\r\n  scope: _parchment2.default.Scope.INLINE\r\n});\r\nvar ColorStyle = new ColorAttributor('color', 'color', {\r\n  scope: _parchment2.default.Scope.INLINE\r\n});\r\n\r\nexports.ColorAttributor = ColorAttributor;\r\nexports.ColorClass = ColorClass;\r\nexports.ColorStyle = ColorStyle;\r\n\r\n/***/ }),\r\n/* 27 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.sanitize = exports.default = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Link = function (_Inline) {\r\n  _inherits(Link, _Inline);\r\n\r\n  function Link() {\r\n    _classCallCheck(this, Link);\r\n\r\n    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Link, [{\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\r\n      value = this.constructor.sanitize(value);\r\n      this.domNode.setAttribute('href', value);\r\n    }\r\n  }], [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\r\n      value = this.sanitize(value);\r\n      node.setAttribute('href', value);\r\n      node.setAttribute('rel', 'noopener noreferrer');\r\n      node.setAttribute('target', '_blank');\r\n      return node;\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      return domNode.getAttribute('href');\r\n    }\r\n  }, {\r\n    key: 'sanitize',\r\n    value: function sanitize(url) {\r\n      return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\r\n    }\r\n  }]);\r\n\r\n  return Link;\r\n}(_inline2.default);\r\n\r\nLink.blotName = 'link';\r\nLink.tagName = 'A';\r\nLink.SANITIZED_URL = 'about:blank';\r\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\r\n\r\nfunction _sanitize(url, protocols) {\r\n  var anchor = document.createElement('a');\r\n  anchor.href = url;\r\n  var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\r\n  return protocols.indexOf(protocol) > -1;\r\n}\r\n\r\nexports.default = Link;\r\nexports.sanitize = _sanitize;\r\n\r\n/***/ }),\r\n/* 28 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _keyboard = __webpack_require__(23);\r\n\r\nvar _keyboard2 = _interopRequireDefault(_keyboard);\r\n\r\nvar _dropdown = __webpack_require__(107);\r\n\r\nvar _dropdown2 = _interopRequireDefault(_dropdown);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar optionsCounter = 0;\r\n\r\nfunction toggleAriaAttribute(element, attribute) {\r\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\r\n}\r\n\r\nvar Picker = function () {\r\n  function Picker(select) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, Picker);\r\n\r\n    this.select = select;\r\n    this.container = document.createElement('span');\r\n    this.buildPicker();\r\n    this.select.style.display = 'none';\r\n    this.select.parentNode.insertBefore(this.container, this.select);\r\n\r\n    this.label.addEventListener('mousedown', function () {\r\n      _this.togglePicker();\r\n    });\r\n    this.label.addEventListener('keydown', function (event) {\r\n      switch (event.keyCode) {\r\n        // Allows the \"Enter\" key to open the picker\r\n        case _keyboard2.default.keys.ENTER:\r\n          _this.togglePicker();\r\n          break;\r\n\r\n        // Allows the \"Escape\" key to close the picker\r\n        case _keyboard2.default.keys.ESCAPE:\r\n          _this.escape();\r\n          event.preventDefault();\r\n          break;\r\n        default:\r\n      }\r\n    });\r\n    this.select.addEventListener('change', this.update.bind(this));\r\n  }\r\n\r\n  _createClass(Picker, [{\r\n    key: 'togglePicker',\r\n    value: function togglePicker() {\r\n      this.container.classList.toggle('ql-expanded');\r\n      // Toggle aria-expanded and aria-hidden to make the picker accessible\r\n      toggleAriaAttribute(this.label, 'aria-expanded');\r\n      toggleAriaAttribute(this.options, 'aria-hidden');\r\n    }\r\n  }, {\r\n    key: 'buildItem',\r\n    value: function buildItem(option) {\r\n      var _this2 = this;\r\n\r\n      var item = document.createElement('span');\r\n      item.tabIndex = '0';\r\n      item.setAttribute('role', 'button');\r\n\r\n      item.classList.add('ql-picker-item');\r\n      if (option.hasAttribute('value')) {\r\n        item.setAttribute('data-value', option.getAttribute('value'));\r\n      }\r\n      if (option.textContent) {\r\n        item.setAttribute('data-label', option.textContent);\r\n      }\r\n      item.addEventListener('click', function () {\r\n        _this2.selectItem(item, true);\r\n      });\r\n      item.addEventListener('keydown', function (event) {\r\n        switch (event.keyCode) {\r\n          // Allows the \"Enter\" key to select an item\r\n          case _keyboard2.default.keys.ENTER:\r\n            _this2.selectItem(item, true);\r\n            event.preventDefault();\r\n            break;\r\n\r\n          // Allows the \"Escape\" key to close the picker\r\n          case _keyboard2.default.keys.ESCAPE:\r\n            _this2.escape();\r\n            event.preventDefault();\r\n            break;\r\n          default:\r\n        }\r\n      });\r\n\r\n      return item;\r\n    }\r\n  }, {\r\n    key: 'buildLabel',\r\n    value: function buildLabel() {\r\n      var label = document.createElement('span');\r\n      label.classList.add('ql-picker-label');\r\n      label.innerHTML = _dropdown2.default;\r\n      label.tabIndex = '0';\r\n      label.setAttribute('role', 'button');\r\n      label.setAttribute('aria-expanded', 'false');\r\n      this.container.appendChild(label);\r\n      return label;\r\n    }\r\n  }, {\r\n    key: 'buildOptions',\r\n    value: function buildOptions() {\r\n      var _this3 = this;\r\n\r\n      var options = document.createElement('span');\r\n      options.classList.add('ql-picker-options');\r\n\r\n      // Don't want screen readers to read this until options are visible\r\n      options.setAttribute('aria-hidden', 'true');\r\n      options.tabIndex = '-1';\r\n\r\n      // Need a unique id for aria-controls\r\n      options.id = 'ql-picker-options-' + optionsCounter;\r\n      optionsCounter += 1;\r\n      this.label.setAttribute('aria-controls', options.id);\r\n\r\n      this.options = options;\r\n\r\n      [].slice.call(this.select.options).forEach(function (option) {\r\n        var item = _this3.buildItem(option);\r\n        options.appendChild(item);\r\n        if (option.selected === true) {\r\n          _this3.selectItem(item);\r\n        }\r\n      });\r\n      this.container.appendChild(options);\r\n    }\r\n  }, {\r\n    key: 'buildPicker',\r\n    value: function buildPicker() {\r\n      var _this4 = this;\r\n\r\n      [].slice.call(this.select.attributes).forEach(function (item) {\r\n        _this4.container.setAttribute(item.name, item.value);\r\n      });\r\n      this.container.classList.add('ql-picker');\r\n      this.label = this.buildLabel();\r\n      this.buildOptions();\r\n    }\r\n  }, {\r\n    key: 'escape',\r\n    value: function escape() {\r\n      var _this5 = this;\r\n\r\n      // Close menu and return focus to trigger label\r\n      this.close();\r\n      // Need setTimeout for accessibility to ensure that the browser executes\r\n      // focus on the next process thread and after any DOM content changes\r\n      setTimeout(function () {\r\n        return _this5.label.focus();\r\n      }, 1);\r\n    }\r\n  }, {\r\n    key: 'close',\r\n    value: function close() {\r\n      this.container.classList.remove('ql-expanded');\r\n      this.label.setAttribute('aria-expanded', 'false');\r\n      this.options.setAttribute('aria-hidden', 'true');\r\n    }\r\n  }, {\r\n    key: 'selectItem',\r\n    value: function selectItem(item) {\r\n      var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n      var selected = this.container.querySelector('.ql-selected');\r\n      if (item === selected) return;\r\n      if (selected != null) {\r\n        selected.classList.remove('ql-selected');\r\n      }\r\n      if (item == null) return;\r\n      item.classList.add('ql-selected');\r\n      this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\r\n      if (item.hasAttribute('data-value')) {\r\n        this.label.setAttribute('data-value', item.getAttribute('data-value'));\r\n      } else {\r\n        this.label.removeAttribute('data-value');\r\n      }\r\n      if (item.hasAttribute('data-label')) {\r\n        this.label.setAttribute('data-label', item.getAttribute('data-label'));\r\n      } else {\r\n        this.label.removeAttribute('data-label');\r\n      }\r\n      if (trigger) {\r\n        if (typeof Event === 'function') {\r\n          this.select.dispatchEvent(new Event('change'));\r\n        } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\r\n          // IE11\r\n          var event = document.createEvent('Event');\r\n          event.initEvent('change', true, true);\r\n          this.select.dispatchEvent(event);\r\n        }\r\n        this.close();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update() {\r\n      var option = void 0;\r\n      if (this.select.selectedIndex > -1) {\r\n        var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\r\n        option = this.select.options[this.select.selectedIndex];\r\n        this.selectItem(item);\r\n      } else {\r\n        this.selectItem(null);\r\n      }\r\n      var isActive = option != null && option !== this.select.querySelector('option[selected]');\r\n      this.label.classList.toggle('ql-active', isActive);\r\n    }\r\n  }]);\r\n\r\n  return Picker;\r\n}();\r\n\r\nexports.default = Picker;\r\n\r\n/***/ }),\r\n/* 29 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nvar _break = __webpack_require__(16);\r\n\r\nvar _break2 = _interopRequireDefault(_break);\r\n\r\nvar _container = __webpack_require__(25);\r\n\r\nvar _container2 = _interopRequireDefault(_container);\r\n\r\nvar _cursor = __webpack_require__(24);\r\n\r\nvar _cursor2 = _interopRequireDefault(_cursor);\r\n\r\nvar _embed = __webpack_require__(35);\r\n\r\nvar _embed2 = _interopRequireDefault(_embed);\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nvar _scroll = __webpack_require__(22);\r\n\r\nvar _scroll2 = _interopRequireDefault(_scroll);\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nvar _clipboard = __webpack_require__(55);\r\n\r\nvar _clipboard2 = _interopRequireDefault(_clipboard);\r\n\r\nvar _history = __webpack_require__(42);\r\n\r\nvar _history2 = _interopRequireDefault(_history);\r\n\r\nvar _keyboard = __webpack_require__(23);\r\n\r\nvar _keyboard2 = _interopRequireDefault(_keyboard);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\n_quill2.default.register({\r\n  'blots/block': _block2.default,\r\n  'blots/block/embed': _block.BlockEmbed,\r\n  'blots/break': _break2.default,\r\n  'blots/container': _container2.default,\r\n  'blots/cursor': _cursor2.default,\r\n  'blots/embed': _embed2.default,\r\n  'blots/inline': _inline2.default,\r\n  'blots/scroll': _scroll2.default,\r\n  'blots/text': _text2.default,\r\n\r\n  'modules/clipboard': _clipboard2.default,\r\n  'modules/history': _history2.default,\r\n  'modules/keyboard': _keyboard2.default\r\n});\r\n\r\n_parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\r\n\r\nexports.default = _quill2.default;\r\n\r\n/***/ }),\r\n/* 30 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Registry = __webpack_require__(1);\r\nvar ShadowBlot = /** @class */ (function () {\r\n    function ShadowBlot(domNode) {\r\n        this.domNode = domNode;\r\n        // @ts-ignore\r\n        this.domNode[Registry.DATA_KEY] = { blot: this };\r\n    }\r\n    Object.defineProperty(ShadowBlot.prototype, \"statics\", {\r\n        // Hack for accessing inherited static methods\r\n        get: function () {\r\n            return this.constructor;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ShadowBlot.create = function (value) {\r\n        if (this.tagName == null) {\r\n            throw new Registry.ParchmentError('Blot definition missing tagName');\r\n        }\r\n        var node;\r\n        if (Array.isArray(this.tagName)) {\r\n            if (typeof value === 'string') {\r\n                value = value.toUpperCase();\r\n                if (parseInt(value).toString() === value) {\r\n                    value = parseInt(value);\r\n                }\r\n            }\r\n            if (typeof value === 'number') {\r\n                node = document.createElement(this.tagName[value - 1]);\r\n            }\r\n            else if (this.tagName.indexOf(value) > -1) {\r\n                node = document.createElement(value);\r\n            }\r\n            else {\r\n                node = document.createElement(this.tagName[0]);\r\n            }\r\n        }\r\n        else {\r\n            node = document.createElement(this.tagName);\r\n        }\r\n        if (this.className) {\r\n            node.classList.add(this.className);\r\n        }\r\n        return node;\r\n    };\r\n    ShadowBlot.prototype.attach = function () {\r\n        if (this.parent != null) {\r\n            this.scroll = this.parent.scroll;\r\n        }\r\n    };\r\n    ShadowBlot.prototype.clone = function () {\r\n        var domNode = this.domNode.cloneNode(false);\r\n        return Registry.create(domNode);\r\n    };\r\n    ShadowBlot.prototype.detach = function () {\r\n        if (this.parent != null)\r\n            this.parent.removeChild(this);\r\n        // @ts-ignore\r\n        delete this.domNode[Registry.DATA_KEY];\r\n    };\r\n    ShadowBlot.prototype.deleteAt = function (index, length) {\r\n        var blot = this.isolate(index, length);\r\n        blot.remove();\r\n    };\r\n    ShadowBlot.prototype.formatAt = function (index, length, name, value) {\r\n        var blot = this.isolate(index, length);\r\n        if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\r\n            blot.wrap(name, value);\r\n        }\r\n        else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\r\n            var parent = Registry.create(this.statics.scope);\r\n            blot.wrap(parent);\r\n            parent.format(name, value);\r\n        }\r\n    };\r\n    ShadowBlot.prototype.insertAt = function (index, value, def) {\r\n        var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\r\n        var ref = this.split(index);\r\n        this.parent.insertBefore(blot, ref);\r\n    };\r\n    ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\r\n        if (refBlot === void 0) { refBlot = null; }\r\n        if (this.parent != null) {\r\n            this.parent.children.remove(this);\r\n        }\r\n        var refDomNode = null;\r\n        parentBlot.children.insertBefore(this, refBlot);\r\n        if (refBlot != null) {\r\n            refDomNode = refBlot.domNode;\r\n        }\r\n        if (this.domNode.parentNode != parentBlot.domNode ||\r\n            this.domNode.nextSibling != refDomNode) {\r\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\r\n        }\r\n        this.parent = parentBlot;\r\n        this.attach();\r\n    };\r\n    ShadowBlot.prototype.isolate = function (index, length) {\r\n        var target = this.split(index);\r\n        target.split(length);\r\n        return target;\r\n    };\r\n    ShadowBlot.prototype.length = function () {\r\n        return 1;\r\n    };\r\n    ShadowBlot.prototype.offset = function (root) {\r\n        if (root === void 0) { root = this.parent; }\r\n        if (this.parent == null || this == root)\r\n            return 0;\r\n        return this.parent.children.offset(this) + this.parent.offset(root);\r\n    };\r\n    ShadowBlot.prototype.optimize = function (context) {\r\n        // TODO clean up once we use WeakMap\r\n        // @ts-ignore\r\n        if (this.domNode[Registry.DATA_KEY] != null) {\r\n            // @ts-ignore\r\n            delete this.domNode[Registry.DATA_KEY].mutations;\r\n        }\r\n    };\r\n    ShadowBlot.prototype.remove = function () {\r\n        if (this.domNode.parentNode != null) {\r\n            this.domNode.parentNode.removeChild(this.domNode);\r\n        }\r\n        this.detach();\r\n    };\r\n    ShadowBlot.prototype.replace = function (target) {\r\n        if (target.parent == null)\r\n            return;\r\n        target.parent.insertBefore(this, target.next);\r\n        target.remove();\r\n    };\r\n    ShadowBlot.prototype.replaceWith = function (name, value) {\r\n        var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\r\n        replacement.replace(this);\r\n        return replacement;\r\n    };\r\n    ShadowBlot.prototype.split = function (index, force) {\r\n        return index === 0 ? this : this.next;\r\n    };\r\n    ShadowBlot.prototype.update = function (mutations, context) {\r\n        // Nothing to do by default\r\n    };\r\n    ShadowBlot.prototype.wrap = function (name, value) {\r\n        var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\r\n        if (this.parent != null) {\r\n            this.parent.insertBefore(wrapper, this.next);\r\n        }\r\n        wrapper.appendChild(this);\r\n        return wrapper;\r\n    };\r\n    ShadowBlot.blotName = 'abstract';\r\n    return ShadowBlot;\r\n}());\r\nexports.default = ShadowBlot;\r\n\r\n\r\n/***/ }),\r\n/* 31 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attributor_1 = __webpack_require__(12);\r\nvar class_1 = __webpack_require__(32);\r\nvar style_1 = __webpack_require__(33);\r\nvar Registry = __webpack_require__(1);\r\nvar AttributorStore = /** @class */ (function () {\r\n    function AttributorStore(domNode) {\r\n        this.attributes = {};\r\n        this.domNode = domNode;\r\n        this.build();\r\n    }\r\n    AttributorStore.prototype.attribute = function (attribute, value) {\r\n        // verb\r\n        if (value) {\r\n            if (attribute.add(this.domNode, value)) {\r\n                if (attribute.value(this.domNode) != null) {\r\n                    this.attributes[attribute.attrName] = attribute;\r\n                }\r\n                else {\r\n                    delete this.attributes[attribute.attrName];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            attribute.remove(this.domNode);\r\n            delete this.attributes[attribute.attrName];\r\n        }\r\n    };\r\n    AttributorStore.prototype.build = function () {\r\n        var _this = this;\r\n        this.attributes = {};\r\n        var attributes = attributor_1.default.keys(this.domNode);\r\n        var classes = class_1.default.keys(this.domNode);\r\n        var styles = style_1.default.keys(this.domNode);\r\n        attributes\r\n            .concat(classes)\r\n            .concat(styles)\r\n            .forEach(function (name) {\r\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\r\n            if (attr instanceof attributor_1.default) {\r\n                _this.attributes[attr.attrName] = attr;\r\n            }\r\n        });\r\n    };\r\n    AttributorStore.prototype.copy = function (target) {\r\n        var _this = this;\r\n        Object.keys(this.attributes).forEach(function (key) {\r\n            var value = _this.attributes[key].value(_this.domNode);\r\n            target.format(key, value);\r\n        });\r\n    };\r\n    AttributorStore.prototype.move = function (target) {\r\n        var _this = this;\r\n        this.copy(target);\r\n        Object.keys(this.attributes).forEach(function (key) {\r\n            _this.attributes[key].remove(_this.domNode);\r\n        });\r\n        this.attributes = {};\r\n    };\r\n    AttributorStore.prototype.values = function () {\r\n        var _this = this;\r\n        return Object.keys(this.attributes).reduce(function (attributes, name) {\r\n            attributes[name] = _this.attributes[name].value(_this.domNode);\r\n            return attributes;\r\n        }, {});\r\n    };\r\n    return AttributorStore;\r\n}());\r\nexports.default = AttributorStore;\r\n\r\n\r\n/***/ }),\r\n/* 32 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attributor_1 = __webpack_require__(12);\r\nfunction match(node, prefix) {\r\n    var className = node.getAttribute('class') || '';\r\n    return className.split(/\\s+/).filter(function (name) {\r\n        return name.indexOf(prefix + \"-\") === 0;\r\n    });\r\n}\r\nvar ClassAttributor = /** @class */ (function (_super) {\r\n    __extends(ClassAttributor, _super);\r\n    function ClassAttributor() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ClassAttributor.keys = function (node) {\r\n        return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\r\n            return name\r\n                .split('-')\r\n                .slice(0, -1)\r\n                .join('-');\r\n        });\r\n    };\r\n    ClassAttributor.prototype.add = function (node, value) {\r\n        if (!this.canAdd(node, value))\r\n            return false;\r\n        this.remove(node);\r\n        node.classList.add(this.keyName + \"-\" + value);\r\n        return true;\r\n    };\r\n    ClassAttributor.prototype.remove = function (node) {\r\n        var matches = match(node, this.keyName);\r\n        matches.forEach(function (name) {\r\n            node.classList.remove(name);\r\n        });\r\n        if (node.classList.length === 0) {\r\n            node.removeAttribute('class');\r\n        }\r\n    };\r\n    ClassAttributor.prototype.value = function (node) {\r\n        var result = match(node, this.keyName)[0] || '';\r\n        var value = result.slice(this.keyName.length + 1); // +1 for hyphen\r\n        return this.canAdd(node, value) ? value : '';\r\n    };\r\n    return ClassAttributor;\r\n}(attributor_1.default));\r\nexports.default = ClassAttributor;\r\n\r\n\r\n/***/ }),\r\n/* 33 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attributor_1 = __webpack_require__(12);\r\nfunction camelize(name) {\r\n    var parts = name.split('-');\r\n    var rest = parts\r\n        .slice(1)\r\n        .map(function (part) {\r\n        return part[0].toUpperCase() + part.slice(1);\r\n    })\r\n        .join('');\r\n    return parts[0] + rest;\r\n}\r\nvar StyleAttributor = /** @class */ (function (_super) {\r\n    __extends(StyleAttributor, _super);\r\n    function StyleAttributor() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    StyleAttributor.keys = function (node) {\r\n        return (node.getAttribute('style') || '').split(';').map(function (value) {\r\n            var arr = value.split(':');\r\n            return arr[0].trim();\r\n        });\r\n    };\r\n    StyleAttributor.prototype.add = function (node, value) {\r\n        if (!this.canAdd(node, value))\r\n            return false;\r\n        // @ts-ignore\r\n        node.style[camelize(this.keyName)] = value;\r\n        return true;\r\n    };\r\n    StyleAttributor.prototype.remove = function (node) {\r\n        // @ts-ignore\r\n        node.style[camelize(this.keyName)] = '';\r\n        if (!node.getAttribute('style')) {\r\n            node.removeAttribute('style');\r\n        }\r\n    };\r\n    StyleAttributor.prototype.value = function (node) {\r\n        // @ts-ignore\r\n        var value = node.style[camelize(this.keyName)];\r\n        return this.canAdd(node, value) ? value : '';\r\n    };\r\n    return StyleAttributor;\r\n}(attributor_1.default));\r\nexports.default = StyleAttributor;\r\n\r\n\r\n/***/ }),\r\n/* 34 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Theme = function () {\r\n  function Theme(quill, options) {\r\n    _classCallCheck(this, Theme);\r\n\r\n    this.quill = quill;\r\n    this.options = options;\r\n    this.modules = {};\r\n  }\r\n\r\n  _createClass(Theme, [{\r\n    key: 'init',\r\n    value: function init() {\r\n      var _this = this;\r\n\r\n      Object.keys(this.options.modules).forEach(function (name) {\r\n        if (_this.modules[name] == null) {\r\n          _this.addModule(name);\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: 'addModule',\r\n    value: function addModule(name) {\r\n      var moduleClass = this.quill.constructor.import('modules/' + name);\r\n      this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\r\n      return this.modules[name];\r\n    }\r\n  }]);\r\n\r\n  return Theme;\r\n}();\r\n\r\nTheme.DEFAULTS = {\r\n  modules: {}\r\n};\r\nTheme.themes = {\r\n  'default': Theme\r\n};\r\n\r\nexports.default = Theme;\r\n\r\n/***/ }),\r\n/* 35 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar GUARD_TEXT = '\\uFEFF';\r\n\r\nvar Embed = function (_Parchment$Embed) {\r\n  _inherits(Embed, _Parchment$Embed);\r\n\r\n  function Embed(node) {\r\n    _classCallCheck(this, Embed);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\r\n\r\n    _this.contentNode = document.createElement('span');\r\n    _this.contentNode.setAttribute('contenteditable', false);\r\n    [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\r\n      _this.contentNode.appendChild(childNode);\r\n    });\r\n    _this.leftGuard = document.createTextNode(GUARD_TEXT);\r\n    _this.rightGuard = document.createTextNode(GUARD_TEXT);\r\n    _this.domNode.appendChild(_this.leftGuard);\r\n    _this.domNode.appendChild(_this.contentNode);\r\n    _this.domNode.appendChild(_this.rightGuard);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Embed, [{\r\n    key: 'index',\r\n    value: function index(node, offset) {\r\n      if (node === this.leftGuard) return 0;\r\n      if (node === this.rightGuard) return 1;\r\n      return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\r\n    }\r\n  }, {\r\n    key: 'restore',\r\n    value: function restore(node) {\r\n      var range = void 0,\r\n          textNode = void 0;\r\n      var text = node.data.split(GUARD_TEXT).join('');\r\n      if (node === this.leftGuard) {\r\n        if (this.prev instanceof _text2.default) {\r\n          var prevLength = this.prev.length();\r\n          this.prev.insertAt(prevLength, text);\r\n          range = {\r\n            startNode: this.prev.domNode,\r\n            startOffset: prevLength + text.length\r\n          };\r\n        } else {\r\n          textNode = document.createTextNode(text);\r\n          this.parent.insertBefore(_parchment2.default.create(textNode), this);\r\n          range = {\r\n            startNode: textNode,\r\n            startOffset: text.length\r\n          };\r\n        }\r\n      } else if (node === this.rightGuard) {\r\n        if (this.next instanceof _text2.default) {\r\n          this.next.insertAt(0, text);\r\n          range = {\r\n            startNode: this.next.domNode,\r\n            startOffset: text.length\r\n          };\r\n        } else {\r\n          textNode = document.createTextNode(text);\r\n          this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\r\n          range = {\r\n            startNode: textNode,\r\n            startOffset: text.length\r\n          };\r\n        }\r\n      }\r\n      node.data = GUARD_TEXT;\r\n      return range;\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(mutations, context) {\r\n      var _this2 = this;\r\n\r\n      mutations.forEach(function (mutation) {\r\n        if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\r\n          var range = _this2.restore(mutation.target);\r\n          if (range) context.range = range;\r\n        }\r\n      });\r\n    }\r\n  }]);\r\n\r\n  return Embed;\r\n}(_parchment2.default.Embed);\r\n\r\nexports.default = Embed;\r\n\r\n/***/ }),\r\n/* 36 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar config = {\r\n  scope: _parchment2.default.Scope.BLOCK,\r\n  whitelist: ['right', 'center', 'justify']\r\n};\r\n\r\nvar AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\r\nvar AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\r\nvar AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\r\n\r\nexports.AlignAttribute = AlignAttribute;\r\nexports.AlignClass = AlignClass;\r\nexports.AlignStyle = AlignStyle;\r\n\r\n/***/ }),\r\n/* 37 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.BackgroundStyle = exports.BackgroundClass = undefined;\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _color = __webpack_require__(26);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\r\n  scope: _parchment2.default.Scope.INLINE\r\n});\r\nvar BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\r\n  scope: _parchment2.default.Scope.INLINE\r\n});\r\n\r\nexports.BackgroundClass = BackgroundClass;\r\nexports.BackgroundStyle = BackgroundStyle;\r\n\r\n/***/ }),\r\n/* 38 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar config = {\r\n  scope: _parchment2.default.Scope.BLOCK,\r\n  whitelist: ['rtl']\r\n};\r\n\r\nvar DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\r\nvar DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\r\nvar DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\r\n\r\nexports.DirectionAttribute = DirectionAttribute;\r\nexports.DirectionClass = DirectionClass;\r\nexports.DirectionStyle = DirectionStyle;\r\n\r\n/***/ }),\r\n/* 39 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.FontClass = exports.FontStyle = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar config = {\r\n  scope: _parchment2.default.Scope.INLINE,\r\n  whitelist: ['serif', 'monospace']\r\n};\r\n\r\nvar FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\r\n\r\nvar FontStyleAttributor = function (_Parchment$Attributor) {\r\n  _inherits(FontStyleAttributor, _Parchment$Attributor);\r\n\r\n  function FontStyleAttributor() {\r\n    _classCallCheck(this, FontStyleAttributor);\r\n\r\n    return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(FontStyleAttributor, [{\r\n    key: 'value',\r\n    value: function value(node) {\r\n      return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\r\n    }\r\n  }]);\r\n\r\n  return FontStyleAttributor;\r\n}(_parchment2.default.Attributor.Style);\r\n\r\nvar FontStyle = new FontStyleAttributor('font', 'font-family', config);\r\n\r\nexports.FontStyle = FontStyle;\r\nexports.FontClass = FontClass;\r\n\r\n/***/ }),\r\n/* 40 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.SizeStyle = exports.SizeClass = undefined;\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\r\n  scope: _parchment2.default.Scope.INLINE,\r\n  whitelist: ['small', 'large', 'huge']\r\n});\r\nvar SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\r\n  scope: _parchment2.default.Scope.INLINE,\r\n  whitelist: ['10px', '18px', '32px']\r\n});\r\n\r\nexports.SizeClass = SizeClass;\r\nexports.SizeStyle = SizeStyle;\r\n\r\n/***/ }),\r\n/* 41 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nmodule.exports = {\r\n  'align': {\r\n    '': __webpack_require__(76),\r\n    'center': __webpack_require__(77),\r\n    'right': __webpack_require__(78),\r\n    'justify': __webpack_require__(79)\r\n  },\r\n  'background': __webpack_require__(80),\r\n  'blockquote': __webpack_require__(81),\r\n  'bold': __webpack_require__(82),\r\n  'clean': __webpack_require__(83),\r\n  'code': __webpack_require__(58),\r\n  'code-block': __webpack_require__(58),\r\n  'color': __webpack_require__(84),\r\n  'direction': {\r\n    '': __webpack_require__(85),\r\n    'rtl': __webpack_require__(86)\r\n  },\r\n  'float': {\r\n    'center': __webpack_require__(87),\r\n    'full': __webpack_require__(88),\r\n    'left': __webpack_require__(89),\r\n    'right': __webpack_require__(90)\r\n  },\r\n  'formula': __webpack_require__(91),\r\n  'header': {\r\n    '1': __webpack_require__(92),\r\n    '2': __webpack_require__(93)\r\n  },\r\n  'italic': __webpack_require__(94),\r\n  'image': __webpack_require__(95),\r\n  'indent': {\r\n    '+1': __webpack_require__(96),\r\n    '-1': __webpack_require__(97)\r\n  },\r\n  'link': __webpack_require__(98),\r\n  'list': {\r\n    'ordered': __webpack_require__(99),\r\n    'bullet': __webpack_require__(100),\r\n    'check': __webpack_require__(101)\r\n  },\r\n  'script': {\r\n    'sub': __webpack_require__(102),\r\n    'super': __webpack_require__(103)\r\n  },\r\n  'strike': __webpack_require__(104),\r\n  'underline': __webpack_require__(105),\r\n  'video': __webpack_require__(106)\r\n};\r\n\r\n/***/ }),\r\n/* 42 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.getLastChangeIndex = exports.default = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar History = function (_Module) {\r\n  _inherits(History, _Module);\r\n\r\n  function History(quill, options) {\r\n    _classCallCheck(this, History);\r\n\r\n    var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\r\n\r\n    _this.lastRecorded = 0;\r\n    _this.ignoreChange = false;\r\n    _this.clear();\r\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\r\n      if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\r\n      if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\r\n        _this.record(delta, oldDelta);\r\n      } else {\r\n        _this.transform(delta);\r\n      }\r\n    });\r\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true }, _this.undo.bind(_this));\r\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true, shiftKey: true }, _this.redo.bind(_this));\r\n    if (/Win/i.test(navigator.platform)) {\r\n      _this.quill.keyboard.addBinding({ key: 'Y', shortKey: true }, _this.redo.bind(_this));\r\n    }\r\n    return _this;\r\n  }\r\n\r\n  _createClass(History, [{\r\n    key: 'change',\r\n    value: function change(source, dest) {\r\n      if (this.stack[source].length === 0) return;\r\n      var delta = this.stack[source].pop();\r\n      this.stack[dest].push(delta);\r\n      this.lastRecorded = 0;\r\n      this.ignoreChange = true;\r\n      this.quill.updateContents(delta[source], _quill2.default.sources.USER);\r\n      this.ignoreChange = false;\r\n      var index = getLastChangeIndex(delta[source]);\r\n      this.quill.setSelection(index);\r\n    }\r\n  }, {\r\n    key: 'clear',\r\n    value: function clear() {\r\n      this.stack = { undo: [], redo: [] };\r\n    }\r\n  }, {\r\n    key: 'cutoff',\r\n    value: function cutoff() {\r\n      this.lastRecorded = 0;\r\n    }\r\n  }, {\r\n    key: 'record',\r\n    value: function record(changeDelta, oldDelta) {\r\n      if (changeDelta.ops.length === 0) return;\r\n      this.stack.redo = [];\r\n      var undoDelta = this.quill.getContents().diff(oldDelta);\r\n      var timestamp = Date.now();\r\n      if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\r\n        var delta = this.stack.undo.pop();\r\n        undoDelta = undoDelta.compose(delta.undo);\r\n        changeDelta = delta.redo.compose(changeDelta);\r\n      } else {\r\n        this.lastRecorded = timestamp;\r\n      }\r\n      this.stack.undo.push({\r\n        redo: changeDelta,\r\n        undo: undoDelta\r\n      });\r\n      if (this.stack.undo.length > this.options.maxStack) {\r\n        this.stack.undo.shift();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'redo',\r\n    value: function redo() {\r\n      this.change('redo', 'undo');\r\n    }\r\n  }, {\r\n    key: 'transform',\r\n    value: function transform(delta) {\r\n      this.stack.undo.forEach(function (change) {\r\n        change.undo = delta.transform(change.undo, true);\r\n        change.redo = delta.transform(change.redo, true);\r\n      });\r\n      this.stack.redo.forEach(function (change) {\r\n        change.undo = delta.transform(change.undo, true);\r\n        change.redo = delta.transform(change.redo, true);\r\n      });\r\n    }\r\n  }, {\r\n    key: 'undo',\r\n    value: function undo() {\r\n      this.change('undo', 'redo');\r\n    }\r\n  }]);\r\n\r\n  return History;\r\n}(_module2.default);\r\n\r\nHistory.DEFAULTS = {\r\n  delay: 1000,\r\n  maxStack: 100,\r\n  userOnly: false\r\n};\r\n\r\nfunction endsWithNewlineChange(delta) {\r\n  var lastOp = delta.ops[delta.ops.length - 1];\r\n  if (lastOp == null) return false;\r\n  if (lastOp.insert != null) {\r\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\r\n  }\r\n  if (lastOp.attributes != null) {\r\n    return Object.keys(lastOp.attributes).some(function (attr) {\r\n      return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\r\n    });\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction getLastChangeIndex(delta) {\r\n  var deleteLength = delta.reduce(function (length, op) {\r\n    length += op.delete || 0;\r\n    return length;\r\n  }, 0);\r\n  var changeIndex = delta.length() - deleteLength;\r\n  if (endsWithNewlineChange(delta)) {\r\n    changeIndex -= 1;\r\n  }\r\n  return changeIndex;\r\n}\r\n\r\nexports.default = History;\r\nexports.getLastChangeIndex = getLastChangeIndex;\r\n\r\n/***/ }),\r\n/* 43 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.BaseTooltip = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _emitter = __webpack_require__(8);\r\n\r\nvar _emitter2 = _interopRequireDefault(_emitter);\r\n\r\nvar _keyboard = __webpack_require__(23);\r\n\r\nvar _keyboard2 = _interopRequireDefault(_keyboard);\r\n\r\nvar _theme = __webpack_require__(34);\r\n\r\nvar _theme2 = _interopRequireDefault(_theme);\r\n\r\nvar _colorPicker = __webpack_require__(59);\r\n\r\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\r\n\r\nvar _iconPicker = __webpack_require__(60);\r\n\r\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\r\n\r\nvar _picker = __webpack_require__(28);\r\n\r\nvar _picker2 = _interopRequireDefault(_picker);\r\n\r\nvar _tooltip = __webpack_require__(61);\r\n\r\nvar _tooltip2 = _interopRequireDefault(_tooltip);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ALIGNS = [false, 'center', 'right', 'justify'];\r\n\r\nvar COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\r\n\r\nvar FONTS = [false, 'serif', 'monospace'];\r\n\r\nvar HEADERS = ['1', '2', '3', false];\r\n\r\nvar SIZES = ['small', false, 'large', 'huge'];\r\n\r\nvar BaseTheme = function (_Theme) {\r\n  _inherits(BaseTheme, _Theme);\r\n\r\n  function BaseTheme(quill, options) {\r\n    _classCallCheck(this, BaseTheme);\r\n\r\n    var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\r\n\r\n    var listener = function listener(e) {\r\n      if (!document.body.contains(quill.root)) {\r\n        return document.body.removeEventListener('click', listener);\r\n      }\r\n      if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\r\n        _this.tooltip.hide();\r\n      }\r\n      if (_this.pickers != null) {\r\n        _this.pickers.forEach(function (picker) {\r\n          if (!picker.container.contains(e.target)) {\r\n            picker.close();\r\n          }\r\n        });\r\n      }\r\n    };\r\n    quill.emitter.listenDOM('click', document.body, listener);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(BaseTheme, [{\r\n    key: 'addModule',\r\n    value: function addModule(name) {\r\n      var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\r\n      if (name === 'toolbar') {\r\n        this.extendToolbar(module);\r\n      }\r\n      return module;\r\n    }\r\n  }, {\r\n    key: 'buildButtons',\r\n    value: function buildButtons(buttons, icons) {\r\n      buttons.forEach(function (button) {\r\n        var className = button.getAttribute('class') || '';\r\n        className.split(/\\s+/).forEach(function (name) {\r\n          if (!name.startsWith('ql-')) return;\r\n          name = name.slice('ql-'.length);\r\n          if (icons[name] == null) return;\r\n          if (name === 'direction') {\r\n            button.innerHTML = icons[name][''] + icons[name]['rtl'];\r\n          } else if (typeof icons[name] === 'string') {\r\n            button.innerHTML = icons[name];\r\n          } else {\r\n            var value = button.value || '';\r\n            if (value != null && icons[name][value]) {\r\n              button.innerHTML = icons[name][value];\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }, {\r\n    key: 'buildPickers',\r\n    value: function buildPickers(selects, icons) {\r\n      var _this2 = this;\r\n\r\n      this.pickers = selects.map(function (select) {\r\n        if (select.classList.contains('ql-align')) {\r\n          if (select.querySelector('option') == null) {\r\n            fillSelect(select, ALIGNS);\r\n          }\r\n          return new _iconPicker2.default(select, icons.align);\r\n        } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\r\n          var format = select.classList.contains('ql-background') ? 'background' : 'color';\r\n          if (select.querySelector('option') == null) {\r\n            fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\r\n          }\r\n          return new _colorPicker2.default(select, icons[format]);\r\n        } else {\r\n          if (select.querySelector('option') == null) {\r\n            if (select.classList.contains('ql-font')) {\r\n              fillSelect(select, FONTS);\r\n            } else if (select.classList.contains('ql-header')) {\r\n              fillSelect(select, HEADERS);\r\n            } else if (select.classList.contains('ql-size')) {\r\n              fillSelect(select, SIZES);\r\n            }\r\n          }\r\n          return new _picker2.default(select);\r\n        }\r\n      });\r\n      var update = function update() {\r\n        _this2.pickers.forEach(function (picker) {\r\n          picker.update();\r\n        });\r\n      };\r\n      this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\r\n    }\r\n  }]);\r\n\r\n  return BaseTheme;\r\n}(_theme2.default);\r\n\r\nBaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\r\n  modules: {\r\n    toolbar: {\r\n      handlers: {\r\n        formula: function formula() {\r\n          this.quill.theme.tooltip.edit('formula');\r\n        },\r\n        image: function image() {\r\n          var _this3 = this;\r\n\r\n          var fileInput = this.container.querySelector('input.ql-image[type=file]');\r\n          if (fileInput == null) {\r\n            fileInput = document.createElement('input');\r\n            fileInput.setAttribute('type', 'file');\r\n            fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\r\n            fileInput.classList.add('ql-image');\r\n            fileInput.addEventListener('change', function () {\r\n              if (fileInput.files != null && fileInput.files[0] != null) {\r\n                var reader = new FileReader();\r\n                reader.onload = function (e) {\r\n                  var range = _this3.quill.getSelection(true);\r\n                  _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e.target.result }), _emitter2.default.sources.USER);\r\n                  _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\r\n                  fileInput.value = \"\";\r\n                };\r\n                reader.readAsDataURL(fileInput.files[0]);\r\n              }\r\n            });\r\n            this.container.appendChild(fileInput);\r\n          }\r\n          fileInput.click();\r\n        },\r\n        video: function video() {\r\n          this.quill.theme.tooltip.edit('video');\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nvar BaseTooltip = function (_Tooltip) {\r\n  _inherits(BaseTooltip, _Tooltip);\r\n\r\n  function BaseTooltip(quill, boundsContainer) {\r\n    _classCallCheck(this, BaseTooltip);\r\n\r\n    var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\r\n\r\n    _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\r\n    _this4.listen();\r\n    return _this4;\r\n  }\r\n\r\n  _createClass(BaseTooltip, [{\r\n    key: 'listen',\r\n    value: function listen() {\r\n      var _this5 = this;\r\n\r\n      this.textbox.addEventListener('keydown', function (event) {\r\n        if (_keyboard2.default.match(event, 'enter')) {\r\n          _this5.save();\r\n          event.preventDefault();\r\n        } else if (_keyboard2.default.match(event, 'escape')) {\r\n          _this5.cancel();\r\n          event.preventDefault();\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: 'cancel',\r\n    value: function cancel() {\r\n      this.hide();\r\n    }\r\n  }, {\r\n    key: 'edit',\r\n    value: function edit() {\r\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\r\n      var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n\r\n      this.root.classList.remove('ql-hidden');\r\n      this.root.classList.add('ql-editing');\r\n      if (preview != null) {\r\n        this.textbox.value = preview;\r\n      } else if (mode !== this.root.getAttribute('data-mode')) {\r\n        this.textbox.value = '';\r\n      }\r\n      this.position(this.quill.getBounds(this.quill.selection.savedRange));\r\n      this.textbox.select();\r\n      this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\r\n      this.root.setAttribute('data-mode', mode);\r\n    }\r\n  }, {\r\n    key: 'restoreFocus',\r\n    value: function restoreFocus() {\r\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\r\n      this.quill.focus();\r\n      this.quill.scrollingContainer.scrollTop = scrollTop;\r\n    }\r\n  }, {\r\n    key: 'save',\r\n    value: function save() {\r\n      var value = this.textbox.value;\r\n      switch (this.root.getAttribute('data-mode')) {\r\n        case 'link':\r\n          {\r\n            var scrollTop = this.quill.root.scrollTop;\r\n            if (this.linkRange) {\r\n              this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\r\n              delete this.linkRange;\r\n            } else {\r\n              this.restoreFocus();\r\n              this.quill.format('link', value, _emitter2.default.sources.USER);\r\n            }\r\n            this.quill.root.scrollTop = scrollTop;\r\n            break;\r\n          }\r\n        case 'video':\r\n          {\r\n            value = extractVideoUrl(value);\r\n          } // eslint-disable-next-line no-fallthrough\r\n        case 'formula':\r\n          {\r\n            if (!value) break;\r\n            var range = this.quill.getSelection(true);\r\n            if (range != null) {\r\n              var index = range.index + range.length;\r\n              this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\r\n              if (this.root.getAttribute('data-mode') === 'formula') {\r\n                this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\r\n              }\r\n              this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\r\n            }\r\n            break;\r\n          }\r\n        default:\r\n      }\r\n      this.textbox.value = '';\r\n      this.hide();\r\n    }\r\n  }]);\r\n\r\n  return BaseTooltip;\r\n}(_tooltip2.default);\r\n\r\nfunction extractVideoUrl(url) {\r\n  var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\r\n  if (match) {\r\n    return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\r\n  }\r\n  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\r\n    // eslint-disable-line no-cond-assign\r\n    return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\r\n  }\r\n  return url;\r\n}\r\n\r\nfunction fillSelect(select, values) {\r\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\r\n\r\n  values.forEach(function (value) {\r\n    var option = document.createElement('option');\r\n    if (value === defaultValue) {\r\n      option.setAttribute('selected', 'selected');\r\n    } else {\r\n      option.setAttribute('value', value);\r\n    }\r\n    select.appendChild(option);\r\n  });\r\n}\r\n\r\nexports.BaseTooltip = BaseTooltip;\r\nexports.default = BaseTheme;\r\n\r\n/***/ }),\r\n/* 44 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar LinkedList = /** @class */ (function () {\r\n    function LinkedList() {\r\n        this.head = this.tail = null;\r\n        this.length = 0;\r\n    }\r\n    LinkedList.prototype.append = function () {\r\n        var nodes = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            nodes[_i] = arguments[_i];\r\n        }\r\n        this.insertBefore(nodes[0], null);\r\n        if (nodes.length > 1) {\r\n            this.append.apply(this, nodes.slice(1));\r\n        }\r\n    };\r\n    LinkedList.prototype.contains = function (node) {\r\n        var cur, next = this.iterator();\r\n        while ((cur = next())) {\r\n            if (cur === node)\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    LinkedList.prototype.insertBefore = function (node, refNode) {\r\n        if (!node)\r\n            return;\r\n        node.next = refNode;\r\n        if (refNode != null) {\r\n            node.prev = refNode.prev;\r\n            if (refNode.prev != null) {\r\n                refNode.prev.next = node;\r\n            }\r\n            refNode.prev = node;\r\n            if (refNode === this.head) {\r\n                this.head = node;\r\n            }\r\n        }\r\n        else if (this.tail != null) {\r\n            this.tail.next = node;\r\n            node.prev = this.tail;\r\n            this.tail = node;\r\n        }\r\n        else {\r\n            node.prev = null;\r\n            this.head = this.tail = node;\r\n        }\r\n        this.length += 1;\r\n    };\r\n    LinkedList.prototype.offset = function (target) {\r\n        var index = 0, cur = this.head;\r\n        while (cur != null) {\r\n            if (cur === target)\r\n                return index;\r\n            index += cur.length();\r\n            cur = cur.next;\r\n        }\r\n        return -1;\r\n    };\r\n    LinkedList.prototype.remove = function (node) {\r\n        if (!this.contains(node))\r\n            return;\r\n        if (node.prev != null)\r\n            node.prev.next = node.next;\r\n        if (node.next != null)\r\n            node.next.prev = node.prev;\r\n        if (node === this.head)\r\n            this.head = node.next;\r\n        if (node === this.tail)\r\n            this.tail = node.prev;\r\n        this.length -= 1;\r\n    };\r\n    LinkedList.prototype.iterator = function (curNode) {\r\n        if (curNode === void 0) { curNode = this.head; }\r\n        // TODO use yield when we can\r\n        return function () {\r\n            var ret = curNode;\r\n            if (curNode != null)\r\n                curNode = curNode.next;\r\n            return ret;\r\n        };\r\n    };\r\n    LinkedList.prototype.find = function (index, inclusive) {\r\n        if (inclusive === void 0) { inclusive = false; }\r\n        var cur, next = this.iterator();\r\n        while ((cur = next())) {\r\n            var length = cur.length();\r\n            if (index < length ||\r\n                (inclusive && index === length && (cur.next == null || cur.next.length() !== 0))) {\r\n                return [cur, index];\r\n            }\r\n            index -= length;\r\n        }\r\n        return [null, 0];\r\n    };\r\n    LinkedList.prototype.forEach = function (callback) {\r\n        var cur, next = this.iterator();\r\n        while ((cur = next())) {\r\n            callback(cur);\r\n        }\r\n    };\r\n    LinkedList.prototype.forEachAt = function (index, length, callback) {\r\n        if (length <= 0)\r\n            return;\r\n        var _a = this.find(index), startNode = _a[0], offset = _a[1];\r\n        var cur, curIndex = index - offset, next = this.iterator(startNode);\r\n        while ((cur = next()) && curIndex < index + length) {\r\n            var curLength = cur.length();\r\n            if (index > curIndex) {\r\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\r\n            }\r\n            else {\r\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\r\n            }\r\n            curIndex += curLength;\r\n        }\r\n    };\r\n    LinkedList.prototype.map = function (callback) {\r\n        return this.reduce(function (memo, cur) {\r\n            memo.push(callback(cur));\r\n            return memo;\r\n        }, []);\r\n    };\r\n    LinkedList.prototype.reduce = function (callback, memo) {\r\n        var cur, next = this.iterator();\r\n        while ((cur = next())) {\r\n            memo = callback(memo, cur);\r\n        }\r\n        return memo;\r\n    };\r\n    return LinkedList;\r\n}());\r\nexports.default = LinkedList;\r\n\r\n\r\n/***/ }),\r\n/* 45 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar container_1 = __webpack_require__(17);\r\nvar Registry = __webpack_require__(1);\r\nvar OBSERVER_CONFIG = {\r\n    attributes: true,\r\n    characterData: true,\r\n    characterDataOldValue: true,\r\n    childList: true,\r\n    subtree: true,\r\n};\r\nvar MAX_OPTIMIZE_ITERATIONS = 100;\r\nvar ScrollBlot = /** @class */ (function (_super) {\r\n    __extends(ScrollBlot, _super);\r\n    function ScrollBlot(node) {\r\n        var _this = _super.call(this, node) || this;\r\n        _this.scroll = _this;\r\n        _this.observer = new MutationObserver(function (mutations) {\r\n            _this.update(mutations);\r\n        });\r\n        _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\r\n        _this.attach();\r\n        return _this;\r\n    }\r\n    ScrollBlot.prototype.detach = function () {\r\n        _super.prototype.detach.call(this);\r\n        this.observer.disconnect();\r\n    };\r\n    ScrollBlot.prototype.deleteAt = function (index, length) {\r\n        this.update();\r\n        if (index === 0 && length === this.length()) {\r\n            this.children.forEach(function (child) {\r\n                child.remove();\r\n            });\r\n        }\r\n        else {\r\n            _super.prototype.deleteAt.call(this, index, length);\r\n        }\r\n    };\r\n    ScrollBlot.prototype.formatAt = function (index, length, name, value) {\r\n        this.update();\r\n        _super.prototype.formatAt.call(this, index, length, name, value);\r\n    };\r\n    ScrollBlot.prototype.insertAt = function (index, value, def) {\r\n        this.update();\r\n        _super.prototype.insertAt.call(this, index, value, def);\r\n    };\r\n    ScrollBlot.prototype.optimize = function (mutations, context) {\r\n        var _this = this;\r\n        if (mutations === void 0) { mutations = []; }\r\n        if (context === void 0) { context = {}; }\r\n        _super.prototype.optimize.call(this, context);\r\n        // We must modify mutations directly, cannot make copy and then modify\r\n        var records = [].slice.call(this.observer.takeRecords());\r\n        // Array.push currently seems to be implemented by a non-tail recursive function\r\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\r\n        while (records.length > 0)\r\n            mutations.push(records.pop());\r\n        // TODO use WeakMap\r\n        var mark = function (blot, markParent) {\r\n            if (markParent === void 0) { markParent = true; }\r\n            if (blot == null || blot === _this)\r\n                return;\r\n            if (blot.domNode.parentNode == null)\r\n                return;\r\n            // @ts-ignore\r\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\r\n                // @ts-ignore\r\n                blot.domNode[Registry.DATA_KEY].mutations = [];\r\n            }\r\n            if (markParent)\r\n                mark(blot.parent);\r\n        };\r\n        var optimize = function (blot) {\r\n            // Post-order traversal\r\n            if (\r\n            // @ts-ignore\r\n            blot.domNode[Registry.DATA_KEY] == null ||\r\n                // @ts-ignore\r\n                blot.domNode[Registry.DATA_KEY].mutations == null) {\r\n                return;\r\n            }\r\n            if (blot instanceof container_1.default) {\r\n                blot.children.forEach(optimize);\r\n            }\r\n            blot.optimize(context);\r\n        };\r\n        var remaining = mutations;\r\n        for (var i = 0; remaining.length > 0; i += 1) {\r\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\r\n                throw new Error('[Parchment] Maximum optimize iterations reached');\r\n            }\r\n            remaining.forEach(function (mutation) {\r\n                var blot = Registry.find(mutation.target, true);\r\n                if (blot == null)\r\n                    return;\r\n                if (blot.domNode === mutation.target) {\r\n                    if (mutation.type === 'childList') {\r\n                        mark(Registry.find(mutation.previousSibling, false));\r\n                        [].forEach.call(mutation.addedNodes, function (node) {\r\n                            var child = Registry.find(node, false);\r\n                            mark(child, false);\r\n                            if (child instanceof container_1.default) {\r\n                                child.children.forEach(function (grandChild) {\r\n                                    mark(grandChild, false);\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (mutation.type === 'attributes') {\r\n                        mark(blot.prev);\r\n                    }\r\n                }\r\n                mark(blot);\r\n            });\r\n            this.children.forEach(optimize);\r\n            remaining = [].slice.call(this.observer.takeRecords());\r\n            records = remaining.slice();\r\n            while (records.length > 0)\r\n                mutations.push(records.pop());\r\n        }\r\n    };\r\n    ScrollBlot.prototype.update = function (mutations, context) {\r\n        var _this = this;\r\n        if (context === void 0) { context = {}; }\r\n        mutations = mutations || this.observer.takeRecords();\r\n        // TODO use WeakMap\r\n        mutations\r\n            .map(function (mutation) {\r\n            var blot = Registry.find(mutation.target, true);\r\n            if (blot == null)\r\n                return null;\r\n            // @ts-ignore\r\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\r\n                // @ts-ignore\r\n                blot.domNode[Registry.DATA_KEY].mutations = [mutation];\r\n                return blot;\r\n            }\r\n            else {\r\n                // @ts-ignore\r\n                blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\r\n                return null;\r\n            }\r\n        })\r\n            .forEach(function (blot) {\r\n            if (blot == null ||\r\n                blot === _this ||\r\n                //@ts-ignore\r\n                blot.domNode[Registry.DATA_KEY] == null)\r\n                return;\r\n            // @ts-ignore\r\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\r\n        });\r\n        // @ts-ignore\r\n        if (this.domNode[Registry.DATA_KEY].mutations != null) {\r\n            // @ts-ignore\r\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\r\n        }\r\n        this.optimize(mutations, context);\r\n    };\r\n    ScrollBlot.blotName = 'scroll';\r\n    ScrollBlot.defaultChild = 'block';\r\n    ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\r\n    ScrollBlot.tagName = 'DIV';\r\n    return ScrollBlot;\r\n}(container_1.default));\r\nexports.default = ScrollBlot;\r\n\r\n\r\n/***/ }),\r\n/* 46 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar format_1 = __webpack_require__(18);\r\nvar Registry = __webpack_require__(1);\r\n// Shallow object comparison\r\nfunction isEqual(obj1, obj2) {\r\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\r\n        return false;\r\n    // @ts-ignore\r\n    for (var prop in obj1) {\r\n        // @ts-ignore\r\n        if (obj1[prop] !== obj2[prop])\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nvar InlineBlot = /** @class */ (function (_super) {\r\n    __extends(InlineBlot, _super);\r\n    function InlineBlot() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    InlineBlot.formats = function (domNode) {\r\n        if (domNode.tagName === InlineBlot.tagName)\r\n            return undefined;\r\n        return _super.formats.call(this, domNode);\r\n    };\r\n    InlineBlot.prototype.format = function (name, value) {\r\n        var _this = this;\r\n        if (name === this.statics.blotName && !value) {\r\n            this.children.forEach(function (child) {\r\n                if (!(child instanceof format_1.default)) {\r\n                    child = child.wrap(InlineBlot.blotName, true);\r\n                }\r\n                _this.attributes.copy(child);\r\n            });\r\n            this.unwrap();\r\n        }\r\n        else {\r\n            _super.prototype.format.call(this, name, value);\r\n        }\r\n    };\r\n    InlineBlot.prototype.formatAt = function (index, length, name, value) {\r\n        if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\r\n            var blot = this.isolate(index, length);\r\n            blot.format(name, value);\r\n        }\r\n        else {\r\n            _super.prototype.formatAt.call(this, index, length, name, value);\r\n        }\r\n    };\r\n    InlineBlot.prototype.optimize = function (context) {\r\n        _super.prototype.optimize.call(this, context);\r\n        var formats = this.formats();\r\n        if (Object.keys(formats).length === 0) {\r\n            return this.unwrap(); // unformatted span\r\n        }\r\n        var next = this.next;\r\n        if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\r\n            next.moveChildren(this);\r\n            next.remove();\r\n        }\r\n    };\r\n    InlineBlot.blotName = 'inline';\r\n    InlineBlot.scope = Registry.Scope.INLINE_BLOT;\r\n    InlineBlot.tagName = 'SPAN';\r\n    return InlineBlot;\r\n}(format_1.default));\r\nexports.default = InlineBlot;\r\n\r\n\r\n/***/ }),\r\n/* 47 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar format_1 = __webpack_require__(18);\r\nvar Registry = __webpack_require__(1);\r\nvar BlockBlot = /** @class */ (function (_super) {\r\n    __extends(BlockBlot, _super);\r\n    function BlockBlot() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    BlockBlot.formats = function (domNode) {\r\n        var tagName = Registry.query(BlockBlot.blotName).tagName;\r\n        if (domNode.tagName === tagName)\r\n            return undefined;\r\n        return _super.formats.call(this, domNode);\r\n    };\r\n    BlockBlot.prototype.format = function (name, value) {\r\n        if (Registry.query(name, Registry.Scope.BLOCK) == null) {\r\n            return;\r\n        }\r\n        else if (name === this.statics.blotName && !value) {\r\n            this.replaceWith(BlockBlot.blotName);\r\n        }\r\n        else {\r\n            _super.prototype.format.call(this, name, value);\r\n        }\r\n    };\r\n    BlockBlot.prototype.formatAt = function (index, length, name, value) {\r\n        if (Registry.query(name, Registry.Scope.BLOCK) != null) {\r\n            this.format(name, value);\r\n        }\r\n        else {\r\n            _super.prototype.formatAt.call(this, index, length, name, value);\r\n        }\r\n    };\r\n    BlockBlot.prototype.insertAt = function (index, value, def) {\r\n        if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\r\n            // Insert text or inline\r\n            _super.prototype.insertAt.call(this, index, value, def);\r\n        }\r\n        else {\r\n            var after = this.split(index);\r\n            var blot = Registry.create(value, def);\r\n            after.parent.insertBefore(blot, after);\r\n        }\r\n    };\r\n    BlockBlot.prototype.update = function (mutations, context) {\r\n        if (navigator.userAgent.match(/Trident/)) {\r\n            this.build();\r\n        }\r\n        else {\r\n            _super.prototype.update.call(this, mutations, context);\r\n        }\r\n    };\r\n    BlockBlot.blotName = 'block';\r\n    BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\r\n    BlockBlot.tagName = 'P';\r\n    return BlockBlot;\r\n}(format_1.default));\r\nexports.default = BlockBlot;\r\n\r\n\r\n/***/ }),\r\n/* 48 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar leaf_1 = __webpack_require__(19);\r\nvar EmbedBlot = /** @class */ (function (_super) {\r\n    __extends(EmbedBlot, _super);\r\n    function EmbedBlot() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    EmbedBlot.formats = function (domNode) {\r\n        return undefined;\r\n    };\r\n    EmbedBlot.prototype.format = function (name, value) {\r\n        // super.formatAt wraps, which is what we want in general,\r\n        // but this allows subclasses to overwrite for formats\r\n        // that just apply to particular embeds\r\n        _super.prototype.formatAt.call(this, 0, this.length(), name, value);\r\n    };\r\n    EmbedBlot.prototype.formatAt = function (index, length, name, value) {\r\n        if (index === 0 && length === this.length()) {\r\n            this.format(name, value);\r\n        }\r\n        else {\r\n            _super.prototype.formatAt.call(this, index, length, name, value);\r\n        }\r\n    };\r\n    EmbedBlot.prototype.formats = function () {\r\n        return this.statics.formats(this.domNode);\r\n    };\r\n    return EmbedBlot;\r\n}(leaf_1.default));\r\nexports.default = EmbedBlot;\r\n\r\n\r\n/***/ }),\r\n/* 49 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar leaf_1 = __webpack_require__(19);\r\nvar Registry = __webpack_require__(1);\r\nvar TextBlot = /** @class */ (function (_super) {\r\n    __extends(TextBlot, _super);\r\n    function TextBlot(node) {\r\n        var _this = _super.call(this, node) || this;\r\n        _this.text = _this.statics.value(_this.domNode);\r\n        return _this;\r\n    }\r\n    TextBlot.create = function (value) {\r\n        return document.createTextNode(value);\r\n    };\r\n    TextBlot.value = function (domNode) {\r\n        var text = domNode.data;\r\n        // @ts-ignore\r\n        if (text['normalize'])\r\n            text = text['normalize']();\r\n        return text;\r\n    };\r\n    TextBlot.prototype.deleteAt = function (index, length) {\r\n        this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\r\n    };\r\n    TextBlot.prototype.index = function (node, offset) {\r\n        if (this.domNode === node) {\r\n            return offset;\r\n        }\r\n        return -1;\r\n    };\r\n    TextBlot.prototype.insertAt = function (index, value, def) {\r\n        if (def == null) {\r\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\r\n            this.domNode.data = this.text;\r\n        }\r\n        else {\r\n            _super.prototype.insertAt.call(this, index, value, def);\r\n        }\r\n    };\r\n    TextBlot.prototype.length = function () {\r\n        return this.text.length;\r\n    };\r\n    TextBlot.prototype.optimize = function (context) {\r\n        _super.prototype.optimize.call(this, context);\r\n        this.text = this.statics.value(this.domNode);\r\n        if (this.text.length === 0) {\r\n            this.remove();\r\n        }\r\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\r\n            this.insertAt(this.length(), this.next.value());\r\n            this.next.remove();\r\n        }\r\n    };\r\n    TextBlot.prototype.position = function (index, inclusive) {\r\n        if (inclusive === void 0) { inclusive = false; }\r\n        return [this.domNode, index];\r\n    };\r\n    TextBlot.prototype.split = function (index, force) {\r\n        if (force === void 0) { force = false; }\r\n        if (!force) {\r\n            if (index === 0)\r\n                return this;\r\n            if (index === this.length())\r\n                return this.next;\r\n        }\r\n        var after = Registry.create(this.domNode.splitText(index));\r\n        this.parent.insertBefore(after, this.next);\r\n        this.text = this.statics.value(this.domNode);\r\n        return after;\r\n    };\r\n    TextBlot.prototype.update = function (mutations, context) {\r\n        var _this = this;\r\n        if (mutations.some(function (mutation) {\r\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\r\n        })) {\r\n            this.text = this.statics.value(this.domNode);\r\n        }\r\n    };\r\n    TextBlot.prototype.value = function () {\r\n        return this.text;\r\n    };\r\n    TextBlot.blotName = 'text';\r\n    TextBlot.scope = Registry.Scope.INLINE_BLOT;\r\n    return TextBlot;\r\n}(leaf_1.default));\r\nexports.default = TextBlot;\r\n\r\n\r\n/***/ }),\r\n/* 50 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nvar elem = document.createElement('div');\r\nelem.classList.toggle('test-class', false);\r\nif (elem.classList.contains('test-class')) {\r\n  var _toggle = DOMTokenList.prototype.toggle;\r\n  DOMTokenList.prototype.toggle = function (token, force) {\r\n    if (arguments.length > 1 && !this.contains(token) === !force) {\r\n      return force;\r\n    } else {\r\n      return _toggle.call(this, token);\r\n    }\r\n  };\r\n}\r\n\r\nif (!String.prototype.startsWith) {\r\n  String.prototype.startsWith = function (searchString, position) {\r\n    position = position || 0;\r\n    return this.substr(position, searchString.length) === searchString;\r\n  };\r\n}\r\n\r\nif (!String.prototype.endsWith) {\r\n  String.prototype.endsWith = function (searchString, position) {\r\n    var subjectString = this.toString();\r\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\r\n      position = subjectString.length;\r\n    }\r\n    position -= searchString.length;\r\n    var lastIndex = subjectString.indexOf(searchString, position);\r\n    return lastIndex !== -1 && lastIndex === position;\r\n  };\r\n}\r\n\r\nif (!Array.prototype.find) {\r\n  Object.defineProperty(Array.prototype, \"find\", {\r\n    value: function value(predicate) {\r\n      if (this === null) {\r\n        throw new TypeError('Array.prototype.find called on null or undefined');\r\n      }\r\n      if (typeof predicate !== 'function') {\r\n        throw new TypeError('predicate must be a function');\r\n      }\r\n      var list = Object(this);\r\n      var length = list.length >>> 0;\r\n      var thisArg = arguments[1];\r\n      var value;\r\n\r\n      for (var i = 0; i < length; i++) {\r\n        value = list[i];\r\n        if (predicate.call(thisArg, value, i, list)) {\r\n          return value;\r\n        }\r\n      }\r\n      return undefined;\r\n    }\r\n  });\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  // Disable resizing in Firefox\r\n  document.execCommand(\"enableObjectResizing\", false, false);\r\n  // Disable automatic linkifying in IE11\r\n  document.execCommand(\"autoUrlDetect\", false, false);\r\n});\r\n\r\n/***/ }),\r\n/* 51 */\r\n/***/ (function(module, exports) {\r\n\r\n/**\r\n * This library modifies the diff-patch-match library by Neil Fraser\r\n * by removing the patch and match functionality and certain advanced\r\n * options in the diff function. The original license is as follows:\r\n *\r\n * ===\r\n *\r\n * Diff Match and Patch\r\n *\r\n * Copyright 2006 Google Inc.\r\n * http://code.google.com/p/google-diff-match-patch/\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n\r\n/**\r\n * The data structure representing a diff is an array of tuples:\r\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\r\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\r\n */\r\nvar DIFF_DELETE = -1;\r\nvar DIFF_INSERT = 1;\r\nvar DIFF_EQUAL = 0;\r\n\r\n\r\n/**\r\n * Find the differences between two texts.  Simplifies the problem by stripping\r\n * any common prefix or suffix off the texts before diffing.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {Int} cursor_pos Expected edit position in text1 (optional)\r\n * @return {Array} Array of diff tuples.\r\n */\r\nfunction diff_main(text1, text2, cursor_pos) {\r\n  // Check for equality (speedup).\r\n  if (text1 == text2) {\r\n    if (text1) {\r\n      return [[DIFF_EQUAL, text1]];\r\n    }\r\n    return [];\r\n  }\r\n\r\n  // Check cursor_pos within bounds\r\n  if (cursor_pos < 0 || text1.length < cursor_pos) {\r\n    cursor_pos = null;\r\n  }\r\n\r\n  // Trim off common prefix (speedup).\r\n  var commonlength = diff_commonPrefix(text1, text2);\r\n  var commonprefix = text1.substring(0, commonlength);\r\n  text1 = text1.substring(commonlength);\r\n  text2 = text2.substring(commonlength);\r\n\r\n  // Trim off common suffix (speedup).\r\n  commonlength = diff_commonSuffix(text1, text2);\r\n  var commonsuffix = text1.substring(text1.length - commonlength);\r\n  text1 = text1.substring(0, text1.length - commonlength);\r\n  text2 = text2.substring(0, text2.length - commonlength);\r\n\r\n  // Compute the diff on the middle block.\r\n  var diffs = diff_compute_(text1, text2);\r\n\r\n  // Restore the prefix and suffix.\r\n  if (commonprefix) {\r\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\r\n  }\r\n  if (commonsuffix) {\r\n    diffs.push([DIFF_EQUAL, commonsuffix]);\r\n  }\r\n  diff_cleanupMerge(diffs);\r\n  if (cursor_pos != null) {\r\n    diffs = fix_cursor(diffs, cursor_pos);\r\n  }\r\n  diffs = fix_emoji(diffs);\r\n  return diffs;\r\n};\r\n\r\n\r\n/**\r\n * Find the differences between two texts.  Assumes that the texts do not\r\n * have any common prefix or suffix.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @return {Array} Array of diff tuples.\r\n */\r\nfunction diff_compute_(text1, text2) {\r\n  var diffs;\r\n\r\n  if (!text1) {\r\n    // Just add some text (speedup).\r\n    return [[DIFF_INSERT, text2]];\r\n  }\r\n\r\n  if (!text2) {\r\n    // Just delete some text (speedup).\r\n    return [[DIFF_DELETE, text1]];\r\n  }\r\n\r\n  var longtext = text1.length > text2.length ? text1 : text2;\r\n  var shorttext = text1.length > text2.length ? text2 : text1;\r\n  var i = longtext.indexOf(shorttext);\r\n  if (i != -1) {\r\n    // Shorter text is inside the longer text (speedup).\r\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\r\n             [DIFF_EQUAL, shorttext],\r\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\r\n    // Swap insertions for deletions if diff is reversed.\r\n    if (text1.length > text2.length) {\r\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\r\n    }\r\n    return diffs;\r\n  }\r\n\r\n  if (shorttext.length == 1) {\r\n    // Single character string.\r\n    // After the previous speedup, the character can't be an equality.\r\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\r\n  }\r\n\r\n  // Check to see if the problem can be split in two.\r\n  var hm = diff_halfMatch_(text1, text2);\r\n  if (hm) {\r\n    // A half-match was found, sort out the return data.\r\n    var text1_a = hm[0];\r\n    var text1_b = hm[1];\r\n    var text2_a = hm[2];\r\n    var text2_b = hm[3];\r\n    var mid_common = hm[4];\r\n    // Send both pairs off for separate processing.\r\n    var diffs_a = diff_main(text1_a, text2_a);\r\n    var diffs_b = diff_main(text1_b, text2_b);\r\n    // Merge the results.\r\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\r\n  }\r\n\r\n  return diff_bisect_(text1, text2);\r\n};\r\n\r\n\r\n/**\r\n * Find the 'middle snake' of a diff, split the problem in two\r\n * and return the recursively constructed diff.\r\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @return {Array} Array of diff tuples.\r\n * @private\r\n */\r\nfunction diff_bisect_(text1, text2) {\r\n  // Cache the text lengths to prevent multiple calls.\r\n  var text1_length = text1.length;\r\n  var text2_length = text2.length;\r\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\r\n  var v_offset = max_d;\r\n  var v_length = 2 * max_d;\r\n  var v1 = new Array(v_length);\r\n  var v2 = new Array(v_length);\r\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\r\n  // integers and undefined.\r\n  for (var x = 0; x < v_length; x++) {\r\n    v1[x] = -1;\r\n    v2[x] = -1;\r\n  }\r\n  v1[v_offset + 1] = 0;\r\n  v2[v_offset + 1] = 0;\r\n  var delta = text1_length - text2_length;\r\n  // If the total number of characters is odd, then the front path will collide\r\n  // with the reverse path.\r\n  var front = (delta % 2 != 0);\r\n  // Offsets for start and end of k loop.\r\n  // Prevents mapping of space beyond the grid.\r\n  var k1start = 0;\r\n  var k1end = 0;\r\n  var k2start = 0;\r\n  var k2end = 0;\r\n  for (var d = 0; d < max_d; d++) {\r\n    // Walk the front path one step.\r\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\r\n      var k1_offset = v_offset + k1;\r\n      var x1;\r\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\r\n        x1 = v1[k1_offset + 1];\r\n      } else {\r\n        x1 = v1[k1_offset - 1] + 1;\r\n      }\r\n      var y1 = x1 - k1;\r\n      while (x1 < text1_length && y1 < text2_length &&\r\n             text1.charAt(x1) == text2.charAt(y1)) {\r\n        x1++;\r\n        y1++;\r\n      }\r\n      v1[k1_offset] = x1;\r\n      if (x1 > text1_length) {\r\n        // Ran off the right of the graph.\r\n        k1end += 2;\r\n      } else if (y1 > text2_length) {\r\n        // Ran off the bottom of the graph.\r\n        k1start += 2;\r\n      } else if (front) {\r\n        var k2_offset = v_offset + delta - k1;\r\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\r\n          // Mirror x2 onto top-left coordinate system.\r\n          var x2 = text1_length - v2[k2_offset];\r\n          if (x1 >= x2) {\r\n            // Overlap detected.\r\n            return diff_bisectSplit_(text1, text2, x1, y1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Walk the reverse path one step.\r\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\r\n      var k2_offset = v_offset + k2;\r\n      var x2;\r\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\r\n        x2 = v2[k2_offset + 1];\r\n      } else {\r\n        x2 = v2[k2_offset - 1] + 1;\r\n      }\r\n      var y2 = x2 - k2;\r\n      while (x2 < text1_length && y2 < text2_length &&\r\n             text1.charAt(text1_length - x2 - 1) ==\r\n             text2.charAt(text2_length - y2 - 1)) {\r\n        x2++;\r\n        y2++;\r\n      }\r\n      v2[k2_offset] = x2;\r\n      if (x2 > text1_length) {\r\n        // Ran off the left of the graph.\r\n        k2end += 2;\r\n      } else if (y2 > text2_length) {\r\n        // Ran off the top of the graph.\r\n        k2start += 2;\r\n      } else if (!front) {\r\n        var k1_offset = v_offset + delta - k2;\r\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\r\n          var x1 = v1[k1_offset];\r\n          var y1 = v_offset + x1 - k1_offset;\r\n          // Mirror x2 onto top-left coordinate system.\r\n          x2 = text1_length - x2;\r\n          if (x1 >= x2) {\r\n            // Overlap detected.\r\n            return diff_bisectSplit_(text1, text2, x1, y1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // Diff took too long and hit the deadline or\r\n  // number of diffs equals number of characters, no commonality at all.\r\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\r\n};\r\n\r\n\r\n/**\r\n * Given the location of the 'middle snake', split the diff in two parts\r\n * and recurse.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {number} x Index of split point in text1.\r\n * @param {number} y Index of split point in text2.\r\n * @return {Array} Array of diff tuples.\r\n */\r\nfunction diff_bisectSplit_(text1, text2, x, y) {\r\n  var text1a = text1.substring(0, x);\r\n  var text2a = text2.substring(0, y);\r\n  var text1b = text1.substring(x);\r\n  var text2b = text2.substring(y);\r\n\r\n  // Compute both diffs serially.\r\n  var diffs = diff_main(text1a, text2a);\r\n  var diffsb = diff_main(text1b, text2b);\r\n\r\n  return diffs.concat(diffsb);\r\n};\r\n\r\n\r\n/**\r\n * Determine the common prefix of two strings.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the start of each\r\n *     string.\r\n */\r\nfunction diff_commonPrefix(text1, text2) {\r\n  // Quick check for common null cases.\r\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\r\n    return 0;\r\n  }\r\n  // Binary search.\r\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\r\n  var pointermin = 0;\r\n  var pointermax = Math.min(text1.length, text2.length);\r\n  var pointermid = pointermax;\r\n  var pointerstart = 0;\r\n  while (pointermin < pointermid) {\r\n    if (text1.substring(pointerstart, pointermid) ==\r\n        text2.substring(pointerstart, pointermid)) {\r\n      pointermin = pointermid;\r\n      pointerstart = pointermin;\r\n    } else {\r\n      pointermax = pointermid;\r\n    }\r\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\r\n  }\r\n  return pointermid;\r\n};\r\n\r\n\r\n/**\r\n * Determine the common suffix of two strings.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the end of each string.\r\n */\r\nfunction diff_commonSuffix(text1, text2) {\r\n  // Quick check for common null cases.\r\n  if (!text1 || !text2 ||\r\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\r\n    return 0;\r\n  }\r\n  // Binary search.\r\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\r\n  var pointermin = 0;\r\n  var pointermax = Math.min(text1.length, text2.length);\r\n  var pointermid = pointermax;\r\n  var pointerend = 0;\r\n  while (pointermin < pointermid) {\r\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\r\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\r\n      pointermin = pointermid;\r\n      pointerend = pointermin;\r\n    } else {\r\n      pointermax = pointermid;\r\n    }\r\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\r\n  }\r\n  return pointermid;\r\n};\r\n\r\n\r\n/**\r\n * Do the two texts share a substring which is at least half the length of the\r\n * longer text?\r\n * This speedup can produce non-minimal diffs.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {Array.<string>} Five element Array, containing the prefix of\r\n *     text1, the suffix of text1, the prefix of text2, the suffix of\r\n *     text2 and the common middle.  Or null if there was no match.\r\n */\r\nfunction diff_halfMatch_(text1, text2) {\r\n  var longtext = text1.length > text2.length ? text1 : text2;\r\n  var shorttext = text1.length > text2.length ? text2 : text1;\r\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\r\n    return null;  // Pointless.\r\n  }\r\n\r\n  /**\r\n   * Does a substring of shorttext exist within longtext such that the substring\r\n   * is at least half the length of longtext?\r\n   * Closure, but does not reference any external variables.\r\n   * @param {string} longtext Longer string.\r\n   * @param {string} shorttext Shorter string.\r\n   * @param {number} i Start index of quarter length substring within longtext.\r\n   * @return {Array.<string>} Five element Array, containing the prefix of\r\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\r\n   *     of shorttext and the common middle.  Or null if there was no match.\r\n   * @private\r\n   */\r\n  function diff_halfMatchI_(longtext, shorttext, i) {\r\n    // Start with a 1/4 length substring at position i as a seed.\r\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\r\n    var j = -1;\r\n    var best_common = '';\r\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\r\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\r\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\r\n                                           shorttext.substring(j));\r\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\r\n                                           shorttext.substring(0, j));\r\n      if (best_common.length < suffixLength + prefixLength) {\r\n        best_common = shorttext.substring(j - suffixLength, j) +\r\n            shorttext.substring(j, j + prefixLength);\r\n        best_longtext_a = longtext.substring(0, i - suffixLength);\r\n        best_longtext_b = longtext.substring(i + prefixLength);\r\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\r\n        best_shorttext_b = shorttext.substring(j + prefixLength);\r\n      }\r\n    }\r\n    if (best_common.length * 2 >= longtext.length) {\r\n      return [best_longtext_a, best_longtext_b,\r\n              best_shorttext_a, best_shorttext_b, best_common];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // First check if the second quarter is the seed for a half-match.\r\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\r\n                             Math.ceil(longtext.length / 4));\r\n  // Check again based on the third quarter.\r\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\r\n                             Math.ceil(longtext.length / 2));\r\n  var hm;\r\n  if (!hm1 && !hm2) {\r\n    return null;\r\n  } else if (!hm2) {\r\n    hm = hm1;\r\n  } else if (!hm1) {\r\n    hm = hm2;\r\n  } else {\r\n    // Both matched.  Select the longest.\r\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\r\n  }\r\n\r\n  // A half-match was found, sort out the return data.\r\n  var text1_a, text1_b, text2_a, text2_b;\r\n  if (text1.length > text2.length) {\r\n    text1_a = hm[0];\r\n    text1_b = hm[1];\r\n    text2_a = hm[2];\r\n    text2_b = hm[3];\r\n  } else {\r\n    text2_a = hm[0];\r\n    text2_b = hm[1];\r\n    text1_a = hm[2];\r\n    text1_b = hm[3];\r\n  }\r\n  var mid_common = hm[4];\r\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\r\n};\r\n\r\n\r\n/**\r\n * Reorder and merge like edit sections.  Merge equalities.\r\n * Any edit section can move as long as it doesn't cross an equality.\r\n * @param {Array} diffs Array of diff tuples.\r\n */\r\nfunction diff_cleanupMerge(diffs) {\r\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\r\n  var pointer = 0;\r\n  var count_delete = 0;\r\n  var count_insert = 0;\r\n  var text_delete = '';\r\n  var text_insert = '';\r\n  var commonlength;\r\n  while (pointer < diffs.length) {\r\n    switch (diffs[pointer][0]) {\r\n      case DIFF_INSERT:\r\n        count_insert++;\r\n        text_insert += diffs[pointer][1];\r\n        pointer++;\r\n        break;\r\n      case DIFF_DELETE:\r\n        count_delete++;\r\n        text_delete += diffs[pointer][1];\r\n        pointer++;\r\n        break;\r\n      case DIFF_EQUAL:\r\n        // Upon reaching an equality, check for prior redundancies.\r\n        if (count_delete + count_insert > 1) {\r\n          if (count_delete !== 0 && count_insert !== 0) {\r\n            // Factor out any common prefixies.\r\n            commonlength = diff_commonPrefix(text_insert, text_delete);\r\n            if (commonlength !== 0) {\r\n              if ((pointer - count_delete - count_insert) > 0 &&\r\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\r\n                  DIFF_EQUAL) {\r\n                diffs[pointer - count_delete - count_insert - 1][1] +=\r\n                    text_insert.substring(0, commonlength);\r\n              } else {\r\n                diffs.splice(0, 0, [DIFF_EQUAL,\r\n                                    text_insert.substring(0, commonlength)]);\r\n                pointer++;\r\n              }\r\n              text_insert = text_insert.substring(commonlength);\r\n              text_delete = text_delete.substring(commonlength);\r\n            }\r\n            // Factor out any common suffixies.\r\n            commonlength = diff_commonSuffix(text_insert, text_delete);\r\n            if (commonlength !== 0) {\r\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\r\n                  commonlength) + diffs[pointer][1];\r\n              text_insert = text_insert.substring(0, text_insert.length -\r\n                  commonlength);\r\n              text_delete = text_delete.substring(0, text_delete.length -\r\n                  commonlength);\r\n            }\r\n          }\r\n          // Delete the offending records and add the merged ones.\r\n          if (count_delete === 0) {\r\n            diffs.splice(pointer - count_insert,\r\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\r\n          } else if (count_insert === 0) {\r\n            diffs.splice(pointer - count_delete,\r\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\r\n          } else {\r\n            diffs.splice(pointer - count_delete - count_insert,\r\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\r\n                [DIFF_INSERT, text_insert]);\r\n          }\r\n          pointer = pointer - count_delete - count_insert +\r\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\r\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\r\n          // Merge this equality with the previous one.\r\n          diffs[pointer - 1][1] += diffs[pointer][1];\r\n          diffs.splice(pointer, 1);\r\n        } else {\r\n          pointer++;\r\n        }\r\n        count_insert = 0;\r\n        count_delete = 0;\r\n        text_delete = '';\r\n        text_insert = '';\r\n        break;\r\n    }\r\n  }\r\n  if (diffs[diffs.length - 1][1] === '') {\r\n    diffs.pop();  // Remove the dummy entry at the end.\r\n  }\r\n\r\n  // Second pass: look for single edits surrounded on both sides by equalities\r\n  // which can be shifted sideways to eliminate an equality.\r\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\r\n  var changes = false;\r\n  pointer = 1;\r\n  // Intentionally ignore the first and last element (don't need checking).\r\n  while (pointer < diffs.length - 1) {\r\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\r\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\r\n      // This is a single edit surrounded by equalities.\r\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\r\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\r\n        // Shift the edit over the previous equality.\r\n        diffs[pointer][1] = diffs[pointer - 1][1] +\r\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\r\n                                        diffs[pointer - 1][1].length);\r\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\r\n        diffs.splice(pointer - 1, 1);\r\n        changes = true;\r\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\r\n          diffs[pointer + 1][1]) {\r\n        // Shift the edit over the next equality.\r\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\r\n        diffs[pointer][1] =\r\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\r\n            diffs[pointer + 1][1];\r\n        diffs.splice(pointer + 1, 1);\r\n        changes = true;\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n  // If shifts were made, the diff needs reordering and another shift sweep.\r\n  if (changes) {\r\n    diff_cleanupMerge(diffs);\r\n  }\r\n};\r\n\r\n\r\nvar diff = diff_main;\r\ndiff.INSERT = DIFF_INSERT;\r\ndiff.DELETE = DIFF_DELETE;\r\ndiff.EQUAL = DIFF_EQUAL;\r\n\r\nmodule.exports = diff;\r\n\r\n/*\r\n * Modify a diff such that the cursor position points to the start of a change:\r\n * E.g.\r\n *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\r\n *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\r\n *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\r\n *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\r\n *\r\n * @param {Array} diffs Array of diff tuples\r\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\r\n * @return {Array} A tuple [cursor location in the modified diff, modified diff]\r\n */\r\nfunction cursor_normalize_diff (diffs, cursor_pos) {\r\n  if (cursor_pos === 0) {\r\n    return [DIFF_EQUAL, diffs];\r\n  }\r\n  for (var current_pos = 0, i = 0; i < diffs.length; i++) {\r\n    var d = diffs[i];\r\n    if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\r\n      var next_pos = current_pos + d[1].length;\r\n      if (cursor_pos === next_pos) {\r\n        return [i + 1, diffs];\r\n      } else if (cursor_pos < next_pos) {\r\n        // copy to prevent side effects\r\n        diffs = diffs.slice();\r\n        // split d into two diff changes\r\n        var split_pos = cursor_pos - current_pos;\r\n        var d_left = [d[0], d[1].slice(0, split_pos)];\r\n        var d_right = [d[0], d[1].slice(split_pos)];\r\n        diffs.splice(i, 1, d_left, d_right);\r\n        return [i + 1, diffs];\r\n      } else {\r\n        current_pos = next_pos;\r\n      }\r\n    }\r\n  }\r\n  throw new Error('cursor_pos is out of bounds!')\r\n}\r\n\r\n/*\r\n * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\r\n *\r\n * Case 1)\r\n *   Check if a naive shift is possible:\r\n *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\r\n *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\r\n * Case 2)\r\n *   Check if the following shifts are possible:\r\n *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\r\n *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\r\n *         ^            ^\r\n *         d          d_next\r\n *\r\n * @param {Array} diffs Array of diff tuples\r\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\r\n * @return {Array} Array of diff tuples\r\n */\r\nfunction fix_cursor (diffs, cursor_pos) {\r\n  var norm = cursor_normalize_diff(diffs, cursor_pos);\r\n  var ndiffs = norm[1];\r\n  var cursor_pointer = norm[0];\r\n  var d = ndiffs[cursor_pointer];\r\n  var d_next = ndiffs[cursor_pointer + 1];\r\n\r\n  if (d == null) {\r\n    // Text was deleted from end of original string,\r\n    // cursor is now out of bounds in new string\r\n    return diffs;\r\n  } else if (d[0] !== DIFF_EQUAL) {\r\n    // A modification happened at the cursor location.\r\n    // This is the expected outcome, so we can return the original diff.\r\n    return diffs;\r\n  } else {\r\n    if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\r\n      // Case 1)\r\n      // It is possible to perform a naive shift\r\n      ndiffs.splice(cursor_pointer, 2, d_next, d)\r\n      return merge_tuples(ndiffs, cursor_pointer, 2)\r\n    } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\r\n      // Case 2)\r\n      // d[1] is a prefix of d_next[1]\r\n      // We can assume that d_next[0] !== 0, since d[0] === 0\r\n      // Shift edit locations..\r\n      ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\r\n      var suffix = d_next[1].slice(d[1].length);\r\n      if (suffix.length > 0) {\r\n        ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\r\n      }\r\n      return merge_tuples(ndiffs, cursor_pointer, 3)\r\n    } else {\r\n      // Not possible to perform any modification\r\n      return diffs;\r\n    }\r\n  }\r\n}\r\n\r\n/*\r\n * Check diff did not split surrogate pairs.\r\n * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\r\n *     '\\uD83D\\uDC36' === '', '\\uD83D\\uDC2F' === ''\r\n *\r\n * @param {Array} diffs Array of diff tuples\r\n * @return {Array} Array of diff tuples\r\n */\r\nfunction fix_emoji (diffs) {\r\n  var compact = false;\r\n  var starts_with_pair_end = function(str) {\r\n    return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\r\n  }\r\n  var ends_with_pair_start = function(str) {\r\n    return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;\r\n  }\r\n  for (var i = 2; i < diffs.length; i += 1) {\r\n    if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&\r\n        diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&\r\n        diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\r\n      compact = true;\r\n\r\n      diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];\r\n      diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];\r\n\r\n      diffs[i-2][1] = diffs[i-2][1].slice(0, -1);\r\n    }\r\n  }\r\n  if (!compact) {\r\n    return diffs;\r\n  }\r\n  var fixed_diffs = [];\r\n  for (var i = 0; i < diffs.length; i += 1) {\r\n    if (diffs[i][1].length > 0) {\r\n      fixed_diffs.push(diffs[i]);\r\n    }\r\n  }\r\n  return fixed_diffs;\r\n}\r\n\r\n/*\r\n * Try to merge tuples with their neigbors in a given range.\r\n * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\r\n *\r\n * @param {Array} diffs Array of diff tuples.\r\n * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\r\n * @param {Int} length Number of consecutive elements to check.\r\n * @return {Array} Array of merged diff tuples.\r\n */\r\nfunction merge_tuples (diffs, start, length) {\r\n  // Check from (start-1) to (start+length).\r\n  for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\r\n    if (i + 1 < diffs.length) {\r\n      var left_d = diffs[i];\r\n      var right_d = diffs[i+1];\r\n      if (left_d[0] === right_d[1]) {\r\n        diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\r\n      }\r\n    }\r\n  }\r\n  return diffs;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 52 */\r\n/***/ (function(module, exports) {\r\n\r\nexports = module.exports = typeof Object.keys === 'function'\r\n  ? Object.keys : shim;\r\n\r\nexports.shim = shim;\r\nfunction shim (obj) {\r\n  var keys = [];\r\n  for (var key in obj) keys.push(key);\r\n  return keys;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 53 */\r\n/***/ (function(module, exports) {\r\n\r\nvar supportsArgumentsClass = (function(){\r\n  return Object.prototype.toString.call(arguments)\r\n})() == '[object Arguments]';\r\n\r\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\r\n\r\nexports.supported = supported;\r\nfunction supported(object) {\r\n  return Object.prototype.toString.call(object) == '[object Arguments]';\r\n};\r\n\r\nexports.unsupported = unsupported;\r\nfunction unsupported(object){\r\n  return object &&\r\n    typeof object == 'object' &&\r\n    typeof object.length == 'number' &&\r\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\r\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\r\n    false;\r\n};\r\n\r\n\r\n/***/ }),\r\n/* 54 */\r\n/***/ (function(module, exports) {\r\n\r\n'use strict';\r\n\r\nvar has = Object.prototype.hasOwnProperty\r\n  , prefix = '~';\r\n\r\n/**\r\n * Constructor to create a storage for our `EE` objects.\r\n * An `Events` instance is a plain object whose properties are event names.\r\n *\r\n * @constructor\r\n * @api private\r\n */\r\nfunction Events() {}\r\n\r\n//\r\n// We try to not inherit from `Object.prototype`. In some engines creating an\r\n// instance in this way is faster than calling `Object.create(null)` directly.\r\n// If `Object.create(null)` is not supported we prefix the event names with a\r\n// character to make sure that the built-in object properties are not\r\n// overridden or used as an attack vector.\r\n//\r\nif (Object.create) {\r\n  Events.prototype = Object.create(null);\r\n\r\n  //\r\n  // This hack is needed because the `__proto__` property is still inherited in\r\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\r\n  //\r\n  if (!new Events().__proto__) prefix = false;\r\n}\r\n\r\n/**\r\n * Representation of a single event listener.\r\n *\r\n * @param {Function} fn The listener function.\r\n * @param {Mixed} context The context to invoke the listener with.\r\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\r\n * @constructor\r\n * @api private\r\n */\r\nfunction EE(fn, context, once) {\r\n  this.fn = fn;\r\n  this.context = context;\r\n  this.once = once || false;\r\n}\r\n\r\n/**\r\n * Minimal `EventEmitter` interface that is molded against the Node.js\r\n * `EventEmitter` interface.\r\n *\r\n * @constructor\r\n * @api public\r\n */\r\nfunction EventEmitter() {\r\n  this._events = new Events();\r\n  this._eventsCount = 0;\r\n}\r\n\r\n/**\r\n * Return an array listing the events for which the emitter has registered\r\n * listeners.\r\n *\r\n * @returns {Array}\r\n * @api public\r\n */\r\nEventEmitter.prototype.eventNames = function eventNames() {\r\n  var names = []\r\n    , events\r\n    , name;\r\n\r\n  if (this._eventsCount === 0) return names;\r\n\r\n  for (name in (events = this._events)) {\r\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\r\n  }\r\n\r\n  if (Object.getOwnPropertySymbols) {\r\n    return names.concat(Object.getOwnPropertySymbols(events));\r\n  }\r\n\r\n  return names;\r\n};\r\n\r\n/**\r\n * Return the listeners registered for a given event.\r\n *\r\n * @param {String|Symbol} event The event name.\r\n * @param {Boolean} exists Only check if there are listeners.\r\n * @returns {Array|Boolean}\r\n * @api public\r\n */\r\nEventEmitter.prototype.listeners = function listeners(event, exists) {\r\n  var evt = prefix ? prefix + event : event\r\n    , available = this._events[evt];\r\n\r\n  if (exists) return !!available;\r\n  if (!available) return [];\r\n  if (available.fn) return [available.fn];\r\n\r\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\r\n    ee[i] = available[i].fn;\r\n  }\r\n\r\n  return ee;\r\n};\r\n\r\n/**\r\n * Calls each of the listeners registered for a given event.\r\n *\r\n * @param {String|Symbol} event The event name.\r\n * @returns {Boolean} `true` if the event had listeners, else `false`.\r\n * @api public\r\n */\r\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\r\n  var evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events[evt]) return false;\r\n\r\n  var listeners = this._events[evt]\r\n    , len = arguments.length\r\n    , args\r\n    , i;\r\n\r\n  if (listeners.fn) {\r\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\r\n\r\n    switch (len) {\r\n      case 1: return listeners.fn.call(listeners.context), true;\r\n      case 2: return listeners.fn.call(listeners.context, a1), true;\r\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\r\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\r\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\r\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\r\n    }\r\n\r\n    for (i = 1, args = new Array(len -1); i < len; i++) {\r\n      args[i - 1] = arguments[i];\r\n    }\r\n\r\n    listeners.fn.apply(listeners.context, args);\r\n  } else {\r\n    var length = listeners.length\r\n      , j;\r\n\r\n    for (i = 0; i < length; i++) {\r\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\r\n\r\n      switch (len) {\r\n        case 1: listeners[i].fn.call(listeners[i].context); break;\r\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\r\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\r\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\r\n        default:\r\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\r\n            args[j - 1] = arguments[j];\r\n          }\r\n\r\n          listeners[i].fn.apply(listeners[i].context, args);\r\n      }\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n/**\r\n * Add a listener for a given event.\r\n *\r\n * @param {String|Symbol} event The event name.\r\n * @param {Function} fn The listener function.\r\n * @param {Mixed} [context=this] The context to invoke the listener with.\r\n * @returns {EventEmitter} `this`.\r\n * @api public\r\n */\r\nEventEmitter.prototype.on = function on(event, fn, context) {\r\n  var listener = new EE(fn, context || this)\r\n    , evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\r\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\r\n  else this._events[evt] = [this._events[evt], listener];\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Add a one-time listener for a given event.\r\n *\r\n * @param {String|Symbol} event The event name.\r\n * @param {Function} fn The listener function.\r\n * @param {Mixed} [context=this] The context to invoke the listener with.\r\n * @returns {EventEmitter} `this`.\r\n * @api public\r\n */\r\nEventEmitter.prototype.once = function once(event, fn, context) {\r\n  var listener = new EE(fn, context || this, true)\r\n    , evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\r\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\r\n  else this._events[evt] = [this._events[evt], listener];\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the listeners of a given event.\r\n *\r\n * @param {String|Symbol} event The event name.\r\n * @param {Function} fn Only remove the listeners that match this function.\r\n * @param {Mixed} context Only remove the listeners that have this context.\r\n * @param {Boolean} once Only remove one-time listeners.\r\n * @returns {EventEmitter} `this`.\r\n * @api public\r\n */\r\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\r\n  var evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events[evt]) return this;\r\n  if (!fn) {\r\n    if (--this._eventsCount === 0) this._events = new Events();\r\n    else delete this._events[evt];\r\n    return this;\r\n  }\r\n\r\n  var listeners = this._events[evt];\r\n\r\n  if (listeners.fn) {\r\n    if (\r\n         listeners.fn === fn\r\n      && (!once || listeners.once)\r\n      && (!context || listeners.context === context)\r\n    ) {\r\n      if (--this._eventsCount === 0) this._events = new Events();\r\n      else delete this._events[evt];\r\n    }\r\n  } else {\r\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\r\n      if (\r\n           listeners[i].fn !== fn\r\n        || (once && !listeners[i].once)\r\n        || (context && listeners[i].context !== context)\r\n      ) {\r\n        events.push(listeners[i]);\r\n      }\r\n    }\r\n\r\n    //\r\n    // Reset the array, or remove it completely if we have no more listeners.\r\n    //\r\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\r\n    else if (--this._eventsCount === 0) this._events = new Events();\r\n    else delete this._events[evt];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove all listeners, or those of the specified event.\r\n *\r\n * @param {String|Symbol} [event] The event name.\r\n * @returns {EventEmitter} `this`.\r\n * @api public\r\n */\r\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\r\n  var evt;\r\n\r\n  if (event) {\r\n    evt = prefix ? prefix + event : event;\r\n    if (this._events[evt]) {\r\n      if (--this._eventsCount === 0) this._events = new Events();\r\n      else delete this._events[evt];\r\n    }\r\n  } else {\r\n    this._events = new Events();\r\n    this._eventsCount = 0;\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n//\r\n// Alias methods names because people roll like that.\r\n//\r\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\r\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n//\r\n// This function doesn't apply anymore.\r\n//\r\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\r\n  return this;\r\n};\r\n\r\n//\r\n// Expose the prefix.\r\n//\r\nEventEmitter.prefixed = prefix;\r\n\r\n//\r\n// Allow `EventEmitter` to be imported as module namespace.\r\n//\r\nEventEmitter.EventEmitter = EventEmitter;\r\n\r\n//\r\n// Expose the module.\r\n//\r\nif ('undefined' !== typeof module) {\r\n  module.exports = EventEmitter;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 55 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _extend2 = __webpack_require__(3);\r\n\r\nvar _extend3 = _interopRequireDefault(_extend2);\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nvar _align = __webpack_require__(36);\r\n\r\nvar _background = __webpack_require__(37);\r\n\r\nvar _code = __webpack_require__(13);\r\n\r\nvar _code2 = _interopRequireDefault(_code);\r\n\r\nvar _color = __webpack_require__(26);\r\n\r\nvar _direction = __webpack_require__(38);\r\n\r\nvar _font = __webpack_require__(39);\r\n\r\nvar _size = __webpack_require__(40);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar debug = (0, _logger2.default)('quill:clipboard');\r\n\r\nvar DOM_KEY = '__ql-matcher';\r\n\r\nvar CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\r\n\r\nvar ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\r\n  memo[attr.keyName] = attr;\r\n  return memo;\r\n}, {});\r\n\r\nvar STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\r\n  memo[attr.keyName] = attr;\r\n  return memo;\r\n}, {});\r\n\r\nvar Clipboard = function (_Module) {\r\n  _inherits(Clipboard, _Module);\r\n\r\n  function Clipboard(quill, options) {\r\n    _classCallCheck(this, Clipboard);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\r\n\r\n    _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\r\n    _this.container = _this.quill.addContainer('ql-clipboard');\r\n    _this.container.setAttribute('contenteditable', true);\r\n    _this.container.setAttribute('tabindex', -1);\r\n    _this.matchers = [];\r\n    CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\r\n      var _ref2 = _slicedToArray(_ref, 2),\r\n          selector = _ref2[0],\r\n          matcher = _ref2[1];\r\n\r\n      if (!options.matchVisual && matcher === matchSpacing) return;\r\n      _this.addMatcher(selector, matcher);\r\n    });\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Clipboard, [{\r\n    key: 'addMatcher',\r\n    value: function addMatcher(selector, matcher) {\r\n      this.matchers.push([selector, matcher]);\r\n    }\r\n  }, {\r\n    key: 'convert',\r\n    value: function convert(html) {\r\n      if (typeof html === 'string') {\r\n        this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\r\n        return this.convert();\r\n      }\r\n      var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\r\n      if (formats[_code2.default.blotName]) {\r\n        var text = this.container.innerText;\r\n        this.container.innerHTML = '';\r\n        return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\r\n      }\r\n\r\n      var _prepareMatching = this.prepareMatching(),\r\n          _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\r\n          elementMatchers = _prepareMatching2[0],\r\n          textMatchers = _prepareMatching2[1];\r\n\r\n      var delta = traverse(this.container, elementMatchers, textMatchers);\r\n      // Remove trailing newline\r\n      if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\r\n        delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\r\n      }\r\n      debug.log('convert', this.container.innerHTML, delta);\r\n      this.container.innerHTML = '';\r\n      return delta;\r\n    }\r\n  }, {\r\n    key: 'dangerouslyPasteHTML',\r\n    value: function dangerouslyPasteHTML(index, html) {\r\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\r\n\r\n      if (typeof index === 'string') {\r\n        this.quill.setContents(this.convert(index), html);\r\n        this.quill.setSelection(0, _quill2.default.sources.SILENT);\r\n      } else {\r\n        var paste = this.convert(html);\r\n        this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\r\n        this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'onPaste',\r\n    value: function onPaste(e) {\r\n      var _this2 = this;\r\n\r\n      if (e.defaultPrevented || !this.quill.isEnabled()) return;\r\n      var range = this.quill.getSelection();\r\n      var delta = new _quillDelta2.default().retain(range.index);\r\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\r\n      this.container.focus();\r\n      this.quill.selection.update(_quill2.default.sources.SILENT);\r\n      setTimeout(function () {\r\n        delta = delta.concat(_this2.convert()).delete(range.length);\r\n        _this2.quill.updateContents(delta, _quill2.default.sources.USER);\r\n        // range.length contributes to delta.length()\r\n        _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\r\n        _this2.quill.scrollingContainer.scrollTop = scrollTop;\r\n        _this2.quill.focus();\r\n      }, 1);\r\n    }\r\n  }, {\r\n    key: 'prepareMatching',\r\n    value: function prepareMatching() {\r\n      var _this3 = this;\r\n\r\n      var elementMatchers = [],\r\n          textMatchers = [];\r\n      this.matchers.forEach(function (pair) {\r\n        var _pair = _slicedToArray(pair, 2),\r\n            selector = _pair[0],\r\n            matcher = _pair[1];\r\n\r\n        switch (selector) {\r\n          case Node.TEXT_NODE:\r\n            textMatchers.push(matcher);\r\n            break;\r\n          case Node.ELEMENT_NODE:\r\n            elementMatchers.push(matcher);\r\n            break;\r\n          default:\r\n            [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\r\n              // TODO use weakmap\r\n              node[DOM_KEY] = node[DOM_KEY] || [];\r\n              node[DOM_KEY].push(matcher);\r\n            });\r\n            break;\r\n        }\r\n      });\r\n      return [elementMatchers, textMatchers];\r\n    }\r\n  }]);\r\n\r\n  return Clipboard;\r\n}(_module2.default);\r\n\r\nClipboard.DEFAULTS = {\r\n  matchers: [],\r\n  matchVisual: true\r\n};\r\n\r\nfunction applyFormat(delta, format, value) {\r\n  if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\r\n    return Object.keys(format).reduce(function (delta, key) {\r\n      return applyFormat(delta, key, format[key]);\r\n    }, delta);\r\n  } else {\r\n    return delta.reduce(function (delta, op) {\r\n      if (op.attributes && op.attributes[format]) {\r\n        return delta.push(op);\r\n      } else {\r\n        return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\r\n      }\r\n    }, new _quillDelta2.default());\r\n  }\r\n}\r\n\r\nfunction computeStyle(node) {\r\n  if (node.nodeType !== Node.ELEMENT_NODE) return {};\r\n  var DOM_KEY = '__ql-computed-style';\r\n  return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\r\n}\r\n\r\nfunction deltaEndsWith(delta, text) {\r\n  var endText = \"\";\r\n  for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\r\n    var op = delta.ops[i];\r\n    if (typeof op.insert !== 'string') break;\r\n    endText = op.insert + endText;\r\n  }\r\n  return endText.slice(-1 * text.length) === text;\r\n}\r\n\r\nfunction isLine(node) {\r\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\r\n  var style = computeStyle(node);\r\n  return ['block', 'list-item'].indexOf(style.display) > -1;\r\n}\r\n\r\nfunction traverse(node, elementMatchers, textMatchers) {\r\n  // Post-order\r\n  if (node.nodeType === node.TEXT_NODE) {\r\n    return textMatchers.reduce(function (delta, matcher) {\r\n      return matcher(node, delta);\r\n    }, new _quillDelta2.default());\r\n  } else if (node.nodeType === node.ELEMENT_NODE) {\r\n    return [].reduce.call(node.childNodes || [], function (delta, childNode) {\r\n      var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\r\n      if (childNode.nodeType === node.ELEMENT_NODE) {\r\n        childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\r\n          return matcher(childNode, childrenDelta);\r\n        }, childrenDelta);\r\n        childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\r\n          return matcher(childNode, childrenDelta);\r\n        }, childrenDelta);\r\n      }\r\n      return delta.concat(childrenDelta);\r\n    }, new _quillDelta2.default());\r\n  } else {\r\n    return new _quillDelta2.default();\r\n  }\r\n}\r\n\r\nfunction matchAlias(format, node, delta) {\r\n  return applyFormat(delta, format, true);\r\n}\r\n\r\nfunction matchAttributor(node, delta) {\r\n  var attributes = _parchment2.default.Attributor.Attribute.keys(node);\r\n  var classes = _parchment2.default.Attributor.Class.keys(node);\r\n  var styles = _parchment2.default.Attributor.Style.keys(node);\r\n  var formats = {};\r\n  attributes.concat(classes).concat(styles).forEach(function (name) {\r\n    var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\r\n    if (attr != null) {\r\n      formats[attr.attrName] = attr.value(node);\r\n      if (formats[attr.attrName]) return;\r\n    }\r\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\r\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\r\n      formats[attr.attrName] = attr.value(node) || undefined;\r\n    }\r\n    attr = STYLE_ATTRIBUTORS[name];\r\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\r\n      attr = STYLE_ATTRIBUTORS[name];\r\n      formats[attr.attrName] = attr.value(node) || undefined;\r\n    }\r\n  });\r\n  if (Object.keys(formats).length > 0) {\r\n    delta = applyFormat(delta, formats);\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchBlot(node, delta) {\r\n  var match = _parchment2.default.query(node);\r\n  if (match == null) return delta;\r\n  if (match.prototype instanceof _parchment2.default.Embed) {\r\n    var embed = {};\r\n    var value = match.value(node);\r\n    if (value != null) {\r\n      embed[match.blotName] = value;\r\n      delta = new _quillDelta2.default().insert(embed, match.formats(node));\r\n    }\r\n  } else if (typeof match.formats === 'function') {\r\n    delta = applyFormat(delta, match.blotName, match.formats(node));\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchBreak(node, delta) {\r\n  if (!deltaEndsWith(delta, '\\n')) {\r\n    delta.insert('\\n');\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchIgnore() {\r\n  return new _quillDelta2.default();\r\n}\r\n\r\nfunction matchIndent(node, delta) {\r\n  var match = _parchment2.default.query(node);\r\n  if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\r\n    return delta;\r\n  }\r\n  var indent = -1,\r\n      parent = node.parentNode;\r\n  while (!parent.classList.contains('ql-clipboard')) {\r\n    if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\r\n      indent += 1;\r\n    }\r\n    parent = parent.parentNode;\r\n  }\r\n  if (indent <= 0) return delta;\r\n  return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent: indent }));\r\n}\r\n\r\nfunction matchNewline(node, delta) {\r\n  if (!deltaEndsWith(delta, '\\n')) {\r\n    if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\r\n      delta.insert('\\n');\r\n    }\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchSpacing(node, delta) {\r\n  if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\r\n    var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\r\n    if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\r\n      delta.insert('\\n');\r\n    }\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchStyles(node, delta) {\r\n  var formats = {};\r\n  var style = node.style || {};\r\n  if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\r\n    formats.italic = true;\r\n  }\r\n  if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\r\n    formats.bold = true;\r\n  }\r\n  if (Object.keys(formats).length > 0) {\r\n    delta = applyFormat(delta, formats);\r\n  }\r\n  if (parseFloat(style.textIndent || 0) > 0) {\r\n    // Could be 0.5in\r\n    delta = new _quillDelta2.default().insert('\\t').concat(delta);\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchText(node, delta) {\r\n  var text = node.data;\r\n  // Word represents empty line with <o:p>&nbsp;</o:p>\r\n  if (node.parentNode.tagName === 'O:P') {\r\n    return delta.insert(text.trim());\r\n  }\r\n  if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\r\n    return delta;\r\n  }\r\n  if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\r\n    // eslint-disable-next-line func-style\r\n    var replacer = function replacer(collapse, match) {\r\n      match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\r\n      return match.length < 1 && collapse ? ' ' : match;\r\n    };\r\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\r\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\r\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\r\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\r\n    }\r\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\r\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\r\n    }\r\n  }\r\n  return delta.insert(text);\r\n}\r\n\r\nexports.default = Clipboard;\r\nexports.matchAttributor = matchAttributor;\r\nexports.matchBlot = matchBlot;\r\nexports.matchNewline = matchNewline;\r\nexports.matchSpacing = matchSpacing;\r\nexports.matchText = matchText;\r\n\r\n/***/ }),\r\n/* 56 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Bold = function (_Inline) {\r\n  _inherits(Bold, _Inline);\r\n\r\n  function Bold() {\r\n    _classCallCheck(this, Bold);\r\n\r\n    return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Bold, [{\r\n    key: 'optimize',\r\n    value: function optimize(context) {\r\n      _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\r\n      if (this.domNode.tagName !== this.statics.tagName[0]) {\r\n        this.replaceWith(this.statics.blotName);\r\n      }\r\n    }\r\n  }], [{\r\n    key: 'create',\r\n    value: function create() {\r\n      return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats() {\r\n      return true;\r\n    }\r\n  }]);\r\n\r\n  return Bold;\r\n}(_inline2.default);\r\n\r\nBold.blotName = 'bold';\r\nBold.tagName = ['STRONG', 'B'];\r\n\r\nexports.default = Bold;\r\n\r\n/***/ }),\r\n/* 57 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.addControls = exports.default = undefined;\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar debug = (0, _logger2.default)('quill:toolbar');\r\n\r\nvar Toolbar = function (_Module) {\r\n  _inherits(Toolbar, _Module);\r\n\r\n  function Toolbar(quill, options) {\r\n    _classCallCheck(this, Toolbar);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\r\n\r\n    if (Array.isArray(_this.options.container)) {\r\n      var container = document.createElement('div');\r\n      addControls(container, _this.options.container);\r\n      quill.container.parentNode.insertBefore(container, quill.container);\r\n      _this.container = container;\r\n    } else if (typeof _this.options.container === 'string') {\r\n      _this.container = document.querySelector(_this.options.container);\r\n    } else {\r\n      _this.container = _this.options.container;\r\n    }\r\n    if (!(_this.container instanceof HTMLElement)) {\r\n      var _ret;\r\n\r\n      return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\r\n    }\r\n    _this.container.classList.add('ql-toolbar');\r\n    _this.controls = [];\r\n    _this.handlers = {};\r\n    Object.keys(_this.options.handlers).forEach(function (format) {\r\n      _this.addHandler(format, _this.options.handlers[format]);\r\n    });\r\n    [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\r\n      _this.attach(input);\r\n    });\r\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\r\n      if (type === _quill2.default.events.SELECTION_CHANGE) {\r\n        _this.update(range);\r\n      }\r\n    });\r\n    _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\r\n      var _this$quill$selection = _this.quill.selection.getRange(),\r\n          _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\r\n          range = _this$quill$selection2[0]; // quill.getSelection triggers update\r\n\r\n\r\n      _this.update(range);\r\n    });\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Toolbar, [{\r\n    key: 'addHandler',\r\n    value: function addHandler(format, handler) {\r\n      this.handlers[format] = handler;\r\n    }\r\n  }, {\r\n    key: 'attach',\r\n    value: function attach(input) {\r\n      var _this2 = this;\r\n\r\n      var format = [].find.call(input.classList, function (className) {\r\n        return className.indexOf('ql-') === 0;\r\n      });\r\n      if (!format) return;\r\n      format = format.slice('ql-'.length);\r\n      if (input.tagName === 'BUTTON') {\r\n        input.setAttribute('type', 'button');\r\n      }\r\n      if (this.handlers[format] == null) {\r\n        if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\r\n          debug.warn('ignoring attaching to disabled format', format, input);\r\n          return;\r\n        }\r\n        if (_parchment2.default.query(format) == null) {\r\n          debug.warn('ignoring attaching to nonexistent format', format, input);\r\n          return;\r\n        }\r\n      }\r\n      var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\r\n      input.addEventListener(eventName, function (e) {\r\n        var value = void 0;\r\n        if (input.tagName === 'SELECT') {\r\n          if (input.selectedIndex < 0) return;\r\n          var selected = input.options[input.selectedIndex];\r\n          if (selected.hasAttribute('selected')) {\r\n            value = false;\r\n          } else {\r\n            value = selected.value || false;\r\n          }\r\n        } else {\r\n          if (input.classList.contains('ql-active')) {\r\n            value = false;\r\n          } else {\r\n            value = input.value || !input.hasAttribute('value');\r\n          }\r\n          e.preventDefault();\r\n        }\r\n        _this2.quill.focus();\r\n\r\n        var _quill$selection$getR = _this2.quill.selection.getRange(),\r\n            _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\r\n            range = _quill$selection$getR2[0];\r\n\r\n        if (_this2.handlers[format] != null) {\r\n          _this2.handlers[format].call(_this2, value);\r\n        } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\r\n          value = prompt('Enter ' + format);\r\n          if (!value) return;\r\n          _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\r\n        } else {\r\n          _this2.quill.format(format, value, _quill2.default.sources.USER);\r\n        }\r\n        _this2.update(range);\r\n      });\r\n      // TODO use weakmap\r\n      this.controls.push([format, input]);\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(range) {\r\n      var formats = range == null ? {} : this.quill.getFormat(range);\r\n      this.controls.forEach(function (pair) {\r\n        var _pair = _slicedToArray(pair, 2),\r\n            format = _pair[0],\r\n            input = _pair[1];\r\n\r\n        if (input.tagName === 'SELECT') {\r\n          var option = void 0;\r\n          if (range == null) {\r\n            option = null;\r\n          } else if (formats[format] == null) {\r\n            option = input.querySelector('option[selected]');\r\n          } else if (!Array.isArray(formats[format])) {\r\n            var value = formats[format];\r\n            if (typeof value === 'string') {\r\n              value = value.replace(/\\\"/g, '\\\\\"');\r\n            }\r\n            option = input.querySelector('option[value=\"' + value + '\"]');\r\n          }\r\n          if (option == null) {\r\n            input.value = ''; // TODO make configurable?\r\n            input.selectedIndex = -1;\r\n          } else {\r\n            option.selected = true;\r\n          }\r\n        } else {\r\n          if (range == null) {\r\n            input.classList.remove('ql-active');\r\n          } else if (input.hasAttribute('value')) {\r\n            // both being null should match (default values)\r\n            // '1' should match with 1 (headers)\r\n            var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\r\n            input.classList.toggle('ql-active', isActive);\r\n          } else {\r\n            input.classList.toggle('ql-active', formats[format] != null);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }]);\r\n\r\n  return Toolbar;\r\n}(_module2.default);\r\n\r\nToolbar.DEFAULTS = {};\r\n\r\nfunction addButton(container, format, value) {\r\n  var input = document.createElement('button');\r\n  input.setAttribute('type', 'button');\r\n  input.classList.add('ql-' + format);\r\n  if (value != null) {\r\n    input.value = value;\r\n  }\r\n  container.appendChild(input);\r\n}\r\n\r\nfunction addControls(container, groups) {\r\n  if (!Array.isArray(groups[0])) {\r\n    groups = [groups];\r\n  }\r\n  groups.forEach(function (controls) {\r\n    var group = document.createElement('span');\r\n    group.classList.add('ql-formats');\r\n    controls.forEach(function (control) {\r\n      if (typeof control === 'string') {\r\n        addButton(group, control);\r\n      } else {\r\n        var format = Object.keys(control)[0];\r\n        var value = control[format];\r\n        if (Array.isArray(value)) {\r\n          addSelect(group, format, value);\r\n        } else {\r\n          addButton(group, format, value);\r\n        }\r\n      }\r\n    });\r\n    container.appendChild(group);\r\n  });\r\n}\r\n\r\nfunction addSelect(container, format, values) {\r\n  var input = document.createElement('select');\r\n  input.classList.add('ql-' + format);\r\n  values.forEach(function (value) {\r\n    var option = document.createElement('option');\r\n    if (value !== false) {\r\n      option.setAttribute('value', value);\r\n    } else {\r\n      option.setAttribute('selected', 'selected');\r\n    }\r\n    input.appendChild(option);\r\n  });\r\n  container.appendChild(input);\r\n}\r\n\r\nToolbar.DEFAULTS = {\r\n  container: null,\r\n  handlers: {\r\n    clean: function clean() {\r\n      var _this3 = this;\r\n\r\n      var range = this.quill.getSelection();\r\n      if (range == null) return;\r\n      if (range.length == 0) {\r\n        var formats = this.quill.getFormat();\r\n        Object.keys(formats).forEach(function (name) {\r\n          // Clean functionality in existing apps only clean inline formats\r\n          if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\r\n            _this3.quill.format(name, false);\r\n          }\r\n        });\r\n      } else {\r\n        this.quill.removeFormat(range, _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    direction: function direction(value) {\r\n      var align = this.quill.getFormat()['align'];\r\n      if (value === 'rtl' && align == null) {\r\n        this.quill.format('align', 'right', _quill2.default.sources.USER);\r\n      } else if (!value && align === 'right') {\r\n        this.quill.format('align', false, _quill2.default.sources.USER);\r\n      }\r\n      this.quill.format('direction', value, _quill2.default.sources.USER);\r\n    },\r\n    indent: function indent(value) {\r\n      var range = this.quill.getSelection();\r\n      var formats = this.quill.getFormat(range);\r\n      var indent = parseInt(formats.indent || 0);\r\n      if (value === '+1' || value === '-1') {\r\n        var modifier = value === '+1' ? 1 : -1;\r\n        if (formats.direction === 'rtl') modifier *= -1;\r\n        this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    link: function link(value) {\r\n      if (value === true) {\r\n        value = prompt('Enter link URL:');\r\n      }\r\n      this.quill.format('link', value, _quill2.default.sources.USER);\r\n    },\r\n    list: function list(value) {\r\n      var range = this.quill.getSelection();\r\n      var formats = this.quill.getFormat(range);\r\n      if (value === 'check') {\r\n        if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\r\n          this.quill.format('list', false, _quill2.default.sources.USER);\r\n        } else {\r\n          this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\r\n        }\r\n      } else {\r\n        this.quill.format('list', value, _quill2.default.sources.USER);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexports.default = Toolbar;\r\nexports.addControls = addControls;\r\n\r\n/***/ }),\r\n/* 58 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 59 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _picker = __webpack_require__(28);\r\n\r\nvar _picker2 = _interopRequireDefault(_picker);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ColorPicker = function (_Picker) {\r\n  _inherits(ColorPicker, _Picker);\r\n\r\n  function ColorPicker(select, label) {\r\n    _classCallCheck(this, ColorPicker);\r\n\r\n    var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\r\n\r\n    _this.label.innerHTML = label;\r\n    _this.container.classList.add('ql-color-picker');\r\n    [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\r\n      item.classList.add('ql-primary');\r\n    });\r\n    return _this;\r\n  }\r\n\r\n  _createClass(ColorPicker, [{\r\n    key: 'buildItem',\r\n    value: function buildItem(option) {\r\n      var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\r\n      item.style.backgroundColor = option.getAttribute('value') || '';\r\n      return item;\r\n    }\r\n  }, {\r\n    key: 'selectItem',\r\n    value: function selectItem(item, trigger) {\r\n      _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\r\n      var colorLabel = this.label.querySelector('.ql-color-label');\r\n      var value = item ? item.getAttribute('data-value') || '' : '';\r\n      if (colorLabel) {\r\n        if (colorLabel.tagName === 'line') {\r\n          colorLabel.style.stroke = value;\r\n        } else {\r\n          colorLabel.style.fill = value;\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return ColorPicker;\r\n}(_picker2.default);\r\n\r\nexports.default = ColorPicker;\r\n\r\n/***/ }),\r\n/* 60 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _picker = __webpack_require__(28);\r\n\r\nvar _picker2 = _interopRequireDefault(_picker);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar IconPicker = function (_Picker) {\r\n  _inherits(IconPicker, _Picker);\r\n\r\n  function IconPicker(select, icons) {\r\n    _classCallCheck(this, IconPicker);\r\n\r\n    var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\r\n\r\n    _this.container.classList.add('ql-icon-picker');\r\n    [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\r\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\r\n    });\r\n    _this.defaultItem = _this.container.querySelector('.ql-selected');\r\n    _this.selectItem(_this.defaultItem);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(IconPicker, [{\r\n    key: 'selectItem',\r\n    value: function selectItem(item, trigger) {\r\n      _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\r\n      item = item || this.defaultItem;\r\n      this.label.innerHTML = item.innerHTML;\r\n    }\r\n  }]);\r\n\r\n  return IconPicker;\r\n}(_picker2.default);\r\n\r\nexports.default = IconPicker;\r\n\r\n/***/ }),\r\n/* 61 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Tooltip = function () {\r\n  function Tooltip(quill, boundsContainer) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, Tooltip);\r\n\r\n    this.quill = quill;\r\n    this.boundsContainer = boundsContainer || document.body;\r\n    this.root = quill.addContainer('ql-tooltip');\r\n    this.root.innerHTML = this.constructor.TEMPLATE;\r\n    if (this.quill.root === this.quill.scrollingContainer) {\r\n      this.quill.root.addEventListener('scroll', function () {\r\n        _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\r\n      });\r\n    }\r\n    this.hide();\r\n  }\r\n\r\n  _createClass(Tooltip, [{\r\n    key: 'hide',\r\n    value: function hide() {\r\n      this.root.classList.add('ql-hidden');\r\n    }\r\n  }, {\r\n    key: 'position',\r\n    value: function position(reference) {\r\n      var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;\r\n      // root.scrollTop should be 0 if scrollContainer !== root\r\n      var top = reference.bottom + this.quill.root.scrollTop;\r\n      this.root.style.left = left + 'px';\r\n      this.root.style.top = top + 'px';\r\n      this.root.classList.remove('ql-flip');\r\n      var containerBounds = this.boundsContainer.getBoundingClientRect();\r\n      var rootBounds = this.root.getBoundingClientRect();\r\n      var shift = 0;\r\n      if (rootBounds.right > containerBounds.right) {\r\n        shift = containerBounds.right - rootBounds.right;\r\n        this.root.style.left = left + shift + 'px';\r\n      }\r\n      if (rootBounds.left < containerBounds.left) {\r\n        shift = containerBounds.left - rootBounds.left;\r\n        this.root.style.left = left + shift + 'px';\r\n      }\r\n      if (rootBounds.bottom > containerBounds.bottom) {\r\n        var height = rootBounds.bottom - rootBounds.top;\r\n        var verticalShift = reference.bottom - reference.top + height;\r\n        this.root.style.top = top - verticalShift + 'px';\r\n        this.root.classList.add('ql-flip');\r\n      }\r\n      return shift;\r\n    }\r\n  }, {\r\n    key: 'show',\r\n    value: function show() {\r\n      this.root.classList.remove('ql-editing');\r\n      this.root.classList.remove('ql-hidden');\r\n    }\r\n  }]);\r\n\r\n  return Tooltip;\r\n}();\r\n\r\nexports.default = Tooltip;\r\n\r\n/***/ }),\r\n/* 62 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _emitter = __webpack_require__(8);\r\n\r\nvar _emitter2 = _interopRequireDefault(_emitter);\r\n\r\nvar _base = __webpack_require__(43);\r\n\r\nvar _base2 = _interopRequireDefault(_base);\r\n\r\nvar _link = __webpack_require__(27);\r\n\r\nvar _link2 = _interopRequireDefault(_link);\r\n\r\nvar _selection = __webpack_require__(15);\r\n\r\nvar _icons = __webpack_require__(41);\r\n\r\nvar _icons2 = _interopRequireDefault(_icons);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];\r\n\r\nvar SnowTheme = function (_BaseTheme) {\r\n  _inherits(SnowTheme, _BaseTheme);\r\n\r\n  function SnowTheme(quill, options) {\r\n    _classCallCheck(this, SnowTheme);\r\n\r\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\r\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\r\n    }\r\n\r\n    var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\r\n\r\n    _this.quill.container.classList.add('ql-snow');\r\n    return _this;\r\n  }\r\n\r\n  _createClass(SnowTheme, [{\r\n    key: 'extendToolbar',\r\n    value: function extendToolbar(toolbar) {\r\n      toolbar.container.classList.add('ql-snow');\r\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\r\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\r\n      this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\r\n      if (toolbar.container.querySelector('.ql-link')) {\r\n        this.quill.keyboard.addBinding({ key: 'K', shortKey: true }, function (range, context) {\r\n          toolbar.handlers['link'].call(toolbar, !context.format.link);\r\n        });\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return SnowTheme;\r\n}(_base2.default);\r\n\r\nSnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\r\n  modules: {\r\n    toolbar: {\r\n      handlers: {\r\n        link: function link(value) {\r\n          if (value) {\r\n            var range = this.quill.getSelection();\r\n            if (range == null || range.length == 0) return;\r\n            var preview = this.quill.getText(range);\r\n            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\r\n              preview = 'mailto:' + preview;\r\n            }\r\n            var tooltip = this.quill.theme.tooltip;\r\n            tooltip.edit('link', preview);\r\n          } else {\r\n            this.quill.format('link', false);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nvar SnowTooltip = function (_BaseTooltip) {\r\n  _inherits(SnowTooltip, _BaseTooltip);\r\n\r\n  function SnowTooltip(quill, bounds) {\r\n    _classCallCheck(this, SnowTooltip);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\r\n\r\n    _this2.preview = _this2.root.querySelector('a.ql-preview');\r\n    return _this2;\r\n  }\r\n\r\n  _createClass(SnowTooltip, [{\r\n    key: 'listen',\r\n    value: function listen() {\r\n      var _this3 = this;\r\n\r\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\r\n      this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\r\n        if (_this3.root.classList.contains('ql-editing')) {\r\n          _this3.save();\r\n        } else {\r\n          _this3.edit('link', _this3.preview.textContent);\r\n        }\r\n        event.preventDefault();\r\n      });\r\n      this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\r\n        if (_this3.linkRange != null) {\r\n          var range = _this3.linkRange;\r\n          _this3.restoreFocus();\r\n          _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\r\n          delete _this3.linkRange;\r\n        }\r\n        event.preventDefault();\r\n        _this3.hide();\r\n      });\r\n      this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\r\n        if (range == null) return;\r\n        if (range.length === 0 && source === _emitter2.default.sources.USER) {\r\n          var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\r\n              _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\r\n              link = _quill$scroll$descend2[0],\r\n              offset = _quill$scroll$descend2[1];\r\n\r\n          if (link != null) {\r\n            _this3.linkRange = new _selection.Range(range.index - offset, link.length());\r\n            var preview = _link2.default.formats(link.domNode);\r\n            _this3.preview.textContent = preview;\r\n            _this3.preview.setAttribute('href', preview);\r\n            _this3.show();\r\n            _this3.position(_this3.quill.getBounds(_this3.linkRange));\r\n            return;\r\n          }\r\n        } else {\r\n          delete _this3.linkRange;\r\n        }\r\n        _this3.hide();\r\n      });\r\n    }\r\n  }, {\r\n    key: 'show',\r\n    value: function show() {\r\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\r\n      this.root.removeAttribute('data-mode');\r\n    }\r\n  }]);\r\n\r\n  return SnowTooltip;\r\n}(_base.BaseTooltip);\r\n\r\nSnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\r\n\r\nexports.default = SnowTheme;\r\n\r\n/***/ }),\r\n/* 63 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _core = __webpack_require__(29);\r\n\r\nvar _core2 = _interopRequireDefault(_core);\r\n\r\nvar _align = __webpack_require__(36);\r\n\r\nvar _direction = __webpack_require__(38);\r\n\r\nvar _indent = __webpack_require__(64);\r\n\r\nvar _blockquote = __webpack_require__(65);\r\n\r\nvar _blockquote2 = _interopRequireDefault(_blockquote);\r\n\r\nvar _header = __webpack_require__(66);\r\n\r\nvar _header2 = _interopRequireDefault(_header);\r\n\r\nvar _list = __webpack_require__(67);\r\n\r\nvar _list2 = _interopRequireDefault(_list);\r\n\r\nvar _background = __webpack_require__(37);\r\n\r\nvar _color = __webpack_require__(26);\r\n\r\nvar _font = __webpack_require__(39);\r\n\r\nvar _size = __webpack_require__(40);\r\n\r\nvar _bold = __webpack_require__(56);\r\n\r\nvar _bold2 = _interopRequireDefault(_bold);\r\n\r\nvar _italic = __webpack_require__(68);\r\n\r\nvar _italic2 = _interopRequireDefault(_italic);\r\n\r\nvar _link = __webpack_require__(27);\r\n\r\nvar _link2 = _interopRequireDefault(_link);\r\n\r\nvar _script = __webpack_require__(69);\r\n\r\nvar _script2 = _interopRequireDefault(_script);\r\n\r\nvar _strike = __webpack_require__(70);\r\n\r\nvar _strike2 = _interopRequireDefault(_strike);\r\n\r\nvar _underline = __webpack_require__(71);\r\n\r\nvar _underline2 = _interopRequireDefault(_underline);\r\n\r\nvar _image = __webpack_require__(72);\r\n\r\nvar _image2 = _interopRequireDefault(_image);\r\n\r\nvar _video = __webpack_require__(73);\r\n\r\nvar _video2 = _interopRequireDefault(_video);\r\n\r\nvar _code = __webpack_require__(13);\r\n\r\nvar _code2 = _interopRequireDefault(_code);\r\n\r\nvar _formula = __webpack_require__(74);\r\n\r\nvar _formula2 = _interopRequireDefault(_formula);\r\n\r\nvar _syntax = __webpack_require__(75);\r\n\r\nvar _syntax2 = _interopRequireDefault(_syntax);\r\n\r\nvar _toolbar = __webpack_require__(57);\r\n\r\nvar _toolbar2 = _interopRequireDefault(_toolbar);\r\n\r\nvar _icons = __webpack_require__(41);\r\n\r\nvar _icons2 = _interopRequireDefault(_icons);\r\n\r\nvar _picker = __webpack_require__(28);\r\n\r\nvar _picker2 = _interopRequireDefault(_picker);\r\n\r\nvar _colorPicker = __webpack_require__(59);\r\n\r\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\r\n\r\nvar _iconPicker = __webpack_require__(60);\r\n\r\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\r\n\r\nvar _tooltip = __webpack_require__(61);\r\n\r\nvar _tooltip2 = _interopRequireDefault(_tooltip);\r\n\r\nvar _bubble = __webpack_require__(108);\r\n\r\nvar _bubble2 = _interopRequireDefault(_bubble);\r\n\r\nvar _snow = __webpack_require__(62);\r\n\r\nvar _snow2 = _interopRequireDefault(_snow);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\n_core2.default.register({\r\n  'attributors/attribute/direction': _direction.DirectionAttribute,\r\n\r\n  'attributors/class/align': _align.AlignClass,\r\n  'attributors/class/background': _background.BackgroundClass,\r\n  'attributors/class/color': _color.ColorClass,\r\n  'attributors/class/direction': _direction.DirectionClass,\r\n  'attributors/class/font': _font.FontClass,\r\n  'attributors/class/size': _size.SizeClass,\r\n\r\n  'attributors/style/align': _align.AlignStyle,\r\n  'attributors/style/background': _background.BackgroundStyle,\r\n  'attributors/style/color': _color.ColorStyle,\r\n  'attributors/style/direction': _direction.DirectionStyle,\r\n  'attributors/style/font': _font.FontStyle,\r\n  'attributors/style/size': _size.SizeStyle\r\n}, true);\r\n\r\n_core2.default.register({\r\n  'formats/align': _align.AlignClass,\r\n  'formats/direction': _direction.DirectionClass,\r\n  'formats/indent': _indent.IndentClass,\r\n\r\n  'formats/background': _background.BackgroundStyle,\r\n  'formats/color': _color.ColorStyle,\r\n  'formats/font': _font.FontClass,\r\n  'formats/size': _size.SizeClass,\r\n\r\n  'formats/blockquote': _blockquote2.default,\r\n  'formats/code-block': _code2.default,\r\n  'formats/header': _header2.default,\r\n  'formats/list': _list2.default,\r\n\r\n  'formats/bold': _bold2.default,\r\n  'formats/code': _code.Code,\r\n  'formats/italic': _italic2.default,\r\n  'formats/link': _link2.default,\r\n  'formats/script': _script2.default,\r\n  'formats/strike': _strike2.default,\r\n  'formats/underline': _underline2.default,\r\n\r\n  'formats/image': _image2.default,\r\n  'formats/video': _video2.default,\r\n\r\n  'formats/list/item': _list.ListItem,\r\n\r\n  'modules/formula': _formula2.default,\r\n  'modules/syntax': _syntax2.default,\r\n  'modules/toolbar': _toolbar2.default,\r\n\r\n  'themes/bubble': _bubble2.default,\r\n  'themes/snow': _snow2.default,\r\n\r\n  'ui/icons': _icons2.default,\r\n  'ui/picker': _picker2.default,\r\n  'ui/icon-picker': _iconPicker2.default,\r\n  'ui/color-picker': _colorPicker2.default,\r\n  'ui/tooltip': _tooltip2.default\r\n}, true);\r\n\r\nexports.default = _core2.default;\r\n\r\n/***/ }),\r\n/* 64 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.IndentClass = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar IdentAttributor = function (_Parchment$Attributor) {\r\n  _inherits(IdentAttributor, _Parchment$Attributor);\r\n\r\n  function IdentAttributor() {\r\n    _classCallCheck(this, IdentAttributor);\r\n\r\n    return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(IdentAttributor, [{\r\n    key: 'add',\r\n    value: function add(node, value) {\r\n      if (value === '+1' || value === '-1') {\r\n        var indent = this.value(node) || 0;\r\n        value = value === '+1' ? indent + 1 : indent - 1;\r\n      }\r\n      if (value === 0) {\r\n        this.remove(node);\r\n        return true;\r\n      } else {\r\n        return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'canAdd',\r\n    value: function canAdd(node, value) {\r\n      return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value(node) {\r\n      return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\r\n    }\r\n  }]);\r\n\r\n  return IdentAttributor;\r\n}(_parchment2.default.Attributor.Class);\r\n\r\nvar IndentClass = new IdentAttributor('indent', 'ql-indent', {\r\n  scope: _parchment2.default.Scope.BLOCK,\r\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\r\n});\r\n\r\nexports.IndentClass = IndentClass;\r\n\r\n/***/ }),\r\n/* 65 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Blockquote = function (_Block) {\r\n  _inherits(Blockquote, _Block);\r\n\r\n  function Blockquote() {\r\n    _classCallCheck(this, Blockquote);\r\n\r\n    return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\r\n  }\r\n\r\n  return Blockquote;\r\n}(_block2.default);\r\n\r\nBlockquote.blotName = 'blockquote';\r\nBlockquote.tagName = 'blockquote';\r\n\r\nexports.default = Blockquote;\r\n\r\n/***/ }),\r\n/* 66 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Header = function (_Block) {\r\n  _inherits(Header, _Block);\r\n\r\n  function Header() {\r\n    _classCallCheck(this, Header);\r\n\r\n    return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Header, null, [{\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      return this.tagName.indexOf(domNode.tagName) + 1;\r\n    }\r\n  }]);\r\n\r\n  return Header;\r\n}(_block2.default);\r\n\r\nHeader.blotName = 'header';\r\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\r\n\r\nexports.default = Header;\r\n\r\n/***/ }),\r\n/* 67 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.ListItem = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nvar _container = __webpack_require__(25);\r\n\r\nvar _container2 = _interopRequireDefault(_container);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ListItem = function (_Block) {\r\n  _inherits(ListItem, _Block);\r\n\r\n  function ListItem() {\r\n    _classCallCheck(this, ListItem);\r\n\r\n    return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(ListItem, [{\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (name === List.blotName && !value) {\r\n        this.replaceWith(_parchment2.default.create(this.statics.scope));\r\n      } else {\r\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove() {\r\n      if (this.prev == null && this.next == null) {\r\n        this.parent.remove();\r\n      } else {\r\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'replaceWith',\r\n    value: function replaceWith(name, value) {\r\n      this.parent.isolate(this.offset(this.parent), this.length());\r\n      if (name === this.parent.statics.blotName) {\r\n        this.parent.replaceWith(name, value);\r\n        return this;\r\n      } else {\r\n        this.parent.unwrap();\r\n        return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\r\n      }\r\n    }\r\n  }], [{\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\r\n    }\r\n  }]);\r\n\r\n  return ListItem;\r\n}(_block2.default);\r\n\r\nListItem.blotName = 'list-item';\r\nListItem.tagName = 'LI';\r\n\r\nvar List = function (_Container) {\r\n  _inherits(List, _Container);\r\n\r\n  _createClass(List, null, [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var tagName = value === 'ordered' ? 'OL' : 'UL';\r\n      var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\r\n      if (value === 'checked' || value === 'unchecked') {\r\n        node.setAttribute('data-checked', value === 'checked');\r\n      }\r\n      return node;\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      if (domNode.tagName === 'OL') return 'ordered';\r\n      if (domNode.tagName === 'UL') {\r\n        if (domNode.hasAttribute('data-checked')) {\r\n          return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\r\n        } else {\r\n          return 'bullet';\r\n        }\r\n      }\r\n      return undefined;\r\n    }\r\n  }]);\r\n\r\n  function List(domNode) {\r\n    _classCallCheck(this, List);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\r\n\r\n    var listEventHandler = function listEventHandler(e) {\r\n      if (e.target.parentNode !== domNode) return;\r\n      var format = _this2.statics.formats(domNode);\r\n      var blot = _parchment2.default.find(e.target);\r\n      if (format === 'checked') {\r\n        blot.format('list', 'unchecked');\r\n      } else if (format === 'unchecked') {\r\n        blot.format('list', 'checked');\r\n      }\r\n    };\r\n\r\n    domNode.addEventListener('touchstart', listEventHandler);\r\n    domNode.addEventListener('mousedown', listEventHandler);\r\n    return _this2;\r\n  }\r\n\r\n  _createClass(List, [{\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (this.children.length > 0) {\r\n        this.children.tail.format(name, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats() {\r\n      // We don't inherit from FormatBlot\r\n      return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\r\n    }\r\n  }, {\r\n    key: 'insertBefore',\r\n    value: function insertBefore(blot, ref) {\r\n      if (blot instanceof ListItem) {\r\n        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\r\n      } else {\r\n        var index = ref == null ? this.length() : ref.offset(this);\r\n        var after = this.split(index);\r\n        after.parent.insertBefore(blot, after);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'optimize',\r\n    value: function optimize(context) {\r\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\r\n      var next = this.next;\r\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\r\n        next.moveChildren(this);\r\n        next.remove();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'replace',\r\n    value: function replace(target) {\r\n      if (target.statics.blotName !== this.statics.blotName) {\r\n        var item = _parchment2.default.create(this.statics.defaultChild);\r\n        target.moveChildren(item);\r\n        this.appendChild(item);\r\n      }\r\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\r\n    }\r\n  }]);\r\n\r\n  return List;\r\n}(_container2.default);\r\n\r\nList.blotName = 'list';\r\nList.scope = _parchment2.default.Scope.BLOCK_BLOT;\r\nList.tagName = ['OL', 'UL'];\r\nList.defaultChild = 'list-item';\r\nList.allowedChildren = [ListItem];\r\n\r\nexports.ListItem = ListItem;\r\nexports.default = List;\r\n\r\n/***/ }),\r\n/* 68 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _bold = __webpack_require__(56);\r\n\r\nvar _bold2 = _interopRequireDefault(_bold);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Italic = function (_Bold) {\r\n  _inherits(Italic, _Bold);\r\n\r\n  function Italic() {\r\n    _classCallCheck(this, Italic);\r\n\r\n    return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\r\n  }\r\n\r\n  return Italic;\r\n}(_bold2.default);\r\n\r\nItalic.blotName = 'italic';\r\nItalic.tagName = ['EM', 'I'];\r\n\r\nexports.default = Italic;\r\n\r\n/***/ }),\r\n/* 69 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Script = function (_Inline) {\r\n  _inherits(Script, _Inline);\r\n\r\n  function Script() {\r\n    _classCallCheck(this, Script);\r\n\r\n    return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Script, null, [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      if (value === 'super') {\r\n        return document.createElement('sup');\r\n      } else if (value === 'sub') {\r\n        return document.createElement('sub');\r\n      } else {\r\n        return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      if (domNode.tagName === 'SUB') return 'sub';\r\n      if (domNode.tagName === 'SUP') return 'super';\r\n      return undefined;\r\n    }\r\n  }]);\r\n\r\n  return Script;\r\n}(_inline2.default);\r\n\r\nScript.blotName = 'script';\r\nScript.tagName = ['SUB', 'SUP'];\r\n\r\nexports.default = Script;\r\n\r\n/***/ }),\r\n/* 70 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Strike = function (_Inline) {\r\n  _inherits(Strike, _Inline);\r\n\r\n  function Strike() {\r\n    _classCallCheck(this, Strike);\r\n\r\n    return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\r\n  }\r\n\r\n  return Strike;\r\n}(_inline2.default);\r\n\r\nStrike.blotName = 'strike';\r\nStrike.tagName = 'S';\r\n\r\nexports.default = Strike;\r\n\r\n/***/ }),\r\n/* 71 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Underline = function (_Inline) {\r\n  _inherits(Underline, _Inline);\r\n\r\n  function Underline() {\r\n    _classCallCheck(this, Underline);\r\n\r\n    return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\r\n  }\r\n\r\n  return Underline;\r\n}(_inline2.default);\r\n\r\nUnderline.blotName = 'underline';\r\nUnderline.tagName = 'U';\r\n\r\nexports.default = Underline;\r\n\r\n/***/ }),\r\n/* 72 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _link = __webpack_require__(27);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ATTRIBUTES = ['alt', 'height', 'width'];\r\n\r\nvar Image = function (_Parchment$Embed) {\r\n  _inherits(Image, _Parchment$Embed);\r\n\r\n  function Image() {\r\n    _classCallCheck(this, Image);\r\n\r\n    return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Image, [{\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (ATTRIBUTES.indexOf(name) > -1) {\r\n        if (value) {\r\n          this.domNode.setAttribute(name, value);\r\n        } else {\r\n          this.domNode.removeAttribute(name);\r\n        }\r\n      } else {\r\n        _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\r\n      }\r\n    }\r\n  }], [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\r\n      if (typeof value === 'string') {\r\n        node.setAttribute('src', this.sanitize(value));\r\n      }\r\n      return node;\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      return ATTRIBUTES.reduce(function (formats, attribute) {\r\n        if (domNode.hasAttribute(attribute)) {\r\n          formats[attribute] = domNode.getAttribute(attribute);\r\n        }\r\n        return formats;\r\n      }, {});\r\n    }\r\n  }, {\r\n    key: 'match',\r\n    value: function match(url) {\r\n      return (/\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url)\r\n      );\r\n    }\r\n  }, {\r\n    key: 'sanitize',\r\n    value: function sanitize(url) {\r\n      return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value(domNode) {\r\n      return domNode.getAttribute('src');\r\n    }\r\n  }]);\r\n\r\n  return Image;\r\n}(_parchment2.default.Embed);\r\n\r\nImage.blotName = 'image';\r\nImage.tagName = 'IMG';\r\n\r\nexports.default = Image;\r\n\r\n/***/ }),\r\n/* 73 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _link = __webpack_require__(27);\r\n\r\nvar _link2 = _interopRequireDefault(_link);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ATTRIBUTES = ['height', 'width'];\r\n\r\nvar Video = function (_BlockEmbed) {\r\n  _inherits(Video, _BlockEmbed);\r\n\r\n  function Video() {\r\n    _classCallCheck(this, Video);\r\n\r\n    return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Video, [{\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (ATTRIBUTES.indexOf(name) > -1) {\r\n        if (value) {\r\n          this.domNode.setAttribute(name, value);\r\n        } else {\r\n          this.domNode.removeAttribute(name);\r\n        }\r\n      } else {\r\n        _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\r\n      }\r\n    }\r\n  }], [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\r\n      node.setAttribute('frameborder', '0');\r\n      node.setAttribute('allowfullscreen', true);\r\n      node.setAttribute('src', this.sanitize(value));\r\n      return node;\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      return ATTRIBUTES.reduce(function (formats, attribute) {\r\n        if (domNode.hasAttribute(attribute)) {\r\n          formats[attribute] = domNode.getAttribute(attribute);\r\n        }\r\n        return formats;\r\n      }, {});\r\n    }\r\n  }, {\r\n    key: 'sanitize',\r\n    value: function sanitize(url) {\r\n      return _link2.default.sanitize(url);\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value(domNode) {\r\n      return domNode.getAttribute('src');\r\n    }\r\n  }]);\r\n\r\n  return Video;\r\n}(_block.BlockEmbed);\r\n\r\nVideo.blotName = 'video';\r\nVideo.className = 'ql-video';\r\nVideo.tagName = 'IFRAME';\r\n\r\nexports.default = Video;\r\n\r\n/***/ }),\r\n/* 74 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.FormulaBlot = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _embed = __webpack_require__(35);\r\n\r\nvar _embed2 = _interopRequireDefault(_embed);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar FormulaBlot = function (_Embed) {\r\n  _inherits(FormulaBlot, _Embed);\r\n\r\n  function FormulaBlot() {\r\n    _classCallCheck(this, FormulaBlot);\r\n\r\n    return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(FormulaBlot, null, [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\r\n      if (typeof value === 'string') {\r\n        window.katex.render(value, node, {\r\n          throwOnError: false,\r\n          errorColor: '#f00'\r\n        });\r\n        node.setAttribute('data-value', value);\r\n      }\r\n      return node;\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value(domNode) {\r\n      return domNode.getAttribute('data-value');\r\n    }\r\n  }]);\r\n\r\n  return FormulaBlot;\r\n}(_embed2.default);\r\n\r\nFormulaBlot.blotName = 'formula';\r\nFormulaBlot.className = 'ql-formula';\r\nFormulaBlot.tagName = 'SPAN';\r\n\r\nvar Formula = function (_Module) {\r\n  _inherits(Formula, _Module);\r\n\r\n  _createClass(Formula, null, [{\r\n    key: 'register',\r\n    value: function register() {\r\n      _quill2.default.register(FormulaBlot, true);\r\n    }\r\n  }]);\r\n\r\n  function Formula() {\r\n    _classCallCheck(this, Formula);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\r\n\r\n    if (window.katex == null) {\r\n      throw new Error('Formula module requires KaTeX.');\r\n    }\r\n    return _this2;\r\n  }\r\n\r\n  return Formula;\r\n}(_module2.default);\r\n\r\nexports.FormulaBlot = FormulaBlot;\r\nexports.default = Formula;\r\n\r\n/***/ }),\r\n/* 75 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.CodeToken = exports.CodeBlock = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nvar _code = __webpack_require__(13);\r\n\r\nvar _code2 = _interopRequireDefault(_code);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar SyntaxCodeBlock = function (_CodeBlock) {\r\n  _inherits(SyntaxCodeBlock, _CodeBlock);\r\n\r\n  function SyntaxCodeBlock() {\r\n    _classCallCheck(this, SyntaxCodeBlock);\r\n\r\n    return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(SyntaxCodeBlock, [{\r\n    key: 'replaceWith',\r\n    value: function replaceWith(block) {\r\n      this.domNode.textContent = this.domNode.textContent;\r\n      this.attach();\r\n      _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\r\n    }\r\n  }, {\r\n    key: 'highlight',\r\n    value: function highlight(_highlight) {\r\n      var text = this.domNode.textContent;\r\n      if (this.cachedText !== text) {\r\n        if (text.trim().length > 0 || this.cachedText == null) {\r\n          this.domNode.innerHTML = _highlight(text);\r\n          this.domNode.normalize();\r\n          this.attach();\r\n        }\r\n        this.cachedText = text;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return SyntaxCodeBlock;\r\n}(_code2.default);\r\n\r\nSyntaxCodeBlock.className = 'ql-syntax';\r\n\r\nvar CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\r\n  scope: _parchment2.default.Scope.INLINE\r\n});\r\n\r\nvar Syntax = function (_Module) {\r\n  _inherits(Syntax, _Module);\r\n\r\n  _createClass(Syntax, null, [{\r\n    key: 'register',\r\n    value: function register() {\r\n      _quill2.default.register(CodeToken, true);\r\n      _quill2.default.register(SyntaxCodeBlock, true);\r\n    }\r\n  }]);\r\n\r\n  function Syntax(quill, options) {\r\n    _classCallCheck(this, Syntax);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\r\n\r\n    if (typeof _this2.options.highlight !== 'function') {\r\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\r\n    }\r\n    var timer = null;\r\n    _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(function () {\r\n        _this2.highlight();\r\n        timer = null;\r\n      }, _this2.options.interval);\r\n    });\r\n    _this2.highlight();\r\n    return _this2;\r\n  }\r\n\r\n  _createClass(Syntax, [{\r\n    key: 'highlight',\r\n    value: function highlight() {\r\n      var _this3 = this;\r\n\r\n      if (this.quill.selection.composing) return;\r\n      this.quill.update(_quill2.default.sources.USER);\r\n      var range = this.quill.getSelection();\r\n      this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\r\n        code.highlight(_this3.options.highlight);\r\n      });\r\n      this.quill.update(_quill2.default.sources.SILENT);\r\n      if (range != null) {\r\n        this.quill.setSelection(range, _quill2.default.sources.SILENT);\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Syntax;\r\n}(_module2.default);\r\n\r\nSyntax.DEFAULTS = {\r\n  highlight: function () {\r\n    if (window.hljs == null) return null;\r\n    return function (text) {\r\n      var result = window.hljs.highlightAuto(text);\r\n      return result.value;\r\n    };\r\n  }(),\r\n  interval: 1000\r\n};\r\n\r\nexports.CodeBlock = SyntaxCodeBlock;\r\nexports.CodeToken = CodeToken;\r\nexports.default = Syntax;\r\n\r\n/***/ }),\r\n/* 76 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 77 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 78 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 79 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 80 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 81 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 82 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 83 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\r\n\r\n/***/ }),\r\n/* 84 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 85 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\r\n\r\n/***/ }),\r\n/* 86 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\r\n\r\n/***/ }),\r\n/* 87 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\r\n\r\n/***/ }),\r\n/* 88 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\r\n\r\n/***/ }),\r\n/* 89 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\r\n\r\n/***/ }),\r\n/* 90 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\r\n\r\n/***/ }),\r\n/* 91 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 92 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\r\n\r\n/***/ }),\r\n/* 93 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\r\n\r\n/***/ }),\r\n/* 94 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 95 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\r\n\r\n/***/ }),\r\n/* 96 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\r\n\r\n/***/ }),\r\n/* 97 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\r\n\r\n/***/ }),\r\n/* 98 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 99 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 100 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 101 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\r\n\r\n/***/ }),\r\n/* 102 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\r\n\r\n/***/ }),\r\n/* 103 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\r\n\r\n/***/ }),\r\n/* 104 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 105 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\r\n\r\n/***/ }),\r\n/* 106 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\r\n\r\n/***/ }),\r\n/* 107 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\r\n\r\n/***/ }),\r\n/* 108 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.BubbleTooltip = undefined;\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _emitter = __webpack_require__(8);\r\n\r\nvar _emitter2 = _interopRequireDefault(_emitter);\r\n\r\nvar _base = __webpack_require__(43);\r\n\r\nvar _base2 = _interopRequireDefault(_base);\r\n\r\nvar _selection = __webpack_require__(15);\r\n\r\nvar _icons = __webpack_require__(41);\r\n\r\nvar _icons2 = _interopRequireDefault(_icons);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];\r\n\r\nvar BubbleTheme = function (_BaseTheme) {\r\n  _inherits(BubbleTheme, _BaseTheme);\r\n\r\n  function BubbleTheme(quill, options) {\r\n    _classCallCheck(this, BubbleTheme);\r\n\r\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\r\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\r\n    }\r\n\r\n    var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\r\n\r\n    _this.quill.container.classList.add('ql-bubble');\r\n    return _this;\r\n  }\r\n\r\n  _createClass(BubbleTheme, [{\r\n    key: 'extendToolbar',\r\n    value: function extendToolbar(toolbar) {\r\n      this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\r\n      this.tooltip.root.appendChild(toolbar.container);\r\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\r\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\r\n    }\r\n  }]);\r\n\r\n  return BubbleTheme;\r\n}(_base2.default);\r\n\r\nBubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\r\n  modules: {\r\n    toolbar: {\r\n      handlers: {\r\n        link: function link(value) {\r\n          if (!value) {\r\n            this.quill.format('link', false);\r\n          } else {\r\n            this.quill.theme.tooltip.edit();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nvar BubbleTooltip = function (_BaseTooltip) {\r\n  _inherits(BubbleTooltip, _BaseTooltip);\r\n\r\n  function BubbleTooltip(quill, bounds) {\r\n    _classCallCheck(this, BubbleTooltip);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\r\n\r\n    _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\r\n      if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\r\n      if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\r\n        _this2.show();\r\n        // Lock our width so we will expand beyond our offsetParent boundaries\r\n        _this2.root.style.left = '0px';\r\n        _this2.root.style.width = '';\r\n        _this2.root.style.width = _this2.root.offsetWidth + 'px';\r\n        var lines = _this2.quill.getLines(range.index, range.length);\r\n        if (lines.length === 1) {\r\n          _this2.position(_this2.quill.getBounds(range));\r\n        } else {\r\n          var lastLine = lines[lines.length - 1];\r\n          var index = _this2.quill.getIndex(lastLine);\r\n          var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\r\n          var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\r\n          _this2.position(_bounds);\r\n        }\r\n      } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\r\n        _this2.hide();\r\n      }\r\n    });\r\n    return _this2;\r\n  }\r\n\r\n  _createClass(BubbleTooltip, [{\r\n    key: 'listen',\r\n    value: function listen() {\r\n      var _this3 = this;\r\n\r\n      _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\r\n      this.root.querySelector('.ql-close').addEventListener('click', function () {\r\n        _this3.root.classList.remove('ql-editing');\r\n      });\r\n      this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\r\n        // Let selection be restored by toolbar handlers before repositioning\r\n        setTimeout(function () {\r\n          if (_this3.root.classList.contains('ql-hidden')) return;\r\n          var range = _this3.quill.getSelection();\r\n          if (range != null) {\r\n            _this3.position(_this3.quill.getBounds(range));\r\n          }\r\n        }, 1);\r\n      });\r\n    }\r\n  }, {\r\n    key: 'cancel',\r\n    value: function cancel() {\r\n      this.show();\r\n    }\r\n  }, {\r\n    key: 'position',\r\n    value: function position(reference) {\r\n      var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\r\n      var arrow = this.root.querySelector('.ql-tooltip-arrow');\r\n      arrow.style.marginLeft = '';\r\n      if (shift === 0) return shift;\r\n      arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\r\n    }\r\n  }]);\r\n\r\n  return BubbleTooltip;\r\n}(_base.BaseTooltip);\r\n\r\nBubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\r\n\r\nexports.BubbleTooltip = BubbleTooltip;\r\nexports.default = BubbleTheme;\r\n\r\n/***/ }),\r\n/* 109 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nmodule.exports = __webpack_require__(63);\r\n\r\n\r\n/***/ })\r\n/******/ ])[\"default\"];\r\n});"]},"metadata":{},"sourceType":"module"}