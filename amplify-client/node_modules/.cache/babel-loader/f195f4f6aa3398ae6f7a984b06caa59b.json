{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/base_widget.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar windowUtils = require(\"../../core/utils/window\");\n\nvar domAdapter = require(\"../../core/dom_adapter\");\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar version = require(\"../../core/version\");\n\nvar _windowResizeCallbacks = require(\"../../core/utils/resize_callbacks\");\n\nvar _stringFormat = require(\"../../core/utils/string\").format;\n\nvar _isObject = require(\"../../core/utils/type\").isObject;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar themeManagerModule = require(\"../core/base_theme_manager\");\n\nvar _floor = Math.floor;\n\nvar DOMComponentWithTemplate = require(\"../../core/dom_component_with_template\");\n\nvar helpers = require(\"./helpers\");\n\nvar _parseScalar = require(\"./utils\").parseScalar;\n\nvar errors = require(\"./errors_warnings\");\n\nvar _log = errors.log;\n\nvar rendererModule = require(\"./renderers/renderer\");\n\nvar _Layout = require(\"./layout\");\n\nvar devices = require(\"../../core/devices\");\n\nvar eventsEngine = require(\"../../events/core/events_engine\");\n\nvar OPTION_RTL_ENABLED = \"rtlEnabled\";\nvar SIZED_ELEMENT_CLASS = \"dx-sized-element\";\nvar _option = DOMComponentWithTemplate.prototype.option;\n\nfunction getTrue() {\n  return true;\n}\n\nfunction getFalse() {\n  return false;\n}\n\nfunction areCanvasesDifferent(canvas1, canvas2) {\n  return !(canvas1.width === canvas2.width && canvas1.height === canvas2.height && canvas1.left === canvas2.left && canvas1.top === canvas2.top && canvas1.right === canvas2.right && canvas1.bottom === canvas2.bottom);\n}\n\nfunction createResizeHandler(callback) {\n  var timeout;\n\n  var handler = function handler() {\n    clearTimeout(timeout);\n    timeout = setTimeout(callback, 100);\n  };\n\n  handler.dispose = function () {\n    clearTimeout(timeout);\n    return this;\n  };\n\n  return handler;\n}\n\nfunction defaultOnIncidentOccurred(e) {\n  if (!e.component.hasEvent(\"incidentOccurred\")) {\n    _log.apply(null, [e.target.id].concat(e.target.args || []));\n  }\n}\n\nvar createIncidentOccurred = function createIncidentOccurred(widgetName, eventTrigger) {\n  return function (id, args) {\n    eventTrigger(\"incidentOccurred\", {\n      target: {\n        id: id,\n        type: \"E\" === id[0] ? \"error\" : \"warning\",\n        args: args,\n        text: _stringFormat.apply(null, [errors.ERROR_MESSAGES[id]].concat(args || [])),\n        widget: widgetName,\n        version: version\n      }\n    });\n  };\n};\n\nfunction pickPositiveValue(values) {\n  return values.reduce(function (result, value) {\n    return value > 0 && !result ? value : result;\n  }, 0);\n}\n\nvar getEmptyComponent = function getEmptyComponent() {\n  var emptyComponentConfig = {\n    _initTemplates: function _initTemplates() {},\n    ctor: function ctor(element, options) {\n      this.callBase(element, options);\n      var sizedElement = domAdapter.createElement(\"div\");\n      var width = options && typeUtils.isNumeric(options.width) ? options.width + \"px\" : \"100%\";\n      var height = options && typeUtils.isNumeric(options.height) ? options.height + \"px\" : this._getDefaultSize().height + \"px\";\n      domAdapter.setStyle(sizedElement, \"width\", width);\n      domAdapter.setStyle(sizedElement, \"height\", height);\n      domAdapter.setClass(sizedElement, SIZED_ELEMENT_CLASS);\n      domAdapter.insertElement(element, sizedElement);\n    }\n  };\n  var EmptyComponent = DOMComponentWithTemplate.inherit(emptyComponentConfig);\n  var originalInherit = EmptyComponent.inherit;\n\n  EmptyComponent.inherit = function (config) {\n    for (var field in config) {\n      if (typeUtils.isFunction(config[field]) && \"_\" !== field.substr(0, 1) || \"_dispose\" === field || \"_optionChanged\" === field) {\n        config[field] = noop;\n      }\n    }\n\n    return originalInherit.call(this, config);\n  };\n\n  return EmptyComponent;\n};\n\nvar isServerSide = !windowUtils.hasWindow();\n\nfunction sizeIsValid(value) {\n  return typeUtils.isDefined(value) && value > 0;\n}\n\nmodule.exports = isServerSide ? getEmptyComponent() : DOMComponentWithTemplate.inherit({\n  _eventsMap: {\n    onIncidentOccurred: {\n      name: \"incidentOccurred\"\n    },\n    onDrawn: {\n      name: \"drawn\"\n    }\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      onIncidentOccurred: defaultOnIncidentOccurred\n    });\n  },\n  _extractAnonymousTemplate: function _extractAnonymousTemplate() {},\n  _useLinks: true,\n  _init: function _init() {\n    var that = this;\n    var linkTarget;\n\n    that._$element.children(\".\" + SIZED_ELEMENT_CLASS).remove();\n\n    that.callBase.apply(that, arguments);\n    that._changesLocker = 0;\n    that._optionChangedLocker = 0;\n    that._changes = helpers.changes();\n\n    that._suspendChanges();\n\n    that._themeManager = that._createThemeManager();\n\n    that._themeManager.setCallback(function () {\n      that._requestChange(that._themeDependentChanges);\n    });\n\n    that._renderElementAttributes();\n\n    that._initRenderer();\n\n    linkTarget = that._useLinks && that._renderer.root;\n    linkTarget && linkTarget.enableLinks().virtualLink(\"core\").virtualLink(\"peripheral\");\n\n    that._renderVisibilityChange();\n\n    that._attachVisibilityChangeHandlers();\n\n    that._toggleParentsScrollSubscription(this._isVisible());\n\n    that._initEventTrigger();\n\n    that._incidentOccurred = createIncidentOccurred(that.NAME, that._eventTrigger);\n    that._layout = new _Layout();\n    linkTarget && linkTarget.linkAfter(\"core\");\n\n    that._initPlugins();\n\n    that._initCore();\n\n    linkTarget && linkTarget.linkAfter();\n\n    that._change(that._initialChanges);\n  },\n  _createThemeManager: function _createThemeManager() {\n    return new themeManagerModule.BaseThemeManager(this._getThemeManagerOptions());\n  },\n  _getThemeManagerOptions: function _getThemeManagerOptions() {\n    return {\n      themeSection: this._themeSection,\n      fontFields: this._fontFields\n    };\n  },\n  _initialChanges: [\"LAYOUT\", \"RESIZE_HANDLER\", \"THEME\", \"DISABLED\"],\n  _initPlugins: function _initPlugins() {\n    var that = this;\n    each(that._plugins, function (_, plugin) {\n      plugin.init.call(that);\n    });\n  },\n  _disposePlugins: function _disposePlugins() {\n    var that = this;\n    each(that._plugins.slice().reverse(), function (_, plugin) {\n      plugin.dispose.call(that);\n    });\n  },\n  _change: function _change(codes) {\n    this._changes.add(codes);\n  },\n  _suspendChanges: function _suspendChanges() {\n    ++this._changesLocker;\n  },\n  _resumeChanges: function _resumeChanges() {\n    var that = this;\n\n    if (0 === --that._changesLocker && that._changes.count() > 0 && !that._applyingChanges) {\n      that._renderer.lock();\n\n      that._applyingChanges = true;\n\n      that._applyChanges();\n\n      that._changes.reset();\n\n      that._applyingChanges = false;\n\n      that._renderer.unlock();\n\n      if (that._optionsQueue) {\n        that._applyQueuedOptions();\n      }\n\n      that._optionChangedLocker++;\n\n      that._notify();\n\n      that._optionChangedLocker--;\n    }\n  },\n  _applyQueuedOptions: function _applyQueuedOptions() {\n    var that = this;\n    var queue = that._optionsQueue;\n    that._optionsQueue = null;\n    that.beginUpdate();\n    each(queue, function (_, action) {\n      action();\n    });\n    that.endUpdate();\n  },\n  _requestChange: function _requestChange(codes) {\n    this._suspendChanges();\n\n    this._change(codes);\n\n    this._resumeChanges();\n  },\n  _applyChanges: function _applyChanges() {\n    var that = this;\n    var changes = that._changes;\n    var order = that._totalChangesOrder;\n    var i;\n    var ii = order.length;\n\n    for (i = 0; i < ii; ++i) {\n      if (changes.has(order[i])) {\n        that[\"_change_\" + order[i]]();\n      }\n    }\n  },\n  _optionChangesOrder: [\"EVENTS\", \"THEME\", \"RENDERER\", \"RESIZE_HANDLER\"],\n  _layoutChangesOrder: [\"ELEMENT_ATTR\", \"CONTAINER_SIZE\", \"LAYOUT\"],\n  _customChangesOrder: [\"DISABLED\"],\n  _change_EVENTS: function _change_EVENTS() {\n    this._eventTrigger.applyChanges();\n  },\n  _change_THEME: function _change_THEME() {\n    this._setThemeAndRtl();\n  },\n  _change_RENDERER: function _change_RENDERER() {\n    this._setRendererOptions();\n  },\n  _change_RESIZE_HANDLER: function _change_RESIZE_HANDLER() {\n    this._setupResizeHandler();\n  },\n  _change_ELEMENT_ATTR: function _change_ELEMENT_ATTR() {\n    this._renderElementAttributes();\n\n    this._change([\"CONTAINER_SIZE\"]);\n  },\n  _change_CONTAINER_SIZE: function _change_CONTAINER_SIZE() {\n    this._updateSize();\n  },\n  _change_LAYOUT: function _change_LAYOUT() {\n    this._setContentSize();\n  },\n  _change_DISABLED: function _change_DISABLED() {\n    var renderer = this._renderer;\n    var root = renderer.root;\n\n    if (this.option(\"disabled\")) {\n      this._initDisabledState = root.attr(\"pointer-events\");\n      root.attr({\n        \"pointer-events\": \"none\",\n        filter: renderer.getGrayScaleFilter().id\n      });\n    } else {\n      if (\"none\" === root.attr(\"pointer-events\")) {\n        root.attr({\n          \"pointer-events\": typeUtils.isDefined(this._initDisabledState) ? this._initDisabledState : null,\n          filter: null\n        });\n      }\n    }\n  },\n  _themeDependentChanges: [\"RENDERER\"],\n  _initRenderer: function _initRenderer() {\n    var that = this;\n    that._canvas = that._calculateCanvas();\n    that._renderer = new rendererModule.Renderer({\n      cssClass: that._rootClassPrefix + \" \" + that._rootClass,\n      pathModified: that.option(\"pathModified\"),\n      container: that._$element[0]\n    });\n\n    that._renderer.resize(that._canvas.width, that._canvas.height);\n  },\n  _disposeRenderer: function _disposeRenderer() {\n    this._renderer.dispose();\n  },\n  _getAnimationOptions: noop,\n  render: function render() {\n    this._requestChange([\"CONTAINER_SIZE\"]);\n\n    var visible = this._isVisible();\n\n    this._toggleParentsScrollSubscription(visible);\n\n    !visible && this._stopCurrentHandling();\n  },\n  _toggleParentsScrollSubscription: function _toggleParentsScrollSubscription(subscribe) {\n    var $parents = $(this._renderer.root.element).parents();\n    var scrollEvents = \"scroll.viz_widgets\";\n\n    if (\"generic\" === devices.real().platform) {\n      $parents = $parents.add(windowUtils.getWindow());\n    }\n\n    this._proxiedTargetParentsScrollHandler = this._proxiedTargetParentsScrollHandler || function () {\n      this._stopCurrentHandling();\n    }.bind(this);\n\n    eventsEngine.off($().add(this._$prevRootParents), scrollEvents, this._proxiedTargetParentsScrollHandler);\n\n    if (subscribe) {\n      eventsEngine.on($parents, scrollEvents, this._proxiedTargetParentsScrollHandler);\n      this._$prevRootParents = $parents;\n    }\n  },\n  _stopCurrentHandling: noop,\n  _dispose: function _dispose() {\n    var that = this;\n    that.callBase.apply(that, arguments);\n\n    that._toggleParentsScrollSubscription(false);\n\n    that._removeResizeHandler();\n\n    that._layout.dispose();\n\n    that._eventTrigger.dispose();\n\n    that._disposeCore();\n\n    that._disposePlugins();\n\n    that._disposeRenderer();\n\n    that._themeManager.dispose();\n\n    that._themeManager = that._renderer = that._eventTrigger = null;\n  },\n  _initEventTrigger: function _initEventTrigger() {\n    var that = this;\n    that._eventTrigger = createEventTrigger(that._eventsMap, function (name) {\n      return that._createActionByOption(name);\n    });\n  },\n  _calculateCanvas: function _calculateCanvas() {\n    var that = this;\n    var size = that.option(\"size\") || {};\n    var margin = that.option(\"margin\") || {};\n    var defaultCanvas = that._getDefaultSize() || {};\n    var elementWidth = !sizeIsValid(size.width) && windowUtils.hasWindow() ? that._$element.width() : 0;\n    var elementHeight = !sizeIsValid(size.height) && windowUtils.hasWindow() ? that._$element.height() : 0;\n    var canvas = {\n      width: size.width <= 0 ? 0 : _floor(pickPositiveValue([size.width, elementWidth, defaultCanvas.width])),\n      height: size.height <= 0 ? 0 : _floor(pickPositiveValue([size.height, elementHeight, defaultCanvas.height])),\n      left: pickPositiveValue([margin.left, defaultCanvas.left]),\n      top: pickPositiveValue([margin.top, defaultCanvas.top]),\n      right: pickPositiveValue([margin.right, defaultCanvas.right]),\n      bottom: pickPositiveValue([margin.bottom, defaultCanvas.bottom])\n    };\n\n    if (canvas.width - canvas.left - canvas.right <= 0 || canvas.height - canvas.top - canvas.bottom <= 0) {\n      canvas = {\n        width: 0,\n        height: 0\n      };\n    }\n\n    return canvas;\n  },\n  _updateSize: function _updateSize() {\n    var that = this;\n\n    var canvas = that._calculateCanvas();\n\n    that._renderer.fixPlacement();\n\n    if (areCanvasesDifferent(that._canvas, canvas) || that.__forceRender) {\n      that._canvas = canvas;\n\n      that._recreateSizeDependentObjects(true);\n\n      that._renderer.resize(canvas.width, canvas.height);\n\n      that._change([\"LAYOUT\"]);\n    }\n  },\n  _recreateSizeDependentObjects: noop,\n  _getMinSize: function _getMinSize() {\n    return [0, 0];\n  },\n  _getAlignmentRect: noop,\n  _setContentSize: function _setContentSize() {\n    var canvas = this._canvas;\n    var layout = this._layout;\n    var rect = canvas.width > 0 && canvas.height > 0 ? [canvas.left, canvas.top, canvas.width - canvas.right, canvas.height - canvas.bottom] : [0, 0, 0, 0];\n    var nextRect;\n    rect = layout.forward(rect, this._getMinSize());\n    nextRect = this._applySize(rect) || rect;\n    layout.backward(nextRect, this._getAlignmentRect() || nextRect);\n  },\n  _getOption: function _getOption(name, isScalar) {\n    var theme = this._themeManager.theme(name);\n\n    var option = this.option(name);\n    return isScalar ? void 0 !== option ? option : theme : extend(true, {}, theme, option);\n  },\n  _setupResizeHandler: function _setupResizeHandler() {\n    var that = this;\n\n    var redrawOnResize = _parseScalar(this._getOption(\"redrawOnResize\", true), true);\n\n    if (that._resizeHandler) {\n      that._removeResizeHandler();\n    }\n\n    that._resizeHandler = createResizeHandler(function () {\n      if (redrawOnResize) {\n        that._requestChange([\"CONTAINER_SIZE\"]);\n      } else {\n        that._renderer.fixPlacement();\n      }\n    });\n\n    _windowResizeCallbacks.add(that._resizeHandler);\n  },\n  _removeResizeHandler: function _removeResizeHandler() {\n    if (this._resizeHandler) {\n      _windowResizeCallbacks.remove(this._resizeHandler);\n\n      this._resizeHandler.dispose();\n\n      this._resizeHandler = null;\n    }\n  },\n  _onBeginUpdate: noop,\n  beginUpdate: function beginUpdate() {\n    var that = this;\n\n    if (that._initialized && 0 === that._updateLockCount) {\n      that._onBeginUpdate();\n\n      that._suspendChanges();\n    }\n\n    that.callBase.apply(that, arguments);\n    return that;\n  },\n  endUpdate: function endUpdate() {\n    var that = this;\n    that.callBase.apply(that, arguments);\n\n    if (0 === that._updateLockCount) {\n      that._resumeChanges();\n    }\n\n    return that;\n  },\n  option: function option(name) {\n    var that = this;\n\n    if (that._initialized && that._applyingChanges && (arguments.length > 1 || _isObject(name))) {\n      that._optionsQueue = that._optionsQueue || [];\n\n      that._optionsQueue.push(that._getActionForUpdating(arguments));\n    } else {\n      return _option.apply(that, arguments);\n    }\n  },\n  _getActionForUpdating: function _getActionForUpdating(args) {\n    var that = this;\n    return function () {\n      _option.apply(that, args);\n    };\n  },\n  _clean: noop,\n  _render: noop,\n  _optionChanged: function _optionChanged(arg) {\n    var that = this;\n\n    if (that._optionChangedLocker) {\n      return;\n    }\n\n    var partialChanges = that.getPartialChangeOptionsName(arg);\n    var changes = [];\n\n    if (partialChanges.length > 0) {\n      partialChanges.forEach(function (pc) {\n        return changes.push(that._partialOptionChangesMap[pc]);\n      });\n    } else {\n      changes.push(that._optionChangesMap[arg.name]);\n    }\n\n    changes = changes.filter(function (c) {\n      return !!c;\n    });\n\n    if (that._eventTrigger.change(arg.name)) {\n      that._change([\"EVENTS\"]);\n    } else {\n      if (changes.length > 0) {\n        that._change(changes);\n      } else {\n        that.callBase.apply(that, arguments);\n      }\n    }\n  },\n  _notify: noop,\n  _optionChangesMap: {\n    size: \"CONTAINER_SIZE\",\n    margin: \"CONTAINER_SIZE\",\n    redrawOnResize: \"RESIZE_HANDLER\",\n    theme: \"THEME\",\n    rtlEnabled: \"THEME\",\n    encodeHtml: \"THEME\",\n    elementAttr: \"ELEMENT_ATTR\",\n    disabled: \"DISABLED\"\n  },\n  _partialOptionChangesMap: {},\n  _partialOptionChangesPath: {},\n  getPartialChangeOptionsName: function getPartialChangeOptionsName(changedOption) {\n    var that = this;\n    var fullName = changedOption.fullName;\n    var sections = fullName.split(/[.]/);\n    var name = changedOption.name;\n    var value = changedOption.value;\n    var options = this._partialOptionChangesPath[name];\n    var partialChangeOptionsName = [];\n\n    if (options) {\n      if (true === options) {\n        partialChangeOptionsName.push(name);\n      } else {\n        options.forEach(function (op) {\n          fullName.indexOf(op) >= 0 && partialChangeOptionsName.push(op);\n        });\n\n        if (1 === sections.length) {\n          if (\"object\" === typeUtils.type(value)) {\n            that._addOptionsNameForPartialUpdate(value, options, partialChangeOptionsName);\n          } else {\n            if (\"array\" === typeUtils.type(value)) {\n              if (value.length > 0 && value.every(function (item) {\n                return that._checkOptionsForPartialUpdate(item, options);\n              })) {\n                value.forEach(function (item) {\n                  return that._addOptionsNameForPartialUpdate(item, options, partialChangeOptionsName);\n                });\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return partialChangeOptionsName.filter(function (value, index, self) {\n      return self.indexOf(value) === index;\n    });\n  },\n  _checkOptionsForPartialUpdate: function _checkOptionsForPartialUpdate(optionObject, options) {\n    return !Object.keys(optionObject).some(function (key) {\n      return options.indexOf(key) === -1;\n    });\n  },\n  _addOptionsNameForPartialUpdate: function _addOptionsNameForPartialUpdate(optionObject, options, partialChangeOptionsName) {\n    var optionKeys = Object.keys(optionObject);\n\n    if (this._checkOptionsForPartialUpdate(optionObject, options)) {\n      optionKeys.forEach(function (key) {\n        return options.indexOf(key) > -1 && partialChangeOptionsName.push(key);\n      });\n    }\n  },\n  _visibilityChanged: function _visibilityChanged() {\n    this.render();\n  },\n  _setThemeAndRtl: function _setThemeAndRtl() {\n    this._themeManager.setTheme(this.option(\"theme\"), this.option(OPTION_RTL_ENABLED));\n  },\n  _getRendererOptions: function _getRendererOptions() {\n    return {\n      rtl: this.option(OPTION_RTL_ENABLED),\n      encodeHtml: this.option(\"encodeHtml\"),\n      animation: this._getAnimationOptions()\n    };\n  },\n  _setRendererOptions: function _setRendererOptions() {\n    this._renderer.setOptions(this._getRendererOptions());\n  },\n  svg: function svg() {\n    return this._renderer.svg();\n  },\n  getSize: function getSize() {\n    var canvas = this._canvas || {};\n    return {\n      width: canvas.width,\n      height: canvas.height\n    };\n  },\n  isReady: getFalse,\n  _dataIsReady: getTrue,\n  _resetIsReady: function _resetIsReady() {\n    this.isReady = getFalse;\n  },\n  _drawn: function _drawn() {\n    var that = this;\n    that.isReady = getFalse;\n\n    if (that._dataIsReady()) {\n      that._renderer.onEndAnimation(function () {\n        that.isReady = getTrue;\n      });\n    }\n\n    that._eventTrigger(\"drawn\", {});\n  }\n});\nhelpers.replaceInherit(module.exports);\n\nfunction createEventTrigger(eventsMap, callbackGetter) {\n  var triggers = {};\n  each(eventsMap, function (name, info) {\n    if (info.name) {\n      createEvent(name);\n    }\n  });\n  var changes;\n\n  triggerEvent.change = function (name) {\n    var eventInfo = eventsMap[name];\n\n    if (eventInfo) {\n      (changes = changes || {})[name] = eventInfo;\n    }\n\n    return !!eventInfo;\n  };\n\n  triggerEvent.applyChanges = function () {\n    if (changes) {\n      each(changes, function (name, eventInfo) {\n        createEvent(eventInfo.newName || name);\n      });\n      changes = null;\n    }\n  };\n\n  triggerEvent.dispose = function () {\n    eventsMap = callbackGetter = triggers = null;\n  };\n\n  return triggerEvent;\n\n  function createEvent(name) {\n    var eventInfo = eventsMap[name];\n    triggers[eventInfo.name] = callbackGetter(name);\n  }\n\n  function triggerEvent(name, arg, complete) {\n    triggers[name](arg);\n    complete && complete();\n  }\n}","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/core/base_widget.js"],"names":["$","require","noop","windowUtils","domAdapter","typeUtils","each","version","_windowResizeCallbacks","_stringFormat","_isObject","extend","themeManagerModule","_floor","Math","DOMComponentWithTemplate","helpers","_parseScalar","errors","_log","rendererModule","_Layout","devices","eventsEngine","OPTION_RTL_ENABLED","SIZED_ELEMENT_CLASS","_option","canvas1","canvas2","handler","clearTimeout","timeout","setTimeout","e","createIncidentOccurred","eventTrigger","target","id","type","args","text","widget","value","getEmptyComponent","emptyComponentConfig","_initTemplates","ctor","sizedElement","width","options","height","EmptyComponent","originalInherit","config","field","isServerSide","module","_eventsMap","onIncidentOccurred","name","onDrawn","_getDefaultOptions","defaultOnIncidentOccurred","_extractAnonymousTemplate","_useLinks","_init","that","linkTarget","_createThemeManager","_getThemeManagerOptions","themeSection","fontFields","_fontFields","_initialChanges","_initPlugins","plugin","_disposePlugins","_change","_suspendChanges","_resumeChanges","_applyQueuedOptions","queue","action","_requestChange","_applyChanges","changes","order","ii","i","_optionChangesOrder","_layoutChangesOrder","_customChangesOrder","_change_EVENTS","_change_THEME","_change_RENDERER","_change_RESIZE_HANDLER","_change_ELEMENT_ATTR","_change_CONTAINER_SIZE","_change_LAYOUT","_change_DISABLED","renderer","root","filter","_themeDependentChanges","_initRenderer","cssClass","pathModified","container","_disposeRenderer","_getAnimationOptions","render","visible","_toggleParentsScrollSubscription","$parents","scrollEvents","_stopCurrentHandling","_dispose","_initEventTrigger","createEventTrigger","_calculateCanvas","size","margin","defaultCanvas","elementWidth","sizeIsValid","elementHeight","canvas","pickPositiveValue","left","top","right","bottom","_updateSize","areCanvasesDifferent","_recreateSizeDependentObjects","_getMinSize","_getAlignmentRect","_setContentSize","layout","rect","nextRect","_getOption","theme","option","isScalar","_setupResizeHandler","redrawOnResize","createResizeHandler","_removeResizeHandler","_onBeginUpdate","beginUpdate","endUpdate","arguments","_getActionForUpdating","_clean","_render","_optionChanged","partialChanges","arg","_notify","_optionChangesMap","rtlEnabled","encodeHtml","elementAttr","disabled","_partialOptionChangesMap","_partialOptionChangesPath","getPartialChangeOptionsName","fullName","changedOption","sections","partialChangeOptionsName","self","_checkOptionsForPartialUpdate","_addOptionsNameForPartialUpdate","optionKeys","Object","_visibilityChanged","_setThemeAndRtl","_getRendererOptions","rtl","animation","_setRendererOptions","svg","getSize","isReady","_dataIsReady","_resetIsReady","_drawn","triggers","info","createEvent","triggerEvent","eventInfo","eventsMap","callbackGetter","complete"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/core/base_widget.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar windowUtils = require(\"../../core/utils/window\");\r\nvar domAdapter = require(\"../../core/dom_adapter\");\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar version = require(\"../../core/version\");\r\nvar _windowResizeCallbacks = require(\"../../core/utils/resize_callbacks\");\r\nvar _stringFormat = require(\"../../core/utils/string\").format;\r\nvar _isObject = require(\"../../core/utils/type\").isObject;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar themeManagerModule = require(\"../core/base_theme_manager\");\r\nvar _floor = Math.floor;\r\nvar DOMComponentWithTemplate = require(\"../../core/dom_component_with_template\");\r\nvar helpers = require(\"./helpers\");\r\nvar _parseScalar = require(\"./utils\").parseScalar;\r\nvar errors = require(\"./errors_warnings\");\r\nvar _log = errors.log;\r\nvar rendererModule = require(\"./renderers/renderer\");\r\nvar _Layout = require(\"./layout\");\r\nvar devices = require(\"../../core/devices\");\r\nvar eventsEngine = require(\"../../events/core/events_engine\");\r\nvar OPTION_RTL_ENABLED = \"rtlEnabled\";\r\nvar SIZED_ELEMENT_CLASS = \"dx-sized-element\";\r\nvar _option = DOMComponentWithTemplate.prototype.option;\r\n\r\nfunction getTrue() {\r\n    return true\r\n}\r\n\r\nfunction getFalse() {\r\n    return false\r\n}\r\n\r\nfunction areCanvasesDifferent(canvas1, canvas2) {\r\n    return !(canvas1.width === canvas2.width && canvas1.height === canvas2.height && canvas1.left === canvas2.left && canvas1.top === canvas2.top && canvas1.right === canvas2.right && canvas1.bottom === canvas2.bottom)\r\n}\r\n\r\nfunction createResizeHandler(callback) {\r\n    var timeout;\r\n    var handler = function() {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(callback, 100)\r\n    };\r\n    handler.dispose = function() {\r\n        clearTimeout(timeout);\r\n        return this\r\n    };\r\n    return handler\r\n}\r\n\r\nfunction defaultOnIncidentOccurred(e) {\r\n    if (!e.component.hasEvent(\"incidentOccurred\")) {\r\n        _log.apply(null, [e.target.id].concat(e.target.args || []))\r\n    }\r\n}\r\nvar createIncidentOccurred = function(widgetName, eventTrigger) {\r\n    return function(id, args) {\r\n        eventTrigger(\"incidentOccurred\", {\r\n            target: {\r\n                id: id,\r\n                type: \"E\" === id[0] ? \"error\" : \"warning\",\r\n                args: args,\r\n                text: _stringFormat.apply(null, [errors.ERROR_MESSAGES[id]].concat(args || [])),\r\n                widget: widgetName,\r\n                version: version\r\n            }\r\n        })\r\n    }\r\n};\r\n\r\nfunction pickPositiveValue(values) {\r\n    return values.reduce(function(result, value) {\r\n        return value > 0 && !result ? value : result\r\n    }, 0)\r\n}\r\nvar getEmptyComponent = function() {\r\n    var emptyComponentConfig = {\r\n        _initTemplates: function() {},\r\n        ctor: function(element, options) {\r\n            this.callBase(element, options);\r\n            var sizedElement = domAdapter.createElement(\"div\");\r\n            var width = options && typeUtils.isNumeric(options.width) ? options.width + \"px\" : \"100%\";\r\n            var height = options && typeUtils.isNumeric(options.height) ? options.height + \"px\" : this._getDefaultSize().height + \"px\";\r\n            domAdapter.setStyle(sizedElement, \"width\", width);\r\n            domAdapter.setStyle(sizedElement, \"height\", height);\r\n            domAdapter.setClass(sizedElement, SIZED_ELEMENT_CLASS);\r\n            domAdapter.insertElement(element, sizedElement)\r\n        }\r\n    };\r\n    var EmptyComponent = DOMComponentWithTemplate.inherit(emptyComponentConfig);\r\n    var originalInherit = EmptyComponent.inherit;\r\n    EmptyComponent.inherit = function(config) {\r\n        for (var field in config) {\r\n            if (typeUtils.isFunction(config[field]) && \"_\" !== field.substr(0, 1) || \"_dispose\" === field || \"_optionChanged\" === field) {\r\n                config[field] = noop\r\n            }\r\n        }\r\n        return originalInherit.call(this, config)\r\n    };\r\n    return EmptyComponent\r\n};\r\nvar isServerSide = !windowUtils.hasWindow();\r\n\r\nfunction sizeIsValid(value) {\r\n    return typeUtils.isDefined(value) && value > 0\r\n}\r\nmodule.exports = isServerSide ? getEmptyComponent() : DOMComponentWithTemplate.inherit({\r\n    _eventsMap: {\r\n        onIncidentOccurred: {\r\n            name: \"incidentOccurred\"\r\n        },\r\n        onDrawn: {\r\n            name: \"drawn\"\r\n        }\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            onIncidentOccurred: defaultOnIncidentOccurred\r\n        })\r\n    },\r\n    _extractAnonymousTemplate: function() {},\r\n    _useLinks: true,\r\n    _init: function() {\r\n        var that = this;\r\n        var linkTarget;\r\n        that._$element.children(\".\" + SIZED_ELEMENT_CLASS).remove();\r\n        that.callBase.apply(that, arguments);\r\n        that._changesLocker = 0;\r\n        that._optionChangedLocker = 0;\r\n        that._changes = helpers.changes();\r\n        that._suspendChanges();\r\n        that._themeManager = that._createThemeManager();\r\n        that._themeManager.setCallback(function() {\r\n            that._requestChange(that._themeDependentChanges)\r\n        });\r\n        that._renderElementAttributes();\r\n        that._initRenderer();\r\n        linkTarget = that._useLinks && that._renderer.root;\r\n        linkTarget && linkTarget.enableLinks().virtualLink(\"core\").virtualLink(\"peripheral\");\r\n        that._renderVisibilityChange();\r\n        that._attachVisibilityChangeHandlers();\r\n        that._toggleParentsScrollSubscription(this._isVisible());\r\n        that._initEventTrigger();\r\n        that._incidentOccurred = createIncidentOccurred(that.NAME, that._eventTrigger);\r\n        that._layout = new _Layout;\r\n        linkTarget && linkTarget.linkAfter(\"core\");\r\n        that._initPlugins();\r\n        that._initCore();\r\n        linkTarget && linkTarget.linkAfter();\r\n        that._change(that._initialChanges)\r\n    },\r\n    _createThemeManager: function() {\r\n        return new themeManagerModule.BaseThemeManager(this._getThemeManagerOptions())\r\n    },\r\n    _getThemeManagerOptions: function() {\r\n        return {\r\n            themeSection: this._themeSection,\r\n            fontFields: this._fontFields\r\n        }\r\n    },\r\n    _initialChanges: [\"LAYOUT\", \"RESIZE_HANDLER\", \"THEME\", \"DISABLED\"],\r\n    _initPlugins: function() {\r\n        var that = this;\r\n        each(that._plugins, function(_, plugin) {\r\n            plugin.init.call(that)\r\n        })\r\n    },\r\n    _disposePlugins: function() {\r\n        var that = this;\r\n        each(that._plugins.slice().reverse(), function(_, plugin) {\r\n            plugin.dispose.call(that)\r\n        })\r\n    },\r\n    _change: function(codes) {\r\n        this._changes.add(codes)\r\n    },\r\n    _suspendChanges: function() {\r\n        ++this._changesLocker\r\n    },\r\n    _resumeChanges: function() {\r\n        var that = this;\r\n        if (0 === --that._changesLocker && that._changes.count() > 0 && !that._applyingChanges) {\r\n            that._renderer.lock();\r\n            that._applyingChanges = true;\r\n            that._applyChanges();\r\n            that._changes.reset();\r\n            that._applyingChanges = false;\r\n            that._renderer.unlock();\r\n            if (that._optionsQueue) {\r\n                that._applyQueuedOptions()\r\n            }\r\n            that._optionChangedLocker++;\r\n            that._notify();\r\n            that._optionChangedLocker--\r\n        }\r\n    },\r\n    _applyQueuedOptions: function() {\r\n        var that = this;\r\n        var queue = that._optionsQueue;\r\n        that._optionsQueue = null;\r\n        that.beginUpdate();\r\n        each(queue, function(_, action) {\r\n            action()\r\n        });\r\n        that.endUpdate()\r\n    },\r\n    _requestChange: function(codes) {\r\n        this._suspendChanges();\r\n        this._change(codes);\r\n        this._resumeChanges()\r\n    },\r\n    _applyChanges: function() {\r\n        var that = this;\r\n        var changes = that._changes;\r\n        var order = that._totalChangesOrder;\r\n        var i;\r\n        var ii = order.length;\r\n        for (i = 0; i < ii; ++i) {\r\n            if (changes.has(order[i])) {\r\n                that[\"_change_\" + order[i]]()\r\n            }\r\n        }\r\n    },\r\n    _optionChangesOrder: [\"EVENTS\", \"THEME\", \"RENDERER\", \"RESIZE_HANDLER\"],\r\n    _layoutChangesOrder: [\"ELEMENT_ATTR\", \"CONTAINER_SIZE\", \"LAYOUT\"],\r\n    _customChangesOrder: [\"DISABLED\"],\r\n    _change_EVENTS: function() {\r\n        this._eventTrigger.applyChanges()\r\n    },\r\n    _change_THEME: function() {\r\n        this._setThemeAndRtl()\r\n    },\r\n    _change_RENDERER: function() {\r\n        this._setRendererOptions()\r\n    },\r\n    _change_RESIZE_HANDLER: function() {\r\n        this._setupResizeHandler()\r\n    },\r\n    _change_ELEMENT_ATTR: function() {\r\n        this._renderElementAttributes();\r\n        this._change([\"CONTAINER_SIZE\"])\r\n    },\r\n    _change_CONTAINER_SIZE: function() {\r\n        this._updateSize()\r\n    },\r\n    _change_LAYOUT: function() {\r\n        this._setContentSize()\r\n    },\r\n    _change_DISABLED: function() {\r\n        var renderer = this._renderer;\r\n        var root = renderer.root;\r\n        if (this.option(\"disabled\")) {\r\n            this._initDisabledState = root.attr(\"pointer-events\");\r\n            root.attr({\r\n                \"pointer-events\": \"none\",\r\n                filter: renderer.getGrayScaleFilter().id\r\n            })\r\n        } else {\r\n            if (\"none\" === root.attr(\"pointer-events\")) {\r\n                root.attr({\r\n                    \"pointer-events\": typeUtils.isDefined(this._initDisabledState) ? this._initDisabledState : null,\r\n                    filter: null\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _themeDependentChanges: [\"RENDERER\"],\r\n    _initRenderer: function() {\r\n        var that = this;\r\n        that._canvas = that._calculateCanvas();\r\n        that._renderer = new rendererModule.Renderer({\r\n            cssClass: that._rootClassPrefix + \" \" + that._rootClass,\r\n            pathModified: that.option(\"pathModified\"),\r\n            container: that._$element[0]\r\n        });\r\n        that._renderer.resize(that._canvas.width, that._canvas.height)\r\n    },\r\n    _disposeRenderer: function() {\r\n        this._renderer.dispose()\r\n    },\r\n    _getAnimationOptions: noop,\r\n    render: function() {\r\n        this._requestChange([\"CONTAINER_SIZE\"]);\r\n        var visible = this._isVisible();\r\n        this._toggleParentsScrollSubscription(visible);\r\n        !visible && this._stopCurrentHandling()\r\n    },\r\n    _toggleParentsScrollSubscription: function(subscribe) {\r\n        var $parents = $(this._renderer.root.element).parents();\r\n        var scrollEvents = \"scroll.viz_widgets\";\r\n        if (\"generic\" === devices.real().platform) {\r\n            $parents = $parents.add(windowUtils.getWindow())\r\n        }\r\n        this._proxiedTargetParentsScrollHandler = this._proxiedTargetParentsScrollHandler || function() {\r\n            this._stopCurrentHandling()\r\n        }.bind(this);\r\n        eventsEngine.off($().add(this._$prevRootParents), scrollEvents, this._proxiedTargetParentsScrollHandler);\r\n        if (subscribe) {\r\n            eventsEngine.on($parents, scrollEvents, this._proxiedTargetParentsScrollHandler);\r\n            this._$prevRootParents = $parents\r\n        }\r\n    },\r\n    _stopCurrentHandling: noop,\r\n    _dispose: function() {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        that._toggleParentsScrollSubscription(false);\r\n        that._removeResizeHandler();\r\n        that._layout.dispose();\r\n        that._eventTrigger.dispose();\r\n        that._disposeCore();\r\n        that._disposePlugins();\r\n        that._disposeRenderer();\r\n        that._themeManager.dispose();\r\n        that._themeManager = that._renderer = that._eventTrigger = null\r\n    },\r\n    _initEventTrigger: function() {\r\n        var that = this;\r\n        that._eventTrigger = createEventTrigger(that._eventsMap, function(name) {\r\n            return that._createActionByOption(name)\r\n        })\r\n    },\r\n    _calculateCanvas: function() {\r\n        var that = this;\r\n        var size = that.option(\"size\") || {};\r\n        var margin = that.option(\"margin\") || {};\r\n        var defaultCanvas = that._getDefaultSize() || {};\r\n        var elementWidth = !sizeIsValid(size.width) && windowUtils.hasWindow() ? that._$element.width() : 0;\r\n        var elementHeight = !sizeIsValid(size.height) && windowUtils.hasWindow() ? that._$element.height() : 0;\r\n        var canvas = {\r\n            width: size.width <= 0 ? 0 : _floor(pickPositiveValue([size.width, elementWidth, defaultCanvas.width])),\r\n            height: size.height <= 0 ? 0 : _floor(pickPositiveValue([size.height, elementHeight, defaultCanvas.height])),\r\n            left: pickPositiveValue([margin.left, defaultCanvas.left]),\r\n            top: pickPositiveValue([margin.top, defaultCanvas.top]),\r\n            right: pickPositiveValue([margin.right, defaultCanvas.right]),\r\n            bottom: pickPositiveValue([margin.bottom, defaultCanvas.bottom])\r\n        };\r\n        if (canvas.width - canvas.left - canvas.right <= 0 || canvas.height - canvas.top - canvas.bottom <= 0) {\r\n            canvas = {\r\n                width: 0,\r\n                height: 0\r\n            }\r\n        }\r\n        return canvas\r\n    },\r\n    _updateSize: function() {\r\n        var that = this;\r\n        var canvas = that._calculateCanvas();\r\n        that._renderer.fixPlacement();\r\n        if (areCanvasesDifferent(that._canvas, canvas) || that.__forceRender) {\r\n            that._canvas = canvas;\r\n            that._recreateSizeDependentObjects(true);\r\n            that._renderer.resize(canvas.width, canvas.height);\r\n            that._change([\"LAYOUT\"])\r\n        }\r\n    },\r\n    _recreateSizeDependentObjects: noop,\r\n    _getMinSize: function() {\r\n        return [0, 0]\r\n    },\r\n    _getAlignmentRect: noop,\r\n    _setContentSize: function() {\r\n        var canvas = this._canvas;\r\n        var layout = this._layout;\r\n        var rect = canvas.width > 0 && canvas.height > 0 ? [canvas.left, canvas.top, canvas.width - canvas.right, canvas.height - canvas.bottom] : [0, 0, 0, 0];\r\n        var nextRect;\r\n        rect = layout.forward(rect, this._getMinSize());\r\n        nextRect = this._applySize(rect) || rect;\r\n        layout.backward(nextRect, this._getAlignmentRect() || nextRect)\r\n    },\r\n    _getOption: function(name, isScalar) {\r\n        var theme = this._themeManager.theme(name);\r\n        var option = this.option(name);\r\n        return isScalar ? void 0 !== option ? option : theme : extend(true, {}, theme, option)\r\n    },\r\n    _setupResizeHandler: function() {\r\n        var that = this;\r\n        var redrawOnResize = _parseScalar(this._getOption(\"redrawOnResize\", true), true);\r\n        if (that._resizeHandler) {\r\n            that._removeResizeHandler()\r\n        }\r\n        that._resizeHandler = createResizeHandler(function() {\r\n            if (redrawOnResize) {\r\n                that._requestChange([\"CONTAINER_SIZE\"])\r\n            } else {\r\n                that._renderer.fixPlacement()\r\n            }\r\n        });\r\n        _windowResizeCallbacks.add(that._resizeHandler)\r\n    },\r\n    _removeResizeHandler: function() {\r\n        if (this._resizeHandler) {\r\n            _windowResizeCallbacks.remove(this._resizeHandler);\r\n            this._resizeHandler.dispose();\r\n            this._resizeHandler = null\r\n        }\r\n    },\r\n    _onBeginUpdate: noop,\r\n    beginUpdate: function() {\r\n        var that = this;\r\n        if (that._initialized && 0 === that._updateLockCount) {\r\n            that._onBeginUpdate();\r\n            that._suspendChanges()\r\n        }\r\n        that.callBase.apply(that, arguments);\r\n        return that\r\n    },\r\n    endUpdate: function() {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        if (0 === that._updateLockCount) {\r\n            that._resumeChanges()\r\n        }\r\n        return that\r\n    },\r\n    option: function(name) {\r\n        var that = this;\r\n        if (that._initialized && that._applyingChanges && (arguments.length > 1 || _isObject(name))) {\r\n            that._optionsQueue = that._optionsQueue || [];\r\n            that._optionsQueue.push(that._getActionForUpdating(arguments))\r\n        } else {\r\n            return _option.apply(that, arguments)\r\n        }\r\n    },\r\n    _getActionForUpdating: function(args) {\r\n        var that = this;\r\n        return function() {\r\n            _option.apply(that, args)\r\n        }\r\n    },\r\n    _clean: noop,\r\n    _render: noop,\r\n    _optionChanged: function(arg) {\r\n        var that = this;\r\n        if (that._optionChangedLocker) {\r\n            return\r\n        }\r\n        var partialChanges = that.getPartialChangeOptionsName(arg);\r\n        var changes = [];\r\n        if (partialChanges.length > 0) {\r\n            partialChanges.forEach(function(pc) {\r\n                return changes.push(that._partialOptionChangesMap[pc])\r\n            })\r\n        } else {\r\n            changes.push(that._optionChangesMap[arg.name])\r\n        }\r\n        changes = changes.filter(function(c) {\r\n            return !!c\r\n        });\r\n        if (that._eventTrigger.change(arg.name)) {\r\n            that._change([\"EVENTS\"])\r\n        } else {\r\n            if (changes.length > 0) {\r\n                that._change(changes)\r\n            } else {\r\n                that.callBase.apply(that, arguments)\r\n            }\r\n        }\r\n    },\r\n    _notify: noop,\r\n    _optionChangesMap: {\r\n        size: \"CONTAINER_SIZE\",\r\n        margin: \"CONTAINER_SIZE\",\r\n        redrawOnResize: \"RESIZE_HANDLER\",\r\n        theme: \"THEME\",\r\n        rtlEnabled: \"THEME\",\r\n        encodeHtml: \"THEME\",\r\n        elementAttr: \"ELEMENT_ATTR\",\r\n        disabled: \"DISABLED\"\r\n    },\r\n    _partialOptionChangesMap: {},\r\n    _partialOptionChangesPath: {},\r\n    getPartialChangeOptionsName: function(changedOption) {\r\n        var that = this;\r\n        var fullName = changedOption.fullName;\r\n        var sections = fullName.split(/[.]/);\r\n        var name = changedOption.name;\r\n        var value = changedOption.value;\r\n        var options = this._partialOptionChangesPath[name];\r\n        var partialChangeOptionsName = [];\r\n        if (options) {\r\n            if (true === options) {\r\n                partialChangeOptionsName.push(name)\r\n            } else {\r\n                options.forEach(function(op) {\r\n                    fullName.indexOf(op) >= 0 && partialChangeOptionsName.push(op)\r\n                });\r\n                if (1 === sections.length) {\r\n                    if (\"object\" === typeUtils.type(value)) {\r\n                        that._addOptionsNameForPartialUpdate(value, options, partialChangeOptionsName)\r\n                    } else {\r\n                        if (\"array\" === typeUtils.type(value)) {\r\n                            if (value.length > 0 && value.every(function(item) {\r\n                                    return that._checkOptionsForPartialUpdate(item, options)\r\n                                })) {\r\n                                value.forEach(function(item) {\r\n                                    return that._addOptionsNameForPartialUpdate(item, options, partialChangeOptionsName)\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return partialChangeOptionsName.filter(function(value, index, self) {\r\n            return self.indexOf(value) === index\r\n        })\r\n    },\r\n    _checkOptionsForPartialUpdate: function(optionObject, options) {\r\n        return !Object.keys(optionObject).some(function(key) {\r\n            return options.indexOf(key) === -1\r\n        })\r\n    },\r\n    _addOptionsNameForPartialUpdate: function(optionObject, options, partialChangeOptionsName) {\r\n        var optionKeys = Object.keys(optionObject);\r\n        if (this._checkOptionsForPartialUpdate(optionObject, options)) {\r\n            optionKeys.forEach(function(key) {\r\n                return options.indexOf(key) > -1 && partialChangeOptionsName.push(key)\r\n            })\r\n        }\r\n    },\r\n    _visibilityChanged: function() {\r\n        this.render()\r\n    },\r\n    _setThemeAndRtl: function() {\r\n        this._themeManager.setTheme(this.option(\"theme\"), this.option(OPTION_RTL_ENABLED))\r\n    },\r\n    _getRendererOptions: function() {\r\n        return {\r\n            rtl: this.option(OPTION_RTL_ENABLED),\r\n            encodeHtml: this.option(\"encodeHtml\"),\r\n            animation: this._getAnimationOptions()\r\n        }\r\n    },\r\n    _setRendererOptions: function() {\r\n        this._renderer.setOptions(this._getRendererOptions())\r\n    },\r\n    svg: function() {\r\n        return this._renderer.svg()\r\n    },\r\n    getSize: function() {\r\n        var canvas = this._canvas || {};\r\n        return {\r\n            width: canvas.width,\r\n            height: canvas.height\r\n        }\r\n    },\r\n    isReady: getFalse,\r\n    _dataIsReady: getTrue,\r\n    _resetIsReady: function() {\r\n        this.isReady = getFalse\r\n    },\r\n    _drawn: function() {\r\n        var that = this;\r\n        that.isReady = getFalse;\r\n        if (that._dataIsReady()) {\r\n            that._renderer.onEndAnimation(function() {\r\n                that.isReady = getTrue\r\n            })\r\n        }\r\n        that._eventTrigger(\"drawn\", {})\r\n    }\r\n});\r\nhelpers.replaceInherit(module.exports);\r\n\r\nfunction createEventTrigger(eventsMap, callbackGetter) {\r\n    var triggers = {};\r\n    each(eventsMap, function(name, info) {\r\n        if (info.name) {\r\n            createEvent(name)\r\n        }\r\n    });\r\n    var changes;\r\n    triggerEvent.change = function(name) {\r\n        var eventInfo = eventsMap[name];\r\n        if (eventInfo) {\r\n            (changes = changes || {})[name] = eventInfo\r\n        }\r\n        return !!eventInfo\r\n    };\r\n    triggerEvent.applyChanges = function() {\r\n        if (changes) {\r\n            each(changes, function(name, eventInfo) {\r\n                createEvent(eventInfo.newName || name)\r\n            });\r\n            changes = null\r\n        }\r\n    };\r\n    triggerEvent.dispose = function() {\r\n        eventsMap = callbackGetter = triggers = null\r\n    };\r\n    return triggerEvent;\r\n\r\n    function createEvent(name) {\r\n        var eventInfo = eventsMap[name];\r\n        triggers[eventInfo.name] = callbackGetter(name)\r\n    }\r\n\r\n    function triggerEvent(name, arg, complete) {\r\n        triggers[name](arg);\r\n        complete && complete()\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}