{"ast":null,"code":"/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.grouping.core.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _class = require(\"../../core/class\");\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _uiData_grid = require(\"./ui.data_grid.core\");\n\nvar _uiData_grid2 = _interopRequireDefault(_uiData_grid);\n\nvar _utils = require(\"../../data/utils\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nexports.createOffsetFilter = function (path, storeLoadOptions) {\n  var groups = (0, _utils.normalizeSortingInfo)(storeLoadOptions.group);\n  var i;\n  var j;\n  var filterElement;\n  var selector;\n  var currentFilter;\n  var filter = [];\n\n  for (i = 0; i < path.length; i++) {\n    filterElement = [];\n\n    for (j = 0; j <= i; j++) {\n      selector = groups[j].selector;\n\n      if (i === j && (null === path[j] || false === path[j] || true === path[j])) {\n        if (false === path[j]) {\n          filterElement.push([selector, \"=\", groups[j].desc ? true : null]);\n        } else {\n          if (path[j] ? !groups[j].desc : groups[j].desc) {\n            filterElement.push([selector, \"<>\", path[j]]);\n          } else {\n            filterElement.push([selector, \"<>\", null]);\n            filterElement.push([selector, \"=\", null]);\n          }\n        }\n      } else {\n        currentFilter = [selector, i === j ? groups[j].desc ? \">\" : \"<\" : \"=\", path[j]];\n\n        if (\"<\" === currentFilter[1]) {\n          filterElement.push([currentFilter, \"or\", [selector, \"=\", null]]);\n        } else {\n          filterElement.push(currentFilter);\n        }\n      }\n    }\n\n    filter.push(_uiData_grid2.default.combineFilters(filterElement));\n  }\n\n  filter = _uiData_grid2.default.combineFilters(filter, \"or\");\n  return _uiData_grid2.default.combineFilters([filter, storeLoadOptions.filter]);\n};\n\nexports.GroupingHelper = _class2.default.inherit(function () {\n  var findGroupInfoByKey = function findGroupInfoByKey(groupsInfo, key) {\n    var hash = groupsInfo.hash;\n    return hash && hash[JSON.stringify(key)];\n  };\n\n  var getGroupInfoIndexByOffset = function getGroupInfoIndexByOffset(groupsInfo, offset) {\n    var index;\n    var leftIndex = 0;\n    var rightIndex = groupsInfo.length - 1;\n\n    if (!groupsInfo.length) {\n      return 0;\n    }\n\n    do {\n      var middleIndex = rightIndex + leftIndex >> 1;\n\n      if (groupsInfo[middleIndex].offset > offset) {\n        rightIndex = middleIndex;\n      } else {\n        leftIndex = middleIndex;\n      }\n    } while (rightIndex - leftIndex > 1);\n\n    for (index = leftIndex; index <= rightIndex; index++) {\n      if (groupsInfo[index].offset > offset) {\n        break;\n      }\n    }\n\n    return index;\n  };\n\n  var cleanGroupsInfo = function cleanGroupsInfo(groupsInfo, groupIndex, groupsCount) {\n    var i;\n\n    for (i = 0; i < groupsInfo.length; i++) {\n      if (groupIndex + 1 >= groupsCount) {\n        groupsInfo[i].children = [];\n      } else {\n        cleanGroupsInfo(groupsInfo[i].children, groupIndex + 1, groupsCount);\n      }\n    }\n  };\n\n  var calculateItemsCount = function calculateItemsCount(that, items, groupsCount) {\n    var i;\n    var result = 0;\n\n    if (items) {\n      if (!groupsCount) {\n        result = items.length;\n      } else {\n        for (i = 0; i < items.length; i++) {\n          if (that.isGroupItemCountable(items[i])) {\n            result++;\n          }\n\n          result += calculateItemsCount(that, items[i].items, groupsCount - 1);\n        }\n      }\n    }\n\n    return result;\n  };\n\n  return {\n    ctor: function ctor(dataSourceAdapter) {\n      this._dataSource = dataSourceAdapter;\n      this.reset();\n    },\n    reset: function reset() {\n      this._groupsInfo = [];\n      this._totalCountCorrection = 0;\n    },\n    totalCountCorrection: function totalCountCorrection() {\n      return this._totalCountCorrection;\n    },\n    updateTotalItemsCount: function updateTotalItemsCount(totalCountCorrection) {\n      this._totalCountCorrection = totalCountCorrection || 0;\n    },\n    isGroupItemCountable: function isGroupItemCountable(item) {\n      return !this._isVirtualPaging() || !item.isContinuation;\n    },\n    _isVirtualPaging: function _isVirtualPaging() {\n      var scrollingMode = this._dataSource.option(\"scrolling.mode\");\n\n      return \"virtual\" === scrollingMode || \"infinite\" === scrollingMode;\n    },\n    itemsCount: function itemsCount() {\n      var dataSourceAdapter = this._dataSource;\n      var dataSource = dataSourceAdapter._dataSource;\n\n      var groupCount = _uiData_grid2.default.normalizeSortingInfo(dataSource.group() || []).length;\n\n      var itemsCount = calculateItemsCount(this, dataSource.items(), groupCount);\n      return itemsCount;\n    },\n    foreachGroups: function foreachGroups(callback, childrenAtFirst, foreachCollapsedGroups, updateOffsets, updateParentOffsets) {\n      var that = this;\n\n      function foreachGroupsCore(groupsInfo, callback, childrenAtFirst, parents) {\n        var callbackResults = [];\n\n        function executeCallback(callback, data, parents, callbackResults) {\n          var callbackResult = data && callback(data, parents);\n          callbackResult && callbackResults.push(callbackResult);\n          return callbackResult;\n        }\n\n        for (var i = 0; i < groupsInfo.length; i++) {\n          parents.push(groupsInfo[i].data);\n\n          if (!childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\n            return false;\n          }\n\n          if (!groupsInfo[i].data || groupsInfo[i].data.isExpanded || foreachCollapsedGroups) {\n            var children = groupsInfo[i].children;\n            var callbackResult = children.length && foreachGroupsCore(children, callback, childrenAtFirst, parents);\n            callbackResult && callbackResults.push(callbackResult);\n\n            if (false === callbackResult) {\n              return false;\n            }\n          }\n\n          if (childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\n            return false;\n          }\n\n          if (!groupsInfo[i].data || groupsInfo[i].data.offset !== groupsInfo[i].offset) {\n            updateOffsets = true;\n          }\n\n          parents.pop();\n        }\n\n        var currentParents = updateParentOffsets && parents.slice(0);\n        return updateOffsets && _deferred.when.apply(_renderer2.default, callbackResults).always(function () {\n          that._updateGroupInfoOffsets(groupsInfo, currentParents);\n        });\n      }\n\n      return foreachGroupsCore(that._groupsInfo, callback, childrenAtFirst, []);\n    },\n    _updateGroupInfoOffsets: function _updateGroupInfoOffsets(groupsInfo, parents) {\n      parents = parents || [];\n\n      for (var index = 0; index < groupsInfo.length; index++) {\n        var groupInfo = groupsInfo[index];\n\n        if (groupInfo.data && groupInfo.data.offset !== groupInfo.offset) {\n          groupInfo.offset = groupInfo.data.offset;\n\n          for (var parentIndex = 0; parentIndex < parents.length; parentIndex++) {\n            parents[parentIndex].offset = groupInfo.offset;\n          }\n        }\n      }\n\n      groupsInfo.sort(function (a, b) {\n        return a.offset - b.offset;\n      });\n    },\n    findGroupInfo: function findGroupInfo(path) {\n      var that = this;\n      var pathIndex;\n      var groupInfo;\n      var groupsInfo = that._groupsInfo;\n\n      for (pathIndex = 0; groupsInfo && pathIndex < path.length; pathIndex++) {\n        groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\n        groupsInfo = groupInfo && groupInfo.children;\n      }\n\n      return groupInfo && groupInfo.data;\n    },\n    addGroupInfo: function addGroupInfo(groupInfoData) {\n      var that = this;\n      var index;\n      var groupInfo;\n      var path = groupInfoData.path;\n      var pathIndex;\n      var groupsInfo = that._groupsInfo;\n\n      for (pathIndex = 0; pathIndex < path.length; pathIndex++) {\n        groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\n\n        if (!groupInfo) {\n          groupInfo = {\n            key: path[pathIndex],\n            offset: groupInfoData.offset,\n            data: {\n              offset: groupInfoData.offset,\n              isExpanded: true,\n              path: path.slice(0, pathIndex + 1)\n            },\n            children: []\n          };\n          index = getGroupInfoIndexByOffset(groupsInfo, groupInfoData.offset);\n          groupsInfo.splice(index, 0, groupInfo);\n          groupsInfo.hash = groupsInfo.hash || {};\n          groupsInfo.hash[JSON.stringify(groupInfo.key)] = groupInfo;\n        }\n\n        if (pathIndex === path.length - 1) {\n          groupInfo.data = groupInfoData;\n\n          if (groupInfo.offset !== groupInfoData.offset) {\n            that._updateGroupInfoOffsets(groupsInfo);\n          }\n        }\n\n        groupsInfo = groupInfo.children;\n      }\n    },\n    allowCollapseAll: function allowCollapseAll() {\n      return true;\n    },\n    refresh: function refresh(options) {\n      var that = this;\n      var groupIndex;\n      var storeLoadOptions = options.storeLoadOptions;\n      var groups = (0, _utils.normalizeSortingInfo)(storeLoadOptions.group || []);\n      var oldGroups = \"_group\" in that ? (0, _utils.normalizeSortingInfo)(that._group || []) : groups;\n      var groupsCount = Math.min(oldGroups.length, groups.length);\n      that._group = storeLoadOptions.group;\n\n      for (groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n        if (oldGroups[groupIndex].selector !== groups[groupIndex].selector) {\n          groupsCount = groupIndex;\n          break;\n        }\n      }\n\n      if (!groupsCount) {\n        that.reset();\n      } else {\n        cleanGroupsInfo(that._groupsInfo, 0, groupsCount);\n      }\n    },\n    handleDataLoading: function handleDataLoading() {},\n    handleDataLoaded: function handleDataLoaded(options, callBase) {\n      callBase(options);\n    },\n    handleDataLoadedCore: function handleDataLoadedCore(options, callBase) {\n      callBase(options);\n    }\n  };\n}());","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/data_grid/ui.data_grid.grouping.core.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_class","_class2","_uiData_grid","_uiData_grid2","_utils","_deferred","obj","exports","groups","storeLoadOptions","filter","i","path","filterElement","j","selector","currentFilter","findGroupInfoByKey","hash","groupsInfo","JSON","getGroupInfoIndexByOffset","leftIndex","rightIndex","middleIndex","index","cleanGroupsInfo","groupIndex","calculateItemsCount","result","items","that","groupsCount","ctor","reset","totalCountCorrection","updateTotalItemsCount","isGroupItemCountable","item","_isVirtualPaging","scrollingMode","itemsCount","dataSourceAdapter","dataSource","groupCount","foreachGroups","callbackResults","callbackResult","data","callback","parents","executeCallback","children","foreachGroupsCore","childrenAtFirst","updateOffsets","currentParents","updateParentOffsets","_updateGroupInfoOffsets","groupInfo","parentIndex","a","b","findGroupInfo","pathIndex","addGroupInfo","groupInfoData","key","offset","isExpanded","allowCollapseAll","refresh","options","oldGroups","Math","handleDataLoading","handleDataLoaded","callBase","handleDataLoadedCore"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,SAAS,GAAGC,OAAO,CAAvB,qBAAuB,CAAvB;;AACA,IAAIC,UAAU,GAAGC,sBAAsB,CAAvC,SAAuC,CAAvC;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAApB,kBAAoB,CAApB;;AACA,IAAII,OAAO,GAAGF,sBAAsB,CAApC,MAAoC,CAApC;;AACA,IAAIG,YAAY,GAAGL,OAAO,CAA1B,qBAA0B,CAA1B;;AACA,IAAIM,aAAa,GAAGJ,sBAAsB,CAA1C,YAA0C,CAA1C;;AACA,IAAIK,MAAM,GAAGP,OAAO,CAApB,kBAAoB,CAApB;;AACA,IAAIQ,SAAS,GAAGR,OAAO,CAAvB,2BAAuB,CAAvB;;AAEA,SAAA,sBAAA,CAAA,GAAA,EAAqC;AACjC,SAAOS,GAAG,IAAIA,GAAG,CAAVA,UAAAA,GAAAA,GAAAA,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AACDC,OAAO,CAAPA,kBAAAA,GAA6B,UAAA,IAAA,EAAA,gBAAA,EAAiC;AAC1D,MAAIC,MAAM,GAAG,CAAC,GAAGJ,MAAM,CAAV,oBAAA,EAAiCK,gBAAgB,CAA9D,KAAa,CAAb;AACA,MAAA,CAAA;AACA,MAAA,CAAA;AACA,MAAA,aAAA;AACA,MAAA,QAAA;AACA,MAAA,aAAA;AACA,MAAIC,MAAM,GAAV,EAAA;;AACA,OAAKC,CAAC,GAAN,CAAA,EAAYA,CAAC,GAAGC,IAAI,CAApB,MAAA,EAA6BD,CAA7B,EAAA,EAAkC;AAC9BE,IAAAA,aAAa,GAAbA,EAAAA;;AACA,SAAKC,CAAC,GAAN,CAAA,EAAYA,CAAC,IAAb,CAAA,EAAoBA,CAApB,EAAA,EAAyB;AACrBC,MAAAA,QAAQ,GAAGP,MAAM,CAANA,CAAM,CAANA,CAAXO,QAAAA;;AACA,UAAIJ,CAAC,KAADA,CAAAA,KAAY,SAASC,IAAI,CAAb,CAAa,CAAb,IAAoB,UAAUA,IAAI,CAAlC,CAAkC,CAAlC,IAAyC,SAASA,IAAI,CAAtE,CAAsE,CAAlED,CAAJ,EAA4E;AACxE,YAAI,UAAUC,IAAI,CAAlB,CAAkB,CAAlB,EAAuB;AACnBC,UAAAA,aAAa,CAAbA,IAAAA,CAAmB,CAAA,QAAA,EAAA,GAAA,EAAgBL,MAAM,CAANA,CAAM,CAANA,CAAAA,IAAAA,GAAAA,IAAAA,GAAnCK,IAAmB,CAAnBA;AADJ,SAAA,MAEO;AACH,cAAID,IAAI,CAAJA,CAAI,CAAJA,GAAU,CAACJ,MAAM,CAANA,CAAM,CAANA,CAAXI,IAAAA,GAA4BJ,MAAM,CAANA,CAAM,CAANA,CAAhC,IAAA,EAAgD;AAC5CK,YAAAA,aAAa,CAAbA,IAAAA,CAAmB,CAAA,QAAA,EAAA,IAAA,EAAiBD,IAAI,CAAxCC,CAAwC,CAArB,CAAnBA;AADJ,WAAA,MAEO;AACHA,YAAAA,aAAa,CAAbA,IAAAA,CAAmB,CAAA,QAAA,EAAA,IAAA,EAAnBA,IAAmB,CAAnBA;AACAA,YAAAA,aAAa,CAAbA,IAAAA,CAAmB,CAAA,QAAA,EAAA,GAAA,EAAnBA,IAAmB,CAAnBA;AACH;AACJ;AAVL,OAAA,MAWO;AACHG,QAAAA,aAAa,GAAG,CAAA,QAAA,EAAWL,CAAC,KAADA,CAAAA,GAAUH,MAAM,CAANA,CAAM,CAANA,CAAAA,IAAAA,GAAAA,GAAAA,GAAVG,GAAAA,GAAX,GAAA,EAAuDC,IAAI,CAA3EI,CAA2E,CAA3D,CAAhBA;;AACA,YAAI,QAAQA,aAAa,CAAzB,CAAyB,CAAzB,EAA8B;AAC1BH,UAAAA,aAAa,CAAbA,IAAAA,CAAmB,CAAA,aAAA,EAAA,IAAA,EAAsB,CAAA,QAAA,EAAA,GAAA,EAAzCA,IAAyC,CAAtB,CAAnBA;AADJ,SAAA,MAEO;AACHA,UAAAA,aAAa,CAAbA,IAAAA,CAAAA,aAAAA;AACH;AACJ;AACJ;;AACDH,IAAAA,MAAM,CAANA,IAAAA,CAAYP,aAAa,CAAbA,OAAAA,CAAAA,cAAAA,CAAZO,aAAYP,CAAZO;AACH;;AACDA,EAAAA,MAAM,GAAGP,aAAa,CAAbA,OAAAA,CAAAA,cAAAA,CAAAA,MAAAA,EAATO,IAASP,CAATO;AACA,SAAOP,aAAa,CAAbA,OAAAA,CAAAA,cAAAA,CAAqC,CAAA,MAAA,EAASM,gBAAgB,CAArE,MAA4C,CAArCN,CAAP;AAnCJI,CAAAA;;AAqCAA,OAAO,CAAPA,cAAAA,GAAyB,OAAO,CAAP,OAAA,CAAA,OAAA,CAAwB,YAAW;AACxD,MAAIU,kBAAkB,GAAG,SAArBA,kBAAqB,CAAA,UAAA,EAAA,GAAA,EAA0B;AAC/C,QAAIC,IAAI,GAAGC,UAAU,CAArB,IAAA;AACA,WAAOD,IAAI,IAAIA,IAAI,CAACE,IAAI,CAAJA,SAAAA,CAApB,GAAoBA,CAAD,CAAnB;AAFJ,GAAA;;AAIA,MAAIC,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAA,UAAA,EAAA,MAAA,EAA6B;AACzD,QAAA,KAAA;AACA,QAAIC,SAAS,GAAb,CAAA;AACA,QAAIC,UAAU,GAAGJ,UAAU,CAAVA,MAAAA,GAAjB,CAAA;;AACA,QAAI,CAACA,UAAU,CAAf,MAAA,EAAwB;AACpB,aAAA,CAAA;AACH;;AACD,OAAG;AACC,UAAIK,WAAW,GAAGD,UAAU,GAAVA,SAAAA,IAAlB,CAAA;;AACA,UAAIJ,UAAU,CAAVA,WAAU,CAAVA,CAAAA,MAAAA,GAAJ,MAAA,EAA6C;AACzCI,QAAAA,UAAU,GAAVA,WAAAA;AADJ,OAAA,MAEO;AACHD,QAAAA,SAAS,GAATA,WAAAA;AACH;AANL,KAAA,QAOSC,UAAU,GAAVA,SAAAA,GAPT,CAAA;;AAQA,SAAKE,KAAK,GAAV,SAAA,EAAwBA,KAAK,IAA7B,UAAA,EAA6CA,KAA7C,EAAA,EAAsD;AAClD,UAAIN,UAAU,CAAVA,KAAU,CAAVA,CAAAA,MAAAA,GAAJ,MAAA,EAAuC;AACnC;AACH;AACJ;;AACD,WAAA,KAAA;AApBJ,GAAA;;AAsBA,MAAIO,eAAe,GAAG,SAAA,eAAA,CAAA,UAAA,EAAA,UAAA,EAAA,WAAA,EAA8D;AAChF,QAAA,CAAA;;AACA,SAAKf,CAAC,GAAN,CAAA,EAAYA,CAAC,GAAGQ,UAAU,CAA1B,MAAA,EAAmCR,CAAnC,EAAA,EAAwC;AACpC,UAAIgB,UAAU,GAAVA,CAAAA,IAAJ,WAAA,EAAmC;AAC/BR,QAAAA,UAAU,CAAVA,CAAU,CAAVA,CAAAA,QAAAA,GAAAA,EAAAA;AADJ,OAAA,MAEO;AACHO,QAAAA,eAAe,CAACP,UAAU,CAAVA,CAAU,CAAVA,CAAD,QAAA,EAAyBQ,UAAU,GAAnC,CAAA,EAAfD,WAAe,CAAfA;AACH;AACJ;AARL,GAAA;;AAUA,MAAIE,mBAAmB,GAAG,SAAA,mBAAA,CAAA,IAAA,EAAA,KAAA,EAAA,WAAA,EAAuD;AAC7E,QAAA,CAAA;AACA,QAAIC,MAAM,GAAV,CAAA;;AACA,QAAA,KAAA,EAAW;AACP,UAAI,CAAJ,WAAA,EAAkB;AACdA,QAAAA,MAAM,GAAGC,KAAK,CAAdD,MAAAA;AADJ,OAAA,MAEO;AACH,aAAKlB,CAAC,GAAN,CAAA,EAAYA,CAAC,GAAGmB,KAAK,CAArB,MAAA,EAA8BnB,CAA9B,EAAA,EAAmC;AAC/B,cAAIoB,IAAI,CAAJA,oBAAAA,CAA0BD,KAAK,CAAnC,CAAmC,CAA/BC,CAAJ,EAAyC;AACrCF,YAAAA,MAAM;AACT;;AACDA,UAAAA,MAAM,IAAID,mBAAmB,CAAA,IAAA,EAAOE,KAAK,CAALA,CAAK,CAALA,CAAP,KAAA,EAAuBE,WAAW,GAA/DH,CAA6B,CAA7BA;AACH;AACJ;AACJ;;AACD,WAAA,MAAA;AAfJ,GAAA;;AAiBA,SAAO;AACHI,IAAAA,IAAI,EAAE,SAAA,IAAA,CAAA,iBAAA,EAA4B;AAC9B,WAAA,WAAA,GAAA,iBAAA;AACA,WAAA,KAAA;AAHD,KAAA;AAKHC,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,qBAAA,GAAA,CAAA;AAPD,KAAA;AASHC,IAAAA,oBAAoB,EAAE,SAAA,oBAAA,GAAW;AAC7B,aAAO,KAAP,qBAAA;AAVD,KAAA;AAYHC,IAAAA,qBAAqB,EAAE,SAAA,qBAAA,CAAA,oBAAA,EAA+B;AAClD,WAAA,qBAAA,GAA6BD,oBAAoB,IAAjD,CAAA;AAbD,KAAA;AAeHE,IAAAA,oBAAoB,EAAE,SAAA,oBAAA,CAAA,IAAA,EAAe;AACjC,aAAO,CAAC,KAAD,gBAAC,EAAD,IAA4B,CAACC,IAAI,CAAxC,cAAA;AAhBD,KAAA;AAkBHC,IAAAA,gBAAgB,EAAE,SAAA,gBAAA,GAAW;AACzB,UAAIC,aAAa,GAAG,KAAA,WAAA,CAAA,MAAA,CAApB,gBAAoB,CAApB;;AACA,aAAO,cAAA,aAAA,IAA+B,eAAtC,aAAA;AApBD,KAAA;AAsBHC,IAAAA,UAAU,EAAE,SAAA,UAAA,GAAsB;AAC9B,UAAIC,iBAAiB,GAAG,KAAxB,WAAA;AACA,UAAIC,UAAU,GAAGD,iBAAiB,CAAlC,WAAA;;AACA,UAAIE,UAAU,GAAGzC,aAAa,CAAbA,OAAAA,CAAAA,oBAAAA,CAA2CwC,UAAU,CAAVA,KAAAA,MAA3CxC,EAAAA,EAAjB,MAAA;;AACA,UAAIsC,UAAU,GAAGb,mBAAmB,CAAA,IAAA,EAAOe,UAAU,CAAjB,KAAOA,EAAP,EAApC,UAAoC,CAApC;AACA,aAAA,UAAA;AA3BD,KAAA;AA6BHE,IAAAA,aAAa,EAAE,SAAA,aAAA,CAAA,QAAA,EAAA,eAAA,EAAA,sBAAA,EAAA,aAAA,EAAA,mBAAA,EAAgG;AAC3G,UAAId,IAAI,GAAR,IAAA;;AAEA,eAAA,iBAAA,CAAA,UAAA,EAAA,QAAA,EAAA,eAAA,EAAA,OAAA,EAA2E;AACvE,YAAIe,eAAe,GAAnB,EAAA;;AAEA,iBAAA,eAAA,CAAA,QAAA,EAAA,IAAA,EAAA,OAAA,EAAA,eAAA,EAAmE;AAC/D,cAAIC,cAAc,GAAGC,IAAI,IAAIC,QAAQ,CAAA,IAAA,EAArC,OAAqC,CAArC;AACAF,UAAAA,cAAc,IAAID,eAAe,CAAfA,IAAAA,CAAlBC,cAAkBD,CAAlBC;AACA,iBAAA,cAAA;AACH;;AACD,aAAK,IAAIpC,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGQ,UAAU,CAA9B,MAAA,EAAuCR,CAAvC,EAAA,EAA4C;AACxCuC,UAAAA,OAAO,CAAPA,IAAAA,CAAa/B,UAAU,CAAVA,CAAU,CAAVA,CAAb+B,IAAAA;;AACA,cAAI,CAAA,eAAA,IAAoB,UAAUC,eAAe,CAAA,QAAA,EAAWhC,UAAU,CAAVA,CAAU,CAAVA,CAAX,IAAA,EAAA,OAAA,EAAjD,eAAiD,CAAjD,EAA2G;AACvG,mBAAA,KAAA;AACH;;AACD,cAAI,CAACA,UAAU,CAAVA,CAAU,CAAVA,CAAD,IAAA,IAAuBA,UAAU,CAAVA,CAAU,CAAVA,CAAAA,IAAAA,CAAvB,UAAA,IAAJ,sBAAA,EAAoF;AAChF,gBAAIiC,QAAQ,GAAGjC,UAAU,CAAVA,CAAU,CAAVA,CAAf,QAAA;AACA,gBAAI4B,cAAc,GAAGK,QAAQ,CAARA,MAAAA,IAAmBC,iBAAiB,CAAA,QAAA,EAAA,QAAA,EAAA,eAAA,EAAzD,OAAyD,CAAzD;AACAN,YAAAA,cAAc,IAAID,eAAe,CAAfA,IAAAA,CAAlBC,cAAkBD,CAAlBC;;AACA,gBAAI,UAAJ,cAAA,EAA8B;AAC1B,qBAAA,KAAA;AACH;AACJ;;AACD,cAAIO,eAAe,IAAI,UAAUH,eAAe,CAAA,QAAA,EAAWhC,UAAU,CAAVA,CAAU,CAAVA,CAAX,IAAA,EAAA,OAAA,EAAhD,eAAgD,CAAhD,EAA0G;AACtG,mBAAA,KAAA;AACH;;AACD,cAAI,CAACA,UAAU,CAAVA,CAAU,CAAVA,CAAD,IAAA,IAAuBA,UAAU,CAAVA,CAAU,CAAVA,CAAAA,IAAAA,CAAAA,MAAAA,KAA8BA,UAAU,CAAVA,CAAU,CAAVA,CAAzD,MAAA,EAA+E;AAC3EoC,YAAAA,aAAa,GAAbA,IAAAA;AACH;;AACDL,UAAAA,OAAO,CAAPA,GAAAA;AACH;;AACD,YAAIM,cAAc,GAAGC,mBAAmB,IAAIP,OAAO,CAAPA,KAAAA,CAA5C,CAA4CA,CAA5C;AACA,eAAOK,aAAa,IAAI,SAAS,CAAT,IAAA,CAAA,KAAA,CAAqBzD,UAAU,CAA/B,OAAA,EAAA,eAAA,EAAA,MAAA,CAAiE,YAAW;AAChGiC,UAAAA,IAAI,CAAJA,uBAAAA,CAAAA,UAAAA,EAAAA,cAAAA;AADJ,SAAwB,CAAxB;AAGH;;AACD,aAAOsB,iBAAiB,CAACtB,IAAI,CAAL,WAAA,EAAA,QAAA,EAAA,eAAA,EAAxB,EAAwB,CAAxB;AAlED,KAAA;AAoEH2B,IAAAA,uBAAuB,EAAE,SAAA,uBAAA,CAAA,UAAA,EAAA,OAAA,EAA8B;AACnDR,MAAAA,OAAO,GAAGA,OAAO,IAAjBA,EAAAA;;AACA,WAAK,IAAIzB,KAAK,GAAd,CAAA,EAAoBA,KAAK,GAAGN,UAAU,CAAtC,MAAA,EAA+CM,KAA/C,EAAA,EAAwD;AACpD,YAAIkC,SAAS,GAAGxC,UAAU,CAA1B,KAA0B,CAA1B;;AACA,YAAIwC,SAAS,CAATA,IAAAA,IAAkBA,SAAS,CAATA,IAAAA,CAAAA,MAAAA,KAA0BA,SAAS,CAAzD,MAAA,EAAkE;AAC9DA,UAAAA,SAAS,CAATA,MAAAA,GAAmBA,SAAS,CAATA,IAAAA,CAAnBA,MAAAA;;AACA,eAAK,IAAIC,WAAW,GAApB,CAAA,EAA0BA,WAAW,GAAGV,OAAO,CAA/C,MAAA,EAAwDU,WAAxD,EAAA,EAAuE;AACnEV,YAAAA,OAAO,CAAPA,WAAO,CAAPA,CAAAA,MAAAA,GAA8BS,SAAS,CAAvCT,MAAAA;AACH;AACJ;AACJ;;AACD/B,MAAAA,UAAU,CAAVA,IAAAA,CAAgB,UAAA,CAAA,EAAA,CAAA,EAAe;AAC3B,eAAO0C,CAAC,CAADA,MAAAA,GAAWC,CAAC,CAAnB,MAAA;AADJ3C,OAAAA;AA/ED,KAAA;AAmFH4C,IAAAA,aAAa,EAAE,SAAA,aAAA,CAAA,IAAA,EAAe;AAC1B,UAAIhC,IAAI,GAAR,IAAA;AACA,UAAA,SAAA;AACA,UAAA,SAAA;AACA,UAAIZ,UAAU,GAAGY,IAAI,CAArB,WAAA;;AACA,WAAKiC,SAAS,GAAd,CAAA,EAAoB7C,UAAU,IAAI6C,SAAS,GAAGpD,IAAI,CAAlD,MAAA,EAA2DoD,SAA3D,EAAA,EAAwE;AACpEL,QAAAA,SAAS,GAAG1C,kBAAkB,CAAA,UAAA,EAAaL,IAAI,CAA/C+C,SAA+C,CAAjB,CAA9BA;AACAxC,QAAAA,UAAU,GAAGwC,SAAS,IAAIA,SAAS,CAAnCxC,QAAAA;AACH;;AACD,aAAOwC,SAAS,IAAIA,SAAS,CAA7B,IAAA;AA5FD,KAAA;AA8FHM,IAAAA,YAAY,EAAE,SAAA,YAAA,CAAA,aAAA,EAAwB;AAClC,UAAIlC,IAAI,GAAR,IAAA;AACA,UAAA,KAAA;AACA,UAAA,SAAA;AACA,UAAInB,IAAI,GAAGsD,aAAa,CAAxB,IAAA;AACA,UAAA,SAAA;AACA,UAAI/C,UAAU,GAAGY,IAAI,CAArB,WAAA;;AACA,WAAKiC,SAAS,GAAd,CAAA,EAAoBA,SAAS,GAAGpD,IAAI,CAApC,MAAA,EAA6CoD,SAA7C,EAAA,EAA0D;AACtDL,QAAAA,SAAS,GAAG1C,kBAAkB,CAAA,UAAA,EAAaL,IAAI,CAA/C+C,SAA+C,CAAjB,CAA9BA;;AACA,YAAI,CAAJ,SAAA,EAAgB;AACZA,UAAAA,SAAS,GAAG;AACRQ,YAAAA,GAAG,EAAEvD,IAAI,CADD,SACC,CADD;AAERwD,YAAAA,MAAM,EAAEF,aAAa,CAFb,MAAA;AAGRlB,YAAAA,IAAI,EAAE;AACFoB,cAAAA,MAAM,EAAEF,aAAa,CADnB,MAAA;AAEFG,cAAAA,UAAU,EAFR,IAAA;AAGFzD,cAAAA,IAAI,EAAEA,IAAI,CAAJA,KAAAA,CAAAA,CAAAA,EAAcoD,SAAS,GAAvBpD,CAAAA;AAHJ,aAHE;AAQRwC,YAAAA,QAAQ,EAAE;AARF,WAAZO;AAUAlC,UAAAA,KAAK,GAAGJ,yBAAyB,CAAA,UAAA,EAAa6C,aAAa,CAA3DzC,MAAiC,CAAjCA;AACAN,UAAAA,UAAU,CAAVA,MAAAA,CAAAA,KAAAA,EAAAA,CAAAA,EAAAA,SAAAA;AACAA,UAAAA,UAAU,CAAVA,IAAAA,GAAkBA,UAAU,CAAVA,IAAAA,IAAlBA,EAAAA;AACAA,UAAAA,UAAU,CAAVA,IAAAA,CAAgBC,IAAI,CAAJA,SAAAA,CAAeuC,SAAS,CAAxCxC,GAAgBC,CAAhBD,IAAAA,SAAAA;AACH;;AACD,YAAI6C,SAAS,KAAKpD,IAAI,CAAJA,MAAAA,GAAlB,CAAA,EAAmC;AAC/B+C,UAAAA,SAAS,CAATA,IAAAA,GAAAA,aAAAA;;AACA,cAAIA,SAAS,CAATA,MAAAA,KAAqBO,aAAa,CAAtC,MAAA,EAA+C;AAC3CnC,YAAAA,IAAI,CAAJA,uBAAAA,CAAAA,UAAAA;AACH;AACJ;;AACDZ,QAAAA,UAAU,GAAGwC,SAAS,CAAtBxC,QAAAA;AACH;AA9HF,KAAA;AAgIHmD,IAAAA,gBAAgB,EAAE,SAAA,gBAAA,GAAW;AACzB,aAAA,IAAA;AAjID,KAAA;AAmIHC,IAAAA,OAAO,EAAE,SAAA,OAAA,CAAA,OAAA,EAAkB;AACvB,UAAIxC,IAAI,GAAR,IAAA;AACA,UAAA,UAAA;AACA,UAAItB,gBAAgB,GAAG+D,OAAO,CAA9B,gBAAA;AACA,UAAIhE,MAAM,GAAG,CAAC,GAAGJ,MAAM,CAAV,oBAAA,EAAiCK,gBAAgB,CAAhBA,KAAAA,IAA9C,EAAa,CAAb;AACA,UAAIgE,SAAS,GAAG,YAAA,IAAA,GAAmB,CAAC,GAAGrE,MAAM,CAAV,oBAAA,EAAiC2B,IAAI,CAAJA,MAAAA,IAApD,EAAmB,CAAnB,GAAhB,MAAA;AACA,UAAIC,WAAW,GAAG0C,IAAI,CAAJA,GAAAA,CAASD,SAAS,CAAlBC,MAAAA,EAA2BlE,MAAM,CAAnD,MAAkBkE,CAAlB;AACA3C,MAAAA,IAAI,CAAJA,MAAAA,GAActB,gBAAgB,CAA9BsB,KAAAA;;AACA,WAAKJ,UAAU,GAAf,CAAA,EAAqBA,UAAU,GAA/B,WAAA,EAA+CA,UAA/C,EAAA,EAA6D;AACzD,YAAI8C,SAAS,CAATA,UAAS,CAATA,CAAAA,QAAAA,KAAmCjE,MAAM,CAANA,UAAM,CAANA,CAAvC,QAAA,EAAoE;AAChEwB,UAAAA,WAAW,GAAXA,UAAAA;AACA;AACH;AACJ;;AACD,UAAI,CAAJ,WAAA,EAAkB;AACdD,QAAAA,IAAI,CAAJA,KAAAA;AADJ,OAAA,MAEO;AACHL,QAAAA,eAAe,CAACK,IAAI,CAAL,WAAA,EAAA,CAAA,EAAfL,WAAe,CAAfA;AACH;AArJF,KAAA;AAuJHiD,IAAAA,iBAAiB,EAAE,SAAA,iBAAA,GAAW,CAvJ3B,CAAA;AAwJHC,IAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,OAAA,EAAA,QAAA,EAA4B;AAC1CC,MAAAA,QAAQ,CAARA,OAAQ,CAARA;AAzJD,KAAA;AA2JHC,IAAAA,oBAAoB,EAAE,SAAA,oBAAA,CAAA,OAAA,EAAA,QAAA,EAA4B;AAC9CD,MAAAA,QAAQ,CAARA,OAAQ,CAARA;AACH;AA7JE,GAAP;AAtDJtE,CAAiD,EAAxB,CAAzBA","sourcesContent":["/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.grouping.core.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _class = require(\"../../core/class\");\r\nvar _class2 = _interopRequireDefault(_class);\r\nvar _uiData_grid = require(\"./ui.data_grid.core\");\r\nvar _uiData_grid2 = _interopRequireDefault(_uiData_grid);\r\nvar _utils = require(\"../../data/utils\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nexports.createOffsetFilter = function(path, storeLoadOptions) {\r\n    var groups = (0, _utils.normalizeSortingInfo)(storeLoadOptions.group);\r\n    var i;\r\n    var j;\r\n    var filterElement;\r\n    var selector;\r\n    var currentFilter;\r\n    var filter = [];\r\n    for (i = 0; i < path.length; i++) {\r\n        filterElement = [];\r\n        for (j = 0; j <= i; j++) {\r\n            selector = groups[j].selector;\r\n            if (i === j && (null === path[j] || false === path[j] || true === path[j])) {\r\n                if (false === path[j]) {\r\n                    filterElement.push([selector, \"=\", groups[j].desc ? true : null])\r\n                } else {\r\n                    if (path[j] ? !groups[j].desc : groups[j].desc) {\r\n                        filterElement.push([selector, \"<>\", path[j]])\r\n                    } else {\r\n                        filterElement.push([selector, \"<>\", null]);\r\n                        filterElement.push([selector, \"=\", null])\r\n                    }\r\n                }\r\n            } else {\r\n                currentFilter = [selector, i === j ? groups[j].desc ? \">\" : \"<\" : \"=\", path[j]];\r\n                if (\"<\" === currentFilter[1]) {\r\n                    filterElement.push([currentFilter, \"or\", [selector, \"=\", null]])\r\n                } else {\r\n                    filterElement.push(currentFilter)\r\n                }\r\n            }\r\n        }\r\n        filter.push(_uiData_grid2.default.combineFilters(filterElement))\r\n    }\r\n    filter = _uiData_grid2.default.combineFilters(filter, \"or\");\r\n    return _uiData_grid2.default.combineFilters([filter, storeLoadOptions.filter])\r\n};\r\nexports.GroupingHelper = _class2.default.inherit(function() {\r\n    var findGroupInfoByKey = function(groupsInfo, key) {\r\n        var hash = groupsInfo.hash;\r\n        return hash && hash[JSON.stringify(key)]\r\n    };\r\n    var getGroupInfoIndexByOffset = function(groupsInfo, offset) {\r\n        var index;\r\n        var leftIndex = 0;\r\n        var rightIndex = groupsInfo.length - 1;\r\n        if (!groupsInfo.length) {\r\n            return 0\r\n        }\r\n        do {\r\n            var middleIndex = rightIndex + leftIndex >> 1;\r\n            if (groupsInfo[middleIndex].offset > offset) {\r\n                rightIndex = middleIndex\r\n            } else {\r\n                leftIndex = middleIndex\r\n            }\r\n        } while (rightIndex - leftIndex > 1);\r\n        for (index = leftIndex; index <= rightIndex; index++) {\r\n            if (groupsInfo[index].offset > offset) {\r\n                break\r\n            }\r\n        }\r\n        return index\r\n    };\r\n    var cleanGroupsInfo = function cleanGroupsInfo(groupsInfo, groupIndex, groupsCount) {\r\n        var i;\r\n        for (i = 0; i < groupsInfo.length; i++) {\r\n            if (groupIndex + 1 >= groupsCount) {\r\n                groupsInfo[i].children = []\r\n            } else {\r\n                cleanGroupsInfo(groupsInfo[i].children, groupIndex + 1, groupsCount)\r\n            }\r\n        }\r\n    };\r\n    var calculateItemsCount = function calculateItemsCount(that, items, groupsCount) {\r\n        var i;\r\n        var result = 0;\r\n        if (items) {\r\n            if (!groupsCount) {\r\n                result = items.length\r\n            } else {\r\n                for (i = 0; i < items.length; i++) {\r\n                    if (that.isGroupItemCountable(items[i])) {\r\n                        result++\r\n                    }\r\n                    result += calculateItemsCount(that, items[i].items, groupsCount - 1)\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    };\r\n    return {\r\n        ctor: function(dataSourceAdapter) {\r\n            this._dataSource = dataSourceAdapter;\r\n            this.reset()\r\n        },\r\n        reset: function() {\r\n            this._groupsInfo = [];\r\n            this._totalCountCorrection = 0\r\n        },\r\n        totalCountCorrection: function() {\r\n            return this._totalCountCorrection\r\n        },\r\n        updateTotalItemsCount: function(totalCountCorrection) {\r\n            this._totalCountCorrection = totalCountCorrection || 0\r\n        },\r\n        isGroupItemCountable: function(item) {\r\n            return !this._isVirtualPaging() || !item.isContinuation\r\n        },\r\n        _isVirtualPaging: function() {\r\n            var scrollingMode = this._dataSource.option(\"scrolling.mode\");\r\n            return \"virtual\" === scrollingMode || \"infinite\" === scrollingMode\r\n        },\r\n        itemsCount: function itemsCount() {\r\n            var dataSourceAdapter = this._dataSource;\r\n            var dataSource = dataSourceAdapter._dataSource;\r\n            var groupCount = _uiData_grid2.default.normalizeSortingInfo(dataSource.group() || []).length;\r\n            var itemsCount = calculateItemsCount(this, dataSource.items(), groupCount);\r\n            return itemsCount\r\n        },\r\n        foreachGroups: function(callback, childrenAtFirst, foreachCollapsedGroups, updateOffsets, updateParentOffsets) {\r\n            var that = this;\r\n\r\n            function foreachGroupsCore(groupsInfo, callback, childrenAtFirst, parents) {\r\n                var callbackResults = [];\r\n\r\n                function executeCallback(callback, data, parents, callbackResults) {\r\n                    var callbackResult = data && callback(data, parents);\r\n                    callbackResult && callbackResults.push(callbackResult);\r\n                    return callbackResult\r\n                }\r\n                for (var i = 0; i < groupsInfo.length; i++) {\r\n                    parents.push(groupsInfo[i].data);\r\n                    if (!childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\r\n                        return false\r\n                    }\r\n                    if (!groupsInfo[i].data || groupsInfo[i].data.isExpanded || foreachCollapsedGroups) {\r\n                        var children = groupsInfo[i].children;\r\n                        var callbackResult = children.length && foreachGroupsCore(children, callback, childrenAtFirst, parents);\r\n                        callbackResult && callbackResults.push(callbackResult);\r\n                        if (false === callbackResult) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    if (childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\r\n                        return false\r\n                    }\r\n                    if (!groupsInfo[i].data || groupsInfo[i].data.offset !== groupsInfo[i].offset) {\r\n                        updateOffsets = true\r\n                    }\r\n                    parents.pop()\r\n                }\r\n                var currentParents = updateParentOffsets && parents.slice(0);\r\n                return updateOffsets && _deferred.when.apply(_renderer2.default, callbackResults).always(function() {\r\n                    that._updateGroupInfoOffsets(groupsInfo, currentParents)\r\n                })\r\n            }\r\n            return foreachGroupsCore(that._groupsInfo, callback, childrenAtFirst, [])\r\n        },\r\n        _updateGroupInfoOffsets: function(groupsInfo, parents) {\r\n            parents = parents || [];\r\n            for (var index = 0; index < groupsInfo.length; index++) {\r\n                var groupInfo = groupsInfo[index];\r\n                if (groupInfo.data && groupInfo.data.offset !== groupInfo.offset) {\r\n                    groupInfo.offset = groupInfo.data.offset;\r\n                    for (var parentIndex = 0; parentIndex < parents.length; parentIndex++) {\r\n                        parents[parentIndex].offset = groupInfo.offset\r\n                    }\r\n                }\r\n            }\r\n            groupsInfo.sort(function(a, b) {\r\n                return a.offset - b.offset\r\n            })\r\n        },\r\n        findGroupInfo: function(path) {\r\n            var that = this;\r\n            var pathIndex;\r\n            var groupInfo;\r\n            var groupsInfo = that._groupsInfo;\r\n            for (pathIndex = 0; groupsInfo && pathIndex < path.length; pathIndex++) {\r\n                groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\r\n                groupsInfo = groupInfo && groupInfo.children\r\n            }\r\n            return groupInfo && groupInfo.data\r\n        },\r\n        addGroupInfo: function(groupInfoData) {\r\n            var that = this;\r\n            var index;\r\n            var groupInfo;\r\n            var path = groupInfoData.path;\r\n            var pathIndex;\r\n            var groupsInfo = that._groupsInfo;\r\n            for (pathIndex = 0; pathIndex < path.length; pathIndex++) {\r\n                groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\r\n                if (!groupInfo) {\r\n                    groupInfo = {\r\n                        key: path[pathIndex],\r\n                        offset: groupInfoData.offset,\r\n                        data: {\r\n                            offset: groupInfoData.offset,\r\n                            isExpanded: true,\r\n                            path: path.slice(0, pathIndex + 1)\r\n                        },\r\n                        children: []\r\n                    };\r\n                    index = getGroupInfoIndexByOffset(groupsInfo, groupInfoData.offset);\r\n                    groupsInfo.splice(index, 0, groupInfo);\r\n                    groupsInfo.hash = groupsInfo.hash || {};\r\n                    groupsInfo.hash[JSON.stringify(groupInfo.key)] = groupInfo\r\n                }\r\n                if (pathIndex === path.length - 1) {\r\n                    groupInfo.data = groupInfoData;\r\n                    if (groupInfo.offset !== groupInfoData.offset) {\r\n                        that._updateGroupInfoOffsets(groupsInfo)\r\n                    }\r\n                }\r\n                groupsInfo = groupInfo.children\r\n            }\r\n        },\r\n        allowCollapseAll: function() {\r\n            return true\r\n        },\r\n        refresh: function(options) {\r\n            var that = this;\r\n            var groupIndex;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var groups = (0, _utils.normalizeSortingInfo)(storeLoadOptions.group || []);\r\n            var oldGroups = \"_group\" in that ? (0, _utils.normalizeSortingInfo)(that._group || []) : groups;\r\n            var groupsCount = Math.min(oldGroups.length, groups.length);\r\n            that._group = storeLoadOptions.group;\r\n            for (groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\r\n                if (oldGroups[groupIndex].selector !== groups[groupIndex].selector) {\r\n                    groupsCount = groupIndex;\r\n                    break\r\n                }\r\n            }\r\n            if (!groupsCount) {\r\n                that.reset()\r\n            } else {\r\n                cleanGroupsInfo(that._groupsInfo, 0, groupsCount)\r\n            }\r\n        },\r\n        handleDataLoading: function() {},\r\n        handleDataLoaded: function(options, callBase) {\r\n            callBase(options)\r\n        },\r\n        handleDataLoadedCore: function(options, callBase) {\r\n            callBase(options)\r\n        }\r\n    }\r\n}());\r\n"]},"metadata":{},"sourceType":"module"}