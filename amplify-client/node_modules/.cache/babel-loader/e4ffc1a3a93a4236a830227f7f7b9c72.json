{"ast":null,"code":"/**\r\n * DevExtreme (data/utils.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _type = require(\"../core/utils/type\");\n\nvar _type2 = _interopRequireDefault(_type);\n\nvar _dom_adapter = require(\"../core/dom_adapter\");\n\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\n\nvar _ready_callbacks = require(\"../core/utils/ready_callbacks\");\n\nvar _window = require(\"../core/utils/window\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _deferred = require(\"../core/utils/deferred\");\n\nvar _common = require(\"../core/utils/common\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || \"[object Arguments]\" === Object.prototype.toString.call(iter)) {\n    return Array.from(iter);\n  }\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nvar XHR_ERROR_UNLOAD = \"DEVEXTREME_XHR_ERROR_UNLOAD\";\n\nvar normalizeBinaryCriterion = function normalizeBinaryCriterion(crit) {\n  return [crit[0], crit.length < 3 ? \"=\" : String(crit[1]).toLowerCase(), crit.length < 2 ? true : crit[crit.length - 1]];\n};\n\nvar normalizeSortingInfo = function normalizeSortingInfo(info) {\n  if (!Array.isArray(info)) {\n    info = [info];\n  }\n\n  return (0, _iterator.map)(info, function (i) {\n    var result = {\n      selector: (0, _type.isFunction)(i) || \"string\" === typeof i ? i : i.getter || i.field || i.selector,\n      desc: !!(i.desc || \"d\" === String(i.dir).charAt(0).toLowerCase())\n    };\n\n    if (i.compare) {\n      result.compare = i.compare;\n    }\n\n    return result;\n  });\n};\n\nvar errorMessageFromXhr = function () {\n  var textStatusMessages = {\n    timeout: \"Network connection timeout\",\n    error: \"Unspecified network error\",\n    parsererror: \"Unexpected server response\"\n  };\n\n  var explainTextStatus = function explainTextStatus(textStatus) {\n    var result = textStatusMessages[textStatus];\n\n    if (!result) {\n      return textStatus;\n    }\n\n    return result;\n  };\n\n  var unloading;\n  (0, _ready_callbacks.add)(function () {\n    var window = (0, _window.getWindow)();\n\n    _dom_adapter2.default.listen(window, \"beforeunload\", function () {\n      unloading = true;\n    });\n  });\n  return function (xhr, textStatus) {\n    if (unloading) {\n      return XHR_ERROR_UNLOAD;\n    }\n\n    if (xhr.status < 400) {\n      return explainTextStatus(textStatus);\n    }\n\n    return xhr.statusText;\n  };\n}();\n\nvar aggregators = {\n  count: {\n    seed: 0,\n    step: function step(count) {\n      return 1 + count;\n    }\n  },\n  sum: {\n    seed: 0,\n    step: function step(sum, item) {\n      return sum + item;\n    }\n  },\n  min: {\n    step: function step(min, item) {\n      return item < min ? item : min;\n    }\n  },\n  max: {\n    step: function step(max, item) {\n      return item > max ? item : max;\n    }\n  },\n  avg: {\n    seed: [0, 0],\n    step: function step(pair, value) {\n      return [pair[0] + value, pair[1] + 1];\n    },\n    finalize: function finalize(pair) {\n      return pair[1] ? pair[0] / pair[1] : NaN;\n    }\n  }\n};\n\nvar processRequestResultLock = function () {\n  var lockCount = 0;\n  var lockDeferred;\n\n  var obtain = function obtain() {\n    if (0 === lockCount) {\n      lockDeferred = new _deferred.Deferred();\n    }\n\n    lockCount++;\n  };\n\n  var release = function release() {\n    lockCount--;\n\n    if (lockCount < 1) {\n      lockDeferred.resolve();\n    }\n  };\n\n  var promise = function promise() {\n    var deferred = 0 === lockCount ? new _deferred.Deferred().resolve() : lockDeferred;\n    return deferred.promise();\n  };\n\n  var reset = function reset() {\n    lockCount = 0;\n\n    if (lockDeferred) {\n      lockDeferred.resolve();\n    }\n  };\n\n  return {\n    obtain: obtain,\n    release: release,\n    promise: promise,\n    reset: reset\n  };\n}();\n\nfunction isDisjunctiveOperator(condition) {\n  return /^(or|\\|\\||\\|)$/i.test(condition);\n}\n\nfunction isConjunctiveOperator(condition) {\n  return /^(and|&&|&)$/i.test(condition);\n}\n\nvar keysEqual = function keysEqual(key1, key2) {\n  return (0, _common.equalByValue)(key1, key2, 0, false);\n};\n\nvar BASE64_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nvar base64_encode = function base64_encode(input) {\n  if (!Array.isArray(input)) {\n    input = stringToByteArray(String(input));\n  }\n\n  var result = \"\";\n\n  function getBase64Char(index) {\n    return BASE64_CHARS.charAt(index);\n  }\n\n  for (var i = 0; i < input.length; i += 3) {\n    var octet1 = input[i];\n    var octet2 = input[i + 1];\n    var octet3 = input[i + 2];\n    result += (0, _iterator.map)([octet1 >> 2, (3 & octet1) << 4 | octet2 >> 4, isNaN(octet2) ? 64 : (15 & octet2) << 2 | octet3 >> 6, isNaN(octet3) ? 64 : 63 & octet3], getBase64Char).join(\"\");\n  }\n\n  return result;\n};\n\nvar stringToByteArray = function stringToByteArray(str) {\n  var bytes = [];\n  var code;\n  var i;\n\n  for (i = 0; i < str.length; i++) {\n    code = str.charCodeAt(i);\n\n    if (code < 128) {\n      bytes.push(code);\n    } else {\n      if (code < 2048) {\n        bytes.push(192 + (code >> 6), 128 + (63 & code));\n      } else {\n        if (code < 65536) {\n          bytes.push(224 + (code >> 12), 128 + (code >> 6 & 63), 128 + (63 & code));\n        } else {\n          if (code < 2097152) {\n            bytes.push(240 + (code >> 18), 128 + (code >> 12 & 63), 128 + (code >> 6 & 63), 128 + (63 & code));\n          }\n        }\n      }\n    }\n  }\n\n  return bytes;\n};\n\nvar isUnaryOperation = function isUnaryOperation(crit) {\n  return \"!\" === crit[0] && Array.isArray(crit[1]);\n};\n\nvar isGroupOperator = function isGroupOperator(value) {\n  return \"and\" === value || \"or\" === value;\n};\n\nvar isGroupCriterion = function isGroupCriterion(crit) {\n  var first = crit[0];\n  var second = crit[1];\n\n  if (Array.isArray(first)) {\n    return true;\n  }\n\n  if (_type2.default.isFunction(first)) {\n    if (Array.isArray(second) || _type2.default.isFunction(second) || isGroupOperator(second)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nvar trivialPromise = function trivialPromise() {\n  var d = new _deferred.Deferred();\n  return d.resolve.apply(d, arguments).promise();\n};\n\nvar rejectedPromise = function rejectedPromise() {\n  var d = new _deferred.Deferred();\n  return d.reject.apply(d, arguments).promise();\n};\n\nfunction throttle(func, timeout) {\n  var timeoutId;\n  var lastArgs;\n  return function () {\n    var _this = this;\n\n    lastArgs = arguments;\n\n    if (!timeoutId) {\n      timeoutId = setTimeout(function () {\n        timeoutId = void 0;\n\n        if (lastArgs) {\n          func.call(_this, lastArgs);\n        }\n      }, (0, _type.isFunction)(timeout) ? timeout() : timeout);\n    }\n\n    return timeoutId;\n  };\n}\n\nfunction throttleChanges(func, timeout) {\n  var cache = [];\n  var throttled = throttle(function () {\n    func.call(this, cache);\n    cache = [];\n  }, timeout);\n  return function (changes) {\n    if (Array.isArray(changes)) {\n      var _cache;\n\n      (_cache = cache).push.apply(_cache, _toConsumableArray(changes));\n    }\n\n    return throttled.call(this, cache);\n  };\n}\n\nvar utils = {\n  XHR_ERROR_UNLOAD: XHR_ERROR_UNLOAD,\n  normalizeBinaryCriterion: normalizeBinaryCriterion,\n  normalizeSortingInfo: normalizeSortingInfo,\n  errorMessageFromXhr: errorMessageFromXhr,\n  aggregators: aggregators,\n  keysEqual: keysEqual,\n  throttleChanges: throttleChanges,\n  trivialPromise: trivialPromise,\n  rejectedPromise: rejectedPromise,\n  isDisjunctiveOperator: isDisjunctiveOperator,\n  isConjunctiveOperator: isConjunctiveOperator,\n  processRequestResultLock: processRequestResultLock,\n  isUnaryOperation: isUnaryOperation,\n  isGroupCriterion: isGroupCriterion,\n  base64_encode: base64_encode\n};\nmodule.exports = utils;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/data/utils.js"],"names":["_type","require","_type2","_interopRequireDefault","_dom_adapter","_dom_adapter2","_ready_callbacks","_window","_iterator","_deferred","_common","obj","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Symbol","Object","Array","i","arr2","arr","XHR_ERROR_UNLOAD","normalizeBinaryCriterion","crit","String","normalizeSortingInfo","info","result","selector","desc","errorMessageFromXhr","textStatusMessages","timeout","error","parsererror","explainTextStatus","window","unloading","xhr","aggregators","count","seed","step","sum","min","item","max","avg","pair","finalize","processRequestResultLock","lockCount","obtain","lockDeferred","release","promise","deferred","reset","keysEqual","BASE64_CHARS","base64_encode","input","stringToByteArray","octet1","octet2","octet3","isNaN","bytes","str","code","isUnaryOperation","isGroupOperator","isGroupCriterion","first","second","trivialPromise","d","rejectedPromise","_this","lastArgs","timeoutId","setTimeout","func","cache","throttled","throttle","_cache","_toConsumableArray","utils","throttleChanges","isDisjunctiveOperator","isConjunctiveOperator","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (data/utils.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _type = require(\"../core/utils/type\");\r\nvar _type2 = _interopRequireDefault(_type);\r\nvar _dom_adapter = require(\"../core/dom_adapter\");\r\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\r\nvar _ready_callbacks = require(\"../core/utils/ready_callbacks\");\r\nvar _window = require(\"../core/utils/window\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _deferred = require(\"../core/utils/deferred\");\r\nvar _common = require(\"../core/utils/common\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _toConsumableArray(arr) {\r\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\r\n}\r\n\r\nfunction _nonIterableSpread() {\r\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\")\r\n}\r\n\r\nfunction _iterableToArray(iter) {\r\n    if (Symbol.iterator in Object(iter) || \"[object Arguments]\" === Object.prototype.toString.call(iter)) {\r\n        return Array.from(iter)\r\n    }\r\n}\r\n\r\nfunction _arrayWithoutHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\r\n            arr2[i] = arr[i]\r\n        }\r\n        return arr2\r\n    }\r\n}\r\nvar XHR_ERROR_UNLOAD = \"DEVEXTREME_XHR_ERROR_UNLOAD\";\r\nvar normalizeBinaryCriterion = function(crit) {\r\n    return [crit[0], crit.length < 3 ? \"=\" : String(crit[1]).toLowerCase(), crit.length < 2 ? true : crit[crit.length - 1]]\r\n};\r\nvar normalizeSortingInfo = function(info) {\r\n    if (!Array.isArray(info)) {\r\n        info = [info]\r\n    }\r\n    return (0, _iterator.map)(info, function(i) {\r\n        var result = {\r\n            selector: (0, _type.isFunction)(i) || \"string\" === typeof i ? i : i.getter || i.field || i.selector,\r\n            desc: !!(i.desc || \"d\" === String(i.dir).charAt(0).toLowerCase())\r\n        };\r\n        if (i.compare) {\r\n            result.compare = i.compare\r\n        }\r\n        return result\r\n    })\r\n};\r\nvar errorMessageFromXhr = function() {\r\n    var textStatusMessages = {\r\n        timeout: \"Network connection timeout\",\r\n        error: \"Unspecified network error\",\r\n        parsererror: \"Unexpected server response\"\r\n    };\r\n    var explainTextStatus = function(textStatus) {\r\n        var result = textStatusMessages[textStatus];\r\n        if (!result) {\r\n            return textStatus\r\n        }\r\n        return result\r\n    };\r\n    var unloading;\r\n    (0, _ready_callbacks.add)(function() {\r\n        var window = (0, _window.getWindow)();\r\n        _dom_adapter2.default.listen(window, \"beforeunload\", function() {\r\n            unloading = true\r\n        })\r\n    });\r\n    return function(xhr, textStatus) {\r\n        if (unloading) {\r\n            return XHR_ERROR_UNLOAD\r\n        }\r\n        if (xhr.status < 400) {\r\n            return explainTextStatus(textStatus)\r\n        }\r\n        return xhr.statusText\r\n    }\r\n}();\r\nvar aggregators = {\r\n    count: {\r\n        seed: 0,\r\n        step: function(count) {\r\n            return 1 + count\r\n        }\r\n    },\r\n    sum: {\r\n        seed: 0,\r\n        step: function(sum, item) {\r\n            return sum + item\r\n        }\r\n    },\r\n    min: {\r\n        step: function(min, item) {\r\n            return item < min ? item : min\r\n        }\r\n    },\r\n    max: {\r\n        step: function(max, item) {\r\n            return item > max ? item : max\r\n        }\r\n    },\r\n    avg: {\r\n        seed: [0, 0],\r\n        step: function(pair, value) {\r\n            return [pair[0] + value, pair[1] + 1]\r\n        },\r\n        finalize: function(pair) {\r\n            return pair[1] ? pair[0] / pair[1] : NaN\r\n        }\r\n    }\r\n};\r\nvar processRequestResultLock = function() {\r\n    var lockCount = 0;\r\n    var lockDeferred;\r\n    var obtain = function() {\r\n        if (0 === lockCount) {\r\n            lockDeferred = new _deferred.Deferred\r\n        }\r\n        lockCount++\r\n    };\r\n    var release = function() {\r\n        lockCount--;\r\n        if (lockCount < 1) {\r\n            lockDeferred.resolve()\r\n        }\r\n    };\r\n    var promise = function() {\r\n        var deferred = 0 === lockCount ? (new _deferred.Deferred).resolve() : lockDeferred;\r\n        return deferred.promise()\r\n    };\r\n    var reset = function() {\r\n        lockCount = 0;\r\n        if (lockDeferred) {\r\n            lockDeferred.resolve()\r\n        }\r\n    };\r\n    return {\r\n        obtain: obtain,\r\n        release: release,\r\n        promise: promise,\r\n        reset: reset\r\n    }\r\n}();\r\n\r\nfunction isDisjunctiveOperator(condition) {\r\n    return /^(or|\\|\\||\\|)$/i.test(condition)\r\n}\r\n\r\nfunction isConjunctiveOperator(condition) {\r\n    return /^(and|&&|&)$/i.test(condition)\r\n}\r\nvar keysEqual = function(key1, key2) {\r\n    return (0, _common.equalByValue)(key1, key2, 0, false)\r\n};\r\nvar BASE64_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\nvar base64_encode = function(input) {\r\n    if (!Array.isArray(input)) {\r\n        input = stringToByteArray(String(input))\r\n    }\r\n    var result = \"\";\r\n\r\n    function getBase64Char(index) {\r\n        return BASE64_CHARS.charAt(index)\r\n    }\r\n    for (var i = 0; i < input.length; i += 3) {\r\n        var octet1 = input[i];\r\n        var octet2 = input[i + 1];\r\n        var octet3 = input[i + 2];\r\n        result += (0, _iterator.map)([octet1 >> 2, (3 & octet1) << 4 | octet2 >> 4, isNaN(octet2) ? 64 : (15 & octet2) << 2 | octet3 >> 6, isNaN(octet3) ? 64 : 63 & octet3], getBase64Char).join(\"\")\r\n    }\r\n    return result\r\n};\r\nvar stringToByteArray = function(str) {\r\n    var bytes = [];\r\n    var code;\r\n    var i;\r\n    for (i = 0; i < str.length; i++) {\r\n        code = str.charCodeAt(i);\r\n        if (code < 128) {\r\n            bytes.push(code)\r\n        } else {\r\n            if (code < 2048) {\r\n                bytes.push(192 + (code >> 6), 128 + (63 & code))\r\n            } else {\r\n                if (code < 65536) {\r\n                    bytes.push(224 + (code >> 12), 128 + (code >> 6 & 63), 128 + (63 & code))\r\n                } else {\r\n                    if (code < 2097152) {\r\n                        bytes.push(240 + (code >> 18), 128 + (code >> 12 & 63), 128 + (code >> 6 & 63), 128 + (63 & code))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return bytes\r\n};\r\nvar isUnaryOperation = function(crit) {\r\n    return \"!\" === crit[0] && Array.isArray(crit[1])\r\n};\r\nvar isGroupOperator = function(value) {\r\n    return \"and\" === value || \"or\" === value\r\n};\r\nvar isGroupCriterion = function(crit) {\r\n    var first = crit[0];\r\n    var second = crit[1];\r\n    if (Array.isArray(first)) {\r\n        return true\r\n    }\r\n    if (_type2.default.isFunction(first)) {\r\n        if (Array.isArray(second) || _type2.default.isFunction(second) || isGroupOperator(second)) {\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n};\r\nvar trivialPromise = function() {\r\n    var d = new _deferred.Deferred;\r\n    return d.resolve.apply(d, arguments).promise()\r\n};\r\nvar rejectedPromise = function() {\r\n    var d = new _deferred.Deferred;\r\n    return d.reject.apply(d, arguments).promise()\r\n};\r\n\r\nfunction throttle(func, timeout) {\r\n    var timeoutId;\r\n    var lastArgs;\r\n    return function() {\r\n        var _this = this;\r\n        lastArgs = arguments;\r\n        if (!timeoutId) {\r\n            timeoutId = setTimeout(function() {\r\n                timeoutId = void 0;\r\n                if (lastArgs) {\r\n                    func.call(_this, lastArgs)\r\n                }\r\n            }, (0, _type.isFunction)(timeout) ? timeout() : timeout)\r\n        }\r\n        return timeoutId\r\n    }\r\n}\r\n\r\nfunction throttleChanges(func, timeout) {\r\n    var cache = [];\r\n    var throttled = throttle(function() {\r\n        func.call(this, cache);\r\n        cache = []\r\n    }, timeout);\r\n    return function(changes) {\r\n        if (Array.isArray(changes)) {\r\n            var _cache;\r\n            (_cache = cache).push.apply(_cache, _toConsumableArray(changes))\r\n        }\r\n        return throttled.call(this, cache)\r\n    }\r\n}\r\nvar utils = {\r\n    XHR_ERROR_UNLOAD: XHR_ERROR_UNLOAD,\r\n    normalizeBinaryCriterion: normalizeBinaryCriterion,\r\n    normalizeSortingInfo: normalizeSortingInfo,\r\n    errorMessageFromXhr: errorMessageFromXhr,\r\n    aggregators: aggregators,\r\n    keysEqual: keysEqual,\r\n    throttleChanges: throttleChanges,\r\n    trivialPromise: trivialPromise,\r\n    rejectedPromise: rejectedPromise,\r\n    isDisjunctiveOperator: isDisjunctiveOperator,\r\n    isConjunctiveOperator: isConjunctiveOperator,\r\n    processRequestResultLock: processRequestResultLock,\r\n    isUnaryOperation: isUnaryOperation,\r\n    isGroupCriterion: isGroupCriterion,\r\n    base64_encode: base64_encode\r\n};\r\nmodule.exports = utils;\r\n"]},"metadata":{},"sourceType":"module"}