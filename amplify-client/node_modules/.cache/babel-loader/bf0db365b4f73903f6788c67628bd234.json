{"ast":null,"code":"import define, { extend } from \"./define.js\";\nimport { Color, rgbConvert, Rgb } from \"./color.js\";\nimport { deg2rad, rad2deg } from \"./math.js\"; // https://observablehq.com/@mbostock/lab-and-rgb\n\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn),\n      x,\n      z;\n  if (r === g && g === b) x = z = y;else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Lab, lab, extend(Color, {\n  brighter: function brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(lrgb2rgb(3.1338561 * x - 1.6168667 * y - 0.4906146 * z), lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z), lrgb2rgb(0.0719453 * x - 0.2289914 * y + 1.4052427 * z), this.opacity);\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/d3-color/src/lab.js"],"names":["K","Xn","Yn","Zn","t0","t1","t2","t3","o","hcl2lab","rgbConvert","r","rgb2lrgb","g","b","y","xyz2lab","x","z","opacity","arguments","labConvert","define","extend","brighter","k","darker","rgb","isNaN","lab2xyz","lrgb2rgb","t","Math","h","hclConvert"],"mappings":"AAAA,OAAA,MAAA,IAAA,MAAA,QAAA,aAAA;AACA,SAAA,KAAA,EAAA,UAAA,EAAA,GAAA,QAAA,YAAA;AACA,SAAA,OAAA,EAAA,OAAA,QAAA,WAAA,C,CAEA;;AACA,IAAIA,CAAC,GAAL,EAAA;AAAA,IACIC,EAAE,GADN,OAAA;AAAA,IAEIC,EAAE,GAFN,CAAA;AAAA,IAGIC,EAAE,GAHN,OAAA;AAAA,IAIIC,EAAE,GAAG,IAJT,EAAA;AAAA,IAKIC,EAAE,GAAG,IALT,EAAA;AAAA,IAMIC,EAAE,GAAG,IAAA,EAAA,GANT,EAAA;AAAA,IAOIC,EAAE,GAAGF,EAAE,GAAFA,EAAAA,GAPT,EAAA;;AASA,SAAA,UAAA,CAAA,CAAA,EAAuB;AACrB,MAAIG,CAAC,YAAL,GAAA,EAAsB,OAAO,IAAA,GAAA,CAAQA,CAAC,CAAT,CAAA,EAAaA,CAAC,CAAd,CAAA,EAAkBA,CAAC,CAAnB,CAAA,EAAuBA,CAAC,CAA/B,OAAO,CAAP;AACtB,MAAIA,CAAC,YAAL,GAAA,EAAsB,OAAOC,OAAO,CAAd,CAAc,CAAd;AACtB,MAAI,EAAED,CAAC,YAAP,GAAI,CAAJ,EAAyBA,CAAC,GAAGE,UAAU,CAAdF,CAAc,CAAdA;AACzB,MAAIG,CAAC,GAAGC,QAAQ,CAACJ,CAAC,CAAlB,CAAgB,CAAhB;AAAA,MACIK,CAAC,GAAGD,QAAQ,CAACJ,CAAC,CADlB,CACgB,CADhB;AAAA,MAEIM,CAAC,GAAGF,QAAQ,CAACJ,CAAC,CAFlB,CAEgB,CAFhB;AAAA,MAGIO,CAAC,GAAGC,OAAO,CAAC,CAAC,YAAA,CAAA,GAAgB,YAAhB,CAAA,GAAgC,YAAjC,CAAA,IAHhB,EAGe,CAHf;AAAA,MAAA,CAAA;AAAA,MAAA,CAAA;AAIA,MAAIL,CAAC,KAADA,CAAAA,IAAWE,CAAC,KAAhB,CAAA,EAAwBI,CAAC,GAAGC,CAAC,GAA7B,CAAwBD,CAAxB,KAAwC;AACtCA,IAAAA,CAAC,GAAGD,OAAO,CAAC,CAAC,YAAA,CAAA,GAAgB,YAAhB,CAAA,GAAgC,YAAjC,CAAA,IAAZC,EAAW,CAAXA;AACAC,IAAAA,CAAC,GAAGF,OAAO,CAAC,CAAC,YAAA,CAAA,GAAgB,YAAhB,CAAA,GAAgC,YAAjC,CAAA,IAAZE,EAAW,CAAXA;AACD;AACD,SAAO,IAAA,GAAA,CAAQ,MAAA,CAAA,GAAR,EAAA,EAAsB,OAAOD,CAAC,GAA9B,CAAsB,CAAtB,EAAqC,OAAOF,CAAC,GAA7C,CAAqC,CAArC,EAAoDP,CAAC,CAA5D,OAAO,CAAP;AACD;;AAED,OAAO,SAAA,IAAA,CAAA,CAAA,EAAA,OAAA,EAA0B;AAC/B,SAAO,IAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAiBW,OAAO,IAAPA,IAAAA,GAAAA,CAAAA,GAAxB,OAAO,CAAP;AACD;AAED,eAAe,SAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,OAAA,EAA+B;AAC5C,SAAOC,SAAS,CAATA,MAAAA,KAAAA,CAAAA,GAAyBC,UAAU,CAAnCD,CAAmC,CAAnCA,GAAyC,IAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAiBD,OAAO,IAAPA,IAAAA,GAAAA,CAAAA,GAAjE,OAAgD,CAAhD;AACD;AAED,OAAO,SAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,OAAA,EAA+B;AACpC,OAAA,CAAA,GAAS,CAAT,CAAA;AACA,OAAA,CAAA,GAAS,CAAT,CAAA;AACA,OAAA,CAAA,GAAS,CAAT,CAAA;AACA,OAAA,OAAA,GAAe,CAAf,OAAA;AACD;AAEDG,MAAM,CAAA,GAAA,EAAA,GAAA,EAAWC,MAAM,CAAA,KAAA,EAAQ;AAC7BC,EAAAA,QAAQ,EAAE,SAAA,QAAA,CAAA,CAAA,EAAY;AACpB,WAAO,IAAA,GAAA,CAAQ,KAAA,CAAA,GAASxB,CAAC,IAAIyB,CAAC,IAADA,IAAAA,GAAAA,CAAAA,GAAtB,CAAkB,CAAlB,EAA0C,KAA1C,CAAA,EAAkD,KAAlD,CAAA,EAA0D,KAAjE,OAAO,CAAP;AAF2B,GAAA;AAI7BC,EAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,CAAA,EAAY;AAClB,WAAO,IAAA,GAAA,CAAQ,KAAA,CAAA,GAAS1B,CAAC,IAAIyB,CAAC,IAADA,IAAAA,GAAAA,CAAAA,GAAtB,CAAkB,CAAlB,EAA0C,KAA1C,CAAA,EAAkD,KAAlD,CAAA,EAA0D,KAAjE,OAAO,CAAP;AAL2B,GAAA;AAO7BE,EAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACd,QAAIZ,CAAC,GAAG,CAAC,KAAA,CAAA,GAAD,EAAA,IAAR,GAAA;AAAA,QACIE,CAAC,GAAGW,KAAK,CAAC,KAANA,CAAK,CAALA,GAAAA,CAAAA,GAAoBb,CAAC,GAAG,KAAA,CAAA,GADhC,GAAA;AAAA,QAEIG,CAAC,GAAGU,KAAK,CAAC,KAANA,CAAK,CAALA,GAAAA,CAAAA,GAAoBb,CAAC,GAAG,KAAA,CAAA,GAFhC,GAAA;AAGAE,IAAAA,CAAC,GAAGhB,EAAE,GAAG4B,OAAO,CAAhBZ,CAAgB,CAAhBA;AACAF,IAAAA,CAAC,GAAGb,EAAE,GAAG2B,OAAO,CAAhBd,CAAgB,CAAhBA;AACAG,IAAAA,CAAC,GAAGf,EAAE,GAAG0B,OAAO,CAAhBX,CAAgB,CAAhBA;AACA,WAAO,IAAA,GAAA,CACLY,QAAQ,CAAE,YAAA,CAAA,GAAgB,YAAhB,CAAA,GAAgC,YADrC,CACG,CADH,EAELA,QAAQ,CAAC,CAAA,SAAA,GAAA,CAAA,GAAiB,YAAjB,CAAA,GAAiC,YAFrC,CAEG,CAFH,EAGLA,QAAQ,CAAE,YAAA,CAAA,GAAgB,YAAhB,CAAA,GAAgC,YAHrC,CAGG,CAHH,EAIL,KAJF,OAAO,CAAP;AAMD;AApB4B,CAAR,CAAjB,CAANR;;AAuBA,SAAA,OAAA,CAAA,CAAA,EAAoB;AAClB,SAAOS,CAAC,GAADA,EAAAA,GAASC,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,EAAY,IAArBD,CAASC,CAATD,GAA8BA,CAAC,GAADA,EAAAA,GAArC,EAAA;AACD;;AAED,SAAA,OAAA,CAAA,CAAA,EAAoB;AAClB,SAAOA,CAAC,GAADA,EAAAA,GAASA,CAAC,GAADA,CAAAA,GAATA,CAAAA,GAAqBzB,EAAE,IAAIyB,CAAC,GAAnC,EAA8B,CAA9B;AACD;;AAED,SAAA,QAAA,CAAA,CAAA,EAAqB;AACnB,SAAO,OAAOd,CAAC,IAADA,SAAAA,GAAiB,QAAjBA,CAAAA,GAA6B,QAAQe,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,EAAY,IAApB,GAAQA,CAAR,GAA3C,KAAO,CAAP;AACD;;AAED,SAAA,QAAA,CAAA,CAAA,EAAqB;AACnB,SAAO,CAACf,CAAC,IAAF,GAAA,KAAA,OAAA,GAAwBA,CAAC,GAAzB,KAAA,GAAoCe,IAAI,CAAJA,GAAAA,CAAS,CAACf,CAAC,GAAF,KAAA,IAATe,KAAAA,EAA3C,GAA2CA,CAA3C;AACD;;AAED,SAAA,UAAA,CAAA,CAAA,EAAuB;AACrB,MAAIxB,CAAC,YAAL,GAAA,EAAsB,OAAO,IAAA,GAAA,CAAQA,CAAC,CAAT,CAAA,EAAaA,CAAC,CAAd,CAAA,EAAkBA,CAAC,CAAnB,CAAA,EAAuBA,CAAC,CAA/B,OAAO,CAAP;AACtB,MAAI,EAAEA,CAAC,YAAP,GAAI,CAAJ,EAAyBA,CAAC,GAAGa,UAAU,CAAdb,CAAc,CAAdA;AACzB,MAAIA,CAAC,CAADA,CAAAA,KAAAA,CAAAA,IAAaA,CAAC,CAADA,CAAAA,KAAjB,CAAA,EAA4B,OAAO,IAAA,GAAA,CAAA,GAAA,EAAa,IAAIA,CAAC,CAAL,CAAA,IAAWA,CAAC,CAADA,CAAAA,GAAX,GAAA,GAAA,CAAA,GAAb,GAAA,EAA6CA,CAAC,CAA9C,CAAA,EAAkDA,CAAC,CAA1D,OAAO,CAAP;AAC5B,MAAIyB,CAAC,GAAGD,IAAI,CAAJA,KAAAA,CAAWxB,CAAC,CAAZwB,CAAAA,EAAgBxB,CAAC,CAAjBwB,CAAAA,IAAR,OAAA;AACA,SAAO,IAAA,GAAA,CAAQC,CAAC,GAADA,CAAAA,GAAQA,CAAC,GAATA,GAAAA,GAAR,CAAA,EAA6BD,IAAI,CAAJA,IAAAA,CAAUxB,CAAC,CAADA,CAAAA,GAAMA,CAAC,CAAPA,CAAAA,GAAYA,CAAC,CAADA,CAAAA,GAAMA,CAAC,CAA1D,CAA6BwB,CAA7B,EAA+DxB,CAAC,CAAhE,CAAA,EAAoEA,CAAC,CAA5E,OAAO,CAAP;AACD;;AAED,OAAO,SAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,OAAA,EAA+B;AACpC,SAAOY,SAAS,CAATA,MAAAA,KAAAA,CAAAA,GAAyBc,UAAU,CAAnCd,CAAmC,CAAnCA,GAAyC,IAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAiBD,OAAO,IAAPA,IAAAA,GAAAA,CAAAA,GAAjE,OAAgD,CAAhD;AACD;AAED,OAAO,SAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,OAAA,EAA+B;AACpC,SAAOC,SAAS,CAATA,MAAAA,KAAAA,CAAAA,GAAyBc,UAAU,CAAnCd,CAAmC,CAAnCA,GAAyC,IAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAiBD,OAAO,IAAPA,IAAAA,GAAAA,CAAAA,GAAjE,OAAgD,CAAhD;AACD;AAED,OAAO,SAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,OAAA,EAA+B;AACpC,OAAA,CAAA,GAAS,CAAT,CAAA;AACA,OAAA,CAAA,GAAS,CAAT,CAAA;AACA,OAAA,CAAA,GAAS,CAAT,CAAA;AACA,OAAA,OAAA,GAAe,CAAf,OAAA;AACD;;AAED,SAAA,OAAA,CAAA,CAAA,EAAoB;AAClB,MAAIS,KAAK,CAACpB,CAAC,CAAX,CAAS,CAAT,EAAgB,OAAO,IAAA,GAAA,CAAQA,CAAC,CAAT,CAAA,EAAA,CAAA,EAAA,CAAA,EAAmBA,CAAC,CAA3B,OAAO,CAAP;AAChB,MAAIyB,CAAC,GAAGzB,CAAC,CAADA,CAAAA,GAAR,OAAA;AACA,SAAO,IAAA,GAAA,CAAQA,CAAC,CAAT,CAAA,EAAawB,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,IAAcxB,CAAC,CAA5B,CAAA,EAAgCwB,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,IAAcxB,CAAC,CAA/C,CAAA,EAAmDA,CAAC,CAA3D,OAAO,CAAP;AACD;;AAEDc,MAAM,CAAA,GAAA,EAAA,GAAA,EAAWC,MAAM,CAAA,KAAA,EAAQ;AAC7BC,EAAAA,QAAQ,EAAE,SAAA,QAAA,CAAA,CAAA,EAAY;AACpB,WAAO,IAAA,GAAA,CAAQ,KAAR,CAAA,EAAgB,KAAhB,CAAA,EAAwB,KAAA,CAAA,GAASxB,CAAC,IAAIyB,CAAC,IAADA,IAAAA,GAAAA,CAAAA,GAAtC,CAAkC,CAAlC,EAA0D,KAAjE,OAAO,CAAP;AAF2B,GAAA;AAI7BC,EAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,CAAA,EAAY;AAClB,WAAO,IAAA,GAAA,CAAQ,KAAR,CAAA,EAAgB,KAAhB,CAAA,EAAwB,KAAA,CAAA,GAAS1B,CAAC,IAAIyB,CAAC,IAADA,IAAAA,GAAAA,CAAAA,GAAtC,CAAkC,CAAlC,EAA0D,KAAjE,OAAO,CAAP;AAL2B,GAAA;AAO7BE,EAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACd,WAAOlB,OAAO,CAAPA,IAAO,CAAPA,CAAP,GAAOA,EAAP;AACD;AAT4B,CAAR,CAAjB,CAANa","sourcesContent":["import define, {extend} from \"./define.js\";\r\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\r\nimport {deg2rad, rad2deg} from \"./math.js\";\r\n\r\n// https://observablehq.com/@mbostock/lab-and-rgb\r\nvar K = 18,\r\n    Xn = 0.96422,\r\n    Yn = 1,\r\n    Zn = 0.82521,\r\n    t0 = 4 / 29,\r\n    t1 = 6 / 29,\r\n    t2 = 3 * t1 * t1,\r\n    t3 = t1 * t1 * t1;\r\n\r\nfunction labConvert(o) {\r\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\r\n  if (o instanceof Hcl) return hcl2lab(o);\r\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\r\n  var r = rgb2lrgb(o.r),\r\n      g = rgb2lrgb(o.g),\r\n      b = rgb2lrgb(o.b),\r\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\r\n  if (r === g && g === b) x = z = y; else {\r\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\r\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\r\n  }\r\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\r\n}\r\n\r\nexport function gray(l, opacity) {\r\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\r\n}\r\n\r\nexport default function lab(l, a, b, opacity) {\r\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\r\n}\r\n\r\nexport function Lab(l, a, b, opacity) {\r\n  this.l = +l;\r\n  this.a = +a;\r\n  this.b = +b;\r\n  this.opacity = +opacity;\r\n}\r\n\r\ndefine(Lab, lab, extend(Color, {\r\n  brighter: function(k) {\r\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\r\n  },\r\n  darker: function(k) {\r\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\r\n  },\r\n  rgb: function() {\r\n    var y = (this.l + 16) / 116,\r\n        x = isNaN(this.a) ? y : y + this.a / 500,\r\n        z = isNaN(this.b) ? y : y - this.b / 200;\r\n    x = Xn * lab2xyz(x);\r\n    y = Yn * lab2xyz(y);\r\n    z = Zn * lab2xyz(z);\r\n    return new Rgb(\r\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\r\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\r\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\r\n      this.opacity\r\n    );\r\n  }\r\n}));\r\n\r\nfunction xyz2lab(t) {\r\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\r\n}\r\n\r\nfunction lab2xyz(t) {\r\n  return t > t1 ? t * t * t : t2 * (t - t0);\r\n}\r\n\r\nfunction lrgb2rgb(x) {\r\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\r\n}\r\n\r\nfunction rgb2lrgb(x) {\r\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\r\n}\r\n\r\nfunction hclConvert(o) {\r\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\r\n  if (!(o instanceof Lab)) o = labConvert(o);\r\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\r\n  var h = Math.atan2(o.b, o.a) * rad2deg;\r\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\r\n}\r\n\r\nexport function lch(l, c, h, opacity) {\r\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\r\n}\r\n\r\nexport function hcl(h, c, l, opacity) {\r\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\r\n}\r\n\r\nexport function Hcl(h, c, l, opacity) {\r\n  this.h = +h;\r\n  this.c = +c;\r\n  this.l = +l;\r\n  this.opacity = +opacity;\r\n}\r\n\r\nfunction hcl2lab(o) {\r\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\r\n  var h = o.h * deg2rad;\r\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\r\n}\r\n\r\ndefine(Hcl, hcl, extend(Color, {\r\n  brighter: function(k) {\r\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\r\n  },\r\n  darker: function(k) {\r\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\r\n  },\r\n  rgb: function() {\r\n    return hcl2lab(this).rgb();\r\n  }\r\n}));\r\n"]},"metadata":{},"sourceType":"module"}