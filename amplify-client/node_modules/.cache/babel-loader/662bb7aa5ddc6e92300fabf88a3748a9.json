{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/title.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _Number = Number;\n\nvar _isString = require(\"../../core/utils/type\").isString;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar _patchFontOptions = require(\"./utils\").patchFontOptions;\n\nvar parseHorizontalAlignment = require(\"./utils\").enumParser([\"left\", \"center\", \"right\"]);\n\nvar parseVerticalAlignment = require(\"./utils\").enumParser([\"top\", \"bottom\"]);\n\nvar DEFAULT_MARGIN = 10;\n\nfunction hasText(text) {\n  return !!(text && String(text).length > 0);\n}\n\nfunction processTitleLength(elem, text, width, options, placeholderSize) {\n  if (elem.attr({\n    text: text\n  }).setMaxSize(width, placeholderSize, options).textChanged) {\n    elem.setTitle(text);\n  }\n}\n\nfunction pickMarginValue(value) {\n  return value >= 0 ? _Number(value) : DEFAULT_MARGIN;\n}\n\nfunction validateMargin(margin) {\n  var result;\n\n  if (margin >= 0) {\n    result = {\n      left: _Number(margin),\n      top: _Number(margin),\n      right: _Number(margin),\n      bottom: _Number(margin)\n    };\n  } else {\n    margin = margin || {};\n    result = {\n      left: pickMarginValue(margin.left),\n      top: pickMarginValue(margin.top),\n      right: pickMarginValue(margin.right),\n      bottom: pickMarginValue(margin.bottom)\n    };\n  }\n\n  return result;\n}\n\nfunction checkRect(rect, boundingRect) {\n  return rect[2] - rect[0] < boundingRect.width || rect[3] - rect[1] < boundingRect.height;\n}\n\nfunction Title(params) {\n  this._params = params;\n  this._group = params.renderer.g().attr({\n    \"class\": params.cssClass\n  }).linkOn(params.root || params.renderer.root, \"title\");\n  this._hasText = false;\n}\n\nextend(Title.prototype, require(\"./layout_element\").LayoutElement.prototype, {\n  dispose: function dispose() {\n    var that = this;\n\n    that._group.linkRemove();\n\n    that._group.linkOff();\n\n    if (that._titleElement) {\n      that._clipRect.dispose();\n\n      that._titleElement = that._subtitleElement = that._clipRect = null;\n    }\n\n    that._params = that._group = that._options = null;\n  },\n  _updateOptions: function _updateOptions(options) {\n    this._options = options;\n    this._options.horizontalAlignment = parseHorizontalAlignment(options.horizontalAlignment, \"center\");\n    this._options.verticalAlignment = parseVerticalAlignment(options.verticalAlignment, \"top\");\n    this._options.margin = validateMargin(options.margin);\n  },\n  _updateStructure: function _updateStructure() {\n    var that = this;\n    var renderer = that._params.renderer;\n    var group = that._group;\n    var options = that._options;\n    var align = options.horizontalAlignment;\n\n    if (!that._titleElement) {\n      that._titleElement = renderer.text().append(group);\n      that._subtitleElement = renderer.text();\n      that._clipRect = renderer.clipRect();\n      group.attr({\n        \"clip-path\": that._clipRect.id\n      });\n    }\n\n    that._titleElement.attr({\n      align: align,\n      \"class\": options.cssClass\n    });\n\n    that._subtitleElement.attr({\n      align: align,\n      \"class\": options.subtitle.cssClass\n    });\n\n    group.linkAppend();\n    hasText(options.subtitle.text) ? that._subtitleElement.append(group) : that._subtitleElement.remove();\n  },\n  _updateTexts: function _updateTexts() {\n    var that = this;\n    var options = that._options;\n    var subtitleOptions = options.subtitle;\n    var titleElement = that._titleElement;\n    var subtitleElement = that._subtitleElement;\n    var testText = \"A\";\n    var titleBox;\n    var y;\n    titleElement.attr({\n      text: testText,\n      y: 0\n    }).css(_patchFontOptions(options.font));\n    titleBox = titleElement.getBBox();\n    that._baseLineCorrection = titleBox.height + titleBox.y;\n    titleElement.attr({\n      text: options.text\n    });\n    titleBox = titleElement.getBBox();\n    y = -titleBox.y;\n    titleElement.attr({\n      y: y\n    });\n\n    if (hasText(subtitleOptions.text)) {\n      subtitleElement.attr({\n        text: subtitleOptions.text,\n        y: 0\n      }).css(_patchFontOptions(subtitleOptions.font));\n    }\n  },\n  _shiftSubtitle: function _shiftSubtitle() {\n    var that = this;\n\n    var titleBox = that._titleElement.getBBox();\n\n    var element = that._subtitleElement;\n    var offset = that._options.subtitle.offset;\n    element.move(0, titleBox.y + titleBox.height - element.getBBox().y - offset);\n  },\n  _updateBoundingRectAlignment: function _updateBoundingRectAlignment() {\n    var boundingRect = this._boundingRect;\n    var options = this._options;\n    boundingRect.verticalAlignment = options.verticalAlignment;\n    boundingRect.horizontalAlignment = options.horizontalAlignment;\n    boundingRect.cutLayoutSide = options.verticalAlignment;\n    boundingRect.cutSide = \"vertical\";\n    boundingRect.position = {\n      horizontal: options.horizontalAlignment,\n      vertical: options.verticalAlignment\n    };\n  },\n  hasText: function hasText() {\n    return this._hasText;\n  },\n  update: function update(themeOptions, userOptions) {\n    var that = this;\n    var options = extend(true, {}, themeOptions, processTitleOptions(userOptions));\n\n    var _hasText = hasText(options.text);\n\n    var isLayoutChanged = _hasText || _hasText !== that._hasText;\n    that._baseLineCorrection = 0;\n\n    that._updateOptions(options);\n\n    that._boundingRect = {};\n\n    if (_hasText) {\n      that._updateStructure();\n\n      that._updateTexts();\n    } else {\n      that._group.linkRemove();\n    }\n\n    that._updateBoundingRect();\n\n    that._updateBoundingRectAlignment();\n\n    that._hasText = _hasText;\n    return isLayoutChanged;\n  },\n  draw: function draw(width, height) {\n    var that = this;\n\n    if (that._hasText) {\n      that._group.linkAppend();\n\n      that._correctTitleLength(width);\n\n      if (that._group.getBBox().height > height) {\n        this.freeSpace();\n      }\n    }\n\n    return that;\n  },\n  probeDraw: function probeDraw(width, height) {\n    this.draw(width, height);\n    return this;\n  },\n  _correctTitleLength: function _correctTitleLength(width) {\n    var that = this;\n    var options = that._options;\n    var margin = options.margin;\n    var maxWidth = width - margin.left - margin.right;\n    var placeholderSize = options.placeholderSize;\n    processTitleLength(that._titleElement, options.text, maxWidth, options, placeholderSize);\n\n    if (that._subtitleElement) {\n      if (_Number(placeholderSize) > 0) {\n        placeholderSize -= that._titleElement.getBBox().height;\n      }\n\n      processTitleLength(that._subtitleElement, options.subtitle.text, maxWidth, options.subtitle, placeholderSize);\n\n      that._shiftSubtitle();\n    }\n\n    that._updateBoundingRect();\n\n    var _this$getCorrectedLay = this.getCorrectedLayoutOptions(),\n        x = _this$getCorrectedLay.x,\n        y = _this$getCorrectedLay.y,\n        height = _this$getCorrectedLay.height;\n\n    this._clipRect.attr({\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    });\n  },\n  getLayoutOptions: function getLayoutOptions() {\n    return this._boundingRect || null;\n  },\n  shift: function shift(x, y) {\n    var that = this;\n    var box = that.getLayoutOptions();\n\n    that._group.move(x - box.x, y - box.y);\n\n    return that;\n  },\n  _updateBoundingRect: function _updateBoundingRect() {\n    var that = this;\n    var options = that._options;\n    var margin = options.margin;\n    var boundingRect = that._boundingRect;\n    var box;\n    box = that._hasText ? that._group.getBBox() : {\n      width: 0,\n      height: 0,\n      x: 0,\n      y: 0,\n      isEmpty: true\n    };\n\n    if (!box.isEmpty) {\n      box.height += margin.top + margin.bottom - that._baseLineCorrection;\n      box.width += margin.left + margin.right;\n      box.x -= margin.left;\n      box.y += that._baseLineCorrection - margin.top;\n    }\n\n    if (options.placeholderSize > 0) {\n      box.height = options.placeholderSize;\n    }\n\n    boundingRect.height = box.height;\n    boundingRect.width = box.width;\n    boundingRect.x = box.x;\n    boundingRect.y = box.y;\n  },\n  getCorrectedLayoutOptions: function getCorrectedLayoutOptions() {\n    var srcBox = this.getLayoutOptions();\n    var correction = this._baseLineCorrection;\n    return extend({}, srcBox, {\n      y: srcBox.y - correction,\n      height: srcBox.height + correction\n    });\n  },\n  layoutOptions: function layoutOptions() {\n    if (!this._hasText) {\n      return null;\n    }\n\n    return {\n      horizontalAlignment: this._boundingRect.horizontalAlignment,\n      verticalAlignment: this._boundingRect.verticalAlignment,\n      priority: 0\n    };\n  },\n  measure: function measure(size) {\n    this.draw(size[0], size[1]);\n    return [this._boundingRect.width, this._boundingRect.height];\n  },\n  move: function move(rect, fitRect) {\n    var boundingRect = this._boundingRect;\n\n    if (checkRect(rect, boundingRect)) {\n      this.shift(fitRect[0], fitRect[1]);\n    } else {\n      this.shift(Math.round(rect[0]), Math.round(rect[1]));\n    }\n  },\n  freeSpace: function freeSpace() {\n    var that = this;\n\n    that._params.incidentOccurred(\"W2103\");\n\n    that._group.linkRemove();\n\n    that._boundingRect.width = that._boundingRect.height = 0;\n  },\n  getOptions: function getOptions() {\n    return this._options;\n  },\n  changeLink: function changeLink(root) {\n    this._group.linkRemove();\n\n    this._group.linkOn(root, \"title\");\n  }\n});\nexports.Title = Title;\n\nfunction processTitleOptions(options) {\n  var newOptions = _isString(options) ? {\n    text: options\n  } : options || {};\n  newOptions.subtitle = _isString(newOptions.subtitle) ? {\n    text: newOptions.subtitle\n  } : newOptions.subtitle || {};\n  return newOptions;\n}\n\nexports.plugin = {\n  name: \"title\",\n  init: function init() {\n    var that = this;\n    that._title = new exports.Title({\n      renderer: that._renderer,\n      cssClass: that._rootClassPrefix + \"-title\",\n      incidentOccurred: that._incidentOccurred\n    });\n\n    that._layout.add(that._title);\n  },\n  dispose: function dispose() {\n    this._title.dispose();\n\n    this._title = null;\n  },\n  customize: function customize(constructor) {\n    constructor.addChange({\n      code: \"TITLE\",\n      handler: function handler() {\n        if (this._title.update(this._themeManager.theme(\"title\"), this.option(\"title\"))) {\n          this._change([\"LAYOUT\"]);\n        }\n      },\n      isThemeDependent: true,\n      option: \"title\",\n      isOptionChange: true\n    });\n  },\n  fontFields: [\"title.font\", \"title.subtitle.font\"]\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/core/title.js"],"names":["_Number","_isString","require","extend","_patchFontOptions","parseHorizontalAlignment","parseVerticalAlignment","DEFAULT_MARGIN","text","String","elem","value","margin","result","left","top","right","bottom","pickMarginValue","rect","boundingRect","params","cssClass","Title","dispose","that","_updateOptions","options","validateMargin","_updateStructure","renderer","group","align","id","hasText","_updateTexts","subtitleOptions","titleElement","subtitleElement","testText","y","titleBox","_shiftSubtitle","element","offset","_updateBoundingRectAlignment","horizontal","vertical","verticalAlignment","update","processTitleOptions","_hasText","isLayoutChanged","draw","probeDraw","_correctTitleLength","maxWidth","width","placeholderSize","processTitleLength","_this$getCorrectedLay","x","height","getLayoutOptions","shift","box","_updateBoundingRect","isEmpty","getCorrectedLayoutOptions","srcBox","correction","layoutOptions","horizontalAlignment","priority","measure","size","move","checkRect","fitRect","Math","freeSpace","getOptions","changeLink","exports","newOptions","subtitle","name","init","incidentOccurred","_incidentOccurred","customize","constructor","code","handler","isThemeDependent","option","isOptionChange","fontFields"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/core/title.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _Number = Number;\r\nvar _isString = require(\"../../core/utils/type\").isString;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar _patchFontOptions = require(\"./utils\").patchFontOptions;\r\nvar parseHorizontalAlignment = require(\"./utils\").enumParser([\"left\", \"center\", \"right\"]);\r\nvar parseVerticalAlignment = require(\"./utils\").enumParser([\"top\", \"bottom\"]);\r\nvar DEFAULT_MARGIN = 10;\r\n\r\nfunction hasText(text) {\r\n    return !!(text && String(text).length > 0)\r\n}\r\n\r\nfunction processTitleLength(elem, text, width, options, placeholderSize) {\r\n    if (elem.attr({\r\n            text: text\r\n        }).setMaxSize(width, placeholderSize, options).textChanged) {\r\n        elem.setTitle(text)\r\n    }\r\n}\r\n\r\nfunction pickMarginValue(value) {\r\n    return value >= 0 ? _Number(value) : DEFAULT_MARGIN\r\n}\r\n\r\nfunction validateMargin(margin) {\r\n    var result;\r\n    if (margin >= 0) {\r\n        result = {\r\n            left: _Number(margin),\r\n            top: _Number(margin),\r\n            right: _Number(margin),\r\n            bottom: _Number(margin)\r\n        }\r\n    } else {\r\n        margin = margin || {};\r\n        result = {\r\n            left: pickMarginValue(margin.left),\r\n            top: pickMarginValue(margin.top),\r\n            right: pickMarginValue(margin.right),\r\n            bottom: pickMarginValue(margin.bottom)\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\nfunction checkRect(rect, boundingRect) {\r\n    return rect[2] - rect[0] < boundingRect.width || rect[3] - rect[1] < boundingRect.height\r\n}\r\n\r\nfunction Title(params) {\r\n    this._params = params;\r\n    this._group = params.renderer.g().attr({\r\n        \"class\": params.cssClass\r\n    }).linkOn(params.root || params.renderer.root, \"title\");\r\n    this._hasText = false\r\n}\r\nextend(Title.prototype, require(\"./layout_element\").LayoutElement.prototype, {\r\n    dispose: function() {\r\n        var that = this;\r\n        that._group.linkRemove();\r\n        that._group.linkOff();\r\n        if (that._titleElement) {\r\n            that._clipRect.dispose();\r\n            that._titleElement = that._subtitleElement = that._clipRect = null\r\n        }\r\n        that._params = that._group = that._options = null\r\n    },\r\n    _updateOptions: function(options) {\r\n        this._options = options;\r\n        this._options.horizontalAlignment = parseHorizontalAlignment(options.horizontalAlignment, \"center\");\r\n        this._options.verticalAlignment = parseVerticalAlignment(options.verticalAlignment, \"top\");\r\n        this._options.margin = validateMargin(options.margin)\r\n    },\r\n    _updateStructure: function() {\r\n        var that = this;\r\n        var renderer = that._params.renderer;\r\n        var group = that._group;\r\n        var options = that._options;\r\n        var align = options.horizontalAlignment;\r\n        if (!that._titleElement) {\r\n            that._titleElement = renderer.text().append(group);\r\n            that._subtitleElement = renderer.text();\r\n            that._clipRect = renderer.clipRect();\r\n            group.attr({\r\n                \"clip-path\": that._clipRect.id\r\n            })\r\n        }\r\n        that._titleElement.attr({\r\n            align: align,\r\n            \"class\": options.cssClass\r\n        });\r\n        that._subtitleElement.attr({\r\n            align: align,\r\n            \"class\": options.subtitle.cssClass\r\n        });\r\n        group.linkAppend();\r\n        hasText(options.subtitle.text) ? that._subtitleElement.append(group) : that._subtitleElement.remove()\r\n    },\r\n    _updateTexts: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var subtitleOptions = options.subtitle;\r\n        var titleElement = that._titleElement;\r\n        var subtitleElement = that._subtitleElement;\r\n        var testText = \"A\";\r\n        var titleBox;\r\n        var y;\r\n        titleElement.attr({\r\n            text: testText,\r\n            y: 0\r\n        }).css(_patchFontOptions(options.font));\r\n        titleBox = titleElement.getBBox();\r\n        that._baseLineCorrection = titleBox.height + titleBox.y;\r\n        titleElement.attr({\r\n            text: options.text\r\n        });\r\n        titleBox = titleElement.getBBox();\r\n        y = -titleBox.y;\r\n        titleElement.attr({\r\n            y: y\r\n        });\r\n        if (hasText(subtitleOptions.text)) {\r\n            subtitleElement.attr({\r\n                text: subtitleOptions.text,\r\n                y: 0\r\n            }).css(_patchFontOptions(subtitleOptions.font))\r\n        }\r\n    },\r\n    _shiftSubtitle: function() {\r\n        var that = this;\r\n        var titleBox = that._titleElement.getBBox();\r\n        var element = that._subtitleElement;\r\n        var offset = that._options.subtitle.offset;\r\n        element.move(0, titleBox.y + titleBox.height - element.getBBox().y - offset)\r\n    },\r\n    _updateBoundingRectAlignment: function() {\r\n        var boundingRect = this._boundingRect;\r\n        var options = this._options;\r\n        boundingRect.verticalAlignment = options.verticalAlignment;\r\n        boundingRect.horizontalAlignment = options.horizontalAlignment;\r\n        boundingRect.cutLayoutSide = options.verticalAlignment;\r\n        boundingRect.cutSide = \"vertical\";\r\n        boundingRect.position = {\r\n            horizontal: options.horizontalAlignment,\r\n            vertical: options.verticalAlignment\r\n        }\r\n    },\r\n    hasText: function() {\r\n        return this._hasText\r\n    },\r\n    update: function(themeOptions, userOptions) {\r\n        var that = this;\r\n        var options = extend(true, {}, themeOptions, processTitleOptions(userOptions));\r\n        var _hasText = hasText(options.text);\r\n        var isLayoutChanged = _hasText || _hasText !== that._hasText;\r\n        that._baseLineCorrection = 0;\r\n        that._updateOptions(options);\r\n        that._boundingRect = {};\r\n        if (_hasText) {\r\n            that._updateStructure();\r\n            that._updateTexts()\r\n        } else {\r\n            that._group.linkRemove()\r\n        }\r\n        that._updateBoundingRect();\r\n        that._updateBoundingRectAlignment();\r\n        that._hasText = _hasText;\r\n        return isLayoutChanged\r\n    },\r\n    draw: function(width, height) {\r\n        var that = this;\r\n        if (that._hasText) {\r\n            that._group.linkAppend();\r\n            that._correctTitleLength(width);\r\n            if (that._group.getBBox().height > height) {\r\n                this.freeSpace()\r\n            }\r\n        }\r\n        return that\r\n    },\r\n    probeDraw: function(width, height) {\r\n        this.draw(width, height);\r\n        return this\r\n    },\r\n    _correctTitleLength: function(width) {\r\n        var that = this;\r\n        var options = that._options;\r\n        var margin = options.margin;\r\n        var maxWidth = width - margin.left - margin.right;\r\n        var placeholderSize = options.placeholderSize;\r\n        processTitleLength(that._titleElement, options.text, maxWidth, options, placeholderSize);\r\n        if (that._subtitleElement) {\r\n            if (_Number(placeholderSize) > 0) {\r\n                placeholderSize -= that._titleElement.getBBox().height\r\n            }\r\n            processTitleLength(that._subtitleElement, options.subtitle.text, maxWidth, options.subtitle, placeholderSize);\r\n            that._shiftSubtitle()\r\n        }\r\n        that._updateBoundingRect();\r\n        var _this$getCorrectedLay = this.getCorrectedLayoutOptions(),\r\n            x = _this$getCorrectedLay.x,\r\n            y = _this$getCorrectedLay.y,\r\n            height = _this$getCorrectedLay.height;\r\n        this._clipRect.attr({\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height\r\n        })\r\n    },\r\n    getLayoutOptions: function() {\r\n        return this._boundingRect || null\r\n    },\r\n    shift: function(x, y) {\r\n        var that = this;\r\n        var box = that.getLayoutOptions();\r\n        that._group.move(x - box.x, y - box.y);\r\n        return that\r\n    },\r\n    _updateBoundingRect: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var margin = options.margin;\r\n        var boundingRect = that._boundingRect;\r\n        var box;\r\n        box = that._hasText ? that._group.getBBox() : {\r\n            width: 0,\r\n            height: 0,\r\n            x: 0,\r\n            y: 0,\r\n            isEmpty: true\r\n        };\r\n        if (!box.isEmpty) {\r\n            box.height += margin.top + margin.bottom - that._baseLineCorrection;\r\n            box.width += margin.left + margin.right;\r\n            box.x -= margin.left;\r\n            box.y += that._baseLineCorrection - margin.top\r\n        }\r\n        if (options.placeholderSize > 0) {\r\n            box.height = options.placeholderSize\r\n        }\r\n        boundingRect.height = box.height;\r\n        boundingRect.width = box.width;\r\n        boundingRect.x = box.x;\r\n        boundingRect.y = box.y\r\n    },\r\n    getCorrectedLayoutOptions: function() {\r\n        var srcBox = this.getLayoutOptions();\r\n        var correction = this._baseLineCorrection;\r\n        return extend({}, srcBox, {\r\n            y: srcBox.y - correction,\r\n            height: srcBox.height + correction\r\n        })\r\n    },\r\n    layoutOptions: function() {\r\n        if (!this._hasText) {\r\n            return null\r\n        }\r\n        return {\r\n            horizontalAlignment: this._boundingRect.horizontalAlignment,\r\n            verticalAlignment: this._boundingRect.verticalAlignment,\r\n            priority: 0\r\n        }\r\n    },\r\n    measure: function(size) {\r\n        this.draw(size[0], size[1]);\r\n        return [this._boundingRect.width, this._boundingRect.height]\r\n    },\r\n    move: function(rect, fitRect) {\r\n        var boundingRect = this._boundingRect;\r\n        if (checkRect(rect, boundingRect)) {\r\n            this.shift(fitRect[0], fitRect[1])\r\n        } else {\r\n            this.shift(Math.round(rect[0]), Math.round(rect[1]))\r\n        }\r\n    },\r\n    freeSpace: function() {\r\n        var that = this;\r\n        that._params.incidentOccurred(\"W2103\");\r\n        that._group.linkRemove();\r\n        that._boundingRect.width = that._boundingRect.height = 0\r\n    },\r\n    getOptions: function() {\r\n        return this._options\r\n    },\r\n    changeLink: function(root) {\r\n        this._group.linkRemove();\r\n        this._group.linkOn(root, \"title\")\r\n    }\r\n});\r\nexports.Title = Title;\r\n\r\nfunction processTitleOptions(options) {\r\n    var newOptions = _isString(options) ? {\r\n        text: options\r\n    } : options || {};\r\n    newOptions.subtitle = _isString(newOptions.subtitle) ? {\r\n        text: newOptions.subtitle\r\n    } : newOptions.subtitle || {};\r\n    return newOptions\r\n}\r\nexports.plugin = {\r\n    name: \"title\",\r\n    init: function() {\r\n        var that = this;\r\n        that._title = new exports.Title({\r\n            renderer: that._renderer,\r\n            cssClass: that._rootClassPrefix + \"-title\",\r\n            incidentOccurred: that._incidentOccurred\r\n        });\r\n        that._layout.add(that._title)\r\n    },\r\n    dispose: function() {\r\n        this._title.dispose();\r\n        this._title = null\r\n    },\r\n    customize: function(constructor) {\r\n        constructor.addChange({\r\n            code: \"TITLE\",\r\n            handler: function() {\r\n                if (this._title.update(this._themeManager.theme(\"title\"), this.option(\"title\"))) {\r\n                    this._change([\"LAYOUT\"])\r\n                }\r\n            },\r\n            isThemeDependent: true,\r\n            option: \"title\",\r\n            isOptionChange: true\r\n        })\r\n    },\r\n    fontFields: [\"title.font\", \"title.subtitle.font\"]\r\n};\r\n"]},"metadata":{},"sourceType":"module"}