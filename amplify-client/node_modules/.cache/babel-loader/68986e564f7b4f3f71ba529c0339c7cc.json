{"ast":null,"code":"import _toConsumableArray from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { map } from '../operators/map';\nexport function fromEventPattern(addHandler, removeHandler, resultSelector) {\n  if (resultSelector) {\n    return fromEventPattern(addHandler, removeHandler).pipe(map(function (args) {\n      return isArray(args) ? resultSelector.apply(void 0, _toConsumableArray(args)) : resultSelector(args);\n    }));\n  }\n\n  return new Observable(function (subscriber) {\n    var handler = function handler() {\n      for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n        e[_key] = arguments[_key];\n      }\n\n      return subscriber.next(e.length === 1 ? e[0] : e);\n    };\n\n    var retValue;\n\n    try {\n      retValue = addHandler(handler);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    if (!isFunction(removeHandler)) {\n      return undefined;\n    }\n\n    return function () {\n      return removeHandler(handler, retValue);\n    };\n  });\n}","map":{"version":3,"sources":["../../../src/internal/observable/fromEventPattern.ts"],"names":[],"mappings":";AAAA,SAAA,UAAA,QAAA,eAAA;AACA,SAAA,OAAA,QAAA,iBAAA;AACA,SAAA,UAAA,QAAA,oBAAA;AAEA,SAAA,GAAA,QAAA,kBAAA;AAwIA,OAAM,SAAA,gBAAA,CAAA,UAAA,EAAA,aAAA,EAAA,cAAA,EAEoE;AAExE,MAAA,cAAA,EAAoB;AAElB,WAAO,gBAAgB,CAAA,UAAA,EAAhB,aAAgB,CAAhB,CAAA,IAAA,CACL,GAAG,CAAC,UAAA,IAAA,EAAI;AAAA,aAAI,OAAO,CAAP,IAAO,CAAP,GAAgB,cAAc,CAAd,KAAA,CAAA,KAAA,CAAA,EAAA,kBAAA,CAAhB,IAAgB,CAAA,CAAhB,GAA0C,cAAc,CAA5D,IAA4D,CAA5D;AADV,KACK,CADE,CAAP;AAGD;;AAED,SAAO,IAAA,UAAA,CAAwB,UAAA,UAAA,EAAa;AAC1C,QAAM,OAAO,GAAG,SAAV,OAAU,GAAA;AAAA,WAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAAI,CAAJ,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;AAAI,QAAA,CAAJ,CAAA,IAAA,CAAI,GAAJ,SAAA,CAAA,IAAA,CAAI;AAAJ;;AAAA,aAAe,UAAU,CAAV,IAAA,CAAgB,CAAC,CAAD,MAAA,KAAA,CAAA,GAAiB,CAAC,CAAlB,CAAkB,CAAlB,GAA/B,CAAe,CAAf;AAAhB,KAAA;;AAEA,QAAA,QAAA;;AACA,QAAI;AACF,MAAA,QAAQ,GAAG,UAAU,CAArB,OAAqB,CAArB;AADF,KAAA,CAEE,OAAA,GAAA,EAAY;AACZ,MAAA,UAAU,CAAV,KAAA,CAAA,GAAA;AACA,aAAA,SAAA;AACD;;AAED,QAAI,CAAC,UAAU,CAAf,aAAe,CAAf,EAAgC;AAC9B,aAAA,SAAA;AACD;;AAED,WAAO,YAAA;AAAA,aAAM,aAAa,CAAA,OAAA,EAAnB,QAAmB,CAAnB;AAAP,KAAA;AAfF,GAAO,CAAP;AAiBD","sourcesContent":["import { Observable } from '../Observable';\r\nimport { isArray } from '../util/isArray';\r\nimport { isFunction } from '../util/isFunction';\r\nimport { map } from '../operators/map';\r\nexport function fromEventPattern(addHandler, removeHandler, resultSelector) {\r\n    if (resultSelector) {\r\n        return fromEventPattern(addHandler, removeHandler).pipe(map(args => isArray(args) ? resultSelector(...args) : resultSelector(args)));\r\n    }\r\n    return new Observable(subscriber => {\r\n        const handler = (...e) => subscriber.next(e.length === 1 ? e[0] : e);\r\n        let retValue;\r\n        try {\r\n            retValue = addHandler(handler);\r\n        }\r\n        catch (err) {\r\n            subscriber.error(err);\r\n            return undefined;\r\n        }\r\n        if (!isFunction(removeHandler)) {\r\n            return undefined;\r\n        }\r\n        return () => removeHandler(handler, retValue);\r\n    });\r\n}\r\n//# sourceMappingURL=fromEventPattern.js.map"]},"metadata":{},"sourceType":"module"}