{"ast":null,"code":"/**\r\n * DevExtreme (ui/pager.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../core/renderer\");\n\nvar eventsEngine = require(\"../events/core/events_engine\");\n\nvar Class = require(\"../core/class\");\n\nvar stringUtils = require(\"../core/utils/string\");\n\nvar registerComponent = require(\"../core/component_registrator\");\n\nvar commonUtils = require(\"../core/utils/common\");\n\nvar each = require(\"../core/utils/iterator\").each;\n\nvar typeUtils = require(\"../core/utils/type\");\n\nvar extend = require(\"../core/utils/extend\").extend;\n\nvar clickEvent = require(\"../events/click\");\n\nvar pointerEvents = require(\"../events/pointer\");\n\nvar messageLocalization = require(\"../localization/message\");\n\nvar Widget = require(\"./widget/ui.widget\");\n\nvar SelectBox = require(\"./select_box\");\n\nvar NumberBox = require(\"./number_box\");\n\nvar eventUtils = require(\"../events/utils\");\n\nvar accessibility = require(\"./shared/accessibility\");\n\nvar PAGES_LIMITER = 4;\nvar PAGER_CLASS = \"dx-pager\";\nvar PAGER_PAGE_CLASS = \"dx-page\";\nvar PAGER_PAGE_CLASS_SELECTOR = \".\" + PAGER_PAGE_CLASS;\nvar PAGER_PAGES_CLASS = \"dx-pages\";\nvar LIGHT_MODE_CLASS = \"dx-light-mode\";\nvar LIGHT_PAGES_CLASS = \"dx-light-pages\";\nvar PAGER_PAGE_INDEX_CLASS = \"dx-page-index\";\nvar PAGER_PAGES_COUNT_CLASS = \"dx-pages-count\";\nvar PAGER_SELECTION_CLASS = \"dx-selection\";\nvar PAGER_PAGE_SEPARATOR_CLASS = \"dx-separator\";\nvar PAGER_PAGE_SIZES_CLASS = \"dx-page-sizes\";\nvar PAGER_PAGE_SIZE_CLASS = \"dx-page-size\";\nvar PAGER_PAGE_SIZE_CLASS_SELECTOR = \".\" + PAGER_PAGE_SIZE_CLASS;\nvar PAGER_NAVIGATE_BUTTON = \"dx-navigate-button\";\nvar PAGER_PREV_BUTTON_CLASS = \"dx-prev-button\";\nvar PAGER_NEXT_BUTTON_CLASS = \"dx-next-button\";\nvar PAGER_INFO_CLASS = \"dx-info\";\nvar PAGER_INFO_TEXT_CLASS = \"dx-info-text\";\nvar PAGER_BUTTON_DISABLE_CLASS = \"dx-button-disable\";\nvar Page = Class.inherit({\n  ctor: function ctor(value, index) {\n    var that = this;\n    that.index = index;\n    that._$page = $(\"<div>\").text(value).addClass(PAGER_PAGE_CLASS);\n  },\n  value: function value(_value) {\n    var that = this;\n\n    if (typeUtils.isDefined(_value)) {\n      that._$page.text(_value);\n    } else {\n      var text = that._$page.text();\n\n      if (typeUtils.isNumeric(text)) {\n        return parseInt(text);\n      } else {\n        return text;\n      }\n    }\n  },\n  element: function element() {\n    return this._$page;\n  },\n  select: function select(value) {\n    this._$page.toggleClass(PAGER_SELECTION_CLASS, value);\n  },\n  render: function render(rootElement, rtlEnabled) {\n    rtlEnabled ? this._$page.prependTo(rootElement) : this._$page.appendTo(rootElement);\n  }\n});\nvar Pager = Widget.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      visible: true,\n      pagesNavigatorVisible: \"auto\",\n      pageIndex: 1,\n      maxPagesCount: 10,\n      pageCount: 10,\n      totalCount: 0,\n      pageSize: 5,\n      showPageSizes: true,\n      pageSizes: [5, 10],\n      hasKnownLastPage: true,\n      showNavigationButtons: false,\n      showInfo: false,\n      infoText: messageLocalization.getFormatter(\"dxPager-infoText\"),\n      pagesCountText: messageLocalization.getFormatter(\"dxPager-pagesCountText\"),\n      rtlEnabled: false,\n      lightModeEnabled: false,\n      pageIndexChanged: commonUtils.noop,\n      pageSizeChanged: commonUtils.noop\n    });\n  },\n  _toggleVisibility: function _toggleVisibility(value) {\n    var $element = this.$element();\n\n    if ($element) {\n      $element.css(\"display\", value ? \"\" : \"none\");\n    }\n  },\n  _getPages: function _getPages(currentPage, count) {\n    var pages = [];\n    var showMoreButton = !this.option(\"hasKnownLastPage\");\n    var firstValue;\n    var i;\n\n    if (count > 0 || showMoreButton) {\n      if (count <= this.option(\"maxPagesCount\")) {\n        for (i = 1; i <= count; i++) {\n          pages.push(new Page(i, i - 1));\n        }\n\n        if (showMoreButton) {\n          pages.push(new Page(\">\", i - 1));\n        }\n      } else {\n        pages.push(new Page(1, 0));\n        firstValue = currentPage ? currentPage.value() - currentPage.index : 1;\n\n        for (i = 1; i <= PAGES_LIMITER; i++) {\n          pages.push(new Page(firstValue + i, i));\n        }\n\n        pages.push(new Page(count, PAGES_LIMITER + 1));\n\n        if (showMoreButton) {\n          pages.push(new Page(\">\", PAGES_LIMITER + 1));\n        }\n      }\n    }\n\n    return pages;\n  },\n  _getPageByValue: function _getPageByValue(value) {\n    var that = this;\n    var page;\n    var i;\n\n    for (i = 0; i < that._pages.length; i++) {\n      page = that._pages[i];\n\n      if (page.value() === value) {\n        return page;\n      }\n    }\n  },\n  _processSelectedPage: function _processSelectedPage(maxPagesCount, pageIndex, pageCount) {\n    var that = this;\n    var isPageIndexValid = false;\n    var selectedPageIndex;\n\n    if (that._pages) {\n      each(that._pages, function (key, page) {\n        if (pageIndex === page.value()) {\n          isPageIndexValid = true;\n        }\n      });\n\n      if (!isPageIndexValid) {\n        that.selectedPage = null;\n      }\n    }\n\n    if (typeUtils.isDefined(that.selectedPage)) {\n      if (pageIndex === pageCount && pageCount > maxPagesCount && that.selectedPage.index !== PAGES_LIMITER + 1) {\n        that.selectedPage.index = PAGES_LIMITER + 1;\n      }\n    } else {\n      if (pageIndex > PAGES_LIMITER && pageIndex < pageCount) {\n        selectedPageIndex = pageCount - PAGES_LIMITER < pageIndex ? PAGES_LIMITER - (pageCount - pageIndex) + 1 : 2;\n        that.selectedPage = new Page(pageIndex, selectedPageIndex);\n      }\n    }\n  },\n  _selectPageByValue: function _selectPageByValue(value) {\n    var that = this;\n    var i;\n\n    var page = that._getPageByValue(value);\n\n    var pages = that._pages;\n    var pagesLength = pages.length;\n    var prevPage;\n    var nextPage;\n    var morePage;\n\n    if (!typeUtils.isDefined(page)) {\n      return;\n    }\n\n    prevPage = that._pages[page.index - 1];\n    nextPage = that._pages[page.index + 1];\n\n    if (nextPage && \">\" === nextPage.value()) {\n      morePage = nextPage;\n      nextPage = void 0;\n      pagesLength--;\n      pages.pop();\n    }\n\n    if (that.selectedPage) {\n      that.selectedPage.select(false);\n    }\n\n    page.select(true);\n    that.selectedPage = page;\n\n    if (nextPage && nextPage.value() - value > 1) {\n      if (0 !== page.index) {\n        prevPage.value(value + 1);\n\n        that._pages.splice(page.index, 1);\n\n        that._pages.splice(page.index - 1, 0, page);\n\n        that._pages[page.index].index = page.index;\n        page.index = page.index - 1;\n\n        for (i = page.index - 1; i > 0; i--) {\n          that._pages[i].value(that._pages[i + 1].value() - 1);\n        }\n      } else {\n        for (i = 0; i < pagesLength - 1; i++) {\n          that._pages[i].value(i + 1);\n        }\n      }\n    }\n\n    if (prevPage && value - prevPage.value() > 1) {\n      if (page.index !== pagesLength - 1) {\n        nextPage.value(value - 1);\n\n        that._pages.splice(page.index, 1);\n\n        that._pages.splice(page.index + 1, 0, page);\n\n        that._pages[page.index].index = page.index;\n        page.index = page.index + 1;\n\n        for (i = page.index + 1; i < pagesLength - 1; i++) {\n          that._pages[i].value(that._pages[i - 1].value() + 1);\n        }\n      } else {\n        for (i = 1; i <= pagesLength - 2; i++) {\n          that._pages[pagesLength - 1 - i].value(that._pages[pagesLength - 1].value() - i);\n        }\n      }\n    }\n\n    if (morePage) {\n      pages.push(morePage);\n    }\n  },\n  _updatePagesTabIndices: function _updatePagesTabIndices() {\n    var _this = this;\n\n    var $selectedPage = this.selectedPage._$page;\n\n    var updatePageIndices = function updatePageIndices() {\n      var buttons = $(_this.element()).find(\"[role=button]:not(.dx-button-disable)\");\n      each(buttons, function (_, element) {\n        return $(element).attr(\"tabindex\", 0);\n      });\n      eventsEngine.off($selectedPage, \"focus\", updatePageIndices);\n    };\n\n    eventsEngine.on($selectedPage, \"focus\", updatePageIndices);\n  },\n  _nextPage: function _nextPage(direction) {\n    var pageIndex = this.option(\"pageIndex\");\n    var pageCount = this.option(\"pageCount\");\n\n    if (typeUtils.isDefined(pageIndex)) {\n      pageIndex = \"next\" === direction ? ++pageIndex : --pageIndex;\n\n      if (pageIndex > 0 && pageIndex <= pageCount) {\n        this.option(\"pageIndex\", pageIndex);\n      }\n    }\n  },\n  _wrapClickAction: function _wrapClickAction(action) {\n    var _this2 = this;\n\n    return function (e) {\n      if (\"dxpointerup\" === e.type) {\n        _this2._pointerUpHappened = true;\n      } else {\n        if (_this2._pointerUpHappened) {\n          _this2._pointerUpHappened = false;\n          return;\n        }\n      }\n\n      action({\n        event: e\n      });\n    };\n  },\n  _renderPages: function _renderPages(pages) {\n    var that = this;\n    var $separator;\n    var pagesLength = pages.length;\n\n    var clickPagesIndexAction = that._createAction(function (args) {\n      var e = args.event;\n      var pageNumber = $(e.target).text();\n      var pageIndex = \">\" === pageNumber ? that.option(\"pageCount\") + 1 : Number(pageNumber);\n      that.option(\"pageIndex\", pageIndex);\n    });\n\n    var page;\n\n    if (pagesLength > 1) {\n      that._pageClickHandler = this._wrapClickAction(clickPagesIndexAction);\n      eventsEngine.on(that._$pagesChooser, eventUtils.addNamespace([pointerEvents.up, clickEvent.name], that.Name + \"Pages\"), PAGER_PAGE_CLASS_SELECTOR, that._pageClickHandler);\n      accessibility.registerKeyboardAction(\"pager\", that, that._$pagesChooser, PAGER_PAGE_CLASS_SELECTOR, clickPagesIndexAction);\n    }\n\n    for (var i = 0; i < pagesLength; i++) {\n      page = pages[i];\n      page.render(that._$pagesChooser, that.option(\"rtlEnabled\"));\n      that.setAria({\n        role: \"button\",\n        label: \"Page \" + page.value()\n      }, page.element());\n      accessibility.setTabIndex(that, page.element());\n\n      if (pages[i + 1] && pages[i + 1].value() - page.value() > 1) {\n        $separator = $(\"<div>\").text(\". . .\").addClass(PAGER_PAGE_SEPARATOR_CLASS);\n        that.option(\"rtlEnabled\") ? $separator.prependTo(that._$pagesChooser) : $separator.appendTo(that._$pagesChooser);\n      }\n    }\n  },\n  _calculateLightPagesWidth: function _calculateLightPagesWidth($pageIndex, pageCount) {\n    return Number($pageIndex.css(\"minWidth\").replace(\"px\", \"\")) + 10 * pageCount.toString().length;\n  },\n  _renderLightPages: function _renderLightPages() {\n    var that = this;\n    var pageCount = this.option(\"pageCount\");\n    var pageIndex = this.option(\"pageIndex\");\n    var $pageCount;\n    var $pageIndex;\n\n    var clickAction = that._createAction(function () {\n      that.option(\"pageIndex\", pageCount);\n    });\n\n    var pagesCountText = this.option(\"pagesCountText\");\n    var $container = $(\"<div>\").addClass(LIGHT_PAGES_CLASS).appendTo(this._$pagesChooser);\n    $pageIndex = $(\"<div>\").addClass(PAGER_PAGE_INDEX_CLASS).appendTo($container);\n    that._pageIndexEditor = that._createComponent($pageIndex, NumberBox, {\n      value: pageIndex,\n      min: 1,\n      max: pageCount,\n      width: that._calculateLightPagesWidth($pageIndex, pageCount),\n      onValueChanged: function onValueChanged(e) {\n        that.option(\"pageIndex\", e.value);\n      }\n    });\n    $(\"<span>\").text(pagesCountText).addClass(PAGER_INFO_TEXT_CLASS + \" \" + PAGER_INFO_CLASS).appendTo($container);\n    $pageCount = $(\"<span>\").addClass(PAGER_PAGES_COUNT_CLASS).text(pageCount);\n    eventsEngine.on($pageCount, eventUtils.addNamespace(clickEvent.name, that.Name + \"PagesCount\"), function (e) {\n      clickAction({\n        event: e\n      });\n    });\n    accessibility.registerKeyboardAction(\"pager\", that, $pageCount, void 0, clickAction);\n    $pageCount.appendTo($container);\n    that.setAria({\n      role: \"button\",\n      label: \"Navigates to the last page\"\n    }, $pageCount);\n  },\n  _renderPagesChooser: function _renderPagesChooser() {\n    var that = this;\n    var lightModeEnabled = that.option(\"lightModeEnabled\");\n    var pagesNavigatorVisible = that.option(\"pagesNavigatorVisible\");\n    var $element = that.$element();\n    that._$pagesChooser && that._$pagesChooser.remove();\n\n    if (!pagesNavigatorVisible) {\n      return;\n    }\n\n    if (that._pages && 0 === that._pages.length) {\n      that.selectedPage = null;\n      return;\n    }\n\n    that._$pagesChooser = $(\"<div>\").addClass(PAGER_PAGES_CLASS).appendTo($element);\n\n    if (\"auto\" === pagesNavigatorVisible) {\n      that._$pagesChooser.css(\"visibility\", 1 === that.option(\"pageCount\") ? \"hidden\" : \"\");\n    }\n\n    if (!lightModeEnabled) {\n      that._renderInfo();\n    }\n\n    that._renderNavigateButton(\"prev\");\n\n    if (lightModeEnabled) {\n      that._renderLightPages();\n    } else {\n      that._renderPages(that._pages);\n    }\n\n    that._renderNavigateButton(\"next\");\n\n    that._updatePagesChooserWidth();\n  },\n  _renderPageSizes: function _renderPageSizes() {\n    var that = this;\n    var i;\n    var pageSizes = that.option(\"pageSizes\");\n    var pagesSizesLength = pageSizes && pageSizes.length;\n    var pageSizeValue;\n    var currentPageSize = that.option(\"pageSize\");\n    var $pageSize;\n\n    var clickPagesSizeAction = that._createAction(function (args) {\n      var e = args.event;\n      pageSizeValue = parseInt($(e.target).text());\n      that.option(\"pageSize\", pageSizeValue);\n    });\n\n    eventsEngine.on(that._$pagesSizeChooser, eventUtils.addNamespace(clickEvent.name, that.Name + \"PageSize\"), PAGER_PAGE_SIZE_CLASS_SELECTOR, function (e) {\n      clickPagesSizeAction({\n        event: e\n      });\n    });\n    accessibility.registerKeyboardAction(\"pager\", that, that._$pagesSizeChooser, PAGER_PAGE_SIZE_CLASS_SELECTOR, clickPagesSizeAction);\n\n    for (i = 0; i < pagesSizesLength; i++) {\n      $pageSize = $(\"<div>\").text(pageSizes[i]).addClass(PAGER_PAGE_SIZE_CLASS);\n      that.setAria({\n        role: \"button\",\n        label: \"Display \" + pageSizes[i] + \" items on page\"\n      }, $pageSize);\n      accessibility.setTabIndex(that, $pageSize);\n\n      if (currentPageSize === pageSizes[i]) {\n        $pageSize.addClass(PAGER_SELECTION_CLASS);\n      }\n\n      that._$pagesSizeChooser.append($pageSize);\n    }\n  },\n  _calculateLightPageSizesWidth: function _calculateLightPageSizesWidth(pageSizes) {\n    return Number(this._$pagesSizeChooser.css(\"minWidth\").replace(\"px\", \"\")) + 10 * Math.max.apply(Math, pageSizes).toString().length;\n  },\n  _renderLightPageSizes: function _renderLightPageSizes() {\n    var that = this;\n    var $editor;\n    var pageSizes = that.option(\"pageSizes\");\n    $editor = $(\"<div>\").appendTo(that._$pagesSizeChooser);\n    that._pageSizeEditor = that._createComponent($editor, SelectBox, {\n      dataSource: pageSizes,\n      value: that.option(\"pageSize\"),\n      onSelectionChanged: function onSelectionChanged(e) {\n        that.option(\"pageSize\", e.selectedItem);\n      },\n      width: that._calculateLightPageSizesWidth(pageSizes)\n    });\n  },\n  _renderPagesSizeChooser: function _renderPagesSizeChooser() {\n    var that = this;\n    var pageSizes = that.option(\"pageSizes\");\n    var showPageSizes = that.option(\"showPageSizes\");\n    var pagesSizesLength = pageSizes && pageSizes.length;\n    var $element = that.$element();\n    that._$pagesSizeChooser && that._$pagesSizeChooser.remove();\n\n    if (!showPageSizes || !pagesSizesLength) {\n      return;\n    }\n\n    that._$pagesSizeChooser = $(\"<div>\").addClass(PAGER_PAGE_SIZES_CLASS).appendTo($element);\n\n    if (that.option(\"lightModeEnabled\")) {\n      that._renderLightPageSizes();\n    } else {\n      that._renderPageSizes();\n    }\n\n    that._pagesSizeChooserWidth = that._$pagesSizeChooser.width();\n  },\n  _renderInfo: function _renderInfo() {\n    var infoText = this.option(\"infoText\");\n\n    if (this.option(\"showInfo\") && typeUtils.isDefined(infoText)) {\n      this._$info = $(\"<div>\").css(\"display\", this._isInfoHide ? \"none\" : \"\").addClass(PAGER_INFO_CLASS).text(stringUtils.format(infoText, this.selectedPage && this.selectedPage.value(), this.option(\"pageCount\"), this.option(\"totalCount\"))).appendTo(this._$pagesChooser);\n\n      if (!this._isInfoHide) {\n        this._infoWidth = this._$info.outerWidth(true);\n      }\n    }\n  },\n  _renderNavigateButton: function _renderNavigateButton(direction) {\n    var that = this;\n\n    var clickAction = that._createAction(function () {\n      that._nextPage(direction);\n    });\n\n    var $button;\n\n    if (that.option(\"showNavigationButtons\") || that.option(\"lightModeEnabled\")) {\n      $button = $(\"<div>\").addClass(PAGER_NAVIGATE_BUTTON);\n      eventsEngine.on($button, eventUtils.addNamespace([pointerEvents.up, clickEvent.name], that.Name + \"Pages\"), that._wrapClickAction(clickAction));\n      accessibility.registerKeyboardAction(\"pager\", that, $button, void 0, clickAction);\n      that.setAria({\n        role: \"button\",\n        label: \"prev\" === direction ? \"Previous page\" : \" Next page\"\n      }, $button);\n      accessibility.setTabIndex(that, $button);\n\n      if (that.option(\"rtlEnabled\")) {\n        $button.addClass(\"prev\" === direction ? PAGER_NEXT_BUTTON_CLASS : PAGER_PREV_BUTTON_CLASS);\n        $button.prependTo(this._$pagesChooser);\n      } else {\n        $button.addClass(\"prev\" === direction ? PAGER_PREV_BUTTON_CLASS : PAGER_NEXT_BUTTON_CLASS);\n        $button.appendTo(this._$pagesChooser);\n      }\n    }\n  },\n  _renderContentImpl: function _renderContentImpl() {\n    this.$element().toggleClass(LIGHT_MODE_CLASS, this.option(\"lightModeEnabled\"));\n\n    this._toggleVisibility(this.option(\"visible\"));\n\n    this._updatePageSizes(true);\n\n    this._updatePages(true);\n\n    accessibility.restoreFocus(this);\n  },\n  _initMarkup: function _initMarkup() {\n    var $element = this.$element();\n    $element.addClass(PAGER_CLASS);\n    var $pageSize = $(\"<div>\").addClass(PAGER_PAGE_CLASS);\n    this._$pagesChooser = $(\"<div>\").addClass(PAGER_PAGES_CLASS).append($pageSize).appendTo($element);\n  },\n  _render: function _render() {\n    this.option().lightModeEnabled = false;\n    this.callBase();\n\n    this._updateLightMode();\n  },\n  _updatePageSizes: function _updatePageSizes(forceRender) {\n    var lightModeEnabled = this.option(\"lightModeEnabled\");\n    var pageSize = this.option(\"pageSize\");\n    var pageSizes = this.option(\"pageSizes\");\n\n    if (lightModeEnabled) {\n      this._pageSizeEditor && this._pageSizeEditor.option({\n        value: pageSize,\n        dataSource: pageSizes,\n        width: this._calculateLightPageSizesWidth(pageSizes)\n      });\n    }\n\n    if (!lightModeEnabled || forceRender) {\n      this._renderPagesSizeChooser();\n    }\n  },\n  _updatePages: function _updatePages(forceRender) {\n    var pageCount = this.option(\"pageCount\");\n    var pageIndex = this.option(\"pageIndex\");\n    var lightModeEnabled = this.option(\"lightModeEnabled\");\n\n    if (!lightModeEnabled) {\n      this._processSelectedPage(this.option(\"maxPagesCount\"), pageIndex, pageCount);\n\n      this._pages = this._getPages(this.selectedPage, pageCount);\n\n      this._selectPageByValue(pageIndex);\n    } else {\n      this._pageIndexEditor && this._pageIndexEditor.option({\n        value: pageIndex,\n        width: this._calculateLightPagesWidth(this._pageIndexEditor.$element(), pageCount)\n      });\n    }\n\n    if (!lightModeEnabled || forceRender) {\n      this._renderPagesChooser();\n    }\n\n    this._updateButtonsState(pageIndex);\n  },\n  _isPageIndexInvalid: function _isPageIndexInvalid(direction, pageIndex) {\n    var isNextDirection = \"next\" === direction;\n    var rtlEnabled = this.option(\"rtlEnabled\");\n\n    if (rtlEnabled && isNextDirection || !rtlEnabled && !isNextDirection) {\n      return pageIndex <= 1;\n    }\n\n    return pageIndex >= this.option(\"pageCount\");\n  },\n  _updateButtonsState: function _updateButtonsState(pageIndex) {\n    var nextButton = this.$element().find(\".\" + PAGER_NEXT_BUTTON_CLASS);\n    var prevButton = this.$element().find(\".\" + PAGER_PREV_BUTTON_CLASS);\n    nextButton.toggleClass(PAGER_BUTTON_DISABLE_CLASS, this._isPageIndexInvalid(\"next\", pageIndex));\n    prevButton.toggleClass(PAGER_BUTTON_DISABLE_CLASS, this._isPageIndexInvalid(\"prev\", pageIndex));\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"visible\":\n        this._toggleVisibility(args.value);\n\n        break;\n\n      case \"pageIndex\":\n        var pageIndexChanged = this.option(\"pageIndexChanged\");\n\n        if (pageIndexChanged) {\n          pageIndexChanged(args.value);\n        }\n\n        this._updatePages();\n\n        break;\n\n      case \"maxPagesCount\":\n      case \"pageCount\":\n      case \"totalCount\":\n      case \"hasKnownLastPage\":\n      case \"pagesNavigatorVisible\":\n      case \"showNavigationButtons\":\n        this._updatePages();\n\n        break;\n\n      case \"pageSize\":\n        var pageSizeChanged = this.option(\"pageSizeChanged\");\n\n        if (pageSizeChanged) {\n          pageSizeChanged(args.value);\n        }\n\n        this._updatePageSizes();\n\n        break;\n\n      case \"pageSizes\":\n        this._updatePageSizes();\n\n        break;\n\n      case \"lightModeEnabled\":\n        this._renderContentImpl();\n\n        !args.value && this._updateLightMode();\n        break;\n\n      default:\n        this._invalidate();\n\n    }\n  },\n  _clean: function _clean() {\n    if (this._$pagesChooser) {\n      eventsEngine.off(this._$pagesChooser, eventUtils.addNamespace([pointerEvents.up, clickEvent.name], this.Name + \"Pages\"), PAGER_PAGE_CLASS_SELECTOR, this._pageClickHandler);\n      accessibility.registerKeyboardAction(\"pager\", this, this._$pagesChooser, PAGER_PAGE_CLASS_SELECTOR, this._pageKeyDownHandler);\n    }\n\n    this.callBase();\n  },\n  _getMinPagerWidth: function _getMinPagerWidth() {\n    var pagesChooserWidth = typeUtils.isDefined(this._pagesChooserWidth) ? this._pagesChooserWidth : 0;\n    var pagesSizeChooserWidth = typeUtils.isDefined(this._pagesSizeChooserWidth) ? this._pagesSizeChooserWidth : 0;\n    return pagesChooserWidth + pagesSizeChooserWidth;\n  },\n  _updatePagesChooserWidth: commonUtils.deferUpdater(function () {\n    var lastPageWidth = this._pages && this._pages.length > 0 ? this._pages[this._pages.length - 1]._$page.width() : 0;\n    this._pagesChooserWidth = this._$pagesChooser.width() + lastPageWidth;\n  }),\n  _updateLightMode: commonUtils.deferUpdater(function () {\n    var that = this;\n    var width = this.$element().width();\n    var infoWidth = typeUtils.isDefined(this._infoWidth) ? this._infoWidth : 0;\n    commonUtils.deferRender(function () {\n      if (that._isInfoHide && width > that._getMinPagerWidth() + infoWidth) {\n        that._$info.show();\n\n        that._updatePagesChooserWidth();\n\n        that._isInfoHide = false;\n      }\n\n      if (!that._isInfoHide && width > that._getMinPagerWidth() - infoWidth && width < that._getMinPagerWidth()) {\n        that._$info.hide();\n\n        that._updatePagesChooserWidth();\n\n        that._isInfoHide = true;\n      }\n\n      commonUtils.deferUpdate(function () {\n        commonUtils.deferRender(function () {\n          if (that.option(\"lightModeEnabled\") && width > that._previousWidth) {\n            that.option(\"lightModeEnabled\", false);\n          } else {\n            if (width < that._getMinPagerWidth()) {\n              that.option(\"lightModeEnabled\", true);\n            }\n          }\n\n          that._previousWidth = width;\n        });\n      });\n    });\n  }),\n  _dimensionChanged: function _dimensionChanged() {\n    this._updateLightMode();\n  },\n  getHeight: function getHeight() {\n    return this.option(\"visible\") ? this.$element().outerHeight() : 0;\n  }\n});\nmodule.exports = Pager;\nregisterComponent(\"dxPager\", Pager);","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/pager.js"],"names":["$","require","eventsEngine","Class","stringUtils","registerComponent","commonUtils","each","typeUtils","extend","clickEvent","pointerEvents","messageLocalization","Widget","SelectBox","NumberBox","eventUtils","accessibility","PAGES_LIMITER","PAGER_CLASS","PAGER_PAGE_CLASS","PAGER_PAGE_CLASS_SELECTOR","PAGER_PAGES_CLASS","LIGHT_MODE_CLASS","LIGHT_PAGES_CLASS","PAGER_PAGE_INDEX_CLASS","PAGER_PAGES_COUNT_CLASS","PAGER_SELECTION_CLASS","PAGER_PAGE_SEPARATOR_CLASS","PAGER_PAGE_SIZES_CLASS","PAGER_PAGE_SIZE_CLASS","PAGER_PAGE_SIZE_CLASS_SELECTOR","PAGER_NAVIGATE_BUTTON","PAGER_PREV_BUTTON_CLASS","PAGER_NEXT_BUTTON_CLASS","PAGER_INFO_CLASS","PAGER_INFO_TEXT_CLASS","PAGER_BUTTON_DISABLE_CLASS","Page","ctor","that","value","text","parseInt","element","select","render","rtlEnabled","Pager","_getDefaultOptions","visible","pagesNavigatorVisible","pageIndex","maxPagesCount","pageCount","totalCount","pageSize","showPageSizes","pageSizes","hasKnownLastPage","showNavigationButtons","showInfo","infoText","pagesCountText","lightModeEnabled","pageIndexChanged","pageSizeChanged","noop","_toggleVisibility","$element","_getPages","pages","showMoreButton","count","i","firstValue","currentPage","_getPageByValue","page","_processSelectedPage","isPageIndexValid","selectedPageIndex","_selectPageByValue","pagesLength","prevPage","nextPage","morePage","_updatePagesTabIndices","_this","$selectedPage","updatePageIndices","buttons","_nextPage","_wrapClickAction","_this2","e","action","event","_renderPages","clickPagesIndexAction","args","pageNumber","Number","role","label","$separator","_calculateLightPagesWidth","$pageIndex","_renderLightPages","clickAction","$container","min","max","width","onValueChanged","$pageCount","_renderPagesChooser","_renderPageSizes","pagesSizesLength","currentPageSize","clickPagesSizeAction","pageSizeValue","$pageSize","_calculateLightPageSizesWidth","Math","_renderLightPageSizes","$editor","dataSource","onSelectionChanged","_renderPagesSizeChooser","_renderInfo","_renderNavigateButton","$button","_renderContentImpl","_initMarkup","_render","_updatePageSizes","_updatePages","_isPageIndexInvalid","isNextDirection","_updateButtonsState","nextButton","prevButton","_optionChanged","_clean","_getMinPagerWidth","pagesChooserWidth","pagesSizeChooserWidth","_updatePagesChooserWidth","lastPageWidth","_updateLightMode","infoWidth","_dimensionChanged","getHeight","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/pager.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../core/renderer\");\r\nvar eventsEngine = require(\"../events/core/events_engine\");\r\nvar Class = require(\"../core/class\");\r\nvar stringUtils = require(\"../core/utils/string\");\r\nvar registerComponent = require(\"../core/component_registrator\");\r\nvar commonUtils = require(\"../core/utils/common\");\r\nvar each = require(\"../core/utils/iterator\").each;\r\nvar typeUtils = require(\"../core/utils/type\");\r\nvar extend = require(\"../core/utils/extend\").extend;\r\nvar clickEvent = require(\"../events/click\");\r\nvar pointerEvents = require(\"../events/pointer\");\r\nvar messageLocalization = require(\"../localization/message\");\r\nvar Widget = require(\"./widget/ui.widget\");\r\nvar SelectBox = require(\"./select_box\");\r\nvar NumberBox = require(\"./number_box\");\r\nvar eventUtils = require(\"../events/utils\");\r\nvar accessibility = require(\"./shared/accessibility\");\r\nvar PAGES_LIMITER = 4;\r\nvar PAGER_CLASS = \"dx-pager\";\r\nvar PAGER_PAGE_CLASS = \"dx-page\";\r\nvar PAGER_PAGE_CLASS_SELECTOR = \".\" + PAGER_PAGE_CLASS;\r\nvar PAGER_PAGES_CLASS = \"dx-pages\";\r\nvar LIGHT_MODE_CLASS = \"dx-light-mode\";\r\nvar LIGHT_PAGES_CLASS = \"dx-light-pages\";\r\nvar PAGER_PAGE_INDEX_CLASS = \"dx-page-index\";\r\nvar PAGER_PAGES_COUNT_CLASS = \"dx-pages-count\";\r\nvar PAGER_SELECTION_CLASS = \"dx-selection\";\r\nvar PAGER_PAGE_SEPARATOR_CLASS = \"dx-separator\";\r\nvar PAGER_PAGE_SIZES_CLASS = \"dx-page-sizes\";\r\nvar PAGER_PAGE_SIZE_CLASS = \"dx-page-size\";\r\nvar PAGER_PAGE_SIZE_CLASS_SELECTOR = \".\" + PAGER_PAGE_SIZE_CLASS;\r\nvar PAGER_NAVIGATE_BUTTON = \"dx-navigate-button\";\r\nvar PAGER_PREV_BUTTON_CLASS = \"dx-prev-button\";\r\nvar PAGER_NEXT_BUTTON_CLASS = \"dx-next-button\";\r\nvar PAGER_INFO_CLASS = \"dx-info\";\r\nvar PAGER_INFO_TEXT_CLASS = \"dx-info-text\";\r\nvar PAGER_BUTTON_DISABLE_CLASS = \"dx-button-disable\";\r\nvar Page = Class.inherit({\r\n    ctor: function(value, index) {\r\n        var that = this;\r\n        that.index = index;\r\n        that._$page = $(\"<div>\").text(value).addClass(PAGER_PAGE_CLASS)\r\n    },\r\n    value: function(_value) {\r\n        var that = this;\r\n        if (typeUtils.isDefined(_value)) {\r\n            that._$page.text(_value)\r\n        } else {\r\n            var text = that._$page.text();\r\n            if (typeUtils.isNumeric(text)) {\r\n                return parseInt(text)\r\n            } else {\r\n                return text\r\n            }\r\n        }\r\n    },\r\n    element: function() {\r\n        return this._$page\r\n    },\r\n    select: function(value) {\r\n        this._$page.toggleClass(PAGER_SELECTION_CLASS, value)\r\n    },\r\n    render: function(rootElement, rtlEnabled) {\r\n        rtlEnabled ? this._$page.prependTo(rootElement) : this._$page.appendTo(rootElement)\r\n    }\r\n});\r\nvar Pager = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            visible: true,\r\n            pagesNavigatorVisible: \"auto\",\r\n            pageIndex: 1,\r\n            maxPagesCount: 10,\r\n            pageCount: 10,\r\n            totalCount: 0,\r\n            pageSize: 5,\r\n            showPageSizes: true,\r\n            pageSizes: [5, 10],\r\n            hasKnownLastPage: true,\r\n            showNavigationButtons: false,\r\n            showInfo: false,\r\n            infoText: messageLocalization.getFormatter(\"dxPager-infoText\"),\r\n            pagesCountText: messageLocalization.getFormatter(\"dxPager-pagesCountText\"),\r\n            rtlEnabled: false,\r\n            lightModeEnabled: false,\r\n            pageIndexChanged: commonUtils.noop,\r\n            pageSizeChanged: commonUtils.noop\r\n        })\r\n    },\r\n    _toggleVisibility: function(value) {\r\n        var $element = this.$element();\r\n        if ($element) {\r\n            $element.css(\"display\", value ? \"\" : \"none\")\r\n        }\r\n    },\r\n    _getPages: function(currentPage, count) {\r\n        var pages = [];\r\n        var showMoreButton = !this.option(\"hasKnownLastPage\");\r\n        var firstValue;\r\n        var i;\r\n        if (count > 0 || showMoreButton) {\r\n            if (count <= this.option(\"maxPagesCount\")) {\r\n                for (i = 1; i <= count; i++) {\r\n                    pages.push(new Page(i, i - 1))\r\n                }\r\n                if (showMoreButton) {\r\n                    pages.push(new Page(\">\", i - 1))\r\n                }\r\n            } else {\r\n                pages.push(new Page(1, 0));\r\n                firstValue = currentPage ? currentPage.value() - currentPage.index : 1;\r\n                for (i = 1; i <= PAGES_LIMITER; i++) {\r\n                    pages.push(new Page(firstValue + i, i))\r\n                }\r\n                pages.push(new Page(count, PAGES_LIMITER + 1));\r\n                if (showMoreButton) {\r\n                    pages.push(new Page(\">\", PAGES_LIMITER + 1))\r\n                }\r\n            }\r\n        }\r\n        return pages\r\n    },\r\n    _getPageByValue: function(value) {\r\n        var that = this;\r\n        var page;\r\n        var i;\r\n        for (i = 0; i < that._pages.length; i++) {\r\n            page = that._pages[i];\r\n            if (page.value() === value) {\r\n                return page\r\n            }\r\n        }\r\n    },\r\n    _processSelectedPage: function(maxPagesCount, pageIndex, pageCount) {\r\n        var that = this;\r\n        var isPageIndexValid = false;\r\n        var selectedPageIndex;\r\n        if (that._pages) {\r\n            each(that._pages, function(key, page) {\r\n                if (pageIndex === page.value()) {\r\n                    isPageIndexValid = true\r\n                }\r\n            });\r\n            if (!isPageIndexValid) {\r\n                that.selectedPage = null\r\n            }\r\n        }\r\n        if (typeUtils.isDefined(that.selectedPage)) {\r\n            if (pageIndex === pageCount && pageCount > maxPagesCount && that.selectedPage.index !== PAGES_LIMITER + 1) {\r\n                that.selectedPage.index = PAGES_LIMITER + 1\r\n            }\r\n        } else {\r\n            if (pageIndex > PAGES_LIMITER && pageIndex < pageCount) {\r\n                selectedPageIndex = pageCount - PAGES_LIMITER < pageIndex ? PAGES_LIMITER - (pageCount - pageIndex) + 1 : 2;\r\n                that.selectedPage = new Page(pageIndex, selectedPageIndex)\r\n            }\r\n        }\r\n    },\r\n    _selectPageByValue: function(value) {\r\n        var that = this;\r\n        var i;\r\n        var page = that._getPageByValue(value);\r\n        var pages = that._pages;\r\n        var pagesLength = pages.length;\r\n        var prevPage;\r\n        var nextPage;\r\n        var morePage;\r\n        if (!typeUtils.isDefined(page)) {\r\n            return\r\n        }\r\n        prevPage = that._pages[page.index - 1];\r\n        nextPage = that._pages[page.index + 1];\r\n        if (nextPage && \">\" === nextPage.value()) {\r\n            morePage = nextPage;\r\n            nextPage = void 0;\r\n            pagesLength--;\r\n            pages.pop()\r\n        }\r\n        if (that.selectedPage) {\r\n            that.selectedPage.select(false)\r\n        }\r\n        page.select(true);\r\n        that.selectedPage = page;\r\n        if (nextPage && nextPage.value() - value > 1) {\r\n            if (0 !== page.index) {\r\n                prevPage.value(value + 1);\r\n                that._pages.splice(page.index, 1);\r\n                that._pages.splice(page.index - 1, 0, page);\r\n                that._pages[page.index].index = page.index;\r\n                page.index = page.index - 1;\r\n                for (i = page.index - 1; i > 0; i--) {\r\n                    that._pages[i].value(that._pages[i + 1].value() - 1)\r\n                }\r\n            } else {\r\n                for (i = 0; i < pagesLength - 1; i++) {\r\n                    that._pages[i].value(i + 1)\r\n                }\r\n            }\r\n        }\r\n        if (prevPage && value - prevPage.value() > 1) {\r\n            if (page.index !== pagesLength - 1) {\r\n                nextPage.value(value - 1);\r\n                that._pages.splice(page.index, 1);\r\n                that._pages.splice(page.index + 1, 0, page);\r\n                that._pages[page.index].index = page.index;\r\n                page.index = page.index + 1;\r\n                for (i = page.index + 1; i < pagesLength - 1; i++) {\r\n                    that._pages[i].value(that._pages[i - 1].value() + 1)\r\n                }\r\n            } else {\r\n                for (i = 1; i <= pagesLength - 2; i++) {\r\n                    that._pages[pagesLength - 1 - i].value(that._pages[pagesLength - 1].value() - i)\r\n                }\r\n            }\r\n        }\r\n        if (morePage) {\r\n            pages.push(morePage)\r\n        }\r\n    },\r\n    _updatePagesTabIndices: function() {\r\n        var _this = this;\r\n        var $selectedPage = this.selectedPage._$page;\r\n        var updatePageIndices = function updatePageIndices() {\r\n            var buttons = $(_this.element()).find(\"[role=button]:not(.dx-button-disable)\");\r\n            each(buttons, function(_, element) {\r\n                return $(element).attr(\"tabindex\", 0)\r\n            });\r\n            eventsEngine.off($selectedPage, \"focus\", updatePageIndices)\r\n        };\r\n        eventsEngine.on($selectedPage, \"focus\", updatePageIndices)\r\n    },\r\n    _nextPage: function(direction) {\r\n        var pageIndex = this.option(\"pageIndex\");\r\n        var pageCount = this.option(\"pageCount\");\r\n        if (typeUtils.isDefined(pageIndex)) {\r\n            pageIndex = \"next\" === direction ? ++pageIndex : --pageIndex;\r\n            if (pageIndex > 0 && pageIndex <= pageCount) {\r\n                this.option(\"pageIndex\", pageIndex)\r\n            }\r\n        }\r\n    },\r\n    _wrapClickAction: function(action) {\r\n        var _this2 = this;\r\n        return function(e) {\r\n            if (\"dxpointerup\" === e.type) {\r\n                _this2._pointerUpHappened = true\r\n            } else {\r\n                if (_this2._pointerUpHappened) {\r\n                    _this2._pointerUpHappened = false;\r\n                    return\r\n                }\r\n            }\r\n            action({\r\n                event: e\r\n            })\r\n        }\r\n    },\r\n    _renderPages: function(pages) {\r\n        var that = this;\r\n        var $separator;\r\n        var pagesLength = pages.length;\r\n        var clickPagesIndexAction = that._createAction(function(args) {\r\n            var e = args.event;\r\n            var pageNumber = $(e.target).text();\r\n            var pageIndex = \">\" === pageNumber ? that.option(\"pageCount\") + 1 : Number(pageNumber);\r\n            that.option(\"pageIndex\", pageIndex)\r\n        });\r\n        var page;\r\n        if (pagesLength > 1) {\r\n            that._pageClickHandler = this._wrapClickAction(clickPagesIndexAction);\r\n            eventsEngine.on(that._$pagesChooser, eventUtils.addNamespace([pointerEvents.up, clickEvent.name], that.Name + \"Pages\"), PAGER_PAGE_CLASS_SELECTOR, that._pageClickHandler);\r\n            accessibility.registerKeyboardAction(\"pager\", that, that._$pagesChooser, PAGER_PAGE_CLASS_SELECTOR, clickPagesIndexAction)\r\n        }\r\n        for (var i = 0; i < pagesLength; i++) {\r\n            page = pages[i];\r\n            page.render(that._$pagesChooser, that.option(\"rtlEnabled\"));\r\n            that.setAria({\r\n                role: \"button\",\r\n                label: \"Page \" + page.value()\r\n            }, page.element());\r\n            accessibility.setTabIndex(that, page.element());\r\n            if (pages[i + 1] && pages[i + 1].value() - page.value() > 1) {\r\n                $separator = $(\"<div>\").text(\". . .\").addClass(PAGER_PAGE_SEPARATOR_CLASS);\r\n                that.option(\"rtlEnabled\") ? $separator.prependTo(that._$pagesChooser) : $separator.appendTo(that._$pagesChooser)\r\n            }\r\n        }\r\n    },\r\n    _calculateLightPagesWidth: function($pageIndex, pageCount) {\r\n        return Number($pageIndex.css(\"minWidth\").replace(\"px\", \"\")) + 10 * pageCount.toString().length\r\n    },\r\n    _renderLightPages: function() {\r\n        var that = this;\r\n        var pageCount = this.option(\"pageCount\");\r\n        var pageIndex = this.option(\"pageIndex\");\r\n        var $pageCount;\r\n        var $pageIndex;\r\n        var clickAction = that._createAction(function() {\r\n            that.option(\"pageIndex\", pageCount)\r\n        });\r\n        var pagesCountText = this.option(\"pagesCountText\");\r\n        var $container = $(\"<div>\").addClass(LIGHT_PAGES_CLASS).appendTo(this._$pagesChooser);\r\n        $pageIndex = $(\"<div>\").addClass(PAGER_PAGE_INDEX_CLASS).appendTo($container);\r\n        that._pageIndexEditor = that._createComponent($pageIndex, NumberBox, {\r\n            value: pageIndex,\r\n            min: 1,\r\n            max: pageCount,\r\n            width: that._calculateLightPagesWidth($pageIndex, pageCount),\r\n            onValueChanged: function(e) {\r\n                that.option(\"pageIndex\", e.value)\r\n            }\r\n        });\r\n        $(\"<span>\").text(pagesCountText).addClass(PAGER_INFO_TEXT_CLASS + \" \" + PAGER_INFO_CLASS).appendTo($container);\r\n        $pageCount = $(\"<span>\").addClass(PAGER_PAGES_COUNT_CLASS).text(pageCount);\r\n        eventsEngine.on($pageCount, eventUtils.addNamespace(clickEvent.name, that.Name + \"PagesCount\"), function(e) {\r\n            clickAction({\r\n                event: e\r\n            })\r\n        });\r\n        accessibility.registerKeyboardAction(\"pager\", that, $pageCount, void 0, clickAction);\r\n        $pageCount.appendTo($container);\r\n        that.setAria({\r\n            role: \"button\",\r\n            label: \"Navigates to the last page\"\r\n        }, $pageCount)\r\n    },\r\n    _renderPagesChooser: function() {\r\n        var that = this;\r\n        var lightModeEnabled = that.option(\"lightModeEnabled\");\r\n        var pagesNavigatorVisible = that.option(\"pagesNavigatorVisible\");\r\n        var $element = that.$element();\r\n        that._$pagesChooser && that._$pagesChooser.remove();\r\n        if (!pagesNavigatorVisible) {\r\n            return\r\n        }\r\n        if (that._pages && 0 === that._pages.length) {\r\n            that.selectedPage = null;\r\n            return\r\n        }\r\n        that._$pagesChooser = $(\"<div>\").addClass(PAGER_PAGES_CLASS).appendTo($element);\r\n        if (\"auto\" === pagesNavigatorVisible) {\r\n            that._$pagesChooser.css(\"visibility\", 1 === that.option(\"pageCount\") ? \"hidden\" : \"\")\r\n        }\r\n        if (!lightModeEnabled) {\r\n            that._renderInfo()\r\n        }\r\n        that._renderNavigateButton(\"prev\");\r\n        if (lightModeEnabled) {\r\n            that._renderLightPages()\r\n        } else {\r\n            that._renderPages(that._pages)\r\n        }\r\n        that._renderNavigateButton(\"next\");\r\n        that._updatePagesChooserWidth()\r\n    },\r\n    _renderPageSizes: function() {\r\n        var that = this;\r\n        var i;\r\n        var pageSizes = that.option(\"pageSizes\");\r\n        var pagesSizesLength = pageSizes && pageSizes.length;\r\n        var pageSizeValue;\r\n        var currentPageSize = that.option(\"pageSize\");\r\n        var $pageSize;\r\n        var clickPagesSizeAction = that._createAction(function(args) {\r\n            var e = args.event;\r\n            pageSizeValue = parseInt($(e.target).text());\r\n            that.option(\"pageSize\", pageSizeValue)\r\n        });\r\n        eventsEngine.on(that._$pagesSizeChooser, eventUtils.addNamespace(clickEvent.name, that.Name + \"PageSize\"), PAGER_PAGE_SIZE_CLASS_SELECTOR, function(e) {\r\n            clickPagesSizeAction({\r\n                event: e\r\n            })\r\n        });\r\n        accessibility.registerKeyboardAction(\"pager\", that, that._$pagesSizeChooser, PAGER_PAGE_SIZE_CLASS_SELECTOR, clickPagesSizeAction);\r\n        for (i = 0; i < pagesSizesLength; i++) {\r\n            $pageSize = $(\"<div>\").text(pageSizes[i]).addClass(PAGER_PAGE_SIZE_CLASS);\r\n            that.setAria({\r\n                role: \"button\",\r\n                label: \"Display \" + pageSizes[i] + \" items on page\"\r\n            }, $pageSize);\r\n            accessibility.setTabIndex(that, $pageSize);\r\n            if (currentPageSize === pageSizes[i]) {\r\n                $pageSize.addClass(PAGER_SELECTION_CLASS)\r\n            }\r\n            that._$pagesSizeChooser.append($pageSize)\r\n        }\r\n    },\r\n    _calculateLightPageSizesWidth: function(pageSizes) {\r\n        return Number(this._$pagesSizeChooser.css(\"minWidth\").replace(\"px\", \"\")) + 10 * Math.max.apply(Math, pageSizes).toString().length\r\n    },\r\n    _renderLightPageSizes: function() {\r\n        var that = this;\r\n        var $editor;\r\n        var pageSizes = that.option(\"pageSizes\");\r\n        $editor = $(\"<div>\").appendTo(that._$pagesSizeChooser);\r\n        that._pageSizeEditor = that._createComponent($editor, SelectBox, {\r\n            dataSource: pageSizes,\r\n            value: that.option(\"pageSize\"),\r\n            onSelectionChanged: function(e) {\r\n                that.option(\"pageSize\", e.selectedItem)\r\n            },\r\n            width: that._calculateLightPageSizesWidth(pageSizes)\r\n        })\r\n    },\r\n    _renderPagesSizeChooser: function() {\r\n        var that = this;\r\n        var pageSizes = that.option(\"pageSizes\");\r\n        var showPageSizes = that.option(\"showPageSizes\");\r\n        var pagesSizesLength = pageSizes && pageSizes.length;\r\n        var $element = that.$element();\r\n        that._$pagesSizeChooser && that._$pagesSizeChooser.remove();\r\n        if (!showPageSizes || !pagesSizesLength) {\r\n            return\r\n        }\r\n        that._$pagesSizeChooser = $(\"<div>\").addClass(PAGER_PAGE_SIZES_CLASS).appendTo($element);\r\n        if (that.option(\"lightModeEnabled\")) {\r\n            that._renderLightPageSizes()\r\n        } else {\r\n            that._renderPageSizes()\r\n        }\r\n        that._pagesSizeChooserWidth = that._$pagesSizeChooser.width()\r\n    },\r\n    _renderInfo: function() {\r\n        var infoText = this.option(\"infoText\");\r\n        if (this.option(\"showInfo\") && typeUtils.isDefined(infoText)) {\r\n            this._$info = $(\"<div>\").css(\"display\", this._isInfoHide ? \"none\" : \"\").addClass(PAGER_INFO_CLASS).text(stringUtils.format(infoText, this.selectedPage && this.selectedPage.value(), this.option(\"pageCount\"), this.option(\"totalCount\"))).appendTo(this._$pagesChooser);\r\n            if (!this._isInfoHide) {\r\n                this._infoWidth = this._$info.outerWidth(true)\r\n            }\r\n        }\r\n    },\r\n    _renderNavigateButton: function(direction) {\r\n        var that = this;\r\n        var clickAction = that._createAction(function() {\r\n            that._nextPage(direction)\r\n        });\r\n        var $button;\r\n        if (that.option(\"showNavigationButtons\") || that.option(\"lightModeEnabled\")) {\r\n            $button = $(\"<div>\").addClass(PAGER_NAVIGATE_BUTTON);\r\n            eventsEngine.on($button, eventUtils.addNamespace([pointerEvents.up, clickEvent.name], that.Name + \"Pages\"), that._wrapClickAction(clickAction));\r\n            accessibility.registerKeyboardAction(\"pager\", that, $button, void 0, clickAction);\r\n            that.setAria({\r\n                role: \"button\",\r\n                label: \"prev\" === direction ? \"Previous page\" : \" Next page\"\r\n            }, $button);\r\n            accessibility.setTabIndex(that, $button);\r\n            if (that.option(\"rtlEnabled\")) {\r\n                $button.addClass(\"prev\" === direction ? PAGER_NEXT_BUTTON_CLASS : PAGER_PREV_BUTTON_CLASS);\r\n                $button.prependTo(this._$pagesChooser)\r\n            } else {\r\n                $button.addClass(\"prev\" === direction ? PAGER_PREV_BUTTON_CLASS : PAGER_NEXT_BUTTON_CLASS);\r\n                $button.appendTo(this._$pagesChooser)\r\n            }\r\n        }\r\n    },\r\n    _renderContentImpl: function() {\r\n        this.$element().toggleClass(LIGHT_MODE_CLASS, this.option(\"lightModeEnabled\"));\r\n        this._toggleVisibility(this.option(\"visible\"));\r\n        this._updatePageSizes(true);\r\n        this._updatePages(true);\r\n        accessibility.restoreFocus(this)\r\n    },\r\n    _initMarkup: function() {\r\n        var $element = this.$element();\r\n        $element.addClass(PAGER_CLASS);\r\n        var $pageSize = $(\"<div>\").addClass(PAGER_PAGE_CLASS);\r\n        this._$pagesChooser = $(\"<div>\").addClass(PAGER_PAGES_CLASS).append($pageSize).appendTo($element)\r\n    },\r\n    _render: function() {\r\n        this.option().lightModeEnabled = false;\r\n        this.callBase();\r\n        this._updateLightMode()\r\n    },\r\n    _updatePageSizes: function(forceRender) {\r\n        var lightModeEnabled = this.option(\"lightModeEnabled\");\r\n        var pageSize = this.option(\"pageSize\");\r\n        var pageSizes = this.option(\"pageSizes\");\r\n        if (lightModeEnabled) {\r\n            this._pageSizeEditor && this._pageSizeEditor.option({\r\n                value: pageSize,\r\n                dataSource: pageSizes,\r\n                width: this._calculateLightPageSizesWidth(pageSizes)\r\n            })\r\n        }\r\n        if (!lightModeEnabled || forceRender) {\r\n            this._renderPagesSizeChooser()\r\n        }\r\n    },\r\n    _updatePages: function(forceRender) {\r\n        var pageCount = this.option(\"pageCount\");\r\n        var pageIndex = this.option(\"pageIndex\");\r\n        var lightModeEnabled = this.option(\"lightModeEnabled\");\r\n        if (!lightModeEnabled) {\r\n            this._processSelectedPage(this.option(\"maxPagesCount\"), pageIndex, pageCount);\r\n            this._pages = this._getPages(this.selectedPage, pageCount);\r\n            this._selectPageByValue(pageIndex)\r\n        } else {\r\n            this._pageIndexEditor && this._pageIndexEditor.option({\r\n                value: pageIndex,\r\n                width: this._calculateLightPagesWidth(this._pageIndexEditor.$element(), pageCount)\r\n            })\r\n        }\r\n        if (!lightModeEnabled || forceRender) {\r\n            this._renderPagesChooser()\r\n        }\r\n        this._updateButtonsState(pageIndex)\r\n    },\r\n    _isPageIndexInvalid: function(direction, pageIndex) {\r\n        var isNextDirection = \"next\" === direction;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        if (rtlEnabled && isNextDirection || !rtlEnabled && !isNextDirection) {\r\n            return pageIndex <= 1\r\n        }\r\n        return pageIndex >= this.option(\"pageCount\")\r\n    },\r\n    _updateButtonsState: function(pageIndex) {\r\n        var nextButton = this.$element().find(\".\" + PAGER_NEXT_BUTTON_CLASS);\r\n        var prevButton = this.$element().find(\".\" + PAGER_PREV_BUTTON_CLASS);\r\n        nextButton.toggleClass(PAGER_BUTTON_DISABLE_CLASS, this._isPageIndexInvalid(\"next\", pageIndex));\r\n        prevButton.toggleClass(PAGER_BUTTON_DISABLE_CLASS, this._isPageIndexInvalid(\"prev\", pageIndex))\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"visible\":\r\n                this._toggleVisibility(args.value);\r\n                break;\r\n            case \"pageIndex\":\r\n                var pageIndexChanged = this.option(\"pageIndexChanged\");\r\n                if (pageIndexChanged) {\r\n                    pageIndexChanged(args.value)\r\n                }\r\n                this._updatePages();\r\n                break;\r\n            case \"maxPagesCount\":\r\n            case \"pageCount\":\r\n            case \"totalCount\":\r\n            case \"hasKnownLastPage\":\r\n            case \"pagesNavigatorVisible\":\r\n            case \"showNavigationButtons\":\r\n                this._updatePages();\r\n                break;\r\n            case \"pageSize\":\r\n                var pageSizeChanged = this.option(\"pageSizeChanged\");\r\n                if (pageSizeChanged) {\r\n                    pageSizeChanged(args.value)\r\n                }\r\n                this._updatePageSizes();\r\n                break;\r\n            case \"pageSizes\":\r\n                this._updatePageSizes();\r\n                break;\r\n            case \"lightModeEnabled\":\r\n                this._renderContentImpl();\r\n                !args.value && this._updateLightMode();\r\n                break;\r\n            default:\r\n                this._invalidate()\r\n        }\r\n    },\r\n    _clean: function() {\r\n        if (this._$pagesChooser) {\r\n            eventsEngine.off(this._$pagesChooser, eventUtils.addNamespace([pointerEvents.up, clickEvent.name], this.Name + \"Pages\"), PAGER_PAGE_CLASS_SELECTOR, this._pageClickHandler);\r\n            accessibility.registerKeyboardAction(\"pager\", this, this._$pagesChooser, PAGER_PAGE_CLASS_SELECTOR, this._pageKeyDownHandler)\r\n        }\r\n        this.callBase()\r\n    },\r\n    _getMinPagerWidth: function() {\r\n        var pagesChooserWidth = typeUtils.isDefined(this._pagesChooserWidth) ? this._pagesChooserWidth : 0;\r\n        var pagesSizeChooserWidth = typeUtils.isDefined(this._pagesSizeChooserWidth) ? this._pagesSizeChooserWidth : 0;\r\n        return pagesChooserWidth + pagesSizeChooserWidth\r\n    },\r\n    _updatePagesChooserWidth: commonUtils.deferUpdater(function() {\r\n        var lastPageWidth = this._pages && this._pages.length > 0 ? this._pages[this._pages.length - 1]._$page.width() : 0;\r\n        this._pagesChooserWidth = this._$pagesChooser.width() + lastPageWidth\r\n    }),\r\n    _updateLightMode: commonUtils.deferUpdater(function() {\r\n        var that = this;\r\n        var width = this.$element().width();\r\n        var infoWidth = typeUtils.isDefined(this._infoWidth) ? this._infoWidth : 0;\r\n        commonUtils.deferRender(function() {\r\n            if (that._isInfoHide && width > that._getMinPagerWidth() + infoWidth) {\r\n                that._$info.show();\r\n                that._updatePagesChooserWidth();\r\n                that._isInfoHide = false\r\n            }\r\n            if (!that._isInfoHide && width > that._getMinPagerWidth() - infoWidth && width < that._getMinPagerWidth()) {\r\n                that._$info.hide();\r\n                that._updatePagesChooserWidth();\r\n                that._isInfoHide = true\r\n            }\r\n            commonUtils.deferUpdate(function() {\r\n                commonUtils.deferRender(function() {\r\n                    if (that.option(\"lightModeEnabled\") && width > that._previousWidth) {\r\n                        that.option(\"lightModeEnabled\", false)\r\n                    } else {\r\n                        if (width < that._getMinPagerWidth()) {\r\n                            that.option(\"lightModeEnabled\", true)\r\n                        }\r\n                    }\r\n                    that._previousWidth = width\r\n                })\r\n            })\r\n        })\r\n    }),\r\n    _dimensionChanged: function() {\r\n        this._updateLightMode()\r\n    },\r\n    getHeight: function() {\r\n        return this.option(\"visible\") ? this.$element().outerHeight() : 0\r\n    }\r\n});\r\nmodule.exports = Pager;\r\nregisterComponent(\"dxPager\", Pager);\r\n"]},"metadata":{},"sourceType":"module"}