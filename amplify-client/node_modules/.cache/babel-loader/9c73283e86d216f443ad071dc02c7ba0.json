{"ast":null,"code":"/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.notification.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _ui = require(\"../widget/ui.widget\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _popup = require(\"../popup\");\n\nvar _popup2 = _interopRequireDefault(_popup);\n\nvar _ui3 = require(\"../drawer/ui.drawer\");\n\nvar _ui4 = _interopRequireDefault(_ui3);\n\nvar _uiFile_managerNotification = require(\"./ui.file_manager.notification.progress_panel\");\n\nvar _uiFile_managerNotification2 = _interopRequireDefault(_uiFile_managerNotification);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar FILE_MANAGER_NOTIFICATION_CLASS = \"dx-filemanager-notification\";\nvar FILE_MANAGER_NOTIFICATION_DRAWER_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-drawer\");\nvar FILE_MANAGER_NOTIFICATION_POPUP_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup\");\nvar FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup-error\");\nvar FILE_MANAGER_NOTIFICATION_COMMON_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common\");\nvar FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-separator\");\nvar FILE_MANAGER_NOTIFICATION_DETAILS_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-details\");\nvar FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common-no-item\");\n\nvar FileManagerNotificationControl = function (_Widget) {\n  _inherits(FileManagerNotificationControl, _Widget);\n\n  function FileManagerNotificationControl() {\n    _classCallCheck(this, FileManagerNotificationControl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FileManagerNotificationControl).apply(this, arguments));\n  }\n\n  _createClass(FileManagerNotificationControl, [{\n    key: \"_initMarkup\",\n    value: function value() {\n      var _this = this;\n\n      _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_initMarkup\", this).call(this);\n\n      this._initActions();\n\n      this._actionProgressStatus = \"default\";\n      this._operationInProgressCount = 0;\n      this._failedOperationCount = 0;\n      var $progressPanelContainer = this.option(\"progressPanelContainer\");\n      var $progressDrawer = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DRAWER_CLASS).appendTo($progressPanelContainer);\n      var contentRenderer = this.option(\"contentTemplate\");\n\n      if ((0, _type.isFunction)(contentRenderer)) {\n        contentRenderer($progressDrawer);\n      }\n\n      this._progressDrawer = this._createComponent($progressDrawer, _ui4.default, {\n        opened: false,\n        position: \"right\",\n        openedStateMode: \"overlap\",\n        closeOnOutsideClick: true,\n        shading: true,\n        template: function template(container) {\n          return _this._progressDrawerTemplate(container);\n        }\n      });\n    }\n  }, {\n    key: \"tryShowProgressPanel\",\n    value: function value() {\n      var _this2 = this;\n\n      if (\"default\" === this._actionProgressStatus) {\n        return;\n      }\n\n      setTimeout(function () {\n        _this2._progressDrawer.show();\n\n        _this2._tryHideActionProgress();\n      });\n    }\n  }, {\n    key: \"addOperation\",\n    value: function value(processingMessage, allowCancel, allowProgressAutoUpdate) {\n      this._operationInProgressCount++;\n\n      var operationInfo = this._progressPanel.addOperation(processingMessage, allowCancel, allowProgressAutoUpdate);\n\n      this._showPopup(processingMessage);\n\n      this._updateActionProgress(processingMessage, \"progress\");\n\n      return operationInfo;\n    }\n  }, {\n    key: \"addOperationDetails\",\n    value: function value(info, details, showCloseButton) {\n      this._progressPanel.addOperationDetails(info, details, showCloseButton);\n    }\n  }, {\n    key: \"updateOperationItemProgress\",\n    value: function value(operationInfo, itemIndex, itemProgress, commonProgress) {\n      this._progressPanel.updateOperationItemProgress(operationInfo, itemIndex, itemProgress, commonProgress);\n    }\n  }, {\n    key: \"completeOperationItem\",\n    value: function value(operationInfo, itemIndex, commonProgress) {\n      this._progressPanel.completeOperationItem(operationInfo, itemIndex, commonProgress);\n    }\n  }, {\n    key: \"completeOperation\",\n    value: function value(info, commonText, isError, statusText) {\n      this._operationInProgressCount--;\n\n      if (isError) {\n        this._failedOperationCount++;\n      } else {\n        this._showPopup(commonText);\n      }\n\n      this._progressPanel.completeOperation(info, commonText, isError, statusText);\n\n      if (!this._isProgressDrawerOpened() || !this._tryHideActionProgress()) {\n        var status = 0 === this._failedOperationCount ? \"success\" : \"error\";\n\n        this._updateActionProgress(\"\", status);\n      }\n    }\n  }, {\n    key: \"completeSingleOperationWithError\",\n    value: function value(operationInfo, errorInfo) {\n      this._progressPanel.completeSingleOperationWithError(operationInfo, errorInfo.detailErrorText);\n\n      this._notifyError(errorInfo);\n    }\n  }, {\n    key: \"addOperationDetailsError\",\n    value: function value(operationInfo, errorInfo) {\n      this._progressPanel.addOperationDetailsError(operationInfo, errorInfo.itemIndex, errorInfo.detailErrorText);\n\n      this._notifyError(errorInfo);\n    }\n  }, {\n    key: \"_hideProgressPanel\",\n    value: function value() {\n      var _this3 = this;\n\n      setTimeout(function () {\n        return _this3._progressDrawer.hide();\n      });\n    }\n  }, {\n    key: \"_tryHideActionProgress\",\n    value: function value() {\n      if (0 === this._operationInProgressCount && 0 === this._failedOperationCount) {\n        this._updateActionProgress(\"\", \"default\");\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_updateActionProgress\",\n    value: function value(message, status) {\n      this._actionProgressStatus = status;\n\n      this._raiseActionProgress(message, status);\n    }\n  }, {\n    key: \"_progressDrawerTemplate\",\n    value: function value(container) {\n      var _this4 = this;\n\n      var $panel = (0, _renderer2.default)(\"<div>\").appendTo(container);\n      this._progressPanel = this._createComponent($panel, this._getProgressPanelComponent(), {\n        onOperationClosed: function onOperationClosed(_ref) {\n          var info = _ref.info;\n          return _this4._onProgressPanelOperationClosed(info);\n        },\n        onOperationCanceled: function onOperationCanceled(_ref2) {\n          var info = _ref2.info;\n          return _this4._raiseOperationCanceled(info);\n        },\n        onOperationItemCanceled: function onOperationItemCanceled(_ref3) {\n          var item = _ref3.item,\n              itemIndex = _ref3.itemIndex;\n          return _this4._raiseOperationItemCanceled(item, itemIndex);\n        },\n        onPanelClosed: function onPanelClosed() {\n          return _this4._hideProgressPanel();\n        }\n      });\n    }\n  }, {\n    key: \"_getProgressPanelComponent\",\n    value: function value() {\n      return _uiFile_managerNotification2.default;\n    }\n  }, {\n    key: \"_notifyError\",\n    value: function value(errorInfo) {\n      this._showPopupError(errorInfo);\n\n      this._updateActionProgress(errorInfo.commonErrorText, \"error\");\n    }\n  }, {\n    key: \"_onProgressPanelOperationClosed\",\n    value: function value(info) {\n      if (info.hasError) {\n        this._failedOperationCount--;\n\n        this._tryHideActionProgress();\n      }\n    }\n  }, {\n    key: \"_isProgressDrawerOpened\",\n    value: function value() {\n      return this._progressDrawer.option(\"opened\");\n    }\n  }, {\n    key: \"_showPopup\",\n    value: function value(content, errorMode) {\n      if (this._isProgressDrawerOpened()) {\n        return;\n      }\n\n      this._getNotificationPopup()._wrapper().toggleClass(FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS, !!errorMode);\n\n      this._getNotificationPopup().option(\"contentTemplate\", content);\n\n      if (!this._getNotificationPopup().option(\"visible\")) {\n        this._getNotificationPopup().show();\n      }\n    }\n  }, {\n    key: \"_showPopupError\",\n    value: function value(errorInfo) {\n      var $content = (0, _renderer2.default)(\"<div>\");\n      var $message = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_COMMON_CLASS).text(errorInfo.commonErrorText);\n      var $separator = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS);\n      (0, _renderer2.default)(\"<div>\").appendTo($separator);\n      var $details = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DETAILS_CLASS);\n\n      if (errorInfo.item) {\n        this._progressPanel.createErrorDetailsProgressBox($details, errorInfo.item, errorInfo.detailErrorText);\n      } else {\n        $message.addClass(FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS);\n\n        this._progressPanel.renderError($details, $separator, errorInfo.detailErrorText);\n      }\n\n      $content.append($message, $separator, $details);\n\n      this._showPopup($content, true);\n    }\n  }, {\n    key: \"_getNotificationPopup\",\n    value: function value() {\n      if (!this._notificationPopup) {\n        var $popup = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_POPUP_CLASS).appendTo(this.$element());\n        this._notificationPopup = this._createComponent($popup, _popup2.default, {\n          container: this.$element(),\n          width: \"auto\",\n          height: \"auto\",\n          showTitle: false,\n          dragEnabled: false,\n          shading: false,\n          visible: false,\n          closeOnOutsideClick: true,\n          animation: {\n            duration: 0\n          },\n          position: {\n            my: \"right top\",\n            at: \"right bottom\",\n            of: \".dx-filemanager-toolbar\",\n            offset: \"-50 -5\"\n          }\n        });\n      }\n\n      return this._notificationPopup;\n    }\n  }, {\n    key: \"_raiseActionProgress\",\n    value: function value(message, status) {\n      this._actions.onActionProgress({\n        message: message,\n        status: status\n      });\n    }\n  }, {\n    key: \"_raiseOperationCanceled\",\n    value: function value(info) {\n      this._actions.onOperationCanceled({\n        info: info\n      });\n    }\n  }, {\n    key: \"_raiseOperationItemCanceled\",\n    value: function value(item, index) {\n      this._actions.onOperationItemCanceled({\n        item: item,\n        itemIndex: index\n      });\n    }\n  }, {\n    key: \"_initActions\",\n    value: function value() {\n      this._actions = {\n        onActionProgress: this._createActionByOption(\"onActionProgress\"),\n        onOperationCanceled: this._createActionByOption(\"onOperationCanceled\"),\n        onOperationItemCanceled: this._createActionByOption(\"onOperationItemCanceled\")\n      };\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_getDefaultOptions\", this).call(this), {\n        progressPanelContainer: null,\n        contentTemplate: null,\n        onActionProgress: null,\n        onOperationCanceled: null,\n        onOperationItemCanceled: null\n      });\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      var name = args.name;\n\n      switch (name) {\n        case \"progressPanelContainer\":\n        case \"contentTemplate\":\n          break;\n\n        case \"onActionProgress\":\n        case \"onOperationCanceled\":\n        case \"onOperationItemCanceled\":\n          this._actions[name] = this._createActionByOption(name);\n          break;\n\n        default:\n          _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }]);\n\n  return FileManagerNotificationControl;\n}(_ui2.default);\n\nexports.default = FileManagerNotificationControl;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/file_manager/ui.file_manager.notification.js"],"names":["Object","value","exports","_renderer","require","_renderer2","_interopRequireDefault","_extend","_type","_ui","_ui2","_popup","_popup2","_ui3","_ui4","_uiFile_managerNotification","_uiFile_managerNotification2","obj","Symbol","_typeof","instance","i","props","descriptor","_defineProperties","Constructor","call","_assertThisInitialized","Reflect","_get","base","_superPropBase","desc","receiver","object","_getPrototypeOf","o","subClass","superClass","constructor","writable","configurable","_setPrototypeOf","FILE_MANAGER_NOTIFICATION_CLASS","FILE_MANAGER_NOTIFICATION_DRAWER_CLASS","FILE_MANAGER_NOTIFICATION_POPUP_CLASS","FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS","FILE_MANAGER_NOTIFICATION_COMMON_CLASS","FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS","FILE_MANAGER_NOTIFICATION_DETAILS_CLASS","FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS","FileManagerNotificationControl","_inherits","_classCallCheck","_possibleConstructorReturn","_createClass","key","_this","$progressPanelContainer","$progressDrawer","contentRenderer","opened","position","openedStateMode","closeOnOutsideClick","shading","template","_this2","setTimeout","operationInfo","status","errorInfo","_this3","_this4","$panel","onOperationClosed","info","_ref","onOperationCanceled","_ref2","onOperationItemCanceled","item","_ref3","itemIndex","onPanelClosed","$content","$message","$separator","$details","$popup","container","width","height","showTitle","dragEnabled","visible","animation","duration","my","at","of","offset","message","index","onActionProgress","progressPanelContainer","contentTemplate","name","args"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.notification.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.default = void 0;\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _ui = require(\"../widget/ui.widget\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _popup = require(\"../popup\");\r\nvar _popup2 = _interopRequireDefault(_popup);\r\nvar _ui3 = require(\"../drawer/ui.drawer\");\r\nvar _ui4 = _interopRequireDefault(_ui3);\r\nvar _uiFile_managerNotification = require(\"./ui.file_manager.notification.progress_panel\");\r\nvar _uiFile_managerNotification2 = _interopRequireDefault(_uiFile_managerNotification);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar FILE_MANAGER_NOTIFICATION_CLASS = \"dx-filemanager-notification\";\r\nvar FILE_MANAGER_NOTIFICATION_DRAWER_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-drawer\");\r\nvar FILE_MANAGER_NOTIFICATION_POPUP_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup\");\r\nvar FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup-error\");\r\nvar FILE_MANAGER_NOTIFICATION_COMMON_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common\");\r\nvar FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-separator\");\r\nvar FILE_MANAGER_NOTIFICATION_DETAILS_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-details\");\r\nvar FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common-no-item\");\r\nvar FileManagerNotificationControl = function(_Widget) {\r\n    _inherits(FileManagerNotificationControl, _Widget);\r\n\r\n    function FileManagerNotificationControl() {\r\n        _classCallCheck(this, FileManagerNotificationControl);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(FileManagerNotificationControl).apply(this, arguments))\r\n    }\r\n    _createClass(FileManagerNotificationControl, [{\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            var _this = this;\r\n            _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_initMarkup\", this).call(this);\r\n            this._initActions();\r\n            this._actionProgressStatus = \"default\";\r\n            this._operationInProgressCount = 0;\r\n            this._failedOperationCount = 0;\r\n            var $progressPanelContainer = this.option(\"progressPanelContainer\");\r\n            var $progressDrawer = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DRAWER_CLASS).appendTo($progressPanelContainer);\r\n            var contentRenderer = this.option(\"contentTemplate\");\r\n            if ((0, _type.isFunction)(contentRenderer)) {\r\n                contentRenderer($progressDrawer)\r\n            }\r\n            this._progressDrawer = this._createComponent($progressDrawer, _ui4.default, {\r\n                opened: false,\r\n                position: \"right\",\r\n                openedStateMode: \"overlap\",\r\n                closeOnOutsideClick: true,\r\n                shading: true,\r\n                template: function(container) {\r\n                    return _this._progressDrawerTemplate(container)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"tryShowProgressPanel\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            if (\"default\" === this._actionProgressStatus) {\r\n                return\r\n            }\r\n            setTimeout(function() {\r\n                _this2._progressDrawer.show();\r\n                _this2._tryHideActionProgress()\r\n            })\r\n        }\r\n    }, {\r\n        key: \"addOperation\",\r\n        value: function(processingMessage, allowCancel, allowProgressAutoUpdate) {\r\n            this._operationInProgressCount++;\r\n            var operationInfo = this._progressPanel.addOperation(processingMessage, allowCancel, allowProgressAutoUpdate);\r\n            this._showPopup(processingMessage);\r\n            this._updateActionProgress(processingMessage, \"progress\");\r\n            return operationInfo\r\n        }\r\n    }, {\r\n        key: \"addOperationDetails\",\r\n        value: function(info, details, showCloseButton) {\r\n            this._progressPanel.addOperationDetails(info, details, showCloseButton)\r\n        }\r\n    }, {\r\n        key: \"updateOperationItemProgress\",\r\n        value: function(operationInfo, itemIndex, itemProgress, commonProgress) {\r\n            this._progressPanel.updateOperationItemProgress(operationInfo, itemIndex, itemProgress, commonProgress)\r\n        }\r\n    }, {\r\n        key: \"completeOperationItem\",\r\n        value: function(operationInfo, itemIndex, commonProgress) {\r\n            this._progressPanel.completeOperationItem(operationInfo, itemIndex, commonProgress)\r\n        }\r\n    }, {\r\n        key: \"completeOperation\",\r\n        value: function(info, commonText, isError, statusText) {\r\n            this._operationInProgressCount--;\r\n            if (isError) {\r\n                this._failedOperationCount++\r\n            } else {\r\n                this._showPopup(commonText)\r\n            }\r\n            this._progressPanel.completeOperation(info, commonText, isError, statusText);\r\n            if (!this._isProgressDrawerOpened() || !this._tryHideActionProgress()) {\r\n                var status = 0 === this._failedOperationCount ? \"success\" : \"error\";\r\n                this._updateActionProgress(\"\", status)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"completeSingleOperationWithError\",\r\n        value: function(operationInfo, errorInfo) {\r\n            this._progressPanel.completeSingleOperationWithError(operationInfo, errorInfo.detailErrorText);\r\n            this._notifyError(errorInfo)\r\n        }\r\n    }, {\r\n        key: \"addOperationDetailsError\",\r\n        value: function(operationInfo, errorInfo) {\r\n            this._progressPanel.addOperationDetailsError(operationInfo, errorInfo.itemIndex, errorInfo.detailErrorText);\r\n            this._notifyError(errorInfo)\r\n        }\r\n    }, {\r\n        key: \"_hideProgressPanel\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            setTimeout(function() {\r\n                return _this3._progressDrawer.hide()\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_tryHideActionProgress\",\r\n        value: function() {\r\n            if (0 === this._operationInProgressCount && 0 === this._failedOperationCount) {\r\n                this._updateActionProgress(\"\", \"default\");\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_updateActionProgress\",\r\n        value: function(message, status) {\r\n            this._actionProgressStatus = status;\r\n            this._raiseActionProgress(message, status)\r\n        }\r\n    }, {\r\n        key: \"_progressDrawerTemplate\",\r\n        value: function(container) {\r\n            var _this4 = this;\r\n            var $panel = (0, _renderer2.default)(\"<div>\").appendTo(container);\r\n            this._progressPanel = this._createComponent($panel, this._getProgressPanelComponent(), {\r\n                onOperationClosed: function(_ref) {\r\n                    var info = _ref.info;\r\n                    return _this4._onProgressPanelOperationClosed(info)\r\n                },\r\n                onOperationCanceled: function(_ref2) {\r\n                    var info = _ref2.info;\r\n                    return _this4._raiseOperationCanceled(info)\r\n                },\r\n                onOperationItemCanceled: function(_ref3) {\r\n                    var item = _ref3.item,\r\n                        itemIndex = _ref3.itemIndex;\r\n                    return _this4._raiseOperationItemCanceled(item, itemIndex)\r\n                },\r\n                onPanelClosed: function() {\r\n                    return _this4._hideProgressPanel()\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getProgressPanelComponent\",\r\n        value: function() {\r\n            return _uiFile_managerNotification2.default\r\n        }\r\n    }, {\r\n        key: \"_notifyError\",\r\n        value: function(errorInfo) {\r\n            this._showPopupError(errorInfo);\r\n            this._updateActionProgress(errorInfo.commonErrorText, \"error\")\r\n        }\r\n    }, {\r\n        key: \"_onProgressPanelOperationClosed\",\r\n        value: function(info) {\r\n            if (info.hasError) {\r\n                this._failedOperationCount--;\r\n                this._tryHideActionProgress()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isProgressDrawerOpened\",\r\n        value: function() {\r\n            return this._progressDrawer.option(\"opened\")\r\n        }\r\n    }, {\r\n        key: \"_showPopup\",\r\n        value: function(content, errorMode) {\r\n            if (this._isProgressDrawerOpened()) {\r\n                return\r\n            }\r\n            this._getNotificationPopup()._wrapper().toggleClass(FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS, !!errorMode);\r\n            this._getNotificationPopup().option(\"contentTemplate\", content);\r\n            if (!this._getNotificationPopup().option(\"visible\")) {\r\n                this._getNotificationPopup().show()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_showPopupError\",\r\n        value: function(errorInfo) {\r\n            var $content = (0, _renderer2.default)(\"<div>\");\r\n            var $message = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_COMMON_CLASS).text(errorInfo.commonErrorText);\r\n            var $separator = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS);\r\n            (0, _renderer2.default)(\"<div>\").appendTo($separator);\r\n            var $details = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DETAILS_CLASS);\r\n            if (errorInfo.item) {\r\n                this._progressPanel.createErrorDetailsProgressBox($details, errorInfo.item, errorInfo.detailErrorText)\r\n            } else {\r\n                $message.addClass(FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS);\r\n                this._progressPanel.renderError($details, $separator, errorInfo.detailErrorText)\r\n            }\r\n            $content.append($message, $separator, $details);\r\n            this._showPopup($content, true)\r\n        }\r\n    }, {\r\n        key: \"_getNotificationPopup\",\r\n        value: function() {\r\n            if (!this._notificationPopup) {\r\n                var $popup = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_POPUP_CLASS).appendTo(this.$element());\r\n                this._notificationPopup = this._createComponent($popup, _popup2.default, {\r\n                    container: this.$element(),\r\n                    width: \"auto\",\r\n                    height: \"auto\",\r\n                    showTitle: false,\r\n                    dragEnabled: false,\r\n                    shading: false,\r\n                    visible: false,\r\n                    closeOnOutsideClick: true,\r\n                    animation: {\r\n                        duration: 0\r\n                    },\r\n                    position: {\r\n                        my: \"right top\",\r\n                        at: \"right bottom\",\r\n                        of: \".dx-filemanager-toolbar\",\r\n                        offset: \"-50 -5\"\r\n                    }\r\n                })\r\n            }\r\n            return this._notificationPopup\r\n        }\r\n    }, {\r\n        key: \"_raiseActionProgress\",\r\n        value: function(message, status) {\r\n            this._actions.onActionProgress({\r\n                message: message,\r\n                status: status\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseOperationCanceled\",\r\n        value: function(info) {\r\n            this._actions.onOperationCanceled({\r\n                info: info\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseOperationItemCanceled\",\r\n        value: function(item, index) {\r\n            this._actions.onOperationItemCanceled({\r\n                item: item,\r\n                itemIndex: index\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {\r\n            this._actions = {\r\n                onActionProgress: this._createActionByOption(\"onActionProgress\"),\r\n                onOperationCanceled: this._createActionByOption(\"onOperationCanceled\"),\r\n                onOperationItemCanceled: this._createActionByOption(\"onOperationItemCanceled\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                progressPanelContainer: null,\r\n                contentTemplate: null,\r\n                onActionProgress: null,\r\n                onOperationCanceled: null,\r\n                onOperationItemCanceled: null\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            var name = args.name;\r\n            switch (name) {\r\n                case \"progressPanelContainer\":\r\n                case \"contentTemplate\":\r\n                    break;\r\n                case \"onActionProgress\":\r\n                case \"onOperationCanceled\":\r\n                case \"onOperationItemCanceled\":\r\n                    this._actions[name] = this._createActionByOption(name);\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }]);\r\n    return FileManagerNotificationControl\r\n}(_ui2.default);\r\nexports.default = FileManagerNotificationControl;\r\n"]},"metadata":{},"sourceType":"module"}