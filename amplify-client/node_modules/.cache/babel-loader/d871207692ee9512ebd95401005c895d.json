{"ast":null,"code":"/**\r\n * DevExtreme (events/core/emitter.feedback.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar Class = require(\"../../core/class\");\n\nvar commonUtils = require(\"../../core/utils/common\");\n\nvar contains = require(\"../../core/utils/dom\").contains;\n\nvar devices = require(\"../../core/devices\");\n\nvar eventUtils = require(\"../utils\");\n\nvar pointerEvents = require(\"../pointer\");\n\nvar Emitter = require(\"./emitter\");\n\nvar registerEmitter = require(\"./emitter_registrator\");\n\nvar ACTIVE_EVENT_NAME = \"dxactive\";\nvar INACTIVE_EVENT_NAME = \"dxinactive\";\nvar ACTIVE_TIMEOUT = 30;\nvar INACTIVE_TIMEOUT = 400;\nvar FeedbackEvent = Class.inherit({\n  ctor: function ctor(timeout, fire) {\n    this._timeout = timeout;\n    this._fire = fire;\n  },\n  start: function start() {\n    var that = this;\n\n    this._schedule(function () {\n      that.force();\n    });\n  },\n  _schedule: function _schedule(fn) {\n    this.stop();\n    this._timer = setTimeout(fn, this._timeout);\n  },\n  stop: function stop() {\n    clearTimeout(this._timer);\n  },\n  force: function force() {\n    if (this._fired) {\n      return;\n    }\n\n    this.stop();\n\n    this._fire();\n\n    this._fired = true;\n  },\n  fired: function fired() {\n    return this._fired;\n  }\n});\nvar activeFeedback;\nvar FeedbackEmitter = Emitter.inherit({\n  ctor: function ctor() {\n    this.callBase.apply(this, arguments);\n    this._active = new FeedbackEvent(0, commonUtils.noop);\n    this._inactive = new FeedbackEvent(0, commonUtils.noop);\n  },\n  configure: function configure(data, eventName) {\n    switch (eventName) {\n      case ACTIVE_EVENT_NAME:\n        data.activeTimeout = data.timeout;\n        break;\n\n      case INACTIVE_EVENT_NAME:\n        data.inactiveTimeout = data.timeout;\n    }\n\n    this.callBase(data);\n  },\n  start: function start(e) {\n    if (activeFeedback) {\n      var activeChildExists = contains(this.getElement().get(0), activeFeedback.getElement().get(0));\n      var childJustActivated = !activeFeedback._active.fired();\n\n      if (activeChildExists && childJustActivated) {\n        this._cancel();\n\n        return;\n      }\n\n      activeFeedback._inactive.force();\n    }\n\n    activeFeedback = this;\n\n    this._initEvents(e);\n\n    this._active.start();\n  },\n  _initEvents: function _initEvents(e) {\n    var that = this;\n\n    var eventTarget = this._getEmitterTarget(e);\n\n    var mouseEvent = eventUtils.isMouseEvent(e);\n    var isSimulator = devices.isSimulator();\n    var deferFeedback = isSimulator || !mouseEvent;\n    var activeTimeout = commonUtils.ensureDefined(this.activeTimeout, ACTIVE_TIMEOUT);\n    var inactiveTimeout = commonUtils.ensureDefined(this.inactiveTimeout, INACTIVE_TIMEOUT);\n    this._active = new FeedbackEvent(deferFeedback ? activeTimeout : 0, function () {\n      that._fireEvent(ACTIVE_EVENT_NAME, e, {\n        target: eventTarget\n      });\n    });\n    this._inactive = new FeedbackEvent(deferFeedback ? inactiveTimeout : 0, function () {\n      that._fireEvent(INACTIVE_EVENT_NAME, e, {\n        target: eventTarget\n      });\n\n      activeFeedback = null;\n    });\n  },\n  cancel: function cancel(e) {\n    this.end(e);\n  },\n  end: function end(e) {\n    var skipTimers = e.type !== pointerEvents.up;\n\n    if (skipTimers) {\n      this._active.stop();\n    } else {\n      this._active.force();\n    }\n\n    this._inactive.start();\n\n    if (skipTimers) {\n      this._inactive.force();\n    }\n  },\n  dispose: function dispose() {\n    this._active.stop();\n\n    this._inactive.stop();\n\n    this.callBase();\n  },\n  lockInactive: function lockInactive() {\n    this._active.force();\n\n    this._inactive.stop();\n\n    activeFeedback = null;\n\n    this._cancel();\n\n    return this._inactive.force.bind(this._inactive);\n  }\n});\n\nFeedbackEmitter.lock = function (deferred) {\n  var lockInactive = activeFeedback ? activeFeedback.lockInactive() : commonUtils.noop;\n  deferred.done(lockInactive);\n};\n\nregisterEmitter({\n  emitter: FeedbackEmitter,\n  events: [ACTIVE_EVENT_NAME, INACTIVE_EVENT_NAME]\n});\nexports.lock = FeedbackEmitter.lock;\nexports.active = ACTIVE_EVENT_NAME;\nexports.inactive = INACTIVE_EVENT_NAME;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/events/core/emitter.feedback.js"],"names":["Class","require","commonUtils","contains","devices","eventUtils","pointerEvents","Emitter","registerEmitter","ACTIVE_EVENT_NAME","INACTIVE_EVENT_NAME","ACTIVE_TIMEOUT","INACTIVE_TIMEOUT","FeedbackEvent","ctor","start","that","_schedule","setTimeout","stop","clearTimeout","force","fired","FeedbackEmitter","configure","data","activeChildExists","activeFeedback","childJustActivated","_initEvents","eventTarget","mouseEvent","isSimulator","deferFeedback","activeTimeout","inactiveTimeout","target","cancel","end","skipTimers","e","dispose","lockInactive","deferred","emitter","events","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (events/core/emitter.feedback.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar Class = require(\"../../core/class\");\r\nvar commonUtils = require(\"../../core/utils/common\");\r\nvar contains = require(\"../../core/utils/dom\").contains;\r\nvar devices = require(\"../../core/devices\");\r\nvar eventUtils = require(\"../utils\");\r\nvar pointerEvents = require(\"../pointer\");\r\nvar Emitter = require(\"./emitter\");\r\nvar registerEmitter = require(\"./emitter_registrator\");\r\nvar ACTIVE_EVENT_NAME = \"dxactive\";\r\nvar INACTIVE_EVENT_NAME = \"dxinactive\";\r\nvar ACTIVE_TIMEOUT = 30;\r\nvar INACTIVE_TIMEOUT = 400;\r\nvar FeedbackEvent = Class.inherit({\r\n    ctor: function(timeout, fire) {\r\n        this._timeout = timeout;\r\n        this._fire = fire\r\n    },\r\n    start: function() {\r\n        var that = this;\r\n        this._schedule(function() {\r\n            that.force()\r\n        })\r\n    },\r\n    _schedule: function(fn) {\r\n        this.stop();\r\n        this._timer = setTimeout(fn, this._timeout)\r\n    },\r\n    stop: function() {\r\n        clearTimeout(this._timer)\r\n    },\r\n    force: function() {\r\n        if (this._fired) {\r\n            return\r\n        }\r\n        this.stop();\r\n        this._fire();\r\n        this._fired = true\r\n    },\r\n    fired: function() {\r\n        return this._fired\r\n    }\r\n});\r\nvar activeFeedback;\r\nvar FeedbackEmitter = Emitter.inherit({\r\n    ctor: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._active = new FeedbackEvent(0, commonUtils.noop);\r\n        this._inactive = new FeedbackEvent(0, commonUtils.noop)\r\n    },\r\n    configure: function(data, eventName) {\r\n        switch (eventName) {\r\n            case ACTIVE_EVENT_NAME:\r\n                data.activeTimeout = data.timeout;\r\n                break;\r\n            case INACTIVE_EVENT_NAME:\r\n                data.inactiveTimeout = data.timeout\r\n        }\r\n        this.callBase(data)\r\n    },\r\n    start: function(e) {\r\n        if (activeFeedback) {\r\n            var activeChildExists = contains(this.getElement().get(0), activeFeedback.getElement().get(0));\r\n            var childJustActivated = !activeFeedback._active.fired();\r\n            if (activeChildExists && childJustActivated) {\r\n                this._cancel();\r\n                return\r\n            }\r\n            activeFeedback._inactive.force()\r\n        }\r\n        activeFeedback = this;\r\n        this._initEvents(e);\r\n        this._active.start()\r\n    },\r\n    _initEvents: function(e) {\r\n        var that = this;\r\n        var eventTarget = this._getEmitterTarget(e);\r\n        var mouseEvent = eventUtils.isMouseEvent(e);\r\n        var isSimulator = devices.isSimulator();\r\n        var deferFeedback = isSimulator || !mouseEvent;\r\n        var activeTimeout = commonUtils.ensureDefined(this.activeTimeout, ACTIVE_TIMEOUT);\r\n        var inactiveTimeout = commonUtils.ensureDefined(this.inactiveTimeout, INACTIVE_TIMEOUT);\r\n        this._active = new FeedbackEvent(deferFeedback ? activeTimeout : 0, function() {\r\n            that._fireEvent(ACTIVE_EVENT_NAME, e, {\r\n                target: eventTarget\r\n            })\r\n        });\r\n        this._inactive = new FeedbackEvent(deferFeedback ? inactiveTimeout : 0, function() {\r\n            that._fireEvent(INACTIVE_EVENT_NAME, e, {\r\n                target: eventTarget\r\n            });\r\n            activeFeedback = null\r\n        })\r\n    },\r\n    cancel: function(e) {\r\n        this.end(e)\r\n    },\r\n    end: function(e) {\r\n        var skipTimers = e.type !== pointerEvents.up;\r\n        if (skipTimers) {\r\n            this._active.stop()\r\n        } else {\r\n            this._active.force()\r\n        }\r\n        this._inactive.start();\r\n        if (skipTimers) {\r\n            this._inactive.force()\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._active.stop();\r\n        this._inactive.stop();\r\n        this.callBase()\r\n    },\r\n    lockInactive: function() {\r\n        this._active.force();\r\n        this._inactive.stop();\r\n        activeFeedback = null;\r\n        this._cancel();\r\n        return this._inactive.force.bind(this._inactive)\r\n    }\r\n});\r\nFeedbackEmitter.lock = function(deferred) {\r\n    var lockInactive = activeFeedback ? activeFeedback.lockInactive() : commonUtils.noop;\r\n    deferred.done(lockInactive)\r\n};\r\nregisterEmitter({\r\n    emitter: FeedbackEmitter,\r\n    events: [ACTIVE_EVENT_NAME, INACTIVE_EVENT_NAME]\r\n});\r\nexports.lock = FeedbackEmitter.lock;\r\nexports.active = ACTIVE_EVENT_NAME;\r\nexports.inactive = INACTIVE_EVENT_NAME;\r\n"]},"metadata":{},"sourceType":"module"}