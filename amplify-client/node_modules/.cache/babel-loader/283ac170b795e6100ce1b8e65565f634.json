{"ast":null,"code":"import _createClass from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _inherits from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nexport var SubjectSubscriber = /*#__PURE__*/function (_Subscriber) {\n  _inherits(SubjectSubscriber, _Subscriber);\n\n  var _super = _createSuper(SubjectSubscriber);\n\n  function SubjectSubscriber(destination) {\n    var _this;\n\n    _classCallCheck(this, SubjectSubscriber);\n\n    _this = _super.call(this, destination);\n    _this.destination = destination;\n    return _this;\n  }\n\n  return SubjectSubscriber;\n}(Subscriber);\nexport var Subject = /*#__PURE__*/function (_Observable) {\n  _inherits(Subject, _Observable);\n\n  var _super2 = _createSuper(Subject);\n\n  function Subject() {\n    var _this2;\n\n    _classCallCheck(this, Subject);\n\n    _this2 = _super2.call(this);\n    _this2.observers = [];\n    _this2.closed = false;\n    _this2.isStopped = false;\n    _this2.hasError = false;\n    _this2.thrownError = null;\n    return _this2;\n  }\n\n  _createClass(Subject, [{\n    key: rxSubscriberSymbol,\n    value: function value() {\n      return new SubjectSubscriber(this);\n    }\n  }, {\n    key: \"lift\",\n    value: function lift(operator) {\n      var subject = new AnonymousSubject(this, this);\n      subject.operator = operator;\n      return subject;\n    }\n  }, {\n    key: \"next\",\n    value: function next(value) {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      }\n\n      if (!this.isStopped) {\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n\n        for (var i = 0; i < len; i++) {\n          copy[i].next(value);\n        }\n      }\n    }\n  }, {\n    key: \"error\",\n    value: function error(err) {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      }\n\n      this.hasError = true;\n      this.thrownError = err;\n      this.isStopped = true;\n      var observers = this.observers;\n      var len = observers.length;\n      var copy = observers.slice();\n\n      for (var i = 0; i < len; i++) {\n        copy[i].error(err);\n      }\n\n      this.observers.length = 0;\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      }\n\n      this.isStopped = true;\n      var observers = this.observers;\n      var len = observers.length;\n      var copy = observers.slice();\n\n      for (var i = 0; i < len; i++) {\n        copy[i].complete();\n      }\n\n      this.observers.length = 0;\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      this.isStopped = true;\n      this.closed = true;\n      this.observers = null;\n    }\n  }, {\n    key: \"_trySubscribe\",\n    value: function _trySubscribe(subscriber) {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      } else {\n        return _get(_getPrototypeOf(Subject.prototype), \"_trySubscribe\", this).call(this, subscriber);\n      }\n    }\n  }, {\n    key: \"_subscribe\",\n    value: function _subscribe(subscriber) {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      } else if (this.hasError) {\n        subscriber.error(this.thrownError);\n        return Subscription.EMPTY;\n      } else if (this.isStopped) {\n        subscriber.complete();\n        return Subscription.EMPTY;\n      } else {\n        this.observers.push(subscriber);\n        return new SubjectSubscription(this, subscriber);\n      }\n    }\n  }, {\n    key: \"asObservable\",\n    value: function asObservable() {\n      var observable = new Observable();\n      observable.source = this;\n      return observable;\n    }\n  }]);\n\n  return Subject;\n}(Observable);\n\nSubject.create = function (destination, source) {\n  return new AnonymousSubject(destination, source);\n};\n\nexport var AnonymousSubject = /*#__PURE__*/function (_Subject) {\n  _inherits(AnonymousSubject, _Subject);\n\n  var _super3 = _createSuper(AnonymousSubject);\n\n  function AnonymousSubject(destination, source) {\n    var _this3;\n\n    _classCallCheck(this, AnonymousSubject);\n\n    _this3 = _super3.call(this);\n    _this3.destination = destination;\n    _this3.source = source;\n    return _this3;\n  }\n\n  _createClass(AnonymousSubject, [{\n    key: \"next\",\n    value: function next(value) {\n      var destination = this.destination;\n\n      if (destination && destination.next) {\n        destination.next(value);\n      }\n    }\n  }, {\n    key: \"error\",\n    value: function error(err) {\n      var destination = this.destination;\n\n      if (destination && destination.error) {\n        this.destination.error(err);\n      }\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      var destination = this.destination;\n\n      if (destination && destination.complete) {\n        this.destination.complete();\n      }\n    }\n  }, {\n    key: \"_subscribe\",\n    value: function _subscribe(subscriber) {\n      var source = this.source;\n\n      if (source) {\n        return this.source.subscribe(subscriber);\n      } else {\n        return Subscription.EMPTY;\n      }\n    }\n  }]);\n\n  return AnonymousSubject;\n}(Subject);","map":{"version":3,"sources":["../../src/internal/Subject.ts"],"names":[],"mappings":"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","sourcesContent":["import { Observable } from './Observable';\r\nimport { Subscriber } from './Subscriber';\r\nimport { Subscription } from './Subscription';\r\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\r\nimport { SubjectSubscription } from './SubjectSubscription';\r\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\r\nexport class SubjectSubscriber extends Subscriber {\r\n    constructor(destination) {\r\n        super(destination);\r\n        this.destination = destination;\r\n    }\r\n}\r\nexport class Subject extends Observable {\r\n    constructor() {\r\n        super();\r\n        this.observers = [];\r\n        this.closed = false;\r\n        this.isStopped = false;\r\n        this.hasError = false;\r\n        this.thrownError = null;\r\n    }\r\n    [rxSubscriberSymbol]() {\r\n        return new SubjectSubscriber(this);\r\n    }\r\n    lift(operator) {\r\n        const subject = new AnonymousSubject(this, this);\r\n        subject.operator = operator;\r\n        return subject;\r\n    }\r\n    next(value) {\r\n        if (this.closed) {\r\n            throw new ObjectUnsubscribedError();\r\n        }\r\n        if (!this.isStopped) {\r\n            const { observers } = this;\r\n            const len = observers.length;\r\n            const copy = observers.slice();\r\n            for (let i = 0; i < len; i++) {\r\n                copy[i].next(value);\r\n            }\r\n        }\r\n    }\r\n    error(err) {\r\n        if (this.closed) {\r\n            throw new ObjectUnsubscribedError();\r\n        }\r\n        this.hasError = true;\r\n        this.thrownError = err;\r\n        this.isStopped = true;\r\n        const { observers } = this;\r\n        const len = observers.length;\r\n        const copy = observers.slice();\r\n        for (let i = 0; i < len; i++) {\r\n            copy[i].error(err);\r\n        }\r\n        this.observers.length = 0;\r\n    }\r\n    complete() {\r\n        if (this.closed) {\r\n            throw new ObjectUnsubscribedError();\r\n        }\r\n        this.isStopped = true;\r\n        const { observers } = this;\r\n        const len = observers.length;\r\n        const copy = observers.slice();\r\n        for (let i = 0; i < len; i++) {\r\n            copy[i].complete();\r\n        }\r\n        this.observers.length = 0;\r\n    }\r\n    unsubscribe() {\r\n        this.isStopped = true;\r\n        this.closed = true;\r\n        this.observers = null;\r\n    }\r\n    _trySubscribe(subscriber) {\r\n        if (this.closed) {\r\n            throw new ObjectUnsubscribedError();\r\n        }\r\n        else {\r\n            return super._trySubscribe(subscriber);\r\n        }\r\n    }\r\n    _subscribe(subscriber) {\r\n        if (this.closed) {\r\n            throw new ObjectUnsubscribedError();\r\n        }\r\n        else if (this.hasError) {\r\n            subscriber.error(this.thrownError);\r\n            return Subscription.EMPTY;\r\n        }\r\n        else if (this.isStopped) {\r\n            subscriber.complete();\r\n            return Subscription.EMPTY;\r\n        }\r\n        else {\r\n            this.observers.push(subscriber);\r\n            return new SubjectSubscription(this, subscriber);\r\n        }\r\n    }\r\n    asObservable() {\r\n        const observable = new Observable();\r\n        observable.source = this;\r\n        return observable;\r\n    }\r\n}\r\nSubject.create = (destination, source) => {\r\n    return new AnonymousSubject(destination, source);\r\n};\r\nexport class AnonymousSubject extends Subject {\r\n    constructor(destination, source) {\r\n        super();\r\n        this.destination = destination;\r\n        this.source = source;\r\n    }\r\n    next(value) {\r\n        const { destination } = this;\r\n        if (destination && destination.next) {\r\n            destination.next(value);\r\n        }\r\n    }\r\n    error(err) {\r\n        const { destination } = this;\r\n        if (destination && destination.error) {\r\n            this.destination.error(err);\r\n        }\r\n    }\r\n    complete() {\r\n        const { destination } = this;\r\n        if (destination && destination.complete) {\r\n            this.destination.complete();\r\n        }\r\n    }\r\n    _subscribe(subscriber) {\r\n        const { source } = this;\r\n        if (source) {\r\n            return this.source.subscribe(subscriber);\r\n        }\r\n        else {\r\n            return Subscription.EMPTY;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Subject.js.map"]},"metadata":{},"sourceType":"module"}