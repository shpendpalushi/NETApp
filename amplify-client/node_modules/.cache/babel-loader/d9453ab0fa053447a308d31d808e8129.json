{"ast":null,"code":"/**\r\n * DevExtreme (ui/sortable.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _draggable = require(\"./draggable\");\n\nvar _draggable2 = _interopRequireDefault(_draggable);\n\nvar _dom = require(\"../core/utils/dom\");\n\nvar _translator = require(\"../animation/translator\");\n\nvar _translator2 = _interopRequireDefault(_translator);\n\nvar _fx = require(\"../animation/fx\");\n\nvar _fx2 = _interopRequireDefault(_fx);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar SORTABLE = \"dxSortable\";\nvar PLACEHOLDER_CLASS = \"placeholder\";\nvar CLONE_CLASS = \"clone\";\n\nvar isElementVisible = function isElementVisible(itemElement) {\n  return (0, _renderer2.default)(itemElement).is(\":visible\");\n};\n\nvar Sortable = _draggable2.default.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      clone: true,\n      filter: \"> *\",\n      itemOrientation: \"vertical\",\n      dropFeedbackMode: \"push\",\n      allowDropInsideItem: false,\n      allowReordering: true,\n      moveItemOnDrop: false,\n      onDragChange: null,\n      onAdd: null,\n      onRemove: null,\n      onReorder: null,\n      onPlaceholderPrepared: null,\n      animation: {\n        type: \"slide\",\n        duration: 300\n      },\n      fromIndex: null,\n      toIndex: null,\n      dropInsideItem: false,\n      itemPoints: null\n    });\n  },\n  reset: function reset() {\n    this.option({\n      dropInsideItem: false,\n      toIndex: null,\n      fromIndex: null\n    });\n\n    if (this._$placeholderElement) {\n      this._$placeholderElement.remove();\n    }\n\n    this._$placeholderElement = null;\n\n    if (!this._isIndicateMode() && this._$modifiedItem) {\n      this._$modifiedItem.css(\"marginBottom\", this._modifiedItemMargin);\n\n      this._$modifiedItem = null;\n    }\n  },\n  _getPrevVisibleItem: function _getPrevVisibleItem(items, index) {\n    return items.slice(0, index).reverse().filter(isElementVisible)[0];\n  },\n  _dragStartHandler: function _dragStartHandler(e) {\n    this.callBase.apply(this, arguments);\n\n    if (true === e.cancel) {\n      return;\n    }\n\n    var $sourceElement = this._getSourceElement();\n\n    this._updateItemPoints();\n\n    this.option(\"fromIndex\", this._getElementIndex($sourceElement));\n  },\n  _dragEnterHandler: function _dragEnterHandler() {\n    this.callBase.apply(this, arguments);\n\n    if (this === this._getSourceDraggable()) {\n      return;\n    }\n\n    this._updateItemPoints();\n\n    this.option(\"fromIndex\", -1);\n\n    if (!this._isIndicateMode()) {\n      var itemPoints = this.option(\"itemPoints\");\n      var lastItemPoint = itemPoints[itemPoints.length - 1];\n\n      if (lastItemPoint) {\n        var $element = this.$element();\n\n        var $sourceElement = this._getSourceElement();\n\n        var isVertical = this._isVerticalOrientation();\n\n        var sourceElementSize = isVertical ? $sourceElement.outerHeight(true) : $sourceElement.outerWidth(true);\n        var scrollSize = $element.get(0)[isVertical ? \"scrollHeight\" : \"scrollWidth\"];\n        var scrollPosition = $element.get(0)[isVertical ? \"scrollTop\" : \"scrollLeft\"];\n        var positionProp = isVertical ? \"top\" : \"left\";\n        var lastPointPosition = lastItemPoint[positionProp];\n        var elementPosition = $element.offset()[positionProp];\n        var freeSize = elementPosition + scrollSize - scrollPosition - lastPointPosition;\n\n        if (freeSize < sourceElementSize) {\n          if (isVertical) {\n            var items = this._getItems();\n\n            var $lastItem = (0, _renderer2.default)(this._getPrevVisibleItem(items));\n            this._$modifiedItem = $lastItem;\n            this._modifiedItemMargin = $lastItem.get(0).style.marginBottom;\n            $lastItem.css(\"marginBottom\", sourceElementSize - freeSize);\n            var $sortable = $lastItem.closest(\".dx-sortable\");\n            var sortable = $sortable.data(\"dxScrollable\") || $sortable.data(\"dxScrollView\");\n            sortable && sortable.update();\n          }\n        }\n      }\n    }\n  },\n  dragEnter: function dragEnter() {\n    if (this === this._getTargetDraggable()) {\n      this.option(\"toIndex\", this.option(\"fromIndex\"));\n    } else {\n      this.option(\"toIndex\", -1);\n    }\n  },\n  dragLeave: function dragLeave() {\n    if (this === this._getTargetDraggable()) {\n      this.option(\"toIndex\", -1);\n    } else {\n      this.option(\"toIndex\", this.option(\"fromIndex\"));\n    }\n  },\n  dragEnd: function dragEnd(sourceEvent) {\n    var $sourceElement = this._getSourceElement();\n\n    var sourceDraggable = this._getSourceDraggable();\n\n    var isSourceDraggable = sourceDraggable.NAME !== this.NAME;\n    var toIndex = this.option(\"toIndex\");\n\n    if (null !== toIndex && toIndex >= 0) {\n      var cancelAdd;\n      var cancelRemove;\n\n      if (sourceDraggable !== this) {\n        cancelAdd = this._fireAddEvent(sourceEvent);\n\n        if (!cancelAdd) {\n          cancelRemove = this._fireRemoveEvent(sourceEvent);\n        }\n      }\n\n      if (isSourceDraggable) {\n        _translator2.default.resetPosition($sourceElement);\n      }\n\n      if (this.option(\"moveItemOnDrop\")) {\n        !cancelAdd && this._moveItem($sourceElement, toIndex, cancelRemove);\n      }\n\n      if (sourceDraggable === this) {\n        this._fireReorderEvent(sourceEvent);\n      }\n    }\n  },\n  dragMove: function dragMove(e) {\n    var itemPoints = this.option(\"itemPoints\");\n\n    if (!itemPoints) {\n      return;\n    }\n\n    var isVertical = this._isVerticalOrientation();\n\n    var axisName = isVertical ? \"top\" : \"left\";\n    var cursorPosition = isVertical ? e.pageY : e.pageX;\n    var itemPoint;\n\n    for (var i = itemPoints.length - 1; i >= 0; i--) {\n      var centerPosition = itemPoints[i + 1] && (itemPoints[i][axisName] + itemPoints[i + 1][axisName]) / 2;\n\n      if (centerPosition > cursorPosition || void 0 === centerPosition) {\n        itemPoint = itemPoints[i];\n      } else {\n        break;\n      }\n    }\n\n    if (itemPoint) {\n      this._updatePlaceholderPosition(e, itemPoint);\n\n      if (this._verticalScrollHelper.isScrolling() && this._isIndicateMode()) {\n        this._movePlaceholder();\n      }\n    }\n  },\n  _isIndicateMode: function _isIndicateMode() {\n    return \"indicate\" === this.option(\"dropFeedbackMode\") || this.option(\"allowDropInsideItem\");\n  },\n  _createPlaceholder: function _createPlaceholder() {\n    var $placeholderContainer;\n\n    if (this._isIndicateMode()) {\n      $placeholderContainer = (0, _renderer2.default)(\"<div>\").addClass(this._addWidgetPrefix(PLACEHOLDER_CLASS)).insertBefore(this._getSourceDraggable()._$dragElement);\n    }\n\n    this._$placeholderElement = $placeholderContainer;\n    return $placeholderContainer;\n  },\n  _getItems: function _getItems() {\n    var itemsSelector = this._getItemsSelector();\n\n    return this._$content().find(itemsSelector).not(\".\" + this._addWidgetPrefix(PLACEHOLDER_CLASS)).not(\".\" + this._addWidgetPrefix(CLONE_CLASS)).toArray();\n  },\n  _allowReordering: function _allowReordering() {\n    var sourceDraggable = this._getSourceDraggable();\n\n    var targetDraggable = this._getTargetDraggable();\n\n    return sourceDraggable !== targetDraggable || this.option(\"allowReordering\");\n  },\n  _isValidPoint: function _isValidPoint(visibleIndex, draggableVisibleIndex, dropInsideItem) {\n    var allowReordering = dropInsideItem || this._allowReordering();\n\n    if (!allowReordering && 0 !== visibleIndex) {\n      return false;\n    }\n\n    if (!this._isIndicateMode()) {\n      return true;\n    }\n\n    return draggableVisibleIndex === -1 || visibleIndex !== draggableVisibleIndex && (dropInsideItem || visibleIndex !== draggableVisibleIndex + 1);\n  },\n  _getItemPoints: function _getItemPoints() {\n    var that = this;\n    var result;\n\n    var isVertical = that._isVerticalOrientation();\n\n    var itemElements = that._getItems();\n\n    var visibleItemElements = itemElements.filter(isElementVisible);\n\n    var $draggableItem = this._getDraggableElement();\n\n    var draggableVisibleIndex = visibleItemElements.indexOf($draggableItem.get(0));\n    result = visibleItemElements.map(function (item, visibleIndex) {\n      var offset = (0, _renderer2.default)(item).offset();\n      return {\n        dropInsideItem: false,\n        left: offset.left,\n        top: offset.top,\n        index: itemElements.indexOf(item),\n        $item: (0, _renderer2.default)(item),\n        width: (0, _renderer2.default)(item).outerWidth(),\n        height: (0, _renderer2.default)(item).outerHeight(),\n        isValid: that._isValidPoint(visibleIndex, draggableVisibleIndex)\n      };\n    });\n\n    if (result.length) {\n      var lastItem = result[result.length - 1];\n      result.push({\n        dropInsideItem: false,\n        index: itemElements.length,\n        top: isVertical ? lastItem.top + lastItem.height : lastItem.top,\n        left: !isVertical ? lastItem.left + lastItem.width : lastItem.left,\n        isValid: this._isValidPoint(visibleItemElements.length, draggableVisibleIndex)\n      });\n\n      if (this.option(\"allowDropInsideItem\")) {\n        var points = result;\n        result = [];\n\n        for (var i = 0; i < points.length; i++) {\n          result.push(points[i]);\n\n          if (points[i + 1]) {\n            result.push((0, _extend.extend)({}, points[i], {\n              dropInsideItem: true,\n              top: Math.floor((points[i].top + points[i + 1].top) / 2),\n              left: Math.floor((points[i].left + points[i + 1].left) / 2),\n              isValid: this._isValidPoint(i, draggableVisibleIndex, true)\n            }));\n          }\n        }\n      }\n    } else {\n      result.push({\n        dropInsideItem: false,\n        index: 0,\n        isValid: true\n      });\n    }\n\n    return result;\n  },\n  _updateItemPoints: function _updateItemPoints() {\n    this.option(\"itemPoints\", this._getItemPoints());\n  },\n  _getElementIndex: function _getElementIndex($itemElement) {\n    return this._getItems().indexOf($itemElement.get(0));\n  },\n  _getDragTemplateArgs: function _getDragTemplateArgs($element) {\n    var args = this.callBase.apply(this, arguments);\n    args.model.fromIndex = this._getElementIndex($element);\n    return args;\n  },\n  _togglePlaceholder: function _togglePlaceholder(value) {\n    this._$placeholderElement && this._$placeholderElement.toggle(value);\n  },\n  _isVerticalOrientation: function _isVerticalOrientation() {\n    return \"vertical\" === this.option(\"itemOrientation\");\n  },\n  _normalizeToIndex: function _normalizeToIndex(toIndex, dropInsideItem) {\n    var isAnotherDraggable = this._getSourceDraggable() !== this._getTargetDraggable();\n\n    var fromIndex = this.option(\"fromIndex\");\n\n    if (null === toIndex) {\n      return fromIndex;\n    }\n\n    return Math.max(isAnotherDraggable || fromIndex >= toIndex || dropInsideItem ? toIndex : toIndex - 1, 0);\n  },\n  _updatePlaceholderPosition: function _updatePlaceholderPosition(e, itemPoint) {\n    var sourceDraggable = this._getSourceDraggable();\n\n    var toIndex = this._normalizeToIndex(itemPoint.index, itemPoint.dropInsideItem);\n\n    var eventArgs = (0, _extend.extend)(this._getEventArgs(e), {\n      toIndex: toIndex,\n      dropInsideItem: itemPoint.dropInsideItem\n    });\n    itemPoint.isValid && this._getAction(\"onDragChange\")(eventArgs);\n\n    if (eventArgs.cancel || !itemPoint.isValid) {\n      if (!itemPoint.isValid) {\n        this.option({\n          dropInsideItem: false,\n          toIndex: null\n        });\n      }\n\n      return;\n    }\n\n    this.option({\n      dropInsideItem: itemPoint.dropInsideItem,\n      toIndex: itemPoint.index\n    });\n\n    this._getAction(\"onPlaceholderPrepared\")((0, _extend.extend)(this._getEventArgs(e), {\n      placeholderElement: (0, _dom.getPublicElement)(this._$placeholderElement),\n      dragElement: (0, _dom.getPublicElement)(sourceDraggable._$dragElement)\n    }));\n\n    this._updateItemPoints();\n  },\n  _makeWidthCorrection: function _makeWidthCorrection($item, width) {\n    var that = this;\n\n    if (that._$scrollable && that._$scrollable.width() < width) {\n      var scrollableWidth = that._$scrollable.width();\n\n      var offsetLeft = $item.offset().left - that._$scrollable.offset().left;\n\n      var offsetRight = scrollableWidth - $item.outerWidth() - offsetLeft;\n\n      if (offsetLeft > 0) {\n        width = scrollableWidth - offsetLeft;\n      } else {\n        if (offsetRight > 0) {\n          width = scrollableWidth - offsetRight;\n        } else {\n          width = scrollableWidth;\n        }\n      }\n    }\n\n    return width;\n  },\n  _updatePlaceholderSizes: function _updatePlaceholderSizes($placeholderElement, itemElement) {\n    var that = this;\n    var dropInsideItem = that.option(\"dropInsideItem\");\n    var $item = itemElement ? (0, _renderer2.default)(itemElement) : that._getSourceElement();\n\n    var isVertical = that._isVerticalOrientation();\n\n    var width = \"\";\n    var height = \"\";\n    $placeholderElement.toggleClass(that._addWidgetPrefix(\"placeholder-inside\"), dropInsideItem);\n\n    if (isVertical || dropInsideItem) {\n      width = $item.outerWidth();\n    }\n\n    if (!isVertical || dropInsideItem) {\n      height = $item.outerHeight();\n    }\n\n    width = that._makeWidthCorrection($item, width);\n    $placeholderElement.css({\n      width: width,\n      height: height\n    });\n  },\n  _moveItem: function _moveItem($itemElement, index, cancelRemove) {\n    var $prevTargetItemElement;\n\n    var $itemElements = this._getItems();\n\n    var $targetItemElement = $itemElements[index];\n\n    var sourceDraggable = this._getSourceDraggable();\n\n    if (cancelRemove) {\n      $itemElement = $itemElement.clone();\n\n      sourceDraggable._toggleDragSourceClass(false, $itemElement);\n    }\n\n    if (!$targetItemElement) {\n      $prevTargetItemElement = $itemElements[index - 1];\n    }\n\n    this._moveItemCore($itemElement, $targetItemElement, $prevTargetItemElement);\n  },\n  _moveItemCore: function _moveItemCore($targetItem, item, prevItem) {\n    if (!item && !prevItem) {\n      $targetItem.appendTo(this.$element());\n    } else {\n      if (prevItem) {\n        $targetItem.insertAfter((0, _renderer2.default)(prevItem));\n      } else {\n        $targetItem.insertBefore((0, _renderer2.default)(item));\n      }\n    }\n  },\n  _getDragStartArgs: function _getDragStartArgs(e, $itemElement) {\n    return (0, _extend.extend)(this.callBase.apply(this, arguments), {\n      fromIndex: this._getElementIndex($itemElement)\n    });\n  },\n  _getEventArgs: function _getEventArgs(e) {\n    var sourceDraggable = this._getSourceDraggable();\n\n    var targetDraggable = this._getTargetDraggable();\n\n    var dropInsideItem = targetDraggable.option(\"dropInsideItem\");\n    return (0, _extend.extend)(this.callBase.apply(this, arguments), {\n      fromIndex: sourceDraggable.option(\"fromIndex\"),\n      toIndex: this._normalizeToIndex(targetDraggable.option(\"toIndex\"), dropInsideItem),\n      dropInsideItem: dropInsideItem\n    });\n  },\n  _optionChanged: function _optionChanged(args) {\n    var name = args.name;\n\n    switch (name) {\n      case \"onDragChange\":\n      case \"onPlaceholderPrepared\":\n      case \"onAdd\":\n      case \"onRemove\":\n      case \"onReorder\":\n        this[\"_\" + name + \"Action\"] = this._createActionByOption(name);\n        break;\n\n      case \"itemOrientation\":\n      case \"allowDropInsideItem\":\n      case \"moveItemOnDrop\":\n      case \"dropFeedbackMode\":\n      case \"itemPoints\":\n      case \"fromIndex\":\n      case \"animation\":\n      case \"allowReordering\":\n        break;\n\n      case \"dropInsideItem\":\n        this._optionChangedDropInsideItem(args);\n\n        break;\n\n      case \"toIndex\":\n        this._optionChangedToIndex(args);\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _optionChangedDropInsideItem: function _optionChangedDropInsideItem(args) {\n    if (this._isIndicateMode() && this._$placeholderElement) {\n      var toIndex = this.option(\"toIndex\");\n\n      var itemElement = this._getItems()[toIndex];\n\n      this._updatePlaceholderSizes(this._$placeholderElement, itemElement);\n    }\n  },\n  _isPositionVisible: function _isPositionVisible(position) {\n    var $element = this.$element();\n    var scrollContainer;\n\n    if (\"hidden\" !== $element.css(\"overflow\")) {\n      scrollContainer = $element.get(0);\n    } else {\n      $element.parents().each(function () {\n        if (\"visible\" !== (0, _renderer2.default)(this).css(\"overflow\")) {\n          scrollContainer = this;\n          return false;\n        }\n      });\n    }\n\n    if (scrollContainer) {\n      var clientRect = scrollContainer.getBoundingClientRect();\n\n      var isVerticalOrientation = this._isVerticalOrientation();\n\n      var start = isVerticalOrientation ? \"top\" : \"left\";\n      var end = isVerticalOrientation ? \"bottom\" : \"right\";\n\n      if (position[start] < clientRect[start] || position[start] > clientRect[end]) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n  _optionChangedToIndex: function _optionChangedToIndex(args) {\n    var toIndex = args.value;\n\n    if (this._isIndicateMode()) {\n      var showPlaceholder = null !== toIndex && toIndex >= 0;\n\n      this._togglePlaceholder(showPlaceholder);\n\n      if (showPlaceholder) {\n        this._movePlaceholder();\n      }\n    } else {\n      this._moveItems(args.previousValue, args.value);\n    }\n  },\n  _makeLeftCorrection: function _makeLeftCorrection(left, leftMargin) {\n    var that = this;\n    var $scrollable = that._$scrollable;\n\n    if ($scrollable && that._isVerticalOrientation() && $scrollable.scrollLeft() > leftMargin) {\n      left += $scrollable.scrollLeft() - leftMargin;\n    }\n\n    return left;\n  },\n  _movePlaceholder: function _movePlaceholder() {\n    var that = this;\n\n    var $placeholderElement = that._$placeholderElement || that._createPlaceholder();\n\n    var items = that._getItems();\n\n    var toIndex = that.option(\"toIndex\");\n    var itemElement = items[toIndex];\n\n    var isVerticalOrientation = that._isVerticalOrientation();\n\n    var position = null;\n    var leftMargin = 0;\n\n    that._updatePlaceholderSizes($placeholderElement, itemElement);\n\n    if (itemElement) {\n      var $itemElement = (0, _renderer2.default)(itemElement);\n      position = $itemElement.offset();\n      leftMargin = parseFloat($itemElement.css(\"marginLeft\"));\n    } else {\n      var prevVisibleItemElement = this._getPrevVisibleItem(items, toIndex);\n\n      if (prevVisibleItemElement) {\n        position = (0, _renderer2.default)(prevVisibleItemElement).offset();\n        position.top += isVerticalOrientation ? (0, _renderer2.default)(prevVisibleItemElement).outerHeight(true) : (0, _renderer2.default)(prevVisibleItemElement).outerWidth(true);\n      }\n    }\n\n    if (position && !that._isPositionVisible(position)) {\n      position = null;\n    }\n\n    if (position) {\n      position.left = that._makeLeftCorrection(position.left, leftMargin);\n\n      that._move(position, $placeholderElement);\n    }\n\n    $placeholderElement.toggle(!!position);\n  },\n  _getPositions: function _getPositions(items, elementSize, fromIndex, toIndex) {\n    var positions = [];\n\n    for (var i = 0; i < items.length; i++) {\n      var position = 0;\n\n      if (null === toIndex || null === fromIndex) {\n        positions.push(position);\n        continue;\n      }\n\n      if (fromIndex === -1) {\n        if (i >= toIndex) {\n          position = elementSize;\n        }\n      } else {\n        if (toIndex === -1) {\n          if (i > fromIndex) {\n            position = -elementSize;\n          }\n        } else {\n          if (fromIndex < toIndex) {\n            if (i > fromIndex && i < toIndex) {\n              position = -elementSize;\n            }\n          } else {\n            if (fromIndex > toIndex) {\n              if (i >= toIndex && i < fromIndex) {\n                position = elementSize;\n              }\n            }\n          }\n        }\n      }\n\n      positions.push(position);\n    }\n\n    return positions;\n  },\n  _moveItems: function _moveItems(prevToIndex, toIndex) {\n    var fromIndex = this.option(\"fromIndex\");\n\n    var isVerticalOrientation = this._isVerticalOrientation();\n\n    var positionPropName = isVerticalOrientation ? \"top\" : \"left\";\n\n    var $draggableItem = this._getDraggableElement();\n\n    var elementSize = isVerticalOrientation ? ($draggableItem.outerHeight() + $draggableItem.outerHeight(true)) / 2 : ($draggableItem.outerWidth() + $draggableItem.outerWidth(true)) / 2;\n\n    var items = this._getItems();\n\n    var prevPositions = this._getPositions(items, elementSize, fromIndex, prevToIndex);\n\n    var positions = this._getPositions(items, elementSize, fromIndex, toIndex);\n\n    var animationConfig = this.option(\"animation\");\n\n    for (var i = 0; i < items.length; i++) {\n      var $item = (0, _renderer2.default)(items[i]);\n      var prevPosition = prevPositions[i];\n      var position = positions[i];\n\n      if (null === toIndex || null === fromIndex) {\n        _fx2.default.stop($item);\n\n        _translator2.default.resetPosition($item);\n      } else {\n        if (prevPosition !== position) {\n          _fx2.default.stop($item);\n\n          _fx2.default.animate($item, (0, _extend.extend)({}, animationConfig, {\n            to: _defineProperty({}, positionPropName, position)\n          }));\n        }\n      }\n    }\n  },\n  _toggleDragSourceClass: function _toggleDragSourceClass(value, $element) {\n    var $sourceElement = $element || this._$sourceElement;\n    this.callBase.apply(this, arguments);\n\n    if (!this._isIndicateMode()) {\n      $sourceElement && $sourceElement.toggleClass(this._addWidgetPrefix(\"source-hidden\"), value);\n    }\n  },\n  _dispose: function _dispose() {\n    this.reset();\n    this.callBase();\n  },\n  _fireAddEvent: function _fireAddEvent(sourceEvent) {\n    var args = this._getEventArgs(sourceEvent);\n\n    this._getAction(\"onAdd\")(args);\n\n    return args.cancel;\n  },\n  _fireRemoveEvent: function _fireRemoveEvent(sourceEvent) {\n    var sourceDraggable = this._getSourceDraggable();\n\n    var args = this._getEventArgs(sourceEvent);\n\n    sourceDraggable._getAction(\"onRemove\")(args);\n\n    return args.cancel;\n  },\n  _fireReorderEvent: function _fireReorderEvent(sourceEvent) {\n    var args = this._getEventArgs(sourceEvent);\n\n    this._getAction(\"onReorder\")(args);\n  }\n});\n\n(0, _component_registrator2.default)(SORTABLE, Sortable);\nmodule.exports = Sortable;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/sortable.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_component_registrator","_component_registrator2","_extend","_draggable","_draggable2","_dom","_translator","_translator2","_fx","_fx2","obj","key","Object","value","enumerable","configurable","writable","SORTABLE","PLACEHOLDER_CLASS","CLONE_CLASS","isElementVisible","Sortable","_getDefaultOptions","clone","filter","itemOrientation","dropFeedbackMode","allowDropInsideItem","allowReordering","moveItemOnDrop","onDragChange","onAdd","onRemove","onReorder","onPlaceholderPrepared","animation","type","duration","fromIndex","toIndex","dropInsideItem","itemPoints","reset","_getPrevVisibleItem","items","_dragStartHandler","e","$sourceElement","_dragEnterHandler","lastItemPoint","$element","isVertical","sourceElementSize","scrollSize","scrollPosition","positionProp","lastPointPosition","elementPosition","freeSize","$lastItem","$sortable","sortable","dragEnter","dragLeave","dragEnd","sourceDraggable","isSourceDraggable","cancelAdd","cancelRemove","dragMove","axisName","cursorPosition","i","centerPosition","itemPoint","_isIndicateMode","_createPlaceholder","$placeholderContainer","_getItems","itemsSelector","_allowReordering","targetDraggable","_isValidPoint","draggableVisibleIndex","visibleIndex","_getItemPoints","that","itemElements","visibleItemElements","$draggableItem","result","offset","left","top","index","$item","width","height","isValid","lastItem","points","Math","_updateItemPoints","_getElementIndex","$itemElement","_getDragTemplateArgs","args","_togglePlaceholder","_isVerticalOrientation","_normalizeToIndex","isAnotherDraggable","_updatePlaceholderPosition","eventArgs","placeholderElement","dragElement","_makeWidthCorrection","scrollableWidth","offsetLeft","offsetRight","_updatePlaceholderSizes","itemElement","$placeholderElement","_moveItem","$itemElements","$targetItemElement","$prevTargetItemElement","_moveItemCore","$targetItem","_getDragStartArgs","_getEventArgs","_optionChanged","name","_optionChangedDropInsideItem","_isPositionVisible","scrollContainer","clientRect","isVerticalOrientation","start","end","position","_optionChangedToIndex","showPlaceholder","_makeLeftCorrection","$scrollable","_movePlaceholder","leftMargin","parseFloat","prevVisibleItemElement","_getPositions","positions","_moveItems","positionPropName","elementSize","prevPositions","animationConfig","prevPosition","to","_defineProperty","_toggleDragSourceClass","_dispose","_fireAddEvent","_fireRemoveEvent","_fireReorderEvent","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/sortable.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _draggable = require(\"./draggable\");\r\nvar _draggable2 = _interopRequireDefault(_draggable);\r\nvar _dom = require(\"../core/utils/dom\");\r\nvar _translator = require(\"../animation/translator\");\r\nvar _translator2 = _interopRequireDefault(_translator);\r\nvar _fx = require(\"../animation/fx\");\r\nvar _fx2 = _interopRequireDefault(_fx);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\nvar SORTABLE = \"dxSortable\";\r\nvar PLACEHOLDER_CLASS = \"placeholder\";\r\nvar CLONE_CLASS = \"clone\";\r\nvar isElementVisible = function(itemElement) {\r\n    return (0, _renderer2.default)(itemElement).is(\":visible\")\r\n};\r\nvar Sortable = _draggable2.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            clone: true,\r\n            filter: \"> *\",\r\n            itemOrientation: \"vertical\",\r\n            dropFeedbackMode: \"push\",\r\n            allowDropInsideItem: false,\r\n            allowReordering: true,\r\n            moveItemOnDrop: false,\r\n            onDragChange: null,\r\n            onAdd: null,\r\n            onRemove: null,\r\n            onReorder: null,\r\n            onPlaceholderPrepared: null,\r\n            animation: {\r\n                type: \"slide\",\r\n                duration: 300\r\n            },\r\n            fromIndex: null,\r\n            toIndex: null,\r\n            dropInsideItem: false,\r\n            itemPoints: null\r\n        })\r\n    },\r\n    reset: function() {\r\n        this.option({\r\n            dropInsideItem: false,\r\n            toIndex: null,\r\n            fromIndex: null\r\n        });\r\n        if (this._$placeholderElement) {\r\n            this._$placeholderElement.remove()\r\n        }\r\n        this._$placeholderElement = null;\r\n        if (!this._isIndicateMode() && this._$modifiedItem) {\r\n            this._$modifiedItem.css(\"marginBottom\", this._modifiedItemMargin);\r\n            this._$modifiedItem = null\r\n        }\r\n    },\r\n    _getPrevVisibleItem: function(items, index) {\r\n        return items.slice(0, index).reverse().filter(isElementVisible)[0]\r\n    },\r\n    _dragStartHandler: function(e) {\r\n        this.callBase.apply(this, arguments);\r\n        if (true === e.cancel) {\r\n            return\r\n        }\r\n        var $sourceElement = this._getSourceElement();\r\n        this._updateItemPoints();\r\n        this.option(\"fromIndex\", this._getElementIndex($sourceElement))\r\n    },\r\n    _dragEnterHandler: function() {\r\n        this.callBase.apply(this, arguments);\r\n        if (this === this._getSourceDraggable()) {\r\n            return\r\n        }\r\n        this._updateItemPoints();\r\n        this.option(\"fromIndex\", -1);\r\n        if (!this._isIndicateMode()) {\r\n            var itemPoints = this.option(\"itemPoints\");\r\n            var lastItemPoint = itemPoints[itemPoints.length - 1];\r\n            if (lastItemPoint) {\r\n                var $element = this.$element();\r\n                var $sourceElement = this._getSourceElement();\r\n                var isVertical = this._isVerticalOrientation();\r\n                var sourceElementSize = isVertical ? $sourceElement.outerHeight(true) : $sourceElement.outerWidth(true);\r\n                var scrollSize = $element.get(0)[isVertical ? \"scrollHeight\" : \"scrollWidth\"];\r\n                var scrollPosition = $element.get(0)[isVertical ? \"scrollTop\" : \"scrollLeft\"];\r\n                var positionProp = isVertical ? \"top\" : \"left\";\r\n                var lastPointPosition = lastItemPoint[positionProp];\r\n                var elementPosition = $element.offset()[positionProp];\r\n                var freeSize = elementPosition + scrollSize - scrollPosition - lastPointPosition;\r\n                if (freeSize < sourceElementSize) {\r\n                    if (isVertical) {\r\n                        var items = this._getItems();\r\n                        var $lastItem = (0, _renderer2.default)(this._getPrevVisibleItem(items));\r\n                        this._$modifiedItem = $lastItem;\r\n                        this._modifiedItemMargin = $lastItem.get(0).style.marginBottom;\r\n                        $lastItem.css(\"marginBottom\", sourceElementSize - freeSize);\r\n                        var $sortable = $lastItem.closest(\".dx-sortable\");\r\n                        var sortable = $sortable.data(\"dxScrollable\") || $sortable.data(\"dxScrollView\");\r\n                        sortable && sortable.update()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    dragEnter: function() {\r\n        if (this === this._getTargetDraggable()) {\r\n            this.option(\"toIndex\", this.option(\"fromIndex\"))\r\n        } else {\r\n            this.option(\"toIndex\", -1)\r\n        }\r\n    },\r\n    dragLeave: function() {\r\n        if (this === this._getTargetDraggable()) {\r\n            this.option(\"toIndex\", -1)\r\n        } else {\r\n            this.option(\"toIndex\", this.option(\"fromIndex\"))\r\n        }\r\n    },\r\n    dragEnd: function(sourceEvent) {\r\n        var $sourceElement = this._getSourceElement();\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var isSourceDraggable = sourceDraggable.NAME !== this.NAME;\r\n        var toIndex = this.option(\"toIndex\");\r\n        if (null !== toIndex && toIndex >= 0) {\r\n            var cancelAdd;\r\n            var cancelRemove;\r\n            if (sourceDraggable !== this) {\r\n                cancelAdd = this._fireAddEvent(sourceEvent);\r\n                if (!cancelAdd) {\r\n                    cancelRemove = this._fireRemoveEvent(sourceEvent)\r\n                }\r\n            }\r\n            if (isSourceDraggable) {\r\n                _translator2.default.resetPosition($sourceElement)\r\n            }\r\n            if (this.option(\"moveItemOnDrop\")) {\r\n                !cancelAdd && this._moveItem($sourceElement, toIndex, cancelRemove)\r\n            }\r\n            if (sourceDraggable === this) {\r\n                this._fireReorderEvent(sourceEvent)\r\n            }\r\n        }\r\n    },\r\n    dragMove: function(e) {\r\n        var itemPoints = this.option(\"itemPoints\");\r\n        if (!itemPoints) {\r\n            return\r\n        }\r\n        var isVertical = this._isVerticalOrientation();\r\n        var axisName = isVertical ? \"top\" : \"left\";\r\n        var cursorPosition = isVertical ? e.pageY : e.pageX;\r\n        var itemPoint;\r\n        for (var i = itemPoints.length - 1; i >= 0; i--) {\r\n            var centerPosition = itemPoints[i + 1] && (itemPoints[i][axisName] + itemPoints[i + 1][axisName]) / 2;\r\n            if (centerPosition > cursorPosition || void 0 === centerPosition) {\r\n                itemPoint = itemPoints[i]\r\n            } else {\r\n                break\r\n            }\r\n        }\r\n        if (itemPoint) {\r\n            this._updatePlaceholderPosition(e, itemPoint);\r\n            if (this._verticalScrollHelper.isScrolling() && this._isIndicateMode()) {\r\n                this._movePlaceholder()\r\n            }\r\n        }\r\n    },\r\n    _isIndicateMode: function() {\r\n        return \"indicate\" === this.option(\"dropFeedbackMode\") || this.option(\"allowDropInsideItem\")\r\n    },\r\n    _createPlaceholder: function() {\r\n        var $placeholderContainer;\r\n        if (this._isIndicateMode()) {\r\n            $placeholderContainer = (0, _renderer2.default)(\"<div>\").addClass(this._addWidgetPrefix(PLACEHOLDER_CLASS)).insertBefore(this._getSourceDraggable()._$dragElement)\r\n        }\r\n        this._$placeholderElement = $placeholderContainer;\r\n        return $placeholderContainer\r\n    },\r\n    _getItems: function() {\r\n        var itemsSelector = this._getItemsSelector();\r\n        return this._$content().find(itemsSelector).not(\".\" + this._addWidgetPrefix(PLACEHOLDER_CLASS)).not(\".\" + this._addWidgetPrefix(CLONE_CLASS)).toArray()\r\n    },\r\n    _allowReordering: function() {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var targetDraggable = this._getTargetDraggable();\r\n        return sourceDraggable !== targetDraggable || this.option(\"allowReordering\")\r\n    },\r\n    _isValidPoint: function(visibleIndex, draggableVisibleIndex, dropInsideItem) {\r\n        var allowReordering = dropInsideItem || this._allowReordering();\r\n        if (!allowReordering && 0 !== visibleIndex) {\r\n            return false\r\n        }\r\n        if (!this._isIndicateMode()) {\r\n            return true\r\n        }\r\n        return draggableVisibleIndex === -1 || visibleIndex !== draggableVisibleIndex && (dropInsideItem || visibleIndex !== draggableVisibleIndex + 1)\r\n    },\r\n    _getItemPoints: function() {\r\n        var that = this;\r\n        var result;\r\n        var isVertical = that._isVerticalOrientation();\r\n        var itemElements = that._getItems();\r\n        var visibleItemElements = itemElements.filter(isElementVisible);\r\n        var $draggableItem = this._getDraggableElement();\r\n        var draggableVisibleIndex = visibleItemElements.indexOf($draggableItem.get(0));\r\n        result = visibleItemElements.map(function(item, visibleIndex) {\r\n            var offset = (0, _renderer2.default)(item).offset();\r\n            return {\r\n                dropInsideItem: false,\r\n                left: offset.left,\r\n                top: offset.top,\r\n                index: itemElements.indexOf(item),\r\n                $item: (0, _renderer2.default)(item),\r\n                width: (0, _renderer2.default)(item).outerWidth(),\r\n                height: (0, _renderer2.default)(item).outerHeight(),\r\n                isValid: that._isValidPoint(visibleIndex, draggableVisibleIndex)\r\n            }\r\n        });\r\n        if (result.length) {\r\n            var lastItem = result[result.length - 1];\r\n            result.push({\r\n                dropInsideItem: false,\r\n                index: itemElements.length,\r\n                top: isVertical ? lastItem.top + lastItem.height : lastItem.top,\r\n                left: !isVertical ? lastItem.left + lastItem.width : lastItem.left,\r\n                isValid: this._isValidPoint(visibleItemElements.length, draggableVisibleIndex)\r\n            });\r\n            if (this.option(\"allowDropInsideItem\")) {\r\n                var points = result;\r\n                result = [];\r\n                for (var i = 0; i < points.length; i++) {\r\n                    result.push(points[i]);\r\n                    if (points[i + 1]) {\r\n                        result.push((0, _extend.extend)({}, points[i], {\r\n                            dropInsideItem: true,\r\n                            top: Math.floor((points[i].top + points[i + 1].top) / 2),\r\n                            left: Math.floor((points[i].left + points[i + 1].left) / 2),\r\n                            isValid: this._isValidPoint(i, draggableVisibleIndex, true)\r\n                        }))\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            result.push({\r\n                dropInsideItem: false,\r\n                index: 0,\r\n                isValid: true\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _updateItemPoints: function() {\r\n        this.option(\"itemPoints\", this._getItemPoints())\r\n    },\r\n    _getElementIndex: function($itemElement) {\r\n        return this._getItems().indexOf($itemElement.get(0))\r\n    },\r\n    _getDragTemplateArgs: function($element) {\r\n        var args = this.callBase.apply(this, arguments);\r\n        args.model.fromIndex = this._getElementIndex($element);\r\n        return args\r\n    },\r\n    _togglePlaceholder: function(value) {\r\n        this._$placeholderElement && this._$placeholderElement.toggle(value)\r\n    },\r\n    _isVerticalOrientation: function() {\r\n        return \"vertical\" === this.option(\"itemOrientation\")\r\n    },\r\n    _normalizeToIndex: function(toIndex, dropInsideItem) {\r\n        var isAnotherDraggable = this._getSourceDraggable() !== this._getTargetDraggable();\r\n        var fromIndex = this.option(\"fromIndex\");\r\n        if (null === toIndex) {\r\n            return fromIndex\r\n        }\r\n        return Math.max(isAnotherDraggable || fromIndex >= toIndex || dropInsideItem ? toIndex : toIndex - 1, 0)\r\n    },\r\n    _updatePlaceholderPosition: function(e, itemPoint) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var toIndex = this._normalizeToIndex(itemPoint.index, itemPoint.dropInsideItem);\r\n        var eventArgs = (0, _extend.extend)(this._getEventArgs(e), {\r\n            toIndex: toIndex,\r\n            dropInsideItem: itemPoint.dropInsideItem\r\n        });\r\n        itemPoint.isValid && this._getAction(\"onDragChange\")(eventArgs);\r\n        if (eventArgs.cancel || !itemPoint.isValid) {\r\n            if (!itemPoint.isValid) {\r\n                this.option({\r\n                    dropInsideItem: false,\r\n                    toIndex: null\r\n                })\r\n            }\r\n            return\r\n        }\r\n        this.option({\r\n            dropInsideItem: itemPoint.dropInsideItem,\r\n            toIndex: itemPoint.index\r\n        });\r\n        this._getAction(\"onPlaceholderPrepared\")((0, _extend.extend)(this._getEventArgs(e), {\r\n            placeholderElement: (0, _dom.getPublicElement)(this._$placeholderElement),\r\n            dragElement: (0, _dom.getPublicElement)(sourceDraggable._$dragElement)\r\n        }));\r\n        this._updateItemPoints()\r\n    },\r\n    _makeWidthCorrection: function($item, width) {\r\n        var that = this;\r\n        if (that._$scrollable && that._$scrollable.width() < width) {\r\n            var scrollableWidth = that._$scrollable.width();\r\n            var offsetLeft = $item.offset().left - that._$scrollable.offset().left;\r\n            var offsetRight = scrollableWidth - $item.outerWidth() - offsetLeft;\r\n            if (offsetLeft > 0) {\r\n                width = scrollableWidth - offsetLeft\r\n            } else {\r\n                if (offsetRight > 0) {\r\n                    width = scrollableWidth - offsetRight\r\n                } else {\r\n                    width = scrollableWidth\r\n                }\r\n            }\r\n        }\r\n        return width\r\n    },\r\n    _updatePlaceholderSizes: function($placeholderElement, itemElement) {\r\n        var that = this;\r\n        var dropInsideItem = that.option(\"dropInsideItem\");\r\n        var $item = itemElement ? (0, _renderer2.default)(itemElement) : that._getSourceElement();\r\n        var isVertical = that._isVerticalOrientation();\r\n        var width = \"\";\r\n        var height = \"\";\r\n        $placeholderElement.toggleClass(that._addWidgetPrefix(\"placeholder-inside\"), dropInsideItem);\r\n        if (isVertical || dropInsideItem) {\r\n            width = $item.outerWidth()\r\n        }\r\n        if (!isVertical || dropInsideItem) {\r\n            height = $item.outerHeight()\r\n        }\r\n        width = that._makeWidthCorrection($item, width);\r\n        $placeholderElement.css({\r\n            width: width,\r\n            height: height\r\n        })\r\n    },\r\n    _moveItem: function($itemElement, index, cancelRemove) {\r\n        var $prevTargetItemElement;\r\n        var $itemElements = this._getItems();\r\n        var $targetItemElement = $itemElements[index];\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        if (cancelRemove) {\r\n            $itemElement = $itemElement.clone();\r\n            sourceDraggable._toggleDragSourceClass(false, $itemElement)\r\n        }\r\n        if (!$targetItemElement) {\r\n            $prevTargetItemElement = $itemElements[index - 1]\r\n        }\r\n        this._moveItemCore($itemElement, $targetItemElement, $prevTargetItemElement)\r\n    },\r\n    _moveItemCore: function($targetItem, item, prevItem) {\r\n        if (!item && !prevItem) {\r\n            $targetItem.appendTo(this.$element())\r\n        } else {\r\n            if (prevItem) {\r\n                $targetItem.insertAfter((0, _renderer2.default)(prevItem))\r\n            } else {\r\n                $targetItem.insertBefore((0, _renderer2.default)(item))\r\n            }\r\n        }\r\n    },\r\n    _getDragStartArgs: function(e, $itemElement) {\r\n        return (0, _extend.extend)(this.callBase.apply(this, arguments), {\r\n            fromIndex: this._getElementIndex($itemElement)\r\n        })\r\n    },\r\n    _getEventArgs: function(e) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var targetDraggable = this._getTargetDraggable();\r\n        var dropInsideItem = targetDraggable.option(\"dropInsideItem\");\r\n        return (0, _extend.extend)(this.callBase.apply(this, arguments), {\r\n            fromIndex: sourceDraggable.option(\"fromIndex\"),\r\n            toIndex: this._normalizeToIndex(targetDraggable.option(\"toIndex\"), dropInsideItem),\r\n            dropInsideItem: dropInsideItem\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        switch (name) {\r\n            case \"onDragChange\":\r\n            case \"onPlaceholderPrepared\":\r\n            case \"onAdd\":\r\n            case \"onRemove\":\r\n            case \"onReorder\":\r\n                this[\"_\" + name + \"Action\"] = this._createActionByOption(name);\r\n                break;\r\n            case \"itemOrientation\":\r\n            case \"allowDropInsideItem\":\r\n            case \"moveItemOnDrop\":\r\n            case \"dropFeedbackMode\":\r\n            case \"itemPoints\":\r\n            case \"fromIndex\":\r\n            case \"animation\":\r\n            case \"allowReordering\":\r\n                break;\r\n            case \"dropInsideItem\":\r\n                this._optionChangedDropInsideItem(args);\r\n                break;\r\n            case \"toIndex\":\r\n                this._optionChangedToIndex(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _optionChangedDropInsideItem: function(args) {\r\n        if (this._isIndicateMode() && this._$placeholderElement) {\r\n            var toIndex = this.option(\"toIndex\");\r\n            var itemElement = this._getItems()[toIndex];\r\n            this._updatePlaceholderSizes(this._$placeholderElement, itemElement)\r\n        }\r\n    },\r\n    _isPositionVisible: function(position) {\r\n        var $element = this.$element();\r\n        var scrollContainer;\r\n        if (\"hidden\" !== $element.css(\"overflow\")) {\r\n            scrollContainer = $element.get(0)\r\n        } else {\r\n            $element.parents().each(function() {\r\n                if (\"visible\" !== (0, _renderer2.default)(this).css(\"overflow\")) {\r\n                    scrollContainer = this;\r\n                    return false\r\n                }\r\n            })\r\n        }\r\n        if (scrollContainer) {\r\n            var clientRect = scrollContainer.getBoundingClientRect();\r\n            var isVerticalOrientation = this._isVerticalOrientation();\r\n            var start = isVerticalOrientation ? \"top\" : \"left\";\r\n            var end = isVerticalOrientation ? \"bottom\" : \"right\";\r\n            if (position[start] < clientRect[start] || position[start] > clientRect[end]) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    _optionChangedToIndex: function(args) {\r\n        var toIndex = args.value;\r\n        if (this._isIndicateMode()) {\r\n            var showPlaceholder = null !== toIndex && toIndex >= 0;\r\n            this._togglePlaceholder(showPlaceholder);\r\n            if (showPlaceholder) {\r\n                this._movePlaceholder()\r\n            }\r\n        } else {\r\n            this._moveItems(args.previousValue, args.value)\r\n        }\r\n    },\r\n    _makeLeftCorrection: function(left, leftMargin) {\r\n        var that = this;\r\n        var $scrollable = that._$scrollable;\r\n        if ($scrollable && that._isVerticalOrientation() && $scrollable.scrollLeft() > leftMargin) {\r\n            left += $scrollable.scrollLeft() - leftMargin\r\n        }\r\n        return left\r\n    },\r\n    _movePlaceholder: function() {\r\n        var that = this;\r\n        var $placeholderElement = that._$placeholderElement || that._createPlaceholder();\r\n        var items = that._getItems();\r\n        var toIndex = that.option(\"toIndex\");\r\n        var itemElement = items[toIndex];\r\n        var isVerticalOrientation = that._isVerticalOrientation();\r\n        var position = null;\r\n        var leftMargin = 0;\r\n        that._updatePlaceholderSizes($placeholderElement, itemElement);\r\n        if (itemElement) {\r\n            var $itemElement = (0, _renderer2.default)(itemElement);\r\n            position = $itemElement.offset();\r\n            leftMargin = parseFloat($itemElement.css(\"marginLeft\"))\r\n        } else {\r\n            var prevVisibleItemElement = this._getPrevVisibleItem(items, toIndex);\r\n            if (prevVisibleItemElement) {\r\n                position = (0, _renderer2.default)(prevVisibleItemElement).offset();\r\n                position.top += isVerticalOrientation ? (0, _renderer2.default)(prevVisibleItemElement).outerHeight(true) : (0, _renderer2.default)(prevVisibleItemElement).outerWidth(true)\r\n            }\r\n        }\r\n        if (position && !that._isPositionVisible(position)) {\r\n            position = null\r\n        }\r\n        if (position) {\r\n            position.left = that._makeLeftCorrection(position.left, leftMargin);\r\n            that._move(position, $placeholderElement)\r\n        }\r\n        $placeholderElement.toggle(!!position)\r\n    },\r\n    _getPositions: function(items, elementSize, fromIndex, toIndex) {\r\n        var positions = [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            var position = 0;\r\n            if (null === toIndex || null === fromIndex) {\r\n                positions.push(position);\r\n                continue\r\n            }\r\n            if (fromIndex === -1) {\r\n                if (i >= toIndex) {\r\n                    position = elementSize\r\n                }\r\n            } else {\r\n                if (toIndex === -1) {\r\n                    if (i > fromIndex) {\r\n                        position = -elementSize\r\n                    }\r\n                } else {\r\n                    if (fromIndex < toIndex) {\r\n                        if (i > fromIndex && i < toIndex) {\r\n                            position = -elementSize\r\n                        }\r\n                    } else {\r\n                        if (fromIndex > toIndex) {\r\n                            if (i >= toIndex && i < fromIndex) {\r\n                                position = elementSize\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            positions.push(position)\r\n        }\r\n        return positions\r\n    },\r\n    _moveItems: function(prevToIndex, toIndex) {\r\n        var fromIndex = this.option(\"fromIndex\");\r\n        var isVerticalOrientation = this._isVerticalOrientation();\r\n        var positionPropName = isVerticalOrientation ? \"top\" : \"left\";\r\n        var $draggableItem = this._getDraggableElement();\r\n        var elementSize = isVerticalOrientation ? ($draggableItem.outerHeight() + $draggableItem.outerHeight(true)) / 2 : ($draggableItem.outerWidth() + $draggableItem.outerWidth(true)) / 2;\r\n        var items = this._getItems();\r\n        var prevPositions = this._getPositions(items, elementSize, fromIndex, prevToIndex);\r\n        var positions = this._getPositions(items, elementSize, fromIndex, toIndex);\r\n        var animationConfig = this.option(\"animation\");\r\n        for (var i = 0; i < items.length; i++) {\r\n            var $item = (0, _renderer2.default)(items[i]);\r\n            var prevPosition = prevPositions[i];\r\n            var position = positions[i];\r\n            if (null === toIndex || null === fromIndex) {\r\n                _fx2.default.stop($item);\r\n                _translator2.default.resetPosition($item)\r\n            } else {\r\n                if (prevPosition !== position) {\r\n                    _fx2.default.stop($item);\r\n                    _fx2.default.animate($item, (0, _extend.extend)({}, animationConfig, {\r\n                        to: _defineProperty({}, positionPropName, position)\r\n                    }))\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _toggleDragSourceClass: function(value, $element) {\r\n        var $sourceElement = $element || this._$sourceElement;\r\n        this.callBase.apply(this, arguments);\r\n        if (!this._isIndicateMode()) {\r\n            $sourceElement && $sourceElement.toggleClass(this._addWidgetPrefix(\"source-hidden\"), value)\r\n        }\r\n    },\r\n    _dispose: function() {\r\n        this.reset();\r\n        this.callBase()\r\n    },\r\n    _fireAddEvent: function(sourceEvent) {\r\n        var args = this._getEventArgs(sourceEvent);\r\n        this._getAction(\"onAdd\")(args);\r\n        return args.cancel\r\n    },\r\n    _fireRemoveEvent: function(sourceEvent) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var args = this._getEventArgs(sourceEvent);\r\n        sourceDraggable._getAction(\"onRemove\")(args);\r\n        return args.cancel\r\n    },\r\n    _fireReorderEvent: function(sourceEvent) {\r\n        var args = this._getEventArgs(sourceEvent);\r\n        this._getAction(\"onReorder\")(args)\r\n    }\r\n});\r\n(0, _component_registrator2.default)(SORTABLE, Sortable);\r\nmodule.exports = Sortable;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"module"}