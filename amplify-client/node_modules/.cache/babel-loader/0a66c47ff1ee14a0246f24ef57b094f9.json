{"ast":null,"code":"/**\r\n * DevExtreme (ui/pivot_grid/ui.pivot_grid.area_item.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _class = require(\"../../core/class\");\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _dom = require(\"../../core/utils/dom\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar PIVOTGRID_EXPAND_CLASS = \"dx-expand\";\n\nvar getRealElementWidth = function getRealElementWidth(element) {\n  var width = 0;\n  var offsetWidth = element.offsetWidth;\n\n  if (element.getBoundingClientRect) {\n    var clientRect = element.getBoundingClientRect();\n    width = clientRect.width;\n\n    if (!width) {\n      width = clientRect.right - clientRect.left;\n    }\n\n    if (width <= offsetWidth - 1) {\n      width = offsetWidth;\n    }\n  }\n\n  return width > 0 ? width : offsetWidth;\n};\n\nfunction getFakeTableOffset(scrollPos, elementOffset, tableSize, viewPortSize) {\n  var offset = 0;\n  var halfTableCount = 0;\n  var halfTableSize = tableSize / 2;\n\n  if (scrollPos + viewPortSize - (elementOffset + tableSize) > 1) {\n    if (scrollPos >= elementOffset + tableSize + halfTableSize) {\n      halfTableCount = parseInt((scrollPos - (elementOffset + tableSize)) / halfTableSize, 10);\n    }\n\n    offset = elementOffset + tableSize + halfTableSize * halfTableCount;\n  } else {\n    if (scrollPos < elementOffset) {\n      if (scrollPos <= elementOffset - halfTableSize) {\n        halfTableCount = parseInt((scrollPos - (elementOffset - halfTableSize)) / halfTableSize, 10);\n      }\n\n      offset = elementOffset - (tableSize - halfTableSize * halfTableCount);\n    } else {\n      offset = elementOffset;\n    }\n  }\n\n  return offset;\n}\n\nexports.AreaItem = _class2.default.inherit({\n  _getRowElement: function _getRowElement(index) {\n    var that = this;\n\n    if (that._tableElement && that._tableElement.length > 0) {\n      return that._tableElement[0].rows[index];\n    }\n\n    return null;\n  },\n  _createGroupElement: function _createGroupElement() {\n    return (0, _renderer2.default)(\"<div>\");\n  },\n  _createTableElement: function _createTableElement() {\n    return (0, _renderer2.default)(\"<table>\");\n  },\n  _getCellText: function _getCellText(cell, encodeHtml) {\n    var cellText = cell.isWhiteSpace ? \"&nbsp\" : cell.text || \"&nbsp\";\n\n    if (encodeHtml && (cellText.indexOf(\"<\") !== -1 || cellText.indexOf(\">\") !== -1)) {\n      cellText = (0, _renderer2.default)(\"<div>\").text(cellText).html();\n    }\n\n    return cellText;\n  },\n  _getRowClassNames: function _getRowClassNames() {},\n  _applyCustomStyles: function _applyCustomStyles(options) {\n    if (options.cell.width) {\n      options.cssArray.push(\"min-width:\" + options.cell.width + \"px\");\n    }\n\n    if (options.cell.sorted) {\n      options.classArray.push(\"dx-pivotgrid-sorted\");\n    }\n  },\n  _getMainElementMarkup: function _getMainElementMarkup() {\n    return \"<tbody>\";\n  },\n  _getCloseMainElementMarkup: function _getCloseMainElementMarkup() {\n    return \"</tbody>\";\n  },\n  _renderTableContent: function _renderTableContent(tableElement, data) {\n    var that = this;\n    var rowsCount = data.length;\n    var row;\n    var cell;\n    var i;\n    var j;\n    var rowElement;\n    var cellElement;\n    var cellText;\n    var rtlEnabled = that.option(\"rtlEnabled\");\n    var markupArray = [];\n    var encodeHtml = that.option(\"encodeHtml\");\n    var rowClassNames;\n    var colspan = \"colspan='\";\n    var rowspan = \"rowspan='\";\n    tableElement.data(\"area\", that._getAreaName());\n    tableElement.data(\"data\", data);\n    tableElement.css(\"width\", \"\");\n    markupArray.push(that._getMainElementMarkup());\n\n    for (i = 0; i < rowsCount; i++) {\n      row = data[i];\n      var columnMarkupArray = [];\n      rowClassNames = [];\n      markupArray.push(\"<tr \");\n\n      for (j = 0; j < row.length; j++) {\n        cell = row[j];\n\n        this._getRowClassNames(i, cell, rowClassNames);\n\n        columnMarkupArray.push(\"<td \");\n\n        if (cell) {\n          cell.rowspan && columnMarkupArray.push(rowspan + (cell.rowspan || 1) + \"'\");\n          cell.colspan && columnMarkupArray.push(colspan + (cell.colspan || 1) + \"'\");\n          var styleOptions = {\n            cellElement: cellElement,\n            cell: cell,\n            cellsCount: row.length,\n            cellIndex: j,\n            rowElement: rowElement,\n            rowIndex: i,\n            rowsCount: rowsCount,\n            rtlEnabled: rtlEnabled,\n            classArray: [],\n            cssArray: []\n          };\n\n          that._applyCustomStyles(styleOptions);\n\n          if (styleOptions.cssArray.length) {\n            columnMarkupArray.push(\"style='\");\n            columnMarkupArray.push(styleOptions.cssArray.join(\";\"));\n            columnMarkupArray.push(\"'\");\n          }\n\n          if (styleOptions.classArray.length) {\n            columnMarkupArray.push(\"class='\");\n            columnMarkupArray.push(styleOptions.classArray.join(\" \"));\n            columnMarkupArray.push(\"'\");\n          }\n\n          columnMarkupArray.push(\">\");\n\n          if ((0, _type.isDefined)(cell.expanded)) {\n            columnMarkupArray.push(\"<div class='dx-expand-icon-container'><span class='\" + PIVOTGRID_EXPAND_CLASS + \"'></span></div>\");\n          }\n\n          cellText = this._getCellText(cell, encodeHtml);\n        } else {\n          cellText = \"\";\n        }\n\n        columnMarkupArray.push(\"<span \");\n\n        if ((0, _type.isDefined)(cell.wordWrapEnabled)) {\n          columnMarkupArray.push(\"style='white-space:\", cell.wordWrapEnabled ? \"normal\" : \"nowrap\", \";'\");\n        }\n\n        columnMarkupArray.push(\">\" + cellText + \"</span>\");\n\n        if (cell.sorted) {\n          columnMarkupArray.push(\"<span class='dx-icon-sorted'></span>\");\n        }\n\n        columnMarkupArray.push(\"</td>\");\n      }\n\n      if (rowClassNames.length) {\n        markupArray.push(\"class='\");\n        markupArray.push(rowClassNames.join(\" \"));\n        markupArray.push(\"'\");\n      }\n\n      markupArray.push(\">\");\n      markupArray.push(columnMarkupArray.join(\"\"));\n      markupArray.push(\"</tr>\");\n    }\n\n    markupArray.push(this._getCloseMainElementMarkup());\n    tableElement.append(markupArray.join(\"\"));\n\n    this._triggerOnCellPrepared(tableElement, data);\n  },\n  _triggerOnCellPrepared: function _triggerOnCellPrepared(tableElement, data) {\n    var that = this;\n    var rowElements = tableElement.find(\"tr\");\n\n    var areaName = that._getAreaName();\n\n    var onCellPrepared = that.option(\"onCellPrepared\");\n    var hasEvent = that.component.hasEvent(\"cellPrepared\");\n    var rowElement;\n    var $cellElement;\n    var onCellPreparedArgs;\n\n    var defaultActionArgs = this.component._defaultActionArgs();\n\n    var row;\n    var cell;\n    var rowIndex;\n    var columnIndex;\n\n    if (onCellPrepared || hasEvent) {\n      for (rowIndex = 0; rowIndex < data.length; rowIndex++) {\n        row = data[rowIndex];\n        rowElement = rowElements.eq(rowIndex);\n\n        for (columnIndex = 0; columnIndex < row.length; columnIndex++) {\n          cell = row[columnIndex];\n          $cellElement = rowElement.children().eq(columnIndex);\n          onCellPreparedArgs = {\n            area: areaName,\n            rowIndex: rowIndex,\n            columnIndex: columnIndex,\n            cellElement: (0, _dom.getPublicElement)($cellElement),\n            cell: cell\n          };\n\n          if (hasEvent) {\n            that.component._trigger(\"onCellPrepared\", onCellPreparedArgs);\n          } else {\n            onCellPrepared((0, _extend.extend)(onCellPreparedArgs, defaultActionArgs));\n          }\n        }\n      }\n    }\n  },\n  _getRowHeight: function _getRowHeight(index) {\n    var row = this._getRowElement(index);\n\n    var height = 0;\n    var offsetHeight = row.offsetHeight;\n\n    if (row && row.lastChild) {\n      if (row.getBoundingClientRect) {\n        var clientRect = row.getBoundingClientRect();\n        height = clientRect.height;\n\n        if (height <= offsetHeight - 1) {\n          height = offsetHeight;\n        }\n      }\n\n      return height > 0 ? height : offsetHeight;\n    }\n\n    return 0;\n  },\n  _setRowHeight: function _setRowHeight(index, value) {\n    var row = this._getRowElement(index);\n\n    if (row) {\n      row.style.height = value + \"px\";\n    }\n  },\n  ctor: function ctor(component) {\n    this.component = component;\n  },\n  option: function option() {\n    return this.component.option.apply(this.component, arguments);\n  },\n  getRowsLength: function getRowsLength() {\n    var that = this;\n\n    if (that._tableElement && that._tableElement.length > 0) {\n      return that._tableElement[0].rows.length;\n    }\n\n    return 0;\n  },\n  getRowsHeight: function getRowsHeight() {\n    var that = this;\n    var result = [];\n    var rowsLength = that.getRowsLength();\n    var i;\n\n    for (i = 0; i < rowsLength; i++) {\n      result.push(that._getRowHeight(i));\n    }\n\n    return result;\n  },\n  setRowsHeight: function setRowsHeight(values) {\n    var that = this;\n    var totalHeight = 0;\n    var valuesLength = values.length;\n    var i;\n\n    for (i = 0; i < valuesLength; i++) {\n      totalHeight += values[i];\n\n      that._setRowHeight(i, values[i]);\n    }\n\n    this._tableHeight = totalHeight;\n    this._tableElement[0].style.height = totalHeight + \"px\";\n  },\n  getColumnsWidth: function getColumnsWidth() {\n    var rowsLength = this.getRowsLength();\n    var rowIndex;\n    var row;\n    var i;\n    var columnIndex;\n    var processedCells = [];\n    var result = [];\n\n    var fillCells = function fillCells(cells, rowIndex, columnIndex, rowSpan, colSpan) {\n      var rowOffset;\n      var columnOffset;\n\n      for (rowOffset = 0; rowOffset < rowSpan; rowOffset++) {\n        for (columnOffset = 0; columnOffset < colSpan; columnOffset++) {\n          cells[rowIndex + rowOffset] = cells[rowIndex + rowOffset] || [];\n          cells[rowIndex + rowOffset][columnIndex + columnOffset] = true;\n        }\n      }\n    };\n\n    if (rowsLength) {\n      for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\n        processedCells[rowIndex] = processedCells[rowIndex] || [];\n        row = this._getRowElement(rowIndex);\n\n        for (i = 0; i < row.cells.length; i++) {\n          for (columnIndex = 0; processedCells[rowIndex][columnIndex]; columnIndex++) {}\n\n          fillCells(processedCells, rowIndex, columnIndex, row.cells[i].rowSpan, row.cells[i].colSpan);\n\n          if (1 === row.cells[i].colSpan) {\n            result[columnIndex] = result[columnIndex] || getRealElementWidth(row.cells[i]);\n          }\n        }\n      }\n    }\n\n    return result;\n  },\n  setColumnsWidth: function setColumnsWidth(values) {\n    var i;\n    var totalWidth = 0;\n    var tableElement = this._tableElement[0];\n    var colgroupElementHTML = \"\";\n    var columnsCount = this.getColumnsCount();\n    var columnWidth = [];\n\n    for (i = 0; i < columnsCount; i++) {\n      columnWidth.push(values[i] || 0);\n    }\n\n    for (i = columnsCount; i < values.length && values; i++) {\n      columnWidth[columnsCount - 1] += values[i];\n    }\n\n    for (i = 0; i < columnsCount; i++) {\n      totalWidth += columnWidth[i];\n      colgroupElementHTML += '<col style=\"width: ' + columnWidth[i] + 'px\">';\n    }\n\n    this._colgroupElement.html(colgroupElementHTML);\n\n    this._tableWidth = totalWidth - this._groupWidth > .01 ? Math.ceil(totalWidth) : totalWidth;\n    tableElement.style.width = this._tableWidth + \"px\";\n    tableElement.style.tableLayout = \"fixed\";\n  },\n  resetColumnsWidth: function resetColumnsWidth() {\n    this._colgroupElement.find(\"col\").width(\"auto\");\n\n    this._tableElement.css({\n      width: \"\",\n      tableLayout: \"\"\n    });\n  },\n  groupWidth: function groupWidth(value) {\n    if (void 0 === value) {\n      return this._groupElement.width();\n    } else {\n      if (value >= 0) {\n        this._groupWidth = value;\n        return this._groupElement[0].style.width = value + \"px\";\n      } else {\n        return this._groupElement[0].style.width = value;\n      }\n    }\n  },\n  groupHeight: function groupHeight(value) {\n    if (void 0 === value) {\n      return this._groupElement.height();\n    }\n\n    this._groupHeight = null;\n\n    if (value >= 0) {\n      this._groupHeight = value;\n      this._groupElement[0].style.height = value + \"px\";\n    } else {\n      this._groupElement[0].style.height = value;\n    }\n  },\n  groupElement: function groupElement() {\n    return this._groupElement;\n  },\n  tableElement: function tableElement() {\n    return this._tableElement;\n  },\n  element: function element() {\n    return this._rootElement;\n  },\n  headElement: function headElement() {\n    return this._tableElement.find(\"thead\");\n  },\n  _setTableCss: function _setTableCss(styles) {\n    if (this.option(\"rtlEnabled\")) {\n      styles.right = styles.left;\n      delete styles.left;\n    }\n\n    this.tableElement().css(styles);\n  },\n  setVirtualContentParams: function setVirtualContentParams(params) {\n    this._virtualContent.css({\n      width: params.width,\n      height: params.height\n    });\n\n    this.groupElement().addClass(\"dx-virtual-mode\");\n  },\n  disableVirtualMode: function disableVirtualMode() {\n    this.groupElement().removeClass(\"dx-virtual-mode\");\n  },\n  _renderVirtualContent: function _renderVirtualContent() {\n    var that = this;\n\n    if (!that._virtualContent && \"virtual\" === that.option(\"scrolling.mode\")) {\n      that._virtualContent = (0, _renderer2.default)(\"<div>\").addClass(\"dx-virtual-content\").insertBefore(that._tableElement);\n    }\n  },\n  reset: function reset() {\n    var that = this;\n    var tableElement = that._tableElement[0];\n    that._fakeTable && that._fakeTable.detach();\n    that._fakeTable = null;\n    that.disableVirtualMode();\n    that.groupWidth(\"100%\");\n    that.groupHeight(\"auto\");\n    that.resetColumnsWidth();\n\n    if (tableElement) {\n      for (var i = 0; i < tableElement.rows.length; i++) {\n        tableElement.rows[i].style.height = \"\";\n      }\n\n      tableElement.style.height = \"\";\n      tableElement.style.width = \"100%\";\n    }\n  },\n  _updateFakeTableVisibility: function _updateFakeTableVisibility() {\n    var that = this;\n    var tableElement = that.tableElement()[0];\n    var horizontalOffsetName = that.option(\"rtlEnabled\") ? \"right\" : \"left\";\n    var fakeTableElement = that._fakeTable[0];\n\n    if (tableElement.style.top === fakeTableElement.style.top && fakeTableElement.style[horizontalOffsetName] === tableElement.style[horizontalOffsetName]) {\n      that._fakeTable.addClass(\"dx-hidden\");\n    } else {\n      that._fakeTable.removeClass(\"dx-hidden\");\n    }\n  },\n  _moveFakeTableHorizontally: function _moveFakeTableHorizontally(scrollPos) {\n    var that = this;\n    var rtlEnabled = that.option(\"rtlEnabled\");\n    var offsetStyleName = rtlEnabled ? \"right\" : \"left\";\n    var tableElementOffset = parseFloat(that.tableElement()[0].style[offsetStyleName]);\n    var offset = getFakeTableOffset(scrollPos, tableElementOffset, that._tableWidth, that._groupWidth);\n\n    if (parseFloat(that._fakeTable[0].style[offsetStyleName]) !== offset) {\n      that._fakeTable[0].style[offsetStyleName] = offset + \"px\";\n    }\n  },\n  _moveFakeTableTop: function _moveFakeTableTop(scrollPos) {\n    var that = this;\n    var tableElementOffsetTop = parseFloat(that.tableElement()[0].style.top);\n    var offsetTop = getFakeTableOffset(scrollPos, tableElementOffsetTop, that._tableHeight, that._groupHeight);\n\n    if (parseFloat(that._fakeTable[0].style.top) !== offsetTop) {\n      that._fakeTable[0].style.top = offsetTop + \"px\";\n    }\n  },\n  _moveFakeTable: function _moveFakeTable() {\n    this._updateFakeTableVisibility();\n  },\n  _createFakeTable: function _createFakeTable() {\n    var that = this;\n\n    if (!that._fakeTable) {\n      that._fakeTable = that.tableElement().clone().addClass(\"dx-pivot-grid-fake-table\").appendTo(that._virtualContent);\n    }\n  },\n  render: function render(rootElement, data) {\n    var that = this;\n\n    if (that._tableElement) {\n      try {\n        that._tableElement[0].innerHTML = \"\";\n      } catch (e) {\n        that._tableElement.empty();\n      }\n\n      that._tableElement.attr(\"style\", \"\");\n    } else {\n      that._groupElement = that._createGroupElement();\n      that._tableElement = that._createTableElement();\n\n      that._tableElement.appendTo(that._groupElement);\n\n      that._groupElement.appendTo(rootElement);\n\n      that._rootElement = rootElement;\n    }\n\n    that._colgroupElement = (0, _renderer2.default)(\"<colgroup>\").appendTo(that._tableElement);\n\n    that._renderTableContent(that._tableElement, data);\n\n    that._renderVirtualContent();\n  },\n  _getScrollable: function _getScrollable() {\n    return this.groupElement().data(\"dxScrollable\");\n  },\n  on: function on(eventName, handler) {\n    var that = this;\n\n    var scrollable = that._getScrollable();\n\n    if (scrollable) {\n      scrollable.on(eventName, function (e) {\n        if (that.option(\"rtlEnabled\") && (0, _type.isDefined)(e.scrollOffset.left)) {\n          e.scrollOffset.left = scrollable.$content().width() - scrollable._container().width() - e.scrollOffset.left;\n        }\n\n        handler(e);\n      });\n    }\n\n    return this;\n  },\n  off: function off(eventName) {\n    var scrollable = this._getScrollable();\n\n    if (scrollable) {\n      scrollable.off(eventName);\n    }\n\n    return this;\n  },\n  scrollTo: function scrollTo(pos) {\n    var scrollable = this._getScrollable();\n\n    var scrollablePos = pos;\n\n    if (scrollable) {\n      if (this.option(\"rtlEnabled\")) {\n        if (\"column\" === this._getAreaName()) {\n          scrollablePos = scrollable.$content().width() - scrollable._container().width() - pos;\n        } else {\n          if (\"data\" === this._getAreaName()) {\n            scrollablePos = {\n              x: scrollable.$content().width() - scrollable._container().width() - pos.x,\n              y: pos.y\n            };\n          }\n        }\n      }\n\n      scrollable.scrollTo(scrollablePos);\n\n      if (this._virtualContent) {\n        this._createFakeTable();\n\n        this._moveFakeTable(pos);\n      }\n    }\n  },\n  updateScrollable: function updateScrollable() {\n    var scrollable = this._getScrollable();\n\n    if (scrollable) {\n      return scrollable.update();\n    }\n  },\n  getColumnsCount: function getColumnsCount() {\n    var columnCount = 0;\n\n    var row = this._getRowElement(0);\n\n    var cells;\n\n    if (row) {\n      cells = row.cells;\n\n      for (var i = 0, len = cells.length; i < len; ++i) {\n        columnCount += cells[i].colSpan;\n      }\n    }\n\n    return columnCount;\n  },\n  getData: function getData() {\n    var tableElement = this._tableElement;\n    return tableElement ? tableElement.data(\"data\") : [];\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/pivot_grid/ui.pivot_grid.area_item.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_class","_class2","_dom","_extend","_type","obj","PIVOTGRID_EXPAND_CLASS","getRealElementWidth","width","offsetWidth","element","clientRect","offset","halfTableCount","halfTableSize","tableSize","scrollPos","elementOffset","parseInt","exports","_getRowElement","that","_createGroupElement","_createTableElement","_getCellText","cellText","cell","encodeHtml","_getRowClassNames","_applyCustomStyles","options","_getMainElementMarkup","_getCloseMainElementMarkup","_renderTableContent","rowsCount","data","rtlEnabled","markupArray","colspan","rowspan","tableElement","i","row","columnMarkupArray","rowClassNames","j","styleOptions","cellElement","cellsCount","cellIndex","rowElement","rowIndex","classArray","cssArray","_triggerOnCellPrepared","rowElements","areaName","onCellPrepared","hasEvent","defaultActionArgs","columnIndex","$cellElement","onCellPreparedArgs","area","_getRowHeight","height","offsetHeight","_setRowHeight","value","ctor","option","getRowsLength","getRowsHeight","result","rowsLength","setRowsHeight","totalHeight","valuesLength","values","getColumnsWidth","processedCells","fillCells","rowOffset","columnOffset","cells","setColumnsWidth","totalWidth","colgroupElementHTML","columnsCount","columnWidth","Math","resetColumnsWidth","tableLayout","groupWidth","groupHeight","groupElement","headElement","_setTableCss","styles","setVirtualContentParams","params","disableVirtualMode","_renderVirtualContent","reset","_updateFakeTableVisibility","horizontalOffsetName","fakeTableElement","_moveFakeTableHorizontally","offsetStyleName","tableElementOffset","parseFloat","getFakeTableOffset","_moveFakeTableTop","tableElementOffsetTop","offsetTop","_moveFakeTable","_createFakeTable","render","_getScrollable","on","scrollable","e","handler","off","scrollTo","scrollablePos","x","pos","y","updateScrollable","getColumnsCount","columnCount","len","getData"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/pivot_grid/ui.pivot_grid.area_item.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _class = require(\"../../core/class\");\r\nvar _class2 = _interopRequireDefault(_class);\r\nvar _dom = require(\"../../core/utils/dom\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar PIVOTGRID_EXPAND_CLASS = \"dx-expand\";\r\nvar getRealElementWidth = function(element) {\r\n    var width = 0;\r\n    var offsetWidth = element.offsetWidth;\r\n    if (element.getBoundingClientRect) {\r\n        var clientRect = element.getBoundingClientRect();\r\n        width = clientRect.width;\r\n        if (!width) {\r\n            width = clientRect.right - clientRect.left\r\n        }\r\n        if (width <= offsetWidth - 1) {\r\n            width = offsetWidth\r\n        }\r\n    }\r\n    return width > 0 ? width : offsetWidth\r\n};\r\n\r\nfunction getFakeTableOffset(scrollPos, elementOffset, tableSize, viewPortSize) {\r\n    var offset = 0;\r\n    var halfTableCount = 0;\r\n    var halfTableSize = tableSize / 2;\r\n    if (scrollPos + viewPortSize - (elementOffset + tableSize) > 1) {\r\n        if (scrollPos >= elementOffset + tableSize + halfTableSize) {\r\n            halfTableCount = parseInt((scrollPos - (elementOffset + tableSize)) / halfTableSize, 10)\r\n        }\r\n        offset = elementOffset + tableSize + halfTableSize * halfTableCount\r\n    } else {\r\n        if (scrollPos < elementOffset) {\r\n            if (scrollPos <= elementOffset - halfTableSize) {\r\n                halfTableCount = parseInt((scrollPos - (elementOffset - halfTableSize)) / halfTableSize, 10)\r\n            }\r\n            offset = elementOffset - (tableSize - halfTableSize * halfTableCount)\r\n        } else {\r\n            offset = elementOffset\r\n        }\r\n    }\r\n    return offset\r\n}\r\nexports.AreaItem = _class2.default.inherit({\r\n    _getRowElement: function(index) {\r\n        var that = this;\r\n        if (that._tableElement && that._tableElement.length > 0) {\r\n            return that._tableElement[0].rows[index]\r\n        }\r\n        return null\r\n    },\r\n    _createGroupElement: function() {\r\n        return (0, _renderer2.default)(\"<div>\")\r\n    },\r\n    _createTableElement: function() {\r\n        return (0, _renderer2.default)(\"<table>\")\r\n    },\r\n    _getCellText: function(cell, encodeHtml) {\r\n        var cellText = cell.isWhiteSpace ? \"&nbsp\" : cell.text || \"&nbsp\";\r\n        if (encodeHtml && (cellText.indexOf(\"<\") !== -1 || cellText.indexOf(\">\") !== -1)) {\r\n            cellText = (0, _renderer2.default)(\"<div>\").text(cellText).html()\r\n        }\r\n        return cellText\r\n    },\r\n    _getRowClassNames: function() {},\r\n    _applyCustomStyles: function(options) {\r\n        if (options.cell.width) {\r\n            options.cssArray.push(\"min-width:\" + options.cell.width + \"px\")\r\n        }\r\n        if (options.cell.sorted) {\r\n            options.classArray.push(\"dx-pivotgrid-sorted\")\r\n        }\r\n    },\r\n    _getMainElementMarkup: function() {\r\n        return \"<tbody>\"\r\n    },\r\n    _getCloseMainElementMarkup: function() {\r\n        return \"</tbody>\"\r\n    },\r\n    _renderTableContent: function(tableElement, data) {\r\n        var that = this;\r\n        var rowsCount = data.length;\r\n        var row;\r\n        var cell;\r\n        var i;\r\n        var j;\r\n        var rowElement;\r\n        var cellElement;\r\n        var cellText;\r\n        var rtlEnabled = that.option(\"rtlEnabled\");\r\n        var markupArray = [];\r\n        var encodeHtml = that.option(\"encodeHtml\");\r\n        var rowClassNames;\r\n        var colspan = \"colspan='\";\r\n        var rowspan = \"rowspan='\";\r\n        tableElement.data(\"area\", that._getAreaName());\r\n        tableElement.data(\"data\", data);\r\n        tableElement.css(\"width\", \"\");\r\n        markupArray.push(that._getMainElementMarkup());\r\n        for (i = 0; i < rowsCount; i++) {\r\n            row = data[i];\r\n            var columnMarkupArray = [];\r\n            rowClassNames = [];\r\n            markupArray.push(\"<tr \");\r\n            for (j = 0; j < row.length; j++) {\r\n                cell = row[j];\r\n                this._getRowClassNames(i, cell, rowClassNames);\r\n                columnMarkupArray.push(\"<td \");\r\n                if (cell) {\r\n                    cell.rowspan && columnMarkupArray.push(rowspan + (cell.rowspan || 1) + \"'\");\r\n                    cell.colspan && columnMarkupArray.push(colspan + (cell.colspan || 1) + \"'\");\r\n                    var styleOptions = {\r\n                        cellElement: cellElement,\r\n                        cell: cell,\r\n                        cellsCount: row.length,\r\n                        cellIndex: j,\r\n                        rowElement: rowElement,\r\n                        rowIndex: i,\r\n                        rowsCount: rowsCount,\r\n                        rtlEnabled: rtlEnabled,\r\n                        classArray: [],\r\n                        cssArray: []\r\n                    };\r\n                    that._applyCustomStyles(styleOptions);\r\n                    if (styleOptions.cssArray.length) {\r\n                        columnMarkupArray.push(\"style='\");\r\n                        columnMarkupArray.push(styleOptions.cssArray.join(\";\"));\r\n                        columnMarkupArray.push(\"'\")\r\n                    }\r\n                    if (styleOptions.classArray.length) {\r\n                        columnMarkupArray.push(\"class='\");\r\n                        columnMarkupArray.push(styleOptions.classArray.join(\" \"));\r\n                        columnMarkupArray.push(\"'\")\r\n                    }\r\n                    columnMarkupArray.push(\">\");\r\n                    if ((0, _type.isDefined)(cell.expanded)) {\r\n                        columnMarkupArray.push(\"<div class='dx-expand-icon-container'><span class='\" + PIVOTGRID_EXPAND_CLASS + \"'></span></div>\")\r\n                    }\r\n                    cellText = this._getCellText(cell, encodeHtml)\r\n                } else {\r\n                    cellText = \"\"\r\n                }\r\n                columnMarkupArray.push(\"<span \");\r\n                if ((0, _type.isDefined)(cell.wordWrapEnabled)) {\r\n                    columnMarkupArray.push(\"style='white-space:\", cell.wordWrapEnabled ? \"normal\" : \"nowrap\", \";'\")\r\n                }\r\n                columnMarkupArray.push(\">\" + cellText + \"</span>\");\r\n                if (cell.sorted) {\r\n                    columnMarkupArray.push(\"<span class='dx-icon-sorted'></span>\")\r\n                }\r\n                columnMarkupArray.push(\"</td>\")\r\n            }\r\n            if (rowClassNames.length) {\r\n                markupArray.push(\"class='\");\r\n                markupArray.push(rowClassNames.join(\" \"));\r\n                markupArray.push(\"'\")\r\n            }\r\n            markupArray.push(\">\");\r\n            markupArray.push(columnMarkupArray.join(\"\"));\r\n            markupArray.push(\"</tr>\")\r\n        }\r\n        markupArray.push(this._getCloseMainElementMarkup());\r\n        tableElement.append(markupArray.join(\"\"));\r\n        this._triggerOnCellPrepared(tableElement, data)\r\n    },\r\n    _triggerOnCellPrepared: function(tableElement, data) {\r\n        var that = this;\r\n        var rowElements = tableElement.find(\"tr\");\r\n        var areaName = that._getAreaName();\r\n        var onCellPrepared = that.option(\"onCellPrepared\");\r\n        var hasEvent = that.component.hasEvent(\"cellPrepared\");\r\n        var rowElement;\r\n        var $cellElement;\r\n        var onCellPreparedArgs;\r\n        var defaultActionArgs = this.component._defaultActionArgs();\r\n        var row;\r\n        var cell;\r\n        var rowIndex;\r\n        var columnIndex;\r\n        if (onCellPrepared || hasEvent) {\r\n            for (rowIndex = 0; rowIndex < data.length; rowIndex++) {\r\n                row = data[rowIndex];\r\n                rowElement = rowElements.eq(rowIndex);\r\n                for (columnIndex = 0; columnIndex < row.length; columnIndex++) {\r\n                    cell = row[columnIndex];\r\n                    $cellElement = rowElement.children().eq(columnIndex);\r\n                    onCellPreparedArgs = {\r\n                        area: areaName,\r\n                        rowIndex: rowIndex,\r\n                        columnIndex: columnIndex,\r\n                        cellElement: (0, _dom.getPublicElement)($cellElement),\r\n                        cell: cell\r\n                    };\r\n                    if (hasEvent) {\r\n                        that.component._trigger(\"onCellPrepared\", onCellPreparedArgs)\r\n                    } else {\r\n                        onCellPrepared((0, _extend.extend)(onCellPreparedArgs, defaultActionArgs))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _getRowHeight: function(index) {\r\n        var row = this._getRowElement(index);\r\n        var height = 0;\r\n        var offsetHeight = row.offsetHeight;\r\n        if (row && row.lastChild) {\r\n            if (row.getBoundingClientRect) {\r\n                var clientRect = row.getBoundingClientRect();\r\n                height = clientRect.height;\r\n                if (height <= offsetHeight - 1) {\r\n                    height = offsetHeight\r\n                }\r\n            }\r\n            return height > 0 ? height : offsetHeight\r\n        }\r\n        return 0\r\n    },\r\n    _setRowHeight: function(index, value) {\r\n        var row = this._getRowElement(index);\r\n        if (row) {\r\n            row.style.height = value + \"px\"\r\n        }\r\n    },\r\n    ctor: function(component) {\r\n        this.component = component\r\n    },\r\n    option: function() {\r\n        return this.component.option.apply(this.component, arguments)\r\n    },\r\n    getRowsLength: function() {\r\n        var that = this;\r\n        if (that._tableElement && that._tableElement.length > 0) {\r\n            return that._tableElement[0].rows.length\r\n        }\r\n        return 0\r\n    },\r\n    getRowsHeight: function() {\r\n        var that = this;\r\n        var result = [];\r\n        var rowsLength = that.getRowsLength();\r\n        var i;\r\n        for (i = 0; i < rowsLength; i++) {\r\n            result.push(that._getRowHeight(i))\r\n        }\r\n        return result\r\n    },\r\n    setRowsHeight: function(values) {\r\n        var that = this;\r\n        var totalHeight = 0;\r\n        var valuesLength = values.length;\r\n        var i;\r\n        for (i = 0; i < valuesLength; i++) {\r\n            totalHeight += values[i];\r\n            that._setRowHeight(i, values[i])\r\n        }\r\n        this._tableHeight = totalHeight;\r\n        this._tableElement[0].style.height = totalHeight + \"px\"\r\n    },\r\n    getColumnsWidth: function() {\r\n        var rowsLength = this.getRowsLength();\r\n        var rowIndex;\r\n        var row;\r\n        var i;\r\n        var columnIndex;\r\n        var processedCells = [];\r\n        var result = [];\r\n        var fillCells = function(cells, rowIndex, columnIndex, rowSpan, colSpan) {\r\n            var rowOffset;\r\n            var columnOffset;\r\n            for (rowOffset = 0; rowOffset < rowSpan; rowOffset++) {\r\n                for (columnOffset = 0; columnOffset < colSpan; columnOffset++) {\r\n                    cells[rowIndex + rowOffset] = cells[rowIndex + rowOffset] || [];\r\n                    cells[rowIndex + rowOffset][columnIndex + columnOffset] = true\r\n                }\r\n            }\r\n        };\r\n        if (rowsLength) {\r\n            for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n                processedCells[rowIndex] = processedCells[rowIndex] || [];\r\n                row = this._getRowElement(rowIndex);\r\n                for (i = 0; i < row.cells.length; i++) {\r\n                    for (columnIndex = 0; processedCells[rowIndex][columnIndex]; columnIndex++) {}\r\n                    fillCells(processedCells, rowIndex, columnIndex, row.cells[i].rowSpan, row.cells[i].colSpan);\r\n                    if (1 === row.cells[i].colSpan) {\r\n                        result[columnIndex] = result[columnIndex] || getRealElementWidth(row.cells[i])\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    setColumnsWidth: function(values) {\r\n        var i;\r\n        var totalWidth = 0;\r\n        var tableElement = this._tableElement[0];\r\n        var colgroupElementHTML = \"\";\r\n        var columnsCount = this.getColumnsCount();\r\n        var columnWidth = [];\r\n        for (i = 0; i < columnsCount; i++) {\r\n            columnWidth.push(values[i] || 0)\r\n        }\r\n        for (i = columnsCount; i < values.length && values; i++) {\r\n            columnWidth[columnsCount - 1] += values[i]\r\n        }\r\n        for (i = 0; i < columnsCount; i++) {\r\n            totalWidth += columnWidth[i];\r\n            colgroupElementHTML += '<col style=\"width: ' + columnWidth[i] + 'px\">'\r\n        }\r\n        this._colgroupElement.html(colgroupElementHTML);\r\n        this._tableWidth = totalWidth - this._groupWidth > .01 ? Math.ceil(totalWidth) : totalWidth;\r\n        tableElement.style.width = this._tableWidth + \"px\";\r\n        tableElement.style.tableLayout = \"fixed\"\r\n    },\r\n    resetColumnsWidth: function() {\r\n        this._colgroupElement.find(\"col\").width(\"auto\");\r\n        this._tableElement.css({\r\n            width: \"\",\r\n            tableLayout: \"\"\r\n        })\r\n    },\r\n    groupWidth: function(value) {\r\n        if (void 0 === value) {\r\n            return this._groupElement.width()\r\n        } else {\r\n            if (value >= 0) {\r\n                this._groupWidth = value;\r\n                return this._groupElement[0].style.width = value + \"px\"\r\n            } else {\r\n                return this._groupElement[0].style.width = value\r\n            }\r\n        }\r\n    },\r\n    groupHeight: function(value) {\r\n        if (void 0 === value) {\r\n            return this._groupElement.height()\r\n        }\r\n        this._groupHeight = null;\r\n        if (value >= 0) {\r\n            this._groupHeight = value;\r\n            this._groupElement[0].style.height = value + \"px\"\r\n        } else {\r\n            this._groupElement[0].style.height = value\r\n        }\r\n    },\r\n    groupElement: function() {\r\n        return this._groupElement\r\n    },\r\n    tableElement: function() {\r\n        return this._tableElement\r\n    },\r\n    element: function() {\r\n        return this._rootElement\r\n    },\r\n    headElement: function() {\r\n        return this._tableElement.find(\"thead\")\r\n    },\r\n    _setTableCss: function(styles) {\r\n        if (this.option(\"rtlEnabled\")) {\r\n            styles.right = styles.left;\r\n            delete styles.left\r\n        }\r\n        this.tableElement().css(styles)\r\n    },\r\n    setVirtualContentParams: function(params) {\r\n        this._virtualContent.css({\r\n            width: params.width,\r\n            height: params.height\r\n        });\r\n        this.groupElement().addClass(\"dx-virtual-mode\")\r\n    },\r\n    disableVirtualMode: function() {\r\n        this.groupElement().removeClass(\"dx-virtual-mode\")\r\n    },\r\n    _renderVirtualContent: function() {\r\n        var that = this;\r\n        if (!that._virtualContent && \"virtual\" === that.option(\"scrolling.mode\")) {\r\n            that._virtualContent = (0, _renderer2.default)(\"<div>\").addClass(\"dx-virtual-content\").insertBefore(that._tableElement)\r\n        }\r\n    },\r\n    reset: function() {\r\n        var that = this;\r\n        var tableElement = that._tableElement[0];\r\n        that._fakeTable && that._fakeTable.detach();\r\n        that._fakeTable = null;\r\n        that.disableVirtualMode();\r\n        that.groupWidth(\"100%\");\r\n        that.groupHeight(\"auto\");\r\n        that.resetColumnsWidth();\r\n        if (tableElement) {\r\n            for (var i = 0; i < tableElement.rows.length; i++) {\r\n                tableElement.rows[i].style.height = \"\"\r\n            }\r\n            tableElement.style.height = \"\";\r\n            tableElement.style.width = \"100%\"\r\n        }\r\n    },\r\n    _updateFakeTableVisibility: function() {\r\n        var that = this;\r\n        var tableElement = that.tableElement()[0];\r\n        var horizontalOffsetName = that.option(\"rtlEnabled\") ? \"right\" : \"left\";\r\n        var fakeTableElement = that._fakeTable[0];\r\n        if (tableElement.style.top === fakeTableElement.style.top && fakeTableElement.style[horizontalOffsetName] === tableElement.style[horizontalOffsetName]) {\r\n            that._fakeTable.addClass(\"dx-hidden\")\r\n        } else {\r\n            that._fakeTable.removeClass(\"dx-hidden\")\r\n        }\r\n    },\r\n    _moveFakeTableHorizontally: function(scrollPos) {\r\n        var that = this;\r\n        var rtlEnabled = that.option(\"rtlEnabled\");\r\n        var offsetStyleName = rtlEnabled ? \"right\" : \"left\";\r\n        var tableElementOffset = parseFloat(that.tableElement()[0].style[offsetStyleName]);\r\n        var offset = getFakeTableOffset(scrollPos, tableElementOffset, that._tableWidth, that._groupWidth);\r\n        if (parseFloat(that._fakeTable[0].style[offsetStyleName]) !== offset) {\r\n            that._fakeTable[0].style[offsetStyleName] = offset + \"px\"\r\n        }\r\n    },\r\n    _moveFakeTableTop: function(scrollPos) {\r\n        var that = this;\r\n        var tableElementOffsetTop = parseFloat(that.tableElement()[0].style.top);\r\n        var offsetTop = getFakeTableOffset(scrollPos, tableElementOffsetTop, that._tableHeight, that._groupHeight);\r\n        if (parseFloat(that._fakeTable[0].style.top) !== offsetTop) {\r\n            that._fakeTable[0].style.top = offsetTop + \"px\"\r\n        }\r\n    },\r\n    _moveFakeTable: function() {\r\n        this._updateFakeTableVisibility()\r\n    },\r\n    _createFakeTable: function() {\r\n        var that = this;\r\n        if (!that._fakeTable) {\r\n            that._fakeTable = that.tableElement().clone().addClass(\"dx-pivot-grid-fake-table\").appendTo(that._virtualContent)\r\n        }\r\n    },\r\n    render: function(rootElement, data) {\r\n        var that = this;\r\n        if (that._tableElement) {\r\n            try {\r\n                that._tableElement[0].innerHTML = \"\"\r\n            } catch (e) {\r\n                that._tableElement.empty()\r\n            }\r\n            that._tableElement.attr(\"style\", \"\")\r\n        } else {\r\n            that._groupElement = that._createGroupElement();\r\n            that._tableElement = that._createTableElement();\r\n            that._tableElement.appendTo(that._groupElement);\r\n            that._groupElement.appendTo(rootElement);\r\n            that._rootElement = rootElement\r\n        }\r\n        that._colgroupElement = (0, _renderer2.default)(\"<colgroup>\").appendTo(that._tableElement);\r\n        that._renderTableContent(that._tableElement, data);\r\n        that._renderVirtualContent()\r\n    },\r\n    _getScrollable: function() {\r\n        return this.groupElement().data(\"dxScrollable\")\r\n    },\r\n    on: function(eventName, handler) {\r\n        var that = this;\r\n        var scrollable = that._getScrollable();\r\n        if (scrollable) {\r\n            scrollable.on(eventName, function(e) {\r\n                if (that.option(\"rtlEnabled\") && (0, _type.isDefined)(e.scrollOffset.left)) {\r\n                    e.scrollOffset.left = scrollable.$content().width() - scrollable._container().width() - e.scrollOffset.left\r\n                }\r\n                handler(e)\r\n            })\r\n        }\r\n        return this\r\n    },\r\n    off: function(eventName) {\r\n        var scrollable = this._getScrollable();\r\n        if (scrollable) {\r\n            scrollable.off(eventName)\r\n        }\r\n        return this\r\n    },\r\n    scrollTo: function(pos) {\r\n        var scrollable = this._getScrollable();\r\n        var scrollablePos = pos;\r\n        if (scrollable) {\r\n            if (this.option(\"rtlEnabled\")) {\r\n                if (\"column\" === this._getAreaName()) {\r\n                    scrollablePos = scrollable.$content().width() - scrollable._container().width() - pos\r\n                } else {\r\n                    if (\"data\" === this._getAreaName()) {\r\n                        scrollablePos = {\r\n                            x: scrollable.$content().width() - scrollable._container().width() - pos.x,\r\n                            y: pos.y\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            scrollable.scrollTo(scrollablePos);\r\n            if (this._virtualContent) {\r\n                this._createFakeTable();\r\n                this._moveFakeTable(pos)\r\n            }\r\n        }\r\n    },\r\n    updateScrollable: function() {\r\n        var scrollable = this._getScrollable();\r\n        if (scrollable) {\r\n            return scrollable.update()\r\n        }\r\n    },\r\n    getColumnsCount: function() {\r\n        var columnCount = 0;\r\n        var row = this._getRowElement(0);\r\n        var cells;\r\n        if (row) {\r\n            cells = row.cells;\r\n            for (var i = 0, len = cells.length; i < len; ++i) {\r\n                columnCount += cells[i].colSpan\r\n            }\r\n        }\r\n        return columnCount\r\n    },\r\n    getData: function() {\r\n        var tableElement = this._tableElement;\r\n        return tableElement ? tableElement.data(\"data\") : []\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}