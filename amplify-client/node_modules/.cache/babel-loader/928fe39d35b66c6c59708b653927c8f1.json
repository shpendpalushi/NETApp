{"ast":null,"code":"/**\r\n * DevExtreme (viz/series/bar_series.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar scatterSeries = require(\"./scatter_series\");\n\nvar areaSeries = require(\"./area_series\").chart.area;\n\nvar chartSeries = scatterSeries.chart;\nvar polarSeries = scatterSeries.polar;\nvar _extend = extend;\nvar _each = each;\nexports.chart = {};\nexports.polar = {};\nvar baseBarSeriesMethods = {\n  _createLegendState: function _createLegendState(styleOptions, defaultColor) {\n    return {\n      fill: styleOptions.color || defaultColor,\n      hatching: styleOptions.hatching\n    };\n  },\n  _parsePointStyle: function _parsePointStyle(style, defaultColor, defaultBorderColor) {\n    var color = style.color || defaultColor;\n\n    var base = chartSeries._parsePointStyle.call(this, style, color, defaultBorderColor);\n\n    base.fill = color;\n    base.hatching = style.hatching;\n    base.dashStyle = style.border && style.border.dashStyle || \"solid\";\n    delete base.r;\n    return base;\n  },\n  _applyMarkerClipRect: function _applyMarkerClipRect(settings) {\n    settings[\"clip-path\"] = null;\n  },\n  _setGroupsSettings: function _setGroupsSettings(animationEnabled, firstDrawing) {\n    var that = this;\n    var settings = {};\n\n    chartSeries._setGroupsSettings.apply(that, arguments);\n\n    if (animationEnabled && firstDrawing) {\n      settings = this._getAffineCoordOptions();\n    } else {\n      if (!animationEnabled) {\n        settings = {\n          scaleX: 1,\n          scaleY: 1,\n          translateX: 0,\n          translateY: 0\n        };\n      }\n    }\n\n    that._markersGroup.attr(settings);\n  },\n  _drawPoint: function _drawPoint(options) {\n    options.hasAnimation = options.hasAnimation && !options.firstDrawing;\n    options.firstDrawing = false;\n\n    chartSeries._drawPoint.call(this, options);\n  },\n  _getMainColor: function _getMainColor() {\n    return this._options.mainSeriesColor;\n  },\n  _createPointStyles: function _createPointStyles(pointOptions) {\n    var that = this;\n\n    var mainColor = pointOptions.color || that._getMainColor();\n\n    return {\n      normal: that._parsePointStyle(pointOptions, mainColor, mainColor),\n      hover: that._parsePointStyle(pointOptions.hoverStyle || {}, mainColor, mainColor),\n      selection: that._parsePointStyle(pointOptions.selectionStyle || {}, mainColor, mainColor)\n    };\n  },\n  _updatePointsVisibility: function _updatePointsVisibility() {\n    var visibility = this._options.visible;\n    each(this._points, function (_, point) {\n      point._options.visible = visibility;\n    });\n  },\n  _getOptionsForPoint: function _getOptionsForPoint() {\n    return this._options;\n  },\n  _animate: function _animate(firstDrawing) {\n    var that = this;\n\n    var complete = function complete() {\n      that._animateComplete();\n    };\n\n    var animateFunc = function animateFunc(drawnPoints, complete) {\n      var lastPointIndex = drawnPoints.length - 1;\n\n      _each(drawnPoints || [], function (i, point) {\n        point.animate(i === lastPointIndex ? complete : void 0, point.getMarkerCoords());\n      });\n    };\n\n    that._animatePoints(firstDrawing, complete, animateFunc);\n  },\n  getValueRangeInitialValue: areaSeries.getValueRangeInitialValue,\n  _patchMarginOptions: function _patchMarginOptions(options) {\n    options.checkInterval = true;\n    return options;\n  },\n  _defaultAggregator: \"sum\",\n  _defineDrawingState: function _defineDrawingState() {},\n  usePointsToDefineAutoHiding: function usePointsToDefineAutoHiding() {\n    return false;\n  }\n};\nexports.chart.bar = _extend({}, chartSeries, baseBarSeriesMethods, {\n  _getAffineCoordOptions: function _getAffineCoordOptions() {\n    var rotated = this._options.rotated;\n    var direction = rotated ? \"X\" : \"Y\";\n    var settings = {\n      scaleX: rotated ? .001 : 1,\n      scaleY: rotated ? 1 : .001\n    };\n    settings[\"translate\" + direction] = this.getValueAxis().getTranslator().translate(\"canvas_position_default\");\n    return settings;\n  },\n  _animatePoints: function _animatePoints(firstDrawing, complete, animateFunc) {\n    var that = this;\n\n    that._markersGroup.animate({\n      scaleX: 1,\n      scaleY: 1,\n      translateY: 0,\n      translateX: 0\n    }, void 0, complete);\n\n    if (!firstDrawing) {\n      animateFunc(that._drawnPoints, complete);\n    }\n  },\n  checkSeriesViewportCoord: function checkSeriesViewportCoord(axis, coord) {\n    if (0 === this._points.length) {\n      return false;\n    }\n\n    if (axis.isArgumentAxis) {\n      return true;\n    }\n\n    var translator = axis.getTranslator();\n    var range = this.getViewport();\n    var min = translator.translate(range.categories ? range.categories[0] : range.min);\n    var max = translator.translate(range.categories ? range.categories[range.categories.length - 1] : range.max);\n    var rotated = this.getOptions().rotated;\n    var inverted = axis.getOptions().inverted;\n    return rotated && !inverted || !rotated && inverted ? coord >= min && coord <= max : coord >= max && coord <= min;\n  },\n  getSeriesPairCoord: function getSeriesPairCoord(coord, isArgument) {\n    var oppositeCoord = null;\n    var rotated = this._options.rotated;\n    var isOpposite = !isArgument && !rotated || isArgument && rotated;\n    var coordName = isOpposite ? \"vy\" : \"vx\";\n    var oppositeCoordName = isOpposite ? \"vx\" : \"vy\";\n    var points = this.getPoints();\n\n    for (var i = 0; i < points.length; i++) {\n      var p = points[i];\n      var tmpCoord = void 0;\n\n      if (isArgument) {\n        tmpCoord = p.getCenterCoord()[coordName[1]] === coord ? p[oppositeCoordName] : void 0;\n      } else {\n        tmpCoord = p[coordName] === coord ? p[oppositeCoordName] : void 0;\n      }\n\n      if (this.checkAxisVisibleAreaCoord(!isArgument, tmpCoord)) {\n        oppositeCoord = tmpCoord;\n        break;\n      }\n    }\n\n    return oppositeCoord;\n  }\n});\nexports.polar.bar = _extend({}, polarSeries, baseBarSeriesMethods, {\n  _animatePoints: function _animatePoints(firstDrawing, complete, animateFunc) {\n    animateFunc(this._drawnPoints, complete);\n  },\n  _setGroupsSettings: chartSeries._setGroupsSettings,\n  _drawPoint: function _drawPoint(point, groups, animationEnabled) {\n    chartSeries._drawPoint.call(this, point, groups, animationEnabled);\n  },\n  _parsePointStyle: function _parsePointStyle(style) {\n    var base = baseBarSeriesMethods._parsePointStyle.apply(this, arguments);\n\n    base.opacity = style.opacity;\n    return base;\n  },\n  _createGroups: chartSeries._createGroups,\n  _setMarkerGroupSettings: function _setMarkerGroupSettings() {\n    var that = this;\n\n    var markersSettings = that._createPointStyles(that._getMarkerGroupOptions()).normal;\n\n    var groupSettings;\n    markersSettings.class = \"dxc-markers\";\n\n    that._applyMarkerClipRect(markersSettings);\n\n    groupSettings = _extend({}, markersSettings);\n    delete groupSettings.opacity;\n\n    that._markersGroup.attr(groupSettings);\n  },\n  _createLegendState: areaSeries._createLegendState\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/series/bar_series.js"],"names":["extend","require","each","scatterSeries","areaSeries","chartSeries","polarSeries","_extend","_each","exports","baseBarSeriesMethods","_createLegendState","fill","styleOptions","hatching","_parsePointStyle","color","style","base","_applyMarkerClipRect","settings","_setGroupsSettings","that","animationEnabled","scaleX","scaleY","translateX","translateY","_drawPoint","options","_getMainColor","_createPointStyles","mainColor","pointOptions","normal","hover","selection","_updatePointsVisibility","visibility","point","_getOptionsForPoint","_animate","complete","animateFunc","lastPointIndex","drawnPoints","i","getValueRangeInitialValue","_patchMarginOptions","_defaultAggregator","_defineDrawingState","usePointsToDefineAutoHiding","_getAffineCoordOptions","rotated","direction","_animatePoints","checkSeriesViewportCoord","axis","translator","range","min","max","inverted","coord","getSeriesPairCoord","oppositeCoord","isOpposite","isArgument","coordName","oppositeCoordName","points","p","tmpCoord","_createGroups","_setMarkerGroupSettings","markersSettings","groupSettings"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/series/bar_series.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar scatterSeries = require(\"./scatter_series\");\r\nvar areaSeries = require(\"./area_series\").chart.area;\r\nvar chartSeries = scatterSeries.chart;\r\nvar polarSeries = scatterSeries.polar;\r\nvar _extend = extend;\r\nvar _each = each;\r\nexports.chart = {};\r\nexports.polar = {};\r\nvar baseBarSeriesMethods = {\r\n    _createLegendState: function(styleOptions, defaultColor) {\r\n        return {\r\n            fill: styleOptions.color || defaultColor,\r\n            hatching: styleOptions.hatching\r\n        }\r\n    },\r\n    _parsePointStyle: function(style, defaultColor, defaultBorderColor) {\r\n        var color = style.color || defaultColor;\r\n        var base = chartSeries._parsePointStyle.call(this, style, color, defaultBorderColor);\r\n        base.fill = color;\r\n        base.hatching = style.hatching;\r\n        base.dashStyle = style.border && style.border.dashStyle || \"solid\";\r\n        delete base.r;\r\n        return base\r\n    },\r\n    _applyMarkerClipRect: function(settings) {\r\n        settings[\"clip-path\"] = null\r\n    },\r\n    _setGroupsSettings: function(animationEnabled, firstDrawing) {\r\n        var that = this;\r\n        var settings = {};\r\n        chartSeries._setGroupsSettings.apply(that, arguments);\r\n        if (animationEnabled && firstDrawing) {\r\n            settings = this._getAffineCoordOptions()\r\n        } else {\r\n            if (!animationEnabled) {\r\n                settings = {\r\n                    scaleX: 1,\r\n                    scaleY: 1,\r\n                    translateX: 0,\r\n                    translateY: 0\r\n                }\r\n            }\r\n        }\r\n        that._markersGroup.attr(settings)\r\n    },\r\n    _drawPoint: function(options) {\r\n        options.hasAnimation = options.hasAnimation && !options.firstDrawing;\r\n        options.firstDrawing = false;\r\n        chartSeries._drawPoint.call(this, options)\r\n    },\r\n    _getMainColor: function() {\r\n        return this._options.mainSeriesColor\r\n    },\r\n    _createPointStyles: function(pointOptions) {\r\n        var that = this;\r\n        var mainColor = pointOptions.color || that._getMainColor();\r\n        return {\r\n            normal: that._parsePointStyle(pointOptions, mainColor, mainColor),\r\n            hover: that._parsePointStyle(pointOptions.hoverStyle || {}, mainColor, mainColor),\r\n            selection: that._parsePointStyle(pointOptions.selectionStyle || {}, mainColor, mainColor)\r\n        }\r\n    },\r\n    _updatePointsVisibility: function() {\r\n        var visibility = this._options.visible;\r\n        each(this._points, function(_, point) {\r\n            point._options.visible = visibility\r\n        })\r\n    },\r\n    _getOptionsForPoint: function() {\r\n        return this._options\r\n    },\r\n    _animate: function(firstDrawing) {\r\n        var that = this;\r\n        var complete = function() {\r\n            that._animateComplete()\r\n        };\r\n        var animateFunc = function(drawnPoints, complete) {\r\n            var lastPointIndex = drawnPoints.length - 1;\r\n            _each(drawnPoints || [], function(i, point) {\r\n                point.animate(i === lastPointIndex ? complete : void 0, point.getMarkerCoords())\r\n            })\r\n        };\r\n        that._animatePoints(firstDrawing, complete, animateFunc)\r\n    },\r\n    getValueRangeInitialValue: areaSeries.getValueRangeInitialValue,\r\n    _patchMarginOptions: function(options) {\r\n        options.checkInterval = true;\r\n        return options\r\n    },\r\n    _defaultAggregator: \"sum\",\r\n    _defineDrawingState: function() {},\r\n    usePointsToDefineAutoHiding: function() {\r\n        return false\r\n    }\r\n};\r\nexports.chart.bar = _extend({}, chartSeries, baseBarSeriesMethods, {\r\n    _getAffineCoordOptions: function() {\r\n        var rotated = this._options.rotated;\r\n        var direction = rotated ? \"X\" : \"Y\";\r\n        var settings = {\r\n            scaleX: rotated ? .001 : 1,\r\n            scaleY: rotated ? 1 : .001\r\n        };\r\n        settings[\"translate\" + direction] = this.getValueAxis().getTranslator().translate(\"canvas_position_default\");\r\n        return settings\r\n    },\r\n    _animatePoints: function(firstDrawing, complete, animateFunc) {\r\n        var that = this;\r\n        that._markersGroup.animate({\r\n            scaleX: 1,\r\n            scaleY: 1,\r\n            translateY: 0,\r\n            translateX: 0\r\n        }, void 0, complete);\r\n        if (!firstDrawing) {\r\n            animateFunc(that._drawnPoints, complete)\r\n        }\r\n    },\r\n    checkSeriesViewportCoord: function(axis, coord) {\r\n        if (0 === this._points.length) {\r\n            return false\r\n        }\r\n        if (axis.isArgumentAxis) {\r\n            return true\r\n        }\r\n        var translator = axis.getTranslator();\r\n        var range = this.getViewport();\r\n        var min = translator.translate(range.categories ? range.categories[0] : range.min);\r\n        var max = translator.translate(range.categories ? range.categories[range.categories.length - 1] : range.max);\r\n        var rotated = this.getOptions().rotated;\r\n        var inverted = axis.getOptions().inverted;\r\n        return rotated && !inverted || !rotated && inverted ? coord >= min && coord <= max : coord >= max && coord <= min\r\n    },\r\n    getSeriesPairCoord: function(coord, isArgument) {\r\n        var oppositeCoord = null;\r\n        var rotated = this._options.rotated;\r\n        var isOpposite = !isArgument && !rotated || isArgument && rotated;\r\n        var coordName = isOpposite ? \"vy\" : \"vx\";\r\n        var oppositeCoordName = isOpposite ? \"vx\" : \"vy\";\r\n        var points = this.getPoints();\r\n        for (var i = 0; i < points.length; i++) {\r\n            var p = points[i];\r\n            var tmpCoord = void 0;\r\n            if (isArgument) {\r\n                tmpCoord = p.getCenterCoord()[coordName[1]] === coord ? p[oppositeCoordName] : void 0\r\n            } else {\r\n                tmpCoord = p[coordName] === coord ? p[oppositeCoordName] : void 0\r\n            }\r\n            if (this.checkAxisVisibleAreaCoord(!isArgument, tmpCoord)) {\r\n                oppositeCoord = tmpCoord;\r\n                break\r\n            }\r\n        }\r\n        return oppositeCoord\r\n    }\r\n});\r\nexports.polar.bar = _extend({}, polarSeries, baseBarSeriesMethods, {\r\n    _animatePoints: function(firstDrawing, complete, animateFunc) {\r\n        animateFunc(this._drawnPoints, complete)\r\n    },\r\n    _setGroupsSettings: chartSeries._setGroupsSettings,\r\n    _drawPoint: function(point, groups, animationEnabled) {\r\n        chartSeries._drawPoint.call(this, point, groups, animationEnabled)\r\n    },\r\n    _parsePointStyle: function(style) {\r\n        var base = baseBarSeriesMethods._parsePointStyle.apply(this, arguments);\r\n        base.opacity = style.opacity;\r\n        return base\r\n    },\r\n    _createGroups: chartSeries._createGroups,\r\n    _setMarkerGroupSettings: function() {\r\n        var that = this;\r\n        var markersSettings = that._createPointStyles(that._getMarkerGroupOptions()).normal;\r\n        var groupSettings;\r\n        markersSettings.class = \"dxc-markers\";\r\n        that._applyMarkerClipRect(markersSettings);\r\n        groupSettings = _extend({}, markersSettings);\r\n        delete groupSettings.opacity;\r\n        that._markersGroup.attr(groupSettings)\r\n    },\r\n    _createLegendState: areaSeries._createLegendState\r\n});\r\n"]},"metadata":{},"sourceType":"module"}