{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/tooltip_strategies/tooltipStrategyBase.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TooltipStrategyBase = void 0;\n\nvar _button = require(\"../../button\");\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _function_template = require(\"../../../core/templates/function_template\");\n\nvar _renderer = require(\"../../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _uiList = require(\"../../list/ui.list.edit\");\n\nvar _uiList2 = _interopRequireDefault(_uiList);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar TOOLTIP_APPOINTMENT_ITEM = \"dx-tooltip-appointment-item\";\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT = TOOLTIP_APPOINTMENT_ITEM + \"-content\";\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT = TOOLTIP_APPOINTMENT_ITEM + \"-content-subject\";\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE = TOOLTIP_APPOINTMENT_ITEM + \"-content-date\";\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER = TOOLTIP_APPOINTMENT_ITEM + \"-marker\";\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY = TOOLTIP_APPOINTMENT_ITEM + \"-marker-body\";\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button-container\";\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button\";\n\nvar TooltipStrategyBase = exports.TooltipStrategyBase = function () {\n  function TooltipStrategyBase(options) {\n    _classCallCheck(this, TooltipStrategyBase);\n\n    this._tooltip = null;\n    this._options = options;\n    this._extraOptions = null;\n  }\n\n  _createClass(TooltipStrategyBase, [{\n    key: \"show\",\n    value: function value(target, dataList, extraOptions) {\n      if (this._canShowTooltip(dataList)) {\n        this.hide();\n        this._extraOptions = extraOptions;\n\n        this._showCore(target, dataList);\n      }\n    }\n  }, {\n    key: \"_showCore\",\n    value: function value(target, dataList) {\n      if (!this._tooltip) {\n        this._tooltip = this._createTooltip(target, dataList);\n      } else {\n        this._shouldUseTarget() && this._tooltip.option(\"target\", target);\n\n        this._list.option(\"dataSource\", dataList);\n      }\n\n      this._tooltip.option(\"visible\", true);\n    }\n  }, {\n    key: \"_getContentTemplate\",\n    value: function value(dataList) {\n      var _this = this;\n\n      return function (container) {\n        var listElement = (0, _renderer2.default)(\"<div>\");\n        (0, _renderer2.default)(container).append(listElement);\n        _this._list = _this._createList(listElement, dataList);\n      };\n    }\n  }, {\n    key: \"isAlreadyShown\",\n    value: function value(target) {\n      if (this._tooltip && this._tooltip.option(\"visible\")) {\n        return this._tooltip.option(\"target\")[0] === target[0];\n      }\n    }\n  }, {\n    key: \"_onShown\",\n    value: function value() {\n      this._list.option(\"focusStateEnabled\", this._extraOptions.focusStateEnabled);\n    }\n  }, {\n    key: \"dispose\",\n    value: function value() {}\n  }, {\n    key: \"hide\",\n    value: function value() {\n      if (this._tooltip) {\n        this._tooltip.option(\"visible\", false);\n      }\n    }\n  }, {\n    key: \"_shouldUseTarget\",\n    value: function value() {\n      return true;\n    }\n  }, {\n    key: \"_createTooltip\",\n    value: function value() {}\n  }, {\n    key: \"_canShowTooltip\",\n    value: function value(dataList) {\n      if (!dataList.length) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_createListOption\",\n    value: function value(dataList) {\n      var _this2 = this;\n\n      return {\n        dataSource: dataList,\n        onContentReady: this._onListRender.bind(this),\n        onItemClick: function onItemClick(e) {\n          return _this2._onListItemClick(e);\n        },\n        itemTemplate: function itemTemplate(item, index) {\n          var currentData = item.settings && item.settings.targetedAppointmentData || item.currentData || item.data;\n          return _this2._renderTemplate(item.data, currentData, index, item.color);\n        }\n      };\n    }\n  }, {\n    key: \"_onListRender\",\n    value: function value() {}\n  }, {\n    key: \"_createTooltipElement\",\n    value: function value(wrapperClass) {\n      return (0, _renderer2.default)(\"<div>\").appendTo(this._options.container).addClass(wrapperClass);\n    }\n  }, {\n    key: \"_createList\",\n    value: function value(listElement, dataList) {\n      return this._options.createComponent(listElement, _uiList2.default, this._createListOption(dataList));\n    }\n  }, {\n    key: \"_renderTemplate\",\n    value: function value(data, currentData, index, color) {\n      var itemListContent = this._createItemListContent(data, currentData, color);\n\n      this._options.setDefaultTemplate(this._getItemListTemplateName(), new _function_template.FunctionTemplate(function (options) {\n        var $container = (0, _renderer2.default)(options.container);\n        $container.append(itemListContent);\n        return $container;\n      }));\n\n      var template = this._options.getAppointmentTemplate(this._getItemListTemplateName() + \"Template\");\n\n      return this._createFunctionTemplate(template, data, currentData, index);\n    }\n  }, {\n    key: \"_createFunctionTemplate\",\n    value: function value(template, data, targetData, index) {\n      var isEmptyDropDownAppointmentTemplate = this._isEmptyDropDownAppointmentTemplate();\n\n      return new _function_template.FunctionTemplate(function (options) {\n        return template.render({\n          model: isEmptyDropDownAppointmentTemplate ? {\n            appointmentData: data,\n            targetedAppointmentData: targetData\n          } : data,\n          container: options.container,\n          index: index\n        });\n      });\n    }\n  }, {\n    key: \"_getItemListTemplateName\",\n    value: function value() {\n      return this._isEmptyDropDownAppointmentTemplate() ? \"appointmentTooltip\" : \"dropDownAppointment\";\n    }\n  }, {\n    key: \"_isEmptyDropDownAppointmentTemplate\",\n    value: function value() {\n      return !this._extraOptions.dropDownAppointmentTemplate || \"dropDownAppointment\" === this._extraOptions.dropDownAppointmentTemplate;\n    }\n  }, {\n    key: \"_onListItemClick\",\n    value: function value(e) {\n      this.hide();\n\n      if (this._extraOptions.clickEvent) {\n        this._extraOptions.clickEvent(e);\n      }\n\n      this._options.showAppointmentPopup(e.itemData.data, false, e.itemData.currentData);\n    }\n  }, {\n    key: \"_createItemListContent\",\n    value: function value(data, currentData, color) {\n      var editing = this._extraOptions.editing;\n      var $itemElement = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM);\n      $itemElement.append(this._createItemListMarker(color));\n      $itemElement.append(this._createItemListInfo(this._options.getTextAndFormatDate(data, currentData)));\n\n      if (!data.disabled && (editing && true === editing.allowDeleting || true === editing)) {\n        var singleAppointmentData = this._options.getSingleAppointmentData(data, this._tooltip.option(\"target\"));\n\n        $itemElement.append(this._createDeleteButton(data, singleAppointmentData));\n      }\n\n      return $itemElement;\n    }\n  }, {\n    key: \"_createItemListMarker\",\n    value: function value(color) {\n      var $marker = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER);\n      var $markerBody = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY);\n      $marker.append($markerBody);\n      color && color.done(function (value) {\n        return $markerBody.css(\"background\", value);\n      });\n      return $marker;\n    }\n  }, {\n    key: \"_createItemListInfo\",\n    value: function value(object) {\n      var result = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT);\n      var $title = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT).text(object.text);\n      var $date = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE).text(object.formatDate);\n      return result.append($title).append($date);\n    }\n  }, {\n    key: \"_createDeleteButton\",\n    value: function value(data, currentData) {\n      var _this3 = this;\n\n      var $container = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER);\n      var $deleteButton = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON);\n      $container.append($deleteButton);\n\n      this._options.createComponent($deleteButton, _button2.default, {\n        icon: \"trash\",\n        stylingMode: \"text\",\n        onClick: function onClick(e) {\n          _this3.hide();\n\n          e.event.stopPropagation();\n\n          _this3._options.checkAndDeleteAppointment(data, currentData);\n        }\n      });\n\n      return $container;\n    }\n  }]);\n\n  return TooltipStrategyBase;\n}();","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/scheduler/tooltip_strategies/tooltipStrategyBase.js"],"names":["Object","value","exports","_button","require","_button2","_interopRequireDefault","_function_template","_renderer","_renderer2","_uiList","_uiList2","obj","instance","i","props","descriptor","_defineProperties","Constructor","TOOLTIP_APPOINTMENT_ITEM","TOOLTIP_APPOINTMENT_ITEM_CONTENT","TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT","TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE","TOOLTIP_APPOINTMENT_ITEM_MARKER","TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY","TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER","TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON","TooltipStrategyBase","_classCallCheck","_createClass","key","_this","listElement","target","dataList","_this2","dataSource","onContentReady","onItemClick","itemTemplate","currentData","item","itemListContent","$container","options","template","isEmptyDropDownAppointmentTemplate","model","appointmentData","targetedAppointmentData","targetData","container","index","e","editing","$itemElement","data","singleAppointmentData","$marker","$markerBody","color","result","$title","object","$date","_this3","$deleteButton","icon","stylingMode","onClick"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/tooltip_strategies/tooltipStrategyBase.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.TooltipStrategyBase = void 0;\r\nvar _button = require(\"../../button\");\r\nvar _button2 = _interopRequireDefault(_button);\r\nvar _function_template = require(\"../../../core/templates/function_template\");\r\nvar _renderer = require(\"../../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _uiList = require(\"../../list/ui.list.edit\");\r\nvar _uiList2 = _interopRequireDefault(_uiList);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar TOOLTIP_APPOINTMENT_ITEM = \"dx-tooltip-appointment-item\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT = TOOLTIP_APPOINTMENT_ITEM + \"-content\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT = TOOLTIP_APPOINTMENT_ITEM + \"-content-subject\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE = TOOLTIP_APPOINTMENT_ITEM + \"-content-date\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER = TOOLTIP_APPOINTMENT_ITEM + \"-marker\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY = TOOLTIP_APPOINTMENT_ITEM + \"-marker-body\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button-container\";\r\nvar TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON = TOOLTIP_APPOINTMENT_ITEM + \"-delete-button\";\r\nvar TooltipStrategyBase = exports.TooltipStrategyBase = function() {\r\n    function TooltipStrategyBase(options) {\r\n        _classCallCheck(this, TooltipStrategyBase);\r\n        this._tooltip = null;\r\n        this._options = options;\r\n        this._extraOptions = null\r\n    }\r\n    _createClass(TooltipStrategyBase, [{\r\n        key: \"show\",\r\n        value: function(target, dataList, extraOptions) {\r\n            if (this._canShowTooltip(dataList)) {\r\n                this.hide();\r\n                this._extraOptions = extraOptions;\r\n                this._showCore(target, dataList)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_showCore\",\r\n        value: function(target, dataList) {\r\n            if (!this._tooltip) {\r\n                this._tooltip = this._createTooltip(target, dataList)\r\n            } else {\r\n                this._shouldUseTarget() && this._tooltip.option(\"target\", target);\r\n                this._list.option(\"dataSource\", dataList)\r\n            }\r\n            this._tooltip.option(\"visible\", true)\r\n        }\r\n    }, {\r\n        key: \"_getContentTemplate\",\r\n        value: function(dataList) {\r\n            var _this = this;\r\n            return function(container) {\r\n                var listElement = (0, _renderer2.default)(\"<div>\");\r\n                (0, _renderer2.default)(container).append(listElement);\r\n                _this._list = _this._createList(listElement, dataList)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"isAlreadyShown\",\r\n        value: function(target) {\r\n            if (this._tooltip && this._tooltip.option(\"visible\")) {\r\n                return this._tooltip.option(\"target\")[0] === target[0]\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onShown\",\r\n        value: function() {\r\n            this._list.option(\"focusStateEnabled\", this._extraOptions.focusStateEnabled)\r\n        }\r\n    }, {\r\n        key: \"dispose\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"hide\",\r\n        value: function() {\r\n            if (this._tooltip) {\r\n                this._tooltip.option(\"visible\", false)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_shouldUseTarget\",\r\n        value: function() {\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_createTooltip\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_canShowTooltip\",\r\n        value: function(dataList) {\r\n            if (!dataList.length) {\r\n                return false\r\n            }\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_createListOption\",\r\n        value: function(dataList) {\r\n            var _this2 = this;\r\n            return {\r\n                dataSource: dataList,\r\n                onContentReady: this._onListRender.bind(this),\r\n                onItemClick: function(e) {\r\n                    return _this2._onListItemClick(e)\r\n                },\r\n                itemTemplate: function(item, index) {\r\n                    var currentData = item.settings && item.settings.targetedAppointmentData || item.currentData || item.data;\r\n                    return _this2._renderTemplate(item.data, currentData, index, item.color)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onListRender\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_createTooltipElement\",\r\n        value: function(wrapperClass) {\r\n            return (0, _renderer2.default)(\"<div>\").appendTo(this._options.container).addClass(wrapperClass)\r\n        }\r\n    }, {\r\n        key: \"_createList\",\r\n        value: function(listElement, dataList) {\r\n            return this._options.createComponent(listElement, _uiList2.default, this._createListOption(dataList))\r\n        }\r\n    }, {\r\n        key: \"_renderTemplate\",\r\n        value: function(data, currentData, index, color) {\r\n            var itemListContent = this._createItemListContent(data, currentData, color);\r\n            this._options.setDefaultTemplate(this._getItemListTemplateName(), new _function_template.FunctionTemplate(function(options) {\r\n                var $container = (0, _renderer2.default)(options.container);\r\n                $container.append(itemListContent);\r\n                return $container\r\n            }));\r\n            var template = this._options.getAppointmentTemplate(this._getItemListTemplateName() + \"Template\");\r\n            return this._createFunctionTemplate(template, data, currentData, index)\r\n        }\r\n    }, {\r\n        key: \"_createFunctionTemplate\",\r\n        value: function(template, data, targetData, index) {\r\n            var isEmptyDropDownAppointmentTemplate = this._isEmptyDropDownAppointmentTemplate();\r\n            return new _function_template.FunctionTemplate(function(options) {\r\n                return template.render({\r\n                    model: isEmptyDropDownAppointmentTemplate ? {\r\n                        appointmentData: data,\r\n                        targetedAppointmentData: targetData\r\n                    } : data,\r\n                    container: options.container,\r\n                    index: index\r\n                })\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getItemListTemplateName\",\r\n        value: function() {\r\n            return this._isEmptyDropDownAppointmentTemplate() ? \"appointmentTooltip\" : \"dropDownAppointment\"\r\n        }\r\n    }, {\r\n        key: \"_isEmptyDropDownAppointmentTemplate\",\r\n        value: function() {\r\n            return !this._extraOptions.dropDownAppointmentTemplate || \"dropDownAppointment\" === this._extraOptions.dropDownAppointmentTemplate\r\n        }\r\n    }, {\r\n        key: \"_onListItemClick\",\r\n        value: function(e) {\r\n            this.hide();\r\n            if (this._extraOptions.clickEvent) {\r\n                this._extraOptions.clickEvent(e)\r\n            }\r\n            this._options.showAppointmentPopup(e.itemData.data, false, e.itemData.currentData)\r\n        }\r\n    }, {\r\n        key: \"_createItemListContent\",\r\n        value: function(data, currentData, color) {\r\n            var editing = this._extraOptions.editing;\r\n            var $itemElement = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM);\r\n            $itemElement.append(this._createItemListMarker(color));\r\n            $itemElement.append(this._createItemListInfo(this._options.getTextAndFormatDate(data, currentData)));\r\n            if (!data.disabled && (editing && true === editing.allowDeleting || true === editing)) {\r\n                var singleAppointmentData = this._options.getSingleAppointmentData(data, this._tooltip.option(\"target\"));\r\n                $itemElement.append(this._createDeleteButton(data, singleAppointmentData))\r\n            }\r\n            return $itemElement\r\n        }\r\n    }, {\r\n        key: \"_createItemListMarker\",\r\n        value: function(color) {\r\n            var $marker = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER);\r\n            var $markerBody = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_MARKER_BODY);\r\n            $marker.append($markerBody);\r\n            color && color.done(function(value) {\r\n                return $markerBody.css(\"background\", value)\r\n            });\r\n            return $marker\r\n        }\r\n    }, {\r\n        key: \"_createItemListInfo\",\r\n        value: function(object) {\r\n            var result = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT);\r\n            var $title = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_SUBJECT).text(object.text);\r\n            var $date = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_CONTENT_DATE).text(object.formatDate);\r\n            return result.append($title).append($date)\r\n        }\r\n    }, {\r\n        key: \"_createDeleteButton\",\r\n        value: function(data, currentData) {\r\n            var _this3 = this;\r\n            var $container = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON_CONTAINER);\r\n            var $deleteButton = (0, _renderer2.default)(\"<div>\").addClass(TOOLTIP_APPOINTMENT_ITEM_DELETE_BUTTON);\r\n            $container.append($deleteButton);\r\n            this._options.createComponent($deleteButton, _button2.default, {\r\n                icon: \"trash\",\r\n                stylingMode: \"text\",\r\n                onClick: function(e) {\r\n                    _this3.hide();\r\n                    e.event.stopPropagation();\r\n                    _this3._options.checkAndDeleteAppointment(data, currentData)\r\n                }\r\n            });\r\n            return $container\r\n        }\r\n    }]);\r\n    return TooltipStrategyBase\r\n}();\r\n"]},"metadata":{},"sourceType":"module"}