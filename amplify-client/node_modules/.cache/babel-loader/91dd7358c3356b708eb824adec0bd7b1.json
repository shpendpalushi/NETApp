{"ast":null,"code":"/**\r\n * DevExtreme (ui/accordion.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _events_engine = require(\"../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _fx = require(\"../animation/fx\");\n\nvar _fx2 = _interopRequireDefault(_fx);\n\nvar _click = require(\"../events/click\");\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _devices = require(\"../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _common = require(\"../core/utils/common\");\n\nvar _dom = require(\"../core/utils/dom\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _type = require(\"../core/utils/type\");\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _utils = require(\"../events/utils\");\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.live_update\");\n\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\n\nvar _deferred = require(\"../core/utils/deferred\");\n\nvar _bindable_template = require(\"../core/templates/bindable_template\");\n\nvar _icon = require(\"../core/utils/icon\");\n\nvar _themes = require(\"./themes\");\n\nvar _themes2 = _interopRequireDefault(_themes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar ACCORDION_CLASS = \"dx-accordion\";\nvar ACCORDION_WRAPPER_CLASS = \"dx-accordion-wrapper\";\nvar ACCORDION_ITEM_CLASS = \"dx-accordion-item\";\nvar ACCORDION_ITEM_OPENED_CLASS = \"dx-accordion-item-opened\";\nvar ACCORDION_ITEM_CLOSED_CLASS = \"dx-accordion-item-closed\";\nvar ACCORDION_ITEM_TITLE_CLASS = \"dx-accordion-item-title\";\nvar ACCORDION_ITEM_BODY_CLASS = \"dx-accordion-item-body\";\nvar ACCORDION_ITEM_TITLE_CAPTION_CLASS = \"dx-accordion-item-title-caption\";\nvar ACCORDION_ITEM_DATA_KEY = \"dxAccordionItemData\";\n\nvar Accordion = _uiCollection_widget2.default.inherit({\n  _activeStateUnit: \".\" + ACCORDION_ITEM_CLASS,\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      hoverStateEnabled: true,\n      height: void 0,\n      itemTitleTemplate: \"title\",\n      onItemTitleClick: null,\n      selectedIndex: 0,\n      collapsible: false,\n      multiple: false,\n      animationDuration: 300,\n      deferRendering: true,\n      selectionByClick: true,\n      activeStateEnabled: true,\n      _itemAttributes: {\n        role: \"tab\"\n      },\n      _animationEasing: \"ease\"\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device() {\n        return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function device() {\n        return _themes2.default.isMaterial();\n      },\n      options: {\n        animationDuration: 200,\n        _animationEasing: \"cubic-bezier(0.4, 0, 0.2, 1)\"\n      }\n    }]);\n  },\n  _itemElements: function _itemElements() {\n    return this._itemContainer().children(this._itemSelector());\n  },\n  _init: function _init() {\n    this.callBase();\n    this.option(\"selectionRequired\", !this.option(\"collapsible\"));\n    this.option(\"selectionMode\", this.option(\"multiple\") ? \"multiple\" : \"single\");\n    var $element = this.$element();\n    $element.addClass(ACCORDION_CLASS);\n    this._$container = (0, _renderer2.default)(\"<div>\").addClass(ACCORDION_WRAPPER_CLASS);\n    $element.append(this._$container);\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n    this._defaultTemplates.title = new _bindable_template.BindableTemplate(function ($container, data) {\n      if ((0, _type.isPlainObject)(data)) {\n        if ((0, _type.isDefined)(data.title) && !(0, _type.isPlainObject)(data.title)) {\n          $container.text(data.title);\n        }\n\n        var $iconElement = (0, _icon.getImageContainer)(data.icon);\n        $iconElement && $iconElement.appendTo($container);\n      } else {\n        if ((0, _type.isDefined)(data)) {\n          $container.text(String(data));\n        }\n      }\n\n      $container.wrapInner((0, _renderer2.default)(\"<div>\").addClass(ACCORDION_ITEM_TITLE_CAPTION_CLASS));\n    }, [\"title\", \"icon\"], this.option(\"integrationOptions.watchMethod\"));\n  },\n  _initMarkup: function _initMarkup() {\n    var _this = this;\n\n    this._deferredItems = [];\n    this.callBase();\n    this.setAria({\n      role: \"tablist\",\n      multiselectable: this.option(\"multiple\")\n    });\n    (0, _common.deferRender)(function () {\n      var selectedItemIndices = _this._getSelectedItemIndices();\n\n      _this._renderSelection(selectedItemIndices, []);\n    });\n  },\n  _render: function _render() {\n    this.callBase();\n\n    this._updateItemHeightsWrapper(true);\n  },\n  _itemDataKey: function _itemDataKey() {\n    return ACCORDION_ITEM_DATA_KEY;\n  },\n  _itemClass: function _itemClass() {\n    return ACCORDION_ITEM_CLASS;\n  },\n  _itemContainer: function _itemContainer() {\n    return this._$container;\n  },\n  _itemTitles: function _itemTitles() {\n    return this._itemElements().find(\".\" + ACCORDION_ITEM_TITLE_CLASS);\n  },\n  _itemContents: function _itemContents() {\n    return this._itemElements().find(\".\" + ACCORDION_ITEM_BODY_CLASS);\n  },\n  _getItemData: function _getItemData(target) {\n    return (0, _renderer2.default)(target).parent().data(this._itemDataKey()) || this.callBase.apply(this, arguments);\n  },\n  _executeItemRenderAction: function _executeItemRenderAction(itemData) {\n    if (itemData.type) {\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _itemSelectHandler: function _itemSelectHandler(e) {\n    if ((0, _renderer2.default)(e.target).closest(this._itemContents()).length) {\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _afterItemElementDeleted: function _afterItemElementDeleted($item, deletedActionArgs) {\n    this._deferredItems.splice(deletedActionArgs.itemIndex, 1);\n\n    this.callBase.apply(this, arguments);\n  },\n  _renderItemContent: function _renderItemContent(args) {\n    var itemTitle = this.callBase((0, _extend.extend)({}, args, {\n      contentClass: ACCORDION_ITEM_TITLE_CLASS,\n      templateProperty: \"titleTemplate\",\n      defaultTemplateName: this.option(\"itemTitleTemplate\")\n    }));\n\n    this._attachItemTitleClickAction(itemTitle);\n\n    var deferred = new _deferred.Deferred();\n\n    if ((0, _type.isDefined)(this._deferredItems[args.index])) {\n      this._deferredItems[args.index] = deferred;\n    } else {\n      this._deferredItems.push(deferred);\n    }\n\n    if (!this.option(\"deferRendering\") || this._getSelectedItemIndices().indexOf(args.index) >= 0) {\n      deferred.resolve();\n    }\n\n    deferred.done(this.callBase.bind(this, (0, _extend.extend)({}, args, {\n      contentClass: ACCORDION_ITEM_BODY_CLASS,\n      container: (0, _dom.getPublicElement)((0, _renderer2.default)(\"<div>\").appendTo((0, _renderer2.default)(itemTitle).parent()))\n    })));\n  },\n  _attachItemTitleClickAction: function _attachItemTitleClickAction(itemTitle) {\n    var eventName = _utils2.default.addNamespace(_click2.default.name, this.NAME);\n\n    _events_engine2.default.off(itemTitle, eventName);\n\n    _events_engine2.default.on(itemTitle, eventName, this._itemTitleClickHandler.bind(this));\n  },\n  _itemTitleClickHandler: function _itemTitleClickHandler(e) {\n    this._itemDXEventHandler(e, \"onItemTitleClick\");\n  },\n  _renderSelection: function _renderSelection(addedSelection, removedSelection) {\n    this._itemElements().addClass(ACCORDION_ITEM_CLOSED_CLASS);\n\n    this.setAria(\"hidden\", true, this._itemContents());\n\n    this._updateItems(addedSelection, removedSelection);\n  },\n  _updateSelection: function _updateSelection(addedSelection, removedSelection) {\n    this._updateItems(addedSelection, removedSelection);\n\n    this._updateItemHeightsWrapper(false);\n  },\n  _updateItems: function _updateItems(addedSelection, removedSelection) {\n    var $items = this._itemElements();\n\n    var that = this;\n\n    _iterator2.default.each(addedSelection, function (_, index) {\n      that._deferredItems[index].resolve();\n\n      var $item = $items.eq(index).addClass(ACCORDION_ITEM_OPENED_CLASS).removeClass(ACCORDION_ITEM_CLOSED_CLASS);\n      that.setAria(\"hidden\", false, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS));\n    });\n\n    _iterator2.default.each(removedSelection, function (_, index) {\n      var $item = $items.eq(index).removeClass(ACCORDION_ITEM_OPENED_CLASS);\n      that.setAria(\"hidden\", true, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS));\n    });\n  },\n  _updateItemHeightsWrapper: function _updateItemHeightsWrapper(skipAnimation) {\n    if (this.option(\"templatesRenderAsynchronously\")) {\n      this._animationTimer = setTimeout(function () {\n        this._updateItemHeights(skipAnimation);\n      }.bind(this));\n    } else {\n      this._updateItemHeights(skipAnimation);\n    }\n  },\n  _updateItemHeights: function _updateItemHeights(skipAnimation) {\n    var that = this;\n    var deferredAnimate = that._deferredAnimate;\n\n    var itemHeight = this._splitFreeSpace(this._calculateFreeSpace());\n\n    clearTimeout(this._animationTimer);\n    return _deferred.when.apply(_renderer2.default, [].slice.call(this._itemElements()).map(function (item) {\n      return that._updateItemHeight((0, _renderer2.default)(item), itemHeight, skipAnimation);\n    })).done(function () {\n      if (deferredAnimate) {\n        deferredAnimate.resolveWith(that);\n      }\n    });\n  },\n  _updateItemHeight: function _updateItemHeight($item, itemHeight, skipAnimation) {\n    var $title = $item.children(\".\" + ACCORDION_ITEM_TITLE_CLASS);\n\n    if (_fx2.default.isAnimating($item)) {\n      _fx2.default.stop($item);\n    }\n\n    var startItemHeight = $item.outerHeight();\n    var finalItemHeight = $item.hasClass(ACCORDION_ITEM_OPENED_CLASS) ? itemHeight + $title.outerHeight() || $item.height(\"auto\").outerHeight() : $title.outerHeight();\n    return this._animateItem($item, startItemHeight, finalItemHeight, skipAnimation, !!itemHeight);\n  },\n  _animateItem: function _animateItem($element, startHeight, endHeight, skipAnimation, fixedHeight) {\n    var d;\n\n    if (skipAnimation || startHeight === endHeight) {\n      $element.css(\"height\", endHeight);\n      d = new _deferred.Deferred().resolve();\n    } else {\n      d = _fx2.default.animate($element, {\n        type: \"custom\",\n        from: {\n          height: startHeight\n        },\n        to: {\n          height: endHeight\n        },\n        duration: this.option(\"animationDuration\"),\n        easing: this.option(\"_animationEasing\")\n      });\n    }\n\n    return d.done(function () {\n      if ($element.hasClass(ACCORDION_ITEM_OPENED_CLASS) && !fixedHeight) {\n        $element.css(\"height\", \"\");\n      }\n\n      $element.not(\".\" + ACCORDION_ITEM_OPENED_CLASS).addClass(ACCORDION_ITEM_CLOSED_CLASS);\n    });\n  },\n  _splitFreeSpace: function _splitFreeSpace(freeSpace) {\n    if (!freeSpace) {\n      return freeSpace;\n    }\n\n    return freeSpace / this.option(\"selectedItems\").length;\n  },\n  _calculateFreeSpace: function _calculateFreeSpace() {\n    var height = this.option(\"height\");\n\n    if (void 0 === height || \"auto\" === height) {\n      return;\n    }\n\n    var $titles = this._itemTitles();\n\n    var itemsHeight = 0;\n\n    _iterator2.default.each($titles, function (_, title) {\n      itemsHeight += (0, _renderer2.default)(title).outerHeight();\n    });\n\n    return this.$element().height() - itemsHeight;\n  },\n  _visibilityChanged: function _visibilityChanged(visible) {\n    if (visible) {\n      this._dimensionChanged();\n    }\n  },\n  _dimensionChanged: function _dimensionChanged() {\n    this._updateItemHeights(true);\n  },\n  _clean: function _clean() {\n    clearTimeout(this._animationTimer);\n    this.callBase();\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"animationDuration\":\n      case \"onItemTitleClick\":\n      case \"_animationEasing\":\n        break;\n\n      case \"collapsible\":\n        this.option(\"selectionRequired\", !this.option(\"collapsible\"));\n        break;\n\n      case \"itemTitleTemplate\":\n      case \"height\":\n      case \"deferRendering\":\n        this._invalidate();\n\n        break;\n\n      case \"multiple\":\n        this.option(\"selectionMode\", args.value ? \"multiple\" : \"single\");\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  expandItem: function expandItem(index) {\n    this._deferredAnimate = new _deferred.Deferred();\n    this.selectItem(index);\n    return this._deferredAnimate.promise();\n  },\n  collapseItem: function collapseItem(index) {\n    this._deferredAnimate = new _deferred.Deferred();\n    this.unselectItem(index);\n    return this._deferredAnimate.promise();\n  },\n  updateDimensions: function updateDimensions() {\n    return this._updateItemHeights(false);\n  }\n});\n\n(0, _component_registrator2.default)(\"dxAccordion\", Accordion);\nmodule.exports = Accordion;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/accordion.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_events_engine","_events_engine2","_fx","_fx2","_click","_click2","_devices","_devices2","_extend","_common","_dom","_iterator","_iterator2","_type","_component_registrator","_component_registrator2","_utils","_utils2","_uiCollection_widget","_uiCollection_widget2","_deferred","_bindable_template","_icon","_themes","_themes2","obj","ACCORDION_CLASS","ACCORDION_WRAPPER_CLASS","ACCORDION_ITEM_CLASS","ACCORDION_ITEM_OPENED_CLASS","ACCORDION_ITEM_CLOSED_CLASS","ACCORDION_ITEM_TITLE_CLASS","ACCORDION_ITEM_BODY_CLASS","ACCORDION_ITEM_TITLE_CAPTION_CLASS","ACCORDION_ITEM_DATA_KEY","Accordion","_activeStateUnit","_getDefaultOptions","hoverStateEnabled","height","itemTitleTemplate","onItemTitleClick","selectedIndex","collapsible","multiple","animationDuration","deferRendering","selectionByClick","activeStateEnabled","_itemAttributes","role","_animationEasing","_defaultOptionsRules","device","options","focusStateEnabled","_itemElements","_init","$element","_initTemplates","data","$container","$iconElement","String","_initMarkup","_this","multiselectable","selectedItemIndices","_render","_itemDataKey","_itemClass","_itemContainer","_itemTitles","_itemContents","_getItemData","_executeItemRenderAction","itemData","_itemSelectHandler","e","_afterItemElementDeleted","deletedActionArgs","_renderItemContent","itemTitle","contentClass","templateProperty","defaultTemplateName","deferred","args","container","_attachItemTitleClickAction","eventName","_itemTitleClickHandler","_renderSelection","_updateSelection","_updateItems","$items","that","$item","_updateItemHeightsWrapper","setTimeout","_updateItemHeights","deferredAnimate","itemHeight","clearTimeout","_updateItemHeight","$title","startItemHeight","finalItemHeight","_animateItem","skipAnimation","startHeight","d","type","from","to","endHeight","duration","easing","_splitFreeSpace","freeSpace","_calculateFreeSpace","$titles","itemsHeight","_visibilityChanged","_dimensionChanged","_clean","_optionChanged","expandItem","collapseItem","updateDimensions","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/accordion.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _events_engine = require(\"../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _fx = require(\"../animation/fx\");\r\nvar _fx2 = _interopRequireDefault(_fx);\r\nvar _click = require(\"../events/click\");\r\nvar _click2 = _interopRequireDefault(_click);\r\nvar _devices = require(\"../core/devices\");\r\nvar _devices2 = _interopRequireDefault(_devices);\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _common = require(\"../core/utils/common\");\r\nvar _dom = require(\"../core/utils/dom\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _iterator2 = _interopRequireDefault(_iterator);\r\nvar _type = require(\"../core/utils/type\");\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _utils = require(\"../events/utils\");\r\nvar _utils2 = _interopRequireDefault(_utils);\r\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.live_update\");\r\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\r\nvar _deferred = require(\"../core/utils/deferred\");\r\nvar _bindable_template = require(\"../core/templates/bindable_template\");\r\nvar _icon = require(\"../core/utils/icon\");\r\nvar _themes = require(\"./themes\");\r\nvar _themes2 = _interopRequireDefault(_themes);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ACCORDION_CLASS = \"dx-accordion\";\r\nvar ACCORDION_WRAPPER_CLASS = \"dx-accordion-wrapper\";\r\nvar ACCORDION_ITEM_CLASS = \"dx-accordion-item\";\r\nvar ACCORDION_ITEM_OPENED_CLASS = \"dx-accordion-item-opened\";\r\nvar ACCORDION_ITEM_CLOSED_CLASS = \"dx-accordion-item-closed\";\r\nvar ACCORDION_ITEM_TITLE_CLASS = \"dx-accordion-item-title\";\r\nvar ACCORDION_ITEM_BODY_CLASS = \"dx-accordion-item-body\";\r\nvar ACCORDION_ITEM_TITLE_CAPTION_CLASS = \"dx-accordion-item-title-caption\";\r\nvar ACCORDION_ITEM_DATA_KEY = \"dxAccordionItemData\";\r\nvar Accordion = _uiCollection_widget2.default.inherit({\r\n    _activeStateUnit: \".\" + ACCORDION_ITEM_CLASS,\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            height: void 0,\r\n            itemTitleTemplate: \"title\",\r\n            onItemTitleClick: null,\r\n            selectedIndex: 0,\r\n            collapsible: false,\r\n            multiple: false,\r\n            animationDuration: 300,\r\n            deferRendering: true,\r\n            selectionByClick: true,\r\n            activeStateEnabled: true,\r\n            _itemAttributes: {\r\n                role: \"tab\"\r\n            },\r\n            _animationEasing: \"ease\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return _themes2.default.isMaterial()\r\n            },\r\n            options: {\r\n                animationDuration: 200,\r\n                _animationEasing: \"cubic-bezier(0.4, 0, 0.2, 1)\"\r\n            }\r\n        }])\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.option(\"selectionRequired\", !this.option(\"collapsible\"));\r\n        this.option(\"selectionMode\", this.option(\"multiple\") ? \"multiple\" : \"single\");\r\n        var $element = this.$element();\r\n        $element.addClass(ACCORDION_CLASS);\r\n        this._$container = (0, _renderer2.default)(\"<div>\").addClass(ACCORDION_WRAPPER_CLASS);\r\n        $element.append(this._$container)\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._defaultTemplates.title = new _bindable_template.BindableTemplate(function($container, data) {\r\n            if ((0, _type.isPlainObject)(data)) {\r\n                if ((0, _type.isDefined)(data.title) && !(0, _type.isPlainObject)(data.title)) {\r\n                    $container.text(data.title)\r\n                }\r\n                var $iconElement = (0, _icon.getImageContainer)(data.icon);\r\n                $iconElement && $iconElement.appendTo($container)\r\n            } else {\r\n                if ((0, _type.isDefined)(data)) {\r\n                    $container.text(String(data))\r\n                }\r\n            }\r\n            $container.wrapInner((0, _renderer2.default)(\"<div>\").addClass(ACCORDION_ITEM_TITLE_CAPTION_CLASS))\r\n        }, [\"title\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\r\n    },\r\n    _initMarkup: function() {\r\n        var _this = this;\r\n        this._deferredItems = [];\r\n        this.callBase();\r\n        this.setAria({\r\n            role: \"tablist\",\r\n            multiselectable: this.option(\"multiple\")\r\n        });\r\n        (0, _common.deferRender)(function() {\r\n            var selectedItemIndices = _this._getSelectedItemIndices();\r\n            _this._renderSelection(selectedItemIndices, [])\r\n        })\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._updateItemHeightsWrapper(true)\r\n    },\r\n    _itemDataKey: function() {\r\n        return ACCORDION_ITEM_DATA_KEY\r\n    },\r\n    _itemClass: function() {\r\n        return ACCORDION_ITEM_CLASS\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$container\r\n    },\r\n    _itemTitles: function() {\r\n        return this._itemElements().find(\".\" + ACCORDION_ITEM_TITLE_CLASS)\r\n    },\r\n    _itemContents: function() {\r\n        return this._itemElements().find(\".\" + ACCORDION_ITEM_BODY_CLASS)\r\n    },\r\n    _getItemData: function(target) {\r\n        return (0, _renderer2.default)(target).parent().data(this._itemDataKey()) || this.callBase.apply(this, arguments)\r\n    },\r\n    _executeItemRenderAction: function(itemData) {\r\n        if (itemData.type) {\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _itemSelectHandler: function(e) {\r\n        if ((0, _renderer2.default)(e.target).closest(this._itemContents()).length) {\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _afterItemElementDeleted: function($item, deletedActionArgs) {\r\n        this._deferredItems.splice(deletedActionArgs.itemIndex, 1);\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _renderItemContent: function(args) {\r\n        var itemTitle = this.callBase((0, _extend.extend)({}, args, {\r\n            contentClass: ACCORDION_ITEM_TITLE_CLASS,\r\n            templateProperty: \"titleTemplate\",\r\n            defaultTemplateName: this.option(\"itemTitleTemplate\")\r\n        }));\r\n        this._attachItemTitleClickAction(itemTitle);\r\n        var deferred = new _deferred.Deferred;\r\n        if ((0, _type.isDefined)(this._deferredItems[args.index])) {\r\n            this._deferredItems[args.index] = deferred\r\n        } else {\r\n            this._deferredItems.push(deferred)\r\n        }\r\n        if (!this.option(\"deferRendering\") || this._getSelectedItemIndices().indexOf(args.index) >= 0) {\r\n            deferred.resolve()\r\n        }\r\n        deferred.done(this.callBase.bind(this, (0, _extend.extend)({}, args, {\r\n            contentClass: ACCORDION_ITEM_BODY_CLASS,\r\n            container: (0, _dom.getPublicElement)((0, _renderer2.default)(\"<div>\").appendTo((0, _renderer2.default)(itemTitle).parent()))\r\n        })))\r\n    },\r\n    _attachItemTitleClickAction: function(itemTitle) {\r\n        var eventName = _utils2.default.addNamespace(_click2.default.name, this.NAME);\r\n        _events_engine2.default.off(itemTitle, eventName);\r\n        _events_engine2.default.on(itemTitle, eventName, this._itemTitleClickHandler.bind(this))\r\n    },\r\n    _itemTitleClickHandler: function(e) {\r\n        this._itemDXEventHandler(e, \"onItemTitleClick\")\r\n    },\r\n    _renderSelection: function(addedSelection, removedSelection) {\r\n        this._itemElements().addClass(ACCORDION_ITEM_CLOSED_CLASS);\r\n        this.setAria(\"hidden\", true, this._itemContents());\r\n        this._updateItems(addedSelection, removedSelection)\r\n    },\r\n    _updateSelection: function(addedSelection, removedSelection) {\r\n        this._updateItems(addedSelection, removedSelection);\r\n        this._updateItemHeightsWrapper(false)\r\n    },\r\n    _updateItems: function(addedSelection, removedSelection) {\r\n        var $items = this._itemElements();\r\n        var that = this;\r\n        _iterator2.default.each(addedSelection, function(_, index) {\r\n            that._deferredItems[index].resolve();\r\n            var $item = $items.eq(index).addClass(ACCORDION_ITEM_OPENED_CLASS).removeClass(ACCORDION_ITEM_CLOSED_CLASS);\r\n            that.setAria(\"hidden\", false, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS))\r\n        });\r\n        _iterator2.default.each(removedSelection, function(_, index) {\r\n            var $item = $items.eq(index).removeClass(ACCORDION_ITEM_OPENED_CLASS);\r\n            that.setAria(\"hidden\", true, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS))\r\n        })\r\n    },\r\n    _updateItemHeightsWrapper: function(skipAnimation) {\r\n        if (this.option(\"templatesRenderAsynchronously\")) {\r\n            this._animationTimer = setTimeout(function() {\r\n                this._updateItemHeights(skipAnimation)\r\n            }.bind(this))\r\n        } else {\r\n            this._updateItemHeights(skipAnimation)\r\n        }\r\n    },\r\n    _updateItemHeights: function(skipAnimation) {\r\n        var that = this;\r\n        var deferredAnimate = that._deferredAnimate;\r\n        var itemHeight = this._splitFreeSpace(this._calculateFreeSpace());\r\n        clearTimeout(this._animationTimer);\r\n        return _deferred.when.apply(_renderer2.default, [].slice.call(this._itemElements()).map(function(item) {\r\n            return that._updateItemHeight((0, _renderer2.default)(item), itemHeight, skipAnimation)\r\n        })).done(function() {\r\n            if (deferredAnimate) {\r\n                deferredAnimate.resolveWith(that)\r\n            }\r\n        })\r\n    },\r\n    _updateItemHeight: function($item, itemHeight, skipAnimation) {\r\n        var $title = $item.children(\".\" + ACCORDION_ITEM_TITLE_CLASS);\r\n        if (_fx2.default.isAnimating($item)) {\r\n            _fx2.default.stop($item)\r\n        }\r\n        var startItemHeight = $item.outerHeight();\r\n        var finalItemHeight = $item.hasClass(ACCORDION_ITEM_OPENED_CLASS) ? itemHeight + $title.outerHeight() || $item.height(\"auto\").outerHeight() : $title.outerHeight();\r\n        return this._animateItem($item, startItemHeight, finalItemHeight, skipAnimation, !!itemHeight)\r\n    },\r\n    _animateItem: function($element, startHeight, endHeight, skipAnimation, fixedHeight) {\r\n        var d;\r\n        if (skipAnimation || startHeight === endHeight) {\r\n            $element.css(\"height\", endHeight);\r\n            d = (new _deferred.Deferred).resolve()\r\n        } else {\r\n            d = _fx2.default.animate($element, {\r\n                type: \"custom\",\r\n                from: {\r\n                    height: startHeight\r\n                },\r\n                to: {\r\n                    height: endHeight\r\n                },\r\n                duration: this.option(\"animationDuration\"),\r\n                easing: this.option(\"_animationEasing\")\r\n            })\r\n        }\r\n        return d.done(function() {\r\n            if ($element.hasClass(ACCORDION_ITEM_OPENED_CLASS) && !fixedHeight) {\r\n                $element.css(\"height\", \"\")\r\n            }\r\n            $element.not(\".\" + ACCORDION_ITEM_OPENED_CLASS).addClass(ACCORDION_ITEM_CLOSED_CLASS)\r\n        })\r\n    },\r\n    _splitFreeSpace: function(freeSpace) {\r\n        if (!freeSpace) {\r\n            return freeSpace\r\n        }\r\n        return freeSpace / this.option(\"selectedItems\").length\r\n    },\r\n    _calculateFreeSpace: function() {\r\n        var height = this.option(\"height\");\r\n        if (void 0 === height || \"auto\" === height) {\r\n            return\r\n        }\r\n        var $titles = this._itemTitles();\r\n        var itemsHeight = 0;\r\n        _iterator2.default.each($titles, function(_, title) {\r\n            itemsHeight += (0, _renderer2.default)(title).outerHeight()\r\n        });\r\n        return this.$element().height() - itemsHeight\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._updateItemHeights(true)\r\n    },\r\n    _clean: function() {\r\n        clearTimeout(this._animationTimer);\r\n        this.callBase()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"animationDuration\":\r\n            case \"onItemTitleClick\":\r\n            case \"_animationEasing\":\r\n                break;\r\n            case \"collapsible\":\r\n                this.option(\"selectionRequired\", !this.option(\"collapsible\"));\r\n                break;\r\n            case \"itemTitleTemplate\":\r\n            case \"height\":\r\n            case \"deferRendering\":\r\n                this._invalidate();\r\n                break;\r\n            case \"multiple\":\r\n                this.option(\"selectionMode\", args.value ? \"multiple\" : \"single\");\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    expandItem: function(index) {\r\n        this._deferredAnimate = new _deferred.Deferred;\r\n        this.selectItem(index);\r\n        return this._deferredAnimate.promise()\r\n    },\r\n    collapseItem: function(index) {\r\n        this._deferredAnimate = new _deferred.Deferred;\r\n        this.unselectItem(index);\r\n        return this._deferredAnimate.promise()\r\n    },\r\n    updateDimensions: function() {\r\n        return this._updateItemHeights(false)\r\n    }\r\n});\r\n(0, _component_registrator2.default)(\"dxAccordion\", Accordion);\r\nmodule.exports = Accordion;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"module"}