{"ast":null,"code":"/**\r\n * DevExtreme (ui/menu/ui.menu.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _component_registrator = require(\"../../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _dom = require(\"../../core/utils/dom\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _utils = require(\"../overlay/utils\");\n\nvar _utils2 = require(\"../../events/utils\");\n\nvar _pointer = require(\"../../events/pointer\");\n\nvar _pointer2 = _interopRequireDefault(_pointer);\n\nvar _hover = require(\"../../events/hover\");\n\nvar _hover2 = _interopRequireDefault(_hover);\n\nvar _ui = require(\"../context_menu/ui.menu_base\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _overlay = require(\"../overlay\");\n\nvar _overlay2 = _interopRequireDefault(_overlay);\n\nvar _ui3 = require(\"./ui.submenu\");\n\nvar _ui4 = _interopRequireDefault(_ui3);\n\nvar _button = require(\"../button\");\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _tree_view = require(\"../tree_view\");\n\nvar _tree_view2 = _interopRequireDefault(_tree_view);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar DX_MENU_CLASS = \"dx-menu\";\nvar DX_MENU_VERTICAL_CLASS = DX_MENU_CLASS + \"-vertical\";\nvar DX_MENU_HORIZONTAL_CLASS = DX_MENU_CLASS + \"-horizontal\";\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\nvar DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS = DX_CONTEXT_MENU_CLASS + \"-container-border\";\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\nvar DX_STATE_ACTIVE_CLASS = \"dx-state-active\";\nvar DX_ADAPTIVE_MODE_CLASS = DX_MENU_CLASS + \"-adaptive-mode\";\nvar DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS = DX_MENU_CLASS + \"-hamburger-button\";\nvar DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS = DX_ADAPTIVE_MODE_CLASS + \"-overlay-wrapper\";\nvar FOCUS_UP = \"up\";\nvar FOCUS_DOWN = \"down\";\nvar FOCUS_LEFT = \"left\";\nvar FOCUS_RIGHT = \"right\";\nvar SHOW_SUBMENU_OPERATION = \"showSubmenu\";\nvar NEXTITEM_OPERATION = \"nextItem\";\nvar PREVITEM_OPERATION = \"prevItem\";\nvar DEFAULT_DELAY = {\n  show: 50,\n  hide: 300\n};\nvar ACTIONS = [\"onSubmenuShowing\", \"onSubmenuShown\", \"onSubmenuHiding\", \"onSubmenuHidden\", \"onItemContextMenu\", \"onItemClick\", \"onSelectionChanged\"];\n\nvar Menu = function (_MenuBase) {\n  _inherits(Menu, _MenuBase);\n\n  function Menu() {\n    _classCallCheck(this, Menu);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Menu).apply(this, arguments));\n  }\n\n  _createClass(Menu, [{\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(Menu.prototype), \"_getDefaultOptions\", this).call(this), {\n        orientation: \"horizontal\",\n        submenuDirection: \"auto\",\n        showFirstSubmenuMode: {\n          name: \"onClick\",\n          delay: {\n            show: 50,\n            hide: 300\n          }\n        },\n        hideSubmenuOnMouseLeave: false,\n        onSubmenuShowing: null,\n        onSubmenuShown: null,\n        onSubmenuHiding: null,\n        onSubmenuHidden: null,\n        adaptivityEnabled: false\n      });\n    }\n  }, {\n    key: \"_setOptionsByReference\",\n    value: function value() {\n      _get(_getPrototypeOf(Menu.prototype), \"_setOptionsByReference\", this).call(this);\n\n      (0, _extend.extend)(this._optionsByReference, {\n        animation: true,\n        selectedItem: true\n      });\n    }\n  }, {\n    key: \"_itemElements\",\n    value: function value() {\n      var rootMenuElements = _get(_getPrototypeOf(Menu.prototype), \"_itemElements\", this).call(this);\n\n      var submenuElements = this._submenuItemElements();\n\n      return rootMenuElements.add(submenuElements);\n    }\n  }, {\n    key: \"_submenuItemElements\",\n    value: function value() {\n      var elements = [];\n      var itemSelector = \".\".concat(DX_MENU_ITEM_CLASS);\n      var currentSubmenu = this._submenus.length && this._submenus[0];\n\n      if (currentSubmenu && currentSubmenu.itemsContainer()) {\n        elements = currentSubmenu.itemsContainer().find(itemSelector);\n      }\n\n      return elements;\n    }\n  }, {\n    key: \"_focusTarget\",\n    value: function value() {\n      return this.$element();\n    }\n  }, {\n    key: \"_isMenuHorizontal\",\n    value: function value() {\n      return \"horizontal\" === this.option(\"orientation\");\n    }\n  }, {\n    key: \"_moveFocus\",\n    value: function value(location) {\n      var $items = this._getAvailableItems();\n\n      var isMenuHorizontal = this._isMenuHorizontal();\n\n      var $activeItem = this._getActiveItem(true);\n\n      var argument;\n      var operation;\n      var navigationAction;\n      var $newTarget;\n\n      switch (location) {\n        case FOCUS_UP:\n          operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(PREVITEM_OPERATION);\n          argument = isMenuHorizontal ? $activeItem : $items;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        case FOCUS_DOWN:\n          operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(NEXTITEM_OPERATION);\n          argument = isMenuHorizontal ? $activeItem : $items;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        case FOCUS_RIGHT:\n          operation = isMenuHorizontal ? this._getItemsNavigationOperation(NEXTITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\n          argument = isMenuHorizontal ? $items : $activeItem;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        case FOCUS_LEFT:\n          operation = isMenuHorizontal ? this._getItemsNavigationOperation(PREVITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\n          argument = isMenuHorizontal ? $items : $activeItem;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        default:\n          return _get(_getPrototypeOf(Menu.prototype), \"_moveFocus\", this).call(this, location);\n      }\n\n      if ($newTarget && 0 !== $newTarget.length) {\n        this.option(\"focusedElement\", (0, _dom.getPublicElement)($newTarget));\n      }\n    }\n  }, {\n    key: \"_getItemsNavigationOperation\",\n    value: function value(operation) {\n      var navOperation = operation;\n\n      if (this.option(\"rtlEnabled\")) {\n        navOperation = operation === PREVITEM_OPERATION ? NEXTITEM_OPERATION : PREVITEM_OPERATION;\n      }\n\n      return navOperation;\n    }\n  }, {\n    key: \"_getKeyboardNavigationAction\",\n    value: function value(operation, argument) {\n      var action = _common.noop;\n\n      switch (operation) {\n        case SHOW_SUBMENU_OPERATION:\n          if (!argument.hasClass(DX_STATE_DISABLED_CLASS)) {\n            action = this._showSubmenu.bind(this, argument);\n          }\n\n          break;\n\n        case NEXTITEM_OPERATION:\n          action = this._nextItem.bind(this, argument);\n          break;\n\n        case PREVITEM_OPERATION:\n          action = this._prevItem.bind(this, argument);\n      }\n\n      return action;\n    }\n  }, {\n    key: \"_clean\",\n    value: function value() {\n      _get(_getPrototypeOf(Menu.prototype), \"_clean\", this).call(this);\n\n      this.option(\"templatesRenderAsynchronously\") && clearTimeout(this._resizeEventTimer);\n    }\n  }, {\n    key: \"_visibilityChanged\",\n    value: function value(visible) {\n      if (visible) {\n        if (!this._menuItemsWidth) {\n          this._updateItemsWidthCache();\n        }\n\n        this._dimensionChanged();\n      }\n    }\n  }, {\n    key: \"_isAdaptivityEnabled\",\n    value: function value() {\n      return this.option(\"adaptivityEnabled\") && \"horizontal\" === this.option(\"orientation\");\n    }\n  }, {\n    key: \"_updateItemsWidthCache\",\n    value: function value() {\n      var $menuItems = this.$element().find(\"ul\").first().children(\"li\").children(\".\".concat(DX_MENU_ITEM_CLASS));\n      this._menuItemsWidth = this._getSummaryItemsWidth($menuItems, true);\n    }\n  }, {\n    key: \"_dimensionChanged\",\n    value: function value() {\n      if (!this._isAdaptivityEnabled()) {\n        return;\n      }\n\n      var containerWidth = this.$element().outerWidth();\n\n      this._toggleAdaptiveMode(this._menuItemsWidth > containerWidth);\n    }\n  }, {\n    key: \"_init\",\n    value: function value() {\n      _get(_getPrototypeOf(Menu.prototype), \"_init\", this).call(this);\n\n      this._submenus = [];\n    }\n  }, {\n    key: \"_initActions\",\n    value: function value() {\n      var _this = this;\n\n      this._actions = {};\n      (0, _iterator.each)(ACTIONS, function (index, action) {\n        _this._actions[action] = _this._createActionByOption(action);\n      });\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function value() {\n      this._visibleSubmenu = null;\n      this.$element().addClass(DX_MENU_CLASS);\n\n      _get(_getPrototypeOf(Menu.prototype), \"_initMarkup\", this).call(this);\n\n      this.setAria(\"role\", \"menubar\");\n    }\n  }, {\n    key: \"_render\",\n    value: function value() {\n      _get(_getPrototypeOf(Menu.prototype), \"_render\", this).call(this);\n\n      this._initAdaptivity();\n    }\n  }, {\n    key: \"_renderHamburgerButton\",\n    value: function value() {\n      this._hamburger = new _button2.default((0, _renderer2.default)(\"<div>\").addClass(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS), {\n        icon: \"menu\",\n        activeStateEnabled: false,\n        onClick: this._toggleTreeView.bind(this)\n      });\n      return this._hamburger.$element();\n    }\n  }, {\n    key: \"_toggleTreeView\",\n    value: function value(state) {\n      if ((0, _type.isPlainObject)(state)) {\n        state = !this._overlay.option(\"visible\");\n      }\n\n      this._overlay.option(\"visible\", state);\n\n      this._toggleHamburgerActiveState(state);\n    }\n  }, {\n    key: \"_toggleHamburgerActiveState\",\n    value: function value(state) {\n      this._hamburger && this._hamburger.$element().toggleClass(DX_STATE_ACTIVE_CLASS, state);\n    }\n  }, {\n    key: \"_toggleAdaptiveMode\",\n    value: function value(state) {\n      var $menuItemsContainer = this.$element().find(\".\".concat(DX_MENU_HORIZONTAL_CLASS));\n      var $adaptiveElements = this.$element().find(\".\".concat(DX_ADAPTIVE_MODE_CLASS));\n\n      if (state) {\n        this._hideVisibleSubmenu();\n      } else {\n        this._treeView && this._treeView.collapseAll();\n        this._overlay && this._toggleTreeView(state);\n      }\n\n      $menuItemsContainer.toggle(!state);\n      $adaptiveElements.toggle(state);\n    }\n  }, {\n    key: \"_removeAdaptivity\",\n    value: function value() {\n      if (!this._$adaptiveContainer) {\n        return;\n      }\n\n      this._toggleAdaptiveMode(false);\n\n      this._$adaptiveContainer.remove();\n\n      this._$adaptiveContainer = null;\n      this._treeView = null;\n      this._hamburger = null;\n      this._overlay = null;\n    }\n  }, {\n    key: \"_treeviewItemClickHandler\",\n    value: function value(e) {\n      this._actions.onItemClick(e);\n\n      if (!e.node.children.length) {\n        this._toggleTreeView(false);\n      }\n    }\n  }, {\n    key: \"_getAdaptiveOverlayOptions\",\n    value: function value() {\n      var _this2 = this;\n\n      var rtl = this.option(\"rtlEnabled\");\n      var position = rtl ? \"right\" : \"left\";\n      return {\n        maxHeight: function maxHeight() {\n          return (0, _utils.getElementMaxHeightByWindow)(_this2.$element());\n        },\n        deferRendering: false,\n        shading: false,\n        animation: false,\n        closeOnTargetScroll: true,\n        onHidden: function onHidden() {\n          _this2._toggleHamburgerActiveState(false);\n        },\n        height: \"auto\",\n        closeOnOutsideClick: function closeOnOutsideClick(e) {\n          return !(0, _renderer2.default)(e.target).closest(\".\".concat(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS)).length;\n        },\n        position: {\n          collision: \"flipfit\",\n          at: \"bottom \" + position,\n          my: \"top \" + position,\n          of: this._hamburger.$element()\n        }\n      };\n    }\n  }, {\n    key: \"_getTreeViewOptions\",\n    value: function value() {\n      var _this3 = this;\n\n      var menuOptions = {};\n      var optionsToTransfer = [\"rtlEnabled\", \"width\", \"accessKey\", \"activeStateEnabled\", \"animation\", \"dataSource\", \"disabled\", \"displayExpr\", \"displayExpr\", \"focusStateEnabled\", \"hint\", \"hoverStateEnabled\", \"itemsExpr\", \"items\", \"itemTemplate\", \"selectedExpr\", \"selectionMode\", \"tabIndex\", \"visible\"];\n      var actionsToTransfer = [\"onItemContextMenu\", \"onSelectionChanged\"];\n      (0, _iterator.each)(optionsToTransfer, function (_, option) {\n        menuOptions[option] = _this3.option(option);\n      });\n      (0, _iterator.each)(actionsToTransfer, function (_, actionName) {\n        menuOptions[actionName] = function (e) {\n          _this3._actions[actionName](e);\n        };\n      });\n      return (0, _extend.extend)(menuOptions, {\n        dataSource: this.getDataSource(),\n        animationEnabled: !!this.option(\"animation\"),\n        onItemClick: this._treeviewItemClickHandler.bind(this),\n        onItemExpanded: function onItemExpanded(e) {\n          _this3._overlay.repaint();\n\n          _this3._actions.onSubmenuShown(e);\n        },\n        onItemCollapsed: function onItemCollapsed(e) {\n          _this3._overlay.repaint();\n\n          _this3._actions.onSubmenuHidden(e);\n        },\n        selectNodesRecursive: false,\n        selectByClick: this.option(\"selectByClick\"),\n        expandEvent: \"click\"\n      });\n    }\n  }, {\n    key: \"_initAdaptivity\",\n    value: function value() {\n      if (!this._isAdaptivityEnabled()) {\n        return;\n      }\n\n      this._$adaptiveContainer = (0, _renderer2.default)(\"<div>\").addClass(DX_ADAPTIVE_MODE_CLASS);\n\n      var $hamburger = this._renderHamburgerButton();\n\n      this._treeView = this._createComponent((0, _renderer2.default)(\"<div>\"), _tree_view2.default, this._getTreeViewOptions());\n      this._overlay = this._createComponent((0, _renderer2.default)(\"<div>\"), _overlay2.default, this._getAdaptiveOverlayOptions());\n\n      this._overlay.$content().append(this._treeView.$element()).addClass(DX_ADAPTIVE_MODE_CLASS).addClass(this.option(\"cssClass\"));\n\n      this._overlay._wrapper().addClass(DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS);\n\n      this._$adaptiveContainer.append($hamburger);\n\n      this._$adaptiveContainer.append(this._overlay.$element());\n\n      this.$element().append(this._$adaptiveContainer);\n\n      this._updateItemsWidthCache();\n\n      this._dimensionChanged();\n    }\n  }, {\n    key: \"_getDelay\",\n    value: function value(delayType) {\n      var delay = this.option(\"showFirstSubmenuMode\").delay;\n\n      if (!(0, _type.isDefined)(delay)) {\n        return DEFAULT_DELAY[delayType];\n      } else {\n        return (0, _type.isObject)(delay) ? delay[delayType] : delay;\n      }\n    }\n  }, {\n    key: \"_keyboardHandler\",\n    value: function value(e) {\n      return this._visibleSubmenu ? true : _get(_getPrototypeOf(Menu.prototype), \"_keyboardHandler\", this).call(this, e);\n    }\n  }, {\n    key: \"_renderContainer\",\n    value: function value() {\n      var $wrapper = (0, _renderer2.default)(\"<div>\");\n      $wrapper.appendTo(this.$element()).addClass(this._isMenuHorizontal() ? DX_MENU_HORIZONTAL_CLASS : DX_MENU_VERTICAL_CLASS);\n      return _get(_getPrototypeOf(Menu.prototype), \"_renderContainer\", this).call(this, $wrapper);\n    }\n  }, {\n    key: \"_renderSubmenuItems\",\n    value: function value(node, $itemFrame) {\n      var submenu = this._createSubmenu(node, $itemFrame);\n\n      this._submenus.push(submenu);\n\n      this._renderBorderElement($itemFrame);\n\n      return submenu;\n    }\n  }, {\n    key: \"_createSubmenu\",\n    value: function value(node, $rootItem) {\n      var $submenuContainer = (0, _renderer2.default)(\"<div>\").addClass(DX_CONTEXT_MENU_CLASS).appendTo($rootItem);\n\n      var childKeyboardProcessor = this._keyboardProcessor && this._keyboardProcessor.attachChildProcessor();\n\n      var items = this._getChildNodes(node);\n\n      var result = this._createComponent($submenuContainer, _ui4.default, (0, _extend.extend)(this._getSubmenuOptions(), {\n        _keyboardProcessor: childKeyboardProcessor,\n        _dataAdapter: this._dataAdapter,\n        _parentKey: node.internalFields.key,\n        items: items,\n        onHoverStart: this._clearTimeouts.bind(this),\n        position: this.getSubmenuPosition($rootItem)\n      }));\n\n      this._attachSubmenuHandlers($rootItem, result);\n\n      return result;\n    }\n  }, {\n    key: \"_getSubmenuOptions\",\n    value: function value() {\n      var _this4 = this;\n\n      var $submenuTarget = (0, _renderer2.default)(\"<div>\");\n\n      var isMenuHorizontal = this._isMenuHorizontal();\n\n      return {\n        itemTemplate: this.option(\"itemTemplate\"),\n        target: $submenuTarget,\n        orientation: this.option(\"orientation\"),\n        selectionMode: this.option(\"selectionMode\"),\n        cssClass: this.option(\"cssClass\"),\n        selectByClick: this.option(\"selectByClick\"),\n        hoverStateEnabled: this.option(\"hoverStateEnabled\"),\n        activeStateEnabled: this.option(\"activeStateEnabled\"),\n        focusStateEnabled: this.option(\"focusStateEnabled\"),\n        animation: this.option(\"animation\"),\n        showSubmenuMode: this.option(\"showSubmenuMode\"),\n        displayExpr: this.option(\"displayExpr\"),\n        disabledExpr: this.option(\"disabledExpr\"),\n        selectedExpr: this.option(\"selectedExpr\"),\n        itemsExpr: this.option(\"itemsExpr\"),\n        onFocusedItemChanged: function onFocusedItemChanged(e) {\n          if (!e.component.option(\"visible\")) {\n            return;\n          }\n\n          _this4.option(\"focusedElement\", e.component.option(\"focusedElement\"));\n        },\n        onSelectionChanged: this._nestedItemOnSelectionChangedHandler.bind(this),\n        onItemClick: this._nestedItemOnItemClickHandler.bind(this),\n        onItemRendered: this.option(\"onItemRendered\"),\n        onLeftFirstItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, PREVITEM_OPERATION),\n        onLeftLastItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION),\n        onCloseRootSubmenu: this._moveMainMenuFocus.bind(this, isMenuHorizontal ? PREVITEM_OPERATION : null),\n        onExpandLastSubmenu: isMenuHorizontal ? this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION) : null\n      };\n    }\n  }, {\n    key: \"_getShowFirstSubmenuMode\",\n    value: function value() {\n      if (!this._isDesktopDevice()) {\n        return \"onClick\";\n      }\n\n      var optionValue = this.option(\"showFirstSubmenuMode\");\n      return (0, _type.isObject)(optionValue) ? optionValue.name : optionValue;\n    }\n  }, {\n    key: \"_moveMainMenuFocus\",\n    value: function value(direction) {\n      var $items = this._getAvailableItems();\n\n      var itemCount = $items.length;\n      var $currentItem = $items.filter(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).eq(0);\n      var itemIndex = $items.index($currentItem);\n\n      this._hideSubmenu(this._visibleSubmenu);\n\n      itemIndex += direction === PREVITEM_OPERATION ? -1 : 1;\n\n      if (itemIndex >= itemCount) {\n        itemIndex = 0;\n      } else {\n        if (itemIndex < 0) {\n          itemIndex = itemCount - 1;\n        }\n      }\n\n      var $newItem = $items.eq(itemIndex);\n      this.option(\"focusedElement\", (0, _dom.getPublicElement)($newItem));\n    }\n  }, {\n    key: \"_nestedItemOnSelectionChangedHandler\",\n    value: function value(args) {\n      var selectedItem = args.addedItems.length && args.addedItems[0];\n\n      var submenu = _ui4.default.getInstance(args.element);\n\n      var onSelectionChanged = this._actions.onSelectionChanged;\n      onSelectionChanged(args);\n      selectedItem && this._clearSelectionInSubmenus(selectedItem[0], submenu);\n\n      this._clearRootSelection();\n\n      this._setOptionSilent(\"selectedItem\", selectedItem);\n    }\n  }, {\n    key: \"_clearSelectionInSubmenus\",\n    value: function value(item, targetSubmenu) {\n      var _this5 = this;\n\n      var cleanAllSubmenus = !arguments.length;\n      (0, _iterator.each)(this._submenus, function (index, submenu) {\n        var $submenu = submenu._itemContainer();\n\n        var isOtherItem = !$submenu.is(targetSubmenu && targetSubmenu._itemContainer());\n        var $selectedItem = $submenu.find(\".\".concat(_this5._selectedItemClass()));\n\n        if (isOtherItem && $selectedItem.length || cleanAllSubmenus) {\n          $selectedItem.removeClass(_this5._selectedItemClass());\n\n          var selectedItemData = _this5._getItemData($selectedItem);\n\n          if (selectedItemData) {\n            selectedItemData.selected = false;\n          }\n\n          submenu._clearSelectedItems();\n        }\n      });\n    }\n  }, {\n    key: \"_clearRootSelection\",\n    value: function value() {\n      var $prevSelectedItem = this.$element().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).first().children().children().filter(\".\".concat(this._selectedItemClass()));\n\n      if ($prevSelectedItem.length) {\n        var prevSelectedItemData;\n        prevSelectedItemData = this._getItemData($prevSelectedItem);\n        prevSelectedItemData.selected = false;\n        $prevSelectedItem.removeClass(this._selectedItemClass());\n      }\n    }\n  }, {\n    key: \"_nestedItemOnItemClickHandler\",\n    value: function value(e) {\n      this._actions.onItemClick(e);\n    }\n  }, {\n    key: \"_attachSubmenuHandlers\",\n    value: function value($rootItem, submenu) {\n      var _this6 = this;\n\n      var $submenuOverlayContent = submenu.getOverlayContent();\n      var submenus = $submenuOverlayContent.find(\".\".concat(DX_SUBMENU_CLASS));\n      var submenuMouseLeaveName = (0, _utils2.addNamespace)(_hover2.default.end, this.NAME + \"_submenu\");\n      submenu.option({\n        onShowing: this._submenuOnShowingHandler.bind(this, $rootItem, submenu),\n        onShown: this._submenuOnShownHandler.bind(this, $rootItem, submenu),\n        onHiding: this._submenuOnHidingHandler.bind(this, $rootItem, submenu),\n        onHidden: this._submenuOnHiddenHandler.bind(this, $rootItem, submenu)\n      });\n      (0, _iterator.each)(submenus, function (index, submenu) {\n        _events_engine2.default.off(submenu, submenuMouseLeaveName);\n\n        _events_engine2.default.on(submenu, submenuMouseLeaveName, null, _this6._submenuMouseLeaveHandler.bind(_this6, $rootItem));\n      });\n    }\n  }, {\n    key: \"_submenuOnShowingHandler\",\n    value: function value($rootItem, submenu) {\n      var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\n\n      this._actions.onSubmenuShowing({\n        rootItem: (0, _dom.getPublicElement)($rootItem),\n        submenu: submenu\n      });\n\n      $border.show();\n      $rootItem.addClass(DX_MENU_ITEM_EXPANDED_CLASS);\n    }\n  }, {\n    key: \"_submenuOnShownHandler\",\n    value: function value($rootItem, submenu) {\n      this._actions.onSubmenuShown({\n        rootItem: (0, _dom.getPublicElement)($rootItem),\n        submenu: submenu\n      });\n    }\n  }, {\n    key: \"_submenuOnHidingHandler\",\n    value: function value($rootItem, submenu, eventArgs) {\n      var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\n      var args = eventArgs;\n      args.rootItem = (0, _dom.getPublicElement)($rootItem);\n      args.submenu = submenu;\n\n      this._actions.onSubmenuHiding(args);\n\n      eventArgs = args;\n\n      if (!eventArgs.cancel) {\n        if (this._visibleSubmenu === submenu) {\n          this._visibleSubmenu = null;\n        }\n\n        $border.hide();\n        $rootItem.removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\n      }\n    }\n  }, {\n    key: \"_submenuOnHiddenHandler\",\n    value: function value($rootItem, submenu) {\n      this._actions.onSubmenuHidden({\n        rootItem: (0, _dom.getPublicElement)($rootItem),\n        submenu: submenu\n      });\n    }\n  }, {\n    key: \"_submenuMouseLeaveHandler\",\n    value: function value($rootItem, eventArgs) {\n      var target = (0, _renderer2.default)(eventArgs.relatedTarget).parents(\".\".concat(DX_CONTEXT_MENU_CLASS))[0];\n\n      var contextMenu = this._getSubmenuByRootElement($rootItem).getOverlayContent()[0];\n\n      if (this.option(\"hideSubmenuOnMouseLeave\") && target !== contextMenu) {\n        this._clearTimeouts();\n\n        setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\n      }\n    }\n  }, {\n    key: \"_hideSubmenuAfterTimeout\",\n    value: function value() {\n      if (!this._visibleSubmenu) {\n        return;\n      }\n\n      var isRootItemHovered = (0, _renderer2.default)(this._visibleSubmenu.$element().context).hasClass(DX_STATE_HOVER_CLASS);\n\n      var isSubmenuItemHovered = this._visibleSubmenu.getOverlayContent().find(\".\".concat(DX_STATE_HOVER_CLASS)).length;\n\n      var hoveredElementFromSubMenu = this._visibleSubmenu.getOverlayContent().get(0).querySelector(\":hover\");\n\n      if (!hoveredElementFromSubMenu && !isSubmenuItemHovered && !isRootItemHovered) {\n        this._visibleSubmenu.hide();\n      }\n    }\n  }, {\n    key: \"_getSubmenuByRootElement\",\n    value: function value($rootItem) {\n      if (!$rootItem) {\n        return false;\n      }\n\n      var $submenu = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CLASS));\n      return $submenu.length && _ui4.default.getInstance($submenu);\n    }\n  }, {\n    key: \"getSubmenuPosition\",\n    value: function value($rootItem) {\n      var isHorizontalMenu = this._isMenuHorizontal();\n\n      var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\n      var rtlEnabled = this.option(\"rtlEnabled\");\n      var submenuPosition = {\n        collision: \"flip\",\n        of: $rootItem\n      };\n\n      switch (submenuDirection) {\n        case \"leftortop\":\n          submenuPosition.at = \"left top\";\n          submenuPosition.my = isHorizontalMenu ? \"left bottom\" : \"right top\";\n          break;\n\n        case \"rightorbottom\":\n          submenuPosition.at = isHorizontalMenu ? \"left bottom\" : \"right top\";\n          submenuPosition.my = \"left top\";\n          break;\n\n        default:\n          if (isHorizontalMenu) {\n            submenuPosition.at = rtlEnabled ? \"right bottom\" : \"left bottom\";\n            submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\";\n          } else {\n            submenuPosition.at = rtlEnabled ? \"left top\" : \"right top\";\n            submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\";\n          }\n\n      }\n\n      return submenuPosition;\n    }\n  }, {\n    key: \"_renderBorderElement\",\n    value: function value($item) {\n      (0, _renderer2.default)(\"<div>\").appendTo($item).addClass(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS).hide();\n    }\n  }, {\n    key: \"_itemPointerDownHandler\",\n    value: function value(e) {\n      var $target = (0, _renderer2.default)(e.target);\n      var $closestItem = $target.closest(this._itemElements());\n\n      if ($closestItem.hasClass(\"dx-menu-item-has-submenu\")) {\n        this.option(\"focusedElement\", null);\n        return;\n      }\n\n      _get(_getPrototypeOf(Menu.prototype), \"_itemPointerDownHandler\", this).call(this, e);\n    }\n  }, {\n    key: \"_hoverStartHandler\",\n    value: function value(e) {\n      var mouseMoveEventName = (0, _utils2.addNamespace)(_pointer2.default.move, this.NAME);\n\n      var $item = this._getItemElementByEventArgs(e);\n\n      var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\n\n      var isSelectionActive = (0, _type.isDefined)(e.buttons) && 1 === e.buttons || !(0, _type.isDefined)(e.buttons) && 1 === e.which;\n\n      if (this._isItemDisabled($item)) {\n        return;\n      }\n\n      _events_engine2.default.off($item, mouseMoveEventName);\n\n      if (!this._hasChildren(node)) {\n        this._showSubmenuTimer = setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\n        return;\n      }\n\n      if (\"onHover\" === this._getShowFirstSubmenuMode() && !isSelectionActive) {\n        var submenu = this._getSubmenuByElement($item);\n\n        this._clearTimeouts();\n\n        if (!submenu.isOverlayVisible()) {\n          _events_engine2.default.on($item, mouseMoveEventName, this._itemMouseMoveHandler.bind(this));\n\n          this._showSubmenuTimer = this._getDelay(\"hide\");\n        }\n      }\n    }\n  }, {\n    key: \"_hoverEndHandler\",\n    value: function value(eventArg) {\n      var _this7 = this;\n\n      var $item = this._getItemElementByEventArgs(eventArg);\n\n      var relatedTarget = (0, _renderer2.default)(eventArg.relatedTarget);\n\n      _get(_getPrototypeOf(Menu.prototype), \"_hoverEndHandler\", this).call(this, eventArg);\n\n      this._clearTimeouts();\n\n      if (this._isItemDisabled($item)) {\n        return;\n      }\n\n      if (relatedTarget.hasClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)) {\n        return;\n      }\n\n      if (this.option(\"hideSubmenuOnMouseLeave\") && !relatedTarget.hasClass(DX_MENU_ITEMS_CONTAINER_CLASS)) {\n        this._hideSubmenuTimer = setTimeout(function () {\n          _this7._hideSubmenuAfterTimeout();\n        }, this._getDelay(\"hide\"));\n      }\n    }\n  }, {\n    key: \"_hideVisibleSubmenu\",\n    value: function value() {\n      if (!this._visibleSubmenu) {\n        return false;\n      }\n\n      this._hideSubmenu(this._visibleSubmenu);\n\n      return true;\n    }\n  }, {\n    key: \"_showSubmenu\",\n    value: function value($itemElement) {\n      var submenu = this._getSubmenuByElement($itemElement);\n\n      if (this._visibleSubmenu !== submenu) {\n        this._hideVisibleSubmenu();\n      }\n\n      if (submenu) {\n        submenu.show();\n        this.option(\"focusedElement\", submenu.option(\"focusedElement\"));\n      }\n\n      this._visibleSubmenu = submenu;\n      this._hoveredRootItem = $itemElement;\n    }\n  }, {\n    key: \"_hideSubmenu\",\n    value: function value(submenu) {\n      submenu && submenu.hide();\n\n      if (this._visibleSubmenu === submenu) {\n        this._visibleSubmenu = null;\n      }\n\n      this._hoveredRootItem = null;\n    }\n  }, {\n    key: \"_itemMouseMoveHandler\",\n    value: function value(e) {\n      var _this8 = this;\n\n      if (e.pointers && e.pointers.length) {\n        return;\n      }\n\n      var $item = (0, _renderer2.default)(e.currentTarget);\n\n      if (!(0, _type.isDefined)(this._showSubmenuTimer)) {\n        return;\n      }\n\n      this._clearTimeouts();\n\n      this._showSubmenuTimer = setTimeout(function () {\n        var submenu = _this8._getSubmenuByElement($item);\n\n        if (submenu && !submenu.isOverlayVisible()) {\n          _this8._showSubmenu($item);\n        }\n      }, this._getDelay(\"show\"));\n    }\n  }, {\n    key: \"_clearTimeouts\",\n    value: function value() {\n      clearTimeout(this._hideSubmenuTimer);\n      clearTimeout(this._showSubmenuTimer);\n    }\n  }, {\n    key: \"_getSubmenuByElement\",\n    value: function value($itemElement, itemData) {\n      var submenu = this._getSubmenuByRootElement($itemElement);\n\n      if (submenu) {\n        return submenu;\n      } else {\n        itemData = itemData || this._getItemData($itemElement);\n\n        var node = this._dataAdapter.getNodeByItem(itemData);\n\n        return this._hasChildren(node) && this._renderSubmenuItems(node, $itemElement);\n      }\n    }\n  }, {\n    key: \"_updateSubmenuVisibilityOnClick\",\n    value: function value(actionArgs) {\n      var args = actionArgs.args.length && actionArgs.args[0];\n\n      if (!args || this._disabledGetter(args.itemData)) {\n        return;\n      }\n\n      var $itemElement = (0, _renderer2.default)(args.itemElement);\n\n      var currentSubmenu = this._getSubmenuByElement($itemElement, args.itemData);\n\n      this._updateSelectedItemOnClick(actionArgs);\n\n      if (this._visibleSubmenu) {\n        if (this._visibleSubmenu === currentSubmenu) {\n          if (\"onClick\" === this.option(\"showFirstSubmenuMode\")) {\n            this._hideSubmenu(this._visibleSubmenu);\n          }\n\n          return;\n        } else {\n          this._hideSubmenu(this._visibleSubmenu);\n        }\n      }\n\n      if (!currentSubmenu) {\n        return;\n      }\n\n      if (!currentSubmenu.isOverlayVisible()) {\n        this._showSubmenu($itemElement);\n\n        return;\n      }\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      switch (args.name) {\n        case \"orientation\":\n        case \"submenuDirection\":\n          this._invalidate();\n\n          break;\n\n        case \"showFirstSubmenuMode\":\n        case \"hideSubmenuOnMouseLeave\":\n          break;\n\n        case \"showSubmenuMode\":\n          this._changeSubmenusOption(args.name, args.value);\n\n          break;\n\n        case \"onSubmenuShowing\":\n        case \"onSubmenuShown\":\n        case \"onSubmenuHiding\":\n        case \"onSubmenuHidden\":\n          this._initActions();\n\n          break;\n\n        case \"adaptivityEnabled\":\n          args.value ? this._initAdaptivity() : this._removeAdaptivity();\n          break;\n\n        case \"width\":\n          if (this._isAdaptivityEnabled()) {\n            this._treeView.option(args.name, args.value);\n\n            this._overlay.option(args.name, args.value);\n          }\n\n          _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\n\n          this._dimensionChanged();\n\n          break;\n\n        case \"animation\":\n          if (this._isAdaptivityEnabled()) {\n            this._treeView.option(\"animationEnabled\", !!args.value);\n          }\n\n          _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\n\n          break;\n\n        default:\n          if (this._isAdaptivityEnabled()) {\n            this._treeView.option(args.name, args.value);\n          }\n\n          _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"_changeSubmenusOption\",\n    value: function value(name, _value) {\n      (0, _iterator.each)(this._submenus, function (index, submenu) {\n        submenu.option(name, _value);\n      });\n    }\n  }, {\n    key: \"selectItem\",\n    value: function value(itemElement) {\n      this._hideSubmenu(this._visibleSubmenu);\n\n      _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement);\n    }\n  }, {\n    key: \"unselectItem\",\n    value: function value(itemElement) {\n      this._hideSubmenu(this._visibleSubmenu);\n\n      _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement);\n    }\n  }]);\n\n  return Menu;\n}(_ui2.default);\n\n(0, _component_registrator2.default)(\"dxMenu\", Menu);\nmodule.exports = Menu;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/menu/ui.menu.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_events_engine","_events_engine2","_component_registrator","_component_registrator2","_common","_dom","_iterator","_type","_extend","_utils","_utils2","_pointer","_pointer2","_hover","_hover2","_ui","_ui2","_overlay","_overlay2","_ui3","_ui4","_button","_button2","_tree_view","_tree_view2","obj","Symbol","_typeof","instance","i","props","descriptor","Object","_defineProperties","Constructor","call","_assertThisInitialized","Reflect","_get","base","_superPropBase","desc","receiver","object","_getPrototypeOf","o","subClass","superClass","constructor","value","writable","configurable","_setPrototypeOf","DX_MENU_CLASS","DX_MENU_VERTICAL_CLASS","DX_MENU_HORIZONTAL_CLASS","DX_MENU_ITEM_CLASS","DX_MENU_ITEMS_CONTAINER_CLASS","DX_MENU_ITEM_EXPANDED_CLASS","DX_CONTEXT_MENU_CLASS","DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS","DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS","DX_SUBMENU_CLASS","DX_STATE_DISABLED_CLASS","DX_STATE_HOVER_CLASS","DX_STATE_ACTIVE_CLASS","DX_ADAPTIVE_MODE_CLASS","DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS","DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS","FOCUS_UP","FOCUS_DOWN","FOCUS_LEFT","FOCUS_RIGHT","SHOW_SUBMENU_OPERATION","NEXTITEM_OPERATION","PREVITEM_OPERATION","DEFAULT_DELAY","show","hide","ACTIONS","Menu","_inherits","_classCallCheck","_possibleConstructorReturn","_createClass","key","orientation","submenuDirection","showFirstSubmenuMode","name","delay","hideSubmenuOnMouseLeave","onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","adaptivityEnabled","animation","selectedItem","rootMenuElements","submenuElements","elements","itemSelector","currentSubmenu","$items","isMenuHorizontal","$activeItem","operation","argument","navigationAction","$newTarget","navOperation","action","clearTimeout","$menuItems","containerWidth","_this","icon","activeStateEnabled","onClick","state","$menuItemsContainer","$adaptiveElements","e","_this2","rtl","position","maxHeight","deferRendering","shading","closeOnTargetScroll","onHidden","height","closeOnOutsideClick","collision","at","my","of","_this3","menuOptions","optionsToTransfer","actionsToTransfer","dataSource","animationEnabled","onItemClick","onItemExpanded","onItemCollapsed","selectNodesRecursive","selectByClick","expandEvent","$hamburger","$wrapper","submenu","$submenuContainer","childKeyboardProcessor","items","result","_keyboardProcessor","_dataAdapter","_parentKey","node","onHoverStart","_this4","$submenuTarget","itemTemplate","target","selectionMode","cssClass","hoverStateEnabled","focusStateEnabled","showSubmenuMode","displayExpr","disabledExpr","selectedExpr","itemsExpr","onFocusedItemChanged","onSelectionChanged","onItemRendered","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu","optionValue","itemCount","$currentItem","itemIndex","direction","$newItem","args","_this5","cleanAllSubmenus","arguments","$submenu","isOtherItem","targetSubmenu","$selectedItem","selectedItemData","$prevSelectedItem","prevSelectedItemData","_this6","$submenuOverlayContent","submenus","submenuMouseLeaveName","onShowing","onShown","onHiding","$border","$rootItem","rootItem","eventArgs","contextMenu","setTimeout","isRootItemHovered","isSubmenuItemHovered","hoveredElementFromSubMenu","isHorizontalMenu","rtlEnabled","submenuPosition","$target","$closestItem","mouseMoveEventName","$item","isSelectionActive","_this7","relatedTarget","eventArg","_this8","itemData","actionArgs","$itemElement","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/menu/ui.menu.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _component_registrator = require(\"../../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _dom = require(\"../../core/utils/dom\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _utils = require(\"../overlay/utils\");\r\nvar _utils2 = require(\"../../events/utils\");\r\nvar _pointer = require(\"../../events/pointer\");\r\nvar _pointer2 = _interopRequireDefault(_pointer);\r\nvar _hover = require(\"../../events/hover\");\r\nvar _hover2 = _interopRequireDefault(_hover);\r\nvar _ui = require(\"../context_menu/ui.menu_base\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _overlay = require(\"../overlay\");\r\nvar _overlay2 = _interopRequireDefault(_overlay);\r\nvar _ui3 = require(\"./ui.submenu\");\r\nvar _ui4 = _interopRequireDefault(_ui3);\r\nvar _button = require(\"../button\");\r\nvar _button2 = _interopRequireDefault(_button);\r\nvar _tree_view = require(\"../tree_view\");\r\nvar _tree_view2 = _interopRequireDefault(_tree_view);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_VERTICAL_CLASS = DX_MENU_CLASS + \"-vertical\";\r\nvar DX_MENU_HORIZONTAL_CLASS = DX_MENU_CLASS + \"-horizontal\";\r\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\r\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\r\nvar DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS = DX_CONTEXT_MENU_CLASS + \"-container-border\";\r\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\r\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\r\nvar DX_STATE_ACTIVE_CLASS = \"dx-state-active\";\r\nvar DX_ADAPTIVE_MODE_CLASS = DX_MENU_CLASS + \"-adaptive-mode\";\r\nvar DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS = DX_MENU_CLASS + \"-hamburger-button\";\r\nvar DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS = DX_ADAPTIVE_MODE_CLASS + \"-overlay-wrapper\";\r\nvar FOCUS_UP = \"up\";\r\nvar FOCUS_DOWN = \"down\";\r\nvar FOCUS_LEFT = \"left\";\r\nvar FOCUS_RIGHT = \"right\";\r\nvar SHOW_SUBMENU_OPERATION = \"showSubmenu\";\r\nvar NEXTITEM_OPERATION = \"nextItem\";\r\nvar PREVITEM_OPERATION = \"prevItem\";\r\nvar DEFAULT_DELAY = {\r\n    show: 50,\r\n    hide: 300\r\n};\r\nvar ACTIONS = [\"onSubmenuShowing\", \"onSubmenuShown\", \"onSubmenuHiding\", \"onSubmenuHidden\", \"onItemContextMenu\", \"onItemClick\", \"onSelectionChanged\"];\r\nvar Menu = function(_MenuBase) {\r\n    _inherits(Menu, _MenuBase);\r\n\r\n    function Menu() {\r\n        _classCallCheck(this, Menu);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(Menu).apply(this, arguments))\r\n    }\r\n    _createClass(Menu, [{\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(Menu.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                orientation: \"horizontal\",\r\n                submenuDirection: \"auto\",\r\n                showFirstSubmenuMode: {\r\n                    name: \"onClick\",\r\n                    delay: {\r\n                        show: 50,\r\n                        hide: 300\r\n                    }\r\n                },\r\n                hideSubmenuOnMouseLeave: false,\r\n                onSubmenuShowing: null,\r\n                onSubmenuShown: null,\r\n                onSubmenuHiding: null,\r\n                onSubmenuHidden: null,\r\n                adaptivityEnabled: false\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_setOptionsByReference\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_setOptionsByReference\", this).call(this);\r\n            (0, _extend.extend)(this._optionsByReference, {\r\n                animation: true,\r\n                selectedItem: true\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_itemElements\",\r\n        value: function() {\r\n            var rootMenuElements = _get(_getPrototypeOf(Menu.prototype), \"_itemElements\", this).call(this);\r\n            var submenuElements = this._submenuItemElements();\r\n            return rootMenuElements.add(submenuElements)\r\n        }\r\n    }, {\r\n        key: \"_submenuItemElements\",\r\n        value: function() {\r\n            var elements = [];\r\n            var itemSelector = \".\".concat(DX_MENU_ITEM_CLASS);\r\n            var currentSubmenu = this._submenus.length && this._submenus[0];\r\n            if (currentSubmenu && currentSubmenu.itemsContainer()) {\r\n                elements = currentSubmenu.itemsContainer().find(itemSelector)\r\n            }\r\n            return elements\r\n        }\r\n    }, {\r\n        key: \"_focusTarget\",\r\n        value: function() {\r\n            return this.$element()\r\n        }\r\n    }, {\r\n        key: \"_isMenuHorizontal\",\r\n        value: function() {\r\n            return \"horizontal\" === this.option(\"orientation\")\r\n        }\r\n    }, {\r\n        key: \"_moveFocus\",\r\n        value: function(location) {\r\n            var $items = this._getAvailableItems();\r\n            var isMenuHorizontal = this._isMenuHorizontal();\r\n            var $activeItem = this._getActiveItem(true);\r\n            var argument;\r\n            var operation;\r\n            var navigationAction;\r\n            var $newTarget;\r\n            switch (location) {\r\n                case FOCUS_UP:\r\n                    operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(PREVITEM_OPERATION);\r\n                    argument = isMenuHorizontal ? $activeItem : $items;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_DOWN:\r\n                    operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(NEXTITEM_OPERATION);\r\n                    argument = isMenuHorizontal ? $activeItem : $items;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_RIGHT:\r\n                    operation = isMenuHorizontal ? this._getItemsNavigationOperation(NEXTITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                    argument = isMenuHorizontal ? $items : $activeItem;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_LEFT:\r\n                    operation = isMenuHorizontal ? this._getItemsNavigationOperation(PREVITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                    argument = isMenuHorizontal ? $items : $activeItem;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                default:\r\n                    return _get(_getPrototypeOf(Menu.prototype), \"_moveFocus\", this).call(this, location)\r\n            }\r\n            if ($newTarget && 0 !== $newTarget.length) {\r\n                this.option(\"focusedElement\", (0, _dom.getPublicElement)($newTarget))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getItemsNavigationOperation\",\r\n        value: function(operation) {\r\n            var navOperation = operation;\r\n            if (this.option(\"rtlEnabled\")) {\r\n                navOperation = operation === PREVITEM_OPERATION ? NEXTITEM_OPERATION : PREVITEM_OPERATION\r\n            }\r\n            return navOperation\r\n        }\r\n    }, {\r\n        key: \"_getKeyboardNavigationAction\",\r\n        value: function(operation, argument) {\r\n            var action = _common.noop;\r\n            switch (operation) {\r\n                case SHOW_SUBMENU_OPERATION:\r\n                    if (!argument.hasClass(DX_STATE_DISABLED_CLASS)) {\r\n                        action = this._showSubmenu.bind(this, argument)\r\n                    }\r\n                    break;\r\n                case NEXTITEM_OPERATION:\r\n                    action = this._nextItem.bind(this, argument);\r\n                    break;\r\n                case PREVITEM_OPERATION:\r\n                    action = this._prevItem.bind(this, argument)\r\n            }\r\n            return action\r\n        }\r\n    }, {\r\n        key: \"_clean\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_clean\", this).call(this);\r\n            this.option(\"templatesRenderAsynchronously\") && clearTimeout(this._resizeEventTimer)\r\n        }\r\n    }, {\r\n        key: \"_visibilityChanged\",\r\n        value: function(visible) {\r\n            if (visible) {\r\n                if (!this._menuItemsWidth) {\r\n                    this._updateItemsWidthCache()\r\n                }\r\n                this._dimensionChanged()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isAdaptivityEnabled\",\r\n        value: function() {\r\n            return this.option(\"adaptivityEnabled\") && \"horizontal\" === this.option(\"orientation\")\r\n        }\r\n    }, {\r\n        key: \"_updateItemsWidthCache\",\r\n        value: function() {\r\n            var $menuItems = this.$element().find(\"ul\").first().children(\"li\").children(\".\".concat(DX_MENU_ITEM_CLASS));\r\n            this._menuItemsWidth = this._getSummaryItemsWidth($menuItems, true)\r\n        }\r\n    }, {\r\n        key: \"_dimensionChanged\",\r\n        value: function() {\r\n            if (!this._isAdaptivityEnabled()) {\r\n                return\r\n            }\r\n            var containerWidth = this.$element().outerWidth();\r\n            this._toggleAdaptiveMode(this._menuItemsWidth > containerWidth)\r\n        }\r\n    }, {\r\n        key: \"_init\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_init\", this).call(this);\r\n            this._submenus = []\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {\r\n            var _this = this;\r\n            this._actions = {};\r\n            (0, _iterator.each)(ACTIONS, function(index, action) {\r\n                _this._actions[action] = _this._createActionByOption(action)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            this._visibleSubmenu = null;\r\n            this.$element().addClass(DX_MENU_CLASS);\r\n            _get(_getPrototypeOf(Menu.prototype), \"_initMarkup\", this).call(this);\r\n            this.setAria(\"role\", \"menubar\")\r\n        }\r\n    }, {\r\n        key: \"_render\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_render\", this).call(this);\r\n            this._initAdaptivity()\r\n        }\r\n    }, {\r\n        key: \"_renderHamburgerButton\",\r\n        value: function() {\r\n            this._hamburger = new _button2.default((0, _renderer2.default)(\"<div>\").addClass(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS), {\r\n                icon: \"menu\",\r\n                activeStateEnabled: false,\r\n                onClick: this._toggleTreeView.bind(this)\r\n            });\r\n            return this._hamburger.$element()\r\n        }\r\n    }, {\r\n        key: \"_toggleTreeView\",\r\n        value: function(state) {\r\n            if ((0, _type.isPlainObject)(state)) {\r\n                state = !this._overlay.option(\"visible\")\r\n            }\r\n            this._overlay.option(\"visible\", state);\r\n            this._toggleHamburgerActiveState(state)\r\n        }\r\n    }, {\r\n        key: \"_toggleHamburgerActiveState\",\r\n        value: function(state) {\r\n            this._hamburger && this._hamburger.$element().toggleClass(DX_STATE_ACTIVE_CLASS, state)\r\n        }\r\n    }, {\r\n        key: \"_toggleAdaptiveMode\",\r\n        value: function(state) {\r\n            var $menuItemsContainer = this.$element().find(\".\".concat(DX_MENU_HORIZONTAL_CLASS));\r\n            var $adaptiveElements = this.$element().find(\".\".concat(DX_ADAPTIVE_MODE_CLASS));\r\n            if (state) {\r\n                this._hideVisibleSubmenu()\r\n            } else {\r\n                this._treeView && this._treeView.collapseAll();\r\n                this._overlay && this._toggleTreeView(state)\r\n            }\r\n            $menuItemsContainer.toggle(!state);\r\n            $adaptiveElements.toggle(state)\r\n        }\r\n    }, {\r\n        key: \"_removeAdaptivity\",\r\n        value: function() {\r\n            if (!this._$adaptiveContainer) {\r\n                return\r\n            }\r\n            this._toggleAdaptiveMode(false);\r\n            this._$adaptiveContainer.remove();\r\n            this._$adaptiveContainer = null;\r\n            this._treeView = null;\r\n            this._hamburger = null;\r\n            this._overlay = null\r\n        }\r\n    }, {\r\n        key: \"_treeviewItemClickHandler\",\r\n        value: function(e) {\r\n            this._actions.onItemClick(e);\r\n            if (!e.node.children.length) {\r\n                this._toggleTreeView(false)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getAdaptiveOverlayOptions\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            var rtl = this.option(\"rtlEnabled\");\r\n            var position = rtl ? \"right\" : \"left\";\r\n            return {\r\n                maxHeight: function() {\r\n                    return (0, _utils.getElementMaxHeightByWindow)(_this2.$element())\r\n                },\r\n                deferRendering: false,\r\n                shading: false,\r\n                animation: false,\r\n                closeOnTargetScroll: true,\r\n                onHidden: function() {\r\n                    _this2._toggleHamburgerActiveState(false)\r\n                },\r\n                height: \"auto\",\r\n                closeOnOutsideClick: function(e) {\r\n                    return !(0, _renderer2.default)(e.target).closest(\".\".concat(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS)).length\r\n                },\r\n                position: {\r\n                    collision: \"flipfit\",\r\n                    at: \"bottom \" + position,\r\n                    my: \"top \" + position,\r\n                    of: this._hamburger.$element()\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getTreeViewOptions\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            var menuOptions = {};\r\n            var optionsToTransfer = [\"rtlEnabled\", \"width\", \"accessKey\", \"activeStateEnabled\", \"animation\", \"dataSource\", \"disabled\", \"displayExpr\", \"displayExpr\", \"focusStateEnabled\", \"hint\", \"hoverStateEnabled\", \"itemsExpr\", \"items\", \"itemTemplate\", \"selectedExpr\", \"selectionMode\", \"tabIndex\", \"visible\"];\r\n            var actionsToTransfer = [\"onItemContextMenu\", \"onSelectionChanged\"];\r\n            (0, _iterator.each)(optionsToTransfer, function(_, option) {\r\n                menuOptions[option] = _this3.option(option)\r\n            });\r\n            (0, _iterator.each)(actionsToTransfer, function(_, actionName) {\r\n                menuOptions[actionName] = function(e) {\r\n                    _this3._actions[actionName](e)\r\n                }\r\n            });\r\n            return (0, _extend.extend)(menuOptions, {\r\n                dataSource: this.getDataSource(),\r\n                animationEnabled: !!this.option(\"animation\"),\r\n                onItemClick: this._treeviewItemClickHandler.bind(this),\r\n                onItemExpanded: function(e) {\r\n                    _this3._overlay.repaint();\r\n                    _this3._actions.onSubmenuShown(e)\r\n                },\r\n                onItemCollapsed: function(e) {\r\n                    _this3._overlay.repaint();\r\n                    _this3._actions.onSubmenuHidden(e)\r\n                },\r\n                selectNodesRecursive: false,\r\n                selectByClick: this.option(\"selectByClick\"),\r\n                expandEvent: \"click\"\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initAdaptivity\",\r\n        value: function() {\r\n            if (!this._isAdaptivityEnabled()) {\r\n                return\r\n            }\r\n            this._$adaptiveContainer = (0, _renderer2.default)(\"<div>\").addClass(DX_ADAPTIVE_MODE_CLASS);\r\n            var $hamburger = this._renderHamburgerButton();\r\n            this._treeView = this._createComponent((0, _renderer2.default)(\"<div>\"), _tree_view2.default, this._getTreeViewOptions());\r\n            this._overlay = this._createComponent((0, _renderer2.default)(\"<div>\"), _overlay2.default, this._getAdaptiveOverlayOptions());\r\n            this._overlay.$content().append(this._treeView.$element()).addClass(DX_ADAPTIVE_MODE_CLASS).addClass(this.option(\"cssClass\"));\r\n            this._overlay._wrapper().addClass(DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS);\r\n            this._$adaptiveContainer.append($hamburger);\r\n            this._$adaptiveContainer.append(this._overlay.$element());\r\n            this.$element().append(this._$adaptiveContainer);\r\n            this._updateItemsWidthCache();\r\n            this._dimensionChanged()\r\n        }\r\n    }, {\r\n        key: \"_getDelay\",\r\n        value: function(delayType) {\r\n            var delay = this.option(\"showFirstSubmenuMode\").delay;\r\n            if (!(0, _type.isDefined)(delay)) {\r\n                return DEFAULT_DELAY[delayType]\r\n            } else {\r\n                return (0, _type.isObject)(delay) ? delay[delayType] : delay\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_keyboardHandler\",\r\n        value: function(e) {\r\n            return this._visibleSubmenu ? true : _get(_getPrototypeOf(Menu.prototype), \"_keyboardHandler\", this).call(this, e)\r\n        }\r\n    }, {\r\n        key: \"_renderContainer\",\r\n        value: function() {\r\n            var $wrapper = (0, _renderer2.default)(\"<div>\");\r\n            $wrapper.appendTo(this.$element()).addClass(this._isMenuHorizontal() ? DX_MENU_HORIZONTAL_CLASS : DX_MENU_VERTICAL_CLASS);\r\n            return _get(_getPrototypeOf(Menu.prototype), \"_renderContainer\", this).call(this, $wrapper)\r\n        }\r\n    }, {\r\n        key: \"_renderSubmenuItems\",\r\n        value: function(node, $itemFrame) {\r\n            var submenu = this._createSubmenu(node, $itemFrame);\r\n            this._submenus.push(submenu);\r\n            this._renderBorderElement($itemFrame);\r\n            return submenu\r\n        }\r\n    }, {\r\n        key: \"_createSubmenu\",\r\n        value: function(node, $rootItem) {\r\n            var $submenuContainer = (0, _renderer2.default)(\"<div>\").addClass(DX_CONTEXT_MENU_CLASS).appendTo($rootItem);\r\n            var childKeyboardProcessor = this._keyboardProcessor && this._keyboardProcessor.attachChildProcessor();\r\n            var items = this._getChildNodes(node);\r\n            var result = this._createComponent($submenuContainer, _ui4.default, (0, _extend.extend)(this._getSubmenuOptions(), {\r\n                _keyboardProcessor: childKeyboardProcessor,\r\n                _dataAdapter: this._dataAdapter,\r\n                _parentKey: node.internalFields.key,\r\n                items: items,\r\n                onHoverStart: this._clearTimeouts.bind(this),\r\n                position: this.getSubmenuPosition($rootItem)\r\n            }));\r\n            this._attachSubmenuHandlers($rootItem, result);\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuOptions\",\r\n        value: function() {\r\n            var _this4 = this;\r\n            var $submenuTarget = (0, _renderer2.default)(\"<div>\");\r\n            var isMenuHorizontal = this._isMenuHorizontal();\r\n            return {\r\n                itemTemplate: this.option(\"itemTemplate\"),\r\n                target: $submenuTarget,\r\n                orientation: this.option(\"orientation\"),\r\n                selectionMode: this.option(\"selectionMode\"),\r\n                cssClass: this.option(\"cssClass\"),\r\n                selectByClick: this.option(\"selectByClick\"),\r\n                hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n                activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n                focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n                animation: this.option(\"animation\"),\r\n                showSubmenuMode: this.option(\"showSubmenuMode\"),\r\n                displayExpr: this.option(\"displayExpr\"),\r\n                disabledExpr: this.option(\"disabledExpr\"),\r\n                selectedExpr: this.option(\"selectedExpr\"),\r\n                itemsExpr: this.option(\"itemsExpr\"),\r\n                onFocusedItemChanged: function(e) {\r\n                    if (!e.component.option(\"visible\")) {\r\n                        return\r\n                    }\r\n                    _this4.option(\"focusedElement\", e.component.option(\"focusedElement\"))\r\n                },\r\n                onSelectionChanged: this._nestedItemOnSelectionChangedHandler.bind(this),\r\n                onItemClick: this._nestedItemOnItemClickHandler.bind(this),\r\n                onItemRendered: this.option(\"onItemRendered\"),\r\n                onLeftFirstItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, PREVITEM_OPERATION),\r\n                onLeftLastItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION),\r\n                onCloseRootSubmenu: this._moveMainMenuFocus.bind(this, isMenuHorizontal ? PREVITEM_OPERATION : null),\r\n                onExpandLastSubmenu: isMenuHorizontal ? this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION) : null\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getShowFirstSubmenuMode\",\r\n        value: function() {\r\n            if (!this._isDesktopDevice()) {\r\n                return \"onClick\"\r\n            }\r\n            var optionValue = this.option(\"showFirstSubmenuMode\");\r\n            return (0, _type.isObject)(optionValue) ? optionValue.name : optionValue\r\n        }\r\n    }, {\r\n        key: \"_moveMainMenuFocus\",\r\n        value: function(direction) {\r\n            var $items = this._getAvailableItems();\r\n            var itemCount = $items.length;\r\n            var $currentItem = $items.filter(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).eq(0);\r\n            var itemIndex = $items.index($currentItem);\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            itemIndex += direction === PREVITEM_OPERATION ? -1 : 1;\r\n            if (itemIndex >= itemCount) {\r\n                itemIndex = 0\r\n            } else {\r\n                if (itemIndex < 0) {\r\n                    itemIndex = itemCount - 1\r\n                }\r\n            }\r\n            var $newItem = $items.eq(itemIndex);\r\n            this.option(\"focusedElement\", (0, _dom.getPublicElement)($newItem))\r\n        }\r\n    }, {\r\n        key: \"_nestedItemOnSelectionChangedHandler\",\r\n        value: function(args) {\r\n            var selectedItem = args.addedItems.length && args.addedItems[0];\r\n            var submenu = _ui4.default.getInstance(args.element);\r\n            var onSelectionChanged = this._actions.onSelectionChanged;\r\n            onSelectionChanged(args);\r\n            selectedItem && this._clearSelectionInSubmenus(selectedItem[0], submenu);\r\n            this._clearRootSelection();\r\n            this._setOptionSilent(\"selectedItem\", selectedItem)\r\n        }\r\n    }, {\r\n        key: \"_clearSelectionInSubmenus\",\r\n        value: function(item, targetSubmenu) {\r\n            var _this5 = this;\r\n            var cleanAllSubmenus = !arguments.length;\r\n            (0, _iterator.each)(this._submenus, function(index, submenu) {\r\n                var $submenu = submenu._itemContainer();\r\n                var isOtherItem = !$submenu.is(targetSubmenu && targetSubmenu._itemContainer());\r\n                var $selectedItem = $submenu.find(\".\".concat(_this5._selectedItemClass()));\r\n                if (isOtherItem && $selectedItem.length || cleanAllSubmenus) {\r\n                    $selectedItem.removeClass(_this5._selectedItemClass());\r\n                    var selectedItemData = _this5._getItemData($selectedItem);\r\n                    if (selectedItemData) {\r\n                        selectedItemData.selected = false\r\n                    }\r\n                    submenu._clearSelectedItems()\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_clearRootSelection\",\r\n        value: function() {\r\n            var $prevSelectedItem = this.$element().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).first().children().children().filter(\".\".concat(this._selectedItemClass()));\r\n            if ($prevSelectedItem.length) {\r\n                var prevSelectedItemData;\r\n                prevSelectedItemData = this._getItemData($prevSelectedItem);\r\n                prevSelectedItemData.selected = false;\r\n                $prevSelectedItem.removeClass(this._selectedItemClass())\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_nestedItemOnItemClickHandler\",\r\n        value: function(e) {\r\n            this._actions.onItemClick(e)\r\n        }\r\n    }, {\r\n        key: \"_attachSubmenuHandlers\",\r\n        value: function($rootItem, submenu) {\r\n            var _this6 = this;\r\n            var $submenuOverlayContent = submenu.getOverlayContent();\r\n            var submenus = $submenuOverlayContent.find(\".\".concat(DX_SUBMENU_CLASS));\r\n            var submenuMouseLeaveName = (0, _utils2.addNamespace)(_hover2.default.end, this.NAME + \"_submenu\");\r\n            submenu.option({\r\n                onShowing: this._submenuOnShowingHandler.bind(this, $rootItem, submenu),\r\n                onShown: this._submenuOnShownHandler.bind(this, $rootItem, submenu),\r\n                onHiding: this._submenuOnHidingHandler.bind(this, $rootItem, submenu),\r\n                onHidden: this._submenuOnHiddenHandler.bind(this, $rootItem, submenu)\r\n            });\r\n            (0, _iterator.each)(submenus, function(index, submenu) {\r\n                _events_engine2.default.off(submenu, submenuMouseLeaveName);\r\n                _events_engine2.default.on(submenu, submenuMouseLeaveName, null, _this6._submenuMouseLeaveHandler.bind(_this6, $rootItem))\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuOnShowingHandler\",\r\n        value: function($rootItem, submenu) {\r\n            var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n            this._actions.onSubmenuShowing({\r\n                rootItem: (0, _dom.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            });\r\n            $border.show();\r\n            $rootItem.addClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_submenuOnShownHandler\",\r\n        value: function($rootItem, submenu) {\r\n            this._actions.onSubmenuShown({\r\n                rootItem: (0, _dom.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuOnHidingHandler\",\r\n        value: function($rootItem, submenu, eventArgs) {\r\n            var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n            var args = eventArgs;\r\n            args.rootItem = (0, _dom.getPublicElement)($rootItem);\r\n            args.submenu = submenu;\r\n            this._actions.onSubmenuHiding(args);\r\n            eventArgs = args;\r\n            if (!eventArgs.cancel) {\r\n                if (this._visibleSubmenu === submenu) {\r\n                    this._visibleSubmenu = null\r\n                }\r\n                $border.hide();\r\n                $rootItem.removeClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_submenuOnHiddenHandler\",\r\n        value: function($rootItem, submenu) {\r\n            this._actions.onSubmenuHidden({\r\n                rootItem: (0, _dom.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuMouseLeaveHandler\",\r\n        value: function($rootItem, eventArgs) {\r\n            var target = (0, _renderer2.default)(eventArgs.relatedTarget).parents(\".\".concat(DX_CONTEXT_MENU_CLASS))[0];\r\n            var contextMenu = this._getSubmenuByRootElement($rootItem).getOverlayContent()[0];\r\n            if (this.option(\"hideSubmenuOnMouseLeave\") && target !== contextMenu) {\r\n                this._clearTimeouts();\r\n                setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenuAfterTimeout\",\r\n        value: function() {\r\n            if (!this._visibleSubmenu) {\r\n                return\r\n            }\r\n            var isRootItemHovered = (0, _renderer2.default)(this._visibleSubmenu.$element().context).hasClass(DX_STATE_HOVER_CLASS);\r\n            var isSubmenuItemHovered = this._visibleSubmenu.getOverlayContent().find(\".\".concat(DX_STATE_HOVER_CLASS)).length;\r\n            var hoveredElementFromSubMenu = this._visibleSubmenu.getOverlayContent().get(0).querySelector(\":hover\");\r\n            if (!hoveredElementFromSubMenu && !isSubmenuItemHovered && !isRootItemHovered) {\r\n                this._visibleSubmenu.hide()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuByRootElement\",\r\n        value: function($rootItem) {\r\n            if (!$rootItem) {\r\n                return false\r\n            }\r\n            var $submenu = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CLASS));\r\n            return $submenu.length && _ui4.default.getInstance($submenu)\r\n        }\r\n    }, {\r\n        key: \"getSubmenuPosition\",\r\n        value: function($rootItem) {\r\n            var isHorizontalMenu = this._isMenuHorizontal();\r\n            var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            var submenuPosition = {\r\n                collision: \"flip\",\r\n                of: $rootItem\r\n            };\r\n            switch (submenuDirection) {\r\n                case \"leftortop\":\r\n                    submenuPosition.at = \"left top\";\r\n                    submenuPosition.my = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                    break;\r\n                case \"rightorbottom\":\r\n                    submenuPosition.at = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                    submenuPosition.my = \"left top\";\r\n                    break;\r\n                default:\r\n                    if (isHorizontalMenu) {\r\n                        submenuPosition.at = rtlEnabled ? \"right bottom\" : \"left bottom\";\r\n                        submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                    } else {\r\n                        submenuPosition.at = rtlEnabled ? \"left top\" : \"right top\";\r\n                        submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                    }\r\n            }\r\n            return submenuPosition\r\n        }\r\n    }, {\r\n        key: \"_renderBorderElement\",\r\n        value: function($item) {\r\n            (0, _renderer2.default)(\"<div>\").appendTo($item).addClass(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS).hide()\r\n        }\r\n    }, {\r\n        key: \"_itemPointerDownHandler\",\r\n        value: function(e) {\r\n            var $target = (0, _renderer2.default)(e.target);\r\n            var $closestItem = $target.closest(this._itemElements());\r\n            if ($closestItem.hasClass(\"dx-menu-item-has-submenu\")) {\r\n                this.option(\"focusedElement\", null);\r\n                return\r\n            }\r\n            _get(_getPrototypeOf(Menu.prototype), \"_itemPointerDownHandler\", this).call(this, e)\r\n        }\r\n    }, {\r\n        key: \"_hoverStartHandler\",\r\n        value: function(e) {\r\n            var mouseMoveEventName = (0, _utils2.addNamespace)(_pointer2.default.move, this.NAME);\r\n            var $item = this._getItemElementByEventArgs(e);\r\n            var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\r\n            var isSelectionActive = (0, _type.isDefined)(e.buttons) && 1 === e.buttons || !(0, _type.isDefined)(e.buttons) && 1 === e.which;\r\n            if (this._isItemDisabled($item)) {\r\n                return\r\n            }\r\n            _events_engine2.default.off($item, mouseMoveEventName);\r\n            if (!this._hasChildren(node)) {\r\n                this._showSubmenuTimer = setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\r\n                return\r\n            }\r\n            if (\"onHover\" === this._getShowFirstSubmenuMode() && !isSelectionActive) {\r\n                var submenu = this._getSubmenuByElement($item);\r\n                this._clearTimeouts();\r\n                if (!submenu.isOverlayVisible()) {\r\n                    _events_engine2.default.on($item, mouseMoveEventName, this._itemMouseMoveHandler.bind(this));\r\n                    this._showSubmenuTimer = this._getDelay(\"hide\")\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hoverEndHandler\",\r\n        value: function(eventArg) {\r\n            var _this7 = this;\r\n            var $item = this._getItemElementByEventArgs(eventArg);\r\n            var relatedTarget = (0, _renderer2.default)(eventArg.relatedTarget);\r\n            _get(_getPrototypeOf(Menu.prototype), \"_hoverEndHandler\", this).call(this, eventArg);\r\n            this._clearTimeouts();\r\n            if (this._isItemDisabled($item)) {\r\n                return\r\n            }\r\n            if (relatedTarget.hasClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)) {\r\n                return\r\n            }\r\n            if (this.option(\"hideSubmenuOnMouseLeave\") && !relatedTarget.hasClass(DX_MENU_ITEMS_CONTAINER_CLASS)) {\r\n                this._hideSubmenuTimer = setTimeout(function() {\r\n                    _this7._hideSubmenuAfterTimeout()\r\n                }, this._getDelay(\"hide\"))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideVisibleSubmenu\",\r\n        value: function() {\r\n            if (!this._visibleSubmenu) {\r\n                return false\r\n            }\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_showSubmenu\",\r\n        value: function($itemElement) {\r\n            var submenu = this._getSubmenuByElement($itemElement);\r\n            if (this._visibleSubmenu !== submenu) {\r\n                this._hideVisibleSubmenu()\r\n            }\r\n            if (submenu) {\r\n                submenu.show();\r\n                this.option(\"focusedElement\", submenu.option(\"focusedElement\"))\r\n            }\r\n            this._visibleSubmenu = submenu;\r\n            this._hoveredRootItem = $itemElement\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenu\",\r\n        value: function(submenu) {\r\n            submenu && submenu.hide();\r\n            if (this._visibleSubmenu === submenu) {\r\n                this._visibleSubmenu = null\r\n            }\r\n            this._hoveredRootItem = null\r\n        }\r\n    }, {\r\n        key: \"_itemMouseMoveHandler\",\r\n        value: function(e) {\r\n            var _this8 = this;\r\n            if (e.pointers && e.pointers.length) {\r\n                return\r\n            }\r\n            var $item = (0, _renderer2.default)(e.currentTarget);\r\n            if (!(0, _type.isDefined)(this._showSubmenuTimer)) {\r\n                return\r\n            }\r\n            this._clearTimeouts();\r\n            this._showSubmenuTimer = setTimeout(function() {\r\n                var submenu = _this8._getSubmenuByElement($item);\r\n                if (submenu && !submenu.isOverlayVisible()) {\r\n                    _this8._showSubmenu($item)\r\n                }\r\n            }, this._getDelay(\"show\"))\r\n        }\r\n    }, {\r\n        key: \"_clearTimeouts\",\r\n        value: function() {\r\n            clearTimeout(this._hideSubmenuTimer);\r\n            clearTimeout(this._showSubmenuTimer)\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuByElement\",\r\n        value: function($itemElement, itemData) {\r\n            var submenu = this._getSubmenuByRootElement($itemElement);\r\n            if (submenu) {\r\n                return submenu\r\n            } else {\r\n                itemData = itemData || this._getItemData($itemElement);\r\n                var node = this._dataAdapter.getNodeByItem(itemData);\r\n                return this._hasChildren(node) && this._renderSubmenuItems(node, $itemElement)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_updateSubmenuVisibilityOnClick\",\r\n        value: function(actionArgs) {\r\n            var args = actionArgs.args.length && actionArgs.args[0];\r\n            if (!args || this._disabledGetter(args.itemData)) {\r\n                return\r\n            }\r\n            var $itemElement = (0, _renderer2.default)(args.itemElement);\r\n            var currentSubmenu = this._getSubmenuByElement($itemElement, args.itemData);\r\n            this._updateSelectedItemOnClick(actionArgs);\r\n            if (this._visibleSubmenu) {\r\n                if (this._visibleSubmenu === currentSubmenu) {\r\n                    if (\"onClick\" === this.option(\"showFirstSubmenuMode\")) {\r\n                        this._hideSubmenu(this._visibleSubmenu)\r\n                    }\r\n                    return\r\n                } else {\r\n                    this._hideSubmenu(this._visibleSubmenu)\r\n                }\r\n            }\r\n            if (!currentSubmenu) {\r\n                return\r\n            }\r\n            if (!currentSubmenu.isOverlayVisible()) {\r\n                this._showSubmenu($itemElement);\r\n                return\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            switch (args.name) {\r\n                case \"orientation\":\r\n                case \"submenuDirection\":\r\n                    this._invalidate();\r\n                    break;\r\n                case \"showFirstSubmenuMode\":\r\n                case \"hideSubmenuOnMouseLeave\":\r\n                    break;\r\n                case \"showSubmenuMode\":\r\n                    this._changeSubmenusOption(args.name, args.value);\r\n                    break;\r\n                case \"onSubmenuShowing\":\r\n                case \"onSubmenuShown\":\r\n                case \"onSubmenuHiding\":\r\n                case \"onSubmenuHidden\":\r\n                    this._initActions();\r\n                    break;\r\n                case \"adaptivityEnabled\":\r\n                    args.value ? this._initAdaptivity() : this._removeAdaptivity();\r\n                    break;\r\n                case \"width\":\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(args.name, args.value);\r\n                        this._overlay.option(args.name, args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\r\n                    this._dimensionChanged();\r\n                    break;\r\n                case \"animation\":\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(\"animationEnabled\", !!args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\r\n                    break;\r\n                default:\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(args.name, args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_changeSubmenusOption\",\r\n        value: function(name, value) {\r\n            (0, _iterator.each)(this._submenus, function(index, submenu) {\r\n                submenu.option(name, value)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"selectItem\",\r\n        value: function(itemElement) {\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement)\r\n        }\r\n    }, {\r\n        key: \"unselectItem\",\r\n        value: function(itemElement) {\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement)\r\n        }\r\n    }]);\r\n    return Menu\r\n}(_ui2.default);\r\n(0, _component_registrator2.default)(\"dxMenu\", Menu);\r\nmodule.exports = Menu;\r\n"]},"metadata":{},"sourceType":"module"}