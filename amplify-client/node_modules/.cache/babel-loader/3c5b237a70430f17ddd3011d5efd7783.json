{"ast":null,"code":"/**\r\n * DevExtreme (viz/gauges/base_indicators.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar _isFinite = isFinite;\nvar _Number = Number;\nvar _round = Math.round;\n\nvar baseGaugeModule = require(\"./base_gauge\");\n\nvar _formatValue = baseGaugeModule.formatValue;\nvar _getSampleText = baseGaugeModule.getSampleText;\n\nvar _patchFontOptions = require(\"../core/utils\").patchFontOptions;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar Class = require(\"../../core/class\");\n\nvar BaseElement = Class.inherit({\n  ctor: function ctor(parameters) {\n    var that = this;\n    each(parameters, function (name, value) {\n      that[\"_\" + name] = value;\n    });\n\n    that._init();\n  },\n  dispose: function dispose() {\n    var that = this;\n\n    that._dispose();\n\n    each(that, function (name) {\n      that[name] = null;\n    });\n    return that;\n  },\n  getOffset: function getOffset() {\n    return _Number(this._options.offset) || 0;\n  }\n});\nvar BaseIndicator = BaseElement.inherit({\n  _init: function _init() {\n    var that = this;\n    that._rootElement = that._createRoot().linkOn(that._owner, {\n      name: \"value-indicator\",\n      after: \"core\"\n    });\n    that._trackerElement = that._createTracker();\n  },\n  _dispose: function _dispose() {\n    this._rootElement.linkOff();\n  },\n  _setupAnimation: function _setupAnimation() {\n    var that = this;\n\n    if (that._options.animation) {\n      that._animation = {\n        step: function step(pos) {\n          that._actualValue = that._animation.start + that._animation.delta * pos;\n          that._actualPosition = that._translator.translate(that._actualValue);\n\n          that._move();\n        },\n        duration: that._options.animation.duration > 0 ? _Number(that._options.animation.duration) : 0,\n        easing: that._options.animation.easing\n      };\n    }\n  },\n  _runAnimation: function _runAnimation(value) {\n    var that = this;\n    var animation = that._animation;\n    animation.start = that._actualValue;\n    animation.delta = value - that._actualValue;\n\n    that._rootElement.animate({\n      _: 0\n    }, {\n      step: animation.step,\n      duration: animation.duration,\n      easing: animation.easing\n    });\n  },\n  _createRoot: function _createRoot() {\n    return this._renderer.g().attr({\n      \"class\": this._className\n    });\n  },\n  _createTracker: function _createTracker() {\n    return this._renderer.path([], \"area\");\n  },\n  _getTrackerSettings: noop,\n  clean: function clean() {\n    var that = this;\n    that._animation && that._rootElement.stopAnimation();\n\n    that._rootElement.linkRemove().clear();\n\n    that._clear();\n\n    that._tracker.detach(that._trackerElement);\n\n    that._options = that.enabled = that._animation = null;\n    return that;\n  },\n  render: function render(options) {\n    var that = this;\n    that.type = options.type;\n    that._options = options;\n    that._actualValue = that._currentValue = that._translator.adjust(that._options.currentValue);\n    that.enabled = that._isEnabled();\n\n    if (that.enabled) {\n      that._setupAnimation();\n\n      that._rootElement.attr({\n        fill: that._options.color\n      }).linkAppend();\n\n      that._tracker.attach(that._trackerElement, that, that._trackerInfo);\n    }\n\n    return that;\n  },\n  resize: function resize(layout) {\n    var that = this;\n\n    that._rootElement.clear();\n\n    that._clear();\n\n    that.visible = that._isVisible(layout);\n\n    if (that.visible) {\n      extend(that._options, layout);\n      that._actualPosition = that._translator.translate(that._actualValue);\n\n      that._render();\n\n      that._trackerElement.attr(that._getTrackerSettings());\n\n      that._move();\n    }\n\n    return that;\n  },\n  value: function value(arg, _noAnimation) {\n    var that = this;\n    var val;\n    var rootElement = this._rootElement;\n    var visibility = null;\n\n    if (void 0 === arg) {\n      return that._currentValue;\n    }\n\n    if (null === arg) {\n      visibility = \"hidden\";\n      that._currentValue = arg;\n    } else {\n      val = that._translator.adjust(arg);\n\n      if (that._currentValue !== val && _isFinite(val)) {\n        that._currentValue = val;\n\n        if (that.visible) {\n          if (that._animation && !_noAnimation) {\n            that._runAnimation(val);\n          } else {\n            that._actualValue = val;\n            that._actualPosition = that._translator.translate(val);\n\n            that._move();\n          }\n        }\n      }\n    }\n\n    rootElement.attr({\n      visibility: visibility\n    });\n    return that;\n  },\n  _isEnabled: null,\n  _isVisible: null,\n  _render: null,\n  _clear: null,\n  _move: null\n});\nvar COEFFICIENTS_MAP = {};\nCOEFFICIENTS_MAP[\"right-bottom\"] = COEFFICIENTS_MAP.rb = [0, -1, -1, 0, 0, 1, 1, 0];\nCOEFFICIENTS_MAP[\"bottom-right\"] = COEFFICIENTS_MAP.br = [-1, 0, 0, -1, 1, 0, 0, 1];\nCOEFFICIENTS_MAP[\"left-bottom\"] = COEFFICIENTS_MAP.lb = [0, -1, 1, 0, 0, 1, -1, 0];\nCOEFFICIENTS_MAP[\"bottom-left\"] = COEFFICIENTS_MAP.bl = [1, 0, 0, -1, -1, 0, 0, 1];\nCOEFFICIENTS_MAP[\"left-top\"] = COEFFICIENTS_MAP.lt = [0, 1, 1, 0, 0, -1, -1, 0];\nCOEFFICIENTS_MAP[\"top-left\"] = COEFFICIENTS_MAP.tl = [1, 0, 0, 1, -1, 0, 0, -1];\nCOEFFICIENTS_MAP[\"right-top\"] = COEFFICIENTS_MAP.rt = [0, 1, -1, 0, 0, -1, 1, 0];\nCOEFFICIENTS_MAP[\"top-right\"] = COEFFICIENTS_MAP.tr = [-1, 0, 0, 1, 1, 0, 0, -1];\n\nfunction getTextCloudInfo(options) {\n  var x = options.x;\n  var y = options.y;\n  var type = COEFFICIENTS_MAP[options.type];\n  var cloudWidth = options.textWidth + 2 * options.horMargin;\n  var cloudHeight = options.textHeight + 2 * options.verMargin;\n  var tailWidth;\n  var tailHeight;\n  var cx = x;\n  var cy = y;\n  tailWidth = tailHeight = options.tailLength;\n\n  if (1 & type[0]) {\n    tailHeight = Math.min(tailHeight, cloudHeight / 3);\n  } else {\n    tailWidth = Math.min(tailWidth, cloudWidth / 3);\n  }\n\n  return {\n    cx: _round(cx + type[0] * tailWidth + (type[0] + type[2]) * cloudWidth / 2),\n    cy: _round(cy + type[1] * tailHeight + (type[1] + type[3]) * cloudHeight / 2),\n    points: [_round(x), _round(y), _round(x += type[0] * (cloudWidth + tailWidth)), _round(y += type[1] * (cloudHeight + tailHeight)), _round(x += type[2] * cloudWidth), _round(y += type[3] * cloudHeight), _round(x += type[4] * cloudWidth), _round(y += type[5] * cloudHeight), _round(x += type[6] * (cloudWidth - tailWidth)), _round(y += type[7] * (cloudHeight - tailHeight))]\n  };\n}\n\nvar BaseTextCloudMarker = BaseIndicator.inherit({\n  _move: function _move() {\n    var that = this;\n    var bBox;\n    var info;\n\n    var textCloudOptions = that._getTextCloudOptions();\n\n    var text = _formatValue(that._actualValue, that._options.text);\n\n    that._text.attr({\n      text: text\n    });\n\n    bBox = that._text.getBBox();\n    info = getTextCloudInfo({\n      x: textCloudOptions.x,\n      y: textCloudOptions.y,\n      textWidth: bBox.width || text.length * that._textUnitWidth,\n      textHeight: bBox.height || that._textHeight,\n      horMargin: that._options.horizontalOffset,\n      verMargin: that._options.verticalOffset,\n      tailLength: that._options.arrowLength,\n      type: textCloudOptions.type\n    });\n\n    that._text.attr({\n      x: info.cx,\n      y: info.cy + that._textVerticalOffset\n    });\n\n    that._cloud.attr({\n      points: info.points\n    });\n\n    that._trackerElement && that._trackerElement.attr({\n      points: info.points\n    });\n  },\n  _measureText: function _measureText() {\n    var that = this;\n    var root;\n    var text;\n    var bBox;\n    var sampleText;\n\n    if (!that._textVerticalOffset) {\n      root = that._createRoot().append(that._owner);\n      sampleText = _getSampleText(that._translator, that._options.text);\n      text = that._renderer.text(sampleText, 0, 0).attr({\n        align: \"center\"\n      }).css(_patchFontOptions(that._options.text.font)).append(root);\n      bBox = text.getBBox();\n      root.remove();\n      that._textVerticalOffset = -bBox.y - bBox.height / 2;\n      that._textWidth = bBox.width;\n      that._textHeight = bBox.height;\n      that._textUnitWidth = that._textWidth / sampleText.length;\n      that._textFullWidth = that._textWidth + 2 * that._options.horizontalOffset;\n      that._textFullHeight = that._textHeight + 2 * that._options.verticalOffset;\n    }\n  },\n  _render: function _render() {\n    var that = this;\n\n    that._measureText();\n\n    that._cloud = that._cloud || that._renderer.path([], \"area\").append(that._rootElement);\n    that._text = that._text || that._renderer.text().append(that._rootElement);\n\n    that._text.attr({\n      align: \"center\"\n    }).css(_patchFontOptions(that._options.text.font));\n  },\n  _clear: function _clear() {\n    delete this._cloud;\n    delete this._text;\n  },\n  getTooltipParameters: function getTooltipParameters() {\n    var position = this._getTextCloudOptions();\n\n    return {\n      x: position.x,\n      y: position.y,\n      value: this._currentValue,\n      color: this._options.color\n    };\n  }\n});\nvar BaseRangeBar = BaseIndicator.inherit({\n  _measureText: function _measureText() {\n    var that = this;\n    var root;\n    var text;\n    var bBox;\n    that._hasText = that._isTextVisible();\n\n    if (that._hasText && !that._textVerticalOffset) {\n      root = that._createRoot().append(that._owner);\n      text = that._renderer.text(_getSampleText(that._translator, that._options.text), 0, 0).attr({\n        \"class\": \"dxg-text\",\n        align: \"center\"\n      }).css(_patchFontOptions(that._options.text.font)).append(root);\n      bBox = text.getBBox();\n      root.remove();\n      that._textVerticalOffset = -bBox.y - bBox.height / 2;\n      that._textWidth = bBox.width;\n      that._textHeight = bBox.height;\n    }\n  },\n  _move: function _move() {\n    var that = this;\n\n    that._updateBarItemsPositions();\n\n    if (that._hasText) {\n      that._text.attr({\n        text: _formatValue(that._actualValue, that._options.text)\n      });\n\n      that._updateTextPosition();\n\n      that._updateLinePosition();\n    }\n  },\n  _updateBarItems: function _updateBarItems() {\n    var that = this;\n    var options = that._options;\n    var backgroundColor;\n    var spaceColor;\n    var translator = that._translator;\n\n    that._setBarSides();\n\n    that._startPosition = translator.translate(translator.getDomainStart());\n    that._endPosition = translator.translate(translator.getDomainEnd());\n    that._basePosition = translator.translate(options.baseValue);\n    that._space = that._getSpace();\n    backgroundColor = options.backgroundColor || \"none\";\n\n    if (\"none\" !== backgroundColor && that._space > 0) {\n      spaceColor = options.containerBackgroundColor || \"none\";\n    } else {\n      that._space = 0;\n      spaceColor = \"none\";\n    }\n\n    that._backItem1.attr({\n      fill: backgroundColor\n    });\n\n    that._backItem2.attr({\n      fill: backgroundColor\n    });\n\n    that._spaceItem1.attr({\n      fill: spaceColor\n    });\n\n    that._spaceItem2.attr({\n      fill: spaceColor\n    });\n  },\n  _getSpace: function _getSpace() {\n    return 0;\n  },\n  _updateTextItems: function _updateTextItems() {\n    var that = this;\n\n    if (that._hasText) {\n      that._line = that._line || that._renderer.path([], \"line\").attr({\n        \"class\": \"dxg-main-bar\",\n        \"stroke-linecap\": \"square\"\n      }).append(that._rootElement);\n      that._text = that._text || that._renderer.text(\"\", 0, 0).attr({\n        \"class\": \"dxg-text\"\n      }).append(that._rootElement);\n\n      that._text.attr({\n        align: that._getTextAlign()\n      }).css(that._getFontOptions());\n\n      that._setTextItemsSides();\n    } else {\n      if (that._line) {\n        that._line.remove();\n\n        delete that._line;\n      }\n\n      if (that._text) {\n        that._text.remove();\n\n        delete that._text;\n      }\n    }\n  },\n  _isTextVisible: function _isTextVisible() {\n    return false;\n  },\n  _getTextAlign: function _getTextAlign() {\n    return \"center\";\n  },\n  _getFontOptions: function _getFontOptions() {\n    var options = this._options;\n    var font = options.text.font;\n\n    if (!font || !font.color) {\n      font = extend({}, font, {\n        color: options.color\n      });\n    }\n\n    return _patchFontOptions(font);\n  },\n  _updateBarItemsPositions: function _updateBarItemsPositions() {\n    var that = this;\n\n    var positions = that._getPositions();\n\n    that._backItem1.attr(that._buildItemSettings(positions.start, positions.back1));\n\n    that._backItem2.attr(that._buildItemSettings(positions.back2, positions.end));\n\n    that._spaceItem1.attr(that._buildItemSettings(positions.back1, positions.main1));\n\n    that._spaceItem2.attr(that._buildItemSettings(positions.main2, positions.back2));\n\n    that._mainItem.attr(that._buildItemSettings(positions.main1, positions.main2));\n\n    that._trackerElement && that._trackerElement.attr(that._buildItemSettings(positions.main1, positions.main2));\n  },\n  _render: function _render() {\n    var that = this;\n\n    that._measureText();\n\n    if (!that._backItem1) {\n      that._backItem1 = that._createBarItem();\n\n      that._backItem1.attr({\n        \"class\": \"dxg-back-bar\"\n      });\n    }\n\n    if (!that._backItem2) {\n      that._backItem2 = that._createBarItem();\n\n      that._backItem2.attr({\n        \"class\": \"dxg-back-bar\"\n      });\n    }\n\n    if (!that._spaceItem1) {\n      that._spaceItem1 = that._createBarItem();\n\n      that._spaceItem1.attr({\n        \"class\": \"dxg-space-bar\"\n      });\n    }\n\n    if (!that._spaceItem2) {\n      that._spaceItem2 = that._createBarItem();\n\n      that._spaceItem2.attr({\n        \"class\": \"dxg-space-bar\"\n      });\n    }\n\n    if (!that._mainItem) {\n      that._mainItem = that._createBarItem();\n\n      that._mainItem.attr({\n        \"class\": \"dxg-main-bar\"\n      });\n    }\n\n    that._updateBarItems();\n\n    that._updateTextItems();\n  },\n  _clear: function _clear() {\n    var that = this;\n    delete that._backItem1;\n    delete that._backItem2;\n    delete that._spaceItem1;\n    delete that._spaceItem2;\n    delete that._mainItem;\n    delete that._hasText;\n    delete that._line;\n    delete that._text;\n  },\n  getTooltipParameters: function getTooltipParameters() {\n    var position = this._getTooltipPosition();\n\n    return {\n      x: position.x,\n      y: position.y,\n      value: this._currentValue,\n      color: this._options.color,\n      offset: 0\n    };\n  }\n});\nexports.BaseElement = BaseElement;\nexports.BaseIndicator = BaseIndicator;\nexports.BaseTextCloudMarker = BaseTextCloudMarker;\nexports.BaseRangeBar = BaseRangeBar;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/gauges/base_indicators.js"],"names":["noop","require","each","_isFinite","_Number","_round","Math","baseGaugeModule","_formatValue","_getSampleText","_patchFontOptions","extend","Class","BaseElement","ctor","that","dispose","getOffset","BaseIndicator","_init","name","after","_dispose","_setupAnimation","step","duration","easing","_runAnimation","animation","value","_","_createRoot","_className","_createTracker","_getTrackerSettings","clean","render","options","fill","color","resize","rootElement","visibility","val","_isEnabled","_isVisible","_render","_clear","_move","COEFFICIENTS_MAP","x","y","type","cloudWidth","cloudHeight","cx","cy","tailWidth","tailHeight","points","BaseTextCloudMarker","textCloudOptions","text","bBox","info","getTextCloudInfo","textWidth","textHeight","horMargin","verMargin","tailLength","_textVerticalOffset","_measureText","root","sampleText","align","getTooltipParameters","position","BaseRangeBar","_updateBarItems","translator","backgroundColor","spaceColor","_getSpace","_updateTextItems","_isTextVisible","_getTextAlign","_getFontOptions","font","_updateBarItemsPositions","positions","offset","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/gauges/base_indicators.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar _isFinite = isFinite;\r\nvar _Number = Number;\r\nvar _round = Math.round;\r\nvar baseGaugeModule = require(\"./base_gauge\");\r\nvar _formatValue = baseGaugeModule.formatValue;\r\nvar _getSampleText = baseGaugeModule.getSampleText;\r\nvar _patchFontOptions = require(\"../core/utils\").patchFontOptions;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar Class = require(\"../../core/class\");\r\nvar BaseElement = Class.inherit({\r\n    ctor: function(parameters) {\r\n        var that = this;\r\n        each(parameters, function(name, value) {\r\n            that[\"_\" + name] = value\r\n        });\r\n        that._init()\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        that._dispose();\r\n        each(that, function(name) {\r\n            that[name] = null\r\n        });\r\n        return that\r\n    },\r\n    getOffset: function() {\r\n        return _Number(this._options.offset) || 0\r\n    }\r\n});\r\nvar BaseIndicator = BaseElement.inherit({\r\n    _init: function() {\r\n        var that = this;\r\n        that._rootElement = that._createRoot().linkOn(that._owner, {\r\n            name: \"value-indicator\",\r\n            after: \"core\"\r\n        });\r\n        that._trackerElement = that._createTracker()\r\n    },\r\n    _dispose: function() {\r\n        this._rootElement.linkOff()\r\n    },\r\n    _setupAnimation: function() {\r\n        var that = this;\r\n        if (that._options.animation) {\r\n            that._animation = {\r\n                step: function(pos) {\r\n                    that._actualValue = that._animation.start + that._animation.delta * pos;\r\n                    that._actualPosition = that._translator.translate(that._actualValue);\r\n                    that._move()\r\n                },\r\n                duration: that._options.animation.duration > 0 ? _Number(that._options.animation.duration) : 0,\r\n                easing: that._options.animation.easing\r\n            }\r\n        }\r\n    },\r\n    _runAnimation: function(value) {\r\n        var that = this;\r\n        var animation = that._animation;\r\n        animation.start = that._actualValue;\r\n        animation.delta = value - that._actualValue;\r\n        that._rootElement.animate({\r\n            _: 0\r\n        }, {\r\n            step: animation.step,\r\n            duration: animation.duration,\r\n            easing: animation.easing\r\n        })\r\n    },\r\n    _createRoot: function() {\r\n        return this._renderer.g().attr({\r\n            \"class\": this._className\r\n        })\r\n    },\r\n    _createTracker: function() {\r\n        return this._renderer.path([], \"area\")\r\n    },\r\n    _getTrackerSettings: noop,\r\n    clean: function() {\r\n        var that = this;\r\n        that._animation && that._rootElement.stopAnimation();\r\n        that._rootElement.linkRemove().clear();\r\n        that._clear();\r\n        that._tracker.detach(that._trackerElement);\r\n        that._options = that.enabled = that._animation = null;\r\n        return that\r\n    },\r\n    render: function(options) {\r\n        var that = this;\r\n        that.type = options.type;\r\n        that._options = options;\r\n        that._actualValue = that._currentValue = that._translator.adjust(that._options.currentValue);\r\n        that.enabled = that._isEnabled();\r\n        if (that.enabled) {\r\n            that._setupAnimation();\r\n            that._rootElement.attr({\r\n                fill: that._options.color\r\n            }).linkAppend();\r\n            that._tracker.attach(that._trackerElement, that, that._trackerInfo)\r\n        }\r\n        return that\r\n    },\r\n    resize: function(layout) {\r\n        var that = this;\r\n        that._rootElement.clear();\r\n        that._clear();\r\n        that.visible = that._isVisible(layout);\r\n        if (that.visible) {\r\n            extend(that._options, layout);\r\n            that._actualPosition = that._translator.translate(that._actualValue);\r\n            that._render();\r\n            that._trackerElement.attr(that._getTrackerSettings());\r\n            that._move()\r\n        }\r\n        return that\r\n    },\r\n    value: function(arg, _noAnimation) {\r\n        var that = this;\r\n        var val;\r\n        var rootElement = this._rootElement;\r\n        var visibility = null;\r\n        if (void 0 === arg) {\r\n            return that._currentValue\r\n        }\r\n        if (null === arg) {\r\n            visibility = \"hidden\";\r\n            that._currentValue = arg\r\n        } else {\r\n            val = that._translator.adjust(arg);\r\n            if (that._currentValue !== val && _isFinite(val)) {\r\n                that._currentValue = val;\r\n                if (that.visible) {\r\n                    if (that._animation && !_noAnimation) {\r\n                        that._runAnimation(val)\r\n                    } else {\r\n                        that._actualValue = val;\r\n                        that._actualPosition = that._translator.translate(val);\r\n                        that._move()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        rootElement.attr({\r\n            visibility: visibility\r\n        });\r\n        return that\r\n    },\r\n    _isEnabled: null,\r\n    _isVisible: null,\r\n    _render: null,\r\n    _clear: null,\r\n    _move: null\r\n});\r\nvar COEFFICIENTS_MAP = {};\r\nCOEFFICIENTS_MAP[\"right-bottom\"] = COEFFICIENTS_MAP.rb = [0, -1, -1, 0, 0, 1, 1, 0];\r\nCOEFFICIENTS_MAP[\"bottom-right\"] = COEFFICIENTS_MAP.br = [-1, 0, 0, -1, 1, 0, 0, 1];\r\nCOEFFICIENTS_MAP[\"left-bottom\"] = COEFFICIENTS_MAP.lb = [0, -1, 1, 0, 0, 1, -1, 0];\r\nCOEFFICIENTS_MAP[\"bottom-left\"] = COEFFICIENTS_MAP.bl = [1, 0, 0, -1, -1, 0, 0, 1];\r\nCOEFFICIENTS_MAP[\"left-top\"] = COEFFICIENTS_MAP.lt = [0, 1, 1, 0, 0, -1, -1, 0];\r\nCOEFFICIENTS_MAP[\"top-left\"] = COEFFICIENTS_MAP.tl = [1, 0, 0, 1, -1, 0, 0, -1];\r\nCOEFFICIENTS_MAP[\"right-top\"] = COEFFICIENTS_MAP.rt = [0, 1, -1, 0, 0, -1, 1, 0];\r\nCOEFFICIENTS_MAP[\"top-right\"] = COEFFICIENTS_MAP.tr = [-1, 0, 0, 1, 1, 0, 0, -1];\r\n\r\nfunction getTextCloudInfo(options) {\r\n    var x = options.x;\r\n    var y = options.y;\r\n    var type = COEFFICIENTS_MAP[options.type];\r\n    var cloudWidth = options.textWidth + 2 * options.horMargin;\r\n    var cloudHeight = options.textHeight + 2 * options.verMargin;\r\n    var tailWidth;\r\n    var tailHeight;\r\n    var cx = x;\r\n    var cy = y;\r\n    tailWidth = tailHeight = options.tailLength;\r\n    if (1 & type[0]) {\r\n        tailHeight = Math.min(tailHeight, cloudHeight / 3)\r\n    } else {\r\n        tailWidth = Math.min(tailWidth, cloudWidth / 3)\r\n    }\r\n    return {\r\n        cx: _round(cx + type[0] * tailWidth + (type[0] + type[2]) * cloudWidth / 2),\r\n        cy: _round(cy + type[1] * tailHeight + (type[1] + type[3]) * cloudHeight / 2),\r\n        points: [_round(x), _round(y), _round(x += type[0] * (cloudWidth + tailWidth)), _round(y += type[1] * (cloudHeight + tailHeight)), _round(x += type[2] * cloudWidth), _round(y += type[3] * cloudHeight), _round(x += type[4] * cloudWidth), _round(y += type[5] * cloudHeight), _round(x += type[6] * (cloudWidth - tailWidth)), _round(y += type[7] * (cloudHeight - tailHeight))]\r\n    }\r\n}\r\nvar BaseTextCloudMarker = BaseIndicator.inherit({\r\n    _move: function() {\r\n        var that = this;\r\n        var bBox;\r\n        var info;\r\n        var textCloudOptions = that._getTextCloudOptions();\r\n        var text = _formatValue(that._actualValue, that._options.text);\r\n        that._text.attr({\r\n            text: text\r\n        });\r\n        bBox = that._text.getBBox();\r\n        info = getTextCloudInfo({\r\n            x: textCloudOptions.x,\r\n            y: textCloudOptions.y,\r\n            textWidth: bBox.width || text.length * that._textUnitWidth,\r\n            textHeight: bBox.height || that._textHeight,\r\n            horMargin: that._options.horizontalOffset,\r\n            verMargin: that._options.verticalOffset,\r\n            tailLength: that._options.arrowLength,\r\n            type: textCloudOptions.type\r\n        });\r\n        that._text.attr({\r\n            x: info.cx,\r\n            y: info.cy + that._textVerticalOffset\r\n        });\r\n        that._cloud.attr({\r\n            points: info.points\r\n        });\r\n        that._trackerElement && that._trackerElement.attr({\r\n            points: info.points\r\n        })\r\n    },\r\n    _measureText: function() {\r\n        var that = this;\r\n        var root;\r\n        var text;\r\n        var bBox;\r\n        var sampleText;\r\n        if (!that._textVerticalOffset) {\r\n            root = that._createRoot().append(that._owner);\r\n            sampleText = _getSampleText(that._translator, that._options.text);\r\n            text = that._renderer.text(sampleText, 0, 0).attr({\r\n                align: \"center\"\r\n            }).css(_patchFontOptions(that._options.text.font)).append(root);\r\n            bBox = text.getBBox();\r\n            root.remove();\r\n            that._textVerticalOffset = -bBox.y - bBox.height / 2;\r\n            that._textWidth = bBox.width;\r\n            that._textHeight = bBox.height;\r\n            that._textUnitWidth = that._textWidth / sampleText.length;\r\n            that._textFullWidth = that._textWidth + 2 * that._options.horizontalOffset;\r\n            that._textFullHeight = that._textHeight + 2 * that._options.verticalOffset\r\n        }\r\n    },\r\n    _render: function() {\r\n        var that = this;\r\n        that._measureText();\r\n        that._cloud = that._cloud || that._renderer.path([], \"area\").append(that._rootElement);\r\n        that._text = that._text || that._renderer.text().append(that._rootElement);\r\n        that._text.attr({\r\n            align: \"center\"\r\n        }).css(_patchFontOptions(that._options.text.font))\r\n    },\r\n    _clear: function() {\r\n        delete this._cloud;\r\n        delete this._text\r\n    },\r\n    getTooltipParameters: function() {\r\n        var position = this._getTextCloudOptions();\r\n        return {\r\n            x: position.x,\r\n            y: position.y,\r\n            value: this._currentValue,\r\n            color: this._options.color\r\n        }\r\n    }\r\n});\r\nvar BaseRangeBar = BaseIndicator.inherit({\r\n    _measureText: function() {\r\n        var that = this;\r\n        var root;\r\n        var text;\r\n        var bBox;\r\n        that._hasText = that._isTextVisible();\r\n        if (that._hasText && !that._textVerticalOffset) {\r\n            root = that._createRoot().append(that._owner);\r\n            text = that._renderer.text(_getSampleText(that._translator, that._options.text), 0, 0).attr({\r\n                \"class\": \"dxg-text\",\r\n                align: \"center\"\r\n            }).css(_patchFontOptions(that._options.text.font)).append(root);\r\n            bBox = text.getBBox();\r\n            root.remove();\r\n            that._textVerticalOffset = -bBox.y - bBox.height / 2;\r\n            that._textWidth = bBox.width;\r\n            that._textHeight = bBox.height\r\n        }\r\n    },\r\n    _move: function() {\r\n        var that = this;\r\n        that._updateBarItemsPositions();\r\n        if (that._hasText) {\r\n            that._text.attr({\r\n                text: _formatValue(that._actualValue, that._options.text)\r\n            });\r\n            that._updateTextPosition();\r\n            that._updateLinePosition()\r\n        }\r\n    },\r\n    _updateBarItems: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var backgroundColor;\r\n        var spaceColor;\r\n        var translator = that._translator;\r\n        that._setBarSides();\r\n        that._startPosition = translator.translate(translator.getDomainStart());\r\n        that._endPosition = translator.translate(translator.getDomainEnd());\r\n        that._basePosition = translator.translate(options.baseValue);\r\n        that._space = that._getSpace();\r\n        backgroundColor = options.backgroundColor || \"none\";\r\n        if (\"none\" !== backgroundColor && that._space > 0) {\r\n            spaceColor = options.containerBackgroundColor || \"none\"\r\n        } else {\r\n            that._space = 0;\r\n            spaceColor = \"none\"\r\n        }\r\n        that._backItem1.attr({\r\n            fill: backgroundColor\r\n        });\r\n        that._backItem2.attr({\r\n            fill: backgroundColor\r\n        });\r\n        that._spaceItem1.attr({\r\n            fill: spaceColor\r\n        });\r\n        that._spaceItem2.attr({\r\n            fill: spaceColor\r\n        })\r\n    },\r\n    _getSpace: function() {\r\n        return 0\r\n    },\r\n    _updateTextItems: function() {\r\n        var that = this;\r\n        if (that._hasText) {\r\n            that._line = that._line || that._renderer.path([], \"line\").attr({\r\n                \"class\": \"dxg-main-bar\",\r\n                \"stroke-linecap\": \"square\"\r\n            }).append(that._rootElement);\r\n            that._text = that._text || that._renderer.text(\"\", 0, 0).attr({\r\n                \"class\": \"dxg-text\"\r\n            }).append(that._rootElement);\r\n            that._text.attr({\r\n                align: that._getTextAlign()\r\n            }).css(that._getFontOptions());\r\n            that._setTextItemsSides()\r\n        } else {\r\n            if (that._line) {\r\n                that._line.remove();\r\n                delete that._line\r\n            }\r\n            if (that._text) {\r\n                that._text.remove();\r\n                delete that._text\r\n            }\r\n        }\r\n    },\r\n    _isTextVisible: function() {\r\n        return false\r\n    },\r\n    _getTextAlign: function() {\r\n        return \"center\"\r\n    },\r\n    _getFontOptions: function() {\r\n        var options = this._options;\r\n        var font = options.text.font;\r\n        if (!font || !font.color) {\r\n            font = extend({}, font, {\r\n                color: options.color\r\n            })\r\n        }\r\n        return _patchFontOptions(font)\r\n    },\r\n    _updateBarItemsPositions: function() {\r\n        var that = this;\r\n        var positions = that._getPositions();\r\n        that._backItem1.attr(that._buildItemSettings(positions.start, positions.back1));\r\n        that._backItem2.attr(that._buildItemSettings(positions.back2, positions.end));\r\n        that._spaceItem1.attr(that._buildItemSettings(positions.back1, positions.main1));\r\n        that._spaceItem2.attr(that._buildItemSettings(positions.main2, positions.back2));\r\n        that._mainItem.attr(that._buildItemSettings(positions.main1, positions.main2));\r\n        that._trackerElement && that._trackerElement.attr(that._buildItemSettings(positions.main1, positions.main2))\r\n    },\r\n    _render: function() {\r\n        var that = this;\r\n        that._measureText();\r\n        if (!that._backItem1) {\r\n            that._backItem1 = that._createBarItem();\r\n            that._backItem1.attr({\r\n                \"class\": \"dxg-back-bar\"\r\n            })\r\n        }\r\n        if (!that._backItem2) {\r\n            that._backItem2 = that._createBarItem();\r\n            that._backItem2.attr({\r\n                \"class\": \"dxg-back-bar\"\r\n            })\r\n        }\r\n        if (!that._spaceItem1) {\r\n            that._spaceItem1 = that._createBarItem();\r\n            that._spaceItem1.attr({\r\n                \"class\": \"dxg-space-bar\"\r\n            })\r\n        }\r\n        if (!that._spaceItem2) {\r\n            that._spaceItem2 = that._createBarItem();\r\n            that._spaceItem2.attr({\r\n                \"class\": \"dxg-space-bar\"\r\n            })\r\n        }\r\n        if (!that._mainItem) {\r\n            that._mainItem = that._createBarItem();\r\n            that._mainItem.attr({\r\n                \"class\": \"dxg-main-bar\"\r\n            })\r\n        }\r\n        that._updateBarItems();\r\n        that._updateTextItems()\r\n    },\r\n    _clear: function() {\r\n        var that = this;\r\n        delete that._backItem1;\r\n        delete that._backItem2;\r\n        delete that._spaceItem1;\r\n        delete that._spaceItem2;\r\n        delete that._mainItem;\r\n        delete that._hasText;\r\n        delete that._line;\r\n        delete that._text\r\n    },\r\n    getTooltipParameters: function() {\r\n        var position = this._getTooltipPosition();\r\n        return {\r\n            x: position.x,\r\n            y: position.y,\r\n            value: this._currentValue,\r\n            color: this._options.color,\r\n            offset: 0\r\n        }\r\n    }\r\n});\r\nexports.BaseElement = BaseElement;\r\nexports.BaseIndicator = BaseIndicator;\r\nexports.BaseTextCloudMarker = BaseTextCloudMarker;\r\nexports.BaseRangeBar = BaseRangeBar;\r\n"]},"metadata":{},"sourceType":"module"}