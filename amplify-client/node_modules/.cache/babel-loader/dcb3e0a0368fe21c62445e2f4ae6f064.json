{"ast":null,"code":"/**\r\n * DevExtreme (ui/scroll_view/ui.scrollbar.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _dom_adapter = require(\"../../core/dom_adapter\");\n\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _ready_callbacks = require(\"../../core/utils/ready_callbacks\");\n\nvar _ready_callbacks2 = _interopRequireDefault(_ready_callbacks);\n\nvar _translator = require(\"../../animation/translator\");\n\nvar _translator2 = _interopRequireDefault(_translator);\n\nvar _ui = require(\"../widget/ui.widget\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _utils = require(\"../../events/utils\");\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _common2 = _interopRequireDefault(_common);\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _pointer = require(\"../../events/pointer\");\n\nvar _pointer2 = _interopRequireDefault(_pointer);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar SCROLLBAR = \"dxScrollbar\";\nvar SCROLLABLE_SCROLLBAR_CLASS = \"dx-scrollable-scrollbar\";\nvar SCROLLABLE_SCROLLBAR_ACTIVE_CLASS = \"\".concat(SCROLLABLE_SCROLLBAR_CLASS, \"-active\");\nvar SCROLLABLE_SCROLL_CLASS = \"dx-scrollable-scroll\";\nvar SCROLLABLE_SCROLL_CONTENT_CLASS = \"dx-scrollable-scroll-content\";\nvar HOVER_ENABLED_STATE = \"dx-scrollbar-hoverable\";\nvar HORIZONTAL = \"horizontal\";\nvar THUMB_MIN_SIZE = 15;\nvar SCROLLBAR_VISIBLE = {\n  onScroll: \"onScroll\",\n  onHover: \"onHover\",\n  always: \"always\",\n  never: \"never\"\n};\n\nvar Scrollbar = _ui2.default.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      direction: null,\n      visible: false,\n      activeStateEnabled: false,\n      visibilityMode: SCROLLBAR_VISIBLE.onScroll,\n      containerSize: 0,\n      contentSize: 0,\n      expandable: true,\n      scaleRatio: 1\n    });\n  },\n  _init: function _init() {\n    this.callBase();\n    this._isHovered = false;\n  },\n  _initMarkup: function _initMarkup() {\n    this._renderThumb();\n\n    this.callBase();\n  },\n  _render: function _render() {\n    this.callBase();\n\n    this._renderDirection();\n\n    this._update();\n\n    this._attachPointerDownHandler();\n\n    this.option(\"hoverStateEnabled\", this._isHoverMode());\n    this.$element().toggleClass(HOVER_ENABLED_STATE, this.option(\"hoverStateEnabled\"));\n  },\n  _renderThumb: function _renderThumb() {\n    this._$thumb = (0, _renderer2.default)(\"<div>\").addClass(SCROLLABLE_SCROLL_CLASS);\n    (0, _renderer2.default)(\"<div>\").addClass(SCROLLABLE_SCROLL_CONTENT_CLASS).appendTo(this._$thumb);\n    this.$element().addClass(SCROLLABLE_SCROLLBAR_CLASS).append(this._$thumb);\n  },\n  isThumb: function isThumb($element) {\n    return !!this.$element().find($element).length;\n  },\n  _isHoverMode: function _isHoverMode() {\n    var visibilityMode = this.option(\"visibilityMode\");\n    return (visibilityMode === SCROLLBAR_VISIBLE.onHover || visibilityMode === SCROLLBAR_VISIBLE.always) && this.option(\"expandable\");\n  },\n  _renderDirection: function _renderDirection() {\n    var direction = this.option(\"direction\");\n    this.$element().addClass(\"dx-scrollbar-\" + direction);\n    this._dimension = direction === HORIZONTAL ? \"width\" : \"height\";\n    this._prop = direction === HORIZONTAL ? \"left\" : \"top\";\n  },\n  _attachPointerDownHandler: function _attachPointerDownHandler() {\n    _events_engine2.default.on(this._$thumb, _utils2.default.addNamespace(_pointer2.default.down, SCROLLBAR), this.feedbackOn.bind(this));\n  },\n  feedbackOn: function feedbackOn() {\n    this.$element().addClass(SCROLLABLE_SCROLLBAR_ACTIVE_CLASS);\n    activeScrollbar = this;\n  },\n  feedbackOff: function feedbackOff() {\n    this.$element().removeClass(SCROLLABLE_SCROLLBAR_ACTIVE_CLASS);\n    activeScrollbar = null;\n  },\n  cursorEnter: function cursorEnter() {\n    this._isHovered = true;\n\n    if (this._needScrollbar()) {\n      this.option(\"visible\", true);\n    }\n  },\n  cursorLeave: function cursorLeave() {\n    this._isHovered = false;\n    this.option(\"visible\", false);\n  },\n  _renderDimensions: function _renderDimensions() {\n    this._$thumb.css({\n      width: this.option(\"width\"),\n      height: this.option(\"height\")\n    });\n  },\n  _toggleVisibility: function _toggleVisibility(visible) {\n    if (this.option(\"visibilityMode\") === SCROLLBAR_VISIBLE.onScroll) {\n      this._$thumb.css(\"opacity\");\n    }\n\n    visible = this._adjustVisibility(visible);\n    this.option().visible = visible;\n\n    this._$thumb.toggleClass(\"dx-state-invisible\", !visible);\n  },\n  _adjustVisibility: function _adjustVisibility(visible) {\n    if (this._baseContainerToContentRatio && !this._needScrollbar()) {\n      return false;\n    }\n\n    switch (this.option(\"visibilityMode\")) {\n      case SCROLLBAR_VISIBLE.onScroll:\n        break;\n\n      case SCROLLBAR_VISIBLE.onHover:\n        visible = visible || !!this._isHovered;\n        break;\n\n      case SCROLLBAR_VISIBLE.never:\n        visible = false;\n        break;\n\n      case SCROLLBAR_VISIBLE.always:\n        visible = true;\n    }\n\n    return visible;\n  },\n  moveTo: function moveTo(location) {\n    if (this._isHidden()) {\n      return;\n    }\n\n    if ((0, _type.isPlainObject)(location)) {\n      location = location[this._prop] || 0;\n    }\n\n    var scrollBarLocation = {};\n    scrollBarLocation[this._prop] = this._calculateScrollBarPosition(location);\n\n    _translator2.default.move(this._$thumb, scrollBarLocation);\n  },\n  _calculateScrollBarPosition: function _calculateScrollBarPosition(location) {\n    return -location * this._thumbRatio;\n  },\n  _update: function _update() {\n    var containerSize = Math.round(this.option(\"containerSize\"));\n    var contentSize = Math.round(this.option(\"contentSize\"));\n    var baseContainerSize = Math.round(this.option(\"baseContainerSize\"));\n    var baseContentSize = Math.round(this.option(\"baseContentSize\"));\n\n    if (isNaN(baseContainerSize)) {\n      baseContainerSize = containerSize;\n      baseContentSize = contentSize;\n    }\n\n    this._baseContainerToContentRatio = baseContentSize ? baseContainerSize / baseContentSize : baseContainerSize;\n    this._realContainerToContentRatio = contentSize ? containerSize / contentSize : containerSize;\n    var thumbSize = Math.round(Math.max(Math.round(containerSize * this._realContainerToContentRatio), THUMB_MIN_SIZE));\n    this._thumbRatio = (containerSize - thumbSize) / (this.option(\"scaleRatio\") * (contentSize - containerSize));\n    this.option(this._dimension, thumbSize / this.option(\"scaleRatio\"));\n    this.$element().css(\"display\", this._needScrollbar() ? \"\" : \"none\");\n  },\n  _isHidden: function _isHidden() {\n    return this.option(\"visibilityMode\") === SCROLLBAR_VISIBLE.never;\n  },\n  _needScrollbar: function _needScrollbar() {\n    return !this._isHidden() && this._baseContainerToContentRatio < 1;\n  },\n  containerToContentRatio: function containerToContentRatio() {\n    return this._realContainerToContentRatio;\n  },\n  _normalizeSize: function _normalizeSize(size) {\n    return (0, _type.isPlainObject)(size) ? size[this._dimension] || 0 : size;\n  },\n  _clean: function _clean() {\n    this.callBase();\n\n    if (this === activeScrollbar) {\n      activeScrollbar = null;\n    }\n\n    _events_engine2.default.off(this._$thumb, \".\" + SCROLLBAR);\n  },\n  _optionChanged: function _optionChanged(args) {\n    if (this._isHidden()) {\n      return;\n    }\n\n    switch (args.name) {\n      case \"containerSize\":\n      case \"contentSize\":\n        this.option()[args.name] = this._normalizeSize(args.value);\n\n        this._update();\n\n        break;\n\n      case \"baseContentSize\":\n      case \"baseContainerSize\":\n        this._update();\n\n        break;\n\n      case \"visibilityMode\":\n      case \"direction\":\n        this._invalidate();\n\n        break;\n\n      case \"scaleRatio\":\n        this._update();\n\n        break;\n\n      default:\n        this.callBase.apply(this, arguments);\n    }\n  },\n  update: _common2.default.deferRenderer(function () {\n    this._adjustVisibility() && this.option(\"visible\", true);\n  })\n});\n\nvar activeScrollbar = null;\n\n_ready_callbacks2.default.add(function () {\n  _events_engine2.default.subscribeGlobal(_dom_adapter2.default.getDocument(), _utils2.default.addNamespace(_pointer2.default.up, SCROLLBAR), function () {\n    if (activeScrollbar) {\n      activeScrollbar.feedbackOff();\n    }\n  });\n});\n\nmodule.exports = Scrollbar;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/scroll_view/ui.scrollbar.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_dom_adapter","_dom_adapter2","_events_engine","_events_engine2","_ready_callbacks","_ready_callbacks2","_translator","_translator2","_ui","_ui2","_utils","_utils2","_common","_common2","_type","_extend","_pointer","_pointer2","obj","SCROLLBAR","SCROLLABLE_SCROLLBAR_CLASS","SCROLLABLE_SCROLLBAR_ACTIVE_CLASS","SCROLLABLE_SCROLL_CLASS","SCROLLABLE_SCROLL_CONTENT_CLASS","HOVER_ENABLED_STATE","HORIZONTAL","THUMB_MIN_SIZE","SCROLLBAR_VISIBLE","onScroll","onHover","always","never","Scrollbar","_getDefaultOptions","direction","visible","activeStateEnabled","visibilityMode","containerSize","contentSize","expandable","scaleRatio","_init","_initMarkup","_render","_renderThumb","isThumb","_isHoverMode","_renderDirection","_attachPointerDownHandler","feedbackOn","activeScrollbar","feedbackOff","cursorEnter","cursorLeave","_renderDimensions","width","height","_toggleVisibility","_adjustVisibility","moveTo","location","scrollBarLocation","_calculateScrollBarPosition","_update","Math","baseContainerSize","baseContentSize","isNaN","thumbSize","_isHidden","_needScrollbar","containerToContentRatio","_normalizeSize","size","_clean","_optionChanged","args","update","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scroll_view/ui.scrollbar.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _dom_adapter = require(\"../../core/dom_adapter\");\r\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _ready_callbacks = require(\"../../core/utils/ready_callbacks\");\r\nvar _ready_callbacks2 = _interopRequireDefault(_ready_callbacks);\r\nvar _translator = require(\"../../animation/translator\");\r\nvar _translator2 = _interopRequireDefault(_translator);\r\nvar _ui = require(\"../widget/ui.widget\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _utils = require(\"../../events/utils\");\r\nvar _utils2 = _interopRequireDefault(_utils);\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _common2 = _interopRequireDefault(_common);\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _pointer = require(\"../../events/pointer\");\r\nvar _pointer2 = _interopRequireDefault(_pointer);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar SCROLLBAR = \"dxScrollbar\";\r\nvar SCROLLABLE_SCROLLBAR_CLASS = \"dx-scrollable-scrollbar\";\r\nvar SCROLLABLE_SCROLLBAR_ACTIVE_CLASS = \"\".concat(SCROLLABLE_SCROLLBAR_CLASS, \"-active\");\r\nvar SCROLLABLE_SCROLL_CLASS = \"dx-scrollable-scroll\";\r\nvar SCROLLABLE_SCROLL_CONTENT_CLASS = \"dx-scrollable-scroll-content\";\r\nvar HOVER_ENABLED_STATE = \"dx-scrollbar-hoverable\";\r\nvar HORIZONTAL = \"horizontal\";\r\nvar THUMB_MIN_SIZE = 15;\r\nvar SCROLLBAR_VISIBLE = {\r\n    onScroll: \"onScroll\",\r\n    onHover: \"onHover\",\r\n    always: \"always\",\r\n    never: \"never\"\r\n};\r\nvar Scrollbar = _ui2.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            direction: null,\r\n            visible: false,\r\n            activeStateEnabled: false,\r\n            visibilityMode: SCROLLBAR_VISIBLE.onScroll,\r\n            containerSize: 0,\r\n            contentSize: 0,\r\n            expandable: true,\r\n            scaleRatio: 1\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._isHovered = false\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderThumb();\r\n        this.callBase()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._renderDirection();\r\n        this._update();\r\n        this._attachPointerDownHandler();\r\n        this.option(\"hoverStateEnabled\", this._isHoverMode());\r\n        this.$element().toggleClass(HOVER_ENABLED_STATE, this.option(\"hoverStateEnabled\"))\r\n    },\r\n    _renderThumb: function() {\r\n        this._$thumb = (0, _renderer2.default)(\"<div>\").addClass(SCROLLABLE_SCROLL_CLASS);\r\n        (0, _renderer2.default)(\"<div>\").addClass(SCROLLABLE_SCROLL_CONTENT_CLASS).appendTo(this._$thumb);\r\n        this.$element().addClass(SCROLLABLE_SCROLLBAR_CLASS).append(this._$thumb)\r\n    },\r\n    isThumb: function($element) {\r\n        return !!this.$element().find($element).length\r\n    },\r\n    _isHoverMode: function() {\r\n        var visibilityMode = this.option(\"visibilityMode\");\r\n        return (visibilityMode === SCROLLBAR_VISIBLE.onHover || visibilityMode === SCROLLBAR_VISIBLE.always) && this.option(\"expandable\")\r\n    },\r\n    _renderDirection: function() {\r\n        var direction = this.option(\"direction\");\r\n        this.$element().addClass(\"dx-scrollbar-\" + direction);\r\n        this._dimension = direction === HORIZONTAL ? \"width\" : \"height\";\r\n        this._prop = direction === HORIZONTAL ? \"left\" : \"top\"\r\n    },\r\n    _attachPointerDownHandler: function() {\r\n        _events_engine2.default.on(this._$thumb, _utils2.default.addNamespace(_pointer2.default.down, SCROLLBAR), this.feedbackOn.bind(this))\r\n    },\r\n    feedbackOn: function() {\r\n        this.$element().addClass(SCROLLABLE_SCROLLBAR_ACTIVE_CLASS);\r\n        activeScrollbar = this\r\n    },\r\n    feedbackOff: function() {\r\n        this.$element().removeClass(SCROLLABLE_SCROLLBAR_ACTIVE_CLASS);\r\n        activeScrollbar = null\r\n    },\r\n    cursorEnter: function() {\r\n        this._isHovered = true;\r\n        if (this._needScrollbar()) {\r\n            this.option(\"visible\", true)\r\n        }\r\n    },\r\n    cursorLeave: function() {\r\n        this._isHovered = false;\r\n        this.option(\"visible\", false)\r\n    },\r\n    _renderDimensions: function() {\r\n        this._$thumb.css({\r\n            width: this.option(\"width\"),\r\n            height: this.option(\"height\")\r\n        })\r\n    },\r\n    _toggleVisibility: function(visible) {\r\n        if (this.option(\"visibilityMode\") === SCROLLBAR_VISIBLE.onScroll) {\r\n            this._$thumb.css(\"opacity\")\r\n        }\r\n        visible = this._adjustVisibility(visible);\r\n        this.option().visible = visible;\r\n        this._$thumb.toggleClass(\"dx-state-invisible\", !visible)\r\n    },\r\n    _adjustVisibility: function(visible) {\r\n        if (this._baseContainerToContentRatio && !this._needScrollbar()) {\r\n            return false\r\n        }\r\n        switch (this.option(\"visibilityMode\")) {\r\n            case SCROLLBAR_VISIBLE.onScroll:\r\n                break;\r\n            case SCROLLBAR_VISIBLE.onHover:\r\n                visible = visible || !!this._isHovered;\r\n                break;\r\n            case SCROLLBAR_VISIBLE.never:\r\n                visible = false;\r\n                break;\r\n            case SCROLLBAR_VISIBLE.always:\r\n                visible = true\r\n        }\r\n        return visible\r\n    },\r\n    moveTo: function(location) {\r\n        if (this._isHidden()) {\r\n            return\r\n        }\r\n        if ((0, _type.isPlainObject)(location)) {\r\n            location = location[this._prop] || 0\r\n        }\r\n        var scrollBarLocation = {};\r\n        scrollBarLocation[this._prop] = this._calculateScrollBarPosition(location);\r\n        _translator2.default.move(this._$thumb, scrollBarLocation)\r\n    },\r\n    _calculateScrollBarPosition: function(location) {\r\n        return -location * this._thumbRatio\r\n    },\r\n    _update: function() {\r\n        var containerSize = Math.round(this.option(\"containerSize\"));\r\n        var contentSize = Math.round(this.option(\"contentSize\"));\r\n        var baseContainerSize = Math.round(this.option(\"baseContainerSize\"));\r\n        var baseContentSize = Math.round(this.option(\"baseContentSize\"));\r\n        if (isNaN(baseContainerSize)) {\r\n            baseContainerSize = containerSize;\r\n            baseContentSize = contentSize\r\n        }\r\n        this._baseContainerToContentRatio = baseContentSize ? baseContainerSize / baseContentSize : baseContainerSize;\r\n        this._realContainerToContentRatio = contentSize ? containerSize / contentSize : containerSize;\r\n        var thumbSize = Math.round(Math.max(Math.round(containerSize * this._realContainerToContentRatio), THUMB_MIN_SIZE));\r\n        this._thumbRatio = (containerSize - thumbSize) / (this.option(\"scaleRatio\") * (contentSize - containerSize));\r\n        this.option(this._dimension, thumbSize / this.option(\"scaleRatio\"));\r\n        this.$element().css(\"display\", this._needScrollbar() ? \"\" : \"none\")\r\n    },\r\n    _isHidden: function() {\r\n        return this.option(\"visibilityMode\") === SCROLLBAR_VISIBLE.never\r\n    },\r\n    _needScrollbar: function() {\r\n        return !this._isHidden() && this._baseContainerToContentRatio < 1\r\n    },\r\n    containerToContentRatio: function() {\r\n        return this._realContainerToContentRatio\r\n    },\r\n    _normalizeSize: function(size) {\r\n        return (0, _type.isPlainObject)(size) ? size[this._dimension] || 0 : size\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        if (this === activeScrollbar) {\r\n            activeScrollbar = null\r\n        }\r\n        _events_engine2.default.off(this._$thumb, \".\" + SCROLLBAR)\r\n    },\r\n    _optionChanged: function(args) {\r\n        if (this._isHidden()) {\r\n            return\r\n        }\r\n        switch (args.name) {\r\n            case \"containerSize\":\r\n            case \"contentSize\":\r\n                this.option()[args.name] = this._normalizeSize(args.value);\r\n                this._update();\r\n                break;\r\n            case \"baseContentSize\":\r\n            case \"baseContainerSize\":\r\n                this._update();\r\n                break;\r\n            case \"visibilityMode\":\r\n            case \"direction\":\r\n                this._invalidate();\r\n                break;\r\n            case \"scaleRatio\":\r\n                this._update();\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    update: _common2.default.deferRenderer(function() {\r\n        this._adjustVisibility() && this.option(\"visible\", true)\r\n    })\r\n});\r\nvar activeScrollbar = null;\r\n_ready_callbacks2.default.add(function() {\r\n    _events_engine2.default.subscribeGlobal(_dom_adapter2.default.getDocument(), _utils2.default.addNamespace(_pointer2.default.up, SCROLLBAR), function() {\r\n        if (activeScrollbar) {\r\n            activeScrollbar.feedbackOff()\r\n        }\r\n    })\r\n});\r\nmodule.exports = Scrollbar;\r\n"]},"metadata":{},"sourceType":"module"}