{"ast":null,"code":"/**\r\n * DevExtreme (events/drag.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../core/renderer\");\n\nvar dataUtils = require(\"../core/element_data\");\n\nvar wrapToArray = require(\"../core/utils/array\").wrapToArray;\n\nvar inArray = require(\"../core/utils/array\").inArray;\n\nvar iteratorUtils = require(\"../core/utils/iterator\");\n\nvar contains = require(\"../core/utils/dom\").contains;\n\nvar registerEvent = require(\"./core/event_registrator\");\n\nvar eventUtils = require(\"./utils\");\n\nvar GestureEmitter = require(\"./gesture/emitter.gesture\");\n\nvar registerEmitter = require(\"./core/emitter_registrator\");\n\nvar DRAG_START_EVENT = \"dxdragstart\";\nvar DRAG_EVENT = \"dxdrag\";\nvar DRAG_END_EVENT = \"dxdragend\";\nvar DRAG_ENTER_EVENT = \"dxdragenter\";\nvar DRAG_LEAVE_EVENT = \"dxdragleave\";\nvar DROP_EVENT = \"dxdrop\";\nvar DX_DRAG_EVENTS_COUNT_KEY = \"dxDragEventsCount\";\nvar knownDropTargets = [];\nvar knownDropTargetSelectors = [];\nvar knownDropTargetConfigs = [];\nvar dropTargetRegistration = {\n  setup: function setup(element, data) {\n    var knownDropTarget = inArray(element, knownDropTargets) !== -1;\n\n    if (!knownDropTarget) {\n      knownDropTargets.push(element);\n      knownDropTargetSelectors.push([]);\n      knownDropTargetConfigs.push(data || {});\n    }\n  },\n  add: function add(element, handleObj) {\n    var index = inArray(element, knownDropTargets);\n    this.updateEventsCounter(element, handleObj.type, 1);\n    var selector = handleObj.selector;\n\n    if (inArray(selector, knownDropTargetSelectors[index]) === -1) {\n      knownDropTargetSelectors[index].push(selector);\n    }\n  },\n  updateEventsCounter: function updateEventsCounter(element, event, value) {\n    if ([DRAG_ENTER_EVENT, DRAG_LEAVE_EVENT, DROP_EVENT].indexOf(event) > -1) {\n      var eventsCount = dataUtils.data(element, DX_DRAG_EVENTS_COUNT_KEY) || 0;\n      dataUtils.data(element, DX_DRAG_EVENTS_COUNT_KEY, Math.max(0, eventsCount + value));\n    }\n  },\n  remove: function remove(element, handleObj) {\n    this.updateEventsCounter(element, handleObj.type, -1);\n  },\n  teardown: function teardown(element) {\n    var handlersCount = dataUtils.data(element, DX_DRAG_EVENTS_COUNT_KEY);\n\n    if (!handlersCount) {\n      var index = inArray(element, knownDropTargets);\n      knownDropTargets.splice(index, 1);\n      knownDropTargetSelectors.splice(index, 1);\n      knownDropTargetConfigs.splice(index, 1);\n      dataUtils.removeData(element, DX_DRAG_EVENTS_COUNT_KEY);\n    }\n  }\n};\nregisterEvent(DRAG_ENTER_EVENT, dropTargetRegistration);\nregisterEvent(DRAG_LEAVE_EVENT, dropTargetRegistration);\nregisterEvent(DROP_EVENT, dropTargetRegistration);\n\nvar getItemDelegatedTargets = function getItemDelegatedTargets($element) {\n  var dropTargetIndex = inArray($element.get(0), knownDropTargets);\n  var dropTargetSelectors = knownDropTargetSelectors[dropTargetIndex].filter(function (selector) {\n    return selector;\n  });\n  var $delegatedTargets = $element.find(dropTargetSelectors.join(\", \"));\n\n  if (inArray(void 0, knownDropTargetSelectors[dropTargetIndex]) !== -1) {\n    $delegatedTargets = $delegatedTargets.add($element);\n  }\n\n  return $delegatedTargets;\n};\n\nvar getItemConfig = function getItemConfig($element) {\n  var dropTargetIndex = inArray($element.get(0), knownDropTargets);\n  return knownDropTargetConfigs[dropTargetIndex];\n};\n\nvar getItemPosition = function getItemPosition(dropTargetConfig, $element) {\n  if (dropTargetConfig.itemPositionFunc) {\n    return dropTargetConfig.itemPositionFunc($element);\n  } else {\n    return $element.offset();\n  }\n};\n\nvar getItemSize = function getItemSize(dropTargetConfig, $element) {\n  if (dropTargetConfig.itemSizeFunc) {\n    return dropTargetConfig.itemSizeFunc($element);\n  }\n\n  return {\n    width: $element.get(0).getBoundingClientRect().width,\n    height: $element.get(0).getBoundingClientRect().height\n  };\n};\n\nvar DragEmitter = GestureEmitter.inherit({\n  ctor: function ctor(element) {\n    this.callBase(element);\n    this.direction = \"both\";\n  },\n  _init: function _init(e) {\n    this._initEvent = e;\n  },\n  _start: function _start(e) {\n    e = this._fireEvent(DRAG_START_EVENT, this._initEvent);\n    this._maxLeftOffset = e.maxLeftOffset;\n    this._maxRightOffset = e.maxRightOffset;\n    this._maxTopOffset = e.maxTopOffset;\n    this._maxBottomOffset = e.maxBottomOffset;\n    var dropTargets = wrapToArray(e.targetElements || (null === e.targetElements ? [] : knownDropTargets));\n    this._dropTargets = iteratorUtils.map(dropTargets, function (element) {\n      return $(element).get(0);\n    });\n  },\n  _move: function _move(e) {\n    var eventData = eventUtils.eventData(e);\n\n    var dragOffset = this._calculateOffset(eventData);\n\n    e = this._fireEvent(DRAG_EVENT, e, {\n      offset: dragOffset\n    });\n\n    this._processDropTargets(e);\n\n    if (!e._cancelPreventDefault) {\n      e.preventDefault();\n    }\n  },\n  _calculateOffset: function _calculateOffset(eventData) {\n    return {\n      x: this._calculateXOffset(eventData),\n      y: this._calculateYOffset(eventData)\n    };\n  },\n  _calculateXOffset: function _calculateXOffset(eventData) {\n    if (\"vertical\" !== this.direction) {\n      var offset = eventData.x - this._startEventData.x;\n      return this._fitOffset(offset, this._maxLeftOffset, this._maxRightOffset);\n    }\n\n    return 0;\n  },\n  _calculateYOffset: function _calculateYOffset(eventData) {\n    if (\"horizontal\" !== this.direction) {\n      var offset = eventData.y - this._startEventData.y;\n      return this._fitOffset(offset, this._maxTopOffset, this._maxBottomOffset);\n    }\n\n    return 0;\n  },\n  _fitOffset: function _fitOffset(offset, minOffset, maxOffset) {\n    if (null != minOffset) {\n      offset = Math.max(offset, -minOffset);\n    }\n\n    if (null != maxOffset) {\n      offset = Math.min(offset, maxOffset);\n    }\n\n    return offset;\n  },\n  _processDropTargets: function _processDropTargets(e) {\n    var target = this._findDropTarget(e);\n\n    var sameTarget = target === this._currentDropTarget;\n\n    if (!sameTarget) {\n      this._fireDropTargetEvent(e, DRAG_LEAVE_EVENT);\n\n      this._currentDropTarget = target;\n\n      this._fireDropTargetEvent(e, DRAG_ENTER_EVENT);\n    }\n  },\n  _fireDropTargetEvent: function _fireDropTargetEvent(event, eventName) {\n    if (!this._currentDropTarget) {\n      return;\n    }\n\n    var eventData = {\n      type: eventName,\n      originalEvent: event,\n      draggingElement: this._$element.get(0),\n      target: this._currentDropTarget\n    };\n    eventUtils.fireEvent(eventData);\n  },\n  _findDropTarget: function _findDropTarget(e) {\n    var that = this;\n    var result;\n    iteratorUtils.each(knownDropTargets, function (_, target) {\n      if (!that._checkDropTargetActive(target)) {\n        return;\n      }\n\n      var $target = $(target);\n      iteratorUtils.each(getItemDelegatedTargets($target), function (_, delegatedTarget) {\n        var $delegatedTarget = $(delegatedTarget);\n\n        if (that._checkDropTarget(getItemConfig($target), $delegatedTarget, e)) {\n          result = delegatedTarget;\n        }\n      });\n    });\n    return result;\n  },\n  _checkDropTargetActive: function _checkDropTargetActive(target) {\n    var active = false;\n    iteratorUtils.each(this._dropTargets, function (_, activeTarget) {\n      active = active || activeTarget === target || contains(activeTarget, target);\n      return !active;\n    });\n    return active;\n  },\n  _checkDropTarget: function _checkDropTarget(config, $target, e) {\n    var isDraggingElement = $target.get(0) === $(e.target).get(0);\n\n    if (isDraggingElement) {\n      return false;\n    }\n\n    var targetPosition = getItemPosition(config, $target);\n\n    if (e.pageX < targetPosition.left) {\n      return false;\n    }\n\n    if (e.pageY < targetPosition.top) {\n      return false;\n    }\n\n    var targetSize = getItemSize(config, $target);\n\n    if (e.pageX > targetPosition.left + targetSize.width) {\n      return false;\n    }\n\n    if (e.pageY > targetPosition.top + targetSize.height) {\n      return false;\n    }\n\n    if (config.checkDropTarget && !config.checkDropTarget($target, e)) {\n      return false;\n    }\n\n    return $target;\n  },\n  _end: function _end(e) {\n    var eventData = eventUtils.eventData(e);\n\n    this._fireEvent(DRAG_END_EVENT, e, {\n      offset: this._calculateOffset(eventData)\n    });\n\n    this._fireDropTargetEvent(e, DROP_EVENT);\n\n    delete this._currentDropTarget;\n  }\n});\nregisterEmitter({\n  emitter: DragEmitter,\n  events: [DRAG_START_EVENT, DRAG_EVENT, DRAG_END_EVENT]\n});\nexports.move = DRAG_EVENT;\nexports.start = DRAG_START_EVENT;\nexports.end = DRAG_END_EVENT;\nexports.enter = DRAG_ENTER_EVENT;\nexports.leave = DRAG_LEAVE_EVENT;\nexports.drop = DROP_EVENT;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/events/drag.js"],"names":["$","require","dataUtils","wrapToArray","inArray","iteratorUtils","contains","registerEvent","eventUtils","GestureEmitter","registerEmitter","DRAG_START_EVENT","DRAG_EVENT","DRAG_END_EVENT","DRAG_ENTER_EVENT","DRAG_LEAVE_EVENT","DROP_EVENT","DX_DRAG_EVENTS_COUNT_KEY","knownDropTargets","knownDropTargetSelectors","knownDropTargetConfigs","dropTargetRegistration","setup","knownDropTarget","data","add","index","handleObj","selector","updateEventsCounter","eventsCount","Math","remove","teardown","handlersCount","getItemDelegatedTargets","dropTargetIndex","$element","dropTargetSelectors","$delegatedTargets","getItemConfig","getItemPosition","dropTargetConfig","getItemSize","width","height","DragEmitter","ctor","_init","_start","e","dropTargets","_move","eventData","dragOffset","offset","_calculateOffset","x","y","_calculateXOffset","_calculateYOffset","_fitOffset","_processDropTargets","target","sameTarget","_fireDropTargetEvent","type","originalEvent","draggingElement","_currentDropTarget","_findDropTarget","that","$target","$delegatedTarget","result","_checkDropTargetActive","active","activeTarget","_checkDropTarget","isDraggingElement","targetPosition","targetSize","config","_end","emitter","events","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (events/drag.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../core/renderer\");\r\nvar dataUtils = require(\"../core/element_data\");\r\nvar wrapToArray = require(\"../core/utils/array\").wrapToArray;\r\nvar inArray = require(\"../core/utils/array\").inArray;\r\nvar iteratorUtils = require(\"../core/utils/iterator\");\r\nvar contains = require(\"../core/utils/dom\").contains;\r\nvar registerEvent = require(\"./core/event_registrator\");\r\nvar eventUtils = require(\"./utils\");\r\nvar GestureEmitter = require(\"./gesture/emitter.gesture\");\r\nvar registerEmitter = require(\"./core/emitter_registrator\");\r\nvar DRAG_START_EVENT = \"dxdragstart\";\r\nvar DRAG_EVENT = \"dxdrag\";\r\nvar DRAG_END_EVENT = \"dxdragend\";\r\nvar DRAG_ENTER_EVENT = \"dxdragenter\";\r\nvar DRAG_LEAVE_EVENT = \"dxdragleave\";\r\nvar DROP_EVENT = \"dxdrop\";\r\nvar DX_DRAG_EVENTS_COUNT_KEY = \"dxDragEventsCount\";\r\nvar knownDropTargets = [];\r\nvar knownDropTargetSelectors = [];\r\nvar knownDropTargetConfigs = [];\r\nvar dropTargetRegistration = {\r\n    setup: function(element, data) {\r\n        var knownDropTarget = inArray(element, knownDropTargets) !== -1;\r\n        if (!knownDropTarget) {\r\n            knownDropTargets.push(element);\r\n            knownDropTargetSelectors.push([]);\r\n            knownDropTargetConfigs.push(data || {})\r\n        }\r\n    },\r\n    add: function(element, handleObj) {\r\n        var index = inArray(element, knownDropTargets);\r\n        this.updateEventsCounter(element, handleObj.type, 1);\r\n        var selector = handleObj.selector;\r\n        if (inArray(selector, knownDropTargetSelectors[index]) === -1) {\r\n            knownDropTargetSelectors[index].push(selector)\r\n        }\r\n    },\r\n    updateEventsCounter: function(element, event, value) {\r\n        if ([DRAG_ENTER_EVENT, DRAG_LEAVE_EVENT, DROP_EVENT].indexOf(event) > -1) {\r\n            var eventsCount = dataUtils.data(element, DX_DRAG_EVENTS_COUNT_KEY) || 0;\r\n            dataUtils.data(element, DX_DRAG_EVENTS_COUNT_KEY, Math.max(0, eventsCount + value))\r\n        }\r\n    },\r\n    remove: function(element, handleObj) {\r\n        this.updateEventsCounter(element, handleObj.type, -1)\r\n    },\r\n    teardown: function(element) {\r\n        var handlersCount = dataUtils.data(element, DX_DRAG_EVENTS_COUNT_KEY);\r\n        if (!handlersCount) {\r\n            var index = inArray(element, knownDropTargets);\r\n            knownDropTargets.splice(index, 1);\r\n            knownDropTargetSelectors.splice(index, 1);\r\n            knownDropTargetConfigs.splice(index, 1);\r\n            dataUtils.removeData(element, DX_DRAG_EVENTS_COUNT_KEY)\r\n        }\r\n    }\r\n};\r\nregisterEvent(DRAG_ENTER_EVENT, dropTargetRegistration);\r\nregisterEvent(DRAG_LEAVE_EVENT, dropTargetRegistration);\r\nregisterEvent(DROP_EVENT, dropTargetRegistration);\r\nvar getItemDelegatedTargets = function($element) {\r\n    var dropTargetIndex = inArray($element.get(0), knownDropTargets);\r\n    var dropTargetSelectors = knownDropTargetSelectors[dropTargetIndex].filter(function(selector) {\r\n        return selector\r\n    });\r\n    var $delegatedTargets = $element.find(dropTargetSelectors.join(\", \"));\r\n    if (inArray(void 0, knownDropTargetSelectors[dropTargetIndex]) !== -1) {\r\n        $delegatedTargets = $delegatedTargets.add($element)\r\n    }\r\n    return $delegatedTargets\r\n};\r\nvar getItemConfig = function($element) {\r\n    var dropTargetIndex = inArray($element.get(0), knownDropTargets);\r\n    return knownDropTargetConfigs[dropTargetIndex]\r\n};\r\nvar getItemPosition = function(dropTargetConfig, $element) {\r\n    if (dropTargetConfig.itemPositionFunc) {\r\n        return dropTargetConfig.itemPositionFunc($element)\r\n    } else {\r\n        return $element.offset()\r\n    }\r\n};\r\nvar getItemSize = function(dropTargetConfig, $element) {\r\n    if (dropTargetConfig.itemSizeFunc) {\r\n        return dropTargetConfig.itemSizeFunc($element)\r\n    }\r\n    return {\r\n        width: $element.get(0).getBoundingClientRect().width,\r\n        height: $element.get(0).getBoundingClientRect().height\r\n    }\r\n};\r\nvar DragEmitter = GestureEmitter.inherit({\r\n    ctor: function(element) {\r\n        this.callBase(element);\r\n        this.direction = \"both\"\r\n    },\r\n    _init: function(e) {\r\n        this._initEvent = e\r\n    },\r\n    _start: function(e) {\r\n        e = this._fireEvent(DRAG_START_EVENT, this._initEvent);\r\n        this._maxLeftOffset = e.maxLeftOffset;\r\n        this._maxRightOffset = e.maxRightOffset;\r\n        this._maxTopOffset = e.maxTopOffset;\r\n        this._maxBottomOffset = e.maxBottomOffset;\r\n        var dropTargets = wrapToArray(e.targetElements || (null === e.targetElements ? [] : knownDropTargets));\r\n        this._dropTargets = iteratorUtils.map(dropTargets, function(element) {\r\n            return $(element).get(0)\r\n        })\r\n    },\r\n    _move: function(e) {\r\n        var eventData = eventUtils.eventData(e);\r\n        var dragOffset = this._calculateOffset(eventData);\r\n        e = this._fireEvent(DRAG_EVENT, e, {\r\n            offset: dragOffset\r\n        });\r\n        this._processDropTargets(e);\r\n        if (!e._cancelPreventDefault) {\r\n            e.preventDefault()\r\n        }\r\n    },\r\n    _calculateOffset: function(eventData) {\r\n        return {\r\n            x: this._calculateXOffset(eventData),\r\n            y: this._calculateYOffset(eventData)\r\n        }\r\n    },\r\n    _calculateXOffset: function(eventData) {\r\n        if (\"vertical\" !== this.direction) {\r\n            var offset = eventData.x - this._startEventData.x;\r\n            return this._fitOffset(offset, this._maxLeftOffset, this._maxRightOffset)\r\n        }\r\n        return 0\r\n    },\r\n    _calculateYOffset: function(eventData) {\r\n        if (\"horizontal\" !== this.direction) {\r\n            var offset = eventData.y - this._startEventData.y;\r\n            return this._fitOffset(offset, this._maxTopOffset, this._maxBottomOffset)\r\n        }\r\n        return 0\r\n    },\r\n    _fitOffset: function(offset, minOffset, maxOffset) {\r\n        if (null != minOffset) {\r\n            offset = Math.max(offset, -minOffset)\r\n        }\r\n        if (null != maxOffset) {\r\n            offset = Math.min(offset, maxOffset)\r\n        }\r\n        return offset\r\n    },\r\n    _processDropTargets: function(e) {\r\n        var target = this._findDropTarget(e);\r\n        var sameTarget = target === this._currentDropTarget;\r\n        if (!sameTarget) {\r\n            this._fireDropTargetEvent(e, DRAG_LEAVE_EVENT);\r\n            this._currentDropTarget = target;\r\n            this._fireDropTargetEvent(e, DRAG_ENTER_EVENT)\r\n        }\r\n    },\r\n    _fireDropTargetEvent: function(event, eventName) {\r\n        if (!this._currentDropTarget) {\r\n            return\r\n        }\r\n        var eventData = {\r\n            type: eventName,\r\n            originalEvent: event,\r\n            draggingElement: this._$element.get(0),\r\n            target: this._currentDropTarget\r\n        };\r\n        eventUtils.fireEvent(eventData)\r\n    },\r\n    _findDropTarget: function(e) {\r\n        var that = this;\r\n        var result;\r\n        iteratorUtils.each(knownDropTargets, function(_, target) {\r\n            if (!that._checkDropTargetActive(target)) {\r\n                return\r\n            }\r\n            var $target = $(target);\r\n            iteratorUtils.each(getItemDelegatedTargets($target), function(_, delegatedTarget) {\r\n                var $delegatedTarget = $(delegatedTarget);\r\n                if (that._checkDropTarget(getItemConfig($target), $delegatedTarget, e)) {\r\n                    result = delegatedTarget\r\n                }\r\n            })\r\n        });\r\n        return result\r\n    },\r\n    _checkDropTargetActive: function(target) {\r\n        var active = false;\r\n        iteratorUtils.each(this._dropTargets, function(_, activeTarget) {\r\n            active = active || activeTarget === target || contains(activeTarget, target);\r\n            return !active\r\n        });\r\n        return active\r\n    },\r\n    _checkDropTarget: function(config, $target, e) {\r\n        var isDraggingElement = $target.get(0) === $(e.target).get(0);\r\n        if (isDraggingElement) {\r\n            return false\r\n        }\r\n        var targetPosition = getItemPosition(config, $target);\r\n        if (e.pageX < targetPosition.left) {\r\n            return false\r\n        }\r\n        if (e.pageY < targetPosition.top) {\r\n            return false\r\n        }\r\n        var targetSize = getItemSize(config, $target);\r\n        if (e.pageX > targetPosition.left + targetSize.width) {\r\n            return false\r\n        }\r\n        if (e.pageY > targetPosition.top + targetSize.height) {\r\n            return false\r\n        }\r\n        if (config.checkDropTarget && !config.checkDropTarget($target, e)) {\r\n            return false\r\n        }\r\n        return $target\r\n    },\r\n    _end: function(e) {\r\n        var eventData = eventUtils.eventData(e);\r\n        this._fireEvent(DRAG_END_EVENT, e, {\r\n            offset: this._calculateOffset(eventData)\r\n        });\r\n        this._fireDropTargetEvent(e, DROP_EVENT);\r\n        delete this._currentDropTarget\r\n    }\r\n});\r\nregisterEmitter({\r\n    emitter: DragEmitter,\r\n    events: [DRAG_START_EVENT, DRAG_EVENT, DRAG_END_EVENT]\r\n});\r\nexports.move = DRAG_EVENT;\r\nexports.start = DRAG_START_EVENT;\r\nexports.end = DRAG_END_EVENT;\r\nexports.enter = DRAG_ENTER_EVENT;\r\nexports.leave = DRAG_LEAVE_EVENT;\r\nexports.drop = DROP_EVENT;\r\n"]},"metadata":{},"sourceType":"module"}