{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/layout.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _normalizeEnum = require(\"./utils\").normalizeEnum;\n\nvar _min = Math.min;\nvar _max = Math.max;\nvar _round = Math.round;\nvar ALIGN_START = 0;\nvar ALIGN_MIDDLE = 1;\nvar ALIGN_END = 2;\nvar horizontalAlignmentMap = {\n  left: ALIGN_START,\n  center: ALIGN_MIDDLE,\n  right: ALIGN_END\n};\nvar verticalAlignmentMap = {\n  top: ALIGN_START,\n  center: ALIGN_MIDDLE,\n  bottom: ALIGN_END\n};\nvar sideMap = {\n  horizontal: 0,\n  vertical: 1\n};\nvar slicersMap = {};\nvar BBOX_CEIL_CORRECTION = 2;\n\nslicersMap[ALIGN_START] = function (a, b, size) {\n  return [a, _min(b, a + size)];\n};\n\nslicersMap[ALIGN_MIDDLE] = function (a, b, size) {\n  return [_max(a, (a + b - size) / 2), _min(b, (a + b + size) / 2)];\n};\n\nslicersMap[ALIGN_END] = function (a, b, size) {\n  return [_max(a, b - size), b];\n};\n\nfunction pickValue(value, map, defaultValue) {\n  var val = _normalizeEnum(value);\n\n  return val in map ? map[val] : defaultValue;\n}\n\nfunction normalizeLayoutOptions(options) {\n  var side = pickValue(options.side, sideMap, 1);\n  var alignment = [pickValue(options.horizontalAlignment, horizontalAlignmentMap, ALIGN_MIDDLE), pickValue(options.verticalAlignment, verticalAlignmentMap, ALIGN_START)];\n  return {\n    side: side,\n    primary: bringToEdge(alignment[side]),\n    secondary: alignment[1 - side],\n    weak: options.weak,\n    priority: options.priority || 0,\n    header: options.header,\n    position: options.position\n  };\n}\n\nfunction bringToEdge(primary) {\n  return primary < 2 ? 0 : 2;\n}\n\nfunction getConjugateSide(side) {\n  return 1 - side;\n}\n\nfunction getSlice(alignment, a, b, size) {\n  return slicersMap[alignment](a, b, size);\n}\n\nfunction getShrink(alignment, size) {\n  return (alignment > 0 ? -1 : 1) * size;\n}\n\nfunction processForward(item, rect, minSize) {\n  var side = item.side;\n  var size = item.element.measure([rect[2] - rect[0], rect[3] - rect[1]]);\n  var minSide = \"indside\" === item.position ? 0 : minSize[side];\n  var isValid = size[side] < rect[2 + side] - rect[side] - minSide;\n\n  if (isValid) {\n    if (\"inside\" !== item.position) {\n      rect[item.primary + side] += getShrink(item.primary, size[side]);\n    }\n\n    item.size = size;\n  }\n\n  return isValid;\n}\n\nfunction processRectBackward(item, rect, alignmentRect) {\n  var primarySide = item.side;\n  var secondarySide = getConjugateSide(primarySide);\n  var itemRect = [];\n  var secondary = getSlice(item.secondary, alignmentRect[secondarySide], alignmentRect[2 + secondarySide], item.size[secondarySide]);\n  itemRect[primarySide] = _round(itemRect[2 + primarySide] = rect[item.primary + primarySide] + (\"inside\" === item.position ? getShrink(item.primary, item.size[primarySide]) : 0));\n  itemRect[item.primary + primarySide] = _round(rect[item.primary + primarySide] - getShrink(item.primary, item.size[primarySide]));\n\n  if (\"inside\" !== item.position) {\n    rect[item.primary + primarySide] = itemRect[item.primary + primarySide];\n  }\n\n  itemRect[secondarySide] = _round(secondary[0]);\n  itemRect[2 + secondarySide] = _round(secondary[1]);\n  return itemRect;\n}\n\nfunction processBackward(item, rect, alignmentRect, fitRect, size, targetRect) {\n  var itemRect = processRectBackward(item, rect, alignmentRect);\n  var itemFitRect = processRectBackward(item, fitRect, fitRect);\n\n  if (size[item.side] > 0) {\n    size[item.side] -= item.size[item.side];\n    targetRect[item.primary + item.side] = itemRect[item.primary + item.side];\n    item.element.freeSpace();\n  } else {\n    item.element.move(itemRect, itemFitRect);\n  }\n}\n\nfunction Layout() {\n  this._targets = [];\n}\n\nLayout.prototype = {\n  constructor: Layout,\n  dispose: function dispose() {\n    this._targets = null;\n  },\n  add: function add(target) {\n    this._targets.push(target);\n  },\n  forward: function forward(targetRect, minSize) {\n    var rect = targetRect.slice();\n    var targets = createTargets(this._targets);\n    var i;\n    var ii = targets.length;\n    var cache = [];\n\n    for (i = 0; i < ii; ++i) {\n      if (processForward(targets[i], rect, minSize)) {\n        cache.push(targets[i]);\n      } else {\n        targets[i].element.freeSpace();\n      }\n    }\n\n    this._cache = cache.reverse();\n    return rect;\n  },\n  backward: function backward(targetRect, alignmentRect) {\n    var size = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [0, 0];\n    var backwardRect = targetRect.slice();\n    var fitRect = targetRect.slice();\n    var targets = this._cache;\n    var targetSide = 0;\n    var target;\n    var i;\n    var ii = targets.length;\n\n    for (i = 0; i < ii; ++i) {\n      target = targets[i];\n\n      if (target.side !== targetSide) {\n        backwardRect = targetRect.slice();\n      }\n\n      processBackward(target, backwardRect, alignmentRect, fitRect, size, targetRect);\n      targetSide = target.side;\n    }\n\n    return size;\n  }\n};\n\nfunction createTargets(targets) {\n  var i;\n  var ii = targets.length;\n  var collection = [];\n  var layout;\n\n  for (i = 0; i < ii; ++i) {\n    layout = targets[i].layoutOptions();\n\n    if (layout) {\n      layout = normalizeLayoutOptions(layout);\n      layout.element = targets[i];\n      collection.push(layout);\n    }\n  }\n\n  collection.sort(function (a, b) {\n    return b.side - a.side || a.priority - b.priority;\n  });\n  collection = processWeakItems(collection);\n  return collection;\n}\n\nfunction processWeakItems(collection) {\n  var weakItem = collection.filter(function (item) {\n    return true === item.weak;\n  })[0];\n  var headerItem;\n\n  if (weakItem) {\n    headerItem = collection.filter(function (item) {\n      return weakItem.primary === item.primary && item.side === weakItem.side && item !== weakItem;\n    })[0];\n  }\n\n  if (weakItem && headerItem) {\n    return [makeHeader(headerItem, weakItem)].concat(collection.filter(function (item) {\n      return !(item === headerItem || item === weakItem);\n    }));\n  }\n\n  return collection;\n}\n\nfunction processBackwardHeaderRect(element, rect) {\n  var rectCopy = rect.slice();\n  var itemRect = processRectBackward(element, rectCopy, rectCopy);\n  itemRect[element.side] = rect[element.side];\n  itemRect[2 + element.side] = rect[2 + element.side];\n  return itemRect;\n}\n\nfunction makeHeader(header, weakElement) {\n  var side = header.side;\n  var primary = header.primary;\n  var secondary = header.secondary;\n  return {\n    side: side,\n    primary: primary,\n    secondary: secondary,\n    priority: 0,\n    element: {\n      measure: function measure(targetSize) {\n        var result = targetSize.slice();\n        var weakSize = weakElement.element.measure(targetSize.slice());\n        targetSize[primary] -= weakSize[primary];\n        var headerSize = header.element.measure(targetSize.slice());\n        result[side] = weakSize[side] = headerSize[side] = Math.max(headerSize[side], weakSize[side]);\n        weakElement.size = weakSize;\n        header.size = headerSize;\n        return result;\n      },\n      move: function move(rect, fitRect) {\n        if (fitRect[2] - fitRect[0] < header.size[0] + weakElement.size[0] - BBOX_CEIL_CORRECTION) {\n          this.freeSpace();\n          return;\n        }\n\n        var weakRect = processBackwardHeaderRect(weakElement, fitRect, fitRect);\n        fitRect[2 + weakElement.primary] = weakRect[weakElement.primary];\n        var headerFitReact = processBackwardHeaderRect(header, fitRect, fitRect);\n\n        if (fitRect[2 + weakElement.primary] < rect[2 + weakElement.primary] && header.size[header.primary] > rect[2 + header.primary] - rect[header.primary]) {\n          rect[2 + weakElement.primary] = fitRect[2 + weakElement.primary];\n        }\n\n        var headerRect = processBackwardHeaderRect(header, rect, rect);\n\n        if (headerRect[2 + weakElement.primary] > fitRect[2 + weakElement.primary]) {\n          rect[2 + weakElement.primary] = fitRect[2 + weakElement.primary];\n          headerRect = processBackwardHeaderRect(header, rect, rect);\n        }\n\n        weakElement.element.move(weakRect);\n        header.element.move(headerRect, headerFitReact);\n      },\n      freeSpace: function freeSpace() {\n        header.element.freeSpace();\n        weakElement.element.freeSpace();\n      }\n    }\n  };\n}\n\nmodule.exports = Layout;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/core/layout.js"],"names":["_normalizeEnum","require","_min","Math","_max","_round","ALIGN_START","ALIGN_MIDDLE","ALIGN_END","horizontalAlignmentMap","left","center","right","verticalAlignmentMap","top","bottom","sideMap","horizontal","vertical","slicersMap","BBOX_CEIL_CORRECTION","a","b","val","map","side","pickValue","options","alignment","primary","bringToEdge","secondary","weak","priority","header","position","item","size","rect","minSide","minSize","isValid","getShrink","primarySide","secondarySide","getConjugateSide","itemRect","getSlice","alignmentRect","processRectBackward","itemFitRect","targetRect","Layout","constructor","dispose","add","forward","targets","createTargets","ii","cache","i","processForward","backward","arguments","backwardRect","fitRect","targetSide","target","processBackward","collection","layout","normalizeLayoutOptions","processWeakItems","weakItem","headerItem","makeHeader","rectCopy","element","measure","result","targetSize","weakSize","weakElement","headerSize","move","weakRect","processBackwardHeaderRect","headerFitReact","headerRect","freeSpace","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/core/layout.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _normalizeEnum = require(\"./utils\").normalizeEnum;\r\nvar _min = Math.min;\r\nvar _max = Math.max;\r\nvar _round = Math.round;\r\nvar ALIGN_START = 0;\r\nvar ALIGN_MIDDLE = 1;\r\nvar ALIGN_END = 2;\r\nvar horizontalAlignmentMap = {\r\n    left: ALIGN_START,\r\n    center: ALIGN_MIDDLE,\r\n    right: ALIGN_END\r\n};\r\nvar verticalAlignmentMap = {\r\n    top: ALIGN_START,\r\n    center: ALIGN_MIDDLE,\r\n    bottom: ALIGN_END\r\n};\r\nvar sideMap = {\r\n    horizontal: 0,\r\n    vertical: 1\r\n};\r\nvar slicersMap = {};\r\nvar BBOX_CEIL_CORRECTION = 2;\r\nslicersMap[ALIGN_START] = function(a, b, size) {\r\n    return [a, _min(b, a + size)]\r\n};\r\nslicersMap[ALIGN_MIDDLE] = function(a, b, size) {\r\n    return [_max(a, (a + b - size) / 2), _min(b, (a + b + size) / 2)]\r\n};\r\nslicersMap[ALIGN_END] = function(a, b, size) {\r\n    return [_max(a, b - size), b]\r\n};\r\n\r\nfunction pickValue(value, map, defaultValue) {\r\n    var val = _normalizeEnum(value);\r\n    return val in map ? map[val] : defaultValue\r\n}\r\n\r\nfunction normalizeLayoutOptions(options) {\r\n    var side = pickValue(options.side, sideMap, 1);\r\n    var alignment = [pickValue(options.horizontalAlignment, horizontalAlignmentMap, ALIGN_MIDDLE), pickValue(options.verticalAlignment, verticalAlignmentMap, ALIGN_START)];\r\n    return {\r\n        side: side,\r\n        primary: bringToEdge(alignment[side]),\r\n        secondary: alignment[1 - side],\r\n        weak: options.weak,\r\n        priority: options.priority || 0,\r\n        header: options.header,\r\n        position: options.position\r\n    }\r\n}\r\n\r\nfunction bringToEdge(primary) {\r\n    return primary < 2 ? 0 : 2\r\n}\r\n\r\nfunction getConjugateSide(side) {\r\n    return 1 - side\r\n}\r\n\r\nfunction getSlice(alignment, a, b, size) {\r\n    return slicersMap[alignment](a, b, size)\r\n}\r\n\r\nfunction getShrink(alignment, size) {\r\n    return (alignment > 0 ? -1 : 1) * size\r\n}\r\n\r\nfunction processForward(item, rect, minSize) {\r\n    var side = item.side;\r\n    var size = item.element.measure([rect[2] - rect[0], rect[3] - rect[1]]);\r\n    var minSide = \"indside\" === item.position ? 0 : minSize[side];\r\n    var isValid = size[side] < rect[2 + side] - rect[side] - minSide;\r\n    if (isValid) {\r\n        if (\"inside\" !== item.position) {\r\n            rect[item.primary + side] += getShrink(item.primary, size[side])\r\n        }\r\n        item.size = size\r\n    }\r\n    return isValid\r\n}\r\n\r\nfunction processRectBackward(item, rect, alignmentRect) {\r\n    var primarySide = item.side;\r\n    var secondarySide = getConjugateSide(primarySide);\r\n    var itemRect = [];\r\n    var secondary = getSlice(item.secondary, alignmentRect[secondarySide], alignmentRect[2 + secondarySide], item.size[secondarySide]);\r\n    itemRect[primarySide] = _round(itemRect[2 + primarySide] = rect[item.primary + primarySide] + (\"inside\" === item.position ? getShrink(item.primary, item.size[primarySide]) : 0));\r\n    itemRect[item.primary + primarySide] = _round(rect[item.primary + primarySide] - getShrink(item.primary, item.size[primarySide]));\r\n    if (\"inside\" !== item.position) {\r\n        rect[item.primary + primarySide] = itemRect[item.primary + primarySide]\r\n    }\r\n    itemRect[secondarySide] = _round(secondary[0]);\r\n    itemRect[2 + secondarySide] = _round(secondary[1]);\r\n    return itemRect\r\n}\r\n\r\nfunction processBackward(item, rect, alignmentRect, fitRect, size, targetRect) {\r\n    var itemRect = processRectBackward(item, rect, alignmentRect);\r\n    var itemFitRect = processRectBackward(item, fitRect, fitRect);\r\n    if (size[item.side] > 0) {\r\n        size[item.side] -= item.size[item.side];\r\n        targetRect[item.primary + item.side] = itemRect[item.primary + item.side];\r\n        item.element.freeSpace()\r\n    } else {\r\n        item.element.move(itemRect, itemFitRect)\r\n    }\r\n}\r\n\r\nfunction Layout() {\r\n    this._targets = []\r\n}\r\nLayout.prototype = {\r\n    constructor: Layout,\r\n    dispose: function() {\r\n        this._targets = null\r\n    },\r\n    add: function(target) {\r\n        this._targets.push(target)\r\n    },\r\n    forward: function(targetRect, minSize) {\r\n        var rect = targetRect.slice();\r\n        var targets = createTargets(this._targets);\r\n        var i;\r\n        var ii = targets.length;\r\n        var cache = [];\r\n        for (i = 0; i < ii; ++i) {\r\n            if (processForward(targets[i], rect, minSize)) {\r\n                cache.push(targets[i])\r\n            } else {\r\n                targets[i].element.freeSpace()\r\n            }\r\n        }\r\n        this._cache = cache.reverse();\r\n        return rect\r\n    },\r\n    backward: function(targetRect, alignmentRect) {\r\n        var size = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [0, 0];\r\n        var backwardRect = targetRect.slice();\r\n        var fitRect = targetRect.slice();\r\n        var targets = this._cache;\r\n        var targetSide = 0;\r\n        var target;\r\n        var i;\r\n        var ii = targets.length;\r\n        for (i = 0; i < ii; ++i) {\r\n            target = targets[i];\r\n            if (target.side !== targetSide) {\r\n                backwardRect = targetRect.slice()\r\n            }\r\n            processBackward(target, backwardRect, alignmentRect, fitRect, size, targetRect);\r\n            targetSide = target.side\r\n        }\r\n        return size\r\n    }\r\n};\r\n\r\nfunction createTargets(targets) {\r\n    var i;\r\n    var ii = targets.length;\r\n    var collection = [];\r\n    var layout;\r\n    for (i = 0; i < ii; ++i) {\r\n        layout = targets[i].layoutOptions();\r\n        if (layout) {\r\n            layout = normalizeLayoutOptions(layout);\r\n            layout.element = targets[i];\r\n            collection.push(layout)\r\n        }\r\n    }\r\n    collection.sort(function(a, b) {\r\n        return b.side - a.side || a.priority - b.priority\r\n    });\r\n    collection = processWeakItems(collection);\r\n    return collection\r\n}\r\n\r\nfunction processWeakItems(collection) {\r\n    var weakItem = collection.filter(function(item) {\r\n        return true === item.weak\r\n    })[0];\r\n    var headerItem;\r\n    if (weakItem) {\r\n        headerItem = collection.filter(function(item) {\r\n            return weakItem.primary === item.primary && item.side === weakItem.side && item !== weakItem\r\n        })[0]\r\n    }\r\n    if (weakItem && headerItem) {\r\n        return [makeHeader(headerItem, weakItem)].concat(collection.filter(function(item) {\r\n            return !(item === headerItem || item === weakItem)\r\n        }))\r\n    }\r\n    return collection\r\n}\r\n\r\nfunction processBackwardHeaderRect(element, rect) {\r\n    var rectCopy = rect.slice();\r\n    var itemRect = processRectBackward(element, rectCopy, rectCopy);\r\n    itemRect[element.side] = rect[element.side];\r\n    itemRect[2 + element.side] = rect[2 + element.side];\r\n    return itemRect\r\n}\r\n\r\nfunction makeHeader(header, weakElement) {\r\n    var side = header.side;\r\n    var primary = header.primary;\r\n    var secondary = header.secondary;\r\n    return {\r\n        side: side,\r\n        primary: primary,\r\n        secondary: secondary,\r\n        priority: 0,\r\n        element: {\r\n            measure: function(targetSize) {\r\n                var result = targetSize.slice();\r\n                var weakSize = weakElement.element.measure(targetSize.slice());\r\n                targetSize[primary] -= weakSize[primary];\r\n                var headerSize = header.element.measure(targetSize.slice());\r\n                result[side] = weakSize[side] = headerSize[side] = Math.max(headerSize[side], weakSize[side]);\r\n                weakElement.size = weakSize;\r\n                header.size = headerSize;\r\n                return result\r\n            },\r\n            move: function(rect, fitRect) {\r\n                if (fitRect[2] - fitRect[0] < header.size[0] + weakElement.size[0] - BBOX_CEIL_CORRECTION) {\r\n                    this.freeSpace();\r\n                    return\r\n                }\r\n                var weakRect = processBackwardHeaderRect(weakElement, fitRect, fitRect);\r\n                fitRect[2 + weakElement.primary] = weakRect[weakElement.primary];\r\n                var headerFitReact = processBackwardHeaderRect(header, fitRect, fitRect);\r\n                if (fitRect[2 + weakElement.primary] < rect[2 + weakElement.primary] && header.size[header.primary] > rect[2 + header.primary] - rect[header.primary]) {\r\n                    rect[2 + weakElement.primary] = fitRect[2 + weakElement.primary]\r\n                }\r\n                var headerRect = processBackwardHeaderRect(header, rect, rect);\r\n                if (headerRect[2 + weakElement.primary] > fitRect[2 + weakElement.primary]) {\r\n                    rect[2 + weakElement.primary] = fitRect[2 + weakElement.primary];\r\n                    headerRect = processBackwardHeaderRect(header, rect, rect)\r\n                }\r\n                weakElement.element.move(weakRect);\r\n                header.element.move(headerRect, headerFitReact)\r\n            },\r\n            freeSpace: function() {\r\n                header.element.freeSpace();\r\n                weakElement.element.freeSpace()\r\n            }\r\n        }\r\n    }\r\n}\r\nmodule.exports = Layout;\r\n"]},"metadata":{},"sourceType":"module"}