{"ast":null,"code":"/**\r\n * DevExtreme (ui/list/ui.list.base.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar eventsEngine = require(\"../../events/core/events_engine\");\n\nvar commonUtils = require(\"../../core/utils/common\");\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar iconUtils = require(\"../../core/utils/icon\");\n\nvar getPublicElement = require(\"../../core/utils/dom\").getPublicElement;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar compileGetter = require(\"../../core/utils/data\").compileGetter;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar fx = require(\"../../animation/fx\");\n\nvar clickEvent = require(\"../../events/click\");\n\nvar swipeEvents = require(\"../../events/swipe\");\n\nvar support = require(\"../../core/utils/support\");\n\nvar messageLocalization = require(\"../../localization/message\");\n\nvar inkRipple = require(\"../widget/utils.ink_ripple\");\n\nvar devices = require(\"../../core/devices\");\n\nvar ListItem = require(\"./item\");\n\nvar Button = require(\"../button\");\n\nvar eventUtils = require(\"../../events/utils\");\n\nvar themes = require(\"../themes\");\n\nvar windowUtils = require(\"../../core/utils/window\");\n\nvar ScrollView = require(\"../scroll_view\");\n\nvar deviceDependentOptions = require(\"../scroll_view/ui.scrollable\").deviceDependentOptions;\n\nvar CollectionWidget = require(\"../collection/ui.collection_widget.live_update\").default;\n\nvar BindableTemplate = require(\"../../core/templates/bindable_template\").BindableTemplate;\n\nvar Deferred = require(\"../../core/utils/deferred\").Deferred;\n\nvar DataConverterMixin = require(\"../shared/grouped_data_converter_mixin\").default;\n\nvar LIST_CLASS = \"dx-list\";\nvar LIST_ITEM_CLASS = \"dx-list-item\";\nvar LIST_ITEM_SELECTOR = \".\" + LIST_ITEM_CLASS;\nvar LIST_ITEM_ICON_CONTAINER_CLASS = \"dx-list-item-icon-container\";\nvar LIST_ITEM_ICON_CLASS = \"dx-list-item-icon\";\nvar LIST_GROUP_CLASS = \"dx-list-group\";\nvar LIST_GROUP_HEADER_CLASS = \"dx-list-group-header\";\nvar LIST_GROUP_BODY_CLASS = \"dx-list-group-body\";\nvar LIST_COLLAPSIBLE_GROUPS_CLASS = \"dx-list-collapsible-groups\";\nvar LIST_GROUP_COLLAPSED_CLASS = \"dx-list-group-collapsed\";\nvar LIST_GROUP_HEADER_INDICATOR_CLASS = \"dx-list-group-header-indicator\";\nvar LIST_HAS_NEXT_CLASS = \"dx-has-next\";\nvar LIST_NEXT_BUTTON_CLASS = \"dx-list-next-button\";\nvar WRAP_ITEM_TEXT_CLASS = \"dx-wrap-item-text\";\nvar SELECT_ALL_ITEM_SELECTOR = \".dx-list-select-all\";\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\nvar LIST_FEEDBACK_SHOW_TIMEOUT = 70;\nvar groupItemsGetter = compileGetter(\"items\");\nvar ListBase = CollectionWidget.inherit({\n  _activeStateUnit: [LIST_ITEM_SELECTOR, SELECT_ALL_ITEM_SELECTOR].join(\",\"),\n  _supportedKeys: function _supportedKeys() {\n    var that = this;\n\n    var moveFocusPerPage = function moveFocusPerPage(direction) {\n      var $item = getEdgeVisibleItem(direction);\n      var isFocusedItem = $item.is(that.option(\"focusedElement\"));\n\n      if (isFocusedItem) {\n        scrollListTo($item, direction);\n        $item = getEdgeVisibleItem(direction);\n      }\n\n      that.option(\"focusedElement\", getPublicElement($item));\n      that.scrollToItem($item);\n    };\n\n    var getEdgeVisibleItem = function getEdgeVisibleItem(direction) {\n      var scrollTop = that.scrollTop();\n      var containerHeight = that.$element().height();\n      var $item = $(that.option(\"focusedElement\"));\n      var isItemVisible = true;\n\n      if (!$item.length) {\n        return $();\n      }\n\n      while (isItemVisible) {\n        var $nextItem = $item[direction]();\n\n        if (!$nextItem.length) {\n          break;\n        }\n\n        var nextItemLocation = $nextItem.position().top + $nextItem.outerHeight() / 2;\n        isItemVisible = nextItemLocation < containerHeight + scrollTop && nextItemLocation > scrollTop;\n\n        if (isItemVisible) {\n          $item = $nextItem;\n        }\n      }\n\n      return $item;\n    };\n\n    var scrollListTo = function scrollListTo($item, direction) {\n      var resultPosition = $item.position().top;\n\n      if (\"prev\" === direction) {\n        resultPosition = $item.position().top - that.$element().height() + $item.outerHeight();\n      }\n\n      that.scrollTo(resultPosition);\n    };\n\n    return extend(this.callBase(), {\n      leftArrow: commonUtils.noop,\n      rightArrow: commonUtils.noop,\n      pageUp: function pageUp() {\n        moveFocusPerPage(\"prev\");\n        return false;\n      },\n      pageDown: function pageDown() {\n        moveFocusPerPage(\"next\");\n        return false;\n      }\n    });\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      hoverStateEnabled: true,\n      pullRefreshEnabled: false,\n      scrollingEnabled: true,\n      showScrollbar: \"onScroll\",\n      useNativeScrolling: true,\n      bounceEnabled: true,\n      scrollByContent: true,\n      scrollByThumb: false,\n      pullingDownText: messageLocalization.format(\"dxList-pullingDownText\"),\n      pulledDownText: messageLocalization.format(\"dxList-pulledDownText\"),\n      refreshingText: messageLocalization.format(\"dxList-refreshingText\"),\n      pageLoadingText: messageLocalization.format(\"dxList-pageLoadingText\"),\n      onScroll: null,\n      onPullRefresh: null,\n      onPageLoading: null,\n      pageLoadMode: \"scrollBottom\",\n      nextButtonText: messageLocalization.format(\"dxList-nextButtonText\"),\n      onItemSwipe: null,\n      grouped: false,\n      onGroupRendered: null,\n      collapsibleGroups: false,\n      groupTemplate: \"group\",\n      indicateLoading: true,\n      activeStateEnabled: true,\n      _itemAttributes: {\n        role: \"option\"\n      },\n      _listAttributes: {\n        role: \"listbox\"\n      },\n      useInkRipple: false,\n      wrapItemText: false,\n      showChevronExpr: function showChevronExpr(data) {\n        return data ? data.showChevron : void 0;\n      },\n      badgeExpr: function badgeExpr(data) {\n        return data ? data.badge : void 0;\n      }\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    var themeName = themes.current();\n    return this.callBase().concat(deviceDependentOptions(), [{\n      device: function device() {\n        return !support.nativeScrolling;\n      },\n      options: {\n        useNativeScrolling: false\n      }\n    }, {\n      device: function device(_device) {\n        return !support.nativeScrolling && !devices.isSimulator() && \"desktop\" === devices.real().deviceType && \"generic\" === _device.platform;\n      },\n      options: {\n        showScrollbar: \"onHover\",\n        pageLoadMode: \"nextButton\"\n      }\n    }, {\n      device: function device() {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function device() {\n        return themes.isMaterial(themeName);\n      },\n      options: {\n        pullingDownText: \"\",\n        pulledDownText: \"\",\n        refreshingText: \"\",\n        pageLoadingText: \"\",\n        useInkRipple: true\n      }\n    }]);\n  },\n  _visibilityChanged: function _visibilityChanged(visible) {\n    if (visible) {\n      this._updateLoadingState(true);\n    }\n  },\n  _itemClass: function _itemClass() {\n    return LIST_ITEM_CLASS;\n  },\n  _itemDataKey: function _itemDataKey() {\n    return LIST_ITEM_DATA_KEY;\n  },\n  _itemContainer: function _itemContainer() {\n    return this._$container;\n  },\n  _refreshItemElements: function _refreshItemElements() {\n    if (!this.option(\"grouped\")) {\n      this._itemElementsCache = this._itemContainer().children(this._itemSelector());\n    } else {\n      this._itemElementsCache = this._itemContainer().children(\".\" + LIST_GROUP_CLASS).children(\".\" + LIST_GROUP_BODY_CLASS).children(this._itemSelector());\n    }\n  },\n  _modifyByChanges: function _modifyByChanges() {\n    this.callBase.apply(this, arguments);\n\n    this._refreshItemElements();\n\n    this._updateLoadingState();\n  },\n  reorderItem: function reorderItem(itemElement, toItemElement) {\n    var promise = this.callBase(itemElement, toItemElement);\n    return promise.done(function () {\n      this._refreshItemElements();\n    });\n  },\n  deleteItem: function deleteItem(itemElement) {\n    var promise = this.callBase(itemElement);\n    return promise.done(function () {\n      this._refreshItemElements();\n    });\n  },\n  _itemElements: function _itemElements() {\n    return this._itemElementsCache;\n  },\n  _itemSelectHandler: function _itemSelectHandler(e) {\n    if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\n      return;\n    }\n\n    this.callBase(e);\n  },\n  _allowDynamicItemsAppend: function _allowDynamicItemsAppend() {\n    return true;\n  },\n  _init: function _init() {\n    this.callBase();\n    this._$container = this.$element();\n\n    this._initScrollView();\n\n    this._feedbackShowTimeout = LIST_FEEDBACK_SHOW_TIMEOUT;\n\n    this._createGroupRenderAction();\n  },\n  _scrollBottomMode: function _scrollBottomMode() {\n    return \"scrollBottom\" === this.option(\"pageLoadMode\");\n  },\n  _nextButtonMode: function _nextButtonMode() {\n    return \"nextButton\" === this.option(\"pageLoadMode\");\n  },\n  _dataSourceOptions: function _dataSourceOptions() {\n    var scrollBottom = this._scrollBottomMode();\n\n    var nextButton = this._nextButtonMode();\n\n    return extend(this.callBase(), {\n      paginate: commonUtils.ensureDefined(scrollBottom || nextButton, true)\n    });\n  },\n  _getGroupedOption: function _getGroupedOption() {\n    return this.option(\"grouped\");\n  },\n  _dataSourceFromUrlLoadMode: function _dataSourceFromUrlLoadMode() {\n    return \"raw\";\n  },\n  _initScrollView: function _initScrollView() {\n    var scrollingEnabled = this.option(\"scrollingEnabled\");\n    var pullRefreshEnabled = scrollingEnabled && this.option(\"pullRefreshEnabled\");\n    var autoPagingEnabled = scrollingEnabled && this._scrollBottomMode() && !!this._dataSource;\n    this._scrollView = this._createComponent(this.$element(), ScrollView, {\n      disabled: this.option(\"disabled\") || !scrollingEnabled,\n      onScroll: this._scrollHandler.bind(this),\n      onPullDown: pullRefreshEnabled ? this._pullDownHandler.bind(this) : null,\n      onReachBottom: autoPagingEnabled ? this._scrollBottomHandler.bind(this) : null,\n      showScrollbar: this.option(\"showScrollbar\"),\n      useNative: this.option(\"useNativeScrolling\"),\n      bounceEnabled: this.option(\"bounceEnabled\"),\n      scrollByContent: this.option(\"scrollByContent\"),\n      scrollByThumb: this.option(\"scrollByThumb\"),\n      pullingDownText: this.option(\"pullingDownText\"),\n      pulledDownText: this.option(\"pulledDownText\"),\n      refreshingText: this.option(\"refreshingText\"),\n      reachBottomText: this.option(\"pageLoadingText\"),\n      useKeyboard: false\n    });\n    this._$container = $(this._scrollView.content());\n\n    if (this.option(\"wrapItemText\")) {\n      this._$container.addClass(WRAP_ITEM_TEXT_CLASS);\n    }\n\n    this._createScrollViewActions();\n  },\n  _createScrollViewActions: function _createScrollViewActions() {\n    this._scrollAction = this._createActionByOption(\"onScroll\");\n    this._pullRefreshAction = this._createActionByOption(\"onPullRefresh\");\n    this._pageLoadingAction = this._createActionByOption(\"onPageLoading\");\n  },\n  _scrollHandler: function _scrollHandler(e) {\n    this._scrollAction && this._scrollAction(e);\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n    this._defaultTemplates.group = new BindableTemplate(function ($container, data) {\n      if (typeUtils.isPlainObject(data)) {\n        if (data.key) {\n          $container.text(data.key);\n        }\n      } else {\n        $container.text(String(data));\n      }\n    }, [\"key\"], this.option(\"integrationOptions.watchMethod\"));\n  },\n  _prepareDefaultItemTemplate: function _prepareDefaultItemTemplate(data, $container) {\n    this.callBase(data, $container);\n\n    if (data.icon) {\n      var $icon = iconUtils.getImageContainer(data.icon).addClass(LIST_ITEM_ICON_CLASS);\n      var $iconContainer = $(\"<div>\").addClass(LIST_ITEM_ICON_CONTAINER_CLASS);\n      $iconContainer.append($icon);\n      $container.prepend($iconContainer);\n    }\n  },\n  _getBindableFields: function _getBindableFields() {\n    return [\"text\", \"html\", \"icon\"];\n  },\n  _updateLoadingState: function _updateLoadingState(tryLoadMore) {\n    var isDataLoaded = !tryLoadMore || this._isLastPage();\n\n    var scrollBottomMode = this._scrollBottomMode();\n\n    var stopLoading = isDataLoaded || !scrollBottomMode;\n    var hideLoadIndicator = stopLoading && !this._isDataSourceLoading();\n\n    if (stopLoading || this._scrollViewIsFull()) {\n      this._scrollView.release(hideLoadIndicator);\n\n      this._toggleNextButton(this._shouldRenderNextButton() && !this._isLastPage());\n\n      this._loadIndicationSuppressed(false);\n    } else {\n      this._infiniteDataLoading();\n    }\n  },\n  _shouldRenderNextButton: function _shouldRenderNextButton() {\n    return this._nextButtonMode() && this._dataSource && this._dataSource.isLoaded();\n  },\n  _dataSourceLoadingChangedHandler: function _dataSourceLoadingChangedHandler(isLoading) {\n    if (this._loadIndicationSuppressed()) {\n      return;\n    }\n\n    if (isLoading && this.option(\"indicateLoading\")) {\n      this._showLoadingIndicatorTimer = setTimeout(function () {\n        var isEmpty = !this._itemElements().length;\n\n        if (this._scrollView && !isEmpty) {\n          this._scrollView.startLoading();\n        }\n      }.bind(this));\n    } else {\n      clearTimeout(this._showLoadingIndicatorTimer);\n      this._scrollView && this._scrollView.finishLoading();\n    }\n  },\n  _dataSourceChangedHandler: function _dataSourceChangedHandler(newItems) {\n    if (!this._shouldAppendItems() && windowUtils.hasWindow()) {\n      this._scrollView && this._scrollView.scrollTo(0);\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _refreshContent: function _refreshContent() {\n    this._prepareContent();\n\n    this._fireContentReadyAction();\n  },\n  _hideLoadingIfLoadIndicationOff: function _hideLoadingIfLoadIndicationOff() {\n    if (!this.option(\"indicateLoading\")) {\n      this._dataSourceLoadingChangedHandler(false);\n    }\n  },\n  _loadIndicationSuppressed: function _loadIndicationSuppressed(value) {\n    if (!arguments.length) {\n      return this._isLoadIndicationSuppressed;\n    }\n\n    this._isLoadIndicationSuppressed = value;\n  },\n  _scrollViewIsFull: function _scrollViewIsFull() {\n    return !this._scrollView || this._scrollView.isFull();\n  },\n  _pullDownHandler: function _pullDownHandler(e) {\n    this._pullRefreshAction(e);\n\n    if (this._dataSource && !this._isDataSourceLoading()) {\n      this._clearSelectedItems();\n\n      this._dataSource.pageIndex(0);\n\n      this._dataSource.reload();\n    } else {\n      this._updateLoadingState();\n    }\n  },\n  _infiniteDataLoading: function _infiniteDataLoading() {\n    var isElementVisible = this.$element().is(\":visible\");\n\n    if (isElementVisible && !this._scrollViewIsFull() && !this._isDataSourceLoading() && !this._isLastPage()) {\n      clearTimeout(this._loadNextPageTimer);\n      this._loadNextPageTimer = setTimeout(this._loadNextPage.bind(this));\n    }\n  },\n  _scrollBottomHandler: function _scrollBottomHandler(e) {\n    this._pageLoadingAction(e);\n\n    if (!this._isDataSourceLoading() && !this._isLastPage()) {\n      this._loadNextPage();\n    } else {\n      this._updateLoadingState();\n    }\n  },\n  _renderItems: function _renderItems(items) {\n    if (this.option(\"grouped\")) {\n      each(items, this._renderGroup.bind(this));\n\n      this._attachGroupCollapseEvent();\n\n      this._renderEmptyMessage();\n\n      if (themes.isMaterial()) {\n        this.attachGroupHeaderInkRippleEvents();\n      }\n    } else {\n      this.callBase.apply(this, arguments);\n    }\n\n    this._refreshItemElements();\n\n    this._updateLoadingState(true);\n  },\n  _attachGroupCollapseEvent: function _attachGroupCollapseEvent() {\n    var eventName = eventUtils.addNamespace(clickEvent.name, this.NAME);\n    var selector = \".\" + LIST_GROUP_HEADER_CLASS;\n    var $element = this.$element();\n    var collapsibleGroups = this.option(\"collapsibleGroups\");\n    $element.toggleClass(LIST_COLLAPSIBLE_GROUPS_CLASS, collapsibleGroups);\n    eventsEngine.off($element, eventName, selector);\n\n    if (collapsibleGroups) {\n      eventsEngine.on($element, eventName, selector, function (e) {\n        this._createAction(function (e) {\n          var $group = $(e.event.currentTarget).parent();\n\n          this._collapseGroupHandler($group);\n\n          if (this.option(\"focusStateEnabled\")) {\n            this.option(\"focusedElement\", getPublicElement($group.find(\".\" + LIST_ITEM_CLASS).eq(0)));\n          }\n        }.bind(this), {\n          validatingTargetName: \"element\"\n        })({\n          event: e\n        });\n      }.bind(this));\n    }\n  },\n  _collapseGroupHandler: function _collapseGroupHandler($group, toggle) {\n    var deferred = new Deferred();\n\n    if ($group.hasClass(LIST_GROUP_COLLAPSED_CLASS) === toggle) {\n      return deferred.resolve();\n    }\n\n    var $groupBody = $group.children(\".\" + LIST_GROUP_BODY_CLASS);\n    var startHeight = $groupBody.outerHeight();\n    var endHeight = 0 === startHeight ? $groupBody.height(\"auto\").outerHeight() : 0;\n    $group.toggleClass(LIST_GROUP_COLLAPSED_CLASS, toggle);\n    fx.animate($groupBody, {\n      type: \"custom\",\n      from: {\n        height: startHeight\n      },\n      to: {\n        height: endHeight\n      },\n      duration: 200,\n      complete: function () {\n        this.updateDimensions();\n\n        this._updateLoadingState();\n\n        deferred.resolve();\n      }.bind(this)\n    });\n    return deferred.promise();\n  },\n  _dataSourceLoadErrorHandler: function _dataSourceLoadErrorHandler() {\n    this._forgetNextPageLoading();\n\n    if (this._initialized) {\n      this._renderEmptyMessage();\n\n      this._updateLoadingState();\n    }\n  },\n  _initMarkup: function _initMarkup() {\n    this._itemElementsCache = $();\n    this.$element().addClass(LIST_CLASS);\n    this.callBase();\n    this.option(\"useInkRipple\") && this._renderInkRipple();\n    this.setAria(\"role\", this.option(\"_listAttributes\").role);\n  },\n  _renderInkRipple: function _renderInkRipple() {\n    this._inkRipple = inkRipple.render();\n  },\n  _toggleActiveState: function _toggleActiveState($element, value, e) {\n    this.callBase.apply(this, arguments);\n    var that = this;\n\n    if (!this._inkRipple) {\n      return;\n    }\n\n    var config = {\n      element: $element,\n      event: e\n    };\n\n    if (value) {\n      if (themes.isMaterial()) {\n        this._inkRippleTimer = setTimeout(function () {\n          that._inkRipple.showWave(config);\n        }, LIST_FEEDBACK_SHOW_TIMEOUT / 2);\n      } else {\n        that._inkRipple.showWave(config);\n      }\n    } else {\n      clearTimeout(this._inkRippleTimer);\n\n      this._inkRipple.hideWave(config);\n    }\n  },\n  _postprocessRenderItem: function _postprocessRenderItem(args) {\n    this._refreshItemElements();\n\n    this.callBase.apply(this, arguments);\n\n    if (this.option(\"onItemSwipe\")) {\n      this._attachSwipeEvent($(args.itemElement));\n    }\n  },\n  _attachSwipeEvent: function _attachSwipeEvent($itemElement) {\n    var endEventName = eventUtils.addNamespace(swipeEvents.end, this.NAME);\n    eventsEngine.on($itemElement, endEventName, this._itemSwipeEndHandler.bind(this));\n  },\n  _itemSwipeEndHandler: function _itemSwipeEndHandler(e) {\n    this._itemDXEventHandler(e, \"onItemSwipe\", {\n      direction: e.offset < 0 ? \"left\" : \"right\"\n    });\n  },\n  _nextButtonHandler: function _nextButtonHandler() {\n    var source = this._dataSource;\n\n    if (source && !source.isLoading()) {\n      this._scrollView.toggleLoading(true);\n\n      this._$nextButton.detach();\n\n      this._loadIndicationSuppressed(true);\n\n      this._loadNextPage();\n    }\n  },\n  _renderGroup: function _renderGroup(index, group) {\n    var $groupElement = $(\"<div>\").addClass(LIST_GROUP_CLASS).appendTo(this._itemContainer());\n    var $groupHeaderElement = $(\"<div>\").addClass(LIST_GROUP_HEADER_CLASS).appendTo($groupElement);\n    var groupTemplateName = this.option(\"groupTemplate\");\n\n    var groupTemplate = this._getTemplate(group.template || groupTemplateName, group, index, $groupHeaderElement);\n\n    var renderArgs = {\n      index: index,\n      itemData: group,\n      container: getPublicElement($groupHeaderElement)\n    };\n\n    this._createItemByTemplate(groupTemplate, renderArgs);\n\n    if (themes.isMaterial()) {\n      $(\"<div>\").addClass(LIST_GROUP_HEADER_INDICATOR_CLASS).prependTo($groupHeaderElement);\n    }\n\n    this._renderingGroupIndex = index;\n    var $groupBody = $(\"<div>\").addClass(LIST_GROUP_BODY_CLASS).appendTo($groupElement);\n    each(groupItemsGetter(group) || [], function (index, item) {\n      this._renderItem(index, item, $groupBody);\n    }.bind(this));\n\n    this._groupRenderAction({\n      groupElement: getPublicElement($groupElement),\n      groupIndex: index,\n      groupData: group\n    });\n  },\n  attachGroupHeaderInkRippleEvents: function attachGroupHeaderInkRippleEvents() {\n    var that = this;\n    var selector = \".\" + LIST_GROUP_HEADER_CLASS;\n    var $element = this.$element();\n    eventsEngine.on($element, \"dxpointerdown\", selector, function (e) {\n      that._toggleActiveState($(e.currentTarget), true, e);\n    });\n    eventsEngine.on($element, \"dxpointerup dxhoverend\", selector, function (e) {\n      that._toggleActiveState($(e.currentTarget), false);\n    });\n  },\n  _createGroupRenderAction: function _createGroupRenderAction() {\n    this._groupRenderAction = this._createActionByOption(\"onGroupRendered\");\n  },\n  _clean: function _clean() {\n    clearTimeout(this._inkRippleTimer);\n\n    if (this._$nextButton) {\n      this._$nextButton.remove();\n\n      this._$nextButton = null;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _dispose: function _dispose() {\n    clearTimeout(this._holdTimer);\n    clearTimeout(this._loadNextPageTimer);\n    clearTimeout(this._showLoadingIndicatorTimer);\n    this.callBase();\n  },\n  _toggleDisabledState: function _toggleDisabledState(value) {\n    this.callBase(value);\n\n    this._scrollView.option(\"disabled\", value || !this.option(\"scrollingEnabled\"));\n  },\n  _toggleNextButton: function _toggleNextButton(value) {\n    var dataSource = this._dataSource;\n\n    var $nextButton = this._getNextButton();\n\n    this.$element().toggleClass(LIST_HAS_NEXT_CLASS, value);\n\n    if (value && dataSource && dataSource.isLoaded()) {\n      $nextButton.appendTo(this._itemContainer());\n    }\n\n    if (!value) {\n      $nextButton.detach();\n    }\n  },\n  _getNextButton: function _getNextButton() {\n    if (!this._$nextButton) {\n      this._$nextButton = this._createNextButton();\n    }\n\n    return this._$nextButton;\n  },\n  _createNextButton: function _createNextButton() {\n    var $result = $(\"<div>\").addClass(LIST_NEXT_BUTTON_CLASS);\n    var $button = $(\"<div>\").appendTo($result);\n\n    this._createComponent($button, Button, {\n      text: this.option(\"nextButtonText\"),\n      onClick: this._nextButtonHandler.bind(this),\n      type: themes.isMaterial() ? \"default\" : void 0,\n      integrationOptions: {}\n    });\n\n    return $result;\n  },\n  _moveFocus: function _moveFocus() {\n    this.callBase.apply(this, arguments);\n    this.scrollToItem(this.option(\"focusedElement\"));\n  },\n  _refresh: function _refresh() {\n    if (!windowUtils.hasWindow()) {\n      this.callBase();\n    } else {\n      var scrollTop = this._scrollView.scrollTop();\n\n      this.callBase();\n      scrollTop && this._scrollView.scrollTo(scrollTop);\n    }\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"pageLoadMode\":\n        this._toggleNextButton(args.value);\n\n        this._initScrollView();\n\n        break;\n\n      case \"dataSource\":\n        this.callBase(args);\n\n        this._initScrollView();\n\n        break;\n\n      case \"pullingDownText\":\n      case \"pulledDownText\":\n      case \"refreshingText\":\n      case \"pageLoadingText\":\n      case \"useNative\":\n      case \"showScrollbar\":\n      case \"bounceEnabled\":\n      case \"scrollByContent\":\n      case \"scrollByThumb\":\n      case \"scrollingEnabled\":\n      case \"pullRefreshEnabled\":\n        this._initScrollView();\n\n        this._updateLoadingState();\n\n        break;\n\n      case \"nextButtonText\":\n      case \"onItemSwipe\":\n      case \"useInkRipple\":\n        this._invalidate();\n\n        break;\n\n      case \"onScroll\":\n      case \"onPullRefresh\":\n      case \"onPageLoading\":\n        this._createScrollViewActions();\n\n        this._invalidate();\n\n        break;\n\n      case \"grouped\":\n      case \"collapsibleGroups\":\n      case \"groupTemplate\":\n        this._invalidate();\n\n        break;\n\n      case \"wrapItemText\":\n        this._$container.toggleClass(WRAP_ITEM_TEXT_CLASS, args.value);\n\n        break;\n\n      case \"onGroupRendered\":\n        this._createGroupRenderAction();\n\n        break;\n\n      case \"width\":\n      case \"height\":\n        this.callBase(args);\n\n        this._scrollView.update();\n\n        break;\n\n      case \"indicateLoading\":\n        this._hideLoadingIfLoadIndicationOff();\n\n        break;\n\n      case \"visible\":\n        this.callBase(args);\n\n        this._scrollView.update();\n\n        break;\n\n      case \"rtlEnabled\":\n        this._initScrollView();\n\n        this.callBase(args);\n        break;\n\n      case \"showChevronExpr\":\n      case \"badgeExpr\":\n        this._invalidate();\n\n        break;\n\n      case \"_listAttributes\":\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _extendActionArgs: function _extendActionArgs($itemElement) {\n    if (!this.option(\"grouped\")) {\n      return this.callBase($itemElement);\n    }\n\n    var $group = $itemElement.closest(\".\" + LIST_GROUP_CLASS);\n    var $item = $group.find(\".\" + LIST_ITEM_CLASS);\n    return extend(this.callBase($itemElement), {\n      itemIndex: {\n        group: $group.index(),\n        item: $item.index($itemElement)\n      }\n    });\n  },\n  expandGroup: function expandGroup(groupIndex) {\n    var deferred = new Deferred();\n\n    var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\n\n    this._collapseGroupHandler($group, false).done(function () {\n      deferred.resolveWith(this);\n    }.bind(this));\n\n    return deferred.promise();\n  },\n  collapseGroup: function collapseGroup(groupIndex) {\n    var deferred = new Deferred();\n\n    var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\n\n    this._collapseGroupHandler($group, true).done(function () {\n      deferred.resolveWith(this);\n    }.bind(this));\n\n    return deferred;\n  },\n  updateDimensions: function updateDimensions() {\n    var that = this;\n    var deferred = new Deferred();\n\n    if (that._scrollView) {\n      that._scrollView.update().done(function () {\n        !that._scrollViewIsFull() && that._updateLoadingState(true);\n        deferred.resolveWith(that);\n      });\n    } else {\n      deferred.resolveWith(that);\n    }\n\n    return deferred.promise();\n  },\n  reload: function reload() {\n    this.callBase();\n    this.scrollTo(0);\n\n    this._pullDownHandler();\n  },\n  repaint: function repaint() {\n    this.scrollTo(0);\n    this.callBase();\n  },\n  scrollTop: function scrollTop() {\n    return this._scrollView.scrollOffset().top;\n  },\n  clientHeight: function clientHeight() {\n    return this._scrollView.clientHeight();\n  },\n  scrollHeight: function scrollHeight() {\n    return this._scrollView.scrollHeight();\n  },\n  scrollBy: function scrollBy(distance) {\n    this._scrollView.scrollBy(distance);\n  },\n  scrollTo: function scrollTo(location) {\n    this._scrollView.scrollTo(location);\n  },\n  scrollToItem: function scrollToItem(itemElement) {\n    var $item = this._editStrategy.getItemElement(itemElement);\n\n    this._scrollView.scrollToElement($item);\n  }\n}).include(DataConverterMixin);\nListBase.ItemClass = ListItem;\nmodule.exports = ListBase;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/list/ui.list.base.js"],"names":["$","require","eventsEngine","commonUtils","typeUtils","iconUtils","getPublicElement","each","compileGetter","extend","fx","clickEvent","swipeEvents","support","messageLocalization","inkRipple","devices","ListItem","Button","eventUtils","themes","windowUtils","ScrollView","deviceDependentOptions","CollectionWidget","BindableTemplate","Deferred","DataConverterMixin","LIST_CLASS","LIST_ITEM_CLASS","LIST_ITEM_SELECTOR","LIST_ITEM_ICON_CONTAINER_CLASS","LIST_ITEM_ICON_CLASS","LIST_GROUP_CLASS","LIST_GROUP_HEADER_CLASS","LIST_GROUP_BODY_CLASS","LIST_COLLAPSIBLE_GROUPS_CLASS","LIST_GROUP_COLLAPSED_CLASS","LIST_GROUP_HEADER_INDICATOR_CLASS","LIST_HAS_NEXT_CLASS","LIST_NEXT_BUTTON_CLASS","WRAP_ITEM_TEXT_CLASS","SELECT_ALL_ITEM_SELECTOR","LIST_ITEM_DATA_KEY","LIST_FEEDBACK_SHOW_TIMEOUT","groupItemsGetter","ListBase","_activeStateUnit","_supportedKeys","that","moveFocusPerPage","$item","getEdgeVisibleItem","isFocusedItem","scrollListTo","scrollTop","containerHeight","isItemVisible","$nextItem","nextItemLocation","resultPosition","leftArrow","rightArrow","pageUp","pageDown","_getDefaultOptions","hoverStateEnabled","pullRefreshEnabled","scrollingEnabled","showScrollbar","useNativeScrolling","bounceEnabled","scrollByContent","scrollByThumb","pullingDownText","pulledDownText","refreshingText","pageLoadingText","onScroll","onPullRefresh","onPageLoading","pageLoadMode","nextButtonText","onItemSwipe","grouped","onGroupRendered","collapsibleGroups","groupTemplate","indicateLoading","activeStateEnabled","_itemAttributes","role","_listAttributes","useInkRipple","wrapItemText","showChevronExpr","data","badgeExpr","_defaultOptionsRules","themeName","device","options","_device","focusStateEnabled","_visibilityChanged","_itemClass","_itemDataKey","_itemContainer","_refreshItemElements","_modifyByChanges","reorderItem","promise","deleteItem","_itemElements","_itemSelectHandler","e","_allowDynamicItemsAppend","_init","_scrollBottomMode","_nextButtonMode","_dataSourceOptions","scrollBottom","nextButton","paginate","_getGroupedOption","_dataSourceFromUrlLoadMode","_initScrollView","autoPagingEnabled","disabled","onPullDown","onReachBottom","useNative","reachBottomText","useKeyboard","_createScrollViewActions","_scrollHandler","_initTemplates","$container","String","_prepareDefaultItemTemplate","$icon","$iconContainer","_getBindableFields","_updateLoadingState","isDataLoaded","scrollBottomMode","stopLoading","hideLoadIndicator","_shouldRenderNextButton","_dataSourceLoadingChangedHandler","isLoading","setTimeout","isEmpty","clearTimeout","_dataSourceChangedHandler","_refreshContent","_hideLoadingIfLoadIndicationOff","_loadIndicationSuppressed","arguments","_scrollViewIsFull","_pullDownHandler","_infiniteDataLoading","isElementVisible","_scrollBottomHandler","_renderItems","_attachGroupCollapseEvent","eventName","selector","$element","$group","validatingTargetName","event","_collapseGroupHandler","deferred","$groupBody","startHeight","endHeight","type","from","height","to","duration","complete","_dataSourceLoadErrorHandler","_initMarkup","_renderInkRipple","_toggleActiveState","config","element","_postprocessRenderItem","args","_attachSwipeEvent","endEventName","_itemSwipeEndHandler","direction","_nextButtonHandler","source","_renderGroup","$groupElement","$groupHeaderElement","groupTemplateName","group","renderArgs","index","itemData","container","groupElement","groupIndex","groupData","attachGroupHeaderInkRippleEvents","_createGroupRenderAction","_clean","_dispose","_toggleDisabledState","value","_toggleNextButton","dataSource","$nextButton","_getNextButton","_createNextButton","$result","$button","text","onClick","integrationOptions","_moveFocus","_refresh","_optionChanged","_extendActionArgs","$itemElement","itemIndex","item","expandGroup","collapseGroup","updateDimensions","reload","repaint","clientHeight","scrollHeight","scrollBy","scrollTo","scrollToItem","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/list/ui.list.base.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar eventsEngine = require(\"../../events/core/events_engine\");\r\nvar commonUtils = require(\"../../core/utils/common\");\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar iconUtils = require(\"../../core/utils/icon\");\r\nvar getPublicElement = require(\"../../core/utils/dom\").getPublicElement;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar compileGetter = require(\"../../core/utils/data\").compileGetter;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar fx = require(\"../../animation/fx\");\r\nvar clickEvent = require(\"../../events/click\");\r\nvar swipeEvents = require(\"../../events/swipe\");\r\nvar support = require(\"../../core/utils/support\");\r\nvar messageLocalization = require(\"../../localization/message\");\r\nvar inkRipple = require(\"../widget/utils.ink_ripple\");\r\nvar devices = require(\"../../core/devices\");\r\nvar ListItem = require(\"./item\");\r\nvar Button = require(\"../button\");\r\nvar eventUtils = require(\"../../events/utils\");\r\nvar themes = require(\"../themes\");\r\nvar windowUtils = require(\"../../core/utils/window\");\r\nvar ScrollView = require(\"../scroll_view\");\r\nvar deviceDependentOptions = require(\"../scroll_view/ui.scrollable\").deviceDependentOptions;\r\nvar CollectionWidget = require(\"../collection/ui.collection_widget.live_update\").default;\r\nvar BindableTemplate = require(\"../../core/templates/bindable_template\").BindableTemplate;\r\nvar Deferred = require(\"../../core/utils/deferred\").Deferred;\r\nvar DataConverterMixin = require(\"../shared/grouped_data_converter_mixin\").default;\r\nvar LIST_CLASS = \"dx-list\";\r\nvar LIST_ITEM_CLASS = \"dx-list-item\";\r\nvar LIST_ITEM_SELECTOR = \".\" + LIST_ITEM_CLASS;\r\nvar LIST_ITEM_ICON_CONTAINER_CLASS = \"dx-list-item-icon-container\";\r\nvar LIST_ITEM_ICON_CLASS = \"dx-list-item-icon\";\r\nvar LIST_GROUP_CLASS = \"dx-list-group\";\r\nvar LIST_GROUP_HEADER_CLASS = \"dx-list-group-header\";\r\nvar LIST_GROUP_BODY_CLASS = \"dx-list-group-body\";\r\nvar LIST_COLLAPSIBLE_GROUPS_CLASS = \"dx-list-collapsible-groups\";\r\nvar LIST_GROUP_COLLAPSED_CLASS = \"dx-list-group-collapsed\";\r\nvar LIST_GROUP_HEADER_INDICATOR_CLASS = \"dx-list-group-header-indicator\";\r\nvar LIST_HAS_NEXT_CLASS = \"dx-has-next\";\r\nvar LIST_NEXT_BUTTON_CLASS = \"dx-list-next-button\";\r\nvar WRAP_ITEM_TEXT_CLASS = \"dx-wrap-item-text\";\r\nvar SELECT_ALL_ITEM_SELECTOR = \".dx-list-select-all\";\r\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\r\nvar LIST_FEEDBACK_SHOW_TIMEOUT = 70;\r\nvar groupItemsGetter = compileGetter(\"items\");\r\nvar ListBase = CollectionWidget.inherit({\r\n    _activeStateUnit: [LIST_ITEM_SELECTOR, SELECT_ALL_ITEM_SELECTOR].join(\",\"),\r\n    _supportedKeys: function() {\r\n        var that = this;\r\n        var moveFocusPerPage = function(direction) {\r\n            var $item = getEdgeVisibleItem(direction);\r\n            var isFocusedItem = $item.is(that.option(\"focusedElement\"));\r\n            if (isFocusedItem) {\r\n                scrollListTo($item, direction);\r\n                $item = getEdgeVisibleItem(direction)\r\n            }\r\n            that.option(\"focusedElement\", getPublicElement($item));\r\n            that.scrollToItem($item)\r\n        };\r\n        var getEdgeVisibleItem = function(direction) {\r\n            var scrollTop = that.scrollTop();\r\n            var containerHeight = that.$element().height();\r\n            var $item = $(that.option(\"focusedElement\"));\r\n            var isItemVisible = true;\r\n            if (!$item.length) {\r\n                return $()\r\n            }\r\n            while (isItemVisible) {\r\n                var $nextItem = $item[direction]();\r\n                if (!$nextItem.length) {\r\n                    break\r\n                }\r\n                var nextItemLocation = $nextItem.position().top + $nextItem.outerHeight() / 2;\r\n                isItemVisible = nextItemLocation < containerHeight + scrollTop && nextItemLocation > scrollTop;\r\n                if (isItemVisible) {\r\n                    $item = $nextItem\r\n                }\r\n            }\r\n            return $item\r\n        };\r\n        var scrollListTo = function($item, direction) {\r\n            var resultPosition = $item.position().top;\r\n            if (\"prev\" === direction) {\r\n                resultPosition = $item.position().top - that.$element().height() + $item.outerHeight()\r\n            }\r\n            that.scrollTo(resultPosition)\r\n        };\r\n        return extend(this.callBase(), {\r\n            leftArrow: commonUtils.noop,\r\n            rightArrow: commonUtils.noop,\r\n            pageUp: function() {\r\n                moveFocusPerPage(\"prev\");\r\n                return false\r\n            },\r\n            pageDown: function() {\r\n                moveFocusPerPage(\"next\");\r\n                return false\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            pullRefreshEnabled: false,\r\n            scrollingEnabled: true,\r\n            showScrollbar: \"onScroll\",\r\n            useNativeScrolling: true,\r\n            bounceEnabled: true,\r\n            scrollByContent: true,\r\n            scrollByThumb: false,\r\n            pullingDownText: messageLocalization.format(\"dxList-pullingDownText\"),\r\n            pulledDownText: messageLocalization.format(\"dxList-pulledDownText\"),\r\n            refreshingText: messageLocalization.format(\"dxList-refreshingText\"),\r\n            pageLoadingText: messageLocalization.format(\"dxList-pageLoadingText\"),\r\n            onScroll: null,\r\n            onPullRefresh: null,\r\n            onPageLoading: null,\r\n            pageLoadMode: \"scrollBottom\",\r\n            nextButtonText: messageLocalization.format(\"dxList-nextButtonText\"),\r\n            onItemSwipe: null,\r\n            grouped: false,\r\n            onGroupRendered: null,\r\n            collapsibleGroups: false,\r\n            groupTemplate: \"group\",\r\n            indicateLoading: true,\r\n            activeStateEnabled: true,\r\n            _itemAttributes: {\r\n                role: \"option\"\r\n            },\r\n            _listAttributes: {\r\n                role: \"listbox\"\r\n            },\r\n            useInkRipple: false,\r\n            wrapItemText: false,\r\n            showChevronExpr: function(data) {\r\n                return data ? data.showChevron : void 0\r\n            },\r\n            badgeExpr: function(data) {\r\n                return data ? data.badge : void 0\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = themes.current();\r\n        return this.callBase().concat(deviceDependentOptions(), [{\r\n            device: function() {\r\n                return !support.nativeScrolling\r\n            },\r\n            options: {\r\n                useNativeScrolling: false\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return !support.nativeScrolling && !devices.isSimulator() && \"desktop\" === devices.real().deviceType && \"generic\" === _device.platform\r\n            },\r\n            options: {\r\n                showScrollbar: \"onHover\",\r\n                pageLoadMode: \"nextButton\"\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return themes.isMaterial(themeName)\r\n            },\r\n            options: {\r\n                pullingDownText: \"\",\r\n                pulledDownText: \"\",\r\n                refreshingText: \"\",\r\n                pageLoadingText: \"\",\r\n                useInkRipple: true\r\n            }\r\n        }])\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._updateLoadingState(true)\r\n        }\r\n    },\r\n    _itemClass: function() {\r\n        return LIST_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return LIST_ITEM_DATA_KEY\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$container\r\n    },\r\n    _refreshItemElements: function() {\r\n        if (!this.option(\"grouped\")) {\r\n            this._itemElementsCache = this._itemContainer().children(this._itemSelector())\r\n        } else {\r\n            this._itemElementsCache = this._itemContainer().children(\".\" + LIST_GROUP_CLASS).children(\".\" + LIST_GROUP_BODY_CLASS).children(this._itemSelector())\r\n        }\r\n    },\r\n    _modifyByChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._refreshItemElements();\r\n        this._updateLoadingState()\r\n    },\r\n    reorderItem: function(itemElement, toItemElement) {\r\n        var promise = this.callBase(itemElement, toItemElement);\r\n        return promise.done(function() {\r\n            this._refreshItemElements()\r\n        })\r\n    },\r\n    deleteItem: function(itemElement) {\r\n        var promise = this.callBase(itemElement);\r\n        return promise.done(function() {\r\n            this._refreshItemElements()\r\n        })\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemElementsCache\r\n    },\r\n    _itemSelectHandler: function(e) {\r\n        if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _allowDynamicItemsAppend: function() {\r\n        return true\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._$container = this.$element();\r\n        this._initScrollView();\r\n        this._feedbackShowTimeout = LIST_FEEDBACK_SHOW_TIMEOUT;\r\n        this._createGroupRenderAction()\r\n    },\r\n    _scrollBottomMode: function() {\r\n        return \"scrollBottom\" === this.option(\"pageLoadMode\")\r\n    },\r\n    _nextButtonMode: function() {\r\n        return \"nextButton\" === this.option(\"pageLoadMode\")\r\n    },\r\n    _dataSourceOptions: function() {\r\n        var scrollBottom = this._scrollBottomMode();\r\n        var nextButton = this._nextButtonMode();\r\n        return extend(this.callBase(), {\r\n            paginate: commonUtils.ensureDefined(scrollBottom || nextButton, true)\r\n        })\r\n    },\r\n    _getGroupedOption: function() {\r\n        return this.option(\"grouped\")\r\n    },\r\n    _dataSourceFromUrlLoadMode: function() {\r\n        return \"raw\"\r\n    },\r\n    _initScrollView: function() {\r\n        var scrollingEnabled = this.option(\"scrollingEnabled\");\r\n        var pullRefreshEnabled = scrollingEnabled && this.option(\"pullRefreshEnabled\");\r\n        var autoPagingEnabled = scrollingEnabled && this._scrollBottomMode() && !!this._dataSource;\r\n        this._scrollView = this._createComponent(this.$element(), ScrollView, {\r\n            disabled: this.option(\"disabled\") || !scrollingEnabled,\r\n            onScroll: this._scrollHandler.bind(this),\r\n            onPullDown: pullRefreshEnabled ? this._pullDownHandler.bind(this) : null,\r\n            onReachBottom: autoPagingEnabled ? this._scrollBottomHandler.bind(this) : null,\r\n            showScrollbar: this.option(\"showScrollbar\"),\r\n            useNative: this.option(\"useNativeScrolling\"),\r\n            bounceEnabled: this.option(\"bounceEnabled\"),\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            scrollByThumb: this.option(\"scrollByThumb\"),\r\n            pullingDownText: this.option(\"pullingDownText\"),\r\n            pulledDownText: this.option(\"pulledDownText\"),\r\n            refreshingText: this.option(\"refreshingText\"),\r\n            reachBottomText: this.option(\"pageLoadingText\"),\r\n            useKeyboard: false\r\n        });\r\n        this._$container = $(this._scrollView.content());\r\n        if (this.option(\"wrapItemText\")) {\r\n            this._$container.addClass(WRAP_ITEM_TEXT_CLASS)\r\n        }\r\n        this._createScrollViewActions()\r\n    },\r\n    _createScrollViewActions: function() {\r\n        this._scrollAction = this._createActionByOption(\"onScroll\");\r\n        this._pullRefreshAction = this._createActionByOption(\"onPullRefresh\");\r\n        this._pageLoadingAction = this._createActionByOption(\"onPageLoading\")\r\n    },\r\n    _scrollHandler: function(e) {\r\n        this._scrollAction && this._scrollAction(e)\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._defaultTemplates.group = new BindableTemplate(function($container, data) {\r\n            if (typeUtils.isPlainObject(data)) {\r\n                if (data.key) {\r\n                    $container.text(data.key)\r\n                }\r\n            } else {\r\n                $container.text(String(data))\r\n            }\r\n        }, [\"key\"], this.option(\"integrationOptions.watchMethod\"))\r\n    },\r\n    _prepareDefaultItemTemplate: function(data, $container) {\r\n        this.callBase(data, $container);\r\n        if (data.icon) {\r\n            var $icon = iconUtils.getImageContainer(data.icon).addClass(LIST_ITEM_ICON_CLASS);\r\n            var $iconContainer = $(\"<div>\").addClass(LIST_ITEM_ICON_CONTAINER_CLASS);\r\n            $iconContainer.append($icon);\r\n            $container.prepend($iconContainer)\r\n        }\r\n    },\r\n    _getBindableFields: function() {\r\n        return [\"text\", \"html\", \"icon\"]\r\n    },\r\n    _updateLoadingState: function(tryLoadMore) {\r\n        var isDataLoaded = !tryLoadMore || this._isLastPage();\r\n        var scrollBottomMode = this._scrollBottomMode();\r\n        var stopLoading = isDataLoaded || !scrollBottomMode;\r\n        var hideLoadIndicator = stopLoading && !this._isDataSourceLoading();\r\n        if (stopLoading || this._scrollViewIsFull()) {\r\n            this._scrollView.release(hideLoadIndicator);\r\n            this._toggleNextButton(this._shouldRenderNextButton() && !this._isLastPage());\r\n            this._loadIndicationSuppressed(false)\r\n        } else {\r\n            this._infiniteDataLoading()\r\n        }\r\n    },\r\n    _shouldRenderNextButton: function() {\r\n        return this._nextButtonMode() && this._dataSource && this._dataSource.isLoaded()\r\n    },\r\n    _dataSourceLoadingChangedHandler: function(isLoading) {\r\n        if (this._loadIndicationSuppressed()) {\r\n            return\r\n        }\r\n        if (isLoading && this.option(\"indicateLoading\")) {\r\n            this._showLoadingIndicatorTimer = setTimeout(function() {\r\n                var isEmpty = !this._itemElements().length;\r\n                if (this._scrollView && !isEmpty) {\r\n                    this._scrollView.startLoading()\r\n                }\r\n            }.bind(this))\r\n        } else {\r\n            clearTimeout(this._showLoadingIndicatorTimer);\r\n            this._scrollView && this._scrollView.finishLoading()\r\n        }\r\n    },\r\n    _dataSourceChangedHandler: function(newItems) {\r\n        if (!this._shouldAppendItems() && windowUtils.hasWindow()) {\r\n            this._scrollView && this._scrollView.scrollTo(0)\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _refreshContent: function() {\r\n        this._prepareContent();\r\n        this._fireContentReadyAction()\r\n    },\r\n    _hideLoadingIfLoadIndicationOff: function() {\r\n        if (!this.option(\"indicateLoading\")) {\r\n            this._dataSourceLoadingChangedHandler(false)\r\n        }\r\n    },\r\n    _loadIndicationSuppressed: function(value) {\r\n        if (!arguments.length) {\r\n            return this._isLoadIndicationSuppressed\r\n        }\r\n        this._isLoadIndicationSuppressed = value\r\n    },\r\n    _scrollViewIsFull: function() {\r\n        return !this._scrollView || this._scrollView.isFull()\r\n    },\r\n    _pullDownHandler: function(e) {\r\n        this._pullRefreshAction(e);\r\n        if (this._dataSource && !this._isDataSourceLoading()) {\r\n            this._clearSelectedItems();\r\n            this._dataSource.pageIndex(0);\r\n            this._dataSource.reload()\r\n        } else {\r\n            this._updateLoadingState()\r\n        }\r\n    },\r\n    _infiniteDataLoading: function() {\r\n        var isElementVisible = this.$element().is(\":visible\");\r\n        if (isElementVisible && !this._scrollViewIsFull() && !this._isDataSourceLoading() && !this._isLastPage()) {\r\n            clearTimeout(this._loadNextPageTimer);\r\n            this._loadNextPageTimer = setTimeout(this._loadNextPage.bind(this))\r\n        }\r\n    },\r\n    _scrollBottomHandler: function(e) {\r\n        this._pageLoadingAction(e);\r\n        if (!this._isDataSourceLoading() && !this._isLastPage()) {\r\n            this._loadNextPage()\r\n        } else {\r\n            this._updateLoadingState()\r\n        }\r\n    },\r\n    _renderItems: function(items) {\r\n        if (this.option(\"grouped\")) {\r\n            each(items, this._renderGroup.bind(this));\r\n            this._attachGroupCollapseEvent();\r\n            this._renderEmptyMessage();\r\n            if (themes.isMaterial()) {\r\n                this.attachGroupHeaderInkRippleEvents()\r\n            }\r\n        } else {\r\n            this.callBase.apply(this, arguments)\r\n        }\r\n        this._refreshItemElements();\r\n        this._updateLoadingState(true)\r\n    },\r\n    _attachGroupCollapseEvent: function() {\r\n        var eventName = eventUtils.addNamespace(clickEvent.name, this.NAME);\r\n        var selector = \".\" + LIST_GROUP_HEADER_CLASS;\r\n        var $element = this.$element();\r\n        var collapsibleGroups = this.option(\"collapsibleGroups\");\r\n        $element.toggleClass(LIST_COLLAPSIBLE_GROUPS_CLASS, collapsibleGroups);\r\n        eventsEngine.off($element, eventName, selector);\r\n        if (collapsibleGroups) {\r\n            eventsEngine.on($element, eventName, selector, function(e) {\r\n                this._createAction(function(e) {\r\n                    var $group = $(e.event.currentTarget).parent();\r\n                    this._collapseGroupHandler($group);\r\n                    if (this.option(\"focusStateEnabled\")) {\r\n                        this.option(\"focusedElement\", getPublicElement($group.find(\".\" + LIST_ITEM_CLASS).eq(0)))\r\n                    }\r\n                }.bind(this), {\r\n                    validatingTargetName: \"element\"\r\n                })({\r\n                    event: e\r\n                })\r\n            }.bind(this))\r\n        }\r\n    },\r\n    _collapseGroupHandler: function($group, toggle) {\r\n        var deferred = new Deferred;\r\n        if ($group.hasClass(LIST_GROUP_COLLAPSED_CLASS) === toggle) {\r\n            return deferred.resolve()\r\n        }\r\n        var $groupBody = $group.children(\".\" + LIST_GROUP_BODY_CLASS);\r\n        var startHeight = $groupBody.outerHeight();\r\n        var endHeight = 0 === startHeight ? $groupBody.height(\"auto\").outerHeight() : 0;\r\n        $group.toggleClass(LIST_GROUP_COLLAPSED_CLASS, toggle);\r\n        fx.animate($groupBody, {\r\n            type: \"custom\",\r\n            from: {\r\n                height: startHeight\r\n            },\r\n            to: {\r\n                height: endHeight\r\n            },\r\n            duration: 200,\r\n            complete: function() {\r\n                this.updateDimensions();\r\n                this._updateLoadingState();\r\n                deferred.resolve()\r\n            }.bind(this)\r\n        });\r\n        return deferred.promise()\r\n    },\r\n    _dataSourceLoadErrorHandler: function() {\r\n        this._forgetNextPageLoading();\r\n        if (this._initialized) {\r\n            this._renderEmptyMessage();\r\n            this._updateLoadingState()\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this._itemElementsCache = $();\r\n        this.$element().addClass(LIST_CLASS);\r\n        this.callBase();\r\n        this.option(\"useInkRipple\") && this._renderInkRipple();\r\n        this.setAria(\"role\", this.option(\"_listAttributes\").role)\r\n    },\r\n    _renderInkRipple: function() {\r\n        this._inkRipple = inkRipple.render()\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this.callBase.apply(this, arguments);\r\n        var that = this;\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: $element,\r\n            event: e\r\n        };\r\n        if (value) {\r\n            if (themes.isMaterial()) {\r\n                this._inkRippleTimer = setTimeout(function() {\r\n                    that._inkRipple.showWave(config)\r\n                }, LIST_FEEDBACK_SHOW_TIMEOUT / 2)\r\n            } else {\r\n                that._inkRipple.showWave(config)\r\n            }\r\n        } else {\r\n            clearTimeout(this._inkRippleTimer);\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    },\r\n    _postprocessRenderItem: function(args) {\r\n        this._refreshItemElements();\r\n        this.callBase.apply(this, arguments);\r\n        if (this.option(\"onItemSwipe\")) {\r\n            this._attachSwipeEvent($(args.itemElement))\r\n        }\r\n    },\r\n    _attachSwipeEvent: function($itemElement) {\r\n        var endEventName = eventUtils.addNamespace(swipeEvents.end, this.NAME);\r\n        eventsEngine.on($itemElement, endEventName, this._itemSwipeEndHandler.bind(this))\r\n    },\r\n    _itemSwipeEndHandler: function(e) {\r\n        this._itemDXEventHandler(e, \"onItemSwipe\", {\r\n            direction: e.offset < 0 ? \"left\" : \"right\"\r\n        })\r\n    },\r\n    _nextButtonHandler: function() {\r\n        var source = this._dataSource;\r\n        if (source && !source.isLoading()) {\r\n            this._scrollView.toggleLoading(true);\r\n            this._$nextButton.detach();\r\n            this._loadIndicationSuppressed(true);\r\n            this._loadNextPage()\r\n        }\r\n    },\r\n    _renderGroup: function(index, group) {\r\n        var $groupElement = $(\"<div>\").addClass(LIST_GROUP_CLASS).appendTo(this._itemContainer());\r\n        var $groupHeaderElement = $(\"<div>\").addClass(LIST_GROUP_HEADER_CLASS).appendTo($groupElement);\r\n        var groupTemplateName = this.option(\"groupTemplate\");\r\n        var groupTemplate = this._getTemplate(group.template || groupTemplateName, group, index, $groupHeaderElement);\r\n        var renderArgs = {\r\n            index: index,\r\n            itemData: group,\r\n            container: getPublicElement($groupHeaderElement)\r\n        };\r\n        this._createItemByTemplate(groupTemplate, renderArgs);\r\n        if (themes.isMaterial()) {\r\n            $(\"<div>\").addClass(LIST_GROUP_HEADER_INDICATOR_CLASS).prependTo($groupHeaderElement)\r\n        }\r\n        this._renderingGroupIndex = index;\r\n        var $groupBody = $(\"<div>\").addClass(LIST_GROUP_BODY_CLASS).appendTo($groupElement);\r\n        each(groupItemsGetter(group) || [], function(index, item) {\r\n            this._renderItem(index, item, $groupBody)\r\n        }.bind(this));\r\n        this._groupRenderAction({\r\n            groupElement: getPublicElement($groupElement),\r\n            groupIndex: index,\r\n            groupData: group\r\n        })\r\n    },\r\n    attachGroupHeaderInkRippleEvents: function() {\r\n        var that = this;\r\n        var selector = \".\" + LIST_GROUP_HEADER_CLASS;\r\n        var $element = this.$element();\r\n        eventsEngine.on($element, \"dxpointerdown\", selector, function(e) {\r\n            that._toggleActiveState($(e.currentTarget), true, e)\r\n        });\r\n        eventsEngine.on($element, \"dxpointerup dxhoverend\", selector, function(e) {\r\n            that._toggleActiveState($(e.currentTarget), false)\r\n        })\r\n    },\r\n    _createGroupRenderAction: function() {\r\n        this._groupRenderAction = this._createActionByOption(\"onGroupRendered\")\r\n    },\r\n    _clean: function() {\r\n        clearTimeout(this._inkRippleTimer);\r\n        if (this._$nextButton) {\r\n            this._$nextButton.remove();\r\n            this._$nextButton = null\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _dispose: function() {\r\n        clearTimeout(this._holdTimer);\r\n        clearTimeout(this._loadNextPageTimer);\r\n        clearTimeout(this._showLoadingIndicatorTimer);\r\n        this.callBase()\r\n    },\r\n    _toggleDisabledState: function(value) {\r\n        this.callBase(value);\r\n        this._scrollView.option(\"disabled\", value || !this.option(\"scrollingEnabled\"))\r\n    },\r\n    _toggleNextButton: function(value) {\r\n        var dataSource = this._dataSource;\r\n        var $nextButton = this._getNextButton();\r\n        this.$element().toggleClass(LIST_HAS_NEXT_CLASS, value);\r\n        if (value && dataSource && dataSource.isLoaded()) {\r\n            $nextButton.appendTo(this._itemContainer())\r\n        }\r\n        if (!value) {\r\n            $nextButton.detach()\r\n        }\r\n    },\r\n    _getNextButton: function() {\r\n        if (!this._$nextButton) {\r\n            this._$nextButton = this._createNextButton()\r\n        }\r\n        return this._$nextButton\r\n    },\r\n    _createNextButton: function() {\r\n        var $result = $(\"<div>\").addClass(LIST_NEXT_BUTTON_CLASS);\r\n        var $button = $(\"<div>\").appendTo($result);\r\n        this._createComponent($button, Button, {\r\n            text: this.option(\"nextButtonText\"),\r\n            onClick: this._nextButtonHandler.bind(this),\r\n            type: themes.isMaterial() ? \"default\" : void 0,\r\n            integrationOptions: {}\r\n        });\r\n        return $result\r\n    },\r\n    _moveFocus: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this.scrollToItem(this.option(\"focusedElement\"))\r\n    },\r\n    _refresh: function() {\r\n        if (!windowUtils.hasWindow()) {\r\n            this.callBase()\r\n        } else {\r\n            var scrollTop = this._scrollView.scrollTop();\r\n            this.callBase();\r\n            scrollTop && this._scrollView.scrollTo(scrollTop)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"pageLoadMode\":\r\n                this._toggleNextButton(args.value);\r\n                this._initScrollView();\r\n                break;\r\n            case \"dataSource\":\r\n                this.callBase(args);\r\n                this._initScrollView();\r\n                break;\r\n            case \"pullingDownText\":\r\n            case \"pulledDownText\":\r\n            case \"refreshingText\":\r\n            case \"pageLoadingText\":\r\n            case \"useNative\":\r\n            case \"showScrollbar\":\r\n            case \"bounceEnabled\":\r\n            case \"scrollByContent\":\r\n            case \"scrollByThumb\":\r\n            case \"scrollingEnabled\":\r\n            case \"pullRefreshEnabled\":\r\n                this._initScrollView();\r\n                this._updateLoadingState();\r\n                break;\r\n            case \"nextButtonText\":\r\n            case \"onItemSwipe\":\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            case \"onScroll\":\r\n            case \"onPullRefresh\":\r\n            case \"onPageLoading\":\r\n                this._createScrollViewActions();\r\n                this._invalidate();\r\n                break;\r\n            case \"grouped\":\r\n            case \"collapsibleGroups\":\r\n            case \"groupTemplate\":\r\n                this._invalidate();\r\n                break;\r\n            case \"wrapItemText\":\r\n                this._$container.toggleClass(WRAP_ITEM_TEXT_CLASS, args.value);\r\n                break;\r\n            case \"onGroupRendered\":\r\n                this._createGroupRenderAction();\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                this._scrollView.update();\r\n                break;\r\n            case \"indicateLoading\":\r\n                this._hideLoadingIfLoadIndicationOff();\r\n                break;\r\n            case \"visible\":\r\n                this.callBase(args);\r\n                this._scrollView.update();\r\n                break;\r\n            case \"rtlEnabled\":\r\n                this._initScrollView();\r\n                this.callBase(args);\r\n                break;\r\n            case \"showChevronExpr\":\r\n            case \"badgeExpr\":\r\n                this._invalidate();\r\n                break;\r\n            case \"_listAttributes\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _extendActionArgs: function($itemElement) {\r\n        if (!this.option(\"grouped\")) {\r\n            return this.callBase($itemElement)\r\n        }\r\n        var $group = $itemElement.closest(\".\" + LIST_GROUP_CLASS);\r\n        var $item = $group.find(\".\" + LIST_ITEM_CLASS);\r\n        return extend(this.callBase($itemElement), {\r\n            itemIndex: {\r\n                group: $group.index(),\r\n                item: $item.index($itemElement)\r\n            }\r\n        })\r\n    },\r\n    expandGroup: function(groupIndex) {\r\n        var deferred = new Deferred;\r\n        var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\r\n        this._collapseGroupHandler($group, false).done(function() {\r\n            deferred.resolveWith(this)\r\n        }.bind(this));\r\n        return deferred.promise()\r\n    },\r\n    collapseGroup: function(groupIndex) {\r\n        var deferred = new Deferred;\r\n        var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\r\n        this._collapseGroupHandler($group, true).done(function() {\r\n            deferred.resolveWith(this)\r\n        }.bind(this));\r\n        return deferred\r\n    },\r\n    updateDimensions: function() {\r\n        var that = this;\r\n        var deferred = new Deferred;\r\n        if (that._scrollView) {\r\n            that._scrollView.update().done(function() {\r\n                !that._scrollViewIsFull() && that._updateLoadingState(true);\r\n                deferred.resolveWith(that)\r\n            })\r\n        } else {\r\n            deferred.resolveWith(that)\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    reload: function() {\r\n        this.callBase();\r\n        this.scrollTo(0);\r\n        this._pullDownHandler()\r\n    },\r\n    repaint: function() {\r\n        this.scrollTo(0);\r\n        this.callBase()\r\n    },\r\n    scrollTop: function() {\r\n        return this._scrollView.scrollOffset().top\r\n    },\r\n    clientHeight: function() {\r\n        return this._scrollView.clientHeight()\r\n    },\r\n    scrollHeight: function() {\r\n        return this._scrollView.scrollHeight()\r\n    },\r\n    scrollBy: function(distance) {\r\n        this._scrollView.scrollBy(distance)\r\n    },\r\n    scrollTo: function(location) {\r\n        this._scrollView.scrollTo(location)\r\n    },\r\n    scrollToItem: function(itemElement) {\r\n        var $item = this._editStrategy.getItemElement(itemElement);\r\n        this._scrollView.scrollToElement($item)\r\n    }\r\n}).include(DataConverterMixin);\r\nListBase.ItemClass = ListItem;\r\nmodule.exports = ListBase;\r\n"]},"metadata":{},"sourceType":"module"}