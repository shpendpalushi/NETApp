{"ast":null,"code":"/**\r\n * DevExtreme (ui/drop_down_menu.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../core/renderer\");\n\nvar window = require(\"../core/utils/window\").getWindow();\n\nvar devices = require(\"../core/devices\");\n\nvar registerComponent = require(\"../core/component_registrator\");\n\nvar extend = require(\"../core/utils/extend\").extend;\n\nvar Widget = require(\"./widget/ui.widget\");\n\nvar Button = require(\"./button\");\n\nvar Popover = require(\"./popover\");\n\nvar DataHelperMixin = require(\"../data_helper\");\n\nvar List = require(\"./list\");\n\nvar themes = require(\"./themes\");\n\nvar ChildDefaultTemplate = require(\"../core/templates/child_default_template\").ChildDefaultTemplate;\n\nvar DROP_DOWN_MENU_CLASS = \"dx-dropdownmenu\";\nvar DROP_DOWN_MENU_POPUP_CLASS = \"dx-dropdownmenu-popup\";\nvar DROP_DOWN_MENU_POPUP_WRAPPER_CLASS = \"dx-dropdownmenu-popup-wrapper\";\nvar DROP_DOWN_MENU_LIST_CLASS = \"dx-dropdownmenu-list\";\nvar DROP_DOWN_MENU_BUTTON_CLASS = \"dx-dropdownmenu-button\";\nvar POPUP_OPTION_MAP = {\n  popupWidth: \"width\",\n  popupHeight: \"height\",\n  popupMaxHeight: \"maxHeight\",\n  popupAutoResizeEnabled: \"autoResizeEnabled\"\n};\nvar BUTTON_OPTION_MAP = {\n  buttonIcon: \"icon\",\n  buttonText: \"text\",\n  buttonWidth: \"width\",\n  buttonHeight: \"height\",\n  buttonTemplate: \"template\"\n};\nvar DropDownMenu = Widget.inherit({\n  _supportedKeys: function _supportedKeys() {\n    var extension = {};\n\n    if (!this.option(\"opened\") || !this._list.option(\"focusedElement\")) {\n      extension = this._button._supportedKeys();\n    }\n\n    return extend(this.callBase(), extension, {\n      tab: function tab() {\n        this._popup && this._popup.hide();\n      }\n    });\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      items: [],\n      onItemClick: null,\n      dataSource: null,\n      itemTemplate: \"item\",\n      buttonText: \"\",\n      buttonIcon: \"overflow\",\n      buttonWidth: void 0,\n      buttonHeight: void 0,\n      buttonTemplate: \"content\",\n      onButtonClick: null,\n      usePopover: false,\n      popupWidth: \"auto\",\n      popupHeight: \"auto\",\n      activeStateEnabled: true,\n      hoverStateEnabled: true,\n      opened: false,\n      deferRendering: false,\n      popupPosition: {\n        my: \"top center\",\n        at: \"bottom center\",\n        collision: \"fit flip\",\n        offset: {\n          v: 1\n        }\n      },\n      popupAnimation: void 0,\n      onItemRendered: null,\n      menuWidget: List,\n      popupMaxHeight: void 0,\n      closeOnClick: true,\n      useInkRipple: false,\n      container: void 0,\n      popupAutoResizeEnabled: false\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: {\n        platform: \"ios\"\n      },\n      options: {\n        usePopover: true\n      }\n    }, {\n      device: {\n        platform: \"generic\"\n      },\n      options: {\n        popupPosition: {\n          offset: {\n            v: 4\n          }\n        }\n      }\n    }, {\n      device: function device() {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: {\n        platform: \"android\"\n      },\n      options: {\n        popupPosition: {\n          my: \"top \" + (this.option(\"rtlEnabled\") ? \"left\" : \"right\"),\n          at: \"top \" + (this.option(\"rtlEnabled\") ? \"left\" : \"right\"),\n          collision: \"flipfit\"\n        },\n        popupAnimation: {\n          show: {\n            type: \"pop\",\n            duration: 200,\n            from: {\n              scale: 0\n            },\n            to: {\n              scale: 1\n            }\n          },\n          hide: {\n            type: \"pop\",\n            duration: 200,\n            from: {\n              scale: 1\n            },\n            to: {\n              scale: 0\n            }\n          }\n        }\n      }\n    }, {\n      device: function device() {\n        return themes.isMaterial();\n      },\n      options: {\n        useInkRipple: true\n      }\n    }]);\n  },\n  _initOptions: function _initOptions(options) {\n    if (\"android\" === devices.current().platform) {\n      if (!options.popupPosition) {\n        options.popupPosition = {\n          at: (options.usePopover ? \"bottom \" : \"top \") + (options.rtlEnabled ? \"left\" : \"right\")\n        };\n      }\n    }\n\n    this.callBase(options);\n  },\n  _dataSourceOptions: function _dataSourceOptions() {\n    return {\n      paginate: false\n    };\n  },\n  _init: function _init() {\n    this.callBase();\n    this.$element().addClass(DROP_DOWN_MENU_CLASS);\n\n    this._initDataSource();\n\n    this._initItemClickAction();\n\n    this._initButtonClickAction();\n  },\n  _initItemClickAction: function _initItemClickAction() {\n    this._itemClickAction = this._createActionByOption(\"onItemClick\");\n  },\n  _initButtonClickAction: function _initButtonClickAction() {\n    this._buttonClickAction = this._createActionByOption(\"onButtonClick\");\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n    this._defaultTemplates.content = new ChildDefaultTemplate(\"content\");\n  },\n  _initMarkup: function _initMarkup() {\n    this._renderButton();\n\n    this.callBase();\n  },\n  _render: function _render() {\n    this.callBase();\n    this.setAria({\n      role: \"menubar\",\n      haspopup: true,\n      expanded: this.option(\"opened\")\n    });\n  },\n  _renderContentImpl: function _renderContentImpl() {\n    if (this.option(\"opened\")) {\n      this._renderPopup();\n    }\n  },\n  _clean: function _clean() {\n    this._cleanFocusState();\n\n    if (this._popup) {\n      this._popup.$element().remove();\n\n      delete this._$popup;\n    }\n  },\n  _renderButton: function _renderButton() {\n    var $button = this.$element().addClass(DROP_DOWN_MENU_BUTTON_CLASS);\n\n    var config = this._buttonOptions();\n\n    this._button = this._createComponent($button, Button, config);\n  },\n  _toggleActiveState: function _toggleActiveState($element, value, e) {\n    this._button._toggleActiveState($element, value, e);\n  },\n  _buttonOptions: function _buttonOptions() {\n    return {\n      text: this.option(\"buttonText\"),\n      icon: this.option(\"buttonIcon\"),\n      width: this.option(\"buttonWidth\"),\n      height: this.option(\"buttonHeight\"),\n      useInkRipple: this.option(\"useInkRipple\"),\n      template: this.option(\"buttonTemplate\"),\n      focusStateEnabled: false,\n      onClick: function (e) {\n        this.option(\"opened\", !this.option(\"opened\"));\n\n        this._buttonClickAction(e);\n      }.bind(this)\n    };\n  },\n  _toggleMenuVisibility: function _toggleMenuVisibility(opened) {\n    var state = void 0 === opened ? !this._popup.option(\"visible\") : opened;\n\n    if (opened) {\n      this._renderPopup();\n    }\n\n    this._popup.toggle(state);\n\n    this.setAria(\"expanded\", state);\n  },\n  _renderPopup: function _renderPopup() {\n    if (this._$popup) {\n      return;\n    }\n\n    var $popup = this._$popup = $(\"<div>\").appendTo(this.$element());\n\n    var config = this._popupOptions();\n\n    this._popup = this._createComponent($popup, Popover, config);\n  },\n  _popupOptions: function _popupOptions() {\n    var usePopup = !this.option(\"usePopover\");\n    return {\n      onInitialized: function onInitialized(args) {\n        args.component._wrapper().addClass(DROP_DOWN_MENU_POPUP_WRAPPER_CLASS).toggleClass(DROP_DOWN_MENU_POPUP_CLASS, usePopup);\n      },\n      visible: this.option(\"opened\"),\n      deferRendering: false,\n      contentTemplate: function (contentElement) {\n        this._renderList(contentElement);\n      }.bind(this),\n      position: this.option(\"popupPosition\"),\n      animation: this.option(\"popupAnimation\"),\n      onOptionChanged: function (args) {\n        if (\"visible\" === args.name) {\n          this.option(\"opened\", args.value);\n        }\n      }.bind(this),\n      target: this.$element(),\n      height: this.option(\"popupHeight\"),\n      width: this.option(\"popupWidth\"),\n      maxHeight: this.option(\"popupMaxHeight\"),\n      container: this.option(\"container\"),\n      autoResizeEnabled: this.option(\"popupAutoResizeEnabled\")\n    };\n  },\n  _renderList: function _renderList(contentElement) {\n    var $content = $(contentElement);\n\n    var listConfig = this._listOptions();\n\n    $content.addClass(DROP_DOWN_MENU_LIST_CLASS);\n    this._list = this._createComponent($content, this.option(\"menuWidget\"), listConfig);\n\n    this._list._getAriaTarget = function () {\n      return this.$element();\n    }.bind(this);\n\n    this._setListDataSource();\n\n    var listMaxHeight = .5 * $(window).height();\n\n    if ($content.height() > listMaxHeight) {\n      $content.height(listMaxHeight);\n    }\n  },\n  _listOptions: function _listOptions() {\n    return {\n      _keyboardProcessor: this._listProcessor,\n      pageLoadMode: \"scrollBottom\",\n      indicateLoading: false,\n      noDataText: \"\",\n      itemTemplate: this.option(\"itemTemplate\"),\n      onItemClick: function (e) {\n        if (this.option(\"closeOnClick\")) {\n          this.option(\"opened\", false);\n        }\n\n        this._itemClickAction(e);\n      }.bind(this),\n      tabIndex: -1,\n      focusStateEnabled: this.option(\"focusStateEnabled\"),\n      activeStateEnabled: this.option(\"activeStateEnabled\"),\n      onItemRendered: this.option(\"onItemRendered\"),\n      _itemAttributes: {\n        role: \"menuitem\"\n      }\n    };\n  },\n  _setListDataSource: function _setListDataSource() {\n    if (this._list) {\n      this._list.option(\"dataSource\", this._dataSource || this.option(\"items\"));\n    }\n\n    delete this._deferRendering;\n  },\n  _attachKeyboardEvents: function _attachKeyboardEvents() {\n    this.callBase.apply(this, arguments);\n    this._listProcessor = this._keyboardProcessor && this._keyboardProcessor.attachChildProcessor();\n\n    if (this._list) {\n      this._list.option(\"_keyboardProcessor\", this._listProcessor);\n    }\n  },\n  _cleanFocusState: function _cleanFocusState() {\n    this.callBase.apply(this, arguments);\n    delete this._listProcessor;\n  },\n  _toggleVisibility: function _toggleVisibility(visible) {\n    this.callBase(visible);\n\n    this._button.option(\"visible\", visible);\n  },\n  _optionChanged: function _optionChanged(args) {\n    var name = args.name;\n    var value = args.value;\n\n    switch (name) {\n      case \"items\":\n      case \"dataSource\":\n        if (this.option(\"deferRendering\") && !this.option(\"opened\")) {\n          this._deferRendering = true;\n        } else {\n          this._refreshDataSource();\n\n          this._setListDataSource();\n        }\n\n        break;\n\n      case \"itemTemplate\":\n        if (this._list) {\n          this._list.option(name, this._getTemplate(value));\n        }\n\n        break;\n\n      case \"onItemClick\":\n        this._initItemClickAction();\n\n        break;\n\n      case \"onButtonClick\":\n        this._buttonClickAction();\n\n        break;\n\n      case \"buttonIcon\":\n      case \"buttonText\":\n      case \"buttonWidth\":\n      case \"buttonHeight\":\n      case \"buttonTemplate\":\n        this._button.option(BUTTON_OPTION_MAP[name], value);\n\n        this._renderPopup();\n\n        break;\n\n      case \"popupWidth\":\n      case \"popupHeight\":\n      case \"popupMaxHeight\":\n      case \"popupAutoResizeEnabled\":\n        this._popup.option(POPUP_OPTION_MAP[name], value);\n\n        break;\n\n      case \"usePopover\":\n      case \"menuWidget\":\n      case \"useInkRipple\":\n        this._invalidate();\n\n        break;\n\n      case \"focusStateEnabled\":\n      case \"activeStateEnabled\":\n        if (this._list) {\n          this._list.option(name, value);\n        }\n\n        this.callBase(args);\n        break;\n\n      case \"onItemRendered\":\n        if (this._list) {\n          this._list.option(name, value);\n        }\n\n        break;\n\n      case \"opened\":\n        if (this._deferRendering) {\n          this._refreshDataSource();\n\n          this._setListDataSource();\n        }\n\n        this._toggleMenuVisibility(value);\n\n        break;\n\n      case \"deferRendering\":\n      case \"popupPosition\":\n      case \"closeOnClick\":\n        break;\n\n      case \"container\":\n        this._popup && this._popup.option(args.name, args.value);\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  open: function open() {\n    this.option(\"opened\", true);\n  },\n  close: function close() {\n    this.option(\"opened\", false);\n  }\n}).include(DataHelperMixin);\nregisterComponent(\"dxDropDownMenu\", DropDownMenu);\nmodule.exports = DropDownMenu;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/drop_down_menu.js"],"names":["$","require","window","devices","registerComponent","extend","Widget","Button","Popover","DataHelperMixin","List","themes","ChildDefaultTemplate","DROP_DOWN_MENU_CLASS","DROP_DOWN_MENU_POPUP_CLASS","DROP_DOWN_MENU_POPUP_WRAPPER_CLASS","DROP_DOWN_MENU_LIST_CLASS","DROP_DOWN_MENU_BUTTON_CLASS","POPUP_OPTION_MAP","popupWidth","popupHeight","popupMaxHeight","popupAutoResizeEnabled","BUTTON_OPTION_MAP","buttonIcon","buttonText","buttonWidth","buttonHeight","buttonTemplate","DropDownMenu","_supportedKeys","extension","tab","_getDefaultOptions","items","onItemClick","dataSource","itemTemplate","onButtonClick","usePopover","activeStateEnabled","hoverStateEnabled","opened","deferRendering","popupPosition","my","at","collision","offset","v","popupAnimation","onItemRendered","menuWidget","closeOnClick","useInkRipple","container","_defaultOptionsRules","device","platform","options","focusStateEnabled","show","type","duration","from","scale","to","hide","_initOptions","_dataSourceOptions","paginate","_init","_initItemClickAction","_initButtonClickAction","_initTemplates","_initMarkup","_render","role","haspopup","expanded","_renderContentImpl","_clean","_renderButton","$button","config","_toggleActiveState","_buttonOptions","text","icon","width","height","template","onClick","_toggleMenuVisibility","state","_renderPopup","$popup","_popupOptions","usePopup","onInitialized","args","visible","contentTemplate","position","animation","onOptionChanged","target","maxHeight","autoResizeEnabled","_renderList","$content","listConfig","listMaxHeight","_listOptions","_keyboardProcessor","pageLoadMode","indicateLoading","noDataText","tabIndex","_itemAttributes","_setListDataSource","_attachKeyboardEvents","_cleanFocusState","_toggleVisibility","_optionChanged","name","value","open","close","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/drop_down_menu.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../core/renderer\");\r\nvar window = require(\"../core/utils/window\").getWindow();\r\nvar devices = require(\"../core/devices\");\r\nvar registerComponent = require(\"../core/component_registrator\");\r\nvar extend = require(\"../core/utils/extend\").extend;\r\nvar Widget = require(\"./widget/ui.widget\");\r\nvar Button = require(\"./button\");\r\nvar Popover = require(\"./popover\");\r\nvar DataHelperMixin = require(\"../data_helper\");\r\nvar List = require(\"./list\");\r\nvar themes = require(\"./themes\");\r\nvar ChildDefaultTemplate = require(\"../core/templates/child_default_template\").ChildDefaultTemplate;\r\nvar DROP_DOWN_MENU_CLASS = \"dx-dropdownmenu\";\r\nvar DROP_DOWN_MENU_POPUP_CLASS = \"dx-dropdownmenu-popup\";\r\nvar DROP_DOWN_MENU_POPUP_WRAPPER_CLASS = \"dx-dropdownmenu-popup-wrapper\";\r\nvar DROP_DOWN_MENU_LIST_CLASS = \"dx-dropdownmenu-list\";\r\nvar DROP_DOWN_MENU_BUTTON_CLASS = \"dx-dropdownmenu-button\";\r\nvar POPUP_OPTION_MAP = {\r\n    popupWidth: \"width\",\r\n    popupHeight: \"height\",\r\n    popupMaxHeight: \"maxHeight\",\r\n    popupAutoResizeEnabled: \"autoResizeEnabled\"\r\n};\r\nvar BUTTON_OPTION_MAP = {\r\n    buttonIcon: \"icon\",\r\n    buttonText: \"text\",\r\n    buttonWidth: \"width\",\r\n    buttonHeight: \"height\",\r\n    buttonTemplate: \"template\"\r\n};\r\nvar DropDownMenu = Widget.inherit({\r\n    _supportedKeys: function() {\r\n        var extension = {};\r\n        if (!this.option(\"opened\") || !this._list.option(\"focusedElement\")) {\r\n            extension = this._button._supportedKeys()\r\n        }\r\n        return extend(this.callBase(), extension, {\r\n            tab: function() {\r\n                this._popup && this._popup.hide()\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            items: [],\r\n            onItemClick: null,\r\n            dataSource: null,\r\n            itemTemplate: \"item\",\r\n            buttonText: \"\",\r\n            buttonIcon: \"overflow\",\r\n            buttonWidth: void 0,\r\n            buttonHeight: void 0,\r\n            buttonTemplate: \"content\",\r\n            onButtonClick: null,\r\n            usePopover: false,\r\n            popupWidth: \"auto\",\r\n            popupHeight: \"auto\",\r\n            activeStateEnabled: true,\r\n            hoverStateEnabled: true,\r\n            opened: false,\r\n            deferRendering: false,\r\n            popupPosition: {\r\n                my: \"top center\",\r\n                at: \"bottom center\",\r\n                collision: \"fit flip\",\r\n                offset: {\r\n                    v: 1\r\n                }\r\n            },\r\n            popupAnimation: void 0,\r\n            onItemRendered: null,\r\n            menuWidget: List,\r\n            popupMaxHeight: void 0,\r\n            closeOnClick: true,\r\n            useInkRipple: false,\r\n            container: void 0,\r\n            popupAutoResizeEnabled: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                usePopover: true\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    offset: {\r\n                        v: 4\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"android\"\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    my: \"top \" + (this.option(\"rtlEnabled\") ? \"left\" : \"right\"),\r\n                    at: \"top \" + (this.option(\"rtlEnabled\") ? \"left\" : \"right\"),\r\n                    collision: \"flipfit\"\r\n                },\r\n                popupAnimation: {\r\n                    show: {\r\n                        type: \"pop\",\r\n                        duration: 200,\r\n                        from: {\r\n                            scale: 0\r\n                        },\r\n                        to: {\r\n                            scale: 1\r\n                        }\r\n                    },\r\n                    hide: {\r\n                        type: \"pop\",\r\n                        duration: 200,\r\n                        from: {\r\n                            scale: 1\r\n                        },\r\n                        to: {\r\n                            scale: 0\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return themes.isMaterial()\r\n            },\r\n            options: {\r\n                useInkRipple: true\r\n            }\r\n        }])\r\n    },\r\n    _initOptions: function(options) {\r\n        if (\"android\" === devices.current().platform) {\r\n            if (!options.popupPosition) {\r\n                options.popupPosition = {\r\n                    at: (options.usePopover ? \"bottom \" : \"top \") + (options.rtlEnabled ? \"left\" : \"right\")\r\n                }\r\n            }\r\n        }\r\n        this.callBase(options)\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: false\r\n        }\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(DROP_DOWN_MENU_CLASS);\r\n        this._initDataSource();\r\n        this._initItemClickAction();\r\n        this._initButtonClickAction()\r\n    },\r\n    _initItemClickAction: function() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    },\r\n    _initButtonClickAction: function() {\r\n        this._buttonClickAction = this._createActionByOption(\"onButtonClick\")\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._defaultTemplates.content = new ChildDefaultTemplate(\"content\")\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderButton();\r\n        this.callBase()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this.setAria({\r\n            role: \"menubar\",\r\n            haspopup: true,\r\n            expanded: this.option(\"opened\")\r\n        })\r\n    },\r\n    _renderContentImpl: function() {\r\n        if (this.option(\"opened\")) {\r\n            this._renderPopup()\r\n        }\r\n    },\r\n    _clean: function() {\r\n        this._cleanFocusState();\r\n        if (this._popup) {\r\n            this._popup.$element().remove();\r\n            delete this._$popup\r\n        }\r\n    },\r\n    _renderButton: function() {\r\n        var $button = this.$element().addClass(DROP_DOWN_MENU_BUTTON_CLASS);\r\n        var config = this._buttonOptions();\r\n        this._button = this._createComponent($button, Button, config)\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this._button._toggleActiveState($element, value, e)\r\n    },\r\n    _buttonOptions: function() {\r\n        return {\r\n            text: this.option(\"buttonText\"),\r\n            icon: this.option(\"buttonIcon\"),\r\n            width: this.option(\"buttonWidth\"),\r\n            height: this.option(\"buttonHeight\"),\r\n            useInkRipple: this.option(\"useInkRipple\"),\r\n            template: this.option(\"buttonTemplate\"),\r\n            focusStateEnabled: false,\r\n            onClick: function(e) {\r\n                this.option(\"opened\", !this.option(\"opened\"));\r\n                this._buttonClickAction(e)\r\n            }.bind(this)\r\n        }\r\n    },\r\n    _toggleMenuVisibility: function(opened) {\r\n        var state = void 0 === opened ? !this._popup.option(\"visible\") : opened;\r\n        if (opened) {\r\n            this._renderPopup()\r\n        }\r\n        this._popup.toggle(state);\r\n        this.setAria(\"expanded\", state)\r\n    },\r\n    _renderPopup: function() {\r\n        if (this._$popup) {\r\n            return\r\n        }\r\n        var $popup = this._$popup = $(\"<div>\").appendTo(this.$element());\r\n        var config = this._popupOptions();\r\n        this._popup = this._createComponent($popup, Popover, config)\r\n    },\r\n    _popupOptions: function() {\r\n        var usePopup = !this.option(\"usePopover\");\r\n        return {\r\n            onInitialized: function(args) {\r\n                args.component._wrapper().addClass(DROP_DOWN_MENU_POPUP_WRAPPER_CLASS).toggleClass(DROP_DOWN_MENU_POPUP_CLASS, usePopup)\r\n            },\r\n            visible: this.option(\"opened\"),\r\n            deferRendering: false,\r\n            contentTemplate: function(contentElement) {\r\n                this._renderList(contentElement)\r\n            }.bind(this),\r\n            position: this.option(\"popupPosition\"),\r\n            animation: this.option(\"popupAnimation\"),\r\n            onOptionChanged: function(args) {\r\n                if (\"visible\" === args.name) {\r\n                    this.option(\"opened\", args.value)\r\n                }\r\n            }.bind(this),\r\n            target: this.$element(),\r\n            height: this.option(\"popupHeight\"),\r\n            width: this.option(\"popupWidth\"),\r\n            maxHeight: this.option(\"popupMaxHeight\"),\r\n            container: this.option(\"container\"),\r\n            autoResizeEnabled: this.option(\"popupAutoResizeEnabled\")\r\n        }\r\n    },\r\n    _renderList: function(contentElement) {\r\n        var $content = $(contentElement);\r\n        var listConfig = this._listOptions();\r\n        $content.addClass(DROP_DOWN_MENU_LIST_CLASS);\r\n        this._list = this._createComponent($content, this.option(\"menuWidget\"), listConfig);\r\n        this._list._getAriaTarget = function() {\r\n            return this.$element()\r\n        }.bind(this);\r\n        this._setListDataSource();\r\n        var listMaxHeight = .5 * $(window).height();\r\n        if ($content.height() > listMaxHeight) {\r\n            $content.height(listMaxHeight)\r\n        }\r\n    },\r\n    _listOptions: function() {\r\n        return {\r\n            _keyboardProcessor: this._listProcessor,\r\n            pageLoadMode: \"scrollBottom\",\r\n            indicateLoading: false,\r\n            noDataText: \"\",\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            onItemClick: function(e) {\r\n                if (this.option(\"closeOnClick\")) {\r\n                    this.option(\"opened\", false)\r\n                }\r\n                this._itemClickAction(e)\r\n            }.bind(this),\r\n            tabIndex: -1,\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n            onItemRendered: this.option(\"onItemRendered\"),\r\n            _itemAttributes: {\r\n                role: \"menuitem\"\r\n            }\r\n        }\r\n    },\r\n    _setListDataSource: function() {\r\n        if (this._list) {\r\n            this._list.option(\"dataSource\", this._dataSource || this.option(\"items\"))\r\n        }\r\n        delete this._deferRendering\r\n    },\r\n    _attachKeyboardEvents: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._listProcessor = this._keyboardProcessor && this._keyboardProcessor.attachChildProcessor();\r\n        if (this._list) {\r\n            this._list.option(\"_keyboardProcessor\", this._listProcessor)\r\n        }\r\n    },\r\n    _cleanFocusState: function() {\r\n        this.callBase.apply(this, arguments);\r\n        delete this._listProcessor\r\n    },\r\n    _toggleVisibility: function(visible) {\r\n        this.callBase(visible);\r\n        this._button.option(\"visible\", visible)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        var value = args.value;\r\n        switch (name) {\r\n            case \"items\":\r\n            case \"dataSource\":\r\n                if (this.option(\"deferRendering\") && !this.option(\"opened\")) {\r\n                    this._deferRendering = true\r\n                } else {\r\n                    this._refreshDataSource();\r\n                    this._setListDataSource()\r\n                }\r\n                break;\r\n            case \"itemTemplate\":\r\n                if (this._list) {\r\n                    this._list.option(name, this._getTemplate(value))\r\n                }\r\n                break;\r\n            case \"onItemClick\":\r\n                this._initItemClickAction();\r\n                break;\r\n            case \"onButtonClick\":\r\n                this._buttonClickAction();\r\n                break;\r\n            case \"buttonIcon\":\r\n            case \"buttonText\":\r\n            case \"buttonWidth\":\r\n            case \"buttonHeight\":\r\n            case \"buttonTemplate\":\r\n                this._button.option(BUTTON_OPTION_MAP[name], value);\r\n                this._renderPopup();\r\n                break;\r\n            case \"popupWidth\":\r\n            case \"popupHeight\":\r\n            case \"popupMaxHeight\":\r\n            case \"popupAutoResizeEnabled\":\r\n                this._popup.option(POPUP_OPTION_MAP[name], value);\r\n                break;\r\n            case \"usePopover\":\r\n            case \"menuWidget\":\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            case \"focusStateEnabled\":\r\n            case \"activeStateEnabled\":\r\n                if (this._list) {\r\n                    this._list.option(name, value)\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            case \"onItemRendered\":\r\n                if (this._list) {\r\n                    this._list.option(name, value)\r\n                }\r\n                break;\r\n            case \"opened\":\r\n                if (this._deferRendering) {\r\n                    this._refreshDataSource();\r\n                    this._setListDataSource()\r\n                }\r\n                this._toggleMenuVisibility(value);\r\n                break;\r\n            case \"deferRendering\":\r\n            case \"popupPosition\":\r\n            case \"closeOnClick\":\r\n                break;\r\n            case \"container\":\r\n                this._popup && this._popup.option(args.name, args.value);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    open: function() {\r\n        this.option(\"opened\", true)\r\n    },\r\n    close: function() {\r\n        this.option(\"opened\", false)\r\n    }\r\n}).include(DataHelperMixin);\r\nregisterComponent(\"dxDropDownMenu\", DropDownMenu);\r\nmodule.exports = DropDownMenu;\r\n"]},"metadata":{},"sourceType":"module"}