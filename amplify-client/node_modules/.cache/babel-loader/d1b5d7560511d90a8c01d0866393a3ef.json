{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/utils.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar mathUtils = require(\"../../core/utils/math\");\n\nvar dateToMilliseconds = require(\"../../core/utils/date\").dateToMilliseconds;\n\nvar domAdapter = require(\"../../core/dom_adapter\");\n\nvar Color = require(\"../../color\");\n\nvar isDefined = typeUtils.isDefined;\nvar isNumber = typeUtils.isNumeric;\nvar isExponential = typeUtils.isExponential;\nvar _math = Math;\nvar _round = _math.round;\nvar _sqrt = Math.sqrt;\nvar PI = Math.PI;\nvar MAX_PIXEL_COUNT = 1e10;\nvar PI_DIV_180 = PI / 180;\nvar LN10 = Math.LN10;\nvar cosFunc = Math.cos;\nvar sinFunc = Math.sin;\nvar abs = Math.abs;\nvar log = Math.log;\nvar floor = Math.floor;\nvar ceil = Math.ceil;\nvar max = Math.max;\nvar _isNaN = isNaN;\nvar _Number = Number;\nvar _NaN = NaN;\nvar adjust = mathUtils.adjust,\n    sign = mathUtils.sign;\nvar PANE_PADDING = 10;\n\nvar getLog = function getLog(value, base) {\n  if (!value) {\n    return _NaN;\n  }\n\n  return Math.log(value) / Math.log(base);\n};\n\nvar getAdjustedLog10 = function getAdjustedLog10(value) {\n  return adjust(getLog(value, 10));\n};\n\nvar raiseTo = function raiseTo(power, base) {\n  return Math.pow(base, power);\n};\n\nvar normalizeAngle = function normalizeAngle(angle) {\n  return (angle % 360 + 360) % 360;\n};\n\nvar convertAngleToRendererSpace = function convertAngleToRendererSpace(angle) {\n  return 90 - angle;\n};\n\nvar degreesToRadians = function degreesToRadians(value) {\n  return PI * value / 180;\n};\n\nvar getCosAndSin = function getCosAndSin(angle) {\n  var angleInRadians = degreesToRadians(angle);\n  return {\n    cos: cosFunc(angleInRadians),\n    sin: sinFunc(angleInRadians)\n  };\n};\n\nvar DECIMAL_ORDER_THRESHOLD = 1e-14;\n\nvar getDistance = function getDistance(x1, y1, x2, y2) {\n  var diffX = x2 - x1;\n  var diffY = y2 - y1;\n  return Math.sqrt(diffY * diffY + diffX * diffX);\n};\n\nvar getDecimalOrder = function getDecimalOrder(number) {\n  var n = abs(number);\n  var cn;\n\n  if (!_isNaN(n)) {\n    if (n > 0) {\n      n = log(n) / LN10;\n      cn = ceil(n);\n      return cn - n < DECIMAL_ORDER_THRESHOLD ? cn : floor(n);\n    }\n\n    return 0;\n  }\n\n  return _NaN;\n};\n\nvar getAppropriateFormat = function getAppropriateFormat(start, end, count) {\n  var order = max(getDecimalOrder(start), getDecimalOrder(end));\n  var precision = -getDecimalOrder(abs(end - start) / count);\n  var format;\n\n  if (!_isNaN(order) && !_isNaN(precision)) {\n    if (abs(order) <= 4) {\n      format = \"fixedPoint\";\n      precision < 0 && (precision = 0);\n      precision > 4 && (precision = 4);\n    } else {\n      format = \"exponential\";\n      precision += order - 1;\n      precision > 3 && (precision = 3);\n    }\n\n    return {\n      type: format,\n      precision: precision\n    };\n  }\n\n  return null;\n};\n\nvar roundValue = function roundValue(value, precision) {\n  if (precision > 20) {\n    precision = 20;\n  }\n\n  if (isNumber(value)) {\n    if (isExponential(value)) {\n      return _Number(value.toExponential(precision));\n    } else {\n      return _Number(value.toFixed(precision));\n    }\n  }\n};\n\nvar getPower = function getPower(value) {\n  return value.toExponential().split(\"e\")[1];\n};\n\nfunction map(array, callback) {\n  var i = 0;\n  var len = array.length;\n  var result = [];\n  var value;\n\n  while (i < len) {\n    value = callback(array[i], i);\n\n    if (null !== value) {\n      result.push(value);\n    }\n\n    i++;\n  }\n\n  return result;\n}\n\nfunction selectByKeys(object, keys) {\n  return map(keys, function (key) {\n    return object[key] ? object[key] : null;\n  });\n}\n\nfunction decreaseFields(object, keys, eachDecrease, decrease) {\n  var dec = decrease;\n  each(keys, function (_, key) {\n    if (object[key]) {\n      object[key] -= eachDecrease;\n      dec -= eachDecrease;\n    }\n  });\n  return dec;\n}\n\nfunction normalizeEnum(value) {\n  return String(value).toLowerCase();\n}\n\nfunction setCanvasValues(canvas) {\n  if (canvas) {\n    canvas.originalTop = canvas.top;\n    canvas.originalBottom = canvas.bottom;\n    canvas.originalLeft = canvas.left;\n    canvas.originalRight = canvas.right;\n  }\n\n  return canvas;\n}\n\nfunction normalizeBBoxField(value) {\n  return -MAX_PIXEL_COUNT < value && value < +MAX_PIXEL_COUNT ? value : 0;\n}\n\nfunction normalizeBBox(bBox) {\n  var xl = normalizeBBoxField(floor(bBox.x));\n  var yt = normalizeBBoxField(floor(bBox.y));\n  var xr = normalizeBBoxField(ceil(bBox.width + bBox.x));\n  var yb = normalizeBBoxField(ceil(bBox.height + bBox.y));\n  var result = {\n    x: xl,\n    y: yt,\n    width: xr - xl,\n    height: yb - yt\n  };\n  result.isEmpty = !result.x && !result.y && !result.width && !result.height;\n  return result;\n}\n\nfunction rotateBBox(bBox, center, angle) {\n  var cos = _Number(cosFunc(angle * PI_DIV_180).toFixed(3));\n\n  var sin = _Number(sinFunc(angle * PI_DIV_180).toFixed(3));\n\n  var w2 = bBox.width / 2;\n  var h2 = bBox.height / 2;\n  var centerX = bBox.x + w2;\n  var centerY = bBox.y + h2;\n  var w2_ = abs(w2 * cos) + abs(h2 * sin);\n  var h2_ = abs(w2 * sin) + abs(h2 * cos);\n  var centerX_ = center[0] + (centerX - center[0]) * cos + (centerY - center[1]) * sin;\n  var centerY_ = center[1] - (centerX - center[0]) * sin + (centerY - center[1]) * cos;\n  return normalizeBBox({\n    x: centerX_ - w2_,\n    y: centerY_ - h2_,\n    width: 2 * w2_,\n    height: 2 * h2_\n  });\n}\n\nextend(exports, {\n  decreaseGaps: function decreaseGaps(object, keys, decrease) {\n    var arrayGaps;\n\n    do {\n      arrayGaps = selectByKeys(object, keys);\n      arrayGaps.push(_math.ceil(decrease / arrayGaps.length));\n      decrease = decreaseFields(object, keys, _math.min.apply(null, arrayGaps), decrease);\n    } while (decrease > 0 && arrayGaps.length > 1);\n\n    return decrease;\n  },\n  normalizeEnum: normalizeEnum,\n  parseScalar: function parseScalar(value, defaultValue) {\n    return void 0 !== value ? value : defaultValue;\n  },\n  enumParser: function enumParser(values) {\n    var stored = {};\n    var i;\n    var ii;\n\n    for (i = 0, ii = values.length; i < ii; ++i) {\n      stored[normalizeEnum(values[i])] = 1;\n    }\n\n    return function (value, defaultValue) {\n      var _value = normalizeEnum(value);\n\n      return stored[_value] ? _value : defaultValue;\n    };\n  },\n  patchFontOptions: function patchFontOptions(options) {\n    var fontOptions = {};\n    each(options || {}, function (key, value) {\n      if (/^(cursor)$/i.test(key)) {} else {\n        if (\"opacity\" === key) {\n          value = null;\n        } else {\n          if (\"color\" === key) {\n            key = \"fill\";\n\n            if (\"opacity\" in options) {\n              var color = new Color(value);\n              value = \"rgba(\".concat(color.r, \",\").concat(color.g, \",\").concat(color.b, \",\").concat(options.opacity, \")\");\n            }\n          } else {\n            key = \"font-\" + key;\n          }\n        }\n      }\n\n      fontOptions[key] = value;\n    });\n    return fontOptions;\n  },\n  checkElementHasPropertyFromStyleSheet: function checkElementHasPropertyFromStyleSheet(element, property) {\n    var slice = Array.prototype.slice;\n    var cssRules = slice.call(domAdapter.getDocument().styleSheets).reduce(function (rules, styleSheet) {\n      return rules.concat(slice.call(styleSheet.cssRules || styleSheet.rules));\n    }, []);\n    var elementRules = cssRules.filter(function (rule) {\n      try {\n        return domAdapter.elementMatches(element, rule.selectorText);\n      } catch (e) {\n        return false;\n      }\n    });\n    return elementRules.some(function (rule) {\n      return !!rule.style[property];\n    });\n  },\n  convertPolarToXY: function convertPolarToXY(centerCoords, startAngle, angle, radius) {\n    var shiftAngle = 90;\n    var normalizedRadius = radius > 0 ? radius : 0;\n    angle = isDefined(angle) ? angle + startAngle - shiftAngle : 0;\n    var cosSin = getCosAndSin(angle);\n    return {\n      x: _round(centerCoords.x + normalizedRadius * cosSin.cos),\n      y: _round(centerCoords.y + normalizedRadius * cosSin.sin)\n    };\n  },\n  convertXYToPolar: function convertXYToPolar(centerCoords, x, y) {\n    var radius = getDistance(centerCoords.x, centerCoords.y, x, y);\n\n    var angle = _math.atan2(y - centerCoords.y, x - centerCoords.x);\n\n    return {\n      phi: _round(normalizeAngle(180 * angle / _math.PI)),\n      r: _round(radius)\n    };\n  },\n  processSeriesTemplate: function processSeriesTemplate(seriesTemplate, items) {\n    var customizeSeries = typeUtils.isFunction(seriesTemplate.customizeSeries) ? seriesTemplate.customizeSeries : noop;\n    var nameField = seriesTemplate.nameField;\n    var generatedSeries = {};\n    var seriesOrder = [];\n    var series;\n    var i = 0;\n    var length;\n    var data;\n    items = items || [];\n\n    for (length = items.length; i < length; i++) {\n      data = items[i];\n\n      if (nameField in data) {\n        series = generatedSeries[data[nameField]];\n\n        if (!series) {\n          series = generatedSeries[data[nameField]] = {\n            name: data[nameField],\n            nameFieldValue: data[nameField]\n          };\n          seriesOrder.push(series.name);\n        }\n      }\n    }\n\n    return map(seriesOrder, function (orderedName) {\n      var group = generatedSeries[orderedName];\n      return extend(group, customizeSeries.call(null, group.name));\n    });\n  },\n  getCategoriesInfo: function getCategoriesInfo(categories, startValue, endValue) {\n    if (0 === categories.length) {\n      return {\n        categories: []\n      };\n    }\n\n    startValue = isDefined(startValue) ? startValue : categories[0];\n    endValue = isDefined(endValue) ? endValue : categories[categories.length - 1];\n    var categoriesValue = map(categories, function (category) {\n      return isDefined(category) ? category.valueOf() : null;\n    });\n    var visibleCategories;\n    var indexStartValue = categoriesValue.indexOf(startValue.valueOf());\n    var indexEndValue = categoriesValue.indexOf(endValue.valueOf());\n    var swapBuf;\n    var inverted = false;\n    var lastIdx;\n    indexStartValue < 0 && (indexStartValue = 0);\n    indexEndValue < 0 && (indexEndValue = categories.length - 1);\n\n    if (indexEndValue < indexStartValue) {\n      swapBuf = indexEndValue;\n      indexEndValue = indexStartValue;\n      indexStartValue = swapBuf;\n      inverted = true;\n    }\n\n    visibleCategories = categories.slice(indexStartValue, indexEndValue + 1);\n    lastIdx = visibleCategories.length - 1;\n    return {\n      categories: visibleCategories,\n      start: visibleCategories[inverted ? lastIdx : 0],\n      end: visibleCategories[inverted ? 0 : lastIdx],\n      inverted: inverted\n    };\n  },\n  setCanvasValues: setCanvasValues,\n  normalizePanesHeight: function normalizePanesHeight(panes) {\n    panes.forEach(function (pane) {\n      var height = pane.height;\n      var unit = 0;\n      var parsedHeight = parseFloat(height) || void 0;\n\n      if (typeUtils.isString(height) && height.indexOf(\"px\") > -1 || typeUtils.isNumeric(height) && height > 1) {\n        parsedHeight = _round(parsedHeight);\n        unit = 1;\n      }\n\n      if (!unit && parsedHeight) {\n        if (typeUtils.isString(height) && height.indexOf(\"%\") > -1) {\n          parsedHeight /= 100;\n        } else {\n          if (parsedHeight < 0) {\n            parsedHeight = parsedHeight < -1 ? 1 : _math.abs(parsedHeight);\n          }\n        }\n      }\n\n      pane.height = parsedHeight;\n      pane.unit = unit;\n    });\n    var weightSum = panes.filter(function (pane) {\n      return !pane.unit;\n    }).reduce(function (prev, next) {\n      return prev + (next.height || 0);\n    }, 0);\n    var weightHeightCount = panes.filter(function (pane) {\n      return !pane.unit;\n    }).length;\n    var emptyHeightCount = panes.filter(function (pane) {\n      return !pane.unit && !pane.height;\n    }).length;\n\n    if (weightSum < 1 && emptyHeightCount) {\n      panes.filter(function (pane) {\n        return !pane.unit && !pane.height;\n      }).forEach(function (pane) {\n        return pane.height = (1 - weightSum) / emptyHeightCount;\n      });\n    } else {\n      if (weightSum > 1 || weightSum < 1 && !emptyHeightCount || 1 === weightSum && emptyHeightCount) {\n        if (emptyHeightCount) {\n          var weightForEmpty = weightSum / weightHeightCount;\n          var emptyWeightSum = emptyHeightCount * weightForEmpty;\n          panes.filter(function (pane) {\n            return !pane.unit && pane.height;\n          }).forEach(function (pane) {\n            return pane.height *= (weightSum - emptyWeightSum) / weightSum;\n          });\n          panes.filter(function (pane) {\n            return !pane.unit && !pane.height;\n          }).forEach(function (pane) {\n            return pane.height = weightForEmpty;\n          });\n        }\n\n        panes.forEach(function (pane) {\n          return !pane.unit && (pane.height *= 1 / weightSum);\n        });\n      }\n    }\n  },\n  updatePanesCanvases: function updatePanesCanvases(panes, canvas, rotated) {\n    var distributedSpace = 0;\n    var padding = PANE_PADDING;\n    var paneSpace = rotated ? canvas.width - canvas.left - canvas.right : canvas.height - canvas.top - canvas.bottom;\n    var usefulSpace = paneSpace - padding * (panes.length - 1);\n    var startName = rotated ? \"left\" : \"top\";\n    var endName = rotated ? \"right\" : \"bottom\";\n    var totalCustomSpace = panes.reduce(function (prev, cur) {\n      return prev + (cur.unit ? cur.height : 0);\n    }, 0);\n    usefulSpace -= totalCustomSpace;\n    panes.forEach(function (pane) {\n      var calcLength = pane.unit ? pane.height : _round(pane.height * usefulSpace);\n      pane.canvas = pane.canvas || {};\n      extend(pane.canvas, canvas);\n      pane.canvas[startName] = canvas[startName] + distributedSpace;\n      pane.canvas[endName] = canvas[endName] + (paneSpace - calcLength - distributedSpace);\n      distributedSpace = distributedSpace + calcLength + padding;\n      setCanvasValues(pane.canvas);\n    });\n  },\n  unique: function unique(array) {\n    var values = {};\n    return map(array, function (item) {\n      var result = !values[item] ? item : null;\n      values[item] = true;\n      return result;\n    });\n  },\n  map: map,\n  getVerticallyShiftedAngularCoords: function getVerticallyShiftedAngularCoords(bBox, dy, center) {\n    var isPositive = bBox.x + bBox.width / 2 >= center.x;\n    var horizontalOffset1 = (isPositive ? bBox.x : bBox.x + bBox.width) - center.x;\n    var verticalOffset1 = bBox.y - center.y;\n    var verticalOffset2 = verticalOffset1 + dy;\n\n    var horizontalOffset2 = _round(_sqrt(horizontalOffset1 * horizontalOffset1 + verticalOffset1 * verticalOffset1 - verticalOffset2 * verticalOffset2));\n\n    var dx = (isPositive ? +horizontalOffset2 : -horizontalOffset2) || horizontalOffset1;\n    return {\n      x: center.x + (isPositive ? dx : dx - bBox.width),\n      y: bBox.y + dy\n    };\n  },\n  mergeMarginOptions: function mergeMarginOptions(opt1, opt2) {\n    return {\n      checkInterval: opt1.checkInterval || opt2.checkInterval,\n      size: Math.max(opt1.size || 0, opt2.size || 0),\n      percentStick: opt1.percentStick || opt2.percentStick,\n      sizePointNormalState: Math.max(opt1.sizePointNormalState || 0, opt2.sizePointNormalState || 0)\n    };\n  }\n});\n\nfunction getVizRangeObject(value) {\n  if (Array.isArray(value)) {\n    return {\n      startValue: value[0],\n      endValue: value[1]\n    };\n  } else {\n    return value || {};\n  }\n}\n\nfunction convertVisualRangeObject(visualRange, convertToVisualRange) {\n  if (convertToVisualRange) {\n    return visualRange;\n  }\n\n  return [visualRange.startValue, visualRange.endValue];\n}\n\nfunction getAddFunction(range, correctZeroLevel) {\n  if (\"datetime\" === range.dataType) {\n    return function (rangeValue, marginValue) {\n      var sign = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;\n      return new Date(rangeValue.getTime() + sign * marginValue);\n    };\n  }\n\n  if (\"logarithmic\" === range.axisType) {\n    return function (rangeValue, marginValue) {\n      var sign = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;\n      var log = getLogExt(rangeValue, range.base) + sign * marginValue;\n      return raiseToExt(log, range.base);\n    };\n  }\n\n  return function (rangeValue, marginValue) {\n    var sign = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;\n    var newValue = rangeValue + sign * marginValue;\n    return correctZeroLevel && newValue * rangeValue <= 0 ? 0 : newValue;\n  };\n}\n\nfunction adjustVisualRange(options, visualRange, wholeRange, dataRange) {\n  var minDefined = typeUtils.isDefined(visualRange.startValue);\n  var maxDefined = typeUtils.isDefined(visualRange.endValue);\n  var nonDiscrete = \"discrete\" !== options.axisType;\n  dataRange = dataRange || wholeRange;\n  var add = getAddFunction(options, false);\n  var min = minDefined ? visualRange.startValue : dataRange.min;\n  var max = maxDefined ? visualRange.endValue : dataRange.max;\n  var rangeLength = visualRange.length;\n  var categories = dataRange.categories;\n\n  if (nonDiscrete && !typeUtils.isDefined(min) && !typeUtils.isDefined(max)) {\n    return {\n      startValue: min,\n      endValue: max\n    };\n  }\n\n  if (isDefined(rangeLength)) {\n    if (nonDiscrete) {\n      if (\"datetime\" === options.dataType && !isNumber(rangeLength)) {\n        rangeLength = dateToMilliseconds(rangeLength);\n      }\n\n      if (maxDefined && !minDefined || !maxDefined && !minDefined) {\n        isDefined(wholeRange.max) && (max = max > wholeRange.max ? wholeRange.max : max);\n        min = add(max, rangeLength, -1);\n      } else {\n        if (minDefined && !maxDefined) {\n          isDefined(wholeRange.min) && (min = min < wholeRange.min ? wholeRange.min : min);\n          max = add(min, rangeLength);\n        }\n      }\n    } else {\n      rangeLength = parseInt(rangeLength);\n\n      if (!isNaN(rangeLength) && isFinite(rangeLength)) {\n        rangeLength--;\n\n        if (!maxDefined && !minDefined) {\n          max = categories[categories.length - 1];\n          min = categories[categories.length - 1 - rangeLength];\n        } else {\n          if (minDefined && !maxDefined) {\n            var categoriesInfo = exports.getCategoriesInfo(categories, min, void 0);\n            max = categoriesInfo.categories[rangeLength];\n          } else {\n            if (!minDefined && maxDefined) {\n              var _categoriesInfo = exports.getCategoriesInfo(categories, void 0, max);\n\n              min = _categoriesInfo.categories[_categoriesInfo.categories.length - 1 - rangeLength];\n            }\n          }\n        }\n      }\n    }\n  }\n\n  if (nonDiscrete) {\n    if (isDefined(wholeRange.max) && max > wholeRange.max) {\n      max = wholeRange.max;\n    }\n\n    if (isDefined(wholeRange.min) && min < wholeRange.min) {\n      min = wholeRange.min;\n    }\n  }\n\n  return {\n    startValue: min,\n    endValue: max\n  };\n}\n\nfunction getLogExt(value, base) {\n  var allowNegatives = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : false;\n  var linearThreshold = arguments.length > 3 ? arguments[3] : void 0;\n\n  if (!allowNegatives) {\n    return getLog(value, base);\n  }\n\n  if (0 === value) {\n    return 0;\n  }\n\n  var transformValue = getLog(Math.abs(value), base) - (linearThreshold - 1);\n\n  if (transformValue < 0) {\n    return 0;\n  }\n\n  return adjust(sign(value) * transformValue, Number(Math.pow(base, linearThreshold - 1).toFixed(Math.abs(linearThreshold))));\n}\n\nfunction raiseToExt(value, base) {\n  var allowNegatives = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : false;\n  var linearThreshold = arguments.length > 3 ? arguments[3] : void 0;\n\n  if (!allowNegatives) {\n    return raiseTo(value, base);\n  }\n\n  if (0 === value) {\n    return 0;\n  }\n\n  var transformValue = raiseTo(Math.abs(value) + (linearThreshold - 1), base);\n\n  if (transformValue < 0) {\n    return 0;\n  }\n\n  return adjust(sign(value) * transformValue, Number(Math.pow(base, linearThreshold).toFixed(Math.abs(linearThreshold))));\n}\n\nfunction rangesAreEqual(range, rangeFromOptions) {\n  if (Array.isArray(rangeFromOptions)) {\n    return range.length === rangeFromOptions.length && range.every(function (item, i) {\n      return item === rangeFromOptions[i];\n    });\n  } else {\n    return range.startValue === rangeFromOptions.startValue && range.endValue === rangeFromOptions.endValue;\n  }\n}\n\nexports.getVizRangeObject = getVizRangeObject;\nexports.convertVisualRangeObject = convertVisualRangeObject;\nexports.adjustVisualRange = adjustVisualRange;\nexports.getAddFunction = getAddFunction;\nexports.getLog = getLog;\nexports.getLogExt = getLogExt;\nexports.getAdjustedLog10 = getAdjustedLog10;\nexports.raiseTo = raiseTo;\nexports.raiseToExt = raiseToExt;\nexports.normalizeAngle = normalizeAngle;\nexports.convertAngleToRendererSpace = convertAngleToRendererSpace;\nexports.degreesToRadians = degreesToRadians;\nexports.getCosAndSin = getCosAndSin;\nexports.getDecimalOrder = getDecimalOrder;\nexports.getAppropriateFormat = getAppropriateFormat;\nexports.getDistance = getDistance;\nexports.roundValue = roundValue;\nexports.getPower = getPower;\nexports.rotateBBox = rotateBBox;\nexports.normalizeBBox = normalizeBBox;\nexports.PANE_PADDING = PANE_PADDING;\nexports.rangesAreEqual = rangesAreEqual;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/core/utils.js"],"names":["noop","require","typeUtils","extend","each","mathUtils","dateToMilliseconds","domAdapter","Color","isDefined","isNumber","isExponential","_math","_round","_sqrt","Math","PI","MAX_PIXEL_COUNT","PI_DIV_180","LN10","cosFunc","sinFunc","abs","log","floor","ceil","max","_isNaN","_Number","_NaN","adjust","sign","PANE_PADDING","getLog","getAdjustedLog10","raiseTo","normalizeAngle","angle","convertAngleToRendererSpace","degreesToRadians","getCosAndSin","angleInRadians","cos","sin","DECIMAL_ORDER_THRESHOLD","getDistance","diffX","x2","diffY","y2","getDecimalOrder","n","cn","getAppropriateFormat","order","precision","end","format","type","roundValue","value","getPower","i","len","array","result","callback","map","object","dec","String","canvas","xl","normalizeBBoxField","bBox","yt","xr","yb","x","y","width","height","w2","h2","centerX","centerY","w2_","h2_","centerX_","center","centerY_","normalizeBBox","decreaseGaps","arrayGaps","selectByKeys","decrease","decreaseFields","normalizeEnum","parseScalar","enumParser","stored","ii","values","_value","patchFontOptions","fontOptions","options","key","color","checkElementHasPropertyFromStyleSheet","slice","Array","cssRules","rules","styleSheet","elementRules","rule","convertPolarToXY","shiftAngle","normalizedRadius","radius","cosSin","centerCoords","convertXYToPolar","phi","r","processSeriesTemplate","customizeSeries","seriesTemplate","nameField","generatedSeries","seriesOrder","items","length","data","series","name","nameFieldValue","group","getCategoriesInfo","categories","startValue","endValue","categoriesValue","category","indexStartValue","indexEndValue","inverted","swapBuf","visibleCategories","lastIdx","start","setCanvasValues","normalizePanesHeight","panes","pane","unit","parsedHeight","parseFloat","weightSum","prev","next","weightHeightCount","emptyHeightCount","weightForEmpty","emptyWeightSum","updatePanesCanvases","distributedSpace","padding","paneSpace","rotated","usefulSpace","startName","endName","totalCustomSpace","cur","calcLength","unique","getVerticallyShiftedAngularCoords","isPositive","horizontalOffset1","verticalOffset1","verticalOffset2","horizontalOffset2","dx","dy","mergeMarginOptions","checkInterval","opt1","opt2","size","percentStick","sizePointNormalState","visualRange","range","arguments","rangeValue","getLogExt","raiseToExt","newValue","correctZeroLevel","minDefined","maxDefined","nonDiscrete","dataRange","add","getAddFunction","min","rangeLength","wholeRange","parseInt","isNaN","isFinite","categoriesInfo","exports","_categoriesInfo","allowNegatives","linearThreshold","transformValue","Number","rangeFromOptions","item"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/core/utils.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar mathUtils = require(\"../../core/utils/math\");\r\nvar dateToMilliseconds = require(\"../../core/utils/date\").dateToMilliseconds;\r\nvar domAdapter = require(\"../../core/dom_adapter\");\r\nvar Color = require(\"../../color\");\r\nvar isDefined = typeUtils.isDefined;\r\nvar isNumber = typeUtils.isNumeric;\r\nvar isExponential = typeUtils.isExponential;\r\nvar _math = Math;\r\nvar _round = _math.round;\r\nvar _sqrt = Math.sqrt;\r\nvar PI = Math.PI;\r\nvar MAX_PIXEL_COUNT = 1e10;\r\nvar PI_DIV_180 = PI / 180;\r\nvar LN10 = Math.LN10;\r\nvar cosFunc = Math.cos;\r\nvar sinFunc = Math.sin;\r\nvar abs = Math.abs;\r\nvar log = Math.log;\r\nvar floor = Math.floor;\r\nvar ceil = Math.ceil;\r\nvar max = Math.max;\r\nvar _isNaN = isNaN;\r\nvar _Number = Number;\r\nvar _NaN = NaN;\r\nvar adjust = mathUtils.adjust,\r\n    sign = mathUtils.sign;\r\nvar PANE_PADDING = 10;\r\nvar getLog = function(value, base) {\r\n    if (!value) {\r\n        return _NaN\r\n    }\r\n    return Math.log(value) / Math.log(base)\r\n};\r\nvar getAdjustedLog10 = function(value) {\r\n    return adjust(getLog(value, 10))\r\n};\r\nvar raiseTo = function(power, base) {\r\n    return Math.pow(base, power)\r\n};\r\nvar normalizeAngle = function(angle) {\r\n    return (angle % 360 + 360) % 360\r\n};\r\nvar convertAngleToRendererSpace = function(angle) {\r\n    return 90 - angle\r\n};\r\nvar degreesToRadians = function(value) {\r\n    return PI * value / 180\r\n};\r\nvar getCosAndSin = function(angle) {\r\n    var angleInRadians = degreesToRadians(angle);\r\n    return {\r\n        cos: cosFunc(angleInRadians),\r\n        sin: sinFunc(angleInRadians)\r\n    }\r\n};\r\nvar DECIMAL_ORDER_THRESHOLD = 1e-14;\r\nvar getDistance = function(x1, y1, x2, y2) {\r\n    var diffX = x2 - x1;\r\n    var diffY = y2 - y1;\r\n    return Math.sqrt(diffY * diffY + diffX * diffX)\r\n};\r\nvar getDecimalOrder = function(number) {\r\n    var n = abs(number);\r\n    var cn;\r\n    if (!_isNaN(n)) {\r\n        if (n > 0) {\r\n            n = log(n) / LN10;\r\n            cn = ceil(n);\r\n            return cn - n < DECIMAL_ORDER_THRESHOLD ? cn : floor(n)\r\n        }\r\n        return 0\r\n    }\r\n    return _NaN\r\n};\r\nvar getAppropriateFormat = function(start, end, count) {\r\n    var order = max(getDecimalOrder(start), getDecimalOrder(end));\r\n    var precision = -getDecimalOrder(abs(end - start) / count);\r\n    var format;\r\n    if (!_isNaN(order) && !_isNaN(precision)) {\r\n        if (abs(order) <= 4) {\r\n            format = \"fixedPoint\";\r\n            precision < 0 && (precision = 0);\r\n            precision > 4 && (precision = 4)\r\n        } else {\r\n            format = \"exponential\";\r\n            precision += order - 1;\r\n            precision > 3 && (precision = 3)\r\n        }\r\n        return {\r\n            type: format,\r\n            precision: precision\r\n        }\r\n    }\r\n    return null\r\n};\r\nvar roundValue = function(value, precision) {\r\n    if (precision > 20) {\r\n        precision = 20\r\n    }\r\n    if (isNumber(value)) {\r\n        if (isExponential(value)) {\r\n            return _Number(value.toExponential(precision))\r\n        } else {\r\n            return _Number(value.toFixed(precision))\r\n        }\r\n    }\r\n};\r\nvar getPower = function(value) {\r\n    return value.toExponential().split(\"e\")[1]\r\n};\r\n\r\nfunction map(array, callback) {\r\n    var i = 0;\r\n    var len = array.length;\r\n    var result = [];\r\n    var value;\r\n    while (i < len) {\r\n        value = callback(array[i], i);\r\n        if (null !== value) {\r\n            result.push(value)\r\n        }\r\n        i++\r\n    }\r\n    return result\r\n}\r\n\r\nfunction selectByKeys(object, keys) {\r\n    return map(keys, function(key) {\r\n        return object[key] ? object[key] : null\r\n    })\r\n}\r\n\r\nfunction decreaseFields(object, keys, eachDecrease, decrease) {\r\n    var dec = decrease;\r\n    each(keys, function(_, key) {\r\n        if (object[key]) {\r\n            object[key] -= eachDecrease;\r\n            dec -= eachDecrease\r\n        }\r\n    });\r\n    return dec\r\n}\r\n\r\nfunction normalizeEnum(value) {\r\n    return String(value).toLowerCase()\r\n}\r\n\r\nfunction setCanvasValues(canvas) {\r\n    if (canvas) {\r\n        canvas.originalTop = canvas.top;\r\n        canvas.originalBottom = canvas.bottom;\r\n        canvas.originalLeft = canvas.left;\r\n        canvas.originalRight = canvas.right\r\n    }\r\n    return canvas\r\n}\r\n\r\nfunction normalizeBBoxField(value) {\r\n    return -MAX_PIXEL_COUNT < value && value < +MAX_PIXEL_COUNT ? value : 0\r\n}\r\n\r\nfunction normalizeBBox(bBox) {\r\n    var xl = normalizeBBoxField(floor(bBox.x));\r\n    var yt = normalizeBBoxField(floor(bBox.y));\r\n    var xr = normalizeBBoxField(ceil(bBox.width + bBox.x));\r\n    var yb = normalizeBBoxField(ceil(bBox.height + bBox.y));\r\n    var result = {\r\n        x: xl,\r\n        y: yt,\r\n        width: xr - xl,\r\n        height: yb - yt\r\n    };\r\n    result.isEmpty = !result.x && !result.y && !result.width && !result.height;\r\n    return result\r\n}\r\n\r\nfunction rotateBBox(bBox, center, angle) {\r\n    var cos = _Number(cosFunc(angle * PI_DIV_180).toFixed(3));\r\n    var sin = _Number(sinFunc(angle * PI_DIV_180).toFixed(3));\r\n    var w2 = bBox.width / 2;\r\n    var h2 = bBox.height / 2;\r\n    var centerX = bBox.x + w2;\r\n    var centerY = bBox.y + h2;\r\n    var w2_ = abs(w2 * cos) + abs(h2 * sin);\r\n    var h2_ = abs(w2 * sin) + abs(h2 * cos);\r\n    var centerX_ = center[0] + (centerX - center[0]) * cos + (centerY - center[1]) * sin;\r\n    var centerY_ = center[1] - (centerX - center[0]) * sin + (centerY - center[1]) * cos;\r\n    return normalizeBBox({\r\n        x: centerX_ - w2_,\r\n        y: centerY_ - h2_,\r\n        width: 2 * w2_,\r\n        height: 2 * h2_\r\n    })\r\n}\r\nextend(exports, {\r\n    decreaseGaps: function(object, keys, decrease) {\r\n        var arrayGaps;\r\n        do {\r\n            arrayGaps = selectByKeys(object, keys);\r\n            arrayGaps.push(_math.ceil(decrease / arrayGaps.length));\r\n            decrease = decreaseFields(object, keys, _math.min.apply(null, arrayGaps), decrease)\r\n        } while (decrease > 0 && arrayGaps.length > 1);\r\n        return decrease\r\n    },\r\n    normalizeEnum: normalizeEnum,\r\n    parseScalar: function(value, defaultValue) {\r\n        return void 0 !== value ? value : defaultValue\r\n    },\r\n    enumParser: function(values) {\r\n        var stored = {};\r\n        var i;\r\n        var ii;\r\n        for (i = 0, ii = values.length; i < ii; ++i) {\r\n            stored[normalizeEnum(values[i])] = 1\r\n        }\r\n        return function(value, defaultValue) {\r\n            var _value = normalizeEnum(value);\r\n            return stored[_value] ? _value : defaultValue\r\n        }\r\n    },\r\n    patchFontOptions: function(options) {\r\n        var fontOptions = {};\r\n        each(options || {}, function(key, value) {\r\n            if (/^(cursor)$/i.test(key)) {} else {\r\n                if (\"opacity\" === key) {\r\n                    value = null\r\n                } else {\r\n                    if (\"color\" === key) {\r\n                        key = \"fill\";\r\n                        if (\"opacity\" in options) {\r\n                            var color = new Color(value);\r\n                            value = \"rgba(\".concat(color.r, \",\").concat(color.g, \",\").concat(color.b, \",\").concat(options.opacity, \")\")\r\n                        }\r\n                    } else {\r\n                        key = \"font-\" + key\r\n                    }\r\n                }\r\n            }\r\n            fontOptions[key] = value\r\n        });\r\n        return fontOptions\r\n    },\r\n    checkElementHasPropertyFromStyleSheet: function(element, property) {\r\n        var slice = Array.prototype.slice;\r\n        var cssRules = slice.call(domAdapter.getDocument().styleSheets).reduce(function(rules, styleSheet) {\r\n            return rules.concat(slice.call(styleSheet.cssRules || styleSheet.rules))\r\n        }, []);\r\n        var elementRules = cssRules.filter(function(rule) {\r\n            try {\r\n                return domAdapter.elementMatches(element, rule.selectorText)\r\n            } catch (e) {\r\n                return false\r\n            }\r\n        });\r\n        return elementRules.some(function(rule) {\r\n            return !!rule.style[property]\r\n        })\r\n    },\r\n    convertPolarToXY: function(centerCoords, startAngle, angle, radius) {\r\n        var shiftAngle = 90;\r\n        var normalizedRadius = radius > 0 ? radius : 0;\r\n        angle = isDefined(angle) ? angle + startAngle - shiftAngle : 0;\r\n        var cosSin = getCosAndSin(angle);\r\n        return {\r\n            x: _round(centerCoords.x + normalizedRadius * cosSin.cos),\r\n            y: _round(centerCoords.y + normalizedRadius * cosSin.sin)\r\n        }\r\n    },\r\n    convertXYToPolar: function(centerCoords, x, y) {\r\n        var radius = getDistance(centerCoords.x, centerCoords.y, x, y);\r\n        var angle = _math.atan2(y - centerCoords.y, x - centerCoords.x);\r\n        return {\r\n            phi: _round(normalizeAngle(180 * angle / _math.PI)),\r\n            r: _round(radius)\r\n        }\r\n    },\r\n    processSeriesTemplate: function(seriesTemplate, items) {\r\n        var customizeSeries = typeUtils.isFunction(seriesTemplate.customizeSeries) ? seriesTemplate.customizeSeries : noop;\r\n        var nameField = seriesTemplate.nameField;\r\n        var generatedSeries = {};\r\n        var seriesOrder = [];\r\n        var series;\r\n        var i = 0;\r\n        var length;\r\n        var data;\r\n        items = items || [];\r\n        for (length = items.length; i < length; i++) {\r\n            data = items[i];\r\n            if (nameField in data) {\r\n                series = generatedSeries[data[nameField]];\r\n                if (!series) {\r\n                    series = generatedSeries[data[nameField]] = {\r\n                        name: data[nameField],\r\n                        nameFieldValue: data[nameField]\r\n                    };\r\n                    seriesOrder.push(series.name)\r\n                }\r\n            }\r\n        }\r\n        return map(seriesOrder, function(orderedName) {\r\n            var group = generatedSeries[orderedName];\r\n            return extend(group, customizeSeries.call(null, group.name))\r\n        })\r\n    },\r\n    getCategoriesInfo: function(categories, startValue, endValue) {\r\n        if (0 === categories.length) {\r\n            return {\r\n                categories: []\r\n            }\r\n        }\r\n        startValue = isDefined(startValue) ? startValue : categories[0];\r\n        endValue = isDefined(endValue) ? endValue : categories[categories.length - 1];\r\n        var categoriesValue = map(categories, function(category) {\r\n            return isDefined(category) ? category.valueOf() : null\r\n        });\r\n        var visibleCategories;\r\n        var indexStartValue = categoriesValue.indexOf(startValue.valueOf());\r\n        var indexEndValue = categoriesValue.indexOf(endValue.valueOf());\r\n        var swapBuf;\r\n        var inverted = false;\r\n        var lastIdx;\r\n        indexStartValue < 0 && (indexStartValue = 0);\r\n        indexEndValue < 0 && (indexEndValue = categories.length - 1);\r\n        if (indexEndValue < indexStartValue) {\r\n            swapBuf = indexEndValue;\r\n            indexEndValue = indexStartValue;\r\n            indexStartValue = swapBuf;\r\n            inverted = true\r\n        }\r\n        visibleCategories = categories.slice(indexStartValue, indexEndValue + 1);\r\n        lastIdx = visibleCategories.length - 1;\r\n        return {\r\n            categories: visibleCategories,\r\n            start: visibleCategories[inverted ? lastIdx : 0],\r\n            end: visibleCategories[inverted ? 0 : lastIdx],\r\n            inverted: inverted\r\n        }\r\n    },\r\n    setCanvasValues: setCanvasValues,\r\n    normalizePanesHeight: function(panes) {\r\n        panes.forEach(function(pane) {\r\n            var height = pane.height;\r\n            var unit = 0;\r\n            var parsedHeight = parseFloat(height) || void 0;\r\n            if (typeUtils.isString(height) && height.indexOf(\"px\") > -1 || typeUtils.isNumeric(height) && height > 1) {\r\n                parsedHeight = _round(parsedHeight);\r\n                unit = 1\r\n            }\r\n            if (!unit && parsedHeight) {\r\n                if (typeUtils.isString(height) && height.indexOf(\"%\") > -1) {\r\n                    parsedHeight /= 100\r\n                } else {\r\n                    if (parsedHeight < 0) {\r\n                        parsedHeight = parsedHeight < -1 ? 1 : _math.abs(parsedHeight)\r\n                    }\r\n                }\r\n            }\r\n            pane.height = parsedHeight;\r\n            pane.unit = unit\r\n        });\r\n        var weightSum = panes.filter(function(pane) {\r\n            return !pane.unit\r\n        }).reduce(function(prev, next) {\r\n            return prev + (next.height || 0)\r\n        }, 0);\r\n        var weightHeightCount = panes.filter(function(pane) {\r\n            return !pane.unit\r\n        }).length;\r\n        var emptyHeightCount = panes.filter(function(pane) {\r\n            return !pane.unit && !pane.height\r\n        }).length;\r\n        if (weightSum < 1 && emptyHeightCount) {\r\n            panes.filter(function(pane) {\r\n                return !pane.unit && !pane.height\r\n            }).forEach(function(pane) {\r\n                return pane.height = (1 - weightSum) / emptyHeightCount\r\n            })\r\n        } else {\r\n            if (weightSum > 1 || weightSum < 1 && !emptyHeightCount || 1 === weightSum && emptyHeightCount) {\r\n                if (emptyHeightCount) {\r\n                    var weightForEmpty = weightSum / weightHeightCount;\r\n                    var emptyWeightSum = emptyHeightCount * weightForEmpty;\r\n                    panes.filter(function(pane) {\r\n                        return !pane.unit && pane.height\r\n                    }).forEach(function(pane) {\r\n                        return pane.height *= (weightSum - emptyWeightSum) / weightSum\r\n                    });\r\n                    panes.filter(function(pane) {\r\n                        return !pane.unit && !pane.height\r\n                    }).forEach(function(pane) {\r\n                        return pane.height = weightForEmpty\r\n                    })\r\n                }\r\n                panes.forEach(function(pane) {\r\n                    return !pane.unit && (pane.height *= 1 / weightSum)\r\n                })\r\n            }\r\n        }\r\n    },\r\n    updatePanesCanvases: function(panes, canvas, rotated) {\r\n        var distributedSpace = 0;\r\n        var padding = PANE_PADDING;\r\n        var paneSpace = rotated ? canvas.width - canvas.left - canvas.right : canvas.height - canvas.top - canvas.bottom;\r\n        var usefulSpace = paneSpace - padding * (panes.length - 1);\r\n        var startName = rotated ? \"left\" : \"top\";\r\n        var endName = rotated ? \"right\" : \"bottom\";\r\n        var totalCustomSpace = panes.reduce(function(prev, cur) {\r\n            return prev + (cur.unit ? cur.height : 0)\r\n        }, 0);\r\n        usefulSpace -= totalCustomSpace;\r\n        panes.forEach(function(pane) {\r\n            var calcLength = pane.unit ? pane.height : _round(pane.height * usefulSpace);\r\n            pane.canvas = pane.canvas || {};\r\n            extend(pane.canvas, canvas);\r\n            pane.canvas[startName] = canvas[startName] + distributedSpace;\r\n            pane.canvas[endName] = canvas[endName] + (paneSpace - calcLength - distributedSpace);\r\n            distributedSpace = distributedSpace + calcLength + padding;\r\n            setCanvasValues(pane.canvas)\r\n        })\r\n    },\r\n    unique: function(array) {\r\n        var values = {};\r\n        return map(array, function(item) {\r\n            var result = !values[item] ? item : null;\r\n            values[item] = true;\r\n            return result\r\n        })\r\n    },\r\n    map: map,\r\n    getVerticallyShiftedAngularCoords: function(bBox, dy, center) {\r\n        var isPositive = bBox.x + bBox.width / 2 >= center.x;\r\n        var horizontalOffset1 = (isPositive ? bBox.x : bBox.x + bBox.width) - center.x;\r\n        var verticalOffset1 = bBox.y - center.y;\r\n        var verticalOffset2 = verticalOffset1 + dy;\r\n        var horizontalOffset2 = _round(_sqrt(horizontalOffset1 * horizontalOffset1 + verticalOffset1 * verticalOffset1 - verticalOffset2 * verticalOffset2));\r\n        var dx = (isPositive ? +horizontalOffset2 : -horizontalOffset2) || horizontalOffset1;\r\n        return {\r\n            x: center.x + (isPositive ? dx : dx - bBox.width),\r\n            y: bBox.y + dy\r\n        }\r\n    },\r\n    mergeMarginOptions: function(opt1, opt2) {\r\n        return {\r\n            checkInterval: opt1.checkInterval || opt2.checkInterval,\r\n            size: Math.max(opt1.size || 0, opt2.size || 0),\r\n            percentStick: opt1.percentStick || opt2.percentStick,\r\n            sizePointNormalState: Math.max(opt1.sizePointNormalState || 0, opt2.sizePointNormalState || 0)\r\n        }\r\n    }\r\n});\r\n\r\nfunction getVizRangeObject(value) {\r\n    if (Array.isArray(value)) {\r\n        return {\r\n            startValue: value[0],\r\n            endValue: value[1]\r\n        }\r\n    } else {\r\n        return value || {}\r\n    }\r\n}\r\n\r\nfunction convertVisualRangeObject(visualRange, convertToVisualRange) {\r\n    if (convertToVisualRange) {\r\n        return visualRange\r\n    }\r\n    return [visualRange.startValue, visualRange.endValue]\r\n}\r\n\r\nfunction getAddFunction(range, correctZeroLevel) {\r\n    if (\"datetime\" === range.dataType) {\r\n        return function(rangeValue, marginValue) {\r\n            var sign = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;\r\n            return new Date(rangeValue.getTime() + sign * marginValue)\r\n        }\r\n    }\r\n    if (\"logarithmic\" === range.axisType) {\r\n        return function(rangeValue, marginValue) {\r\n            var sign = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;\r\n            var log = getLogExt(rangeValue, range.base) + sign * marginValue;\r\n            return raiseToExt(log, range.base)\r\n        }\r\n    }\r\n    return function(rangeValue, marginValue) {\r\n        var sign = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;\r\n        var newValue = rangeValue + sign * marginValue;\r\n        return correctZeroLevel && newValue * rangeValue <= 0 ? 0 : newValue\r\n    }\r\n}\r\n\r\nfunction adjustVisualRange(options, visualRange, wholeRange, dataRange) {\r\n    var minDefined = typeUtils.isDefined(visualRange.startValue);\r\n    var maxDefined = typeUtils.isDefined(visualRange.endValue);\r\n    var nonDiscrete = \"discrete\" !== options.axisType;\r\n    dataRange = dataRange || wholeRange;\r\n    var add = getAddFunction(options, false);\r\n    var min = minDefined ? visualRange.startValue : dataRange.min;\r\n    var max = maxDefined ? visualRange.endValue : dataRange.max;\r\n    var rangeLength = visualRange.length;\r\n    var categories = dataRange.categories;\r\n    if (nonDiscrete && !typeUtils.isDefined(min) && !typeUtils.isDefined(max)) {\r\n        return {\r\n            startValue: min,\r\n            endValue: max\r\n        }\r\n    }\r\n    if (isDefined(rangeLength)) {\r\n        if (nonDiscrete) {\r\n            if (\"datetime\" === options.dataType && !isNumber(rangeLength)) {\r\n                rangeLength = dateToMilliseconds(rangeLength)\r\n            }\r\n            if (maxDefined && !minDefined || !maxDefined && !minDefined) {\r\n                isDefined(wholeRange.max) && (max = max > wholeRange.max ? wholeRange.max : max);\r\n                min = add(max, rangeLength, -1)\r\n            } else {\r\n                if (minDefined && !maxDefined) {\r\n                    isDefined(wholeRange.min) && (min = min < wholeRange.min ? wholeRange.min : min);\r\n                    max = add(min, rangeLength)\r\n                }\r\n            }\r\n        } else {\r\n            rangeLength = parseInt(rangeLength);\r\n            if (!isNaN(rangeLength) && isFinite(rangeLength)) {\r\n                rangeLength--;\r\n                if (!maxDefined && !minDefined) {\r\n                    max = categories[categories.length - 1];\r\n                    min = categories[categories.length - 1 - rangeLength]\r\n                } else {\r\n                    if (minDefined && !maxDefined) {\r\n                        var categoriesInfo = exports.getCategoriesInfo(categories, min, void 0);\r\n                        max = categoriesInfo.categories[rangeLength]\r\n                    } else {\r\n                        if (!minDefined && maxDefined) {\r\n                            var _categoriesInfo = exports.getCategoriesInfo(categories, void 0, max);\r\n                            min = _categoriesInfo.categories[_categoriesInfo.categories.length - 1 - rangeLength]\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (nonDiscrete) {\r\n        if (isDefined(wholeRange.max) && max > wholeRange.max) {\r\n            max = wholeRange.max\r\n        }\r\n        if (isDefined(wholeRange.min) && min < wholeRange.min) {\r\n            min = wholeRange.min\r\n        }\r\n    }\r\n    return {\r\n        startValue: min,\r\n        endValue: max\r\n    }\r\n}\r\n\r\nfunction getLogExt(value, base) {\r\n    var allowNegatives = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : false;\r\n    var linearThreshold = arguments.length > 3 ? arguments[3] : void 0;\r\n    if (!allowNegatives) {\r\n        return getLog(value, base)\r\n    }\r\n    if (0 === value) {\r\n        return 0\r\n    }\r\n    var transformValue = getLog(Math.abs(value), base) - (linearThreshold - 1);\r\n    if (transformValue < 0) {\r\n        return 0\r\n    }\r\n    return adjust(sign(value) * transformValue, Number(Math.pow(base, linearThreshold - 1).toFixed(Math.abs(linearThreshold))))\r\n}\r\n\r\nfunction raiseToExt(value, base) {\r\n    var allowNegatives = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : false;\r\n    var linearThreshold = arguments.length > 3 ? arguments[3] : void 0;\r\n    if (!allowNegatives) {\r\n        return raiseTo(value, base)\r\n    }\r\n    if (0 === value) {\r\n        return 0\r\n    }\r\n    var transformValue = raiseTo(Math.abs(value) + (linearThreshold - 1), base);\r\n    if (transformValue < 0) {\r\n        return 0\r\n    }\r\n    return adjust(sign(value) * transformValue, Number(Math.pow(base, linearThreshold).toFixed(Math.abs(linearThreshold))))\r\n}\r\n\r\nfunction rangesAreEqual(range, rangeFromOptions) {\r\n    if (Array.isArray(rangeFromOptions)) {\r\n        return range.length === rangeFromOptions.length && range.every(function(item, i) {\r\n            return item === rangeFromOptions[i]\r\n        })\r\n    } else {\r\n        return range.startValue === rangeFromOptions.startValue && range.endValue === rangeFromOptions.endValue\r\n    }\r\n}\r\nexports.getVizRangeObject = getVizRangeObject;\r\nexports.convertVisualRangeObject = convertVisualRangeObject;\r\nexports.adjustVisualRange = adjustVisualRange;\r\nexports.getAddFunction = getAddFunction;\r\nexports.getLog = getLog;\r\nexports.getLogExt = getLogExt;\r\nexports.getAdjustedLog10 = getAdjustedLog10;\r\nexports.raiseTo = raiseTo;\r\nexports.raiseToExt = raiseToExt;\r\nexports.normalizeAngle = normalizeAngle;\r\nexports.convertAngleToRendererSpace = convertAngleToRendererSpace;\r\nexports.degreesToRadians = degreesToRadians;\r\nexports.getCosAndSin = getCosAndSin;\r\nexports.getDecimalOrder = getDecimalOrder;\r\nexports.getAppropriateFormat = getAppropriateFormat;\r\nexports.getDistance = getDistance;\r\nexports.roundValue = roundValue;\r\nexports.getPower = getPower;\r\nexports.rotateBBox = rotateBBox;\r\nexports.normalizeBBox = normalizeBBox;\r\nexports.PANE_PADDING = PANE_PADDING;\r\nexports.rangesAreEqual = rangesAreEqual;\r\n"]},"metadata":{},"sourceType":"module"}