{"ast":null,"code":"/*!\r\nFullCalendar Day Grid Plugin v4.3.0\r\nDocs & License: https://fullcalendar.io/\r\n(c) 2019 Adam Shaw\r\n*/\nimport { addWeeks, diffWeeks, DateProfileGenerator, createElement, listenBySelector, removeElement, computeRect, computeClippingRect, applyStyle, cssToStr, htmlEscape, FgEventRenderer, appendToElement, prependToElement, htmlToElement, FillRenderer, memoizeRendering, createFormatter, addDays, DateComponent, rangeContainsMarker, getDayClasses, findElements, PositionCache, buildGotoAnchorHtml, findChildren, insertAfterElement, intersectRanges, ScrollComponent, matchCellWidths, uncompensateScroll, compensateScroll, subtractInnerElHeight, distributeHeight, undistributeHeight, View, Slicer, memoize, DayHeader, DaySeries, DayTable, createPlugin } from '@fullcalendar/core';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nvar DayGridDateProfileGenerator =\n/** @class */\nfunction (_super) {\n  __extends(DayGridDateProfileGenerator, _super);\n\n  function DayGridDateProfileGenerator() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  } // Computes the date range that will be rendered.\n\n\n  DayGridDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n    var dateEnv = this.dateEnv;\n\n    var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n\n    var start = renderRange.start;\n    var end = renderRange.end;\n    var endOfWeek; // year and month views should be aligned with weeks. this is already done for week\n\n    if (/^(year|month)$/.test(currentRangeUnit)) {\n      start = dateEnv.startOfWeek(start); // make end-of-week if not already\n\n      endOfWeek = dateEnv.startOfWeek(end);\n\n      if (endOfWeek.valueOf() !== end.valueOf()) {\n        end = addWeeks(endOfWeek, 1);\n      }\n    } // ensure 6 weeks\n\n\n    if (this.options.monthMode && this.options.fixedWeekCount) {\n      var rowCnt = Math.ceil( // could be partial weeks due to hiddenDays\n      diffWeeks(start, end));\n      end = addWeeks(end, 6 - rowCnt);\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  return DayGridDateProfileGenerator;\n}(DateProfileGenerator);\n/* A rectangular panel that is absolutely positioned over other content\r\n------------------------------------------------------------------------------------------------------------------------\r\nOptions:\r\n  - className (string)\r\n  - content (HTML string, element, or element array)\r\n  - parentEl\r\n  - top\r\n  - left\r\n  - right (the x coord of where the right edge should be. not a \"CSS\" right)\r\n  - autoHide (boolean)\r\n  - show (callback)\r\n  - hide (callback)\r\n*/\n\n\nvar Popover =\n/** @class */\nfunction () {\n  function Popover(options) {\n    var _this = this;\n\n    this.isHidden = true;\n    this.margin = 10; // the space required between the popover and the edges of the scroll container\n    // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n\n    this.documentMousedown = function (ev) {\n      // only hide the popover if the click happened outside the popover\n      if (_this.el && !_this.el.contains(ev.target)) {\n        _this.hide();\n      }\n    };\n\n    this.options = options;\n  } // Shows the popover on the specified position. Renders it if not already\n\n\n  Popover.prototype.show = function () {\n    if (this.isHidden) {\n      if (!this.el) {\n        this.render();\n      }\n\n      this.el.style.display = '';\n      this.position();\n      this.isHidden = false;\n      this.trigger('show');\n    }\n  }; // Hides the popover, through CSS, but does not remove it from the DOM\n\n\n  Popover.prototype.hide = function () {\n    if (!this.isHidden) {\n      this.el.style.display = 'none';\n      this.isHidden = true;\n      this.trigger('hide');\n    }\n  }; // Creates `this.el` and renders content inside of it\n\n\n  Popover.prototype.render = function () {\n    var _this = this;\n\n    var options = this.options;\n    var el = this.el = createElement('div', {\n      className: 'fc-popover ' + (options.className || ''),\n      style: {\n        top: '0',\n        left: '0'\n      }\n    });\n\n    if (typeof options.content === 'function') {\n      options.content(el);\n    }\n\n    options.parentEl.appendChild(el); // when a click happens on anything inside with a 'fc-close' className, hide the popover\n\n    listenBySelector(el, 'click', '.fc-close', function (ev) {\n      _this.hide();\n    });\n\n    if (options.autoHide) {\n      document.addEventListener('mousedown', this.documentMousedown);\n    }\n  }; // Hides and unregisters any handlers\n\n\n  Popover.prototype.destroy = function () {\n    this.hide();\n\n    if (this.el) {\n      removeElement(this.el);\n      this.el = null;\n    }\n\n    document.removeEventListener('mousedown', this.documentMousedown);\n  }; // Positions the popover optimally, using the top/left/right options\n\n\n  Popover.prototype.position = function () {\n    var options = this.options;\n    var el = this.el;\n    var elDims = el.getBoundingClientRect(); // only used for width,height\n\n    var origin = computeRect(el.offsetParent);\n    var clippingRect = computeClippingRect(options.parentEl);\n    var top; // the \"position\" (not \"offset\") values for the popover\n\n    var left; //\n    // compute top and left\n\n    top = options.top || 0;\n\n    if (options.left !== undefined) {\n      left = options.left;\n    } else if (options.right !== undefined) {\n      left = options.right - elDims.width; // derive the left value from the right value\n    } else {\n      left = 0;\n    } // constrain to the view port. if constrained by two edges, give precedence to top/left\n\n\n    top = Math.min(top, clippingRect.bottom - elDims.height - this.margin);\n    top = Math.max(top, clippingRect.top + this.margin);\n    left = Math.min(left, clippingRect.right - elDims.width - this.margin);\n    left = Math.max(left, clippingRect.left + this.margin);\n    applyStyle(el, {\n      top: top - origin.top,\n      left: left - origin.left\n    });\n  }; // Triggers a callback. Calls a function in the option hash of the same name.\n  // Arguments beyond the first `name` are forwarded on.\n  // TODO: better code reuse for this. Repeat code\n  // can kill this???\n\n\n  Popover.prototype.trigger = function (name) {\n    if (this.options[name]) {\n      this.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n  };\n\n  return Popover;\n}();\n/* Event-rendering methods for the DayGrid class\r\n----------------------------------------------------------------------------------------------------------------------*/\n// \"Simple\" is bad a name. has nothing to do with SimpleDayGrid\n\n\nvar SimpleDayGridEventRenderer =\n/** @class */\nfunction (_super) {\n  __extends(SimpleDayGridEventRenderer, _super);\n\n  function SimpleDayGridEventRenderer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  } // Builds the HTML to be used for the default element for an individual segment\n\n\n  SimpleDayGridEventRenderer.prototype.renderSegHtml = function (seg, mirrorInfo) {\n    var _a = this.context,\n        view = _a.view,\n        options = _a.options;\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var eventUi = eventRange.ui;\n    var allDay = eventDef.allDay;\n    var isDraggable = view.computeEventDraggable(eventDef, eventUi);\n    var isResizableFromStart = allDay && seg.isStart && view.computeEventStartResizable(eventDef, eventUi);\n    var isResizableFromEnd = allDay && seg.isEnd && view.computeEventEndResizable(eventDef, eventUi);\n    var classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd, mirrorInfo);\n    var skinCss = cssToStr(this.getSkinCss(eventUi));\n    var timeHtml = '';\n    var timeText;\n    var titleHtml;\n    classes.unshift('fc-day-grid-event', 'fc-h-event'); // Only display a timed events time if it is the starting segment\n\n    if (seg.isStart) {\n      timeText = this.getTimeText(eventRange);\n\n      if (timeText) {\n        timeHtml = '<span class=\"fc-time\">' + htmlEscape(timeText) + '</span>';\n      }\n    }\n\n    titleHtml = '<span class=\"fc-title\">' + (htmlEscape(eventDef.title || '') || '&nbsp;') + // we always want one line of height\n    '</span>';\n    return '<a class=\"' + classes.join(' ') + '\"' + (eventDef.url ? ' href=\"' + htmlEscape(eventDef.url) + '\"' : '') + (skinCss ? ' style=\"' + skinCss + '\"' : '') + '>' + '<div class=\"fc-content\">' + (options.dir === 'rtl' ? titleHtml + ' ' + timeHtml : // put a natural space in between\n    timeHtml + ' ' + titleHtml //\n    ) + '</div>' + (isResizableFromStart ? '<div class=\"fc-resizer fc-start-resizer\"></div>' : '') + (isResizableFromEnd ? '<div class=\"fc-resizer fc-end-resizer\"></div>' : '') + '</a>';\n  }; // Computes a default event time formatting string if `eventTimeFormat` is not explicitly defined\n\n\n  SimpleDayGridEventRenderer.prototype.computeEventTimeFormat = function () {\n    return {\n      hour: 'numeric',\n      minute: '2-digit',\n      omitZeroMinute: true,\n      meridiem: 'narrow'\n    };\n  };\n\n  SimpleDayGridEventRenderer.prototype.computeDisplayEventEnd = function () {\n    return false; // TODO: somehow consider the originating DayGrid's column count\n  };\n\n  return SimpleDayGridEventRenderer;\n}(FgEventRenderer);\n/* Event-rendering methods for the DayGrid class\r\n----------------------------------------------------------------------------------------------------------------------*/\n\n\nvar DayGridEventRenderer =\n/** @class */\nfunction (_super) {\n  __extends(DayGridEventRenderer, _super);\n\n  function DayGridEventRenderer(dayGrid) {\n    var _this = _super.call(this, dayGrid.context) || this;\n\n    _this.dayGrid = dayGrid;\n    return _this;\n  } // Renders the given foreground event segments onto the grid\n\n\n  DayGridEventRenderer.prototype.attachSegs = function (segs, mirrorInfo) {\n    var rowStructs = this.rowStructs = this.renderSegRows(segs); // append to each row's content skeleton\n\n    this.dayGrid.rowEls.forEach(function (rowNode, i) {\n      rowNode.querySelector('.fc-content-skeleton > table').appendChild(rowStructs[i].tbodyEl);\n    }); // removes the \"more..\" events popover\n\n    if (!mirrorInfo) {\n      this.dayGrid.removeSegPopover();\n    }\n  }; // Unrenders all currently rendered foreground event segments\n\n\n  DayGridEventRenderer.prototype.detachSegs = function () {\n    var rowStructs = this.rowStructs || [];\n    var rowStruct;\n\n    while (rowStruct = rowStructs.pop()) {\n      removeElement(rowStruct.tbodyEl);\n    }\n\n    this.rowStructs = null;\n  }; // Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\n  // Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\n  // PRECONDITION: each segment shoud already have a rendered and assigned `.el`\n\n\n  DayGridEventRenderer.prototype.renderSegRows = function (segs) {\n    var rowStructs = [];\n    var segRows;\n    var row;\n    segRows = this.groupSegRows(segs); // group into nested arrays\n    // iterate each row of segment groupings\n\n    for (row = 0; row < segRows.length; row++) {\n      rowStructs.push(this.renderSegRow(row, segRows[row]));\n    }\n\n    return rowStructs;\n  }; // Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\n  // the segments. Returns object with a bunch of internal data about how the render was calculated.\n  // NOTE: modifies rowSegs\n\n\n  DayGridEventRenderer.prototype.renderSegRow = function (row, rowSegs) {\n    var dayGrid = this.dayGrid;\n    var colCnt = dayGrid.colCnt,\n        isRtl = dayGrid.isRtl;\n    var segLevels = this.buildSegLevels(rowSegs); // group into sub-arrays of levels\n\n    var levelCnt = Math.max(1, segLevels.length); // ensure at least one level\n\n    var tbody = document.createElement('tbody');\n    var segMatrix = []; // lookup for which segments are rendered into which level+col cells\n\n    var cellMatrix = []; // lookup for all <td> elements of the level+col matrix\n\n    var loneCellMatrix = []; // lookup for <td> elements that only take up a single column\n\n    var i;\n    var levelSegs;\n    var col;\n    var tr;\n    var j;\n    var seg;\n    var td; // populates empty cells from the current column (`col`) to `endCol`\n\n    function emptyCellsUntil(endCol) {\n      while (col < endCol) {\n        // try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\n        td = (loneCellMatrix[i - 1] || [])[col];\n\n        if (td) {\n          td.rowSpan = (td.rowSpan || 1) + 1;\n        } else {\n          td = document.createElement('td');\n          tr.appendChild(td);\n        }\n\n        cellMatrix[i][col] = td;\n        loneCellMatrix[i][col] = td;\n        col++;\n      }\n    }\n\n    for (i = 0; i < levelCnt; i++) {\n      // iterate through all levels\n      levelSegs = segLevels[i];\n      col = 0;\n      tr = document.createElement('tr');\n      segMatrix.push([]);\n      cellMatrix.push([]);\n      loneCellMatrix.push([]); // levelCnt might be 1 even though there are no actual levels. protect against this.\n      // this single empty row is useful for styling.\n\n      if (levelSegs) {\n        for (j = 0; j < levelSegs.length; j++) {\n          // iterate through segments in level\n          seg = levelSegs[j];\n          var leftCol = isRtl ? colCnt - 1 - seg.lastCol : seg.firstCol;\n          var rightCol = isRtl ? colCnt - 1 - seg.firstCol : seg.lastCol;\n          emptyCellsUntil(leftCol); // create a container that occupies or more columns. append the event element.\n\n          td = createElement('td', {\n            className: 'fc-event-container'\n          }, seg.el);\n\n          if (leftCol !== rightCol) {\n            td.colSpan = rightCol - leftCol + 1;\n          } else {\n            // a single-column segment\n            loneCellMatrix[i][col] = td;\n          }\n\n          while (col <= rightCol) {\n            cellMatrix[i][col] = td;\n            segMatrix[i][col] = seg;\n            col++;\n          }\n\n          tr.appendChild(td);\n        }\n      }\n\n      emptyCellsUntil(colCnt); // finish off the row\n\n      var introHtml = dayGrid.renderProps.renderIntroHtml();\n\n      if (introHtml) {\n        if (dayGrid.isRtl) {\n          appendToElement(tr, introHtml);\n        } else {\n          prependToElement(tr, introHtml);\n        }\n      }\n\n      tbody.appendChild(tr);\n    }\n\n    return {\n      row: row,\n      tbodyEl: tbody,\n      cellMatrix: cellMatrix,\n      segMatrix: segMatrix,\n      segLevels: segLevels,\n      segs: rowSegs\n    };\n  }; // Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\n  // NOTE: modifies segs\n\n\n  DayGridEventRenderer.prototype.buildSegLevels = function (segs) {\n    var _a = this.dayGrid,\n        isRtl = _a.isRtl,\n        colCnt = _a.colCnt;\n    var levels = [];\n    var i;\n    var seg;\n    var j; // Give preference to elements with certain criteria, so they have\n    // a chance to be closer to the top.\n\n    segs = this.sortEventSegs(segs);\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]; // loop through levels, starting with the topmost, until the segment doesn't collide with other segments\n\n      for (j = 0; j < levels.length; j++) {\n        if (!isDaySegCollision(seg, levels[j])) {\n          break;\n        }\n      } // `j` now holds the desired subrow index\n\n\n      seg.level = j;\n      seg.leftCol = isRtl ? colCnt - 1 - seg.lastCol : seg.firstCol; // for sorting only\n\n      seg.rightCol = isRtl ? colCnt - 1 - seg.firstCol : seg.lastCol // for sorting only\n      ;\n      (levels[j] || (levels[j] = [])).push(seg);\n    } // order segments left-to-right. very important if calendar is RTL\n\n\n    for (j = 0; j < levels.length; j++) {\n      levels[j].sort(compareDaySegCols);\n    }\n\n    return levels;\n  }; // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\n\n\n  DayGridEventRenderer.prototype.groupSegRows = function (segs) {\n    var segRows = [];\n    var i;\n\n    for (i = 0; i < this.dayGrid.rowCnt; i++) {\n      segRows.push([]);\n    }\n\n    for (i = 0; i < segs.length; i++) {\n      segRows[segs[i].row].push(segs[i]);\n    }\n\n    return segRows;\n  }; // Computes a default `displayEventEnd` value if one is not expliclty defined\n\n\n  DayGridEventRenderer.prototype.computeDisplayEventEnd = function () {\n    return this.dayGrid.colCnt === 1; // we'll likely have space if there's only one day\n  };\n\n  return DayGridEventRenderer;\n}(SimpleDayGridEventRenderer); // Computes whether two segments' columns collide. They are assumed to be in the same row.\n\n\nfunction isDaySegCollision(seg, otherSegs) {\n  var i;\n  var otherSeg;\n\n  for (i = 0; i < otherSegs.length; i++) {\n    otherSeg = otherSegs[i];\n\n    if (otherSeg.firstCol <= seg.lastCol && otherSeg.lastCol >= seg.firstCol) {\n      return true;\n    }\n  }\n\n  return false;\n} // A cmp function for determining the leftmost event\n\n\nfunction compareDaySegCols(a, b) {\n  return a.leftCol - b.leftCol;\n}\n\nvar DayGridMirrorRenderer =\n/** @class */\nfunction (_super) {\n  __extends(DayGridMirrorRenderer, _super);\n\n  function DayGridMirrorRenderer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DayGridMirrorRenderer.prototype.attachSegs = function (segs, mirrorInfo) {\n    var sourceSeg = mirrorInfo.sourceSeg;\n    var rowStructs = this.rowStructs = this.renderSegRows(segs); // inject each new event skeleton into each associated row\n\n    this.dayGrid.rowEls.forEach(function (rowNode, row) {\n      var skeletonEl = htmlToElement('<div class=\"fc-mirror-skeleton\"><table></table></div>'); // will be absolutely positioned\n\n      var skeletonTopEl;\n      var skeletonTop; // If there is an original segment, match the top position. Otherwise, put it at the row's top level\n\n      if (sourceSeg && sourceSeg.row === row) {\n        skeletonTopEl = sourceSeg.el;\n      } else {\n        skeletonTopEl = rowNode.querySelector('.fc-content-skeleton tbody');\n\n        if (!skeletonTopEl) {\n          // when no events\n          skeletonTopEl = rowNode.querySelector('.fc-content-skeleton table');\n        }\n      }\n\n      skeletonTop = skeletonTopEl.getBoundingClientRect().top - rowNode.getBoundingClientRect().top; // the offsetParent origin\n\n      skeletonEl.style.top = skeletonTop + 'px';\n      skeletonEl.querySelector('table').appendChild(rowStructs[row].tbodyEl);\n      rowNode.appendChild(skeletonEl);\n    });\n  };\n\n  return DayGridMirrorRenderer;\n}(DayGridEventRenderer);\n\nvar EMPTY_CELL_HTML = '<td style=\"pointer-events:none\"></td>';\n\nvar DayGridFillRenderer =\n/** @class */\nfunction (_super) {\n  __extends(DayGridFillRenderer, _super);\n\n  function DayGridFillRenderer(dayGrid) {\n    var _this = _super.call(this, dayGrid.context) || this;\n\n    _this.fillSegTag = 'td'; // override the default tag name\n\n    _this.dayGrid = dayGrid;\n    return _this;\n  }\n\n  DayGridFillRenderer.prototype.renderSegs = function (type, segs) {\n    // don't render timed background events\n    if (type === 'bgEvent') {\n      segs = segs.filter(function (seg) {\n        return seg.eventRange.def.allDay;\n      });\n    }\n\n    _super.prototype.renderSegs.call(this, type, segs);\n  };\n\n  DayGridFillRenderer.prototype.attachSegs = function (type, segs) {\n    var els = [];\n    var i;\n    var seg;\n    var skeletonEl;\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i];\n      skeletonEl = this.renderFillRow(type, seg);\n      this.dayGrid.rowEls[seg.row].appendChild(skeletonEl);\n      els.push(skeletonEl);\n    }\n\n    return els;\n  }; // Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\n\n\n  DayGridFillRenderer.prototype.renderFillRow = function (type, seg) {\n    var dayGrid = this.dayGrid;\n    var colCnt = dayGrid.colCnt,\n        isRtl = dayGrid.isRtl;\n    var leftCol = isRtl ? colCnt - 1 - seg.lastCol : seg.firstCol;\n    var rightCol = isRtl ? colCnt - 1 - seg.firstCol : seg.lastCol;\n    var startCol = leftCol;\n    var endCol = rightCol + 1;\n    var className;\n    var skeletonEl;\n    var trEl;\n\n    if (type === 'businessHours') {\n      className = 'bgevent';\n    } else {\n      className = type.toLowerCase();\n    }\n\n    skeletonEl = htmlToElement('<div class=\"fc-' + className + '-skeleton\">' + '<table><tr></tr></table>' + '</div>');\n    trEl = skeletonEl.getElementsByTagName('tr')[0];\n\n    if (startCol > 0) {\n      appendToElement(trEl, // will create (startCol + 1) td's\n      new Array(startCol + 1).join(EMPTY_CELL_HTML));\n    }\n\n    seg.el.colSpan = endCol - startCol;\n    trEl.appendChild(seg.el);\n\n    if (endCol < colCnt) {\n      appendToElement(trEl, // will create (colCnt - endCol) td's\n      new Array(colCnt - endCol + 1).join(EMPTY_CELL_HTML));\n    }\n\n    var introHtml = dayGrid.renderProps.renderIntroHtml();\n\n    if (introHtml) {\n      if (dayGrid.isRtl) {\n        appendToElement(trEl, introHtml);\n      } else {\n        prependToElement(trEl, introHtml);\n      }\n    }\n\n    return skeletonEl;\n  };\n\n  return DayGridFillRenderer;\n}(FillRenderer);\n\nvar DayTile =\n/** @class */\nfunction (_super) {\n  __extends(DayTile, _super);\n\n  function DayTile(context, el) {\n    var _this = _super.call(this, context, el) || this;\n\n    var eventRenderer = _this.eventRenderer = new DayTileEventRenderer(_this);\n    var renderFrame = _this.renderFrame = memoizeRendering(_this._renderFrame);\n    _this.renderFgEvents = memoizeRendering(eventRenderer.renderSegs.bind(eventRenderer), eventRenderer.unrender.bind(eventRenderer), [renderFrame]);\n    _this.renderEventSelection = memoizeRendering(eventRenderer.selectByInstanceId.bind(eventRenderer), eventRenderer.unselectByInstanceId.bind(eventRenderer), [_this.renderFgEvents]);\n    _this.renderEventDrag = memoizeRendering(eventRenderer.hideByHash.bind(eventRenderer), eventRenderer.showByHash.bind(eventRenderer), [renderFrame]);\n    _this.renderEventResize = memoizeRendering(eventRenderer.hideByHash.bind(eventRenderer), eventRenderer.showByHash.bind(eventRenderer), [renderFrame]);\n    context.calendar.registerInteractiveComponent(_this, {\n      el: _this.el,\n      useEventCenter: false\n    });\n    return _this;\n  }\n\n  DayTile.prototype.render = function (props) {\n    this.renderFrame(props.date);\n    this.renderFgEvents(props.fgSegs);\n    this.renderEventSelection(props.eventSelection);\n    this.renderEventDrag(props.eventDragInstances);\n    this.renderEventResize(props.eventResizeInstances);\n  };\n\n  DayTile.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    this.renderFrame.unrender(); // should unrender everything else\n\n    this.calendar.unregisterInteractiveComponent(this);\n  };\n\n  DayTile.prototype._renderFrame = function (date) {\n    var _a = this,\n        theme = _a.theme,\n        dateEnv = _a.dateEnv;\n\n    var title = dateEnv.format(date, createFormatter(this.opt('dayPopoverFormat')) // TODO: cache\n    );\n    this.el.innerHTML = '<div class=\"fc-header ' + theme.getClass('popoverHeader') + '\">' + '<span class=\"fc-title\">' + htmlEscape(title) + '</span>' + '<span class=\"fc-close ' + theme.getIconClass('close') + '\"></span>' + '</div>' + '<div class=\"fc-body ' + theme.getClass('popoverContent') + '\">' + '<div class=\"fc-event-container\"></div>' + '</div>';\n    this.segContainerEl = this.el.querySelector('.fc-event-container');\n  };\n\n  DayTile.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n    var date = this.props.date; // HACK\n\n    if (positionLeft < elWidth && positionTop < elHeight) {\n      return {\n        component: this,\n        dateSpan: {\n          allDay: true,\n          range: {\n            start: date,\n            end: addDays(date, 1)\n          }\n        },\n        dayEl: this.el,\n        rect: {\n          left: 0,\n          top: 0,\n          right: elWidth,\n          bottom: elHeight\n        },\n        layer: 1\n      };\n    }\n  };\n\n  return DayTile;\n}(DateComponent);\n\nvar DayTileEventRenderer =\n/** @class */\nfunction (_super) {\n  __extends(DayTileEventRenderer, _super);\n\n  function DayTileEventRenderer(dayTile) {\n    var _this = _super.call(this, dayTile.context) || this;\n\n    _this.dayTile = dayTile;\n    return _this;\n  }\n\n  DayTileEventRenderer.prototype.attachSegs = function (segs) {\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n      var seg = segs_1[_i];\n      this.dayTile.segContainerEl.appendChild(seg.el);\n    }\n  };\n\n  DayTileEventRenderer.prototype.detachSegs = function (segs) {\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n      var seg = segs_2[_i];\n      removeElement(seg.el);\n    }\n  };\n\n  return DayTileEventRenderer;\n}(SimpleDayGridEventRenderer);\n\nvar DayBgRow =\n/** @class */\nfunction () {\n  function DayBgRow(context) {\n    this.context = context;\n  }\n\n  DayBgRow.prototype.renderHtml = function (props) {\n    var parts = [];\n\n    if (props.renderIntroHtml) {\n      parts.push(props.renderIntroHtml());\n    }\n\n    for (var _i = 0, _a = props.cells; _i < _a.length; _i++) {\n      var cell = _a[_i];\n      parts.push(renderCellHtml(cell.date, props.dateProfile, this.context, cell.htmlAttrs));\n    }\n\n    if (!props.cells.length) {\n      parts.push('<td class=\"fc-day ' + this.context.theme.getClass('widgetContent') + '\"></td>');\n    }\n\n    if (this.context.options.dir === 'rtl') {\n      parts.reverse();\n    }\n\n    return '<tr>' + parts.join('') + '</tr>';\n  };\n\n  return DayBgRow;\n}();\n\nfunction renderCellHtml(date, dateProfile, context, otherAttrs) {\n  var dateEnv = context.dateEnv,\n      theme = context.theme;\n  var isDateValid = rangeContainsMarker(dateProfile.activeRange, date); // TODO: called too frequently. cache somehow.\n\n  var classes = getDayClasses(date, dateProfile, context);\n  classes.unshift('fc-day', theme.getClass('widgetContent'));\n  return '<td class=\"' + classes.join(' ') + '\"' + (isDateValid ? ' data-date=\"' + dateEnv.formatIso(date, {\n    omitTime: true\n  }) + '\"' : '') + (otherAttrs ? ' ' + otherAttrs : '') + '></td>';\n}\n\nvar DAY_NUM_FORMAT = createFormatter({\n  day: 'numeric'\n});\nvar WEEK_NUM_FORMAT = createFormatter({\n  week: 'numeric'\n});\n\nvar DayGrid =\n/** @class */\nfunction (_super) {\n  __extends(DayGrid, _super);\n\n  function DayGrid(context, el, renderProps) {\n    var _this = _super.call(this, context, el) || this;\n\n    _this.bottomCoordPadding = 0; // hack for extending the hit area for the last row of the coordinate grid\n\n    _this.isCellSizesDirty = false;\n    var eventRenderer = _this.eventRenderer = new DayGridEventRenderer(_this);\n    var fillRenderer = _this.fillRenderer = new DayGridFillRenderer(_this);\n    _this.mirrorRenderer = new DayGridMirrorRenderer(_this);\n    var renderCells = _this.renderCells = memoizeRendering(_this._renderCells, _this._unrenderCells);\n    _this.renderBusinessHours = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'businessHours'), fillRenderer.unrender.bind(fillRenderer, 'businessHours'), [renderCells]);\n    _this.renderDateSelection = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'highlight'), fillRenderer.unrender.bind(fillRenderer, 'highlight'), [renderCells]);\n    _this.renderBgEvents = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'bgEvent'), fillRenderer.unrender.bind(fillRenderer, 'bgEvent'), [renderCells]);\n    _this.renderFgEvents = memoizeRendering(eventRenderer.renderSegs.bind(eventRenderer), eventRenderer.unrender.bind(eventRenderer), [renderCells]);\n    _this.renderEventSelection = memoizeRendering(eventRenderer.selectByInstanceId.bind(eventRenderer), eventRenderer.unselectByInstanceId.bind(eventRenderer), [_this.renderFgEvents]);\n    _this.renderEventDrag = memoizeRendering(_this._renderEventDrag, _this._unrenderEventDrag, [renderCells]);\n    _this.renderEventResize = memoizeRendering(_this._renderEventResize, _this._unrenderEventResize, [renderCells]);\n    _this.renderProps = renderProps;\n    return _this;\n  }\n\n  DayGrid.prototype.render = function (props) {\n    var cells = props.cells;\n    this.rowCnt = cells.length;\n    this.colCnt = cells[0].length;\n    this.renderCells(cells, props.isRigid);\n    this.renderBusinessHours(props.businessHourSegs);\n    this.renderDateSelection(props.dateSelectionSegs);\n    this.renderBgEvents(props.bgEventSegs);\n    this.renderFgEvents(props.fgEventSegs);\n    this.renderEventSelection(props.eventSelection);\n    this.renderEventDrag(props.eventDrag);\n    this.renderEventResize(props.eventResize);\n\n    if (this.segPopoverTile) {\n      this.updateSegPopoverTile();\n    }\n  };\n\n  DayGrid.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    this.renderCells.unrender(); // will unrender everything else\n  };\n\n  DayGrid.prototype.getCellRange = function (row, col) {\n    var start = this.props.cells[row][col].date;\n    var end = addDays(start, 1);\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  DayGrid.prototype.updateSegPopoverTile = function (date, segs) {\n    var ownProps = this.props;\n    this.segPopoverTile.receiveProps({\n      date: date || this.segPopoverTile.props.date,\n      fgSegs: segs || this.segPopoverTile.props.fgSegs,\n      eventSelection: ownProps.eventSelection,\n      eventDragInstances: ownProps.eventDrag ? ownProps.eventDrag.affectedInstances : null,\n      eventResizeInstances: ownProps.eventResize ? ownProps.eventResize.affectedInstances : null\n    });\n  };\n  /* Date Rendering\r\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  DayGrid.prototype._renderCells = function (cells, isRigid) {\n    var _a = this,\n        view = _a.view,\n        dateEnv = _a.dateEnv;\n\n    var _b = this,\n        rowCnt = _b.rowCnt,\n        colCnt = _b.colCnt;\n\n    var html = '';\n    var row;\n    var col;\n\n    for (row = 0; row < rowCnt; row++) {\n      html += this.renderDayRowHtml(row, isRigid);\n    }\n\n    this.el.innerHTML = html;\n    this.rowEls = findElements(this.el, '.fc-row');\n    this.cellEls = findElements(this.el, '.fc-day, .fc-disabled-day');\n\n    if (this.isRtl) {\n      this.cellEls.reverse();\n    }\n\n    this.rowPositions = new PositionCache(this.el, this.rowEls, false, true // vertical\n    );\n    this.colPositions = new PositionCache(this.el, this.cellEls.slice(0, colCnt), // only the first row\n    true, false // horizontal\n    ); // trigger dayRender with each cell's element\n\n    for (row = 0; row < rowCnt; row++) {\n      for (col = 0; col < colCnt; col++) {\n        this.publiclyTrigger('dayRender', [{\n          date: dateEnv.toDate(cells[row][col].date),\n          el: this.getCellEl(row, col),\n          view: view\n        }]);\n      }\n    }\n\n    this.isCellSizesDirty = true;\n  };\n\n  DayGrid.prototype._unrenderCells = function () {\n    this.removeSegPopover();\n  }; // Generates the HTML for a single row, which is a div that wraps a table.\n  // `row` is the row number.\n\n\n  DayGrid.prototype.renderDayRowHtml = function (row, isRigid) {\n    var theme = this.theme;\n    var classes = ['fc-row', 'fc-week', theme.getClass('dayRow')];\n\n    if (isRigid) {\n      classes.push('fc-rigid');\n    }\n\n    var bgRow = new DayBgRow(this.context);\n    return '' + '<div class=\"' + classes.join(' ') + '\">' + '<div class=\"fc-bg\">' + '<table class=\"' + theme.getClass('tableGrid') + '\">' + bgRow.renderHtml({\n      cells: this.props.cells[row],\n      dateProfile: this.props.dateProfile,\n      renderIntroHtml: this.renderProps.renderBgIntroHtml\n    }) + '</table>' + '</div>' + '<div class=\"fc-content-skeleton\">' + '<table>' + (this.getIsNumbersVisible() ? '<thead>' + this.renderNumberTrHtml(row) + '</thead>' : '') + '</table>' + '</div>' + '</div>';\n  };\n\n  DayGrid.prototype.getIsNumbersVisible = function () {\n    return this.getIsDayNumbersVisible() || this.renderProps.cellWeekNumbersVisible || this.renderProps.colWeekNumbersVisible;\n  };\n\n  DayGrid.prototype.getIsDayNumbersVisible = function () {\n    return this.rowCnt > 1;\n  };\n  /* Grid Number Rendering\r\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  DayGrid.prototype.renderNumberTrHtml = function (row) {\n    var intro = this.renderProps.renderNumberIntroHtml(row, this);\n    return '' + '<tr>' + (this.isRtl ? '' : intro) + this.renderNumberCellsHtml(row) + (this.isRtl ? intro : '') + '</tr>';\n  };\n\n  DayGrid.prototype.renderNumberCellsHtml = function (row) {\n    var htmls = [];\n    var col;\n    var date;\n\n    for (col = 0; col < this.colCnt; col++) {\n      date = this.props.cells[row][col].date;\n      htmls.push(this.renderNumberCellHtml(date));\n    }\n\n    if (this.isRtl) {\n      htmls.reverse();\n    }\n\n    return htmls.join('');\n  }; // Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\n  // The number row will only exist if either day numbers or week numbers are turned on.\n\n\n  DayGrid.prototype.renderNumberCellHtml = function (date) {\n    var _a = this,\n        view = _a.view,\n        dateEnv = _a.dateEnv;\n\n    var html = '';\n    var isDateValid = rangeContainsMarker(this.props.dateProfile.activeRange, date); // TODO: called too frequently. cache somehow.\n\n    var isDayNumberVisible = this.getIsDayNumbersVisible() && isDateValid;\n    var classes;\n    var weekCalcFirstDow;\n\n    if (!isDayNumberVisible && !this.renderProps.cellWeekNumbersVisible) {\n      // no numbers in day cell (week number must be along the side)\n      return '<td></td>'; //  will create an empty space above events :(\n    }\n\n    classes = getDayClasses(date, this.props.dateProfile, this.context);\n    classes.unshift('fc-day-top');\n\n    if (this.renderProps.cellWeekNumbersVisible) {\n      weekCalcFirstDow = dateEnv.weekDow;\n    }\n\n    html += '<td class=\"' + classes.join(' ') + '\"' + (isDateValid ? ' data-date=\"' + dateEnv.formatIso(date, {\n      omitTime: true\n    }) + '\"' : '') + '>';\n\n    if (this.renderProps.cellWeekNumbersVisible && date.getUTCDay() === weekCalcFirstDow) {\n      html += buildGotoAnchorHtml(view, {\n        date: date,\n        type: 'week'\n      }, {\n        'class': 'fc-week-number'\n      }, dateEnv.format(date, WEEK_NUM_FORMAT) // inner HTML\n      );\n    }\n\n    if (isDayNumberVisible) {\n      html += buildGotoAnchorHtml(view, date, {\n        'class': 'fc-day-number'\n      }, dateEnv.format(date, DAY_NUM_FORMAT) // inner HTML\n      );\n    }\n\n    html += '</td>';\n    return html;\n  };\n  /* Sizing\r\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  DayGrid.prototype.updateSize = function (isResize) {\n    var _a = this,\n        fillRenderer = _a.fillRenderer,\n        eventRenderer = _a.eventRenderer,\n        mirrorRenderer = _a.mirrorRenderer;\n\n    if (isResize || this.isCellSizesDirty || this.view.calendar.isEventsUpdated // hack\n    ) {\n        this.buildPositionCaches();\n        this.isCellSizesDirty = false;\n      }\n\n    fillRenderer.computeSizes(isResize);\n    eventRenderer.computeSizes(isResize);\n    mirrorRenderer.computeSizes(isResize);\n    fillRenderer.assignSizes(isResize);\n    eventRenderer.assignSizes(isResize);\n    mirrorRenderer.assignSizes(isResize);\n  };\n\n  DayGrid.prototype.buildPositionCaches = function () {\n    this.buildColPositions();\n    this.buildRowPositions();\n  };\n\n  DayGrid.prototype.buildColPositions = function () {\n    this.colPositions.build();\n  };\n\n  DayGrid.prototype.buildRowPositions = function () {\n    this.rowPositions.build();\n    this.rowPositions.bottoms[this.rowCnt - 1] += this.bottomCoordPadding; // hack\n  };\n  /* Hit System\r\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  DayGrid.prototype.positionToHit = function (leftPosition, topPosition) {\n    var _a = this,\n        colPositions = _a.colPositions,\n        rowPositions = _a.rowPositions;\n\n    var col = colPositions.leftToIndex(leftPosition);\n    var row = rowPositions.topToIndex(topPosition);\n\n    if (row != null && col != null) {\n      return {\n        row: row,\n        col: col,\n        dateSpan: {\n          range: this.getCellRange(row, col),\n          allDay: true\n        },\n        dayEl: this.getCellEl(row, col),\n        relativeRect: {\n          left: colPositions.lefts[col],\n          right: colPositions.rights[col],\n          top: rowPositions.tops[row],\n          bottom: rowPositions.bottoms[row]\n        }\n      };\n    }\n  };\n  /* Cell System\r\n  ------------------------------------------------------------------------------------------------------------------*/\n  // FYI: the first column is the leftmost column, regardless of date\n\n\n  DayGrid.prototype.getCellEl = function (row, col) {\n    return this.cellEls[row * this.colCnt + col];\n  };\n  /* Event Drag Visualization\r\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  DayGrid.prototype._renderEventDrag = function (state) {\n    if (state) {\n      this.eventRenderer.hideByHash(state.affectedInstances);\n      this.fillRenderer.renderSegs('highlight', state.segs);\n    }\n  };\n\n  DayGrid.prototype._unrenderEventDrag = function (state) {\n    if (state) {\n      this.eventRenderer.showByHash(state.affectedInstances);\n      this.fillRenderer.unrender('highlight');\n    }\n  };\n  /* Event Resize Visualization\r\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  DayGrid.prototype._renderEventResize = function (state) {\n    if (state) {\n      this.eventRenderer.hideByHash(state.affectedInstances);\n      this.fillRenderer.renderSegs('highlight', state.segs);\n      this.mirrorRenderer.renderSegs(state.segs, {\n        isResizing: true,\n        sourceSeg: state.sourceSeg\n      });\n    }\n  };\n\n  DayGrid.prototype._unrenderEventResize = function (state) {\n    if (state) {\n      this.eventRenderer.showByHash(state.affectedInstances);\n      this.fillRenderer.unrender('highlight');\n      this.mirrorRenderer.unrender(state.segs, {\n        isResizing: true,\n        sourceSeg: state.sourceSeg\n      });\n    }\n  };\n  /* More+ Link Popover\r\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  DayGrid.prototype.removeSegPopover = function () {\n    if (this.segPopover) {\n      this.segPopover.hide(); // in handler, will call segPopover's removeElement\n    }\n  }; // Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\n  // `levelLimit` can be false (don't limit), a number, or true (should be computed).\n\n\n  DayGrid.prototype.limitRows = function (levelLimit) {\n    var rowStructs = this.eventRenderer.rowStructs || [];\n    var row; // row #\n\n    var rowLevelLimit;\n\n    for (row = 0; row < rowStructs.length; row++) {\n      this.unlimitRow(row);\n\n      if (!levelLimit) {\n        rowLevelLimit = false;\n      } else if (typeof levelLimit === 'number') {\n        rowLevelLimit = levelLimit;\n      } else {\n        rowLevelLimit = this.computeRowLevelLimit(row);\n      }\n\n      if (rowLevelLimit !== false) {\n        this.limitRow(row, rowLevelLimit);\n      }\n    }\n  }; // Computes the number of levels a row will accomodate without going outside its bounds.\n  // Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\n  // `row` is the row number.\n\n\n  DayGrid.prototype.computeRowLevelLimit = function (row) {\n    var rowEl = this.rowEls[row]; // the containing \"fake\" row div\n\n    var rowBottom = rowEl.getBoundingClientRect().bottom; // relative to viewport!\n\n    var trEls = findChildren(this.eventRenderer.rowStructs[row].tbodyEl);\n    var i;\n    var trEl; // Reveal one level <tr> at a time and stop when we find one out of bounds\n\n    for (i = 0; i < trEls.length; i++) {\n      trEl = trEls[i];\n      trEl.classList.remove('fc-limited'); // reset to original state (reveal)\n\n      if (trEl.getBoundingClientRect().bottom > rowBottom) {\n        return i;\n      }\n    }\n\n    return false; // should not limit at all\n  }; // Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\n  // `row` is the row number.\n  // `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\n\n\n  DayGrid.prototype.limitRow = function (row, levelLimit) {\n    var _this = this;\n\n    var _a = this,\n        colCnt = _a.colCnt,\n        isRtl = _a.isRtl;\n\n    var rowStruct = this.eventRenderer.rowStructs[row];\n    var moreNodes = []; // array of \"more\" <a> links and <td> DOM nodes\n\n    var col = 0; // col #, left-to-right (not chronologically)\n\n    var levelSegs; // array of segment objects in the last allowable level, ordered left-to-right\n\n    var cellMatrix; // a matrix (by level, then column) of all <td> elements in the row\n\n    var limitedNodes; // array of temporarily hidden level <tr> and segment <td> DOM nodes\n\n    var i;\n    var seg;\n    var segsBelow; // array of segment objects below `seg` in the current `col`\n\n    var totalSegsBelow; // total number of segments below `seg` in any of the columns `seg` occupies\n\n    var colSegsBelow; // array of segment arrays, below seg, one for each column (offset from segs's first column)\n\n    var td;\n    var rowSpan;\n    var segMoreNodes; // array of \"more\" <td> cells that will stand-in for the current seg's cell\n\n    var j;\n    var moreTd;\n    var moreWrap;\n    var moreLink; // Iterates through empty level cells and places \"more\" links inside if need be\n\n    var emptyCellsUntil = function emptyCellsUntil(endCol) {\n      while (col < endCol) {\n        segsBelow = _this.getCellSegs(row, col, levelLimit);\n\n        if (segsBelow.length) {\n          td = cellMatrix[levelLimit - 1][col];\n          moreLink = _this.renderMoreLink(row, col, segsBelow);\n          moreWrap = createElement('div', null, moreLink);\n          td.appendChild(moreWrap);\n          moreNodes.push(moreWrap);\n        }\n\n        col++;\n      }\n    };\n\n    if (levelLimit && levelLimit < rowStruct.segLevels.length) {\n      // is it actually over the limit?\n      levelSegs = rowStruct.segLevels[levelLimit - 1];\n      cellMatrix = rowStruct.cellMatrix;\n      limitedNodes = findChildren(rowStruct.tbodyEl).slice(levelLimit); // get level <tr> elements past the limit\n\n      limitedNodes.forEach(function (node) {\n        node.classList.add('fc-limited'); // hide elements and get a simple DOM-nodes array\n      }); // iterate though segments in the last allowable level\n\n      for (i = 0; i < levelSegs.length; i++) {\n        seg = levelSegs[i];\n        var leftCol = isRtl ? colCnt - 1 - seg.lastCol : seg.firstCol;\n        var rightCol = isRtl ? colCnt - 1 - seg.firstCol : seg.lastCol;\n        emptyCellsUntil(leftCol); // process empty cells before the segment\n        // determine *all* segments below `seg` that occupy the same columns\n\n        colSegsBelow = [];\n        totalSegsBelow = 0;\n\n        while (col <= rightCol) {\n          segsBelow = this.getCellSegs(row, col, levelLimit);\n          colSegsBelow.push(segsBelow);\n          totalSegsBelow += segsBelow.length;\n          col++;\n        }\n\n        if (totalSegsBelow) {\n          // do we need to replace this segment with one or many \"more\" links?\n          td = cellMatrix[levelLimit - 1][leftCol]; // the segment's parent cell\n\n          rowSpan = td.rowSpan || 1;\n          segMoreNodes = []; // make a replacement <td> for each column the segment occupies. will be one for each colspan\n\n          for (j = 0; j < colSegsBelow.length; j++) {\n            moreTd = createElement('td', {\n              className: 'fc-more-cell',\n              rowSpan: rowSpan\n            });\n            segsBelow = colSegsBelow[j];\n            moreLink = this.renderMoreLink(row, leftCol + j, [seg].concat(segsBelow) // count seg as hidden too\n            );\n            moreWrap = createElement('div', null, moreLink);\n            moreTd.appendChild(moreWrap);\n            segMoreNodes.push(moreTd);\n            moreNodes.push(moreTd);\n          }\n\n          td.classList.add('fc-limited');\n          insertAfterElement(td, segMoreNodes);\n          limitedNodes.push(td);\n        }\n      }\n\n      emptyCellsUntil(this.colCnt); // finish off the level\n\n      rowStruct.moreEls = moreNodes; // for easy undoing later\n\n      rowStruct.limitedEls = limitedNodes; // for easy undoing later\n    }\n  }; // Reveals all levels and removes all \"more\"-related elements for a grid's row.\n  // `row` is a row number.\n\n\n  DayGrid.prototype.unlimitRow = function (row) {\n    var rowStruct = this.eventRenderer.rowStructs[row];\n\n    if (rowStruct.moreEls) {\n      rowStruct.moreEls.forEach(removeElement);\n      rowStruct.moreEls = null;\n    }\n\n    if (rowStruct.limitedEls) {\n      rowStruct.limitedEls.forEach(function (limitedEl) {\n        limitedEl.classList.remove('fc-limited');\n      });\n      rowStruct.limitedEls = null;\n    }\n  }; // Renders an <a> element that represents hidden event element for a cell.\n  // Responsible for attaching click handler as well.\n\n\n  DayGrid.prototype.renderMoreLink = function (row, col, hiddenSegs) {\n    var _this = this;\n\n    var _a = this,\n        view = _a.view,\n        dateEnv = _a.dateEnv;\n\n    var a = createElement('a', {\n      className: 'fc-more'\n    });\n    a.innerText = this.getMoreLinkText(hiddenSegs.length);\n    a.addEventListener('click', function (ev) {\n      var clickOption = _this.opt('eventLimitClick');\n\n      var _col = _this.isRtl ? _this.colCnt - col - 1 : col; // HACK: props.cells has different dir system?\n\n\n      var date = _this.props.cells[row][_col].date;\n      var moreEl = ev.currentTarget;\n\n      var dayEl = _this.getCellEl(row, col);\n\n      var allSegs = _this.getCellSegs(row, col); // rescope the segments to be within the cell's date\n\n\n      var reslicedAllSegs = _this.resliceDaySegs(allSegs, date);\n\n      var reslicedHiddenSegs = _this.resliceDaySegs(hiddenSegs, date);\n\n      if (typeof clickOption === 'function') {\n        // the returned value can be an atomic option\n        clickOption = _this.publiclyTrigger('eventLimitClick', [{\n          date: dateEnv.toDate(date),\n          allDay: true,\n          dayEl: dayEl,\n          moreEl: moreEl,\n          segs: reslicedAllSegs,\n          hiddenSegs: reslicedHiddenSegs,\n          jsEvent: ev,\n          view: view\n        }]);\n      }\n\n      if (clickOption === 'popover') {\n        _this.showSegPopover(row, col, moreEl, reslicedAllSegs);\n      } else if (typeof clickOption === 'string') {\n        // a view name\n        view.calendar.zoomTo(date, clickOption);\n      }\n    });\n    return a;\n  }; // Reveals the popover that displays all events within a cell\n\n\n  DayGrid.prototype.showSegPopover = function (row, col, moreLink, segs) {\n    var _this = this;\n\n    var _a = this,\n        calendar = _a.calendar,\n        view = _a.view,\n        theme = _a.theme;\n\n    var _col = this.isRtl ? this.colCnt - col - 1 : col; // HACK: props.cells has different dir system?\n\n\n    var moreWrap = moreLink.parentNode; // the <div> wrapper around the <a>\n\n    var topEl; // the element we want to match the top coordinate of\n\n    var options;\n\n    if (this.rowCnt === 1) {\n      topEl = view.el; // will cause the popover to cover any sort of header\n    } else {\n      topEl = this.rowEls[row]; // will align with top of row\n    }\n\n    options = {\n      className: 'fc-more-popover ' + theme.getClass('popover'),\n      parentEl: view.el,\n      top: computeRect(topEl).top,\n      autoHide: true,\n      content: function content(el) {\n        _this.segPopoverTile = new DayTile(_this.context, el);\n\n        _this.updateSegPopoverTile(_this.props.cells[row][_col].date, segs);\n      },\n      hide: function hide() {\n        _this.segPopoverTile.destroy();\n\n        _this.segPopoverTile = null;\n\n        _this.segPopover.destroy();\n\n        _this.segPopover = null;\n      }\n    }; // Determine horizontal coordinate.\n    // We use the moreWrap instead of the <td> to avoid border confusion.\n\n    if (this.isRtl) {\n      options.right = computeRect(moreWrap).right + 1; // +1 to be over cell border\n    } else {\n      options.left = computeRect(moreWrap).left - 1; // -1 to be over cell border\n    }\n\n    this.segPopover = new Popover(options);\n    this.segPopover.show();\n    calendar.releaseAfterSizingTriggers(); // hack for eventPositioned\n  }; // Given the events within an array of segment objects, reslice them to be in a single day\n\n\n  DayGrid.prototype.resliceDaySegs = function (segs, dayDate) {\n    var dayStart = dayDate;\n    var dayEnd = addDays(dayStart, 1);\n    var dayRange = {\n      start: dayStart,\n      end: dayEnd\n    };\n    var newSegs = [];\n\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n      var seg = segs_1[_i];\n      var eventRange = seg.eventRange;\n      var origRange = eventRange.range;\n      var slicedRange = intersectRanges(origRange, dayRange);\n\n      if (slicedRange) {\n        newSegs.push(_assign({}, seg, {\n          eventRange: {\n            def: eventRange.def,\n            ui: _assign({}, eventRange.ui, {\n              durationEditable: false\n            }),\n            instance: eventRange.instance,\n            range: slicedRange\n          },\n          isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(),\n          isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf()\n        }));\n      }\n    }\n\n    return newSegs;\n  }; // Generates the text that should be inside a \"more\" link, given the number of events it represents\n\n\n  DayGrid.prototype.getMoreLinkText = function (num) {\n    var opt = this.opt('eventLimitText');\n\n    if (typeof opt === 'function') {\n      return opt(num);\n    } else {\n      return '+' + num + ' ' + opt;\n    }\n  }; // Returns segments within a given cell.\n  // If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\n\n\n  DayGrid.prototype.getCellSegs = function (row, col, startLevel) {\n    var segMatrix = this.eventRenderer.rowStructs[row].segMatrix;\n    var level = startLevel || 0;\n    var segs = [];\n    var seg;\n\n    while (level < segMatrix.length) {\n      seg = segMatrix[level][col];\n\n      if (seg) {\n        segs.push(seg);\n      }\n\n      level++;\n    }\n\n    return segs;\n  };\n\n  return DayGrid;\n}(DateComponent);\n\nvar WEEK_NUM_FORMAT$1 = createFormatter({\n  week: 'numeric'\n});\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\r\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\n\nvar DayGridView =\n/** @class */\nfunction (_super) {\n  __extends(DayGridView, _super);\n\n  function DayGridView(context, viewSpec, dateProfileGenerator, parentEl) {\n    var _this = _super.call(this, context, viewSpec, dateProfileGenerator, parentEl) || this;\n    /* Header Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Generates the HTML that will go before the day-of week header cells\n\n\n    _this.renderHeadIntroHtml = function () {\n      var theme = _this.theme;\n\n      if (_this.colWeekNumbersVisible) {\n        return '' + '<th class=\"fc-week-number ' + theme.getClass('widgetHeader') + '\" ' + _this.weekNumberStyleAttr() + '>' + '<span>' + // needed for matchCellWidths\n        htmlEscape(_this.opt('weekLabel')) + '</span>' + '</th>';\n      }\n\n      return '';\n    };\n    /* Day Grid Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Generates the HTML that will go before content-skeleton cells that display the day/week numbers\n\n\n    _this.renderDayGridNumberIntroHtml = function (row, dayGrid) {\n      var dateEnv = _this.dateEnv;\n      var weekStart = dayGrid.props.cells[row][0].date;\n\n      if (_this.colWeekNumbersVisible) {\n        return '' + '<td class=\"fc-week-number\" ' + _this.weekNumberStyleAttr() + '>' + buildGotoAnchorHtml( // aside from link, important for matchCellWidths\n        _this, {\n          date: weekStart,\n          type: 'week',\n          forceOff: dayGrid.colCnt === 1\n        }, dateEnv.format(weekStart, WEEK_NUM_FORMAT$1) // inner HTML\n        ) + '</td>';\n      }\n\n      return '';\n    }; // Generates the HTML that goes before the day bg cells for each day-row\n\n\n    _this.renderDayGridBgIntroHtml = function () {\n      var theme = _this.theme;\n\n      if (_this.colWeekNumbersVisible) {\n        return '<td class=\"fc-week-number ' + theme.getClass('widgetContent') + '\" ' + _this.weekNumberStyleAttr() + '></td>';\n      }\n\n      return '';\n    }; // Generates the HTML that goes before every other type of row generated by DayGrid.\n    // Affects mirror-skeleton and highlight-skeleton rows.\n\n\n    _this.renderDayGridIntroHtml = function () {\n      if (_this.colWeekNumbersVisible) {\n        return '<td class=\"fc-week-number\" ' + _this.weekNumberStyleAttr() + '></td>';\n      }\n\n      return '';\n    };\n\n    _this.el.classList.add('fc-dayGrid-view');\n\n    _this.el.innerHTML = _this.renderSkeletonHtml();\n    _this.scroller = new ScrollComponent('hidden', // overflow x\n    'auto' // overflow y\n    );\n    var dayGridContainerEl = _this.scroller.el;\n\n    _this.el.querySelector('.fc-body > tr > td').appendChild(dayGridContainerEl);\n\n    dayGridContainerEl.classList.add('fc-day-grid-container');\n    var dayGridEl = createElement('div', {\n      className: 'fc-day-grid'\n    });\n    dayGridContainerEl.appendChild(dayGridEl);\n    var cellWeekNumbersVisible;\n\n    if (_this.opt('weekNumbers')) {\n      if (_this.opt('weekNumbersWithinDays')) {\n        cellWeekNumbersVisible = true;\n        _this.colWeekNumbersVisible = false;\n      } else {\n        cellWeekNumbersVisible = false;\n        _this.colWeekNumbersVisible = true;\n      }\n    } else {\n      _this.colWeekNumbersVisible = false;\n      cellWeekNumbersVisible = false;\n    }\n\n    _this.dayGrid = new DayGrid(_this.context, dayGridEl, {\n      renderNumberIntroHtml: _this.renderDayGridNumberIntroHtml,\n      renderBgIntroHtml: _this.renderDayGridBgIntroHtml,\n      renderIntroHtml: _this.renderDayGridIntroHtml,\n      colWeekNumbersVisible: _this.colWeekNumbersVisible,\n      cellWeekNumbersVisible: cellWeekNumbersVisible\n    });\n    return _this;\n  }\n\n  DayGridView.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    this.dayGrid.destroy();\n    this.scroller.destroy();\n  }; // Builds the HTML skeleton for the view.\n  // The day-grid component will render inside of a container defined by this HTML.\n\n\n  DayGridView.prototype.renderSkeletonHtml = function () {\n    var theme = this.theme;\n    return '' + '<table class=\"' + theme.getClass('tableGrid') + '\">' + (this.opt('columnHeader') ? '<thead class=\"fc-head\">' + '<tr>' + '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' + '</tr>' + '</thead>' : '') + '<tbody class=\"fc-body\">' + '<tr>' + '<td class=\"' + theme.getClass('widgetContent') + '\"></td>' + '</tr>' + '</tbody>' + '</table>';\n  }; // Generates an HTML attribute string for setting the width of the week number column, if it is known\n\n\n  DayGridView.prototype.weekNumberStyleAttr = function () {\n    if (this.weekNumberWidth != null) {\n      return 'style=\"width:' + this.weekNumberWidth + 'px\"';\n    }\n\n    return '';\n  }; // Determines whether each row should have a constant height\n\n\n  DayGridView.prototype.hasRigidRows = function () {\n    var eventLimit = this.opt('eventLimit');\n    return eventLimit && typeof eventLimit !== 'number';\n  };\n  /* Dimensions\r\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  DayGridView.prototype.updateSize = function (isResize, viewHeight, isAuto) {\n    _super.prototype.updateSize.call(this, isResize, viewHeight, isAuto); // will call updateBaseSize. important that executes first\n\n\n    this.dayGrid.updateSize(isResize);\n  }; // Refreshes the horizontal dimensions of the view\n\n\n  DayGridView.prototype.updateBaseSize = function (isResize, viewHeight, isAuto) {\n    var dayGrid = this.dayGrid;\n    var eventLimit = this.opt('eventLimit');\n    var headRowEl = this.header ? this.header.el : null; // HACK\n\n    var scrollerHeight;\n    var scrollbarWidths; // hack to give the view some height prior to dayGrid's columns being rendered\n    // TODO: separate setting height from scroller VS dayGrid.\n\n    if (!dayGrid.rowEls) {\n      if (!isAuto) {\n        scrollerHeight = this.computeScrollerHeight(viewHeight);\n        this.scroller.setHeight(scrollerHeight);\n      }\n\n      return;\n    }\n\n    if (this.colWeekNumbersVisible) {\n      // Make sure all week number cells running down the side have the same width.\n      this.weekNumberWidth = matchCellWidths(findElements(this.el, '.fc-week-number'));\n    } // reset all heights to be natural\n\n\n    this.scroller.clear();\n\n    if (headRowEl) {\n      uncompensateScroll(headRowEl);\n    }\n\n    dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n    // is the event limit a constant level number?\n\n    if (eventLimit && typeof eventLimit === 'number') {\n      dayGrid.limitRows(eventLimit); // limit the levels first so the height can redistribute after\n    } // distribute the height to the rows\n    // (viewHeight is a \"recommended\" value if isAuto)\n\n\n    scrollerHeight = this.computeScrollerHeight(viewHeight);\n    this.setGridHeight(scrollerHeight, isAuto); // is the event limit dynamically calculated?\n\n    if (eventLimit && typeof eventLimit !== 'number') {\n      dayGrid.limitRows(eventLimit); // limit the levels after the grid's row heights have been set\n    }\n\n    if (!isAuto) {\n      // should we force dimensions of the scroll container?\n      this.scroller.setHeight(scrollerHeight);\n      scrollbarWidths = this.scroller.getScrollbarWidths();\n\n      if (scrollbarWidths.left || scrollbarWidths.right) {\n        // using scrollbars?\n        if (headRowEl) {\n          compensateScroll(headRowEl, scrollbarWidths);\n        } // doing the scrollbar compensation might have created text overflow which created more height. redo\n\n\n        scrollerHeight = this.computeScrollerHeight(viewHeight);\n        this.scroller.setHeight(scrollerHeight);\n      } // guarantees the same scrollbar widths\n\n\n      this.scroller.lockOverflow(scrollbarWidths);\n    }\n  }; // given a desired total height of the view, returns what the height of the scroller should be\n\n\n  DayGridView.prototype.computeScrollerHeight = function (viewHeight) {\n    return viewHeight - subtractInnerElHeight(this.el, this.scroller.el); // everything that's NOT the scroller\n  }; // Sets the height of just the DayGrid component in this view\n\n\n  DayGridView.prototype.setGridHeight = function (height, isAuto) {\n    if (this.opt('monthMode')) {\n      // if auto, make the height of each row the height that it would be if there were 6 weeks\n      if (isAuto) {\n        height *= this.dayGrid.rowCnt / 6;\n      }\n\n      distributeHeight(this.dayGrid.rowEls, height, !isAuto); // if auto, don't compensate for height-hogging rows\n    } else {\n      if (isAuto) {\n        undistributeHeight(this.dayGrid.rowEls); // let the rows be their natural height with no expanding\n      } else {\n        distributeHeight(this.dayGrid.rowEls, height, true); // true = compensate for height-hogging rows\n      }\n    }\n  };\n  /* Scroll\r\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  DayGridView.prototype.computeDateScroll = function (duration) {\n    return {\n      top: 0\n    };\n  };\n\n  DayGridView.prototype.queryDateScroll = function () {\n    return {\n      top: this.scroller.getScrollTop()\n    };\n  };\n\n  DayGridView.prototype.applyDateScroll = function (scroll) {\n    if (scroll.top !== undefined) {\n      this.scroller.setScrollTop(scroll.top);\n    }\n  };\n\n  return DayGridView;\n}(View);\n\nDayGridView.prototype.dateProfileGeneratorClass = DayGridDateProfileGenerator;\n\nvar SimpleDayGrid =\n/** @class */\nfunction (_super) {\n  __extends(SimpleDayGrid, _super);\n\n  function SimpleDayGrid(context, dayGrid) {\n    var _this = _super.call(this, context, dayGrid.el) || this;\n\n    _this.slicer = new DayGridSlicer();\n    _this.dayGrid = dayGrid;\n    context.calendar.registerInteractiveComponent(_this, {\n      el: _this.dayGrid.el\n    });\n    return _this;\n  }\n\n  SimpleDayGrid.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    this.calendar.unregisterInteractiveComponent(this);\n  };\n\n  SimpleDayGrid.prototype.render = function (props) {\n    var dayGrid = this.dayGrid;\n    var dateProfile = props.dateProfile,\n        dayTable = props.dayTable;\n    dayGrid.receiveProps(_assign({}, this.slicer.sliceProps(props, dateProfile, props.nextDayThreshold, dayGrid, dayTable), {\n      dateProfile: dateProfile,\n      cells: dayTable.cells,\n      isRigid: props.isRigid\n    }));\n  };\n\n  SimpleDayGrid.prototype.buildPositionCaches = function () {\n    this.dayGrid.buildPositionCaches();\n  };\n\n  SimpleDayGrid.prototype.queryHit = function (positionLeft, positionTop) {\n    var rawHit = this.dayGrid.positionToHit(positionLeft, positionTop);\n\n    if (rawHit) {\n      return {\n        component: this.dayGrid,\n        dateSpan: rawHit.dateSpan,\n        dayEl: rawHit.dayEl,\n        rect: {\n          left: rawHit.relativeRect.left,\n          right: rawHit.relativeRect.right,\n          top: rawHit.relativeRect.top,\n          bottom: rawHit.relativeRect.bottom\n        },\n        layer: 0\n      };\n    }\n  };\n\n  return SimpleDayGrid;\n}(DateComponent);\n\nvar DayGridSlicer =\n/** @class */\nfunction (_super) {\n  __extends(DayGridSlicer, _super);\n\n  function DayGridSlicer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DayGridSlicer.prototype.sliceRange = function (dateRange, dayTable) {\n    return dayTable.sliceRange(dateRange);\n  };\n\n  return DayGridSlicer;\n}(Slicer);\n\nvar DayGridView$1 =\n/** @class */\nfunction (_super) {\n  __extends(DayGridView, _super);\n\n  function DayGridView(_context, viewSpec, dateProfileGenerator, parentEl) {\n    var _this = _super.call(this, _context, viewSpec, dateProfileGenerator, parentEl) || this;\n\n    _this.buildDayTable = memoize(buildDayTable);\n\n    if (_this.opt('columnHeader')) {\n      _this.header = new DayHeader(_this.context, _this.el.querySelector('.fc-head-container'));\n    }\n\n    _this.simpleDayGrid = new SimpleDayGrid(_this.context, _this.dayGrid);\n    return _this;\n  }\n\n  DayGridView.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    if (this.header) {\n      this.header.destroy();\n    }\n\n    this.simpleDayGrid.destroy();\n  };\n\n  DayGridView.prototype.render = function (props) {\n    _super.prototype.render.call(this, props);\n\n    var dateProfile = this.props.dateProfile;\n    var dayTable = this.dayTable = this.buildDayTable(dateProfile, this.dateProfileGenerator);\n\n    if (this.header) {\n      this.header.receiveProps({\n        dateProfile: dateProfile,\n        dates: dayTable.headerDates,\n        datesRepDistinctDays: dayTable.rowCnt === 1,\n        renderIntroHtml: this.renderHeadIntroHtml\n      });\n    }\n\n    this.simpleDayGrid.receiveProps({\n      dateProfile: dateProfile,\n      dayTable: dayTable,\n      businessHours: props.businessHours,\n      dateSelection: props.dateSelection,\n      eventStore: props.eventStore,\n      eventUiBases: props.eventUiBases,\n      eventSelection: props.eventSelection,\n      eventDrag: props.eventDrag,\n      eventResize: props.eventResize,\n      isRigid: this.hasRigidRows(),\n      nextDayThreshold: this.nextDayThreshold\n    });\n  };\n\n  return DayGridView;\n}(DayGridView);\n\nfunction buildDayTable(dateProfile, dateProfileGenerator) {\n  var daySeries = new DaySeries(dateProfile.renderRange, dateProfileGenerator);\n  return new DayTable(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar main = createPlugin({\n  defaultView: 'dayGridMonth',\n  views: {\n    dayGrid: DayGridView$1,\n    dayGridDay: {\n      type: 'dayGrid',\n      duration: {\n        days: 1\n      }\n    },\n    dayGridWeek: {\n      type: 'dayGrid',\n      duration: {\n        weeks: 1\n      }\n    },\n    dayGridMonth: {\n      type: 'dayGrid',\n      duration: {\n        months: 1\n      },\n      monthMode: true,\n      fixedWeekCount: true\n    }\n  }\n});\nexport default main;\nexport { DayGridView as AbstractDayGridView, DayBgRow, DayGrid, DayGridSlicer, DayGridView$1 as DayGridView, SimpleDayGrid, buildDayTable as buildBasicDayTable };","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/@fullcalendar/daygrid/main.esm.js"],"names":["extendStatics","__proto__","d","b","Object","__","__assign","i","n","arguments","s","t","DayGridDateProfileGenerator","__extends","_super","dateEnv","renderRange","start","end","endOfWeek","addWeeks","rowCnt","Math","diffWeeks","Popover","_this","ev","options","el","createElement","className","style","top","left","listenBySelector","document","removeElement","elDims","origin","computeRect","clippingRect","computeClippingRect","applyStyle","Array","SimpleDayGridEventRenderer","_a","view","eventRange","seg","eventDef","eventUi","allDay","isDraggable","isResizableFromStart","isResizableFromEnd","classes","skinCss","cssToStr","timeHtml","timeText","htmlEscape","titleHtml","hour","minute","omitZeroMinute","meridiem","DayGridEventRenderer","dayGrid","rowStructs","rowNode","rowStruct","segRows","row","colCnt","isRtl","segLevels","levelCnt","tbody","segMatrix","cellMatrix","loneCellMatrix","col","td","tr","levelSegs","j","leftCol","rightCol","emptyCellsUntil","introHtml","appendToElement","prependToElement","tbodyEl","segs","rowSegs","levels","isDaySegCollision","otherSegs","otherSeg","a","DayGridMirrorRenderer","sourceSeg","mirrorInfo","skeletonEl","htmlToElement","skeletonTopEl","skeletonTop","EMPTY_CELL_HTML","DayGridFillRenderer","type","els","startCol","endCol","trEl","DayTile","eventRenderer","renderFrame","memoizeRendering","context","useEventCenter","props","theme","title","createFormatter","date","positionLeft","positionTop","component","dateSpan","range","addDays","dayEl","rect","right","bottom","elHeight","layer","DayTileEventRenderer","dayTile","_i","segs_1","segs_2","DayBgRow","parts","cell","renderCellHtml","isDateValid","rangeContainsMarker","dateProfile","getDayClasses","omitTime","otherAttrs","DAY_NUM_FORMAT","day","WEEK_NUM_FORMAT","week","DayGrid","fillRenderer","renderCells","cells","ownProps","fgSegs","eventSelection","eventDragInstances","eventResizeInstances","_b","html","findElements","bgRow","renderIntroHtml","renderBgIntroHtml","intro","htmls","isDayNumberVisible","weekCalcFirstDow","buildGotoAnchorHtml","mirrorRenderer","isResize","colPositions","rowPositions","relativeRect","state","isResizing","rowLevelLimit","rowEl","rowBottom","trEls","findChildren","moreNodes","segsBelow","levelLimit","moreLink","moreWrap","limitedNodes","node","colSegsBelow","totalSegsBelow","rowSpan","segMoreNodes","moreTd","insertAfterElement","limitedEl","hiddenSegs","clickOption","_col","moreEl","allSegs","reslicedAllSegs","reslicedHiddenSegs","jsEvent","calendar","topEl","parentEl","autoHide","content","hide","dayStart","dayEnd","dayRange","newSegs","origRange","slicedRange","intersectRanges","def","ui","durationEditable","instance","isStart","isEnd","opt","level","startLevel","WEEK_NUM_FORMAT$1","DayGridView","weekStart","forceOff","dayGridContainerEl","dayGridEl","cellWeekNumbersVisible","renderNumberIntroHtml","colWeekNumbersVisible","eventLimit","headRowEl","scrollerHeight","matchCellWidths","uncompensateScroll","scrollbarWidths","compensateScroll","viewHeight","subtractInnerElHeight","height","distributeHeight","undistributeHeight","scroll","SimpleDayGrid","dayTable","isRigid","rawHit","DayGridSlicer","DayGridView$1","memoize","dates","datesRepDistinctDays","renderHeadIntroHtml","businessHours","dateSelection","eventStore","eventUiBases","eventDrag","eventResize","nextDayThreshold","daySeries","main","createPlugin","defaultView","views","dayGridDay","duration","days","dayGridWeek","weeks","dayGridMonth","months","monthMode","fixedWeekCount","buildDayTable"],"mappings":"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","sourcesContent":["/*!\r\nFullCalendar Day Grid Plugin v4.3.0\r\nDocs & License: https://fullcalendar.io/\r\n(c) 2019 Adam Shaw\r\n*/\r\n\r\nimport { addWeeks, diffWeeks, DateProfileGenerator, createElement, listenBySelector, removeElement, computeRect, computeClippingRect, applyStyle, cssToStr, htmlEscape, FgEventRenderer, appendToElement, prependToElement, htmlToElement, FillRenderer, memoizeRendering, createFormatter, addDays, DateComponent, rangeContainsMarker, getDayClasses, findElements, PositionCache, buildGotoAnchorHtml, findChildren, insertAfterElement, intersectRanges, ScrollComponent, matchCellWidths, uncompensateScroll, compensateScroll, subtractInnerElHeight, distributeHeight, undistributeHeight, View, Slicer, memoize, DayHeader, DaySeries, DayTable, createPlugin } from '@fullcalendar/core';\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nvar DayGridDateProfileGenerator = /** @class */ (function (_super) {\r\n    __extends(DayGridDateProfileGenerator, _super);\r\n    function DayGridDateProfileGenerator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    // Computes the date range that will be rendered.\r\n    DayGridDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\r\n        var dateEnv = this.dateEnv;\r\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\r\n        var start = renderRange.start;\r\n        var end = renderRange.end;\r\n        var endOfWeek;\r\n        // year and month views should be aligned with weeks. this is already done for week\r\n        if (/^(year|month)$/.test(currentRangeUnit)) {\r\n            start = dateEnv.startOfWeek(start);\r\n            // make end-of-week if not already\r\n            endOfWeek = dateEnv.startOfWeek(end);\r\n            if (endOfWeek.valueOf() !== end.valueOf()) {\r\n                end = addWeeks(endOfWeek, 1);\r\n            }\r\n        }\r\n        // ensure 6 weeks\r\n        if (this.options.monthMode &&\r\n            this.options.fixedWeekCount) {\r\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\r\n            diffWeeks(start, end));\r\n            end = addWeeks(end, 6 - rowCnt);\r\n        }\r\n        return { start: start, end: end };\r\n    };\r\n    return DayGridDateProfileGenerator;\r\n}(DateProfileGenerator));\r\n\r\n/* A rectangular panel that is absolutely positioned over other content\r\n------------------------------------------------------------------------------------------------------------------------\r\nOptions:\r\n  - className (string)\r\n  - content (HTML string, element, or element array)\r\n  - parentEl\r\n  - top\r\n  - left\r\n  - right (the x coord of where the right edge should be. not a \"CSS\" right)\r\n  - autoHide (boolean)\r\n  - show (callback)\r\n  - hide (callback)\r\n*/\r\nvar Popover = /** @class */ (function () {\r\n    function Popover(options) {\r\n        var _this = this;\r\n        this.isHidden = true;\r\n        this.margin = 10; // the space required between the popover and the edges of the scroll container\r\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\r\n        this.documentMousedown = function (ev) {\r\n            // only hide the popover if the click happened outside the popover\r\n            if (_this.el && !_this.el.contains(ev.target)) {\r\n                _this.hide();\r\n            }\r\n        };\r\n        this.options = options;\r\n    }\r\n    // Shows the popover on the specified position. Renders it if not already\r\n    Popover.prototype.show = function () {\r\n        if (this.isHidden) {\r\n            if (!this.el) {\r\n                this.render();\r\n            }\r\n            this.el.style.display = '';\r\n            this.position();\r\n            this.isHidden = false;\r\n            this.trigger('show');\r\n        }\r\n    };\r\n    // Hides the popover, through CSS, but does not remove it from the DOM\r\n    Popover.prototype.hide = function () {\r\n        if (!this.isHidden) {\r\n            this.el.style.display = 'none';\r\n            this.isHidden = true;\r\n            this.trigger('hide');\r\n        }\r\n    };\r\n    // Creates `this.el` and renders content inside of it\r\n    Popover.prototype.render = function () {\r\n        var _this = this;\r\n        var options = this.options;\r\n        var el = this.el = createElement('div', {\r\n            className: 'fc-popover ' + (options.className || ''),\r\n            style: {\r\n                top: '0',\r\n                left: '0'\r\n            }\r\n        });\r\n        if (typeof options.content === 'function') {\r\n            options.content(el);\r\n        }\r\n        options.parentEl.appendChild(el);\r\n        // when a click happens on anything inside with a 'fc-close' className, hide the popover\r\n        listenBySelector(el, 'click', '.fc-close', function (ev) {\r\n            _this.hide();\r\n        });\r\n        if (options.autoHide) {\r\n            document.addEventListener('mousedown', this.documentMousedown);\r\n        }\r\n    };\r\n    // Hides and unregisters any handlers\r\n    Popover.prototype.destroy = function () {\r\n        this.hide();\r\n        if (this.el) {\r\n            removeElement(this.el);\r\n            this.el = null;\r\n        }\r\n        document.removeEventListener('mousedown', this.documentMousedown);\r\n    };\r\n    // Positions the popover optimally, using the top/left/right options\r\n    Popover.prototype.position = function () {\r\n        var options = this.options;\r\n        var el = this.el;\r\n        var elDims = el.getBoundingClientRect(); // only used for width,height\r\n        var origin = computeRect(el.offsetParent);\r\n        var clippingRect = computeClippingRect(options.parentEl);\r\n        var top; // the \"position\" (not \"offset\") values for the popover\r\n        var left; //\r\n        // compute top and left\r\n        top = options.top || 0;\r\n        if (options.left !== undefined) {\r\n            left = options.left;\r\n        }\r\n        else if (options.right !== undefined) {\r\n            left = options.right - elDims.width; // derive the left value from the right value\r\n        }\r\n        else {\r\n            left = 0;\r\n        }\r\n        // constrain to the view port. if constrained by two edges, give precedence to top/left\r\n        top = Math.min(top, clippingRect.bottom - elDims.height - this.margin);\r\n        top = Math.max(top, clippingRect.top + this.margin);\r\n        left = Math.min(left, clippingRect.right - elDims.width - this.margin);\r\n        left = Math.max(left, clippingRect.left + this.margin);\r\n        applyStyle(el, {\r\n            top: top - origin.top,\r\n            left: left - origin.left\r\n        });\r\n    };\r\n    // Triggers a callback. Calls a function in the option hash of the same name.\r\n    // Arguments beyond the first `name` are forwarded on.\r\n    // TODO: better code reuse for this. Repeat code\r\n    // can kill this???\r\n    Popover.prototype.trigger = function (name) {\r\n        if (this.options[name]) {\r\n            this.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\r\n        }\r\n    };\r\n    return Popover;\r\n}());\r\n\r\n/* Event-rendering methods for the DayGrid class\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// \"Simple\" is bad a name. has nothing to do with SimpleDayGrid\r\nvar SimpleDayGridEventRenderer = /** @class */ (function (_super) {\r\n    __extends(SimpleDayGridEventRenderer, _super);\r\n    function SimpleDayGridEventRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    // Builds the HTML to be used for the default element for an individual segment\r\n    SimpleDayGridEventRenderer.prototype.renderSegHtml = function (seg, mirrorInfo) {\r\n        var _a = this.context, view = _a.view, options = _a.options;\r\n        var eventRange = seg.eventRange;\r\n        var eventDef = eventRange.def;\r\n        var eventUi = eventRange.ui;\r\n        var allDay = eventDef.allDay;\r\n        var isDraggable = view.computeEventDraggable(eventDef, eventUi);\r\n        var isResizableFromStart = allDay && seg.isStart && view.computeEventStartResizable(eventDef, eventUi);\r\n        var isResizableFromEnd = allDay && seg.isEnd && view.computeEventEndResizable(eventDef, eventUi);\r\n        var classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd, mirrorInfo);\r\n        var skinCss = cssToStr(this.getSkinCss(eventUi));\r\n        var timeHtml = '';\r\n        var timeText;\r\n        var titleHtml;\r\n        classes.unshift('fc-day-grid-event', 'fc-h-event');\r\n        // Only display a timed events time if it is the starting segment\r\n        if (seg.isStart) {\r\n            timeText = this.getTimeText(eventRange);\r\n            if (timeText) {\r\n                timeHtml = '<span class=\"fc-time\">' + htmlEscape(timeText) + '</span>';\r\n            }\r\n        }\r\n        titleHtml =\r\n            '<span class=\"fc-title\">' +\r\n                (htmlEscape(eventDef.title || '') || '&nbsp;') + // we always want one line of height\r\n                '</span>';\r\n        return '<a class=\"' + classes.join(' ') + '\"' +\r\n            (eventDef.url ?\r\n                ' href=\"' + htmlEscape(eventDef.url) + '\"' :\r\n                '') +\r\n            (skinCss ?\r\n                ' style=\"' + skinCss + '\"' :\r\n                '') +\r\n            '>' +\r\n            '<div class=\"fc-content\">' +\r\n            (options.dir === 'rtl' ?\r\n                titleHtml + ' ' + timeHtml : // put a natural space in between\r\n                timeHtml + ' ' + titleHtml //\r\n            ) +\r\n            '</div>' +\r\n            (isResizableFromStart ?\r\n                '<div class=\"fc-resizer fc-start-resizer\"></div>' :\r\n                '') +\r\n            (isResizableFromEnd ?\r\n                '<div class=\"fc-resizer fc-end-resizer\"></div>' :\r\n                '') +\r\n            '</a>';\r\n    };\r\n    // Computes a default event time formatting string if `eventTimeFormat` is not explicitly defined\r\n    SimpleDayGridEventRenderer.prototype.computeEventTimeFormat = function () {\r\n        return {\r\n            hour: 'numeric',\r\n            minute: '2-digit',\r\n            omitZeroMinute: true,\r\n            meridiem: 'narrow'\r\n        };\r\n    };\r\n    SimpleDayGridEventRenderer.prototype.computeDisplayEventEnd = function () {\r\n        return false; // TODO: somehow consider the originating DayGrid's column count\r\n    };\r\n    return SimpleDayGridEventRenderer;\r\n}(FgEventRenderer));\r\n\r\n/* Event-rendering methods for the DayGrid class\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nvar DayGridEventRenderer = /** @class */ (function (_super) {\r\n    __extends(DayGridEventRenderer, _super);\r\n    function DayGridEventRenderer(dayGrid) {\r\n        var _this = _super.call(this, dayGrid.context) || this;\r\n        _this.dayGrid = dayGrid;\r\n        return _this;\r\n    }\r\n    // Renders the given foreground event segments onto the grid\r\n    DayGridEventRenderer.prototype.attachSegs = function (segs, mirrorInfo) {\r\n        var rowStructs = this.rowStructs = this.renderSegRows(segs);\r\n        // append to each row's content skeleton\r\n        this.dayGrid.rowEls.forEach(function (rowNode, i) {\r\n            rowNode.querySelector('.fc-content-skeleton > table').appendChild(rowStructs[i].tbodyEl);\r\n        });\r\n        // removes the \"more..\" events popover\r\n        if (!mirrorInfo) {\r\n            this.dayGrid.removeSegPopover();\r\n        }\r\n    };\r\n    // Unrenders all currently rendered foreground event segments\r\n    DayGridEventRenderer.prototype.detachSegs = function () {\r\n        var rowStructs = this.rowStructs || [];\r\n        var rowStruct;\r\n        while ((rowStruct = rowStructs.pop())) {\r\n            removeElement(rowStruct.tbodyEl);\r\n        }\r\n        this.rowStructs = null;\r\n    };\r\n    // Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\r\n    // Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\r\n    // PRECONDITION: each segment shoud already have a rendered and assigned `.el`\r\n    DayGridEventRenderer.prototype.renderSegRows = function (segs) {\r\n        var rowStructs = [];\r\n        var segRows;\r\n        var row;\r\n        segRows = this.groupSegRows(segs); // group into nested arrays\r\n        // iterate each row of segment groupings\r\n        for (row = 0; row < segRows.length; row++) {\r\n            rowStructs.push(this.renderSegRow(row, segRows[row]));\r\n        }\r\n        return rowStructs;\r\n    };\r\n    // Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\r\n    // the segments. Returns object with a bunch of internal data about how the render was calculated.\r\n    // NOTE: modifies rowSegs\r\n    DayGridEventRenderer.prototype.renderSegRow = function (row, rowSegs) {\r\n        var dayGrid = this.dayGrid;\r\n        var colCnt = dayGrid.colCnt, isRtl = dayGrid.isRtl;\r\n        var segLevels = this.buildSegLevels(rowSegs); // group into sub-arrays of levels\r\n        var levelCnt = Math.max(1, segLevels.length); // ensure at least one level\r\n        var tbody = document.createElement('tbody');\r\n        var segMatrix = []; // lookup for which segments are rendered into which level+col cells\r\n        var cellMatrix = []; // lookup for all <td> elements of the level+col matrix\r\n        var loneCellMatrix = []; // lookup for <td> elements that only take up a single column\r\n        var i;\r\n        var levelSegs;\r\n        var col;\r\n        var tr;\r\n        var j;\r\n        var seg;\r\n        var td;\r\n        // populates empty cells from the current column (`col`) to `endCol`\r\n        function emptyCellsUntil(endCol) {\r\n            while (col < endCol) {\r\n                // try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\r\n                td = (loneCellMatrix[i - 1] || [])[col];\r\n                if (td) {\r\n                    td.rowSpan = (td.rowSpan || 1) + 1;\r\n                }\r\n                else {\r\n                    td = document.createElement('td');\r\n                    tr.appendChild(td);\r\n                }\r\n                cellMatrix[i][col] = td;\r\n                loneCellMatrix[i][col] = td;\r\n                col++;\r\n            }\r\n        }\r\n        for (i = 0; i < levelCnt; i++) { // iterate through all levels\r\n            levelSegs = segLevels[i];\r\n            col = 0;\r\n            tr = document.createElement('tr');\r\n            segMatrix.push([]);\r\n            cellMatrix.push([]);\r\n            loneCellMatrix.push([]);\r\n            // levelCnt might be 1 even though there are no actual levels. protect against this.\r\n            // this single empty row is useful for styling.\r\n            if (levelSegs) {\r\n                for (j = 0; j < levelSegs.length; j++) { // iterate through segments in level\r\n                    seg = levelSegs[j];\r\n                    var leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol;\r\n                    var rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol;\r\n                    emptyCellsUntil(leftCol);\r\n                    // create a container that occupies or more columns. append the event element.\r\n                    td = createElement('td', { className: 'fc-event-container' }, seg.el);\r\n                    if (leftCol !== rightCol) {\r\n                        td.colSpan = rightCol - leftCol + 1;\r\n                    }\r\n                    else { // a single-column segment\r\n                        loneCellMatrix[i][col] = td;\r\n                    }\r\n                    while (col <= rightCol) {\r\n                        cellMatrix[i][col] = td;\r\n                        segMatrix[i][col] = seg;\r\n                        col++;\r\n                    }\r\n                    tr.appendChild(td);\r\n                }\r\n            }\r\n            emptyCellsUntil(colCnt); // finish off the row\r\n            var introHtml = dayGrid.renderProps.renderIntroHtml();\r\n            if (introHtml) {\r\n                if (dayGrid.isRtl) {\r\n                    appendToElement(tr, introHtml);\r\n                }\r\n                else {\r\n                    prependToElement(tr, introHtml);\r\n                }\r\n            }\r\n            tbody.appendChild(tr);\r\n        }\r\n        return {\r\n            row: row,\r\n            tbodyEl: tbody,\r\n            cellMatrix: cellMatrix,\r\n            segMatrix: segMatrix,\r\n            segLevels: segLevels,\r\n            segs: rowSegs\r\n        };\r\n    };\r\n    // Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\r\n    // NOTE: modifies segs\r\n    DayGridEventRenderer.prototype.buildSegLevels = function (segs) {\r\n        var _a = this.dayGrid, isRtl = _a.isRtl, colCnt = _a.colCnt;\r\n        var levels = [];\r\n        var i;\r\n        var seg;\r\n        var j;\r\n        // Give preference to elements with certain criteria, so they have\r\n        // a chance to be closer to the top.\r\n        segs = this.sortEventSegs(segs);\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            // loop through levels, starting with the topmost, until the segment doesn't collide with other segments\r\n            for (j = 0; j < levels.length; j++) {\r\n                if (!isDaySegCollision(seg, levels[j])) {\r\n                    break;\r\n                }\r\n            }\r\n            // `j` now holds the desired subrow index\r\n            seg.level = j;\r\n            seg.leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol; // for sorting only\r\n            seg.rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol // for sorting only\r\n            ;\r\n            (levels[j] || (levels[j] = [])).push(seg);\r\n        }\r\n        // order segments left-to-right. very important if calendar is RTL\r\n        for (j = 0; j < levels.length; j++) {\r\n            levels[j].sort(compareDaySegCols);\r\n        }\r\n        return levels;\r\n    };\r\n    // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\r\n    DayGridEventRenderer.prototype.groupSegRows = function (segs) {\r\n        var segRows = [];\r\n        var i;\r\n        for (i = 0; i < this.dayGrid.rowCnt; i++) {\r\n            segRows.push([]);\r\n        }\r\n        for (i = 0; i < segs.length; i++) {\r\n            segRows[segs[i].row].push(segs[i]);\r\n        }\r\n        return segRows;\r\n    };\r\n    // Computes a default `displayEventEnd` value if one is not expliclty defined\r\n    DayGridEventRenderer.prototype.computeDisplayEventEnd = function () {\r\n        return this.dayGrid.colCnt === 1; // we'll likely have space if there's only one day\r\n    };\r\n    return DayGridEventRenderer;\r\n}(SimpleDayGridEventRenderer));\r\n// Computes whether two segments' columns collide. They are assumed to be in the same row.\r\nfunction isDaySegCollision(seg, otherSegs) {\r\n    var i;\r\n    var otherSeg;\r\n    for (i = 0; i < otherSegs.length; i++) {\r\n        otherSeg = otherSegs[i];\r\n        if (otherSeg.firstCol <= seg.lastCol &&\r\n            otherSeg.lastCol >= seg.firstCol) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n// A cmp function for determining the leftmost event\r\nfunction compareDaySegCols(a, b) {\r\n    return a.leftCol - b.leftCol;\r\n}\r\n\r\nvar DayGridMirrorRenderer = /** @class */ (function (_super) {\r\n    __extends(DayGridMirrorRenderer, _super);\r\n    function DayGridMirrorRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DayGridMirrorRenderer.prototype.attachSegs = function (segs, mirrorInfo) {\r\n        var sourceSeg = mirrorInfo.sourceSeg;\r\n        var rowStructs = this.rowStructs = this.renderSegRows(segs);\r\n        // inject each new event skeleton into each associated row\r\n        this.dayGrid.rowEls.forEach(function (rowNode, row) {\r\n            var skeletonEl = htmlToElement('<div class=\"fc-mirror-skeleton\"><table></table></div>'); // will be absolutely positioned\r\n            var skeletonTopEl;\r\n            var skeletonTop;\r\n            // If there is an original segment, match the top position. Otherwise, put it at the row's top level\r\n            if (sourceSeg && sourceSeg.row === row) {\r\n                skeletonTopEl = sourceSeg.el;\r\n            }\r\n            else {\r\n                skeletonTopEl = rowNode.querySelector('.fc-content-skeleton tbody');\r\n                if (!skeletonTopEl) { // when no events\r\n                    skeletonTopEl = rowNode.querySelector('.fc-content-skeleton table');\r\n                }\r\n            }\r\n            skeletonTop = skeletonTopEl.getBoundingClientRect().top -\r\n                rowNode.getBoundingClientRect().top; // the offsetParent origin\r\n            skeletonEl.style.top = skeletonTop + 'px';\r\n            skeletonEl.querySelector('table').appendChild(rowStructs[row].tbodyEl);\r\n            rowNode.appendChild(skeletonEl);\r\n        });\r\n    };\r\n    return DayGridMirrorRenderer;\r\n}(DayGridEventRenderer));\r\n\r\nvar EMPTY_CELL_HTML = '<td style=\"pointer-events:none\"></td>';\r\nvar DayGridFillRenderer = /** @class */ (function (_super) {\r\n    __extends(DayGridFillRenderer, _super);\r\n    function DayGridFillRenderer(dayGrid) {\r\n        var _this = _super.call(this, dayGrid.context) || this;\r\n        _this.fillSegTag = 'td'; // override the default tag name\r\n        _this.dayGrid = dayGrid;\r\n        return _this;\r\n    }\r\n    DayGridFillRenderer.prototype.renderSegs = function (type, segs) {\r\n        // don't render timed background events\r\n        if (type === 'bgEvent') {\r\n            segs = segs.filter(function (seg) {\r\n                return seg.eventRange.def.allDay;\r\n            });\r\n        }\r\n        _super.prototype.renderSegs.call(this, type, segs);\r\n    };\r\n    DayGridFillRenderer.prototype.attachSegs = function (type, segs) {\r\n        var els = [];\r\n        var i;\r\n        var seg;\r\n        var skeletonEl;\r\n        for (i = 0; i < segs.length; i++) {\r\n            seg = segs[i];\r\n            skeletonEl = this.renderFillRow(type, seg);\r\n            this.dayGrid.rowEls[seg.row].appendChild(skeletonEl);\r\n            els.push(skeletonEl);\r\n        }\r\n        return els;\r\n    };\r\n    // Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\r\n    DayGridFillRenderer.prototype.renderFillRow = function (type, seg) {\r\n        var dayGrid = this.dayGrid;\r\n        var colCnt = dayGrid.colCnt, isRtl = dayGrid.isRtl;\r\n        var leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol;\r\n        var rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol;\r\n        var startCol = leftCol;\r\n        var endCol = rightCol + 1;\r\n        var className;\r\n        var skeletonEl;\r\n        var trEl;\r\n        if (type === 'businessHours') {\r\n            className = 'bgevent';\r\n        }\r\n        else {\r\n            className = type.toLowerCase();\r\n        }\r\n        skeletonEl = htmlToElement('<div class=\"fc-' + className + '-skeleton\">' +\r\n            '<table><tr></tr></table>' +\r\n            '</div>');\r\n        trEl = skeletonEl.getElementsByTagName('tr')[0];\r\n        if (startCol > 0) {\r\n            appendToElement(trEl, \r\n            // will create (startCol + 1) td's\r\n            new Array(startCol + 1).join(EMPTY_CELL_HTML));\r\n        }\r\n        seg.el.colSpan = endCol - startCol;\r\n        trEl.appendChild(seg.el);\r\n        if (endCol < colCnt) {\r\n            appendToElement(trEl, \r\n            // will create (colCnt - endCol) td's\r\n            new Array(colCnt - endCol + 1).join(EMPTY_CELL_HTML));\r\n        }\r\n        var introHtml = dayGrid.renderProps.renderIntroHtml();\r\n        if (introHtml) {\r\n            if (dayGrid.isRtl) {\r\n                appendToElement(trEl, introHtml);\r\n            }\r\n            else {\r\n                prependToElement(trEl, introHtml);\r\n            }\r\n        }\r\n        return skeletonEl;\r\n    };\r\n    return DayGridFillRenderer;\r\n}(FillRenderer));\r\n\r\nvar DayTile = /** @class */ (function (_super) {\r\n    __extends(DayTile, _super);\r\n    function DayTile(context, el) {\r\n        var _this = _super.call(this, context, el) || this;\r\n        var eventRenderer = _this.eventRenderer = new DayTileEventRenderer(_this);\r\n        var renderFrame = _this.renderFrame = memoizeRendering(_this._renderFrame);\r\n        _this.renderFgEvents = memoizeRendering(eventRenderer.renderSegs.bind(eventRenderer), eventRenderer.unrender.bind(eventRenderer), [renderFrame]);\r\n        _this.renderEventSelection = memoizeRendering(eventRenderer.selectByInstanceId.bind(eventRenderer), eventRenderer.unselectByInstanceId.bind(eventRenderer), [_this.renderFgEvents]);\r\n        _this.renderEventDrag = memoizeRendering(eventRenderer.hideByHash.bind(eventRenderer), eventRenderer.showByHash.bind(eventRenderer), [renderFrame]);\r\n        _this.renderEventResize = memoizeRendering(eventRenderer.hideByHash.bind(eventRenderer), eventRenderer.showByHash.bind(eventRenderer), [renderFrame]);\r\n        context.calendar.registerInteractiveComponent(_this, {\r\n            el: _this.el,\r\n            useEventCenter: false\r\n        });\r\n        return _this;\r\n    }\r\n    DayTile.prototype.render = function (props) {\r\n        this.renderFrame(props.date);\r\n        this.renderFgEvents(props.fgSegs);\r\n        this.renderEventSelection(props.eventSelection);\r\n        this.renderEventDrag(props.eventDragInstances);\r\n        this.renderEventResize(props.eventResizeInstances);\r\n    };\r\n    DayTile.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.renderFrame.unrender(); // should unrender everything else\r\n        this.calendar.unregisterInteractiveComponent(this);\r\n    };\r\n    DayTile.prototype._renderFrame = function (date) {\r\n        var _a = this, theme = _a.theme, dateEnv = _a.dateEnv;\r\n        var title = dateEnv.format(date, createFormatter(this.opt('dayPopoverFormat')) // TODO: cache\r\n        );\r\n        this.el.innerHTML =\r\n            '<div class=\"fc-header ' + theme.getClass('popoverHeader') + '\">' +\r\n                '<span class=\"fc-title\">' +\r\n                htmlEscape(title) +\r\n                '</span>' +\r\n                '<span class=\"fc-close ' + theme.getIconClass('close') + '\"></span>' +\r\n                '</div>' +\r\n                '<div class=\"fc-body ' + theme.getClass('popoverContent') + '\">' +\r\n                '<div class=\"fc-event-container\"></div>' +\r\n                '</div>';\r\n        this.segContainerEl = this.el.querySelector('.fc-event-container');\r\n    };\r\n    DayTile.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\r\n        var date = this.props.date; // HACK\r\n        if (positionLeft < elWidth && positionTop < elHeight) {\r\n            return {\r\n                component: this,\r\n                dateSpan: {\r\n                    allDay: true,\r\n                    range: { start: date, end: addDays(date, 1) }\r\n                },\r\n                dayEl: this.el,\r\n                rect: {\r\n                    left: 0,\r\n                    top: 0,\r\n                    right: elWidth,\r\n                    bottom: elHeight\r\n                },\r\n                layer: 1\r\n            };\r\n        }\r\n    };\r\n    return DayTile;\r\n}(DateComponent));\r\nvar DayTileEventRenderer = /** @class */ (function (_super) {\r\n    __extends(DayTileEventRenderer, _super);\r\n    function DayTileEventRenderer(dayTile) {\r\n        var _this = _super.call(this, dayTile.context) || this;\r\n        _this.dayTile = dayTile;\r\n        return _this;\r\n    }\r\n    DayTileEventRenderer.prototype.attachSegs = function (segs) {\r\n        for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\r\n            var seg = segs_1[_i];\r\n            this.dayTile.segContainerEl.appendChild(seg.el);\r\n        }\r\n    };\r\n    DayTileEventRenderer.prototype.detachSegs = function (segs) {\r\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\r\n            var seg = segs_2[_i];\r\n            removeElement(seg.el);\r\n        }\r\n    };\r\n    return DayTileEventRenderer;\r\n}(SimpleDayGridEventRenderer));\r\n\r\nvar DayBgRow = /** @class */ (function () {\r\n    function DayBgRow(context) {\r\n        this.context = context;\r\n    }\r\n    DayBgRow.prototype.renderHtml = function (props) {\r\n        var parts = [];\r\n        if (props.renderIntroHtml) {\r\n            parts.push(props.renderIntroHtml());\r\n        }\r\n        for (var _i = 0, _a = props.cells; _i < _a.length; _i++) {\r\n            var cell = _a[_i];\r\n            parts.push(renderCellHtml(cell.date, props.dateProfile, this.context, cell.htmlAttrs));\r\n        }\r\n        if (!props.cells.length) {\r\n            parts.push('<td class=\"fc-day ' + this.context.theme.getClass('widgetContent') + '\"></td>');\r\n        }\r\n        if (this.context.options.dir === 'rtl') {\r\n            parts.reverse();\r\n        }\r\n        return '<tr>' + parts.join('') + '</tr>';\r\n    };\r\n    return DayBgRow;\r\n}());\r\nfunction renderCellHtml(date, dateProfile, context, otherAttrs) {\r\n    var dateEnv = context.dateEnv, theme = context.theme;\r\n    var isDateValid = rangeContainsMarker(dateProfile.activeRange, date); // TODO: called too frequently. cache somehow.\r\n    var classes = getDayClasses(date, dateProfile, context);\r\n    classes.unshift('fc-day', theme.getClass('widgetContent'));\r\n    return '<td class=\"' + classes.join(' ') + '\"' +\r\n        (isDateValid ?\r\n            ' data-date=\"' + dateEnv.formatIso(date, { omitTime: true }) + '\"' :\r\n            '') +\r\n        (otherAttrs ?\r\n            ' ' + otherAttrs :\r\n            '') +\r\n        '></td>';\r\n}\r\n\r\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\r\nvar WEEK_NUM_FORMAT = createFormatter({ week: 'numeric' });\r\nvar DayGrid = /** @class */ (function (_super) {\r\n    __extends(DayGrid, _super);\r\n    function DayGrid(context, el, renderProps) {\r\n        var _this = _super.call(this, context, el) || this;\r\n        _this.bottomCoordPadding = 0; // hack for extending the hit area for the last row of the coordinate grid\r\n        _this.isCellSizesDirty = false;\r\n        var eventRenderer = _this.eventRenderer = new DayGridEventRenderer(_this);\r\n        var fillRenderer = _this.fillRenderer = new DayGridFillRenderer(_this);\r\n        _this.mirrorRenderer = new DayGridMirrorRenderer(_this);\r\n        var renderCells = _this.renderCells = memoizeRendering(_this._renderCells, _this._unrenderCells);\r\n        _this.renderBusinessHours = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'businessHours'), fillRenderer.unrender.bind(fillRenderer, 'businessHours'), [renderCells]);\r\n        _this.renderDateSelection = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'highlight'), fillRenderer.unrender.bind(fillRenderer, 'highlight'), [renderCells]);\r\n        _this.renderBgEvents = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'bgEvent'), fillRenderer.unrender.bind(fillRenderer, 'bgEvent'), [renderCells]);\r\n        _this.renderFgEvents = memoizeRendering(eventRenderer.renderSegs.bind(eventRenderer), eventRenderer.unrender.bind(eventRenderer), [renderCells]);\r\n        _this.renderEventSelection = memoizeRendering(eventRenderer.selectByInstanceId.bind(eventRenderer), eventRenderer.unselectByInstanceId.bind(eventRenderer), [_this.renderFgEvents]);\r\n        _this.renderEventDrag = memoizeRendering(_this._renderEventDrag, _this._unrenderEventDrag, [renderCells]);\r\n        _this.renderEventResize = memoizeRendering(_this._renderEventResize, _this._unrenderEventResize, [renderCells]);\r\n        _this.renderProps = renderProps;\r\n        return _this;\r\n    }\r\n    DayGrid.prototype.render = function (props) {\r\n        var cells = props.cells;\r\n        this.rowCnt = cells.length;\r\n        this.colCnt = cells[0].length;\r\n        this.renderCells(cells, props.isRigid);\r\n        this.renderBusinessHours(props.businessHourSegs);\r\n        this.renderDateSelection(props.dateSelectionSegs);\r\n        this.renderBgEvents(props.bgEventSegs);\r\n        this.renderFgEvents(props.fgEventSegs);\r\n        this.renderEventSelection(props.eventSelection);\r\n        this.renderEventDrag(props.eventDrag);\r\n        this.renderEventResize(props.eventResize);\r\n        if (this.segPopoverTile) {\r\n            this.updateSegPopoverTile();\r\n        }\r\n    };\r\n    DayGrid.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.renderCells.unrender(); // will unrender everything else\r\n    };\r\n    DayGrid.prototype.getCellRange = function (row, col) {\r\n        var start = this.props.cells[row][col].date;\r\n        var end = addDays(start, 1);\r\n        return { start: start, end: end };\r\n    };\r\n    DayGrid.prototype.updateSegPopoverTile = function (date, segs) {\r\n        var ownProps = this.props;\r\n        this.segPopoverTile.receiveProps({\r\n            date: date || this.segPopoverTile.props.date,\r\n            fgSegs: segs || this.segPopoverTile.props.fgSegs,\r\n            eventSelection: ownProps.eventSelection,\r\n            eventDragInstances: ownProps.eventDrag ? ownProps.eventDrag.affectedInstances : null,\r\n            eventResizeInstances: ownProps.eventResize ? ownProps.eventResize.affectedInstances : null\r\n        });\r\n    };\r\n    /* Date Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype._renderCells = function (cells, isRigid) {\r\n        var _a = this, view = _a.view, dateEnv = _a.dateEnv;\r\n        var _b = this, rowCnt = _b.rowCnt, colCnt = _b.colCnt;\r\n        var html = '';\r\n        var row;\r\n        var col;\r\n        for (row = 0; row < rowCnt; row++) {\r\n            html += this.renderDayRowHtml(row, isRigid);\r\n        }\r\n        this.el.innerHTML = html;\r\n        this.rowEls = findElements(this.el, '.fc-row');\r\n        this.cellEls = findElements(this.el, '.fc-day, .fc-disabled-day');\r\n        if (this.isRtl) {\r\n            this.cellEls.reverse();\r\n        }\r\n        this.rowPositions = new PositionCache(this.el, this.rowEls, false, true // vertical\r\n        );\r\n        this.colPositions = new PositionCache(this.el, this.cellEls.slice(0, colCnt), // only the first row\r\n        true, false // horizontal\r\n        );\r\n        // trigger dayRender with each cell's element\r\n        for (row = 0; row < rowCnt; row++) {\r\n            for (col = 0; col < colCnt; col++) {\r\n                this.publiclyTrigger('dayRender', [\r\n                    {\r\n                        date: dateEnv.toDate(cells[row][col].date),\r\n                        el: this.getCellEl(row, col),\r\n                        view: view\r\n                    }\r\n                ]);\r\n            }\r\n        }\r\n        this.isCellSizesDirty = true;\r\n    };\r\n    DayGrid.prototype._unrenderCells = function () {\r\n        this.removeSegPopover();\r\n    };\r\n    // Generates the HTML for a single row, which is a div that wraps a table.\r\n    // `row` is the row number.\r\n    DayGrid.prototype.renderDayRowHtml = function (row, isRigid) {\r\n        var theme = this.theme;\r\n        var classes = ['fc-row', 'fc-week', theme.getClass('dayRow')];\r\n        if (isRigid) {\r\n            classes.push('fc-rigid');\r\n        }\r\n        var bgRow = new DayBgRow(this.context);\r\n        return '' +\r\n            '<div class=\"' + classes.join(' ') + '\">' +\r\n            '<div class=\"fc-bg\">' +\r\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\r\n            bgRow.renderHtml({\r\n                cells: this.props.cells[row],\r\n                dateProfile: this.props.dateProfile,\r\n                renderIntroHtml: this.renderProps.renderBgIntroHtml\r\n            }) +\r\n            '</table>' +\r\n            '</div>' +\r\n            '<div class=\"fc-content-skeleton\">' +\r\n            '<table>' +\r\n            (this.getIsNumbersVisible() ?\r\n                '<thead>' +\r\n                    this.renderNumberTrHtml(row) +\r\n                    '</thead>' :\r\n                '') +\r\n            '</table>' +\r\n            '</div>' +\r\n            '</div>';\r\n    };\r\n    DayGrid.prototype.getIsNumbersVisible = function () {\r\n        return this.getIsDayNumbersVisible() ||\r\n            this.renderProps.cellWeekNumbersVisible ||\r\n            this.renderProps.colWeekNumbersVisible;\r\n    };\r\n    DayGrid.prototype.getIsDayNumbersVisible = function () {\r\n        return this.rowCnt > 1;\r\n    };\r\n    /* Grid Number Rendering\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype.renderNumberTrHtml = function (row) {\r\n        var intro = this.renderProps.renderNumberIntroHtml(row, this);\r\n        return '' +\r\n            '<tr>' +\r\n            (this.isRtl ? '' : intro) +\r\n            this.renderNumberCellsHtml(row) +\r\n            (this.isRtl ? intro : '') +\r\n            '</tr>';\r\n    };\r\n    DayGrid.prototype.renderNumberCellsHtml = function (row) {\r\n        var htmls = [];\r\n        var col;\r\n        var date;\r\n        for (col = 0; col < this.colCnt; col++) {\r\n            date = this.props.cells[row][col].date;\r\n            htmls.push(this.renderNumberCellHtml(date));\r\n        }\r\n        if (this.isRtl) {\r\n            htmls.reverse();\r\n        }\r\n        return htmls.join('');\r\n    };\r\n    // Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\r\n    // The number row will only exist if either day numbers or week numbers are turned on.\r\n    DayGrid.prototype.renderNumberCellHtml = function (date) {\r\n        var _a = this, view = _a.view, dateEnv = _a.dateEnv;\r\n        var html = '';\r\n        var isDateValid = rangeContainsMarker(this.props.dateProfile.activeRange, date); // TODO: called too frequently. cache somehow.\r\n        var isDayNumberVisible = this.getIsDayNumbersVisible() && isDateValid;\r\n        var classes;\r\n        var weekCalcFirstDow;\r\n        if (!isDayNumberVisible && !this.renderProps.cellWeekNumbersVisible) {\r\n            // no numbers in day cell (week number must be along the side)\r\n            return '<td></td>'; //  will create an empty space above events :(\r\n        }\r\n        classes = getDayClasses(date, this.props.dateProfile, this.context);\r\n        classes.unshift('fc-day-top');\r\n        if (this.renderProps.cellWeekNumbersVisible) {\r\n            weekCalcFirstDow = dateEnv.weekDow;\r\n        }\r\n        html += '<td class=\"' + classes.join(' ') + '\"' +\r\n            (isDateValid ?\r\n                ' data-date=\"' + dateEnv.formatIso(date, { omitTime: true }) + '\"' :\r\n                '') +\r\n            '>';\r\n        if (this.renderProps.cellWeekNumbersVisible && (date.getUTCDay() === weekCalcFirstDow)) {\r\n            html += buildGotoAnchorHtml(view, { date: date, type: 'week' }, { 'class': 'fc-week-number' }, dateEnv.format(date, WEEK_NUM_FORMAT) // inner HTML\r\n            );\r\n        }\r\n        if (isDayNumberVisible) {\r\n            html += buildGotoAnchorHtml(view, date, { 'class': 'fc-day-number' }, dateEnv.format(date, DAY_NUM_FORMAT) // inner HTML\r\n            );\r\n        }\r\n        html += '</td>';\r\n        return html;\r\n    };\r\n    /* Sizing\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype.updateSize = function (isResize) {\r\n        var _a = this, fillRenderer = _a.fillRenderer, eventRenderer = _a.eventRenderer, mirrorRenderer = _a.mirrorRenderer;\r\n        if (isResize ||\r\n            this.isCellSizesDirty ||\r\n            this.view.calendar.isEventsUpdated // hack\r\n        ) {\r\n            this.buildPositionCaches();\r\n            this.isCellSizesDirty = false;\r\n        }\r\n        fillRenderer.computeSizes(isResize);\r\n        eventRenderer.computeSizes(isResize);\r\n        mirrorRenderer.computeSizes(isResize);\r\n        fillRenderer.assignSizes(isResize);\r\n        eventRenderer.assignSizes(isResize);\r\n        mirrorRenderer.assignSizes(isResize);\r\n    };\r\n    DayGrid.prototype.buildPositionCaches = function () {\r\n        this.buildColPositions();\r\n        this.buildRowPositions();\r\n    };\r\n    DayGrid.prototype.buildColPositions = function () {\r\n        this.colPositions.build();\r\n    };\r\n    DayGrid.prototype.buildRowPositions = function () {\r\n        this.rowPositions.build();\r\n        this.rowPositions.bottoms[this.rowCnt - 1] += this.bottomCoordPadding; // hack\r\n    };\r\n    /* Hit System\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype.positionToHit = function (leftPosition, topPosition) {\r\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\r\n        var col = colPositions.leftToIndex(leftPosition);\r\n        var row = rowPositions.topToIndex(topPosition);\r\n        if (row != null && col != null) {\r\n            return {\r\n                row: row,\r\n                col: col,\r\n                dateSpan: {\r\n                    range: this.getCellRange(row, col),\r\n                    allDay: true\r\n                },\r\n                dayEl: this.getCellEl(row, col),\r\n                relativeRect: {\r\n                    left: colPositions.lefts[col],\r\n                    right: colPositions.rights[col],\r\n                    top: rowPositions.tops[row],\r\n                    bottom: rowPositions.bottoms[row]\r\n                }\r\n            };\r\n        }\r\n    };\r\n    /* Cell System\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    // FYI: the first column is the leftmost column, regardless of date\r\n    DayGrid.prototype.getCellEl = function (row, col) {\r\n        return this.cellEls[row * this.colCnt + col];\r\n    };\r\n    /* Event Drag Visualization\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype._renderEventDrag = function (state) {\r\n        if (state) {\r\n            this.eventRenderer.hideByHash(state.affectedInstances);\r\n            this.fillRenderer.renderSegs('highlight', state.segs);\r\n        }\r\n    };\r\n    DayGrid.prototype._unrenderEventDrag = function (state) {\r\n        if (state) {\r\n            this.eventRenderer.showByHash(state.affectedInstances);\r\n            this.fillRenderer.unrender('highlight');\r\n        }\r\n    };\r\n    /* Event Resize Visualization\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype._renderEventResize = function (state) {\r\n        if (state) {\r\n            this.eventRenderer.hideByHash(state.affectedInstances);\r\n            this.fillRenderer.renderSegs('highlight', state.segs);\r\n            this.mirrorRenderer.renderSegs(state.segs, { isResizing: true, sourceSeg: state.sourceSeg });\r\n        }\r\n    };\r\n    DayGrid.prototype._unrenderEventResize = function (state) {\r\n        if (state) {\r\n            this.eventRenderer.showByHash(state.affectedInstances);\r\n            this.fillRenderer.unrender('highlight');\r\n            this.mirrorRenderer.unrender(state.segs, { isResizing: true, sourceSeg: state.sourceSeg });\r\n        }\r\n    };\r\n    /* More+ Link Popover\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGrid.prototype.removeSegPopover = function () {\r\n        if (this.segPopover) {\r\n            this.segPopover.hide(); // in handler, will call segPopover's removeElement\r\n        }\r\n    };\r\n    // Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\r\n    // `levelLimit` can be false (don't limit), a number, or true (should be computed).\r\n    DayGrid.prototype.limitRows = function (levelLimit) {\r\n        var rowStructs = this.eventRenderer.rowStructs || [];\r\n        var row; // row #\r\n        var rowLevelLimit;\r\n        for (row = 0; row < rowStructs.length; row++) {\r\n            this.unlimitRow(row);\r\n            if (!levelLimit) {\r\n                rowLevelLimit = false;\r\n            }\r\n            else if (typeof levelLimit === 'number') {\r\n                rowLevelLimit = levelLimit;\r\n            }\r\n            else {\r\n                rowLevelLimit = this.computeRowLevelLimit(row);\r\n            }\r\n            if (rowLevelLimit !== false) {\r\n                this.limitRow(row, rowLevelLimit);\r\n            }\r\n        }\r\n    };\r\n    // Computes the number of levels a row will accomodate without going outside its bounds.\r\n    // Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\r\n    // `row` is the row number.\r\n    DayGrid.prototype.computeRowLevelLimit = function (row) {\r\n        var rowEl = this.rowEls[row]; // the containing \"fake\" row div\r\n        var rowBottom = rowEl.getBoundingClientRect().bottom; // relative to viewport!\r\n        var trEls = findChildren(this.eventRenderer.rowStructs[row].tbodyEl);\r\n        var i;\r\n        var trEl;\r\n        // Reveal one level <tr> at a time and stop when we find one out of bounds\r\n        for (i = 0; i < trEls.length; i++) {\r\n            trEl = trEls[i];\r\n            trEl.classList.remove('fc-limited'); // reset to original state (reveal)\r\n            if (trEl.getBoundingClientRect().bottom > rowBottom) {\r\n                return i;\r\n            }\r\n        }\r\n        return false; // should not limit at all\r\n    };\r\n    // Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\r\n    // `row` is the row number.\r\n    // `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\r\n    DayGrid.prototype.limitRow = function (row, levelLimit) {\r\n        var _this = this;\r\n        var _a = this, colCnt = _a.colCnt, isRtl = _a.isRtl;\r\n        var rowStruct = this.eventRenderer.rowStructs[row];\r\n        var moreNodes = []; // array of \"more\" <a> links and <td> DOM nodes\r\n        var col = 0; // col #, left-to-right (not chronologically)\r\n        var levelSegs; // array of segment objects in the last allowable level, ordered left-to-right\r\n        var cellMatrix; // a matrix (by level, then column) of all <td> elements in the row\r\n        var limitedNodes; // array of temporarily hidden level <tr> and segment <td> DOM nodes\r\n        var i;\r\n        var seg;\r\n        var segsBelow; // array of segment objects below `seg` in the current `col`\r\n        var totalSegsBelow; // total number of segments below `seg` in any of the columns `seg` occupies\r\n        var colSegsBelow; // array of segment arrays, below seg, one for each column (offset from segs's first column)\r\n        var td;\r\n        var rowSpan;\r\n        var segMoreNodes; // array of \"more\" <td> cells that will stand-in for the current seg's cell\r\n        var j;\r\n        var moreTd;\r\n        var moreWrap;\r\n        var moreLink;\r\n        // Iterates through empty level cells and places \"more\" links inside if need be\r\n        var emptyCellsUntil = function (endCol) {\r\n            while (col < endCol) {\r\n                segsBelow = _this.getCellSegs(row, col, levelLimit);\r\n                if (segsBelow.length) {\r\n                    td = cellMatrix[levelLimit - 1][col];\r\n                    moreLink = _this.renderMoreLink(row, col, segsBelow);\r\n                    moreWrap = createElement('div', null, moreLink);\r\n                    td.appendChild(moreWrap);\r\n                    moreNodes.push(moreWrap);\r\n                }\r\n                col++;\r\n            }\r\n        };\r\n        if (levelLimit && levelLimit < rowStruct.segLevels.length) { // is it actually over the limit?\r\n            levelSegs = rowStruct.segLevels[levelLimit - 1];\r\n            cellMatrix = rowStruct.cellMatrix;\r\n            limitedNodes = findChildren(rowStruct.tbodyEl).slice(levelLimit); // get level <tr> elements past the limit\r\n            limitedNodes.forEach(function (node) {\r\n                node.classList.add('fc-limited'); // hide elements and get a simple DOM-nodes array\r\n            });\r\n            // iterate though segments in the last allowable level\r\n            for (i = 0; i < levelSegs.length; i++) {\r\n                seg = levelSegs[i];\r\n                var leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol;\r\n                var rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol;\r\n                emptyCellsUntil(leftCol); // process empty cells before the segment\r\n                // determine *all* segments below `seg` that occupy the same columns\r\n                colSegsBelow = [];\r\n                totalSegsBelow = 0;\r\n                while (col <= rightCol) {\r\n                    segsBelow = this.getCellSegs(row, col, levelLimit);\r\n                    colSegsBelow.push(segsBelow);\r\n                    totalSegsBelow += segsBelow.length;\r\n                    col++;\r\n                }\r\n                if (totalSegsBelow) { // do we need to replace this segment with one or many \"more\" links?\r\n                    td = cellMatrix[levelLimit - 1][leftCol]; // the segment's parent cell\r\n                    rowSpan = td.rowSpan || 1;\r\n                    segMoreNodes = [];\r\n                    // make a replacement <td> for each column the segment occupies. will be one for each colspan\r\n                    for (j = 0; j < colSegsBelow.length; j++) {\r\n                        moreTd = createElement('td', { className: 'fc-more-cell', rowSpan: rowSpan });\r\n                        segsBelow = colSegsBelow[j];\r\n                        moreLink = this.renderMoreLink(row, leftCol + j, [seg].concat(segsBelow) // count seg as hidden too\r\n                        );\r\n                        moreWrap = createElement('div', null, moreLink);\r\n                        moreTd.appendChild(moreWrap);\r\n                        segMoreNodes.push(moreTd);\r\n                        moreNodes.push(moreTd);\r\n                    }\r\n                    td.classList.add('fc-limited');\r\n                    insertAfterElement(td, segMoreNodes);\r\n                    limitedNodes.push(td);\r\n                }\r\n            }\r\n            emptyCellsUntil(this.colCnt); // finish off the level\r\n            rowStruct.moreEls = moreNodes; // for easy undoing later\r\n            rowStruct.limitedEls = limitedNodes; // for easy undoing later\r\n        }\r\n    };\r\n    // Reveals all levels and removes all \"more\"-related elements for a grid's row.\r\n    // `row` is a row number.\r\n    DayGrid.prototype.unlimitRow = function (row) {\r\n        var rowStruct = this.eventRenderer.rowStructs[row];\r\n        if (rowStruct.moreEls) {\r\n            rowStruct.moreEls.forEach(removeElement);\r\n            rowStruct.moreEls = null;\r\n        }\r\n        if (rowStruct.limitedEls) {\r\n            rowStruct.limitedEls.forEach(function (limitedEl) {\r\n                limitedEl.classList.remove('fc-limited');\r\n            });\r\n            rowStruct.limitedEls = null;\r\n        }\r\n    };\r\n    // Renders an <a> element that represents hidden event element for a cell.\r\n    // Responsible for attaching click handler as well.\r\n    DayGrid.prototype.renderMoreLink = function (row, col, hiddenSegs) {\r\n        var _this = this;\r\n        var _a = this, view = _a.view, dateEnv = _a.dateEnv;\r\n        var a = createElement('a', { className: 'fc-more' });\r\n        a.innerText = this.getMoreLinkText(hiddenSegs.length);\r\n        a.addEventListener('click', function (ev) {\r\n            var clickOption = _this.opt('eventLimitClick');\r\n            var _col = _this.isRtl ? _this.colCnt - col - 1 : col; // HACK: props.cells has different dir system?\r\n            var date = _this.props.cells[row][_col].date;\r\n            var moreEl = ev.currentTarget;\r\n            var dayEl = _this.getCellEl(row, col);\r\n            var allSegs = _this.getCellSegs(row, col);\r\n            // rescope the segments to be within the cell's date\r\n            var reslicedAllSegs = _this.resliceDaySegs(allSegs, date);\r\n            var reslicedHiddenSegs = _this.resliceDaySegs(hiddenSegs, date);\r\n            if (typeof clickOption === 'function') {\r\n                // the returned value can be an atomic option\r\n                clickOption = _this.publiclyTrigger('eventLimitClick', [\r\n                    {\r\n                        date: dateEnv.toDate(date),\r\n                        allDay: true,\r\n                        dayEl: dayEl,\r\n                        moreEl: moreEl,\r\n                        segs: reslicedAllSegs,\r\n                        hiddenSegs: reslicedHiddenSegs,\r\n                        jsEvent: ev,\r\n                        view: view\r\n                    }\r\n                ]);\r\n            }\r\n            if (clickOption === 'popover') {\r\n                _this.showSegPopover(row, col, moreEl, reslicedAllSegs);\r\n            }\r\n            else if (typeof clickOption === 'string') { // a view name\r\n                view.calendar.zoomTo(date, clickOption);\r\n            }\r\n        });\r\n        return a;\r\n    };\r\n    // Reveals the popover that displays all events within a cell\r\n    DayGrid.prototype.showSegPopover = function (row, col, moreLink, segs) {\r\n        var _this = this;\r\n        var _a = this, calendar = _a.calendar, view = _a.view, theme = _a.theme;\r\n        var _col = this.isRtl ? this.colCnt - col - 1 : col; // HACK: props.cells has different dir system?\r\n        var moreWrap = moreLink.parentNode; // the <div> wrapper around the <a>\r\n        var topEl; // the element we want to match the top coordinate of\r\n        var options;\r\n        if (this.rowCnt === 1) {\r\n            topEl = view.el; // will cause the popover to cover any sort of header\r\n        }\r\n        else {\r\n            topEl = this.rowEls[row]; // will align with top of row\r\n        }\r\n        options = {\r\n            className: 'fc-more-popover ' + theme.getClass('popover'),\r\n            parentEl: view.el,\r\n            top: computeRect(topEl).top,\r\n            autoHide: true,\r\n            content: function (el) {\r\n                _this.segPopoverTile = new DayTile(_this.context, el);\r\n                _this.updateSegPopoverTile(_this.props.cells[row][_col].date, segs);\r\n            },\r\n            hide: function () {\r\n                _this.segPopoverTile.destroy();\r\n                _this.segPopoverTile = null;\r\n                _this.segPopover.destroy();\r\n                _this.segPopover = null;\r\n            }\r\n        };\r\n        // Determine horizontal coordinate.\r\n        // We use the moreWrap instead of the <td> to avoid border confusion.\r\n        if (this.isRtl) {\r\n            options.right = computeRect(moreWrap).right + 1; // +1 to be over cell border\r\n        }\r\n        else {\r\n            options.left = computeRect(moreWrap).left - 1; // -1 to be over cell border\r\n        }\r\n        this.segPopover = new Popover(options);\r\n        this.segPopover.show();\r\n        calendar.releaseAfterSizingTriggers(); // hack for eventPositioned\r\n    };\r\n    // Given the events within an array of segment objects, reslice them to be in a single day\r\n    DayGrid.prototype.resliceDaySegs = function (segs, dayDate) {\r\n        var dayStart = dayDate;\r\n        var dayEnd = addDays(dayStart, 1);\r\n        var dayRange = { start: dayStart, end: dayEnd };\r\n        var newSegs = [];\r\n        for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\r\n            var seg = segs_1[_i];\r\n            var eventRange = seg.eventRange;\r\n            var origRange = eventRange.range;\r\n            var slicedRange = intersectRanges(origRange, dayRange);\r\n            if (slicedRange) {\r\n                newSegs.push(__assign({}, seg, { eventRange: {\r\n                        def: eventRange.def,\r\n                        ui: __assign({}, eventRange.ui, { durationEditable: false }),\r\n                        instance: eventRange.instance,\r\n                        range: slicedRange\r\n                    }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() }));\r\n            }\r\n        }\r\n        return newSegs;\r\n    };\r\n    // Generates the text that should be inside a \"more\" link, given the number of events it represents\r\n    DayGrid.prototype.getMoreLinkText = function (num) {\r\n        var opt = this.opt('eventLimitText');\r\n        if (typeof opt === 'function') {\r\n            return opt(num);\r\n        }\r\n        else {\r\n            return '+' + num + ' ' + opt;\r\n        }\r\n    };\r\n    // Returns segments within a given cell.\r\n    // If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\r\n    DayGrid.prototype.getCellSegs = function (row, col, startLevel) {\r\n        var segMatrix = this.eventRenderer.rowStructs[row].segMatrix;\r\n        var level = startLevel || 0;\r\n        var segs = [];\r\n        var seg;\r\n        while (level < segMatrix.length) {\r\n            seg = segMatrix[level][col];\r\n            if (seg) {\r\n                segs.push(seg);\r\n            }\r\n            level++;\r\n        }\r\n        return segs;\r\n    };\r\n    return DayGrid;\r\n}(DateComponent));\r\n\r\nvar WEEK_NUM_FORMAT$1 = createFormatter({ week: 'numeric' });\r\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\r\n// It is responsible for managing width/height.\r\nvar DayGridView = /** @class */ (function (_super) {\r\n    __extends(DayGridView, _super);\r\n    function DayGridView(context, viewSpec, dateProfileGenerator, parentEl) {\r\n        var _this = _super.call(this, context, viewSpec, dateProfileGenerator, parentEl) || this;\r\n        /* Header Rendering\r\n        ------------------------------------------------------------------------------------------------------------------*/\r\n        // Generates the HTML that will go before the day-of week header cells\r\n        _this.renderHeadIntroHtml = function () {\r\n            var theme = _this.theme;\r\n            if (_this.colWeekNumbersVisible) {\r\n                return '' +\r\n                    '<th class=\"fc-week-number ' + theme.getClass('widgetHeader') + '\" ' + _this.weekNumberStyleAttr() + '>' +\r\n                    '<span>' + // needed for matchCellWidths\r\n                    htmlEscape(_this.opt('weekLabel')) +\r\n                    '</span>' +\r\n                    '</th>';\r\n            }\r\n            return '';\r\n        };\r\n        /* Day Grid Rendering\r\n        ------------------------------------------------------------------------------------------------------------------*/\r\n        // Generates the HTML that will go before content-skeleton cells that display the day/week numbers\r\n        _this.renderDayGridNumberIntroHtml = function (row, dayGrid) {\r\n            var dateEnv = _this.dateEnv;\r\n            var weekStart = dayGrid.props.cells[row][0].date;\r\n            if (_this.colWeekNumbersVisible) {\r\n                return '' +\r\n                    '<td class=\"fc-week-number\" ' + _this.weekNumberStyleAttr() + '>' +\r\n                    buildGotoAnchorHtml(// aside from link, important for matchCellWidths\r\n                    _this, { date: weekStart, type: 'week', forceOff: dayGrid.colCnt === 1 }, dateEnv.format(weekStart, WEEK_NUM_FORMAT$1) // inner HTML\r\n                    ) +\r\n                    '</td>';\r\n            }\r\n            return '';\r\n        };\r\n        // Generates the HTML that goes before the day bg cells for each day-row\r\n        _this.renderDayGridBgIntroHtml = function () {\r\n            var theme = _this.theme;\r\n            if (_this.colWeekNumbersVisible) {\r\n                return '<td class=\"fc-week-number ' + theme.getClass('widgetContent') + '\" ' + _this.weekNumberStyleAttr() + '></td>';\r\n            }\r\n            return '';\r\n        };\r\n        // Generates the HTML that goes before every other type of row generated by DayGrid.\r\n        // Affects mirror-skeleton and highlight-skeleton rows.\r\n        _this.renderDayGridIntroHtml = function () {\r\n            if (_this.colWeekNumbersVisible) {\r\n                return '<td class=\"fc-week-number\" ' + _this.weekNumberStyleAttr() + '></td>';\r\n            }\r\n            return '';\r\n        };\r\n        _this.el.classList.add('fc-dayGrid-view');\r\n        _this.el.innerHTML = _this.renderSkeletonHtml();\r\n        _this.scroller = new ScrollComponent('hidden', // overflow x\r\n        'auto' // overflow y\r\n        );\r\n        var dayGridContainerEl = _this.scroller.el;\r\n        _this.el.querySelector('.fc-body > tr > td').appendChild(dayGridContainerEl);\r\n        dayGridContainerEl.classList.add('fc-day-grid-container');\r\n        var dayGridEl = createElement('div', { className: 'fc-day-grid' });\r\n        dayGridContainerEl.appendChild(dayGridEl);\r\n        var cellWeekNumbersVisible;\r\n        if (_this.opt('weekNumbers')) {\r\n            if (_this.opt('weekNumbersWithinDays')) {\r\n                cellWeekNumbersVisible = true;\r\n                _this.colWeekNumbersVisible = false;\r\n            }\r\n            else {\r\n                cellWeekNumbersVisible = false;\r\n                _this.colWeekNumbersVisible = true;\r\n            }\r\n        }\r\n        else {\r\n            _this.colWeekNumbersVisible = false;\r\n            cellWeekNumbersVisible = false;\r\n        }\r\n        _this.dayGrid = new DayGrid(_this.context, dayGridEl, {\r\n            renderNumberIntroHtml: _this.renderDayGridNumberIntroHtml,\r\n            renderBgIntroHtml: _this.renderDayGridBgIntroHtml,\r\n            renderIntroHtml: _this.renderDayGridIntroHtml,\r\n            colWeekNumbersVisible: _this.colWeekNumbersVisible,\r\n            cellWeekNumbersVisible: cellWeekNumbersVisible\r\n        });\r\n        return _this;\r\n    }\r\n    DayGridView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.dayGrid.destroy();\r\n        this.scroller.destroy();\r\n    };\r\n    // Builds the HTML skeleton for the view.\r\n    // The day-grid component will render inside of a container defined by this HTML.\r\n    DayGridView.prototype.renderSkeletonHtml = function () {\r\n        var theme = this.theme;\r\n        return '' +\r\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\r\n            (this.opt('columnHeader') ?\r\n                '<thead class=\"fc-head\">' +\r\n                    '<tr>' +\r\n                    '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' +\r\n                    '</tr>' +\r\n                    '</thead>' :\r\n                '') +\r\n            '<tbody class=\"fc-body\">' +\r\n            '<tr>' +\r\n            '<td class=\"' + theme.getClass('widgetContent') + '\"></td>' +\r\n            '</tr>' +\r\n            '</tbody>' +\r\n            '</table>';\r\n    };\r\n    // Generates an HTML attribute string for setting the width of the week number column, if it is known\r\n    DayGridView.prototype.weekNumberStyleAttr = function () {\r\n        if (this.weekNumberWidth != null) {\r\n            return 'style=\"width:' + this.weekNumberWidth + 'px\"';\r\n        }\r\n        return '';\r\n    };\r\n    // Determines whether each row should have a constant height\r\n    DayGridView.prototype.hasRigidRows = function () {\r\n        var eventLimit = this.opt('eventLimit');\r\n        return eventLimit && typeof eventLimit !== 'number';\r\n    };\r\n    /* Dimensions\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGridView.prototype.updateSize = function (isResize, viewHeight, isAuto) {\r\n        _super.prototype.updateSize.call(this, isResize, viewHeight, isAuto); // will call updateBaseSize. important that executes first\r\n        this.dayGrid.updateSize(isResize);\r\n    };\r\n    // Refreshes the horizontal dimensions of the view\r\n    DayGridView.prototype.updateBaseSize = function (isResize, viewHeight, isAuto) {\r\n        var dayGrid = this.dayGrid;\r\n        var eventLimit = this.opt('eventLimit');\r\n        var headRowEl = this.header ? this.header.el : null; // HACK\r\n        var scrollerHeight;\r\n        var scrollbarWidths;\r\n        // hack to give the view some height prior to dayGrid's columns being rendered\r\n        // TODO: separate setting height from scroller VS dayGrid.\r\n        if (!dayGrid.rowEls) {\r\n            if (!isAuto) {\r\n                scrollerHeight = this.computeScrollerHeight(viewHeight);\r\n                this.scroller.setHeight(scrollerHeight);\r\n            }\r\n            return;\r\n        }\r\n        if (this.colWeekNumbersVisible) {\r\n            // Make sure all week number cells running down the side have the same width.\r\n            this.weekNumberWidth = matchCellWidths(findElements(this.el, '.fc-week-number'));\r\n        }\r\n        // reset all heights to be natural\r\n        this.scroller.clear();\r\n        if (headRowEl) {\r\n            uncompensateScroll(headRowEl);\r\n        }\r\n        dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\r\n        // is the event limit a constant level number?\r\n        if (eventLimit && typeof eventLimit === 'number') {\r\n            dayGrid.limitRows(eventLimit); // limit the levels first so the height can redistribute after\r\n        }\r\n        // distribute the height to the rows\r\n        // (viewHeight is a \"recommended\" value if isAuto)\r\n        scrollerHeight = this.computeScrollerHeight(viewHeight);\r\n        this.setGridHeight(scrollerHeight, isAuto);\r\n        // is the event limit dynamically calculated?\r\n        if (eventLimit && typeof eventLimit !== 'number') {\r\n            dayGrid.limitRows(eventLimit); // limit the levels after the grid's row heights have been set\r\n        }\r\n        if (!isAuto) { // should we force dimensions of the scroll container?\r\n            this.scroller.setHeight(scrollerHeight);\r\n            scrollbarWidths = this.scroller.getScrollbarWidths();\r\n            if (scrollbarWidths.left || scrollbarWidths.right) { // using scrollbars?\r\n                if (headRowEl) {\r\n                    compensateScroll(headRowEl, scrollbarWidths);\r\n                }\r\n                // doing the scrollbar compensation might have created text overflow which created more height. redo\r\n                scrollerHeight = this.computeScrollerHeight(viewHeight);\r\n                this.scroller.setHeight(scrollerHeight);\r\n            }\r\n            // guarantees the same scrollbar widths\r\n            this.scroller.lockOverflow(scrollbarWidths);\r\n        }\r\n    };\r\n    // given a desired total height of the view, returns what the height of the scroller should be\r\n    DayGridView.prototype.computeScrollerHeight = function (viewHeight) {\r\n        return viewHeight -\r\n            subtractInnerElHeight(this.el, this.scroller.el); // everything that's NOT the scroller\r\n    };\r\n    // Sets the height of just the DayGrid component in this view\r\n    DayGridView.prototype.setGridHeight = function (height, isAuto) {\r\n        if (this.opt('monthMode')) {\r\n            // if auto, make the height of each row the height that it would be if there were 6 weeks\r\n            if (isAuto) {\r\n                height *= this.dayGrid.rowCnt / 6;\r\n            }\r\n            distributeHeight(this.dayGrid.rowEls, height, !isAuto); // if auto, don't compensate for height-hogging rows\r\n        }\r\n        else {\r\n            if (isAuto) {\r\n                undistributeHeight(this.dayGrid.rowEls); // let the rows be their natural height with no expanding\r\n            }\r\n            else {\r\n                distributeHeight(this.dayGrid.rowEls, height, true); // true = compensate for height-hogging rows\r\n            }\r\n        }\r\n    };\r\n    /* Scroll\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    DayGridView.prototype.computeDateScroll = function (duration) {\r\n        return { top: 0 };\r\n    };\r\n    DayGridView.prototype.queryDateScroll = function () {\r\n        return { top: this.scroller.getScrollTop() };\r\n    };\r\n    DayGridView.prototype.applyDateScroll = function (scroll) {\r\n        if (scroll.top !== undefined) {\r\n            this.scroller.setScrollTop(scroll.top);\r\n        }\r\n    };\r\n    return DayGridView;\r\n}(View));\r\nDayGridView.prototype.dateProfileGeneratorClass = DayGridDateProfileGenerator;\r\n\r\nvar SimpleDayGrid = /** @class */ (function (_super) {\r\n    __extends(SimpleDayGrid, _super);\r\n    function SimpleDayGrid(context, dayGrid) {\r\n        var _this = _super.call(this, context, dayGrid.el) || this;\r\n        _this.slicer = new DayGridSlicer();\r\n        _this.dayGrid = dayGrid;\r\n        context.calendar.registerInteractiveComponent(_this, { el: _this.dayGrid.el });\r\n        return _this;\r\n    }\r\n    SimpleDayGrid.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.calendar.unregisterInteractiveComponent(this);\r\n    };\r\n    SimpleDayGrid.prototype.render = function (props) {\r\n        var dayGrid = this.dayGrid;\r\n        var dateProfile = props.dateProfile, dayTable = props.dayTable;\r\n        dayGrid.receiveProps(__assign({}, this.slicer.sliceProps(props, dateProfile, props.nextDayThreshold, dayGrid, dayTable), { dateProfile: dateProfile, cells: dayTable.cells, isRigid: props.isRigid }));\r\n    };\r\n    SimpleDayGrid.prototype.buildPositionCaches = function () {\r\n        this.dayGrid.buildPositionCaches();\r\n    };\r\n    SimpleDayGrid.prototype.queryHit = function (positionLeft, positionTop) {\r\n        var rawHit = this.dayGrid.positionToHit(positionLeft, positionTop);\r\n        if (rawHit) {\r\n            return {\r\n                component: this.dayGrid,\r\n                dateSpan: rawHit.dateSpan,\r\n                dayEl: rawHit.dayEl,\r\n                rect: {\r\n                    left: rawHit.relativeRect.left,\r\n                    right: rawHit.relativeRect.right,\r\n                    top: rawHit.relativeRect.top,\r\n                    bottom: rawHit.relativeRect.bottom\r\n                },\r\n                layer: 0\r\n            };\r\n        }\r\n    };\r\n    return SimpleDayGrid;\r\n}(DateComponent));\r\nvar DayGridSlicer = /** @class */ (function (_super) {\r\n    __extends(DayGridSlicer, _super);\r\n    function DayGridSlicer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DayGridSlicer.prototype.sliceRange = function (dateRange, dayTable) {\r\n        return dayTable.sliceRange(dateRange);\r\n    };\r\n    return DayGridSlicer;\r\n}(Slicer));\r\n\r\nvar DayGridView$1 = /** @class */ (function (_super) {\r\n    __extends(DayGridView, _super);\r\n    function DayGridView(_context, viewSpec, dateProfileGenerator, parentEl) {\r\n        var _this = _super.call(this, _context, viewSpec, dateProfileGenerator, parentEl) || this;\r\n        _this.buildDayTable = memoize(buildDayTable);\r\n        if (_this.opt('columnHeader')) {\r\n            _this.header = new DayHeader(_this.context, _this.el.querySelector('.fc-head-container'));\r\n        }\r\n        _this.simpleDayGrid = new SimpleDayGrid(_this.context, _this.dayGrid);\r\n        return _this;\r\n    }\r\n    DayGridView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        if (this.header) {\r\n            this.header.destroy();\r\n        }\r\n        this.simpleDayGrid.destroy();\r\n    };\r\n    DayGridView.prototype.render = function (props) {\r\n        _super.prototype.render.call(this, props);\r\n        var dateProfile = this.props.dateProfile;\r\n        var dayTable = this.dayTable =\r\n            this.buildDayTable(dateProfile, this.dateProfileGenerator);\r\n        if (this.header) {\r\n            this.header.receiveProps({\r\n                dateProfile: dateProfile,\r\n                dates: dayTable.headerDates,\r\n                datesRepDistinctDays: dayTable.rowCnt === 1,\r\n                renderIntroHtml: this.renderHeadIntroHtml\r\n            });\r\n        }\r\n        this.simpleDayGrid.receiveProps({\r\n            dateProfile: dateProfile,\r\n            dayTable: dayTable,\r\n            businessHours: props.businessHours,\r\n            dateSelection: props.dateSelection,\r\n            eventStore: props.eventStore,\r\n            eventUiBases: props.eventUiBases,\r\n            eventSelection: props.eventSelection,\r\n            eventDrag: props.eventDrag,\r\n            eventResize: props.eventResize,\r\n            isRigid: this.hasRigidRows(),\r\n            nextDayThreshold: this.nextDayThreshold\r\n        });\r\n    };\r\n    return DayGridView;\r\n}(DayGridView));\r\nfunction buildDayTable(dateProfile, dateProfileGenerator) {\r\n    var daySeries = new DaySeries(dateProfile.renderRange, dateProfileGenerator);\r\n    return new DayTable(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\r\n}\r\n\r\nvar main = createPlugin({\r\n    defaultView: 'dayGridMonth',\r\n    views: {\r\n        dayGrid: DayGridView$1,\r\n        dayGridDay: {\r\n            type: 'dayGrid',\r\n            duration: { days: 1 }\r\n        },\r\n        dayGridWeek: {\r\n            type: 'dayGrid',\r\n            duration: { weeks: 1 }\r\n        },\r\n        dayGridMonth: {\r\n            type: 'dayGrid',\r\n            duration: { months: 1 },\r\n            monthMode: true,\r\n            fixedWeekCount: true\r\n        }\r\n    }\r\n});\r\n\r\nexport default main;\r\nexport { DayGridView as AbstractDayGridView, DayBgRow, DayGrid, DayGridSlicer, DayGridView$1 as DayGridView, SimpleDayGrid, buildDayTable as buildBasicDayTable };\r\n"]},"metadata":{},"sourceType":"module"}