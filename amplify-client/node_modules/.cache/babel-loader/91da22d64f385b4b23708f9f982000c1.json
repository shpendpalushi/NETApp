{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"!raw-loader!./picture-upload.component.html\";\nimport __NG_CLI_RESOURCE__1 from \"./picture-upload.component.css\";\nimport { Component, Input, ViewChild, ElementRef } from \"@angular/core\";\n\nvar PictureUploadComponent =\n/** @class */\nfunction () {\n  function PictureUploadComponent() {\n    this.avatar = false;\n    this.file = {};\n    this.imagePreviewUrl = {};\n    this.handleImageChange = this.handleImageChange.bind(this);\n  }\n\n  PictureUploadComponent.prototype.ngOnInit = function () {\n    this.file = null;\n    this.imagePreviewUrl = this.image !== undefined ? this.image : this.avatar ? \"assets/img/placeholder.jpg\" : \"assets/img/image_placeholder.jpg\";\n  };\n\n  PictureUploadComponent.prototype.handleImageChange = function ($event) {\n    var _this = this;\n\n    $event.preventDefault();\n    var reader = new FileReader();\n    var file = $event.target.files[0];\n\n    reader.onloadend = function () {\n      _this.file = file;\n      _this.imagePreviewUrl = reader.result; // this.state.imagePreviewUrl1 = reader.result;\n    };\n\n    reader.readAsDataURL(file);\n  };\n\n  PictureUploadComponent.prototype.handleClick = function () {\n    console.log(this.fileInput.nativeElement);\n    this.fileInput.nativeElement.click();\n  };\n\n  PictureUploadComponent.prototype.handleRemove = function () {\n    this.file = null;\n    this.imagePreviewUrl = this.image !== undefined ? this.image : this.avatar ? \"assets/img/placeholder.jpg\" : \"assets/img/image_placeholder.jpg\";\n    this.fileInput.nativeElement.value = null;\n  };\n\n  PictureUploadComponent.prototype.handleSubmit = function ($event) {\n    $event.preventDefault(); // this.state.file is the file/image uploaded\n    // in this function you can save the image (this.state.file) on form submit\n    // you have to call it yourself\n  };\n\n  PictureUploadComponent.ctorParameters = function () {\n    return [];\n  };\n\n  PictureUploadComponent.propDecorators = {\n    avatar: [{\n      type: Input\n    }],\n    image: [{\n      type: Input\n    }],\n    fileInput: [{\n      type: ViewChild,\n      args: [\"fileInput\"]\n    }]\n  };\n  PictureUploadComponent = __decorate([Component({\n    selector: \"app-picture-upload\",\n    template: __NG_CLI_RESOURCE__0,\n    styles: [__NG_CLI_RESOURCE__1]\n  }), __metadata(\"design:paramtypes\", [])], PictureUploadComponent);\n  return PictureUploadComponent;\n}();\n\nexport { PictureUploadComponent };","map":{"version":3,"sources":["C:\\Users\\User\\Documents\\Personals\\Creation\\NETApp\\amplify-client\\src\\app\\components\\picture-upload\\picture-upload.component.ts"],"names":[],"mappings":";;;AAAA,SAAS,SAAT,EAA4B,KAA5B,EAAmC,SAAnC,EAA8C,UAA9C,QAAgE,eAAhE;;;;;AAaE,WAAA,sBAAA,GAAA;AALS,SAAA,MAAA,GAAkB,KAAlB;AAET,SAAA,IAAA,GAAY,EAAZ;AACA,SAAA,eAAA,GAAuB,EAAvB;AAGE,SAAK,iBAAL,GAAyB,KAAK,iBAAL,CAAuB,IAAvB,CAA4B,IAA5B,CAAzB;AACD;;AAED,EAAA,sBAAA,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA;AACE,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,eAAL,GACE,KAAK,KAAL,KAAe,SAAf,GACI,KAAK,KADT,GAEI,KAAK,MAAL,GACA,4BADA,GAEA,kCALN;AAMD,GARD;;AASA,EAAA,sBAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,UAAkB,MAAlB,EAAwB;AAAxB,QAAA,KAAA,GAAA,IAAA;;AACE,IAAA,MAAM,CAAC,cAAP;AACA,QAAI,MAAM,GAAG,IAAI,UAAJ,EAAb;AACA,QAAI,IAAI,GAAG,MAAM,CAAC,MAAP,CAAc,KAAd,CAAoB,CAApB,CAAX;;AACA,IAAA,MAAM,CAAC,SAAP,GAAmB,YAAA;AACjB,MAAA,KAAI,CAAC,IAAL,GAAY,IAAZ;AACA,MAAA,KAAI,CAAC,eAAL,GAAuB,MAAM,CAAC,MAA9B,CAFiB,CAGjB;AACD,KAJD;;AAKA,IAAA,MAAM,CAAC,aAAP,CAAqB,IAArB;AACD,GAVD;;AAWA,EAAA,sBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,YAAA;AACE,IAAA,OAAO,CAAC,GAAR,CAAY,KAAK,SAAL,CAAe,aAA3B;AACA,SAAK,SAAL,CAAe,aAAf,CAA6B,KAA7B;AACD,GAHD;;AAIA,EAAA,sBAAA,CAAA,SAAA,CAAA,YAAA,GAAA,YAAA;AACE,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,eAAL,GACE,KAAK,KAAL,KAAe,SAAf,GACI,KAAK,KADT,GAEI,KAAK,MAAL,GACA,4BADA,GAEA,kCALN;AAMA,SAAK,SAAL,CAAe,aAAf,CAA6B,KAA7B,GAAqC,IAArC;AACD,GATD;;AAUA,EAAA,sBAAA,CAAA,SAAA,CAAA,YAAA,GAAA,UAAa,MAAb,EAAmB;AACjB,IAAA,MAAM,CAAC,cAAP,GADiB,CAEjB;AACA;AACA;AACD,GALD;;;;;;;;YA3CC;;;YACA;;;YAGA,S;AAAS,MAAA,IAAA,EAAA,CAAC,WAAD;;;AALC,EAAA,sBAAsB,GAAA,UAAA,CAAA,CALlC,SAAS,CAAC;AACT,IAAA,QAAQ,EAAE,oBADD;AAET,IAAA,QAAA,EAAA,oBAFS;;AAAA,GAAD,CAKyB,E,mCAAA,CAAA,EAAtB,sBAAsB,CAAtB;AAkDb,SAAA,sBAAA;AAAC,C;;SAlDY,sB","sourcesContent":["import { Component, OnInit, Input, ViewChild, ElementRef } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-picture-upload\",\r\n  templateUrl: \"./picture-upload.component.html\",\r\n  styleUrls: [\"./picture-upload.component.css\"]\r\n})\r\nexport class PictureUploadComponent implements OnInit {\r\n  @Input() avatar: boolean = false;\r\n  @Input() image: string;\r\n  file: any = {};\r\n  imagePreviewUrl: any = {};\r\n  @ViewChild(\"fileInput\") fileInput: ElementRef;\r\n  constructor() {\r\n    this.handleImageChange = this.handleImageChange.bind(this);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.file = null;\r\n    this.imagePreviewUrl =\r\n      this.image !== undefined\r\n        ? this.image\r\n        : this.avatar\r\n        ? \"assets/img/placeholder.jpg\"\r\n        : \"assets/img/image_placeholder.jpg\";\r\n  }\r\n  handleImageChange($event) {\r\n    $event.preventDefault();\r\n    let reader = new FileReader();\r\n    let file = $event.target.files[0];\r\n    reader.onloadend = () => {\r\n      this.file = file;\r\n      this.imagePreviewUrl = reader.result;\r\n      // this.state.imagePreviewUrl1 = reader.result;\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n  handleClick() {\r\n    console.log(this.fileInput.nativeElement);\r\n    this.fileInput.nativeElement.click();\r\n  }\r\n  handleRemove() {\r\n    this.file = null;\r\n    this.imagePreviewUrl =\r\n      this.image !== undefined\r\n        ? this.image\r\n        : this.avatar\r\n        ? \"assets/img/placeholder.jpg\"\r\n        : \"assets/img/image_placeholder.jpg\";\r\n    this.fileInput.nativeElement.value = null;\r\n  }\r\n  handleSubmit($event) {\r\n    $event.preventDefault();\r\n    // this.state.file is the file/image uploaded\r\n    // in this function you can save the image (this.state.file) on form submit\r\n    // you have to call it yourself\r\n  }\r\n}\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}