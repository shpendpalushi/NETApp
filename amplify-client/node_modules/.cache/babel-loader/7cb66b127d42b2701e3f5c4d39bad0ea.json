{"ast":null,"code":"/**\r\n * DevExtreme (localization/number.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _dependency_injector = require(\"../core/utils/dependency_injector\");\n\nvar _dependency_injector2 = _interopRequireDefault(_dependency_injector);\n\nvar _array = require(\"../core/utils/array\");\n\nvar _common = require(\"../core/utils/common\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _type = require(\"../core/utils/type\");\n\nvar _number = require(\"./ldml/number\");\n\nvar _number2 = _interopRequireDefault(_number);\n\nvar _config = require(\"../core/config\");\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _errors = require(\"../core/errors\");\n\nvar _errors2 = _interopRequireDefault(_errors);\n\nvar _utils = require(\"./utils\");\n\nvar _currency = require(\"./currency\");\n\nvar _currency2 = _interopRequireDefault(_currency);\n\nvar _number3 = require(\"./intl/number\");\n\nvar _number4 = _interopRequireDefault(_number3);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || \"[object Arguments]\" === Object.prototype.toString.call(arr))) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _e = void 0;\n\n  try {\n    for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) {\n        break;\n      }\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && null != _i.return) {\n        _i.return();\n      }\n    } finally {\n      if (_d) {\n        throw _e;\n      }\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) {\n    return arr;\n  }\n}\n\nvar hasIntl = \"undefined\" !== typeof Intl;\nvar MAX_LARGE_NUMBER_POWER = 4;\nvar DECIMAL_BASE = 10;\nvar NUMERIC_FORMATS = [\"currency\", \"fixedpoint\", \"exponential\", \"percent\", \"decimal\"];\nvar LargeNumberFormatPostfixes = {\n  1: \"K\",\n  2: \"M\",\n  3: \"B\",\n  4: \"T\"\n};\nvar LargeNumberFormatPowers = {\n  largenumber: \"auto\",\n  thousands: 1,\n  millions: 2,\n  billions: 3,\n  trillions: 4\n};\nvar numberLocalization = (0, _dependency_injector2.default)({\n  engine: function engine() {\n    return \"base\";\n  },\n  numericFormats: NUMERIC_FORMATS,\n  defaultLargeNumberFormatPostfixes: LargeNumberFormatPostfixes,\n  _parseNumberFormatString: function _parseNumberFormatString(formatType) {\n    var formatList;\n    var formatObject = {};\n\n    if (!formatType || \"string\" !== typeof formatType) {\n      return;\n    }\n\n    formatList = formatType.toLowerCase().split(\" \");\n    (0, _iterator.each)(formatList, function (index, value) {\n      if ((0, _array.inArray)(value, NUMERIC_FORMATS) > -1) {\n        formatObject.formatType = value;\n      } else {\n        if (value in LargeNumberFormatPowers) {\n          formatObject.power = LargeNumberFormatPowers[value];\n        }\n      }\n    });\n\n    if (formatObject.power && !formatObject.formatType) {\n      formatObject.formatType = \"fixedpoint\";\n    }\n\n    if (formatObject.formatType) {\n      return formatObject;\n    }\n  },\n  _calculateNumberPower: function _calculateNumberPower(value, base, minPower, maxPower) {\n    var number = Math.abs(value);\n    var power = 0;\n\n    if (number > 1) {\n      while (number && number >= base && (void 0 === maxPower || power < maxPower)) {\n        power++;\n        number /= base;\n      }\n    } else {\n      if (number > 0 && number < 1) {\n        while (number < 1 && (void 0 === minPower || power > minPower)) {\n          power--;\n          number *= base;\n        }\n      }\n    }\n\n    return power;\n  },\n  _getNumberByPower: function _getNumberByPower(number, power, base) {\n    var result = number;\n\n    while (power > 0) {\n      result /= base;\n      power--;\n    }\n\n    while (power < 0) {\n      result *= base;\n      power++;\n    }\n\n    return result;\n  },\n  _formatNumber: function _formatNumber(value, formatObject, formatConfig) {\n    var powerPostfix;\n    var result;\n\n    if (\"auto\" === formatObject.power) {\n      formatObject.power = this._calculateNumberPower(value, 1e3, 0, MAX_LARGE_NUMBER_POWER);\n    }\n\n    if (formatObject.power) {\n      value = this._getNumberByPower(value, formatObject.power, 1e3);\n    }\n\n    powerPostfix = this.defaultLargeNumberFormatPostfixes[formatObject.power] || \"\";\n    result = this._formatNumberCore(value, formatObject.formatType, formatConfig);\n    result = result.replace(/(\\d|.$)(\\D*)$/, \"$1\" + powerPostfix + \"$2\");\n    return result;\n  },\n  _formatNumberExponential: function _formatNumberExponential(value, formatConfig) {\n    var power = this._calculateNumberPower(value, DECIMAL_BASE);\n\n    var number = this._getNumberByPower(value, power, DECIMAL_BASE);\n\n    var powString;\n\n    if (void 0 === formatConfig.precision) {\n      formatConfig.precision = 1;\n    }\n\n    if (number.toFixed(formatConfig.precision || 0) >= DECIMAL_BASE) {\n      power++;\n      number /= DECIMAL_BASE;\n    }\n\n    powString = (power >= 0 ? \"+\" : \"\") + power.toString();\n    return this._formatNumberCore(number, \"fixedpoint\", formatConfig) + \"E\" + powString;\n  },\n  _addZeroes: function _addZeroes(value, precision) {\n    var multiplier = Math.pow(10, precision);\n    var sign = value < 0 ? \"-\" : \"\";\n    value = (Math.abs(value) * multiplier >>> 0) / multiplier;\n    var result = value.toString();\n\n    while (result.length < precision) {\n      result = \"0\" + result;\n    }\n\n    return sign + result;\n  },\n  _addGroupSeparators: function _addGroupSeparators(value) {\n    var parts = value.toString().split(\".\");\n    return parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, (0, _config2.default)().thousandsSeparator) + (parts[1] ? (0, _config2.default)().decimalSeparator + parts[1] : \"\");\n  },\n  _formatNumberCore: function _formatNumberCore(value, format, formatConfig) {\n    if (\"exponential\" === format) {\n      return this._formatNumberExponential(value, formatConfig);\n    }\n\n    if (\"decimal\" !== format && null !== formatConfig.precision) {\n      formatConfig.precision = formatConfig.precision || 0;\n    }\n\n    if (\"percent\" === format) {\n      value = 100 * value;\n    }\n\n    if (void 0 !== formatConfig.precision) {\n      if (\"decimal\" === format) {\n        value = this._addZeroes(value, formatConfig.precision);\n      } else {\n        value = null === formatConfig.precision ? value.toPrecision() : (0, _utils.toFixed)(value, formatConfig.precision);\n      }\n    }\n\n    if (\"decimal\" !== format) {\n      value = this._addGroupSeparators(value);\n    } else {\n      value = value.toString().replace(\".\", (0, _config2.default)().decimalSeparator);\n    }\n\n    if (\"percent\" === format) {\n      value += \"%\";\n    }\n\n    return value;\n  },\n  _normalizeFormat: function _normalizeFormat(format) {\n    if (!format) {\n      return {};\n    }\n\n    if (\"function\" === typeof format) {\n      return format;\n    }\n\n    if (!(0, _type.isPlainObject)(format)) {\n      format = {\n        type: format\n      };\n    }\n\n    return format;\n  },\n  _getSeparators: function _getSeparators() {\n    return {\n      decimalSeparator: this.getDecimalSeparator(),\n      thousandsSeparator: this.getThousandsSeparator()\n    };\n  },\n  getThousandsSeparator: function getThousandsSeparator() {\n    return this.format(1e4, \"fixedPoint\")[2];\n  },\n  getDecimalSeparator: function getDecimalSeparator() {\n    return this.format(1.2, {\n      type: \"fixedPoint\",\n      precision: 1\n    })[1];\n  },\n  convertDigits: function convertDigits(value, toStandard) {\n    var digits = this.format(90, \"decimal\");\n\n    if (\"string\" !== typeof value || \"0\" === digits[1]) {\n      return value;\n    }\n\n    var fromFirstDigit = toStandard ? digits[1] : \"0\";\n    var toFirstDigit = toStandard ? \"0\" : digits[1];\n    var fromLastDigit = toStandard ? digits[0] : \"9\";\n    var regExp = new RegExp(\"[\" + fromFirstDigit + \"-\" + fromLastDigit + \"]\", \"g\");\n    return value.replace(regExp, function (char) {\n      return String.fromCharCode(char.charCodeAt(0) + (toFirstDigit.charCodeAt(0) - fromFirstDigit.charCodeAt(0)));\n    });\n  },\n  getSign: function getSign(text, format) {\n    if (\"-\" === text.replace(/[^0-9-]/g, \"\").charAt(0)) {\n      return -1;\n    }\n\n    if (!format) {\n      return 1;\n    }\n\n    var separators = this._getSeparators();\n\n    var regExp = new RegExp(\"[0-9\" + (0, _common.escapeRegExp)(separators.decimalSeparator + separators.thousandsSeparator) + \"]+\", \"g\");\n    var negativeEtalon = this.format(-1, format).replace(regExp, \"1\");\n    var cleanedText = text.replace(regExp, \"1\");\n    return cleanedText === negativeEtalon ? -1 : 1;\n  },\n  format: function format(value, _format) {\n    if (\"number\" !== typeof value) {\n      return value;\n    }\n\n    if (\"number\" === typeof _format) {\n      return value;\n    }\n\n    _format = _format && _format.formatter || _format;\n\n    if (\"function\" === typeof _format) {\n      return _format(value);\n    }\n\n    _format = this._normalizeFormat(_format);\n\n    if (!_format.type) {\n      _format.type = \"decimal\";\n    }\n\n    var numberConfig = this._parseNumberFormatString(_format.type);\n\n    if (!numberConfig) {\n      return this.convertDigits(_number2.default.getFormatter(_format.type, this._getSeparators())(value));\n    }\n\n    return this._formatNumber(value, numberConfig, _format);\n  },\n  parse: function parse(text, format) {\n    if (!text) {\n      return;\n    }\n\n    if (format && format.parser) {\n      return format.parser(text);\n    }\n\n    text = this.convertDigits(text, true);\n\n    if (format && \"string\" !== typeof format) {\n      _errors2.default.log(\"W0011\");\n    }\n\n    var decimalSeparator = this.getDecimalSeparator();\n    var regExp = new RegExp(\"[^0-9\" + (0, _common.escapeRegExp)(decimalSeparator) + \"]\", \"g\");\n    var cleanedText = text.replace(regExp, \"\").replace(decimalSeparator, \".\").replace(/\\.$/g, \"\");\n\n    if (\".\" === cleanedText || \"\" === cleanedText) {\n      return null;\n    }\n\n    if (this._calcSignificantDigits(cleanedText) > 15) {\n      return NaN;\n    }\n\n    var parsed = +cleanedText;\n    return parsed * this.getSign(text, format);\n  },\n  _calcSignificantDigits: function _calcSignificantDigits(text) {\n    var _text$split = text.split(\".\"),\n        _text$split2 = _slicedToArray(_text$split, 2),\n        integer = _text$split2[0],\n        fractional = _text$split2[1];\n\n    var calcDigitsAfterLeadingZeros = function calcDigitsAfterLeadingZeros(digits) {\n      var index = -1;\n\n      for (var i = 0; i < digits.length; i++) {\n        if (\"0\" !== digits[i]) {\n          index = i;\n          break;\n        }\n      }\n\n      return index > -1 ? digits.length - index : 0;\n    };\n\n    var result = 0;\n\n    if (integer) {\n      result += calcDigitsAfterLeadingZeros(integer.split(\"\"));\n    }\n\n    if (fractional) {\n      result += calcDigitsAfterLeadingZeros(fractional.split(\"\").reverse());\n    }\n\n    return result;\n  }\n});\nnumberLocalization.inject(_currency2.default);\n\nif (hasIntl) {\n  numberLocalization.inject(_number4.default);\n}\n\nmodule.exports = numberLocalization;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/localization/number.js"],"names":["_dependency_injector","require","_dependency_injector2","_interopRequireDefault","_array","_common","_iterator","_type","_number","_number2","_config","_config2","_errors","_errors2","_utils","_currency","_currency2","_number3","_number4","obj","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Symbol","Object","_arr","_n","_d","_e","_i","arr","_s","i","Array","hasIntl","MAX_LARGE_NUMBER_POWER","DECIMAL_BASE","NUMERIC_FORMATS","LargeNumberFormatPostfixes","LargeNumberFormatPowers","largenumber","thousands","millions","billions","trillions","numberLocalization","engine","numericFormats","defaultLargeNumberFormatPostfixes","_parseNumberFormatString","formatObject","formatList","formatType","value","_calculateNumberPower","number","Math","power","_getNumberByPower","result","_formatNumber","powerPostfix","_formatNumberExponential","formatConfig","powString","_addZeroes","multiplier","sign","_addGroupSeparators","parts","_formatNumberCore","_normalizeFormat","format","type","_getSeparators","decimalSeparator","thousandsSeparator","getThousandsSeparator","getDecimalSeparator","precision","convertDigits","digits","fromFirstDigit","toStandard","toFirstDigit","fromLastDigit","regExp","String","char","getSign","text","separators","negativeEtalon","cleanedText","_format","numberConfig","parse","parsed","_calcSignificantDigits","_text$split","_text$split2","_slicedToArray","integer","fractional","calcDigitsAfterLeadingZeros","index","module"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,oBAAoB,GAAGC,OAAO,CAAlC,mCAAkC,CAAlC;;AACA,IAAIC,qBAAqB,GAAGC,sBAAsB,CAAlD,oBAAkD,CAAlD;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAApB,qBAAoB,CAApB;;AACA,IAAII,OAAO,GAAGJ,OAAO,CAArB,sBAAqB,CAArB;;AACA,IAAIK,SAAS,GAAGL,OAAO,CAAvB,wBAAuB,CAAvB;;AACA,IAAIM,KAAK,GAAGN,OAAO,CAAnB,oBAAmB,CAAnB;;AACA,IAAIO,OAAO,GAAGP,OAAO,CAArB,eAAqB,CAArB;;AACA,IAAIQ,QAAQ,GAAGN,sBAAsB,CAArC,OAAqC,CAArC;;AACA,IAAIO,OAAO,GAAGT,OAAO,CAArB,gBAAqB,CAArB;;AACA,IAAIU,QAAQ,GAAGR,sBAAsB,CAArC,OAAqC,CAArC;;AACA,IAAIS,OAAO,GAAGX,OAAO,CAArB,gBAAqB,CAArB;;AACA,IAAIY,QAAQ,GAAGV,sBAAsB,CAArC,OAAqC,CAArC;;AACA,IAAIW,MAAM,GAAGb,OAAO,CAApB,SAAoB,CAApB;;AACA,IAAIc,SAAS,GAAGd,OAAO,CAAvB,YAAuB,CAAvB;;AACA,IAAIe,UAAU,GAAGb,sBAAsB,CAAvC,SAAuC,CAAvC;;AACA,IAAIc,QAAQ,GAAGhB,OAAO,CAAtB,eAAsB,CAAtB;;AACA,IAAIiB,QAAQ,GAAGf,sBAAsB,CAArC,QAAqC,CAArC;;AAEA,SAAA,sBAAA,CAAA,GAAA,EAAqC;AACjC,SAAOgB,GAAG,IAAIA,GAAG,CAAVA,UAAAA,GAAAA,GAAAA,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AAED,SAAA,cAAA,CAAA,GAAA,EAAA,CAAA,EAAgC;AAC5B,SAAOC,eAAe,CAAfA,GAAe,CAAfA,IAAwBC,qBAAqB,CAAA,GAAA,EAA7CD,CAA6C,CAA7CA,IAAyDE,gBAAhE,EAAA;AACH;;AAED,SAAA,gBAAA,GAA4B;AACxB,QAAM,IAAA,SAAA,CAAN,sDAAM,CAAN;AACH;;AAED,SAAA,qBAAA,CAAA,GAAA,EAAA,CAAA,EAAuC;AACnC,MAAI,EAAEC,MAAM,CAANA,QAAAA,IAAmBC,MAAM,CAAzBD,GAAyB,CAAzBA,IAAkC,yBAAyBC,MAAM,CAANA,SAAAA,CAAAA,QAAAA,CAAAA,IAAAA,CAAjE,GAAiEA,CAA7D,CAAJ,EAAuG;AACnG;AACH;;AACD,MAAIC,IAAI,GAAR,EAAA;AACA,MAAIC,EAAE,GAAN,IAAA;AACA,MAAIC,EAAE,GAAN,KAAA;;AACA,MAAIC,EAAE,GAAG,KAAT,CAAA;;AACA,MAAI;AACA,SAAK,IAAA,EAAA,EAAQC,EAAE,GAAGC,GAAG,CAACP,MAAM,CAA5B,QAAqB,CAAHO,EAAlB,EAA0C,EAAEJ,EAAE,GAAG,CAACK,EAAE,GAAGF,EAAE,CAAR,IAAMA,EAAN,EAAjD,IAA0C,CAA1C,EAAyEH,EAAE,GAA3E,IAAA,EAAoF;AAChFD,MAAAA,IAAI,CAAJA,IAAAA,CAAUM,EAAE,CAAZN,KAAAA;;AACA,UAAIO,CAAC,IAAIP,IAAI,CAAJA,MAAAA,KAAT,CAAA,EAA4B;AACxB;AACH;AACJ;AANL,GAAA,CAOE,OAAA,GAAA,EAAY;AACVE,IAAAA,EAAE,GAAFA,IAAAA;AACAC,IAAAA,EAAE,GAAFA,GAAAA;AATJ,GAAA,SAUU;AACN,QAAI;AACA,UAAI,CAAA,EAAA,IAAO,QAAQC,EAAE,CAArB,MAAA,EAA8B;AAC1BA,QAAAA,EAAE,CAAFA,MAAAA;AACH;AAHL,KAAA,SAIU;AACN,UAAA,EAAA,EAAQ;AACJ,cAAA,EAAA;AACH;AACJ;AACJ;;AACD,SAAA,IAAA;AACH;;AAED,SAAA,eAAA,CAAA,GAAA,EAA8B;AAC1B,MAAII,KAAK,CAALA,OAAAA,CAAJ,GAAIA,CAAJ,EAAwB;AACpB,WAAA,GAAA;AACH;AACJ;;AACD,IAAIC,OAAO,GAAG,gBAAgB,OAA9B,IAAA;AACA,IAAIC,sBAAsB,GAA1B,CAAA;AACA,IAAIC,YAAY,GAAhB,EAAA;AACA,IAAIC,eAAe,GAAG,CAAA,UAAA,EAAA,YAAA,EAAA,aAAA,EAAA,SAAA,EAAtB,SAAsB,CAAtB;AACA,IAAIC,0BAA0B,GAAG;AAC7B,KAD6B,GAAA;AAE7B,KAF6B,GAAA;AAG7B,KAH6B,GAAA;AAI7B,KAAG;AAJ0B,CAAjC;AAMA,IAAIC,uBAAuB,GAAG;AAC1BC,EAAAA,WAAW,EADe,MAAA;AAE1BC,EAAAA,SAAS,EAFiB,CAAA;AAG1BC,EAAAA,QAAQ,EAHkB,CAAA;AAI1BC,EAAAA,QAAQ,EAJkB,CAAA;AAK1BC,EAAAA,SAAS,EAAE;AALe,CAA9B;AAOA,IAAIC,kBAAkB,GAAG,CAAC,GAAG3C,qBAAqB,CAAzB,OAAA,EAAmC;AACxD4C,EAAAA,MAAM,EAAE,SAAA,MAAA,GAAW;AACf,WAAA,MAAA;AAFoD,GAAA;AAIxDC,EAAAA,cAAc,EAJ0C,eAAA;AAKxDC,EAAAA,iCAAiC,EALuB,0BAAA;AAMxDC,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,CAAA,UAAA,EAAqB;AAC3C,QAAA,UAAA;AACA,QAAIC,YAAY,GAAhB,EAAA;;AACA,QAAI,CAAA,UAAA,IAAe,aAAa,OAAhC,UAAA,EAAmD;AAC/C;AACH;;AACDC,IAAAA,UAAU,GAAGC,UAAU,CAAVA,WAAAA,GAAAA,KAAAA,CAAbD,GAAaC,CAAbD;AACA,KAAC,GAAG7C,SAAS,CAAb,IAAA,EAAA,UAAA,EAAgC,UAAA,KAAA,EAAA,KAAA,EAAuB;AACnD,UAAI,CAAC,GAAGF,MAAM,CAAV,OAAA,EAAA,KAAA,EAAA,eAAA,IAA8C,CAAlD,CAAA,EAAsD;AAClD8C,QAAAA,YAAY,CAAZA,UAAAA,GAAAA,KAAAA;AADJ,OAAA,MAEO;AACH,YAAIG,KAAK,IAAT,uBAAA,EAAsC;AAClCH,UAAAA,YAAY,CAAZA,KAAAA,GAAqBX,uBAAuB,CAA5CW,KAA4C,CAA5CA;AACH;AACJ;AAPL,KAAA;;AASA,QAAIA,YAAY,CAAZA,KAAAA,IAAsB,CAACA,YAAY,CAAvC,UAAA,EAAoD;AAChDA,MAAAA,YAAY,CAAZA,UAAAA,GAAAA,YAAAA;AACH;;AACD,QAAIA,YAAY,CAAhB,UAAA,EAA6B;AACzB,aAAA,YAAA;AACH;AA3BmD,GAAA;AA6BxDI,EAAAA,qBAAqB,EAAE,SAAA,qBAAA,CAAA,KAAA,EAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAA0C;AAC7D,QAAIC,MAAM,GAAGC,IAAI,CAAJA,GAAAA,CAAb,KAAaA,CAAb;AACA,QAAIC,KAAK,GAAT,CAAA;;AACA,QAAIF,MAAM,GAAV,CAAA,EAAgB;AACZ,aAAOA,MAAM,IAAIA,MAAM,IAAhBA,IAAAA,KAA6B,KAAA,CAAA,KAAA,QAAA,IAAuBE,KAAK,GAAhE,QAAOF,CAAP,EAA8E;AAC1EE,QAAAA,KAAK;AACLF,QAAAA,MAAM,IAANA,IAAAA;AACH;AAJL,KAAA,MAKO;AACH,UAAIA,MAAM,GAANA,CAAAA,IAAcA,MAAM,GAAxB,CAAA,EAA8B;AAC1B,eAAOA,MAAM,GAANA,CAAAA,KAAe,KAAA,CAAA,KAAA,QAAA,IAAuBE,KAAK,GAAlD,QAAOF,CAAP,EAAgE;AAC5DE,UAAAA,KAAK;AACLF,UAAAA,MAAM,IAANA,IAAAA;AACH;AACJ;AACJ;;AACD,WAAA,KAAA;AA7CoD,GAAA;AA+CxDG,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,CAAA,MAAA,EAAA,KAAA,EAAA,IAAA,EAA8B;AAC7C,QAAIC,MAAM,GAAV,MAAA;;AACA,WAAOF,KAAK,GAAZ,CAAA,EAAkB;AACdE,MAAAA,MAAM,IAANA,IAAAA;AACAF,MAAAA,KAAK;AACR;;AACD,WAAOA,KAAK,GAAZ,CAAA,EAAkB;AACdE,MAAAA,MAAM,IAANA,IAAAA;AACAF,MAAAA,KAAK;AACR;;AACD,WAAA,MAAA;AAzDoD,GAAA;AA2DxDG,EAAAA,aAAa,EAAE,SAAA,aAAA,CAAA,KAAA,EAAA,YAAA,EAAA,YAAA,EAA4C;AACvD,QAAA,YAAA;AACA,QAAA,MAAA;;AACA,QAAI,WAAWV,YAAY,CAA3B,KAAA,EAAmC;AAC/BA,MAAAA,YAAY,CAAZA,KAAAA,GAAqB,KAAA,qBAAA,CAAA,KAAA,EAAA,GAAA,EAAA,CAAA,EAArBA,sBAAqB,CAArBA;AACH;;AACD,QAAIA,YAAY,CAAhB,KAAA,EAAwB;AACpBG,MAAAA,KAAK,GAAG,KAAA,iBAAA,CAAA,KAAA,EAA8BH,YAAY,CAA1C,KAAA,EAARG,GAAQ,CAARA;AACH;;AACDQ,IAAAA,YAAY,GAAG,KAAA,iCAAA,CAAuCX,YAAY,CAAnD,KAAA,KAAfW,EAAAA;AACAF,IAAAA,MAAM,GAAG,KAAA,iBAAA,CAAA,KAAA,EAA8BT,YAAY,CAA1C,UAAA,EAATS,YAAS,CAATA;AACAA,IAAAA,MAAM,GAAGA,MAAM,CAANA,OAAAA,CAAAA,eAAAA,EAAgC,OAAA,YAAA,GAAzCA,IAASA,CAATA;AACA,WAAA,MAAA;AAvEoD,GAAA;AAyExDG,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,CAAA,KAAA,EAAA,YAAA,EAA8B;AACpD,QAAIL,KAAK,GAAG,KAAA,qBAAA,CAAA,KAAA,EAAZ,YAAY,CAAZ;;AACA,QAAIF,MAAM,GAAG,KAAA,iBAAA,CAAA,KAAA,EAAA,KAAA,EAAb,YAAa,CAAb;;AACA,QAAA,SAAA;;AACA,QAAI,KAAA,CAAA,KAAWQ,YAAY,CAA3B,SAAA,EAAuC;AACnCA,MAAAA,YAAY,CAAZA,SAAAA,GAAAA,CAAAA;AACH;;AACD,QAAIR,MAAM,CAANA,OAAAA,CAAeQ,YAAY,CAAZA,SAAAA,IAAfR,CAAAA,KAAJ,YAAA,EAAiE;AAC7DE,MAAAA,KAAK;AACLF,MAAAA,MAAM,IAANA,YAAAA;AACH;;AACDS,IAAAA,SAAS,GAAG,CAACP,KAAK,IAALA,CAAAA,GAAAA,GAAAA,GAAD,EAAA,IAA0BA,KAAK,CAA3CO,QAAsCP,EAAtCO;AACA,WAAO,KAAA,iBAAA,CAAA,MAAA,EAAA,YAAA,EAAA,YAAA,IAAA,GAAA,GAAP,SAAA;AArFoD,GAAA;AAuFxDC,EAAAA,UAAU,EAAE,SAAA,UAAA,CAAA,KAAA,EAAA,SAAA,EAA2B;AACnC,QAAIC,UAAU,GAAGV,IAAI,CAAJA,GAAAA,CAAAA,EAAAA,EAAjB,SAAiBA,CAAjB;AACA,QAAIW,IAAI,GAAGd,KAAK,GAALA,CAAAA,GAAAA,GAAAA,GAAX,EAAA;AACAA,IAAAA,KAAK,GAAG,CAACG,IAAI,CAAJA,GAAAA,CAAAA,KAAAA,IAAAA,UAAAA,KAAD,CAAA,IAARH,UAAAA;AACA,QAAIM,MAAM,GAAGN,KAAK,CAAlB,QAAaA,EAAb;;AACA,WAAOM,MAAM,CAANA,MAAAA,GAAP,SAAA,EAAkC;AAC9BA,MAAAA,MAAM,GAAG,MAATA,MAAAA;AACH;;AACD,WAAOQ,IAAI,GAAX,MAAA;AA/FoD,GAAA;AAiGxDC,EAAAA,mBAAmB,EAAE,SAAA,mBAAA,CAAA,KAAA,EAAgB;AACjC,QAAIC,KAAK,GAAGhB,KAAK,CAALA,QAAAA,GAAAA,KAAAA,CAAZ,GAAYA,CAAZ;AACA,WAAOgB,KAAK,CAALA,CAAK,CAALA,CAAAA,OAAAA,CAAAA,uBAAAA,EAA0C,CAAC,GAAG1D,QAAQ,CAAZ,OAAA,IAA1C0D,kBAAAA,KAAyFA,KAAK,CAALA,CAAK,CAALA,GAAW,CAAC,GAAG1D,QAAQ,CAAZ,OAAA,IAAA,gBAAA,GAA2C0D,KAAK,CAA3DA,CAA2D,CAA3DA,GAAhG,EAAOA,CAAP;AAnGoD,GAAA;AAqGxDC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,CAAA,KAAA,EAAA,MAAA,EAAA,YAAA,EAAsC;AACrD,QAAI,kBAAJ,MAAA,EAA8B;AAC1B,aAAO,KAAA,wBAAA,CAAA,KAAA,EAAP,YAAO,CAAP;AACH;;AACD,QAAI,cAAA,MAAA,IAAwB,SAASP,YAAY,CAAjD,SAAA,EAA6D;AACzDA,MAAAA,YAAY,CAAZA,SAAAA,GAAyBA,YAAY,CAAZA,SAAAA,IAAzBA,CAAAA;AACH;;AACD,QAAI,cAAJ,MAAA,EAA0B;AACtBV,MAAAA,KAAK,GAAG,MAARA,KAAAA;AACH;;AACD,QAAI,KAAA,CAAA,KAAWU,YAAY,CAA3B,SAAA,EAAuC;AACnC,UAAI,cAAJ,MAAA,EAA0B;AACtBV,QAAAA,KAAK,GAAG,KAAA,UAAA,CAAA,KAAA,EAAuBU,YAAY,CAA3CV,SAAQ,CAARA;AADJ,OAAA,MAEO;AACHA,QAAAA,KAAK,GAAG,SAASU,YAAY,CAArB,SAAA,GAAkCV,KAAK,CAAvC,WAAkCA,EAAlC,GAAwD,CAAC,GAAGvC,MAAM,CAAV,OAAA,EAAA,KAAA,EAA2BiD,YAAY,CAAvGV,SAAgE,CAAhEA;AACH;AACJ;;AACD,QAAI,cAAJ,MAAA,EAA0B;AACtBA,MAAAA,KAAK,GAAG,KAAA,mBAAA,CAARA,KAAQ,CAARA;AADJ,KAAA,MAEO;AACHA,MAAAA,KAAK,GAAGA,KAAK,CAALA,QAAAA,GAAAA,OAAAA,CAAAA,GAAAA,EAA8B,CAAC,GAAG1C,QAAQ,CAAZ,OAAA,IAAtC0C,gBAAQA,CAARA;AACH;;AACD,QAAI,cAAJ,MAAA,EAA0B;AACtBA,MAAAA,KAAK,IAALA,GAAAA;AACH;;AACD,WAAA,KAAA;AA9HoD,GAAA;AAgIxDkB,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,MAAA,EAAiB;AAC/B,QAAI,CAAJ,MAAA,EAAa;AACT,aAAA,EAAA;AACH;;AACD,QAAI,eAAe,OAAnB,MAAA,EAAkC;AAC9B,aAAA,MAAA;AACH;;AACD,QAAI,CAAC,CAAC,GAAGhE,KAAK,CAAT,aAAA,EAAL,MAAK,CAAL,EAAuC;AACnCiE,MAAAA,MAAM,GAAG;AACLC,QAAAA,IAAI,EAAED;AADD,OAATA;AAGH;;AACD,WAAA,MAAA;AA5IoD,GAAA;AA8IxDE,EAAAA,cAAc,EAAE,SAAA,cAAA,GAAW;AACvB,WAAO;AACHC,MAAAA,gBAAgB,EAAE,KADf,mBACe,EADf;AAEHC,MAAAA,kBAAkB,EAAE,KAAA,qBAAA;AAFjB,KAAP;AA/IoD,GAAA;AAoJxDC,EAAAA,qBAAqB,EAAE,SAAA,qBAAA,GAAW;AAC9B,WAAO,KAAA,MAAA,CAAA,GAAA,EAAA,YAAA,EAAP,CAAO,CAAP;AArJoD,GAAA;AAuJxDC,EAAAA,mBAAmB,EAAE,SAAA,mBAAA,GAAW;AAC5B,WAAO,KAAA,MAAA,CAAA,GAAA,EAAiB;AACpBL,MAAAA,IAAI,EADgB,YAAA;AAEpBM,MAAAA,SAAS,EAAE;AAFS,KAAjB,EAAP,CAAO,CAAP;AAxJoD,GAAA;AA6JxDC,EAAAA,aAAa,EAAE,SAAA,aAAA,CAAA,KAAA,EAAA,UAAA,EAA4B;AACvC,QAAIC,MAAM,GAAG,KAAA,MAAA,CAAA,EAAA,EAAb,SAAa,CAAb;;AACA,QAAI,aAAa,OAAb,KAAA,IAA6B,QAAQA,MAAM,CAA/C,CAA+C,CAA/C,EAAoD;AAChD,aAAA,KAAA;AACH;;AACD,QAAIC,cAAc,GAAGC,UAAU,GAAGF,MAAM,CAAT,CAAS,CAAT,GAA/B,GAAA;AACA,QAAIG,YAAY,GAAGD,UAAU,GAAA,GAAA,GAASF,MAAM,CAA5C,CAA4C,CAA5C;AACA,QAAII,aAAa,GAAGF,UAAU,GAAGF,MAAM,CAAT,CAAS,CAAT,GAA9B,GAAA;AACA,QAAIK,MAAM,GAAG,IAAA,MAAA,CAAW,MAAA,cAAA,GAAA,GAAA,GAAA,aAAA,GAAX,GAAA,EAAb,GAAa,CAAb;AACA,WAAO,KAAK,CAAL,OAAA,CAAA,MAAA,EAAsB,UAAA,IAAA,EAAe;AACxC,aAAOC,MAAM,CAANA,YAAAA,CAAoBC,IAAI,CAAJA,UAAAA,CAAAA,CAAAA,KAAsBJ,YAAY,CAAZA,UAAAA,CAAAA,CAAAA,IAA6BF,cAAc,CAAdA,UAAAA,CAA9E,CAA8EA,CAAnDM,CAApBD,CAAP;AADJ,KAAO,CAAP;AAtKoD,GAAA;AA0KxDE,EAAAA,OAAO,EAAE,SAAA,OAAA,CAAA,IAAA,EAAA,MAAA,EAAuB;AAC5B,QAAI,QAAQC,IAAI,CAAJA,OAAAA,CAAAA,UAAAA,EAAAA,EAAAA,EAAAA,MAAAA,CAAZ,CAAYA,CAAZ,EAAoD;AAChD,aAAO,CAAP,CAAA;AACH;;AACD,QAAI,CAAJ,MAAA,EAAa;AACT,aAAA,CAAA;AACH;;AACD,QAAIC,UAAU,GAAG,KAAjB,cAAiB,EAAjB;;AACA,QAAIL,MAAM,GAAG,IAAA,MAAA,CAAW,SAAS,CAAC,GAAGjF,OAAO,CAAX,YAAA,EAA0BsF,UAAU,CAAVA,gBAAAA,GAA8BA,UAAU,CAA3E,kBAAS,CAAT,GAAX,IAAA,EAAb,GAAa,CAAb;AACA,QAAIC,cAAc,GAAG,KAAA,MAAA,CAAY,CAAZ,CAAA,EAAA,MAAA,EAAA,OAAA,CAAA,MAAA,EAArB,GAAqB,CAArB;AACA,QAAIC,WAAW,GAAGH,IAAI,CAAJA,OAAAA,CAAAA,MAAAA,EAAlB,GAAkBA,CAAlB;AACA,WAAOG,WAAW,KAAXA,cAAAA,GAAiC,CAAjCA,CAAAA,GAAP,CAAA;AArLoD,GAAA;AAuLxDrB,EAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,KAAA,EAAA,OAAA,EAAyB;AAC7B,QAAI,aAAa,OAAjB,KAAA,EAA+B;AAC3B,aAAA,KAAA;AACH;;AACD,QAAI,aAAa,OAAjB,OAAA,EAAiC;AAC7B,aAAA,KAAA;AACH;;AACDsB,IAAAA,OAAO,GAAGA,OAAO,IAAIA,OAAO,CAAlBA,SAAAA,IAAVA,OAAAA;;AACA,QAAI,eAAe,OAAnB,OAAA,EAAmC;AAC/B,aAAOA,OAAO,CAAd,KAAc,CAAd;AACH;;AACDA,IAAAA,OAAO,GAAG,KAAA,gBAAA,CAAVA,OAAU,CAAVA;;AACA,QAAI,CAACA,OAAO,CAAZ,IAAA,EAAmB;AACfA,MAAAA,OAAO,CAAPA,IAAAA,GAAAA,SAAAA;AACH;;AACD,QAAIC,YAAY,GAAG,KAAA,wBAAA,CAA8BD,OAAO,CAAxD,IAAmB,CAAnB;;AACA,QAAI,CAAJ,YAAA,EAAmB;AACf,aAAO,KAAA,aAAA,CAAmBrF,QAAQ,CAARA,OAAAA,CAAAA,YAAAA,CAA8BqF,OAAO,CAArCrF,IAAAA,EAA4C,KAA5CA,cAA4C,EAA5CA,EAA1B,KAA0BA,CAAnB,CAAP;AACH;;AACD,WAAO,KAAA,aAAA,CAAA,KAAA,EAAA,YAAA,EAAP,OAAO,CAAP;AA1MoD,GAAA;AA4MxDuF,EAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,IAAA,EAAA,MAAA,EAAuB;AAC1B,QAAI,CAAJ,IAAA,EAAW;AACP;AACH;;AACD,QAAIxB,MAAM,IAAIA,MAAM,CAApB,MAAA,EAA6B;AACzB,aAAOA,MAAM,CAANA,MAAAA,CAAP,IAAOA,CAAP;AACH;;AACDkB,IAAAA,IAAI,GAAG,KAAA,aAAA,CAAA,IAAA,EAAPA,IAAO,CAAPA;;AACA,QAAIlB,MAAM,IAAI,aAAa,OAA3B,MAAA,EAA0C;AACtC3D,MAAAA,QAAQ,CAARA,OAAAA,CAAAA,GAAAA,CAAAA,OAAAA;AACH;;AACD,QAAI8D,gBAAgB,GAAG,KAAvB,mBAAuB,EAAvB;AACA,QAAIW,MAAM,GAAG,IAAA,MAAA,CAAW,UAAU,CAAC,GAAGjF,OAAO,CAAX,YAAA,EAAV,gBAAU,CAAV,GAAX,GAAA,EAAb,GAAa,CAAb;AACA,QAAIwF,WAAW,GAAGH,IAAI,CAAJA,OAAAA,CAAAA,MAAAA,EAAAA,EAAAA,EAAAA,OAAAA,CAAAA,gBAAAA,EAAAA,GAAAA,EAAAA,OAAAA,CAAAA,MAAAA,EAAlB,EAAkBA,CAAlB;;AACA,QAAI,QAAA,WAAA,IAAuB,OAA3B,WAAA,EAA+C;AAC3C,aAAA,IAAA;AACH;;AACD,QAAI,KAAA,sBAAA,CAAA,WAAA,IAAJ,EAAA,EAAmD;AAC/C,aAAA,GAAA;AACH;;AACD,QAAIO,MAAM,GAAG,CAAb,WAAA;AACA,WAAOA,MAAM,GAAG,KAAA,OAAA,CAAA,IAAA,EAAhB,MAAgB,CAAhB;AAjOoD,GAAA;AAmOxDC,EAAAA,sBAAsB,EAAE,SAAA,sBAAA,CAAA,IAAA,EAAe;AACnC,QAAIC,WAAW,GAAGT,IAAI,CAAJA,KAAAA,CAAlB,GAAkBA,CAAlB;AAAA,QACIU,YAAY,GAAGC,cAAc,CAAA,WAAA,EADjC,CACiC,CADjC;AAAA,QAEIC,OAAO,GAAGF,YAAY,CAF1B,CAE0B,CAF1B;AAAA,QAGIG,UAAU,GAAGH,YAAY,CAH7B,CAG6B,CAH7B;;AAIA,QAAII,2BAA2B,GAAG,SAA9BA,2BAA8B,CAAA,MAAA,EAAiB;AAC/C,UAAIC,KAAK,GAAG,CAAZ,CAAA;;AACA,WAAK,IAAIzE,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGiD,MAAM,CAA1B,MAAA,EAAmCjD,CAAnC,EAAA,EAAwC;AACpC,YAAI,QAAQiD,MAAM,CAAlB,CAAkB,CAAlB,EAAuB;AACnBwB,UAAAA,KAAK,GAALA,CAAAA;AACA;AACH;AACJ;;AACD,aAAOA,KAAK,GAAG,CAARA,CAAAA,GAAaxB,MAAM,CAANA,MAAAA,GAAbwB,KAAAA,GAAP,CAAA;AARJ,KAAA;;AAUA,QAAI9C,MAAM,GAAV,CAAA;;AACA,QAAA,OAAA,EAAa;AACTA,MAAAA,MAAM,IAAI6C,2BAA2B,CAACF,OAAO,CAAPA,KAAAA,CAAtC3C,EAAsC2C,CAAD,CAArC3C;AACH;;AACD,QAAA,UAAA,EAAgB;AACZA,MAAAA,MAAM,IAAI6C,2BAA2B,CAACD,UAAU,CAAVA,KAAAA,CAAAA,EAAAA,EAAtC5C,OAAsC4C,EAAD,CAArC5C;AACH;;AACD,WAAA,MAAA;AACH;AA1PuD,CAAnC,CAAzB;AA4PAd,kBAAkB,CAAlBA,MAAAA,CAA0B7B,UAAU,CAApC6B,OAAAA;;AACA,IAAA,OAAA,EAAa;AACTA,EAAAA,kBAAkB,CAAlBA,MAAAA,CAA0B3B,QAAQ,CAAlC2B,OAAAA;AACH;;AACD6D,MAAM,CAANA,OAAAA,GAAAA,kBAAAA","sourcesContent":["/**\r\n * DevExtreme (localization/number.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _dependency_injector = require(\"../core/utils/dependency_injector\");\r\nvar _dependency_injector2 = _interopRequireDefault(_dependency_injector);\r\nvar _array = require(\"../core/utils/array\");\r\nvar _common = require(\"../core/utils/common\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _number = require(\"./ldml/number\");\r\nvar _number2 = _interopRequireDefault(_number);\r\nvar _config = require(\"../core/config\");\r\nvar _config2 = _interopRequireDefault(_config);\r\nvar _errors = require(\"../core/errors\");\r\nvar _errors2 = _interopRequireDefault(_errors);\r\nvar _utils = require(\"./utils\");\r\nvar _currency = require(\"./currency\");\r\nvar _currency2 = _interopRequireDefault(_currency);\r\nvar _number3 = require(\"./intl/number\");\r\nvar _number4 = _interopRequireDefault(_number3);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _slicedToArray(arr, i) {\r\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest()\r\n}\r\n\r\nfunction _nonIterableRest() {\r\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")\r\n}\r\n\r\nfunction _iterableToArrayLimit(arr, i) {\r\n    if (!(Symbol.iterator in Object(arr) || \"[object Arguments]\" === Object.prototype.toString.call(arr))) {\r\n        return\r\n    }\r\n    var _arr = [];\r\n    var _n = true;\r\n    var _d = false;\r\n    var _e = void 0;\r\n    try {\r\n        for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {\r\n            _arr.push(_s.value);\r\n            if (i && _arr.length === i) {\r\n                break\r\n            }\r\n        }\r\n    } catch (err) {\r\n        _d = true;\r\n        _e = err\r\n    } finally {\r\n        try {\r\n            if (!_n && null != _i.return) {\r\n                _i.return()\r\n            }\r\n        } finally {\r\n            if (_d) {\r\n                throw _e\r\n            }\r\n        }\r\n    }\r\n    return _arr\r\n}\r\n\r\nfunction _arrayWithHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        return arr\r\n    }\r\n}\r\nvar hasIntl = \"undefined\" !== typeof Intl;\r\nvar MAX_LARGE_NUMBER_POWER = 4;\r\nvar DECIMAL_BASE = 10;\r\nvar NUMERIC_FORMATS = [\"currency\", \"fixedpoint\", \"exponential\", \"percent\", \"decimal\"];\r\nvar LargeNumberFormatPostfixes = {\r\n    1: \"K\",\r\n    2: \"M\",\r\n    3: \"B\",\r\n    4: \"T\"\r\n};\r\nvar LargeNumberFormatPowers = {\r\n    largenumber: \"auto\",\r\n    thousands: 1,\r\n    millions: 2,\r\n    billions: 3,\r\n    trillions: 4\r\n};\r\nvar numberLocalization = (0, _dependency_injector2.default)({\r\n    engine: function() {\r\n        return \"base\"\r\n    },\r\n    numericFormats: NUMERIC_FORMATS,\r\n    defaultLargeNumberFormatPostfixes: LargeNumberFormatPostfixes,\r\n    _parseNumberFormatString: function(formatType) {\r\n        var formatList;\r\n        var formatObject = {};\r\n        if (!formatType || \"string\" !== typeof formatType) {\r\n            return\r\n        }\r\n        formatList = formatType.toLowerCase().split(\" \");\r\n        (0, _iterator.each)(formatList, function(index, value) {\r\n            if ((0, _array.inArray)(value, NUMERIC_FORMATS) > -1) {\r\n                formatObject.formatType = value\r\n            } else {\r\n                if (value in LargeNumberFormatPowers) {\r\n                    formatObject.power = LargeNumberFormatPowers[value]\r\n                }\r\n            }\r\n        });\r\n        if (formatObject.power && !formatObject.formatType) {\r\n            formatObject.formatType = \"fixedpoint\"\r\n        }\r\n        if (formatObject.formatType) {\r\n            return formatObject\r\n        }\r\n    },\r\n    _calculateNumberPower: function(value, base, minPower, maxPower) {\r\n        var number = Math.abs(value);\r\n        var power = 0;\r\n        if (number > 1) {\r\n            while (number && number >= base && (void 0 === maxPower || power < maxPower)) {\r\n                power++;\r\n                number /= base\r\n            }\r\n        } else {\r\n            if (number > 0 && number < 1) {\r\n                while (number < 1 && (void 0 === minPower || power > minPower)) {\r\n                    power--;\r\n                    number *= base\r\n                }\r\n            }\r\n        }\r\n        return power\r\n    },\r\n    _getNumberByPower: function(number, power, base) {\r\n        var result = number;\r\n        while (power > 0) {\r\n            result /= base;\r\n            power--\r\n        }\r\n        while (power < 0) {\r\n            result *= base;\r\n            power++\r\n        }\r\n        return result\r\n    },\r\n    _formatNumber: function(value, formatObject, formatConfig) {\r\n        var powerPostfix;\r\n        var result;\r\n        if (\"auto\" === formatObject.power) {\r\n            formatObject.power = this._calculateNumberPower(value, 1e3, 0, MAX_LARGE_NUMBER_POWER)\r\n        }\r\n        if (formatObject.power) {\r\n            value = this._getNumberByPower(value, formatObject.power, 1e3)\r\n        }\r\n        powerPostfix = this.defaultLargeNumberFormatPostfixes[formatObject.power] || \"\";\r\n        result = this._formatNumberCore(value, formatObject.formatType, formatConfig);\r\n        result = result.replace(/(\\d|.$)(\\D*)$/, \"$1\" + powerPostfix + \"$2\");\r\n        return result\r\n    },\r\n    _formatNumberExponential: function(value, formatConfig) {\r\n        var power = this._calculateNumberPower(value, DECIMAL_BASE);\r\n        var number = this._getNumberByPower(value, power, DECIMAL_BASE);\r\n        var powString;\r\n        if (void 0 === formatConfig.precision) {\r\n            formatConfig.precision = 1\r\n        }\r\n        if (number.toFixed(formatConfig.precision || 0) >= DECIMAL_BASE) {\r\n            power++;\r\n            number /= DECIMAL_BASE\r\n        }\r\n        powString = (power >= 0 ? \"+\" : \"\") + power.toString();\r\n        return this._formatNumberCore(number, \"fixedpoint\", formatConfig) + \"E\" + powString\r\n    },\r\n    _addZeroes: function(value, precision) {\r\n        var multiplier = Math.pow(10, precision);\r\n        var sign = value < 0 ? \"-\" : \"\";\r\n        value = (Math.abs(value) * multiplier >>> 0) / multiplier;\r\n        var result = value.toString();\r\n        while (result.length < precision) {\r\n            result = \"0\" + result\r\n        }\r\n        return sign + result\r\n    },\r\n    _addGroupSeparators: function(value) {\r\n        var parts = value.toString().split(\".\");\r\n        return parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, (0, _config2.default)().thousandsSeparator) + (parts[1] ? (0, _config2.default)().decimalSeparator + parts[1] : \"\")\r\n    },\r\n    _formatNumberCore: function(value, format, formatConfig) {\r\n        if (\"exponential\" === format) {\r\n            return this._formatNumberExponential(value, formatConfig)\r\n        }\r\n        if (\"decimal\" !== format && null !== formatConfig.precision) {\r\n            formatConfig.precision = formatConfig.precision || 0\r\n        }\r\n        if (\"percent\" === format) {\r\n            value = 100 * value\r\n        }\r\n        if (void 0 !== formatConfig.precision) {\r\n            if (\"decimal\" === format) {\r\n                value = this._addZeroes(value, formatConfig.precision)\r\n            } else {\r\n                value = null === formatConfig.precision ? value.toPrecision() : (0, _utils.toFixed)(value, formatConfig.precision)\r\n            }\r\n        }\r\n        if (\"decimal\" !== format) {\r\n            value = this._addGroupSeparators(value)\r\n        } else {\r\n            value = value.toString().replace(\".\", (0, _config2.default)().decimalSeparator)\r\n        }\r\n        if (\"percent\" === format) {\r\n            value += \"%\"\r\n        }\r\n        return value\r\n    },\r\n    _normalizeFormat: function(format) {\r\n        if (!format) {\r\n            return {}\r\n        }\r\n        if (\"function\" === typeof format) {\r\n            return format\r\n        }\r\n        if (!(0, _type.isPlainObject)(format)) {\r\n            format = {\r\n                type: format\r\n            }\r\n        }\r\n        return format\r\n    },\r\n    _getSeparators: function() {\r\n        return {\r\n            decimalSeparator: this.getDecimalSeparator(),\r\n            thousandsSeparator: this.getThousandsSeparator()\r\n        }\r\n    },\r\n    getThousandsSeparator: function() {\r\n        return this.format(1e4, \"fixedPoint\")[2]\r\n    },\r\n    getDecimalSeparator: function() {\r\n        return this.format(1.2, {\r\n            type: \"fixedPoint\",\r\n            precision: 1\r\n        })[1]\r\n    },\r\n    convertDigits: function(value, toStandard) {\r\n        var digits = this.format(90, \"decimal\");\r\n        if (\"string\" !== typeof value || \"0\" === digits[1]) {\r\n            return value\r\n        }\r\n        var fromFirstDigit = toStandard ? digits[1] : \"0\";\r\n        var toFirstDigit = toStandard ? \"0\" : digits[1];\r\n        var fromLastDigit = toStandard ? digits[0] : \"9\";\r\n        var regExp = new RegExp(\"[\" + fromFirstDigit + \"-\" + fromLastDigit + \"]\", \"g\");\r\n        return value.replace(regExp, function(char) {\r\n            return String.fromCharCode(char.charCodeAt(0) + (toFirstDigit.charCodeAt(0) - fromFirstDigit.charCodeAt(0)))\r\n        })\r\n    },\r\n    getSign: function(text, format) {\r\n        if (\"-\" === text.replace(/[^0-9-]/g, \"\").charAt(0)) {\r\n            return -1\r\n        }\r\n        if (!format) {\r\n            return 1\r\n        }\r\n        var separators = this._getSeparators();\r\n        var regExp = new RegExp(\"[0-9\" + (0, _common.escapeRegExp)(separators.decimalSeparator + separators.thousandsSeparator) + \"]+\", \"g\");\r\n        var negativeEtalon = this.format(-1, format).replace(regExp, \"1\");\r\n        var cleanedText = text.replace(regExp, \"1\");\r\n        return cleanedText === negativeEtalon ? -1 : 1\r\n    },\r\n    format: function(value, _format) {\r\n        if (\"number\" !== typeof value) {\r\n            return value\r\n        }\r\n        if (\"number\" === typeof _format) {\r\n            return value\r\n        }\r\n        _format = _format && _format.formatter || _format;\r\n        if (\"function\" === typeof _format) {\r\n            return _format(value)\r\n        }\r\n        _format = this._normalizeFormat(_format);\r\n        if (!_format.type) {\r\n            _format.type = \"decimal\"\r\n        }\r\n        var numberConfig = this._parseNumberFormatString(_format.type);\r\n        if (!numberConfig) {\r\n            return this.convertDigits(_number2.default.getFormatter(_format.type, this._getSeparators())(value))\r\n        }\r\n        return this._formatNumber(value, numberConfig, _format)\r\n    },\r\n    parse: function(text, format) {\r\n        if (!text) {\r\n            return\r\n        }\r\n        if (format && format.parser) {\r\n            return format.parser(text)\r\n        }\r\n        text = this.convertDigits(text, true);\r\n        if (format && \"string\" !== typeof format) {\r\n            _errors2.default.log(\"W0011\")\r\n        }\r\n        var decimalSeparator = this.getDecimalSeparator();\r\n        var regExp = new RegExp(\"[^0-9\" + (0, _common.escapeRegExp)(decimalSeparator) + \"]\", \"g\");\r\n        var cleanedText = text.replace(regExp, \"\").replace(decimalSeparator, \".\").replace(/\\.$/g, \"\");\r\n        if (\".\" === cleanedText || \"\" === cleanedText) {\r\n            return null\r\n        }\r\n        if (this._calcSignificantDigits(cleanedText) > 15) {\r\n            return NaN\r\n        }\r\n        var parsed = +cleanedText;\r\n        return parsed * this.getSign(text, format)\r\n    },\r\n    _calcSignificantDigits: function(text) {\r\n        var _text$split = text.split(\".\"),\r\n            _text$split2 = _slicedToArray(_text$split, 2),\r\n            integer = _text$split2[0],\r\n            fractional = _text$split2[1];\r\n        var calcDigitsAfterLeadingZeros = function(digits) {\r\n            var index = -1;\r\n            for (var i = 0; i < digits.length; i++) {\r\n                if (\"0\" !== digits[i]) {\r\n                    index = i;\r\n                    break\r\n                }\r\n            }\r\n            return index > -1 ? digits.length - index : 0\r\n        };\r\n        var result = 0;\r\n        if (integer) {\r\n            result += calcDigitsAfterLeadingZeros(integer.split(\"\"))\r\n        }\r\n        if (fractional) {\r\n            result += calcDigitsAfterLeadingZeros(fractional.split(\"\").reverse())\r\n        }\r\n        return result\r\n    }\r\n});\r\nnumberLocalization.inject(_currency2.default);\r\nif (hasIntl) {\r\n    numberLocalization.inject(_number4.default)\r\n}\r\nmodule.exports = numberLocalization;\r\n"]},"metadata":{},"sourceType":"module"}