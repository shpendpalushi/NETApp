{"ast":null,"code":"/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _type2 = _interopRequireDefault(_type);\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _message = require(\"../../localization/message\");\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _component_registrator = require(\"../../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _ui = require(\"../widget/ui.widget\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _notify = require(\"../notify\");\n\nvar _notify2 = _interopRequireDefault(_notify);\n\nvar _file_items_controller = require(\"./file_items_controller\");\n\nvar _file_items_controller2 = _interopRequireDefault(_file_items_controller);\n\nvar _uiFile_manager = require(\"./ui.file_manager.command_manager\");\n\nvar _uiFile_manager2 = require(\"./ui.file_manager.context_menu\");\n\nvar _uiFile_manager3 = _interopRequireDefault(_uiFile_manager2);\n\nvar _uiFile_manager4 = require(\"./ui.file_manager.files_tree_view\");\n\nvar _uiFile_manager5 = _interopRequireDefault(_uiFile_manager4);\n\nvar _uiFile_managerItem_list = require(\"./ui.file_manager.item_list.details\");\n\nvar _uiFile_managerItem_list2 = _interopRequireDefault(_uiFile_managerItem_list);\n\nvar _uiFile_managerItem_list3 = require(\"./ui.file_manager.item_list.thumbnails\");\n\nvar _uiFile_managerItem_list4 = _interopRequireDefault(_uiFile_managerItem_list3);\n\nvar _uiFile_manager6 = require(\"./ui.file_manager.toolbar\");\n\nvar _uiFile_manager7 = _interopRequireDefault(_uiFile_manager6);\n\nvar _uiFile_manager8 = require(\"./ui.file_manager.notification\");\n\nvar _uiFile_manager9 = _interopRequireDefault(_uiFile_manager8);\n\nvar _uiFile_manager10 = require(\"./ui.file_manager.editing\");\n\nvar _uiFile_manager11 = _interopRequireDefault(_uiFile_manager10);\n\nvar _uiFile_manager12 = require(\"./ui.file_manager.breadcrumbs\");\n\nvar _uiFile_manager13 = _interopRequireDefault(_uiFile_manager12);\n\nvar _uiFile_manager14 = require(\"./ui.file_manager.adaptivity\");\n\nvar _uiFile_manager15 = _interopRequireDefault(_uiFile_manager14);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || \"[object Arguments]\" === Object.prototype.toString.call(iter)) {\n    return Array.from(iter);\n  }\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar FILE_MANAGER_CLASS = \"dx-filemanager\";\nvar FILE_MANAGER_WRAPPER_CLASS = FILE_MANAGER_CLASS + \"-wrapper\";\nvar FILE_MANAGER_CONTAINER_CLASS = FILE_MANAGER_CLASS + \"-container\";\nvar FILE_MANAGER_DIRS_PANEL_CLASS = FILE_MANAGER_CLASS + \"-dirs-panel\";\nvar FILE_MANAGER_INACTIVE_AREA_CLASS = FILE_MANAGER_CLASS + \"-inactive-area\";\nvar FILE_MANAGER_EDITING_CONTAINER_CLASS = FILE_MANAGER_CLASS + \"-editing-container\";\nvar FILE_MANAGER_ITEMS_PANEL_CLASS = FILE_MANAGER_CLASS + \"-items-panel\";\nvar FILE_MANAGER_ITEM_CUSTOM_THUMBNAIL_CLASS = FILE_MANAGER_CLASS + \"-item-custom-thumbnail\";\n\nvar FileManager = function (_Widget) {\n  _inherits(FileManager, _Widget);\n\n  function FileManager() {\n    _classCallCheck(this, FileManager);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FileManager).apply(this, arguments));\n  }\n\n  _createClass(FileManager, [{\n    key: \"_initTemplates\",\n    value: function value() {}\n  }, {\n    key: \"_initMarkup\",\n    value: function value() {\n      _get(_getPrototypeOf(FileManager.prototype), \"_initMarkup\", this).call(this);\n\n      this._onCurrentDirectoryChangedAction = this._createActionByOption(\"onCurrentDirectoryChanged\");\n      this._onSelectedFileOpenedAction = this._createActionByOption(\"onSelectedFileOpened\");\n      this._controller = new _file_items_controller2.default({\n        currentPath: this.option(\"currentPath\"),\n        rootText: this.option(\"rootFolderName\"),\n        fileProvider: this.option(\"fileProvider\"),\n        allowedFileExtensions: this.option(\"allowedFileExtensions\"),\n        maxUploadFileSize: this.option(\"upload\").maxFileSize,\n        onSelectedDirectoryChanged: this._onSelectedDirectoryChanged.bind(this)\n      });\n      this._commandManager = new _uiFile_manager.FileManagerCommandManager(this.option(\"permissions\"));\n      this.$element().addClass(FILE_MANAGER_CLASS);\n\n      this._createNotificationControl();\n\n      this._initCommandManager();\n\n      this._setItemsViewAreaActive(false);\n    }\n  }, {\n    key: \"_createNotificationControl\",\n    value: function value() {\n      var _this = this;\n\n      var $notificationControl = (0, _renderer2.default)(\"<div>\").addClass(\"dx-filemanager-notification-container\").appendTo(this.$element());\n      this._notificationControl = this._createComponent($notificationControl, _uiFile_manager9.default, {\n        progressPanelContainer: this.$element(),\n        contentTemplate: function contentTemplate(container) {\n          return _this._createWrapper(container);\n        },\n        onActionProgress: function onActionProgress(e) {\n          return _this._onActionProgress(e);\n        }\n      });\n\n      this._editing.option(\"notificationControl\", this._notificationControl);\n    }\n  }, {\n    key: \"_createWrapper\",\n    value: function value(container) {\n      this._$wrapper = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_WRAPPER_CLASS).appendTo(container);\n\n      this._createEditing();\n\n      var $toolbar = (0, _renderer2.default)(\"<div>\").appendTo(this._$wrapper);\n      this._toolbar = this._createComponent($toolbar, _uiFile_manager7.default, {\n        commandManager: this._commandManager,\n        generalItems: this.option(\"toolbar.items\"),\n        fileItems: this.option(\"toolbar.fileSelectionItems\"),\n        itemViewMode: this.option(\"itemView\").mode\n      });\n\n      this._createAdaptivityControl();\n    }\n  }, {\n    key: \"_createAdaptivityControl\",\n    value: function value() {\n      var _this2 = this;\n\n      var $container = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_CONTAINER_CLASS).appendTo(this._$wrapper);\n      this._adaptivityControl = this._createComponent($container, _uiFile_manager15.default, {\n        drawerTemplate: function drawerTemplate(container) {\n          return _this2._createFilesTreeView(container);\n        },\n        contentTemplate: function contentTemplate(container) {\n          return _this2._createItemsPanel(container);\n        },\n        onAdaptiveStateChanged: function onAdaptiveStateChanged(e) {\n          return _this2._onAdaptiveStateChanged(e);\n        }\n      });\n    }\n  }, {\n    key: \"_createEditing\",\n    value: function value() {\n      var _this3 = this;\n\n      var $editingContainer = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_EDITING_CONTAINER_CLASS).appendTo(this.$element());\n      this._editing = this._createComponent($editingContainer, _uiFile_manager11.default, {\n        controller: this._controller,\n        model: {\n          getMultipleSelectedItems: this._getMultipleSelectedItems.bind(this)\n        },\n        getItemThumbnail: this._getItemThumbnailInfo.bind(this),\n        onSuccess: function onSuccess(_ref) {\n          var updatedOnlyFiles = _ref.updatedOnlyFiles;\n          return _this3._redrawComponent(updatedOnlyFiles);\n        },\n        onCreating: function onCreating() {\n          return _this3._setItemsViewAreaActive(false);\n        }\n      });\n    }\n  }, {\n    key: \"_createItemsPanel\",\n    value: function value($container) {\n      this._$itemsPanel = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_ITEMS_PANEL_CLASS).appendTo($container);\n\n      this._createBreadcrumbs(this._$itemsPanel);\n\n      this._createItemView(this._$itemsPanel);\n    }\n  }, {\n    key: \"_createFilesTreeView\",\n    value: function value(container) {\n      var _this4 = this;\n\n      var $filesTreeView = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_DIRS_PANEL_CLASS).appendTo(container);\n      this._filesTreeView = this._createComponent($filesTreeView, _uiFile_manager5.default, {\n        storeExpandedState: true,\n        contextMenu: this._createContextMenu(),\n        getDirectories: this.getDirectories.bind(this),\n        getCurrentDirectory: this._getCurrentDirectory.bind(this),\n        onDirectoryClick: this._onFilesTreeViewDirectoryClick.bind(this),\n        onClick: function onClick() {\n          return _this4._setItemsViewAreaActive(false);\n        }\n      });\n    }\n  }, {\n    key: \"_createItemView\",\n    value: function value($container, viewMode) {\n      var _this5 = this;\n\n      var itemViewOptions = this.option(\"itemView\");\n      var options = {\n        selectionMode: this.option(\"selectionMode\"),\n        contextMenu: this._createContextMenu(true),\n        getItems: this._getItemViewItems.bind(this),\n        onError: function onError(_ref2) {\n          var error = _ref2.error;\n          return _this5._showError(error);\n        },\n        onSelectionChanged: this._onItemViewSelectionChanged.bind(this),\n        onSelectedItemOpened: this._onSelectedItemOpened.bind(this),\n        getItemThumbnail: this._getItemThumbnailInfo.bind(this),\n        customizeDetailColumns: this.option(\"customizeDetailColumns\")\n      };\n      var $itemView = (0, _renderer2.default)(\"<div>\").appendTo($container);\n      viewMode = viewMode || itemViewOptions.mode;\n      var widgetClass = \"thumbnails\" === viewMode ? _uiFile_managerItem_list4.default : _uiFile_managerItem_list2.default;\n      this._itemView = this._createComponent($itemView, widgetClass, options);\n\n      _events_engine2.default.on($itemView, \"click\", this._onItemViewClick.bind(this));\n    }\n  }, {\n    key: \"_createBreadcrumbs\",\n    value: function value($container) {\n      var _this6 = this;\n\n      var $breadcrumbs = (0, _renderer2.default)(\"<div>\").appendTo($container);\n      this._breadcrumbs = this._createComponent($breadcrumbs, _uiFile_manager13.default, {\n        rootFolderDisplayName: this.option(\"rootFolderName\"),\n        onCurrentDirectoryChanging: function onCurrentDirectoryChanging(_ref3) {\n          var currentDirectory = _ref3.currentDirectory;\n          return _this6._setCurrentDirectory(currentDirectory);\n        },\n        onOutsideClick: function onOutsideClick() {\n          return _this6._clearSelection();\n        }\n      });\n\n      this._breadcrumbs.setCurrentDirectory(this._getCurrentDirectory());\n    }\n  }, {\n    key: \"_createContextMenu\",\n    value: function value(isolateCreationItemCommands) {\n      var $contextMenu = (0, _renderer2.default)(\"<div>\").appendTo(this._$wrapper);\n      return this._createComponent($contextMenu, _uiFile_manager3.default, {\n        commandManager: this._commandManager,\n        items: this.option(\"contextMenu.items\"),\n        isolateCreationItemCommands: isolateCreationItemCommands\n      });\n    }\n  }, {\n    key: \"_initCommandManager\",\n    value: function value() {\n      var _this7 = this;\n\n      var actions = (0, _extend.extend)(this._editing.getCommandActions(), {\n        refresh: function refresh() {\n          return _this7._refreshAndShowProgress();\n        },\n        thumbnails: function thumbnails() {\n          return _this7.option(\"itemView.mode\", \"thumbnails\");\n        },\n        details: function details() {\n          return _this7.option(\"itemView.mode\", \"details\");\n        },\n        clear: function clear() {\n          return _this7._clearSelection();\n        },\n        showNavPane: function showNavPane() {\n          return _this7._adaptivityControl.toggleDrawer();\n        }\n      });\n\n      this._commandManager.registerActions(actions);\n    }\n  }, {\n    key: \"_onFilesTreeViewDirectoryClick\",\n    value: function value(_ref4) {\n      var itemData = _ref4.itemData;\n\n      this._setCurrentDirectory(itemData);\n\n      this._setItemsViewAreaActive(false);\n    }\n  }, {\n    key: \"_onItemViewSelectionChanged\",\n    value: function value() {\n      this._updateToolbar();\n    }\n  }, {\n    key: \"_onAdaptiveStateChanged\",\n    value: function value(_ref5) {\n      var enabled = _ref5.enabled;\n\n      this._commandManager.setCommandEnabled(\"showNavPane\", enabled);\n\n      this._updateToolbar();\n    }\n  }, {\n    key: \"_onActionProgress\",\n    value: function value(_ref6) {\n      var message = _ref6.message,\n          status = _ref6.status;\n\n      this._toolbar.updateRefreshItem(message, status);\n\n      this._updateToolbar();\n    }\n  }, {\n    key: \"_refreshAndShowProgress\",\n    value: function value() {\n      var _this8 = this;\n\n      this._notificationControl.tryShowProgressPanel();\n\n      return this._controller.refresh().then(function () {\n        return _this8._redrawComponent();\n      });\n    }\n  }, {\n    key: \"_updateToolbar\",\n    value: function value() {\n      var items = this._getSelectedItemInfos();\n\n      this._toolbar.update(items);\n    }\n  }, {\n    key: \"_setItemsViewAreaActive\",\n    value: function value(active) {\n      if (this._itemsViewAreaActive === active) {\n        return;\n      }\n\n      this._itemsViewAreaActive = active;\n      var $activeArea = null;\n      var $inactiveArea = null;\n\n      if (active) {\n        $activeArea = this._itemView.$element();\n        $inactiveArea = this._filesTreeView.$element();\n      } else {\n        $activeArea = this._filesTreeView.$element();\n        $inactiveArea = this._itemView.$element();\n      }\n\n      $activeArea.removeClass(FILE_MANAGER_INACTIVE_AREA_CLASS);\n      $inactiveArea.addClass(FILE_MANAGER_INACTIVE_AREA_CLASS);\n\n      if (!active) {\n        this._clearSelection();\n      }\n    }\n  }, {\n    key: \"_switchView\",\n    value: function value(viewMode) {\n      this._disposeWidget(this._itemView.option(\"contextMenu\"));\n\n      this._disposeWidget(this._itemView);\n\n      this._createItemView(this._$itemsPanel, viewMode);\n\n      this._toolbar.option({\n        itemViewMode: viewMode\n      });\n    }\n  }, {\n    key: \"_disposeWidget\",\n    value: function value(widget) {\n      widget.dispose();\n      widget.$element().remove();\n    }\n  }, {\n    key: \"_clearSelection\",\n    value: function value() {\n      this._itemView.clearSelection();\n    }\n  }, {\n    key: \"_getMultipleSelectedItems\",\n    value: function value() {\n      return this._itemsViewAreaActive ? this._getSelectedItemInfos() : [this._getCurrentDirectory()];\n    }\n  }, {\n    key: \"_showError\",\n    value: function value(message) {\n      this._showNotification(message, false);\n    }\n  }, {\n    key: \"_showNotification\",\n    value: function value(message, isSuccess) {\n      (0, _notify2.default)({\n        message: message,\n        width: 450\n      }, isSuccess ? \"success\" : \"error\", 5e3);\n    }\n  }, {\n    key: \"_redrawComponent\",\n    value: function value(onlyFileItemsView) {\n      !onlyFileItemsView && this._filesTreeView.refresh();\n\n      this._itemView.refresh();\n    }\n  }, {\n    key: \"_getItemViewItems\",\n    value: function value() {\n      var selectedDir = this._getCurrentDirectory();\n\n      if (!selectedDir) {\n        return new _deferred.Deferred().resolve([]).promise();\n      }\n\n      var itemInfos = this.option(\"itemView\").showFolders ? this._controller.getDirectoryContents(selectedDir) : this._controller.getFiles(selectedDir);\n\n      if (this.option(\"itemView.showParentFolder\") && !selectedDir.fileItem.isRoot) {\n        var parentDirItem = selectedDir.fileItem.createClone();\n        parentDirItem.isParentFolder = true;\n        parentDirItem.name = \"..\";\n        parentDirItem.relativeName = \"..\";\n        itemInfos = (0, _deferred.when)(itemInfos).then(function (items) {\n          var itemInfosCopy = _toConsumableArray(items);\n\n          itemInfosCopy.unshift({\n            fileItem: parentDirItem,\n            icon: \"folder\"\n          });\n          return itemInfosCopy;\n        });\n      }\n\n      return itemInfos;\n    }\n  }, {\n    key: \"_onItemViewClick\",\n    value: function value() {\n      this._setItemsViewAreaActive(true);\n    }\n  }, {\n    key: \"_getItemThumbnailInfo\",\n    value: function value(fileInfo) {\n      var func = this.option(\"customizeThumbnail\");\n      var thumbnail = _type2.default.isFunction(func) ? func(fileInfo.fileItem) : fileInfo.fileItem.thumbnail;\n\n      if (thumbnail) {\n        return {\n          thumbnail: thumbnail,\n          cssClass: FILE_MANAGER_ITEM_CUSTOM_THUMBNAIL_CLASS\n        };\n      }\n\n      return {\n        thumbnail: fileInfo.icon\n      };\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(FileManager.prototype), \"_getDefaultOptions\", this).call(this), {\n        fileProvider: null,\n        currentPath: \"\",\n        rootFolderName: _message2.default.format(\"dxFileManager-rootDirectoryName\"),\n        selectionMode: \"multiple\",\n        toolbar: {\n          items: [\"showNavPane\", \"create\", \"upload\", \"refresh\", {\n            name: \"separator\",\n            location: \"after\"\n          }, \"viewSwitcher\"],\n          fileSelectionItems: [\"download\", \"separator\", \"move\", \"copy\", \"rename\", \"separator\", \"delete\", \"refresh\", \"clear\"]\n        },\n        contextMenu: {\n          items: [\"create\", \"upload\", \"rename\", \"move\", \"copy\", \"delete\", \"refresh\", \"download\"]\n        },\n        itemView: {\n          mode: \"details\",\n          showFolders: true,\n          showParentFolder: true\n        },\n        customizeThumbnail: null,\n        customizeDetailColumns: null,\n        onCurrentDirectoryChanged: null,\n        onSelectedFileOpened: null,\n        allowedFileExtensions: [\".txt\", \".rtf\", \".doc\", \".docx\", \".odt\", \".xls\", \".xlsx\", \".ods\", \".ppt\", \".pptx\", \".odp\", \".pdf\", \".xml\", \".png\", \".svg\", \".gif\", \".jpg\", \".jpeg\", \".ico\", \".bmp\", \".avi\", \".mpeg\", \".mkv\", \"\"],\n        upload: {\n          maxFileSize: 0\n        },\n        permissions: {\n          create: false,\n          copy: false,\n          move: false,\n          remove: false,\n          rename: false,\n          upload: false,\n          download: false\n        }\n      });\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      var name = args.name;\n\n      switch (name) {\n        case \"currentPath\":\n          this._setCurrentPath(args.value);\n\n          break;\n\n        case \"fileProvider\":\n        case \"selectionMode\":\n        case \"customizeThumbnail\":\n        case \"customizeDetailColumns\":\n        case \"rootFolderName\":\n        case \"allowedFileExtensions\":\n        case \"permissions\":\n        case \"upload\":\n          this.repaint();\n          break;\n\n        case \"itemView\":\n          if (\"itemView.mode\" === args.fullName) {\n            this._switchView(args.value);\n          } else {\n            this.repaint();\n          }\n\n          break;\n\n        case \"toolbar\":\n          this._toolbar.option((0, _extend.extend)(true, args.value.items ? {\n            generalItems: args.value.items\n          } : {}, args.value.fileSelectionItems ? {\n            fileItems: args.value.fileSelectionItems\n          } : {}));\n\n          break;\n\n        case \"contextMenu\":\n          this._itemView.option(\"contextMenu\", this._createContextMenu(true));\n\n          this._filesTreeView.option(\"contextMenu\", this._createContextMenu());\n\n          break;\n\n        case \"onCurrentDirectoryChanged\":\n          this._onCurrentDirectoryChangedAction = this._createActionByOption(\"onCurrentDirectoryChanged\");\n          break;\n\n        case \"onSelectedFileOpened\":\n          this._onSelectedFileOpenedAction = this._createActionByOption(\"onSelectedFileOpened\");\n          break;\n\n        default:\n          _get(_getPrototypeOf(FileManager.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"executeCommand\",\n    value: function value(commandName) {\n      return this._commandManager.executeCommand(commandName);\n    }\n  }, {\n    key: \"_setCurrentDirectory\",\n    value: function value(directoryInfo) {\n      this._controller.setCurrentDirectory(directoryInfo);\n    }\n  }, {\n    key: \"_getCurrentDirectory\",\n    value: function value() {\n      return this._controller.getCurrentDirectory();\n    }\n  }, {\n    key: \"_onSelectedDirectoryChanged\",\n    value: function value() {\n      var currentPath = this._controller.getCurrentPath();\n\n      this._filesTreeView.updateCurrentDirectory();\n\n      this._itemView.refresh();\n\n      this._breadcrumbs.setCurrentDirectory(this._getCurrentDirectory());\n\n      this.option(\"currentPath\", currentPath);\n\n      this._onCurrentDirectoryChangedAction();\n    }\n  }, {\n    key: \"getDirectories\",\n    value: function value(parentDirectoryInfo) {\n      return this._controller.getDirectories(parentDirectoryInfo);\n    }\n  }, {\n    key: \"_getSelectedItemInfos\",\n    value: function value() {\n      return this._itemView.getSelectedItems();\n    }\n  }, {\n    key: \"refresh\",\n    value: function value() {\n      return this.executeCommand(\"refresh\");\n    }\n  }, {\n    key: \"getCurrentDirectory\",\n    value: function value() {\n      var directoryInfo = this._getCurrentDirectory();\n\n      return directoryInfo && directoryInfo.fileItem || null;\n    }\n  }, {\n    key: \"getSelectedItems\",\n    value: function value() {\n      return this._getSelectedItemInfos().map(function (itemInfo) {\n        return itemInfo.fileItem;\n      });\n    }\n  }, {\n    key: \"_onSelectedItemOpened\",\n    value: function value(_ref7) {\n      var fileItemInfo = _ref7.fileItemInfo;\n      var fileItem = fileItemInfo.fileItem;\n\n      if (!fileItem.isDirectory) {\n        this._onSelectedFileOpenedAction({\n          fileItem: fileItem\n        });\n\n        return;\n      }\n\n      var newCurrentDirectory = fileItem.isParentFolder ? this._getCurrentDirectory().parentDirectory : fileItemInfo;\n\n      this._setCurrentDirectory(newCurrentDirectory);\n\n      if (newCurrentDirectory) {\n        this._filesTreeView.expandDirectory(newCurrentDirectory.parentDirectory);\n      }\n    }\n  }, {\n    key: \"_setCurrentPath\",\n    value: function value(path) {\n      this._controller.setCurrentPath(path);\n    }\n  }]);\n\n  return FileManager;\n}(_ui2.default);\n\n(0, _component_registrator2.default)(\"dxFileManager\", FileManager);\nmodule.exports = FileManager;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/file_manager/ui.file_manager.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_events_engine","_events_engine2","_extend","_type","_type2","_deferred","_message","_message2","_component_registrator","_component_registrator2","_ui","_ui2","_notify","_notify2","_file_items_controller","_file_items_controller2","_uiFile_manager","_uiFile_manager2","_uiFile_manager3","_uiFile_manager4","_uiFile_manager5","_uiFile_managerItem_list","_uiFile_managerItem_list2","_uiFile_managerItem_list3","_uiFile_managerItem_list4","_uiFile_manager6","_uiFile_manager7","_uiFile_manager8","_uiFile_manager9","_uiFile_manager10","_uiFile_manager11","_uiFile_manager12","_uiFile_manager13","_uiFile_manager14","_uiFile_manager15","obj","Symbol","_typeof","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Object","Array","i","arr2","arr","instance","props","descriptor","_defineProperties","Constructor","call","_assertThisInitialized","Reflect","_get","base","_superPropBase","desc","receiver","object","_getPrototypeOf","o","subClass","superClass","constructor","value","writable","configurable","_setPrototypeOf","FILE_MANAGER_CLASS","FILE_MANAGER_WRAPPER_CLASS","FILE_MANAGER_CONTAINER_CLASS","FILE_MANAGER_DIRS_PANEL_CLASS","FILE_MANAGER_INACTIVE_AREA_CLASS","FILE_MANAGER_EDITING_CONTAINER_CLASS","FILE_MANAGER_ITEMS_PANEL_CLASS","FILE_MANAGER_ITEM_CUSTOM_THUMBNAIL_CLASS","FileManager","_inherits","_classCallCheck","_possibleConstructorReturn","_createClass","key","currentPath","rootText","fileProvider","allowedFileExtensions","maxUploadFileSize","onSelectedDirectoryChanged","_this","$notificationControl","progressPanelContainer","contentTemplate","onActionProgress","$toolbar","commandManager","generalItems","fileItems","itemViewMode","mode","_this2","$container","drawerTemplate","onAdaptiveStateChanged","_this3","$editingContainer","controller","model","getMultipleSelectedItems","getItemThumbnail","onSuccess","updatedOnlyFiles","_ref","onCreating","_this4","$filesTreeView","storeExpandedState","contextMenu","getDirectories","getCurrentDirectory","onDirectoryClick","onClick","_this5","itemViewOptions","options","selectionMode","getItems","onError","error","_ref2","onSelectionChanged","onSelectedItemOpened","customizeDetailColumns","$itemView","viewMode","widgetClass","_this6","$breadcrumbs","rootFolderDisplayName","onCurrentDirectoryChanging","currentDirectory","_ref3","onOutsideClick","$contextMenu","items","isolateCreationItemCommands","_this7","actions","refresh","thumbnails","details","clear","showNavPane","itemData","_ref4","enabled","_ref5","message","_ref6","status","_this8","$activeArea","$inactiveArea","widget","width","isSuccess","selectedDir","itemInfos","parentDirItem","itemInfosCopy","_toConsumableArray","fileItem","icon","func","thumbnail","fileInfo","cssClass","rootFolderName","toolbar","name","location","fileSelectionItems","itemView","showFolders","showParentFolder","customizeThumbnail","onCurrentDirectoryChanged","onSelectedFileOpened","upload","maxFileSize","permissions","create","copy","move","remove","rename","download","args","directoryInfo","itemInfo","fileItemInfo","_ref7","newCurrentDirectory","module"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,SAAS,GAAGC,OAAO,CAAvB,qBAAuB,CAAvB;;AACA,IAAIC,UAAU,GAAGC,sBAAsB,CAAvC,SAAuC,CAAvC;;AACA,IAAIC,cAAc,GAAGH,OAAO,CAA5B,iCAA4B,CAA5B;;AACA,IAAII,eAAe,GAAGF,sBAAsB,CAA5C,cAA4C,CAA5C;;AACA,IAAIG,OAAO,GAAGL,OAAO,CAArB,yBAAqB,CAArB;;AACA,IAAIM,KAAK,GAAGN,OAAO,CAAnB,uBAAmB,CAAnB;;AACA,IAAIO,MAAM,GAAGL,sBAAsB,CAAnC,KAAmC,CAAnC;;AACA,IAAIM,SAAS,GAAGR,OAAO,CAAvB,2BAAuB,CAAvB;;AACA,IAAIS,QAAQ,GAAGT,OAAO,CAAtB,4BAAsB,CAAtB;;AACA,IAAIU,SAAS,GAAGR,sBAAsB,CAAtC,QAAsC,CAAtC;;AACA,IAAIS,sBAAsB,GAAGX,OAAO,CAApC,kCAAoC,CAApC;;AACA,IAAIY,uBAAuB,GAAGV,sBAAsB,CAApD,sBAAoD,CAApD;;AACA,IAAIW,GAAG,GAAGb,OAAO,CAAjB,qBAAiB,CAAjB;;AACA,IAAIc,IAAI,GAAGZ,sBAAsB,CAAjC,GAAiC,CAAjC;;AACA,IAAIa,OAAO,GAAGf,OAAO,CAArB,WAAqB,CAArB;;AACA,IAAIgB,QAAQ,GAAGd,sBAAsB,CAArC,OAAqC,CAArC;;AACA,IAAIe,sBAAsB,GAAGjB,OAAO,CAApC,yBAAoC,CAApC;;AACA,IAAIkB,uBAAuB,GAAGhB,sBAAsB,CAApD,sBAAoD,CAApD;;AACA,IAAIiB,eAAe,GAAGnB,OAAO,CAA7B,mCAA6B,CAA7B;;AACA,IAAIoB,gBAAgB,GAAGpB,OAAO,CAA9B,gCAA8B,CAA9B;;AACA,IAAIqB,gBAAgB,GAAGnB,sBAAsB,CAA7C,gBAA6C,CAA7C;;AACA,IAAIoB,gBAAgB,GAAGtB,OAAO,CAA9B,mCAA8B,CAA9B;;AACA,IAAIuB,gBAAgB,GAAGrB,sBAAsB,CAA7C,gBAA6C,CAA7C;;AACA,IAAIsB,wBAAwB,GAAGxB,OAAO,CAAtC,qCAAsC,CAAtC;;AACA,IAAIyB,yBAAyB,GAAGvB,sBAAsB,CAAtD,wBAAsD,CAAtD;;AACA,IAAIwB,yBAAyB,GAAG1B,OAAO,CAAvC,wCAAuC,CAAvC;;AACA,IAAI2B,yBAAyB,GAAGzB,sBAAsB,CAAtD,yBAAsD,CAAtD;;AACA,IAAI0B,gBAAgB,GAAG5B,OAAO,CAA9B,2BAA8B,CAA9B;;AACA,IAAI6B,gBAAgB,GAAG3B,sBAAsB,CAA7C,gBAA6C,CAA7C;;AACA,IAAI4B,gBAAgB,GAAG9B,OAAO,CAA9B,gCAA8B,CAA9B;;AACA,IAAI+B,gBAAgB,GAAG7B,sBAAsB,CAA7C,gBAA6C,CAA7C;;AACA,IAAI8B,iBAAiB,GAAGhC,OAAO,CAA/B,2BAA+B,CAA/B;;AACA,IAAIiC,iBAAiB,GAAG/B,sBAAsB,CAA9C,iBAA8C,CAA9C;;AACA,IAAIgC,iBAAiB,GAAGlC,OAAO,CAA/B,+BAA+B,CAA/B;;AACA,IAAImC,iBAAiB,GAAGjC,sBAAsB,CAA9C,iBAA8C,CAA9C;;AACA,IAAIkC,iBAAiB,GAAGpC,OAAO,CAA/B,8BAA+B,CAA/B;;AACA,IAAIqC,iBAAiB,GAAGnC,sBAAsB,CAA9C,iBAA8C,CAA9C;;AAEA,SAAA,sBAAA,CAAA,GAAA,EAAqC;AACjC,SAAOoC,GAAG,IAAIA,GAAG,CAAVA,UAAAA,GAAAA,GAAAA,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AAED,SAAA,OAAA,CAAA,GAAA,EAAsB;AAClB,MAAI,eAAe,OAAf,MAAA,IAAgC,aAAa,OAAOC,MAAM,CAA9D,QAAA,EAAyE;AACrEC,IAAAA,OAAO,GAAG,SAAA,OAAA,CAAA,GAAA,EAAc;AACpB,aAAO,OAAP,GAAA;AADJA,KAAAA;AADJ,GAAA,MAIO;AACHA,IAAAA,OAAO,GAAG,SAAA,OAAA,CAAA,GAAA,EAAc;AACpB,aAAOF,GAAG,IAAI,eAAe,OAAtBA,MAAAA,IAAuCA,GAAG,CAAHA,WAAAA,KAAvCA,MAAAA,IAAqEA,GAAG,KAAKC,MAAM,CAAnFD,SAAAA,GAAAA,QAAAA,GAA2G,OAAlH,GAAA;AADJE,KAAAA;AAGH;;AACD,SAAOA,OAAO,CAAd,GAAc,CAAd;AACH;;AAED,SAAA,kBAAA,CAAA,GAAA,EAAiC;AAC7B,SAAOC,kBAAkB,CAAlBA,GAAkB,CAAlBA,IAA2BC,gBAAgB,CAA3CD,GAA2C,CAA3CA,IAAoDE,kBAA3D,EAAA;AACH;;AAED,SAAA,kBAAA,GAA8B;AAC1B,QAAM,IAAA,SAAA,CAAN,iDAAM,CAAN;AACH;;AAED,SAAA,gBAAA,CAAA,IAAA,EAAgC;AAC5B,MAAIJ,MAAM,CAANA,QAAAA,IAAmBK,MAAM,CAAzBL,IAAyB,CAAzBA,IAAmC,yBAAyBK,MAAM,CAANA,SAAAA,CAAAA,QAAAA,CAAAA,IAAAA,CAAhE,IAAgEA,CAAhE,EAAsG;AAClG,WAAOC,KAAK,CAALA,IAAAA,CAAP,IAAOA,CAAP;AACH;AACJ;;AAED,SAAA,kBAAA,CAAA,GAAA,EAAiC;AAC7B,MAAIA,KAAK,CAALA,OAAAA,CAAJ,GAAIA,CAAJ,EAAwB;AACpB,SAAK,IAAIC,CAAC,GAAL,CAAA,EAAWC,IAAI,GAAG,IAAA,KAAA,CAAUC,GAAG,CAApC,MAAuB,CAAvB,EAA8CF,CAAC,GAAGE,GAAG,CAArD,MAAA,EAA8DF,CAA9D,EAAA,EAAmE;AAC/DC,MAAAA,IAAI,CAAJA,CAAI,CAAJA,GAAUC,GAAG,CAAbD,CAAa,CAAbA;AACH;;AACD,WAAA,IAAA;AACH;AACJ;;AAED,SAAA,eAAA,CAAA,QAAA,EAAA,WAAA,EAAgD;AAC5C,MAAI,EAAEE,QAAQ,YAAd,WAAI,CAAJ,EAAwC;AACpC,UAAM,IAAA,SAAA,CAAN,mCAAM,CAAN;AACH;AACJ;;AAED,SAAA,iBAAA,CAAA,MAAA,EAAA,KAAA,EAA0C;AACtC,OAAK,IAAIH,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGI,KAAK,CAAzB,MAAA,EAAkCJ,CAAlC,EAAA,EAAuC;AACnC,QAAIK,UAAU,GAAGD,KAAK,CAAtB,CAAsB,CAAtB;AACAC,IAAAA,UAAU,CAAVA,UAAAA,GAAwBA,UAAU,CAAVA,UAAAA,IAAxBA,KAAAA;AACAA,IAAAA,UAAU,CAAVA,YAAAA,GAAAA,IAAAA;;AACA,QAAI,WAAJ,UAAA,EAA2B;AACvBA,MAAAA,UAAU,CAAVA,QAAAA,GAAAA,IAAAA;AACH;;AACDP,IAAAA,MAAM,CAANA,cAAAA,CAAAA,MAAAA,EAA8BO,UAAU,CAAxCP,GAAAA,EAAAA,UAAAA;AACH;AACJ;;AAED,SAAA,YAAA,CAAA,WAAA,EAAA,UAAA,EAAA,WAAA,EAA4D;AACxD,MAAA,UAAA,EAAgB;AACZQ,IAAAA,iBAAiB,CAACC,WAAW,CAAZ,SAAA,EAAjBD,UAAiB,CAAjBA;AACH;;AACD,MAAA,WAAA,EAAiB;AACbA,IAAAA,iBAAiB,CAAA,WAAA,EAAjBA,WAAiB,CAAjBA;AACH;;AACD,SAAA,WAAA;AACH;;AAED,SAAA,0BAAA,CAAA,IAAA,EAAA,IAAA,EAAgD;AAC5C,MAAIE,IAAI,KAAK,aAAad,OAAO,CAApB,IAAoB,CAApB,IAA8B,eAAe,OAA1D,IAAQ,CAAR,EAAwE;AACpE,WAAA,IAAA;AACH;;AACD,SAAOe,sBAAsB,CAA7B,IAA6B,CAA7B;AACH;;AAED,SAAA,sBAAA,CAAA,IAAA,EAAsC;AAClC,MAAI,KAAA,CAAA,KAAJ,IAAA,EAAqB;AACjB,UAAM,IAAA,cAAA,CAAN,2DAAM,CAAN;AACH;;AACD,SAAA,IAAA;AACH;;AAED,SAAA,IAAA,CAAA,MAAA,EAAA,QAAA,EAAA,QAAA,EAA0C;AACtC,MAAI,gBAAgB,OAAhB,OAAA,IAAkCC,OAAO,CAA7C,GAAA,EAAmD;AAC/CC,IAAAA,IAAI,GAAGD,OAAO,CAAdC,GAAAA;AADJ,GAAA,MAEO;AACHA,IAAAA,IAAI,GAAG,SAAA,IAAA,CAAA,MAAA,EAAA,QAAA,EAAA,QAAA,EAAqC;AACxC,UAAIC,IAAI,GAAGC,cAAc,CAAA,MAAA,EAAzB,QAAyB,CAAzB;;AACA,UAAI,CAAJ,IAAA,EAAW;AACP;AACH;;AACD,UAAIC,IAAI,GAAGhB,MAAM,CAANA,wBAAAA,CAAAA,IAAAA,EAAX,QAAWA,CAAX;;AACA,UAAIgB,IAAI,CAAR,GAAA,EAAc;AACV,eAAOA,IAAI,CAAJA,GAAAA,CAAAA,IAAAA,CAAP,QAAOA,CAAP;AACH;;AACD,aAAOA,IAAI,CAAX,KAAA;AATJH,KAAAA;AAWH;;AACD,SAAOA,IAAI,CAAA,MAAA,EAAA,QAAA,EAAmBI,QAAQ,IAAtC,MAAW,CAAX;AACH;;AAED,SAAA,cAAA,CAAA,MAAA,EAAA,QAAA,EAA0C;AACtC,SAAO,CAACjB,MAAM,CAANA,SAAAA,CAAAA,cAAAA,CAAAA,IAAAA,CAAAA,MAAAA,EAAR,QAAQA,CAAR,EAAgE;AAC5DkB,IAAAA,MAAM,GAAGC,eAAe,CAAxBD,MAAwB,CAAxBA;;AACA,QAAI,SAAJ,MAAA,EAAqB;AACjB;AACH;AACJ;;AACD,SAAA,MAAA;AACH;;AAED,SAAA,eAAA,CAAA,CAAA,EAA4B;AACxBC,EAAAA,eAAe,GAAGnB,MAAM,CAANA,cAAAA,GAAwBA,MAAM,CAA9BA,cAAAA,GAAgD,UAAA,CAAA,EAAY;AAC1E,WAAOoB,CAAC,CAADA,SAAAA,IAAepB,MAAM,CAANA,cAAAA,CAAtB,CAAsBA,CAAtB;AADJmB,GAAAA;AAGA,SAAOA,eAAe,CAAtB,CAAsB,CAAtB;AACH;;AAED,SAAA,SAAA,CAAA,QAAA,EAAA,UAAA,EAAyC;AACrC,MAAI,eAAe,OAAf,UAAA,IAAoC,SAAxC,UAAA,EAA6D;AACzD,UAAM,IAAA,SAAA,CAAN,oDAAM,CAAN;AACH;;AACDE,EAAAA,QAAQ,CAARA,SAAAA,GAAqB,MAAM,CAAN,MAAA,CAAcC,UAAU,IAAIA,UAAU,CAAtC,SAAA,EAAkD;AACnEC,IAAAA,WAAW,EAAE;AACTC,MAAAA,KAAK,EADI,QAAA;AAETC,MAAAA,QAAQ,EAFC,IAAA;AAGTC,MAAAA,YAAY,EAAE;AAHL;AADsD,GAAlD,CAArBL;;AAOA,MAAA,UAAA,EAAgB;AACZM,IAAAA,eAAe,CAAA,QAAA,EAAfA,UAAe,CAAfA;AACH;AACJ;;AAED,SAAA,eAAA,CAAA,CAAA,EAAA,CAAA,EAA+B;AAC3BA,EAAAA,eAAe,GAAG3B,MAAM,CAANA,cAAAA,IAAyB,UAAA,CAAA,EAAA,CAAA,EAAe;AACtDoB,IAAAA,CAAC,CAADA,SAAAA,GAAAA,CAAAA;AACA,WAAA,CAAA;AAFJO,GAAAA;;AAIA,SAAOA,eAAe,CAAA,CAAA,EAAtB,CAAsB,CAAtB;AACH;;AACD,IAAIC,kBAAkB,GAAtB,gBAAA;AACA,IAAIC,0BAA0B,GAAGD,kBAAkB,GAAnD,UAAA;AACA,IAAIE,4BAA4B,GAAGF,kBAAkB,GAArD,YAAA;AACA,IAAIG,6BAA6B,GAAGH,kBAAkB,GAAtD,aAAA;AACA,IAAII,gCAAgC,GAAGJ,kBAAkB,GAAzD,gBAAA;AACA,IAAIK,oCAAoC,GAAGL,kBAAkB,GAA7D,oBAAA;AACA,IAAIM,8BAA8B,GAAGN,kBAAkB,GAAvD,cAAA;AACA,IAAIO,wCAAwC,GAAGP,kBAAkB,GAAjE,wBAAA;;AACA,IAAIQ,WAAW,GAAG,UAAA,OAAA,EAAkB;AAChCC,EAAAA,SAAS,CAAA,WAAA,EAATA,OAAS,CAATA;;AAEA,WAAA,WAAA,GAAuB;AACnBC,IAAAA,eAAe,CAAA,IAAA,EAAfA,WAAe,CAAfA;;AACA,WAAOC,0BAA0B,CAAA,IAAA,EAAOpB,eAAe,CAAfA,WAAe,CAAfA,CAAAA,KAAAA,CAAAA,IAAAA,EAAxC,SAAwCA,CAAP,CAAjC;AACH;;AACDqB,EAAAA,YAAY,CAAA,WAAA,EAAc,CAAC;AACvBC,IAAAA,GAAG,EADoB,gBAAA;AAEvBjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW,CAAE;AAFG,GAAD,EAGvB;AACCiB,IAAAA,GAAG,EADJ,aAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACdX,MAAAA,IAAI,CAACM,eAAe,CAACiB,WAAW,CAA5B,SAAgB,CAAhB,EAAA,aAAA,EAAJvB,IAAI,CAAJA,CAAAA,IAAAA,CAAAA,IAAAA;;AACA,WAAA,gCAAA,GAAwC,KAAA,qBAAA,CAAxC,2BAAwC,CAAxC;AACA,WAAA,2BAAA,GAAmC,KAAA,qBAAA,CAAnC,sBAAmC,CAAnC;AACA,WAAA,WAAA,GAAmB,IAAIvC,uBAAuB,CAA3B,OAAA,CAAoC;AACnDoE,QAAAA,WAAW,EAAE,KAAA,MAAA,CADsC,aACtC,CADsC;AAEnDC,QAAAA,QAAQ,EAAE,KAAA,MAAA,CAFyC,gBAEzC,CAFyC;AAGnDC,QAAAA,YAAY,EAAE,KAAA,MAAA,CAHqC,cAGrC,CAHqC;AAInDC,QAAAA,qBAAqB,EAAE,KAAA,MAAA,CAJ4B,uBAI5B,CAJ4B;AAKnDC,QAAAA,iBAAiB,EAAE,KAAA,MAAA,CAAA,QAAA,EALgC,WAAA;AAMnDC,QAAAA,0BAA0B,EAAE,KAAA,2BAAA,CAAA,IAAA,CAAA,IAAA;AANuB,OAApC,CAAnB;AAQA,WAAA,eAAA,GAAuB,IAAIxE,eAAe,CAAnB,yBAAA,CAA8C,KAAA,MAAA,CAArE,aAAqE,CAA9C,CAAvB;AACA,WAAA,QAAA,GAAA,QAAA,CAAA,kBAAA;;AACA,WAAA,0BAAA;;AACA,WAAA,mBAAA;;AACA,WAAA,uBAAA,CAAA,KAAA;AACH;AAnBF,GAHuB,EAuBvB;AACCkE,IAAAA,GAAG,EADJ,4BAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAIwB,KAAK,GAAT,IAAA;;AACA,UAAIC,oBAAoB,GAAG,CAAC,GAAG5F,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAAA,uCAAA,EAAA,QAAA,CAA4F,KAAvH,QAAuH,EAA5F,CAA3B;AACA,WAAA,oBAAA,GAA4B,KAAA,gBAAA,CAAA,oBAAA,EAA4C8B,gBAAgB,CAA5D,OAAA,EAAsE;AAC9F+D,QAAAA,sBAAsB,EAAE,KADsE,QACtE,EADsE;AAE9FC,QAAAA,eAAe,EAAE,SAAA,eAAA,CAAA,SAAA,EAAoB;AACjC,iBAAOH,KAAK,CAALA,cAAAA,CAAP,SAAOA,CAAP;AAH0F,SAAA;AAK9FI,QAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,CAAA,EAAY;AAC1B,iBAAOJ,KAAK,CAALA,iBAAAA,CAAP,CAAOA,CAAP;AACH;AAP6F,OAAtE,CAA5B;;AASA,WAAA,QAAA,CAAA,MAAA,CAAA,qBAAA,EAA4C,KAA5C,oBAAA;AACH;AAfF,GAvBuB,EAuCvB;AACCP,IAAAA,GAAG,EADJ,gBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvB,WAAA,SAAA,GAAiB,CAAC,GAAGnE,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAAA,0BAAA,EAAA,QAAA,CAAjB,SAAiB,CAAjB;;AACA,WAAA,cAAA;;AACA,UAAIgG,QAAQ,GAAG,CAAC,GAAGhG,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAA0C,KAAzD,SAAe,CAAf;AACA,WAAA,QAAA,GAAgB,KAAA,gBAAA,CAAA,QAAA,EAAgC4B,gBAAgB,CAAhD,OAAA,EAA0D;AACtEqE,QAAAA,cAAc,EAAE,KADsD,eAAA;AAEtEC,QAAAA,YAAY,EAAE,KAAA,MAAA,CAFwD,eAExD,CAFwD;AAGtEC,QAAAA,SAAS,EAAE,KAAA,MAAA,CAH2D,4BAG3D,CAH2D;AAItEC,QAAAA,YAAY,EAAE,KAAA,MAAA,CAAA,UAAA,EAAwBC;AAJgC,OAA1D,CAAhB;;AAMA,WAAA,wBAAA;AACH;AAbF,GAvCuB,EAqDvB;AACCjB,IAAAA,GAAG,EADJ,0BAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAImC,MAAM,GAAV,IAAA;;AACA,UAAIC,UAAU,GAAG,CAAC,GAAGvG,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAAA,4BAAA,EAAA,QAAA,CAAiF,KAAlG,SAAiB,CAAjB;AACA,WAAA,kBAAA,GAA0B,KAAA,gBAAA,CAAA,UAAA,EAAkCoC,iBAAiB,CAAnD,OAAA,EAA6D;AACnFoE,QAAAA,cAAc,EAAE,SAAA,cAAA,CAAA,SAAA,EAAoB;AAChC,iBAAOF,MAAM,CAANA,oBAAAA,CAAP,SAAOA,CAAP;AAF+E,SAAA;AAInFR,QAAAA,eAAe,EAAE,SAAA,eAAA,CAAA,SAAA,EAAoB;AACjC,iBAAOQ,MAAM,CAANA,iBAAAA,CAAP,SAAOA,CAAP;AAL+E,SAAA;AAOnFG,QAAAA,sBAAsB,EAAE,SAAA,sBAAA,CAAA,CAAA,EAAY;AAChC,iBAAOH,MAAM,CAANA,uBAAAA,CAAP,CAAOA,CAAP;AACH;AATkF,OAA7D,CAA1B;AAWH;AAhBF,GArDuB,EAsEvB;AACClB,IAAAA,GAAG,EADJ,gBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAIuC,MAAM,GAAV,IAAA;;AACA,UAAIC,iBAAiB,GAAG,CAAC,GAAG3G,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAAA,oCAAA,EAAA,QAAA,CAAyF,KAAjH,QAAiH,EAAzF,CAAxB;AACA,WAAA,QAAA,GAAgB,KAAA,gBAAA,CAAA,iBAAA,EAAyCgC,iBAAiB,CAA1D,OAAA,EAAoE;AAChF4E,QAAAA,UAAU,EAAE,KADoE,WAAA;AAEhFC,QAAAA,KAAK,EAAE;AACHC,UAAAA,wBAAwB,EAAE,KAAA,yBAAA,CAAA,IAAA,CAAA,IAAA;AADvB,SAFyE;AAKhFC,QAAAA,gBAAgB,EAAE,KAAA,qBAAA,CAAA,IAAA,CAL8D,IAK9D,CAL8D;AAMhFC,QAAAA,SAAS,EAAE,SAAA,SAAA,CAAA,IAAA,EAAe;AACtB,cAAIC,gBAAgB,GAAGC,IAAI,CAA3B,gBAAA;AACA,iBAAOR,MAAM,CAANA,gBAAAA,CAAP,gBAAOA,CAAP;AAR4E,SAAA;AAUhFS,QAAAA,UAAU,EAAE,SAAA,UAAA,GAAW;AACnB,iBAAOT,MAAM,CAANA,uBAAAA,CAAP,KAAOA,CAAP;AACH;AAZ+E,OAApE,CAAhB;AAcH;AAnBF,GAtEuB,EA0FvB;AACCtB,IAAAA,GAAG,EADJ,mBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,UAAA,EAAqB;AACxB,WAAA,YAAA,GAAoB,CAAC,GAAGnE,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAAA,8BAAA,EAAA,QAAA,CAApB,UAAoB,CAApB;;AACA,WAAA,kBAAA,CAAwB,KAAxB,YAAA;;AACA,WAAA,eAAA,CAAqB,KAArB,YAAA;AACH;AANF,GA1FuB,EAiGvB;AACCoF,IAAAA,GAAG,EADJ,sBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvB,UAAIiD,MAAM,GAAV,IAAA;;AACA,UAAIC,cAAc,GAAG,CAAC,GAAGrH,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAAA,6BAAA,EAAA,QAAA,CAArB,SAAqB,CAArB;AACA,WAAA,cAAA,GAAsB,KAAA,gBAAA,CAAA,cAAA,EAAsCsB,gBAAgB,CAAtD,OAAA,EAAgE;AAClFgG,QAAAA,kBAAkB,EADgE,IAAA;AAElFC,QAAAA,WAAW,EAAE,KAFqE,kBAErE,EAFqE;AAGlFC,QAAAA,cAAc,EAAE,KAAA,cAAA,CAAA,IAAA,CAHkE,IAGlE,CAHkE;AAIlFC,QAAAA,mBAAmB,EAAE,KAAA,oBAAA,CAAA,IAAA,CAJ6D,IAI7D,CAJ6D;AAKlFC,QAAAA,gBAAgB,EAAE,KAAA,8BAAA,CAAA,IAAA,CALgE,IAKhE,CALgE;AAMlFC,QAAAA,OAAO,EAAE,SAAA,OAAA,GAAW;AAChB,iBAAOP,MAAM,CAANA,uBAAAA,CAAP,KAAOA,CAAP;AACH;AARiF,OAAhE,CAAtB;AAUH;AAfF,GAjGuB,EAiHvB;AACChC,IAAAA,GAAG,EADJ,iBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,UAAA,EAAA,QAAA,EAA+B;AAClC,UAAIyD,MAAM,GAAV,IAAA;;AACA,UAAIC,eAAe,GAAG,KAAA,MAAA,CAAtB,UAAsB,CAAtB;AACA,UAAIC,OAAO,GAAG;AACVC,QAAAA,aAAa,EAAE,KAAA,MAAA,CADL,eACK,CADL;AAEVR,QAAAA,WAAW,EAAE,KAAA,kBAAA,CAFH,IAEG,CAFH;AAGVS,QAAAA,QAAQ,EAAE,KAAA,iBAAA,CAAA,IAAA,CAHA,IAGA,CAHA;AAIVC,QAAAA,OAAO,EAAE,SAAA,OAAA,CAAA,KAAA,EAAgB;AACrB,cAAIC,KAAK,GAAGC,KAAK,CAAjB,KAAA;AACA,iBAAOP,MAAM,CAANA,UAAAA,CAAP,KAAOA,CAAP;AANM,SAAA;AAQVQ,QAAAA,kBAAkB,EAAE,KAAA,2BAAA,CAAA,IAAA,CARV,IAQU,CARV;AASVC,QAAAA,oBAAoB,EAAE,KAAA,qBAAA,CAAA,IAAA,CATZ,IASY,CATZ;AAUVtB,QAAAA,gBAAgB,EAAE,KAAA,qBAAA,CAAA,IAAA,CAVR,IAUQ,CAVR;AAWVuB,QAAAA,sBAAsB,EAAE,KAAA,MAAA,CAAA,wBAAA;AAXd,OAAd;AAaA,UAAIC,SAAS,GAAG,CAAC,GAAGvI,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAAhB,UAAgB,CAAhB;AACAwI,MAAAA,QAAQ,GAAGA,QAAQ,IAAIX,eAAe,CAAtCW,IAAAA;AACA,UAAIC,WAAW,GAAG,iBAAA,QAAA,GAA4B/G,yBAAyB,CAArD,OAAA,GAAgEF,yBAAyB,CAA3G,OAAA;AACA,WAAA,SAAA,GAAiB,KAAA,gBAAA,CAAA,SAAA,EAAA,WAAA,EAAjB,OAAiB,CAAjB;;AACArB,MAAAA,eAAe,CAAfA,OAAAA,CAAAA,EAAAA,CAAAA,SAAAA,EAAAA,OAAAA,EAA+C,KAAA,gBAAA,CAAA,IAAA,CAA/CA,IAA+C,CAA/CA;AACH;AAvBF,GAjHuB,EAyIvB;AACCiF,IAAAA,GAAG,EADJ,oBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,UAAA,EAAqB;AACxB,UAAIuE,MAAM,GAAV,IAAA;;AACA,UAAIC,YAAY,GAAG,CAAC,GAAG3I,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAAnB,UAAmB,CAAnB;AACA,WAAA,YAAA,GAAoB,KAAA,gBAAA,CAAA,YAAA,EAAoCkC,iBAAiB,CAArD,OAAA,EAA+D;AAC/E0G,QAAAA,qBAAqB,EAAE,KAAA,MAAA,CADwD,gBACxD,CADwD;AAE/EC,QAAAA,0BAA0B,EAAE,SAAA,0BAAA,CAAA,KAAA,EAAgB;AACxC,cAAIC,gBAAgB,GAAGC,KAAK,CAA5B,gBAAA;AACA,iBAAOL,MAAM,CAANA,oBAAAA,CAAP,gBAAOA,CAAP;AAJ2E,SAAA;AAM/EM,QAAAA,cAAc,EAAE,SAAA,cAAA,GAAW;AACvB,iBAAON,MAAM,CAAb,eAAOA,EAAP;AACH;AAR8E,OAA/D,CAApB;;AAUA,WAAA,YAAA,CAAA,mBAAA,CAAsC,KAAtC,oBAAsC,EAAtC;AACH;AAhBF,GAzIuB,EA0JvB;AACCtD,IAAAA,GAAG,EADJ,oBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,2BAAA,EAAsC;AACzC,UAAI8E,YAAY,GAAG,CAAC,GAAGjJ,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAA0C,KAA7D,SAAmB,CAAnB;AACA,aAAO,KAAA,gBAAA,CAAA,YAAA,EAAoCoB,gBAAgB,CAApD,OAAA,EAA8D;AACjE6E,QAAAA,cAAc,EAAE,KADiD,eAAA;AAEjEiD,QAAAA,KAAK,EAAE,KAAA,MAAA,CAF0D,mBAE1D,CAF0D;AAGjEC,QAAAA,2BAA2B,EAAEA;AAHoC,OAA9D,CAAP;AAKH;AATF,GA1JuB,EAoKvB;AACC/D,IAAAA,GAAG,EADJ,qBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAIiF,MAAM,GAAV,IAAA;;AACA,UAAIC,OAAO,GAAG,CAAC,GAAGjJ,OAAO,CAAX,MAAA,EAAoB,KAAA,QAAA,CAApB,iBAAoB,EAApB,EAAuD;AACjEkJ,QAAAA,OAAO,EAAE,SAAA,OAAA,GAAW;AAChB,iBAAOF,MAAM,CAAb,uBAAOA,EAAP;AAF6D,SAAA;AAIjEG,QAAAA,UAAU,EAAE,SAAA,UAAA,GAAW;AACnB,iBAAOH,MAAM,CAANA,MAAAA,CAAAA,eAAAA,EAAP,YAAOA,CAAP;AAL6D,SAAA;AAOjEI,QAAAA,OAAO,EAAE,SAAA,OAAA,GAAW;AAChB,iBAAOJ,MAAM,CAANA,MAAAA,CAAAA,eAAAA,EAAP,SAAOA,CAAP;AAR6D,SAAA;AAUjEK,QAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,iBAAOL,MAAM,CAAb,eAAOA,EAAP;AAX6D,SAAA;AAajEM,QAAAA,WAAW,EAAE,SAAA,WAAA,GAAW;AACpB,iBAAON,MAAM,CAANA,kBAAAA,CAAP,YAAOA,EAAP;AACH;AAfgE,OAAvD,CAAd;;AAiBA,WAAA,eAAA,CAAA,eAAA,CAAA,OAAA;AACH;AAtBF,GApKuB,EA2LvB;AACChE,IAAAA,GAAG,EADJ,gCAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,KAAA,EAAgB;AACnB,UAAIwF,QAAQ,GAAGC,KAAK,CAApB,QAAA;;AACA,WAAA,oBAAA,CAAA,QAAA;;AACA,WAAA,uBAAA,CAAA,KAAA;AACH;AANF,GA3LuB,EAkMvB;AACCxE,IAAAA,GAAG,EADJ,6BAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,WAAA,cAAA;AACH;AAJF,GAlMuB,EAuMvB;AACCiB,IAAAA,GAAG,EADJ,yBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,KAAA,EAAgB;AACnB,UAAI0F,OAAO,GAAGC,KAAK,CAAnB,OAAA;;AACA,WAAA,eAAA,CAAA,iBAAA,CAAA,aAAA,EAAA,OAAA;;AACA,WAAA,cAAA;AACH;AANF,GAvMuB,EA8MvB;AACC1E,IAAAA,GAAG,EADJ,mBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,KAAA,EAAgB;AACnB,UAAI4F,OAAO,GAAGC,KAAK,CAAnB,OAAA;AAAA,UACIC,MAAM,GAAGD,KAAK,CADlB,MAAA;;AAEA,WAAA,QAAA,CAAA,iBAAA,CAAA,OAAA,EAAA,MAAA;;AACA,WAAA,cAAA;AACH;AAPF,GA9MuB,EAsNvB;AACC5E,IAAAA,GAAG,EADJ,yBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAI+F,MAAM,GAAV,IAAA;;AACA,WAAA,oBAAA,CAAA,oBAAA;;AACA,aAAO,KAAA,WAAA,CAAA,OAAA,GAAA,IAAA,CAAgC,YAAW;AAC9C,eAAOA,MAAM,CAAb,gBAAOA,EAAP;AADJ,OAAO,CAAP;AAGH;AARF,GAtNuB,EA+NvB;AACC9E,IAAAA,GAAG,EADJ,gBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAI+E,KAAK,GAAG,KAAZ,qBAAY,EAAZ;;AACA,WAAA,QAAA,CAAA,MAAA,CAAA,KAAA;AACH;AALF,GA/NuB,EAqOvB;AACC9D,IAAAA,GAAG,EADJ,yBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,MAAA,EAAiB;AACpB,UAAI,KAAA,oBAAA,KAAJ,MAAA,EAA0C;AACtC;AACH;;AACD,WAAA,oBAAA,GAAA,MAAA;AACA,UAAIgG,WAAW,GAAf,IAAA;AACA,UAAIC,aAAa,GAAjB,IAAA;;AACA,UAAA,MAAA,EAAY;AACRD,QAAAA,WAAW,GAAG,KAAA,SAAA,CAAdA,QAAc,EAAdA;AACAC,QAAAA,aAAa,GAAG,KAAA,cAAA,CAAhBA,QAAgB,EAAhBA;AAFJ,OAAA,MAGO;AACHD,QAAAA,WAAW,GAAG,KAAA,cAAA,CAAdA,QAAc,EAAdA;AACAC,QAAAA,aAAa,GAAG,KAAA,SAAA,CAAhBA,QAAgB,EAAhBA;AACH;;AACDD,MAAAA,WAAW,CAAXA,WAAAA,CAAAA,gCAAAA;AACAC,MAAAA,aAAa,CAAbA,QAAAA,CAAAA,gCAAAA;;AACA,UAAI,CAAJ,MAAA,EAAa;AACT,aAAA,eAAA;AACH;AACJ;AArBF,GArOuB,EA2PvB;AACChF,IAAAA,GAAG,EADJ,aAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,QAAA,EAAmB;AACtB,WAAA,cAAA,CAAoB,KAAA,SAAA,CAAA,MAAA,CAApB,aAAoB,CAApB;;AACA,WAAA,cAAA,CAAoB,KAApB,SAAA;;AACA,WAAA,eAAA,CAAqB,KAArB,YAAA,EAAA,QAAA;;AACA,WAAA,QAAA,CAAA,MAAA,CAAqB;AACjBiC,QAAAA,YAAY,EAAEoC;AADG,OAArB;AAGH;AATF,GA3PuB,EAqQvB;AACCpD,IAAAA,GAAG,EADJ,gBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,MAAA,EAAiB;AACpBkG,MAAAA,MAAM,CAANA,OAAAA;AACAA,MAAAA,MAAM,CAANA,QAAAA,GAAAA,MAAAA;AACH;AALF,GArQuB,EA2QvB;AACCjF,IAAAA,GAAG,EADJ,iBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,WAAA,SAAA,CAAA,cAAA;AACH;AAJF,GA3QuB,EAgRvB;AACCiB,IAAAA,GAAG,EADJ,2BAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,KAAA,oBAAA,GAA4B,KAA5B,qBAA4B,EAA5B,GAA2D,CAAC,KAAnE,oBAAmE,EAAD,CAAlE;AACH;AAJF,GAhRuB,EAqRvB;AACCiB,IAAAA,GAAG,EADJ,YAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,OAAA,EAAkB;AACrB,WAAA,iBAAA,CAAA,OAAA,EAAA,KAAA;AACH;AAJF,GArRuB,EA0RvB;AACCiB,IAAAA,GAAG,EADJ,mBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,OAAA,EAAA,SAAA,EAA6B;AAChC,OAAC,GAAGpD,QAAQ,CAAZ,OAAA,EAAsB;AAClBgJ,QAAAA,OAAO,EADW,OAAA;AAElBO,QAAAA,KAAK,EAAE;AAFW,OAAtB,EAGGC,SAAS,GAAA,SAAA,GAHZ,OAAA,EAAA,GAAA;AAIH;AAPF,GA1RuB,EAkSvB;AACCnF,IAAAA,GAAG,EADJ,kBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,iBAAA,EAA4B;AAC/B,OAAA,iBAAA,IAAsB,KAAA,cAAA,CAAtB,OAAsB,EAAtB;;AACA,WAAA,SAAA,CAAA,OAAA;AACH;AALF,GAlSuB,EAwSvB;AACCiB,IAAAA,GAAG,EADJ,mBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAIqG,WAAW,GAAG,KAAlB,oBAAkB,EAAlB;;AACA,UAAI,CAAJ,WAAA,EAAkB;AACd,eAAQ,IAAIjK,SAAS,CAAd,QAAC,GAAD,OAAC,CAAD,EAAC,EAAR,OAAQ,EAAR;AACH;;AACD,UAAIkK,SAAS,GAAG,KAAA,MAAA,CAAA,UAAA,EAAA,WAAA,GAAsC,KAAA,WAAA,CAAA,oBAAA,CAAtC,WAAsC,CAAtC,GAA2F,KAAA,WAAA,CAAA,QAAA,CAA3G,WAA2G,CAA3G;;AACA,UAAI,KAAA,MAAA,CAAA,2BAAA,KAA4C,CAACD,WAAW,CAAXA,QAAAA,CAAjD,MAAA,EAA8E;AAC1E,YAAIE,aAAa,GAAGF,WAAW,CAAXA,QAAAA,CAApB,WAAoBA,EAApB;AACAE,QAAAA,aAAa,CAAbA,cAAAA,GAAAA,IAAAA;AACAA,QAAAA,aAAa,CAAbA,IAAAA,GAAAA,IAAAA;AACAA,QAAAA,aAAa,CAAbA,YAAAA,GAAAA,IAAAA;AACAD,QAAAA,SAAS,GAAG,CAAC,GAAGlK,SAAS,CAAb,IAAA,EAAA,SAAA,EAAA,IAAA,CAAoC,UAAA,KAAA,EAAgB;AAC5D,cAAIoK,aAAa,GAAGC,kBAAkB,CAAtC,KAAsC,CAAtC;;AACAD,UAAAA,aAAa,CAAbA,OAAAA,CAAsB;AAClBE,YAAAA,QAAQ,EADU,aAAA;AAElBC,YAAAA,IAAI,EAAE;AAFY,WAAtBH;AAIA,iBAAA,aAAA;AANJF,SAAY,CAAZA;AAQH;;AACD,aAAA,SAAA;AACH;AAvBF,GAxSuB,EAgUvB;AACCrF,IAAAA,GAAG,EADJ,kBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,WAAA,uBAAA,CAAA,IAAA;AACH;AAJF,GAhUuB,EAqUvB;AACCiB,IAAAA,GAAG,EADJ,uBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,QAAA,EAAmB;AACtB,UAAI4G,IAAI,GAAG,KAAA,MAAA,CAAX,oBAAW,CAAX;AACA,UAAIC,SAAS,GAAG1K,MAAM,CAANA,OAAAA,CAAAA,UAAAA,CAAAA,IAAAA,IAAkCyK,IAAI,CAACE,QAAQ,CAA/C3K,QAAsC,CAAtCA,GAA4D2K,QAAQ,CAARA,QAAAA,CAA5E,SAAA;;AACA,UAAA,SAAA,EAAe;AACX,eAAO;AACHD,UAAAA,SAAS,EADN,SAAA;AAEHE,UAAAA,QAAQ,EAAEpG;AAFP,SAAP;AAIH;;AACD,aAAO;AACHkG,QAAAA,SAAS,EAAEC,QAAQ,CAACH;AADjB,OAAP;AAGH;AAdF,GArUuB,EAoVvB;AACC1F,IAAAA,GAAG,EADJ,oBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,CAAC,GAAG/D,OAAO,CAAX,MAAA,EAAoBoD,IAAI,CAACM,eAAe,CAACiB,WAAW,CAA5B,SAAgB,CAAhB,EAAA,oBAAA,EAAJvB,IAAI,CAAJA,CAAAA,IAAAA,CAApB,IAAoBA,CAApB,EAAyG;AAC5G+B,QAAAA,YAAY,EADgG,IAAA;AAE5GF,QAAAA,WAAW,EAFiG,EAAA;AAG5G8F,QAAAA,cAAc,EAAE1K,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAH4F,iCAG5FA,CAH4F;AAI5GsH,QAAAA,aAAa,EAJ+F,UAAA;AAK5GqD,QAAAA,OAAO,EAAE;AACLlC,UAAAA,KAAK,EAAE,CAAA,aAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAA+C;AAClDmC,YAAAA,IAAI,EAD8C,WAAA;AAElDC,YAAAA,QAAQ,EAAE;AAFwC,WAA/C,EADF,cACE,CADF;AAKLC,UAAAA,kBAAkB,EAAE,CAAA,UAAA,EAAA,WAAA,EAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA,WAAA,EAAA,QAAA,EAAA,SAAA,EAAA,OAAA;AALf,SALmG;AAY5GhE,QAAAA,WAAW,EAAE;AACT2B,UAAAA,KAAK,EAAE,CAAA,QAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA,SAAA,EAAA,UAAA;AADE,SAZ+F;AAe5GsC,QAAAA,QAAQ,EAAE;AACNnF,UAAAA,IAAI,EADE,SAAA;AAENoF,UAAAA,WAAW,EAFL,IAAA;AAGNC,UAAAA,gBAAgB,EAAE;AAHZ,SAfkG;AAoB5GC,QAAAA,kBAAkB,EApB0F,IAAA;AAqB5GrD,QAAAA,sBAAsB,EArBsF,IAAA;AAsB5GsD,QAAAA,yBAAyB,EAtBmF,IAAA;AAuB5GC,QAAAA,oBAAoB,EAvBwF,IAAA;AAwB5GrG,QAAAA,qBAAqB,EAAE,CAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,MAAA,EAxBqF,EAwBrF,CAxBqF;AAyB5GsG,QAAAA,MAAM,EAAE;AACJC,UAAAA,WAAW,EAAE;AADT,SAzBoG;AA4B5GC,QAAAA,WAAW,EAAE;AACTC,UAAAA,MAAM,EADG,KAAA;AAETC,UAAAA,IAAI,EAFK,KAAA;AAGTC,UAAAA,IAAI,EAHK,KAAA;AAITC,UAAAA,MAAM,EAJG,KAAA;AAKTC,UAAAA,MAAM,EALG,KAAA;AAMTP,UAAAA,MAAM,EANG,KAAA;AAOTQ,UAAAA,QAAQ,EAAE;AAPD;AA5B+F,OAAzG,CAAP;AAsCH;AAzCF,GApVuB,EA8XvB;AACClH,IAAAA,GAAG,EADJ,gBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,IAAA,EAAe;AAClB,UAAIkH,IAAI,GAAGkB,IAAI,CAAf,IAAA;;AACA,cAAA,IAAA;AACI,aAAA,aAAA;AACI,eAAA,eAAA,CAAqBA,IAAI,CAAzB,KAAA;;AACA;;AACJ,aAAA,cAAA;AACA,aAAA,eAAA;AACA,aAAA,oBAAA;AACA,aAAA,wBAAA;AACA,aAAA,gBAAA;AACA,aAAA,uBAAA;AACA,aAAA,aAAA;AACA,aAAA,QAAA;AACI,eAAA,OAAA;AACA;;AACJ,aAAA,UAAA;AACI,cAAI,oBAAoBA,IAAI,CAA5B,QAAA,EAAuC;AACnC,iBAAA,WAAA,CAAiBA,IAAI,CAArB,KAAA;AADJ,WAAA,MAEO;AACH,iBAAA,OAAA;AACH;;AACD;;AACJ,aAAA,SAAA;AACI,eAAA,QAAA,CAAA,MAAA,CAAqB,CAAC,GAAGnM,OAAO,CAAX,MAAA,EAAA,IAAA,EAA0B,IAAI,CAAJ,KAAA,CAAA,KAAA,GAAmB;AAC9D8F,YAAAA,YAAY,EAAEqG,IAAI,CAAJA,KAAAA,CAAWrD;AADqC,WAAnB,GAA1B,EAAA,EAEb,IAAI,CAAJ,KAAA,CAAA,kBAAA,GAAgC;AACpC/C,YAAAA,SAAS,EAAEoG,IAAI,CAAJA,KAAAA,CAAWhB;AADc,WAAhC,GAFR,EAAqB,CAArB;;AAKA;;AACJ,aAAA,aAAA;AACI,eAAA,SAAA,CAAA,MAAA,CAAA,aAAA,EAAqC,KAAA,kBAAA,CAArC,IAAqC,CAArC;;AACA,eAAA,cAAA,CAAA,MAAA,CAAA,aAAA,EAA0C,KAA1C,kBAA0C,EAA1C;;AACA;;AACJ,aAAA,2BAAA;AACI,eAAA,gCAAA,GAAwC,KAAA,qBAAA,CAAxC,2BAAwC,CAAxC;AACA;;AACJ,aAAA,sBAAA;AACI,eAAA,2BAAA,GAAmC,KAAA,qBAAA,CAAnC,sBAAmC,CAAnC;AACA;;AACJ;AACI/H,UAAAA,IAAI,CAACM,eAAe,CAACiB,WAAW,CAA5B,SAAgB,CAAhB,EAAA,gBAAA,EAAJvB,IAAI,CAAJA,CAAAA,IAAAA,CAAAA,IAAAA,EAAAA,IAAAA;;AAvCR;AAyCH;AA7CF,GA9XuB,EA4avB;AACC4B,IAAAA,GAAG,EADJ,gBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,WAAA,EAAsB;AACzB,aAAO,KAAA,eAAA,CAAA,cAAA,CAAP,WAAO,CAAP;AACH;AAJF,GA5auB,EAibvB;AACCiB,IAAAA,GAAG,EADJ,sBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,aAAA,EAAwB;AAC3B,WAAA,WAAA,CAAA,mBAAA,CAAA,aAAA;AACH;AAJF,GAjbuB,EAsbvB;AACCiB,IAAAA,GAAG,EADJ,sBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,KAAA,WAAA,CAAP,mBAAO,EAAP;AACH;AAJF,GAtbuB,EA2bvB;AACCiB,IAAAA,GAAG,EADJ,6BAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAIkB,WAAW,GAAG,KAAA,WAAA,CAAlB,cAAkB,EAAlB;;AACA,WAAA,cAAA,CAAA,sBAAA;;AACA,WAAA,SAAA,CAAA,OAAA;;AACA,WAAA,YAAA,CAAA,mBAAA,CAAsC,KAAtC,oBAAsC,EAAtC;;AACA,WAAA,MAAA,CAAA,aAAA,EAAA,WAAA;;AACA,WAAA,gCAAA;AACH;AATF,GA3buB,EAqcvB;AACCD,IAAAA,GAAG,EADJ,gBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,mBAAA,EAA8B;AACjC,aAAO,KAAA,WAAA,CAAA,cAAA,CAAP,mBAAO,CAAP;AACH;AAJF,GArcuB,EA0cvB;AACCiB,IAAAA,GAAG,EADJ,uBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,KAAA,SAAA,CAAP,gBAAO,EAAP;AACH;AAJF,GA1cuB,EA+cvB;AACCiB,IAAAA,GAAG,EADJ,SAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,KAAA,cAAA,CAAP,SAAO,CAAP;AACH;AAJF,GA/cuB,EAodvB;AACCiB,IAAAA,GAAG,EADJ,qBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAIqI,aAAa,GAAG,KAApB,oBAAoB,EAApB;;AACA,aAAOA,aAAa,IAAIA,aAAa,CAA9BA,QAAAA,IAAP,IAAA;AACH;AALF,GApduB,EA0dvB;AACCpH,IAAAA,GAAG,EADJ,kBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,KAAA,qBAAA,GAAA,GAAA,CAAiC,UAAA,QAAA,EAAmB;AACvD,eAAOsI,QAAQ,CAAf,QAAA;AADJ,OAAO,CAAP;AAGH;AANF,GA1duB,EAievB;AACCrH,IAAAA,GAAG,EADJ,uBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,KAAA,EAAgB;AACnB,UAAIuI,YAAY,GAAGC,KAAK,CAAxB,YAAA;AACA,UAAI9B,QAAQ,GAAG6B,YAAY,CAA3B,QAAA;;AACA,UAAI,CAAC7B,QAAQ,CAAb,WAAA,EAA2B;AACvB,aAAA,2BAAA,CAAiC;AAC7BA,UAAAA,QAAQ,EAAEA;AADmB,SAAjC;;AAGA;AACH;;AACD,UAAI+B,mBAAmB,GAAG/B,QAAQ,CAARA,cAAAA,GAA0B,KAAA,oBAAA,GAA1BA,eAAAA,GAA1B,YAAA;;AACA,WAAA,oBAAA,CAAA,mBAAA;;AACA,UAAA,mBAAA,EAAyB;AACrB,aAAA,cAAA,CAAA,eAAA,CAAoC+B,mBAAmB,CAAvD,eAAA;AACH;AACJ;AAhBF,GAjeuB,EAkfvB;AACCxH,IAAAA,GAAG,EADJ,iBAAA;AAECjB,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,IAAA,EAAe;AAClB,WAAA,WAAA,CAAA,cAAA,CAAA,IAAA;AACH;AAJF,GAlfuB,CAAd,CAAZgB;;AAwfA,SAAA,WAAA;AA/fc,CAAA,CAggBhBtE,IAAI,CAhgBN,OAAkB,CAAlB;;AAigBA,CAAC,GAAGF,uBAAuB,CAA3B,OAAA,EAAA,eAAA,EAAA,WAAA;AACAkM,MAAM,CAANA,OAAAA,GAAAA,WAAAA","sourcesContent":["/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _type2 = _interopRequireDefault(_type);\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _message = require(\"../../localization/message\");\r\nvar _message2 = _interopRequireDefault(_message);\r\nvar _component_registrator = require(\"../../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _ui = require(\"../widget/ui.widget\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _notify = require(\"../notify\");\r\nvar _notify2 = _interopRequireDefault(_notify);\r\nvar _file_items_controller = require(\"./file_items_controller\");\r\nvar _file_items_controller2 = _interopRequireDefault(_file_items_controller);\r\nvar _uiFile_manager = require(\"./ui.file_manager.command_manager\");\r\nvar _uiFile_manager2 = require(\"./ui.file_manager.context_menu\");\r\nvar _uiFile_manager3 = _interopRequireDefault(_uiFile_manager2);\r\nvar _uiFile_manager4 = require(\"./ui.file_manager.files_tree_view\");\r\nvar _uiFile_manager5 = _interopRequireDefault(_uiFile_manager4);\r\nvar _uiFile_managerItem_list = require(\"./ui.file_manager.item_list.details\");\r\nvar _uiFile_managerItem_list2 = _interopRequireDefault(_uiFile_managerItem_list);\r\nvar _uiFile_managerItem_list3 = require(\"./ui.file_manager.item_list.thumbnails\");\r\nvar _uiFile_managerItem_list4 = _interopRequireDefault(_uiFile_managerItem_list3);\r\nvar _uiFile_manager6 = require(\"./ui.file_manager.toolbar\");\r\nvar _uiFile_manager7 = _interopRequireDefault(_uiFile_manager6);\r\nvar _uiFile_manager8 = require(\"./ui.file_manager.notification\");\r\nvar _uiFile_manager9 = _interopRequireDefault(_uiFile_manager8);\r\nvar _uiFile_manager10 = require(\"./ui.file_manager.editing\");\r\nvar _uiFile_manager11 = _interopRequireDefault(_uiFile_manager10);\r\nvar _uiFile_manager12 = require(\"./ui.file_manager.breadcrumbs\");\r\nvar _uiFile_manager13 = _interopRequireDefault(_uiFile_manager12);\r\nvar _uiFile_manager14 = require(\"./ui.file_manager.adaptivity\");\r\nvar _uiFile_manager15 = _interopRequireDefault(_uiFile_manager14);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _toConsumableArray(arr) {\r\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\r\n}\r\n\r\nfunction _nonIterableSpread() {\r\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\")\r\n}\r\n\r\nfunction _iterableToArray(iter) {\r\n    if (Symbol.iterator in Object(iter) || \"[object Arguments]\" === Object.prototype.toString.call(iter)) {\r\n        return Array.from(iter)\r\n    }\r\n}\r\n\r\nfunction _arrayWithoutHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\r\n            arr2[i] = arr[i]\r\n        }\r\n        return arr2\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar FILE_MANAGER_CLASS = \"dx-filemanager\";\r\nvar FILE_MANAGER_WRAPPER_CLASS = FILE_MANAGER_CLASS + \"-wrapper\";\r\nvar FILE_MANAGER_CONTAINER_CLASS = FILE_MANAGER_CLASS + \"-container\";\r\nvar FILE_MANAGER_DIRS_PANEL_CLASS = FILE_MANAGER_CLASS + \"-dirs-panel\";\r\nvar FILE_MANAGER_INACTIVE_AREA_CLASS = FILE_MANAGER_CLASS + \"-inactive-area\";\r\nvar FILE_MANAGER_EDITING_CONTAINER_CLASS = FILE_MANAGER_CLASS + \"-editing-container\";\r\nvar FILE_MANAGER_ITEMS_PANEL_CLASS = FILE_MANAGER_CLASS + \"-items-panel\";\r\nvar FILE_MANAGER_ITEM_CUSTOM_THUMBNAIL_CLASS = FILE_MANAGER_CLASS + \"-item-custom-thumbnail\";\r\nvar FileManager = function(_Widget) {\r\n    _inherits(FileManager, _Widget);\r\n\r\n    function FileManager() {\r\n        _classCallCheck(this, FileManager);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(FileManager).apply(this, arguments))\r\n    }\r\n    _createClass(FileManager, [{\r\n        key: \"_initTemplates\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(FileManager.prototype), \"_initMarkup\", this).call(this);\r\n            this._onCurrentDirectoryChangedAction = this._createActionByOption(\"onCurrentDirectoryChanged\");\r\n            this._onSelectedFileOpenedAction = this._createActionByOption(\"onSelectedFileOpened\");\r\n            this._controller = new _file_items_controller2.default({\r\n                currentPath: this.option(\"currentPath\"),\r\n                rootText: this.option(\"rootFolderName\"),\r\n                fileProvider: this.option(\"fileProvider\"),\r\n                allowedFileExtensions: this.option(\"allowedFileExtensions\"),\r\n                maxUploadFileSize: this.option(\"upload\").maxFileSize,\r\n                onSelectedDirectoryChanged: this._onSelectedDirectoryChanged.bind(this)\r\n            });\r\n            this._commandManager = new _uiFile_manager.FileManagerCommandManager(this.option(\"permissions\"));\r\n            this.$element().addClass(FILE_MANAGER_CLASS);\r\n            this._createNotificationControl();\r\n            this._initCommandManager();\r\n            this._setItemsViewAreaActive(false)\r\n        }\r\n    }, {\r\n        key: \"_createNotificationControl\",\r\n        value: function() {\r\n            var _this = this;\r\n            var $notificationControl = (0, _renderer2.default)(\"<div>\").addClass(\"dx-filemanager-notification-container\").appendTo(this.$element());\r\n            this._notificationControl = this._createComponent($notificationControl, _uiFile_manager9.default, {\r\n                progressPanelContainer: this.$element(),\r\n                contentTemplate: function(container) {\r\n                    return _this._createWrapper(container)\r\n                },\r\n                onActionProgress: function(e) {\r\n                    return _this._onActionProgress(e)\r\n                }\r\n            });\r\n            this._editing.option(\"notificationControl\", this._notificationControl)\r\n        }\r\n    }, {\r\n        key: \"_createWrapper\",\r\n        value: function(container) {\r\n            this._$wrapper = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_WRAPPER_CLASS).appendTo(container);\r\n            this._createEditing();\r\n            var $toolbar = (0, _renderer2.default)(\"<div>\").appendTo(this._$wrapper);\r\n            this._toolbar = this._createComponent($toolbar, _uiFile_manager7.default, {\r\n                commandManager: this._commandManager,\r\n                generalItems: this.option(\"toolbar.items\"),\r\n                fileItems: this.option(\"toolbar.fileSelectionItems\"),\r\n                itemViewMode: this.option(\"itemView\").mode\r\n            });\r\n            this._createAdaptivityControl()\r\n        }\r\n    }, {\r\n        key: \"_createAdaptivityControl\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            var $container = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_CONTAINER_CLASS).appendTo(this._$wrapper);\r\n            this._adaptivityControl = this._createComponent($container, _uiFile_manager15.default, {\r\n                drawerTemplate: function(container) {\r\n                    return _this2._createFilesTreeView(container)\r\n                },\r\n                contentTemplate: function(container) {\r\n                    return _this2._createItemsPanel(container)\r\n                },\r\n                onAdaptiveStateChanged: function(e) {\r\n                    return _this2._onAdaptiveStateChanged(e)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createEditing\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            var $editingContainer = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_EDITING_CONTAINER_CLASS).appendTo(this.$element());\r\n            this._editing = this._createComponent($editingContainer, _uiFile_manager11.default, {\r\n                controller: this._controller,\r\n                model: {\r\n                    getMultipleSelectedItems: this._getMultipleSelectedItems.bind(this)\r\n                },\r\n                getItemThumbnail: this._getItemThumbnailInfo.bind(this),\r\n                onSuccess: function(_ref) {\r\n                    var updatedOnlyFiles = _ref.updatedOnlyFiles;\r\n                    return _this3._redrawComponent(updatedOnlyFiles)\r\n                },\r\n                onCreating: function() {\r\n                    return _this3._setItemsViewAreaActive(false)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createItemsPanel\",\r\n        value: function($container) {\r\n            this._$itemsPanel = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_ITEMS_PANEL_CLASS).appendTo($container);\r\n            this._createBreadcrumbs(this._$itemsPanel);\r\n            this._createItemView(this._$itemsPanel)\r\n        }\r\n    }, {\r\n        key: \"_createFilesTreeView\",\r\n        value: function(container) {\r\n            var _this4 = this;\r\n            var $filesTreeView = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_DIRS_PANEL_CLASS).appendTo(container);\r\n            this._filesTreeView = this._createComponent($filesTreeView, _uiFile_manager5.default, {\r\n                storeExpandedState: true,\r\n                contextMenu: this._createContextMenu(),\r\n                getDirectories: this.getDirectories.bind(this),\r\n                getCurrentDirectory: this._getCurrentDirectory.bind(this),\r\n                onDirectoryClick: this._onFilesTreeViewDirectoryClick.bind(this),\r\n                onClick: function() {\r\n                    return _this4._setItemsViewAreaActive(false)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createItemView\",\r\n        value: function($container, viewMode) {\r\n            var _this5 = this;\r\n            var itemViewOptions = this.option(\"itemView\");\r\n            var options = {\r\n                selectionMode: this.option(\"selectionMode\"),\r\n                contextMenu: this._createContextMenu(true),\r\n                getItems: this._getItemViewItems.bind(this),\r\n                onError: function(_ref2) {\r\n                    var error = _ref2.error;\r\n                    return _this5._showError(error)\r\n                },\r\n                onSelectionChanged: this._onItemViewSelectionChanged.bind(this),\r\n                onSelectedItemOpened: this._onSelectedItemOpened.bind(this),\r\n                getItemThumbnail: this._getItemThumbnailInfo.bind(this),\r\n                customizeDetailColumns: this.option(\"customizeDetailColumns\")\r\n            };\r\n            var $itemView = (0, _renderer2.default)(\"<div>\").appendTo($container);\r\n            viewMode = viewMode || itemViewOptions.mode;\r\n            var widgetClass = \"thumbnails\" === viewMode ? _uiFile_managerItem_list4.default : _uiFile_managerItem_list2.default;\r\n            this._itemView = this._createComponent($itemView, widgetClass, options);\r\n            _events_engine2.default.on($itemView, \"click\", this._onItemViewClick.bind(this))\r\n        }\r\n    }, {\r\n        key: \"_createBreadcrumbs\",\r\n        value: function($container) {\r\n            var _this6 = this;\r\n            var $breadcrumbs = (0, _renderer2.default)(\"<div>\").appendTo($container);\r\n            this._breadcrumbs = this._createComponent($breadcrumbs, _uiFile_manager13.default, {\r\n                rootFolderDisplayName: this.option(\"rootFolderName\"),\r\n                onCurrentDirectoryChanging: function(_ref3) {\r\n                    var currentDirectory = _ref3.currentDirectory;\r\n                    return _this6._setCurrentDirectory(currentDirectory)\r\n                },\r\n                onOutsideClick: function() {\r\n                    return _this6._clearSelection()\r\n                }\r\n            });\r\n            this._breadcrumbs.setCurrentDirectory(this._getCurrentDirectory())\r\n        }\r\n    }, {\r\n        key: \"_createContextMenu\",\r\n        value: function(isolateCreationItemCommands) {\r\n            var $contextMenu = (0, _renderer2.default)(\"<div>\").appendTo(this._$wrapper);\r\n            return this._createComponent($contextMenu, _uiFile_manager3.default, {\r\n                commandManager: this._commandManager,\r\n                items: this.option(\"contextMenu.items\"),\r\n                isolateCreationItemCommands: isolateCreationItemCommands\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initCommandManager\",\r\n        value: function() {\r\n            var _this7 = this;\r\n            var actions = (0, _extend.extend)(this._editing.getCommandActions(), {\r\n                refresh: function() {\r\n                    return _this7._refreshAndShowProgress()\r\n                },\r\n                thumbnails: function() {\r\n                    return _this7.option(\"itemView.mode\", \"thumbnails\")\r\n                },\r\n                details: function() {\r\n                    return _this7.option(\"itemView.mode\", \"details\")\r\n                },\r\n                clear: function() {\r\n                    return _this7._clearSelection()\r\n                },\r\n                showNavPane: function() {\r\n                    return _this7._adaptivityControl.toggleDrawer()\r\n                }\r\n            });\r\n            this._commandManager.registerActions(actions)\r\n        }\r\n    }, {\r\n        key: \"_onFilesTreeViewDirectoryClick\",\r\n        value: function(_ref4) {\r\n            var itemData = _ref4.itemData;\r\n            this._setCurrentDirectory(itemData);\r\n            this._setItemsViewAreaActive(false)\r\n        }\r\n    }, {\r\n        key: \"_onItemViewSelectionChanged\",\r\n        value: function() {\r\n            this._updateToolbar()\r\n        }\r\n    }, {\r\n        key: \"_onAdaptiveStateChanged\",\r\n        value: function(_ref5) {\r\n            var enabled = _ref5.enabled;\r\n            this._commandManager.setCommandEnabled(\"showNavPane\", enabled);\r\n            this._updateToolbar()\r\n        }\r\n    }, {\r\n        key: \"_onActionProgress\",\r\n        value: function(_ref6) {\r\n            var message = _ref6.message,\r\n                status = _ref6.status;\r\n            this._toolbar.updateRefreshItem(message, status);\r\n            this._updateToolbar()\r\n        }\r\n    }, {\r\n        key: \"_refreshAndShowProgress\",\r\n        value: function() {\r\n            var _this8 = this;\r\n            this._notificationControl.tryShowProgressPanel();\r\n            return this._controller.refresh().then(function() {\r\n                return _this8._redrawComponent()\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_updateToolbar\",\r\n        value: function() {\r\n            var items = this._getSelectedItemInfos();\r\n            this._toolbar.update(items)\r\n        }\r\n    }, {\r\n        key: \"_setItemsViewAreaActive\",\r\n        value: function(active) {\r\n            if (this._itemsViewAreaActive === active) {\r\n                return\r\n            }\r\n            this._itemsViewAreaActive = active;\r\n            var $activeArea = null;\r\n            var $inactiveArea = null;\r\n            if (active) {\r\n                $activeArea = this._itemView.$element();\r\n                $inactiveArea = this._filesTreeView.$element()\r\n            } else {\r\n                $activeArea = this._filesTreeView.$element();\r\n                $inactiveArea = this._itemView.$element()\r\n            }\r\n            $activeArea.removeClass(FILE_MANAGER_INACTIVE_AREA_CLASS);\r\n            $inactiveArea.addClass(FILE_MANAGER_INACTIVE_AREA_CLASS);\r\n            if (!active) {\r\n                this._clearSelection()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_switchView\",\r\n        value: function(viewMode) {\r\n            this._disposeWidget(this._itemView.option(\"contextMenu\"));\r\n            this._disposeWidget(this._itemView);\r\n            this._createItemView(this._$itemsPanel, viewMode);\r\n            this._toolbar.option({\r\n                itemViewMode: viewMode\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_disposeWidget\",\r\n        value: function(widget) {\r\n            widget.dispose();\r\n            widget.$element().remove()\r\n        }\r\n    }, {\r\n        key: \"_clearSelection\",\r\n        value: function() {\r\n            this._itemView.clearSelection()\r\n        }\r\n    }, {\r\n        key: \"_getMultipleSelectedItems\",\r\n        value: function() {\r\n            return this._itemsViewAreaActive ? this._getSelectedItemInfos() : [this._getCurrentDirectory()]\r\n        }\r\n    }, {\r\n        key: \"_showError\",\r\n        value: function(message) {\r\n            this._showNotification(message, false)\r\n        }\r\n    }, {\r\n        key: \"_showNotification\",\r\n        value: function(message, isSuccess) {\r\n            (0, _notify2.default)({\r\n                message: message,\r\n                width: 450\r\n            }, isSuccess ? \"success\" : \"error\", 5e3)\r\n        }\r\n    }, {\r\n        key: \"_redrawComponent\",\r\n        value: function(onlyFileItemsView) {\r\n            !onlyFileItemsView && this._filesTreeView.refresh();\r\n            this._itemView.refresh()\r\n        }\r\n    }, {\r\n        key: \"_getItemViewItems\",\r\n        value: function() {\r\n            var selectedDir = this._getCurrentDirectory();\r\n            if (!selectedDir) {\r\n                return (new _deferred.Deferred).resolve([]).promise()\r\n            }\r\n            var itemInfos = this.option(\"itemView\").showFolders ? this._controller.getDirectoryContents(selectedDir) : this._controller.getFiles(selectedDir);\r\n            if (this.option(\"itemView.showParentFolder\") && !selectedDir.fileItem.isRoot) {\r\n                var parentDirItem = selectedDir.fileItem.createClone();\r\n                parentDirItem.isParentFolder = true;\r\n                parentDirItem.name = \"..\";\r\n                parentDirItem.relativeName = \"..\";\r\n                itemInfos = (0, _deferred.when)(itemInfos).then(function(items) {\r\n                    var itemInfosCopy = _toConsumableArray(items);\r\n                    itemInfosCopy.unshift({\r\n                        fileItem: parentDirItem,\r\n                        icon: \"folder\"\r\n                    });\r\n                    return itemInfosCopy\r\n                })\r\n            }\r\n            return itemInfos\r\n        }\r\n    }, {\r\n        key: \"_onItemViewClick\",\r\n        value: function() {\r\n            this._setItemsViewAreaActive(true)\r\n        }\r\n    }, {\r\n        key: \"_getItemThumbnailInfo\",\r\n        value: function(fileInfo) {\r\n            var func = this.option(\"customizeThumbnail\");\r\n            var thumbnail = _type2.default.isFunction(func) ? func(fileInfo.fileItem) : fileInfo.fileItem.thumbnail;\r\n            if (thumbnail) {\r\n                return {\r\n                    thumbnail: thumbnail,\r\n                    cssClass: FILE_MANAGER_ITEM_CUSTOM_THUMBNAIL_CLASS\r\n                }\r\n            }\r\n            return {\r\n                thumbnail: fileInfo.icon\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(FileManager.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                fileProvider: null,\r\n                currentPath: \"\",\r\n                rootFolderName: _message2.default.format(\"dxFileManager-rootDirectoryName\"),\r\n                selectionMode: \"multiple\",\r\n                toolbar: {\r\n                    items: [\"showNavPane\", \"create\", \"upload\", \"refresh\", {\r\n                        name: \"separator\",\r\n                        location: \"after\"\r\n                    }, \"viewSwitcher\"],\r\n                    fileSelectionItems: [\"download\", \"separator\", \"move\", \"copy\", \"rename\", \"separator\", \"delete\", \"refresh\", \"clear\"]\r\n                },\r\n                contextMenu: {\r\n                    items: [\"create\", \"upload\", \"rename\", \"move\", \"copy\", \"delete\", \"refresh\", \"download\"]\r\n                },\r\n                itemView: {\r\n                    mode: \"details\",\r\n                    showFolders: true,\r\n                    showParentFolder: true\r\n                },\r\n                customizeThumbnail: null,\r\n                customizeDetailColumns: null,\r\n                onCurrentDirectoryChanged: null,\r\n                onSelectedFileOpened: null,\r\n                allowedFileExtensions: [\".txt\", \".rtf\", \".doc\", \".docx\", \".odt\", \".xls\", \".xlsx\", \".ods\", \".ppt\", \".pptx\", \".odp\", \".pdf\", \".xml\", \".png\", \".svg\", \".gif\", \".jpg\", \".jpeg\", \".ico\", \".bmp\", \".avi\", \".mpeg\", \".mkv\", \"\"],\r\n                upload: {\r\n                    maxFileSize: 0\r\n                },\r\n                permissions: {\r\n                    create: false,\r\n                    copy: false,\r\n                    move: false,\r\n                    remove: false,\r\n                    rename: false,\r\n                    upload: false,\r\n                    download: false\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            var name = args.name;\r\n            switch (name) {\r\n                case \"currentPath\":\r\n                    this._setCurrentPath(args.value);\r\n                    break;\r\n                case \"fileProvider\":\r\n                case \"selectionMode\":\r\n                case \"customizeThumbnail\":\r\n                case \"customizeDetailColumns\":\r\n                case \"rootFolderName\":\r\n                case \"allowedFileExtensions\":\r\n                case \"permissions\":\r\n                case \"upload\":\r\n                    this.repaint();\r\n                    break;\r\n                case \"itemView\":\r\n                    if (\"itemView.mode\" === args.fullName) {\r\n                        this._switchView(args.value)\r\n                    } else {\r\n                        this.repaint()\r\n                    }\r\n                    break;\r\n                case \"toolbar\":\r\n                    this._toolbar.option((0, _extend.extend)(true, args.value.items ? {\r\n                        generalItems: args.value.items\r\n                    } : {}, args.value.fileSelectionItems ? {\r\n                        fileItems: args.value.fileSelectionItems\r\n                    } : {}));\r\n                    break;\r\n                case \"contextMenu\":\r\n                    this._itemView.option(\"contextMenu\", this._createContextMenu(true));\r\n                    this._filesTreeView.option(\"contextMenu\", this._createContextMenu());\r\n                    break;\r\n                case \"onCurrentDirectoryChanged\":\r\n                    this._onCurrentDirectoryChangedAction = this._createActionByOption(\"onCurrentDirectoryChanged\");\r\n                    break;\r\n                case \"onSelectedFileOpened\":\r\n                    this._onSelectedFileOpenedAction = this._createActionByOption(\"onSelectedFileOpened\");\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(FileManager.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"executeCommand\",\r\n        value: function(commandName) {\r\n            return this._commandManager.executeCommand(commandName)\r\n        }\r\n    }, {\r\n        key: \"_setCurrentDirectory\",\r\n        value: function(directoryInfo) {\r\n            this._controller.setCurrentDirectory(directoryInfo)\r\n        }\r\n    }, {\r\n        key: \"_getCurrentDirectory\",\r\n        value: function() {\r\n            return this._controller.getCurrentDirectory()\r\n        }\r\n    }, {\r\n        key: \"_onSelectedDirectoryChanged\",\r\n        value: function() {\r\n            var currentPath = this._controller.getCurrentPath();\r\n            this._filesTreeView.updateCurrentDirectory();\r\n            this._itemView.refresh();\r\n            this._breadcrumbs.setCurrentDirectory(this._getCurrentDirectory());\r\n            this.option(\"currentPath\", currentPath);\r\n            this._onCurrentDirectoryChangedAction()\r\n        }\r\n    }, {\r\n        key: \"getDirectories\",\r\n        value: function(parentDirectoryInfo) {\r\n            return this._controller.getDirectories(parentDirectoryInfo)\r\n        }\r\n    }, {\r\n        key: \"_getSelectedItemInfos\",\r\n        value: function() {\r\n            return this._itemView.getSelectedItems()\r\n        }\r\n    }, {\r\n        key: \"refresh\",\r\n        value: function() {\r\n            return this.executeCommand(\"refresh\")\r\n        }\r\n    }, {\r\n        key: \"getCurrentDirectory\",\r\n        value: function() {\r\n            var directoryInfo = this._getCurrentDirectory();\r\n            return directoryInfo && directoryInfo.fileItem || null\r\n        }\r\n    }, {\r\n        key: \"getSelectedItems\",\r\n        value: function() {\r\n            return this._getSelectedItemInfos().map(function(itemInfo) {\r\n                return itemInfo.fileItem\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_onSelectedItemOpened\",\r\n        value: function(_ref7) {\r\n            var fileItemInfo = _ref7.fileItemInfo;\r\n            var fileItem = fileItemInfo.fileItem;\r\n            if (!fileItem.isDirectory) {\r\n                this._onSelectedFileOpenedAction({\r\n                    fileItem: fileItem\r\n                });\r\n                return\r\n            }\r\n            var newCurrentDirectory = fileItem.isParentFolder ? this._getCurrentDirectory().parentDirectory : fileItemInfo;\r\n            this._setCurrentDirectory(newCurrentDirectory);\r\n            if (newCurrentDirectory) {\r\n                this._filesTreeView.expandDirectory(newCurrentDirectory.parentDirectory)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_setCurrentPath\",\r\n        value: function(path) {\r\n            this._controller.setCurrentPath(path)\r\n        }\r\n    }]);\r\n    return FileManager\r\n}(_ui2.default);\r\n(0, _component_registrator2.default)(\"dxFileManager\", FileManager);\r\nmodule.exports = FileManager;\r\n"]},"metadata":{},"sourceType":"module"}