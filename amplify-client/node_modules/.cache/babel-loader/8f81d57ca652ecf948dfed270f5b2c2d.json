{"ast":null,"code":"/**\r\n * DevExtreme (ui/widget/ui.keyboard_processor.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _class = require(\"../../core/class\");\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _array = require(\"../../core/utils/array\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _utils = require(\"../../events/utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar COMPOSITION_START_EVENT = \"compositionstart\";\nvar COMPOSITION_END_EVENT = \"compositionend\";\nvar KEYDOWN_EVENT = \"keydown\";\nvar NAMESPACE = \"KeyboardProcessor\";\n\nvar KeyboardProcessor = _class2.default.inherit({\n  _keydown: (0, _utils.addNamespace)(KEYDOWN_EVENT, NAMESPACE),\n  _compositionStart: (0, _utils.addNamespace)(COMPOSITION_START_EVENT, NAMESPACE),\n  _compositionEnd: (0, _utils.addNamespace)(COMPOSITION_END_EVENT, NAMESPACE),\n  ctor: function ctor(options) {\n    var _this = this;\n\n    options = options || {};\n\n    if (options.element) {\n      this._element = (0, _renderer2.default)(options.element);\n    }\n\n    if (options.focusTarget) {\n      this._focusTarget = options.focusTarget;\n    }\n\n    this._handler = options.handler;\n    this._context = options.context;\n    this._childProcessors = [];\n\n    if (this._element) {\n      this._processFunction = function (e) {\n        var isNotFocusTarget = _this._focusTarget && _this._focusTarget !== e.target && (0, _array.inArray)(e.target, _this._focusTarget) < 0;\n        var shouldSkipProcessing = _this._isComposingJustFinished && 229 === e.which || _this._isComposing || isNotFocusTarget;\n        _this._isComposingJustFinished = false;\n\n        if (!shouldSkipProcessing) {\n          _this.process(e);\n        }\n      };\n\n      this._toggleProcessingWithContext = this.toggleProcessing.bind(this);\n\n      _events_engine2.default.on(this._element, this._keydown, this._processFunction);\n\n      _events_engine2.default.on(this._element, this._compositionStart, this._toggleProcessingWithContext);\n\n      _events_engine2.default.on(this._element, this._compositionEnd, this._toggleProcessingWithContext);\n    }\n  },\n  dispose: function dispose() {\n    if (this._element) {\n      _events_engine2.default.off(this._element, this._keydown, this._processFunction);\n\n      _events_engine2.default.off(this._element, this._compositionStart, this._toggleProcessingWithContext);\n\n      _events_engine2.default.off(this._element, this._compositionEnd, this._toggleProcessingWithContext);\n    }\n\n    this._element = void 0;\n    this._handler = void 0;\n    this._context = void 0;\n    this._childProcessors = void 0;\n  },\n  clearChildren: function clearChildren() {\n    this._childProcessors = [];\n  },\n  push: function push(child) {\n    if (!this._childProcessors) {\n      this.clearChildren();\n    }\n\n    this._childProcessors.push(child);\n\n    return child;\n  },\n  attachChildProcessor: function attachChildProcessor() {\n    var childProcessor = new KeyboardProcessor();\n\n    this._childProcessors.push(childProcessor);\n\n    return childProcessor;\n  },\n  reinitialize: function reinitialize(childHandler, childContext) {\n    this._context = childContext;\n    this._handler = childHandler;\n    return this;\n  },\n  process: function process(e) {\n    var args = {\n      keyName: (0, _utils.normalizeKeyName)(e),\n      key: e.key,\n      code: e.code,\n      ctrl: e.ctrlKey,\n      location: e.location,\n      metaKey: e.metaKey,\n      shift: e.shiftKey,\n      alt: e.altKey,\n      which: e.which,\n      originalEvent: e\n    };\n\n    var handlerResult = this._handler && this._handler.call(this._context, args);\n\n    if (handlerResult && this._childProcessors) {\n      (0, _iterator.each)(this._childProcessors, function (index, childProcessor) {\n        childProcessor.process(e);\n      });\n    }\n  },\n  toggleProcessing: function toggleProcessing(_ref) {\n    var type = _ref.type;\n    this._isComposing = type === COMPOSITION_START_EVENT;\n    this._isComposingJustFinished = !this._isComposing;\n  }\n});\n\nmodule.exports = KeyboardProcessor;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/widget/ui.keyboard_processor.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_events_engine","_events_engine2","_class","_class2","_array","_iterator","_utils","obj","COMPOSITION_START_EVENT","COMPOSITION_END_EVENT","KEYDOWN_EVENT","NAMESPACE","KeyboardProcessor","_keydown","_compositionStart","_compositionEnd","ctor","_this","options","isNotFocusTarget","e","shouldSkipProcessing","dispose","clearChildren","push","attachChildProcessor","childProcessor","reinitialize","process","args","keyName","key","code","ctrl","location","metaKey","shift","alt","which","originalEvent","handlerResult","toggleProcessing","type","_ref","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/widget/ui.keyboard_processor.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _class = require(\"../../core/class\");\r\nvar _class2 = _interopRequireDefault(_class);\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _utils = require(\"../../events/utils\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar COMPOSITION_START_EVENT = \"compositionstart\";\r\nvar COMPOSITION_END_EVENT = \"compositionend\";\r\nvar KEYDOWN_EVENT = \"keydown\";\r\nvar NAMESPACE = \"KeyboardProcessor\";\r\nvar KeyboardProcessor = _class2.default.inherit({\r\n    _keydown: (0, _utils.addNamespace)(KEYDOWN_EVENT, NAMESPACE),\r\n    _compositionStart: (0, _utils.addNamespace)(COMPOSITION_START_EVENT, NAMESPACE),\r\n    _compositionEnd: (0, _utils.addNamespace)(COMPOSITION_END_EVENT, NAMESPACE),\r\n    ctor: function(options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        if (options.element) {\r\n            this._element = (0, _renderer2.default)(options.element)\r\n        }\r\n        if (options.focusTarget) {\r\n            this._focusTarget = options.focusTarget\r\n        }\r\n        this._handler = options.handler;\r\n        this._context = options.context;\r\n        this._childProcessors = [];\r\n        if (this._element) {\r\n            this._processFunction = function(e) {\r\n                var isNotFocusTarget = _this._focusTarget && _this._focusTarget !== e.target && (0, _array.inArray)(e.target, _this._focusTarget) < 0;\r\n                var shouldSkipProcessing = _this._isComposingJustFinished && 229 === e.which || _this._isComposing || isNotFocusTarget;\r\n                _this._isComposingJustFinished = false;\r\n                if (!shouldSkipProcessing) {\r\n                    _this.process(e)\r\n                }\r\n            };\r\n            this._toggleProcessingWithContext = this.toggleProcessing.bind(this);\r\n            _events_engine2.default.on(this._element, this._keydown, this._processFunction);\r\n            _events_engine2.default.on(this._element, this._compositionStart, this._toggleProcessingWithContext);\r\n            _events_engine2.default.on(this._element, this._compositionEnd, this._toggleProcessingWithContext)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        if (this._element) {\r\n            _events_engine2.default.off(this._element, this._keydown, this._processFunction);\r\n            _events_engine2.default.off(this._element, this._compositionStart, this._toggleProcessingWithContext);\r\n            _events_engine2.default.off(this._element, this._compositionEnd, this._toggleProcessingWithContext)\r\n        }\r\n        this._element = void 0;\r\n        this._handler = void 0;\r\n        this._context = void 0;\r\n        this._childProcessors = void 0\r\n    },\r\n    clearChildren: function() {\r\n        this._childProcessors = []\r\n    },\r\n    push: function(child) {\r\n        if (!this._childProcessors) {\r\n            this.clearChildren()\r\n        }\r\n        this._childProcessors.push(child);\r\n        return child\r\n    },\r\n    attachChildProcessor: function() {\r\n        var childProcessor = new KeyboardProcessor;\r\n        this._childProcessors.push(childProcessor);\r\n        return childProcessor\r\n    },\r\n    reinitialize: function(childHandler, childContext) {\r\n        this._context = childContext;\r\n        this._handler = childHandler;\r\n        return this\r\n    },\r\n    process: function(e) {\r\n        var args = {\r\n            keyName: (0, _utils.normalizeKeyName)(e),\r\n            key: e.key,\r\n            code: e.code,\r\n            ctrl: e.ctrlKey,\r\n            location: e.location,\r\n            metaKey: e.metaKey,\r\n            shift: e.shiftKey,\r\n            alt: e.altKey,\r\n            which: e.which,\r\n            originalEvent: e\r\n        };\r\n        var handlerResult = this._handler && this._handler.call(this._context, args);\r\n        if (handlerResult && this._childProcessors) {\r\n            (0, _iterator.each)(this._childProcessors, function(index, childProcessor) {\r\n                childProcessor.process(e)\r\n            })\r\n        }\r\n    },\r\n    toggleProcessing: function(_ref) {\r\n        var type = _ref.type;\r\n        this._isComposing = type === COMPOSITION_START_EVENT;\r\n        this._isComposingJustFinished = !this._isComposing\r\n    }\r\n});\r\nmodule.exports = KeyboardProcessor;\r\n"]},"metadata":{},"sourceType":"module"}