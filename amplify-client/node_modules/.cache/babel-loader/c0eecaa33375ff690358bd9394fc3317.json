{"ast":null,"code":"/**\r\n * DevExtreme (ui/list/ui.list.edit.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _utils = require(\"../../events/utils\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _uiListEditStrategy = require(\"./ui.list.edit.strategy.grouped\");\n\nvar _uiListEditStrategy2 = _interopRequireDefault(_uiListEditStrategy);\n\nvar _message = require(\"../../localization/message\");\n\nvar _uiListEdit = require(\"./ui.list.edit.provider\");\n\nvar _uiListEdit2 = _interopRequireDefault(_uiListEdit);\n\nvar _uiList = require(\"./ui.list.base\");\n\nvar _uiList2 = _interopRequireDefault(_uiList);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar LIST_ITEM_SELECTED_CLASS = \"dx-list-item-selected\";\nvar LIST_ITEM_RESPONSE_WAIT_CLASS = \"dx-list-item-response-wait\";\n\nvar ListEdit = _uiList2.default.inherit({\n  _supportedKeys: function _supportedKeys() {\n    var _this = this;\n\n    var that = this;\n    var parent = this.callBase();\n\n    var deleteFocusedItem = function deleteFocusedItem(e) {\n      if (that.option(\"allowItemDeleting\")) {\n        e.preventDefault();\n        that.deleteItem(that.option(\"focusedElement\"));\n      }\n    };\n\n    var moveFocusedItem = function moveFocusedItem(e, moveUp) {\n      var editStrategy = _this._editStrategy;\n\n      var focusedElement = _this.option(\"focusedElement\");\n\n      var focusedItemIndex = editStrategy.getNormalizedIndex(focusedElement);\n\n      var isLastIndexFocused = focusedItemIndex === _this._getLastItemIndex();\n\n      if (isLastIndexFocused && _this._isDataSourceLoading()) {\n        return;\n      }\n\n      if (e.shiftKey && that.option(\"itemDragging.allowReordering\")) {\n        var nextItemIndex = focusedItemIndex + (moveUp ? -1 : 1);\n        var $nextItem = editStrategy.getItemElement(nextItemIndex);\n\n        _this.reorderItem(focusedElement, $nextItem);\n\n        _this.scrollToItem(focusedElement);\n\n        e.preventDefault();\n      } else {\n        var editProvider = _this._editProvider;\n        var isInternalMoving = editProvider.handleKeyboardEvents(focusedItemIndex, moveUp);\n\n        if (!isInternalMoving) {\n          moveUp ? parent.upArrow(e) : parent.downArrow(e);\n        }\n      }\n    };\n\n    var enter = function enter(e) {\n      if (!this._editProvider.handleEnterPressing()) {\n        parent.enter.apply(this, arguments);\n      }\n    };\n\n    var space = function space(e) {\n      if (!this._editProvider.handleEnterPressing()) {\n        parent.space.apply(this, arguments);\n      }\n    };\n\n    return (0, _extend.extend)({}, parent, {\n      del: deleteFocusedItem,\n      upArrow: function upArrow(e) {\n        return moveFocusedItem(e, true);\n      },\n      downArrow: moveFocusedItem,\n      enter: enter,\n      space: space\n    });\n  },\n  _updateSelection: function _updateSelection() {\n    this._editProvider.afterItemsRendered();\n\n    this.callBase();\n  },\n  _getLastItemIndex: function _getLastItemIndex() {\n    return this._itemElements().length - 1;\n  },\n  _refreshItemElements: function _refreshItemElements() {\n    this.callBase();\n\n    var excludedSelectors = this._editProvider.getExcludedItemSelectors();\n\n    if (excludedSelectors.length) {\n      this._itemElementsCache = this._itemElementsCache.not(excludedSelectors);\n    }\n  },\n  _setDeprecatedOptions: function _setDeprecatedOptions() {\n    this.callBase();\n    (0, _extend.extend)(this._deprecatedOptions, {\n      allowItemReordering: {\n        since: \"19.2\",\n        alias: \"itemDragging.allowReordering\"\n      }\n    });\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      showSelectionControls: false,\n      selectionMode: \"none\",\n      selectAllMode: \"page\",\n      onSelectAllValueChanged: null,\n      selectAllText: (0, _message.format)(\"dxList-selectAll\"),\n      menuItems: [],\n      menuMode: \"context\",\n      allowItemDeleting: false,\n      itemDeleteMode: \"static\",\n      allowItemReordering: false,\n      itemDragging: {}\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device(_device) {\n        return \"ios\" === _device.platform;\n      },\n      options: {\n        menuMode: \"slide\",\n        itemDeleteMode: \"slideItem\"\n      }\n    }, {\n      device: {\n        platform: \"android\"\n      },\n      options: {\n        itemDeleteMode: \"swipe\"\n      }\n    }]);\n  },\n  _init: function _init() {\n    this.callBase();\n\n    this._initEditProvider();\n  },\n  _initDataSource: function _initDataSource() {\n    this.callBase();\n\n    if (!this._isPageSelectAll()) {\n      this._dataSource && this._dataSource.requireTotalCount(true);\n    }\n  },\n  _isPageSelectAll: function _isPageSelectAll() {\n    return \"page\" === this.option(\"selectAllMode\");\n  },\n  _initEditProvider: function _initEditProvider() {\n    this._editProvider = new _uiListEdit2.default(this);\n  },\n  _disposeEditProvider: function _disposeEditProvider() {\n    if (this._editProvider) {\n      this._editProvider.dispose();\n    }\n  },\n  _refreshEditProvider: function _refreshEditProvider() {\n    this._disposeEditProvider();\n\n    this._initEditProvider();\n  },\n  _initEditStrategy: function _initEditStrategy() {\n    if (this.option(\"grouped\")) {\n      this._editStrategy = new _uiListEditStrategy2.default(this);\n    } else {\n      this.callBase();\n    }\n  },\n  _initMarkup: function _initMarkup() {\n    this._refreshEditProvider();\n\n    this.callBase();\n  },\n  _renderItems: function _renderItems() {\n    this.callBase.apply(this, arguments);\n\n    this._editProvider.afterItemsRendered();\n  },\n  _selectedItemClass: function _selectedItemClass() {\n    return LIST_ITEM_SELECTED_CLASS;\n  },\n  _itemResponseWaitClass: function _itemResponseWaitClass() {\n    return LIST_ITEM_RESPONSE_WAIT_CLASS;\n  },\n  _itemClickHandler: function _itemClickHandler(e) {\n    var $itemElement = (0, _renderer2.default)(e.currentTarget);\n\n    if ($itemElement.is(\".dx-state-disabled, .dx-state-disabled *\")) {\n      return;\n    }\n\n    var handledByEditProvider = this._editProvider.handleClick($itemElement, e);\n\n    if (handledByEditProvider) {\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _shouldFireContextMenuEvent: function _shouldFireContextMenuEvent() {\n    return this.callBase.apply(this, arguments) || this._editProvider.contextMenuHandlerExists();\n  },\n  _itemHoldHandler: function _itemHoldHandler(e) {\n    var $itemElement = (0, _renderer2.default)(e.currentTarget);\n\n    if ($itemElement.is(\".dx-state-disabled, .dx-state-disabled *\")) {\n      return;\n    }\n\n    var handledByEditProvider = (0, _utils.isTouchEvent)(e) && this._editProvider.handleContextMenu($itemElement, e);\n\n    if (handledByEditProvider) {\n      e.handledByEditProvider = true;\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _itemContextMenuHandler: function _itemContextMenuHandler(e) {\n    var $itemElement = (0, _renderer2.default)(e.currentTarget);\n\n    if ($itemElement.is(\".dx-state-disabled, .dx-state-disabled *\")) {\n      return;\n    }\n\n    var handledByEditProvider = !e.handledByEditProvider && this._editProvider.handleContextMenu($itemElement, e);\n\n    if (handledByEditProvider) {\n      e.preventDefault();\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _postprocessRenderItem: function _postprocessRenderItem(args) {\n    this.callBase.apply(this, arguments);\n\n    this._editProvider.modifyItemElement(args);\n  },\n  _clean: function _clean() {\n    this._disposeEditProvider();\n\n    this.callBase();\n  },\n  focusListItem: function focusListItem(index) {\n    var $item = this._editStrategy.getItemElement(index);\n\n    this.option(\"focusedElement\", $item);\n    this.focus();\n    this.scrollToItem(this.option(\"focusedElement\"));\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"selectAllMode\":\n        this._initDataSource();\n\n        this._dataSource.pageIndex(0);\n\n        this._dataSource.load();\n\n        break;\n\n      case \"grouped\":\n        this._clearSelectedItems();\n\n        delete this._renderingGroupIndex;\n\n        this._initEditStrategy();\n\n        this.callBase(args);\n        break;\n\n      case \"showSelectionControls\":\n      case \"menuItems\":\n      case \"menuMode\":\n      case \"allowItemDeleting\":\n      case \"itemDeleteMode\":\n      case \"allowItemReordering\":\n      case \"itemDragging\":\n      case \"selectAllText\":\n        this._invalidate();\n\n        break;\n\n      case \"onSelectAllValueChanged\":\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  selectAll: function selectAll() {\n    return this._selection.selectAll(this._isPageSelectAll());\n  },\n  unselectAll: function unselectAll() {\n    return this._selection.deselectAll(this._isPageSelectAll());\n  },\n  isSelectAll: function isSelectAll() {\n    return this._selection.getSelectAllState(this._isPageSelectAll());\n  },\n  getFlatIndexByItemElement: function getFlatIndexByItemElement(itemElement) {\n    return this._itemElements().index(itemElement);\n  },\n  getItemElementByFlatIndex: function getItemElementByFlatIndex(flatIndex) {\n    var $itemElements = this._itemElements();\n\n    if (flatIndex < 0 || flatIndex >= $itemElements.length) {\n      return (0, _renderer2.default)();\n    }\n\n    return $itemElements.eq(flatIndex);\n  },\n  getItemByIndex: function getItemByIndex(index) {\n    return this._editStrategy.getItemDataByIndex(index);\n  }\n});\n\nmodule.exports = ListEdit;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/list/ui.list.edit.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_utils","_extend","_uiListEditStrategy","_uiListEditStrategy2","_message","_uiListEdit","_uiListEdit2","_uiList","_uiList2","obj","LIST_ITEM_SELECTED_CLASS","LIST_ITEM_RESPONSE_WAIT_CLASS","ListEdit","_supportedKeys","_this","that","parent","deleteFocusedItem","e","moveFocusedItem","editStrategy","focusedElement","focusedItemIndex","isLastIndexFocused","nextItemIndex","moveUp","$nextItem","editProvider","isInternalMoving","enter","space","del","upArrow","downArrow","_updateSelection","_getLastItemIndex","_refreshItemElements","excludedSelectors","_setDeprecatedOptions","allowItemReordering","since","alias","_getDefaultOptions","showSelectionControls","selectionMode","selectAllMode","onSelectAllValueChanged","selectAllText","menuItems","menuMode","allowItemDeleting","itemDeleteMode","itemDragging","_defaultOptionsRules","device","_device","options","platform","_init","_initDataSource","_isPageSelectAll","_initEditProvider","_disposeEditProvider","_refreshEditProvider","_initEditStrategy","_initMarkup","_renderItems","_selectedItemClass","_itemResponseWaitClass","_itemClickHandler","$itemElement","handledByEditProvider","_shouldFireContextMenuEvent","_itemHoldHandler","_itemContextMenuHandler","_postprocessRenderItem","_clean","focusListItem","$item","_optionChanged","args","selectAll","unselectAll","isSelectAll","getFlatIndexByItemElement","getItemElementByFlatIndex","$itemElements","flatIndex","getItemByIndex","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/list/ui.list.edit.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _utils = require(\"../../events/utils\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _uiListEditStrategy = require(\"./ui.list.edit.strategy.grouped\");\r\nvar _uiListEditStrategy2 = _interopRequireDefault(_uiListEditStrategy);\r\nvar _message = require(\"../../localization/message\");\r\nvar _uiListEdit = require(\"./ui.list.edit.provider\");\r\nvar _uiListEdit2 = _interopRequireDefault(_uiListEdit);\r\nvar _uiList = require(\"./ui.list.base\");\r\nvar _uiList2 = _interopRequireDefault(_uiList);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar LIST_ITEM_SELECTED_CLASS = \"dx-list-item-selected\";\r\nvar LIST_ITEM_RESPONSE_WAIT_CLASS = \"dx-list-item-response-wait\";\r\nvar ListEdit = _uiList2.default.inherit({\r\n    _supportedKeys: function() {\r\n        var _this = this;\r\n        var that = this;\r\n        var parent = this.callBase();\r\n        var deleteFocusedItem = function(e) {\r\n            if (that.option(\"allowItemDeleting\")) {\r\n                e.preventDefault();\r\n                that.deleteItem(that.option(\"focusedElement\"))\r\n            }\r\n        };\r\n        var moveFocusedItem = function(e, moveUp) {\r\n            var editStrategy = _this._editStrategy;\r\n            var focusedElement = _this.option(\"focusedElement\");\r\n            var focusedItemIndex = editStrategy.getNormalizedIndex(focusedElement);\r\n            var isLastIndexFocused = focusedItemIndex === _this._getLastItemIndex();\r\n            if (isLastIndexFocused && _this._isDataSourceLoading()) {\r\n                return\r\n            }\r\n            if (e.shiftKey && that.option(\"itemDragging.allowReordering\")) {\r\n                var nextItemIndex = focusedItemIndex + (moveUp ? -1 : 1);\r\n                var $nextItem = editStrategy.getItemElement(nextItemIndex);\r\n                _this.reorderItem(focusedElement, $nextItem);\r\n                _this.scrollToItem(focusedElement);\r\n                e.preventDefault()\r\n            } else {\r\n                var editProvider = _this._editProvider;\r\n                var isInternalMoving = editProvider.handleKeyboardEvents(focusedItemIndex, moveUp);\r\n                if (!isInternalMoving) {\r\n                    moveUp ? parent.upArrow(e) : parent.downArrow(e)\r\n                }\r\n            }\r\n        };\r\n        var enter = function(e) {\r\n            if (!this._editProvider.handleEnterPressing()) {\r\n                parent.enter.apply(this, arguments)\r\n            }\r\n        };\r\n        var space = function(e) {\r\n            if (!this._editProvider.handleEnterPressing()) {\r\n                parent.space.apply(this, arguments)\r\n            }\r\n        };\r\n        return (0, _extend.extend)({}, parent, {\r\n            del: deleteFocusedItem,\r\n            upArrow: function(e) {\r\n                return moveFocusedItem(e, true)\r\n            },\r\n            downArrow: moveFocusedItem,\r\n            enter: enter,\r\n            space: space\r\n        })\r\n    },\r\n    _updateSelection: function() {\r\n        this._editProvider.afterItemsRendered();\r\n        this.callBase()\r\n    },\r\n    _getLastItemIndex: function() {\r\n        return this._itemElements().length - 1\r\n    },\r\n    _refreshItemElements: function() {\r\n        this.callBase();\r\n        var excludedSelectors = this._editProvider.getExcludedItemSelectors();\r\n        if (excludedSelectors.length) {\r\n            this._itemElementsCache = this._itemElementsCache.not(excludedSelectors)\r\n        }\r\n    },\r\n    _setDeprecatedOptions: function() {\r\n        this.callBase();\r\n        (0, _extend.extend)(this._deprecatedOptions, {\r\n            allowItemReordering: {\r\n                since: \"19.2\",\r\n                alias: \"itemDragging.allowReordering\"\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            showSelectionControls: false,\r\n            selectionMode: \"none\",\r\n            selectAllMode: \"page\",\r\n            onSelectAllValueChanged: null,\r\n            selectAllText: (0, _message.format)(\"dxList-selectAll\"),\r\n            menuItems: [],\r\n            menuMode: \"context\",\r\n            allowItemDeleting: false,\r\n            itemDeleteMode: \"static\",\r\n            allowItemReordering: false,\r\n            itemDragging: {}\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function(_device) {\r\n                return \"ios\" === _device.platform\r\n            },\r\n            options: {\r\n                menuMode: \"slide\",\r\n                itemDeleteMode: \"slideItem\"\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"android\"\r\n            },\r\n            options: {\r\n                itemDeleteMode: \"swipe\"\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initEditProvider()\r\n    },\r\n    _initDataSource: function() {\r\n        this.callBase();\r\n        if (!this._isPageSelectAll()) {\r\n            this._dataSource && this._dataSource.requireTotalCount(true)\r\n        }\r\n    },\r\n    _isPageSelectAll: function() {\r\n        return \"page\" === this.option(\"selectAllMode\")\r\n    },\r\n    _initEditProvider: function() {\r\n        this._editProvider = new _uiListEdit2.default(this)\r\n    },\r\n    _disposeEditProvider: function() {\r\n        if (this._editProvider) {\r\n            this._editProvider.dispose()\r\n        }\r\n    },\r\n    _refreshEditProvider: function() {\r\n        this._disposeEditProvider();\r\n        this._initEditProvider()\r\n    },\r\n    _initEditStrategy: function() {\r\n        if (this.option(\"grouped\")) {\r\n            this._editStrategy = new _uiListEditStrategy2.default(this)\r\n        } else {\r\n            this.callBase()\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this._refreshEditProvider();\r\n        this.callBase()\r\n    },\r\n    _renderItems: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._editProvider.afterItemsRendered()\r\n    },\r\n    _selectedItemClass: function() {\r\n        return LIST_ITEM_SELECTED_CLASS\r\n    },\r\n    _itemResponseWaitClass: function() {\r\n        return LIST_ITEM_RESPONSE_WAIT_CLASS\r\n    },\r\n    _itemClickHandler: function(e) {\r\n        var $itemElement = (0, _renderer2.default)(e.currentTarget);\r\n        if ($itemElement.is(\".dx-state-disabled, .dx-state-disabled *\")) {\r\n            return\r\n        }\r\n        var handledByEditProvider = this._editProvider.handleClick($itemElement, e);\r\n        if (handledByEditProvider) {\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _shouldFireContextMenuEvent: function() {\r\n        return this.callBase.apply(this, arguments) || this._editProvider.contextMenuHandlerExists()\r\n    },\r\n    _itemHoldHandler: function(e) {\r\n        var $itemElement = (0, _renderer2.default)(e.currentTarget);\r\n        if ($itemElement.is(\".dx-state-disabled, .dx-state-disabled *\")) {\r\n            return\r\n        }\r\n        var handledByEditProvider = (0, _utils.isTouchEvent)(e) && this._editProvider.handleContextMenu($itemElement, e);\r\n        if (handledByEditProvider) {\r\n            e.handledByEditProvider = true;\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _itemContextMenuHandler: function(e) {\r\n        var $itemElement = (0, _renderer2.default)(e.currentTarget);\r\n        if ($itemElement.is(\".dx-state-disabled, .dx-state-disabled *\")) {\r\n            return\r\n        }\r\n        var handledByEditProvider = !e.handledByEditProvider && this._editProvider.handleContextMenu($itemElement, e);\r\n        if (handledByEditProvider) {\r\n            e.preventDefault();\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _postprocessRenderItem: function(args) {\r\n        this.callBase.apply(this, arguments);\r\n        this._editProvider.modifyItemElement(args)\r\n    },\r\n    _clean: function() {\r\n        this._disposeEditProvider();\r\n        this.callBase()\r\n    },\r\n    focusListItem: function(index) {\r\n        var $item = this._editStrategy.getItemElement(index);\r\n        this.option(\"focusedElement\", $item);\r\n        this.focus();\r\n        this.scrollToItem(this.option(\"focusedElement\"))\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"selectAllMode\":\r\n                this._initDataSource();\r\n                this._dataSource.pageIndex(0);\r\n                this._dataSource.load();\r\n                break;\r\n            case \"grouped\":\r\n                this._clearSelectedItems();\r\n                delete this._renderingGroupIndex;\r\n                this._initEditStrategy();\r\n                this.callBase(args);\r\n                break;\r\n            case \"showSelectionControls\":\r\n            case \"menuItems\":\r\n            case \"menuMode\":\r\n            case \"allowItemDeleting\":\r\n            case \"itemDeleteMode\":\r\n            case \"allowItemReordering\":\r\n            case \"itemDragging\":\r\n            case \"selectAllText\":\r\n                this._invalidate();\r\n                break;\r\n            case \"onSelectAllValueChanged\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    selectAll: function() {\r\n        return this._selection.selectAll(this._isPageSelectAll())\r\n    },\r\n    unselectAll: function() {\r\n        return this._selection.deselectAll(this._isPageSelectAll())\r\n    },\r\n    isSelectAll: function() {\r\n        return this._selection.getSelectAllState(this._isPageSelectAll())\r\n    },\r\n    getFlatIndexByItemElement: function(itemElement) {\r\n        return this._itemElements().index(itemElement)\r\n    },\r\n    getItemElementByFlatIndex: function(flatIndex) {\r\n        var $itemElements = this._itemElements();\r\n        if (flatIndex < 0 || flatIndex >= $itemElements.length) {\r\n            return (0, _renderer2.default)()\r\n        }\r\n        return $itemElements.eq(flatIndex)\r\n    },\r\n    getItemByIndex: function(index) {\r\n        return this._editStrategy.getItemDataByIndex(index)\r\n    }\r\n});\r\nmodule.exports = ListEdit;\r\n"]},"metadata":{},"sourceType":"module"}