{"ast":null,"code":"/**\r\n * DevExtreme (viz/gauges/base_gauge.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _Number = Number;\n\nvar _getAppropriateFormat = require(\"../core/utils\").getAppropriateFormat;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar translator1DModule = require(\"../translators/translator1d\");\n\nvar _extend = extend;\n\nvar BaseWidget = require(\"../core/base_widget\");\n\nvar themeManagerModule = require(\"./theme_manager\");\n\nvar Tracker = require(\"./tracker\");\n\nvar dxBaseGauge = BaseWidget.inherit({\n  _rootClassPrefix: \"dxg\",\n  _themeSection: \"gauge\",\n  _createThemeManager: function _createThemeManager() {\n    return new themeManagerModule.ThemeManager(this._getThemeManagerOptions());\n  },\n  _initCore: function _initCore() {\n    var that = this;\n    var root = that._renderer.root;\n    that._valueChangingLocker = 0;\n    that._translator = that._factory.createTranslator();\n    that._tracker = that._factory.createTracker({\n      renderer: that._renderer,\n      container: root\n    });\n\n    that._setTrackerCallbacks();\n  },\n  _beginValueChanging: function _beginValueChanging() {\n    this._resetIsReady();\n\n    this._onBeginUpdate();\n\n    ++this._valueChangingLocker;\n  },\n  _endValueChanging: function _endValueChanging() {\n    if (0 === --this._valueChangingLocker) {\n      this._drawn();\n    }\n  },\n  _setTrackerCallbacks: function _setTrackerCallbacks() {\n    var that = this;\n    var renderer = that._renderer;\n    var tooltip = that._tooltip;\n\n    that._tracker.setCallbacks({\n      \"tooltip-show\": function tooltipShow(target, info) {\n        var tooltipParameters = target.getTooltipParameters();\n        var offset = renderer.getRootOffset();\n\n        var formatObject = _extend({\n          value: tooltipParameters.value,\n          valueText: tooltip.formatValue(tooltipParameters.value),\n          color: tooltipParameters.color\n        }, info);\n\n        return tooltip.show(formatObject, {\n          x: tooltipParameters.x + offset.left,\n          y: tooltipParameters.y + offset.top,\n          offset: tooltipParameters.offset\n        }, {\n          target: info\n        });\n      },\n      \"tooltip-hide\": function tooltipHide() {\n        return tooltip.hide();\n      }\n    });\n  },\n  _dispose: function _dispose() {\n    this._cleanCore();\n\n    this.callBase.apply(this, arguments);\n  },\n  _disposeCore: function _disposeCore() {\n    var that = this;\n\n    that._themeManager.dispose();\n\n    that._tracker.dispose();\n\n    that._translator = that._tracker = null;\n  },\n  _cleanCore: function _cleanCore() {\n    var that = this;\n\n    that._tracker.deactivate();\n\n    that._cleanContent();\n  },\n  _renderCore: function _renderCore() {\n    var that = this;\n\n    if (!that._isValidDomain) {\n      return;\n    }\n\n    that._renderContent();\n\n    that._tracker.setTooltipState(that._tooltip.isEnabled());\n\n    that._tracker.activate();\n\n    that._noAnimation = false;\n  },\n  _applyChanges: function _applyChanges() {\n    this.callBase.apply(this, arguments);\n    this._resizing = this._noAnimation = false;\n  },\n  _setContentSize: function _setContentSize() {\n    var that = this;\n    that._resizing = that._noAnimation = 2 === that._changes.count();\n    that.callBase.apply(that, arguments);\n  },\n  _applySize: function _applySize(rect) {\n    var that = this;\n    that._innerRect = {\n      left: rect[0],\n      top: rect[1],\n      right: rect[2],\n      bottom: rect[3]\n    };\n    var layoutCache = that._layout._cache;\n\n    that._cleanCore();\n\n    that._renderCore();\n\n    that._layout._cache = that._layout._cache || layoutCache;\n    return [rect[0], that._innerRect.top, rect[2], that._innerRect.bottom];\n  },\n  _initialChanges: [\"DOMAIN\"],\n  _themeDependentChanges: [\"DOMAIN\"],\n  _optionChangesMap: {\n    subtitle: \"MOSTLY_TOTAL\",\n    indicator: \"MOSTLY_TOTAL\",\n    geometry: \"MOSTLY_TOTAL\",\n    animation: \"MOSTLY_TOTAL\",\n    startValue: \"DOMAIN\",\n    endValue: \"DOMAIN\"\n  },\n  _optionChangesOrder: [\"DOMAIN\", \"MOSTLY_TOTAL\"],\n  _change_DOMAIN: function _change_DOMAIN() {\n    this._setupDomain();\n  },\n  _change_MOSTLY_TOTAL: function _change_MOSTLY_TOTAL() {\n    this._applyMostlyTotalChange();\n  },\n  _setupDomain: function _setupDomain() {\n    var that = this;\n\n    that._setupDomainCore();\n\n    that._isValidDomain = isFinite(1 / (that._translator.getDomain()[1] - that._translator.getDomain()[0]));\n\n    if (!that._isValidDomain) {\n      that._incidentOccurred(\"W2301\");\n    }\n\n    that._change([\"MOSTLY_TOTAL\"]);\n  },\n  _applyMostlyTotalChange: function _applyMostlyTotalChange() {\n    var that = this;\n\n    that._setupCodomain();\n\n    that._setupAnimationSettings();\n\n    that._setupDefaultFormat();\n\n    that._change([\"LAYOUT\"]);\n  },\n  _setupAnimationSettings: function _setupAnimationSettings() {\n    var that = this;\n    var option = that.option(\"animation\");\n    that._animationSettings = null;\n\n    if (void 0 === option || option) {\n      option = _extend({\n        enabled: true,\n        duration: 1e3,\n        easing: \"easeOutCubic\"\n      }, option);\n\n      if (option.enabled && option.duration > 0) {\n        that._animationSettings = {\n          duration: _Number(option.duration),\n          easing: option.easing\n        };\n      }\n    }\n\n    that._containerBackgroundColor = that.option(\"containerBackgroundColor\") || that._themeManager.theme().containerBackgroundColor;\n  },\n  _setupDefaultFormat: function _setupDefaultFormat() {\n    var domain = this._translator.getDomain();\n\n    this._defaultFormatOptions = _getAppropriateFormat(domain[0], domain[1], this._getApproximateScreenRange());\n  },\n  _setupDomainCore: null,\n  _calculateSize: null,\n  _cleanContent: null,\n  _renderContent: null,\n  _setupCodomain: null,\n  _getApproximateScreenRange: null,\n  _factory: {\n    createTranslator: function createTranslator() {\n      return new translator1DModule.Translator1D();\n    },\n    createTracker: function createTracker(parameters) {\n      return new Tracker(parameters);\n    }\n  }\n});\nexports.dxBaseGauge = dxBaseGauge;\n\nvar _format = require(\"../../format_helper\").format;\n\nvar formatValue = function formatValue(value, options, extra) {\n  options = options || {};\n\n  var text = _format(value, options.format);\n\n  var formatObject;\n\n  if (\"function\" === typeof options.customizeText) {\n    formatObject = _extend({\n      value: value,\n      valueText: text\n    }, extra);\n    return String(options.customizeText.call(formatObject, formatObject));\n  }\n\n  return text;\n};\n\nvar getSampleText = function getSampleText(translator, options) {\n  var text1 = formatValue(translator.getDomainStart(), options);\n  var text2 = formatValue(translator.getDomainEnd(), options);\n  return text1.length >= text2.length ? text1 : text2;\n};\n\nexports.formatValue = formatValue;\nexports.getSampleText = getSampleText;\n\nexports.compareArrays = function (array1, array2) {\n  return array1 && array2 && array1.length === array2.length && compareArraysElements(array1, array2);\n};\n\nfunction compareArraysElements(array1, array2) {\n  var i;\n  var ii = array1.length;\n  var array1ValueIsNaN;\n  var array2ValueIsNaN;\n\n  for (i = 0; i < ii; ++i) {\n    array1ValueIsNaN = array1[i] !== array1[i];\n    array2ValueIsNaN = array2[i] !== array2[i];\n\n    if (array1ValueIsNaN && array2ValueIsNaN) {\n      continue;\n    }\n\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\ndxBaseGauge.addPlugin(require(\"../core/export\").plugin);\ndxBaseGauge.addPlugin(require(\"../core/title\").plugin);\ndxBaseGauge.addPlugin(require(\"../core/tooltip\").plugin);\ndxBaseGauge.addPlugin(require(\"../core/loading_indicator\").plugin);\nvar _setTooltipOptions = dxBaseGauge.prototype._setTooltipOptions;\n\ndxBaseGauge.prototype._setTooltipOptions = function () {\n  _setTooltipOptions.apply(this, arguments);\n\n  this._tracker && this._tracker.setTooltipState(this._tooltip.isEnabled());\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/gauges/base_gauge.js"],"names":["_Number","_getAppropriateFormat","require","extend","translator1DModule","_extend","BaseWidget","themeManagerModule","Tracker","dxBaseGauge","_rootClassPrefix","_themeSection","_createThemeManager","_initCore","that","root","renderer","container","_beginValueChanging","_endValueChanging","_setTrackerCallbacks","tooltip","tooltipParameters","target","offset","formatObject","value","valueText","color","x","y","info","_dispose","_disposeCore","_cleanCore","_renderCore","_applyChanges","_setContentSize","_applySize","left","rect","top","right","bottom","layoutCache","_initialChanges","_themeDependentChanges","_optionChangesMap","subtitle","indicator","geometry","animation","startValue","endValue","_optionChangesOrder","_change_DOMAIN","_change_MOSTLY_TOTAL","_setupDomain","isFinite","_applyMostlyTotalChange","_setupAnimationSettings","option","enabled","duration","easing","_setupDefaultFormat","domain","_setupDomainCore","_calculateSize","_cleanContent","_renderContent","_setupCodomain","_getApproximateScreenRange","_factory","createTranslator","createTracker","exports","_format","formatValue","options","text","String","getSampleText","text1","translator","text2","array1","array2","compareArraysElements","ii","i","array1ValueIsNaN","array2ValueIsNaN","_setTooltipOptions"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/gauges/base_gauge.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _Number = Number;\r\nvar _getAppropriateFormat = require(\"../core/utils\").getAppropriateFormat;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar translator1DModule = require(\"../translators/translator1d\");\r\nvar _extend = extend;\r\nvar BaseWidget = require(\"../core/base_widget\");\r\nvar themeManagerModule = require(\"./theme_manager\");\r\nvar Tracker = require(\"./tracker\");\r\nvar dxBaseGauge = BaseWidget.inherit({\r\n    _rootClassPrefix: \"dxg\",\r\n    _themeSection: \"gauge\",\r\n    _createThemeManager: function() {\r\n        return new themeManagerModule.ThemeManager(this._getThemeManagerOptions())\r\n    },\r\n    _initCore: function() {\r\n        var that = this;\r\n        var root = that._renderer.root;\r\n        that._valueChangingLocker = 0;\r\n        that._translator = that._factory.createTranslator();\r\n        that._tracker = that._factory.createTracker({\r\n            renderer: that._renderer,\r\n            container: root\r\n        });\r\n        that._setTrackerCallbacks()\r\n    },\r\n    _beginValueChanging: function() {\r\n        this._resetIsReady();\r\n        this._onBeginUpdate();\r\n        ++this._valueChangingLocker\r\n    },\r\n    _endValueChanging: function() {\r\n        if (0 === --this._valueChangingLocker) {\r\n            this._drawn()\r\n        }\r\n    },\r\n    _setTrackerCallbacks: function() {\r\n        var that = this;\r\n        var renderer = that._renderer;\r\n        var tooltip = that._tooltip;\r\n        that._tracker.setCallbacks({\r\n            \"tooltip-show\": function(target, info) {\r\n                var tooltipParameters = target.getTooltipParameters();\r\n                var offset = renderer.getRootOffset();\r\n                var formatObject = _extend({\r\n                    value: tooltipParameters.value,\r\n                    valueText: tooltip.formatValue(tooltipParameters.value),\r\n                    color: tooltipParameters.color\r\n                }, info);\r\n                return tooltip.show(formatObject, {\r\n                    x: tooltipParameters.x + offset.left,\r\n                    y: tooltipParameters.y + offset.top,\r\n                    offset: tooltipParameters.offset\r\n                }, {\r\n                    target: info\r\n                })\r\n            },\r\n            \"tooltip-hide\": function() {\r\n                return tooltip.hide()\r\n            }\r\n        })\r\n    },\r\n    _dispose: function() {\r\n        this._cleanCore();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _disposeCore: function() {\r\n        var that = this;\r\n        that._themeManager.dispose();\r\n        that._tracker.dispose();\r\n        that._translator = that._tracker = null\r\n    },\r\n    _cleanCore: function() {\r\n        var that = this;\r\n        that._tracker.deactivate();\r\n        that._cleanContent()\r\n    },\r\n    _renderCore: function() {\r\n        var that = this;\r\n        if (!that._isValidDomain) {\r\n            return\r\n        }\r\n        that._renderContent();\r\n        that._tracker.setTooltipState(that._tooltip.isEnabled());\r\n        that._tracker.activate();\r\n        that._noAnimation = false\r\n    },\r\n    _applyChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._resizing = this._noAnimation = false\r\n    },\r\n    _setContentSize: function() {\r\n        var that = this;\r\n        that._resizing = that._noAnimation = 2 === that._changes.count();\r\n        that.callBase.apply(that, arguments)\r\n    },\r\n    _applySize: function(rect) {\r\n        var that = this;\r\n        that._innerRect = {\r\n            left: rect[0],\r\n            top: rect[1],\r\n            right: rect[2],\r\n            bottom: rect[3]\r\n        };\r\n        var layoutCache = that._layout._cache;\r\n        that._cleanCore();\r\n        that._renderCore();\r\n        that._layout._cache = that._layout._cache || layoutCache;\r\n        return [rect[0], that._innerRect.top, rect[2], that._innerRect.bottom]\r\n    },\r\n    _initialChanges: [\"DOMAIN\"],\r\n    _themeDependentChanges: [\"DOMAIN\"],\r\n    _optionChangesMap: {\r\n        subtitle: \"MOSTLY_TOTAL\",\r\n        indicator: \"MOSTLY_TOTAL\",\r\n        geometry: \"MOSTLY_TOTAL\",\r\n        animation: \"MOSTLY_TOTAL\",\r\n        startValue: \"DOMAIN\",\r\n        endValue: \"DOMAIN\"\r\n    },\r\n    _optionChangesOrder: [\"DOMAIN\", \"MOSTLY_TOTAL\"],\r\n    _change_DOMAIN: function() {\r\n        this._setupDomain()\r\n    },\r\n    _change_MOSTLY_TOTAL: function() {\r\n        this._applyMostlyTotalChange()\r\n    },\r\n    _setupDomain: function() {\r\n        var that = this;\r\n        that._setupDomainCore();\r\n        that._isValidDomain = isFinite(1 / (that._translator.getDomain()[1] - that._translator.getDomain()[0]));\r\n        if (!that._isValidDomain) {\r\n            that._incidentOccurred(\"W2301\")\r\n        }\r\n        that._change([\"MOSTLY_TOTAL\"])\r\n    },\r\n    _applyMostlyTotalChange: function() {\r\n        var that = this;\r\n        that._setupCodomain();\r\n        that._setupAnimationSettings();\r\n        that._setupDefaultFormat();\r\n        that._change([\"LAYOUT\"])\r\n    },\r\n    _setupAnimationSettings: function() {\r\n        var that = this;\r\n        var option = that.option(\"animation\");\r\n        that._animationSettings = null;\r\n        if (void 0 === option || option) {\r\n            option = _extend({\r\n                enabled: true,\r\n                duration: 1e3,\r\n                easing: \"easeOutCubic\"\r\n            }, option);\r\n            if (option.enabled && option.duration > 0) {\r\n                that._animationSettings = {\r\n                    duration: _Number(option.duration),\r\n                    easing: option.easing\r\n                }\r\n            }\r\n        }\r\n        that._containerBackgroundColor = that.option(\"containerBackgroundColor\") || that._themeManager.theme().containerBackgroundColor\r\n    },\r\n    _setupDefaultFormat: function() {\r\n        var domain = this._translator.getDomain();\r\n        this._defaultFormatOptions = _getAppropriateFormat(domain[0], domain[1], this._getApproximateScreenRange())\r\n    },\r\n    _setupDomainCore: null,\r\n    _calculateSize: null,\r\n    _cleanContent: null,\r\n    _renderContent: null,\r\n    _setupCodomain: null,\r\n    _getApproximateScreenRange: null,\r\n    _factory: {\r\n        createTranslator: function() {\r\n            return new translator1DModule.Translator1D\r\n        },\r\n        createTracker: function(parameters) {\r\n            return new Tracker(parameters)\r\n        }\r\n    }\r\n});\r\nexports.dxBaseGauge = dxBaseGauge;\r\nvar _format = require(\"../../format_helper\").format;\r\nvar formatValue = function(value, options, extra) {\r\n    options = options || {};\r\n    var text = _format(value, options.format);\r\n    var formatObject;\r\n    if (\"function\" === typeof options.customizeText) {\r\n        formatObject = _extend({\r\n            value: value,\r\n            valueText: text\r\n        }, extra);\r\n        return String(options.customizeText.call(formatObject, formatObject))\r\n    }\r\n    return text\r\n};\r\nvar getSampleText = function(translator, options) {\r\n    var text1 = formatValue(translator.getDomainStart(), options);\r\n    var text2 = formatValue(translator.getDomainEnd(), options);\r\n    return text1.length >= text2.length ? text1 : text2\r\n};\r\nexports.formatValue = formatValue;\r\nexports.getSampleText = getSampleText;\r\nexports.compareArrays = function(array1, array2) {\r\n    return array1 && array2 && array1.length === array2.length && compareArraysElements(array1, array2)\r\n};\r\n\r\nfunction compareArraysElements(array1, array2) {\r\n    var i;\r\n    var ii = array1.length;\r\n    var array1ValueIsNaN;\r\n    var array2ValueIsNaN;\r\n    for (i = 0; i < ii; ++i) {\r\n        array1ValueIsNaN = array1[i] !== array1[i];\r\n        array2ValueIsNaN = array2[i] !== array2[i];\r\n        if (array1ValueIsNaN && array2ValueIsNaN) {\r\n            continue\r\n        }\r\n        if (array1[i] !== array2[i]) {\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n}\r\ndxBaseGauge.addPlugin(require(\"../core/export\").plugin);\r\ndxBaseGauge.addPlugin(require(\"../core/title\").plugin);\r\ndxBaseGauge.addPlugin(require(\"../core/tooltip\").plugin);\r\ndxBaseGauge.addPlugin(require(\"../core/loading_indicator\").plugin);\r\nvar _setTooltipOptions = dxBaseGauge.prototype._setTooltipOptions;\r\ndxBaseGauge.prototype._setTooltipOptions = function() {\r\n    _setTooltipOptions.apply(this, arguments);\r\n    this._tracker && this._tracker.setTooltipState(this._tooltip.isEnabled())\r\n};\r\n"]},"metadata":{},"sourceType":"module"}