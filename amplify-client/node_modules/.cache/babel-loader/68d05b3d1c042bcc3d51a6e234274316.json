{"ast":null,"code":"/**\r\n * DevExtreme (viz/series/points/polar_point.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar extend = require(\"../../../core/utils/extend\").extend;\n\nvar _extend = extend;\n\nvar symbolPoint = require(\"./symbol_point\");\n\nvar barPoint = require(\"./bar_point\");\n\nvar piePoint = require(\"./pie_point\");\n\nvar isDefined = require(\"../../../core/utils/type\").isDefined;\n\nvar vizUtils = require(\"../../core/utils\");\n\nvar normalizeAngle = vizUtils.normalizeAngle;\nvar _math = Math;\nvar _max = _math.max;\n\nvar RADIAL_LABEL_INDENT = require(\"../../components/consts\").radialLabelIndent;\n\nvar ERROR_BARS_ANGLE_OFFSET = 90;\nvar CANVAS_POSITION_END = \"canvas_position_end\";\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\nexports.polarSymbolPoint = _extend({}, symbolPoint, {\n  _getLabelCoords: piePoint._getLabelCoords,\n  _moveLabelOnCanvas: barPoint._moveLabelOnCanvas,\n  _getLabelPosition: function _getLabelPosition() {\n    return \"outside\";\n  },\n  _getCoords: function _getCoords(argument, value) {\n    var axis = this.series.getValueAxis();\n    var startAngle = axis.getAngles()[0];\n\n    var angle = this._getArgTranslator().translate(argument);\n\n    var radius = this._getValTranslator().translate(value);\n\n    var coords = vizUtils.convertPolarToXY(axis.getCenter(), axis.getAngles()[0], angle, radius);\n    coords.angle = angle + startAngle - 90, coords.radius = radius;\n    return coords;\n  },\n  _translate: function _translate() {\n    var that = this;\n    var center = that.series.getValueAxis().getCenter();\n\n    var coord = that._getCoords(that.argument, that.value);\n\n    var maxRadius = that._getValTranslator().translate(CANVAS_POSITION_END);\n\n    var normalizedRadius = isDefined(coord.radius) && coord.radius >= 0 ? coord.radius : null;\n    that.vx = normalizeAngle(coord.angle);\n    that.vy = that.radiusOuter = that.radiusLabels = normalizedRadius;\n    that.radiusLabels += RADIAL_LABEL_INDENT;\n    that.radius = normalizedRadius;\n    that.middleAngle = -coord.angle;\n    that.angle = -coord.angle;\n    that.x = coord.x;\n    that.y = coord.y;\n    that.defaultX = that.centerX = center.x;\n    that.defaultY = that.centerY = center.y;\n\n    that._translateErrorBars();\n\n    that.inVisibleArea = that._checkRadiusForVisibleArea(normalizedRadius, maxRadius);\n  },\n  _checkRadiusForVisibleArea: function _checkRadiusForVisibleArea(radius, maxRadius) {\n    return isDefined(radius) && radius <= maxRadius;\n  },\n  _translateErrorBars: function _translateErrorBars() {\n    var that = this;\n    var errorBars = that._options.errorBars;\n\n    var translator = that._getValTranslator();\n\n    if (!errorBars) {\n      return;\n    }\n\n    isDefined(that.lowError) && (that._lowErrorCoord = that.centerY - translator.translate(that.lowError));\n    isDefined(that.highError) && (that._highErrorCoord = that.centerY - translator.translate(that.highError));\n    that._errorBarPos = that.centerX;\n    that._baseErrorBarPos = \"stdDeviation\" === errorBars.type ? that._lowErrorCoord + (that._highErrorCoord - that._lowErrorCoord) / 2 : that.centerY - that.radius;\n  },\n  _getTranslates: function _getTranslates(animationEnabled) {\n    return animationEnabled ? this.getDefaultCoords() : {\n      x: this.x,\n      y: this.y\n    };\n  },\n  getDefaultCoords: function getDefaultCoords() {\n    var cosSin = vizUtils.getCosAndSin(-this.angle);\n\n    var radius = this._getValTranslator().translate(CANVAS_POSITION_DEFAULT);\n\n    var x = this.defaultX + radius * cosSin.cos;\n    var y = this.defaultY + radius * cosSin.sin;\n    return {\n      x: x,\n      y: y\n    };\n  },\n  _addLabelAlignmentAndOffset: function _addLabelAlignmentAndOffset(label, coord) {\n    return coord;\n  },\n  _checkLabelPosition: function _checkLabelPosition(label, coord) {\n    var that = this;\n\n    var visibleArea = that._getVisibleArea();\n\n    var graphicBBox = that._getGraphicBBox();\n\n    if (that._isPointInVisibleArea(visibleArea, graphicBBox)) {\n      coord = that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect());\n    }\n\n    return coord;\n  },\n  _getErrorBarSettings: function _getErrorBarSettings(errorBarOptions, animationEnabled) {\n    var settings = symbolPoint._getErrorBarSettings.call(this, errorBarOptions, animationEnabled);\n\n    settings.rotate = ERROR_BARS_ANGLE_OFFSET - this.angle;\n    settings.rotateX = this.centerX;\n    settings.rotateY = this.centerY;\n    return settings;\n  },\n  getCoords: function getCoords(min) {\n    return min ? this.getDefaultCoords() : {\n      x: this.x,\n      y: this.y\n    };\n  }\n});\nexports.polarBarPoint = _extend({}, barPoint, {\n  _translateErrorBars: exports.polarSymbolPoint._translateErrorBars,\n  _getErrorBarSettings: exports.polarSymbolPoint._getErrorBarSettings,\n  _moveLabelOnCanvas: barPoint._moveLabelOnCanvas,\n  _getLabelCoords: piePoint._getLabelCoords,\n  _getLabelConnector: piePoint._getLabelConnector,\n  getTooltipParams: piePoint.getTooltipParams,\n  _getLabelPosition: piePoint._getLabelPosition,\n  _getCoords: exports.polarSymbolPoint._getCoords,\n  _translate: function _translate() {\n    var that = this;\n\n    var translator = that._getValTranslator();\n\n    var businessRange = translator.getBusinessRange();\n    var maxRadius = translator.translate(CANVAS_POSITION_END);\n    that.radiusInner = translator.translate(that.minValue);\n\n    exports.polarSymbolPoint._translate.call(that);\n\n    if (null === that.radiusInner) {\n      that.radiusInner = that.radius = maxRadius;\n    } else {\n      if (null === that.radius) {\n        that.radius = that.value >= businessRange.minVisible ? maxRadius : 0;\n      } else {\n        if (that.radius > maxRadius) {\n          that.radius = maxRadius;\n        }\n      }\n    }\n\n    that.radiusOuter = that.radiusLabels = _max(that.radiusInner, that.radius);\n    that.radiusLabels += RADIAL_LABEL_INDENT;\n    that.radiusInner = that.defaultRadius = _math.min(that.radiusInner, that.radius);\n    that.middleAngle = that.angle = -normalizeAngle(that.middleAngleCorrection - that.angle);\n  },\n  _checkRadiusForVisibleArea: function _checkRadiusForVisibleArea(radius) {\n    return isDefined(radius) || this._getValTranslator().translate(this.minValue) > 0;\n  },\n  _getErrorBarBaseEdgeLength: function _getErrorBarBaseEdgeLength() {\n    var coord = this.getMarkerCoords();\n    return _math.PI * coord.outerRadius * _math.abs(coord.startAngle - coord.endAngle) / 180;\n  },\n  getMarkerCoords: function getMarkerCoords() {\n    return {\n      x: this.centerX,\n      y: this.centerY,\n      outerRadius: this.radiusOuter,\n      innerRadius: this.defaultRadius,\n      startAngle: this.middleAngle - this.interval / 2,\n      endAngle: this.middleAngle + this.interval / 2\n    };\n  },\n  _drawMarker: function _drawMarker(renderer, group, animationEnabled) {\n    var that = this;\n\n    var styles = that._getStyle();\n\n    var coords = that.getMarkerCoords();\n    var innerRadius = coords.innerRadius;\n    var outerRadius = coords.outerRadius;\n\n    var start = that._getCoords(that.argument, CANVAS_POSITION_DEFAULT);\n\n    var x = coords.x;\n    var y = coords.y;\n\n    if (animationEnabled) {\n      innerRadius = 0;\n      outerRadius = 0;\n      x = start.x;\n      y = start.y;\n    }\n\n    that.graphic = renderer.arc(x, y, innerRadius, outerRadius, coords.startAngle, coords.endAngle).attr(styles).data({\n      \"chart-data-point\": that\n    }).append(group);\n  },\n  _checkLabelPosition: function _checkLabelPosition(label, coord) {\n    var that = this;\n\n    var visibleArea = that._getVisibleArea();\n\n    var angleFunctions = vizUtils.getCosAndSin(that.middleAngle);\n    var x = that.centerX + that.defaultRadius * angleFunctions.cos;\n    var y = that.centerY - that.defaultRadius * angleFunctions.sin;\n\n    if (x > visibleArea.minX && x < visibleArea.maxX && y > visibleArea.minY && y < visibleArea.maxY) {\n      coord = that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect());\n    }\n\n    return coord;\n  },\n  _addLabelAlignmentAndOffset: function _addLabelAlignmentAndOffset(label, coord) {\n    return coord;\n  },\n  correctCoordinates: function correctCoordinates(correctOptions) {\n    this.middleAngleCorrection = correctOptions.offset;\n    this.interval = correctOptions.width;\n  },\n  coordsIn: function coordsIn(x, y) {\n    var val = vizUtils.convertXYToPolar(this.series.getValueAxis().getCenter(), x, y);\n    var coords = this.getMarkerCoords();\n    var isBetweenAngles = coords.startAngle < coords.endAngle ? -val.phi >= coords.startAngle && -val.phi <= coords.endAngle : -val.phi <= coords.startAngle && -val.phi >= coords.endAngle;\n    return val.r >= coords.innerRadius && val.r <= coords.outerRadius && isBetweenAngles;\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/series/points/polar_point.js"],"names":["extend","require","_extend","symbolPoint","barPoint","piePoint","isDefined","vizUtils","normalizeAngle","_math","_max","RADIAL_LABEL_INDENT","ERROR_BARS_ANGLE_OFFSET","CANVAS_POSITION_END","CANVAS_POSITION_DEFAULT","exports","_getLabelCoords","_moveLabelOnCanvas","_getLabelPosition","_getCoords","axis","startAngle","angle","radius","coords","_translate","that","center","coord","maxRadius","normalizedRadius","_checkRadiusForVisibleArea","_translateErrorBars","errorBars","translator","_getTranslates","animationEnabled","x","y","getDefaultCoords","cosSin","_addLabelAlignmentAndOffset","_checkLabelPosition","visibleArea","graphicBBox","label","_getErrorBarSettings","settings","getCoords","min","_getLabelConnector","getTooltipParams","businessRange","_getErrorBarBaseEdgeLength","getMarkerCoords","outerRadius","innerRadius","endAngle","_drawMarker","styles","start","angleFunctions","correctCoordinates","correctOptions","coordsIn","val","isBetweenAngles"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/series/points/polar_point.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar extend = require(\"../../../core/utils/extend\").extend;\r\nvar _extend = extend;\r\nvar symbolPoint = require(\"./symbol_point\");\r\nvar barPoint = require(\"./bar_point\");\r\nvar piePoint = require(\"./pie_point\");\r\nvar isDefined = require(\"../../../core/utils/type\").isDefined;\r\nvar vizUtils = require(\"../../core/utils\");\r\nvar normalizeAngle = vizUtils.normalizeAngle;\r\nvar _math = Math;\r\nvar _max = _math.max;\r\nvar RADIAL_LABEL_INDENT = require(\"../../components/consts\").radialLabelIndent;\r\nvar ERROR_BARS_ANGLE_OFFSET = 90;\r\nvar CANVAS_POSITION_END = \"canvas_position_end\";\r\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\r\nexports.polarSymbolPoint = _extend({}, symbolPoint, {\r\n    _getLabelCoords: piePoint._getLabelCoords,\r\n    _moveLabelOnCanvas: barPoint._moveLabelOnCanvas,\r\n    _getLabelPosition: function() {\r\n        return \"outside\"\r\n    },\r\n    _getCoords: function(argument, value) {\r\n        var axis = this.series.getValueAxis();\r\n        var startAngle = axis.getAngles()[0];\r\n        var angle = this._getArgTranslator().translate(argument);\r\n        var radius = this._getValTranslator().translate(value);\r\n        var coords = vizUtils.convertPolarToXY(axis.getCenter(), axis.getAngles()[0], angle, radius);\r\n        coords.angle = angle + startAngle - 90, coords.radius = radius;\r\n        return coords\r\n    },\r\n    _translate: function() {\r\n        var that = this;\r\n        var center = that.series.getValueAxis().getCenter();\r\n        var coord = that._getCoords(that.argument, that.value);\r\n        var maxRadius = that._getValTranslator().translate(CANVAS_POSITION_END);\r\n        var normalizedRadius = isDefined(coord.radius) && coord.radius >= 0 ? coord.radius : null;\r\n        that.vx = normalizeAngle(coord.angle);\r\n        that.vy = that.radiusOuter = that.radiusLabels = normalizedRadius;\r\n        that.radiusLabels += RADIAL_LABEL_INDENT;\r\n        that.radius = normalizedRadius;\r\n        that.middleAngle = -coord.angle;\r\n        that.angle = -coord.angle;\r\n        that.x = coord.x;\r\n        that.y = coord.y;\r\n        that.defaultX = that.centerX = center.x;\r\n        that.defaultY = that.centerY = center.y;\r\n        that._translateErrorBars();\r\n        that.inVisibleArea = that._checkRadiusForVisibleArea(normalizedRadius, maxRadius)\r\n    },\r\n    _checkRadiusForVisibleArea: function(radius, maxRadius) {\r\n        return isDefined(radius) && radius <= maxRadius\r\n    },\r\n    _translateErrorBars: function() {\r\n        var that = this;\r\n        var errorBars = that._options.errorBars;\r\n        var translator = that._getValTranslator();\r\n        if (!errorBars) {\r\n            return\r\n        }\r\n        isDefined(that.lowError) && (that._lowErrorCoord = that.centerY - translator.translate(that.lowError));\r\n        isDefined(that.highError) && (that._highErrorCoord = that.centerY - translator.translate(that.highError));\r\n        that._errorBarPos = that.centerX;\r\n        that._baseErrorBarPos = \"stdDeviation\" === errorBars.type ? that._lowErrorCoord + (that._highErrorCoord - that._lowErrorCoord) / 2 : that.centerY - that.radius\r\n    },\r\n    _getTranslates: function(animationEnabled) {\r\n        return animationEnabled ? this.getDefaultCoords() : {\r\n            x: this.x,\r\n            y: this.y\r\n        }\r\n    },\r\n    getDefaultCoords: function() {\r\n        var cosSin = vizUtils.getCosAndSin(-this.angle);\r\n        var radius = this._getValTranslator().translate(CANVAS_POSITION_DEFAULT);\r\n        var x = this.defaultX + radius * cosSin.cos;\r\n        var y = this.defaultY + radius * cosSin.sin;\r\n        return {\r\n            x: x,\r\n            y: y\r\n        }\r\n    },\r\n    _addLabelAlignmentAndOffset: function(label, coord) {\r\n        return coord\r\n    },\r\n    _checkLabelPosition: function(label, coord) {\r\n        var that = this;\r\n        var visibleArea = that._getVisibleArea();\r\n        var graphicBBox = that._getGraphicBBox();\r\n        if (that._isPointInVisibleArea(visibleArea, graphicBBox)) {\r\n            coord = that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect())\r\n        }\r\n        return coord\r\n    },\r\n    _getErrorBarSettings: function(errorBarOptions, animationEnabled) {\r\n        var settings = symbolPoint._getErrorBarSettings.call(this, errorBarOptions, animationEnabled);\r\n        settings.rotate = ERROR_BARS_ANGLE_OFFSET - this.angle;\r\n        settings.rotateX = this.centerX;\r\n        settings.rotateY = this.centerY;\r\n        return settings\r\n    },\r\n    getCoords: function(min) {\r\n        return min ? this.getDefaultCoords() : {\r\n            x: this.x,\r\n            y: this.y\r\n        }\r\n    }\r\n});\r\nexports.polarBarPoint = _extend({}, barPoint, {\r\n    _translateErrorBars: exports.polarSymbolPoint._translateErrorBars,\r\n    _getErrorBarSettings: exports.polarSymbolPoint._getErrorBarSettings,\r\n    _moveLabelOnCanvas: barPoint._moveLabelOnCanvas,\r\n    _getLabelCoords: piePoint._getLabelCoords,\r\n    _getLabelConnector: piePoint._getLabelConnector,\r\n    getTooltipParams: piePoint.getTooltipParams,\r\n    _getLabelPosition: piePoint._getLabelPosition,\r\n    _getCoords: exports.polarSymbolPoint._getCoords,\r\n    _translate: function() {\r\n        var that = this;\r\n        var translator = that._getValTranslator();\r\n        var businessRange = translator.getBusinessRange();\r\n        var maxRadius = translator.translate(CANVAS_POSITION_END);\r\n        that.radiusInner = translator.translate(that.minValue);\r\n        exports.polarSymbolPoint._translate.call(that);\r\n        if (null === that.radiusInner) {\r\n            that.radiusInner = that.radius = maxRadius\r\n        } else {\r\n            if (null === that.radius) {\r\n                that.radius = that.value >= businessRange.minVisible ? maxRadius : 0\r\n            } else {\r\n                if (that.radius > maxRadius) {\r\n                    that.radius = maxRadius\r\n                }\r\n            }\r\n        }\r\n        that.radiusOuter = that.radiusLabels = _max(that.radiusInner, that.radius);\r\n        that.radiusLabels += RADIAL_LABEL_INDENT;\r\n        that.radiusInner = that.defaultRadius = _math.min(that.radiusInner, that.radius);\r\n        that.middleAngle = that.angle = -normalizeAngle(that.middleAngleCorrection - that.angle)\r\n    },\r\n    _checkRadiusForVisibleArea: function(radius) {\r\n        return isDefined(radius) || this._getValTranslator().translate(this.minValue) > 0\r\n    },\r\n    _getErrorBarBaseEdgeLength: function() {\r\n        var coord = this.getMarkerCoords();\r\n        return _math.PI * coord.outerRadius * _math.abs(coord.startAngle - coord.endAngle) / 180\r\n    },\r\n    getMarkerCoords: function() {\r\n        return {\r\n            x: this.centerX,\r\n            y: this.centerY,\r\n            outerRadius: this.radiusOuter,\r\n            innerRadius: this.defaultRadius,\r\n            startAngle: this.middleAngle - this.interval / 2,\r\n            endAngle: this.middleAngle + this.interval / 2\r\n        }\r\n    },\r\n    _drawMarker: function(renderer, group, animationEnabled) {\r\n        var that = this;\r\n        var styles = that._getStyle();\r\n        var coords = that.getMarkerCoords();\r\n        var innerRadius = coords.innerRadius;\r\n        var outerRadius = coords.outerRadius;\r\n        var start = that._getCoords(that.argument, CANVAS_POSITION_DEFAULT);\r\n        var x = coords.x;\r\n        var y = coords.y;\r\n        if (animationEnabled) {\r\n            innerRadius = 0;\r\n            outerRadius = 0;\r\n            x = start.x;\r\n            y = start.y\r\n        }\r\n        that.graphic = renderer.arc(x, y, innerRadius, outerRadius, coords.startAngle, coords.endAngle).attr(styles).data({\r\n            \"chart-data-point\": that\r\n        }).append(group)\r\n    },\r\n    _checkLabelPosition: function(label, coord) {\r\n        var that = this;\r\n        var visibleArea = that._getVisibleArea();\r\n        var angleFunctions = vizUtils.getCosAndSin(that.middleAngle);\r\n        var x = that.centerX + that.defaultRadius * angleFunctions.cos;\r\n        var y = that.centerY - that.defaultRadius * angleFunctions.sin;\r\n        if (x > visibleArea.minX && x < visibleArea.maxX && y > visibleArea.minY && y < visibleArea.maxY) {\r\n            coord = that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect())\r\n        }\r\n        return coord\r\n    },\r\n    _addLabelAlignmentAndOffset: function(label, coord) {\r\n        return coord\r\n    },\r\n    correctCoordinates: function(correctOptions) {\r\n        this.middleAngleCorrection = correctOptions.offset;\r\n        this.interval = correctOptions.width\r\n    },\r\n    coordsIn: function(x, y) {\r\n        var val = vizUtils.convertXYToPolar(this.series.getValueAxis().getCenter(), x, y);\r\n        var coords = this.getMarkerCoords();\r\n        var isBetweenAngles = coords.startAngle < coords.endAngle ? -val.phi >= coords.startAngle && -val.phi <= coords.endAngle : -val.phi <= coords.startAngle && -val.phi >= coords.endAngle;\r\n        return val.r >= coords.innerRadius && val.r <= coords.outerRadius && isBetweenAngles\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}