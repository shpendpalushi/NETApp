{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/ui.scheduler.header.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar isDefined = require(\"../../core/utils/type\").isDefined;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar inArray = require(\"../../core/utils/array\").inArray;\n\nvar camelize = require(\"../../core/utils/inflector\").camelize;\n\nvar registerComponent = require(\"../../core/component_registrator\");\n\nvar Widget = require(\"../widget/ui.widget\");\n\nvar publisherMixin = require(\"./ui.scheduler.publisher_mixin\");\n\nvar SchedulerNavigator = require(\"./ui.scheduler.navigator\");\n\nvar DropDownMenu = require(\"../drop_down_menu\");\n\nvar Tabs = require(\"../tabs\");\n\nvar errors = require(\"../../core/errors\");\n\nvar messageLocalization = require(\"../../localization/message\");\n\nvar COMPONENT_CLASS = \"dx-scheduler-header\";\nvar VIEW_SWITCHER_CLASS = \"dx-scheduler-view-switcher\";\nvar VIEW_SWITCHER_LABEL_CLASS = \"dx-scheduler-view-switcher-label\";\nvar STEP_MAP = {\n  day: \"day\",\n  week: \"week\",\n  workWeek: \"workWeek\",\n  month: \"month\",\n  timelineDay: \"day\",\n  timelineWeek: \"week\",\n  timelineWorkWeek: \"workWeek\",\n  timelineMonth: \"month\",\n  agenda: \"agenda\"\n};\nvar VIEWS = [\"day\", \"week\", \"workWeek\", \"month\", \"timelineDay\", \"timelineWeek\", \"timelineWorkWeek\", \"timelineMonth\", \"agenda\"];\nvar SchedulerHeader = Widget.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      views: [],\n      intervalCount: 1,\n      currentView: \"day\",\n      firstDayOfWeek: void 0,\n      currentDate: new Date(),\n      min: void 0,\n      max: void 0,\n      useDropDownViewSwitcher: false,\n      _dropDownButtonIcon: \"overlay\"\n    });\n  },\n  _setOptionsByReference: function _setOptionsByReference() {\n    this.callBase();\n    extend(this._optionsByReference, {\n      currentView: true\n    });\n  },\n  _optionChanged: function _optionChanged(args) {\n    var value = args.value;\n\n    switch (args.name) {\n      case \"views\":\n        this._validateViews();\n\n        this._viewSwitcher.option({\n          items: value,\n          selectedItem: this.option(\"currentView\")\n        });\n\n        break;\n\n      case \"customizeDateNavigatorText\":\n        this._navigator.option(args.name, value);\n\n        break;\n\n      case \"currentView\":\n        this._viewSwitcher.option(\"selectedItem\", value);\n\n        this._navigator.option(\"step\", STEP_MAP[this._getCurrentViewType()]);\n\n        this._changeViewSwitcherLabelText();\n\n        break;\n\n      case \"currentDate\":\n        this._navigator.option(\"date\", value);\n\n        break;\n\n      case \"displayedDate\":\n        this._navigator.option(\"displayedDate\", value);\n\n        break;\n\n      case \"min\":\n      case \"max\":\n      case \"firstDayOfWeek\":\n      case \"intervalCount\":\n        this._navigator.option(args.name, value);\n\n        break;\n\n      case \"tabIndex\":\n      case \"focusStateEnabled\":\n        this._viewSwitcher.option(args.name, value);\n\n        this._navigator.option(args.name, value);\n\n        this.callBase(args);\n        break;\n\n      case \"useDropDownViewSwitcher\":\n        this._refreshViewSwitcher();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _init: function _init() {\n    this.callBase();\n    this.$element().addClass(COMPONENT_CLASS);\n  },\n  _initMarkup: function _initMarkup() {\n    this.callBase();\n\n    this._renderNavigator();\n\n    this._renderViewSwitcher();\n  },\n  _renderNavigator: function _renderNavigator() {\n    this._navigator = this._createComponent(\"<div>\", SchedulerNavigator, {\n      min: this.option(\"min\"),\n      max: this.option(\"max\"),\n      intervalCount: this.option(\"intervalCount\"),\n      date: this.option(\"currentDate\"),\n      step: STEP_MAP[this._getCurrentViewType()],\n      firstDayOfWeek: this.option(\"firstDayOfWeek\"),\n      tabIndex: this.option(\"tabIndex\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\"),\n      observer: this.option(\"observer\"),\n      customizeDateNavigatorText: this.option(\"customizeDateNavigatorText\")\n    });\n\n    this._navigator.$element().appendTo(this.$element());\n  },\n  _renderViewSwitcher: function _renderViewSwitcher() {\n    this._validateViews();\n\n    var $viewSwitcher = $(\"<div>\").addClass(VIEW_SWITCHER_CLASS).appendTo(this.$element());\n\n    if (!this.option(\"useDropDownViewSwitcher\")) {\n      this._renderViewSwitcherTabs($viewSwitcher);\n    } else {\n      this._renderViewSwitcherDropDownMenu($viewSwitcher);\n    }\n  },\n  _validateViews: function _validateViews() {\n    var views = this.option(\"views\");\n    each(views, function (_, view) {\n      var isViewIsObject = typeUtils.isObject(view);\n      var viewType = isViewIsObject && view.type ? view.type : view;\n\n      if (inArray(viewType, VIEWS) === -1) {\n        errors.log(\"W0008\", viewType);\n      }\n    });\n  },\n  _getCurrentViewType: function _getCurrentViewType() {\n    var currentView = this.option(\"currentView\");\n    return currentView.type || currentView;\n  },\n  _renderViewSwitcherTabs: function _renderViewSwitcherTabs($element) {\n    var that = this;\n    $element.addClass(Tabs.getTabsExpandedClass);\n    this._viewSwitcher = this._createComponent($element, Tabs, {\n      selectionRequired: true,\n      scrollingEnabled: true,\n      onSelectionChanged: this._updateCurrentView.bind(this),\n      items: this.option(\"views\"),\n      itemTemplate: function itemTemplate(item) {\n        return $(\"<span>\").addClass(\"dx-tab-text\").text(that._getItemText(item));\n      },\n      selectedItem: this.option(\"currentView\"),\n      tabIndex: this.option(\"tabIndex\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\")\n    });\n  },\n  _getItemText: function _getItemText(item) {\n    return item.name || messageLocalization.format(\"dxScheduler-switcher\" + camelize(item.type || item, true));\n  },\n  _refreshViewSwitcher: function _refreshViewSwitcher() {\n    this._viewSwitcher._dispose();\n\n    this._viewSwitcher.$element().remove();\n\n    delete this._viewSwitcher;\n\n    this._removeViewSwitcherLabel();\n\n    this._renderViewSwitcher();\n  },\n  _removeViewSwitcherLabel: function _removeViewSwitcherLabel() {\n    if (isDefined(this._$viewSwitcherLabel)) {\n      this._$viewSwitcherLabel.detach();\n\n      this._$viewSwitcherLabel.remove();\n\n      delete this._$viewSwitcherLabel;\n    }\n  },\n  _renderViewSwitcherDropDownMenu: function _renderViewSwitcherDropDownMenu($element) {\n    var that = this;\n    this._$viewSwitcherLabel = $(\"<div>\").addClass(VIEW_SWITCHER_LABEL_CLASS).appendTo(this.$element());\n\n    this._changeViewSwitcherLabelText();\n\n    this._viewSwitcher = this._createComponent($element, DropDownMenu, {\n      onItemClick: this._updateCurrentView.bind(this),\n      buttonIcon: this.option(\"_dropDownButtonIcon\"),\n      items: this.option(\"views\"),\n      itemTemplate: function itemTemplate(item) {\n        return $(\"<span>\").addClass(\"dx-dropdownmenu-item-text\").text(that._getItemText(item));\n      }\n    });\n  },\n  _changeViewSwitcherLabelText: function _changeViewSwitcherLabelText() {\n    if (!isDefined(this._$viewSwitcherLabel)) {\n      return;\n    }\n\n    var currentView = this.option(\"currentView\");\n\n    var currentViewText = this._getItemText(currentView);\n\n    this._$viewSwitcherLabel.text(currentViewText);\n  },\n  _getCurrentViewName: function _getCurrentViewName(currentView) {\n    return typeUtils.isObject(currentView) ? currentView.name || currentView.type : currentView;\n  },\n  _updateCurrentView: function _updateCurrentView(e) {\n    var selectedItem = e.itemData || e.component.option(\"selectedItem\");\n\n    var viewName = this._getCurrentViewName(selectedItem);\n\n    this.notifyObserver(\"currentViewUpdated\", viewName);\n  },\n  _renderFocusTarget: noop\n}).include(publisherMixin);\nregisterComponent(\"dxSchedulerHeader\", SchedulerHeader);\nmodule.exports = SchedulerHeader;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/scheduler/ui.scheduler.header.js"],"names":["$","require","typeUtils","noop","isDefined","extend","each","inArray","camelize","registerComponent","Widget","publisherMixin","SchedulerNavigator","DropDownMenu","Tabs","errors","messageLocalization","COMPONENT_CLASS","VIEW_SWITCHER_CLASS","VIEW_SWITCHER_LABEL_CLASS","STEP_MAP","day","week","workWeek","month","timelineDay","timelineWeek","timelineWorkWeek","timelineMonth","agenda","VIEWS","SchedulerHeader","_getDefaultOptions","views","intervalCount","currentView","firstDayOfWeek","currentDate","min","max","useDropDownViewSwitcher","_dropDownButtonIcon","_setOptionsByReference","_optionChanged","value","args","items","selectedItem","_init","_initMarkup","_renderNavigator","date","step","tabIndex","focusStateEnabled","observer","customizeDateNavigatorText","_renderViewSwitcher","$viewSwitcher","_validateViews","isViewIsObject","viewType","view","_getCurrentViewType","_renderViewSwitcherTabs","that","$element","selectionRequired","scrollingEnabled","onSelectionChanged","itemTemplate","_getItemText","item","_refreshViewSwitcher","_removeViewSwitcherLabel","_renderViewSwitcherDropDownMenu","onItemClick","buttonIcon","_changeViewSwitcherLabelText","currentViewText","_getCurrentViewName","_updateCurrentView","e","viewName","_renderFocusTarget","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/ui.scheduler.header.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar isDefined = require(\"../../core/utils/type\").isDefined;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar inArray = require(\"../../core/utils/array\").inArray;\r\nvar camelize = require(\"../../core/utils/inflector\").camelize;\r\nvar registerComponent = require(\"../../core/component_registrator\");\r\nvar Widget = require(\"../widget/ui.widget\");\r\nvar publisherMixin = require(\"./ui.scheduler.publisher_mixin\");\r\nvar SchedulerNavigator = require(\"./ui.scheduler.navigator\");\r\nvar DropDownMenu = require(\"../drop_down_menu\");\r\nvar Tabs = require(\"../tabs\");\r\nvar errors = require(\"../../core/errors\");\r\nvar messageLocalization = require(\"../../localization/message\");\r\nvar COMPONENT_CLASS = \"dx-scheduler-header\";\r\nvar VIEW_SWITCHER_CLASS = \"dx-scheduler-view-switcher\";\r\nvar VIEW_SWITCHER_LABEL_CLASS = \"dx-scheduler-view-switcher-label\";\r\nvar STEP_MAP = {\r\n    day: \"day\",\r\n    week: \"week\",\r\n    workWeek: \"workWeek\",\r\n    month: \"month\",\r\n    timelineDay: \"day\",\r\n    timelineWeek: \"week\",\r\n    timelineWorkWeek: \"workWeek\",\r\n    timelineMonth: \"month\",\r\n    agenda: \"agenda\"\r\n};\r\nvar VIEWS = [\"day\", \"week\", \"workWeek\", \"month\", \"timelineDay\", \"timelineWeek\", \"timelineWorkWeek\", \"timelineMonth\", \"agenda\"];\r\nvar SchedulerHeader = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            views: [],\r\n            intervalCount: 1,\r\n            currentView: \"day\",\r\n            firstDayOfWeek: void 0,\r\n            currentDate: new Date,\r\n            min: void 0,\r\n            max: void 0,\r\n            useDropDownViewSwitcher: false,\r\n            _dropDownButtonIcon: \"overlay\"\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            currentView: true\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"views\":\r\n                this._validateViews();\r\n                this._viewSwitcher.option({\r\n                    items: value,\r\n                    selectedItem: this.option(\"currentView\")\r\n                });\r\n                break;\r\n            case \"customizeDateNavigatorText\":\r\n                this._navigator.option(args.name, value);\r\n                break;\r\n            case \"currentView\":\r\n                this._viewSwitcher.option(\"selectedItem\", value);\r\n                this._navigator.option(\"step\", STEP_MAP[this._getCurrentViewType()]);\r\n                this._changeViewSwitcherLabelText();\r\n                break;\r\n            case \"currentDate\":\r\n                this._navigator.option(\"date\", value);\r\n                break;\r\n            case \"displayedDate\":\r\n                this._navigator.option(\"displayedDate\", value);\r\n                break;\r\n            case \"min\":\r\n            case \"max\":\r\n            case \"firstDayOfWeek\":\r\n            case \"intervalCount\":\r\n                this._navigator.option(args.name, value);\r\n                break;\r\n            case \"tabIndex\":\r\n            case \"focusStateEnabled\":\r\n                this._viewSwitcher.option(args.name, value);\r\n                this._navigator.option(args.name, value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"useDropDownViewSwitcher\":\r\n                this._refreshViewSwitcher();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(COMPONENT_CLASS)\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._renderNavigator();\r\n        this._renderViewSwitcher()\r\n    },\r\n    _renderNavigator: function() {\r\n        this._navigator = this._createComponent(\"<div>\", SchedulerNavigator, {\r\n            min: this.option(\"min\"),\r\n            max: this.option(\"max\"),\r\n            intervalCount: this.option(\"intervalCount\"),\r\n            date: this.option(\"currentDate\"),\r\n            step: STEP_MAP[this._getCurrentViewType()],\r\n            firstDayOfWeek: this.option(\"firstDayOfWeek\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            observer: this.option(\"observer\"),\r\n            customizeDateNavigatorText: this.option(\"customizeDateNavigatorText\")\r\n        });\r\n        this._navigator.$element().appendTo(this.$element())\r\n    },\r\n    _renderViewSwitcher: function() {\r\n        this._validateViews();\r\n        var $viewSwitcher = $(\"<div>\").addClass(VIEW_SWITCHER_CLASS).appendTo(this.$element());\r\n        if (!this.option(\"useDropDownViewSwitcher\")) {\r\n            this._renderViewSwitcherTabs($viewSwitcher)\r\n        } else {\r\n            this._renderViewSwitcherDropDownMenu($viewSwitcher)\r\n        }\r\n    },\r\n    _validateViews: function() {\r\n        var views = this.option(\"views\");\r\n        each(views, function(_, view) {\r\n            var isViewIsObject = typeUtils.isObject(view);\r\n            var viewType = isViewIsObject && view.type ? view.type : view;\r\n            if (inArray(viewType, VIEWS) === -1) {\r\n                errors.log(\"W0008\", viewType)\r\n            }\r\n        })\r\n    },\r\n    _getCurrentViewType: function() {\r\n        var currentView = this.option(\"currentView\");\r\n        return currentView.type || currentView\r\n    },\r\n    _renderViewSwitcherTabs: function($element) {\r\n        var that = this;\r\n        $element.addClass(Tabs.getTabsExpandedClass);\r\n        this._viewSwitcher = this._createComponent($element, Tabs, {\r\n            selectionRequired: true,\r\n            scrollingEnabled: true,\r\n            onSelectionChanged: this._updateCurrentView.bind(this),\r\n            items: this.option(\"views\"),\r\n            itemTemplate: function(item) {\r\n                return $(\"<span>\").addClass(\"dx-tab-text\").text(that._getItemText(item))\r\n            },\r\n            selectedItem: this.option(\"currentView\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\")\r\n        })\r\n    },\r\n    _getItemText: function(item) {\r\n        return item.name || messageLocalization.format(\"dxScheduler-switcher\" + camelize(item.type || item, true))\r\n    },\r\n    _refreshViewSwitcher: function() {\r\n        this._viewSwitcher._dispose();\r\n        this._viewSwitcher.$element().remove();\r\n        delete this._viewSwitcher;\r\n        this._removeViewSwitcherLabel();\r\n        this._renderViewSwitcher()\r\n    },\r\n    _removeViewSwitcherLabel: function() {\r\n        if (isDefined(this._$viewSwitcherLabel)) {\r\n            this._$viewSwitcherLabel.detach();\r\n            this._$viewSwitcherLabel.remove();\r\n            delete this._$viewSwitcherLabel\r\n        }\r\n    },\r\n    _renderViewSwitcherDropDownMenu: function($element) {\r\n        var that = this;\r\n        this._$viewSwitcherLabel = $(\"<div>\").addClass(VIEW_SWITCHER_LABEL_CLASS).appendTo(this.$element());\r\n        this._changeViewSwitcherLabelText();\r\n        this._viewSwitcher = this._createComponent($element, DropDownMenu, {\r\n            onItemClick: this._updateCurrentView.bind(this),\r\n            buttonIcon: this.option(\"_dropDownButtonIcon\"),\r\n            items: this.option(\"views\"),\r\n            itemTemplate: function(item) {\r\n                return $(\"<span>\").addClass(\"dx-dropdownmenu-item-text\").text(that._getItemText(item))\r\n            }\r\n        })\r\n    },\r\n    _changeViewSwitcherLabelText: function() {\r\n        if (!isDefined(this._$viewSwitcherLabel)) {\r\n            return\r\n        }\r\n        var currentView = this.option(\"currentView\");\r\n        var currentViewText = this._getItemText(currentView);\r\n        this._$viewSwitcherLabel.text(currentViewText)\r\n    },\r\n    _getCurrentViewName: function(currentView) {\r\n        return typeUtils.isObject(currentView) ? currentView.name || currentView.type : currentView\r\n    },\r\n    _updateCurrentView: function(e) {\r\n        var selectedItem = e.itemData || e.component.option(\"selectedItem\");\r\n        var viewName = this._getCurrentViewName(selectedItem);\r\n        this.notifyObserver(\"currentViewUpdated\", viewName)\r\n    },\r\n    _renderFocusTarget: noop\r\n}).include(publisherMixin);\r\nregisterComponent(\"dxSchedulerHeader\", SchedulerHeader);\r\nmodule.exports = SchedulerHeader;\r\n"]},"metadata":{},"sourceType":"module"}