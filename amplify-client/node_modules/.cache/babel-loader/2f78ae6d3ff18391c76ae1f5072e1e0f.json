{"ast":null,"code":"/**\r\n * DevExtreme (ui/scroll_view/ui.scrollable.simulated.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _dom_adapter = require(\"../../core/dom_adapter\");\n\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _inflector = require(\"../../core/utils/inflector\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _translator = require(\"../../animation/translator\");\n\nvar _translator2 = _interopRequireDefault(_translator);\n\nvar _class = require(\"../../core/class\");\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _animator = require(\"./animator\");\n\nvar _animator2 = _interopRequireDefault(_animator);\n\nvar _devices = require(\"../../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _utils = require(\"../../events/utils\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _ui = require(\"./ui.scrollbar\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar realDevice = _devices2.default.real;\nvar isSluggishPlatform = \"android\" === realDevice.platform;\nvar SCROLLABLE_SIMULATED = \"dxSimulatedScrollable\";\nvar SCROLLABLE_STRATEGY = \"dxScrollableStrategy\";\nvar SCROLLABLE_SIMULATED_CURSOR = SCROLLABLE_SIMULATED + \"Cursor\";\nvar SCROLLABLE_SIMULATED_KEYBOARD = SCROLLABLE_SIMULATED + \"Keyboard\";\nvar SCROLLABLE_SIMULATED_CLASS = \"dx-scrollable-simulated\";\nvar SCROLLABLE_SCROLLBARS_HIDDEN = \"dx-scrollable-scrollbars-hidden\";\nvar SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE = \"dx-scrollable-scrollbars-alwaysvisible\";\nvar SCROLLABLE_SCROLLBAR_CLASS = \"dx-scrollable-scrollbar\";\nvar VERTICAL = \"vertical\";\nvar HORIZONTAL = \"horizontal\";\nvar ACCELERATION = isSluggishPlatform ? .95 : .92;\nvar OUT_BOUNDS_ACCELERATION = .5;\nvar MIN_VELOCITY_LIMIT = 1;\nvar FRAME_DURATION = Math.round(1e3 / 60);\nvar SCROLL_LINE_HEIGHT = 40;\nvar VALIDATE_WHEEL_TIMEOUT = 500;\nvar BOUNCE_MIN_VELOCITY_LIMIT = MIN_VELOCITY_LIMIT / 5;\nvar BOUNCE_DURATION = isSluggishPlatform ? 300 : 400;\nvar BOUNCE_FRAMES = BOUNCE_DURATION / FRAME_DURATION;\nvar BOUNCE_ACCELERATION_SUM = (1 - Math.pow(ACCELERATION, BOUNCE_FRAMES)) / (1 - ACCELERATION);\nvar KEY_CODES = {\n  PAGE_UP: \"pageUp\",\n  PAGE_DOWN: \"pageDown\",\n  END: \"end\",\n  HOME: \"home\",\n  LEFT: \"leftArrow\",\n  UP: \"upArrow\",\n  RIGHT: \"rightArrow\",\n  DOWN: \"downArrow\",\n  TAB: \"tab\"\n};\n\nvar InertiaAnimator = _animator2.default.inherit({\n  ctor: function ctor(scroller) {\n    this.callBase();\n    this.scroller = scroller;\n  },\n  VELOCITY_LIMIT: MIN_VELOCITY_LIMIT,\n  _isFinished: function _isFinished() {\n    return Math.abs(this.scroller._velocity) <= this.VELOCITY_LIMIT;\n  },\n  _step: function _step() {\n    this.scroller._scrollStep(this.scroller._velocity);\n\n    this.scroller._velocity *= this._acceleration();\n  },\n  _acceleration: function _acceleration() {\n    return this.scroller._inBounds() ? ACCELERATION : OUT_BOUNDS_ACCELERATION;\n  },\n  _complete: function _complete() {\n    this.scroller._scrollComplete();\n  },\n  _stop: function _stop() {\n    this.scroller._stopComplete();\n  }\n});\n\nvar BounceAnimator = InertiaAnimator.inherit({\n  VELOCITY_LIMIT: BOUNCE_MIN_VELOCITY_LIMIT,\n  _isFinished: function _isFinished() {\n    return this.scroller._crossBoundOnNextStep() || this.callBase();\n  },\n  _acceleration: function _acceleration() {\n    return ACCELERATION;\n  },\n  _complete: function _complete() {\n    this.scroller._move(this.scroller._bounceLocation);\n\n    this.callBase();\n  }\n});\n\nvar Scroller = _class2.default.inherit({\n  ctor: function ctor(options) {\n    this._initOptions(options);\n\n    this._initAnimators();\n\n    this._initScrollbar();\n  },\n  _initOptions: function _initOptions(options) {\n    var _this = this;\n\n    this._location = 0;\n    this._topReached = false;\n    this._bottomReached = false;\n    this._axis = options.direction === HORIZONTAL ? \"x\" : \"y\";\n    this._prop = options.direction === HORIZONTAL ? \"left\" : \"top\";\n    this._dimension = options.direction === HORIZONTAL ? \"width\" : \"height\";\n    this._scrollProp = options.direction === HORIZONTAL ? \"scrollLeft\" : \"scrollTop\";\n    (0, _iterator.each)(options, function (optionName, optionValue) {\n      _this[\"_\" + optionName] = optionValue;\n    });\n  },\n  _initAnimators: function _initAnimators() {\n    this._inertiaAnimator = new InertiaAnimator(this);\n    this._bounceAnimator = new BounceAnimator(this);\n  },\n  _initScrollbar: function _initScrollbar() {\n    this._scrollbar = new _ui2.default((0, _renderer2.default)(\"<div>\").appendTo(this._$container), {\n      direction: this._direction,\n      visible: this._scrollByThumb,\n      visibilityMode: this._visibilityModeNormalize(this._scrollbarVisible),\n      expandable: this._scrollByThumb\n    });\n    this._$scrollbar = this._scrollbar.$element();\n  },\n  _visibilityModeNormalize: function _visibilityModeNormalize(mode) {\n    return true === mode ? \"onScroll\" : false === mode ? \"never\" : mode;\n  },\n  _scrollStep: function _scrollStep(delta) {\n    var prevLocation = this._location;\n    this._location += delta;\n\n    this._suppressBounce();\n\n    this._move();\n\n    if (Math.abs(prevLocation - this._location) < 1) {\n      return;\n    }\n\n    _events_engine2.default.triggerHandler(this._$container, {\n      type: \"scroll\"\n    });\n  },\n  _suppressBounce: function _suppressBounce() {\n    if (this._bounceEnabled || this._inBounds(this._location)) {\n      return;\n    }\n\n    this._velocity = 0;\n    this._location = this._boundLocation();\n  },\n  _boundLocation: function _boundLocation(location) {\n    location = void 0 !== location ? location : this._location;\n    return Math.max(Math.min(location, this._maxOffset), this._minOffset);\n  },\n  _move: function _move(location) {\n    this._location = void 0 !== location ? location * this._getScaleRatio() : this._location;\n\n    this._moveContent();\n\n    this._moveScrollbar();\n  },\n  _moveContent: function _moveContent() {\n    var location = this._location;\n\n    this._$container[this._scrollProp](-location / this._getScaleRatio());\n\n    this._moveContentByTranslator(location);\n  },\n  _getScaleRatio: function _getScaleRatio() {\n    if ((0, _window.hasWindow)() && !this._scaleRatio) {\n      var element = this._$element.get(0);\n\n      var realDimension = this._getRealDimension(element, this._dimension);\n\n      var baseDimension = this._getBaseDimension(element, this._dimension);\n\n      this._scaleRatio = Math.round(realDimension / baseDimension * 100) / 100;\n    }\n\n    return this._scaleRatio || 1;\n  },\n  _getRealDimension: function _getRealDimension(element, dimension) {\n    return Math.round(element.getBoundingClientRect()[dimension]);\n  },\n  _getBaseDimension: function _getBaseDimension(element, dimension) {\n    var dimensionName = \"offset\" + (0, _inflector.titleize)(dimension);\n    return element[dimensionName];\n  },\n  _moveContentByTranslator: function _moveContentByTranslator(location) {\n    var translateOffset;\n    var minOffset = -this._maxScrollPropValue;\n\n    if (location > 0) {\n      translateOffset = location;\n    } else {\n      if (location <= minOffset) {\n        translateOffset = location - minOffset;\n      } else {\n        translateOffset = location % 1;\n      }\n    }\n\n    if (this._translateOffset === translateOffset) {\n      return;\n    }\n\n    var targetLocation = {};\n    targetLocation[this._prop] = translateOffset;\n    this._translateOffset = translateOffset;\n\n    if (0 === translateOffset) {\n      _translator2.default.resetPosition(this._$content);\n\n      return;\n    }\n\n    _translator2.default.move(this._$content, targetLocation);\n  },\n  _moveScrollbar: function _moveScrollbar() {\n    this._scrollbar.moveTo(this._location);\n  },\n  _scrollComplete: function _scrollComplete() {\n    if (this._inBounds()) {\n      this._hideScrollbar();\n\n      if (this._completeDeferred) {\n        this._completeDeferred.resolve();\n      }\n    }\n\n    this._scrollToBounds();\n  },\n  _scrollToBounds: function _scrollToBounds() {\n    if (this._inBounds()) {\n      return;\n    }\n\n    this._bounceAction();\n\n    this._setupBounce();\n\n    this._bounceAnimator.start();\n  },\n  _setupBounce: function _setupBounce() {\n    var boundLocation = this._bounceLocation = this._boundLocation();\n\n    var bounceDistance = boundLocation - this._location;\n    this._velocity = bounceDistance / BOUNCE_ACCELERATION_SUM;\n  },\n  _inBounds: function _inBounds(location) {\n    location = void 0 !== location ? location : this._location;\n    return this._boundLocation(location) === location;\n  },\n  _crossBoundOnNextStep: function _crossBoundOnNextStep() {\n    var location = this._location;\n    var nextLocation = location + this._velocity;\n    return location < this._minOffset && nextLocation >= this._minOffset || location > this._maxOffset && nextLocation <= this._maxOffset;\n  },\n  _initHandler: function _initHandler(e) {\n    this._stopDeferred = new _deferred.Deferred();\n\n    this._stopScrolling();\n\n    this._prepareThumbScrolling(e);\n\n    return this._stopDeferred.promise();\n  },\n  _stopScrolling: (0, _common.deferRenderer)(function () {\n    this._hideScrollbar();\n\n    this._inertiaAnimator.stop();\n\n    this._bounceAnimator.stop();\n  }),\n  _prepareThumbScrolling: function _prepareThumbScrolling(e) {\n    if ((0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\n      return;\n    }\n\n    var $target = (0, _renderer2.default)(e.originalEvent.target);\n\n    var scrollbarClicked = this._isScrollbar($target);\n\n    if (scrollbarClicked) {\n      this._moveToMouseLocation(e);\n    }\n\n    this._thumbScrolling = scrollbarClicked || this._isThumb($target);\n    this._crossThumbScrolling = !this._thumbScrolling && this._isAnyThumbScrolling($target);\n\n    if (this._thumbScrolling) {\n      this._scrollbar.feedbackOn();\n    }\n  },\n  _isThumbScrollingHandler: function _isThumbScrollingHandler($target) {\n    return this._isThumb($target);\n  },\n  _moveToMouseLocation: function _moveToMouseLocation(e) {\n    var mouseLocation = e[\"page\" + this._axis.toUpperCase()] - this._$element.offset()[this._prop];\n\n    var location = this._location + mouseLocation / this._containerToContentRatio() - this._$container.height() / 2;\n\n    this._scrollStep(-Math.round(location));\n  },\n  _stopComplete: function _stopComplete() {\n    if (this._stopDeferred) {\n      this._stopDeferred.resolve();\n    }\n  },\n  _startHandler: function _startHandler() {\n    this._showScrollbar();\n  },\n  _moveHandler: function _moveHandler(delta) {\n    if (this._crossThumbScrolling) {\n      return;\n    }\n\n    if (this._thumbScrolling) {\n      delta[this._axis] = -Math.round(delta[this._axis] / this._containerToContentRatio());\n    }\n\n    this._scrollBy(delta);\n  },\n  _scrollBy: function _scrollBy(delta) {\n    delta = delta[this._axis];\n\n    if (!this._inBounds()) {\n      delta *= OUT_BOUNDS_ACCELERATION;\n    }\n\n    this._scrollStep(delta);\n  },\n  _scrollByHandler: function _scrollByHandler(delta) {\n    this._scrollBy(delta);\n\n    this._scrollComplete();\n  },\n  _containerToContentRatio: function _containerToContentRatio() {\n    return this._scrollbar.containerToContentRatio();\n  },\n  _endHandler: function _endHandler(velocity) {\n    this._completeDeferred = new _deferred.Deferred();\n    this._velocity = velocity[this._axis];\n\n    this._inertiaHandler();\n\n    this._resetThumbScrolling();\n\n    return this._completeDeferred.promise();\n  },\n  _inertiaHandler: function _inertiaHandler() {\n    this._suppressInertia();\n\n    this._inertiaAnimator.start();\n  },\n  _suppressInertia: function _suppressInertia() {\n    if (!this._inertiaEnabled || this._thumbScrolling) {\n      this._velocity = 0;\n    }\n  },\n  _resetThumbScrolling: function _resetThumbScrolling() {\n    this._thumbScrolling = false;\n    this._crossThumbScrolling = false;\n  },\n  _stopHandler: function _stopHandler() {\n    if (this._thumbScrolling) {\n      this._scrollComplete();\n    }\n\n    this._resetThumbScrolling();\n\n    this._scrollToBounds();\n  },\n  _disposeHandler: function _disposeHandler() {\n    this._stopScrolling();\n\n    this._$scrollbar.remove();\n  },\n  _updateHandler: function _updateHandler() {\n    this._update();\n\n    this._moveToBounds();\n  },\n  _update: function _update() {\n    var _this2 = this;\n\n    this._stopScrolling();\n\n    return (0, _common.deferUpdate)(function () {\n      _this2._resetScaleRatio();\n\n      _this2._updateLocation();\n\n      _this2._updateBounds();\n\n      _this2._updateScrollbar();\n\n      (0, _common.deferRender)(function () {\n        _this2._moveScrollbar();\n\n        _this2._scrollbar.update();\n      });\n    });\n  },\n  _resetScaleRatio: function _resetScaleRatio() {\n    this._scaleRatio = null;\n  },\n  _updateLocation: function _updateLocation() {\n    this._location = (_translator2.default.locate(this._$content)[this._prop] - this._$container[this._scrollProp]()) * this._getScaleRatio();\n  },\n  _updateBounds: function _updateBounds() {\n    this._maxOffset = Math.round(this._getMaxOffset());\n    this._minOffset = Math.round(this._getMinOffset());\n  },\n  _getMaxOffset: function _getMaxOffset() {\n    return 0;\n  },\n  _getMinOffset: function _getMinOffset() {\n    this._maxScrollPropValue = Math.max(this._contentSize() - this._containerSize(), 0);\n    return -this._maxScrollPropValue;\n  },\n  _updateScrollbar: (0, _common.deferUpdater)(function () {\n    var _this3 = this;\n\n    var containerSize = this._containerSize();\n\n    var contentSize = this._contentSize();\n\n    var baseContainerSize = this._getBaseDimension(this._$container.get(0), this._dimension);\n\n    var baseContentSize = this._getBaseDimension(this._$content.get(0), this._dimension);\n\n    (0, _common.deferRender)(function () {\n      _this3._scrollbar.option({\n        containerSize: containerSize,\n        contentSize: contentSize,\n        baseContainerSize: baseContainerSize,\n        baseContentSize: baseContentSize,\n        scaleRatio: _this3._getScaleRatio()\n      });\n    });\n  }),\n  _moveToBounds: (0, _common.deferRenderer)((0, _common.deferUpdater)((0, _common.deferRenderer)(function () {\n    var location = this._boundLocation();\n\n    var locationChanged = location !== this._location;\n    this._location = location;\n\n    this._move();\n\n    if (locationChanged) {\n      this._scrollAction();\n    }\n  }))),\n  _createActionsHandler: function _createActionsHandler(actions) {\n    this._scrollAction = actions.scroll;\n    this._bounceAction = actions.bounce;\n  },\n  _showScrollbar: function _showScrollbar() {\n    this._scrollbar.option(\"visible\", true);\n  },\n  _hideScrollbar: function _hideScrollbar() {\n    this._scrollbar.option(\"visible\", false);\n  },\n  _containerSize: function _containerSize() {\n    return this._getRealDimension(this._$container.get(0), this._dimension);\n  },\n  _contentSize: function _contentSize() {\n    var isOverflowHidden = \"hidden\" === this._$content.css(\"overflow\" + this._axis.toUpperCase());\n\n    var contentSize = this._getRealDimension(this._$content.get(0), this._dimension);\n\n    if (!isOverflowHidden) {\n      var containerScrollSize = this._$content[0][\"scroll\" + (0, _inflector.titleize)(this._dimension)] * this._getScaleRatio();\n\n      contentSize = Math.max(containerScrollSize, contentSize);\n    }\n\n    return contentSize;\n  },\n  _validateEvent: function _validateEvent(e) {\n    var $target = (0, _renderer2.default)(e.originalEvent.target);\n    return this._isThumb($target) || this._isScrollbar($target) || this._isContent($target);\n  },\n  _isThumb: function _isThumb($element) {\n    return this._scrollByThumb && this._scrollbar.isThumb($element);\n  },\n  _isScrollbar: function _isScrollbar($element) {\n    return this._scrollByThumb && $element && $element.is(this._$scrollbar);\n  },\n  _isContent: function _isContent($element) {\n    return this._scrollByContent && !!$element.closest(this._$element).length;\n  },\n  _reachedMin: function _reachedMin() {\n    return this._location <= this._minOffset;\n  },\n  _reachedMax: function _reachedMax() {\n    return this._location >= this._maxOffset;\n  },\n  _cursorEnterHandler: function _cursorEnterHandler() {\n    this._updateScrollbar();\n\n    this._scrollbar.cursorEnter();\n  },\n  _cursorLeaveHandler: function _cursorLeaveHandler() {\n    this._scrollbar.cursorLeave();\n  },\n  dispose: _common.noop\n});\n\nvar hoveredScrollable;\nvar activeScrollable;\n\nvar SimulatedStrategy = _class2.default.inherit({\n  ctor: function ctor(scrollable) {\n    this._init(scrollable);\n  },\n  _init: function _init(scrollable) {\n    this._component = scrollable;\n    this._$element = scrollable.$element();\n    this._$container = scrollable._$container;\n    this._$wrapper = scrollable._$wrapper;\n    this._$content = scrollable._$content;\n    this.option = scrollable.option.bind(scrollable);\n    this._createActionByOption = scrollable._createActionByOption.bind(scrollable);\n    this._isLocked = scrollable._isLocked.bind(scrollable);\n    this._isDirection = scrollable._isDirection.bind(scrollable);\n    this._allowedDirection = scrollable._allowedDirection.bind(scrollable);\n  },\n  render: function render() {\n    this._$element.addClass(SCROLLABLE_SIMULATED_CLASS);\n\n    this._createScrollers();\n\n    if (this.option(\"useKeyboard\")) {\n      this._$container.prop(\"tabIndex\", 0);\n    }\n\n    this._attachKeyboardHandler();\n\n    this._attachCursorHandlers();\n  },\n  _createScrollers: function _createScrollers() {\n    this._scrollers = {};\n\n    if (this._isDirection(HORIZONTAL)) {\n      this._createScroller(HORIZONTAL);\n    }\n\n    if (this._isDirection(VERTICAL)) {\n      this._createScroller(VERTICAL);\n    }\n\n    this._$element.toggleClass(SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE, \"always\" === this.option(\"showScrollbar\"));\n\n    this._$element.toggleClass(SCROLLABLE_SCROLLBARS_HIDDEN, !this.option(\"showScrollbar\"));\n  },\n  _createScroller: function _createScroller(direction) {\n    this._scrollers[direction] = new Scroller(this._scrollerOptions(direction));\n  },\n  _scrollerOptions: function _scrollerOptions(direction) {\n    return {\n      direction: direction,\n      $content: this._$content,\n      $container: this._$container,\n      $wrapper: this._$wrapper,\n      $element: this._$element,\n      scrollByContent: this.option(\"scrollByContent\"),\n      scrollByThumb: this.option(\"scrollByThumb\"),\n      scrollbarVisible: this.option(\"showScrollbar\"),\n      bounceEnabled: this.option(\"bounceEnabled\"),\n      inertiaEnabled: this.option(\"inertiaEnabled\"),\n      isAnyThumbScrolling: this._isAnyThumbScrolling.bind(this)\n    };\n  },\n  _applyScaleRatio: function _applyScaleRatio(targetLocation) {\n    for (var direction in this._scrollers) {\n      var prop = this._getPropByDirection(direction);\n\n      if ((0, _type.isDefined)(targetLocation[prop])) {\n        var scroller = this._scrollers[direction];\n        targetLocation[prop] *= scroller._getScaleRatio();\n      }\n    }\n\n    return targetLocation;\n  },\n  _isAnyThumbScrolling: function _isAnyThumbScrolling($target) {\n    var result = false;\n\n    this._eventHandler(\"isThumbScrolling\", $target).done(function (isThumbScrollingVertical, isThumbScrollingHorizontal) {\n      result = isThumbScrollingVertical || isThumbScrollingHorizontal;\n    });\n\n    return result;\n  },\n  handleInit: function handleInit(e) {\n    this._suppressDirections(e);\n\n    this._eventForUserAction = e;\n\n    this._eventHandler(\"init\", e).done(this._stopAction);\n  },\n  _suppressDirections: function _suppressDirections(e) {\n    if ((0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\n      this._prepareDirections(true);\n\n      return;\n    }\n\n    this._prepareDirections();\n\n    this._eachScroller(function (scroller, direction) {\n      var isValid = scroller._validateEvent(e);\n\n      this._validDirections[direction] = isValid;\n    });\n  },\n  _prepareDirections: function _prepareDirections(value) {\n    value = value || false;\n    this._validDirections = {};\n    this._validDirections[HORIZONTAL] = value;\n    this._validDirections[VERTICAL] = value;\n  },\n  _eachScroller: function _eachScroller(callback) {\n    callback = callback.bind(this);\n    (0, _iterator.each)(this._scrollers, function (direction, scroller) {\n      callback(scroller, direction);\n    });\n  },\n  handleStart: function handleStart(e) {\n    this._eventForUserAction = e;\n\n    this._eventHandler(\"start\").done(this._startAction);\n  },\n  _saveActive: function _saveActive() {\n    activeScrollable = this;\n  },\n  _resetActive: function _resetActive() {\n    if (activeScrollable === this) {\n      activeScrollable = null;\n    }\n  },\n  handleMove: function handleMove(e) {\n    if (this._isLocked()) {\n      e.cancel = true;\n\n      this._resetActive();\n\n      return;\n    }\n\n    this._saveActive();\n\n    e.preventDefault && e.preventDefault();\n\n    this._adjustDistance(e, e.delta);\n\n    this._eventForUserAction = e;\n\n    this._eventHandler(\"move\", e.delta);\n  },\n  _adjustDistance: function _adjustDistance(e, distance) {\n    distance.x *= this._validDirections[HORIZONTAL];\n    distance.y *= this._validDirections[VERTICAL];\n\n    var devicePixelRatio = this._tryGetDevicePixelRatio();\n\n    if (devicePixelRatio && (0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\n      distance.x = Math.round(distance.x / devicePixelRatio * 100) / 100;\n      distance.y = Math.round(distance.y / devicePixelRatio * 100) / 100;\n    }\n  },\n  _tryGetDevicePixelRatio: function _tryGetDevicePixelRatio() {\n    if ((0, _window.hasWindow)()) {\n      return (0, _window.getWindow)().devicePixelRatio;\n    }\n  },\n  handleEnd: function handleEnd(e) {\n    this._resetActive();\n\n    this._refreshCursorState(e.originalEvent && e.originalEvent.target);\n\n    this._adjustDistance(e, e.velocity);\n\n    this._eventForUserAction = e;\n    return this._eventHandler(\"end\", e.velocity).done(this._endAction);\n  },\n  handleCancel: function handleCancel(e) {\n    this._resetActive();\n\n    this._eventForUserAction = e;\n    return this._eventHandler(\"end\", {\n      x: 0,\n      y: 0\n    });\n  },\n  handleStop: function handleStop() {\n    this._resetActive();\n\n    this._eventHandler(\"stop\");\n  },\n  handleScroll: function handleScroll() {\n    this._scrollAction();\n  },\n  _attachKeyboardHandler: function _attachKeyboardHandler() {\n    _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_KEYBOARD));\n\n    if (!this.option(\"disabled\") && this.option(\"useKeyboard\")) {\n      _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"keydown\", SCROLLABLE_SIMULATED_KEYBOARD), this._keyDownHandler.bind(this));\n    }\n  },\n  _keyDownHandler: function _keyDownHandler(e) {\n    var _this4 = this;\n\n    clearTimeout(this._updateHandlerTimeout);\n    this._updateHandlerTimeout = setTimeout(function () {\n      if ((0, _utils.normalizeKeyName)(e) === KEY_CODES.TAB) {\n        _this4._eachScroller(function (scroller) {\n          scroller._updateHandler();\n        });\n      }\n    });\n\n    if (!this._$container.is(_dom_adapter2.default.getActiveElement())) {\n      return;\n    }\n\n    var handled = true;\n\n    switch ((0, _utils.normalizeKeyName)(e)) {\n      case KEY_CODES.DOWN:\n        this._scrollByLine({\n          y: 1\n        });\n\n        break;\n\n      case KEY_CODES.UP:\n        this._scrollByLine({\n          y: -1\n        });\n\n        break;\n\n      case KEY_CODES.RIGHT:\n        this._scrollByLine({\n          x: 1\n        });\n\n        break;\n\n      case KEY_CODES.LEFT:\n        this._scrollByLine({\n          x: -1\n        });\n\n        break;\n\n      case KEY_CODES.PAGE_DOWN:\n        this._scrollByPage(1);\n\n        break;\n\n      case KEY_CODES.PAGE_UP:\n        this._scrollByPage(-1);\n\n        break;\n\n      case KEY_CODES.HOME:\n        this._scrollToHome();\n\n        break;\n\n      case KEY_CODES.END:\n        this._scrollToEnd();\n\n        break;\n\n      default:\n        handled = false;\n    }\n\n    if (handled) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  },\n  _scrollByLine: function _scrollByLine(lines) {\n    var devicePixelRatio = this._tryGetDevicePixelRatio();\n\n    var scrollOffset = SCROLL_LINE_HEIGHT;\n\n    if (devicePixelRatio) {\n      scrollOffset = Math.abs(scrollOffset / devicePixelRatio * 100) / 100;\n    }\n\n    this.scrollBy({\n      top: (lines.y || 0) * -scrollOffset,\n      left: (lines.x || 0) * -scrollOffset\n    });\n  },\n  _scrollByPage: function _scrollByPage(page) {\n    var prop = this._wheelProp();\n\n    var dimension = this._dimensionByProp(prop);\n\n    var distance = {};\n    distance[prop] = page * -this._$container[dimension]();\n    this.scrollBy(distance);\n  },\n  _dimensionByProp: function _dimensionByProp(prop) {\n    return \"left\" === prop ? \"width\" : \"height\";\n  },\n  _getPropByDirection: function _getPropByDirection(direction) {\n    return direction === HORIZONTAL ? \"left\" : \"top\";\n  },\n  _scrollToHome: function _scrollToHome() {\n    var prop = this._wheelProp();\n\n    var distance = {};\n    distance[prop] = 0;\n\n    this._component.scrollTo(distance);\n  },\n  _scrollToEnd: function _scrollToEnd() {\n    var prop = this._wheelProp();\n\n    var dimension = this._dimensionByProp(prop);\n\n    var distance = {};\n    distance[prop] = this._$content[dimension]() - this._$container[dimension]();\n\n    this._component.scrollTo(distance);\n  },\n  createActions: function createActions() {\n    this._startAction = this._createActionHandler(\"onStart\");\n    this._stopAction = this._createActionHandler(\"onStop\");\n    this._endAction = this._createActionHandler(\"onEnd\");\n    this._updateAction = this._createActionHandler(\"onUpdated\");\n\n    this._createScrollerActions();\n  },\n  _createScrollerActions: function _createScrollerActions() {\n    this._scrollAction = this._createActionHandler(\"onScroll\");\n    this._bounceAction = this._createActionHandler(\"onBounce\");\n\n    this._eventHandler(\"createActions\", {\n      scroll: this._scrollAction,\n      bounce: this._bounceAction\n    });\n  },\n  _createActionHandler: function _createActionHandler(optionName) {\n    var _arguments = arguments,\n        _this5 = this;\n\n    var actionHandler = this._createActionByOption(optionName);\n\n    return function () {\n      actionHandler((0, _extend.extend)(_this5._createActionArgs(), _arguments));\n    };\n  },\n  _createActionArgs: function _createActionArgs() {\n    var scrollerX = this._scrollers[HORIZONTAL];\n    var scrollerY = this._scrollers[VERTICAL];\n    var location = this.location();\n    this._scrollOffset = {\n      top: scrollerY && -location.top,\n      left: scrollerX && -location.left\n    };\n    return {\n      event: this._eventForUserAction,\n      scrollOffset: this._scrollOffset,\n      reachedLeft: scrollerX && scrollerX._reachedMax(),\n      reachedRight: scrollerX && scrollerX._reachedMin(),\n      reachedTop: scrollerY && scrollerY._reachedMax(),\n      reachedBottom: scrollerY && scrollerY._reachedMin()\n    };\n  },\n  _eventHandler: function _eventHandler(eventName) {\n    var args = [].slice.call(arguments).slice(1);\n    var deferreds = (0, _iterator.map)(this._scrollers, function (scroller) {\n      return scroller[\"_\" + eventName + \"Handler\"].apply(scroller, args);\n    });\n    return _deferred.when.apply(_renderer2.default, deferreds).promise();\n  },\n  location: function location() {\n    var location = _translator2.default.locate(this._$content);\n\n    location.top -= this._$container.scrollTop();\n    location.left -= this._$container.scrollLeft();\n    return location;\n  },\n  disabledChanged: function disabledChanged() {\n    this._attachCursorHandlers();\n  },\n  _attachCursorHandlers: function _attachCursorHandlers() {\n    _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_CURSOR));\n\n    if (!this.option(\"disabled\") && this._isHoverMode()) {\n      _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"mouseenter\", SCROLLABLE_SIMULATED_CURSOR), this._cursorEnterHandler.bind(this));\n\n      _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"mouseleave\", SCROLLABLE_SIMULATED_CURSOR), this._cursorLeaveHandler.bind(this));\n    }\n  },\n  _isHoverMode: function _isHoverMode() {\n    return \"onHover\" === this.option(\"showScrollbar\");\n  },\n  _cursorEnterHandler: function _cursorEnterHandler(e) {\n    e = e || {};\n    e.originalEvent = e.originalEvent || {};\n\n    if (activeScrollable || e.originalEvent._hoverHandled) {\n      return;\n    }\n\n    if (hoveredScrollable) {\n      hoveredScrollable._cursorLeaveHandler();\n    }\n\n    hoveredScrollable = this;\n\n    this._eventHandler(\"cursorEnter\");\n\n    e.originalEvent._hoverHandled = true;\n  },\n  _cursorLeaveHandler: function _cursorLeaveHandler(e) {\n    if (hoveredScrollable !== this || activeScrollable === hoveredScrollable) {\n      return;\n    }\n\n    this._eventHandler(\"cursorLeave\");\n\n    hoveredScrollable = null;\n\n    this._refreshCursorState(e && e.relatedTarget);\n  },\n  _refreshCursorState: function _refreshCursorState(target) {\n    if (!this._isHoverMode() && (!target || activeScrollable)) {\n      return;\n    }\n\n    var $target = (0, _renderer2.default)(target);\n    var $scrollable = $target.closest(\".\".concat(SCROLLABLE_SIMULATED_CLASS, \":not(.dx-state-disabled)\"));\n    var targetScrollable = $scrollable.length && $scrollable.data(SCROLLABLE_STRATEGY);\n\n    if (hoveredScrollable && hoveredScrollable !== targetScrollable) {\n      hoveredScrollable._cursorLeaveHandler();\n    }\n\n    if (targetScrollable) {\n      targetScrollable._cursorEnterHandler();\n    }\n  },\n  update: function update() {\n    var _this6 = this;\n\n    var result = this._eventHandler(\"update\").done(this._updateAction);\n\n    return (0, _deferred.when)(result, (0, _common.deferUpdate)(function () {\n      var allowedDirections = _this6._allowedDirections();\n\n      (0, _common.deferRender)(function () {\n        var touchDirection = allowedDirections.vertical ? \"pan-x\" : \"\";\n        touchDirection = allowedDirections.horizontal ? \"pan-y\" : touchDirection;\n        touchDirection = allowedDirections.vertical && allowedDirections.horizontal ? \"none\" : touchDirection;\n\n        _this6._$container.css(\"touchAction\", touchDirection);\n      });\n      return (0, _deferred.when)().promise();\n    }));\n  },\n  _allowedDirections: function _allowedDirections() {\n    var bounceEnabled = this.option(\"bounceEnabled\");\n    var verticalScroller = this._scrollers[VERTICAL];\n    var horizontalScroller = this._scrollers[HORIZONTAL];\n    return {\n      vertical: verticalScroller && (verticalScroller._minOffset < 0 || bounceEnabled),\n      horizontal: horizontalScroller && (horizontalScroller._minOffset < 0 || bounceEnabled)\n    };\n  },\n  updateBounds: function updateBounds() {\n    this._scrollers[HORIZONTAL] && this._scrollers[HORIZONTAL]._updateBounds();\n  },\n  scrollBy: function scrollBy(distance) {\n    var verticalScroller = this._scrollers[VERTICAL];\n    var horizontalScroller = this._scrollers[HORIZONTAL];\n\n    if (verticalScroller) {\n      distance.top = verticalScroller._boundLocation(distance.top + verticalScroller._location) - verticalScroller._location;\n    }\n\n    if (horizontalScroller) {\n      distance.left = horizontalScroller._boundLocation(distance.left + horizontalScroller._location) - horizontalScroller._location;\n    }\n\n    this._prepareDirections(true);\n\n    this._startAction();\n\n    this._eventHandler(\"scrollBy\", {\n      x: distance.left,\n      y: distance.top\n    });\n\n    this._endAction();\n  },\n  validate: function validate(e) {\n    if (this.option(\"disabled\")) {\n      return false;\n    }\n\n    if (this.option(\"bounceEnabled\")) {\n      return true;\n    }\n\n    return (0, _utils.isDxMouseWheelEvent)(e) ? this._validateWheel(e) : this._validateMove(e);\n  },\n  _validateWheel: function _validateWheel(e) {\n    var _this7 = this;\n\n    var scroller = this._scrollers[this._wheelDirection(e)];\n\n    var reachedMin = scroller._reachedMin();\n\n    var reachedMax = scroller._reachedMax();\n\n    var contentGreaterThanContainer = !reachedMin || !reachedMax;\n    var locatedNotAtBound = !reachedMin && !reachedMax;\n    var scrollFromMin = reachedMin && e.delta > 0;\n    var scrollFromMax = reachedMax && e.delta < 0;\n    var validated = contentGreaterThanContainer && (locatedNotAtBound || scrollFromMin || scrollFromMax);\n    validated = validated || void 0 !== this._validateWheelTimer;\n\n    if (validated) {\n      clearTimeout(this._validateWheelTimer);\n      this._validateWheelTimer = setTimeout(function () {\n        _this7._validateWheelTimer = void 0;\n      }, VALIDATE_WHEEL_TIMEOUT);\n    }\n\n    return validated;\n  },\n  _validateMove: function _validateMove(e) {\n    if (!this.option(\"scrollByContent\") && !(0, _renderer2.default)(e.target).closest(\".\".concat(SCROLLABLE_SCROLLBAR_CLASS)).length) {\n      return false;\n    }\n\n    return this._allowedDirection();\n  },\n  getDirection: function getDirection(e) {\n    return (0, _utils.isDxMouseWheelEvent)(e) ? this._wheelDirection(e) : this._allowedDirection();\n  },\n  _wheelProp: function _wheelProp() {\n    return this._wheelDirection() === HORIZONTAL ? \"left\" : \"top\";\n  },\n  _wheelDirection: function _wheelDirection(e) {\n    switch (this.option(\"direction\")) {\n      case HORIZONTAL:\n        return HORIZONTAL;\n\n      case VERTICAL:\n        return VERTICAL;\n\n      default:\n        return e && e.shiftKey ? HORIZONTAL : VERTICAL;\n    }\n  },\n  verticalOffset: function verticalOffset() {\n    return 0;\n  },\n  dispose: function dispose() {\n    this._resetActive();\n\n    if (hoveredScrollable === this) {\n      hoveredScrollable = null;\n    }\n\n    this._eventHandler(\"dispose\");\n\n    this._detachEventHandlers();\n\n    this._$element.removeClass(SCROLLABLE_SIMULATED_CLASS);\n\n    this._eventForUserAction = null;\n    clearTimeout(this._validateWheelTimer);\n    clearTimeout(this._updateHandlerTimeout);\n  },\n  _detachEventHandlers: function _detachEventHandlers() {\n    _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_CURSOR));\n\n    _events_engine2.default.off(this._$container, \".\".concat(SCROLLABLE_SIMULATED_KEYBOARD));\n  }\n});\n\nexports.SimulatedStrategy = SimulatedStrategy;\nexports.Scroller = Scroller;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/scroll_view/ui.scrollable.simulated.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_dom_adapter","_dom_adapter2","_events_engine","_events_engine2","_inflector","_extend","_window","_iterator","_type","_translator","_translator2","_class","_class2","_animator","_animator2","_devices","_devices2","_utils","_common","_ui","_ui2","_deferred","obj","realDevice","isSluggishPlatform","SCROLLABLE_SIMULATED","SCROLLABLE_STRATEGY","SCROLLABLE_SIMULATED_CURSOR","SCROLLABLE_SIMULATED_KEYBOARD","SCROLLABLE_SIMULATED_CLASS","SCROLLABLE_SCROLLBARS_HIDDEN","SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE","SCROLLABLE_SCROLLBAR_CLASS","VERTICAL","HORIZONTAL","ACCELERATION","OUT_BOUNDS_ACCELERATION","MIN_VELOCITY_LIMIT","FRAME_DURATION","Math","SCROLL_LINE_HEIGHT","VALIDATE_WHEEL_TIMEOUT","BOUNCE_MIN_VELOCITY_LIMIT","BOUNCE_DURATION","BOUNCE_FRAMES","BOUNCE_ACCELERATION_SUM","KEY_CODES","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","TAB","InertiaAnimator","ctor","VELOCITY_LIMIT","_isFinished","_step","_acceleration","_complete","_stop","BounceAnimator","Scroller","_initOptions","_this","options","_initAnimators","_initScrollbar","direction","visible","visibilityMode","expandable","_scrollByThumb","_visibilityModeNormalize","_scrollStep","prevLocation","type","_suppressBounce","_boundLocation","location","_move","_moveContent","_getScaleRatio","element","realDimension","baseDimension","_getRealDimension","_getBaseDimension","dimensionName","_moveContentByTranslator","minOffset","translateOffset","targetLocation","_moveScrollbar","_scrollComplete","_scrollToBounds","_setupBounce","boundLocation","bounceDistance","_inBounds","_crossBoundOnNextStep","nextLocation","_initHandler","_stopScrolling","_prepareThumbScrolling","e","$target","scrollbarClicked","_isThumbScrollingHandler","_moveToMouseLocation","mouseLocation","_stopComplete","_startHandler","_moveHandler","delta","_scrollBy","_scrollByHandler","_containerToContentRatio","_endHandler","velocity","_inertiaHandler","_suppressInertia","_resetThumbScrolling","_stopHandler","_disposeHandler","_updateHandler","_update","_this2","_resetScaleRatio","_updateLocation","_updateBounds","_getMaxOffset","_getMinOffset","_updateScrollbar","_this3","containerSize","contentSize","baseContainerSize","baseContentSize","scaleRatio","_moveToBounds","locationChanged","_createActionsHandler","actions","_showScrollbar","_hideScrollbar","_containerSize","_contentSize","isOverflowHidden","containerScrollSize","_validateEvent","_isThumb","_isScrollbar","$element","_isContent","_reachedMin","_reachedMax","_cursorEnterHandler","_cursorLeaveHandler","dispose","noop","SimulatedStrategy","_init","scrollable","render","_createScrollers","_createScroller","_scrollerOptions","$content","$container","$wrapper","scrollByContent","scrollByThumb","scrollbarVisible","bounceEnabled","inertiaEnabled","isAnyThumbScrolling","_applyScaleRatio","prop","scroller","_isAnyThumbScrolling","result","isThumbScrollingVertical","handleInit","_suppressDirections","isValid","_prepareDirections","value","_eachScroller","callback","handleStart","_saveActive","activeScrollable","_resetActive","handleMove","_adjustDistance","distance","devicePixelRatio","_tryGetDevicePixelRatio","handleEnd","handleCancel","x","y","handleStop","handleScroll","_attachKeyboardHandler","_keyDownHandler","_this4","clearTimeout","setTimeout","handled","_scrollByLine","scrollOffset","top","lines","left","_scrollByPage","dimension","page","_dimensionByProp","_getPropByDirection","_scrollToHome","_scrollToEnd","createActions","_createScrollerActions","scroll","bounce","_bounceAction","_createActionHandler","_arguments","_this5","actionHandler","_createActionArgs","scrollerX","scrollerY","event","reachedLeft","reachedRight","reachedTop","reachedBottom","_eventHandler","args","deferreds","disabledChanged","_attachCursorHandlers","_isHoverMode","hoveredScrollable","_refreshCursorState","$scrollable","targetScrollable","update","_this6","allowedDirections","touchDirection","_allowedDirections","verticalScroller","horizontalScroller","vertical","horizontal","updateBounds","scrollBy","validate","_validateWheel","_this7","reachedMin","reachedMax","contentGreaterThanContainer","locatedNotAtBound","scrollFromMin","scrollFromMax","validated","_validateMove","getDirection","_wheelProp","_wheelDirection","verticalOffset","_detachEventHandlers","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scroll_view/ui.scrollable.simulated.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _dom_adapter = require(\"../../core/dom_adapter\");\r\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _inflector = require(\"../../core/utils/inflector\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _translator = require(\"../../animation/translator\");\r\nvar _translator2 = _interopRequireDefault(_translator);\r\nvar _class = require(\"../../core/class\");\r\nvar _class2 = _interopRequireDefault(_class);\r\nvar _animator = require(\"./animator\");\r\nvar _animator2 = _interopRequireDefault(_animator);\r\nvar _devices = require(\"../../core/devices\");\r\nvar _devices2 = _interopRequireDefault(_devices);\r\nvar _utils = require(\"../../events/utils\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _ui = require(\"./ui.scrollbar\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar realDevice = _devices2.default.real;\r\nvar isSluggishPlatform = \"android\" === realDevice.platform;\r\nvar SCROLLABLE_SIMULATED = \"dxSimulatedScrollable\";\r\nvar SCROLLABLE_STRATEGY = \"dxScrollableStrategy\";\r\nvar SCROLLABLE_SIMULATED_CURSOR = SCROLLABLE_SIMULATED + \"Cursor\";\r\nvar SCROLLABLE_SIMULATED_KEYBOARD = SCROLLABLE_SIMULATED + \"Keyboard\";\r\nvar SCROLLABLE_SIMULATED_CLASS = \"dx-scrollable-simulated\";\r\nvar SCROLLABLE_SCROLLBARS_HIDDEN = \"dx-scrollable-scrollbars-hidden\";\r\nvar SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE = \"dx-scrollable-scrollbars-alwaysvisible\";\r\nvar SCROLLABLE_SCROLLBAR_CLASS = \"dx-scrollable-scrollbar\";\r\nvar VERTICAL = \"vertical\";\r\nvar HORIZONTAL = \"horizontal\";\r\nvar ACCELERATION = isSluggishPlatform ? .95 : .92;\r\nvar OUT_BOUNDS_ACCELERATION = .5;\r\nvar MIN_VELOCITY_LIMIT = 1;\r\nvar FRAME_DURATION = Math.round(1e3 / 60);\r\nvar SCROLL_LINE_HEIGHT = 40;\r\nvar VALIDATE_WHEEL_TIMEOUT = 500;\r\nvar BOUNCE_MIN_VELOCITY_LIMIT = MIN_VELOCITY_LIMIT / 5;\r\nvar BOUNCE_DURATION = isSluggishPlatform ? 300 : 400;\r\nvar BOUNCE_FRAMES = BOUNCE_DURATION / FRAME_DURATION;\r\nvar BOUNCE_ACCELERATION_SUM = (1 - Math.pow(ACCELERATION, BOUNCE_FRAMES)) / (1 - ACCELERATION);\r\nvar KEY_CODES = {\r\n    PAGE_UP: \"pageUp\",\r\n    PAGE_DOWN: \"pageDown\",\r\n    END: \"end\",\r\n    HOME: \"home\",\r\n    LEFT: \"leftArrow\",\r\n    UP: \"upArrow\",\r\n    RIGHT: \"rightArrow\",\r\n    DOWN: \"downArrow\",\r\n    TAB: \"tab\"\r\n};\r\nvar InertiaAnimator = _animator2.default.inherit({\r\n    ctor: function(scroller) {\r\n        this.callBase();\r\n        this.scroller = scroller\r\n    },\r\n    VELOCITY_LIMIT: MIN_VELOCITY_LIMIT,\r\n    _isFinished: function() {\r\n        return Math.abs(this.scroller._velocity) <= this.VELOCITY_LIMIT\r\n    },\r\n    _step: function() {\r\n        this.scroller._scrollStep(this.scroller._velocity);\r\n        this.scroller._velocity *= this._acceleration()\r\n    },\r\n    _acceleration: function() {\r\n        return this.scroller._inBounds() ? ACCELERATION : OUT_BOUNDS_ACCELERATION\r\n    },\r\n    _complete: function() {\r\n        this.scroller._scrollComplete()\r\n    },\r\n    _stop: function() {\r\n        this.scroller._stopComplete()\r\n    }\r\n});\r\nvar BounceAnimator = InertiaAnimator.inherit({\r\n    VELOCITY_LIMIT: BOUNCE_MIN_VELOCITY_LIMIT,\r\n    _isFinished: function() {\r\n        return this.scroller._crossBoundOnNextStep() || this.callBase()\r\n    },\r\n    _acceleration: function() {\r\n        return ACCELERATION\r\n    },\r\n    _complete: function() {\r\n        this.scroller._move(this.scroller._bounceLocation);\r\n        this.callBase()\r\n    }\r\n});\r\nvar Scroller = _class2.default.inherit({\r\n    ctor: function(options) {\r\n        this._initOptions(options);\r\n        this._initAnimators();\r\n        this._initScrollbar()\r\n    },\r\n    _initOptions: function(options) {\r\n        var _this = this;\r\n        this._location = 0;\r\n        this._topReached = false;\r\n        this._bottomReached = false;\r\n        this._axis = options.direction === HORIZONTAL ? \"x\" : \"y\";\r\n        this._prop = options.direction === HORIZONTAL ? \"left\" : \"top\";\r\n        this._dimension = options.direction === HORIZONTAL ? \"width\" : \"height\";\r\n        this._scrollProp = options.direction === HORIZONTAL ? \"scrollLeft\" : \"scrollTop\";\r\n        (0, _iterator.each)(options, function(optionName, optionValue) {\r\n            _this[\"_\" + optionName] = optionValue\r\n        })\r\n    },\r\n    _initAnimators: function() {\r\n        this._inertiaAnimator = new InertiaAnimator(this);\r\n        this._bounceAnimator = new BounceAnimator(this)\r\n    },\r\n    _initScrollbar: function() {\r\n        this._scrollbar = new _ui2.default((0, _renderer2.default)(\"<div>\").appendTo(this._$container), {\r\n            direction: this._direction,\r\n            visible: this._scrollByThumb,\r\n            visibilityMode: this._visibilityModeNormalize(this._scrollbarVisible),\r\n            expandable: this._scrollByThumb\r\n        });\r\n        this._$scrollbar = this._scrollbar.$element()\r\n    },\r\n    _visibilityModeNormalize: function(mode) {\r\n        return true === mode ? \"onScroll\" : false === mode ? \"never\" : mode\r\n    },\r\n    _scrollStep: function(delta) {\r\n        var prevLocation = this._location;\r\n        this._location += delta;\r\n        this._suppressBounce();\r\n        this._move();\r\n        if (Math.abs(prevLocation - this._location) < 1) {\r\n            return\r\n        }\r\n        _events_engine2.default.triggerHandler(this._$container, {\r\n            type: \"scroll\"\r\n        })\r\n    },\r\n    _suppressBounce: function() {\r\n        if (this._bounceEnabled || this._inBounds(this._location)) {\r\n            return\r\n        }\r\n        this._velocity = 0;\r\n        this._location = this._boundLocation()\r\n    },\r\n    _boundLocation: function(location) {\r\n        location = void 0 !== location ? location : this._location;\r\n        return Math.max(Math.min(location, this._maxOffset), this._minOffset)\r\n    },\r\n    _move: function(location) {\r\n        this._location = void 0 !== location ? location * this._getScaleRatio() : this._location;\r\n        this._moveContent();\r\n        this._moveScrollbar()\r\n    },\r\n    _moveContent: function() {\r\n        var location = this._location;\r\n        this._$container[this._scrollProp](-location / this._getScaleRatio());\r\n        this._moveContentByTranslator(location)\r\n    },\r\n    _getScaleRatio: function() {\r\n        if ((0, _window.hasWindow)() && !this._scaleRatio) {\r\n            var element = this._$element.get(0);\r\n            var realDimension = this._getRealDimension(element, this._dimension);\r\n            var baseDimension = this._getBaseDimension(element, this._dimension);\r\n            this._scaleRatio = Math.round(realDimension / baseDimension * 100) / 100\r\n        }\r\n        return this._scaleRatio || 1\r\n    },\r\n    _getRealDimension: function(element, dimension) {\r\n        return Math.round(element.getBoundingClientRect()[dimension])\r\n    },\r\n    _getBaseDimension: function(element, dimension) {\r\n        var dimensionName = \"offset\" + (0, _inflector.titleize)(dimension);\r\n        return element[dimensionName]\r\n    },\r\n    _moveContentByTranslator: function(location) {\r\n        var translateOffset;\r\n        var minOffset = -this._maxScrollPropValue;\r\n        if (location > 0) {\r\n            translateOffset = location\r\n        } else {\r\n            if (location <= minOffset) {\r\n                translateOffset = location - minOffset\r\n            } else {\r\n                translateOffset = location % 1\r\n            }\r\n        }\r\n        if (this._translateOffset === translateOffset) {\r\n            return\r\n        }\r\n        var targetLocation = {};\r\n        targetLocation[this._prop] = translateOffset;\r\n        this._translateOffset = translateOffset;\r\n        if (0 === translateOffset) {\r\n            _translator2.default.resetPosition(this._$content);\r\n            return\r\n        }\r\n        _translator2.default.move(this._$content, targetLocation)\r\n    },\r\n    _moveScrollbar: function() {\r\n        this._scrollbar.moveTo(this._location)\r\n    },\r\n    _scrollComplete: function() {\r\n        if (this._inBounds()) {\r\n            this._hideScrollbar();\r\n            if (this._completeDeferred) {\r\n                this._completeDeferred.resolve()\r\n            }\r\n        }\r\n        this._scrollToBounds()\r\n    },\r\n    _scrollToBounds: function() {\r\n        if (this._inBounds()) {\r\n            return\r\n        }\r\n        this._bounceAction();\r\n        this._setupBounce();\r\n        this._bounceAnimator.start()\r\n    },\r\n    _setupBounce: function() {\r\n        var boundLocation = this._bounceLocation = this._boundLocation();\r\n        var bounceDistance = boundLocation - this._location;\r\n        this._velocity = bounceDistance / BOUNCE_ACCELERATION_SUM\r\n    },\r\n    _inBounds: function(location) {\r\n        location = void 0 !== location ? location : this._location;\r\n        return this._boundLocation(location) === location\r\n    },\r\n    _crossBoundOnNextStep: function() {\r\n        var location = this._location;\r\n        var nextLocation = location + this._velocity;\r\n        return location < this._minOffset && nextLocation >= this._minOffset || location > this._maxOffset && nextLocation <= this._maxOffset\r\n    },\r\n    _initHandler: function(e) {\r\n        this._stopDeferred = new _deferred.Deferred;\r\n        this._stopScrolling();\r\n        this._prepareThumbScrolling(e);\r\n        return this._stopDeferred.promise()\r\n    },\r\n    _stopScrolling: (0, _common.deferRenderer)(function() {\r\n        this._hideScrollbar();\r\n        this._inertiaAnimator.stop();\r\n        this._bounceAnimator.stop()\r\n    }),\r\n    _prepareThumbScrolling: function(e) {\r\n        if ((0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\r\n            return\r\n        }\r\n        var $target = (0, _renderer2.default)(e.originalEvent.target);\r\n        var scrollbarClicked = this._isScrollbar($target);\r\n        if (scrollbarClicked) {\r\n            this._moveToMouseLocation(e)\r\n        }\r\n        this._thumbScrolling = scrollbarClicked || this._isThumb($target);\r\n        this._crossThumbScrolling = !this._thumbScrolling && this._isAnyThumbScrolling($target);\r\n        if (this._thumbScrolling) {\r\n            this._scrollbar.feedbackOn()\r\n        }\r\n    },\r\n    _isThumbScrollingHandler: function($target) {\r\n        return this._isThumb($target)\r\n    },\r\n    _moveToMouseLocation: function(e) {\r\n        var mouseLocation = e[\"page\" + this._axis.toUpperCase()] - this._$element.offset()[this._prop];\r\n        var location = this._location + mouseLocation / this._containerToContentRatio() - this._$container.height() / 2;\r\n        this._scrollStep(-Math.round(location))\r\n    },\r\n    _stopComplete: function() {\r\n        if (this._stopDeferred) {\r\n            this._stopDeferred.resolve()\r\n        }\r\n    },\r\n    _startHandler: function() {\r\n        this._showScrollbar()\r\n    },\r\n    _moveHandler: function(delta) {\r\n        if (this._crossThumbScrolling) {\r\n            return\r\n        }\r\n        if (this._thumbScrolling) {\r\n            delta[this._axis] = -Math.round(delta[this._axis] / this._containerToContentRatio())\r\n        }\r\n        this._scrollBy(delta)\r\n    },\r\n    _scrollBy: function(delta) {\r\n        delta = delta[this._axis];\r\n        if (!this._inBounds()) {\r\n            delta *= OUT_BOUNDS_ACCELERATION\r\n        }\r\n        this._scrollStep(delta)\r\n    },\r\n    _scrollByHandler: function(delta) {\r\n        this._scrollBy(delta);\r\n        this._scrollComplete()\r\n    },\r\n    _containerToContentRatio: function() {\r\n        return this._scrollbar.containerToContentRatio()\r\n    },\r\n    _endHandler: function(velocity) {\r\n        this._completeDeferred = new _deferred.Deferred;\r\n        this._velocity = velocity[this._axis];\r\n        this._inertiaHandler();\r\n        this._resetThumbScrolling();\r\n        return this._completeDeferred.promise()\r\n    },\r\n    _inertiaHandler: function() {\r\n        this._suppressInertia();\r\n        this._inertiaAnimator.start()\r\n    },\r\n    _suppressInertia: function() {\r\n        if (!this._inertiaEnabled || this._thumbScrolling) {\r\n            this._velocity = 0\r\n        }\r\n    },\r\n    _resetThumbScrolling: function() {\r\n        this._thumbScrolling = false;\r\n        this._crossThumbScrolling = false\r\n    },\r\n    _stopHandler: function() {\r\n        if (this._thumbScrolling) {\r\n            this._scrollComplete()\r\n        }\r\n        this._resetThumbScrolling();\r\n        this._scrollToBounds()\r\n    },\r\n    _disposeHandler: function() {\r\n        this._stopScrolling();\r\n        this._$scrollbar.remove()\r\n    },\r\n    _updateHandler: function() {\r\n        this._update();\r\n        this._moveToBounds()\r\n    },\r\n    _update: function() {\r\n        var _this2 = this;\r\n        this._stopScrolling();\r\n        return (0, _common.deferUpdate)(function() {\r\n            _this2._resetScaleRatio();\r\n            _this2._updateLocation();\r\n            _this2._updateBounds();\r\n            _this2._updateScrollbar();\r\n            (0, _common.deferRender)(function() {\r\n                _this2._moveScrollbar();\r\n                _this2._scrollbar.update()\r\n            })\r\n        })\r\n    },\r\n    _resetScaleRatio: function() {\r\n        this._scaleRatio = null\r\n    },\r\n    _updateLocation: function() {\r\n        this._location = (_translator2.default.locate(this._$content)[this._prop] - this._$container[this._scrollProp]()) * this._getScaleRatio()\r\n    },\r\n    _updateBounds: function() {\r\n        this._maxOffset = Math.round(this._getMaxOffset());\r\n        this._minOffset = Math.round(this._getMinOffset())\r\n    },\r\n    _getMaxOffset: function() {\r\n        return 0\r\n    },\r\n    _getMinOffset: function() {\r\n        this._maxScrollPropValue = Math.max(this._contentSize() - this._containerSize(), 0);\r\n        return -this._maxScrollPropValue\r\n    },\r\n    _updateScrollbar: (0, _common.deferUpdater)(function() {\r\n        var _this3 = this;\r\n        var containerSize = this._containerSize();\r\n        var contentSize = this._contentSize();\r\n        var baseContainerSize = this._getBaseDimension(this._$container.get(0), this._dimension);\r\n        var baseContentSize = this._getBaseDimension(this._$content.get(0), this._dimension);\r\n        (0, _common.deferRender)(function() {\r\n            _this3._scrollbar.option({\r\n                containerSize: containerSize,\r\n                contentSize: contentSize,\r\n                baseContainerSize: baseContainerSize,\r\n                baseContentSize: baseContentSize,\r\n                scaleRatio: _this3._getScaleRatio()\r\n            })\r\n        })\r\n    }),\r\n    _moveToBounds: (0, _common.deferRenderer)((0, _common.deferUpdater)((0, _common.deferRenderer)(function() {\r\n        var location = this._boundLocation();\r\n        var locationChanged = location !== this._location;\r\n        this._location = location;\r\n        this._move();\r\n        if (locationChanged) {\r\n            this._scrollAction()\r\n        }\r\n    }))),\r\n    _createActionsHandler: function(actions) {\r\n        this._scrollAction = actions.scroll;\r\n        this._bounceAction = actions.bounce\r\n    },\r\n    _showScrollbar: function() {\r\n        this._scrollbar.option(\"visible\", true)\r\n    },\r\n    _hideScrollbar: function() {\r\n        this._scrollbar.option(\"visible\", false)\r\n    },\r\n    _containerSize: function() {\r\n        return this._getRealDimension(this._$container.get(0), this._dimension)\r\n    },\r\n    _contentSize: function() {\r\n        var isOverflowHidden = \"hidden\" === this._$content.css(\"overflow\" + this._axis.toUpperCase());\r\n        var contentSize = this._getRealDimension(this._$content.get(0), this._dimension);\r\n        if (!isOverflowHidden) {\r\n            var containerScrollSize = this._$content[0][\"scroll\" + (0, _inflector.titleize)(this._dimension)] * this._getScaleRatio();\r\n            contentSize = Math.max(containerScrollSize, contentSize)\r\n        }\r\n        return contentSize\r\n    },\r\n    _validateEvent: function(e) {\r\n        var $target = (0, _renderer2.default)(e.originalEvent.target);\r\n        return this._isThumb($target) || this._isScrollbar($target) || this._isContent($target)\r\n    },\r\n    _isThumb: function($element) {\r\n        return this._scrollByThumb && this._scrollbar.isThumb($element)\r\n    },\r\n    _isScrollbar: function($element) {\r\n        return this._scrollByThumb && $element && $element.is(this._$scrollbar)\r\n    },\r\n    _isContent: function($element) {\r\n        return this._scrollByContent && !!$element.closest(this._$element).length\r\n    },\r\n    _reachedMin: function() {\r\n        return this._location <= this._minOffset\r\n    },\r\n    _reachedMax: function() {\r\n        return this._location >= this._maxOffset\r\n    },\r\n    _cursorEnterHandler: function() {\r\n        this._updateScrollbar();\r\n        this._scrollbar.cursorEnter()\r\n    },\r\n    _cursorLeaveHandler: function() {\r\n        this._scrollbar.cursorLeave()\r\n    },\r\n    dispose: _common.noop\r\n});\r\nvar hoveredScrollable;\r\nvar activeScrollable;\r\nvar SimulatedStrategy = _class2.default.inherit({\r\n    ctor: function(scrollable) {\r\n        this._init(scrollable)\r\n    },\r\n    _init: function(scrollable) {\r\n        this._component = scrollable;\r\n        this._$element = scrollable.$element();\r\n        this._$container = scrollable._$container;\r\n        this._$wrapper = scrollable._$wrapper;\r\n        this._$content = scrollable._$content;\r\n        this.option = scrollable.option.bind(scrollable);\r\n        this._createActionByOption = scrollable._createActionByOption.bind(scrollable);\r\n        this._isLocked = scrollable._isLocked.bind(scrollable);\r\n        this._isDirection = scrollable._isDirection.bind(scrollable);\r\n        this._allowedDirection = scrollable._allowedDirection.bind(scrollable)\r\n    },\r\n    render: function() {\r\n        this._$element.addClass(SCROLLABLE_SIMULATED_CLASS);\r\n        this._createScrollers();\r\n        if (this.option(\"useKeyboard\")) {\r\n            this._$container.prop(\"tabIndex\", 0)\r\n        }\r\n        this._attachKeyboardHandler();\r\n        this._attachCursorHandlers()\r\n    },\r\n    _createScrollers: function() {\r\n        this._scrollers = {};\r\n        if (this._isDirection(HORIZONTAL)) {\r\n            this._createScroller(HORIZONTAL)\r\n        }\r\n        if (this._isDirection(VERTICAL)) {\r\n            this._createScroller(VERTICAL)\r\n        }\r\n        this._$element.toggleClass(SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE, \"always\" === this.option(\"showScrollbar\"));\r\n        this._$element.toggleClass(SCROLLABLE_SCROLLBARS_HIDDEN, !this.option(\"showScrollbar\"))\r\n    },\r\n    _createScroller: function(direction) {\r\n        this._scrollers[direction] = new Scroller(this._scrollerOptions(direction))\r\n    },\r\n    _scrollerOptions: function(direction) {\r\n        return {\r\n            direction: direction,\r\n            $content: this._$content,\r\n            $container: this._$container,\r\n            $wrapper: this._$wrapper,\r\n            $element: this._$element,\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            scrollByThumb: this.option(\"scrollByThumb\"),\r\n            scrollbarVisible: this.option(\"showScrollbar\"),\r\n            bounceEnabled: this.option(\"bounceEnabled\"),\r\n            inertiaEnabled: this.option(\"inertiaEnabled\"),\r\n            isAnyThumbScrolling: this._isAnyThumbScrolling.bind(this)\r\n        }\r\n    },\r\n    _applyScaleRatio: function(targetLocation) {\r\n        for (var direction in this._scrollers) {\r\n            var prop = this._getPropByDirection(direction);\r\n            if ((0, _type.isDefined)(targetLocation[prop])) {\r\n                var scroller = this._scrollers[direction];\r\n                targetLocation[prop] *= scroller._getScaleRatio()\r\n            }\r\n        }\r\n        return targetLocation\r\n    },\r\n    _isAnyThumbScrolling: function($target) {\r\n        var result = false;\r\n        this._eventHandler(\"isThumbScrolling\", $target).done(function(isThumbScrollingVertical, isThumbScrollingHorizontal) {\r\n            result = isThumbScrollingVertical || isThumbScrollingHorizontal\r\n        });\r\n        return result\r\n    },\r\n    handleInit: function(e) {\r\n        this._suppressDirections(e);\r\n        this._eventForUserAction = e;\r\n        this._eventHandler(\"init\", e).done(this._stopAction)\r\n    },\r\n    _suppressDirections: function(e) {\r\n        if ((0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\r\n            this._prepareDirections(true);\r\n            return\r\n        }\r\n        this._prepareDirections();\r\n        this._eachScroller(function(scroller, direction) {\r\n            var isValid = scroller._validateEvent(e);\r\n            this._validDirections[direction] = isValid\r\n        })\r\n    },\r\n    _prepareDirections: function(value) {\r\n        value = value || false;\r\n        this._validDirections = {};\r\n        this._validDirections[HORIZONTAL] = value;\r\n        this._validDirections[VERTICAL] = value\r\n    },\r\n    _eachScroller: function(callback) {\r\n        callback = callback.bind(this);\r\n        (0, _iterator.each)(this._scrollers, function(direction, scroller) {\r\n            callback(scroller, direction)\r\n        })\r\n    },\r\n    handleStart: function(e) {\r\n        this._eventForUserAction = e;\r\n        this._eventHandler(\"start\").done(this._startAction)\r\n    },\r\n    _saveActive: function() {\r\n        activeScrollable = this\r\n    },\r\n    _resetActive: function() {\r\n        if (activeScrollable === this) {\r\n            activeScrollable = null\r\n        }\r\n    },\r\n    handleMove: function(e) {\r\n        if (this._isLocked()) {\r\n            e.cancel = true;\r\n            this._resetActive();\r\n            return\r\n        }\r\n        this._saveActive();\r\n        e.preventDefault && e.preventDefault();\r\n        this._adjustDistance(e, e.delta);\r\n        this._eventForUserAction = e;\r\n        this._eventHandler(\"move\", e.delta)\r\n    },\r\n    _adjustDistance: function(e, distance) {\r\n        distance.x *= this._validDirections[HORIZONTAL];\r\n        distance.y *= this._validDirections[VERTICAL];\r\n        var devicePixelRatio = this._tryGetDevicePixelRatio();\r\n        if (devicePixelRatio && (0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\r\n            distance.x = Math.round(distance.x / devicePixelRatio * 100) / 100;\r\n            distance.y = Math.round(distance.y / devicePixelRatio * 100) / 100\r\n        }\r\n    },\r\n    _tryGetDevicePixelRatio: function() {\r\n        if ((0, _window.hasWindow)()) {\r\n            return (0, _window.getWindow)().devicePixelRatio\r\n        }\r\n    },\r\n    handleEnd: function(e) {\r\n        this._resetActive();\r\n        this._refreshCursorState(e.originalEvent && e.originalEvent.target);\r\n        this._adjustDistance(e, e.velocity);\r\n        this._eventForUserAction = e;\r\n        return this._eventHandler(\"end\", e.velocity).done(this._endAction)\r\n    },\r\n    handleCancel: function(e) {\r\n        this._resetActive();\r\n        this._eventForUserAction = e;\r\n        return this._eventHandler(\"end\", {\r\n            x: 0,\r\n            y: 0\r\n        })\r\n    },\r\n    handleStop: function() {\r\n        this._resetActive();\r\n        this._eventHandler(\"stop\")\r\n    },\r\n    handleScroll: function() {\r\n        this._scrollAction()\r\n    },\r\n    _attachKeyboardHandler: function() {\r\n        _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_KEYBOARD));\r\n        if (!this.option(\"disabled\") && this.option(\"useKeyboard\")) {\r\n            _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"keydown\", SCROLLABLE_SIMULATED_KEYBOARD), this._keyDownHandler.bind(this))\r\n        }\r\n    },\r\n    _keyDownHandler: function(e) {\r\n        var _this4 = this;\r\n        clearTimeout(this._updateHandlerTimeout);\r\n        this._updateHandlerTimeout = setTimeout(function() {\r\n            if ((0, _utils.normalizeKeyName)(e) === KEY_CODES.TAB) {\r\n                _this4._eachScroller(function(scroller) {\r\n                    scroller._updateHandler()\r\n                })\r\n            }\r\n        });\r\n        if (!this._$container.is(_dom_adapter2.default.getActiveElement())) {\r\n            return\r\n        }\r\n        var handled = true;\r\n        switch ((0, _utils.normalizeKeyName)(e)) {\r\n            case KEY_CODES.DOWN:\r\n                this._scrollByLine({\r\n                    y: 1\r\n                });\r\n                break;\r\n            case KEY_CODES.UP:\r\n                this._scrollByLine({\r\n                    y: -1\r\n                });\r\n                break;\r\n            case KEY_CODES.RIGHT:\r\n                this._scrollByLine({\r\n                    x: 1\r\n                });\r\n                break;\r\n            case KEY_CODES.LEFT:\r\n                this._scrollByLine({\r\n                    x: -1\r\n                });\r\n                break;\r\n            case KEY_CODES.PAGE_DOWN:\r\n                this._scrollByPage(1);\r\n                break;\r\n            case KEY_CODES.PAGE_UP:\r\n                this._scrollByPage(-1);\r\n                break;\r\n            case KEY_CODES.HOME:\r\n                this._scrollToHome();\r\n                break;\r\n            case KEY_CODES.END:\r\n                this._scrollToEnd();\r\n                break;\r\n            default:\r\n                handled = false\r\n        }\r\n        if (handled) {\r\n            e.stopPropagation();\r\n            e.preventDefault()\r\n        }\r\n    },\r\n    _scrollByLine: function(lines) {\r\n        var devicePixelRatio = this._tryGetDevicePixelRatio();\r\n        var scrollOffset = SCROLL_LINE_HEIGHT;\r\n        if (devicePixelRatio) {\r\n            scrollOffset = Math.abs(scrollOffset / devicePixelRatio * 100) / 100\r\n        }\r\n        this.scrollBy({\r\n            top: (lines.y || 0) * -scrollOffset,\r\n            left: (lines.x || 0) * -scrollOffset\r\n        })\r\n    },\r\n    _scrollByPage: function(page) {\r\n        var prop = this._wheelProp();\r\n        var dimension = this._dimensionByProp(prop);\r\n        var distance = {};\r\n        distance[prop] = page * -this._$container[dimension]();\r\n        this.scrollBy(distance)\r\n    },\r\n    _dimensionByProp: function(prop) {\r\n        return \"left\" === prop ? \"width\" : \"height\"\r\n    },\r\n    _getPropByDirection: function(direction) {\r\n        return direction === HORIZONTAL ? \"left\" : \"top\"\r\n    },\r\n    _scrollToHome: function() {\r\n        var prop = this._wheelProp();\r\n        var distance = {};\r\n        distance[prop] = 0;\r\n        this._component.scrollTo(distance)\r\n    },\r\n    _scrollToEnd: function() {\r\n        var prop = this._wheelProp();\r\n        var dimension = this._dimensionByProp(prop);\r\n        var distance = {};\r\n        distance[prop] = this._$content[dimension]() - this._$container[dimension]();\r\n        this._component.scrollTo(distance)\r\n    },\r\n    createActions: function() {\r\n        this._startAction = this._createActionHandler(\"onStart\");\r\n        this._stopAction = this._createActionHandler(\"onStop\");\r\n        this._endAction = this._createActionHandler(\"onEnd\");\r\n        this._updateAction = this._createActionHandler(\"onUpdated\");\r\n        this._createScrollerActions()\r\n    },\r\n    _createScrollerActions: function() {\r\n        this._scrollAction = this._createActionHandler(\"onScroll\");\r\n        this._bounceAction = this._createActionHandler(\"onBounce\");\r\n        this._eventHandler(\"createActions\", {\r\n            scroll: this._scrollAction,\r\n            bounce: this._bounceAction\r\n        })\r\n    },\r\n    _createActionHandler: function(optionName) {\r\n        var _arguments = arguments,\r\n            _this5 = this;\r\n        var actionHandler = this._createActionByOption(optionName);\r\n        return function() {\r\n            actionHandler((0, _extend.extend)(_this5._createActionArgs(), _arguments))\r\n        }\r\n    },\r\n    _createActionArgs: function() {\r\n        var scrollerX = this._scrollers[HORIZONTAL];\r\n        var scrollerY = this._scrollers[VERTICAL];\r\n        var location = this.location();\r\n        this._scrollOffset = {\r\n            top: scrollerY && -location.top,\r\n            left: scrollerX && -location.left\r\n        };\r\n        return {\r\n            event: this._eventForUserAction,\r\n            scrollOffset: this._scrollOffset,\r\n            reachedLeft: scrollerX && scrollerX._reachedMax(),\r\n            reachedRight: scrollerX && scrollerX._reachedMin(),\r\n            reachedTop: scrollerY && scrollerY._reachedMax(),\r\n            reachedBottom: scrollerY && scrollerY._reachedMin()\r\n        }\r\n    },\r\n    _eventHandler: function(eventName) {\r\n        var args = [].slice.call(arguments).slice(1);\r\n        var deferreds = (0, _iterator.map)(this._scrollers, function(scroller) {\r\n            return scroller[\"_\" + eventName + \"Handler\"].apply(scroller, args)\r\n        });\r\n        return _deferred.when.apply(_renderer2.default, deferreds).promise()\r\n    },\r\n    location: function location() {\r\n        var location = _translator2.default.locate(this._$content);\r\n        location.top -= this._$container.scrollTop();\r\n        location.left -= this._$container.scrollLeft();\r\n        return location\r\n    },\r\n    disabledChanged: function() {\r\n        this._attachCursorHandlers()\r\n    },\r\n    _attachCursorHandlers: function() {\r\n        _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_CURSOR));\r\n        if (!this.option(\"disabled\") && this._isHoverMode()) {\r\n            _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"mouseenter\", SCROLLABLE_SIMULATED_CURSOR), this._cursorEnterHandler.bind(this));\r\n            _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"mouseleave\", SCROLLABLE_SIMULATED_CURSOR), this._cursorLeaveHandler.bind(this))\r\n        }\r\n    },\r\n    _isHoverMode: function() {\r\n        return \"onHover\" === this.option(\"showScrollbar\")\r\n    },\r\n    _cursorEnterHandler: function(e) {\r\n        e = e || {};\r\n        e.originalEvent = e.originalEvent || {};\r\n        if (activeScrollable || e.originalEvent._hoverHandled) {\r\n            return\r\n        }\r\n        if (hoveredScrollable) {\r\n            hoveredScrollable._cursorLeaveHandler()\r\n        }\r\n        hoveredScrollable = this;\r\n        this._eventHandler(\"cursorEnter\");\r\n        e.originalEvent._hoverHandled = true\r\n    },\r\n    _cursorLeaveHandler: function(e) {\r\n        if (hoveredScrollable !== this || activeScrollable === hoveredScrollable) {\r\n            return\r\n        }\r\n        this._eventHandler(\"cursorLeave\");\r\n        hoveredScrollable = null;\r\n        this._refreshCursorState(e && e.relatedTarget)\r\n    },\r\n    _refreshCursorState: function(target) {\r\n        if (!this._isHoverMode() && (!target || activeScrollable)) {\r\n            return\r\n        }\r\n        var $target = (0, _renderer2.default)(target);\r\n        var $scrollable = $target.closest(\".\".concat(SCROLLABLE_SIMULATED_CLASS, \":not(.dx-state-disabled)\"));\r\n        var targetScrollable = $scrollable.length && $scrollable.data(SCROLLABLE_STRATEGY);\r\n        if (hoveredScrollable && hoveredScrollable !== targetScrollable) {\r\n            hoveredScrollable._cursorLeaveHandler()\r\n        }\r\n        if (targetScrollable) {\r\n            targetScrollable._cursorEnterHandler()\r\n        }\r\n    },\r\n    update: function() {\r\n        var _this6 = this;\r\n        var result = this._eventHandler(\"update\").done(this._updateAction);\r\n        return (0, _deferred.when)(result, (0, _common.deferUpdate)(function() {\r\n            var allowedDirections = _this6._allowedDirections();\r\n            (0, _common.deferRender)(function() {\r\n                var touchDirection = allowedDirections.vertical ? \"pan-x\" : \"\";\r\n                touchDirection = allowedDirections.horizontal ? \"pan-y\" : touchDirection;\r\n                touchDirection = allowedDirections.vertical && allowedDirections.horizontal ? \"none\" : touchDirection;\r\n                _this6._$container.css(\"touchAction\", touchDirection)\r\n            });\r\n            return (0, _deferred.when)().promise()\r\n        }))\r\n    },\r\n    _allowedDirections: function() {\r\n        var bounceEnabled = this.option(\"bounceEnabled\");\r\n        var verticalScroller = this._scrollers[VERTICAL];\r\n        var horizontalScroller = this._scrollers[HORIZONTAL];\r\n        return {\r\n            vertical: verticalScroller && (verticalScroller._minOffset < 0 || bounceEnabled),\r\n            horizontal: horizontalScroller && (horizontalScroller._minOffset < 0 || bounceEnabled)\r\n        }\r\n    },\r\n    updateBounds: function() {\r\n        this._scrollers[HORIZONTAL] && this._scrollers[HORIZONTAL]._updateBounds()\r\n    },\r\n    scrollBy: function(distance) {\r\n        var verticalScroller = this._scrollers[VERTICAL];\r\n        var horizontalScroller = this._scrollers[HORIZONTAL];\r\n        if (verticalScroller) {\r\n            distance.top = verticalScroller._boundLocation(distance.top + verticalScroller._location) - verticalScroller._location\r\n        }\r\n        if (horizontalScroller) {\r\n            distance.left = horizontalScroller._boundLocation(distance.left + horizontalScroller._location) - horizontalScroller._location\r\n        }\r\n        this._prepareDirections(true);\r\n        this._startAction();\r\n        this._eventHandler(\"scrollBy\", {\r\n            x: distance.left,\r\n            y: distance.top\r\n        });\r\n        this._endAction()\r\n    },\r\n    validate: function(e) {\r\n        if (this.option(\"disabled\")) {\r\n            return false\r\n        }\r\n        if (this.option(\"bounceEnabled\")) {\r\n            return true\r\n        }\r\n        return (0, _utils.isDxMouseWheelEvent)(e) ? this._validateWheel(e) : this._validateMove(e)\r\n    },\r\n    _validateWheel: function(e) {\r\n        var _this7 = this;\r\n        var scroller = this._scrollers[this._wheelDirection(e)];\r\n        var reachedMin = scroller._reachedMin();\r\n        var reachedMax = scroller._reachedMax();\r\n        var contentGreaterThanContainer = !reachedMin || !reachedMax;\r\n        var locatedNotAtBound = !reachedMin && !reachedMax;\r\n        var scrollFromMin = reachedMin && e.delta > 0;\r\n        var scrollFromMax = reachedMax && e.delta < 0;\r\n        var validated = contentGreaterThanContainer && (locatedNotAtBound || scrollFromMin || scrollFromMax);\r\n        validated = validated || void 0 !== this._validateWheelTimer;\r\n        if (validated) {\r\n            clearTimeout(this._validateWheelTimer);\r\n            this._validateWheelTimer = setTimeout(function() {\r\n                _this7._validateWheelTimer = void 0\r\n            }, VALIDATE_WHEEL_TIMEOUT)\r\n        }\r\n        return validated\r\n    },\r\n    _validateMove: function(e) {\r\n        if (!this.option(\"scrollByContent\") && !(0, _renderer2.default)(e.target).closest(\".\".concat(SCROLLABLE_SCROLLBAR_CLASS)).length) {\r\n            return false\r\n        }\r\n        return this._allowedDirection()\r\n    },\r\n    getDirection: function(e) {\r\n        return (0, _utils.isDxMouseWheelEvent)(e) ? this._wheelDirection(e) : this._allowedDirection()\r\n    },\r\n    _wheelProp: function() {\r\n        return this._wheelDirection() === HORIZONTAL ? \"left\" : \"top\"\r\n    },\r\n    _wheelDirection: function(e) {\r\n        switch (this.option(\"direction\")) {\r\n            case HORIZONTAL:\r\n                return HORIZONTAL;\r\n            case VERTICAL:\r\n                return VERTICAL;\r\n            default:\r\n                return e && e.shiftKey ? HORIZONTAL : VERTICAL\r\n        }\r\n    },\r\n    verticalOffset: function() {\r\n        return 0\r\n    },\r\n    dispose: function() {\r\n        this._resetActive();\r\n        if (hoveredScrollable === this) {\r\n            hoveredScrollable = null\r\n        }\r\n        this._eventHandler(\"dispose\");\r\n        this._detachEventHandlers();\r\n        this._$element.removeClass(SCROLLABLE_SIMULATED_CLASS);\r\n        this._eventForUserAction = null;\r\n        clearTimeout(this._validateWheelTimer);\r\n        clearTimeout(this._updateHandlerTimeout)\r\n    },\r\n    _detachEventHandlers: function() {\r\n        _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_CURSOR));\r\n        _events_engine2.default.off(this._$container, \".\".concat(SCROLLABLE_SIMULATED_KEYBOARD))\r\n    }\r\n});\r\nexports.SimulatedStrategy = SimulatedStrategy;\r\nexports.Scroller = Scroller;\r\n"]},"metadata":{},"sourceType":"module"}