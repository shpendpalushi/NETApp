{"ast":null,"code":"/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.master_detail.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _uiGrid_core = require(\"./ui.grid_core.utils\");\n\nvar _uiGrid_core2 = _interopRequireDefault(_uiGrid_core);\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\nvar MASTER_DETAIL_ROW_CLASS = \"dx-master-detail-row\";\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\nvar ROW_LINES_CLASS = \"dx-row-lines\";\nmodule.exports = {\n  defaultOptions: function defaultOptions() {\n    return {\n      masterDetail: {\n        enabled: false,\n        autoExpandAll: false,\n        template: null\n      }\n    };\n  },\n  extenders: {\n    controllers: {\n      columns: {\n        _getExpandColumnsCore: function _getExpandColumnsCore() {\n          var expandColumns = this.callBase();\n\n          if (this.option(\"masterDetail.enabled\")) {\n            expandColumns.push({\n              type: \"detailExpand\",\n              cellTemplate: _uiGrid_core2.default.getExpandCellTemplate()\n            });\n          }\n\n          return expandColumns;\n        }\n      },\n      data: function () {\n        var initMasterDetail = function initMasterDetail(that) {\n          that._expandedItems = [];\n          that._isExpandAll = that.option(\"masterDetail.autoExpandAll\");\n        };\n\n        return {\n          init: function init() {\n            var that = this;\n            initMasterDetail(that);\n            that.callBase();\n          },\n          expandAll: function expandAll(groupIndex) {\n            var that = this;\n\n            if (groupIndex < 0) {\n              that._isExpandAll = true;\n              that._expandedItems = [];\n              that.updateItems();\n            } else {\n              that.callBase.apply(that, arguments);\n            }\n          },\n          collapseAll: function collapseAll(groupIndex) {\n            var that = this;\n\n            if (groupIndex < 0) {\n              that._isExpandAll = false;\n              that._expandedItems = [];\n              that.updateItems();\n            } else {\n              that.callBase.apply(that, arguments);\n            }\n          },\n          isRowExpanded: function isRowExpanded(key) {\n            var that = this;\n\n            var expandIndex = _uiGrid_core2.default.getIndexByKey(key, that._expandedItems);\n\n            if (Array.isArray(key)) {\n              return that.callBase.apply(that, arguments);\n            } else {\n              return !!(that._isExpandAll ^ (expandIndex >= 0 && that._expandedItems[expandIndex].visible));\n            }\n          },\n          _getRowIndicesForExpand: function _getRowIndicesForExpand(key) {\n            var rowIndex = this.getRowIndexByKey(key);\n            return [rowIndex, rowIndex + 1];\n          },\n          _changeRowExpandCore: function _changeRowExpandCore(key) {\n            var that = this;\n            var expandIndex;\n            var editingController;\n\n            if (Array.isArray(key)) {\n              return that.callBase.apply(that, arguments);\n            } else {\n              expandIndex = _uiGrid_core2.default.getIndexByKey(key, that._expandedItems);\n\n              if (expandIndex >= 0) {\n                var visible = that._expandedItems[expandIndex].visible;\n                that._expandedItems[expandIndex].visible = !visible;\n              } else {\n                that._expandedItems.push({\n                  key: key,\n                  visible: true\n                });\n\n                editingController = that.getController(\"editing\");\n\n                if (editingController) {\n                  editingController.correctEditRowIndexAfterExpand(key);\n                }\n              }\n\n              that.updateItems({\n                changeType: \"update\",\n                rowIndices: that._getRowIndicesForExpand(key)\n              });\n            }\n          },\n          _processDataItem: function _processDataItem(data, options) {\n            var that = this;\n            var dataItem = that.callBase.apply(that, arguments);\n            dataItem.isExpanded = that.isRowExpanded(dataItem.key);\n\n            if (void 0 === options.detailColumnIndex) {\n              options.detailColumnIndex = -1;\n              (0, _iterator.each)(options.visibleColumns, function (index, column) {\n                if (\"expand\" === column.command && !(0, _type.isDefined)(column.groupIndex)) {\n                  options.detailColumnIndex = index;\n                  return false;\n                }\n              });\n            }\n\n            if (options.detailColumnIndex >= 0) {\n              dataItem.values[options.detailColumnIndex] = dataItem.isExpanded;\n            }\n\n            return dataItem;\n          },\n          _processItems: function _processItems(items, change) {\n            var that = this;\n            var changeType = change.changeType;\n            var expandIndex;\n            var result = [];\n            items = that.callBase.apply(that, arguments);\n\n            if (\"loadingAll\" === changeType) {\n              return items;\n            }\n\n            if (\"refresh\" === changeType) {\n              that._expandedItems = (0, _common.grep)(that._expandedItems, function (item) {\n                return item.visible;\n              });\n            }\n\n            (0, _iterator.each)(items, function (index, item) {\n              result.push(item);\n              expandIndex = _uiGrid_core2.default.getIndexByKey(item.key, that._expandedItems);\n\n              if (\"data\" === item.rowType && (item.isExpanded || expandIndex >= 0) && !item.isNewRow) {\n                result.push({\n                  visible: item.isExpanded,\n                  rowType: \"detail\",\n                  key: item.key,\n                  data: item.data,\n                  values: []\n                });\n              }\n            });\n            return result;\n          },\n          optionChanged: function optionChanged(args) {\n            var that = this;\n            var value;\n            var previousValue;\n            var isEnabledChanged;\n            var isAutoExpandAllChanged;\n\n            if (\"masterDetail\" === args.name) {\n              args.name = \"dataSource\";\n\n              switch (args.fullName) {\n                case \"masterDetail\":\n                  value = args.value || {};\n                  previousValue = args.previousValue || {};\n                  isEnabledChanged = value.enabled !== previousValue.enabled;\n                  isAutoExpandAllChanged = value.autoExpandAll !== previousValue.autoExpandAll;\n                  break;\n\n                case \"masterDetail.enabled\":\n                  isEnabledChanged = true;\n                  break;\n\n                case \"masterDetail.autoExpandAll\":\n                  isAutoExpandAllChanged = true;\n              }\n\n              if (isEnabledChanged || isAutoExpandAllChanged) {\n                initMasterDetail(that);\n              }\n            }\n\n            that.callBase(args);\n          }\n        };\n      }(),\n      resizing: {\n        fireContentReadyAction: function fireContentReadyAction() {\n          this.callBase.apply(this, arguments);\n\n          this._updateParentDataGrids(this.component.$element());\n        },\n        _updateParentDataGrids: function _updateParentDataGrids($element) {\n          var _this = this;\n\n          var $masterDetailRow = $element.closest(\".\" + MASTER_DETAIL_ROW_CLASS);\n\n          if ($masterDetailRow.length) {\n            (0, _deferred.when)(this._updateMasterDataGrid($masterDetailRow, $element)).done(function () {\n              _this._updateParentDataGrids($masterDetailRow.parent());\n            });\n          }\n        },\n        _updateMasterDataGrid: function _updateMasterDataGrid($masterDetailRow, $detailElement) {\n          var masterRowOptions = (0, _renderer2.default)($masterDetailRow).data(\"options\");\n          var masterDataGrid = (0, _renderer2.default)($masterDetailRow).closest(\".\" + this.getWidgetContainerClass()).parent().data(\"dxDataGrid\");\n\n          if (masterRowOptions && masterDataGrid) {\n            if (masterDataGrid.getView(\"rowsView\").isFixedColumns()) {\n              this._updateFixedMasterDetailGrids(masterDataGrid, masterRowOptions.rowIndex, $detailElement);\n            } else {\n              var scrollable = masterDataGrid.getScrollable();\n              return scrollable && scrollable.update();\n            }\n          }\n        },\n        _updateFixedMasterDetailGrids: function _updateFixedMasterDetailGrids(masterDataGrid, masterRowIndex, $detailElement) {\n          var _this2 = this;\n\n          var $rows = (0, _renderer2.default)(masterDataGrid.getRowElement(masterRowIndex));\n\n          if ($rows && 2 === $rows.length && $rows.eq(0).height() !== $rows.eq(1).height()) {\n            var detailElementWidth = $detailElement.width();\n            return masterDataGrid.updateDimensions().done(function () {\n              var isDetailHorizontalScrollCanBeShown = _this2.option(\"columnAutoWidth\") && true === masterDataGrid.option(\"scrolling.useNative\");\n              var isDetailGridWidthChanged = isDetailHorizontalScrollCanBeShown && detailElementWidth !== $detailElement.width();\n\n              if (isDetailHorizontalScrollCanBeShown && isDetailGridWidthChanged) {\n                _this2.updateDimensions();\n              }\n            });\n          }\n        }\n      }\n    },\n    views: {\n      rowsView: function () {\n        return {\n          _getCellTemplate: function _getCellTemplate(options) {\n            var that = this;\n            var column = options.column;\n            var editingController = that.getController(\"editing\");\n            var isEditRow = editingController && editingController.isEditRow(options.rowIndex);\n            var template;\n\n            if (\"detail\" === column.command && !isEditRow) {\n              template = that.option(\"masterDetail.template\") || {\n                allowRenderToDetachedContainer: false,\n                render: that._getDefaultTemplate(column)\n              };\n            } else {\n              template = that.callBase.apply(that, arguments);\n            }\n\n            return template;\n          },\n          _isDetailRow: function _isDetailRow(row) {\n            return row && row.rowType && 0 === row.rowType.indexOf(\"detail\");\n          },\n          _createRow: function _createRow(row) {\n            var $row = this.callBase(row);\n\n            if (row && this._isDetailRow(row)) {\n              this.option(\"showRowLines\") && $row.addClass(ROW_LINES_CLASS);\n              $row.addClass(MASTER_DETAIL_ROW_CLASS);\n\n              if ((0, _type.isDefined)(row.visible)) {\n                $row.toggle(row.visible);\n              }\n            }\n\n            return $row;\n          },\n          _renderCells: function _renderCells($row, options) {\n            var row = options.row;\n            var $detailCell;\n\n            var visibleColumns = this._columnsController.getVisibleColumns();\n\n            if (row.rowType && this._isDetailRow(row)) {\n              if (this._needRenderCell(0, options.columnIndices)) {\n                $detailCell = this._renderCell($row, {\n                  value: null,\n                  row: row,\n                  rowIndex: row.rowIndex,\n                  column: {\n                    command: \"detail\"\n                  },\n                  columnIndex: 0\n                });\n                $detailCell.addClass(CELL_FOCUS_DISABLED_CLASS).addClass(MASTER_DETAIL_CELL_CLASS).attr(\"colSpan\", visibleColumns.length);\n              }\n            } else {\n              this.callBase.apply(this, arguments);\n            }\n          }\n        };\n      }()\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/grid_core/ui.grid_core.master_detail.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_uiGrid_core","_uiGrid_core2","_common","_iterator","_type","_deferred","obj","MASTER_DETAIL_CELL_CLASS","MASTER_DETAIL_ROW_CLASS","CELL_FOCUS_DISABLED_CLASS","ROW_LINES_CLASS","module","defaultOptions","masterDetail","enabled","autoExpandAll","template","extenders","controllers","columns","_getExpandColumnsCore","expandColumns","type","cellTemplate","data","initMasterDetail","that","init","expandAll","groupIndex","collapseAll","isRowExpanded","expandIndex","Array","_getRowIndicesForExpand","rowIndex","_changeRowExpandCore","visible","key","editingController","changeType","rowIndices","_processDataItem","dataItem","options","column","_processItems","change","result","items","item","rowType","values","optionChanged","args","value","previousValue","isEnabledChanged","isAutoExpandAllChanged","resizing","fireContentReadyAction","_updateParentDataGrids","_this","$masterDetailRow","$element","_updateMasterDataGrid","masterRowOptions","masterDataGrid","scrollable","_updateFixedMasterDetailGrids","_this2","$rows","detailElementWidth","$detailElement","isDetailHorizontalScrollCanBeShown","isDetailGridWidthChanged","views","rowsView","_getCellTemplate","isEditRow","allowRenderToDetachedContainer","render","_isDetailRow","row","_createRow","$row","_renderCells","visibleColumns","$detailCell","command","columnIndex"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.master_detail.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _uiGrid_core = require(\"./ui.grid_core.utils\");\r\nvar _uiGrid_core2 = _interopRequireDefault(_uiGrid_core);\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar MASTER_DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar ROW_LINES_CLASS = \"dx-row-lines\";\r\nmodule.exports = {\r\n    defaultOptions: function() {\r\n        return {\r\n            masterDetail: {\r\n                enabled: false,\r\n                autoExpandAll: false,\r\n                template: null\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            columns: {\r\n                _getExpandColumnsCore: function() {\r\n                    var expandColumns = this.callBase();\r\n                    if (this.option(\"masterDetail.enabled\")) {\r\n                        expandColumns.push({\r\n                            type: \"detailExpand\",\r\n                            cellTemplate: _uiGrid_core2.default.getExpandCellTemplate()\r\n                        })\r\n                    }\r\n                    return expandColumns\r\n                }\r\n            },\r\n            data: function() {\r\n                var initMasterDetail = function(that) {\r\n                    that._expandedItems = [];\r\n                    that._isExpandAll = that.option(\"masterDetail.autoExpandAll\")\r\n                };\r\n                return {\r\n                    init: function() {\r\n                        var that = this;\r\n                        initMasterDetail(that);\r\n                        that.callBase()\r\n                    },\r\n                    expandAll: function(groupIndex) {\r\n                        var that = this;\r\n                        if (groupIndex < 0) {\r\n                            that._isExpandAll = true;\r\n                            that._expandedItems = [];\r\n                            that.updateItems()\r\n                        } else {\r\n                            that.callBase.apply(that, arguments)\r\n                        }\r\n                    },\r\n                    collapseAll: function(groupIndex) {\r\n                        var that = this;\r\n                        if (groupIndex < 0) {\r\n                            that._isExpandAll = false;\r\n                            that._expandedItems = [];\r\n                            that.updateItems()\r\n                        } else {\r\n                            that.callBase.apply(that, arguments)\r\n                        }\r\n                    },\r\n                    isRowExpanded: function(key) {\r\n                        var that = this;\r\n                        var expandIndex = _uiGrid_core2.default.getIndexByKey(key, that._expandedItems);\r\n                        if (Array.isArray(key)) {\r\n                            return that.callBase.apply(that, arguments)\r\n                        } else {\r\n                            return !!(that._isExpandAll ^ (expandIndex >= 0 && that._expandedItems[expandIndex].visible))\r\n                        }\r\n                    },\r\n                    _getRowIndicesForExpand: function(key) {\r\n                        var rowIndex = this.getRowIndexByKey(key);\r\n                        return [rowIndex, rowIndex + 1]\r\n                    },\r\n                    _changeRowExpandCore: function(key) {\r\n                        var that = this;\r\n                        var expandIndex;\r\n                        var editingController;\r\n                        if (Array.isArray(key)) {\r\n                            return that.callBase.apply(that, arguments)\r\n                        } else {\r\n                            expandIndex = _uiGrid_core2.default.getIndexByKey(key, that._expandedItems);\r\n                            if (expandIndex >= 0) {\r\n                                var visible = that._expandedItems[expandIndex].visible;\r\n                                that._expandedItems[expandIndex].visible = !visible\r\n                            } else {\r\n                                that._expandedItems.push({\r\n                                    key: key,\r\n                                    visible: true\r\n                                });\r\n                                editingController = that.getController(\"editing\");\r\n                                if (editingController) {\r\n                                    editingController.correctEditRowIndexAfterExpand(key)\r\n                                }\r\n                            }\r\n                            that.updateItems({\r\n                                changeType: \"update\",\r\n                                rowIndices: that._getRowIndicesForExpand(key)\r\n                            })\r\n                        }\r\n                    },\r\n                    _processDataItem: function(data, options) {\r\n                        var that = this;\r\n                        var dataItem = that.callBase.apply(that, arguments);\r\n                        dataItem.isExpanded = that.isRowExpanded(dataItem.key);\r\n                        if (void 0 === options.detailColumnIndex) {\r\n                            options.detailColumnIndex = -1;\r\n                            (0, _iterator.each)(options.visibleColumns, function(index, column) {\r\n                                if (\"expand\" === column.command && !(0, _type.isDefined)(column.groupIndex)) {\r\n                                    options.detailColumnIndex = index;\r\n                                    return false\r\n                                }\r\n                            })\r\n                        }\r\n                        if (options.detailColumnIndex >= 0) {\r\n                            dataItem.values[options.detailColumnIndex] = dataItem.isExpanded\r\n                        }\r\n                        return dataItem\r\n                    },\r\n                    _processItems: function(items, change) {\r\n                        var that = this;\r\n                        var changeType = change.changeType;\r\n                        var expandIndex;\r\n                        var result = [];\r\n                        items = that.callBase.apply(that, arguments);\r\n                        if (\"loadingAll\" === changeType) {\r\n                            return items\r\n                        }\r\n                        if (\"refresh\" === changeType) {\r\n                            that._expandedItems = (0, _common.grep)(that._expandedItems, function(item) {\r\n                                return item.visible\r\n                            })\r\n                        }(0, _iterator.each)(items, function(index, item) {\r\n                            result.push(item);\r\n                            expandIndex = _uiGrid_core2.default.getIndexByKey(item.key, that._expandedItems);\r\n                            if (\"data\" === item.rowType && (item.isExpanded || expandIndex >= 0) && !item.isNewRow) {\r\n                                result.push({\r\n                                    visible: item.isExpanded,\r\n                                    rowType: \"detail\",\r\n                                    key: item.key,\r\n                                    data: item.data,\r\n                                    values: []\r\n                                })\r\n                            }\r\n                        });\r\n                        return result\r\n                    },\r\n                    optionChanged: function(args) {\r\n                        var that = this;\r\n                        var value;\r\n                        var previousValue;\r\n                        var isEnabledChanged;\r\n                        var isAutoExpandAllChanged;\r\n                        if (\"masterDetail\" === args.name) {\r\n                            args.name = \"dataSource\";\r\n                            switch (args.fullName) {\r\n                                case \"masterDetail\":\r\n                                    value = args.value || {};\r\n                                    previousValue = args.previousValue || {};\r\n                                    isEnabledChanged = value.enabled !== previousValue.enabled;\r\n                                    isAutoExpandAllChanged = value.autoExpandAll !== previousValue.autoExpandAll;\r\n                                    break;\r\n                                case \"masterDetail.enabled\":\r\n                                    isEnabledChanged = true;\r\n                                    break;\r\n                                case \"masterDetail.autoExpandAll\":\r\n                                    isAutoExpandAllChanged = true\r\n                            }\r\n                            if (isEnabledChanged || isAutoExpandAllChanged) {\r\n                                initMasterDetail(that)\r\n                            }\r\n                        }\r\n                        that.callBase(args)\r\n                    }\r\n                }\r\n            }(),\r\n            resizing: {\r\n                fireContentReadyAction: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._updateParentDataGrids(this.component.$element())\r\n                },\r\n                _updateParentDataGrids: function($element) {\r\n                    var _this = this;\r\n                    var $masterDetailRow = $element.closest(\".\" + MASTER_DETAIL_ROW_CLASS);\r\n                    if ($masterDetailRow.length) {\r\n                        (0, _deferred.when)(this._updateMasterDataGrid($masterDetailRow, $element)).done(function() {\r\n                            _this._updateParentDataGrids($masterDetailRow.parent())\r\n                        })\r\n                    }\r\n                },\r\n                _updateMasterDataGrid: function($masterDetailRow, $detailElement) {\r\n                    var masterRowOptions = (0, _renderer2.default)($masterDetailRow).data(\"options\");\r\n                    var masterDataGrid = (0, _renderer2.default)($masterDetailRow).closest(\".\" + this.getWidgetContainerClass()).parent().data(\"dxDataGrid\");\r\n                    if (masterRowOptions && masterDataGrid) {\r\n                        if (masterDataGrid.getView(\"rowsView\").isFixedColumns()) {\r\n                            this._updateFixedMasterDetailGrids(masterDataGrid, masterRowOptions.rowIndex, $detailElement)\r\n                        } else {\r\n                            var scrollable = masterDataGrid.getScrollable();\r\n                            return scrollable && scrollable.update()\r\n                        }\r\n                    }\r\n                },\r\n                _updateFixedMasterDetailGrids: function(masterDataGrid, masterRowIndex, $detailElement) {\r\n                    var _this2 = this;\r\n                    var $rows = (0, _renderer2.default)(masterDataGrid.getRowElement(masterRowIndex));\r\n                    if ($rows && 2 === $rows.length && $rows.eq(0).height() !== $rows.eq(1).height()) {\r\n                        var detailElementWidth = $detailElement.width();\r\n                        return masterDataGrid.updateDimensions().done(function() {\r\n                            var isDetailHorizontalScrollCanBeShown = _this2.option(\"columnAutoWidth\") && true === masterDataGrid.option(\"scrolling.useNative\");\r\n                            var isDetailGridWidthChanged = isDetailHorizontalScrollCanBeShown && detailElementWidth !== $detailElement.width();\r\n                            if (isDetailHorizontalScrollCanBeShown && isDetailGridWidthChanged) {\r\n                                _this2.updateDimensions()\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: function() {\r\n                return {\r\n                    _getCellTemplate: function(options) {\r\n                        var that = this;\r\n                        var column = options.column;\r\n                        var editingController = that.getController(\"editing\");\r\n                        var isEditRow = editingController && editingController.isEditRow(options.rowIndex);\r\n                        var template;\r\n                        if (\"detail\" === column.command && !isEditRow) {\r\n                            template = that.option(\"masterDetail.template\") || {\r\n                                allowRenderToDetachedContainer: false,\r\n                                render: that._getDefaultTemplate(column)\r\n                            }\r\n                        } else {\r\n                            template = that.callBase.apply(that, arguments)\r\n                        }\r\n                        return template\r\n                    },\r\n                    _isDetailRow: function(row) {\r\n                        return row && row.rowType && 0 === row.rowType.indexOf(\"detail\")\r\n                    },\r\n                    _createRow: function(row) {\r\n                        var $row = this.callBase(row);\r\n                        if (row && this._isDetailRow(row)) {\r\n                            this.option(\"showRowLines\") && $row.addClass(ROW_LINES_CLASS);\r\n                            $row.addClass(MASTER_DETAIL_ROW_CLASS);\r\n                            if ((0, _type.isDefined)(row.visible)) {\r\n                                $row.toggle(row.visible)\r\n                            }\r\n                        }\r\n                        return $row\r\n                    },\r\n                    _renderCells: function($row, options) {\r\n                        var row = options.row;\r\n                        var $detailCell;\r\n                        var visibleColumns = this._columnsController.getVisibleColumns();\r\n                        if (row.rowType && this._isDetailRow(row)) {\r\n                            if (this._needRenderCell(0, options.columnIndices)) {\r\n                                $detailCell = this._renderCell($row, {\r\n                                    value: null,\r\n                                    row: row,\r\n                                    rowIndex: row.rowIndex,\r\n                                    column: {\r\n                                        command: \"detail\"\r\n                                    },\r\n                                    columnIndex: 0\r\n                                });\r\n                                $detailCell.addClass(CELL_FOCUS_DISABLED_CLASS).addClass(MASTER_DETAIL_CELL_CLASS).attr(\"colSpan\", visibleColumns.length)\r\n                            }\r\n                        } else {\r\n                            this.callBase.apply(this, arguments)\r\n                        }\r\n                    }\r\n                }\r\n            }()\r\n        }\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}