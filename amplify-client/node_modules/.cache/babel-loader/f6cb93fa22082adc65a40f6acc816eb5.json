{"ast":null,"code":"/**\r\n * DevExtreme (core/utils/data.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar errors = require(\"../errors\");\n\nvar Class = require(\"../class\");\n\nvar objectUtils = require(\"./object\");\n\nvar typeUtils = require(\"./type\");\n\nvar each = require(\"./iterator\").each;\n\nvar variableWrapper = require(\"./variable_wrapper\");\n\nvar unwrapVariable = variableWrapper.unwrap;\nvar isWrapped = variableWrapper.isWrapped;\nvar assign = variableWrapper.assign;\n\nvar bracketsToDots = function bracketsToDots(expr) {\n  return expr.replace(/\\[/g, \".\").replace(/\\]/g, \"\");\n};\n\nvar readPropValue = function readPropValue(obj, propName, options) {\n  options = options || {};\n\n  if (\"this\" === propName) {\n    return unwrap(obj, options);\n  }\n\n  return unwrap(obj[propName], options);\n};\n\nvar assignPropValue = function assignPropValue(obj, propName, value, options) {\n  if (\"this\" === propName) {\n    throw new errors.Error(\"E4016\");\n  }\n\n  var propValue = obj[propName];\n\n  if (options.unwrapObservables && isWrapped(propValue)) {\n    assign(propValue, value);\n  } else {\n    obj[propName] = value;\n  }\n};\n\nvar prepareOptions = function prepareOptions(options) {\n  options = options || {};\n  options.unwrapObservables = void 0 !== options.unwrapObservables ? options.unwrapObservables : true;\n  return options;\n};\n\nvar unwrap = function unwrap(value, options) {\n  return options.unwrapObservables ? unwrapVariable(value) : value;\n};\n\nvar compileGetter = function compileGetter(expr) {\n  if (arguments.length > 1) {\n    expr = [].slice.call(arguments);\n  }\n\n  if (!expr || \"this\" === expr) {\n    return function (obj) {\n      return obj;\n    };\n  }\n\n  if (\"string\" === typeof expr) {\n    expr = bracketsToDots(expr);\n    var path = expr.split(\".\");\n    return function (obj, options) {\n      options = prepareOptions(options);\n      var functionAsIs = options.functionsAsIs;\n      var hasDefaultValue = (\"defaultValue\" in options);\n      var current = unwrap(obj, options);\n\n      for (var i = 0; i < path.length; i++) {\n        if (!current) {\n          if (null == current && hasDefaultValue) {\n            return options.defaultValue;\n          }\n\n          break;\n        }\n\n        var pathPart = path[i];\n\n        if (hasDefaultValue && typeUtils.isObject(current) && !(pathPart in current)) {\n          return options.defaultValue;\n        }\n\n        var next = unwrap(current[pathPart], options);\n\n        if (!functionAsIs && typeUtils.isFunction(next)) {\n          next = next.call(current);\n        }\n\n        current = next;\n      }\n\n      return current;\n    };\n  }\n\n  if (Array.isArray(expr)) {\n    return combineGetters(expr);\n  }\n\n  if (typeUtils.isFunction(expr)) {\n    return expr;\n  }\n};\n\nvar combineGetters = function combineGetters(getters) {\n  var compiledGetters = {};\n\n  for (var i = 0, l = getters.length; i < l; i++) {\n    var getter = getters[i];\n    compiledGetters[getter] = compileGetter(getter);\n  }\n\n  return function (obj, options) {\n    var result;\n    each(compiledGetters, function (name) {\n      var value = this(obj, options);\n      var current;\n      var path;\n      var pathItem;\n      var last;\n      var i;\n\n      if (void 0 === value) {\n        return;\n      }\n\n      current = result || (result = {});\n      path = name.split(\".\");\n      last = path.length - 1;\n\n      for (i = 0; i < last; i++) {\n        pathItem = path[i];\n\n        if (!(pathItem in current)) {\n          current[pathItem] = {};\n        }\n\n        current = current[pathItem];\n      }\n\n      current[path[last]] = value;\n    });\n    return result;\n  };\n};\n\nvar ensurePropValueDefined = function ensurePropValueDefined(obj, propName, value, options) {\n  if (typeUtils.isDefined(value)) {\n    return value;\n  }\n\n  var newValue = {};\n  assignPropValue(obj, propName, newValue, options);\n  return newValue;\n};\n\nvar compileSetter = function compileSetter(expr) {\n  expr = bracketsToDots(expr || \"this\").split(\".\");\n  var lastLevelIndex = expr.length - 1;\n  return function (obj, value, options) {\n    options = prepareOptions(options);\n    var currentValue = unwrap(obj, options);\n    expr.forEach(function (propertyName, levelIndex) {\n      var propertyValue = readPropValue(currentValue, propertyName, options);\n      var isPropertyFunc = !options.functionsAsIs && typeUtils.isFunction(propertyValue) && !isWrapped(propertyValue);\n\n      if (levelIndex === lastLevelIndex) {\n        if (options.merge && typeUtils.isPlainObject(value) && (!typeUtils.isDefined(propertyValue) || typeUtils.isPlainObject(propertyValue))) {\n          propertyValue = ensurePropValueDefined(currentValue, propertyName, propertyValue, options);\n          objectUtils.deepExtendArraySafe(propertyValue, value, false, true);\n        } else {\n          if (isPropertyFunc) {\n            currentValue[propertyName](value);\n          } else {\n            assignPropValue(currentValue, propertyName, value, options);\n          }\n        }\n      } else {\n        propertyValue = ensurePropValueDefined(currentValue, propertyName, propertyValue, options);\n\n        if (isPropertyFunc) {\n          propertyValue = propertyValue.call(currentValue);\n        }\n\n        currentValue = propertyValue;\n      }\n    });\n  };\n};\n\nvar toComparable = function toComparable(value, caseSensitive) {\n  if (value instanceof Date) {\n    return value.getTime();\n  }\n\n  if (value && value instanceof Class && value.valueOf) {\n    return value.valueOf();\n  }\n\n  if (!caseSensitive && \"string\" === typeof value) {\n    return value.toLowerCase();\n  }\n\n  return value;\n};\n\nexports.compileGetter = compileGetter;\nexports.compileSetter = compileSetter;\nexports.toComparable = toComparable;\nexports.bracketsToDots = bracketsToDots;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/core/utils/data.js"],"names":["errors","require","Class","objectUtils","typeUtils","each","variableWrapper","unwrapVariable","isWrapped","assign","bracketsToDots","expr","readPropValue","options","unwrap","obj","assignPropValue","propValue","prepareOptions","compileGetter","arguments","path","functionAsIs","hasDefaultValue","current","i","pathPart","next","Array","combineGetters","compiledGetters","l","getters","getter","value","result","name","last","pathItem","ensurePropValueDefined","newValue","compileSetter","lastLevelIndex","currentValue","propertyValue","isPropertyFunc","levelIndex","toComparable","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (core/utils/data.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar errors = require(\"../errors\");\r\nvar Class = require(\"../class\");\r\nvar objectUtils = require(\"./object\");\r\nvar typeUtils = require(\"./type\");\r\nvar each = require(\"./iterator\").each;\r\nvar variableWrapper = require(\"./variable_wrapper\");\r\nvar unwrapVariable = variableWrapper.unwrap;\r\nvar isWrapped = variableWrapper.isWrapped;\r\nvar assign = variableWrapper.assign;\r\nvar bracketsToDots = function(expr) {\r\n    return expr.replace(/\\[/g, \".\").replace(/\\]/g, \"\")\r\n};\r\nvar readPropValue = function(obj, propName, options) {\r\n    options = options || {};\r\n    if (\"this\" === propName) {\r\n        return unwrap(obj, options)\r\n    }\r\n    return unwrap(obj[propName], options)\r\n};\r\nvar assignPropValue = function(obj, propName, value, options) {\r\n    if (\"this\" === propName) {\r\n        throw new errors.Error(\"E4016\")\r\n    }\r\n    var propValue = obj[propName];\r\n    if (options.unwrapObservables && isWrapped(propValue)) {\r\n        assign(propValue, value)\r\n    } else {\r\n        obj[propName] = value\r\n    }\r\n};\r\nvar prepareOptions = function(options) {\r\n    options = options || {};\r\n    options.unwrapObservables = void 0 !== options.unwrapObservables ? options.unwrapObservables : true;\r\n    return options\r\n};\r\nvar unwrap = function(value, options) {\r\n    return options.unwrapObservables ? unwrapVariable(value) : value\r\n};\r\nvar compileGetter = function(expr) {\r\n    if (arguments.length > 1) {\r\n        expr = [].slice.call(arguments)\r\n    }\r\n    if (!expr || \"this\" === expr) {\r\n        return function(obj) {\r\n            return obj\r\n        }\r\n    }\r\n    if (\"string\" === typeof expr) {\r\n        expr = bracketsToDots(expr);\r\n        var path = expr.split(\".\");\r\n        return function(obj, options) {\r\n            options = prepareOptions(options);\r\n            var functionAsIs = options.functionsAsIs;\r\n            var hasDefaultValue = \"defaultValue\" in options;\r\n            var current = unwrap(obj, options);\r\n            for (var i = 0; i < path.length; i++) {\r\n                if (!current) {\r\n                    if (null == current && hasDefaultValue) {\r\n                        return options.defaultValue\r\n                    }\r\n                    break\r\n                }\r\n                var pathPart = path[i];\r\n                if (hasDefaultValue && typeUtils.isObject(current) && !(pathPart in current)) {\r\n                    return options.defaultValue\r\n                }\r\n                var next = unwrap(current[pathPart], options);\r\n                if (!functionAsIs && typeUtils.isFunction(next)) {\r\n                    next = next.call(current)\r\n                }\r\n                current = next\r\n            }\r\n            return current\r\n        }\r\n    }\r\n    if (Array.isArray(expr)) {\r\n        return combineGetters(expr)\r\n    }\r\n    if (typeUtils.isFunction(expr)) {\r\n        return expr\r\n    }\r\n};\r\nvar combineGetters = function(getters) {\r\n    var compiledGetters = {};\r\n    for (var i = 0, l = getters.length; i < l; i++) {\r\n        var getter = getters[i];\r\n        compiledGetters[getter] = compileGetter(getter)\r\n    }\r\n    return function(obj, options) {\r\n        var result;\r\n        each(compiledGetters, function(name) {\r\n            var value = this(obj, options);\r\n            var current;\r\n            var path;\r\n            var pathItem;\r\n            var last;\r\n            var i;\r\n            if (void 0 === value) {\r\n                return\r\n            }\r\n            current = result || (result = {});\r\n            path = name.split(\".\");\r\n            last = path.length - 1;\r\n            for (i = 0; i < last; i++) {\r\n                pathItem = path[i];\r\n                if (!(pathItem in current)) {\r\n                    current[pathItem] = {}\r\n                }\r\n                current = current[pathItem]\r\n            }\r\n            current[path[last]] = value\r\n        });\r\n        return result\r\n    }\r\n};\r\nvar ensurePropValueDefined = function(obj, propName, value, options) {\r\n    if (typeUtils.isDefined(value)) {\r\n        return value\r\n    }\r\n    var newValue = {};\r\n    assignPropValue(obj, propName, newValue, options);\r\n    return newValue\r\n};\r\nvar compileSetter = function(expr) {\r\n    expr = bracketsToDots(expr || \"this\").split(\".\");\r\n    var lastLevelIndex = expr.length - 1;\r\n    return function(obj, value, options) {\r\n        options = prepareOptions(options);\r\n        var currentValue = unwrap(obj, options);\r\n        expr.forEach(function(propertyName, levelIndex) {\r\n            var propertyValue = readPropValue(currentValue, propertyName, options);\r\n            var isPropertyFunc = !options.functionsAsIs && typeUtils.isFunction(propertyValue) && !isWrapped(propertyValue);\r\n            if (levelIndex === lastLevelIndex) {\r\n                if (options.merge && typeUtils.isPlainObject(value) && (!typeUtils.isDefined(propertyValue) || typeUtils.isPlainObject(propertyValue))) {\r\n                    propertyValue = ensurePropValueDefined(currentValue, propertyName, propertyValue, options);\r\n                    objectUtils.deepExtendArraySafe(propertyValue, value, false, true)\r\n                } else {\r\n                    if (isPropertyFunc) {\r\n                        currentValue[propertyName](value)\r\n                    } else {\r\n                        assignPropValue(currentValue, propertyName, value, options)\r\n                    }\r\n                }\r\n            } else {\r\n                propertyValue = ensurePropValueDefined(currentValue, propertyName, propertyValue, options);\r\n                if (isPropertyFunc) {\r\n                    propertyValue = propertyValue.call(currentValue)\r\n                }\r\n                currentValue = propertyValue\r\n            }\r\n        })\r\n    }\r\n};\r\nvar toComparable = function(value, caseSensitive) {\r\n    if (value instanceof Date) {\r\n        return value.getTime()\r\n    }\r\n    if (value && value instanceof Class && value.valueOf) {\r\n        return value.valueOf()\r\n    }\r\n    if (!caseSensitive && \"string\" === typeof value) {\r\n        return value.toLowerCase()\r\n    }\r\n    return value\r\n};\r\nexports.compileGetter = compileGetter;\r\nexports.compileSetter = compileSetter;\r\nexports.toComparable = toComparable;\r\nexports.bracketsToDots = bracketsToDots;\r\n"]},"metadata":{},"sourceType":"module"}