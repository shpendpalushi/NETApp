{"ast":null,"code":"/**\r\n * DevExtreme (viz/components/chart_theme_manager.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar BaseThemeManager = require(\"../core/base_theme_manager\").BaseThemeManager;\n\nvar _isString = typeUtils.isString;\nvar _isDefined = typeUtils.isDefined;\n\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\n\nvar ThemeManager = BaseThemeManager.inherit(function () {\n  var ctor = function ctor(params) {\n    var that = this;\n    that.callBase.apply(that, arguments);\n    var options = params.options || {};\n    that._userOptions = options;\n    that._mergeAxisTitleOptions = [];\n    that._multiPieColors = {};\n    that._callback = noop;\n  };\n\n  var dispose = function dispose() {\n    var that = this;\n    that.palette && that.palette.dispose();\n    that.palette = that._userOptions = that._mergedSettings = that._multiPieColors = null;\n    return that.callBase.apply(that, arguments);\n  };\n\n  var resetPalette = function resetPalette() {\n    this.palette.reset();\n    this._multiPieColors = {};\n  };\n\n  var processTitleOptions = function processTitleOptions(options) {\n    return _isString(options) ? {\n      text: options\n    } : options;\n  };\n\n  var processAxisOptions = function processAxisOptions(axisOptions) {\n    if (!axisOptions) {\n      return {};\n    }\n\n    axisOptions = extend(true, {}, axisOptions);\n    axisOptions.title = processTitleOptions(axisOptions.title);\n\n    if (\"logarithmic\" === axisOptions.type && axisOptions.logarithmBase <= 0 || axisOptions.logarithmBase && !typeUtils.isNumeric(axisOptions.logarithmBase)) {\n      axisOptions.logarithmBase = void 0;\n      axisOptions.logarithmBaseError = true;\n    }\n\n    if (axisOptions.label) {\n      if (axisOptions.label.alignment) {\n        axisOptions.label.userAlignment = true;\n      }\n    }\n\n    return axisOptions;\n  };\n\n  var applyParticularAxisOptions = function applyParticularAxisOptions(name, userOptions, rotated) {\n    var theme = this._theme;\n    var position = !(rotated ^ \"valueAxis\" === name) ? \"horizontalAxis\" : \"verticalAxis\";\n    var processedUserOptions = processAxisOptions(userOptions, name);\n    var commonAxisSettings = processAxisOptions(this._userOptions.commonAxisSettings, name);\n    var mergeOptions = extend(true, {}, theme.commonAxisSettings, theme[position], theme[name], commonAxisSettings, processedUserOptions);\n    mergeOptions.workWeek = processedUserOptions.workWeek || theme[name].workWeek;\n    mergeOptions.forceUserTickInterval |= _isDefined(processedUserOptions.tickInterval) && !_isDefined(processedUserOptions.axisDivisionFactor);\n    return mergeOptions;\n  };\n\n  var mergeOptions = function mergeOptions(name, userOptions) {\n    userOptions = userOptions || this._userOptions[name];\n    var theme = this._theme[name];\n    var result = this._mergedSettings[name];\n\n    if (result) {\n      return result;\n    }\n\n    if (typeUtils.isPlainObject(theme) && typeUtils.isPlainObject(userOptions)) {\n      result = extend(true, {}, theme, userOptions);\n    } else {\n      result = _isDefined(userOptions) ? userOptions : theme;\n    }\n\n    this._mergedSettings[name] = result;\n    return result;\n  };\n\n  var applyParticularTheme = {\n    base: mergeOptions,\n    argumentAxis: applyParticularAxisOptions,\n    valueAxisRangeSelector: function valueAxisRangeSelector() {\n      return mergeOptions.call(this, \"valueAxis\");\n    },\n    valueAxis: applyParticularAxisOptions,\n    series: function series(name, userOptions, seriesCount) {\n      var that = this;\n      var theme = that._theme;\n      var userCommonSettings = that._userOptions.commonSeriesSettings || {};\n      var themeCommonSettings = theme.commonSeriesSettings;\n\n      var widgetType = that._themeSection.split(\".\").slice(-1)[0];\n\n      var type = _normalizeEnum(userOptions.type || userCommonSettings.type || themeCommonSettings.type || \"pie\" === widgetType && theme.type);\n\n      var settings;\n      var palette = that.palette;\n      var isBar = ~type.indexOf(\"bar\");\n      var isLine = ~type.indexOf(\"line\");\n      var isArea = ~type.indexOf(\"area\");\n      var isBubble = \"bubble\" === type;\n      var mainSeriesColor;\n      var resolveLabelsOverlapping = that.getOptions(\"resolveLabelsOverlapping\");\n      var containerBackgroundColor = that.getOptions(\"containerBackgroundColor\");\n      var seriesTemplate = applyParticularTheme.seriesTemplate.call(this);\n      var seriesVisibility;\n\n      if (isBar || isBubble) {\n        userOptions = extend(true, {}, userCommonSettings, userCommonSettings[type], userOptions);\n        seriesVisibility = userOptions.visible;\n        userCommonSettings = {\n          type: {}\n        };\n        extend(true, userOptions, userOptions.point);\n        userOptions.visible = seriesVisibility;\n      }\n\n      settings = extend(true, {\n        aggregation: {}\n      }, themeCommonSettings, themeCommonSettings[type], userCommonSettings, userCommonSettings[type], userOptions);\n      settings.aggregation.enabled = \"chart\" === widgetType && normalizeAggregationEnabled(settings.aggregation, that.getOptions(\"useAggregation\"));\n      settings.type = type;\n      settings.widgetType = widgetType;\n      settings.containerBackgroundColor = containerBackgroundColor;\n\n      if (\"pie\" !== widgetType) {\n        mainSeriesColor = settings.color || palette.getNextColor(seriesCount);\n      } else {\n        mainSeriesColor = function mainSeriesColor(argument, index, count) {\n          var cat = \"\".concat(argument, \"-\").concat(index);\n\n          if (!that._multiPieColors[cat]) {\n            that._multiPieColors[cat] = palette.getNextColor(count);\n          }\n\n          return that._multiPieColors[cat];\n        };\n      }\n\n      settings.mainSeriesColor = mainSeriesColor;\n      settings.resolveLabelsOverlapping = resolveLabelsOverlapping;\n\n      if (settings.label && (isLine || isArea && \"rangearea\" !== type || \"scatter\" === type)) {\n        settings.label.position = \"outside\";\n      }\n\n      if (seriesTemplate) {\n        settings.nameField = seriesTemplate.nameField;\n      }\n\n      return settings;\n    },\n    animation: function animation(name) {\n      var userOptions = this._userOptions[name];\n      userOptions = typeUtils.isPlainObject(userOptions) ? userOptions : _isDefined(userOptions) ? {\n        enabled: !!userOptions\n      } : {};\n      return mergeOptions.call(this, name, userOptions);\n    },\n    seriesTemplate: function seriesTemplate() {\n      var value = mergeOptions.call(this, \"seriesTemplate\");\n\n      if (value) {\n        value.nameField = value.nameField || \"series\";\n      }\n\n      return value;\n    },\n    zoomAndPan: function zoomAndPan() {\n      function parseOption(option) {\n        option = _normalizeEnum(option);\n        var pan = \"pan\" === option || \"both\" === option;\n        var zoom = \"zoom\" === option || \"both\" === option;\n        return {\n          pan: pan,\n          zoom: zoom,\n          none: !pan && !zoom\n        };\n      }\n\n      var userOptions = this._userOptions.zoomAndPan;\n\n      if (!_isDefined(userOptions)) {\n        var zoomingMode = _normalizeEnum(this.getOptions(\"zoomingMode\"));\n\n        var scrollingMode = _normalizeEnum(this.getOptions(\"scrollingMode\"));\n\n        var allowZoom = [\"all\", \"mouse\", \"touch\"].indexOf(zoomingMode) !== -1;\n        var allowScroll = [\"all\", \"mouse\", \"touch\"].indexOf(scrollingMode) !== -1;\n        userOptions = {\n          argumentAxis: allowZoom && allowScroll ? \"both\" : allowZoom ? \"zoom\" : allowScroll ? \"pan\" : \"none\",\n          allowMouseWheel: \"all\" === zoomingMode || \"mouse\" === zoomingMode,\n          allowTouchGestures: \"all\" === zoomingMode || \"touch\" === zoomingMode || \"all\" === scrollingMode || \"touch\" === scrollingMode\n        };\n      }\n\n      var options = mergeOptions.call(this, \"zoomAndPan\", userOptions);\n      return {\n        valueAxis: parseOption(options.valueAxis),\n        argumentAxis: parseOption(options.argumentAxis),\n        dragToZoom: !!options.dragToZoom,\n        dragBoxStyle: {\n          \"class\": \"dxc-shutter\",\n          fill: options.dragBoxStyle.color,\n          opacity: options.dragBoxStyle.opacity\n        },\n        panKey: options.panKey,\n        allowMouseWheel: !!options.allowMouseWheel,\n        allowTouchGestures: !!options.allowTouchGestures\n      };\n    }\n  };\n\n  var normalizeAggregationEnabled = function normalizeAggregationEnabled(aggregation, useAggregation) {\n    return !!(!_isDefined(aggregation.enabled) ? useAggregation : aggregation.enabled);\n  };\n\n  return {\n    _themeSection: \"chart\",\n    ctor: ctor,\n    dispose: dispose,\n    resetPalette: resetPalette,\n    getOptions: function getOptions(name) {\n      return (applyParticularTheme[name] || applyParticularTheme.base).apply(this, arguments);\n    },\n    refresh: function refresh() {\n      this._mergedSettings = {};\n      return this.callBase.apply(this, arguments);\n    },\n    _initializeTheme: function _initializeTheme() {\n      var that = this;\n      that.callBase.apply(that, arguments);\n      that.updatePalette();\n    },\n    resetOptions: function resetOptions(name) {\n      this._mergedSettings[name] = null;\n    },\n    update: function update(options) {\n      this._userOptions = options;\n    },\n    updatePalette: function updatePalette() {\n      var that = this;\n      that.palette = that.createPalette(that.getOptions(\"palette\"), {\n        useHighlight: true,\n        extensionMode: that.getOptions(\"paletteExtensionMode\")\n      });\n    }\n  };\n}());\nexports.ThemeManager = ThemeManager;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/components/chart_theme_manager.js"],"names":["noop","require","typeUtils","extend","BaseThemeManager","_isString","_isDefined","_normalizeEnum","ThemeManager","ctor","that","options","params","dispose","resetPalette","processTitleOptions","text","processAxisOptions","axisOptions","applyParticularAxisOptions","theme","position","rotated","processedUserOptions","commonAxisSettings","mergeOptions","userOptions","result","applyParticularTheme","base","argumentAxis","valueAxisRangeSelector","valueAxis","series","userCommonSettings","themeCommonSettings","widgetType","type","palette","isBar","isLine","isArea","isBubble","resolveLabelsOverlapping","containerBackgroundColor","seriesTemplate","seriesVisibility","settings","aggregation","normalizeAggregationEnabled","mainSeriesColor","cat","animation","enabled","value","zoomAndPan","option","pan","zoom","none","zoomingMode","scrollingMode","allowZoom","allowScroll","allowMouseWheel","allowTouchGestures","parseOption","dragToZoom","dragBoxStyle","fill","opacity","panKey","_themeSection","getOptions","refresh","_initializeTheme","resetOptions","update","updatePalette","useHighlight","extensionMode","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/components/chart_theme_manager.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar BaseThemeManager = require(\"../core/base_theme_manager\").BaseThemeManager;\r\nvar _isString = typeUtils.isString;\r\nvar _isDefined = typeUtils.isDefined;\r\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\r\nvar ThemeManager = BaseThemeManager.inherit(function() {\r\n    var ctor = function(params) {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        var options = params.options || {};\r\n        that._userOptions = options;\r\n        that._mergeAxisTitleOptions = [];\r\n        that._multiPieColors = {};\r\n        that._callback = noop\r\n    };\r\n    var dispose = function() {\r\n        var that = this;\r\n        that.palette && that.palette.dispose();\r\n        that.palette = that._userOptions = that._mergedSettings = that._multiPieColors = null;\r\n        return that.callBase.apply(that, arguments)\r\n    };\r\n    var resetPalette = function() {\r\n        this.palette.reset();\r\n        this._multiPieColors = {}\r\n    };\r\n    var processTitleOptions = function(options) {\r\n        return _isString(options) ? {\r\n            text: options\r\n        } : options\r\n    };\r\n    var processAxisOptions = function(axisOptions) {\r\n        if (!axisOptions) {\r\n            return {}\r\n        }\r\n        axisOptions = extend(true, {}, axisOptions);\r\n        axisOptions.title = processTitleOptions(axisOptions.title);\r\n        if (\"logarithmic\" === axisOptions.type && axisOptions.logarithmBase <= 0 || axisOptions.logarithmBase && !typeUtils.isNumeric(axisOptions.logarithmBase)) {\r\n            axisOptions.logarithmBase = void 0;\r\n            axisOptions.logarithmBaseError = true\r\n        }\r\n        if (axisOptions.label) {\r\n            if (axisOptions.label.alignment) {\r\n                axisOptions.label.userAlignment = true\r\n            }\r\n        }\r\n        return axisOptions\r\n    };\r\n    var applyParticularAxisOptions = function(name, userOptions, rotated) {\r\n        var theme = this._theme;\r\n        var position = !(rotated ^ \"valueAxis\" === name) ? \"horizontalAxis\" : \"verticalAxis\";\r\n        var processedUserOptions = processAxisOptions(userOptions, name);\r\n        var commonAxisSettings = processAxisOptions(this._userOptions.commonAxisSettings, name);\r\n        var mergeOptions = extend(true, {}, theme.commonAxisSettings, theme[position], theme[name], commonAxisSettings, processedUserOptions);\r\n        mergeOptions.workWeek = processedUserOptions.workWeek || theme[name].workWeek;\r\n        mergeOptions.forceUserTickInterval |= _isDefined(processedUserOptions.tickInterval) && !_isDefined(processedUserOptions.axisDivisionFactor);\r\n        return mergeOptions\r\n    };\r\n    var mergeOptions = function(name, userOptions) {\r\n        userOptions = userOptions || this._userOptions[name];\r\n        var theme = this._theme[name];\r\n        var result = this._mergedSettings[name];\r\n        if (result) {\r\n            return result\r\n        }\r\n        if (typeUtils.isPlainObject(theme) && typeUtils.isPlainObject(userOptions)) {\r\n            result = extend(true, {}, theme, userOptions)\r\n        } else {\r\n            result = _isDefined(userOptions) ? userOptions : theme\r\n        }\r\n        this._mergedSettings[name] = result;\r\n        return result\r\n    };\r\n    var applyParticularTheme = {\r\n        base: mergeOptions,\r\n        argumentAxis: applyParticularAxisOptions,\r\n        valueAxisRangeSelector: function() {\r\n            return mergeOptions.call(this, \"valueAxis\")\r\n        },\r\n        valueAxis: applyParticularAxisOptions,\r\n        series: function(name, userOptions, seriesCount) {\r\n            var that = this;\r\n            var theme = that._theme;\r\n            var userCommonSettings = that._userOptions.commonSeriesSettings || {};\r\n            var themeCommonSettings = theme.commonSeriesSettings;\r\n            var widgetType = that._themeSection.split(\".\").slice(-1)[0];\r\n            var type = _normalizeEnum(userOptions.type || userCommonSettings.type || themeCommonSettings.type || \"pie\" === widgetType && theme.type);\r\n            var settings;\r\n            var palette = that.palette;\r\n            var isBar = ~type.indexOf(\"bar\");\r\n            var isLine = ~type.indexOf(\"line\");\r\n            var isArea = ~type.indexOf(\"area\");\r\n            var isBubble = \"bubble\" === type;\r\n            var mainSeriesColor;\r\n            var resolveLabelsOverlapping = that.getOptions(\"resolveLabelsOverlapping\");\r\n            var containerBackgroundColor = that.getOptions(\"containerBackgroundColor\");\r\n            var seriesTemplate = applyParticularTheme.seriesTemplate.call(this);\r\n            var seriesVisibility;\r\n            if (isBar || isBubble) {\r\n                userOptions = extend(true, {}, userCommonSettings, userCommonSettings[type], userOptions);\r\n                seriesVisibility = userOptions.visible;\r\n                userCommonSettings = {\r\n                    type: {}\r\n                };\r\n                extend(true, userOptions, userOptions.point);\r\n                userOptions.visible = seriesVisibility\r\n            }\r\n            settings = extend(true, {\r\n                aggregation: {}\r\n            }, themeCommonSettings, themeCommonSettings[type], userCommonSettings, userCommonSettings[type], userOptions);\r\n            settings.aggregation.enabled = \"chart\" === widgetType && normalizeAggregationEnabled(settings.aggregation, that.getOptions(\"useAggregation\"));\r\n            settings.type = type;\r\n            settings.widgetType = widgetType;\r\n            settings.containerBackgroundColor = containerBackgroundColor;\r\n            if (\"pie\" !== widgetType) {\r\n                mainSeriesColor = settings.color || palette.getNextColor(seriesCount)\r\n            } else {\r\n                mainSeriesColor = function(argument, index, count) {\r\n                    var cat = \"\".concat(argument, \"-\").concat(index);\r\n                    if (!that._multiPieColors[cat]) {\r\n                        that._multiPieColors[cat] = palette.getNextColor(count)\r\n                    }\r\n                    return that._multiPieColors[cat]\r\n                }\r\n            }\r\n            settings.mainSeriesColor = mainSeriesColor;\r\n            settings.resolveLabelsOverlapping = resolveLabelsOverlapping;\r\n            if (settings.label && (isLine || isArea && \"rangearea\" !== type || \"scatter\" === type)) {\r\n                settings.label.position = \"outside\"\r\n            }\r\n            if (seriesTemplate) {\r\n                settings.nameField = seriesTemplate.nameField\r\n            }\r\n            return settings\r\n        },\r\n        animation: function(name) {\r\n            var userOptions = this._userOptions[name];\r\n            userOptions = typeUtils.isPlainObject(userOptions) ? userOptions : _isDefined(userOptions) ? {\r\n                enabled: !!userOptions\r\n            } : {};\r\n            return mergeOptions.call(this, name, userOptions)\r\n        },\r\n        seriesTemplate: function() {\r\n            var value = mergeOptions.call(this, \"seriesTemplate\");\r\n            if (value) {\r\n                value.nameField = value.nameField || \"series\"\r\n            }\r\n            return value\r\n        },\r\n        zoomAndPan: function() {\r\n            function parseOption(option) {\r\n                option = _normalizeEnum(option);\r\n                var pan = \"pan\" === option || \"both\" === option;\r\n                var zoom = \"zoom\" === option || \"both\" === option;\r\n                return {\r\n                    pan: pan,\r\n                    zoom: zoom,\r\n                    none: !pan && !zoom\r\n                }\r\n            }\r\n            var userOptions = this._userOptions.zoomAndPan;\r\n            if (!_isDefined(userOptions)) {\r\n                var zoomingMode = _normalizeEnum(this.getOptions(\"zoomingMode\"));\r\n                var scrollingMode = _normalizeEnum(this.getOptions(\"scrollingMode\"));\r\n                var allowZoom = [\"all\", \"mouse\", \"touch\"].indexOf(zoomingMode) !== -1;\r\n                var allowScroll = [\"all\", \"mouse\", \"touch\"].indexOf(scrollingMode) !== -1;\r\n                userOptions = {\r\n                    argumentAxis: allowZoom && allowScroll ? \"both\" : allowZoom ? \"zoom\" : allowScroll ? \"pan\" : \"none\",\r\n                    allowMouseWheel: \"all\" === zoomingMode || \"mouse\" === zoomingMode,\r\n                    allowTouchGestures: \"all\" === zoomingMode || \"touch\" === zoomingMode || \"all\" === scrollingMode || \"touch\" === scrollingMode\r\n                }\r\n            }\r\n            var options = mergeOptions.call(this, \"zoomAndPan\", userOptions);\r\n            return {\r\n                valueAxis: parseOption(options.valueAxis),\r\n                argumentAxis: parseOption(options.argumentAxis),\r\n                dragToZoom: !!options.dragToZoom,\r\n                dragBoxStyle: {\r\n                    \"class\": \"dxc-shutter\",\r\n                    fill: options.dragBoxStyle.color,\r\n                    opacity: options.dragBoxStyle.opacity\r\n                },\r\n                panKey: options.panKey,\r\n                allowMouseWheel: !!options.allowMouseWheel,\r\n                allowTouchGestures: !!options.allowTouchGestures\r\n            }\r\n        }\r\n    };\r\n    var normalizeAggregationEnabled = function(aggregation, useAggregation) {\r\n        return !!(!_isDefined(aggregation.enabled) ? useAggregation : aggregation.enabled)\r\n    };\r\n    return {\r\n        _themeSection: \"chart\",\r\n        ctor: ctor,\r\n        dispose: dispose,\r\n        resetPalette: resetPalette,\r\n        getOptions: function(name) {\r\n            return (applyParticularTheme[name] || applyParticularTheme.base).apply(this, arguments)\r\n        },\r\n        refresh: function() {\r\n            this._mergedSettings = {};\r\n            return this.callBase.apply(this, arguments)\r\n        },\r\n        _initializeTheme: function() {\r\n            var that = this;\r\n            that.callBase.apply(that, arguments);\r\n            that.updatePalette()\r\n        },\r\n        resetOptions: function(name) {\r\n            this._mergedSettings[name] = null\r\n        },\r\n        update: function(options) {\r\n            this._userOptions = options\r\n        },\r\n        updatePalette: function() {\r\n            var that = this;\r\n            that.palette = that.createPalette(that.getOptions(\"palette\"), {\r\n                useHighlight: true,\r\n                extensionMode: that.getOptions(\"paletteExtensionMode\")\r\n            })\r\n        }\r\n    }\r\n}());\r\nexports.ThemeManager = ThemeManager;\r\n"]},"metadata":{},"sourceType":"module"}