{"ast":null,"code":"/**\r\n * DevExtreme (viz/series/points/bar_point.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar extend = require(\"../../../core/utils/extend\").extend;\n\nvar _extend = extend;\nvar _math = Math;\nvar _floor = _math.floor;\nvar _abs = _math.abs;\n\nvar symbolPoint = require(\"./symbol_point\");\n\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\nvar DEFAULT_BAR_TRACKER_SIZE = 9;\nvar CORRECTING_BAR_TRACKER_VALUE = 4;\nvar RIGHT = \"right\";\nvar LEFT = \"left\";\nvar TOP = \"top\";\nvar BOTTOM = \"bottom\";\nmodule.exports = _extend({}, symbolPoint, {\n  correctCoordinates: function correctCoordinates(correctOptions) {\n    var that = this;\n\n    var correction = _floor(correctOptions.offset - correctOptions.width / 2);\n\n    if (that._options.rotated) {\n      that.height = correctOptions.width;\n      that.yCorrection = correction;\n      that.xCorrection = null;\n    } else {\n      that.width = correctOptions.width;\n      that.xCorrection = correction;\n      that.yCorrection = null;\n    }\n  },\n  _getGraphicBBox: function _getGraphicBBox() {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n  },\n  _getLabelConnector: function _getLabelConnector(location) {\n    return this._getGraphicBBox(location);\n  },\n  _getLabelPosition: function _getLabelPosition() {\n    var that = this;\n    var position;\n    var initialValue = that.initialValue;\n\n    var invert = that._getValTranslator().getBusinessRange().invert;\n\n    var isDiscreteValue = \"discrete\" === that.series.valueAxisType;\n    var isFullStacked = that.series.isFullStackedSeries();\n    var notAxisInverted = !isDiscreteValue && (initialValue >= 0 && !invert || initialValue < 0 && invert) || isDiscreteValue && !invert || isFullStacked;\n\n    if (!that._options.rotated) {\n      position = notAxisInverted ? TOP : BOTTOM;\n    } else {\n      position = notAxisInverted ? RIGHT : LEFT;\n    }\n\n    return position;\n  },\n  _getLabelCoords: function _getLabelCoords(label) {\n    var that = this;\n    var coords;\n\n    if (0 === that.initialValue && that.series.isFullStackedSeries()) {\n      if (!this._options.rotated) {\n        coords = that._getLabelCoordOfPosition(label, TOP);\n      } else {\n        coords = that._getLabelCoordOfPosition(label, RIGHT);\n      }\n    } else {\n      if (\"inside\" === label.getLayoutOptions().position) {\n        coords = that._getLabelCoordOfPosition(label, \"inside\");\n      } else {\n        coords = symbolPoint._getLabelCoords.call(this, label);\n      }\n    }\n\n    return coords;\n  },\n  _checkLabelPosition: function _checkLabelPosition(label, coord) {\n    var that = this;\n\n    var visibleArea = that._getVisibleArea();\n\n    if (that._isPointInVisibleArea(visibleArea, that._getGraphicBBox())) {\n      return that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect());\n    }\n\n    return coord;\n  },\n  hideInsideLabel: function hideInsideLabel(label, coord) {\n    var graphicBBox = this._getGraphicBBox();\n\n    var labelBBox = label.getBoundingRect();\n\n    if (this._options.resolveLabelsOverlapping) {\n      if ((coord.y <= graphicBBox.y && coord.y + labelBBox.height >= graphicBBox.y + graphicBBox.height || coord.x <= graphicBBox.x && coord.x + labelBBox.width >= graphicBBox.x + graphicBBox.width) && !(coord.y > graphicBBox.y + graphicBBox.height || coord.y + labelBBox.height < graphicBBox.y || coord.x > graphicBBox.x + graphicBBox.width || coord.x + labelBBox.width < graphicBBox.x)) {\n        label.draw(false);\n        return true;\n      }\n    }\n\n    return false;\n  },\n  _moveLabelOnCanvas: function _moveLabelOnCanvas(coord, visibleArea, labelBBox) {\n    var x = coord.x;\n    var y = coord.y;\n\n    if (visibleArea.minX > x) {\n      x = visibleArea.minX;\n    }\n\n    if (visibleArea.maxX < x + labelBBox.width) {\n      x = visibleArea.maxX - labelBBox.width;\n    }\n\n    if (visibleArea.minY > y) {\n      y = visibleArea.minY;\n    }\n\n    if (visibleArea.maxY < y + labelBBox.height) {\n      y = visibleArea.maxY - labelBBox.height;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  },\n  _showForZeroValues: function _showForZeroValues() {\n    return this._options.label.showForZeroValues || this.initialValue;\n  },\n  _drawMarker: function _drawMarker(renderer, group, animationEnabled) {\n    var that = this;\n\n    var style = that._getStyle();\n\n    var r = that._options.cornerRadius;\n    var rotated = that._options.rotated;\n\n    var _that$getMarkerCoords = that.getMarkerCoords(),\n        x = _that$getMarkerCoords.x,\n        y = _that$getMarkerCoords.y,\n        width = _that$getMarkerCoords.width,\n        height = _that$getMarkerCoords.height;\n\n    if (animationEnabled) {\n      if (rotated) {\n        width = 0;\n        x = that.defaultX;\n      } else {\n        height = 0;\n        y = that.defaultY;\n      }\n    }\n\n    that.graphic = renderer.rect(x, y, width, height).attr({\n      rx: r,\n      ry: r\n    }).smartAttr(style).data({\n      \"chart-data-point\": that\n    }).append(group);\n  },\n  _getSettingsForTracker: function _getSettingsForTracker() {\n    var that = this;\n    var y = that.y;\n    var height = that.height;\n    var x = that.x;\n    var width = that.width;\n\n    if (that._options.rotated) {\n      if (1 === width) {\n        width = DEFAULT_BAR_TRACKER_SIZE;\n        x -= CORRECTING_BAR_TRACKER_VALUE;\n      }\n    } else {\n      if (1 === height) {\n        height = DEFAULT_BAR_TRACKER_SIZE;\n        y -= CORRECTING_BAR_TRACKER_VALUE;\n      }\n    }\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  },\n  getGraphicSettings: function getGraphicSettings() {\n    var graphic = this.graphic;\n    return {\n      x: graphic.attr(\"x\"),\n      y: graphic.attr(\"y\"),\n      height: graphic.attr(\"height\"),\n      width: graphic.attr(\"width\")\n    };\n  },\n  _getEdgeTooltipParams: function _getEdgeTooltipParams() {\n    var isPositive = this.value >= 0;\n    var xCoord;\n    var yCoord;\n\n    var invertedBusinessRange = this._getValTranslator().getBusinessRange().invert;\n\n    var x = this.x,\n        y = this.y,\n        width = this.width,\n        height = this.height;\n\n    if (this._options.rotated) {\n      yCoord = y + height / 2;\n\n      if (invertedBusinessRange) {\n        xCoord = isPositive ? x : x + width;\n      } else {\n        xCoord = isPositive ? x + width : x;\n      }\n    } else {\n      xCoord = x + width / 2;\n\n      if (invertedBusinessRange) {\n        yCoord = isPositive ? y + height : y;\n      } else {\n        yCoord = isPositive ? y : y + height;\n      }\n    }\n\n    return {\n      x: xCoord,\n      y: yCoord,\n      offset: 0\n    };\n  },\n  getTooltipParams: function getTooltipParams(location) {\n    if (\"edge\" === location) {\n      return this._getEdgeTooltipParams();\n    }\n\n    var center = this.getCenterCoord();\n    center.offset = 0;\n    return center;\n  },\n  getCenterCoord: function getCenterCoord() {\n    var width = this.width,\n        height = this.height,\n        x = this.x,\n        y = this.y;\n    return {\n      x: x + width / 2,\n      y: y + height / 2\n    };\n  },\n  _truncateCoord: function _truncateCoord(coord, minBounce, maxBounce) {\n    if (null === coord) {\n      return coord;\n    }\n\n    if (coord < minBounce) {\n      return minBounce;\n    }\n\n    if (coord > maxBounce) {\n      return maxBounce;\n    }\n\n    return coord;\n  },\n  _getErrorBarBaseEdgeLength: function _getErrorBarBaseEdgeLength() {\n    return this._options.rotated ? this.height : this.width;\n  },\n  _translateErrorBars: function _translateErrorBars(argVisibleArea) {\n    symbolPoint._translateErrorBars.call(this);\n\n    if (this._errorBarPos < argVisibleArea[0] || this._errorBarPos > argVisibleArea[1]) {\n      this._errorBarPos = void 0;\n    }\n  },\n  _translate: function _translate() {\n    var that = this;\n    var rotated = that._options.rotated;\n    var valAxis = rotated ? \"x\" : \"y\";\n    var argAxis = rotated ? \"y\" : \"x\";\n    var valIntervalName = rotated ? \"width\" : \"height\";\n    var argIntervalName = rotated ? \"height\" : \"width\";\n\n    var argTranslator = that._getArgTranslator();\n\n    var valTranslator = that._getValTranslator();\n\n    var argVisibleArea = that.series.getArgumentAxis().getVisibleArea();\n    var valVisibleArea = that.series.getValueAxis().getVisibleArea();\n    var arg;\n    var val;\n    var minVal;\n    arg = argTranslator.translate(that.argument);\n    that[argAxis] = arg = null === arg ? arg : arg + (that[argAxis + \"Correction\"] || 0);\n    val = valTranslator.translate(that.value, 1);\n    minVal = valTranslator.translate(that.minValue);\n    that[\"v\" + valAxis] = val;\n    that[\"v\" + argAxis] = arg + that[argIntervalName] / 2;\n    val = that._truncateCoord(val, valVisibleArea[0], valVisibleArea[1]);\n    minVal = that._truncateCoord(minVal, valVisibleArea[0], valVisibleArea[1]);\n    that[valIntervalName] = _abs(val - minVal);\n    val = val < minVal ? val : minVal;\n\n    that._calculateVisibility(rotated ? val : arg, rotated ? arg : val, that.width, that.height);\n\n    that[valAxis] = null === val ? val : val + (that[valAxis + \"Correction\"] || 0);\n    that[\"min\" + valAxis.toUpperCase()] = null === minVal ? minVal : minVal + (that[valAxis + \"Correction\"] || 0);\n    that[\"default\" + valAxis.toUpperCase()] = valTranslator.translate(CANVAS_POSITION_DEFAULT);\n\n    that._translateErrorBars(argVisibleArea);\n\n    if (that.inVisibleArea && null !== that[argAxis]) {\n      if (that[argAxis] < argVisibleArea[0]) {\n        that[argIntervalName] = that[argIntervalName] - (argVisibleArea[0] - that[argAxis]);\n        that[argAxis] = argVisibleArea[0];\n      }\n\n      if (that[argAxis] + that[argIntervalName] > argVisibleArea[1]) {\n        that[argIntervalName] = argVisibleArea[1] - that[argAxis];\n      }\n    }\n  },\n  _updateMarker: function _updateMarker(animationEnabled, style) {\n    this.graphic.smartAttr(_extend({}, style, !animationEnabled ? this.getMarkerCoords() : {}));\n  },\n  getMarkerCoords: function getMarkerCoords() {\n    var that = this;\n    var x = that.x;\n    var y = that.y;\n    var width = that.width;\n    var height = that.height;\n    var argAxis = that.series.getArgumentAxis();\n    var rotated = that._options.rotated;\n\n    if (argAxis.getAxisPosition) {\n      var axisOptions = argAxis.getOptions();\n      var edgeOffset = Math.round(axisOptions.width / 2);\n      var argAxisPosition = argAxis.getAxisPosition();\n\n      if (axisOptions.visible) {\n        if (!rotated) {\n          height -= that.minY === that.defaultY && that.minY === argAxisPosition - argAxis.getAxisShift() ? edgeOffset : 0;\n          height < 0 && (height = 0);\n        } else {\n          var isStartFromAxis = that.minX === that.defaultX && that.minX === argAxisPosition - argAxis.getAxisShift();\n          x += isStartFromAxis ? edgeOffset : 0;\n          width -= isStartFromAxis ? edgeOffset : 0;\n          width < 0 && (width = 0);\n        }\n      }\n    }\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  },\n  coordsIn: function coordsIn(x, y) {\n    var that = this;\n    return x >= that.x && x <= that.x + that.width && y >= that.y && y <= that.y + that.height;\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/series/points/bar_point.js"],"names":["extend","require","_extend","_math","_floor","_abs","symbolPoint","CANVAS_POSITION_DEFAULT","DEFAULT_BAR_TRACKER_SIZE","CORRECTING_BAR_TRACKER_VALUE","RIGHT","LEFT","TOP","BOTTOM","module","correctCoordinates","that","correction","correctOptions","_getGraphicBBox","x","y","width","height","_getLabelConnector","_getLabelPosition","initialValue","invert","isDiscreteValue","isFullStacked","notAxisInverted","position","_getLabelCoords","coords","label","_checkLabelPosition","visibleArea","hideInsideLabel","graphicBBox","labelBBox","coord","_moveLabelOnCanvas","_showForZeroValues","_drawMarker","style","r","rotated","_that$getMarkerCoords","rx","ry","_getSettingsForTracker","getGraphicSettings","graphic","_getEdgeTooltipParams","isPositive","invertedBusinessRange","yCoord","xCoord","offset","getTooltipParams","center","getCenterCoord","_truncateCoord","_getErrorBarBaseEdgeLength","_translateErrorBars","argVisibleArea","_translate","valAxis","argAxis","valIntervalName","argIntervalName","argTranslator","valTranslator","valVisibleArea","arg","val","minVal","_updateMarker","getMarkerCoords","axisOptions","edgeOffset","Math","argAxisPosition","isStartFromAxis","coordsIn"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/series/points/bar_point.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar extend = require(\"../../../core/utils/extend\").extend;\r\nvar _extend = extend;\r\nvar _math = Math;\r\nvar _floor = _math.floor;\r\nvar _abs = _math.abs;\r\nvar symbolPoint = require(\"./symbol_point\");\r\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\r\nvar DEFAULT_BAR_TRACKER_SIZE = 9;\r\nvar CORRECTING_BAR_TRACKER_VALUE = 4;\r\nvar RIGHT = \"right\";\r\nvar LEFT = \"left\";\r\nvar TOP = \"top\";\r\nvar BOTTOM = \"bottom\";\r\nmodule.exports = _extend({}, symbolPoint, {\r\n    correctCoordinates: function(correctOptions) {\r\n        var that = this;\r\n        var correction = _floor(correctOptions.offset - correctOptions.width / 2);\r\n        if (that._options.rotated) {\r\n            that.height = correctOptions.width;\r\n            that.yCorrection = correction;\r\n            that.xCorrection = null\r\n        } else {\r\n            that.width = correctOptions.width;\r\n            that.xCorrection = correction;\r\n            that.yCorrection = null\r\n        }\r\n    },\r\n    _getGraphicBBox: function() {\r\n        return {\r\n            x: this.x,\r\n            y: this.y,\r\n            width: this.width,\r\n            height: this.height\r\n        }\r\n    },\r\n    _getLabelConnector: function(location) {\r\n        return this._getGraphicBBox(location)\r\n    },\r\n    _getLabelPosition: function() {\r\n        var that = this;\r\n        var position;\r\n        var initialValue = that.initialValue;\r\n        var invert = that._getValTranslator().getBusinessRange().invert;\r\n        var isDiscreteValue = \"discrete\" === that.series.valueAxisType;\r\n        var isFullStacked = that.series.isFullStackedSeries();\r\n        var notAxisInverted = !isDiscreteValue && (initialValue >= 0 && !invert || initialValue < 0 && invert) || isDiscreteValue && !invert || isFullStacked;\r\n        if (!that._options.rotated) {\r\n            position = notAxisInverted ? TOP : BOTTOM\r\n        } else {\r\n            position = notAxisInverted ? RIGHT : LEFT\r\n        }\r\n        return position\r\n    },\r\n    _getLabelCoords: function(label) {\r\n        var that = this;\r\n        var coords;\r\n        if (0 === that.initialValue && that.series.isFullStackedSeries()) {\r\n            if (!this._options.rotated) {\r\n                coords = that._getLabelCoordOfPosition(label, TOP)\r\n            } else {\r\n                coords = that._getLabelCoordOfPosition(label, RIGHT)\r\n            }\r\n        } else {\r\n            if (\"inside\" === label.getLayoutOptions().position) {\r\n                coords = that._getLabelCoordOfPosition(label, \"inside\")\r\n            } else {\r\n                coords = symbolPoint._getLabelCoords.call(this, label)\r\n            }\r\n        }\r\n        return coords\r\n    },\r\n    _checkLabelPosition: function(label, coord) {\r\n        var that = this;\r\n        var visibleArea = that._getVisibleArea();\r\n        if (that._isPointInVisibleArea(visibleArea, that._getGraphicBBox())) {\r\n            return that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect())\r\n        }\r\n        return coord\r\n    },\r\n    hideInsideLabel: function(label, coord) {\r\n        var graphicBBox = this._getGraphicBBox();\r\n        var labelBBox = label.getBoundingRect();\r\n        if (this._options.resolveLabelsOverlapping) {\r\n            if ((coord.y <= graphicBBox.y && coord.y + labelBBox.height >= graphicBBox.y + graphicBBox.height || coord.x <= graphicBBox.x && coord.x + labelBBox.width >= graphicBBox.x + graphicBBox.width) && !(coord.y > graphicBBox.y + graphicBBox.height || coord.y + labelBBox.height < graphicBBox.y || coord.x > graphicBBox.x + graphicBBox.width || coord.x + labelBBox.width < graphicBBox.x)) {\r\n                label.draw(false);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _moveLabelOnCanvas: function(coord, visibleArea, labelBBox) {\r\n        var x = coord.x;\r\n        var y = coord.y;\r\n        if (visibleArea.minX > x) {\r\n            x = visibleArea.minX\r\n        }\r\n        if (visibleArea.maxX < x + labelBBox.width) {\r\n            x = visibleArea.maxX - labelBBox.width\r\n        }\r\n        if (visibleArea.minY > y) {\r\n            y = visibleArea.minY\r\n        }\r\n        if (visibleArea.maxY < y + labelBBox.height) {\r\n            y = visibleArea.maxY - labelBBox.height\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y\r\n        }\r\n    },\r\n    _showForZeroValues: function() {\r\n        return this._options.label.showForZeroValues || this.initialValue\r\n    },\r\n    _drawMarker: function(renderer, group, animationEnabled) {\r\n        var that = this;\r\n        var style = that._getStyle();\r\n        var r = that._options.cornerRadius;\r\n        var rotated = that._options.rotated;\r\n        var _that$getMarkerCoords = that.getMarkerCoords(),\r\n            x = _that$getMarkerCoords.x,\r\n            y = _that$getMarkerCoords.y,\r\n            width = _that$getMarkerCoords.width,\r\n            height = _that$getMarkerCoords.height;\r\n        if (animationEnabled) {\r\n            if (rotated) {\r\n                width = 0;\r\n                x = that.defaultX\r\n            } else {\r\n                height = 0;\r\n                y = that.defaultY\r\n            }\r\n        }\r\n        that.graphic = renderer.rect(x, y, width, height).attr({\r\n            rx: r,\r\n            ry: r\r\n        }).smartAttr(style).data({\r\n            \"chart-data-point\": that\r\n        }).append(group)\r\n    },\r\n    _getSettingsForTracker: function() {\r\n        var that = this;\r\n        var y = that.y;\r\n        var height = that.height;\r\n        var x = that.x;\r\n        var width = that.width;\r\n        if (that._options.rotated) {\r\n            if (1 === width) {\r\n                width = DEFAULT_BAR_TRACKER_SIZE;\r\n                x -= CORRECTING_BAR_TRACKER_VALUE\r\n            }\r\n        } else {\r\n            if (1 === height) {\r\n                height = DEFAULT_BAR_TRACKER_SIZE;\r\n                y -= CORRECTING_BAR_TRACKER_VALUE\r\n            }\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height\r\n        }\r\n    },\r\n    getGraphicSettings: function() {\r\n        var graphic = this.graphic;\r\n        return {\r\n            x: graphic.attr(\"x\"),\r\n            y: graphic.attr(\"y\"),\r\n            height: graphic.attr(\"height\"),\r\n            width: graphic.attr(\"width\")\r\n        }\r\n    },\r\n    _getEdgeTooltipParams: function() {\r\n        var isPositive = this.value >= 0;\r\n        var xCoord;\r\n        var yCoord;\r\n        var invertedBusinessRange = this._getValTranslator().getBusinessRange().invert;\r\n        var x = this.x,\r\n            y = this.y,\r\n            width = this.width,\r\n            height = this.height;\r\n        if (this._options.rotated) {\r\n            yCoord = y + height / 2;\r\n            if (invertedBusinessRange) {\r\n                xCoord = isPositive ? x : x + width\r\n            } else {\r\n                xCoord = isPositive ? x + width : x\r\n            }\r\n        } else {\r\n            xCoord = x + width / 2;\r\n            if (invertedBusinessRange) {\r\n                yCoord = isPositive ? y + height : y\r\n            } else {\r\n                yCoord = isPositive ? y : y + height\r\n            }\r\n        }\r\n        return {\r\n            x: xCoord,\r\n            y: yCoord,\r\n            offset: 0\r\n        }\r\n    },\r\n    getTooltipParams: function(location) {\r\n        if (\"edge\" === location) {\r\n            return this._getEdgeTooltipParams()\r\n        }\r\n        var center = this.getCenterCoord();\r\n        center.offset = 0;\r\n        return center\r\n    },\r\n    getCenterCoord: function() {\r\n        var width = this.width,\r\n            height = this.height,\r\n            x = this.x,\r\n            y = this.y;\r\n        return {\r\n            x: x + width / 2,\r\n            y: y + height / 2\r\n        }\r\n    },\r\n    _truncateCoord: function(coord, minBounce, maxBounce) {\r\n        if (null === coord) {\r\n            return coord\r\n        }\r\n        if (coord < minBounce) {\r\n            return minBounce\r\n        }\r\n        if (coord > maxBounce) {\r\n            return maxBounce\r\n        }\r\n        return coord\r\n    },\r\n    _getErrorBarBaseEdgeLength: function() {\r\n        return this._options.rotated ? this.height : this.width\r\n    },\r\n    _translateErrorBars: function(argVisibleArea) {\r\n        symbolPoint._translateErrorBars.call(this);\r\n        if (this._errorBarPos < argVisibleArea[0] || this._errorBarPos > argVisibleArea[1]) {\r\n            this._errorBarPos = void 0\r\n        }\r\n    },\r\n    _translate: function() {\r\n        var that = this;\r\n        var rotated = that._options.rotated;\r\n        var valAxis = rotated ? \"x\" : \"y\";\r\n        var argAxis = rotated ? \"y\" : \"x\";\r\n        var valIntervalName = rotated ? \"width\" : \"height\";\r\n        var argIntervalName = rotated ? \"height\" : \"width\";\r\n        var argTranslator = that._getArgTranslator();\r\n        var valTranslator = that._getValTranslator();\r\n        var argVisibleArea = that.series.getArgumentAxis().getVisibleArea();\r\n        var valVisibleArea = that.series.getValueAxis().getVisibleArea();\r\n        var arg;\r\n        var val;\r\n        var minVal;\r\n        arg = argTranslator.translate(that.argument);\r\n        that[argAxis] = arg = null === arg ? arg : arg + (that[argAxis + \"Correction\"] || 0);\r\n        val = valTranslator.translate(that.value, 1);\r\n        minVal = valTranslator.translate(that.minValue);\r\n        that[\"v\" + valAxis] = val;\r\n        that[\"v\" + argAxis] = arg + that[argIntervalName] / 2;\r\n        val = that._truncateCoord(val, valVisibleArea[0], valVisibleArea[1]);\r\n        minVal = that._truncateCoord(minVal, valVisibleArea[0], valVisibleArea[1]);\r\n        that[valIntervalName] = _abs(val - minVal);\r\n        val = val < minVal ? val : minVal;\r\n        that._calculateVisibility(rotated ? val : arg, rotated ? arg : val, that.width, that.height);\r\n        that[valAxis] = null === val ? val : val + (that[valAxis + \"Correction\"] || 0);\r\n        that[\"min\" + valAxis.toUpperCase()] = null === minVal ? minVal : minVal + (that[valAxis + \"Correction\"] || 0);\r\n        that[\"default\" + valAxis.toUpperCase()] = valTranslator.translate(CANVAS_POSITION_DEFAULT);\r\n        that._translateErrorBars(argVisibleArea);\r\n        if (that.inVisibleArea && null !== that[argAxis]) {\r\n            if (that[argAxis] < argVisibleArea[0]) {\r\n                that[argIntervalName] = that[argIntervalName] - (argVisibleArea[0] - that[argAxis]);\r\n                that[argAxis] = argVisibleArea[0]\r\n            }\r\n            if (that[argAxis] + that[argIntervalName] > argVisibleArea[1]) {\r\n                that[argIntervalName] = argVisibleArea[1] - that[argAxis]\r\n            }\r\n        }\r\n    },\r\n    _updateMarker: function(animationEnabled, style) {\r\n        this.graphic.smartAttr(_extend({}, style, !animationEnabled ? this.getMarkerCoords() : {}))\r\n    },\r\n    getMarkerCoords: function() {\r\n        var that = this;\r\n        var x = that.x;\r\n        var y = that.y;\r\n        var width = that.width;\r\n        var height = that.height;\r\n        var argAxis = that.series.getArgumentAxis();\r\n        var rotated = that._options.rotated;\r\n        if (argAxis.getAxisPosition) {\r\n            var axisOptions = argAxis.getOptions();\r\n            var edgeOffset = Math.round(axisOptions.width / 2);\r\n            var argAxisPosition = argAxis.getAxisPosition();\r\n            if (axisOptions.visible) {\r\n                if (!rotated) {\r\n                    height -= that.minY === that.defaultY && that.minY === argAxisPosition - argAxis.getAxisShift() ? edgeOffset : 0;\r\n                    height < 0 && (height = 0)\r\n                } else {\r\n                    var isStartFromAxis = that.minX === that.defaultX && that.minX === argAxisPosition - argAxis.getAxisShift();\r\n                    x += isStartFromAxis ? edgeOffset : 0;\r\n                    width -= isStartFromAxis ? edgeOffset : 0;\r\n                    width < 0 && (width = 0)\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height\r\n        }\r\n    },\r\n    coordsIn: function(x, y) {\r\n        var that = this;\r\n        return x >= that.x && x <= that.x + that.width && y >= that.y && y <= that.y + that.height\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}