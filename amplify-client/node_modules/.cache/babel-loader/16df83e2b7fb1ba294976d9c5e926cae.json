{"ast":null,"code":"/**\r\n * DevExtreme (ui/pivot_grid/ui.pivot_grid.headers_area.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _array = require(\"../../core/utils/array\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _uiPivot_grid = require(\"./ui.pivot_grid.area_item\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar PIVOTGRID_AREA_CLASS = \"dx-pivotgrid-area\";\nvar PIVOTGRID_AREA_COLUMN_CLASS = \"dx-pivotgrid-horizontal-headers\";\nvar PIVOTGRID_AREA_ROW_CLASS = \"dx-pivotgrid-vertical-headers\";\nvar PIVOTGRID_TOTAL_CLASS = \"dx-total\";\nvar PIVOTGRID_GRAND_TOTAL_CLASS = \"dx-grandtotal\";\nvar PIVOTGRID_ROW_TOTAL_CLASS = \"dx-row-total\";\nvar PIVOTGRID_EXPANDED_CLASS = \"dx-pivotgrid-expanded\";\nvar PIVOTGRID_COLLAPSED_CLASS = \"dx-pivotgrid-collapsed\";\nvar PIVOTGRID_LAST_CELL_CLASS = \"dx-last-cell\";\nvar PIVOTGRID_VERTICAL_SCROLL_CLASS = \"dx-vertical-scroll\";\nvar PIVOTGRID_EXPAND_BORDER = \"dx-expand-border\";\n\nfunction getCellPath(tableElement, cell) {\n  if (cell) {\n    var data = tableElement.data().data;\n    var rowIndex = cell.parentNode.rowIndex;\n    var cellIndex = cell.cellIndex;\n    return data[rowIndex] && data[rowIndex][cellIndex] && data[rowIndex][cellIndex].path;\n  }\n}\n\nexports.HorizontalHeadersArea = _uiPivot_grid.AreaItem.inherit({\n  _getAreaName: function _getAreaName() {\n    return \"column\";\n  },\n  _getAreaClassName: function _getAreaClassName() {\n    return PIVOTGRID_AREA_COLUMN_CLASS;\n  },\n  _createGroupElement: function _createGroupElement() {\n    return (0, _renderer2.default)(\"<div>\").addClass(this._getAreaClassName()).addClass(PIVOTGRID_AREA_CLASS);\n  },\n  _applyCustomStyles: function _applyCustomStyles(options) {\n    var cssArray = options.cssArray;\n    var cell = options.cell;\n    var rowsCount = options.rowsCount;\n    var classArray = options.classArray;\n\n    if (options.cellIndex === options.cellsCount - 1) {\n      cssArray.push((options.rtlEnabled ? \"border-left:\" : \"border-right:\") + \"0px\");\n    }\n\n    if (cell.rowspan === rowsCount - options.rowIndex || options.rowIndex + 1 === rowsCount) {\n      cssArray.push(\"border-bottom-width:0px\");\n    }\n\n    if (\"T\" === cell.type || \"GT\" === cell.type) {\n      classArray.push(PIVOTGRID_ROW_TOTAL_CLASS);\n    }\n\n    if (\"T\" === options.cell.type) {\n      classArray.push(PIVOTGRID_TOTAL_CLASS);\n    }\n\n    if (\"GT\" === options.cell.type) {\n      classArray.push(PIVOTGRID_GRAND_TOTAL_CLASS);\n    }\n\n    if ((0, _type.isDefined)(cell.expanded)) {\n      classArray.push(cell.expanded ? PIVOTGRID_EXPANDED_CLASS : PIVOTGRID_COLLAPSED_CLASS);\n    }\n\n    this.callBase(options);\n  },\n  _getMainElementMarkup: function _getMainElementMarkup() {\n    return \"<thead class='\" + this._getAreaClassName() + \"'>\";\n  },\n  _getCloseMainElementMarkup: function _getCloseMainElementMarkup() {\n    return \"</thead>\";\n  },\n  setVirtualContentParams: function setVirtualContentParams(params) {\n    this.callBase(params);\n\n    this._setTableCss({\n      left: params.left,\n      top: 0\n    });\n\n    this._virtualContentWidth = params.width;\n  },\n  hasScroll: function hasScroll() {\n    var tableWidth = this._virtualContent ? this._virtualContentWidth : this._tableWidth;\n\n    if (this._groupWidth && tableWidth) {\n      return tableWidth - this._groupWidth >= 1;\n    }\n\n    return false;\n  },\n  processScroll: function processScroll() {\n    if (!this._getScrollable()) {\n      this._groupElement.dxScrollable({\n        useNative: false,\n        useSimulatedScrollbar: false,\n        showScrollbar: false,\n        bounceEnabled: false,\n        direction: \"horizontal\",\n        updateManually: true\n      });\n    }\n  },\n  processScrollBarSpacing: function processScrollBarSpacing(scrollBarWidth) {\n    var that = this;\n    var groupAlignment = that.option(\"rtlEnabled\") ? \"right\" : \"left\";\n\n    if (that._groupWidth) {\n      that.groupWidth(that._groupWidth - scrollBarWidth);\n    }\n\n    if (that._scrollBarWidth) {\n      that._groupElement.next().remove();\n    }\n\n    that._groupElement.toggleClass(PIVOTGRID_VERTICAL_SCROLL_CLASS, scrollBarWidth > 0);\n\n    that._groupElement.css(\"float\", groupAlignment).width(that._groupHeight);\n\n    that._scrollBarWidth = scrollBarWidth;\n  },\n  ctor: function ctor(component) {\n    this.callBase(component);\n    this._scrollBarWidth = 0;\n  },\n  getScrollPath: function getScrollPath(offset) {\n    var tableElement = this.tableElement();\n    var cell;\n    offset -= parseInt(tableElement[0].style.left, 10) || 0;\n    (0, _iterator.each)(tableElement.find(\"td\"), function (_, td) {\n      if (1 === td.colSpan && td.offsetLeft <= offset && td.offsetWidth + td.offsetLeft > offset) {\n        cell = td;\n        return false;\n      }\n    });\n    return getCellPath(tableElement, cell);\n  },\n  _moveFakeTable: function _moveFakeTable(scrollPos) {\n    this._moveFakeTableHorizontally(scrollPos);\n\n    this.callBase();\n  }\n});\nexports.VerticalHeadersArea = exports.HorizontalHeadersArea.inherit({\n  _getAreaClassName: function _getAreaClassName() {\n    return PIVOTGRID_AREA_ROW_CLASS;\n  },\n  _applyCustomStyles: function _applyCustomStyles(options) {\n    this.callBase(options);\n\n    if (options.cellIndex === options.cellsCount - 1) {\n      options.classArray.push(PIVOTGRID_LAST_CELL_CLASS);\n    }\n\n    if (options.rowIndex === options.rowsCount - 1) {\n      options.cssArray.push(\"border-bottom: 0px\");\n    }\n\n    if (options.cell.isWhiteSpace) {\n      options.classArray.push(\"dx-white-space-column\");\n    }\n  },\n  _getAreaName: function _getAreaName() {\n    return \"row\";\n  },\n  setVirtualContentParams: function setVirtualContentParams(params) {\n    this.callBase(params);\n\n    this._setTableCss({\n      top: params.top,\n      left: 0\n    });\n\n    this._virtualContentHeight = params.height;\n  },\n  hasScroll: function hasScroll() {\n    var tableHeight = this._virtualContent ? this._virtualContentHeight : this._tableHeight;\n\n    if (this._groupHeight && tableHeight) {\n      return tableHeight - this._groupHeight >= 1;\n    }\n\n    return false;\n  },\n  processScroll: function processScroll() {\n    if (!this._getScrollable()) {\n      this._groupElement.dxScrollable({\n        useNative: false,\n        useSimulatedScrollbar: false,\n        showScrollbar: false,\n        bounceEnabled: false,\n        direction: \"vertical\",\n        updateManually: true\n      });\n    }\n  },\n  processScrollBarSpacing: function processScrollBarSpacing(scrollBarWidth) {\n    var that = this;\n\n    if (that._groupHeight) {\n      that.groupHeight(that._groupHeight - scrollBarWidth);\n    }\n\n    if (that._scrollBarWidth) {\n      that._groupElement.next().remove();\n    }\n\n    if (scrollBarWidth) {\n      that._groupElement.after((0, _renderer2.default)(\"<div>\").width(\"100%\").height(scrollBarWidth - 1));\n    }\n\n    that._scrollBarWidth = scrollBarWidth;\n  },\n  getScrollPath: function getScrollPath(offset) {\n    var tableElement = this.tableElement();\n    var cell;\n    offset -= parseInt(tableElement[0].style.top, 10) || 0;\n    (0, _iterator.each)(tableElement.find(\"tr\"), function (_, tr) {\n      var td = tr.childNodes[tr.childNodes.length - 1];\n\n      if (td && 1 === td.rowSpan && td.offsetTop <= offset && td.offsetHeight + td.offsetTop > offset) {\n        cell = td;\n        return false;\n      }\n    });\n    return getCellPath(tableElement, cell);\n  },\n  _moveFakeTable: function _moveFakeTable(scrollPos) {\n    this._moveFakeTableTop(scrollPos);\n\n    this.callBase();\n  },\n  _getRowClassNames: function _getRowClassNames(rowIndex, cell, rowClassNames) {\n    if (0 !== rowIndex & cell.expanded && (0, _array.inArray)(PIVOTGRID_EXPAND_BORDER, rowClassNames) === -1) {\n      rowClassNames.push(PIVOTGRID_EXPAND_BORDER);\n    }\n  },\n  _getMainElementMarkup: function _getMainElementMarkup() {\n    return \"<tbody class='\" + this._getAreaClassName() + \"'>\";\n  },\n  _getCloseMainElementMarkup: function _getCloseMainElementMarkup() {\n    return \"</tbody>\";\n  },\n  updateColspans: function updateColspans(columnCount) {\n    var rows = this.tableElement()[0].rows;\n    var columnOffset = 0;\n    var diff;\n    var columnOffsetResetIndexes = [];\n    var i;\n    var j;\n\n    if (this.getColumnsCount() - columnCount > 0) {\n      return;\n    }\n\n    for (i = 0; i < rows.length; i++) {\n      for (j = 0; j < rows[i].cells.length; j++) {\n        var cell = rows[i].cells[j];\n        var rowSpan = cell.rowSpan;\n\n        if (columnOffsetResetIndexes[i]) {\n          columnOffset -= columnOffsetResetIndexes[i];\n          columnOffsetResetIndexes[i] = 0;\n        }\n\n        diff = columnCount - (columnOffset + cell.colSpan);\n\n        if (j === rows[i].cells.length - 1 && diff > 0) {\n          cell.colSpan = cell.colSpan + diff;\n        }\n\n        columnOffsetResetIndexes[i + rowSpan] = (columnOffsetResetIndexes[i + rowSpan] || 0) + cell.colSpan;\n        columnOffset += cell.colSpan;\n      }\n    }\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/pivot_grid/ui.pivot_grid.headers_area.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_type","_array","_iterator","_uiPivot_grid","obj","PIVOTGRID_AREA_CLASS","PIVOTGRID_AREA_COLUMN_CLASS","PIVOTGRID_AREA_ROW_CLASS","PIVOTGRID_TOTAL_CLASS","PIVOTGRID_GRAND_TOTAL_CLASS","PIVOTGRID_ROW_TOTAL_CLASS","PIVOTGRID_EXPANDED_CLASS","PIVOTGRID_COLLAPSED_CLASS","PIVOTGRID_LAST_CELL_CLASS","PIVOTGRID_VERTICAL_SCROLL_CLASS","PIVOTGRID_EXPAND_BORDER","data","tableElement","rowIndex","cell","cellIndex","exports","_getAreaName","_getAreaClassName","_createGroupElement","_applyCustomStyles","cssArray","options","rowsCount","classArray","_getMainElementMarkup","_getCloseMainElementMarkup","setVirtualContentParams","left","params","top","hasScroll","tableWidth","processScroll","useNative","useSimulatedScrollbar","showScrollbar","bounceEnabled","direction","updateManually","processScrollBarSpacing","that","groupAlignment","scrollBarWidth","ctor","getScrollPath","offset","parseInt","td","getCellPath","_moveFakeTable","tableHeight","tr","_getRowClassNames","rowClassNames","updateColspans","rows","columnOffset","columnOffsetResetIndexes","i","j","rowSpan","diff","columnCount"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/pivot_grid/ui.pivot_grid.headers_area.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _uiPivot_grid = require(\"./ui.pivot_grid.area_item\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar PIVOTGRID_AREA_CLASS = \"dx-pivotgrid-area\";\r\nvar PIVOTGRID_AREA_COLUMN_CLASS = \"dx-pivotgrid-horizontal-headers\";\r\nvar PIVOTGRID_AREA_ROW_CLASS = \"dx-pivotgrid-vertical-headers\";\r\nvar PIVOTGRID_TOTAL_CLASS = \"dx-total\";\r\nvar PIVOTGRID_GRAND_TOTAL_CLASS = \"dx-grandtotal\";\r\nvar PIVOTGRID_ROW_TOTAL_CLASS = \"dx-row-total\";\r\nvar PIVOTGRID_EXPANDED_CLASS = \"dx-pivotgrid-expanded\";\r\nvar PIVOTGRID_COLLAPSED_CLASS = \"dx-pivotgrid-collapsed\";\r\nvar PIVOTGRID_LAST_CELL_CLASS = \"dx-last-cell\";\r\nvar PIVOTGRID_VERTICAL_SCROLL_CLASS = \"dx-vertical-scroll\";\r\nvar PIVOTGRID_EXPAND_BORDER = \"dx-expand-border\";\r\n\r\nfunction getCellPath(tableElement, cell) {\r\n    if (cell) {\r\n        var data = tableElement.data().data;\r\n        var rowIndex = cell.parentNode.rowIndex;\r\n        var cellIndex = cell.cellIndex;\r\n        return data[rowIndex] && data[rowIndex][cellIndex] && data[rowIndex][cellIndex].path\r\n    }\r\n}\r\nexports.HorizontalHeadersArea = _uiPivot_grid.AreaItem.inherit({\r\n    _getAreaName: function() {\r\n        return \"column\"\r\n    },\r\n    _getAreaClassName: function() {\r\n        return PIVOTGRID_AREA_COLUMN_CLASS\r\n    },\r\n    _createGroupElement: function() {\r\n        return (0, _renderer2.default)(\"<div>\").addClass(this._getAreaClassName()).addClass(PIVOTGRID_AREA_CLASS)\r\n    },\r\n    _applyCustomStyles: function(options) {\r\n        var cssArray = options.cssArray;\r\n        var cell = options.cell;\r\n        var rowsCount = options.rowsCount;\r\n        var classArray = options.classArray;\r\n        if (options.cellIndex === options.cellsCount - 1) {\r\n            cssArray.push((options.rtlEnabled ? \"border-left:\" : \"border-right:\") + \"0px\")\r\n        }\r\n        if (cell.rowspan === rowsCount - options.rowIndex || options.rowIndex + 1 === rowsCount) {\r\n            cssArray.push(\"border-bottom-width:0px\")\r\n        }\r\n        if (\"T\" === cell.type || \"GT\" === cell.type) {\r\n            classArray.push(PIVOTGRID_ROW_TOTAL_CLASS)\r\n        }\r\n        if (\"T\" === options.cell.type) {\r\n            classArray.push(PIVOTGRID_TOTAL_CLASS)\r\n        }\r\n        if (\"GT\" === options.cell.type) {\r\n            classArray.push(PIVOTGRID_GRAND_TOTAL_CLASS)\r\n        }\r\n        if ((0, _type.isDefined)(cell.expanded)) {\r\n            classArray.push(cell.expanded ? PIVOTGRID_EXPANDED_CLASS : PIVOTGRID_COLLAPSED_CLASS)\r\n        }\r\n        this.callBase(options)\r\n    },\r\n    _getMainElementMarkup: function() {\r\n        return \"<thead class='\" + this._getAreaClassName() + \"'>\"\r\n    },\r\n    _getCloseMainElementMarkup: function() {\r\n        return \"</thead>\"\r\n    },\r\n    setVirtualContentParams: function(params) {\r\n        this.callBase(params);\r\n        this._setTableCss({\r\n            left: params.left,\r\n            top: 0\r\n        });\r\n        this._virtualContentWidth = params.width\r\n    },\r\n    hasScroll: function() {\r\n        var tableWidth = this._virtualContent ? this._virtualContentWidth : this._tableWidth;\r\n        if (this._groupWidth && tableWidth) {\r\n            return tableWidth - this._groupWidth >= 1\r\n        }\r\n        return false\r\n    },\r\n    processScroll: function() {\r\n        if (!this._getScrollable()) {\r\n            this._groupElement.dxScrollable({\r\n                useNative: false,\r\n                useSimulatedScrollbar: false,\r\n                showScrollbar: false,\r\n                bounceEnabled: false,\r\n                direction: \"horizontal\",\r\n                updateManually: true\r\n            })\r\n        }\r\n    },\r\n    processScrollBarSpacing: function(scrollBarWidth) {\r\n        var that = this;\r\n        var groupAlignment = that.option(\"rtlEnabled\") ? \"right\" : \"left\";\r\n        if (that._groupWidth) {\r\n            that.groupWidth(that._groupWidth - scrollBarWidth)\r\n        }\r\n        if (that._scrollBarWidth) {\r\n            that._groupElement.next().remove()\r\n        }\r\n        that._groupElement.toggleClass(PIVOTGRID_VERTICAL_SCROLL_CLASS, scrollBarWidth > 0);\r\n        that._groupElement.css(\"float\", groupAlignment).width(that._groupHeight);\r\n        that._scrollBarWidth = scrollBarWidth\r\n    },\r\n    ctor: function(component) {\r\n        this.callBase(component);\r\n        this._scrollBarWidth = 0\r\n    },\r\n    getScrollPath: function(offset) {\r\n        var tableElement = this.tableElement();\r\n        var cell;\r\n        offset -= parseInt(tableElement[0].style.left, 10) || 0;\r\n        (0, _iterator.each)(tableElement.find(\"td\"), function(_, td) {\r\n            if (1 === td.colSpan && td.offsetLeft <= offset && td.offsetWidth + td.offsetLeft > offset) {\r\n                cell = td;\r\n                return false\r\n            }\r\n        });\r\n        return getCellPath(tableElement, cell)\r\n    },\r\n    _moveFakeTable: function(scrollPos) {\r\n        this._moveFakeTableHorizontally(scrollPos);\r\n        this.callBase()\r\n    }\r\n});\r\nexports.VerticalHeadersArea = exports.HorizontalHeadersArea.inherit({\r\n    _getAreaClassName: function() {\r\n        return PIVOTGRID_AREA_ROW_CLASS\r\n    },\r\n    _applyCustomStyles: function(options) {\r\n        this.callBase(options);\r\n        if (options.cellIndex === options.cellsCount - 1) {\r\n            options.classArray.push(PIVOTGRID_LAST_CELL_CLASS)\r\n        }\r\n        if (options.rowIndex === options.rowsCount - 1) {\r\n            options.cssArray.push(\"border-bottom: 0px\")\r\n        }\r\n        if (options.cell.isWhiteSpace) {\r\n            options.classArray.push(\"dx-white-space-column\")\r\n        }\r\n    },\r\n    _getAreaName: function() {\r\n        return \"row\"\r\n    },\r\n    setVirtualContentParams: function(params) {\r\n        this.callBase(params);\r\n        this._setTableCss({\r\n            top: params.top,\r\n            left: 0\r\n        });\r\n        this._virtualContentHeight = params.height\r\n    },\r\n    hasScroll: function() {\r\n        var tableHeight = this._virtualContent ? this._virtualContentHeight : this._tableHeight;\r\n        if (this._groupHeight && tableHeight) {\r\n            return tableHeight - this._groupHeight >= 1\r\n        }\r\n        return false\r\n    },\r\n    processScroll: function() {\r\n        if (!this._getScrollable()) {\r\n            this._groupElement.dxScrollable({\r\n                useNative: false,\r\n                useSimulatedScrollbar: false,\r\n                showScrollbar: false,\r\n                bounceEnabled: false,\r\n                direction: \"vertical\",\r\n                updateManually: true\r\n            })\r\n        }\r\n    },\r\n    processScrollBarSpacing: function(scrollBarWidth) {\r\n        var that = this;\r\n        if (that._groupHeight) {\r\n            that.groupHeight(that._groupHeight - scrollBarWidth)\r\n        }\r\n        if (that._scrollBarWidth) {\r\n            that._groupElement.next().remove()\r\n        }\r\n        if (scrollBarWidth) {\r\n            that._groupElement.after((0, _renderer2.default)(\"<div>\").width(\"100%\").height(scrollBarWidth - 1))\r\n        }\r\n        that._scrollBarWidth = scrollBarWidth\r\n    },\r\n    getScrollPath: function(offset) {\r\n        var tableElement = this.tableElement();\r\n        var cell;\r\n        offset -= parseInt(tableElement[0].style.top, 10) || 0;\r\n        (0, _iterator.each)(tableElement.find(\"tr\"), function(_, tr) {\r\n            var td = tr.childNodes[tr.childNodes.length - 1];\r\n            if (td && 1 === td.rowSpan && td.offsetTop <= offset && td.offsetHeight + td.offsetTop > offset) {\r\n                cell = td;\r\n                return false\r\n            }\r\n        });\r\n        return getCellPath(tableElement, cell)\r\n    },\r\n    _moveFakeTable: function(scrollPos) {\r\n        this._moveFakeTableTop(scrollPos);\r\n        this.callBase()\r\n    },\r\n    _getRowClassNames: function(rowIndex, cell, rowClassNames) {\r\n        if (0 !== rowIndex & cell.expanded && (0, _array.inArray)(PIVOTGRID_EXPAND_BORDER, rowClassNames) === -1) {\r\n            rowClassNames.push(PIVOTGRID_EXPAND_BORDER)\r\n        }\r\n    },\r\n    _getMainElementMarkup: function() {\r\n        return \"<tbody class='\" + this._getAreaClassName() + \"'>\"\r\n    },\r\n    _getCloseMainElementMarkup: function() {\r\n        return \"</tbody>\"\r\n    },\r\n    updateColspans: function(columnCount) {\r\n        var rows = this.tableElement()[0].rows;\r\n        var columnOffset = 0;\r\n        var diff;\r\n        var columnOffsetResetIndexes = [];\r\n        var i;\r\n        var j;\r\n        if (this.getColumnsCount() - columnCount > 0) {\r\n            return\r\n        }\r\n        for (i = 0; i < rows.length; i++) {\r\n            for (j = 0; j < rows[i].cells.length; j++) {\r\n                var cell = rows[i].cells[j];\r\n                var rowSpan = cell.rowSpan;\r\n                if (columnOffsetResetIndexes[i]) {\r\n                    columnOffset -= columnOffsetResetIndexes[i];\r\n                    columnOffsetResetIndexes[i] = 0\r\n                }\r\n                diff = columnCount - (columnOffset + cell.colSpan);\r\n                if (j === rows[i].cells.length - 1 && diff > 0) {\r\n                    cell.colSpan = cell.colSpan + diff\r\n                }\r\n                columnOffsetResetIndexes[i + rowSpan] = (columnOffsetResetIndexes[i + rowSpan] || 0) + cell.colSpan;\r\n                columnOffset += cell.colSpan\r\n            }\r\n        }\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}