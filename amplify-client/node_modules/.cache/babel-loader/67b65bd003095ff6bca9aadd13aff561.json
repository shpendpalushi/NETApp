{"ast":null,"code":"/**\r\n * DevExtreme (ui/text_box/ui.text_editor.mask.rule.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar Class = require(\"../../core/class\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar inArray = require(\"../../core/utils/array\").inArray;\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar isFunction = typeUtils.isFunction;\nvar EMPTY_CHAR = \" \";\nvar BaseMaskRule = Class.inherit({\n  ctor: function ctor(config) {\n    this._value = EMPTY_CHAR;\n    extend(this, config);\n  },\n  next: function next(rule) {\n    if (!arguments.length) {\n      return this._next;\n    }\n\n    this._next = rule;\n  },\n  text: noop,\n  value: noop,\n  rawValue: noop,\n  handle: noop,\n  _prepareHandlingArgs: function _prepareHandlingArgs(args, config) {\n    config = config || {};\n    var handlingProperty = Object.prototype.hasOwnProperty.call(args, \"value\") ? \"value\" : \"text\";\n    args[handlingProperty] = typeUtils.isDefined(config.str) ? config.str : args[handlingProperty];\n    args.start = typeUtils.isDefined(config.start) ? config.start : args.start;\n    args.length = typeUtils.isDefined(config.length) ? config.length : args.length;\n    args.index = args.index + 1;\n    return args;\n  },\n  reset: noop,\n  clear: noop,\n  first: function first(index) {\n    index = index || 0;\n    return this.next().first(index + 1);\n  },\n  isAccepted: function isAccepted() {\n    return false;\n  },\n  adjustedCaret: function adjustedCaret(caret, isForwardDirection, char) {\n    return isForwardDirection ? this._adjustedForward(caret, 0, char) : this._adjustedBackward(caret, 0, char);\n  },\n  _adjustedForward: noop,\n  _adjustedBackward: noop,\n  isValid: noop\n});\nvar EmptyMaskRule = BaseMaskRule.inherit({\n  next: noop,\n  handle: function handle() {\n    return 0;\n  },\n  text: function text() {\n    return \"\";\n  },\n  value: function value() {\n    return \"\";\n  },\n  first: function first() {\n    return 0;\n  },\n  rawValue: function rawValue() {\n    return \"\";\n  },\n  adjustedCaret: function adjustedCaret() {\n    return 0;\n  },\n  isValid: function isValid() {\n    return true;\n  }\n});\nvar MaskRule = BaseMaskRule.inherit({\n  text: function text() {\n    return (this._value !== EMPTY_CHAR ? this._value : this.maskChar) + this.next().text();\n  },\n  value: function value() {\n    return this._value + this.next().value();\n  },\n  rawValue: function rawValue() {\n    return this._value + this.next().rawValue();\n  },\n  handle: function handle(args) {\n    var str = Object.prototype.hasOwnProperty.call(args, \"value\") ? args.value : args.text;\n\n    if (!str || !str.length || !args.length) {\n      return 0;\n    }\n\n    if (args.start) {\n      return this.next().handle(this._prepareHandlingArgs(args, {\n        start: args.start - 1\n      }));\n    }\n\n    var char = str[0];\n    var rest = str.substring(1);\n\n    this._tryAcceptChar(char, args);\n\n    return this._accepted() ? this.next().handle(this._prepareHandlingArgs(args, {\n      str: rest,\n      length: args.length - 1\n    })) + 1 : this.handle(this._prepareHandlingArgs(args, {\n      str: rest,\n      length: args.length - 1\n    }));\n  },\n  clear: function clear(args) {\n    this._tryAcceptChar(EMPTY_CHAR, args);\n\n    this.next().clear(this._prepareHandlingArgs(args));\n  },\n  reset: function reset() {\n    this._accepted(false);\n\n    this.next().reset();\n  },\n  _tryAcceptChar: function _tryAcceptChar(char, args) {\n    this._accepted(false);\n\n    if (!this._isAllowed(char, args)) {\n      return;\n    }\n\n    var acceptedChar = char === EMPTY_CHAR ? this.maskChar : char;\n    args.fullText = args.fullText.substring(0, args.index) + acceptedChar + args.fullText.substring(args.index + 1);\n\n    this._accepted(true);\n\n    this._value = char;\n  },\n  _accepted: function _accepted(value) {\n    if (!arguments.length) {\n      return !!this._isAccepted;\n    }\n\n    this._isAccepted = !!value;\n  },\n  first: function first(index) {\n    return this._value === EMPTY_CHAR ? index || 0 : this.callBase(index);\n  },\n  _isAllowed: function _isAllowed(char, args) {\n    if (char === EMPTY_CHAR) {\n      return true;\n    }\n\n    return this._isValid(char, args);\n  },\n  _isValid: function _isValid(char, args) {\n    var allowedChars = this.allowedChars;\n\n    if (allowedChars instanceof RegExp) {\n      return allowedChars.test(char);\n    }\n\n    if (isFunction(allowedChars)) {\n      return allowedChars(char, args.index, args.fullText);\n    }\n\n    if (Array.isArray(allowedChars)) {\n      return inArray(char, allowedChars) > -1;\n    }\n\n    return allowedChars === char;\n  },\n  isAccepted: function isAccepted(caret) {\n    return 0 === caret ? this._accepted() : this.next().isAccepted(caret - 1);\n  },\n  _adjustedForward: function _adjustedForward(caret, index, char) {\n    if (index >= caret) {\n      return index;\n    }\n\n    return this.next()._adjustedForward(caret, index + 1, char) || index + 1;\n  },\n  _adjustedBackward: function _adjustedBackward(caret, index) {\n    if (index >= caret - 1) {\n      return caret;\n    }\n\n    return this.next()._adjustedBackward(caret, index + 1) || index + 1;\n  },\n  isValid: function isValid(args) {\n    return this._isValid(this._value, args) && this.next().isValid(this._prepareHandlingArgs(args));\n  }\n});\nvar StubMaskRule = MaskRule.inherit({\n  value: function value() {\n    return this.next().value();\n  },\n  handle: function handle(args) {\n    var hasValueProperty = Object.prototype.hasOwnProperty.call(args, \"value\");\n    var str = hasValueProperty ? args.value : args.text;\n\n    if (!str.length || !args.length) {\n      return 0;\n    }\n\n    if (args.start || hasValueProperty) {\n      return this.next().handle(this._prepareHandlingArgs(args, {\n        start: args.start && args.start - 1\n      }));\n    }\n\n    var char = str[0];\n    var rest = str.substring(1);\n\n    this._tryAcceptChar(char);\n\n    var nextArgs = this._isAllowed(char) ? this._prepareHandlingArgs(args, {\n      str: rest,\n      length: args.length - 1\n    }) : args;\n    return this.next().handle(nextArgs) + 1;\n  },\n  clear: function clear(args) {\n    this._accepted(false);\n\n    this.next().clear(this._prepareHandlingArgs(args));\n  },\n  _tryAcceptChar: function _tryAcceptChar(char) {\n    this._accepted(this._isValid(char));\n  },\n  _isValid: function _isValid(char) {\n    return char === this.maskChar;\n  },\n  first: function first(index) {\n    index = index || 0;\n    return this.next().first(index + 1);\n  },\n  _adjustedForward: function _adjustedForward(caret, index, char) {\n    if (index >= caret && char === this.maskChar) {\n      return index;\n    }\n\n    if (caret === index + 1 && this._accepted()) {\n      return caret;\n    }\n\n    return this.next()._adjustedForward(caret, index + 1, char);\n  },\n  _adjustedBackward: function _adjustedBackward(caret, index) {\n    if (index >= caret - 1) {\n      return 0;\n    }\n\n    return this.next()._adjustedBackward(caret, index + 1);\n  },\n  isValid: function isValid(args) {\n    return this.next().isValid(this._prepareHandlingArgs(args));\n  }\n});\nmodule.exports.MaskRule = MaskRule;\nmodule.exports.StubMaskRule = StubMaskRule;\nmodule.exports.EmptyMaskRule = EmptyMaskRule;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/text_box/ui.text_editor.mask.rule.js"],"names":["Class","require","extend","inArray","typeUtils","noop","isFunction","EMPTY_CHAR","BaseMaskRule","ctor","next","arguments","text","value","rawValue","handle","_prepareHandlingArgs","config","handlingProperty","Object","args","reset","clear","first","index","isAccepted","adjustedCaret","isForwardDirection","_adjustedForward","_adjustedBackward","isValid","EmptyMaskRule","MaskRule","str","start","char","rest","length","_tryAcceptChar","acceptedChar","_accepted","_isAllowed","_isValid","allowedChars","Array","caret","StubMaskRule","hasValueProperty","nextArgs","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/text_box/ui.text_editor.mask.rule.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar Class = require(\"../../core/class\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar inArray = require(\"../../core/utils/array\").inArray;\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar isFunction = typeUtils.isFunction;\r\nvar EMPTY_CHAR = \" \";\r\nvar BaseMaskRule = Class.inherit({\r\n    ctor: function(config) {\r\n        this._value = EMPTY_CHAR;\r\n        extend(this, config)\r\n    },\r\n    next: function(rule) {\r\n        if (!arguments.length) {\r\n            return this._next\r\n        }\r\n        this._next = rule\r\n    },\r\n    text: noop,\r\n    value: noop,\r\n    rawValue: noop,\r\n    handle: noop,\r\n    _prepareHandlingArgs: function(args, config) {\r\n        config = config || {};\r\n        var handlingProperty = Object.prototype.hasOwnProperty.call(args, \"value\") ? \"value\" : \"text\";\r\n        args[handlingProperty] = typeUtils.isDefined(config.str) ? config.str : args[handlingProperty];\r\n        args.start = typeUtils.isDefined(config.start) ? config.start : args.start;\r\n        args.length = typeUtils.isDefined(config.length) ? config.length : args.length;\r\n        args.index = args.index + 1;\r\n        return args\r\n    },\r\n    reset: noop,\r\n    clear: noop,\r\n    first: function(index) {\r\n        index = index || 0;\r\n        return this.next().first(index + 1)\r\n    },\r\n    isAccepted: function() {\r\n        return false\r\n    },\r\n    adjustedCaret: function(caret, isForwardDirection, char) {\r\n        return isForwardDirection ? this._adjustedForward(caret, 0, char) : this._adjustedBackward(caret, 0, char)\r\n    },\r\n    _adjustedForward: noop,\r\n    _adjustedBackward: noop,\r\n    isValid: noop\r\n});\r\nvar EmptyMaskRule = BaseMaskRule.inherit({\r\n    next: noop,\r\n    handle: function() {\r\n        return 0\r\n    },\r\n    text: function() {\r\n        return \"\"\r\n    },\r\n    value: function() {\r\n        return \"\"\r\n    },\r\n    first: function() {\r\n        return 0\r\n    },\r\n    rawValue: function() {\r\n        return \"\"\r\n    },\r\n    adjustedCaret: function() {\r\n        return 0\r\n    },\r\n    isValid: function() {\r\n        return true\r\n    }\r\n});\r\nvar MaskRule = BaseMaskRule.inherit({\r\n    text: function() {\r\n        return (this._value !== EMPTY_CHAR ? this._value : this.maskChar) + this.next().text()\r\n    },\r\n    value: function() {\r\n        return this._value + this.next().value()\r\n    },\r\n    rawValue: function() {\r\n        return this._value + this.next().rawValue()\r\n    },\r\n    handle: function(args) {\r\n        var str = Object.prototype.hasOwnProperty.call(args, \"value\") ? args.value : args.text;\r\n        if (!str || !str.length || !args.length) {\r\n            return 0\r\n        }\r\n        if (args.start) {\r\n            return this.next().handle(this._prepareHandlingArgs(args, {\r\n                start: args.start - 1\r\n            }))\r\n        }\r\n        var char = str[0];\r\n        var rest = str.substring(1);\r\n        this._tryAcceptChar(char, args);\r\n        return this._accepted() ? this.next().handle(this._prepareHandlingArgs(args, {\r\n            str: rest,\r\n            length: args.length - 1\r\n        })) + 1 : this.handle(this._prepareHandlingArgs(args, {\r\n            str: rest,\r\n            length: args.length - 1\r\n        }))\r\n    },\r\n    clear: function(args) {\r\n        this._tryAcceptChar(EMPTY_CHAR, args);\r\n        this.next().clear(this._prepareHandlingArgs(args))\r\n    },\r\n    reset: function() {\r\n        this._accepted(false);\r\n        this.next().reset()\r\n    },\r\n    _tryAcceptChar: function(char, args) {\r\n        this._accepted(false);\r\n        if (!this._isAllowed(char, args)) {\r\n            return\r\n        }\r\n        var acceptedChar = char === EMPTY_CHAR ? this.maskChar : char;\r\n        args.fullText = args.fullText.substring(0, args.index) + acceptedChar + args.fullText.substring(args.index + 1);\r\n        this._accepted(true);\r\n        this._value = char\r\n    },\r\n    _accepted: function(value) {\r\n        if (!arguments.length) {\r\n            return !!this._isAccepted\r\n        }\r\n        this._isAccepted = !!value\r\n    },\r\n    first: function(index) {\r\n        return this._value === EMPTY_CHAR ? index || 0 : this.callBase(index)\r\n    },\r\n    _isAllowed: function(char, args) {\r\n        if (char === EMPTY_CHAR) {\r\n            return true\r\n        }\r\n        return this._isValid(char, args)\r\n    },\r\n    _isValid: function(char, args) {\r\n        var allowedChars = this.allowedChars;\r\n        if (allowedChars instanceof RegExp) {\r\n            return allowedChars.test(char)\r\n        }\r\n        if (isFunction(allowedChars)) {\r\n            return allowedChars(char, args.index, args.fullText)\r\n        }\r\n        if (Array.isArray(allowedChars)) {\r\n            return inArray(char, allowedChars) > -1\r\n        }\r\n        return allowedChars === char\r\n    },\r\n    isAccepted: function(caret) {\r\n        return 0 === caret ? this._accepted() : this.next().isAccepted(caret - 1)\r\n    },\r\n    _adjustedForward: function(caret, index, char) {\r\n        if (index >= caret) {\r\n            return index\r\n        }\r\n        return this.next()._adjustedForward(caret, index + 1, char) || index + 1\r\n    },\r\n    _adjustedBackward: function(caret, index) {\r\n        if (index >= caret - 1) {\r\n            return caret\r\n        }\r\n        return this.next()._adjustedBackward(caret, index + 1) || index + 1\r\n    },\r\n    isValid: function(args) {\r\n        return this._isValid(this._value, args) && this.next().isValid(this._prepareHandlingArgs(args))\r\n    }\r\n});\r\nvar StubMaskRule = MaskRule.inherit({\r\n    value: function() {\r\n        return this.next().value()\r\n    },\r\n    handle: function(args) {\r\n        var hasValueProperty = Object.prototype.hasOwnProperty.call(args, \"value\");\r\n        var str = hasValueProperty ? args.value : args.text;\r\n        if (!str.length || !args.length) {\r\n            return 0\r\n        }\r\n        if (args.start || hasValueProperty) {\r\n            return this.next().handle(this._prepareHandlingArgs(args, {\r\n                start: args.start && args.start - 1\r\n            }))\r\n        }\r\n        var char = str[0];\r\n        var rest = str.substring(1);\r\n        this._tryAcceptChar(char);\r\n        var nextArgs = this._isAllowed(char) ? this._prepareHandlingArgs(args, {\r\n            str: rest,\r\n            length: args.length - 1\r\n        }) : args;\r\n        return this.next().handle(nextArgs) + 1\r\n    },\r\n    clear: function(args) {\r\n        this._accepted(false);\r\n        this.next().clear(this._prepareHandlingArgs(args))\r\n    },\r\n    _tryAcceptChar: function(char) {\r\n        this._accepted(this._isValid(char))\r\n    },\r\n    _isValid: function(char) {\r\n        return char === this.maskChar\r\n    },\r\n    first: function(index) {\r\n        index = index || 0;\r\n        return this.next().first(index + 1)\r\n    },\r\n    _adjustedForward: function(caret, index, char) {\r\n        if (index >= caret && char === this.maskChar) {\r\n            return index\r\n        }\r\n        if (caret === index + 1 && this._accepted()) {\r\n            return caret\r\n        }\r\n        return this.next()._adjustedForward(caret, index + 1, char)\r\n    },\r\n    _adjustedBackward: function(caret, index) {\r\n        if (index >= caret - 1) {\r\n            return 0\r\n        }\r\n        return this.next()._adjustedBackward(caret, index + 1)\r\n    },\r\n    isValid: function(args) {\r\n        return this.next().isValid(this._prepareHandlingArgs(args))\r\n    }\r\n});\r\nmodule.exports.MaskRule = MaskRule;\r\nmodule.exports.StubMaskRule = StubMaskRule;\r\nmodule.exports.EmptyMaskRule = EmptyMaskRule;\r\n"]},"metadata":{},"sourceType":"module"}