{"ast":null,"code":"import { ticks } from \"d3-array\";\nimport { format } from \"d3-format\";\nimport nice from \"./nice.js\";\nimport { copy, transformer } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10 : base === Math.E ? Math.exp : function (x) {\n    return Math.pow(base, x);\n  };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), function (x) {\n    return Math.log(x) / base;\n  });\n}\n\nfunction reflect(f) {\n  return function (x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n\n    return scale;\n  }\n\n  scale.base = function (_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function (count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n    if (r = v < u) i = u, u = v, v = i;\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n\n    return function (d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function () {\n    return domain(nice(domain(), {\n      floor: function floor(x) {\n        return pows(Math.floor(logs(x)));\n      },\n      ceil: function ceil(x) {\n        return pows(Math.ceil(logs(x)));\n      }\n    }));\n  };\n\n  return scale;\n}\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function () {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/d3-scale/src/log.js"],"names":["Math","isFinite","x","base","f","scale","transform","domain","logs","logp","pows","powp","reflect","arguments","rescale","d","u","v","r","i","j","n","count","z","k","p","t","ticks","specifier","format","nice","floor","ceil","loggish","transformer","copy","log","initRange"],"mappings":"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","sourcesContent":["import {ticks} from \"d3-array\";\r\nimport {format} from \"d3-format\";\r\nimport nice from \"./nice.js\";\r\nimport {copy, transformer} from \"./continuous.js\";\r\nimport {initRange} from \"./init.js\";\r\n\r\nfunction transformLog(x) {\r\n  return Math.log(x);\r\n}\r\n\r\nfunction transformExp(x) {\r\n  return Math.exp(x);\r\n}\r\n\r\nfunction transformLogn(x) {\r\n  return -Math.log(-x);\r\n}\r\n\r\nfunction transformExpn(x) {\r\n  return -Math.exp(-x);\r\n}\r\n\r\nfunction pow10(x) {\r\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\r\n}\r\n\r\nfunction powp(base) {\r\n  return base === 10 ? pow10\r\n      : base === Math.E ? Math.exp\r\n      : function(x) { return Math.pow(base, x); };\r\n}\r\n\r\nfunction logp(base) {\r\n  return base === Math.E ? Math.log\r\n      : base === 10 && Math.log10\r\n      || base === 2 && Math.log2\r\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\r\n}\r\n\r\nfunction reflect(f) {\r\n  return function(x) {\r\n    return -f(-x);\r\n  };\r\n}\r\n\r\nexport function loggish(transform) {\r\n  var scale = transform(transformLog, transformExp),\r\n      domain = scale.domain,\r\n      base = 10,\r\n      logs,\r\n      pows;\r\n\r\n  function rescale() {\r\n    logs = logp(base), pows = powp(base);\r\n    if (domain()[0] < 0) {\r\n      logs = reflect(logs), pows = reflect(pows);\r\n      transform(transformLogn, transformExpn);\r\n    } else {\r\n      transform(transformLog, transformExp);\r\n    }\r\n    return scale;\r\n  }\r\n\r\n  scale.base = function(_) {\r\n    return arguments.length ? (base = +_, rescale()) : base;\r\n  };\r\n\r\n  scale.domain = function(_) {\r\n    return arguments.length ? (domain(_), rescale()) : domain();\r\n  };\r\n\r\n  scale.ticks = function(count) {\r\n    var d = domain(),\r\n        u = d[0],\r\n        v = d[d.length - 1],\r\n        r;\r\n\r\n    if (r = v < u) i = u, u = v, v = i;\r\n\r\n    var i = logs(u),\r\n        j = logs(v),\r\n        p,\r\n        k,\r\n        t,\r\n        n = count == null ? 10 : +count,\r\n        z = [];\r\n\r\n    if (!(base % 1) && j - i < n) {\r\n      i = Math.floor(i), j = Math.ceil(j);\r\n      if (u > 0) for (; i <= j; ++i) {\r\n        for (k = 1, p = pows(i); k < base; ++k) {\r\n          t = p * k;\r\n          if (t < u) continue;\r\n          if (t > v) break;\r\n          z.push(t);\r\n        }\r\n      } else for (; i <= j; ++i) {\r\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\r\n          t = p * k;\r\n          if (t < u) continue;\r\n          if (t > v) break;\r\n          z.push(t);\r\n        }\r\n      }\r\n      if (z.length * 2 < n) z = ticks(u, v, n);\r\n    } else {\r\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\r\n    }\r\n\r\n    return r ? z.reverse() : z;\r\n  };\r\n\r\n  scale.tickFormat = function(count, specifier) {\r\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\r\n    if (typeof specifier !== \"function\") specifier = format(specifier);\r\n    if (count === Infinity) return specifier;\r\n    if (count == null) count = 10;\r\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\r\n    return function(d) {\r\n      var i = d / pows(Math.round(logs(d)));\r\n      if (i * base < base - 0.5) i *= base;\r\n      return i <= k ? specifier(d) : \"\";\r\n    };\r\n  };\r\n\r\n  scale.nice = function() {\r\n    return domain(nice(domain(), {\r\n      floor: function(x) { return pows(Math.floor(logs(x))); },\r\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\r\n    }));\r\n  };\r\n\r\n  return scale;\r\n}\r\n\r\nexport default function log() {\r\n  var scale = loggish(transformer()).domain([1, 10]);\r\n\r\n  scale.copy = function() {\r\n    return copy(scale, log()).base(scale.base());\r\n  };\r\n\r\n  initRange.apply(scale, arguments);\r\n\r\n  return scale;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}