{"ast":null,"code":"/**\r\n * DevExtreme (viz/sparklines/base_sparkline.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar eventsEngine = require(\"../../events/core/events_engine\");\n\nvar domAdapter = require(\"../../core/dom_adapter\");\n\nvar ready = require(\"../../core/utils/ready_callbacks\").add;\n\nvar isFunction = require(\"../../core/utils/type\").isFunction;\n\nvar BaseWidget = require(\"../core/base_widget\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar DEFAULT_LINE_SPACING = 2;\nvar DEFAULT_EVENTS_DELAY = 100;\n\nvar eventUtils = require(\"../../events/utils\");\n\nvar translator2DModule = require(\"../translators/translator2d\");\n\nvar _extend = extend;\n\nvar _noop = require(\"../../core/utils/common\").noop;\n\nfunction generateDefaultCustomizeTooltipCallback(fontOptions, rtlEnabled) {\n  var lineSpacing = fontOptions.lineSpacing;\n  var lineHeight = (void 0 !== lineSpacing && null !== lineSpacing ? lineSpacing : DEFAULT_LINE_SPACING) + fontOptions.size;\n  return function (customizeObject) {\n    var html = \"\";\n    var vt = customizeObject.valueText;\n\n    for (var i = 0; i < vt.length; i += 2) {\n      html += \"<tr><td>\" + vt[i] + \"</td><td style='width: 15px'></td><td style='text-align: \" + (rtlEnabled ? \"left\" : \"right\") + \"'>\" + vt[i + 1] + \"</td></tr>\";\n    }\n\n    return {\n      html: \"<table style='border-spacing:0px; line-height: \" + lineHeight + \"px'>\" + html + \"</table>\"\n    };\n  };\n}\n\nfunction generateCustomizeTooltipCallback(customizeTooltip, fontOptions, rtlEnabled) {\n  var defaultCustomizeTooltip = generateDefaultCustomizeTooltipCallback(fontOptions, rtlEnabled);\n\n  if (isFunction(customizeTooltip)) {\n    return function (customizeObject) {\n      var res = customizeTooltip.call(customizeObject, customizeObject);\n\n      if (!(\"html\" in res) && !(\"text\" in res)) {\n        _extend(res, defaultCustomizeTooltip.call(customizeObject, customizeObject));\n      }\n\n      return res;\n    };\n  } else {\n    return defaultCustomizeTooltip;\n  }\n}\n\nfunction createAxis(isHorizontal) {\n  var translator = new translator2DModule.Translator2D({}, {}, {\n    shiftZeroValue: !isHorizontal,\n    isHorizontal: !!isHorizontal\n  });\n  return {\n    getTranslator: function getTranslator() {\n      return translator;\n    },\n    update: function update(range, canvas, options) {\n      translator.update(range, canvas, options);\n    },\n    getVisibleArea: function getVisibleArea() {\n      var visibleArea = translator.getCanvasVisibleArea();\n      return [visibleArea.min, visibleArea.max];\n    },\n    visualRange: _noop,\n    calculateInterval: _noop,\n    getMarginOptions: function getMarginOptions() {\n      return {};\n    }\n  };\n}\n\nvar BaseSparkline = BaseWidget.inherit({\n  _getLayoutItems: _noop,\n  _useLinks: false,\n  _themeDependentChanges: [\"OPTIONS\"],\n  _initCore: function _initCore() {\n    var that = this;\n    that._tooltipTracker = that._renderer.root;\n\n    that._tooltipTracker.attr({\n      \"pointer-events\": \"visible\"\n    });\n\n    that._createHtmlElements();\n\n    that._initTooltipEvents();\n\n    that._argumentAxis = createAxis(true);\n    that._valueAxis = createAxis();\n  },\n  _getDefaultSize: function _getDefaultSize() {\n    return this._defaultSize;\n  },\n  _disposeCore: function _disposeCore() {\n    this._disposeWidgetElements();\n\n    this._disposeTooltipEvents();\n\n    this._ranges = null;\n  },\n  _optionChangesOrder: [\"OPTIONS\"],\n  _change_OPTIONS: function _change_OPTIONS() {\n    this._prepareOptions();\n\n    this._change([\"UPDATE\"]);\n  },\n  _customChangesOrder: [\"UPDATE\"],\n  _change_UPDATE: function _change_UPDATE() {\n    this._update();\n  },\n  _update: function _update() {\n    var that = this;\n\n    if (that._tooltipShown) {\n      that._tooltipShown = false;\n\n      that._tooltip.hide();\n    }\n\n    that._cleanWidgetElements();\n\n    that._updateWidgetElements();\n\n    that._drawWidgetElements();\n  },\n  _updateWidgetElements: function _updateWidgetElements() {\n    var canvas = this._getCorrectCanvas();\n\n    this._updateRange();\n\n    this._argumentAxis.update(this._ranges.arg, canvas, this._getStick());\n\n    this._valueAxis.update(this._ranges.val, canvas);\n  },\n  _getStick: function _getStick() {},\n  _applySize: function _applySize(rect) {\n    this._allOptions.size = {\n      width: rect[2] - rect[0],\n      height: rect[3] - rect[1]\n    };\n\n    this._change([\"UPDATE\"]);\n  },\n  _setupResizeHandler: _noop,\n  _prepareOptions: function _prepareOptions() {\n    return _extend(true, {}, this._themeManager.theme(), this.option());\n  },\n  _getTooltipCoords: function _getTooltipCoords() {\n    var canvas = this._canvas;\n\n    var rootOffset = this._renderer.getRootOffset();\n\n    return {\n      x: canvas.width / 2 + rootOffset.left,\n      y: canvas.height / 2 + rootOffset.top\n    };\n  },\n  _initTooltipEvents: function _initTooltipEvents() {\n    var that = this;\n    var data = {\n      widget: that\n    };\n\n    that._showTooltipCallback = function () {\n      var tooltip;\n\n      if (!that._tooltipShown) {\n        that._tooltipShown = true;\n        tooltip = that._getTooltip();\n        tooltip.isEnabled() && that._tooltip.show(that._getTooltipData(), that._getTooltipCoords(), {});\n      }\n    };\n\n    that._hideTooltipCallback = function () {\n      that._hideTooltipTimeout = null;\n\n      if (that._tooltipShown) {\n        that._tooltipShown = false;\n\n        that._tooltip.hide();\n      }\n    };\n\n    that._disposeCallbacks = function () {\n      that = that._showTooltipCallback = that._hideTooltipCallback = that._disposeCallbacks = null;\n    };\n\n    that._tooltipTracker.on(mouseEvents, data).on(touchEvents, data);\n\n    that._tooltipTracker.on(menuEvents);\n  },\n  _stopCurrentHandling: function _stopCurrentHandling() {\n    this._hideTooltip();\n  },\n  _disposeTooltipEvents: function _disposeTooltipEvents() {\n    var that = this;\n    clearTimeout(that._hideTooltipTimeout);\n\n    that._tooltipTracker.off();\n\n    that._disposeCallbacks();\n  },\n  _getTooltip: function _getTooltip() {\n    var that = this;\n\n    if (!that._tooltip) {\n      _initTooltip.apply(this, arguments);\n\n      that._setTooltipRendererOptions(that._tooltipRendererOptions);\n\n      that._tooltipRendererOptions = null;\n\n      that._setTooltipOptions();\n    }\n\n    return that._tooltip;\n  }\n});\nvar menuEvents = {\n  \"contextmenu.sparkline-tooltip\": function contextmenuSparklineTooltip(event) {\n    if (eventUtils.isTouchEvent(event) || eventUtils.isPointerEvent(event)) {\n      event.preventDefault();\n    }\n  },\n  \"MSHoldVisual.sparkline-tooltip\": function MSHoldVisualSparklineTooltip(event) {\n    event.preventDefault();\n  }\n};\nvar mouseEvents = {\n  \"mouseover.sparkline-tooltip\": function mouseoverSparklineTooltip(event) {\n    isPointerDownCalled = false;\n    var widget = event.data.widget;\n    widget._x = event.pageX;\n    widget._y = event.pageY;\n\n    widget._tooltipTracker.off(mouseMoveEvents).on(mouseMoveEvents, event.data);\n\n    widget._showTooltip();\n  },\n  \"mouseout.sparkline-tooltip\": function mouseoutSparklineTooltip(event) {\n    if (isPointerDownCalled) {\n      return;\n    }\n\n    var widget = event.data.widget;\n\n    widget._tooltipTracker.off(mouseMoveEvents);\n\n    widget._hideTooltip(DEFAULT_EVENTS_DELAY);\n  }\n};\nvar mouseMoveEvents = {\n  \"mousemove.sparkline-tooltip\": function mousemoveSparklineTooltip(event) {\n    var widget = event.data.widget;\n    widget._x = event.pageX;\n    widget._y = event.pageY;\n\n    widget._showTooltip();\n  }\n};\nvar active_touch_tooltip_widget = null;\n\nvar touchStartTooltipProcessing = function touchStartTooltipProcessing(event) {\n  var widget = active_touch_tooltip_widget;\n\n  if (widget && widget !== event.data.widget) {\n    widget._hideTooltip(DEFAULT_EVENTS_DELAY);\n  }\n\n  widget = active_touch_tooltip_widget = event.data.widget;\n\n  widget._showTooltip();\n\n  widget._touch = true;\n};\n\nvar touchStartDocumentProcessing = function touchStartDocumentProcessing() {\n  var widget = active_touch_tooltip_widget;\n\n  if (widget) {\n    if (!widget._touch) {\n      widget._hideTooltip(DEFAULT_EVENTS_DELAY);\n\n      active_touch_tooltip_widget = null;\n    }\n\n    widget._touch = null;\n  }\n};\n\nvar touchEndDocumentProcessing = function touchEndDocumentProcessing() {\n  var widget = active_touch_tooltip_widget;\n\n  if (widget) {\n    widget._hideTooltip(DEFAULT_EVENTS_DELAY);\n\n    active_touch_tooltip_widget = null;\n  }\n};\n\nvar isPointerDownCalled = false;\nvar touchEvents = {\n  \"pointerdown.sparkline-tooltip\": touchStartTooltipProcessing,\n  \"touchstart.sparkline-tooltip\": touchStartTooltipProcessing\n};\nready(function () {\n  eventsEngine.subscribeGlobal(domAdapter.getDocument(), {\n    \"pointerdown.sparkline-tooltip\": function pointerdownSparklineTooltip() {\n      isPointerDownCalled = true;\n      touchStartDocumentProcessing();\n    },\n    \"touchstart.sparkline-tooltip\": touchStartDocumentProcessing,\n    \"pointerup.sparkline-tooltip\": touchEndDocumentProcessing,\n    \"touchend.sparkline-tooltip\": touchEndDocumentProcessing\n  });\n});\nmodule.exports = BaseSparkline;\nBaseSparkline.addPlugin(require(\"../core/tooltip\").plugin);\nvar _initTooltip = BaseSparkline.prototype._initTooltip;\nBaseSparkline.prototype._initTooltip = _noop;\nvar _disposeTooltip = BaseSparkline.prototype._disposeTooltip;\n\nBaseSparkline.prototype._disposeTooltip = function () {\n  if (this._tooltip) {\n    _disposeTooltip.apply(this, arguments);\n  }\n};\n\nBaseSparkline.prototype._setTooltipRendererOptions = function () {\n  var options = this._getRendererOptions();\n\n  if (this._tooltip) {\n    this._tooltip.setRendererOptions(options);\n  } else {\n    this._tooltipRendererOptions = options;\n  }\n};\n\nBaseSparkline.prototype._setTooltipOptions = function () {\n  var tooltip = this._tooltip;\n\n  var options = tooltip && this._getOption(\"tooltip\");\n\n  tooltip && tooltip.update(_extend({}, options, {\n    customizeTooltip: generateCustomizeTooltipCallback(options.customizeTooltip, options.font, this.option(\"rtlEnabled\")),\n    enabled: options.enabled && this._isTooltipEnabled()\n  }));\n};\n\nBaseSparkline.prototype._showTooltip = function () {\n  var that = this;\n  clearTimeout(that._hideTooltipTimeout);\n  that._hideTooltipTimeout = null;\n\n  that._showTooltipCallback();\n};\n\nBaseSparkline.prototype._hideTooltip = function (delay) {\n  var that = this;\n  clearTimeout(that._hideTooltipTimeout);\n\n  if (delay) {\n    that._hideTooltipTimeout = setTimeout(that._hideTooltipCallback, delay);\n  } else {\n    that._hideTooltipCallback();\n  }\n};\n\nvar exportPlugin = extend(true, {}, require(\"../core/export\").plugin, {\n  init: _noop,\n  dispose: _noop,\n  customize: null,\n  members: {\n    _getExportMenuOptions: null\n  }\n});\nBaseSparkline.addPlugin(exportPlugin);","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/sparklines/base_sparkline.js"],"names":["eventsEngine","require","domAdapter","ready","isFunction","BaseWidget","extend","DEFAULT_LINE_SPACING","DEFAULT_EVENTS_DELAY","eventUtils","translator2DModule","_extend","_noop","lineSpacing","fontOptions","lineHeight","html","vt","customizeObject","i","rtlEnabled","defaultCustomizeTooltip","generateDefaultCustomizeTooltipCallback","res","customizeTooltip","translator","shiftZeroValue","isHorizontal","getTranslator","update","getVisibleArea","visibleArea","visualRange","calculateInterval","getMarginOptions","BaseSparkline","_getLayoutItems","_useLinks","_themeDependentChanges","_initCore","that","createAxis","_getDefaultSize","_disposeCore","_optionChangesOrder","_change_OPTIONS","_customChangesOrder","_change_UPDATE","_update","_updateWidgetElements","canvas","_getStick","_applySize","width","rect","height","_setupResizeHandler","_prepareOptions","_getTooltipCoords","rootOffset","x","y","top","_initTooltipEvents","data","widget","tooltip","_stopCurrentHandling","_disposeTooltipEvents","clearTimeout","_getTooltip","_initTooltip","menuEvents","event","mouseEvents","isPointerDownCalled","mouseMoveEvents","active_touch_tooltip_widget","touchStartTooltipProcessing","touchStartDocumentProcessing","touchEndDocumentProcessing","touchEvents","module","_disposeTooltip","options","generateCustomizeTooltipCallback","enabled","setTimeout","exportPlugin","init","dispose","customize","members","_getExportMenuOptions"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/sparklines/base_sparkline.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar eventsEngine = require(\"../../events/core/events_engine\");\r\nvar domAdapter = require(\"../../core/dom_adapter\");\r\nvar ready = require(\"../../core/utils/ready_callbacks\").add;\r\nvar isFunction = require(\"../../core/utils/type\").isFunction;\r\nvar BaseWidget = require(\"../core/base_widget\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar DEFAULT_LINE_SPACING = 2;\r\nvar DEFAULT_EVENTS_DELAY = 100;\r\nvar eventUtils = require(\"../../events/utils\");\r\nvar translator2DModule = require(\"../translators/translator2d\");\r\nvar _extend = extend;\r\nvar _noop = require(\"../../core/utils/common\").noop;\r\n\r\nfunction generateDefaultCustomizeTooltipCallback(fontOptions, rtlEnabled) {\r\n    var lineSpacing = fontOptions.lineSpacing;\r\n    var lineHeight = (void 0 !== lineSpacing && null !== lineSpacing ? lineSpacing : DEFAULT_LINE_SPACING) + fontOptions.size;\r\n    return function(customizeObject) {\r\n        var html = \"\";\r\n        var vt = customizeObject.valueText;\r\n        for (var i = 0; i < vt.length; i += 2) {\r\n            html += \"<tr><td>\" + vt[i] + \"</td><td style='width: 15px'></td><td style='text-align: \" + (rtlEnabled ? \"left\" : \"right\") + \"'>\" + vt[i + 1] + \"</td></tr>\"\r\n        }\r\n        return {\r\n            html: \"<table style='border-spacing:0px; line-height: \" + lineHeight + \"px'>\" + html + \"</table>\"\r\n        }\r\n    }\r\n}\r\n\r\nfunction generateCustomizeTooltipCallback(customizeTooltip, fontOptions, rtlEnabled) {\r\n    var defaultCustomizeTooltip = generateDefaultCustomizeTooltipCallback(fontOptions, rtlEnabled);\r\n    if (isFunction(customizeTooltip)) {\r\n        return function(customizeObject) {\r\n            var res = customizeTooltip.call(customizeObject, customizeObject);\r\n            if (!(\"html\" in res) && !(\"text\" in res)) {\r\n                _extend(res, defaultCustomizeTooltip.call(customizeObject, customizeObject))\r\n            }\r\n            return res\r\n        }\r\n    } else {\r\n        return defaultCustomizeTooltip\r\n    }\r\n}\r\n\r\nfunction createAxis(isHorizontal) {\r\n    var translator = new translator2DModule.Translator2D({}, {}, {\r\n        shiftZeroValue: !isHorizontal,\r\n        isHorizontal: !!isHorizontal\r\n    });\r\n    return {\r\n        getTranslator: function() {\r\n            return translator\r\n        },\r\n        update: function(range, canvas, options) {\r\n            translator.update(range, canvas, options)\r\n        },\r\n        getVisibleArea: function() {\r\n            var visibleArea = translator.getCanvasVisibleArea();\r\n            return [visibleArea.min, visibleArea.max]\r\n        },\r\n        visualRange: _noop,\r\n        calculateInterval: _noop,\r\n        getMarginOptions: function() {\r\n            return {}\r\n        }\r\n    }\r\n}\r\nvar BaseSparkline = BaseWidget.inherit({\r\n    _getLayoutItems: _noop,\r\n    _useLinks: false,\r\n    _themeDependentChanges: [\"OPTIONS\"],\r\n    _initCore: function() {\r\n        var that = this;\r\n        that._tooltipTracker = that._renderer.root;\r\n        that._tooltipTracker.attr({\r\n            \"pointer-events\": \"visible\"\r\n        });\r\n        that._createHtmlElements();\r\n        that._initTooltipEvents();\r\n        that._argumentAxis = createAxis(true);\r\n        that._valueAxis = createAxis()\r\n    },\r\n    _getDefaultSize: function() {\r\n        return this._defaultSize\r\n    },\r\n    _disposeCore: function() {\r\n        this._disposeWidgetElements();\r\n        this._disposeTooltipEvents();\r\n        this._ranges = null\r\n    },\r\n    _optionChangesOrder: [\"OPTIONS\"],\r\n    _change_OPTIONS: function() {\r\n        this._prepareOptions();\r\n        this._change([\"UPDATE\"])\r\n    },\r\n    _customChangesOrder: [\"UPDATE\"],\r\n    _change_UPDATE: function() {\r\n        this._update()\r\n    },\r\n    _update: function() {\r\n        var that = this;\r\n        if (that._tooltipShown) {\r\n            that._tooltipShown = false;\r\n            that._tooltip.hide()\r\n        }\r\n        that._cleanWidgetElements();\r\n        that._updateWidgetElements();\r\n        that._drawWidgetElements()\r\n    },\r\n    _updateWidgetElements: function() {\r\n        var canvas = this._getCorrectCanvas();\r\n        this._updateRange();\r\n        this._argumentAxis.update(this._ranges.arg, canvas, this._getStick());\r\n        this._valueAxis.update(this._ranges.val, canvas)\r\n    },\r\n    _getStick: function() {},\r\n    _applySize: function(rect) {\r\n        this._allOptions.size = {\r\n            width: rect[2] - rect[0],\r\n            height: rect[3] - rect[1]\r\n        };\r\n        this._change([\"UPDATE\"])\r\n    },\r\n    _setupResizeHandler: _noop,\r\n    _prepareOptions: function() {\r\n        return _extend(true, {}, this._themeManager.theme(), this.option())\r\n    },\r\n    _getTooltipCoords: function() {\r\n        var canvas = this._canvas;\r\n        var rootOffset = this._renderer.getRootOffset();\r\n        return {\r\n            x: canvas.width / 2 + rootOffset.left,\r\n            y: canvas.height / 2 + rootOffset.top\r\n        }\r\n    },\r\n    _initTooltipEvents: function() {\r\n        var that = this;\r\n        var data = {\r\n            widget: that\r\n        };\r\n        that._showTooltipCallback = function() {\r\n            var tooltip;\r\n            if (!that._tooltipShown) {\r\n                that._tooltipShown = true;\r\n                tooltip = that._getTooltip();\r\n                tooltip.isEnabled() && that._tooltip.show(that._getTooltipData(), that._getTooltipCoords(), {})\r\n            }\r\n        };\r\n        that._hideTooltipCallback = function() {\r\n            that._hideTooltipTimeout = null;\r\n            if (that._tooltipShown) {\r\n                that._tooltipShown = false;\r\n                that._tooltip.hide()\r\n            }\r\n        };\r\n        that._disposeCallbacks = function() {\r\n            that = that._showTooltipCallback = that._hideTooltipCallback = that._disposeCallbacks = null\r\n        };\r\n        that._tooltipTracker.on(mouseEvents, data).on(touchEvents, data);\r\n        that._tooltipTracker.on(menuEvents)\r\n    },\r\n    _stopCurrentHandling: function() {\r\n        this._hideTooltip()\r\n    },\r\n    _disposeTooltipEvents: function() {\r\n        var that = this;\r\n        clearTimeout(that._hideTooltipTimeout);\r\n        that._tooltipTracker.off();\r\n        that._disposeCallbacks()\r\n    },\r\n    _getTooltip: function() {\r\n        var that = this;\r\n        if (!that._tooltip) {\r\n            _initTooltip.apply(this, arguments);\r\n            that._setTooltipRendererOptions(that._tooltipRendererOptions);\r\n            that._tooltipRendererOptions = null;\r\n            that._setTooltipOptions()\r\n        }\r\n        return that._tooltip\r\n    }\r\n});\r\nvar menuEvents = {\r\n    \"contextmenu.sparkline-tooltip\": function(event) {\r\n        if (eventUtils.isTouchEvent(event) || eventUtils.isPointerEvent(event)) {\r\n            event.preventDefault()\r\n        }\r\n    },\r\n    \"MSHoldVisual.sparkline-tooltip\": function(event) {\r\n        event.preventDefault()\r\n    }\r\n};\r\nvar mouseEvents = {\r\n    \"mouseover.sparkline-tooltip\": function(event) {\r\n        isPointerDownCalled = false;\r\n        var widget = event.data.widget;\r\n        widget._x = event.pageX;\r\n        widget._y = event.pageY;\r\n        widget._tooltipTracker.off(mouseMoveEvents).on(mouseMoveEvents, event.data);\r\n        widget._showTooltip()\r\n    },\r\n    \"mouseout.sparkline-tooltip\": function(event) {\r\n        if (isPointerDownCalled) {\r\n            return\r\n        }\r\n        var widget = event.data.widget;\r\n        widget._tooltipTracker.off(mouseMoveEvents);\r\n        widget._hideTooltip(DEFAULT_EVENTS_DELAY)\r\n    }\r\n};\r\nvar mouseMoveEvents = {\r\n    \"mousemove.sparkline-tooltip\": function(event) {\r\n        var widget = event.data.widget;\r\n        widget._x = event.pageX;\r\n        widget._y = event.pageY;\r\n        widget._showTooltip()\r\n    }\r\n};\r\nvar active_touch_tooltip_widget = null;\r\nvar touchStartTooltipProcessing = function(event) {\r\n    var widget = active_touch_tooltip_widget;\r\n    if (widget && widget !== event.data.widget) {\r\n        widget._hideTooltip(DEFAULT_EVENTS_DELAY)\r\n    }\r\n    widget = active_touch_tooltip_widget = event.data.widget;\r\n    widget._showTooltip();\r\n    widget._touch = true\r\n};\r\nvar touchStartDocumentProcessing = function() {\r\n    var widget = active_touch_tooltip_widget;\r\n    if (widget) {\r\n        if (!widget._touch) {\r\n            widget._hideTooltip(DEFAULT_EVENTS_DELAY);\r\n            active_touch_tooltip_widget = null\r\n        }\r\n        widget._touch = null\r\n    }\r\n};\r\nvar touchEndDocumentProcessing = function() {\r\n    var widget = active_touch_tooltip_widget;\r\n    if (widget) {\r\n        widget._hideTooltip(DEFAULT_EVENTS_DELAY);\r\n        active_touch_tooltip_widget = null\r\n    }\r\n};\r\nvar isPointerDownCalled = false;\r\nvar touchEvents = {\r\n    \"pointerdown.sparkline-tooltip\": touchStartTooltipProcessing,\r\n    \"touchstart.sparkline-tooltip\": touchStartTooltipProcessing\r\n};\r\nready(function() {\r\n    eventsEngine.subscribeGlobal(domAdapter.getDocument(), {\r\n        \"pointerdown.sparkline-tooltip\": function() {\r\n            isPointerDownCalled = true;\r\n            touchStartDocumentProcessing()\r\n        },\r\n        \"touchstart.sparkline-tooltip\": touchStartDocumentProcessing,\r\n        \"pointerup.sparkline-tooltip\": touchEndDocumentProcessing,\r\n        \"touchend.sparkline-tooltip\": touchEndDocumentProcessing\r\n    })\r\n});\r\nmodule.exports = BaseSparkline;\r\nBaseSparkline.addPlugin(require(\"../core/tooltip\").plugin);\r\nvar _initTooltip = BaseSparkline.prototype._initTooltip;\r\nBaseSparkline.prototype._initTooltip = _noop;\r\nvar _disposeTooltip = BaseSparkline.prototype._disposeTooltip;\r\nBaseSparkline.prototype._disposeTooltip = function() {\r\n    if (this._tooltip) {\r\n        _disposeTooltip.apply(this, arguments)\r\n    }\r\n};\r\nBaseSparkline.prototype._setTooltipRendererOptions = function() {\r\n    var options = this._getRendererOptions();\r\n    if (this._tooltip) {\r\n        this._tooltip.setRendererOptions(options)\r\n    } else {\r\n        this._tooltipRendererOptions = options\r\n    }\r\n};\r\nBaseSparkline.prototype._setTooltipOptions = function() {\r\n    var tooltip = this._tooltip;\r\n    var options = tooltip && this._getOption(\"tooltip\");\r\n    tooltip && tooltip.update(_extend({}, options, {\r\n        customizeTooltip: generateCustomizeTooltipCallback(options.customizeTooltip, options.font, this.option(\"rtlEnabled\")),\r\n        enabled: options.enabled && this._isTooltipEnabled()\r\n    }))\r\n};\r\nBaseSparkline.prototype._showTooltip = function() {\r\n    var that = this;\r\n    clearTimeout(that._hideTooltipTimeout);\r\n    that._hideTooltipTimeout = null;\r\n    that._showTooltipCallback()\r\n};\r\nBaseSparkline.prototype._hideTooltip = function(delay) {\r\n    var that = this;\r\n    clearTimeout(that._hideTooltipTimeout);\r\n    if (delay) {\r\n        that._hideTooltipTimeout = setTimeout(that._hideTooltipCallback, delay)\r\n    } else {\r\n        that._hideTooltipCallback()\r\n    }\r\n};\r\nvar exportPlugin = extend(true, {}, require(\"../core/export\").plugin, {\r\n    init: _noop,\r\n    dispose: _noop,\r\n    customize: null,\r\n    members: {\r\n        _getExportMenuOptions: null\r\n    }\r\n});\r\nBaseSparkline.addPlugin(exportPlugin);\r\n"]},"metadata":{},"sourceType":"module"}