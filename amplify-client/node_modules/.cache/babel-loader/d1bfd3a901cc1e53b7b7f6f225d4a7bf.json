{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/plaque.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Plaque = void 0;\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar math = Math;\nvar round = math.round;\nvar max = math.max;\nvar min = math.min;\nvar sin = math.sin;\nvar cos = math.cos;\nvar asin = math.asin;\nvar PI = math.PI;\n\nvar buildPath = function buildPath() {\n  for (var _len = arguments.length, points = new Array(_len), _key = 0; _key < _len; _key++) {\n    points[_key] = arguments[_key];\n  }\n\n  return points.join(\"\");\n};\n\nfunction getArc(cornerRadius, xDirection, yDirection) {\n  return \"a \".concat(cornerRadius, \" \").concat(cornerRadius, \" 0 0 1 \").concat(xDirection * cornerRadius, \" \").concat(yDirection * cornerRadius);\n}\n\nfunction getAbsoluteArc(cornerRadius, x, y) {\n  return \"A \".concat(cornerRadius, \" \").concat(cornerRadius, \" 0 0 1 \").concat(x, \" \").concat(y);\n}\n\nfunction rotateX(x, y, angle, x0, y0) {\n  return (x - x0) * round(cos(angle)) + (y - y0) * round(sin(angle)) + x0;\n}\n\nfunction rotateY(x, y, angle, x0, y0) {\n  return -(x - x0) * round(sin(angle)) + (y - y0) * round(cos(angle)) + y0;\n}\n\nfunction rotateSize(options, angle) {\n  if (angle % 90 === 0 && angle % 180 !== 0) {\n    return {\n      width: options.height,\n      height: options.width\n    };\n  }\n\n  return options;\n}\n\nfunction getCloudAngle(_ref, x, y, anchorX, anchorY) {\n  var width = _ref.width,\n      height = _ref.height;\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var xr = Math.ceil(x + halfWidth);\n  var xl = Math.floor(x - halfWidth);\n  var yt = Math.floor(y - halfHeight);\n  var yb = Math.ceil(y + halfHeight);\n\n  if (anchorX < xl && anchorY < yt || anchorX >= xl && anchorX <= xr && anchorY < yt) {\n    return 270;\n  }\n\n  if (anchorX > xr && anchorY > yb || anchorX >= xl && anchorX <= xr && anchorY > yb) {\n    return 90;\n  } else {\n    if (anchorX < xl && anchorY > yb || anchorX < xl && anchorY >= yt && anchorY <= yb) {\n      return 180;\n    }\n  }\n\n  return 0;\n}\n\nfunction getCloudPoints(_ref2, x, y, anchorX, anchorY, _ref3, bounded) {\n  var width = _ref2.width,\n      height = _ref2.height;\n  var arrowWidth = _ref3.arrowWidth,\n      _ref3$cornerRadius = _ref3.cornerRadius,\n      cornerRadius = void 0 === _ref3$cornerRadius ? 0 : _ref3$cornerRadius;\n  var halfArrowWidth = arrowWidth / 2;\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var xr = Math.ceil(x + halfWidth);\n  var xl = Math.floor(x - halfWidth);\n  var yt = Math.floor(y - halfHeight);\n  var yb = Math.ceil(y + halfHeight);\n  var leftTopCorner = [xl, yt];\n  var rightTopCorner = [xr, yt];\n  var rightBottomCorner = [xr, yb];\n  var leftBottomCorner = [xl, yb];\n  var arrowX = anchorX <= xl ? xl : xr <= anchorX ? xr : anchorX;\n  var arrowY = anchorY <= yt ? yt : yb <= anchorY ? yb : anchorY;\n  var arrowBaseBottom = min(arrowY + halfArrowWidth, yb);\n  var arrowBaseTop = max(arrowY - halfArrowWidth, yt);\n  var arrowBaseLeft = max(arrowX - halfArrowWidth, xl);\n  cornerRadius = Math.min(width / 2, height / 2, cornerRadius);\n  var points;\n  leftTopCorner[1] += cornerRadius;\n  rightTopCorner[0] -= cornerRadius;\n  rightBottomCorner[1] -= cornerRadius;\n  leftBottomCorner[0] += cornerRadius;\n\n  if (!bounded || xl <= anchorX && anchorX <= xr && yt <= anchorY && anchorY <= yb) {\n    points = buildPath(leftTopCorner, getArc(cornerRadius, 1, -1), \"L\", rightTopCorner, getArc(cornerRadius, 1, 1), \"L\", rightBottomCorner, getArc(cornerRadius, -1, 1), \"L\", leftBottomCorner, getArc(cornerRadius, -1, -1));\n  } else {\n    if (anchorX > xr && anchorY < yt) {\n      var arrowAngle = arrowWidth / cornerRadius || 0;\n      var angle = PI / 4 + arrowAngle / 2;\n      var endAngle = PI / 4 - arrowAngle / 2;\n      var arrowEndPointX = rightTopCorner[0] + cos(endAngle) * cornerRadius;\n      var arrowEndPointY = rightTopCorner[1] + (1 - sin(endAngle)) * cornerRadius;\n      var arrowArc = buildPath(\"L\", rightTopCorner, getArc(cornerRadius, cos(angle), 1 - sin(angle)), \"L\", [anchorX, anchorY, arrowEndPointX, arrowEndPointY], getAbsoluteArc(cornerRadius, rightTopCorner[0] + cornerRadius, rightTopCorner[1] + cornerRadius));\n\n      if (Math.abs(angle) > PI / 2) {\n        arrowArc = buildPath(\"L\", [arrowBaseLeft, yt, anchorX, anchorY, xr, arrowBaseBottom]);\n      }\n\n      points = buildPath(leftTopCorner, getArc(cornerRadius, 1, -1), arrowArc, \"L\", rightBottomCorner, getArc(cornerRadius, -1, 1), \"L\", leftBottomCorner, getArc(cornerRadius, -1, -1));\n    } else {\n      if (anchorX > xr && anchorY >= yt && anchorY <= yb) {\n        var _arrowArc;\n\n        if (arrowBaseTop >= rightTopCorner[1] + cornerRadius && arrowBaseBottom <= rightBottomCorner[1]) {\n          _arrowArc = buildPath(getArc(cornerRadius, 1, 1), \"L\", [xr, arrowBaseTop, anchorX, anchorY, xr, arrowBaseBottom], \"L\", rightBottomCorner, getArc(cornerRadius, -1, 1));\n        } else {\n          if (arrowBaseTop < rightTopCorner[1] + cornerRadius && arrowBaseBottom >= rightTopCorner[1] + cornerRadius && arrowBaseBottom <= rightBottomCorner[1]) {\n            var arrowWidthRest = rightTopCorner[1] + cornerRadius - arrowBaseTop;\n\n            var _angle = arrowWidthRest / cornerRadius;\n\n            var arrowBaseTopX = rightTopCorner[0] + cos(_angle) * cornerRadius;\n            var arrowBaseTopY = rightTopCorner[1] + (1 - sin(_angle)) * cornerRadius;\n            _arrowArc = buildPath(getArc(cornerRadius, cos(_angle), 1 - sin(_angle)), \"L\", [arrowBaseTopX, arrowBaseTopY, anchorX, anchorY, xr, arrowBaseBottom], \"L\", rightBottomCorner, getArc(cornerRadius, -1, 1));\n          } else {\n            if (arrowBaseTop < rightTopCorner[1] + cornerRadius && arrowBaseBottom < rightTopCorner[1] + cornerRadius) {\n              var _arrowWidthRest = rightTopCorner[1] + cornerRadius - arrowBaseTop;\n\n              var _arrowAngle = _arrowWidthRest / cornerRadius;\n\n              var _angle2 = _arrowAngle;\n\n              var _arrowBaseTopX = rightTopCorner[0] + cos(_angle2) * cornerRadius;\n\n              var _arrowBaseTopY = rightTopCorner[1] + (1 - sin(_angle2)) * cornerRadius;\n\n              var bottomAngle = Math.sin((rightTopCorner[1] + cornerRadius - arrowBaseBottom) / cornerRadius);\n              var arrowBaseBottomX = rightTopCorner[0] + cornerRadius * cos(bottomAngle);\n              var arrowBaseBottomY = rightTopCorner[1] + cornerRadius * (1 - sin(bottomAngle));\n              _arrowArc = buildPath(getArc(cornerRadius, cos(_angle2), 1 - sin(_angle2)), \"L\", [_arrowBaseTopX, _arrowBaseTopY, anchorX, anchorY, arrowBaseBottomX, arrowBaseBottomY], getAbsoluteArc(cornerRadius, rightTopCorner[0] + cornerRadius, rightTopCorner[1] + cornerRadius), \"L\", rightBottomCorner, getArc(cornerRadius, -1, 1));\n            } else {\n              if (arrowBaseTop <= rightTopCorner[1] + cornerRadius && arrowBaseBottom >= rightBottomCorner[1]) {\n                var topAngle = asin((rightTopCorner[1] + cornerRadius - arrowBaseTop) / cornerRadius);\n\n                var _arrowBaseTopX2 = rightTopCorner[0] + cornerRadius * cos(topAngle);\n\n                var _arrowBaseTopY2 = rightTopCorner[1] + cornerRadius * (1 - sin(topAngle));\n\n                var _bottomAngle = asin((arrowBaseBottom - rightBottomCorner[1]) / cornerRadius);\n\n                var _arrowBaseBottomX = rightBottomCorner[0] + cornerRadius * (cos(_bottomAngle) - 1);\n\n                var _arrowBaseBottomY = rightBottomCorner[1] + cornerRadius * sin(_bottomAngle);\n\n                _arrowArc = buildPath(getArc(cornerRadius, cos(topAngle), 1 - sin(topAngle)), \"L\", [_arrowBaseTopX2, _arrowBaseTopY2, anchorX, anchorY, _arrowBaseBottomX, _arrowBaseBottomY], getAbsoluteArc(cornerRadius, rightBottomCorner[0] - cornerRadius, rightBottomCorner[1] + cornerRadius));\n              } else {\n                if (arrowBaseTop > rightTopCorner[1] + cornerRadius && arrowBaseTop <= rightBottomCorner[1] && arrowBaseBottom > rightBottomCorner[1]) {\n                  var _bottomAngle2 = asin((arrowBaseBottom - rightBottomCorner[1]) / cornerRadius);\n\n                  var _arrowBaseBottomX2 = rightBottomCorner[0] + cornerRadius * (cos(_bottomAngle2) - 1);\n\n                  var _arrowBaseBottomY2 = rightBottomCorner[1] + cornerRadius * sin(_bottomAngle2);\n\n                  _arrowArc = buildPath(getArc(cornerRadius, 1, 1), \"L\", [xr, arrowBaseTop, anchorX, anchorY, _arrowBaseBottomX2, _arrowBaseBottomY2], getAbsoluteArc(cornerRadius, rightBottomCorner[0] - cornerRadius, rightBottomCorner[1] + cornerRadius));\n                } else {\n                  if (arrowBaseTop > rightTopCorner[1] + cornerRadius && arrowBaseBottom > rightBottomCorner[1]) {\n                    var _bottomAngle3 = asin((arrowBaseBottom - rightBottomCorner[1]) / cornerRadius);\n\n                    var _arrowBaseBottomX3 = rightBottomCorner[0] + cornerRadius * (cos(_bottomAngle3) - 1);\n\n                    var _arrowBaseBottomY3 = rightBottomCorner[1] + cornerRadius * sin(_bottomAngle3);\n\n                    var _topAngle = asin((arrowBaseTop - rightBottomCorner[1]) / cornerRadius);\n\n                    var _arrowBaseTopX3 = rightBottomCorner[0] + cornerRadius * (cos(_topAngle) - 1);\n\n                    var _arrowBaseTopY3 = rightBottomCorner[1] + cornerRadius * sin(_topAngle);\n\n                    _arrowArc = buildPath(getArc(cornerRadius, 1, 1), \"L\", rightBottomCorner, getArc(cornerRadius, cos(_topAngle) - 1, sin(_topAngle)), \"L\", [_arrowBaseTopX3, _arrowBaseTopY3, anchorX, anchorY, _arrowBaseBottomX3, _arrowBaseBottomY3], getAbsoluteArc(cornerRadius, rightBottomCorner[0] - cornerRadius, rightBottomCorner[1] + cornerRadius));\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        points = buildPath(leftTopCorner, getArc(cornerRadius, 1, -1), \"L\", rightTopCorner, _arrowArc, \"L\", leftBottomCorner, getArc(cornerRadius, -1, -1));\n      }\n    }\n  }\n\n  return buildPath(\"M\", points, \"Z\");\n}\n\nvar Plaque = exports.Plaque = function () {\n  function Plaque(options, widget, root, contentTemplate) {\n    var bounded = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : true;\n    var measureContent = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : function (_, g) {\n      return g.getBBox();\n    };\n    var moveContentGroup = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : function (_, g, x, y) {\n      return g.move(x, y);\n    };\n\n    _classCallCheck(this, Plaque);\n\n    this.widget = widget;\n    this.options = options;\n    this.root = root;\n    this.contentTemplate = contentTemplate;\n    this.bonded = bounded;\n    this.measureContent = measureContent;\n    this.moveContentGroup = moveContentGroup;\n  }\n\n  _createClass(Plaque, [{\n    key: \"draw\",\n    value: function value(_ref4) {\n      var _this = this;\n\n      var anchorX = _ref4.x,\n          anchorY = _ref4.y,\n          _ref4$canvas = _ref4.canvas,\n          canvas = void 0 === _ref4$canvas ? {} : _ref4$canvas,\n          offsetX = _ref4.offsetX,\n          offsetY = _ref4.offsetY,\n          _ref4$offset = _ref4.offset,\n          offset = void 0 === _ref4$offset ? 0 : _ref4$offset;\n      var options = this.options;\n      var x = options.x,\n          y = options.y;\n      var bounds = {\n        xl: canvas.left,\n        xr: canvas.width - canvas.right,\n        width: canvas.width - canvas.right - canvas.left,\n        yt: canvas.top,\n        yb: canvas.height - canvas.bottom,\n        height: canvas.height - canvas.bottom - canvas.top\n      };\n\n      if (!((0, _type.isDefined)(anchorX) && (0, _type.isDefined)(anchorY)) && !((0, _type.isDefined)(x) && (0, _type.isDefined)(y))) {\n        return;\n      }\n\n      if ((0, _type.isDefined)(anchorX) && (anchorX < bounds.xl || bounds.xr < anchorX || anchorY < bounds.yt || bounds.yb < anchorY)) {\n        return;\n      }\n\n      if (!this._root) {\n        this._draw();\n      }\n\n      var shadowSettings = (0, _extend.extend)({\n        x: \"-50%\",\n        y: \"-50%\",\n        width: \"200%\",\n        height: \"200%\"\n      }, options.shadow);\n      var contentWidth = options.width > 0 ? options.width : null;\n      var contentHeight = options.height > 0 ? options.height : null;\n\n      var onRender = function onRender() {\n        var bBox = _this._contentBBox = _this.measureContent(_this.widget, _this._contentGroup);\n\n        var size = _this._size = {\n          width: max(contentWidth, bBox.width) + 2 * options.paddingLeftRight,\n          height: max(contentHeight, bBox.height) + 2 * options.paddingTopBottom,\n          offset: offset\n        };\n        var xOff = shadowSettings.offsetX;\n        var yOff = shadowSettings.offsetY;\n        var blur = 2 * shadowSettings.blur + 1;\n        var lm = max(blur - xOff, 0);\n        var rm = max(blur + xOff, 0);\n        var tm = max(blur - yOff, 0);\n        var bm = max(blur + yOff, 0);\n        _this.margins = {\n          lm: lm,\n          rm: rm,\n          tm: tm,\n          bm: bm\n        };\n\n        if (!(0, _type.isDefined)(x)) {\n          if ((0, _type.isDefined)(offsetX)) {\n            x = anchorX + offsetX;\n          } else {\n            if (bounds.width < size.width) {\n              x = round(bounds.xl + bounds.width / 2);\n            } else {\n              x = min(max(anchorX, Math.ceil(bounds.xl + size.width / 2 + lm)), Math.floor(bounds.xr - size.width / 2 - rm));\n            }\n          }\n        } else {\n          x += offsetX || 0;\n\n          if (!(0, _type.isDefined)(anchorX)) {\n            anchorX = x;\n          }\n        }\n\n        if (!(0, _type.isDefined)(y)) {\n          if ((0, _type.isDefined)(offsetY)) {\n            y = anchorY + offsetY;\n          } else {\n            var y_top = anchorY - options.arrowLength - size.height / 2 - offset;\n            var y_bottom = anchorY + options.arrowLength + size.height / 2 + offset;\n\n            if (bounds.height < size.height + options.arrowLength) {\n              y = round(bounds.yt + size.height / 2);\n            } else {\n              if (y_top - size.height / 2 - tm < bounds.yt) {\n                if (y_bottom + size.height / 2 + bm < bounds.yb) {\n                  y = y_bottom;\n                  anchorY += offset;\n                } else {\n                  y = round(bounds.yt + size.height / 2);\n                }\n              } else {\n                y = y_top;\n                anchorY -= offset;\n              }\n            }\n          }\n        } else {\n          y += offsetY || 0;\n\n          if (!(0, _type.isDefined)(anchorY)) {\n            anchorY = y + size.height / 2;\n          }\n        }\n\n        _this.anchorX = anchorX;\n        _this.anchorY = anchorY;\n\n        _this.move(x, y);\n      };\n\n      if (this.contentTemplate.render) {\n        this.contentTemplate.render({\n          model: options,\n          container: this._contentGroup.element,\n          onRendered: onRender\n        });\n      } else {\n        this.contentTemplate(this.widget, this._contentGroup);\n        onRender();\n      }\n    }\n  }, {\n    key: \"_draw\",\n    value: function value() {\n      var renderer = this.widget._renderer;\n      var options = this.options;\n      var cloudSettings = {\n        opacity: options.opacity,\n        \"stroke-width\": 0,\n        fill: options.color\n      };\n      var borderOptions = options.border || {};\n\n      if (borderOptions.visible) {\n        (0, _extend.extend)(cloudSettings, {\n          \"stroke-width\": borderOptions.width,\n          stroke: borderOptions.color,\n          \"stroke-opacity\": borderOptions.opacity,\n          dashStyle: borderOptions.dashStyle\n        });\n      }\n\n      var shadowSettings = (0, _extend.extend)({\n        x: \"-50%\",\n        y: \"-50%\",\n        width: \"200%\",\n        height: \"200%\"\n      }, options.shadow);\n      var shadow = this._shadow = renderer.shadowFilter().attr(shadowSettings);\n      var group = this._root = renderer.g().append(this.root);\n\n      if (options.type) {\n        group.attr({\n          \"class\": \"dxc-\".concat(options.type, \"-annotation\")\n        });\n      }\n\n      var cloudGroup = renderer.g().attr({\n        filter: shadow.id\n      }).append(group);\n      this._cloud = renderer.path([], \"area\").attr(cloudSettings).sharp().append(cloudGroup);\n      this._contentGroup = renderer.g().append(group);\n    }\n  }, {\n    key: \"getBBox\",\n    value: function value() {\n      var size = this._size || {};\n      var margins = this.margins || {};\n      var rotationAngle = getCloudAngle(size, this.x, this.y, this.anchorX, this.anchorY);\n      return {\n        x: Math.floor(this.x - size.width / 2 - margins.lm),\n        y: Math.floor(this.y - size.height / 2 - margins.tm - (270 === rotationAngle ? this.options.arrowLength : 0)),\n        width: size.width + margins.lm + margins.rm,\n        height: size.height + margins.tm + margins.bm + (90 === rotationAngle || 270 === rotationAngle ? this.options.arrowLength : 0)\n      };\n    }\n  }, {\n    key: \"clear\",\n    value: function value() {\n      if (this._root) {\n        this._root.remove();\n\n        this._shadow.remove();\n\n        this._root = null;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"customizeCloud\",\n    value: function value(attr) {\n      if (this._cloud) {\n        this._cloud.attr(attr);\n      }\n    }\n  }, {\n    key: \"moveRoot\",\n    value: function value(x, y) {\n      if (this._root) {\n        this._root.move(x, y);\n      }\n    }\n  }, {\n    key: \"move\",\n    value: function value(x, y) {\n      x = round(x);\n      y = round(y);\n      this.x = x;\n      this.y = y;\n      var rotationAngle = getCloudAngle(this._size, x, y, this.anchorX, this.anchorY);\n      var radRotationAngle = rotationAngle * PI / 180;\n\n      this._cloud.attr({\n        d: getCloudPoints(rotateSize(this._size, rotationAngle), x, y, rotateX(this.anchorX, this.anchorY, radRotationAngle, x, y), rotateY(this.anchorX, this.anchorY, radRotationAngle, x, y), this.options, this.bonded)\n      }).rotate(rotationAngle, x, y);\n\n      this.moveContentGroup(this.widget, this._contentGroup, x - this._contentBBox.x - this._contentBBox.width / 2, y - this._contentBBox.y - this._contentBBox.height / 2);\n    }\n  }, {\n    key: \"hitTest\",\n    value: function value(x, y) {\n      var _ref5 = this._size || {},\n          width = _ref5.width,\n          height = _ref5.height;\n\n      return Math.abs(x - this.x) <= width / 2 && Math.abs(y - this.y) <= height / 2;\n    }\n  }]);\n\n  return Plaque;\n}();","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/core/plaque.js"],"names":["Object","value","exports","_extend","require","_type","instance","i","props","descriptor","_defineProperties","Constructor","math","round","max","min","sin","cos","asin","PI","buildPath","_len","arguments","points","_key","xDirection","yDirection","x","y","angle","width","options","height","_ref","halfWidth","halfHeight","xr","Math","xl","yt","yb","anchorX","anchorY","_ref2","arrowWidth","_ref3","_ref3$cornerRadius","cornerRadius","halfArrowWidth","leftTopCorner","rightTopCorner","rightBottomCorner","leftBottomCorner","arrowX","arrowY","arrowBaseBottom","arrowBaseTop","arrowBaseLeft","getArc","arrowAngle","endAngle","arrowEndPointX","arrowEndPointY","arrowArc","getAbsoluteArc","_arrowArc","arrowWidthRest","_angle","arrowBaseTopX","arrowBaseTopY","_arrowWidthRest","_arrowAngle","_angle2","_arrowBaseTopX","_arrowBaseTopY","bottomAngle","arrowBaseBottomX","arrowBaseBottomY","topAngle","_arrowBaseTopX2","_arrowBaseTopY2","_bottomAngle","_arrowBaseBottomX","_arrowBaseBottomY","_bottomAngle2","_arrowBaseBottomX2","_arrowBaseBottomY2","_bottomAngle3","_arrowBaseBottomX3","_arrowBaseBottomY3","_topAngle","_arrowBaseTopX3","_arrowBaseTopY3","Plaque","bounded","measureContent","g","moveContentGroup","_classCallCheck","_createClass","key","_this","_ref4","_ref4$canvas","canvas","offsetX","offsetY","_ref4$offset","offset","bounds","top","shadowSettings","contentWidth","contentHeight","onRender","bBox","size","xOff","yOff","blur","lm","rm","tm","bm","y_top","y_bottom","model","container","onRendered","renderer","cloudSettings","opacity","fill","color","borderOptions","stroke","dashStyle","shadow","group","cloudGroup","filter","id","margins","rotationAngle","getCloudAngle","radRotationAngle","d","getCloudPoints","rotateSize","rotateX","rotateY","_ref5"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/core/plaque.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.Plaque = void 0;\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar math = Math;\r\nvar round = math.round;\r\nvar max = math.max;\r\nvar min = math.min;\r\nvar sin = math.sin;\r\nvar cos = math.cos;\r\nvar asin = math.asin;\r\nvar PI = math.PI;\r\nvar buildPath = function() {\r\n    for (var _len = arguments.length, points = new Array(_len), _key = 0; _key < _len; _key++) {\r\n        points[_key] = arguments[_key]\r\n    }\r\n    return points.join(\"\")\r\n};\r\n\r\nfunction getArc(cornerRadius, xDirection, yDirection) {\r\n    return \"a \".concat(cornerRadius, \" \").concat(cornerRadius, \" 0 0 1 \").concat(xDirection * cornerRadius, \" \").concat(yDirection * cornerRadius)\r\n}\r\n\r\nfunction getAbsoluteArc(cornerRadius, x, y) {\r\n    return \"A \".concat(cornerRadius, \" \").concat(cornerRadius, \" 0 0 1 \").concat(x, \" \").concat(y)\r\n}\r\n\r\nfunction rotateX(x, y, angle, x0, y0) {\r\n    return (x - x0) * round(cos(angle)) + (y - y0) * round(sin(angle)) + x0\r\n}\r\n\r\nfunction rotateY(x, y, angle, x0, y0) {\r\n    return -(x - x0) * round(sin(angle)) + (y - y0) * round(cos(angle)) + y0\r\n}\r\n\r\nfunction rotateSize(options, angle) {\r\n    if (angle % 90 === 0 && angle % 180 !== 0) {\r\n        return {\r\n            width: options.height,\r\n            height: options.width\r\n        }\r\n    }\r\n    return options\r\n}\r\n\r\nfunction getCloudAngle(_ref, x, y, anchorX, anchorY) {\r\n    var width = _ref.width,\r\n        height = _ref.height;\r\n    var halfWidth = width / 2;\r\n    var halfHeight = height / 2;\r\n    var xr = Math.ceil(x + halfWidth);\r\n    var xl = Math.floor(x - halfWidth);\r\n    var yt = Math.floor(y - halfHeight);\r\n    var yb = Math.ceil(y + halfHeight);\r\n    if (anchorX < xl && anchorY < yt || anchorX >= xl && anchorX <= xr && anchorY < yt) {\r\n        return 270\r\n    }\r\n    if (anchorX > xr && anchorY > yb || anchorX >= xl && anchorX <= xr && anchorY > yb) {\r\n        return 90\r\n    } else {\r\n        if (anchorX < xl && anchorY > yb || anchorX < xl && anchorY >= yt && anchorY <= yb) {\r\n            return 180\r\n        }\r\n    }\r\n    return 0\r\n}\r\n\r\nfunction getCloudPoints(_ref2, x, y, anchorX, anchorY, _ref3, bounded) {\r\n    var width = _ref2.width,\r\n        height = _ref2.height;\r\n    var arrowWidth = _ref3.arrowWidth,\r\n        _ref3$cornerRadius = _ref3.cornerRadius,\r\n        cornerRadius = void 0 === _ref3$cornerRadius ? 0 : _ref3$cornerRadius;\r\n    var halfArrowWidth = arrowWidth / 2;\r\n    var halfWidth = width / 2;\r\n    var halfHeight = height / 2;\r\n    var xr = Math.ceil(x + halfWidth);\r\n    var xl = Math.floor(x - halfWidth);\r\n    var yt = Math.floor(y - halfHeight);\r\n    var yb = Math.ceil(y + halfHeight);\r\n    var leftTopCorner = [xl, yt];\r\n    var rightTopCorner = [xr, yt];\r\n    var rightBottomCorner = [xr, yb];\r\n    var leftBottomCorner = [xl, yb];\r\n    var arrowX = anchorX <= xl ? xl : xr <= anchorX ? xr : anchorX;\r\n    var arrowY = anchorY <= yt ? yt : yb <= anchorY ? yb : anchorY;\r\n    var arrowBaseBottom = min(arrowY + halfArrowWidth, yb);\r\n    var arrowBaseTop = max(arrowY - halfArrowWidth, yt);\r\n    var arrowBaseLeft = max(arrowX - halfArrowWidth, xl);\r\n    cornerRadius = Math.min(width / 2, height / 2, cornerRadius);\r\n    var points;\r\n    leftTopCorner[1] += cornerRadius;\r\n    rightTopCorner[0] -= cornerRadius;\r\n    rightBottomCorner[1] -= cornerRadius;\r\n    leftBottomCorner[0] += cornerRadius;\r\n    if (!bounded || xl <= anchorX && anchorX <= xr && yt <= anchorY && anchorY <= yb) {\r\n        points = buildPath(leftTopCorner, getArc(cornerRadius, 1, -1), \"L\", rightTopCorner, getArc(cornerRadius, 1, 1), \"L\", rightBottomCorner, getArc(cornerRadius, -1, 1), \"L\", leftBottomCorner, getArc(cornerRadius, -1, -1))\r\n    } else {\r\n        if (anchorX > xr && anchorY < yt) {\r\n            var arrowAngle = arrowWidth / cornerRadius || 0;\r\n            var angle = PI / 4 + arrowAngle / 2;\r\n            var endAngle = PI / 4 - arrowAngle / 2;\r\n            var arrowEndPointX = rightTopCorner[0] + cos(endAngle) * cornerRadius;\r\n            var arrowEndPointY = rightTopCorner[1] + (1 - sin(endAngle)) * cornerRadius;\r\n            var arrowArc = buildPath(\"L\", rightTopCorner, getArc(cornerRadius, cos(angle), 1 - sin(angle)), \"L\", [anchorX, anchorY, arrowEndPointX, arrowEndPointY], getAbsoluteArc(cornerRadius, rightTopCorner[0] + cornerRadius, rightTopCorner[1] + cornerRadius));\r\n            if (Math.abs(angle) > PI / 2) {\r\n                arrowArc = buildPath(\"L\", [arrowBaseLeft, yt, anchorX, anchorY, xr, arrowBaseBottom])\r\n            }\r\n            points = buildPath(leftTopCorner, getArc(cornerRadius, 1, -1), arrowArc, \"L\", rightBottomCorner, getArc(cornerRadius, -1, 1), \"L\", leftBottomCorner, getArc(cornerRadius, -1, -1))\r\n        } else {\r\n            if (anchorX > xr && anchorY >= yt && anchorY <= yb) {\r\n                var _arrowArc;\r\n                if (arrowBaseTop >= rightTopCorner[1] + cornerRadius && arrowBaseBottom <= rightBottomCorner[1]) {\r\n                    _arrowArc = buildPath(getArc(cornerRadius, 1, 1), \"L\", [xr, arrowBaseTop, anchorX, anchorY, xr, arrowBaseBottom], \"L\", rightBottomCorner, getArc(cornerRadius, -1, 1))\r\n                } else {\r\n                    if (arrowBaseTop < rightTopCorner[1] + cornerRadius && arrowBaseBottom >= rightTopCorner[1] + cornerRadius && arrowBaseBottom <= rightBottomCorner[1]) {\r\n                        var arrowWidthRest = rightTopCorner[1] + cornerRadius - arrowBaseTop;\r\n                        var _angle = arrowWidthRest / cornerRadius;\r\n                        var arrowBaseTopX = rightTopCorner[0] + cos(_angle) * cornerRadius;\r\n                        var arrowBaseTopY = rightTopCorner[1] + (1 - sin(_angle)) * cornerRadius;\r\n                        _arrowArc = buildPath(getArc(cornerRadius, cos(_angle), 1 - sin(_angle)), \"L\", [arrowBaseTopX, arrowBaseTopY, anchorX, anchorY, xr, arrowBaseBottom], \"L\", rightBottomCorner, getArc(cornerRadius, -1, 1))\r\n                    } else {\r\n                        if (arrowBaseTop < rightTopCorner[1] + cornerRadius && arrowBaseBottom < rightTopCorner[1] + cornerRadius) {\r\n                            var _arrowWidthRest = rightTopCorner[1] + cornerRadius - arrowBaseTop;\r\n                            var _arrowAngle = _arrowWidthRest / cornerRadius;\r\n                            var _angle2 = _arrowAngle;\r\n                            var _arrowBaseTopX = rightTopCorner[0] + cos(_angle2) * cornerRadius;\r\n                            var _arrowBaseTopY = rightTopCorner[1] + (1 - sin(_angle2)) * cornerRadius;\r\n                            var bottomAngle = Math.sin((rightTopCorner[1] + cornerRadius - arrowBaseBottom) / cornerRadius);\r\n                            var arrowBaseBottomX = rightTopCorner[0] + cornerRadius * cos(bottomAngle);\r\n                            var arrowBaseBottomY = rightTopCorner[1] + cornerRadius * (1 - sin(bottomAngle));\r\n                            _arrowArc = buildPath(getArc(cornerRadius, cos(_angle2), 1 - sin(_angle2)), \"L\", [_arrowBaseTopX, _arrowBaseTopY, anchorX, anchorY, arrowBaseBottomX, arrowBaseBottomY], getAbsoluteArc(cornerRadius, rightTopCorner[0] + cornerRadius, rightTopCorner[1] + cornerRadius), \"L\", rightBottomCorner, getArc(cornerRadius, -1, 1))\r\n                        } else {\r\n                            if (arrowBaseTop <= rightTopCorner[1] + cornerRadius && arrowBaseBottom >= rightBottomCorner[1]) {\r\n                                var topAngle = asin((rightTopCorner[1] + cornerRadius - arrowBaseTop) / cornerRadius);\r\n                                var _arrowBaseTopX2 = rightTopCorner[0] + cornerRadius * cos(topAngle);\r\n                                var _arrowBaseTopY2 = rightTopCorner[1] + cornerRadius * (1 - sin(topAngle));\r\n                                var _bottomAngle = asin((arrowBaseBottom - rightBottomCorner[1]) / cornerRadius);\r\n                                var _arrowBaseBottomX = rightBottomCorner[0] + cornerRadius * (cos(_bottomAngle) - 1);\r\n                                var _arrowBaseBottomY = rightBottomCorner[1] + cornerRadius * sin(_bottomAngle);\r\n                                _arrowArc = buildPath(getArc(cornerRadius, cos(topAngle), 1 - sin(topAngle)), \"L\", [_arrowBaseTopX2, _arrowBaseTopY2, anchorX, anchorY, _arrowBaseBottomX, _arrowBaseBottomY], getAbsoluteArc(cornerRadius, rightBottomCorner[0] - cornerRadius, rightBottomCorner[1] + cornerRadius))\r\n                            } else {\r\n                                if (arrowBaseTop > rightTopCorner[1] + cornerRadius && arrowBaseTop <= rightBottomCorner[1] && arrowBaseBottom > rightBottomCorner[1]) {\r\n                                    var _bottomAngle2 = asin((arrowBaseBottom - rightBottomCorner[1]) / cornerRadius);\r\n                                    var _arrowBaseBottomX2 = rightBottomCorner[0] + cornerRadius * (cos(_bottomAngle2) - 1);\r\n                                    var _arrowBaseBottomY2 = rightBottomCorner[1] + cornerRadius * sin(_bottomAngle2);\r\n                                    _arrowArc = buildPath(getArc(cornerRadius, 1, 1), \"L\", [xr, arrowBaseTop, anchorX, anchorY, _arrowBaseBottomX2, _arrowBaseBottomY2], getAbsoluteArc(cornerRadius, rightBottomCorner[0] - cornerRadius, rightBottomCorner[1] + cornerRadius))\r\n                                } else {\r\n                                    if (arrowBaseTop > rightTopCorner[1] + cornerRadius && arrowBaseBottom > rightBottomCorner[1]) {\r\n                                        var _bottomAngle3 = asin((arrowBaseBottom - rightBottomCorner[1]) / cornerRadius);\r\n                                        var _arrowBaseBottomX3 = rightBottomCorner[0] + cornerRadius * (cos(_bottomAngle3) - 1);\r\n                                        var _arrowBaseBottomY3 = rightBottomCorner[1] + cornerRadius * sin(_bottomAngle3);\r\n                                        var _topAngle = asin((arrowBaseTop - rightBottomCorner[1]) / cornerRadius);\r\n                                        var _arrowBaseTopX3 = rightBottomCorner[0] + cornerRadius * (cos(_topAngle) - 1);\r\n                                        var _arrowBaseTopY3 = rightBottomCorner[1] + cornerRadius * sin(_topAngle);\r\n                                        _arrowArc = buildPath(getArc(cornerRadius, 1, 1), \"L\", rightBottomCorner, getArc(cornerRadius, cos(_topAngle) - 1, sin(_topAngle)), \"L\", [_arrowBaseTopX3, _arrowBaseTopY3, anchorX, anchorY, _arrowBaseBottomX3, _arrowBaseBottomY3], getAbsoluteArc(cornerRadius, rightBottomCorner[0] - cornerRadius, rightBottomCorner[1] + cornerRadius))\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                points = buildPath(leftTopCorner, getArc(cornerRadius, 1, -1), \"L\", rightTopCorner, _arrowArc, \"L\", leftBottomCorner, getArc(cornerRadius, -1, -1))\r\n            }\r\n        }\r\n    }\r\n    return buildPath(\"M\", points, \"Z\")\r\n}\r\nvar Plaque = exports.Plaque = function() {\r\n    function Plaque(options, widget, root, contentTemplate) {\r\n        var bounded = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : true;\r\n        var measureContent = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : function(_, g) {\r\n            return g.getBBox()\r\n        };\r\n        var moveContentGroup = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : function(_, g, x, y) {\r\n            return g.move(x, y)\r\n        };\r\n        _classCallCheck(this, Plaque);\r\n        this.widget = widget;\r\n        this.options = options;\r\n        this.root = root;\r\n        this.contentTemplate = contentTemplate;\r\n        this.bonded = bounded;\r\n        this.measureContent = measureContent;\r\n        this.moveContentGroup = moveContentGroup\r\n    }\r\n    _createClass(Plaque, [{\r\n        key: \"draw\",\r\n        value: function(_ref4) {\r\n            var _this = this;\r\n            var anchorX = _ref4.x,\r\n                anchorY = _ref4.y,\r\n                _ref4$canvas = _ref4.canvas,\r\n                canvas = void 0 === _ref4$canvas ? {} : _ref4$canvas,\r\n                offsetX = _ref4.offsetX,\r\n                offsetY = _ref4.offsetY,\r\n                _ref4$offset = _ref4.offset,\r\n                offset = void 0 === _ref4$offset ? 0 : _ref4$offset;\r\n            var options = this.options;\r\n            var x = options.x,\r\n                y = options.y;\r\n            var bounds = {\r\n                xl: canvas.left,\r\n                xr: canvas.width - canvas.right,\r\n                width: canvas.width - canvas.right - canvas.left,\r\n                yt: canvas.top,\r\n                yb: canvas.height - canvas.bottom,\r\n                height: canvas.height - canvas.bottom - canvas.top\r\n            };\r\n            if (!((0, _type.isDefined)(anchorX) && (0, _type.isDefined)(anchorY)) && !((0, _type.isDefined)(x) && (0, _type.isDefined)(y))) {\r\n                return\r\n            }\r\n            if ((0, _type.isDefined)(anchorX) && (anchorX < bounds.xl || bounds.xr < anchorX || anchorY < bounds.yt || bounds.yb < anchorY)) {\r\n                return\r\n            }\r\n            if (!this._root) {\r\n                this._draw()\r\n            }\r\n            var shadowSettings = (0, _extend.extend)({\r\n                x: \"-50%\",\r\n                y: \"-50%\",\r\n                width: \"200%\",\r\n                height: \"200%\"\r\n            }, options.shadow);\r\n            var contentWidth = options.width > 0 ? options.width : null;\r\n            var contentHeight = options.height > 0 ? options.height : null;\r\n            var onRender = function() {\r\n                var bBox = _this._contentBBox = _this.measureContent(_this.widget, _this._contentGroup);\r\n                var size = _this._size = {\r\n                    width: max(contentWidth, bBox.width) + 2 * options.paddingLeftRight,\r\n                    height: max(contentHeight, bBox.height) + 2 * options.paddingTopBottom,\r\n                    offset: offset\r\n                };\r\n                var xOff = shadowSettings.offsetX;\r\n                var yOff = shadowSettings.offsetY;\r\n                var blur = 2 * shadowSettings.blur + 1;\r\n                var lm = max(blur - xOff, 0);\r\n                var rm = max(blur + xOff, 0);\r\n                var tm = max(blur - yOff, 0);\r\n                var bm = max(blur + yOff, 0);\r\n                _this.margins = {\r\n                    lm: lm,\r\n                    rm: rm,\r\n                    tm: tm,\r\n                    bm: bm\r\n                };\r\n                if (!(0, _type.isDefined)(x)) {\r\n                    if ((0, _type.isDefined)(offsetX)) {\r\n                        x = anchorX + offsetX\r\n                    } else {\r\n                        if (bounds.width < size.width) {\r\n                            x = round(bounds.xl + bounds.width / 2)\r\n                        } else {\r\n                            x = min(max(anchorX, Math.ceil(bounds.xl + size.width / 2 + lm)), Math.floor(bounds.xr - size.width / 2 - rm))\r\n                        }\r\n                    }\r\n                } else {\r\n                    x += offsetX || 0;\r\n                    if (!(0, _type.isDefined)(anchorX)) {\r\n                        anchorX = x\r\n                    }\r\n                }\r\n                if (!(0, _type.isDefined)(y)) {\r\n                    if ((0, _type.isDefined)(offsetY)) {\r\n                        y = anchorY + offsetY\r\n                    } else {\r\n                        var y_top = anchorY - options.arrowLength - size.height / 2 - offset;\r\n                        var y_bottom = anchorY + options.arrowLength + size.height / 2 + offset;\r\n                        if (bounds.height < size.height + options.arrowLength) {\r\n                            y = round(bounds.yt + size.height / 2)\r\n                        } else {\r\n                            if (y_top - size.height / 2 - tm < bounds.yt) {\r\n                                if (y_bottom + size.height / 2 + bm < bounds.yb) {\r\n                                    y = y_bottom;\r\n                                    anchorY += offset\r\n                                } else {\r\n                                    y = round(bounds.yt + size.height / 2)\r\n                                }\r\n                            } else {\r\n                                y = y_top;\r\n                                anchorY -= offset\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    y += offsetY || 0;\r\n                    if (!(0, _type.isDefined)(anchorY)) {\r\n                        anchorY = y + size.height / 2\r\n                    }\r\n                }\r\n                _this.anchorX = anchorX;\r\n                _this.anchorY = anchorY;\r\n                _this.move(x, y)\r\n            };\r\n            if (this.contentTemplate.render) {\r\n                this.contentTemplate.render({\r\n                    model: options,\r\n                    container: this._contentGroup.element,\r\n                    onRendered: onRender\r\n                })\r\n            } else {\r\n                this.contentTemplate(this.widget, this._contentGroup);\r\n                onRender()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_draw\",\r\n        value: function() {\r\n            var renderer = this.widget._renderer;\r\n            var options = this.options;\r\n            var cloudSettings = {\r\n                opacity: options.opacity,\r\n                \"stroke-width\": 0,\r\n                fill: options.color\r\n            };\r\n            var borderOptions = options.border || {};\r\n            if (borderOptions.visible) {\r\n                (0, _extend.extend)(cloudSettings, {\r\n                    \"stroke-width\": borderOptions.width,\r\n                    stroke: borderOptions.color,\r\n                    \"stroke-opacity\": borderOptions.opacity,\r\n                    dashStyle: borderOptions.dashStyle\r\n                })\r\n            }\r\n            var shadowSettings = (0, _extend.extend)({\r\n                x: \"-50%\",\r\n                y: \"-50%\",\r\n                width: \"200%\",\r\n                height: \"200%\"\r\n            }, options.shadow);\r\n            var shadow = this._shadow = renderer.shadowFilter().attr(shadowSettings);\r\n            var group = this._root = renderer.g().append(this.root);\r\n            if (options.type) {\r\n                group.attr({\r\n                    \"class\": \"dxc-\".concat(options.type, \"-annotation\")\r\n                })\r\n            }\r\n            var cloudGroup = renderer.g().attr({\r\n                filter: shadow.id\r\n            }).append(group);\r\n            this._cloud = renderer.path([], \"area\").attr(cloudSettings).sharp().append(cloudGroup);\r\n            this._contentGroup = renderer.g().append(group)\r\n        }\r\n    }, {\r\n        key: \"getBBox\",\r\n        value: function() {\r\n            var size = this._size || {};\r\n            var margins = this.margins || {};\r\n            var rotationAngle = getCloudAngle(size, this.x, this.y, this.anchorX, this.anchorY);\r\n            return {\r\n                x: Math.floor(this.x - size.width / 2 - margins.lm),\r\n                y: Math.floor(this.y - size.height / 2 - margins.tm - (270 === rotationAngle ? this.options.arrowLength : 0)),\r\n                width: size.width + margins.lm + margins.rm,\r\n                height: size.height + margins.tm + margins.bm + (90 === rotationAngle || 270 === rotationAngle ? this.options.arrowLength : 0)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"clear\",\r\n        value: function() {\r\n            if (this._root) {\r\n                this._root.remove();\r\n                this._shadow.remove();\r\n                this._root = null\r\n            }\r\n            return this\r\n        }\r\n    }, {\r\n        key: \"customizeCloud\",\r\n        value: function(attr) {\r\n            if (this._cloud) {\r\n                this._cloud.attr(attr)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"moveRoot\",\r\n        value: function(x, y) {\r\n            if (this._root) {\r\n                this._root.move(x, y)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"move\",\r\n        value: function(x, y) {\r\n            x = round(x);\r\n            y = round(y);\r\n            this.x = x;\r\n            this.y = y;\r\n            var rotationAngle = getCloudAngle(this._size, x, y, this.anchorX, this.anchorY);\r\n            var radRotationAngle = rotationAngle * PI / 180;\r\n            this._cloud.attr({\r\n                d: getCloudPoints(rotateSize(this._size, rotationAngle), x, y, rotateX(this.anchorX, this.anchorY, radRotationAngle, x, y), rotateY(this.anchorX, this.anchorY, radRotationAngle, x, y), this.options, this.bonded)\r\n            }).rotate(rotationAngle, x, y);\r\n            this.moveContentGroup(this.widget, this._contentGroup, x - this._contentBBox.x - this._contentBBox.width / 2, y - this._contentBBox.y - this._contentBBox.height / 2)\r\n        }\r\n    }, {\r\n        key: \"hitTest\",\r\n        value: function(x, y) {\r\n            var _ref5 = this._size || {},\r\n                width = _ref5.width,\r\n                height = _ref5.height;\r\n            return Math.abs(x - this.x) <= width / 2 && Math.abs(y - this.y) <= height / 2\r\n        }\r\n    }]);\r\n    return Plaque\r\n}();\r\n"]},"metadata":{},"sourceType":"module"}