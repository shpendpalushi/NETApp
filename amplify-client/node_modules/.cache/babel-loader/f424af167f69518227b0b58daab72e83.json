{"ast":null,"code":"/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.editing.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _string = require(\"../../core/utils/string\");\n\nvar _message = require(\"../../localization/message\");\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _ui = require(\"../widget/ui.widget\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _uiFile_managerDialog = require(\"./ui.file_manager.dialog.name_editor\");\n\nvar _uiFile_managerDialog2 = _interopRequireDefault(_uiFile_managerDialog);\n\nvar _uiFile_managerDialog3 = require(\"./ui.file_manager.dialog.folder_chooser\");\n\nvar _uiFile_managerDialog4 = _interopRequireDefault(_uiFile_managerDialog3);\n\nvar _uiFile_manager = require(\"./ui.file_manager.file_uploader\");\n\nvar _uiFile_manager2 = _interopRequireDefault(_uiFile_manager);\n\nvar _uiFile_manager3 = require(\"./ui.file_manager.messages\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || \"[object Arguments]\" === Object.prototype.toString.call(iter)) {\n    return Array.from(iter);\n  }\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar FileManagerEditingControl = function (_Widget) {\n  _inherits(FileManagerEditingControl, _Widget);\n\n  function FileManagerEditingControl() {\n    _classCallCheck(this, FileManagerEditingControl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FileManagerEditingControl).apply(this, arguments));\n  }\n\n  _createClass(FileManagerEditingControl, [{\n    key: \"_initMarkup\",\n    value: function value() {\n      _get(_getPrototypeOf(FileManagerEditingControl.prototype), \"_initMarkup\", this).call(this);\n\n      this._initActions();\n\n      this._controller = this.option(\"controller\");\n\n      this._controller.on(\"EditActionStarting\", this._onEditActionStarting.bind(this));\n\n      this._controller.on(\"EditActionResultAcquired\", this._onEditActionResultAcquired.bind(this));\n\n      this._controller.on(\"EditActionItemError\", this._onEditActionItemError.bind(this));\n\n      this._controller.on(\"EditActionError\", this._onEditActionError.bind(this));\n\n      this._controller.on(\"CompleteEditActionItem\", this._onCompleteEditActionItem.bind(this));\n\n      this._controller.on(\"CompleteEditAction\", this._onCompleteEditAction.bind(this));\n\n      this._model = this.option(\"model\");\n      this._uploadOperationInfoMap = {};\n      this._renameItemDialog = this._createEnterNameDialog(_message2.default.format(\"dxFileManager-dialogRenameItemTitle\"), _message2.default.format(\"dxFileManager-dialogRenameItemButtonText\"));\n      this._createFolderDialog = this._createEnterNameDialog(_message2.default.format(\"dxFileManager-dialogCreateDirectoryTitle\"), _message2.default.format(\"dxFileManager-dialogCreateDirectoryButtonText\"));\n      var $chooseFolderDialog = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n      this._chooseFolderDialog = this._createComponent($chooseFolderDialog, _uiFile_managerDialog4.default, {\n        provider: this._controller._fileProvider,\n        getDirectories: this._controller.getDirectories.bind(this._controller),\n        getCurrentDirectory: this._controller.getCurrentDirectory.bind(this._controller),\n        onClosed: this._onDialogClosed.bind(this)\n      });\n      this._confirmationDialog = this._createConfirmationDialog();\n      this._fileUploader = this._createFileUploader();\n\n      this._createMetadataMap();\n    }\n  }, {\n    key: \"_initNotificationControl\",\n    value: function value(notificationControl) {\n      var _this = this;\n\n      this._notificationControl = notificationControl;\n\n      this._notificationControl.option({\n        onOperationCanceled: function onOperationCanceled(_ref) {\n          var info = _ref.info;\n          return _this._onCancelUploadSession(info);\n        },\n        onOperationItemCanceled: function onOperationItemCanceled(_ref2) {\n          var item = _ref2.item,\n              itemIndex = _ref2.itemIndex;\n          return _this._onCancelFileUpload(item, itemIndex);\n        }\n      });\n    }\n  }, {\n    key: \"_getFileUploaderComponent\",\n    value: function value() {\n      return _uiFile_manager2.default;\n    }\n  }, {\n    key: \"_createFileUploader\",\n    value: function value() {\n      var _this2 = this;\n\n      var $fileUploader = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n      return this._createComponent($fileUploader, this._getFileUploaderComponent(), {\n        getController: this._getFileUploaderController.bind(this),\n        onUploadSessionStarted: function onUploadSessionStarted(e) {\n          return _this2._onUploadSessionStarted(e);\n        },\n        onUploadProgress: function onUploadProgress(e) {\n          return _this2._onUploadProgress(e);\n        }\n      });\n    }\n  }, {\n    key: \"_getFileUploaderController\",\n    value: function value() {\n      var _this3 = this;\n\n      var uploadDirectory = this._uploadDirectoryInfo && this._uploadDirectoryInfo.fileItem;\n      return {\n        chunkSize: this._controller.getFileUploadChunkSize(),\n        uploadFileChunk: function uploadFileChunk(fileData, chunksInfo) {\n          return _this3._controller.uploadFileChunk(fileData, chunksInfo, uploadDirectory);\n        },\n        abortFileUpload: function abortFileUpload(fileData, chunksInfo) {\n          return _this3._controller.abortFileUpload(fileData, chunksInfo, uploadDirectory);\n        }\n      };\n    }\n  }, {\n    key: \"_createEnterNameDialog\",\n    value: function value(title, buttonText) {\n      var $dialog = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n      return this._createComponent($dialog, _uiFile_managerDialog2.default, {\n        title: title,\n        buttonText: buttonText,\n        onClosed: this._onDialogClosed.bind(this)\n      });\n    }\n  }, {\n    key: \"_createConfirmationDialog\",\n    value: function value() {\n      var _this4 = this;\n\n      return {\n        show: function show() {\n          setTimeout(function () {\n            _this4._onDialogClosed({\n              dialogResult: {}\n            });\n          });\n        }\n      };\n    }\n  }, {\n    key: \"_createMetadataMap\",\n    value: function value() {\n      var _this5 = this;\n\n      this._metadataMap = {\n        create: {\n          action: function action(arg) {\n            return _this5._tryCreate(arg);\n          },\n          affectsAllItems: true,\n          singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingCreateSingleItemProcessingMessage\"),\n          singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingCreateSingleItemSuccessMessage\"),\n          singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingCreateSingleItemErrorMessage\"),\n          commonErrorMessage: _message2.default.format(\"dxFileManager-editingCreateCommonErrorMessage\")\n        },\n        rename: {\n          action: function action(arg) {\n            return _this5._tryRename(arg);\n          },\n          singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingRenameSingleItemProcessingMessage\"),\n          singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingRenameSingleItemSuccessMessage\"),\n          singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingRenameSingleItemErrorMessage\"),\n          commonErrorMessage: _message2.default.format(\"dxFileManager-editingRenameCommonErrorMessage\")\n        },\n        \"delete\": {\n          action: function action(arg) {\n            return _this5._tryDelete(arg);\n          },\n          singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingDeleteSingleItemProcessingMessage\"),\n          multipleItemsProcessingMessage: _message2.default.format(\"dxFileManager-editingDeleteMultipleItemsProcessingMessage\"),\n          singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingDeleteSingleItemSuccessMessage\"),\n          multipleItemsSuccessMessage: _message2.default.format(\"dxFileManager-editingDeleteMultipleItemsSuccessMessage\"),\n          singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingDeleteSingleItemErrorMessage\"),\n          multipleItemsErrorMessage: _message2.default.format(\"dxFileManager-editingDeleteMultipleItemsErrorMessage\"),\n          commonErrorMessage: _message2.default.format(\"dxFileManager-editingDeleteCommonErrorMessage\")\n        },\n        move: {\n          action: function action(arg) {\n            return _this5._tryMove(arg);\n          },\n          singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingMoveSingleItemProcessingMessage\"),\n          multipleItemsProcessingMessage: _message2.default.format(\"dxFileManager-editingMoveMultipleItemsProcessingMessage\"),\n          singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingMoveSingleItemSuccessMessage\"),\n          multipleItemsSuccessMessage: _message2.default.format(\"dxFileManager-editingMoveMultipleItemsSuccessMessage\"),\n          singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingMoveSingleItemErrorMessage\"),\n          multipleItemsErrorMessage: _message2.default.format(\"dxFileManager-editingMoveMultipleItemsErrorMessage\"),\n          commonErrorMessage: _message2.default.format(\"dxFileManager-editingMoveCommonErrorMessage\")\n        },\n        copy: {\n          action: function action(arg) {\n            return _this5._tryCopy(arg);\n          },\n          singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingCopySingleItemProcessingMessage\"),\n          multipleItemsProcessingMessage: _message2.default.format(\"dxFileManager-editingCopyMultipleItemsProcessingMessage\"),\n          singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingCopySingleItemSuccessMessage\"),\n          multipleItemsSuccessMessage: _message2.default.format(\"dxFileManager-editingCopyMultipleItemsSuccessMessage\"),\n          singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingCopySingleItemErrorMessage\"),\n          multipleItemsErrorMessage: _message2.default.format(\"dxFileManager-editingCopyMultipleItemsErrorMessage\"),\n          commonErrorMessage: _message2.default.format(\"dxFileManager-editingCopyCommonErrorMessage\")\n        },\n        upload: {\n          action: function action(arg) {\n            return _this5._tryUpload(arg);\n          },\n          allowCancel: true,\n          allowItemProgress: true,\n          singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingUploadSingleItemProcessingMessage\"),\n          multipleItemsProcessingMessage: _message2.default.format(\"dxFileManager-editingUploadMultipleItemsProcessingMessage\"),\n          singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingUploadSingleItemSuccessMessage\"),\n          multipleItemsSuccessMessage: _message2.default.format(\"dxFileManager-editingUploadMultipleItemsSuccessMessage\"),\n          singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingUploadSingleItemErrorMessage\"),\n          multipleItemsErrorMessage: _message2.default.format(\"dxFileManager-editingUploadMultipleItemsErrorMessage\"),\n          canceledMessage: _message2.default.format(\"dxFileManager-editingUploadCanceledMessage\")\n        },\n        download: {\n          action: function action(arg) {\n            return _this5._download(arg);\n          }\n        },\n        getItemContent: {\n          action: function action(arg) {\n            return _this5._getItemContent(arg);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"getCommandActions\",\n    value: function value() {\n      var _this6 = this;\n\n      var result = {};\n      (0, _iterator.each)(this._metadataMap, function (name) {\n        if (Object.prototype.hasOwnProperty.call(_this6._metadataMap, name)) {\n          result[name] = function (arg) {\n            return _this6._executeAction(name, arg);\n          };\n        }\n      });\n      return result;\n    }\n  }, {\n    key: \"_executeAction\",\n    value: function value(actionName, arg) {\n      var actionMetadata = this._metadataMap[actionName];\n      return actionMetadata ? actionMetadata.action(arg) : null;\n    }\n  }, {\n    key: \"_onCancelUploadSession\",\n    value: function value(info) {\n      this._fileUploader.cancelUpload(info.uploadSessionId);\n    }\n  }, {\n    key: \"_onCancelFileUpload\",\n    value: function value(item, itemIndex) {\n      this._fileUploader.cancelFileUpload(item.info.uploadSessionId, itemIndex);\n    }\n  }, {\n    key: \"_onUploadProgress\",\n    value: function value(_ref3) {\n      var sessionId = _ref3.sessionId,\n          fileIndex = _ref3.fileIndex,\n          commonValue = _ref3.commonValue,\n          fileValue = _ref3.fileValue;\n      var operationInfo = this._uploadOperationInfoMap[sessionId];\n\n      this._notificationControl.updateOperationItemProgress(operationInfo, fileIndex, 100 * fileValue, 100 * commonValue);\n    }\n  }, {\n    key: \"_onUploadSessionStarted\",\n    value: function value(_ref4) {\n      var sessionInfo = _ref4.sessionInfo;\n\n      this._controller.processUploadSession(sessionInfo, this._uploadDirectoryInfo);\n    }\n  }, {\n    key: \"_onEditActionStarting\",\n    value: function value(actionInfo) {\n      var actionMetadata = this._metadataMap[actionInfo.name];\n      var context = new FileManagerActionContext(actionMetadata, actionInfo.itemInfos, actionInfo.directory);\n\n      var operationInfo = this._notificationControl.addOperation(context.processingMessage, actionMetadata.allowCancel, !actionMetadata.allowItemProgress);\n\n      (0, _extend.extend)(actionInfo.customData, {\n        context: context,\n        operationInfo: operationInfo\n      });\n\n      if (\"upload\" === actionInfo.name) {\n        var sessionId = actionInfo.customData.sessionInfo.sessionId;\n        operationInfo.uploadSessionId = sessionId;\n        this._uploadOperationInfoMap[sessionId] = operationInfo;\n      }\n    }\n  }, {\n    key: \"_onEditActionResultAcquired\",\n    value: function value(actionInfo) {\n      var _this7 = this;\n\n      var _actionInfo$customDat = actionInfo.customData,\n          context = _actionInfo$customDat.context,\n          operationInfo = _actionInfo$customDat.operationInfo;\n      context.singleRequest = actionInfo.singleRequest;\n\n      if (!context.singleRequest) {\n        var details = context.itemInfos.map(function (itemInfo) {\n          return _this7._getItemProgressDisplayInfo(itemInfo);\n        });\n\n        this._notificationControl.addOperationDetails(operationInfo, details, context.actionMetadata.allowCancel);\n      }\n    }\n  }, {\n    key: \"_onEditActionError\",\n    value: function value(actionInfo, error) {\n      var _actionInfo$customDat2 = actionInfo.customData,\n          context = _actionInfo$customDat2.context,\n          operationInfo = _actionInfo$customDat2.operationInfo;\n      context.singleRequest = actionInfo.singleRequest;\n\n      this._handleActionError(operationInfo, context, error);\n\n      this._completeAction(operationInfo, context);\n    }\n  }, {\n    key: \"_onEditActionItemError\",\n    value: function value(actionInfo, info) {\n      var _actionInfo$customDat3 = actionInfo.customData,\n          context = _actionInfo$customDat3.context,\n          operationInfo = _actionInfo$customDat3.operationInfo;\n\n      this._handleActionError(operationInfo, context, info);\n    }\n  }, {\n    key: \"_onCompleteEditActionItem\",\n    value: function value(actionInfo, info) {\n      var _actionInfo$customDat4 = actionInfo.customData,\n          context = _actionInfo$customDat4.context,\n          operationInfo = _actionInfo$customDat4.operationInfo;\n\n      if (!info.result || !info.result.canceled) {\n        context.completeOperationItem(info.index);\n\n        if (!context.singleRequest) {\n          this._notificationControl.completeOperationItem(operationInfo, info.index, context.commonProgress);\n        }\n      }\n    }\n  }, {\n    key: \"_onCompleteEditAction\",\n    value: function value(actionInfo) {\n      var _actionInfo$customDat5 = actionInfo.customData,\n          context = _actionInfo$customDat5.context,\n          operationInfo = _actionInfo$customDat5.operationInfo;\n\n      this._completeAction(operationInfo, context);\n\n      if (\"upload\" === actionInfo.name) {\n        delete this._uploadOperationInfoMap[actionInfo.customData.sessionInfo.sessionId];\n      }\n    }\n  }, {\n    key: \"_tryCreate\",\n    value: function value(parentDirectories) {\n      var _this8 = this;\n\n      var parentDirectoryInfo = parentDirectories && parentDirectories[0] || this._getCurrentDirectory();\n\n      var newDirName = _message2.default.format(\"dxFileManager-newDirectoryName\");\n\n      return this._showDialog(this._createFolderDialog, newDirName).then(function (_ref5) {\n        var name = _ref5.name;\n        return _this8._controller.createDirectory(parentDirectoryInfo, name);\n      });\n    }\n  }, {\n    key: \"_tryRename\",\n    value: function value(itemInfos) {\n      var _this9 = this;\n\n      var itemInfo = itemInfos && itemInfos[0] || this._model.getMultipleSelectedItems()[0];\n\n      return this._showDialog(this._renameItemDialog, itemInfo.fileItem.name).then(function (_ref6) {\n        var name = _ref6.name;\n        return _this9._controller.renameItem(itemInfo, name);\n      });\n    }\n  }, {\n    key: \"_tryDelete\",\n    value: function value(itemInfos) {\n      var _this10 = this;\n\n      itemInfos = itemInfos || this._model.getMultipleSelectedItems();\n      return this._showDialog(this._confirmationDialog).then(function () {\n        return _this10._controller.deleteItems(itemInfos);\n      });\n    }\n  }, {\n    key: \"_tryMove\",\n    value: function value(itemInfos) {\n      var _this11 = this;\n\n      itemInfos = itemInfos || this._model.getMultipleSelectedItems();\n      return this._showDialog(this._chooseFolderDialog).then(function (_ref7) {\n        var folder = _ref7.folder;\n        return _this11._controller.moveItems(itemInfos, folder);\n      });\n    }\n  }, {\n    key: \"_tryCopy\",\n    value: function value(itemInfos) {\n      var _this12 = this;\n\n      itemInfos = itemInfos || this._model.getMultipleSelectedItems();\n      return this._showDialog(this._chooseFolderDialog).then(function (_ref8) {\n        var folder = _ref8.folder;\n        return _this12._controller.copyItems(itemInfos, folder);\n      });\n    }\n  }, {\n    key: \"_tryUpload\",\n    value: function value(destinationFolder) {\n      this._uploadDirectoryInfo = destinationFolder && destinationFolder[0] || this._getCurrentDirectory();\n\n      this._fileUploader.tryUpload();\n    }\n  }, {\n    key: \"_download\",\n    value: function value(itemInfos) {\n      itemInfos = itemInfos || this._model.getMultipleSelectedItems();\n      return this._controller.downloadItems(itemInfos);\n    }\n  }, {\n    key: \"_getItemContent\",\n    value: function value(itemInfos) {\n      itemInfos = itemInfos || this._model.getMultipleSelectedItems();\n      return this._controller.getItemContent(itemInfos);\n    }\n  }, {\n    key: \"_completeAction\",\n    value: function value(operationInfo, context) {\n      this._notificationControl.completeOperation(operationInfo, context.completionMessage, !context.success, context.statusText);\n\n      if (context.hasModifiedItems()) {\n        this._raiseOnSuccess(context.onlyFiles);\n      }\n    }\n  }, {\n    key: \"_handleActionError\",\n    value: function value(operationInfo, context, errorInfo) {\n      operationInfo.hasError = true;\n\n      if (context.singleRequest) {\n        this._handleSingleRequestActionError(operationInfo, context, errorInfo);\n      } else {\n        this._handleMultipleRequestActionError(operationInfo, context, errorInfo);\n      }\n    }\n  }, {\n    key: \"_handleSingleRequestActionError\",\n    value: function value(operationInfo, context, errorInfo) {\n      var itemInfo = context.getItemForSingleRequestError();\n\n      var errorText = this._getErrorText(errorInfo, itemInfo);\n\n      context.processSingleRequestError(errorText);\n\n      var operationErrorInfo = this._getOperationErrorInfo(context);\n\n      this._notificationControl.completeSingleOperationWithError(operationInfo, operationErrorInfo);\n\n      if (context.multipleItems) {\n        this._raiseOnSuccess(context.onlyFiles);\n      }\n    }\n  }, {\n    key: \"_handleMultipleRequestActionError\",\n    value: function value(operationInfo, context, errorInfo) {\n      var itemInfo = context.getItemForMultipleRequestError(errorInfo.index);\n\n      var errorText = this._getErrorText(errorInfo, itemInfo);\n\n      context.processMultipleRequestError(errorInfo.index, errorText);\n\n      var operationErrorInfo = this._getOperationErrorInfo(context);\n\n      this._notificationControl.addOperationDetailsError(operationInfo, operationErrorInfo);\n    }\n  }, {\n    key: \"_getOperationErrorInfo\",\n    value: function value(context) {\n      var detailError = context.errorState.currentDetailError;\n      return {\n        commonErrorText: context.errorState.commonErrorText,\n        item: detailError.itemInfo ? this._getItemProgressDisplayInfo(detailError.itemInfo) : null,\n        itemIndex: detailError.itemIndex,\n        detailErrorText: detailError.errorText\n      };\n    }\n  }, {\n    key: \"_getErrorText\",\n    value: function value(errorInfo, itemInfo) {\n      var itemName = itemInfo ? itemInfo.fileItem.name : null;\n      return _uiFile_manager3.FileManagerMessages.get(errorInfo.errorId, itemName);\n    }\n  }, {\n    key: \"_getItemProgressDisplayInfo\",\n    value: function value(itemInfo) {\n      return {\n        commonText: itemInfo.fileItem.name,\n        imageUrl: this._getItemThumbnail(itemInfo)\n      };\n    }\n  }, {\n    key: \"_showDialog\",\n    value: function value(dialog, dialogArgument) {\n      this._dialogDeferred = new _deferred.Deferred();\n      dialog.show(dialogArgument);\n      return this._dialogDeferred.promise();\n    }\n  }, {\n    key: \"_onDialogClosed\",\n    value: function value(e) {\n      var result = e.dialogResult;\n\n      if (result) {\n        this._dialogDeferred.resolve(result);\n      } else {\n        this._dialogDeferred.reject();\n      }\n    }\n  }, {\n    key: \"_getItemThumbnail\",\n    value: function value(item) {\n      var itemThumbnailGetter = this.option(\"getItemThumbnail\");\n\n      if (!itemThumbnailGetter) {\n        return null;\n      }\n\n      var info = itemThumbnailGetter(item);\n      return info ? info.thumbnail : null;\n    }\n  }, {\n    key: \"_initActions\",\n    value: function value() {\n      this._actions = {\n        onSuccess: this._createActionByOption(\"onSuccess\"),\n        onError: this._createActionByOption(\"onError\"),\n        onCreating: this._createActionByOption(\"onCreating\")\n      };\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerEditingControl.prototype), \"_getDefaultOptions\", this).call(this), {\n        model: {\n          getMultipleSelectedItems: null\n        },\n        notificationControl: null,\n        getItemThumbnail: null,\n        onSuccess: null,\n        onError: null,\n        onCreating: null\n      });\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      var name = args.name;\n\n      switch (name) {\n        case \"model\":\n          this.repaint();\n          break;\n\n        case \"notificationControl\":\n          this._initNotificationControl(args.value);\n\n          break;\n\n        case \"getItemThumbnail\":\n          break;\n\n        case \"onSuccess\":\n        case \"onError\":\n        case \"onCreating\":\n          this._actions[name] = this._createActionByOption(name);\n          break;\n\n        default:\n          _get(_getPrototypeOf(FileManagerEditingControl.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"_raiseOnSuccess\",\n    value: function value(updatedOnlyFiles) {\n      this._actions.onSuccess({\n        updatedOnlyFiles: updatedOnlyFiles\n      });\n    }\n  }, {\n    key: \"_raiseOnError\",\n    value: function value(errorId, fileItem) {\n      var fileItemName = fileItem ? fileItem.name : null;\n\n      var message = _uiFile_manager3.FileManagerMessages.get(errorId, fileItemName);\n\n      this._actions.onError({\n        message: message\n      });\n    }\n  }, {\n    key: \"_getCurrentDirectory\",\n    value: function value() {\n      return this._controller.getCurrentDirectory();\n    }\n  }]);\n\n  return FileManagerEditingControl;\n}(_ui2.default);\n\nvar FileManagerActionContext = function () {\n  function FileManagerActionContext(actionMetadata, itemInfos, directoryInfo) {\n    _classCallCheck(this, FileManagerActionContext);\n\n    this._actionMetadata = actionMetadata;\n    this._itemInfos = itemInfos;\n    this._onlyFiles = !this._actionMetadata.affectsAllItems && this._itemInfos.every(function (info) {\n      return !info.fileItem.isDirectory;\n    });\n    this._items = this._itemInfos.map(function (itemInfo) {\n      return itemInfo.fileItem;\n    });\n    this._multipleItems = this._items.length > 1;\n    this._location = directoryInfo.fileItem.name;\n    this._singleRequest = true;\n    this._completedItems = [];\n    this._commonProgress = 0;\n    this._errorState = {\n      failedCount: 0\n    };\n  }\n\n  _createClass(FileManagerActionContext, [{\n    key: \"completeOperationItem\",\n    value: function value(itemIndex) {\n      if (this._singleRequest) {\n        this._completedItems = _toConsumableArray(this._items);\n      } else {\n        var item = this._items[itemIndex];\n\n        this._completedItems.push(item);\n      }\n\n      if (!this._actionMetadata.allowItemProgress) {\n        this._commonProgress = this._completedItems.length / this._items.length * 100;\n      }\n    }\n  }, {\n    key: \"processSingleRequestError\",\n    value: function value(errorText) {\n      this._errorState.failedCount = 1;\n      this._errorState.commonErrorText = this._multipleItems ? this._actionMetadata.commonErrorMessage : this._actionMetadata.singleItemErrorMessage;\n      var itemIndex = this._multipleItems ? -1 : 1;\n      var itemInfo = this.getItemForSingleRequestError();\n\n      this._setCurrentDetailError(itemIndex, itemInfo, errorText);\n    }\n  }, {\n    key: \"processMultipleRequestError\",\n    value: function value(itemIndex, errorText) {\n      this._errorState.failedCount++;\n      this._errorState.commonErrorText = this._errorState.failedCount > 1 ? (0, _string.format)(this._actionMetadata.multipleItemsErrorMessage, this._errorState.failedCount) : this._actionMetadata.singleItemErrorMessage;\n      var itemInfo = this.getItemForMultipleRequestError(itemIndex);\n\n      this._setCurrentDetailError(itemIndex, itemInfo, errorText);\n    }\n  }, {\n    key: \"hasModifiedItems\",\n    value: function value() {\n      return this._hasCompletedItems() || this._singleRequest && !this.success && this._multipleItems;\n    }\n  }, {\n    key: \"getItemForSingleRequestError\",\n    value: function value() {\n      return this._multipleItems ? null : this._itemInfos[0];\n    }\n  }, {\n    key: \"getItemForMultipleRequestError\",\n    value: function value(itemIndex) {\n      return this._itemInfos[itemIndex];\n    }\n  }, {\n    key: \"_setCurrentDetailError\",\n    value: function value(itemIndex, itemInfo, errorText) {\n      this._errorState.currentDetailError = {\n        itemIndex: itemIndex,\n        itemInfo: itemInfo,\n        errorText: errorText\n      };\n    }\n  }, {\n    key: \"_hasCompletedItems\",\n    value: function value() {\n      return this._completedItems.length > 0;\n    }\n  }, {\n    key: \"actionMetadata\",\n    get: function get() {\n      return this._actionMetadata;\n    }\n  }, {\n    key: \"itemInfos\",\n    get: function get() {\n      return this._itemInfos;\n    }\n  }, {\n    key: \"errorState\",\n    get: function get() {\n      return this._errorState;\n    }\n  }, {\n    key: \"singleRequest\",\n    get: function get() {\n      return this._singleRequest;\n    },\n    set: function set(value) {\n      this._singleRequest = value;\n    }\n  }, {\n    key: \"multipleItems\",\n    get: function get() {\n      return this._multipleItems;\n    }\n  }, {\n    key: \"onlyFiles\",\n    get: function get() {\n      return this._onlyFiles;\n    }\n  }, {\n    key: \"processingMessage\",\n    get: function get() {\n      return this._multipleItems ? (0, _string.format)(this._actionMetadata.multipleItemsProcessingMessage, this._items.length, this._location) : (0, _string.format)(this._actionMetadata.singleItemProcessingMessage, this._location);\n    }\n  }, {\n    key: \"successMessage\",\n    get: function get() {\n      if (this._hasCompletedItems()) {\n        return this._multipleItems ? (0, _string.format)(this._actionMetadata.multipleItemsSuccessMessage, this._completedItems.length, this._location) : (0, _string.format)(this._actionMetadata.singleItemSuccessMessage, this._location);\n      } else {\n        return this._multipleItems ? (0, _string.format)(this._actionMetadata.multipleItemsErrorMessage, this._items.length) : this._actionMetadata.singleItemErrorMessage;\n      }\n    }\n  }, {\n    key: \"completionMessage\",\n    get: function get() {\n      return this.success ? this.successMessage : this.errorState.commonErrorText;\n    }\n  }, {\n    key: \"statusText\",\n    get: function get() {\n      return this.success && !this._hasCompletedItems() ? this._actionMetadata.canceledMessage : void 0;\n    }\n  }, {\n    key: \"commonProgress\",\n    get: function get() {\n      return this._commonProgress;\n    }\n  }, {\n    key: \"success\",\n    get: function get() {\n      return !this._errorState.failedCount;\n    }\n  }]);\n\n  return FileManagerActionContext;\n}();\n\nmodule.exports = FileManagerEditingControl;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/file_manager/ui.file_manager.editing.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_extend","_deferred","_iterator","_string","_message","_message2","_ui","_ui2","_uiFile_managerDialog","_uiFile_managerDialog2","_uiFile_managerDialog3","_uiFile_managerDialog4","_uiFile_manager","_uiFile_manager2","_uiFile_manager3","obj","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Symbol","Object","Array","i","arr2","arr","_typeof","instance","props","descriptor","_defineProperties","Constructor","call","_assertThisInitialized","Reflect","_get","base","_superPropBase","desc","receiver","object","_getPrototypeOf","o","subClass","superClass","constructor","value","writable","configurable","_setPrototypeOf","FileManagerEditingControl","_inherits","_classCallCheck","_possibleConstructorReturn","_createClass","key","$chooseFolderDialog","provider","getDirectories","getCurrentDirectory","onClosed","_this","onOperationCanceled","info","_ref","onOperationItemCanceled","item","_ref2","itemIndex","_this2","$fileUploader","getController","onUploadSessionStarted","onUploadProgress","_this3","uploadDirectory","chunkSize","uploadFileChunk","abortFileUpload","$dialog","title","buttonText","_this4","show","setTimeout","dialogResult","_this5","create","action","affectsAllItems","singleItemProcessingMessage","singleItemSuccessMessage","singleItemErrorMessage","commonErrorMessage","rename","multipleItemsProcessingMessage","multipleItemsSuccessMessage","multipleItemsErrorMessage","move","copy","upload","allowCancel","allowItemProgress","canceledMessage","download","getItemContent","_this6","result","actionMetadata","sessionId","_ref3","fileIndex","commonValue","fileValue","operationInfo","sessionInfo","_ref4","actionInfo","context","_this7","_actionInfo$customDat","details","_actionInfo$customDat2","_actionInfo$customDat3","_actionInfo$customDat4","_actionInfo$customDat5","_this8","parentDirectoryInfo","parentDirectories","newDirName","name","_ref5","_this9","itemInfo","itemInfos","_ref6","_this10","_this11","folder","_ref7","_this12","_ref8","destinationFolder","errorText","operationErrorInfo","errorInfo","detailError","commonErrorText","detailErrorText","itemName","commonText","imageUrl","dialog","e","itemThumbnailGetter","onSuccess","onError","onCreating","model","getMultipleSelectedItems","notificationControl","getItemThumbnail","args","updatedOnlyFiles","fileItemName","fileItem","message","FileManagerActionContext","directoryInfo","failedCount","_toConsumableArray","get","set","module"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,SAAS,GAAGC,OAAO,CAAvB,qBAAuB,CAAvB;;AACA,IAAIC,UAAU,GAAGC,sBAAsB,CAAvC,SAAuC,CAAvC;;AACA,IAAIC,OAAO,GAAGH,OAAO,CAArB,yBAAqB,CAArB;;AACA,IAAII,SAAS,GAAGJ,OAAO,CAAvB,2BAAuB,CAAvB;;AACA,IAAIK,SAAS,GAAGL,OAAO,CAAvB,2BAAuB,CAAvB;;AACA,IAAIM,OAAO,GAAGN,OAAO,CAArB,yBAAqB,CAArB;;AACA,IAAIO,QAAQ,GAAGP,OAAO,CAAtB,4BAAsB,CAAtB;;AACA,IAAIQ,SAAS,GAAGN,sBAAsB,CAAtC,QAAsC,CAAtC;;AACA,IAAIO,GAAG,GAAGT,OAAO,CAAjB,qBAAiB,CAAjB;;AACA,IAAIU,IAAI,GAAGR,sBAAsB,CAAjC,GAAiC,CAAjC;;AACA,IAAIS,qBAAqB,GAAGX,OAAO,CAAnC,sCAAmC,CAAnC;;AACA,IAAIY,sBAAsB,GAAGV,sBAAsB,CAAnD,qBAAmD,CAAnD;;AACA,IAAIW,sBAAsB,GAAGb,OAAO,CAApC,yCAAoC,CAApC;;AACA,IAAIc,sBAAsB,GAAGZ,sBAAsB,CAAnD,sBAAmD,CAAnD;;AACA,IAAIa,eAAe,GAAGf,OAAO,CAA7B,iCAA6B,CAA7B;;AACA,IAAIgB,gBAAgB,GAAGd,sBAAsB,CAA7C,eAA6C,CAA7C;;AACA,IAAIe,gBAAgB,GAAGjB,OAAO,CAA9B,4BAA8B,CAA9B;;AAEA,SAAA,sBAAA,CAAA,GAAA,EAAqC;AACjC,SAAOkB,GAAG,IAAIA,GAAG,CAAVA,UAAAA,GAAAA,GAAAA,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AAED,SAAA,kBAAA,CAAA,GAAA,EAAiC;AAC7B,SAAOC,kBAAkB,CAAlBA,GAAkB,CAAlBA,IAA2BC,gBAAgB,CAA3CD,GAA2C,CAA3CA,IAAoDE,kBAA3D,EAAA;AACH;;AAED,SAAA,kBAAA,GAA8B;AAC1B,QAAM,IAAA,SAAA,CAAN,iDAAM,CAAN;AACH;;AAED,SAAA,gBAAA,CAAA,IAAA,EAAgC;AAC5B,MAAIC,MAAM,CAANA,QAAAA,IAAmBC,MAAM,CAAzBD,IAAyB,CAAzBA,IAAmC,yBAAyBC,MAAM,CAANA,SAAAA,CAAAA,QAAAA,CAAAA,IAAAA,CAAhE,IAAgEA,CAAhE,EAAsG;AAClG,WAAOC,KAAK,CAALA,IAAAA,CAAP,IAAOA,CAAP;AACH;AACJ;;AAED,SAAA,kBAAA,CAAA,GAAA,EAAiC;AAC7B,MAAIA,KAAK,CAALA,OAAAA,CAAJ,GAAIA,CAAJ,EAAwB;AACpB,SAAK,IAAIC,CAAC,GAAL,CAAA,EAAWC,IAAI,GAAG,IAAA,KAAA,CAAUC,GAAG,CAApC,MAAuB,CAAvB,EAA8CF,CAAC,GAAGE,GAAG,CAArD,MAAA,EAA8DF,CAA9D,EAAA,EAAmE;AAC/DC,MAAAA,IAAI,CAAJA,CAAI,CAAJA,GAAUC,GAAG,CAAbD,CAAa,CAAbA;AACH;;AACD,WAAA,IAAA;AACH;AACJ;;AAED,SAAA,OAAA,CAAA,GAAA,EAAsB;AAClB,MAAI,eAAe,OAAf,MAAA,IAAgC,aAAa,OAAOJ,MAAM,CAA9D,QAAA,EAAyE;AACrEM,IAAAA,OAAO,GAAG,SAAA,OAAA,CAAA,GAAA,EAAc;AACpB,aAAO,OAAP,GAAA;AADJA,KAAAA;AADJ,GAAA,MAIO;AACHA,IAAAA,OAAO,GAAG,SAAA,OAAA,CAAA,GAAA,EAAc;AACpB,aAAOV,GAAG,IAAI,eAAe,OAAtBA,MAAAA,IAAuCA,GAAG,CAAHA,WAAAA,KAAvCA,MAAAA,IAAqEA,GAAG,KAAKI,MAAM,CAAnFJ,SAAAA,GAAAA,QAAAA,GAA2G,OAAlH,GAAA;AADJU,KAAAA;AAGH;;AACD,SAAOA,OAAO,CAAd,GAAc,CAAd;AACH;;AAED,SAAA,eAAA,CAAA,QAAA,EAAA,WAAA,EAAgD;AAC5C,MAAI,EAAEC,QAAQ,YAAd,WAAI,CAAJ,EAAwC;AACpC,UAAM,IAAA,SAAA,CAAN,mCAAM,CAAN;AACH;AACJ;;AAED,SAAA,iBAAA,CAAA,MAAA,EAAA,KAAA,EAA0C;AACtC,OAAK,IAAIJ,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGK,KAAK,CAAzB,MAAA,EAAkCL,CAAlC,EAAA,EAAuC;AACnC,QAAIM,UAAU,GAAGD,KAAK,CAAtB,CAAsB,CAAtB;AACAC,IAAAA,UAAU,CAAVA,UAAAA,GAAwBA,UAAU,CAAVA,UAAAA,IAAxBA,KAAAA;AACAA,IAAAA,UAAU,CAAVA,YAAAA,GAAAA,IAAAA;;AACA,QAAI,WAAJ,UAAA,EAA2B;AACvBA,MAAAA,UAAU,CAAVA,QAAAA,GAAAA,IAAAA;AACH;;AACDR,IAAAA,MAAM,CAANA,cAAAA,CAAAA,MAAAA,EAA8BQ,UAAU,CAAxCR,GAAAA,EAAAA,UAAAA;AACH;AACJ;;AAED,SAAA,YAAA,CAAA,WAAA,EAAA,UAAA,EAAA,WAAA,EAA4D;AACxD,MAAA,UAAA,EAAgB;AACZS,IAAAA,iBAAiB,CAACC,WAAW,CAAZ,SAAA,EAAjBD,UAAiB,CAAjBA;AACH;;AACD,MAAA,WAAA,EAAiB;AACbA,IAAAA,iBAAiB,CAAA,WAAA,EAAjBA,WAAiB,CAAjBA;AACH;;AACD,SAAA,WAAA;AACH;;AAED,SAAA,0BAAA,CAAA,IAAA,EAAA,IAAA,EAAgD;AAC5C,MAAIE,IAAI,KAAK,aAAaN,OAAO,CAApB,IAAoB,CAApB,IAA8B,eAAe,OAA1D,IAAQ,CAAR,EAAwE;AACpE,WAAA,IAAA;AACH;;AACD,SAAOO,sBAAsB,CAA7B,IAA6B,CAA7B;AACH;;AAED,SAAA,sBAAA,CAAA,IAAA,EAAsC;AAClC,MAAI,KAAA,CAAA,KAAJ,IAAA,EAAqB;AACjB,UAAM,IAAA,cAAA,CAAN,2DAAM,CAAN;AACH;;AACD,SAAA,IAAA;AACH;;AAED,SAAA,IAAA,CAAA,MAAA,EAAA,QAAA,EAAA,QAAA,EAA0C;AACtC,MAAI,gBAAgB,OAAhB,OAAA,IAAkCC,OAAO,CAA7C,GAAA,EAAmD;AAC/CC,IAAAA,IAAI,GAAGD,OAAO,CAAdC,GAAAA;AADJ,GAAA,MAEO;AACHA,IAAAA,IAAI,GAAG,SAAA,IAAA,CAAA,MAAA,EAAA,QAAA,EAAA,QAAA,EAAqC;AACxC,UAAIC,IAAI,GAAGC,cAAc,CAAA,MAAA,EAAzB,QAAyB,CAAzB;;AACA,UAAI,CAAJ,IAAA,EAAW;AACP;AACH;;AACD,UAAIC,IAAI,GAAGjB,MAAM,CAANA,wBAAAA,CAAAA,IAAAA,EAAX,QAAWA,CAAX;;AACA,UAAIiB,IAAI,CAAR,GAAA,EAAc;AACV,eAAOA,IAAI,CAAJA,GAAAA,CAAAA,IAAAA,CAAP,QAAOA,CAAP;AACH;;AACD,aAAOA,IAAI,CAAX,KAAA;AATJH,KAAAA;AAWH;;AACD,SAAOA,IAAI,CAAA,MAAA,EAAA,QAAA,EAAmBI,QAAQ,IAAtC,MAAW,CAAX;AACH;;AAED,SAAA,cAAA,CAAA,MAAA,EAAA,QAAA,EAA0C;AACtC,SAAO,CAAClB,MAAM,CAANA,SAAAA,CAAAA,cAAAA,CAAAA,IAAAA,CAAAA,MAAAA,EAAR,QAAQA,CAAR,EAAgE;AAC5DmB,IAAAA,MAAM,GAAGC,eAAe,CAAxBD,MAAwB,CAAxBA;;AACA,QAAI,SAAJ,MAAA,EAAqB;AACjB;AACH;AACJ;;AACD,SAAA,MAAA;AACH;;AAED,SAAA,eAAA,CAAA,CAAA,EAA4B;AACxBC,EAAAA,eAAe,GAAGpB,MAAM,CAANA,cAAAA,GAAwBA,MAAM,CAA9BA,cAAAA,GAAgD,UAAA,CAAA,EAAY;AAC1E,WAAOqB,CAAC,CAADA,SAAAA,IAAerB,MAAM,CAANA,cAAAA,CAAtB,CAAsBA,CAAtB;AADJoB,GAAAA;AAGA,SAAOA,eAAe,CAAtB,CAAsB,CAAtB;AACH;;AAED,SAAA,SAAA,CAAA,QAAA,EAAA,UAAA,EAAyC;AACrC,MAAI,eAAe,OAAf,UAAA,IAAoC,SAAxC,UAAA,EAA6D;AACzD,UAAM,IAAA,SAAA,CAAN,oDAAM,CAAN;AACH;;AACDE,EAAAA,QAAQ,CAARA,SAAAA,GAAqB,MAAM,CAAN,MAAA,CAAcC,UAAU,IAAIA,UAAU,CAAtC,SAAA,EAAkD;AACnEC,IAAAA,WAAW,EAAE;AACTC,MAAAA,KAAK,EADI,QAAA;AAETC,MAAAA,QAAQ,EAFC,IAAA;AAGTC,MAAAA,YAAY,EAAE;AAHL;AADsD,GAAlD,CAArBL;;AAOA,MAAA,UAAA,EAAgB;AACZM,IAAAA,eAAe,CAAA,QAAA,EAAfA,UAAe,CAAfA;AACH;AACJ;;AAED,SAAA,eAAA,CAAA,CAAA,EAAA,CAAA,EAA+B;AAC3BA,EAAAA,eAAe,GAAG5B,MAAM,CAANA,cAAAA,IAAyB,UAAA,CAAA,EAAA,CAAA,EAAe;AACtDqB,IAAAA,CAAC,CAADA,SAAAA,GAAAA,CAAAA;AACA,WAAA,CAAA;AAFJO,GAAAA;;AAIA,SAAOA,eAAe,CAAA,CAAA,EAAtB,CAAsB,CAAtB;AACH;;AACD,IAAIC,yBAAyB,GAAG,UAAA,OAAA,EAAkB;AAC9CC,EAAAA,SAAS,CAAA,yBAAA,EAATA,OAAS,CAATA;;AAEA,WAAA,yBAAA,GAAqC;AACjCC,IAAAA,eAAe,CAAA,IAAA,EAAfA,yBAAe,CAAfA;;AACA,WAAOC,0BAA0B,CAAA,IAAA,EAAOZ,eAAe,CAAfA,yBAAe,CAAfA,CAAAA,KAAAA,CAAAA,IAAAA,EAAxC,SAAwCA,CAAP,CAAjC;AACH;;AACDa,EAAAA,YAAY,CAAA,yBAAA,EAA4B,CAAC;AACrCC,IAAAA,GAAG,EADkC,aAAA;AAErCT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACdX,MAAAA,IAAI,CAACM,eAAe,CAACS,yBAAyB,CAA1C,SAAgB,CAAhB,EAAA,aAAA,EAAJf,IAAI,CAAJA,CAAAA,IAAAA,CAAAA,IAAAA;;AACA,WAAA,YAAA;;AACA,WAAA,WAAA,GAAmB,KAAA,MAAA,CAAnB,YAAmB,CAAnB;;AACA,WAAA,WAAA,CAAA,EAAA,CAAA,oBAAA,EAA0C,KAAA,qBAAA,CAAA,IAAA,CAA1C,IAA0C,CAA1C;;AACA,WAAA,WAAA,CAAA,EAAA,CAAA,0BAAA,EAAgD,KAAA,2BAAA,CAAA,IAAA,CAAhD,IAAgD,CAAhD;;AACA,WAAA,WAAA,CAAA,EAAA,CAAA,qBAAA,EAA2C,KAAA,sBAAA,CAAA,IAAA,CAA3C,IAA2C,CAA3C;;AACA,WAAA,WAAA,CAAA,EAAA,CAAA,iBAAA,EAAuC,KAAA,kBAAA,CAAA,IAAA,CAAvC,IAAuC,CAAvC;;AACA,WAAA,WAAA,CAAA,EAAA,CAAA,wBAAA,EAA8C,KAAA,yBAAA,CAAA,IAAA,CAA9C,IAA8C,CAA9C;;AACA,WAAA,WAAA,CAAA,EAAA,CAAA,oBAAA,EAA0C,KAAA,qBAAA,CAAA,IAAA,CAA1C,IAA0C,CAA1C;;AACA,WAAA,MAAA,GAAc,KAAA,MAAA,CAAd,OAAc,CAAd;AACA,WAAA,uBAAA,GAAA,EAAA;AACA,WAAA,iBAAA,GAAyB,KAAA,sBAAA,CAA4B7B,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAA5B,qCAA4BA,CAA5B,EAA6FA,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAAtH,0CAAsHA,CAA7F,CAAzB;AACA,WAAA,mBAAA,GAA2B,KAAA,sBAAA,CAA4BA,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAA5B,0CAA4BA,CAA5B,EAAkGA,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAA7H,+CAA6HA,CAAlG,CAA3B;AACA,UAAIkD,mBAAmB,GAAG,CAAC,GAAGzD,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAA0C,KAApE,QAAoE,EAA1C,CAA1B;AACA,WAAA,mBAAA,GAA2B,KAAA,gBAAA,CAAA,mBAAA,EAA2Ca,sBAAsB,CAAjE,OAAA,EAA2E;AAClG6C,QAAAA,QAAQ,EAAE,KAAA,WAAA,CADwF,aAAA;AAElGC,QAAAA,cAAc,EAAE,KAAA,WAAA,CAAA,cAAA,CAAA,IAAA,CAAqC,KAF6C,WAElF,CAFkF;AAGlGC,QAAAA,mBAAmB,EAAE,KAAA,WAAA,CAAA,mBAAA,CAAA,IAAA,CAA0C,KAHmC,WAG7E,CAH6E;AAIlGC,QAAAA,QAAQ,EAAE,KAAA,eAAA,CAAA,IAAA,CAAA,IAAA;AAJwF,OAA3E,CAA3B;AAMA,WAAA,mBAAA,GAA2B,KAA3B,yBAA2B,EAA3B;AACA,WAAA,aAAA,GAAqB,KAArB,mBAAqB,EAArB;;AACA,WAAA,kBAAA;AACH;AA1BoC,GAAD,EA2BrC;AACCL,IAAAA,GAAG,EADJ,0BAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,mBAAA,EAA8B;AACjC,UAAIe,KAAK,GAAT,IAAA;;AACA,WAAA,oBAAA,GAAA,mBAAA;;AACA,WAAA,oBAAA,CAAA,MAAA,CAAiC;AAC7BC,QAAAA,mBAAmB,EAAE,SAAA,mBAAA,CAAA,IAAA,EAAe;AAChC,cAAIC,IAAI,GAAGC,IAAI,CAAf,IAAA;AACA,iBAAOH,KAAK,CAALA,sBAAAA,CAAP,IAAOA,CAAP;AAHyB,SAAA;AAK7BI,QAAAA,uBAAuB,EAAE,SAAA,uBAAA,CAAA,KAAA,EAAgB;AACrC,cAAIC,IAAI,GAAGC,KAAK,CAAhB,IAAA;AAAA,cACIC,SAAS,GAAGD,KAAK,CADrB,SAAA;AAEA,iBAAON,KAAK,CAALA,mBAAAA,CAAAA,IAAAA,EAAP,SAAOA,CAAP;AACH;AAT4B,OAAjC;AAWH;AAhBF,GA3BqC,EA4CrC;AACCN,IAAAA,GAAG,EADJ,2BAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAOhC,gBAAgB,CAAvB,OAAA;AACH;AAJF,GA5CqC,EAiDrC;AACCyC,IAAAA,GAAG,EADJ,qBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAIuB,MAAM,GAAV,IAAA;;AACA,UAAIC,aAAa,GAAG,CAAC,GAAGvE,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAA0C,KAA9D,QAA8D,EAA1C,CAApB;AACA,aAAO,KAAA,gBAAA,CAAA,aAAA,EAAqC,KAArC,yBAAqC,EAArC,EAAuE;AAC1EwE,QAAAA,aAAa,EAAE,KAAA,0BAAA,CAAA,IAAA,CAD2D,IAC3D,CAD2D;AAE1EC,QAAAA,sBAAsB,EAAE,SAAA,sBAAA,CAAA,CAAA,EAAY;AAChC,iBAAOH,MAAM,CAANA,uBAAAA,CAAP,CAAOA,CAAP;AAHsE,SAAA;AAK1EI,QAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,CAAA,EAAY;AAC1B,iBAAOJ,MAAM,CAANA,iBAAAA,CAAP,CAAOA,CAAP;AACH;AAPyE,OAAvE,CAAP;AASH;AAdF,GAjDqC,EAgErC;AACCd,IAAAA,GAAG,EADJ,4BAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAI4B,MAAM,GAAV,IAAA;;AACA,UAAIC,eAAe,GAAG,KAAA,oBAAA,IAA6B,KAAA,oBAAA,CAAnD,QAAA;AACA,aAAO;AACHC,QAAAA,SAAS,EAAE,KAAA,WAAA,CADR,sBACQ,EADR;AAEHC,QAAAA,eAAe,EAAE,SAAA,eAAA,CAAA,QAAA,EAAA,UAAA,EAA+B;AAC5C,iBAAOH,MAAM,CAANA,WAAAA,CAAAA,eAAAA,CAAAA,QAAAA,EAAAA,UAAAA,EAAP,eAAOA,CAAP;AAHD,SAAA;AAKHI,QAAAA,eAAe,EAAE,SAAA,eAAA,CAAA,QAAA,EAAA,UAAA,EAA+B;AAC5C,iBAAOJ,MAAM,CAANA,WAAAA,CAAAA,eAAAA,CAAAA,QAAAA,EAAAA,UAAAA,EAAP,eAAOA,CAAP;AACH;AAPE,OAAP;AASH;AAdF,GAhEqC,EA+ErC;AACCnB,IAAAA,GAAG,EADJ,wBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,KAAA,EAAA,UAAA,EAA4B;AAC/B,UAAIiC,OAAO,GAAG,CAAC,GAAGhF,UAAU,CAAd,OAAA,EAAA,OAAA,EAAA,QAAA,CAA0C,KAAxD,QAAwD,EAA1C,CAAd;AACA,aAAO,KAAA,gBAAA,CAAA,OAAA,EAA+BW,sBAAsB,CAArD,OAAA,EAA+D;AAClEsE,QAAAA,KAAK,EAD6D,KAAA;AAElEC,QAAAA,UAAU,EAFwD,UAAA;AAGlErB,QAAAA,QAAQ,EAAE,KAAA,eAAA,CAAA,IAAA,CAAA,IAAA;AAHwD,OAA/D,CAAP;AAKH;AATF,GA/EqC,EAyFrC;AACCL,IAAAA,GAAG,EADJ,2BAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAIoC,MAAM,GAAV,IAAA;;AACA,aAAO;AACHC,QAAAA,IAAI,EAAE,SAAA,IAAA,GAAW;AACbC,UAAAA,UAAU,CAAC,YAAW;AAClBF,YAAAA,MAAM,CAANA,eAAAA,CAAuB;AACnBG,cAAAA,YAAY,EAAE;AADK,aAAvBH;AADJE,WAAU,CAAVA;AAKH;AAPE,OAAP;AASH;AAbF,GAzFqC,EAuGrC;AACC7B,IAAAA,GAAG,EADJ,oBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAIwC,MAAM,GAAV,IAAA;;AACA,WAAA,YAAA,GAAoB;AAChBC,QAAAA,MAAM,EAAE;AACJC,UAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,GAAA,EAAc;AAClB,mBAAOF,MAAM,CAANA,UAAAA,CAAP,GAAOA,CAAP;AAFA,WAAA;AAIJG,UAAAA,eAAe,EAJX,IAAA;AAKJC,UAAAA,2BAA2B,EAAEpF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CALzB,wDAKyBA,CALzB;AAMJqF,UAAAA,wBAAwB,EAAErF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CANtB,qDAMsBA,CANtB;AAOJsF,UAAAA,sBAAsB,EAAEtF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAPpB,mDAOoBA,CAPpB;AAQJuF,UAAAA,kBAAkB,EAAEvF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAAAA,+CAAAA;AARhB,SADQ;AAWhBwF,QAAAA,MAAM,EAAE;AACJN,UAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,GAAA,EAAc;AAClB,mBAAOF,MAAM,CAANA,UAAAA,CAAP,GAAOA,CAAP;AAFA,WAAA;AAIJI,UAAAA,2BAA2B,EAAEpF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAJzB,wDAIyBA,CAJzB;AAKJqF,UAAAA,wBAAwB,EAAErF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CALtB,qDAKsBA,CALtB;AAMJsF,UAAAA,sBAAsB,EAAEtF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CANpB,mDAMoBA,CANpB;AAOJuF,UAAAA,kBAAkB,EAAEvF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAAAA,+CAAAA;AAPhB,SAXQ;AAoBhB,kBAAU;AACNkF,UAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,GAAA,EAAc;AAClB,mBAAOF,MAAM,CAANA,UAAAA,CAAP,GAAOA,CAAP;AAFE,WAAA;AAINI,UAAAA,2BAA2B,EAAEpF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAJvB,wDAIuBA,CAJvB;AAKNyF,UAAAA,8BAA8B,EAAEzF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAL1B,2DAK0BA,CAL1B;AAMNqF,UAAAA,wBAAwB,EAAErF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CANpB,qDAMoBA,CANpB;AAON0F,UAAAA,2BAA2B,EAAE1F,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAPvB,wDAOuBA,CAPvB;AAQNsF,UAAAA,sBAAsB,EAAEtF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CARlB,mDAQkBA,CARlB;AASN2F,UAAAA,yBAAyB,EAAE3F,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CATrB,sDASqBA,CATrB;AAUNuF,UAAAA,kBAAkB,EAAEvF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAAAA,+CAAAA;AAVd,SApBM;AAgChB4F,QAAAA,IAAI,EAAE;AACFV,UAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,GAAA,EAAc;AAClB,mBAAOF,MAAM,CAANA,QAAAA,CAAP,GAAOA,CAAP;AAFF,WAAA;AAIFI,UAAAA,2BAA2B,EAAEpF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAJ3B,sDAI2BA,CAJ3B;AAKFyF,UAAAA,8BAA8B,EAAEzF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAL9B,yDAK8BA,CAL9B;AAMFqF,UAAAA,wBAAwB,EAAErF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CANxB,mDAMwBA,CANxB;AAOF0F,UAAAA,2BAA2B,EAAE1F,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAP3B,sDAO2BA,CAP3B;AAQFsF,UAAAA,sBAAsB,EAAEtF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CARtB,iDAQsBA,CARtB;AASF2F,UAAAA,yBAAyB,EAAE3F,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CATzB,oDASyBA,CATzB;AAUFuF,UAAAA,kBAAkB,EAAEvF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAAAA,6CAAAA;AAVlB,SAhCU;AA4ChB6F,QAAAA,IAAI,EAAE;AACFX,UAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,GAAA,EAAc;AAClB,mBAAOF,MAAM,CAANA,QAAAA,CAAP,GAAOA,CAAP;AAFF,WAAA;AAIFI,UAAAA,2BAA2B,EAAEpF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAJ3B,sDAI2BA,CAJ3B;AAKFyF,UAAAA,8BAA8B,EAAEzF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAL9B,yDAK8BA,CAL9B;AAMFqF,UAAAA,wBAAwB,EAAErF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CANxB,mDAMwBA,CANxB;AAOF0F,UAAAA,2BAA2B,EAAE1F,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAP3B,sDAO2BA,CAP3B;AAQFsF,UAAAA,sBAAsB,EAAEtF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CARtB,iDAQsBA,CARtB;AASF2F,UAAAA,yBAAyB,EAAE3F,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CATzB,oDASyBA,CATzB;AAUFuF,UAAAA,kBAAkB,EAAEvF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAAAA,6CAAAA;AAVlB,SA5CU;AAwDhB8F,QAAAA,MAAM,EAAE;AACJZ,UAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,GAAA,EAAc;AAClB,mBAAOF,MAAM,CAANA,UAAAA,CAAP,GAAOA,CAAP;AAFA,WAAA;AAIJe,UAAAA,WAAW,EAJP,IAAA;AAKJC,UAAAA,iBAAiB,EALb,IAAA;AAMJZ,UAAAA,2BAA2B,EAAEpF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CANzB,wDAMyBA,CANzB;AAOJyF,UAAAA,8BAA8B,EAAEzF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAP5B,2DAO4BA,CAP5B;AAQJqF,UAAAA,wBAAwB,EAAErF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CARtB,qDAQsBA,CARtB;AASJ0F,UAAAA,2BAA2B,EAAE1F,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CATzB,wDASyBA,CATzB;AAUJsF,UAAAA,sBAAsB,EAAEtF,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAVpB,mDAUoBA,CAVpB;AAWJ2F,UAAAA,yBAAyB,EAAE3F,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAXvB,sDAWuBA,CAXvB;AAYJiG,UAAAA,eAAe,EAAEjG,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAAAA,4CAAAA;AAZb,SAxDQ;AAsEhBkG,QAAAA,QAAQ,EAAE;AACNhB,UAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,GAAA,EAAc;AAClB,mBAAOF,MAAM,CAANA,SAAAA,CAAP,GAAOA,CAAP;AACH;AAHK,SAtEM;AA2EhBmB,QAAAA,cAAc,EAAE;AACZjB,UAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,GAAA,EAAc;AAClB,mBAAOF,MAAM,CAANA,eAAAA,CAAP,GAAOA,CAAP;AACH;AAHW;AA3EA,OAApB;AAiFH;AArFF,GAvGqC,EA6LrC;AACC/B,IAAAA,GAAG,EADJ,mBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,UAAI4D,MAAM,GAAV,IAAA;;AACA,UAAIC,MAAM,GAAV,EAAA;AACA,OAAC,GAAGxG,SAAS,CAAb,IAAA,EAAoB,KAApB,YAAA,EAAuC,UAAA,IAAA,EAAe;AAClD,YAAIkB,MAAM,CAANA,SAAAA,CAAAA,cAAAA,CAAAA,IAAAA,CAAqCqF,MAAM,CAA3CrF,YAAAA,EAAJ,IAAIA,CAAJ,EAAqE;AACjEsF,UAAAA,MAAM,CAANA,IAAM,CAANA,GAAe,UAAA,GAAA,EAAc;AACzB,mBAAOD,MAAM,CAANA,cAAAA,CAAAA,IAAAA,EAAP,GAAOA,CAAP;AADJC,WAAAA;AAGH;AALL,OAAA;AAOA,aAAA,MAAA;AACH;AAbF,GA7LqC,EA2MrC;AACCpD,IAAAA,GAAG,EADJ,gBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,UAAA,EAAA,GAAA,EAA0B;AAC7B,UAAI8D,cAAc,GAAG,KAAA,YAAA,CAArB,UAAqB,CAArB;AACA,aAAOA,cAAc,GAAGA,cAAc,CAAdA,MAAAA,CAAH,GAAGA,CAAH,GAArB,IAAA;AACH;AALF,GA3MqC,EAiNrC;AACCrD,IAAAA,GAAG,EADJ,wBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,IAAA,EAAe;AAClB,WAAA,aAAA,CAAA,YAAA,CAAgCiB,IAAI,CAApC,eAAA;AACH;AAJF,GAjNqC,EAsNrC;AACCR,IAAAA,GAAG,EADJ,qBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,IAAA,EAAA,SAAA,EAA0B;AAC7B,WAAA,aAAA,CAAA,gBAAA,CAAoCoB,IAAI,CAAJA,IAAAA,CAApC,eAAA,EAAA,SAAA;AACH;AAJF,GAtNqC,EA2NrC;AACCX,IAAAA,GAAG,EADJ,mBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,KAAA,EAAgB;AACnB,UAAI+D,SAAS,GAAGC,KAAK,CAArB,SAAA;AAAA,UACIC,SAAS,GAAGD,KAAK,CADrB,SAAA;AAAA,UAEIE,WAAW,GAAGF,KAAK,CAFvB,WAAA;AAAA,UAGIG,SAAS,GAAGH,KAAK,CAHrB,SAAA;AAIA,UAAII,aAAa,GAAG,KAAA,uBAAA,CAApB,SAAoB,CAApB;;AACA,WAAA,oBAAA,CAAA,2BAAA,CAAA,aAAA,EAAA,SAAA,EAAgF,MAAhF,SAAA,EAAiG,MAAjG,WAAA;AACH;AATF,GA3NqC,EAqOrC;AACC3D,IAAAA,GAAG,EADJ,yBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,KAAA,EAAgB;AACnB,UAAIqE,WAAW,GAAGC,KAAK,CAAvB,WAAA;;AACA,WAAA,WAAA,CAAA,oBAAA,CAAA,WAAA,EAAmD,KAAnD,oBAAA;AACH;AALF,GArOqC,EA2OrC;AACC7D,IAAAA,GAAG,EADJ,uBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,UAAA,EAAqB;AACxB,UAAI8D,cAAc,GAAG,KAAA,YAAA,CAAkBS,UAAU,CAAjD,IAAqB,CAArB;AACA,UAAIC,OAAO,GAAG,IAAA,wBAAA,CAAA,cAAA,EAA6CD,UAAU,CAAvD,SAAA,EAAmEA,UAAU,CAA3F,SAAc,CAAd;;AACA,UAAIH,aAAa,GAAG,KAAA,oBAAA,CAAA,YAAA,CAAuCI,OAAO,CAA9C,iBAAA,EAAkEV,cAAc,CAAhF,WAAA,EAA8F,CAACA,cAAc,CAAjI,iBAAoB,CAApB;;AACA,OAAC,GAAG3G,OAAO,CAAX,MAAA,EAAoBoH,UAAU,CAA9B,UAAA,EAA2C;AACvCC,QAAAA,OAAO,EADgC,OAAA;AAEvCJ,QAAAA,aAAa,EAAEA;AAFwB,OAA3C;;AAIA,UAAI,aAAaG,UAAU,CAA3B,IAAA,EAAkC;AAC9B,YAAIR,SAAS,GAAGQ,UAAU,CAAVA,UAAAA,CAAAA,WAAAA,CAAhB,SAAA;AACAH,QAAAA,aAAa,CAAbA,eAAAA,GAAAA,SAAAA;AACA,aAAA,uBAAA,CAAA,SAAA,IAAA,aAAA;AACH;AACJ;AAfF,GA3OqC,EA2PrC;AACC3D,IAAAA,GAAG,EADJ,6BAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,UAAA,EAAqB;AACxB,UAAIyE,MAAM,GAAV,IAAA;;AACA,UAAIC,qBAAqB,GAAGH,UAAU,CAAtC,UAAA;AAAA,UACIC,OAAO,GAAGE,qBAAqB,CADnC,OAAA;AAAA,UAEIN,aAAa,GAAGM,qBAAqB,CAFzC,aAAA;AAGAF,MAAAA,OAAO,CAAPA,aAAAA,GAAwBD,UAAU,CAAlCC,aAAAA;;AACA,UAAI,CAACA,OAAO,CAAZ,aAAA,EAA4B;AACxB,YAAIG,OAAO,GAAG,OAAO,CAAP,SAAA,CAAA,GAAA,CAAsB,UAAA,QAAA,EAAmB;AACnD,iBAAOF,MAAM,CAANA,2BAAAA,CAAP,QAAOA,CAAP;AADJ,SAAc,CAAd;;AAGA,aAAA,oBAAA,CAAA,mBAAA,CAAA,aAAA,EAAA,OAAA,EAAsED,OAAO,CAAPA,cAAAA,CAAtE,WAAA;AACH;AACJ;AAdF,GA3PqC,EA0QrC;AACC/D,IAAAA,GAAG,EADJ,oBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,UAAA,EAAA,KAAA,EAA4B;AAC/B,UAAI4E,sBAAsB,GAAGL,UAAU,CAAvC,UAAA;AAAA,UACIC,OAAO,GAAGI,sBAAsB,CADpC,OAAA;AAAA,UAEIR,aAAa,GAAGQ,sBAAsB,CAF1C,aAAA;AAGAJ,MAAAA,OAAO,CAAPA,aAAAA,GAAwBD,UAAU,CAAlCC,aAAAA;;AACA,WAAA,kBAAA,CAAA,aAAA,EAAA,OAAA,EAAA,KAAA;;AACA,WAAA,eAAA,CAAA,aAAA,EAAA,OAAA;AACH;AATF,GA1QqC,EAoRrC;AACC/D,IAAAA,GAAG,EADJ,wBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,UAAA,EAAA,IAAA,EAA2B;AAC9B,UAAI6E,sBAAsB,GAAGN,UAAU,CAAvC,UAAA;AAAA,UACIC,OAAO,GAAGK,sBAAsB,CADpC,OAAA;AAAA,UAEIT,aAAa,GAAGS,sBAAsB,CAF1C,aAAA;;AAGA,WAAA,kBAAA,CAAA,aAAA,EAAA,OAAA,EAAA,IAAA;AACH;AAPF,GApRqC,EA4RrC;AACCpE,IAAAA,GAAG,EADJ,2BAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,UAAA,EAAA,IAAA,EAA2B;AAC9B,UAAI8E,sBAAsB,GAAGP,UAAU,CAAvC,UAAA;AAAA,UACIC,OAAO,GAAGM,sBAAsB,CADpC,OAAA;AAAA,UAEIV,aAAa,GAAGU,sBAAsB,CAF1C,aAAA;;AAGA,UAAI,CAAC7D,IAAI,CAAL,MAAA,IAAgB,CAACA,IAAI,CAAJA,MAAAA,CAArB,QAAA,EAA2C;AACvCuD,QAAAA,OAAO,CAAPA,qBAAAA,CAA8BvD,IAAI,CAAlCuD,KAAAA;;AACA,YAAI,CAACA,OAAO,CAAZ,aAAA,EAA4B;AACxB,eAAA,oBAAA,CAAA,qBAAA,CAAA,aAAA,EAA+DvD,IAAI,CAAnE,KAAA,EAA2EuD,OAAO,CAAlF,cAAA;AACH;AACJ;AACJ;AAZF,GA5RqC,EAySrC;AACC/D,IAAAA,GAAG,EADJ,uBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,UAAA,EAAqB;AACxB,UAAI+E,sBAAsB,GAAGR,UAAU,CAAvC,UAAA;AAAA,UACIC,OAAO,GAAGO,sBAAsB,CADpC,OAAA;AAAA,UAEIX,aAAa,GAAGW,sBAAsB,CAF1C,aAAA;;AAGA,WAAA,eAAA,CAAA,aAAA,EAAA,OAAA;;AACA,UAAI,aAAaR,UAAU,CAA3B,IAAA,EAAkC;AAC9B,eAAO,KAAA,uBAAA,CAA6BA,UAAU,CAAVA,UAAAA,CAAAA,WAAAA,CAApC,SAAO,CAAP;AACH;AACJ;AAVF,GAzSqC,EAoTrC;AACC9D,IAAAA,GAAG,EADJ,YAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,iBAAA,EAA4B;AAC/B,UAAIgF,MAAM,GAAV,IAAA;;AACA,UAAIC,mBAAmB,GAAGC,iBAAiB,IAAIA,iBAAiB,CAAtCA,CAAsC,CAAtCA,IAA6C,KAAvE,oBAAuE,EAAvE;;AACA,UAAIC,UAAU,GAAG3H,SAAS,CAATA,OAAAA,CAAAA,MAAAA,CAAjB,gCAAiBA,CAAjB;;AACA,aAAO,KAAA,WAAA,CAAiB,KAAjB,mBAAA,EAAA,UAAA,EAAA,IAAA,CAA4D,UAAA,KAAA,EAAgB;AAC/E,YAAI4H,IAAI,GAAGC,KAAK,CAAhB,IAAA;AACA,eAAOL,MAAM,CAANA,WAAAA,CAAAA,eAAAA,CAAAA,mBAAAA,EAAP,IAAOA,CAAP;AAFJ,OAAO,CAAP;AAIH;AAVF,GApTqC,EA+TrC;AACCvE,IAAAA,GAAG,EADJ,YAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvB,UAAIsF,MAAM,GAAV,IAAA;;AACA,UAAIC,QAAQ,GAAGC,SAAS,IAAIA,SAAS,CAAtBA,CAAsB,CAAtBA,IAA6B,KAAA,MAAA,CAAA,wBAAA,GAA5C,CAA4C,CAA5C;;AACA,aAAO,KAAA,WAAA,CAAiB,KAAjB,iBAAA,EAAyCD,QAAQ,CAARA,QAAAA,CAAzC,IAAA,EAAA,IAAA,CAAsE,UAAA,KAAA,EAAgB;AACzF,YAAIH,IAAI,GAAGK,KAAK,CAAhB,IAAA;AACA,eAAOH,MAAM,CAANA,WAAAA,CAAAA,UAAAA,CAAAA,QAAAA,EAAP,IAAOA,CAAP;AAFJ,OAAO,CAAP;AAIH;AATF,GA/TqC,EAyUrC;AACC7E,IAAAA,GAAG,EADJ,YAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvB,UAAI0F,OAAO,GAAX,IAAA;;AACAF,MAAAA,SAAS,GAAGA,SAAS,IAAI,KAAA,MAAA,CAAzBA,wBAAyB,EAAzBA;AACA,aAAO,KAAA,WAAA,CAAiB,KAAjB,mBAAA,EAAA,IAAA,CAAgD,YAAW;AAC9D,eAAOE,OAAO,CAAPA,WAAAA,CAAAA,WAAAA,CAAP,SAAOA,CAAP;AADJ,OAAO,CAAP;AAGH;AARF,GAzUqC,EAkVrC;AACCjF,IAAAA,GAAG,EADJ,UAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvB,UAAI2F,OAAO,GAAX,IAAA;;AACAH,MAAAA,SAAS,GAAGA,SAAS,IAAI,KAAA,MAAA,CAAzBA,wBAAyB,EAAzBA;AACA,aAAO,KAAA,WAAA,CAAiB,KAAjB,mBAAA,EAAA,IAAA,CAAgD,UAAA,KAAA,EAAgB;AACnE,YAAII,MAAM,GAAGC,KAAK,CAAlB,MAAA;AACA,eAAOF,OAAO,CAAPA,WAAAA,CAAAA,SAAAA,CAAAA,SAAAA,EAAP,MAAOA,CAAP;AAFJ,OAAO,CAAP;AAIH;AATF,GAlVqC,EA4VrC;AACClF,IAAAA,GAAG,EADJ,UAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvB,UAAI8F,OAAO,GAAX,IAAA;;AACAN,MAAAA,SAAS,GAAGA,SAAS,IAAI,KAAA,MAAA,CAAzBA,wBAAyB,EAAzBA;AACA,aAAO,KAAA,WAAA,CAAiB,KAAjB,mBAAA,EAAA,IAAA,CAAgD,UAAA,KAAA,EAAgB;AACnE,YAAII,MAAM,GAAGG,KAAK,CAAlB,MAAA;AACA,eAAOD,OAAO,CAAPA,WAAAA,CAAAA,SAAAA,CAAAA,SAAAA,EAAP,MAAOA,CAAP;AAFJ,OAAO,CAAP;AAIH;AATF,GA5VqC,EAsWrC;AACCrF,IAAAA,GAAG,EADJ,YAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,iBAAA,EAA4B;AAC/B,WAAA,oBAAA,GAA4BgG,iBAAiB,IAAIA,iBAAiB,CAAtCA,CAAsC,CAAtCA,IAA6C,KAAzE,oBAAyE,EAAzE;;AACA,WAAA,aAAA,CAAA,SAAA;AACH;AALF,GAtWqC,EA4WrC;AACCvF,IAAAA,GAAG,EADJ,WAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvBwF,MAAAA,SAAS,GAAGA,SAAS,IAAI,KAAA,MAAA,CAAzBA,wBAAyB,EAAzBA;AACA,aAAO,KAAA,WAAA,CAAA,aAAA,CAAP,SAAO,CAAP;AACH;AALF,GA5WqC,EAkXrC;AACC/E,IAAAA,GAAG,EADJ,iBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvBwF,MAAAA,SAAS,GAAGA,SAAS,IAAI,KAAA,MAAA,CAAzBA,wBAAyB,EAAzBA;AACA,aAAO,KAAA,WAAA,CAAA,cAAA,CAAP,SAAO,CAAP;AACH;AALF,GAlXqC,EAwXrC;AACC/E,IAAAA,GAAG,EADJ,iBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,aAAA,EAAA,OAAA,EAAiC;AACpC,WAAA,oBAAA,CAAA,iBAAA,CAAA,aAAA,EAA2DwE,OAAO,CAAlE,iBAAA,EAAsF,CAACA,OAAO,CAA9F,OAAA,EAAwGA,OAAO,CAA/G,UAAA;;AACA,UAAIA,OAAO,CAAX,gBAAIA,EAAJ,EAAgC;AAC5B,aAAA,eAAA,CAAqBA,OAAO,CAA5B,SAAA;AACH;AACJ;AAPF,GAxXqC,EAgYrC;AACC/D,IAAAA,GAAG,EADJ,oBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,aAAA,EAAA,OAAA,EAAA,SAAA,EAA4C;AAC/CoE,MAAAA,aAAa,CAAbA,QAAAA,GAAAA,IAAAA;;AACA,UAAII,OAAO,CAAX,aAAA,EAA2B;AACvB,aAAA,+BAAA,CAAA,aAAA,EAAA,OAAA,EAAA,SAAA;AADJ,OAAA,MAEO;AACH,aAAA,iCAAA,CAAA,aAAA,EAAA,OAAA,EAAA,SAAA;AACH;AACJ;AATF,GAhYqC,EA0YrC;AACC/D,IAAAA,GAAG,EADJ,iCAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,aAAA,EAAA,OAAA,EAAA,SAAA,EAA4C;AAC/C,UAAIuF,QAAQ,GAAGf,OAAO,CAAtB,4BAAeA,EAAf;;AACA,UAAIyB,SAAS,GAAG,KAAA,aAAA,CAAA,SAAA,EAAhB,QAAgB,CAAhB;;AACAzB,MAAAA,OAAO,CAAPA,yBAAAA,CAAAA,SAAAA;;AACA,UAAI0B,kBAAkB,GAAG,KAAA,sBAAA,CAAzB,OAAyB,CAAzB;;AACA,WAAA,oBAAA,CAAA,gCAAA,CAAA,aAAA,EAAA,kBAAA;;AACA,UAAI1B,OAAO,CAAX,aAAA,EAA2B;AACvB,aAAA,eAAA,CAAqBA,OAAO,CAA5B,SAAA;AACH;AACJ;AAXF,GA1YqC,EAsZrC;AACC/D,IAAAA,GAAG,EADJ,mCAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,aAAA,EAAA,OAAA,EAAA,SAAA,EAA4C;AAC/C,UAAIuF,QAAQ,GAAGf,OAAO,CAAPA,8BAAAA,CAAuC2B,SAAS,CAA/D,KAAe3B,CAAf;;AACA,UAAIyB,SAAS,GAAG,KAAA,aAAA,CAAA,SAAA,EAAhB,QAAgB,CAAhB;;AACAzB,MAAAA,OAAO,CAAPA,2BAAAA,CAAoC2B,SAAS,CAA7C3B,KAAAA,EAAAA,SAAAA;;AACA,UAAI0B,kBAAkB,GAAG,KAAA,sBAAA,CAAzB,OAAyB,CAAzB;;AACA,WAAA,oBAAA,CAAA,wBAAA,CAAA,aAAA,EAAA,kBAAA;AACH;AARF,GAtZqC,EA+ZrC;AACCzF,IAAAA,GAAG,EADJ,wBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,OAAA,EAAkB;AACrB,UAAIoG,WAAW,GAAG5B,OAAO,CAAPA,UAAAA,CAAlB,kBAAA;AACA,aAAO;AACH6B,QAAAA,eAAe,EAAE7B,OAAO,CAAPA,UAAAA,CADd,eAAA;AAEHpD,QAAAA,IAAI,EAAEgF,WAAW,CAAXA,QAAAA,GAAuB,KAAA,2BAAA,CAAiCA,WAAW,CAAnEA,QAAuB,CAAvBA,GAFH,IAAA;AAGH9E,QAAAA,SAAS,EAAE8E,WAAW,CAHnB,SAAA;AAIHE,QAAAA,eAAe,EAAEF,WAAW,CAACH;AAJ1B,OAAP;AAMH;AAVF,GA/ZqC,EA0arC;AACCxF,IAAAA,GAAG,EADJ,eAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAA,QAAA,EAA8B;AACjC,UAAIuG,QAAQ,GAAGhB,QAAQ,GAAGA,QAAQ,CAARA,QAAAA,CAAH,IAAA,GAAvB,IAAA;AACA,aAAOtH,gBAAgB,CAAhBA,mBAAAA,CAAAA,GAAAA,CAAyCkI,SAAS,CAAlDlI,OAAAA,EAAP,QAAOA,CAAP;AACH;AALF,GA1aqC,EAgbrC;AACCwC,IAAAA,GAAG,EADJ,6BAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,QAAA,EAAmB;AACtB,aAAO;AACHwG,QAAAA,UAAU,EAAEjB,QAAQ,CAARA,QAAAA,CADT,IAAA;AAEHkB,QAAAA,QAAQ,EAAE,KAAA,iBAAA,CAAA,QAAA;AAFP,OAAP;AAIH;AAPF,GAhbqC,EAwbrC;AACChG,IAAAA,GAAG,EADJ,aAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,MAAA,EAAA,cAAA,EAAiC;AACpC,WAAA,eAAA,GAAuB,IAAI5C,SAAS,CAApC,QAAuB,EAAvB;AACAsJ,MAAAA,MAAM,CAANA,IAAAA,CAAAA,cAAAA;AACA,aAAO,KAAA,eAAA,CAAP,OAAO,EAAP;AACH;AANF,GAxbqC,EA+brC;AACCjG,IAAAA,GAAG,EADJ,iBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,CAAA,EAAY;AACf,UAAI6D,MAAM,GAAG8C,CAAC,CAAd,YAAA;;AACA,UAAA,MAAA,EAAY;AACR,aAAA,eAAA,CAAA,OAAA,CAAA,MAAA;AADJ,OAAA,MAEO;AACH,aAAA,eAAA,CAAA,MAAA;AACH;AACJ;AATF,GA/bqC,EAycrC;AACClG,IAAAA,GAAG,EADJ,mBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,IAAA,EAAe;AAClB,UAAI4G,mBAAmB,GAAG,KAAA,MAAA,CAA1B,kBAA0B,CAA1B;;AACA,UAAI,CAAJ,mBAAA,EAA0B;AACtB,eAAA,IAAA;AACH;;AACD,UAAI3F,IAAI,GAAG2F,mBAAmB,CAA9B,IAA8B,CAA9B;AACA,aAAO3F,IAAI,GAAGA,IAAI,CAAP,SAAA,GAAX,IAAA;AACH;AATF,GAzcqC,EAmdrC;AACCR,IAAAA,GAAG,EADJ,cAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,WAAA,QAAA,GAAgB;AACZ6G,QAAAA,SAAS,EAAE,KAAA,qBAAA,CADC,WACD,CADC;AAEZC,QAAAA,OAAO,EAAE,KAAA,qBAAA,CAFG,SAEH,CAFG;AAGZC,QAAAA,UAAU,EAAE,KAAA,qBAAA,CAAA,YAAA;AAHA,OAAhB;AAKH;AARF,GAndqC,EA4drC;AACCtG,IAAAA,GAAG,EADJ,oBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,CAAC,GAAG7C,OAAO,CAAX,MAAA,EAAoBkC,IAAI,CAACM,eAAe,CAACS,yBAAyB,CAA1C,SAAgB,CAAhB,EAAA,oBAAA,EAAJf,IAAI,CAAJA,CAAAA,IAAAA,CAApB,IAAoBA,CAApB,EAAuH;AAC1H2H,QAAAA,KAAK,EAAE;AACHC,UAAAA,wBAAwB,EAAE;AADvB,SADmH;AAI1HC,QAAAA,mBAAmB,EAJuG,IAAA;AAK1HC,QAAAA,gBAAgB,EAL0G,IAAA;AAM1HN,QAAAA,SAAS,EANiH,IAAA;AAO1HC,QAAAA,OAAO,EAPmH,IAAA;AAQ1HC,QAAAA,UAAU,EAAE;AAR8G,OAAvH,CAAP;AAUH;AAbF,GA5dqC,EA0erC;AACCtG,IAAAA,GAAG,EADJ,gBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,IAAA,EAAe;AAClB,UAAIoF,IAAI,GAAGgC,IAAI,CAAf,IAAA;;AACA,cAAA,IAAA;AACI,aAAA,OAAA;AACI,eAAA,OAAA;AACA;;AACJ,aAAA,qBAAA;AACI,eAAA,wBAAA,CAA8BA,IAAI,CAAlC,KAAA;;AACA;;AACJ,aAAA,kBAAA;AACI;;AACJ,aAAA,WAAA;AACA,aAAA,SAAA;AACA,aAAA,YAAA;AACI,eAAA,QAAA,CAAA,IAAA,IAAsB,KAAA,qBAAA,CAAtB,IAAsB,CAAtB;AACA;;AACJ;AACI/H,UAAAA,IAAI,CAACM,eAAe,CAACS,yBAAyB,CAA1C,SAAgB,CAAhB,EAAA,gBAAA,EAAJf,IAAI,CAAJA,CAAAA,IAAAA,CAAAA,IAAAA,EAAAA,IAAAA;;AAfR;AAiBH;AArBF,GA1eqC,EAggBrC;AACCoB,IAAAA,GAAG,EADJ,iBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,gBAAA,EAA2B;AAC9B,WAAA,QAAA,CAAA,SAAA,CAAwB;AACpBqH,QAAAA,gBAAgB,EAAEA;AADE,OAAxB;AAGH;AANF,GAhgBqC,EAugBrC;AACC5G,IAAAA,GAAG,EADJ,eAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,OAAA,EAAA,QAAA,EAA4B;AAC/B,UAAIsH,YAAY,GAAGC,QAAQ,GAAGA,QAAQ,CAAX,IAAA,GAA3B,IAAA;;AACA,UAAIC,OAAO,GAAGvJ,gBAAgB,CAAhBA,mBAAAA,CAAAA,GAAAA,CAAAA,OAAAA,EAAd,YAAcA,CAAd;;AACA,WAAA,QAAA,CAAA,OAAA,CAAsB;AAClBuJ,QAAAA,OAAO,EAAEA;AADS,OAAtB;AAGH;AARF,GAvgBqC,EAghBrC;AACC/G,IAAAA,GAAG,EADJ,sBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,KAAA,WAAA,CAAP,mBAAO,EAAP;AACH;AAJF,GAhhBqC,CAA5B,CAAZQ;;AAshBA,SAAA,yBAAA;AA7hB4B,CAAA,CA8hB9B9C,IAAI,CA9hBN,OAAgC,CAAhC;;AA+hBA,IAAI+J,wBAAwB,GAAG,YAAW;AACtC,WAAA,wBAAA,CAAA,cAAA,EAAA,SAAA,EAAA,aAAA,EAA4E;AACxEnH,IAAAA,eAAe,CAAA,IAAA,EAAfA,wBAAe,CAAfA;;AACA,SAAA,eAAA,GAAA,cAAA;AACA,SAAA,UAAA,GAAA,SAAA;AACA,SAAA,UAAA,GAAkB,CAAC,KAAA,eAAA,CAAD,eAAA,IAAyC,KAAA,UAAA,CAAA,KAAA,CAAsB,UAAA,IAAA,EAAe;AAC5F,aAAO,CAACW,IAAI,CAAJA,QAAAA,CAAR,WAAA;AADJ,KAA2D,CAA3D;AAGA,SAAA,MAAA,GAAc,KAAA,UAAA,CAAA,GAAA,CAAoB,UAAA,QAAA,EAAmB;AACjD,aAAOsE,QAAQ,CAAf,QAAA;AADJ,KAAc,CAAd;AAGA,SAAA,cAAA,GAAsB,KAAA,MAAA,CAAA,MAAA,GAAtB,CAAA;AACA,SAAA,SAAA,GAAiBmC,aAAa,CAAbA,QAAAA,CAAjB,IAAA;AACA,SAAA,cAAA,GAAA,IAAA;AACA,SAAA,eAAA,GAAA,EAAA;AACA,SAAA,eAAA,GAAA,CAAA;AACA,SAAA,WAAA,GAAmB;AACfC,MAAAA,WAAW,EAAE;AADE,KAAnB;AAGH;;AACDnH,EAAAA,YAAY,CAAA,wBAAA,EAA2B,CAAC;AACpCC,IAAAA,GAAG,EADiC,uBAAA;AAEpCT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvB,UAAI,KAAJ,cAAA,EAAyB;AACrB,aAAA,eAAA,GAAuB4H,kBAAkB,CAAC,KAA1C,MAAyC,CAAzC;AADJ,OAAA,MAEO;AACH,YAAIxG,IAAI,GAAG,KAAA,MAAA,CAAX,SAAW,CAAX;;AACA,aAAA,eAAA,CAAA,IAAA,CAAA,IAAA;AACH;;AACD,UAAI,CAAC,KAAA,eAAA,CAAL,iBAAA,EAA6C;AACzC,aAAA,eAAA,GAAuB,KAAA,eAAA,CAAA,MAAA,GAA8B,KAAA,MAAA,CAA9B,MAAA,GAAvB,GAAA;AACH;AACJ;AAZmC,GAAD,EAapC;AACCX,IAAAA,GAAG,EADJ,2BAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvB,WAAA,WAAA,CAAA,WAAA,GAAA,CAAA;AACA,WAAA,WAAA,CAAA,eAAA,GAAmC,KAAA,cAAA,GAAsB,KAAA,eAAA,CAAtB,kBAAA,GAAgE,KAAA,eAAA,CAAnG,sBAAA;AACA,UAAIsB,SAAS,GAAG,KAAA,cAAA,GAAsB,CAAtB,CAAA,GAAhB,CAAA;AACA,UAAIiE,QAAQ,GAAG,KAAf,4BAAe,EAAf;;AACA,WAAA,sBAAA,CAAA,SAAA,EAAA,QAAA,EAAA,SAAA;AACH;AARF,GAboC,EAsBpC;AACC9E,IAAAA,GAAG,EADJ,6BAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAA,SAAA,EAA+B;AAClC,WAAA,WAAA,CAAA,WAAA;AACA,WAAA,WAAA,CAAA,eAAA,GAAmC,KAAA,WAAA,CAAA,WAAA,GAAA,CAAA,GAAmC,CAAC,GAAG1C,OAAO,CAAX,MAAA,EAAoB,KAAA,eAAA,CAApB,yBAAA,EAAoE,KAAA,WAAA,CAAvG,WAAmC,CAAnC,GAAuI,KAAA,eAAA,CAA1K,sBAAA;AACA,UAAIiI,QAAQ,GAAG,KAAA,8BAAA,CAAf,SAAe,CAAf;;AACA,WAAA,sBAAA,CAAA,SAAA,EAAA,QAAA,EAAA,SAAA;AACH;AAPF,GAtBoC,EA8BpC;AACC9E,IAAAA,GAAG,EADJ,kBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,KAAA,kBAAA,MAA6B,KAAA,cAAA,IAAuB,CAAC,KAAxB,OAAA,IAAwC,KAA5E,cAAA;AACH;AAJF,GA9BoC,EAmCpC;AACCS,IAAAA,GAAG,EADJ,8BAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,KAAA,cAAA,GAAA,IAAA,GAA6B,KAAA,UAAA,CAApC,CAAoC,CAApC;AACH;AAJF,GAnCoC,EAwCpC;AACCS,IAAAA,GAAG,EADJ,gCAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAoB;AACvB,aAAO,KAAA,UAAA,CAAP,SAAO,CAAP;AACH;AAJF,GAxCoC,EA6CpC;AACCS,IAAAA,GAAG,EADJ,wBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAyC;AAC5C,WAAA,WAAA,CAAA,kBAAA,GAAsC;AAClCsB,QAAAA,SAAS,EADyB,SAAA;AAElCiE,QAAAA,QAAQ,EAF0B,QAAA;AAGlCU,QAAAA,SAAS,EAAEA;AAHuB,OAAtC;AAKH;AARF,GA7CoC,EAsDpC;AACCxF,IAAAA,GAAG,EADJ,oBAAA;AAECT,IAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,aAAO,KAAA,eAAA,CAAA,MAAA,GAAP,CAAA;AACH;AAJF,GAtDoC,EA2DpC;AACCS,IAAAA,GAAG,EADJ,gBAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,KAAP,eAAA;AACH;AAJF,GA3DoC,EAgEpC;AACCpH,IAAAA,GAAG,EADJ,WAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,KAAP,UAAA;AACH;AAJF,GAhEoC,EAqEpC;AACCpH,IAAAA,GAAG,EADJ,YAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,KAAP,WAAA;AACH;AAJF,GArEoC,EA0EpC;AACCpH,IAAAA,GAAG,EADJ,eAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,KAAP,cAAA;AAHL,KAAA;AAKCC,IAAAA,GAAG,EAAE,SAAA,GAAA,CAAA,KAAA,EAAgB;AACjB,WAAA,cAAA,GAAA,KAAA;AACH;AAPF,GA1EoC,EAkFpC;AACCrH,IAAAA,GAAG,EADJ,eAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,KAAP,cAAA;AACH;AAJF,GAlFoC,EAuFpC;AACCpH,IAAAA,GAAG,EADJ,WAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,KAAP,UAAA;AACH;AAJF,GAvFoC,EA4FpC;AACCpH,IAAAA,GAAG,EADJ,mBAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,KAAA,cAAA,GAAsB,CAAC,GAAGvK,OAAO,CAAX,MAAA,EAAoB,KAAA,eAAA,CAApB,8BAAA,EAAyE,KAAA,MAAA,CAAzE,MAAA,EAA6F,KAAnH,SAAsB,CAAtB,GAAqI,CAAC,GAAGA,OAAO,CAAX,MAAA,EAAoB,KAAA,eAAA,CAApB,2BAAA,EAAsE,KAAlN,SAA4I,CAA5I;AACH;AAJF,GA5FoC,EAiGpC;AACCmD,IAAAA,GAAG,EADJ,gBAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,UAAI,KAAJ,kBAAI,EAAJ,EAA+B;AAC3B,eAAO,KAAA,cAAA,GAAsB,CAAC,GAAGvK,OAAO,CAAX,MAAA,EAAoB,KAAA,eAAA,CAApB,2BAAA,EAAsE,KAAA,eAAA,CAAtE,MAAA,EAAmG,KAAzH,SAAsB,CAAtB,GAA2I,CAAC,GAAGA,OAAO,CAAX,MAAA,EAAoB,KAAA,eAAA,CAApB,wBAAA,EAAmE,KAArN,SAAkJ,CAAlJ;AADJ,OAAA,MAEO;AACH,eAAO,KAAA,cAAA,GAAsB,CAAC,GAAGA,OAAO,CAAX,MAAA,EAAoB,KAAA,eAAA,CAApB,yBAAA,EAAoE,KAAA,MAAA,CAA1F,MAAsB,CAAtB,GAAgH,KAAA,eAAA,CAAvH,sBAAA;AACH;AACJ;AARF,GAjGoC,EA0GpC;AACCmD,IAAAA,GAAG,EADJ,mBAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,KAAA,OAAA,GAAe,KAAf,cAAA,GAAqC,KAAA,UAAA,CAA5C,eAAA;AACH;AAJF,GA1GoC,EA+GpC;AACCpH,IAAAA,GAAG,EADJ,YAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,KAAA,OAAA,IAAgB,CAAC,KAAjB,kBAAiB,EAAjB,GAA6C,KAAA,eAAA,CAA7C,eAAA,GAAoF,KAA3F,CAAA;AACH;AAJF,GA/GoC,EAoHpC;AACCpH,IAAAA,GAAG,EADJ,gBAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,KAAP,eAAA;AACH;AAJF,GApHoC,EAyHpC;AACCpH,IAAAA,GAAG,EADJ,SAAA;AAECoH,IAAAA,GAAG,EAAE,SAAA,GAAA,GAAW;AACZ,aAAO,CAAC,KAAA,WAAA,CAAR,WAAA;AACH;AAJF,GAzHoC,CAA3B,CAAZrH;;AA+HA,SAAA,wBAAA;AAnJJ,CAA+B,EAA/B;;AAqJAuH,MAAM,CAANA,OAAAA,GAAAA,yBAAAA","sourcesContent":["/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.editing.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _string = require(\"../../core/utils/string\");\r\nvar _message = require(\"../../localization/message\");\r\nvar _message2 = _interopRequireDefault(_message);\r\nvar _ui = require(\"../widget/ui.widget\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _uiFile_managerDialog = require(\"./ui.file_manager.dialog.name_editor\");\r\nvar _uiFile_managerDialog2 = _interopRequireDefault(_uiFile_managerDialog);\r\nvar _uiFile_managerDialog3 = require(\"./ui.file_manager.dialog.folder_chooser\");\r\nvar _uiFile_managerDialog4 = _interopRequireDefault(_uiFile_managerDialog3);\r\nvar _uiFile_manager = require(\"./ui.file_manager.file_uploader\");\r\nvar _uiFile_manager2 = _interopRequireDefault(_uiFile_manager);\r\nvar _uiFile_manager3 = require(\"./ui.file_manager.messages\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _toConsumableArray(arr) {\r\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\r\n}\r\n\r\nfunction _nonIterableSpread() {\r\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\")\r\n}\r\n\r\nfunction _iterableToArray(iter) {\r\n    if (Symbol.iterator in Object(iter) || \"[object Arguments]\" === Object.prototype.toString.call(iter)) {\r\n        return Array.from(iter)\r\n    }\r\n}\r\n\r\nfunction _arrayWithoutHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\r\n            arr2[i] = arr[i]\r\n        }\r\n        return arr2\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar FileManagerEditingControl = function(_Widget) {\r\n    _inherits(FileManagerEditingControl, _Widget);\r\n\r\n    function FileManagerEditingControl() {\r\n        _classCallCheck(this, FileManagerEditingControl);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(FileManagerEditingControl).apply(this, arguments))\r\n    }\r\n    _createClass(FileManagerEditingControl, [{\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(FileManagerEditingControl.prototype), \"_initMarkup\", this).call(this);\r\n            this._initActions();\r\n            this._controller = this.option(\"controller\");\r\n            this._controller.on(\"EditActionStarting\", this._onEditActionStarting.bind(this));\r\n            this._controller.on(\"EditActionResultAcquired\", this._onEditActionResultAcquired.bind(this));\r\n            this._controller.on(\"EditActionItemError\", this._onEditActionItemError.bind(this));\r\n            this._controller.on(\"EditActionError\", this._onEditActionError.bind(this));\r\n            this._controller.on(\"CompleteEditActionItem\", this._onCompleteEditActionItem.bind(this));\r\n            this._controller.on(\"CompleteEditAction\", this._onCompleteEditAction.bind(this));\r\n            this._model = this.option(\"model\");\r\n            this._uploadOperationInfoMap = {};\r\n            this._renameItemDialog = this._createEnterNameDialog(_message2.default.format(\"dxFileManager-dialogRenameItemTitle\"), _message2.default.format(\"dxFileManager-dialogRenameItemButtonText\"));\r\n            this._createFolderDialog = this._createEnterNameDialog(_message2.default.format(\"dxFileManager-dialogCreateDirectoryTitle\"), _message2.default.format(\"dxFileManager-dialogCreateDirectoryButtonText\"));\r\n            var $chooseFolderDialog = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n            this._chooseFolderDialog = this._createComponent($chooseFolderDialog, _uiFile_managerDialog4.default, {\r\n                provider: this._controller._fileProvider,\r\n                getDirectories: this._controller.getDirectories.bind(this._controller),\r\n                getCurrentDirectory: this._controller.getCurrentDirectory.bind(this._controller),\r\n                onClosed: this._onDialogClosed.bind(this)\r\n            });\r\n            this._confirmationDialog = this._createConfirmationDialog();\r\n            this._fileUploader = this._createFileUploader();\r\n            this._createMetadataMap()\r\n        }\r\n    }, {\r\n        key: \"_initNotificationControl\",\r\n        value: function(notificationControl) {\r\n            var _this = this;\r\n            this._notificationControl = notificationControl;\r\n            this._notificationControl.option({\r\n                onOperationCanceled: function(_ref) {\r\n                    var info = _ref.info;\r\n                    return _this._onCancelUploadSession(info)\r\n                },\r\n                onOperationItemCanceled: function(_ref2) {\r\n                    var item = _ref2.item,\r\n                        itemIndex = _ref2.itemIndex;\r\n                    return _this._onCancelFileUpload(item, itemIndex)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getFileUploaderComponent\",\r\n        value: function() {\r\n            return _uiFile_manager2.default\r\n        }\r\n    }, {\r\n        key: \"_createFileUploader\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            var $fileUploader = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n            return this._createComponent($fileUploader, this._getFileUploaderComponent(), {\r\n                getController: this._getFileUploaderController.bind(this),\r\n                onUploadSessionStarted: function(e) {\r\n                    return _this2._onUploadSessionStarted(e)\r\n                },\r\n                onUploadProgress: function(e) {\r\n                    return _this2._onUploadProgress(e)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getFileUploaderController\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            var uploadDirectory = this._uploadDirectoryInfo && this._uploadDirectoryInfo.fileItem;\r\n            return {\r\n                chunkSize: this._controller.getFileUploadChunkSize(),\r\n                uploadFileChunk: function(fileData, chunksInfo) {\r\n                    return _this3._controller.uploadFileChunk(fileData, chunksInfo, uploadDirectory)\r\n                },\r\n                abortFileUpload: function(fileData, chunksInfo) {\r\n                    return _this3._controller.abortFileUpload(fileData, chunksInfo, uploadDirectory)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createEnterNameDialog\",\r\n        value: function(title, buttonText) {\r\n            var $dialog = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n            return this._createComponent($dialog, _uiFile_managerDialog2.default, {\r\n                title: title,\r\n                buttonText: buttonText,\r\n                onClosed: this._onDialogClosed.bind(this)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createConfirmationDialog\",\r\n        value: function() {\r\n            var _this4 = this;\r\n            return {\r\n                show: function() {\r\n                    setTimeout(function() {\r\n                        _this4._onDialogClosed({\r\n                            dialogResult: {}\r\n                        })\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createMetadataMap\",\r\n        value: function() {\r\n            var _this5 = this;\r\n            this._metadataMap = {\r\n                create: {\r\n                    action: function(arg) {\r\n                        return _this5._tryCreate(arg)\r\n                    },\r\n                    affectsAllItems: true,\r\n                    singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingCreateSingleItemProcessingMessage\"),\r\n                    singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingCreateSingleItemSuccessMessage\"),\r\n                    singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingCreateSingleItemErrorMessage\"),\r\n                    commonErrorMessage: _message2.default.format(\"dxFileManager-editingCreateCommonErrorMessage\")\r\n                },\r\n                rename: {\r\n                    action: function(arg) {\r\n                        return _this5._tryRename(arg)\r\n                    },\r\n                    singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingRenameSingleItemProcessingMessage\"),\r\n                    singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingRenameSingleItemSuccessMessage\"),\r\n                    singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingRenameSingleItemErrorMessage\"),\r\n                    commonErrorMessage: _message2.default.format(\"dxFileManager-editingRenameCommonErrorMessage\")\r\n                },\r\n                \"delete\": {\r\n                    action: function(arg) {\r\n                        return _this5._tryDelete(arg)\r\n                    },\r\n                    singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingDeleteSingleItemProcessingMessage\"),\r\n                    multipleItemsProcessingMessage: _message2.default.format(\"dxFileManager-editingDeleteMultipleItemsProcessingMessage\"),\r\n                    singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingDeleteSingleItemSuccessMessage\"),\r\n                    multipleItemsSuccessMessage: _message2.default.format(\"dxFileManager-editingDeleteMultipleItemsSuccessMessage\"),\r\n                    singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingDeleteSingleItemErrorMessage\"),\r\n                    multipleItemsErrorMessage: _message2.default.format(\"dxFileManager-editingDeleteMultipleItemsErrorMessage\"),\r\n                    commonErrorMessage: _message2.default.format(\"dxFileManager-editingDeleteCommonErrorMessage\")\r\n                },\r\n                move: {\r\n                    action: function(arg) {\r\n                        return _this5._tryMove(arg)\r\n                    },\r\n                    singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingMoveSingleItemProcessingMessage\"),\r\n                    multipleItemsProcessingMessage: _message2.default.format(\"dxFileManager-editingMoveMultipleItemsProcessingMessage\"),\r\n                    singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingMoveSingleItemSuccessMessage\"),\r\n                    multipleItemsSuccessMessage: _message2.default.format(\"dxFileManager-editingMoveMultipleItemsSuccessMessage\"),\r\n                    singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingMoveSingleItemErrorMessage\"),\r\n                    multipleItemsErrorMessage: _message2.default.format(\"dxFileManager-editingMoveMultipleItemsErrorMessage\"),\r\n                    commonErrorMessage: _message2.default.format(\"dxFileManager-editingMoveCommonErrorMessage\")\r\n                },\r\n                copy: {\r\n                    action: function(arg) {\r\n                        return _this5._tryCopy(arg)\r\n                    },\r\n                    singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingCopySingleItemProcessingMessage\"),\r\n                    multipleItemsProcessingMessage: _message2.default.format(\"dxFileManager-editingCopyMultipleItemsProcessingMessage\"),\r\n                    singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingCopySingleItemSuccessMessage\"),\r\n                    multipleItemsSuccessMessage: _message2.default.format(\"dxFileManager-editingCopyMultipleItemsSuccessMessage\"),\r\n                    singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingCopySingleItemErrorMessage\"),\r\n                    multipleItemsErrorMessage: _message2.default.format(\"dxFileManager-editingCopyMultipleItemsErrorMessage\"),\r\n                    commonErrorMessage: _message2.default.format(\"dxFileManager-editingCopyCommonErrorMessage\")\r\n                },\r\n                upload: {\r\n                    action: function(arg) {\r\n                        return _this5._tryUpload(arg)\r\n                    },\r\n                    allowCancel: true,\r\n                    allowItemProgress: true,\r\n                    singleItemProcessingMessage: _message2.default.format(\"dxFileManager-editingUploadSingleItemProcessingMessage\"),\r\n                    multipleItemsProcessingMessage: _message2.default.format(\"dxFileManager-editingUploadMultipleItemsProcessingMessage\"),\r\n                    singleItemSuccessMessage: _message2.default.format(\"dxFileManager-editingUploadSingleItemSuccessMessage\"),\r\n                    multipleItemsSuccessMessage: _message2.default.format(\"dxFileManager-editingUploadMultipleItemsSuccessMessage\"),\r\n                    singleItemErrorMessage: _message2.default.format(\"dxFileManager-editingUploadSingleItemErrorMessage\"),\r\n                    multipleItemsErrorMessage: _message2.default.format(\"dxFileManager-editingUploadMultipleItemsErrorMessage\"),\r\n                    canceledMessage: _message2.default.format(\"dxFileManager-editingUploadCanceledMessage\")\r\n                },\r\n                download: {\r\n                    action: function(arg) {\r\n                        return _this5._download(arg)\r\n                    }\r\n                },\r\n                getItemContent: {\r\n                    action: function(arg) {\r\n                        return _this5._getItemContent(arg)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"getCommandActions\",\r\n        value: function() {\r\n            var _this6 = this;\r\n            var result = {};\r\n            (0, _iterator.each)(this._metadataMap, function(name) {\r\n                if (Object.prototype.hasOwnProperty.call(_this6._metadataMap, name)) {\r\n                    result[name] = function(arg) {\r\n                        return _this6._executeAction(name, arg)\r\n                    }\r\n                }\r\n            });\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_executeAction\",\r\n        value: function(actionName, arg) {\r\n            var actionMetadata = this._metadataMap[actionName];\r\n            return actionMetadata ? actionMetadata.action(arg) : null\r\n        }\r\n    }, {\r\n        key: \"_onCancelUploadSession\",\r\n        value: function(info) {\r\n            this._fileUploader.cancelUpload(info.uploadSessionId)\r\n        }\r\n    }, {\r\n        key: \"_onCancelFileUpload\",\r\n        value: function(item, itemIndex) {\r\n            this._fileUploader.cancelFileUpload(item.info.uploadSessionId, itemIndex)\r\n        }\r\n    }, {\r\n        key: \"_onUploadProgress\",\r\n        value: function(_ref3) {\r\n            var sessionId = _ref3.sessionId,\r\n                fileIndex = _ref3.fileIndex,\r\n                commonValue = _ref3.commonValue,\r\n                fileValue = _ref3.fileValue;\r\n            var operationInfo = this._uploadOperationInfoMap[sessionId];\r\n            this._notificationControl.updateOperationItemProgress(operationInfo, fileIndex, 100 * fileValue, 100 * commonValue)\r\n        }\r\n    }, {\r\n        key: \"_onUploadSessionStarted\",\r\n        value: function(_ref4) {\r\n            var sessionInfo = _ref4.sessionInfo;\r\n            this._controller.processUploadSession(sessionInfo, this._uploadDirectoryInfo)\r\n        }\r\n    }, {\r\n        key: \"_onEditActionStarting\",\r\n        value: function(actionInfo) {\r\n            var actionMetadata = this._metadataMap[actionInfo.name];\r\n            var context = new FileManagerActionContext(actionMetadata, actionInfo.itemInfos, actionInfo.directory);\r\n            var operationInfo = this._notificationControl.addOperation(context.processingMessage, actionMetadata.allowCancel, !actionMetadata.allowItemProgress);\r\n            (0, _extend.extend)(actionInfo.customData, {\r\n                context: context,\r\n                operationInfo: operationInfo\r\n            });\r\n            if (\"upload\" === actionInfo.name) {\r\n                var sessionId = actionInfo.customData.sessionInfo.sessionId;\r\n                operationInfo.uploadSessionId = sessionId;\r\n                this._uploadOperationInfoMap[sessionId] = operationInfo\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onEditActionResultAcquired\",\r\n        value: function(actionInfo) {\r\n            var _this7 = this;\r\n            var _actionInfo$customDat = actionInfo.customData,\r\n                context = _actionInfo$customDat.context,\r\n                operationInfo = _actionInfo$customDat.operationInfo;\r\n            context.singleRequest = actionInfo.singleRequest;\r\n            if (!context.singleRequest) {\r\n                var details = context.itemInfos.map(function(itemInfo) {\r\n                    return _this7._getItemProgressDisplayInfo(itemInfo)\r\n                });\r\n                this._notificationControl.addOperationDetails(operationInfo, details, context.actionMetadata.allowCancel)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onEditActionError\",\r\n        value: function(actionInfo, error) {\r\n            var _actionInfo$customDat2 = actionInfo.customData,\r\n                context = _actionInfo$customDat2.context,\r\n                operationInfo = _actionInfo$customDat2.operationInfo;\r\n            context.singleRequest = actionInfo.singleRequest;\r\n            this._handleActionError(operationInfo, context, error);\r\n            this._completeAction(operationInfo, context)\r\n        }\r\n    }, {\r\n        key: \"_onEditActionItemError\",\r\n        value: function(actionInfo, info) {\r\n            var _actionInfo$customDat3 = actionInfo.customData,\r\n                context = _actionInfo$customDat3.context,\r\n                operationInfo = _actionInfo$customDat3.operationInfo;\r\n            this._handleActionError(operationInfo, context, info)\r\n        }\r\n    }, {\r\n        key: \"_onCompleteEditActionItem\",\r\n        value: function(actionInfo, info) {\r\n            var _actionInfo$customDat4 = actionInfo.customData,\r\n                context = _actionInfo$customDat4.context,\r\n                operationInfo = _actionInfo$customDat4.operationInfo;\r\n            if (!info.result || !info.result.canceled) {\r\n                context.completeOperationItem(info.index);\r\n                if (!context.singleRequest) {\r\n                    this._notificationControl.completeOperationItem(operationInfo, info.index, context.commonProgress)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onCompleteEditAction\",\r\n        value: function(actionInfo) {\r\n            var _actionInfo$customDat5 = actionInfo.customData,\r\n                context = _actionInfo$customDat5.context,\r\n                operationInfo = _actionInfo$customDat5.operationInfo;\r\n            this._completeAction(operationInfo, context);\r\n            if (\"upload\" === actionInfo.name) {\r\n                delete this._uploadOperationInfoMap[actionInfo.customData.sessionInfo.sessionId]\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_tryCreate\",\r\n        value: function(parentDirectories) {\r\n            var _this8 = this;\r\n            var parentDirectoryInfo = parentDirectories && parentDirectories[0] || this._getCurrentDirectory();\r\n            var newDirName = _message2.default.format(\"dxFileManager-newDirectoryName\");\r\n            return this._showDialog(this._createFolderDialog, newDirName).then(function(_ref5) {\r\n                var name = _ref5.name;\r\n                return _this8._controller.createDirectory(parentDirectoryInfo, name)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_tryRename\",\r\n        value: function(itemInfos) {\r\n            var _this9 = this;\r\n            var itemInfo = itemInfos && itemInfos[0] || this._model.getMultipleSelectedItems()[0];\r\n            return this._showDialog(this._renameItemDialog, itemInfo.fileItem.name).then(function(_ref6) {\r\n                var name = _ref6.name;\r\n                return _this9._controller.renameItem(itemInfo, name)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_tryDelete\",\r\n        value: function(itemInfos) {\r\n            var _this10 = this;\r\n            itemInfos = itemInfos || this._model.getMultipleSelectedItems();\r\n            return this._showDialog(this._confirmationDialog).then(function() {\r\n                return _this10._controller.deleteItems(itemInfos)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_tryMove\",\r\n        value: function(itemInfos) {\r\n            var _this11 = this;\r\n            itemInfos = itemInfos || this._model.getMultipleSelectedItems();\r\n            return this._showDialog(this._chooseFolderDialog).then(function(_ref7) {\r\n                var folder = _ref7.folder;\r\n                return _this11._controller.moveItems(itemInfos, folder)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_tryCopy\",\r\n        value: function(itemInfos) {\r\n            var _this12 = this;\r\n            itemInfos = itemInfos || this._model.getMultipleSelectedItems();\r\n            return this._showDialog(this._chooseFolderDialog).then(function(_ref8) {\r\n                var folder = _ref8.folder;\r\n                return _this12._controller.copyItems(itemInfos, folder)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_tryUpload\",\r\n        value: function(destinationFolder) {\r\n            this._uploadDirectoryInfo = destinationFolder && destinationFolder[0] || this._getCurrentDirectory();\r\n            this._fileUploader.tryUpload()\r\n        }\r\n    }, {\r\n        key: \"_download\",\r\n        value: function(itemInfos) {\r\n            itemInfos = itemInfos || this._model.getMultipleSelectedItems();\r\n            return this._controller.downloadItems(itemInfos)\r\n        }\r\n    }, {\r\n        key: \"_getItemContent\",\r\n        value: function(itemInfos) {\r\n            itemInfos = itemInfos || this._model.getMultipleSelectedItems();\r\n            return this._controller.getItemContent(itemInfos)\r\n        }\r\n    }, {\r\n        key: \"_completeAction\",\r\n        value: function(operationInfo, context) {\r\n            this._notificationControl.completeOperation(operationInfo, context.completionMessage, !context.success, context.statusText);\r\n            if (context.hasModifiedItems()) {\r\n                this._raiseOnSuccess(context.onlyFiles)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_handleActionError\",\r\n        value: function(operationInfo, context, errorInfo) {\r\n            operationInfo.hasError = true;\r\n            if (context.singleRequest) {\r\n                this._handleSingleRequestActionError(operationInfo, context, errorInfo)\r\n            } else {\r\n                this._handleMultipleRequestActionError(operationInfo, context, errorInfo)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_handleSingleRequestActionError\",\r\n        value: function(operationInfo, context, errorInfo) {\r\n            var itemInfo = context.getItemForSingleRequestError();\r\n            var errorText = this._getErrorText(errorInfo, itemInfo);\r\n            context.processSingleRequestError(errorText);\r\n            var operationErrorInfo = this._getOperationErrorInfo(context);\r\n            this._notificationControl.completeSingleOperationWithError(operationInfo, operationErrorInfo);\r\n            if (context.multipleItems) {\r\n                this._raiseOnSuccess(context.onlyFiles)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_handleMultipleRequestActionError\",\r\n        value: function(operationInfo, context, errorInfo) {\r\n            var itemInfo = context.getItemForMultipleRequestError(errorInfo.index);\r\n            var errorText = this._getErrorText(errorInfo, itemInfo);\r\n            context.processMultipleRequestError(errorInfo.index, errorText);\r\n            var operationErrorInfo = this._getOperationErrorInfo(context);\r\n            this._notificationControl.addOperationDetailsError(operationInfo, operationErrorInfo)\r\n        }\r\n    }, {\r\n        key: \"_getOperationErrorInfo\",\r\n        value: function(context) {\r\n            var detailError = context.errorState.currentDetailError;\r\n            return {\r\n                commonErrorText: context.errorState.commonErrorText,\r\n                item: detailError.itemInfo ? this._getItemProgressDisplayInfo(detailError.itemInfo) : null,\r\n                itemIndex: detailError.itemIndex,\r\n                detailErrorText: detailError.errorText\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getErrorText\",\r\n        value: function(errorInfo, itemInfo) {\r\n            var itemName = itemInfo ? itemInfo.fileItem.name : null;\r\n            return _uiFile_manager3.FileManagerMessages.get(errorInfo.errorId, itemName)\r\n        }\r\n    }, {\r\n        key: \"_getItemProgressDisplayInfo\",\r\n        value: function(itemInfo) {\r\n            return {\r\n                commonText: itemInfo.fileItem.name,\r\n                imageUrl: this._getItemThumbnail(itemInfo)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_showDialog\",\r\n        value: function(dialog, dialogArgument) {\r\n            this._dialogDeferred = new _deferred.Deferred;\r\n            dialog.show(dialogArgument);\r\n            return this._dialogDeferred.promise()\r\n        }\r\n    }, {\r\n        key: \"_onDialogClosed\",\r\n        value: function(e) {\r\n            var result = e.dialogResult;\r\n            if (result) {\r\n                this._dialogDeferred.resolve(result)\r\n            } else {\r\n                this._dialogDeferred.reject()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getItemThumbnail\",\r\n        value: function(item) {\r\n            var itemThumbnailGetter = this.option(\"getItemThumbnail\");\r\n            if (!itemThumbnailGetter) {\r\n                return null\r\n            }\r\n            var info = itemThumbnailGetter(item);\r\n            return info ? info.thumbnail : null\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {\r\n            this._actions = {\r\n                onSuccess: this._createActionByOption(\"onSuccess\"),\r\n                onError: this._createActionByOption(\"onError\"),\r\n                onCreating: this._createActionByOption(\"onCreating\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerEditingControl.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                model: {\r\n                    getMultipleSelectedItems: null\r\n                },\r\n                notificationControl: null,\r\n                getItemThumbnail: null,\r\n                onSuccess: null,\r\n                onError: null,\r\n                onCreating: null\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            var name = args.name;\r\n            switch (name) {\r\n                case \"model\":\r\n                    this.repaint();\r\n                    break;\r\n                case \"notificationControl\":\r\n                    this._initNotificationControl(args.value);\r\n                    break;\r\n                case \"getItemThumbnail\":\r\n                    break;\r\n                case \"onSuccess\":\r\n                case \"onError\":\r\n                case \"onCreating\":\r\n                    this._actions[name] = this._createActionByOption(name);\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(FileManagerEditingControl.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_raiseOnSuccess\",\r\n        value: function(updatedOnlyFiles) {\r\n            this._actions.onSuccess({\r\n                updatedOnlyFiles: updatedOnlyFiles\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseOnError\",\r\n        value: function(errorId, fileItem) {\r\n            var fileItemName = fileItem ? fileItem.name : null;\r\n            var message = _uiFile_manager3.FileManagerMessages.get(errorId, fileItemName);\r\n            this._actions.onError({\r\n                message: message\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getCurrentDirectory\",\r\n        value: function() {\r\n            return this._controller.getCurrentDirectory()\r\n        }\r\n    }]);\r\n    return FileManagerEditingControl\r\n}(_ui2.default);\r\nvar FileManagerActionContext = function() {\r\n    function FileManagerActionContext(actionMetadata, itemInfos, directoryInfo) {\r\n        _classCallCheck(this, FileManagerActionContext);\r\n        this._actionMetadata = actionMetadata;\r\n        this._itemInfos = itemInfos;\r\n        this._onlyFiles = !this._actionMetadata.affectsAllItems && this._itemInfos.every(function(info) {\r\n            return !info.fileItem.isDirectory\r\n        });\r\n        this._items = this._itemInfos.map(function(itemInfo) {\r\n            return itemInfo.fileItem\r\n        });\r\n        this._multipleItems = this._items.length > 1;\r\n        this._location = directoryInfo.fileItem.name;\r\n        this._singleRequest = true;\r\n        this._completedItems = [];\r\n        this._commonProgress = 0;\r\n        this._errorState = {\r\n            failedCount: 0\r\n        }\r\n    }\r\n    _createClass(FileManagerActionContext, [{\r\n        key: \"completeOperationItem\",\r\n        value: function(itemIndex) {\r\n            if (this._singleRequest) {\r\n                this._completedItems = _toConsumableArray(this._items)\r\n            } else {\r\n                var item = this._items[itemIndex];\r\n                this._completedItems.push(item)\r\n            }\r\n            if (!this._actionMetadata.allowItemProgress) {\r\n                this._commonProgress = this._completedItems.length / this._items.length * 100\r\n            }\r\n        }\r\n    }, {\r\n        key: \"processSingleRequestError\",\r\n        value: function(errorText) {\r\n            this._errorState.failedCount = 1;\r\n            this._errorState.commonErrorText = this._multipleItems ? this._actionMetadata.commonErrorMessage : this._actionMetadata.singleItemErrorMessage;\r\n            var itemIndex = this._multipleItems ? -1 : 1;\r\n            var itemInfo = this.getItemForSingleRequestError();\r\n            this._setCurrentDetailError(itemIndex, itemInfo, errorText)\r\n        }\r\n    }, {\r\n        key: \"processMultipleRequestError\",\r\n        value: function(itemIndex, errorText) {\r\n            this._errorState.failedCount++;\r\n            this._errorState.commonErrorText = this._errorState.failedCount > 1 ? (0, _string.format)(this._actionMetadata.multipleItemsErrorMessage, this._errorState.failedCount) : this._actionMetadata.singleItemErrorMessage;\r\n            var itemInfo = this.getItemForMultipleRequestError(itemIndex);\r\n            this._setCurrentDetailError(itemIndex, itemInfo, errorText)\r\n        }\r\n    }, {\r\n        key: \"hasModifiedItems\",\r\n        value: function() {\r\n            return this._hasCompletedItems() || this._singleRequest && !this.success && this._multipleItems\r\n        }\r\n    }, {\r\n        key: \"getItemForSingleRequestError\",\r\n        value: function() {\r\n            return this._multipleItems ? null : this._itemInfos[0]\r\n        }\r\n    }, {\r\n        key: \"getItemForMultipleRequestError\",\r\n        value: function(itemIndex) {\r\n            return this._itemInfos[itemIndex]\r\n        }\r\n    }, {\r\n        key: \"_setCurrentDetailError\",\r\n        value: function(itemIndex, itemInfo, errorText) {\r\n            this._errorState.currentDetailError = {\r\n                itemIndex: itemIndex,\r\n                itemInfo: itemInfo,\r\n                errorText: errorText\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hasCompletedItems\",\r\n        value: function() {\r\n            return this._completedItems.length > 0\r\n        }\r\n    }, {\r\n        key: \"actionMetadata\",\r\n        get: function() {\r\n            return this._actionMetadata\r\n        }\r\n    }, {\r\n        key: \"itemInfos\",\r\n        get: function() {\r\n            return this._itemInfos\r\n        }\r\n    }, {\r\n        key: \"errorState\",\r\n        get: function() {\r\n            return this._errorState\r\n        }\r\n    }, {\r\n        key: \"singleRequest\",\r\n        get: function() {\r\n            return this._singleRequest\r\n        },\r\n        set: function(value) {\r\n            this._singleRequest = value\r\n        }\r\n    }, {\r\n        key: \"multipleItems\",\r\n        get: function() {\r\n            return this._multipleItems\r\n        }\r\n    }, {\r\n        key: \"onlyFiles\",\r\n        get: function() {\r\n            return this._onlyFiles\r\n        }\r\n    }, {\r\n        key: \"processingMessage\",\r\n        get: function() {\r\n            return this._multipleItems ? (0, _string.format)(this._actionMetadata.multipleItemsProcessingMessage, this._items.length, this._location) : (0, _string.format)(this._actionMetadata.singleItemProcessingMessage, this._location)\r\n        }\r\n    }, {\r\n        key: \"successMessage\",\r\n        get: function() {\r\n            if (this._hasCompletedItems()) {\r\n                return this._multipleItems ? (0, _string.format)(this._actionMetadata.multipleItemsSuccessMessage, this._completedItems.length, this._location) : (0, _string.format)(this._actionMetadata.singleItemSuccessMessage, this._location)\r\n            } else {\r\n                return this._multipleItems ? (0, _string.format)(this._actionMetadata.multipleItemsErrorMessage, this._items.length) : this._actionMetadata.singleItemErrorMessage\r\n            }\r\n        }\r\n    }, {\r\n        key: \"completionMessage\",\r\n        get: function() {\r\n            return this.success ? this.successMessage : this.errorState.commonErrorText\r\n        }\r\n    }, {\r\n        key: \"statusText\",\r\n        get: function() {\r\n            return this.success && !this._hasCompletedItems() ? this._actionMetadata.canceledMessage : void 0\r\n        }\r\n    }, {\r\n        key: \"commonProgress\",\r\n        get: function() {\r\n            return this._commonProgress\r\n        }\r\n    }, {\r\n        key: \"success\",\r\n        get: function() {\r\n            return !this._errorState.failedCount\r\n        }\r\n    }]);\r\n    return FileManagerActionContext\r\n}();\r\nmodule.exports = FileManagerEditingControl;\r\n"]},"metadata":{},"sourceType":"module"}