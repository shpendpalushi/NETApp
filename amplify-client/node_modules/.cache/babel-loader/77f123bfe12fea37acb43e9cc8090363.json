{"ast":null,"code":"/**\r\n * DevExtreme (viz/axes/polar_axes.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar vizUtils = require(\"../core/utils\");\n\nvar isDefined = require(\"../../core/utils/type\").isDefined;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar constants = require(\"./axes_constants\");\n\nvar circularAxes;\n\nvar xyAxesLinear = require(\"./xy_axes\").linear;\n\nvar tick = require(\"./tick\").tick;\n\nvar polarAxes;\nvar _map = vizUtils.map;\n\nvar baseAxisModule = require(\"./base_axis\");\n\nvar _math = Math;\nvar _abs = _math.abs;\nvar _round = _math.round;\nvar convertPolarToXY = vizUtils.convertPolarToXY;\nvar _extend = extend;\n\nvar _noop = require(\"../../core/utils/common\").noop;\n\nvar HALF_PI_ANGLE = 90;\n\nfunction getPolarQuarter(angle) {\n  var quarter;\n  angle = vizUtils.normalizeAngle(angle);\n\n  if (angle >= 315 && angle <= 360 || angle < 45 && angle >= 0) {\n    quarter = 1;\n  } else {\n    if (angle >= 45 && angle < 135) {\n      quarter = 2;\n    } else {\n      if (angle >= 135 && angle < 225) {\n        quarter = 3;\n      } else {\n        if (angle >= 225 && angle < 315) {\n          quarter = 4;\n        }\n      }\n    }\n  }\n\n  return quarter;\n}\n\npolarAxes = exports;\ncircularAxes = polarAxes.circular = {\n  _calculateValueMargins: function _calculateValueMargins(ticks) {\n    var _this$_getViewportRan = this._getViewportRange(),\n        minVisible = _this$_getViewportRan.minVisible,\n        maxVisible = _this$_getViewportRan.maxVisible;\n\n    if (ticks && ticks.length > 1) {\n      minVisible = minVisible < ticks[0].value ? minVisible : ticks[0].value;\n      maxVisible = minVisible > ticks[ticks.length - 1].value ? maxVisible : ticks[ticks.length - 1].value;\n    }\n\n    return {\n      minValue: minVisible,\n      maxValue: maxVisible\n    };\n  },\n  applyMargins: function applyMargins() {\n    var margins = this._calculateValueMargins(this._majorTicks);\n\n    var br = this._translator.getBusinessRange();\n\n    br.addRange({\n      minVisible: margins.minValue,\n      maxVisible: margins.maxValue,\n      interval: this._calculateRangeInterval(br.interval)\n    });\n\n    this._translator.updateBusinessRange(br);\n  },\n  _getTranslatorOptions: function _getTranslatorOptions() {\n    return {\n      isHorizontal: true,\n      conversionValue: true,\n      addSpiderCategory: this._getSpiderCategoryOption(),\n      stick: this._getStick()\n    };\n  },\n  getCenter: function getCenter() {\n    return this._center;\n  },\n  getRadius: function getRadius() {\n    return this._radius;\n  },\n  getAngles: function getAngles() {\n    var options = this._options;\n    return [options.startAngle, options.endAngle];\n  },\n  _updateRadius: function _updateRadius(canvas) {\n    var rad = Math.min(canvas.width - canvas.left - canvas.right, canvas.height - canvas.top - canvas.bottom) / 2;\n    this._radius = rad < 0 ? 0 : rad;\n  },\n  _updateCenter: function _updateCenter(canvas) {\n    this._center = {\n      x: canvas.left + (canvas.width - canvas.right - canvas.left) / 2,\n      y: canvas.top + (canvas.height - canvas.top - canvas.bottom) / 2\n    };\n  },\n  _processCanvas: function _processCanvas(canvas) {\n    this._updateRadius(canvas);\n\n    this._updateCenter(canvas);\n\n    return {\n      left: 0,\n      right: 0,\n      width: this._getScreenDelta()\n    };\n  },\n  _createAxisElement: function _createAxisElement() {\n    return this._renderer.circle();\n  },\n  _updateAxisElementPosition: function _updateAxisElementPosition() {\n    var center = this.getCenter();\n\n    this._axisElement.attr({\n      cx: center.x,\n      cy: center.y,\n      r: this.getRadius()\n    });\n  },\n  _boundaryTicksVisibility: {\n    min: true\n  },\n  _getSpiderCategoryOption: function _getSpiderCategoryOption() {\n    return this._options.firstPointOnStartAngle;\n  },\n  _validateOptions: function _validateOptions(options) {\n    var that = this;\n    var originValue = options.originValue;\n    var wholeRange = options.wholeRange = {};\n    var period = options.period;\n\n    if (isDefined(originValue)) {\n      originValue = that.validateUnit(originValue);\n    }\n\n    if (period > 0 && options.argumentType === constants.numeric) {\n      originValue = originValue || 0;\n      wholeRange.endValue = originValue + period;\n      that._viewport = vizUtils.getVizRangeObject([originValue, wholeRange.endValue]);\n    }\n\n    if (isDefined(originValue)) {\n      wholeRange.startValue = originValue;\n    }\n  },\n  getMargins: function getMargins() {\n    var tickOptions = this._options.tick;\n    var tickOuterLength = Math.max(tickOptions.visible ? tickOptions.length / 2 + tickOptions.shift : 0, 0);\n    var radius = this.getRadius();\n    var _this$_center = this._center,\n        x = _this$_center.x,\n        y = _this$_center.y;\n\n    var labelBoxes = this._majorTicks.map(function (t) {\n      return t.label && t.label.getBBox();\n    }).filter(function (b) {\n      return b;\n    });\n\n    var canvas = extend({}, this._canvas, {\n      left: x - radius,\n      top: y - radius,\n      right: this._canvas.width - (x + radius),\n      bottom: this._canvas.height - (y + radius)\n    });\n    var margins = baseAxisModule.calculateCanvasMargins(labelBoxes, canvas);\n    Object.keys(margins).forEach(function (k) {\n      return margins[k] = margins[k] < tickOuterLength ? tickOuterLength : margins[k];\n    });\n    return margins;\n  },\n  updateSize: function updateSize() {\n    var that = this;\n    baseAxisModule.Axis.prototype.updateSize.apply(that, arguments);\n    baseAxisModule.measureLabels(that._majorTicks);\n\n    that._adjustLabelsCoord(0, 0, true);\n\n    this._checkBoundedLabelsOverlapping(this._majorTicks, this._majorTicks.map(function (t) {\n      return t.labelBBox;\n    }));\n  },\n  _setVisualRange: _noop,\n  applyVisualRangeSetter: _noop,\n  allowToExtendVisualRange: function allowToExtendVisualRange(isEnd) {\n    return true;\n  },\n  _getStick: function _getStick() {\n    return this._options.firstPointOnStartAngle || this._options.type !== constants.discrete;\n  },\n  _getTranslatedCoord: function _getTranslatedCoord(value, offset) {\n    return this._translator.translate(value, offset) - HALF_PI_ANGLE;\n  },\n  _getCanvasStartEnd: function _getCanvasStartEnd() {\n    return {\n      start: 0 - HALF_PI_ANGLE,\n      end: 360 - HALF_PI_ANGLE\n    };\n  },\n  _getStripGraphicAttributes: function _getStripGraphicAttributes(fromAngle, toAngle) {\n    var center = this.getCenter();\n    var angle = this.getAngles()[0];\n    var r = this.getRadius();\n    return {\n      x: center.x,\n      y: center.y,\n      innerRadius: 0,\n      outerRadius: r,\n      startAngle: -toAngle - angle,\n      endAngle: -fromAngle - angle\n    };\n  },\n  _createStrip: function _createStrip(coords) {\n    return this._renderer.arc(coords.x, coords.y, coords.innerRadius, coords.outerRadius, coords.startAngle, coords.endAngle);\n  },\n  _getStripLabelCoords: function _getStripLabelCoords(from, to) {\n    var that = this;\n\n    var coords = that._getStripGraphicAttributes(from, to);\n\n    var angle = coords.startAngle + (coords.endAngle - coords.startAngle) / 2;\n    var cosSin = vizUtils.getCosAndSin(angle);\n    var halfRad = that.getRadius() / 2;\n    var center = that.getCenter();\n\n    var x = _round(center.x + halfRad * cosSin.cos);\n\n    var y = _round(center.y - halfRad * cosSin.sin);\n\n    return {\n      x: x,\n      y: y,\n      align: constants.center\n    };\n  },\n  _getConstantLineGraphicAttributes: function _getConstantLineGraphicAttributes(value) {\n    var center = this.getCenter();\n    var r = this.getRadius();\n    return {\n      points: [center.x, center.y, center.x + r, center.y]\n    };\n  },\n  _createConstantLine: function _createConstantLine(value, attr) {\n    return this._createPathElement(this._getConstantLineGraphicAttributes(value).points, attr);\n  },\n  _rotateConstantLine: function _rotateConstantLine(line, value) {\n    var _this$getCenter = this.getCenter(),\n        x = _this$getCenter.x,\n        y = _this$getCenter.y;\n\n    line.rotate(value + this.getAngles()[0], x, y);\n  },\n  _getConstantLineLabelsCoords: function _getConstantLineLabelsCoords(value) {\n    var that = this;\n    var cosSin = vizUtils.getCosAndSin(-value - that.getAngles()[0]);\n    var halfRad = that.getRadius() / 2;\n    var center = that.getCenter();\n\n    var x = _round(center.x + halfRad * cosSin.cos);\n\n    var y = _round(center.y - halfRad * cosSin.sin);\n\n    return {\n      x: x,\n      y: y\n    };\n  },\n  _checkAlignmentConstantLineLabels: _noop,\n  _adjustDivisionFactor: function _adjustDivisionFactor(val) {\n    return 180 * val / (this.getRadius() * Math.PI);\n  },\n  _getScreenDelta: function _getScreenDelta() {\n    var angles = this.getAngles();\n    return _math.abs(angles[0] - angles[1]);\n  },\n  _getTickMarkPoints: function _getTickMarkPoints(coords, length, _ref) {\n    var _ref$shift = _ref.shift,\n        shift = void 0 === _ref$shift ? 0 : _ref$shift;\n    var center = this.getCenter();\n    var corrections = {\n      inside: -1,\n      center: -.5,\n      outside: 0\n    };\n    var radiusWithTicks = this.getRadius() + length * corrections[this._options.tickOrientation || \"center\"];\n    return [center.x + radiusWithTicks + shift, center.y, center.x + radiusWithTicks + length + shift, center.y];\n  },\n  _getLabelAdjustedCoord: function _getLabelAdjustedCoord(tick, _offset, _maxWidth, checkCanvas) {\n    var that = this;\n    var labelCoords = tick.labelCoords;\n    var labelY = labelCoords.y;\n    var labelAngle = labelCoords.angle;\n    var cosSin = vizUtils.getCosAndSin(labelAngle);\n    var cos = cosSin.cos;\n    var sin = cosSin.sin;\n    var box = tick.labelBBox;\n    var halfWidth = box.width / 2;\n    var halfHeight = box.height / 2;\n    var indentFromAxis = that._options.label.indentFromAxis || 0;\n    var x = labelCoords.x + indentFromAxis * cos;\n    var y = labelY + (labelY - box.y - halfHeight) + indentFromAxis * sin;\n    var shiftX = 0;\n    var shiftY = 0;\n\n    switch (getPolarQuarter(labelAngle)) {\n      case 1:\n        shiftX = halfWidth;\n        shiftY = halfHeight * sin;\n        break;\n\n      case 2:\n        shiftX = halfWidth * cos;\n        shiftY = halfHeight;\n        break;\n\n      case 3:\n        shiftX = -halfWidth;\n        shiftY = halfHeight * sin;\n        break;\n\n      case 4:\n        shiftX = halfWidth * cos;\n        shiftY = -halfHeight;\n    }\n\n    if (checkCanvas) {\n      var canvas = that._canvas;\n      var boxShiftX = x - labelCoords.x + shiftX;\n      var boxShiftY = y - labelCoords.y + shiftY;\n\n      if (box.x + boxShiftX < canvas.originalLeft) {\n        shiftX -= box.x + boxShiftX - canvas.originalLeft;\n      }\n\n      if (box.x + box.width + boxShiftX > canvas.width - canvas.originalRight) {\n        shiftX -= box.x + box.width + boxShiftX - (canvas.width - canvas.originalRight);\n      }\n\n      if (box.y + boxShiftY < canvas.originalTop) {\n        shiftY -= box.y + boxShiftY - canvas.originalTop;\n      }\n\n      if (box.y + box.height + boxShiftY > canvas.height - canvas.originalBottom) {\n        shiftY -= box.y + box.height + boxShiftY - (canvas.height - canvas.originalBottom);\n      }\n    }\n\n    return {\n      x: x + shiftX,\n      y: y + shiftY\n    };\n  },\n  _getGridLineDrawer: function _getGridLineDrawer() {\n    var that = this;\n    return function (tick, gridStyle) {\n      var center = that.getCenter();\n      return that._createPathElement(that._getGridPoints().points, gridStyle).rotate(tick.coords.angle, center.x, center.y);\n    };\n  },\n  _getGridPoints: function _getGridPoints() {\n    var r = this.getRadius();\n    var center = this.getCenter();\n    return {\n      points: [center.x, center.y, center.x + r, center.y]\n    };\n  },\n  _getTranslatedValue: function _getTranslatedValue(value, offset) {\n    var startAngle = this.getAngles()[0];\n\n    var angle = this._translator.translate(value, -offset);\n\n    var coords = convertPolarToXY(this.getCenter(), startAngle, angle, this.getRadius());\n    return {\n      x: coords.x,\n      y: coords.y,\n      angle: angle + startAngle - HALF_PI_ANGLE\n    };\n  },\n  _getAdjustedStripLabelCoords: function _getAdjustedStripLabelCoords(strip) {\n    var box = strip.labelBBox;\n    return {\n      translateY: strip.label.attr(\"y\") - box.y - box.height / 2\n    };\n  },\n  coordsIn: function coordsIn(x, y) {\n    return vizUtils.convertXYToPolar(this.getCenter(), x, y).r > this.getRadius();\n  },\n  _rotateTick: function _rotateTick(element, coords) {\n    var center = this.getCenter();\n    element.rotate(coords.angle, center.x, center.y);\n  },\n  _validateOverlappingMode: function _validateOverlappingMode(mode) {\n    return constants.validateOverlappingMode(mode);\n  },\n  _validateDisplayMode: function _validateDisplayMode() {\n    return \"standard\";\n  },\n  _getStep: function _getStep(boxes) {\n    var that = this;\n    var radius = that.getRadius() + (that._options.label.indentFromAxis || 0);\n    var maxLabelBox = boxes.reduce(function (prevValue, box) {\n      var curValue = prevValue;\n\n      if (prevValue.width < box.width) {\n        curValue.width = box.width;\n      }\n\n      if (prevValue.height < box.height) {\n        curValue.height = box.height;\n      }\n\n      return curValue;\n    }, {\n      width: 0,\n      height: 0\n    });\n\n    var angle1 = _abs(2 * _math.atan(maxLabelBox.height / (2 * radius - maxLabelBox.width)) * 180 / _math.PI);\n\n    var angle2 = _abs(2 * _math.atan(maxLabelBox.width / (2 * radius - maxLabelBox.height)) * 180 / _math.PI);\n\n    return constants.getTicksCountInRange(that._majorTicks, \"angle\", _math.max(angle1, angle2));\n  },\n  _checkBoundedLabelsOverlapping: function _checkBoundedLabelsOverlapping(majorTicks, boxes, mode) {\n    var labelOpt = this._options.label;\n    mode = mode || this._validateOverlappingMode(labelOpt.overlappingBehavior);\n\n    if (\"hide\" !== mode) {\n      return;\n    }\n\n    var lastVisibleLabelIndex = majorTicks.reduce(function (lastVisibleLabelIndex, tick, index) {\n      return tick.label ? index : lastVisibleLabelIndex;\n    }, null);\n\n    if (!lastVisibleLabelIndex) {\n      return;\n    }\n\n    if (constants.areLabelsOverlap(boxes[0], boxes[lastVisibleLabelIndex], labelOpt.minSpacing, constants.center)) {\n      \"first\" === labelOpt.hideFirstOrLast ? majorTicks[0].label.remove() : majorTicks[lastVisibleLabelIndex].label.remove();\n    }\n  },\n  shift: function shift(margins) {\n    this._axisGroup.attr({\n      translateX: margins.right,\n      translateY: margins.bottom\n    });\n  }\n};\npolarAxes.circularSpider = _extend({}, circularAxes, {\n  _createAxisElement: function _createAxisElement() {\n    return this._renderer.path([], \"area\");\n  },\n  _updateAxisElementPosition: function _updateAxisElementPosition() {\n    this._axisElement.attr({\n      points: _map(this.getSpiderTicks(), function (tick) {\n        return {\n          x: tick.coords.x,\n          y: tick.coords.y\n        };\n      })\n    });\n  },\n  _getStick: function _getStick() {\n    return true;\n  },\n  _getSpiderCategoryOption: function _getSpiderCategoryOption() {\n    return true;\n  },\n  getSpiderTicks: function getSpiderTicks() {\n    var that = this;\n    var ticks = that.getFullTicks();\n    that._spiderTicks = ticks.map(tick(that, that.renderer, {}, {}, that._getSkippedCategory(ticks), true));\n\n    that._spiderTicks.forEach(function (tick) {\n      tick.initCoords();\n    });\n\n    return that._spiderTicks;\n  },\n  _getStripGraphicAttributes: function _getStripGraphicAttributes(fromAngle, toAngle) {\n    var center = this.getCenter();\n    var spiderTicks = this.getSpiderTicks();\n    var firstTick;\n    var lastTick;\n    var nextTick;\n    var tick;\n    var points = [];\n    var i = 0;\n    var len = spiderTicks.length;\n\n    while (i < len) {\n      tick = spiderTicks[i].coords;\n\n      if (tick.angle >= fromAngle && tick.angle <= toAngle) {\n        if (!firstTick) {\n          firstTick = (spiderTicks[i - 1] || spiderTicks[spiderTicks.length - 1]).coords;\n          points.push((tick.x + firstTick.x) / 2, (tick.y + firstTick.y) / 2);\n        }\n\n        points.push(tick.x, tick.y);\n        nextTick = (spiderTicks[i + 1] || spiderTicks[0]).coords;\n        lastTick = {\n          x: (tick.x + nextTick.x) / 2,\n          y: (tick.y + nextTick.y) / 2\n        };\n      }\n\n      i++;\n    }\n\n    points.push(lastTick.x, lastTick.y);\n    points.push(center.x, center.y);\n    return {\n      points: points\n    };\n  },\n  _createStrip: function _createStrip(_ref2) {\n    var points = _ref2.points;\n    return this._renderer.path(points, \"area\");\n  },\n  _getTranslatedCoord: function _getTranslatedCoord(value, offset) {\n    return this._translator.translate(value, offset) - HALF_PI_ANGLE;\n  },\n  _setTickOffset: function _setTickOffset() {\n    this._tickOffset = false;\n  }\n});\npolarAxes.linear = {\n  _resetMargins: function _resetMargins() {\n    this._reinitTranslator(this._getViewportRange());\n  },\n  _getStick: xyAxesLinear._getStick,\n  _getSpiderCategoryOption: _noop,\n  _getTranslatorOptions: function _getTranslatorOptions() {\n    return {\n      isHorizontal: true,\n      stick: this._getStick()\n    };\n  },\n  getRadius: circularAxes.getRadius,\n  getCenter: circularAxes.getCenter,\n  getAngles: circularAxes.getAngles,\n  _updateRadius: circularAxes._updateRadius,\n  _updateCenter: circularAxes._updateCenter,\n  _processCanvas: function _processCanvas(canvas) {\n    this._updateRadius(canvas);\n\n    this._updateCenter(canvas);\n\n    return {\n      left: 0,\n      right: 0,\n      startPadding: canvas.startPadding,\n      endPadding: canvas.endPadding,\n      width: this.getRadius()\n    };\n  },\n  _createAxisElement: xyAxesLinear._createAxisElement,\n  _updateAxisElementPosition: function _updateAxisElementPosition() {\n    var centerCoord = this.getCenter();\n\n    this._axisElement.attr({\n      points: [centerCoord.x, centerCoord.y, centerCoord.x + this.getRadius(), centerCoord.y]\n    }).rotate(this.getAngles()[0] - HALF_PI_ANGLE, centerCoord.x, centerCoord.y);\n  },\n  _getScreenDelta: function _getScreenDelta() {\n    return this.getRadius();\n  },\n  _getTickMarkPoints: function _getTickMarkPoints(coords, length) {\n    return [coords.x - length / 2, coords.y, coords.x + length / 2, coords.y];\n  },\n  _getLabelAdjustedCoord: function _getLabelAdjustedCoord(tick) {\n    var that = this;\n    var labelCoords = tick.labelCoords;\n    var labelY = labelCoords.y;\n    var cosSin = vizUtils.getCosAndSin(labelCoords.angle);\n    var indentFromAxis = that._options.label.indentFromAxis || 0;\n    var box = tick.labelBBox;\n    var x;\n    var y;\n    x = labelCoords.x - _abs(indentFromAxis * cosSin.sin) + _abs(box.width / 2 * cosSin.cos) - box.width / 2;\n    y = labelY + (labelY - box.y) - _abs(box.height / 2 * cosSin.sin) + _abs(indentFromAxis * cosSin.cos);\n    return {\n      x: x,\n      y: y\n    };\n  },\n  _getGridLineDrawer: function _getGridLineDrawer() {\n    var that = this;\n    return function (tick, gridStyle) {\n      var grid = that._getGridPoints(tick.coords);\n\n      return that._renderer.circle(grid.cx, grid.cy, grid.r).attr(gridStyle).sharp();\n    };\n  },\n  _getGridPoints: function _getGridPoints(coords) {\n    var pos = this.getCenter();\n    var radius = vizUtils.getDistance(pos.x, pos.y, coords.x, coords.y);\n\n    if (radius > this.getRadius()) {\n      return {\n        cx: null,\n        cy: null,\n        r: null\n      };\n    }\n\n    return {\n      cx: pos.x,\n      cy: pos.y,\n      r: radius\n    };\n  },\n  _getTranslatedValue: function _getTranslatedValue(value, offset) {\n    var startAngle = this.getAngles()[0];\n    var xy = convertPolarToXY(this.getCenter(), startAngle, 0, this._translator.translate(value, offset));\n    return {\n      x: xy.x,\n      y: xy.y,\n      angle: startAngle - HALF_PI_ANGLE\n    };\n  },\n  _getTranslatedCoord: function _getTranslatedCoord(value, offset) {\n    return this._translator.translate(value, offset);\n  },\n  _getCanvasStartEnd: function _getCanvasStartEnd() {\n    var invert = this.getTranslator().getBusinessRange().invert;\n    var coords = [0, this.getRadius()];\n    invert && coords.reverse();\n    return {\n      start: coords[0],\n      end: coords[1]\n    };\n  },\n  _getStripGraphicAttributes: function _getStripGraphicAttributes(fromPoint, toPoint) {\n    var center = this.getCenter();\n    return {\n      x: center.x,\n      y: center.y,\n      innerRadius: fromPoint,\n      outerRadius: toPoint\n    };\n  },\n  _createStrip: function _createStrip(attrs) {\n    return this._renderer.arc(attrs.x, attrs.y, attrs.innerRadius, attrs.outerRadius, 0, 360);\n  },\n  _getAdjustedStripLabelCoords: circularAxes._getAdjustedStripLabelCoords,\n  _getStripLabelCoords: function _getStripLabelCoords(from, to) {\n    var that = this;\n    var labelPos = from + (to - from) / 2;\n    var center = that.getCenter();\n\n    var y = _round(center.y - labelPos);\n\n    return {\n      x: center.x,\n      y: y,\n      align: constants.center\n    };\n  },\n  _getConstantLineGraphicAttributes: function _getConstantLineGraphicAttributes(value) {\n    var center = this.getCenter();\n    return {\n      cx: center.x,\n      cy: center.y,\n      r: value\n    };\n  },\n  _createConstantLine: function _createConstantLine(value, attr) {\n    var attrs = this._getConstantLineGraphicAttributes(value);\n\n    return this._renderer.circle(attrs.cx, attrs.cy, attrs.r).attr(attr).sharp();\n  },\n  _getConstantLineLabelsCoords: function _getConstantLineLabelsCoords(value) {\n    var that = this;\n    var center = that.getCenter();\n\n    var y = _round(center.y - value);\n\n    return {\n      x: center.x,\n      y: y\n    };\n  },\n  _checkAlignmentConstantLineLabels: _noop,\n  _rotateTick: function _rotateTick(element, coords, isGridLine) {\n    !isGridLine && element.rotate(coords.angle + HALF_PI_ANGLE, coords.x, coords.y);\n  },\n  _validateOverlappingMode: circularAxes._validateOverlappingMode,\n  _validateDisplayMode: circularAxes._validateDisplayMode,\n  _getStep: function _getStep(boxes) {\n    var quarter = getPolarQuarter(this.getAngles()[0]);\n    var spacing = this._options.label.minSpacing;\n    var func = 2 === quarter || 4 === quarter ? function (box) {\n      return box.width + spacing;\n    } : function (box) {\n      return box.height;\n    };\n    var maxLabelLength = boxes.reduce(function (prevValue, box) {\n      return _math.max(prevValue, func(box));\n    }, 0);\n    return constants.getTicksCountInRange(this._majorTicks, 2 === quarter || 4 === quarter ? \"x\" : \"y\", maxLabelLength);\n  }\n};\npolarAxes.linearSpider = _extend({}, polarAxes.linear, {\n  _createPathElement: function _createPathElement(points, attr) {\n    return this._renderer.path(points, \"area\").attr(attr).sharp();\n  },\n  setSpiderTicks: function setSpiderTicks(ticks) {\n    this._spiderTicks = ticks;\n  },\n  _getGridLineDrawer: function _getGridLineDrawer() {\n    var that = this;\n    return function (tick, gridStyle, element) {\n      return that._createPathElement(that._getGridPoints(tick.coords).points, gridStyle);\n    };\n  },\n  _getGridPoints: function _getGridPoints(coords) {\n    var pos = this.getCenter();\n    var radius = vizUtils.getDistance(pos.x, pos.y, coords.x, coords.y);\n    return this._getGridPointsByRadius(radius);\n  },\n  _getGridPointsByRadius: function _getGridPointsByRadius(radius) {\n    var pos = this.getCenter();\n\n    if (radius > this.getRadius()) {\n      return {\n        points: null\n      };\n    }\n\n    return {\n      points: _map(this._spiderTicks, function (tick) {\n        var cosSin = vizUtils.getCosAndSin(tick.coords.angle);\n        return {\n          x: _round(pos.x + radius * cosSin.cos),\n          y: _round(pos.y + radius * cosSin.sin)\n        };\n      })\n    };\n  },\n  _getStripGraphicAttributes: function _getStripGraphicAttributes(fromPoint, toPoint) {\n    var innerPoints = this._getGridPointsByRadius(toPoint).points;\n\n    var outerPoints = this._getGridPointsByRadius(fromPoint).points;\n\n    return {\n      points: [outerPoints, innerPoints.reverse()]\n    };\n  },\n  _createStrip: polarAxes.circularSpider._createStrip,\n  _getConstantLineGraphicAttributes: function _getConstantLineGraphicAttributes(value) {\n    return this._getGridPointsByRadius(value);\n  },\n  _createConstantLine: function _createConstantLine(value, attr) {\n    return this._createPathElement(this._getConstantLineGraphicAttributes(value).points, attr);\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/axes/polar_axes.js"],"names":["vizUtils","require","isDefined","extend","constants","xyAxesLinear","tick","_map","baseAxisModule","_math","_abs","_round","convertPolarToXY","_extend","_noop","HALF_PI_ANGLE","angle","quarter","polarAxes","circularAxes","_calculateValueMargins","_this$_getViewportRan","minVisible","maxVisible","ticks","minValue","maxValue","applyMargins","margins","br","interval","_getTranslatorOptions","isHorizontal","conversionValue","addSpiderCategory","stick","getCenter","getRadius","getAngles","options","_updateRadius","rad","Math","canvas","_updateCenter","x","y","_processCanvas","left","right","width","_createAxisElement","_updateAxisElementPosition","center","cx","cy","r","_boundaryTicksVisibility","min","_getSpiderCategoryOption","_validateOptions","that","originValue","wholeRange","period","getMargins","tickOptions","tickOuterLength","radius","_this$_center","labelBoxes","t","top","bottom","Object","updateSize","_setVisualRange","applyVisualRangeSetter","allowToExtendVisualRange","_getStick","_getTranslatedCoord","_getCanvasStartEnd","start","end","_getStripGraphicAttributes","innerRadius","outerRadius","startAngle","endAngle","_createStrip","coords","_getStripLabelCoords","cosSin","halfRad","align","_getConstantLineGraphicAttributes","points","_createConstantLine","_rotateConstantLine","_this$getCenter","line","value","_getConstantLineLabelsCoords","_checkAlignmentConstantLineLabels","_adjustDivisionFactor","_getScreenDelta","angles","_getTickMarkPoints","_ref$shift","_ref","shift","corrections","inside","outside","radiusWithTicks","length","_getLabelAdjustedCoord","labelCoords","labelY","labelAngle","cos","sin","box","halfWidth","halfHeight","indentFromAxis","shiftX","shiftY","getPolarQuarter","boxShiftX","boxShiftY","_getGridLineDrawer","_getGridPoints","_getTranslatedValue","_getAdjustedStripLabelCoords","strip","translateY","coordsIn","_rotateTick","element","_validateOverlappingMode","_validateDisplayMode","_getStep","maxLabelBox","curValue","prevValue","height","angle1","angle2","_checkBoundedLabelsOverlapping","labelOpt","mode","lastVisibleLabelIndex","boxes","majorTicks","translateX","getSpiderTicks","spiderTicks","i","len","firstTick","nextTick","lastTick","_ref2","_setTickOffset","_resetMargins","startPadding","endPadding","centerCoord","grid","pos","xy","invert","toPoint","attrs","labelPos","from","to","spacing","func","maxLabelLength","_createPathElement","setSpiderTicks","_getGridPointsByRadius","innerPoints","outerPoints"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/axes/polar_axes.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar vizUtils = require(\"../core/utils\");\r\nvar isDefined = require(\"../../core/utils/type\").isDefined;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar constants = require(\"./axes_constants\");\r\nvar circularAxes;\r\nvar xyAxesLinear = require(\"./xy_axes\").linear;\r\nvar tick = require(\"./tick\").tick;\r\nvar polarAxes;\r\nvar _map = vizUtils.map;\r\nvar baseAxisModule = require(\"./base_axis\");\r\nvar _math = Math;\r\nvar _abs = _math.abs;\r\nvar _round = _math.round;\r\nvar convertPolarToXY = vizUtils.convertPolarToXY;\r\nvar _extend = extend;\r\nvar _noop = require(\"../../core/utils/common\").noop;\r\nvar HALF_PI_ANGLE = 90;\r\n\r\nfunction getPolarQuarter(angle) {\r\n    var quarter;\r\n    angle = vizUtils.normalizeAngle(angle);\r\n    if (angle >= 315 && angle <= 360 || angle < 45 && angle >= 0) {\r\n        quarter = 1\r\n    } else {\r\n        if (angle >= 45 && angle < 135) {\r\n            quarter = 2\r\n        } else {\r\n            if (angle >= 135 && angle < 225) {\r\n                quarter = 3\r\n            } else {\r\n                if (angle >= 225 && angle < 315) {\r\n                    quarter = 4\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return quarter\r\n}\r\npolarAxes = exports;\r\ncircularAxes = polarAxes.circular = {\r\n    _calculateValueMargins: function(ticks) {\r\n        var _this$_getViewportRan = this._getViewportRange(),\r\n            minVisible = _this$_getViewportRan.minVisible,\r\n            maxVisible = _this$_getViewportRan.maxVisible;\r\n        if (ticks && ticks.length > 1) {\r\n            minVisible = minVisible < ticks[0].value ? minVisible : ticks[0].value;\r\n            maxVisible = minVisible > ticks[ticks.length - 1].value ? maxVisible : ticks[ticks.length - 1].value\r\n        }\r\n        return {\r\n            minValue: minVisible,\r\n            maxValue: maxVisible\r\n        }\r\n    },\r\n    applyMargins: function() {\r\n        var margins = this._calculateValueMargins(this._majorTicks);\r\n        var br = this._translator.getBusinessRange();\r\n        br.addRange({\r\n            minVisible: margins.minValue,\r\n            maxVisible: margins.maxValue,\r\n            interval: this._calculateRangeInterval(br.interval)\r\n        });\r\n        this._translator.updateBusinessRange(br)\r\n    },\r\n    _getTranslatorOptions: function() {\r\n        return {\r\n            isHorizontal: true,\r\n            conversionValue: true,\r\n            addSpiderCategory: this._getSpiderCategoryOption(),\r\n            stick: this._getStick()\r\n        }\r\n    },\r\n    getCenter: function() {\r\n        return this._center\r\n    },\r\n    getRadius: function() {\r\n        return this._radius\r\n    },\r\n    getAngles: function() {\r\n        var options = this._options;\r\n        return [options.startAngle, options.endAngle]\r\n    },\r\n    _updateRadius: function(canvas) {\r\n        var rad = Math.min(canvas.width - canvas.left - canvas.right, canvas.height - canvas.top - canvas.bottom) / 2;\r\n        this._radius = rad < 0 ? 0 : rad\r\n    },\r\n    _updateCenter: function(canvas) {\r\n        this._center = {\r\n            x: canvas.left + (canvas.width - canvas.right - canvas.left) / 2,\r\n            y: canvas.top + (canvas.height - canvas.top - canvas.bottom) / 2\r\n        }\r\n    },\r\n    _processCanvas: function(canvas) {\r\n        this._updateRadius(canvas);\r\n        this._updateCenter(canvas);\r\n        return {\r\n            left: 0,\r\n            right: 0,\r\n            width: this._getScreenDelta()\r\n        }\r\n    },\r\n    _createAxisElement: function() {\r\n        return this._renderer.circle()\r\n    },\r\n    _updateAxisElementPosition: function() {\r\n        var center = this.getCenter();\r\n        this._axisElement.attr({\r\n            cx: center.x,\r\n            cy: center.y,\r\n            r: this.getRadius()\r\n        })\r\n    },\r\n    _boundaryTicksVisibility: {\r\n        min: true\r\n    },\r\n    _getSpiderCategoryOption: function() {\r\n        return this._options.firstPointOnStartAngle\r\n    },\r\n    _validateOptions: function(options) {\r\n        var that = this;\r\n        var originValue = options.originValue;\r\n        var wholeRange = options.wholeRange = {};\r\n        var period = options.period;\r\n        if (isDefined(originValue)) {\r\n            originValue = that.validateUnit(originValue)\r\n        }\r\n        if (period > 0 && options.argumentType === constants.numeric) {\r\n            originValue = originValue || 0;\r\n            wholeRange.endValue = originValue + period;\r\n            that._viewport = vizUtils.getVizRangeObject([originValue, wholeRange.endValue])\r\n        }\r\n        if (isDefined(originValue)) {\r\n            wholeRange.startValue = originValue\r\n        }\r\n    },\r\n    getMargins: function() {\r\n        var tickOptions = this._options.tick;\r\n        var tickOuterLength = Math.max(tickOptions.visible ? tickOptions.length / 2 + tickOptions.shift : 0, 0);\r\n        var radius = this.getRadius();\r\n        var _this$_center = this._center,\r\n            x = _this$_center.x,\r\n            y = _this$_center.y;\r\n        var labelBoxes = this._majorTicks.map(function(t) {\r\n            return t.label && t.label.getBBox()\r\n        }).filter(function(b) {\r\n            return b\r\n        });\r\n        var canvas = extend({}, this._canvas, {\r\n            left: x - radius,\r\n            top: y - radius,\r\n            right: this._canvas.width - (x + radius),\r\n            bottom: this._canvas.height - (y + radius)\r\n        });\r\n        var margins = baseAxisModule.calculateCanvasMargins(labelBoxes, canvas);\r\n        Object.keys(margins).forEach(function(k) {\r\n            return margins[k] = margins[k] < tickOuterLength ? tickOuterLength : margins[k]\r\n        });\r\n        return margins\r\n    },\r\n    updateSize: function() {\r\n        var that = this;\r\n        baseAxisModule.Axis.prototype.updateSize.apply(that, arguments);\r\n        baseAxisModule.measureLabels(that._majorTicks);\r\n        that._adjustLabelsCoord(0, 0, true);\r\n        this._checkBoundedLabelsOverlapping(this._majorTicks, this._majorTicks.map(function(t) {\r\n            return t.labelBBox\r\n        }))\r\n    },\r\n    _setVisualRange: _noop,\r\n    applyVisualRangeSetter: _noop,\r\n    allowToExtendVisualRange: function(isEnd) {\r\n        return true\r\n    },\r\n    _getStick: function() {\r\n        return this._options.firstPointOnStartAngle || this._options.type !== constants.discrete\r\n    },\r\n    _getTranslatedCoord: function(value, offset) {\r\n        return this._translator.translate(value, offset) - HALF_PI_ANGLE\r\n    },\r\n    _getCanvasStartEnd: function() {\r\n        return {\r\n            start: 0 - HALF_PI_ANGLE,\r\n            end: 360 - HALF_PI_ANGLE\r\n        }\r\n    },\r\n    _getStripGraphicAttributes: function(fromAngle, toAngle) {\r\n        var center = this.getCenter();\r\n        var angle = this.getAngles()[0];\r\n        var r = this.getRadius();\r\n        return {\r\n            x: center.x,\r\n            y: center.y,\r\n            innerRadius: 0,\r\n            outerRadius: r,\r\n            startAngle: -toAngle - angle,\r\n            endAngle: -fromAngle - angle\r\n        }\r\n    },\r\n    _createStrip: function(coords) {\r\n        return this._renderer.arc(coords.x, coords.y, coords.innerRadius, coords.outerRadius, coords.startAngle, coords.endAngle)\r\n    },\r\n    _getStripLabelCoords: function(from, to) {\r\n        var that = this;\r\n        var coords = that._getStripGraphicAttributes(from, to);\r\n        var angle = coords.startAngle + (coords.endAngle - coords.startAngle) / 2;\r\n        var cosSin = vizUtils.getCosAndSin(angle);\r\n        var halfRad = that.getRadius() / 2;\r\n        var center = that.getCenter();\r\n        var x = _round(center.x + halfRad * cosSin.cos);\r\n        var y = _round(center.y - halfRad * cosSin.sin);\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            align: constants.center\r\n        }\r\n    },\r\n    _getConstantLineGraphicAttributes: function(value) {\r\n        var center = this.getCenter();\r\n        var r = this.getRadius();\r\n        return {\r\n            points: [center.x, center.y, center.x + r, center.y]\r\n        }\r\n    },\r\n    _createConstantLine: function(value, attr) {\r\n        return this._createPathElement(this._getConstantLineGraphicAttributes(value).points, attr)\r\n    },\r\n    _rotateConstantLine: function(line, value) {\r\n        var _this$getCenter = this.getCenter(),\r\n            x = _this$getCenter.x,\r\n            y = _this$getCenter.y;\r\n        line.rotate(value + this.getAngles()[0], x, y)\r\n    },\r\n    _getConstantLineLabelsCoords: function(value) {\r\n        var that = this;\r\n        var cosSin = vizUtils.getCosAndSin(-value - that.getAngles()[0]);\r\n        var halfRad = that.getRadius() / 2;\r\n        var center = that.getCenter();\r\n        var x = _round(center.x + halfRad * cosSin.cos);\r\n        var y = _round(center.y - halfRad * cosSin.sin);\r\n        return {\r\n            x: x,\r\n            y: y\r\n        }\r\n    },\r\n    _checkAlignmentConstantLineLabels: _noop,\r\n    _adjustDivisionFactor: function(val) {\r\n        return 180 * val / (this.getRadius() * Math.PI)\r\n    },\r\n    _getScreenDelta: function() {\r\n        var angles = this.getAngles();\r\n        return _math.abs(angles[0] - angles[1])\r\n    },\r\n    _getTickMarkPoints: function(coords, length, _ref) {\r\n        var _ref$shift = _ref.shift,\r\n            shift = void 0 === _ref$shift ? 0 : _ref$shift;\r\n        var center = this.getCenter();\r\n        var corrections = {\r\n            inside: -1,\r\n            center: -.5,\r\n            outside: 0\r\n        };\r\n        var radiusWithTicks = this.getRadius() + length * corrections[this._options.tickOrientation || \"center\"];\r\n        return [center.x + radiusWithTicks + shift, center.y, center.x + radiusWithTicks + length + shift, center.y]\r\n    },\r\n    _getLabelAdjustedCoord: function(tick, _offset, _maxWidth, checkCanvas) {\r\n        var that = this;\r\n        var labelCoords = tick.labelCoords;\r\n        var labelY = labelCoords.y;\r\n        var labelAngle = labelCoords.angle;\r\n        var cosSin = vizUtils.getCosAndSin(labelAngle);\r\n        var cos = cosSin.cos;\r\n        var sin = cosSin.sin;\r\n        var box = tick.labelBBox;\r\n        var halfWidth = box.width / 2;\r\n        var halfHeight = box.height / 2;\r\n        var indentFromAxis = that._options.label.indentFromAxis || 0;\r\n        var x = labelCoords.x + indentFromAxis * cos;\r\n        var y = labelY + (labelY - box.y - halfHeight) + indentFromAxis * sin;\r\n        var shiftX = 0;\r\n        var shiftY = 0;\r\n        switch (getPolarQuarter(labelAngle)) {\r\n            case 1:\r\n                shiftX = halfWidth;\r\n                shiftY = halfHeight * sin;\r\n                break;\r\n            case 2:\r\n                shiftX = halfWidth * cos;\r\n                shiftY = halfHeight;\r\n                break;\r\n            case 3:\r\n                shiftX = -halfWidth;\r\n                shiftY = halfHeight * sin;\r\n                break;\r\n            case 4:\r\n                shiftX = halfWidth * cos;\r\n                shiftY = -halfHeight\r\n        }\r\n        if (checkCanvas) {\r\n            var canvas = that._canvas;\r\n            var boxShiftX = x - labelCoords.x + shiftX;\r\n            var boxShiftY = y - labelCoords.y + shiftY;\r\n            if (box.x + boxShiftX < canvas.originalLeft) {\r\n                shiftX -= box.x + boxShiftX - canvas.originalLeft\r\n            }\r\n            if (box.x + box.width + boxShiftX > canvas.width - canvas.originalRight) {\r\n                shiftX -= box.x + box.width + boxShiftX - (canvas.width - canvas.originalRight)\r\n            }\r\n            if (box.y + boxShiftY < canvas.originalTop) {\r\n                shiftY -= box.y + boxShiftY - canvas.originalTop\r\n            }\r\n            if (box.y + box.height + boxShiftY > canvas.height - canvas.originalBottom) {\r\n                shiftY -= box.y + box.height + boxShiftY - (canvas.height - canvas.originalBottom)\r\n            }\r\n        }\r\n        return {\r\n            x: x + shiftX,\r\n            y: y + shiftY\r\n        }\r\n    },\r\n    _getGridLineDrawer: function() {\r\n        var that = this;\r\n        return function(tick, gridStyle) {\r\n            var center = that.getCenter();\r\n            return that._createPathElement(that._getGridPoints().points, gridStyle).rotate(tick.coords.angle, center.x, center.y)\r\n        }\r\n    },\r\n    _getGridPoints: function() {\r\n        var r = this.getRadius();\r\n        var center = this.getCenter();\r\n        return {\r\n            points: [center.x, center.y, center.x + r, center.y]\r\n        }\r\n    },\r\n    _getTranslatedValue: function(value, offset) {\r\n        var startAngle = this.getAngles()[0];\r\n        var angle = this._translator.translate(value, -offset);\r\n        var coords = convertPolarToXY(this.getCenter(), startAngle, angle, this.getRadius());\r\n        return {\r\n            x: coords.x,\r\n            y: coords.y,\r\n            angle: angle + startAngle - HALF_PI_ANGLE\r\n        }\r\n    },\r\n    _getAdjustedStripLabelCoords: function(strip) {\r\n        var box = strip.labelBBox;\r\n        return {\r\n            translateY: strip.label.attr(\"y\") - box.y - box.height / 2\r\n        }\r\n    },\r\n    coordsIn: function(x, y) {\r\n        return vizUtils.convertXYToPolar(this.getCenter(), x, y).r > this.getRadius()\r\n    },\r\n    _rotateTick: function(element, coords) {\r\n        var center = this.getCenter();\r\n        element.rotate(coords.angle, center.x, center.y)\r\n    },\r\n    _validateOverlappingMode: function(mode) {\r\n        return constants.validateOverlappingMode(mode)\r\n    },\r\n    _validateDisplayMode: function() {\r\n        return \"standard\"\r\n    },\r\n    _getStep: function(boxes) {\r\n        var that = this;\r\n        var radius = that.getRadius() + (that._options.label.indentFromAxis || 0);\r\n        var maxLabelBox = boxes.reduce(function(prevValue, box) {\r\n            var curValue = prevValue;\r\n            if (prevValue.width < box.width) {\r\n                curValue.width = box.width\r\n            }\r\n            if (prevValue.height < box.height) {\r\n                curValue.height = box.height\r\n            }\r\n            return curValue\r\n        }, {\r\n            width: 0,\r\n            height: 0\r\n        });\r\n        var angle1 = _abs(2 * _math.atan(maxLabelBox.height / (2 * radius - maxLabelBox.width)) * 180 / _math.PI);\r\n        var angle2 = _abs(2 * _math.atan(maxLabelBox.width / (2 * radius - maxLabelBox.height)) * 180 / _math.PI);\r\n        return constants.getTicksCountInRange(that._majorTicks, \"angle\", _math.max(angle1, angle2))\r\n    },\r\n    _checkBoundedLabelsOverlapping: function(majorTicks, boxes, mode) {\r\n        var labelOpt = this._options.label;\r\n        mode = mode || this._validateOverlappingMode(labelOpt.overlappingBehavior);\r\n        if (\"hide\" !== mode) {\r\n            return\r\n        }\r\n        var lastVisibleLabelIndex = majorTicks.reduce(function(lastVisibleLabelIndex, tick, index) {\r\n            return tick.label ? index : lastVisibleLabelIndex\r\n        }, null);\r\n        if (!lastVisibleLabelIndex) {\r\n            return\r\n        }\r\n        if (constants.areLabelsOverlap(boxes[0], boxes[lastVisibleLabelIndex], labelOpt.minSpacing, constants.center)) {\r\n            \"first\" === labelOpt.hideFirstOrLast ? majorTicks[0].label.remove() : majorTicks[lastVisibleLabelIndex].label.remove()\r\n        }\r\n    },\r\n    shift: function(margins) {\r\n        this._axisGroup.attr({\r\n            translateX: margins.right,\r\n            translateY: margins.bottom\r\n        })\r\n    }\r\n};\r\npolarAxes.circularSpider = _extend({}, circularAxes, {\r\n    _createAxisElement: function() {\r\n        return this._renderer.path([], \"area\")\r\n    },\r\n    _updateAxisElementPosition: function() {\r\n        this._axisElement.attr({\r\n            points: _map(this.getSpiderTicks(), function(tick) {\r\n                return {\r\n                    x: tick.coords.x,\r\n                    y: tick.coords.y\r\n                }\r\n            })\r\n        })\r\n    },\r\n    _getStick: function() {\r\n        return true\r\n    },\r\n    _getSpiderCategoryOption: function() {\r\n        return true\r\n    },\r\n    getSpiderTicks: function() {\r\n        var that = this;\r\n        var ticks = that.getFullTicks();\r\n        that._spiderTicks = ticks.map(tick(that, that.renderer, {}, {}, that._getSkippedCategory(ticks), true));\r\n        that._spiderTicks.forEach(function(tick) {\r\n            tick.initCoords()\r\n        });\r\n        return that._spiderTicks\r\n    },\r\n    _getStripGraphicAttributes: function(fromAngle, toAngle) {\r\n        var center = this.getCenter();\r\n        var spiderTicks = this.getSpiderTicks();\r\n        var firstTick;\r\n        var lastTick;\r\n        var nextTick;\r\n        var tick;\r\n        var points = [];\r\n        var i = 0;\r\n        var len = spiderTicks.length;\r\n        while (i < len) {\r\n            tick = spiderTicks[i].coords;\r\n            if (tick.angle >= fromAngle && tick.angle <= toAngle) {\r\n                if (!firstTick) {\r\n                    firstTick = (spiderTicks[i - 1] || spiderTicks[spiderTicks.length - 1]).coords;\r\n                    points.push((tick.x + firstTick.x) / 2, (tick.y + firstTick.y) / 2)\r\n                }\r\n                points.push(tick.x, tick.y);\r\n                nextTick = (spiderTicks[i + 1] || spiderTicks[0]).coords;\r\n                lastTick = {\r\n                    x: (tick.x + nextTick.x) / 2,\r\n                    y: (tick.y + nextTick.y) / 2\r\n                }\r\n            }\r\n            i++\r\n        }\r\n        points.push(lastTick.x, lastTick.y);\r\n        points.push(center.x, center.y);\r\n        return {\r\n            points: points\r\n        }\r\n    },\r\n    _createStrip: function(_ref2) {\r\n        var points = _ref2.points;\r\n        return this._renderer.path(points, \"area\")\r\n    },\r\n    _getTranslatedCoord: function(value, offset) {\r\n        return this._translator.translate(value, offset) - HALF_PI_ANGLE\r\n    },\r\n    _setTickOffset: function() {\r\n        this._tickOffset = false\r\n    }\r\n});\r\npolarAxes.linear = {\r\n    _resetMargins: function() {\r\n        this._reinitTranslator(this._getViewportRange())\r\n    },\r\n    _getStick: xyAxesLinear._getStick,\r\n    _getSpiderCategoryOption: _noop,\r\n    _getTranslatorOptions: function() {\r\n        return {\r\n            isHorizontal: true,\r\n            stick: this._getStick()\r\n        }\r\n    },\r\n    getRadius: circularAxes.getRadius,\r\n    getCenter: circularAxes.getCenter,\r\n    getAngles: circularAxes.getAngles,\r\n    _updateRadius: circularAxes._updateRadius,\r\n    _updateCenter: circularAxes._updateCenter,\r\n    _processCanvas: function(canvas) {\r\n        this._updateRadius(canvas);\r\n        this._updateCenter(canvas);\r\n        return {\r\n            left: 0,\r\n            right: 0,\r\n            startPadding: canvas.startPadding,\r\n            endPadding: canvas.endPadding,\r\n            width: this.getRadius()\r\n        }\r\n    },\r\n    _createAxisElement: xyAxesLinear._createAxisElement,\r\n    _updateAxisElementPosition: function() {\r\n        var centerCoord = this.getCenter();\r\n        this._axisElement.attr({\r\n            points: [centerCoord.x, centerCoord.y, centerCoord.x + this.getRadius(), centerCoord.y]\r\n        }).rotate(this.getAngles()[0] - HALF_PI_ANGLE, centerCoord.x, centerCoord.y)\r\n    },\r\n    _getScreenDelta: function() {\r\n        return this.getRadius()\r\n    },\r\n    _getTickMarkPoints: function(coords, length) {\r\n        return [coords.x - length / 2, coords.y, coords.x + length / 2, coords.y]\r\n    },\r\n    _getLabelAdjustedCoord: function(tick) {\r\n        var that = this;\r\n        var labelCoords = tick.labelCoords;\r\n        var labelY = labelCoords.y;\r\n        var cosSin = vizUtils.getCosAndSin(labelCoords.angle);\r\n        var indentFromAxis = that._options.label.indentFromAxis || 0;\r\n        var box = tick.labelBBox;\r\n        var x;\r\n        var y;\r\n        x = labelCoords.x - _abs(indentFromAxis * cosSin.sin) + _abs(box.width / 2 * cosSin.cos) - box.width / 2;\r\n        y = labelY + (labelY - box.y) - _abs(box.height / 2 * cosSin.sin) + _abs(indentFromAxis * cosSin.cos);\r\n        return {\r\n            x: x,\r\n            y: y\r\n        }\r\n    },\r\n    _getGridLineDrawer: function() {\r\n        var that = this;\r\n        return function(tick, gridStyle) {\r\n            var grid = that._getGridPoints(tick.coords);\r\n            return that._renderer.circle(grid.cx, grid.cy, grid.r).attr(gridStyle).sharp()\r\n        }\r\n    },\r\n    _getGridPoints: function(coords) {\r\n        var pos = this.getCenter();\r\n        var radius = vizUtils.getDistance(pos.x, pos.y, coords.x, coords.y);\r\n        if (radius > this.getRadius()) {\r\n            return {\r\n                cx: null,\r\n                cy: null,\r\n                r: null\r\n            }\r\n        }\r\n        return {\r\n            cx: pos.x,\r\n            cy: pos.y,\r\n            r: radius\r\n        }\r\n    },\r\n    _getTranslatedValue: function(value, offset) {\r\n        var startAngle = this.getAngles()[0];\r\n        var xy = convertPolarToXY(this.getCenter(), startAngle, 0, this._translator.translate(value, offset));\r\n        return {\r\n            x: xy.x,\r\n            y: xy.y,\r\n            angle: startAngle - HALF_PI_ANGLE\r\n        }\r\n    },\r\n    _getTranslatedCoord: function(value, offset) {\r\n        return this._translator.translate(value, offset)\r\n    },\r\n    _getCanvasStartEnd: function() {\r\n        var invert = this.getTranslator().getBusinessRange().invert;\r\n        var coords = [0, this.getRadius()];\r\n        invert && coords.reverse();\r\n        return {\r\n            start: coords[0],\r\n            end: coords[1]\r\n        }\r\n    },\r\n    _getStripGraphicAttributes: function(fromPoint, toPoint) {\r\n        var center = this.getCenter();\r\n        return {\r\n            x: center.x,\r\n            y: center.y,\r\n            innerRadius: fromPoint,\r\n            outerRadius: toPoint\r\n        }\r\n    },\r\n    _createStrip: function(attrs) {\r\n        return this._renderer.arc(attrs.x, attrs.y, attrs.innerRadius, attrs.outerRadius, 0, 360)\r\n    },\r\n    _getAdjustedStripLabelCoords: circularAxes._getAdjustedStripLabelCoords,\r\n    _getStripLabelCoords: function(from, to) {\r\n        var that = this;\r\n        var labelPos = from + (to - from) / 2;\r\n        var center = that.getCenter();\r\n        var y = _round(center.y - labelPos);\r\n        return {\r\n            x: center.x,\r\n            y: y,\r\n            align: constants.center\r\n        }\r\n    },\r\n    _getConstantLineGraphicAttributes: function(value) {\r\n        var center = this.getCenter();\r\n        return {\r\n            cx: center.x,\r\n            cy: center.y,\r\n            r: value\r\n        }\r\n    },\r\n    _createConstantLine: function(value, attr) {\r\n        var attrs = this._getConstantLineGraphicAttributes(value);\r\n        return this._renderer.circle(attrs.cx, attrs.cy, attrs.r).attr(attr).sharp()\r\n    },\r\n    _getConstantLineLabelsCoords: function(value) {\r\n        var that = this;\r\n        var center = that.getCenter();\r\n        var y = _round(center.y - value);\r\n        return {\r\n            x: center.x,\r\n            y: y\r\n        }\r\n    },\r\n    _checkAlignmentConstantLineLabels: _noop,\r\n    _rotateTick: function(element, coords, isGridLine) {\r\n        !isGridLine && element.rotate(coords.angle + HALF_PI_ANGLE, coords.x, coords.y)\r\n    },\r\n    _validateOverlappingMode: circularAxes._validateOverlappingMode,\r\n    _validateDisplayMode: circularAxes._validateDisplayMode,\r\n    _getStep: function(boxes) {\r\n        var quarter = getPolarQuarter(this.getAngles()[0]);\r\n        var spacing = this._options.label.minSpacing;\r\n        var func = 2 === quarter || 4 === quarter ? function(box) {\r\n            return box.width + spacing\r\n        } : function(box) {\r\n            return box.height\r\n        };\r\n        var maxLabelLength = boxes.reduce(function(prevValue, box) {\r\n            return _math.max(prevValue, func(box))\r\n        }, 0);\r\n        return constants.getTicksCountInRange(this._majorTicks, 2 === quarter || 4 === quarter ? \"x\" : \"y\", maxLabelLength)\r\n    }\r\n};\r\npolarAxes.linearSpider = _extend({}, polarAxes.linear, {\r\n    _createPathElement: function(points, attr) {\r\n        return this._renderer.path(points, \"area\").attr(attr).sharp()\r\n    },\r\n    setSpiderTicks: function(ticks) {\r\n        this._spiderTicks = ticks\r\n    },\r\n    _getGridLineDrawer: function() {\r\n        var that = this;\r\n        return function(tick, gridStyle, element) {\r\n            return that._createPathElement(that._getGridPoints(tick.coords).points, gridStyle)\r\n        }\r\n    },\r\n    _getGridPoints: function(coords) {\r\n        var pos = this.getCenter();\r\n        var radius = vizUtils.getDistance(pos.x, pos.y, coords.x, coords.y);\r\n        return this._getGridPointsByRadius(radius)\r\n    },\r\n    _getGridPointsByRadius: function(radius) {\r\n        var pos = this.getCenter();\r\n        if (radius > this.getRadius()) {\r\n            return {\r\n                points: null\r\n            }\r\n        }\r\n        return {\r\n            points: _map(this._spiderTicks, function(tick) {\r\n                var cosSin = vizUtils.getCosAndSin(tick.coords.angle);\r\n                return {\r\n                    x: _round(pos.x + radius * cosSin.cos),\r\n                    y: _round(pos.y + radius * cosSin.sin)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _getStripGraphicAttributes: function(fromPoint, toPoint) {\r\n        var innerPoints = this._getGridPointsByRadius(toPoint).points;\r\n        var outerPoints = this._getGridPointsByRadius(fromPoint).points;\r\n        return {\r\n            points: [outerPoints, innerPoints.reverse()]\r\n        }\r\n    },\r\n    _createStrip: polarAxes.circularSpider._createStrip,\r\n    _getConstantLineGraphicAttributes: function(value) {\r\n        return this._getGridPointsByRadius(value)\r\n    },\r\n    _createConstantLine: function(value, attr) {\r\n        return this._createPathElement(this._getConstantLineGraphicAttributes(value).points, attr)\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}