{"ast":null,"code":"/**\r\n * DevExtreme (viz/tree_map/selection.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar proto = require(\"./tree_map.base\").prototype;\n\nvar nodeProto = require(\"./node\").prototype;\n\nvar expand = require(\"../core/helpers\").expand;\n\nvar common = require(\"./common\");\n\nvar _buildRectAppearance = common.buildRectAppearance;\n\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\n\nvar _inArray = require(\"../../core/utils/array\").inArray;\n\nvar MODE_NONE = 0;\nvar MODE_SINGLE = 1;\nvar MODE_MULTIPLE = 2;\nvar STATE_CODE = 2;\n\nrequire(\"./api\");\n\nrequire(\"./states\");\n\nproto._eventsMap.onSelectionChanged = {\n  name: \"selectionChanged\"\n};\nexpand(proto._handlers, \"calculateAdditionalStates\", function (states, options) {\n  states[2] = options.selectionStyle ? _buildRectAppearance(options.selectionStyle) : {};\n});\nnodeProto.statesMap[2] = nodeProto.statesMap[3] = STATE_CODE;\nnodeProto.additionalStates.push(2);\nexpand(proto, \"_onNodesCreated\", function () {\n  this._selectionList.length = 0;\n});\nexpand(proto, \"_extendProxyType\", function (proto) {\n  var that = this;\n\n  proto.select = function (state) {\n    that._selectNode(this._id, !!state);\n  };\n\n  proto.isSelected = function () {\n    return _inArray(this._id, that._selectionList) >= 0;\n  };\n\n  that._selectionList = [];\n});\n\nrequire(\"./tree_map.base\").addChange({\n  code: \"SELECTION_MODE\",\n  handler: function handler() {\n    var that = this;\n\n    var option = _normalizeEnum(that._getOption(\"selectionMode\", true));\n\n    var mode;\n    var selectionList = that._selectionList;\n    var tmp;\n    mode = \"none\" === option ? MODE_NONE : \"multiple\" === option ? MODE_MULTIPLE : MODE_SINGLE;\n\n    if (mode === MODE_SINGLE && selectionList.length > 1) {\n      tmp = selectionList.pop();\n      that.clearSelection();\n      selectionList.push(tmp);\n    } else {\n      if (mode === MODE_NONE) {\n        that.clearSelection();\n      }\n    }\n\n    that._selectionMode = mode;\n  },\n  isThemeDependent: true,\n  isOptionChange: true,\n  option: \"selectionMode\"\n});\n\nexpand(proto, \"_applyTilesAppearance\", function () {\n  if (this._selectionList.length) {\n    bringSelectedTilesToForeground(this._nodes, this._selectionList);\n  }\n});\n\nfunction bringSelectedTilesToForeground(nodes, selectionList) {\n  var i;\n  var ii = selectionList.length;\n  var node;\n\n  for (i = 0; i < ii; ++i) {\n    node = nodes[selectionList[i]];\n    tileToFront[Number(node.isNode())](node.tile);\n  }\n}\n\nvar tileToFront = [leafToFront, groupToFront];\n\nfunction leafToFront(content) {\n  content.toForeground();\n}\n\nfunction groupToFront(content) {\n  content.outer.toForeground();\n  content.inner.toForeground();\n}\n\nproto._applySelectionState = function (index, state) {\n  var node = this._nodes[index];\n  node.setState(STATE_CODE, state);\n\n  this._eventTrigger(\"selectionChanged\", {\n    node: node.proxy\n  });\n};\n\nproto._selectNode = function (index, state) {\n  var that = this;\n  var selectionList;\n  var k;\n  var tmp;\n\n  if (that._selectionMode !== MODE_NONE) {\n    that._context.suspend();\n\n    selectionList = that._selectionList;\n    k = _inArray(index, selectionList);\n\n    if (state && k === -1) {\n      if (that._selectionMode === MODE_SINGLE) {\n        if (selectionList.length) {\n          tmp = selectionList.pop();\n\n          that._applySelectionState(tmp, false);\n        }\n      }\n\n      selectionList.push(index);\n\n      that._applySelectionState(index, true);\n    } else {\n      if (!state && k >= 0) {\n        selectionList.splice(k, 1);\n\n        that._applySelectionState(index, false);\n      }\n    }\n\n    that._context.resume();\n  }\n};\n\nproto.clearSelection = function () {\n  var that = this;\n  var selectionList = that._selectionList;\n  var i;\n  var ii = selectionList.length;\n\n  if (that._selectionMode !== MODE_NONE) {\n    that._context.suspend();\n\n    for (i = 0; i < ii; ++i) {\n      that._applySelectionState(selectionList[i], false);\n    }\n\n    selectionList.length = 0;\n\n    that._context.resume();\n  }\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/tree_map/selection.js"],"names":["proto","require","nodeProto","expand","common","_buildRectAppearance","_normalizeEnum","_inArray","MODE_NONE","MODE_SINGLE","MODE_MULTIPLE","STATE_CODE","name","states","options","that","code","handler","option","selectionList","mode","tmp","isThemeDependent","isOptionChange","bringSelectedTilesToForeground","ii","i","node","nodes","tileToFront","Number","content","proxy","k","state"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/tree_map/selection.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar proto = require(\"./tree_map.base\").prototype;\r\nvar nodeProto = require(\"./node\").prototype;\r\nvar expand = require(\"../core/helpers\").expand;\r\nvar common = require(\"./common\");\r\nvar _buildRectAppearance = common.buildRectAppearance;\r\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\r\nvar _inArray = require(\"../../core/utils/array\").inArray;\r\nvar MODE_NONE = 0;\r\nvar MODE_SINGLE = 1;\r\nvar MODE_MULTIPLE = 2;\r\nvar STATE_CODE = 2;\r\nrequire(\"./api\");\r\nrequire(\"./states\");\r\nproto._eventsMap.onSelectionChanged = {\r\n    name: \"selectionChanged\"\r\n};\r\nexpand(proto._handlers, \"calculateAdditionalStates\", function(states, options) {\r\n    states[2] = options.selectionStyle ? _buildRectAppearance(options.selectionStyle) : {}\r\n});\r\nnodeProto.statesMap[2] = nodeProto.statesMap[3] = STATE_CODE;\r\nnodeProto.additionalStates.push(2);\r\nexpand(proto, \"_onNodesCreated\", function() {\r\n    this._selectionList.length = 0\r\n});\r\nexpand(proto, \"_extendProxyType\", function(proto) {\r\n    var that = this;\r\n    proto.select = function(state) {\r\n        that._selectNode(this._id, !!state)\r\n    };\r\n    proto.isSelected = function() {\r\n        return _inArray(this._id, that._selectionList) >= 0\r\n    };\r\n    that._selectionList = []\r\n});\r\nrequire(\"./tree_map.base\").addChange({\r\n    code: \"SELECTION_MODE\",\r\n    handler: function() {\r\n        var that = this;\r\n        var option = _normalizeEnum(that._getOption(\"selectionMode\", true));\r\n        var mode;\r\n        var selectionList = that._selectionList;\r\n        var tmp;\r\n        mode = \"none\" === option ? MODE_NONE : \"multiple\" === option ? MODE_MULTIPLE : MODE_SINGLE;\r\n        if (mode === MODE_SINGLE && selectionList.length > 1) {\r\n            tmp = selectionList.pop();\r\n            that.clearSelection();\r\n            selectionList.push(tmp)\r\n        } else {\r\n            if (mode === MODE_NONE) {\r\n                that.clearSelection()\r\n            }\r\n        }\r\n        that._selectionMode = mode\r\n    },\r\n    isThemeDependent: true,\r\n    isOptionChange: true,\r\n    option: \"selectionMode\"\r\n});\r\nexpand(proto, \"_applyTilesAppearance\", function() {\r\n    if (this._selectionList.length) {\r\n        bringSelectedTilesToForeground(this._nodes, this._selectionList)\r\n    }\r\n});\r\n\r\nfunction bringSelectedTilesToForeground(nodes, selectionList) {\r\n    var i;\r\n    var ii = selectionList.length;\r\n    var node;\r\n    for (i = 0; i < ii; ++i) {\r\n        node = nodes[selectionList[i]];\r\n        tileToFront[Number(node.isNode())](node.tile)\r\n    }\r\n}\r\nvar tileToFront = [leafToFront, groupToFront];\r\n\r\nfunction leafToFront(content) {\r\n    content.toForeground()\r\n}\r\n\r\nfunction groupToFront(content) {\r\n    content.outer.toForeground();\r\n    content.inner.toForeground()\r\n}\r\nproto._applySelectionState = function(index, state) {\r\n    var node = this._nodes[index];\r\n    node.setState(STATE_CODE, state);\r\n    this._eventTrigger(\"selectionChanged\", {\r\n        node: node.proxy\r\n    })\r\n};\r\nproto._selectNode = function(index, state) {\r\n    var that = this;\r\n    var selectionList;\r\n    var k;\r\n    var tmp;\r\n    if (that._selectionMode !== MODE_NONE) {\r\n        that._context.suspend();\r\n        selectionList = that._selectionList;\r\n        k = _inArray(index, selectionList);\r\n        if (state && k === -1) {\r\n            if (that._selectionMode === MODE_SINGLE) {\r\n                if (selectionList.length) {\r\n                    tmp = selectionList.pop();\r\n                    that._applySelectionState(tmp, false)\r\n                }\r\n            }\r\n            selectionList.push(index);\r\n            that._applySelectionState(index, true)\r\n        } else {\r\n            if (!state && k >= 0) {\r\n                selectionList.splice(k, 1);\r\n                that._applySelectionState(index, false)\r\n            }\r\n        }\r\n        that._context.resume()\r\n    }\r\n};\r\nproto.clearSelection = function() {\r\n    var that = this;\r\n    var selectionList = that._selectionList;\r\n    var i;\r\n    var ii = selectionList.length;\r\n    if (that._selectionMode !== MODE_NONE) {\r\n        that._context.suspend();\r\n        for (i = 0; i < ii; ++i) {\r\n            that._applySelectionState(selectionList[i], false)\r\n        }\r\n        selectionList.length = 0;\r\n        that._context.resume()\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}