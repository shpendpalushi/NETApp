{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/loading_indicator.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _patchFontOptions = require(\"./utils\").patchFontOptions;\n\nvar STATE_HIDDEN = 0;\nvar STATE_SHOWN = 1;\nvar ANIMATION_EASING = \"linear\";\nvar ANIMATION_DURATION = 400;\nvar LOADING_INDICATOR_READY = \"loadingIndicatorReady\";\n\nfunction LoadingIndicator(parameters) {\n  var that = this;\n  var renderer = parameters.renderer;\n  that._group = renderer.g().attr({\n    \"class\": \"dx-loading-indicator\"\n  }).linkOn(renderer.root, {\n    name: \"loading-indicator\",\n    after: \"peripheral\"\n  });\n  that._rect = renderer.rect().attr({\n    opacity: 0\n  }).append(that._group);\n  that._text = renderer.text().attr({\n    align: \"center\"\n  }).append(that._group);\n\n  that._createStates(parameters.eventTrigger, that._group, renderer.root, parameters.notify);\n}\n\nLoadingIndicator.prototype = {\n  constructor: LoadingIndicator,\n  _createStates: function _createStates(eventTrigger, group, root, notify) {\n    var that = this;\n    that._states = [{\n      opacity: 0,\n      start: function start() {\n        notify(false);\n      },\n      complete: function complete() {\n        group.linkRemove();\n        root.css({\n          \"pointer-events\": \"\"\n        });\n        eventTrigger(LOADING_INDICATOR_READY);\n      }\n    }, {\n      opacity: .85,\n      start: function start() {\n        group.linkAppend();\n        root.css({\n          \"pointer-events\": \"none\"\n        });\n        notify(true);\n      },\n      complete: function complete() {\n        eventTrigger(LOADING_INDICATOR_READY);\n      }\n    }];\n    that._state = STATE_HIDDEN;\n  },\n  setSize: function setSize(size) {\n    var width = size.width;\n    var height = size.height;\n\n    this._rect.attr({\n      width: width,\n      height: height\n    });\n\n    this._text.attr({\n      x: width / 2,\n      y: height / 2\n    });\n  },\n  setOptions: function setOptions(options) {\n    this._rect.attr({\n      fill: options.backgroundColor\n    });\n\n    this._text.css(_patchFontOptions(options.font)).attr({\n      text: options.text,\n      \"class\": options.cssClass\n    });\n\n    this[options.show ? \"show\" : \"hide\"]();\n  },\n  dispose: function dispose() {\n    var that = this;\n\n    that._group.linkRemove().linkOff();\n\n    that._group = that._rect = that._text = that._states = null;\n  },\n  _transit: function _transit(stateId) {\n    var that = this;\n    var state;\n\n    if (that._state !== stateId) {\n      that._state = stateId;\n      that._isHiding = false;\n      state = that._states[stateId];\n\n      that._rect.stopAnimation().animate({\n        opacity: state.opacity\n      }, {\n        complete: state.complete,\n        easing: ANIMATION_EASING,\n        duration: ANIMATION_DURATION,\n        unstoppable: true\n      });\n\n      that._noHiding = true;\n      state.start();\n      that._noHiding = false;\n    }\n  },\n  show: function show() {\n    this._transit(STATE_SHOWN);\n  },\n  hide: function hide() {\n    this._transit(STATE_HIDDEN);\n  },\n  scheduleHiding: function scheduleHiding() {\n    if (!this._noHiding) {\n      this._isHiding = true;\n    }\n  },\n  fulfillHiding: function fulfillHiding() {\n    if (this._isHiding) {\n      this.hide();\n    }\n  }\n};\nexports.LoadingIndicator = LoadingIndicator;\nexports.plugin = {\n  name: \"loading_indicator\",\n  init: function init() {\n    var that = this;\n    that._loadingIndicator = new exports.LoadingIndicator({\n      eventTrigger: that._eventTrigger,\n      renderer: that._renderer,\n      notify: notify\n    });\n\n    that._scheduleLoadingIndicatorHiding();\n\n    function notify(state) {\n      that._skipLoadingIndicatorOptions = true;\n      that.option(\"loadingIndicator\", {\n        show: state\n      });\n      that._skipLoadingIndicatorOptions = false;\n\n      if (state) {\n        that._stopCurrentHandling();\n      }\n    }\n  },\n  dispose: function dispose() {\n    this._loadingIndicator.dispose();\n\n    this._loadingIndicator = null;\n  },\n  members: {\n    _scheduleLoadingIndicatorHiding: function _scheduleLoadingIndicatorHiding() {\n      this._loadingIndicator.scheduleHiding();\n    },\n    _fulfillLoadingIndicatorHiding: function _fulfillLoadingIndicatorHiding() {\n      this._loadingIndicator.fulfillHiding();\n    },\n    showLoadingIndicator: function showLoadingIndicator() {\n      this._loadingIndicator.show();\n    },\n    hideLoadingIndicator: function hideLoadingIndicator() {\n      this._loadingIndicator.hide();\n    },\n    _onBeginUpdate: function _onBeginUpdate() {\n      if (!this._optionChangedLocker) {\n        this._scheduleLoadingIndicatorHiding();\n      }\n    }\n  },\n  extenders: {\n    _dataSourceLoadingChangedHandler: function _dataSourceLoadingChangedHandler(isLoading) {\n      if (isLoading && (this._options.loadingIndicator || {}).enabled) {\n        this._loadingIndicator.show();\n      }\n    },\n    _setContentSize: function _setContentSize() {\n      this._loadingIndicator.setSize(this._canvas);\n    },\n    endUpdate: function endUpdate() {\n      if (this._initialized && this._dataIsReady()) {\n        this._fulfillLoadingIndicatorHiding();\n      }\n    }\n  },\n  customize: function customize(constructor) {\n    var proto = constructor.prototype;\n\n    if (proto._dataSourceChangedHandler) {\n      var _dataSourceChangedHandler = proto._dataSourceChangedHandler;\n\n      proto._dataSourceChangedHandler = function () {\n        this._scheduleLoadingIndicatorHiding();\n\n        _dataSourceChangedHandler.apply(this, arguments);\n      };\n    }\n\n    constructor.addChange({\n      code: \"LOADING_INDICATOR\",\n      handler: function handler() {\n        if (!this._skipLoadingIndicatorOptions) {\n          this._loadingIndicator.setOptions(this._getOption(\"loadingIndicator\"));\n        }\n\n        this._scheduleLoadingIndicatorHiding();\n      },\n      isThemeDependent: true,\n      option: \"loadingIndicator\",\n      isOptionChange: true\n    });\n    proto._eventsMap.onLoadingIndicatorReady = {\n      name: \"loadingIndicatorReady\"\n    };\n    var _drawn = proto._drawn;\n\n    proto._drawn = function () {\n      _drawn.apply(this, arguments);\n\n      if (this._dataIsReady()) {\n        this._fulfillLoadingIndicatorHiding();\n      }\n    };\n  },\n  fontFields: [\"loadingIndicator.font\"]\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/core/loading_indicator.js"],"names":["_patchFontOptions","require","STATE_HIDDEN","STATE_SHOWN","ANIMATION_EASING","ANIMATION_DURATION","LOADING_INDICATOR_READY","that","renderer","parameters","name","after","opacity","align","LoadingIndicator","constructor","_createStates","start","notify","complete","group","root","eventTrigger","setSize","width","size","height","x","y","setOptions","fill","options","backgroundColor","text","cssClass","dispose","_transit","state","easing","duration","unstoppable","show","hide","scheduleHiding","fulfillHiding","exports","init","members","_scheduleLoadingIndicatorHiding","_fulfillLoadingIndicatorHiding","showLoadingIndicator","hideLoadingIndicator","_onBeginUpdate","extenders","_dataSourceLoadingChangedHandler","isLoading","_setContentSize","endUpdate","customize","proto","_dataSourceChangedHandler","code","handler","isThemeDependent","option","isOptionChange","_drawn","fontFields"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,iBAAiB,GAAGC,OAAO,CAAPA,SAAO,CAAPA,CAAxB,gBAAA;;AACA,IAAIC,YAAY,GAAhB,CAAA;AACA,IAAIC,WAAW,GAAf,CAAA;AACA,IAAIC,gBAAgB,GAApB,QAAA;AACA,IAAIC,kBAAkB,GAAtB,GAAA;AACA,IAAIC,uBAAuB,GAA3B,uBAAA;;AAEA,SAAA,gBAAA,CAAA,UAAA,EAAsC;AAClC,MAAIC,IAAI,GAAR,IAAA;AACA,MAAIC,QAAQ,GAAGC,UAAU,CAAzB,QAAA;AACAF,EAAAA,IAAI,CAAJA,MAAAA,GAAc,QAAQ,CAAR,CAAA,GAAA,IAAA,CAAkB;AAC5B,aAAS;AADmB,GAAlB,EAAA,MAAA,CAEJC,QAAQ,CAFJ,IAAA,EAEW;AACrBE,IAAAA,IAAI,EADiB,mBAAA;AAErBC,IAAAA,KAAK,EAAE;AAFc,GAFX,CAAdJ;AAMAA,EAAAA,IAAI,CAAJA,KAAAA,GAAa,QAAQ,CAAR,IAAA,GAAA,IAAA,CAAqB;AAC9BK,IAAAA,OAAO,EAAE;AADqB,GAArB,EAAA,MAAA,CAEHL,IAAI,CAFdA,MAAa,CAAbA;AAGAA,EAAAA,IAAI,CAAJA,KAAAA,GAAa,QAAQ,CAAR,IAAA,GAAA,IAAA,CAAqB;AAC9BM,IAAAA,KAAK,EAAE;AADuB,GAArB,EAAA,MAAA,CAEHN,IAAI,CAFdA,MAAa,CAAbA;;AAGAA,EAAAA,IAAI,CAAJA,aAAAA,CAAmBE,UAAU,CAA7BF,YAAAA,EAA4CA,IAAI,CAAhDA,MAAAA,EAAyDC,QAAQ,CAAjED,IAAAA,EAAwEE,UAAU,CAAlFF,MAAAA;AACH;;AACDO,gBAAgB,CAAhBA,SAAAA,GAA6B;AACzBC,EAAAA,WAAW,EADc,gBAAA;AAEzBC,EAAAA,aAAa,EAAE,SAAA,aAAA,CAAA,YAAA,EAAA,KAAA,EAAA,IAAA,EAAA,MAAA,EAA4C;AACvD,QAAIT,IAAI,GAAR,IAAA;AACAA,IAAAA,IAAI,CAAJA,OAAAA,GAAe,CAAC;AACZK,MAAAA,OAAO,EADK,CAAA;AAEZK,MAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACdC,QAAAA,MAAM,CAANA,KAAM,CAANA;AAHQ,OAAA;AAKZC,MAAAA,QAAQ,EAAE,SAAA,QAAA,GAAW;AACjBC,QAAAA,KAAK,CAALA,UAAAA;AACAC,QAAAA,IAAI,CAAJA,GAAAA,CAAS;AACL,4BAAkB;AADb,SAATA;AAGAC,QAAAA,YAAY,CAAZA,uBAAY,CAAZA;AACH;AAXW,KAAD,EAYZ;AACCV,MAAAA,OAAO,EADR,GAAA;AAECK,MAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACdG,QAAAA,KAAK,CAALA,UAAAA;AACAC,QAAAA,IAAI,CAAJA,GAAAA,CAAS;AACL,4BAAkB;AADb,SAATA;AAGAH,QAAAA,MAAM,CAANA,IAAM,CAANA;AAPL,OAAA;AASCC,MAAAA,QAAQ,EAAE,SAAA,QAAA,GAAW;AACjBG,QAAAA,YAAY,CAAZA,uBAAY,CAAZA;AACH;AAXF,KAZY,CAAff;AAyBAA,IAAAA,IAAI,CAAJA,MAAAA,GAAAA,YAAAA;AA7BqB,GAAA;AA+BzBgB,EAAAA,OAAO,EAAE,SAAA,OAAA,CAAA,IAAA,EAAe;AACpB,QAAIC,KAAK,GAAGC,IAAI,CAAhB,KAAA;AACA,QAAIC,MAAM,GAAGD,IAAI,CAAjB,MAAA;;AACA,SAAA,KAAA,CAAA,IAAA,CAAgB;AACZD,MAAAA,KAAK,EADO,KAAA;AAEZE,MAAAA,MAAM,EAAEA;AAFI,KAAhB;;AAIA,SAAA,KAAA,CAAA,IAAA,CAAgB;AACZC,MAAAA,CAAC,EAAEH,KAAK,GADI,CAAA;AAEZI,MAAAA,CAAC,EAAEF,MAAM,GAAG;AAFA,KAAhB;AAtCqB,GAAA;AA2CzBG,EAAAA,UAAU,EAAE,SAAA,UAAA,CAAA,OAAA,EAAkB;AAC1B,SAAA,KAAA,CAAA,IAAA,CAAgB;AACZC,MAAAA,IAAI,EAAEC,OAAO,CAACC;AADF,KAAhB;;AAGA,SAAA,KAAA,CAAA,GAAA,CAAehC,iBAAiB,CAAC+B,OAAO,CAAxC,IAAgC,CAAhC,EAAA,IAAA,CAAqD;AACjDE,MAAAA,IAAI,EAAEF,OAAO,CADoC,IAAA;AAEjD,eAASA,OAAO,CAACG;AAFgC,KAArD;;AAIA,SAAKH,OAAO,CAAPA,IAAAA,GAAAA,MAAAA,GAAL,MAAA;AAnDqB,GAAA;AAqDzBI,EAAAA,OAAO,EAAE,SAAA,OAAA,GAAW;AAChB,QAAI5B,IAAI,GAAR,IAAA;;AACAA,IAAAA,IAAI,CAAJA,MAAAA,CAAAA,UAAAA,GAAAA,OAAAA;;AACAA,IAAAA,IAAI,CAAJA,MAAAA,GAAcA,IAAI,CAAJA,KAAAA,GAAaA,IAAI,CAAJA,KAAAA,GAAaA,IAAI,CAAJA,OAAAA,GAAxCA,IAAAA;AAxDqB,GAAA;AA0DzB6B,EAAAA,QAAQ,EAAE,SAAA,QAAA,CAAA,OAAA,EAAkB;AACxB,QAAI7B,IAAI,GAAR,IAAA;AACA,QAAA,KAAA;;AACA,QAAIA,IAAI,CAAJA,MAAAA,KAAJ,OAAA,EAA6B;AACzBA,MAAAA,IAAI,CAAJA,MAAAA,GAAAA,OAAAA;AACAA,MAAAA,IAAI,CAAJA,SAAAA,GAAAA,KAAAA;AACA8B,MAAAA,KAAK,GAAG9B,IAAI,CAAJA,OAAAA,CAAR8B,OAAQ9B,CAAR8B;;AACA9B,MAAAA,IAAI,CAAJA,KAAAA,CAAAA,aAAAA,GAAAA,OAAAA,CAAmC;AAC/BK,QAAAA,OAAO,EAAEyB,KAAK,CAACzB;AADgB,OAAnCL,EAEG;AACCY,QAAAA,QAAQ,EAAEkB,KAAK,CADhB,QAAA;AAECC,QAAAA,MAAM,EAFP,gBAAA;AAGCC,QAAAA,QAAQ,EAHT,kBAAA;AAICC,QAAAA,WAAW,EAAE;AAJd,OAFHjC;;AAQAA,MAAAA,IAAI,CAAJA,SAAAA,GAAAA,IAAAA;AACA8B,MAAAA,KAAK,CAALA,KAAAA;AACA9B,MAAAA,IAAI,CAAJA,SAAAA,GAAAA,KAAAA;AACH;AA5EoB,GAAA;AA8EzBkC,EAAAA,IAAI,EAAE,SAAA,IAAA,GAAW;AACb,SAAA,QAAA,CAAA,WAAA;AA/EqB,GAAA;AAiFzBC,EAAAA,IAAI,EAAE,SAAA,IAAA,GAAW;AACb,SAAA,QAAA,CAAA,YAAA;AAlFqB,GAAA;AAoFzBC,EAAAA,cAAc,EAAE,SAAA,cAAA,GAAW;AACvB,QAAI,CAAC,KAAL,SAAA,EAAqB;AACjB,WAAA,SAAA,GAAA,IAAA;AACH;AAvFoB,GAAA;AAyFzBC,EAAAA,aAAa,EAAE,SAAA,aAAA,GAAW;AACtB,QAAI,KAAJ,SAAA,EAAoB;AAChB,WAAA,IAAA;AACH;AACJ;AA7FwB,CAA7B9B;AA+FA+B,OAAO,CAAPA,gBAAAA,GAAAA,gBAAAA;AACAA,OAAO,CAAPA,MAAAA,GAAiB;AACbnC,EAAAA,IAAI,EADS,mBAAA;AAEboC,EAAAA,IAAI,EAAE,SAAA,IAAA,GAAW;AACb,QAAIvC,IAAI,GAAR,IAAA;AACAA,IAAAA,IAAI,CAAJA,iBAAAA,GAAyB,IAAIsC,OAAO,CAAX,gBAAA,CAA6B;AAClDvB,MAAAA,YAAY,EAAEf,IAAI,CADgC,aAAA;AAElDC,MAAAA,QAAQ,EAAED,IAAI,CAFoC,SAAA;AAGlDW,MAAAA,MAAM,EAAEA;AAH0C,KAA7B,CAAzBX;;AAKAA,IAAAA,IAAI,CAAJA,+BAAAA;;AAEA,aAAA,MAAA,CAAA,KAAA,EAAuB;AACnBA,MAAAA,IAAI,CAAJA,4BAAAA,GAAAA,IAAAA;AACAA,MAAAA,IAAI,CAAJA,MAAAA,CAAAA,kBAAAA,EAAgC;AAC5BkC,QAAAA,IAAI,EAAEJ;AADsB,OAAhC9B;AAGAA,MAAAA,IAAI,CAAJA,4BAAAA,GAAAA,KAAAA;;AACA,UAAA,KAAA,EAAW;AACPA,QAAAA,IAAI,CAAJA,oBAAAA;AACH;AACJ;AApBQ,GAAA;AAsBb4B,EAAAA,OAAO,EAAE,SAAA,OAAA,GAAW;AAChB,SAAA,iBAAA,CAAA,OAAA;;AACA,SAAA,iBAAA,GAAA,IAAA;AAxBS,GAAA;AA0BbY,EAAAA,OAAO,EAAE;AACLC,IAAAA,+BAA+B,EAAE,SAAA,+BAAA,GAAW;AACxC,WAAA,iBAAA,CAAA,cAAA;AAFC,KAAA;AAILC,IAAAA,8BAA8B,EAAE,SAAA,8BAAA,GAAW;AACvC,WAAA,iBAAA,CAAA,aAAA;AALC,KAAA;AAOLC,IAAAA,oBAAoB,EAAE,SAAA,oBAAA,GAAW;AAC7B,WAAA,iBAAA,CAAA,IAAA;AARC,KAAA;AAULC,IAAAA,oBAAoB,EAAE,SAAA,oBAAA,GAAW;AAC7B,WAAA,iBAAA,CAAA,IAAA;AAXC,KAAA;AAaLC,IAAAA,cAAc,EAAE,SAAA,cAAA,GAAW;AACvB,UAAI,CAAC,KAAL,oBAAA,EAAgC;AAC5B,aAAA,+BAAA;AACH;AACJ;AAjBI,GA1BI;AA6CbC,EAAAA,SAAS,EAAE;AACPC,IAAAA,gCAAgC,EAAE,SAAA,gCAAA,CAAA,SAAA,EAAoB;AAClD,UAAIC,SAAS,IAAI,CAAC,KAAA,QAAA,CAAA,gBAAA,IAAD,EAAA,EAAjB,OAAA,EAAiE;AAC7D,aAAA,iBAAA,CAAA,IAAA;AACH;AAJE,KAAA;AAMPC,IAAAA,eAAe,EAAE,SAAA,eAAA,GAAW;AACxB,WAAA,iBAAA,CAAA,OAAA,CAA+B,KAA/B,OAAA;AAPG,KAAA;AASPC,IAAAA,SAAS,EAAE,SAAA,SAAA,GAAW;AAClB,UAAI,KAAA,YAAA,IAAqB,KAAzB,YAAyB,EAAzB,EAA8C;AAC1C,aAAA,8BAAA;AACH;AACJ;AAbM,GA7CE;AA4DbC,EAAAA,SAAS,EAAE,SAAA,SAAA,CAAA,WAAA,EAAsB;AAC7B,QAAIC,KAAK,GAAG5C,WAAW,CAAvB,SAAA;;AACA,QAAI4C,KAAK,CAAT,yBAAA,EAAqC;AACjC,UAAIC,yBAAyB,GAAGD,KAAK,CAArC,yBAAA;;AACAA,MAAAA,KAAK,CAALA,yBAAAA,GAAkC,YAAW;AACzC,aAAA,+BAAA;;AACAC,QAAAA,yBAAyB,CAAzBA,KAAAA,CAAAA,IAAAA,EAAAA,SAAAA;AAFJD,OAAAA;AAIH;;AACD5C,IAAAA,WAAW,CAAXA,SAAAA,CAAsB;AAClB8C,MAAAA,IAAI,EADc,mBAAA;AAElBC,MAAAA,OAAO,EAAE,SAAA,OAAA,GAAW;AAChB,YAAI,CAAC,KAAL,4BAAA,EAAwC;AACpC,eAAA,iBAAA,CAAA,UAAA,CAAkC,KAAA,UAAA,CAAlC,kBAAkC,CAAlC;AACH;;AACD,aAAA,+BAAA;AANc,OAAA;AAQlBC,MAAAA,gBAAgB,EARE,IAAA;AASlBC,MAAAA,MAAM,EATY,kBAAA;AAUlBC,MAAAA,cAAc,EAAE;AAVE,KAAtBlD;AAYA4C,IAAAA,KAAK,CAALA,UAAAA,CAAAA,uBAAAA,GAA2C;AACvCjD,MAAAA,IAAI,EAAE;AADiC,KAA3CiD;AAGA,QAAIO,MAAM,GAAGP,KAAK,CAAlB,MAAA;;AACAA,IAAAA,KAAK,CAALA,MAAAA,GAAe,YAAW;AACtBO,MAAAA,MAAM,CAANA,KAAAA,CAAAA,IAAAA,EAAAA,SAAAA;;AACA,UAAI,KAAJ,YAAI,EAAJ,EAAyB;AACrB,aAAA,8BAAA;AACH;AAJLP,KAAAA;AArFS,GAAA;AA4FbQ,EAAAA,UAAU,EAAE,CAAA,uBAAA;AA5FC,CAAjBtB","sourcesContent":["/**\r\n * DevExtreme (viz/core/loading_indicator.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _patchFontOptions = require(\"./utils\").patchFontOptions;\r\nvar STATE_HIDDEN = 0;\r\nvar STATE_SHOWN = 1;\r\nvar ANIMATION_EASING = \"linear\";\r\nvar ANIMATION_DURATION = 400;\r\nvar LOADING_INDICATOR_READY = \"loadingIndicatorReady\";\r\n\r\nfunction LoadingIndicator(parameters) {\r\n    var that = this;\r\n    var renderer = parameters.renderer;\r\n    that._group = renderer.g().attr({\r\n        \"class\": \"dx-loading-indicator\"\r\n    }).linkOn(renderer.root, {\r\n        name: \"loading-indicator\",\r\n        after: \"peripheral\"\r\n    });\r\n    that._rect = renderer.rect().attr({\r\n        opacity: 0\r\n    }).append(that._group);\r\n    that._text = renderer.text().attr({\r\n        align: \"center\"\r\n    }).append(that._group);\r\n    that._createStates(parameters.eventTrigger, that._group, renderer.root, parameters.notify)\r\n}\r\nLoadingIndicator.prototype = {\r\n    constructor: LoadingIndicator,\r\n    _createStates: function(eventTrigger, group, root, notify) {\r\n        var that = this;\r\n        that._states = [{\r\n            opacity: 0,\r\n            start: function() {\r\n                notify(false)\r\n            },\r\n            complete: function() {\r\n                group.linkRemove();\r\n                root.css({\r\n                    \"pointer-events\": \"\"\r\n                });\r\n                eventTrigger(LOADING_INDICATOR_READY)\r\n            }\r\n        }, {\r\n            opacity: .85,\r\n            start: function() {\r\n                group.linkAppend();\r\n                root.css({\r\n                    \"pointer-events\": \"none\"\r\n                });\r\n                notify(true)\r\n            },\r\n            complete: function() {\r\n                eventTrigger(LOADING_INDICATOR_READY)\r\n            }\r\n        }];\r\n        that._state = STATE_HIDDEN\r\n    },\r\n    setSize: function(size) {\r\n        var width = size.width;\r\n        var height = size.height;\r\n        this._rect.attr({\r\n            width: width,\r\n            height: height\r\n        });\r\n        this._text.attr({\r\n            x: width / 2,\r\n            y: height / 2\r\n        })\r\n    },\r\n    setOptions: function(options) {\r\n        this._rect.attr({\r\n            fill: options.backgroundColor\r\n        });\r\n        this._text.css(_patchFontOptions(options.font)).attr({\r\n            text: options.text,\r\n            \"class\": options.cssClass\r\n        });\r\n        this[options.show ? \"show\" : \"hide\"]()\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        that._group.linkRemove().linkOff();\r\n        that._group = that._rect = that._text = that._states = null\r\n    },\r\n    _transit: function(stateId) {\r\n        var that = this;\r\n        var state;\r\n        if (that._state !== stateId) {\r\n            that._state = stateId;\r\n            that._isHiding = false;\r\n            state = that._states[stateId];\r\n            that._rect.stopAnimation().animate({\r\n                opacity: state.opacity\r\n            }, {\r\n                complete: state.complete,\r\n                easing: ANIMATION_EASING,\r\n                duration: ANIMATION_DURATION,\r\n                unstoppable: true\r\n            });\r\n            that._noHiding = true;\r\n            state.start();\r\n            that._noHiding = false\r\n        }\r\n    },\r\n    show: function() {\r\n        this._transit(STATE_SHOWN)\r\n    },\r\n    hide: function() {\r\n        this._transit(STATE_HIDDEN)\r\n    },\r\n    scheduleHiding: function() {\r\n        if (!this._noHiding) {\r\n            this._isHiding = true\r\n        }\r\n    },\r\n    fulfillHiding: function() {\r\n        if (this._isHiding) {\r\n            this.hide()\r\n        }\r\n    }\r\n};\r\nexports.LoadingIndicator = LoadingIndicator;\r\nexports.plugin = {\r\n    name: \"loading_indicator\",\r\n    init: function() {\r\n        var that = this;\r\n        that._loadingIndicator = new exports.LoadingIndicator({\r\n            eventTrigger: that._eventTrigger,\r\n            renderer: that._renderer,\r\n            notify: notify\r\n        });\r\n        that._scheduleLoadingIndicatorHiding();\r\n\r\n        function notify(state) {\r\n            that._skipLoadingIndicatorOptions = true;\r\n            that.option(\"loadingIndicator\", {\r\n                show: state\r\n            });\r\n            that._skipLoadingIndicatorOptions = false;\r\n            if (state) {\r\n                that._stopCurrentHandling()\r\n            }\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._loadingIndicator.dispose();\r\n        this._loadingIndicator = null\r\n    },\r\n    members: {\r\n        _scheduleLoadingIndicatorHiding: function() {\r\n            this._loadingIndicator.scheduleHiding()\r\n        },\r\n        _fulfillLoadingIndicatorHiding: function() {\r\n            this._loadingIndicator.fulfillHiding()\r\n        },\r\n        showLoadingIndicator: function() {\r\n            this._loadingIndicator.show()\r\n        },\r\n        hideLoadingIndicator: function() {\r\n            this._loadingIndicator.hide()\r\n        },\r\n        _onBeginUpdate: function() {\r\n            if (!this._optionChangedLocker) {\r\n                this._scheduleLoadingIndicatorHiding()\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        _dataSourceLoadingChangedHandler: function(isLoading) {\r\n            if (isLoading && (this._options.loadingIndicator || {}).enabled) {\r\n                this._loadingIndicator.show()\r\n            }\r\n        },\r\n        _setContentSize: function() {\r\n            this._loadingIndicator.setSize(this._canvas)\r\n        },\r\n        endUpdate: function() {\r\n            if (this._initialized && this._dataIsReady()) {\r\n                this._fulfillLoadingIndicatorHiding()\r\n            }\r\n        }\r\n    },\r\n    customize: function(constructor) {\r\n        var proto = constructor.prototype;\r\n        if (proto._dataSourceChangedHandler) {\r\n            var _dataSourceChangedHandler = proto._dataSourceChangedHandler;\r\n            proto._dataSourceChangedHandler = function() {\r\n                this._scheduleLoadingIndicatorHiding();\r\n                _dataSourceChangedHandler.apply(this, arguments)\r\n            }\r\n        }\r\n        constructor.addChange({\r\n            code: \"LOADING_INDICATOR\",\r\n            handler: function() {\r\n                if (!this._skipLoadingIndicatorOptions) {\r\n                    this._loadingIndicator.setOptions(this._getOption(\"loadingIndicator\"))\r\n                }\r\n                this._scheduleLoadingIndicatorHiding()\r\n            },\r\n            isThemeDependent: true,\r\n            option: \"loadingIndicator\",\r\n            isOptionChange: true\r\n        });\r\n        proto._eventsMap.onLoadingIndicatorReady = {\r\n            name: \"loadingIndicatorReady\"\r\n        };\r\n        var _drawn = proto._drawn;\r\n        proto._drawn = function() {\r\n            _drawn.apply(this, arguments);\r\n            if (this._dataIsReady()) {\r\n                this._fulfillLoadingIndicatorHiding()\r\n            }\r\n        }\r\n    },\r\n    fontFields: [\"loadingIndicator.font\"]\r\n};\r\n"]},"metadata":{},"sourceType":"module"}