{"ast":null,"code":"/**\r\n * DevExtreme (viz/series/scatter_series.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar _extend = require(\"../../core/utils/extend\").extend;\n\nvar inArray = require(\"../../core/utils/array\").inArray;\n\nvar _each = require(\"../../core/utils/iterator\").each;\n\nvar rangeCalculator = require(\"./helpers/range_data_calculator\");\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar vizUtils = require(\"../core/utils\");\n\nvar _noop = require(\"../../core/utils/common\").noop;\n\nvar _isDefined = typeUtils.isDefined;\nvar _isString = typeUtils.isString;\nvar _map = vizUtils.map;\nvar _normalizeEnum = vizUtils.normalizeEnum;\nvar math = Math;\nvar _abs = math.abs;\nvar _sqrt = math.sqrt;\nvar _max = math.max;\nvar DEFAULT_TRACKER_WIDTH = 12;\nvar DEFAULT_DURATION = 400;\nvar HIGH_ERROR = \"highError\";\nvar LOW_ERROR = \"lowError\";\nvar VARIANCE = \"variance\";\nvar STANDARD_DEVIATION = \"stddeviation\";\nvar STANDARD_ERROR = \"stderror\";\nvar PERCENT = \"percent\";\nvar FIXED = \"fixed\";\nvar UNDEFINED = \"undefined\";\nvar DISCRETE = \"discrete\";\nvar LOGARITHMIC = \"logarithmic\";\nvar DATETIME = \"datetime\";\nexports.chart = {};\nexports.polar = {};\n\nfunction sum(array) {\n  var result = 0;\n\n  _each(array, function (_, value) {\n    result += value;\n  });\n\n  return result;\n}\n\nfunction isErrorBarTypeCorrect(type) {\n  return inArray(type, [FIXED, PERCENT, VARIANCE, STANDARD_DEVIATION, STANDARD_ERROR]) !== -1;\n}\n\nfunction variance(array, expectedValue) {\n  return sum(_map(array, function (value) {\n    return (value - expectedValue) * (value - expectedValue);\n  })) / array.length;\n}\n\nfunction calculateAvgErrorBars(result, data, series) {\n  var errorBarsOptions = series.getOptions().valueErrorBar;\n  var valueField = series.getValueFields()[0];\n  var lowValueField = errorBarsOptions.lowValueField || LOW_ERROR;\n  var highValueField = errorBarsOptions.highValueField || HIGH_ERROR;\n\n  if (series.areErrorBarsVisible() && void 0 === errorBarsOptions.type) {\n    var fusionData = data.reduce(function (result, item) {\n      if (_isDefined(item[lowValueField])) {\n        result[0] += item[valueField] - item[lowValueField];\n        result[1]++;\n      }\n\n      if (_isDefined(item[highValueField])) {\n        result[2] += item[highValueField] - item[valueField];\n        result[3]++;\n      }\n\n      return result;\n    }, [0, 0, 0, 0]);\n\n    if (fusionData[1]) {\n      result[lowValueField] = result[valueField] - fusionData[0] / fusionData[1];\n    }\n\n    if (fusionData[2]) {\n      result[highValueField] = result[valueField] + fusionData[2] / fusionData[3];\n    }\n  }\n\n  return result;\n}\n\nfunction calculateSumErrorBars(result, data, series) {\n  var errorBarsOptions = series.getOptions().valueErrorBar;\n  var lowValueField = errorBarsOptions.lowValueField || LOW_ERROR;\n  var highValueField = errorBarsOptions.highValueField || HIGH_ERROR;\n\n  if (series.areErrorBarsVisible() && void 0 === errorBarsOptions.type) {\n    result[lowValueField] = 0;\n    result[highValueField] = 0;\n    result = data.reduce(function (result, item) {\n      result[lowValueField] += item[lowValueField];\n      result[highValueField] += item[highValueField];\n      return result;\n    }, result);\n  }\n\n  return result;\n}\n\nfunction getMinMaxAggregator(compare) {\n  return function (_ref, series) {\n    var intervalStart = _ref.intervalStart,\n        data = _ref.data;\n    var valueField = series.getValueFields()[0];\n    var targetData = data[0];\n    targetData = data.reduce(function (result, item) {\n      var value = item[valueField];\n\n      if (null === result[valueField]) {\n        result = item;\n      }\n\n      if (null !== value && compare(value, result[valueField])) {\n        return item;\n      }\n\n      return result;\n    }, targetData);\n    return _extend({}, targetData, _defineProperty({}, series.getArgumentField(), intervalStart));\n  };\n}\n\nfunction checkFields(data, fieldsToCheck, skippedFields) {\n  var allFieldsIsValid = true;\n\n  for (var field in fieldsToCheck) {\n    var isArgument = \"argument\" === field;\n\n    if (isArgument || \"size\" === field ? !_isDefined(data[field]) : void 0 === data[field]) {\n      var selector = fieldsToCheck[field];\n\n      if (!isArgument) {\n        skippedFields[selector] = (skippedFields[selector] || 0) + 1;\n      }\n\n      allFieldsIsValid = false;\n    }\n  }\n\n  return allFieldsIsValid;\n}\n\nvar baseScatterMethods = {\n  _defaultDuration: DEFAULT_DURATION,\n  _defaultTrackerWidth: DEFAULT_TRACKER_WIDTH,\n  _applyStyle: _noop,\n  _updateOptions: _noop,\n  _parseStyle: _noop,\n  _prepareSegment: _noop,\n  _drawSegment: _noop,\n  _appendInGroup: function _appendInGroup() {\n    this._group.append(this._extGroups.seriesGroup);\n  },\n  _createLegendState: function _createLegendState(styleOptions, defaultColor) {\n    return {\n      fill: styleOptions.color || defaultColor,\n      hatching: styleOptions.hatching ? _extend({}, styleOptions.hatching, {\n        direction: \"right\"\n      }) : void 0\n    };\n  },\n  _applyElementsClipRect: function _applyElementsClipRect(settings) {\n    settings[\"clip-path\"] = this._paneClipRectID;\n  },\n  _applyMarkerClipRect: function _applyMarkerClipRect(settings) {\n    settings[\"clip-path\"] = this._forceClipping ? this._paneClipRectID : null;\n  },\n  _createGroup: function _createGroup(groupName, parent, target, settings) {\n    var group = parent[groupName] = parent[groupName] || this._renderer.g();\n\n    target && group.append(target);\n    settings && group.attr(settings);\n  },\n  _applyClearingSettings: function _applyClearingSettings(settings) {\n    settings.opacity = null;\n    settings.scale = null;\n\n    if (this._options.rotated) {\n      settings.translateX = null;\n    } else {\n      settings.translateY = null;\n    }\n  },\n  _createGroups: function _createGroups() {\n    var that = this;\n\n    that._createGroup(\"_markersGroup\", that, that._group);\n\n    that._createGroup(\"_labelsGroup\", that);\n  },\n  _setMarkerGroupSettings: function _setMarkerGroupSettings() {\n    var that = this;\n\n    var settings = that._createPointStyles(that._getMarkerGroupOptions()).normal;\n\n    settings.class = \"dxc-markers\";\n    settings.opacity = 1;\n\n    that._applyMarkerClipRect(settings);\n\n    that._markersGroup.attr(settings);\n  },\n  getVisibleArea: function getVisibleArea() {\n    return this._visibleArea;\n  },\n  areErrorBarsVisible: function areErrorBarsVisible() {\n    var errorBarOptions = this._options.valueErrorBar;\n    return errorBarOptions && this._errorBarsEnabled() && \"none\" !== errorBarOptions.displayMode && (isErrorBarTypeCorrect(_normalizeEnum(errorBarOptions.type)) || _isDefined(errorBarOptions.lowValueField) || _isDefined(errorBarOptions.highValueField));\n  },\n  groupPointsByCoords: function groupPointsByCoords(rotated) {\n    var cat = [];\n\n    _each(this.getVisiblePoints(), function (_, p) {\n      var pointCoord = parseInt(rotated ? p.vy : p.vx);\n\n      if (!cat[pointCoord]) {\n        cat[pointCoord] = p;\n      } else {\n        Array.isArray(cat[pointCoord]) ? cat[pointCoord].push(p) : cat[pointCoord] = [cat[pointCoord], p];\n      }\n    });\n\n    return cat;\n  },\n  _createErrorBarGroup: function _createErrorBarGroup(animationEnabled) {\n    var that = this;\n    var errorBarOptions = that._options.valueErrorBar;\n    var settings;\n\n    if (that.areErrorBarsVisible()) {\n      settings = {\n        \"class\": \"dxc-error-bars\",\n        stroke: errorBarOptions.color,\n        \"stroke-width\": errorBarOptions.lineWidth,\n        opacity: animationEnabled ? .001 : errorBarOptions.opacity || 1,\n        \"stroke-linecap\": \"square\",\n        sharp: true,\n        \"clip-path\": that._forceClipping ? that._paneClipRectID : that._widePaneClipRectID\n      };\n\n      that._createGroup(\"_errorBarGroup\", that, that._group, settings);\n    }\n  },\n  _setGroupsSettings: function _setGroupsSettings(animationEnabled) {\n    var that = this;\n\n    that._setMarkerGroupSettings();\n\n    that._setLabelGroupSettings(animationEnabled);\n\n    that._createErrorBarGroup(animationEnabled);\n  },\n  _getCreatingPointOptions: function _getCreatingPointOptions() {\n    var that = this;\n    var defaultPointOptions;\n    var creatingPointOptions = that._predefinedPointOptions;\n    var normalStyle;\n\n    if (!creatingPointOptions) {\n      defaultPointOptions = that._getPointOptions();\n      that._predefinedPointOptions = creatingPointOptions = _extend(true, {\n        styles: {}\n      }, defaultPointOptions);\n      normalStyle = defaultPointOptions.styles && defaultPointOptions.styles.normal || {};\n      creatingPointOptions.styles = creatingPointOptions.styles || {};\n      creatingPointOptions.styles.normal = {\n        \"stroke-width\": normalStyle[\"stroke-width\"],\n        r: normalStyle.r,\n        opacity: normalStyle.opacity\n      };\n    }\n\n    return creatingPointOptions;\n  },\n  _getPointOptions: function _getPointOptions() {\n    return this._parsePointOptions(this._preparePointOptions(), this._options.label);\n  },\n  _getOptionsForPoint: function _getOptionsForPoint() {\n    return this._options.point;\n  },\n  _parsePointStyle: function _parsePointStyle(style, defaultColor, defaultBorderColor, defaultSize) {\n    var border = style.border || {};\n    var sizeValue = void 0 !== style.size ? style.size : defaultSize;\n    return {\n      fill: style.color || defaultColor,\n      stroke: border.color || defaultBorderColor,\n      \"stroke-width\": border.visible ? border.width : 0,\n      r: sizeValue / 2 + (border.visible && 0 !== sizeValue ? ~~(border.width / 2) || 0 : 0)\n    };\n  },\n  _createPointStyles: function _createPointStyles(pointOptions) {\n    var that = this;\n    var mainPointColor = pointOptions.color || that._options.mainSeriesColor;\n    var containerColor = that._options.containerBackgroundColor;\n\n    var normalStyle = that._parsePointStyle(pointOptions, mainPointColor, mainPointColor);\n\n    normalStyle.visibility = pointOptions.visible ? \"visible\" : \"hidden\";\n    return {\n      normal: normalStyle,\n      hover: that._parsePointStyle(pointOptions.hoverStyle, containerColor, mainPointColor, pointOptions.size),\n      selection: that._parsePointStyle(pointOptions.selectionStyle, containerColor, mainPointColor, pointOptions.size)\n    };\n  },\n  _checkData: function _checkData(data, skippedFields, fieldsToCheck) {\n    fieldsToCheck = fieldsToCheck || {\n      value: this.getValueFields()[0]\n    };\n    fieldsToCheck.argument = this.getArgumentField();\n    return checkFields(data, fieldsToCheck, skippedFields || {}) && data.value === data.value;\n  },\n  getValueRangeInitialValue: function getValueRangeInitialValue() {\n    return;\n  },\n  _getRangeData: function _getRangeData() {\n    return rangeCalculator.getRangeData(this);\n  },\n  _getPointDataSelector: function _getPointDataSelector() {\n    var _this = this;\n\n    var valueField = this.getValueFields()[0];\n    var argumentField = this.getArgumentField();\n    var tagField = this.getTagField();\n    var areErrorBarsVisible = this.areErrorBarsVisible();\n    var lowValueField;\n    var highValueField;\n\n    if (areErrorBarsVisible) {\n      var errorBarOptions = this._options.valueErrorBar;\n      lowValueField = errorBarOptions.lowValueField || LOW_ERROR;\n      highValueField = errorBarOptions.highValueField || HIGH_ERROR;\n    }\n\n    return function (data) {\n      var pointData = {\n        value: _this._processEmptyValue(data[valueField]),\n        argument: data[argumentField],\n        tag: data[tagField],\n        data: data\n      };\n\n      if (areErrorBarsVisible) {\n        pointData.lowError = data[lowValueField];\n        pointData.highError = data[highValueField];\n      }\n\n      return pointData;\n    };\n  },\n  _errorBarsEnabled: function _errorBarsEnabled() {\n    return this.valueAxisType !== DISCRETE && this.valueAxisType !== LOGARITHMIC && this.valueType !== DATETIME;\n  },\n  _drawPoint: function _drawPoint(options) {\n    var point = options.point;\n\n    if (point.isInVisibleArea()) {\n      point.clearVisibility();\n      point.draw(this._renderer, options.groups, options.hasAnimation, options.firstDrawing);\n\n      this._drawnPoints.push(point);\n    } else {\n      point.setInvisibility();\n    }\n  },\n  _animateComplete: function _animateComplete() {\n    var that = this;\n    var animationSettings = {\n      duration: that._defaultDuration\n    };\n    that._labelsGroup && that._labelsGroup.animate({\n      opacity: 1\n    }, animationSettings);\n    that._errorBarGroup && that._errorBarGroup.animate({\n      opacity: that._options.valueErrorBar.opacity || 1\n    }, animationSettings);\n  },\n  _animate: function _animate() {\n    var that = this;\n    var lastPointIndex = that._drawnPoints.length - 1;\n\n    _each(that._drawnPoints || [], function (i, p) {\n      p.animate(i === lastPointIndex ? function () {\n        that._animateComplete();\n      } : void 0, {\n        translateX: p.x,\n        translateY: p.y\n      });\n    });\n  },\n  _defaultAggregator: \"avg\",\n  _aggregators: {\n    avg: function avg(_ref2, series) {\n      var _calculateAvgErrorBar;\n\n      var data = _ref2.data,\n          intervalStart = _ref2.intervalStart;\n\n      if (!data.length) {\n        return;\n      }\n\n      var valueField = series.getValueFields()[0];\n      var aggregationResult = data.reduce(function (result, item) {\n        var value = item[valueField];\n\n        if (_isDefined(value)) {\n          result[0] += value;\n          result[1]++;\n        } else {\n          if (null === value) {\n            result[2]++;\n          }\n        }\n\n        return result;\n      }, [0, 0, 0]);\n      return calculateAvgErrorBars((_calculateAvgErrorBar = {}, _defineProperty(_calculateAvgErrorBar, valueField, aggregationResult[2] === data.length ? null : aggregationResult[0] / aggregationResult[1]), _defineProperty(_calculateAvgErrorBar, series.getArgumentField(), intervalStart), _calculateAvgErrorBar), data, series);\n    },\n    sum: function sum(_ref3, series) {\n      var _calculateSumErrorBar;\n\n      var intervalStart = _ref3.intervalStart,\n          data = _ref3.data;\n\n      if (!data.length) {\n        return;\n      }\n\n      var valueField = series.getValueFields()[0];\n      var aggregationResult = data.reduce(function (result, item) {\n        var value = item[valueField];\n\n        if (void 0 !== value) {\n          result[0] += value;\n        }\n\n        if (null === value) {\n          result[1]++;\n        } else {\n          if (void 0 === value) {\n            result[2]++;\n          }\n        }\n\n        return result;\n      }, [0, 0, 0]);\n      var value = aggregationResult[0];\n\n      if (aggregationResult[1] === data.length) {\n        value = null;\n      }\n\n      if (aggregationResult[2] === data.length) {\n        return;\n      }\n\n      return calculateSumErrorBars((_calculateSumErrorBar = {}, _defineProperty(_calculateSumErrorBar, valueField, value), _defineProperty(_calculateSumErrorBar, series.getArgumentField(), intervalStart), _calculateSumErrorBar), data, series);\n    },\n    count: function count(_ref4, series) {\n      var _ref5;\n\n      var data = _ref4.data,\n          intervalStart = _ref4.intervalStart;\n      var valueField = series.getValueFields()[0];\n      return _ref5 = {}, _defineProperty(_ref5, series.getArgumentField(), intervalStart), _defineProperty(_ref5, valueField, data.filter(function (i) {\n        return void 0 !== i[valueField];\n      }).length), _ref5;\n    },\n    min: getMinMaxAggregator(function (a, b) {\n      return a < b;\n    }),\n    max: getMinMaxAggregator(function (a, b) {\n      return a > b;\n    })\n  },\n  _endUpdateData: function _endUpdateData() {\n    delete this._predefinedPointOptions;\n  },\n  getArgumentField: function getArgumentField() {\n    return this._options.argumentField || \"arg\";\n  },\n  getValueFields: function getValueFields() {\n    var options = this._options;\n    var errorBarsOptions = options.valueErrorBar;\n    var valueFields = [options.valueField || \"val\"];\n    var lowValueField;\n    var highValueField;\n\n    if (errorBarsOptions) {\n      lowValueField = errorBarsOptions.lowValueField;\n      highValueField = errorBarsOptions.highValueField;\n      _isString(lowValueField) && valueFields.push(lowValueField);\n      _isString(highValueField) && valueFields.push(highValueField);\n    }\n\n    return valueFields;\n  },\n  _calculateErrorBars: function _calculateErrorBars(data) {\n    if (!this.areErrorBarsVisible()) {\n      return;\n    }\n\n    var that = this;\n    var options = that._options;\n    var errorBarsOptions = options.valueErrorBar;\n\n    var errorBarType = _normalizeEnum(errorBarsOptions.type);\n\n    var floatErrorValue = parseFloat(errorBarsOptions.value);\n    var valueField = that.getValueFields()[0];\n    var value;\n    var lowValueField = errorBarsOptions.lowValueField || LOW_ERROR;\n    var highValueField = errorBarsOptions.highValueField || HIGH_ERROR;\n    var valueArray;\n    var valueArrayLength;\n    var meanValue;\n    var processDataItem;\n\n    var addSubError = function addSubError(_i, item) {\n      value = item.value;\n      item.lowError = value - floatErrorValue;\n      item.highError = value + floatErrorValue;\n    };\n\n    switch (errorBarType) {\n      case FIXED:\n        processDataItem = addSubError;\n        break;\n\n      case PERCENT:\n        processDataItem = function processDataItem(_, item) {\n          value = item.value;\n          var error = value * floatErrorValue / 100;\n          item.lowError = value - error;\n          item.highError = value + error;\n        };\n\n        break;\n\n      case UNDEFINED:\n        processDataItem = function processDataItem(_, item) {\n          item.lowError = item.data[lowValueField];\n          item.highError = item.data[highValueField];\n        };\n\n        break;\n\n      default:\n        valueArray = _map(data, function (item) {\n          return _isDefined(item.data[valueField]) ? item.data[valueField] : null;\n        });\n        valueArrayLength = valueArray.length;\n        floatErrorValue = floatErrorValue || 1;\n\n        switch (errorBarType) {\n          case VARIANCE:\n            floatErrorValue = variance(valueArray, sum(valueArray) / valueArrayLength) * floatErrorValue;\n            processDataItem = addSubError;\n            break;\n\n          case STANDARD_DEVIATION:\n            meanValue = sum(valueArray) / valueArrayLength;\n            floatErrorValue = _sqrt(variance(valueArray, meanValue)) * floatErrorValue;\n\n            processDataItem = function processDataItem(_, item) {\n              item.lowError = meanValue - floatErrorValue;\n              item.highError = meanValue + floatErrorValue;\n            };\n\n            break;\n\n          case STANDARD_ERROR:\n            floatErrorValue = _sqrt(variance(valueArray, sum(valueArray) / valueArrayLength) / valueArrayLength) * floatErrorValue;\n            processDataItem = addSubError;\n        }\n\n    }\n\n    processDataItem && _each(data, processDataItem);\n  },\n  _patchMarginOptions: function _patchMarginOptions(options) {\n    var pointOptions = this._getCreatingPointOptions();\n\n    var styles = pointOptions.styles;\n    var maxSize = [styles.normal, styles.hover, styles.selection].reduce(function (max, style) {\n      return _max(max, 2 * style.r + style[\"stroke-width\"]);\n    }, 0);\n    options.size = pointOptions.visible ? maxSize : 0;\n    options.sizePointNormalState = pointOptions.visible ? 2 * styles.normal.r + styles.normal[\"stroke-width\"] : 2;\n    return options;\n  },\n  usePointsToDefineAutoHiding: function usePointsToDefineAutoHiding() {\n    return true;\n  }\n};\nexports.chart = _extend({}, baseScatterMethods, {\n  drawTrackers: function drawTrackers() {\n    var that = this;\n    var trackers;\n    var trackersGroup;\n    var segments = that._segments || [];\n    var rotated = that._options.rotated;\n\n    if (!that.isVisible()) {\n      return;\n    }\n\n    if (segments.length) {\n      trackers = that._trackers = that._trackers || [];\n      trackersGroup = that._trackersGroup = (that._trackersGroup || that._renderer.g().attr({\n        fill: \"gray\",\n        opacity: .001,\n        stroke: \"gray\",\n        \"class\": \"dxc-trackers\"\n      })).attr({\n        \"clip-path\": this._paneClipRectID || null\n      }).append(that._group);\n\n      _each(segments, function (i, segment) {\n        if (!trackers[i]) {\n          trackers[i] = that._drawTrackerElement(segment).data({\n            \"chart-data-series\": that\n          }).append(trackersGroup);\n        } else {\n          that._updateTrackerElement(segment, trackers[i]);\n        }\n      });\n    }\n\n    that._trackersTranslator = that.groupPointsByCoords(rotated);\n  },\n  checkAxisVisibleAreaCoord: function checkAxisVisibleAreaCoord(isArgument, coord) {\n    var axis = isArgument ? this.getArgumentAxis() : this.getValueAxis();\n    var visibleArea = axis.getVisibleArea();\n    return _isDefined(coord) && visibleArea[0] <= coord && visibleArea[1] >= coord;\n  },\n  checkSeriesViewportCoord: function checkSeriesViewportCoord(axis, coord) {\n    return true;\n  },\n  getSeriesPairCoord: function getSeriesPairCoord(coord, isArgument) {\n    var oppositeCoord = null;\n    var isOpposite = !isArgument && !this._options.rotated || isArgument && this._options.rotated;\n    var coordName = !isOpposite ? \"vx\" : \"vy\";\n    var oppositeCoordName = !isOpposite ? \"vy\" : \"vx\";\n    var points = this.getVisiblePoints();\n\n    for (var i = 0; i < points.length; i++) {\n      var p = points[i];\n      var tmpCoord = p[coordName] === coord ? p[oppositeCoordName] : void 0;\n\n      if (this.checkAxisVisibleAreaCoord(!isArgument, tmpCoord)) {\n        oppositeCoord = tmpCoord;\n        break;\n      }\n    }\n\n    return oppositeCoord;\n  },\n  getNearestPointsByCoord: function getNearestPointsByCoord(coord, isArgument) {\n    var that = this;\n    var rotated = that.getOptions().rotated;\n    var isOpposite = !isArgument && !rotated || isArgument && rotated;\n    var coordName = isOpposite ? \"vy\" : \"vx\";\n    var points = that.getVisiblePoints();\n    var allPoints = that.getPoints();\n    var nearestPoints = [];\n\n    if (that.isVisible() && allPoints.length > 0) {\n      if (allPoints.length > 1) {\n        that.findNeighborPointsByCoord(coord, coordName, points.slice(0), allPoints, function (point, nextPoint) {\n          nearestPoints.push([point, nextPoint]);\n        });\n      } else {\n        if (allPoints[0][coordName] === coord) {\n          nearestPoints.push([allPoints[0], allPoints[0]]);\n        }\n      }\n    }\n\n    return nearestPoints;\n  },\n  findNeighborPointsByCoord: function findNeighborPointsByCoord(coord, coordName, points, allPoints, pushNeighborPoints) {\n    var searchPoints = allPoints;\n\n    if (points.length > 0) {\n      points.splice(0, 0, allPoints[allPoints.indexOf(points[0]) - 1]);\n      points.splice(points.length, 0, allPoints[allPoints.indexOf(points[points.length - 1]) + 1]);\n      searchPoints = points;\n    }\n\n    searchPoints.forEach(function (p, i) {\n      var np = searchPoints[i + 1];\n\n      if (p && np && (p[coordName] <= coord && np[coordName] >= coord || p[coordName] >= coord && np[coordName] <= coord)) {\n        pushNeighborPoints(p, np);\n      }\n    });\n  },\n  getNeighborPoint: function getNeighborPoint(x, y) {\n    var pCoord = this._options.rotated ? y : x;\n    var nCoord = pCoord;\n    var cat = this._trackersTranslator;\n    var point = null;\n    var minDistance;\n    var oppositeCoord = this._options.rotated ? x : y;\n    var oppositeCoordName = this._options.rotated ? \"vx\" : \"vy\";\n\n    if (this.isVisible() && cat) {\n      point = cat[pCoord];\n\n      do {\n        point = cat[nCoord] || cat[pCoord];\n        pCoord--;\n        nCoord++;\n      } while ((pCoord >= 0 || nCoord < cat.length) && !point);\n\n      if (Array.isArray(point)) {\n        minDistance = _abs(point[0][oppositeCoordName] - oppositeCoord);\n\n        _each(point, function (i, p) {\n          var distance = _abs(p[oppositeCoordName] - oppositeCoord);\n\n          if (minDistance >= distance) {\n            minDistance = distance;\n            point = p;\n          }\n        });\n      }\n    }\n\n    return point;\n  },\n  _applyVisibleArea: function _applyVisibleArea() {\n    var that = this;\n    var rotated = that._options.rotated;\n    var visibleX = (rotated ? that.getValueAxis() : that.getArgumentAxis()).getVisibleArea();\n    var visibleY = (rotated ? that.getArgumentAxis() : that.getValueAxis()).getVisibleArea();\n    that._visibleArea = {\n      minX: visibleX[0],\n      maxX: visibleX[1],\n      minY: visibleY[0],\n      maxY: visibleY[1]\n    };\n  },\n  getPointCenterByArg: function getPointCenterByArg(arg) {\n    var point = this.getPointsByArg(arg)[0];\n    return point ? point.getCenterCoord() : void 0;\n  }\n});\nexports.polar = _extend({}, baseScatterMethods, {\n  drawTrackers: function drawTrackers() {\n    exports.chart.drawTrackers.call(this);\n    var cat = this._trackersTranslator;\n    var index;\n\n    if (!this.isVisible()) {\n      return;\n    }\n\n    _each(cat, function (i, category) {\n      if (category) {\n        index = i;\n        return false;\n      }\n    });\n\n    cat[index + 360] = cat[index];\n  },\n  getNeighborPoint: function getNeighborPoint(x, y) {\n    var pos = vizUtils.convertXYToPolar(this.getValueAxis().getCenter(), x, y);\n    return exports.chart.getNeighborPoint.call(this, pos.phi, pos.r);\n  },\n  _applyVisibleArea: function _applyVisibleArea() {\n    var that = this;\n    var canvas = that.getValueAxis().getCanvas();\n    that._visibleArea = {\n      minX: canvas.left,\n      maxX: canvas.width - canvas.right,\n      minY: canvas.top,\n      maxY: canvas.height - canvas.bottom\n    };\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/series/scatter_series.js"],"names":["key","Object","value","enumerable","configurable","writable","obj","_extend","require","inArray","_each","rangeCalculator","typeUtils","vizUtils","_noop","_isDefined","_isString","_map","_normalizeEnum","math","_abs","_sqrt","_max","DEFAULT_TRACKER_WIDTH","DEFAULT_DURATION","HIGH_ERROR","LOW_ERROR","VARIANCE","STANDARD_DEVIATION","STANDARD_ERROR","PERCENT","FIXED","UNDEFINED","DISCRETE","LOGARITHMIC","DATETIME","exports","result","array","errorBarsOptions","series","valueField","lowValueField","highValueField","fusionData","item","intervalStart","_ref","data","targetData","compare","_defineProperty","allFieldsIsValid","isArgument","selector","fieldsToCheck","skippedFields","baseScatterMethods","_defaultDuration","_defaultTrackerWidth","_applyStyle","_updateOptions","_parseStyle","_prepareSegment","_drawSegment","_appendInGroup","_createLegendState","fill","styleOptions","hatching","direction","_applyElementsClipRect","settings","_applyMarkerClipRect","_createGroup","group","parent","target","_applyClearingSettings","_createGroups","that","_setMarkerGroupSettings","getVisibleArea","areErrorBarsVisible","errorBarOptions","isErrorBarTypeCorrect","groupPointsByCoords","cat","pointCoord","parseInt","rotated","p","Array","_createErrorBarGroup","stroke","opacity","animationEnabled","sharp","_widePaneClipRectID","_setGroupsSettings","_getCreatingPointOptions","creatingPointOptions","defaultPointOptions","styles","normalStyle","r","_getPointOptions","_getOptionsForPoint","_parsePointStyle","border","style","sizeValue","_createPointStyles","mainPointColor","pointOptions","containerColor","normal","hover","selection","_checkData","checkFields","getValueRangeInitialValue","_getRangeData","_getPointDataSelector","_this","argumentField","tagField","pointData","argument","tag","_errorBarsEnabled","_drawPoint","point","options","_animateComplete","animationSettings","duration","_animate","lastPointIndex","translateX","translateY","y","_defaultAggregator","_aggregators","avg","_ref2","aggregationResult","calculateAvgErrorBars","_calculateAvgErrorBar","sum","_ref3","calculateSumErrorBars","_calculateSumErrorBar","count","_ref4","_ref5","i","min","getMinMaxAggregator","a","max","_endUpdateData","getArgumentField","getValueFields","valueFields","_calculateErrorBars","errorBarType","floatErrorValue","parseFloat","addSubError","processDataItem","error","valueArray","valueArrayLength","variance","meanValue","_patchMarginOptions","maxSize","usePointsToDefineAutoHiding","drawTrackers","segments","trackers","trackersGroup","checkAxisVisibleAreaCoord","axis","visibleArea","checkSeriesViewportCoord","getSeriesPairCoord","oppositeCoord","isOpposite","coordName","oppositeCoordName","points","tmpCoord","getNearestPointsByCoord","allPoints","nearestPoints","findNeighborPointsByCoord","searchPoints","np","pushNeighborPoints","getNeighborPoint","pCoord","nCoord","minDistance","distance","_applyVisibleArea","visibleX","visibleY","minX","maxX","minY","maxY","getPointCenterByArg","index","pos","canvas","bottom"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/series/scatter_series.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\nvar _extend = require(\"../../core/utils/extend\").extend;\r\nvar inArray = require(\"../../core/utils/array\").inArray;\r\nvar _each = require(\"../../core/utils/iterator\").each;\r\nvar rangeCalculator = require(\"./helpers/range_data_calculator\");\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar vizUtils = require(\"../core/utils\");\r\nvar _noop = require(\"../../core/utils/common\").noop;\r\nvar _isDefined = typeUtils.isDefined;\r\nvar _isString = typeUtils.isString;\r\nvar _map = vizUtils.map;\r\nvar _normalizeEnum = vizUtils.normalizeEnum;\r\nvar math = Math;\r\nvar _abs = math.abs;\r\nvar _sqrt = math.sqrt;\r\nvar _max = math.max;\r\nvar DEFAULT_TRACKER_WIDTH = 12;\r\nvar DEFAULT_DURATION = 400;\r\nvar HIGH_ERROR = \"highError\";\r\nvar LOW_ERROR = \"lowError\";\r\nvar VARIANCE = \"variance\";\r\nvar STANDARD_DEVIATION = \"stddeviation\";\r\nvar STANDARD_ERROR = \"stderror\";\r\nvar PERCENT = \"percent\";\r\nvar FIXED = \"fixed\";\r\nvar UNDEFINED = \"undefined\";\r\nvar DISCRETE = \"discrete\";\r\nvar LOGARITHMIC = \"logarithmic\";\r\nvar DATETIME = \"datetime\";\r\nexports.chart = {};\r\nexports.polar = {};\r\n\r\nfunction sum(array) {\r\n    var result = 0;\r\n    _each(array, function(_, value) {\r\n        result += value\r\n    });\r\n    return result\r\n}\r\n\r\nfunction isErrorBarTypeCorrect(type) {\r\n    return inArray(type, [FIXED, PERCENT, VARIANCE, STANDARD_DEVIATION, STANDARD_ERROR]) !== -1\r\n}\r\n\r\nfunction variance(array, expectedValue) {\r\n    return sum(_map(array, function(value) {\r\n        return (value - expectedValue) * (value - expectedValue)\r\n    })) / array.length\r\n}\r\n\r\nfunction calculateAvgErrorBars(result, data, series) {\r\n    var errorBarsOptions = series.getOptions().valueErrorBar;\r\n    var valueField = series.getValueFields()[0];\r\n    var lowValueField = errorBarsOptions.lowValueField || LOW_ERROR;\r\n    var highValueField = errorBarsOptions.highValueField || HIGH_ERROR;\r\n    if (series.areErrorBarsVisible() && void 0 === errorBarsOptions.type) {\r\n        var fusionData = data.reduce(function(result, item) {\r\n            if (_isDefined(item[lowValueField])) {\r\n                result[0] += item[valueField] - item[lowValueField];\r\n                result[1]++\r\n            }\r\n            if (_isDefined(item[highValueField])) {\r\n                result[2] += item[highValueField] - item[valueField];\r\n                result[3]++\r\n            }\r\n            return result\r\n        }, [0, 0, 0, 0]);\r\n        if (fusionData[1]) {\r\n            result[lowValueField] = result[valueField] - fusionData[0] / fusionData[1]\r\n        }\r\n        if (fusionData[2]) {\r\n            result[highValueField] = result[valueField] + fusionData[2] / fusionData[3]\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\nfunction calculateSumErrorBars(result, data, series) {\r\n    var errorBarsOptions = series.getOptions().valueErrorBar;\r\n    var lowValueField = errorBarsOptions.lowValueField || LOW_ERROR;\r\n    var highValueField = errorBarsOptions.highValueField || HIGH_ERROR;\r\n    if (series.areErrorBarsVisible() && void 0 === errorBarsOptions.type) {\r\n        result[lowValueField] = 0;\r\n        result[highValueField] = 0;\r\n        result = data.reduce(function(result, item) {\r\n            result[lowValueField] += item[lowValueField];\r\n            result[highValueField] += item[highValueField];\r\n            return result\r\n        }, result)\r\n    }\r\n    return result\r\n}\r\n\r\nfunction getMinMaxAggregator(compare) {\r\n    return function(_ref, series) {\r\n        var intervalStart = _ref.intervalStart,\r\n            data = _ref.data;\r\n        var valueField = series.getValueFields()[0];\r\n        var targetData = data[0];\r\n        targetData = data.reduce(function(result, item) {\r\n            var value = item[valueField];\r\n            if (null === result[valueField]) {\r\n                result = item\r\n            }\r\n            if (null !== value && compare(value, result[valueField])) {\r\n                return item\r\n            }\r\n            return result\r\n        }, targetData);\r\n        return _extend({}, targetData, _defineProperty({}, series.getArgumentField(), intervalStart))\r\n    }\r\n}\r\n\r\nfunction checkFields(data, fieldsToCheck, skippedFields) {\r\n    var allFieldsIsValid = true;\r\n    for (var field in fieldsToCheck) {\r\n        var isArgument = \"argument\" === field;\r\n        if (isArgument || \"size\" === field ? !_isDefined(data[field]) : void 0 === data[field]) {\r\n            var selector = fieldsToCheck[field];\r\n            if (!isArgument) {\r\n                skippedFields[selector] = (skippedFields[selector] || 0) + 1\r\n            }\r\n            allFieldsIsValid = false\r\n        }\r\n    }\r\n    return allFieldsIsValid\r\n}\r\nvar baseScatterMethods = {\r\n    _defaultDuration: DEFAULT_DURATION,\r\n    _defaultTrackerWidth: DEFAULT_TRACKER_WIDTH,\r\n    _applyStyle: _noop,\r\n    _updateOptions: _noop,\r\n    _parseStyle: _noop,\r\n    _prepareSegment: _noop,\r\n    _drawSegment: _noop,\r\n    _appendInGroup: function() {\r\n        this._group.append(this._extGroups.seriesGroup)\r\n    },\r\n    _createLegendState: function(styleOptions, defaultColor) {\r\n        return {\r\n            fill: styleOptions.color || defaultColor,\r\n            hatching: styleOptions.hatching ? _extend({}, styleOptions.hatching, {\r\n                direction: \"right\"\r\n            }) : void 0\r\n        }\r\n    },\r\n    _applyElementsClipRect: function(settings) {\r\n        settings[\"clip-path\"] = this._paneClipRectID\r\n    },\r\n    _applyMarkerClipRect: function(settings) {\r\n        settings[\"clip-path\"] = this._forceClipping ? this._paneClipRectID : null\r\n    },\r\n    _createGroup: function(groupName, parent, target, settings) {\r\n        var group = parent[groupName] = parent[groupName] || this._renderer.g();\r\n        target && group.append(target);\r\n        settings && group.attr(settings)\r\n    },\r\n    _applyClearingSettings: function(settings) {\r\n        settings.opacity = null;\r\n        settings.scale = null;\r\n        if (this._options.rotated) {\r\n            settings.translateX = null\r\n        } else {\r\n            settings.translateY = null\r\n        }\r\n    },\r\n    _createGroups: function() {\r\n        var that = this;\r\n        that._createGroup(\"_markersGroup\", that, that._group);\r\n        that._createGroup(\"_labelsGroup\", that)\r\n    },\r\n    _setMarkerGroupSettings: function() {\r\n        var that = this;\r\n        var settings = that._createPointStyles(that._getMarkerGroupOptions()).normal;\r\n        settings.class = \"dxc-markers\";\r\n        settings.opacity = 1;\r\n        that._applyMarkerClipRect(settings);\r\n        that._markersGroup.attr(settings)\r\n    },\r\n    getVisibleArea: function() {\r\n        return this._visibleArea\r\n    },\r\n    areErrorBarsVisible: function() {\r\n        var errorBarOptions = this._options.valueErrorBar;\r\n        return errorBarOptions && this._errorBarsEnabled() && \"none\" !== errorBarOptions.displayMode && (isErrorBarTypeCorrect(_normalizeEnum(errorBarOptions.type)) || _isDefined(errorBarOptions.lowValueField) || _isDefined(errorBarOptions.highValueField))\r\n    },\r\n    groupPointsByCoords: function(rotated) {\r\n        var cat = [];\r\n        _each(this.getVisiblePoints(), function(_, p) {\r\n            var pointCoord = parseInt(rotated ? p.vy : p.vx);\r\n            if (!cat[pointCoord]) {\r\n                cat[pointCoord] = p\r\n            } else {\r\n                Array.isArray(cat[pointCoord]) ? cat[pointCoord].push(p) : cat[pointCoord] = [cat[pointCoord], p]\r\n            }\r\n        });\r\n        return cat\r\n    },\r\n    _createErrorBarGroup: function(animationEnabled) {\r\n        var that = this;\r\n        var errorBarOptions = that._options.valueErrorBar;\r\n        var settings;\r\n        if (that.areErrorBarsVisible()) {\r\n            settings = {\r\n                \"class\": \"dxc-error-bars\",\r\n                stroke: errorBarOptions.color,\r\n                \"stroke-width\": errorBarOptions.lineWidth,\r\n                opacity: animationEnabled ? .001 : errorBarOptions.opacity || 1,\r\n                \"stroke-linecap\": \"square\",\r\n                sharp: true,\r\n                \"clip-path\": that._forceClipping ? that._paneClipRectID : that._widePaneClipRectID\r\n            };\r\n            that._createGroup(\"_errorBarGroup\", that, that._group, settings)\r\n        }\r\n    },\r\n    _setGroupsSettings: function(animationEnabled) {\r\n        var that = this;\r\n        that._setMarkerGroupSettings();\r\n        that._setLabelGroupSettings(animationEnabled);\r\n        that._createErrorBarGroup(animationEnabled)\r\n    },\r\n    _getCreatingPointOptions: function() {\r\n        var that = this;\r\n        var defaultPointOptions;\r\n        var creatingPointOptions = that._predefinedPointOptions;\r\n        var normalStyle;\r\n        if (!creatingPointOptions) {\r\n            defaultPointOptions = that._getPointOptions();\r\n            that._predefinedPointOptions = creatingPointOptions = _extend(true, {\r\n                styles: {}\r\n            }, defaultPointOptions);\r\n            normalStyle = defaultPointOptions.styles && defaultPointOptions.styles.normal || {};\r\n            creatingPointOptions.styles = creatingPointOptions.styles || {};\r\n            creatingPointOptions.styles.normal = {\r\n                \"stroke-width\": normalStyle[\"stroke-width\"],\r\n                r: normalStyle.r,\r\n                opacity: normalStyle.opacity\r\n            }\r\n        }\r\n        return creatingPointOptions\r\n    },\r\n    _getPointOptions: function() {\r\n        return this._parsePointOptions(this._preparePointOptions(), this._options.label)\r\n    },\r\n    _getOptionsForPoint: function() {\r\n        return this._options.point\r\n    },\r\n    _parsePointStyle: function(style, defaultColor, defaultBorderColor, defaultSize) {\r\n        var border = style.border || {};\r\n        var sizeValue = void 0 !== style.size ? style.size : defaultSize;\r\n        return {\r\n            fill: style.color || defaultColor,\r\n            stroke: border.color || defaultBorderColor,\r\n            \"stroke-width\": border.visible ? border.width : 0,\r\n            r: sizeValue / 2 + (border.visible && 0 !== sizeValue ? ~~(border.width / 2) || 0 : 0)\r\n        }\r\n    },\r\n    _createPointStyles: function(pointOptions) {\r\n        var that = this;\r\n        var mainPointColor = pointOptions.color || that._options.mainSeriesColor;\r\n        var containerColor = that._options.containerBackgroundColor;\r\n        var normalStyle = that._parsePointStyle(pointOptions, mainPointColor, mainPointColor);\r\n        normalStyle.visibility = pointOptions.visible ? \"visible\" : \"hidden\";\r\n        return {\r\n            normal: normalStyle,\r\n            hover: that._parsePointStyle(pointOptions.hoverStyle, containerColor, mainPointColor, pointOptions.size),\r\n            selection: that._parsePointStyle(pointOptions.selectionStyle, containerColor, mainPointColor, pointOptions.size)\r\n        }\r\n    },\r\n    _checkData: function(data, skippedFields, fieldsToCheck) {\r\n        fieldsToCheck = fieldsToCheck || {\r\n            value: this.getValueFields()[0]\r\n        };\r\n        fieldsToCheck.argument = this.getArgumentField();\r\n        return checkFields(data, fieldsToCheck, skippedFields || {}) && data.value === data.value\r\n    },\r\n    getValueRangeInitialValue: function() {\r\n        return\r\n    },\r\n    _getRangeData: function() {\r\n        return rangeCalculator.getRangeData(this)\r\n    },\r\n    _getPointDataSelector: function() {\r\n        var _this = this;\r\n        var valueField = this.getValueFields()[0];\r\n        var argumentField = this.getArgumentField();\r\n        var tagField = this.getTagField();\r\n        var areErrorBarsVisible = this.areErrorBarsVisible();\r\n        var lowValueField;\r\n        var highValueField;\r\n        if (areErrorBarsVisible) {\r\n            var errorBarOptions = this._options.valueErrorBar;\r\n            lowValueField = errorBarOptions.lowValueField || LOW_ERROR;\r\n            highValueField = errorBarOptions.highValueField || HIGH_ERROR\r\n        }\r\n        return function(data) {\r\n            var pointData = {\r\n                value: _this._processEmptyValue(data[valueField]),\r\n                argument: data[argumentField],\r\n                tag: data[tagField],\r\n                data: data\r\n            };\r\n            if (areErrorBarsVisible) {\r\n                pointData.lowError = data[lowValueField];\r\n                pointData.highError = data[highValueField]\r\n            }\r\n            return pointData\r\n        }\r\n    },\r\n    _errorBarsEnabled: function() {\r\n        return this.valueAxisType !== DISCRETE && this.valueAxisType !== LOGARITHMIC && this.valueType !== DATETIME\r\n    },\r\n    _drawPoint: function(options) {\r\n        var point = options.point;\r\n        if (point.isInVisibleArea()) {\r\n            point.clearVisibility();\r\n            point.draw(this._renderer, options.groups, options.hasAnimation, options.firstDrawing);\r\n            this._drawnPoints.push(point)\r\n        } else {\r\n            point.setInvisibility()\r\n        }\r\n    },\r\n    _animateComplete: function() {\r\n        var that = this;\r\n        var animationSettings = {\r\n            duration: that._defaultDuration\r\n        };\r\n        that._labelsGroup && that._labelsGroup.animate({\r\n            opacity: 1\r\n        }, animationSettings);\r\n        that._errorBarGroup && that._errorBarGroup.animate({\r\n            opacity: that._options.valueErrorBar.opacity || 1\r\n        }, animationSettings)\r\n    },\r\n    _animate: function() {\r\n        var that = this;\r\n        var lastPointIndex = that._drawnPoints.length - 1;\r\n        _each(that._drawnPoints || [], function(i, p) {\r\n            p.animate(i === lastPointIndex ? function() {\r\n                that._animateComplete()\r\n            } : void 0, {\r\n                translateX: p.x,\r\n                translateY: p.y\r\n            })\r\n        })\r\n    },\r\n    _defaultAggregator: \"avg\",\r\n    _aggregators: {\r\n        avg: function(_ref2, series) {\r\n            var _calculateAvgErrorBar;\r\n            var data = _ref2.data,\r\n                intervalStart = _ref2.intervalStart;\r\n            if (!data.length) {\r\n                return\r\n            }\r\n            var valueField = series.getValueFields()[0];\r\n            var aggregationResult = data.reduce(function(result, item) {\r\n                var value = item[valueField];\r\n                if (_isDefined(value)) {\r\n                    result[0] += value;\r\n                    result[1]++\r\n                } else {\r\n                    if (null === value) {\r\n                        result[2]++\r\n                    }\r\n                }\r\n                return result\r\n            }, [0, 0, 0]);\r\n            return calculateAvgErrorBars((_calculateAvgErrorBar = {}, _defineProperty(_calculateAvgErrorBar, valueField, aggregationResult[2] === data.length ? null : aggregationResult[0] / aggregationResult[1]), _defineProperty(_calculateAvgErrorBar, series.getArgumentField(), intervalStart), _calculateAvgErrorBar), data, series)\r\n        },\r\n        sum: function(_ref3, series) {\r\n            var _calculateSumErrorBar;\r\n            var intervalStart = _ref3.intervalStart,\r\n                data = _ref3.data;\r\n            if (!data.length) {\r\n                return\r\n            }\r\n            var valueField = series.getValueFields()[0];\r\n            var aggregationResult = data.reduce(function(result, item) {\r\n                var value = item[valueField];\r\n                if (void 0 !== value) {\r\n                    result[0] += value\r\n                }\r\n                if (null === value) {\r\n                    result[1]++\r\n                } else {\r\n                    if (void 0 === value) {\r\n                        result[2]++\r\n                    }\r\n                }\r\n                return result\r\n            }, [0, 0, 0]);\r\n            var value = aggregationResult[0];\r\n            if (aggregationResult[1] === data.length) {\r\n                value = null\r\n            }\r\n            if (aggregationResult[2] === data.length) {\r\n                return\r\n            }\r\n            return calculateSumErrorBars((_calculateSumErrorBar = {}, _defineProperty(_calculateSumErrorBar, valueField, value), _defineProperty(_calculateSumErrorBar, series.getArgumentField(), intervalStart), _calculateSumErrorBar), data, series)\r\n        },\r\n        count: function(_ref4, series) {\r\n            var _ref5;\r\n            var data = _ref4.data,\r\n                intervalStart = _ref4.intervalStart;\r\n            var valueField = series.getValueFields()[0];\r\n            return _ref5 = {}, _defineProperty(_ref5, series.getArgumentField(), intervalStart), _defineProperty(_ref5, valueField, data.filter(function(i) {\r\n                return void 0 !== i[valueField]\r\n            }).length), _ref5\r\n        },\r\n        min: getMinMaxAggregator(function(a, b) {\r\n            return a < b\r\n        }),\r\n        max: getMinMaxAggregator(function(a, b) {\r\n            return a > b\r\n        })\r\n    },\r\n    _endUpdateData: function() {\r\n        delete this._predefinedPointOptions\r\n    },\r\n    getArgumentField: function() {\r\n        return this._options.argumentField || \"arg\"\r\n    },\r\n    getValueFields: function() {\r\n        var options = this._options;\r\n        var errorBarsOptions = options.valueErrorBar;\r\n        var valueFields = [options.valueField || \"val\"];\r\n        var lowValueField;\r\n        var highValueField;\r\n        if (errorBarsOptions) {\r\n            lowValueField = errorBarsOptions.lowValueField;\r\n            highValueField = errorBarsOptions.highValueField;\r\n            _isString(lowValueField) && valueFields.push(lowValueField);\r\n            _isString(highValueField) && valueFields.push(highValueField)\r\n        }\r\n        return valueFields\r\n    },\r\n    _calculateErrorBars: function(data) {\r\n        if (!this.areErrorBarsVisible()) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var options = that._options;\r\n        var errorBarsOptions = options.valueErrorBar;\r\n        var errorBarType = _normalizeEnum(errorBarsOptions.type);\r\n        var floatErrorValue = parseFloat(errorBarsOptions.value);\r\n        var valueField = that.getValueFields()[0];\r\n        var value;\r\n        var lowValueField = errorBarsOptions.lowValueField || LOW_ERROR;\r\n        var highValueField = errorBarsOptions.highValueField || HIGH_ERROR;\r\n        var valueArray;\r\n        var valueArrayLength;\r\n        var meanValue;\r\n        var processDataItem;\r\n        var addSubError = function(_i, item) {\r\n            value = item.value;\r\n            item.lowError = value - floatErrorValue;\r\n            item.highError = value + floatErrorValue\r\n        };\r\n        switch (errorBarType) {\r\n            case FIXED:\r\n                processDataItem = addSubError;\r\n                break;\r\n            case PERCENT:\r\n                processDataItem = function(_, item) {\r\n                    value = item.value;\r\n                    var error = value * floatErrorValue / 100;\r\n                    item.lowError = value - error;\r\n                    item.highError = value + error\r\n                };\r\n                break;\r\n            case UNDEFINED:\r\n                processDataItem = function(_, item) {\r\n                    item.lowError = item.data[lowValueField];\r\n                    item.highError = item.data[highValueField]\r\n                };\r\n                break;\r\n            default:\r\n                valueArray = _map(data, function(item) {\r\n                    return _isDefined(item.data[valueField]) ? item.data[valueField] : null\r\n                });\r\n                valueArrayLength = valueArray.length;\r\n                floatErrorValue = floatErrorValue || 1;\r\n                switch (errorBarType) {\r\n                    case VARIANCE:\r\n                        floatErrorValue = variance(valueArray, sum(valueArray) / valueArrayLength) * floatErrorValue;\r\n                        processDataItem = addSubError;\r\n                        break;\r\n                    case STANDARD_DEVIATION:\r\n                        meanValue = sum(valueArray) / valueArrayLength;\r\n                        floatErrorValue = _sqrt(variance(valueArray, meanValue)) * floatErrorValue;\r\n                        processDataItem = function(_, item) {\r\n                            item.lowError = meanValue - floatErrorValue;\r\n                            item.highError = meanValue + floatErrorValue\r\n                        };\r\n                        break;\r\n                    case STANDARD_ERROR:\r\n                        floatErrorValue = _sqrt(variance(valueArray, sum(valueArray) / valueArrayLength) / valueArrayLength) * floatErrorValue;\r\n                        processDataItem = addSubError\r\n                }\r\n        }\r\n        processDataItem && _each(data, processDataItem)\r\n    },\r\n    _patchMarginOptions: function(options) {\r\n        var pointOptions = this._getCreatingPointOptions();\r\n        var styles = pointOptions.styles;\r\n        var maxSize = [styles.normal, styles.hover, styles.selection].reduce(function(max, style) {\r\n            return _max(max, 2 * style.r + style[\"stroke-width\"])\r\n        }, 0);\r\n        options.size = pointOptions.visible ? maxSize : 0;\r\n        options.sizePointNormalState = pointOptions.visible ? 2 * styles.normal.r + styles.normal[\"stroke-width\"] : 2;\r\n        return options\r\n    },\r\n    usePointsToDefineAutoHiding: function() {\r\n        return true\r\n    }\r\n};\r\nexports.chart = _extend({}, baseScatterMethods, {\r\n    drawTrackers: function() {\r\n        var that = this;\r\n        var trackers;\r\n        var trackersGroup;\r\n        var segments = that._segments || [];\r\n        var rotated = that._options.rotated;\r\n        if (!that.isVisible()) {\r\n            return\r\n        }\r\n        if (segments.length) {\r\n            trackers = that._trackers = that._trackers || [];\r\n            trackersGroup = that._trackersGroup = (that._trackersGroup || that._renderer.g().attr({\r\n                fill: \"gray\",\r\n                opacity: .001,\r\n                stroke: \"gray\",\r\n                \"class\": \"dxc-trackers\"\r\n            })).attr({\r\n                \"clip-path\": this._paneClipRectID || null\r\n            }).append(that._group);\r\n            _each(segments, function(i, segment) {\r\n                if (!trackers[i]) {\r\n                    trackers[i] = that._drawTrackerElement(segment).data({\r\n                        \"chart-data-series\": that\r\n                    }).append(trackersGroup)\r\n                } else {\r\n                    that._updateTrackerElement(segment, trackers[i])\r\n                }\r\n            })\r\n        }\r\n        that._trackersTranslator = that.groupPointsByCoords(rotated)\r\n    },\r\n    checkAxisVisibleAreaCoord: function(isArgument, coord) {\r\n        var axis = isArgument ? this.getArgumentAxis() : this.getValueAxis();\r\n        var visibleArea = axis.getVisibleArea();\r\n        return _isDefined(coord) && visibleArea[0] <= coord && visibleArea[1] >= coord\r\n    },\r\n    checkSeriesViewportCoord: function(axis, coord) {\r\n        return true\r\n    },\r\n    getSeriesPairCoord: function(coord, isArgument) {\r\n        var oppositeCoord = null;\r\n        var isOpposite = !isArgument && !this._options.rotated || isArgument && this._options.rotated;\r\n        var coordName = !isOpposite ? \"vx\" : \"vy\";\r\n        var oppositeCoordName = !isOpposite ? \"vy\" : \"vx\";\r\n        var points = this.getVisiblePoints();\r\n        for (var i = 0; i < points.length; i++) {\r\n            var p = points[i];\r\n            var tmpCoord = p[coordName] === coord ? p[oppositeCoordName] : void 0;\r\n            if (this.checkAxisVisibleAreaCoord(!isArgument, tmpCoord)) {\r\n                oppositeCoord = tmpCoord;\r\n                break\r\n            }\r\n        }\r\n        return oppositeCoord\r\n    },\r\n    getNearestPointsByCoord: function(coord, isArgument) {\r\n        var that = this;\r\n        var rotated = that.getOptions().rotated;\r\n        var isOpposite = !isArgument && !rotated || isArgument && rotated;\r\n        var coordName = isOpposite ? \"vy\" : \"vx\";\r\n        var points = that.getVisiblePoints();\r\n        var allPoints = that.getPoints();\r\n        var nearestPoints = [];\r\n        if (that.isVisible() && allPoints.length > 0) {\r\n            if (allPoints.length > 1) {\r\n                that.findNeighborPointsByCoord(coord, coordName, points.slice(0), allPoints, function(point, nextPoint) {\r\n                    nearestPoints.push([point, nextPoint])\r\n                })\r\n            } else {\r\n                if (allPoints[0][coordName] === coord) {\r\n                    nearestPoints.push([allPoints[0], allPoints[0]])\r\n                }\r\n            }\r\n        }\r\n        return nearestPoints\r\n    },\r\n    findNeighborPointsByCoord: function(coord, coordName, points, allPoints, pushNeighborPoints) {\r\n        var searchPoints = allPoints;\r\n        if (points.length > 0) {\r\n            points.splice(0, 0, allPoints[allPoints.indexOf(points[0]) - 1]);\r\n            points.splice(points.length, 0, allPoints[allPoints.indexOf(points[points.length - 1]) + 1]);\r\n            searchPoints = points\r\n        }\r\n        searchPoints.forEach(function(p, i) {\r\n            var np = searchPoints[i + 1];\r\n            if (p && np && (p[coordName] <= coord && np[coordName] >= coord || p[coordName] >= coord && np[coordName] <= coord)) {\r\n                pushNeighborPoints(p, np)\r\n            }\r\n        })\r\n    },\r\n    getNeighborPoint: function(x, y) {\r\n        var pCoord = this._options.rotated ? y : x;\r\n        var nCoord = pCoord;\r\n        var cat = this._trackersTranslator;\r\n        var point = null;\r\n        var minDistance;\r\n        var oppositeCoord = this._options.rotated ? x : y;\r\n        var oppositeCoordName = this._options.rotated ? \"vx\" : \"vy\";\r\n        if (this.isVisible() && cat) {\r\n            point = cat[pCoord];\r\n            do {\r\n                point = cat[nCoord] || cat[pCoord];\r\n                pCoord--;\r\n                nCoord++\r\n            } while ((pCoord >= 0 || nCoord < cat.length) && !point);\r\n            if (Array.isArray(point)) {\r\n                minDistance = _abs(point[0][oppositeCoordName] - oppositeCoord);\r\n                _each(point, function(i, p) {\r\n                    var distance = _abs(p[oppositeCoordName] - oppositeCoord);\r\n                    if (minDistance >= distance) {\r\n                        minDistance = distance;\r\n                        point = p\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        return point\r\n    },\r\n    _applyVisibleArea: function() {\r\n        var that = this;\r\n        var rotated = that._options.rotated;\r\n        var visibleX = (rotated ? that.getValueAxis() : that.getArgumentAxis()).getVisibleArea();\r\n        var visibleY = (rotated ? that.getArgumentAxis() : that.getValueAxis()).getVisibleArea();\r\n        that._visibleArea = {\r\n            minX: visibleX[0],\r\n            maxX: visibleX[1],\r\n            minY: visibleY[0],\r\n            maxY: visibleY[1]\r\n        }\r\n    },\r\n    getPointCenterByArg: function(arg) {\r\n        var point = this.getPointsByArg(arg)[0];\r\n        return point ? point.getCenterCoord() : void 0\r\n    }\r\n});\r\nexports.polar = _extend({}, baseScatterMethods, {\r\n    drawTrackers: function() {\r\n        exports.chart.drawTrackers.call(this);\r\n        var cat = this._trackersTranslator;\r\n        var index;\r\n        if (!this.isVisible()) {\r\n            return\r\n        }\r\n        _each(cat, function(i, category) {\r\n            if (category) {\r\n                index = i;\r\n                return false\r\n            }\r\n        });\r\n        cat[index + 360] = cat[index]\r\n    },\r\n    getNeighborPoint: function(x, y) {\r\n        var pos = vizUtils.convertXYToPolar(this.getValueAxis().getCenter(), x, y);\r\n        return exports.chart.getNeighborPoint.call(this, pos.phi, pos.r)\r\n    },\r\n    _applyVisibleArea: function() {\r\n        var that = this;\r\n        var canvas = that.getValueAxis().getCanvas();\r\n        that._visibleArea = {\r\n            minX: canvas.left,\r\n            maxX: canvas.width - canvas.right,\r\n            minY: canvas.top,\r\n            maxY: canvas.height - canvas.bottom\r\n        }\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}