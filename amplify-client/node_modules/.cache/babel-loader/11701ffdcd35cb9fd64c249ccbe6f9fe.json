{"ast":null,"code":"/**\r\n * DevExtreme (ui/form/ui.form.layout_manager.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _guid = require(\"../../core/guid\");\n\nvar _guid2 = _interopRequireDefault(_guid);\n\nvar _uiForm = require(\"./ui.form.items_runtime_info\");\n\nvar _uiForm2 = _interopRequireDefault(_uiForm);\n\nvar _component_registrator = require(\"../../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _dom = require(\"../../core/utils/dom\");\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _variable_wrapper = require(\"../../core/utils/variable_wrapper\");\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _string = require(\"../../core/utils/string\");\n\nvar _string2 = _interopRequireDefault(_string);\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _array = require(\"../../core/utils/array\");\n\nvar _data = require(\"../../core/utils/data\");\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _remove_event = require(\"../../core/remove_event\");\n\nvar _remove_event2 = _interopRequireDefault(_remove_event);\n\nvar _click = require(\"../../events/click\");\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _ui = require(\"../widget/ui.errors\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _message = require(\"../../localization/message\");\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _style = require(\"../../core/utils/style\");\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _inflector = require(\"../../core/utils/inflector\");\n\nvar _inflector2 = _interopRequireDefault(_inflector);\n\nvar _ui3 = require(\"../widget/ui.widget\");\n\nvar _ui4 = _interopRequireDefault(_ui3);\n\nvar _validator = require(\"../validator\");\n\nvar _validator2 = _interopRequireDefault(_validator);\n\nvar _responsive_box = require(\"../responsive_box\");\n\nvar _responsive_box2 = _interopRequireDefault(_responsive_box);\n\nvar _themes = require(\"../themes\");\n\nvar _themes2 = _interopRequireDefault(_themes);\n\nrequire(\"../text_box\");\n\nrequire(\"../number_box\");\n\nrequire(\"../check_box\");\n\nrequire(\"../date_box\");\n\nrequire(\"../button\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar FORM_EDITOR_BY_DEFAULT = \"dxTextBox\";\nvar FIELD_ITEM_CLASS = \"dx-field-item\";\nvar FIELD_EMPTY_ITEM_CLASS = \"dx-field-empty-item\";\nvar FIELD_BUTTON_ITEM_CLASS = \"dx-field-button-item\";\nvar FIELD_ITEM_REQUIRED_CLASS = \"dx-field-item-required\";\nvar FIELD_ITEM_OPTIONAL_CLASS = \"dx-field-item-optional\";\nvar FIELD_ITEM_REQUIRED_MARK_CLASS = \"dx-field-item-required-mark\";\nvar FIELD_ITEM_OPTIONAL_MARK_CLASS = \"dx-field-item-optional-mark\";\nvar FIELD_ITEM_LABEL_CLASS = \"dx-field-item-label\";\nvar FIELD_ITEM_LABEL_ALIGN_CLASS = \"dx-field-item-label-align\";\nvar FIELD_ITEM_LABEL_CONTENT_CLASS = \"dx-field-item-label-content\";\nvar FIELD_ITEM_LABEL_TEXT_CLASS = \"dx-field-item-label-text\";\nvar FIELD_ITEM_LABEL_LOCATION_CLASS = \"dx-field-item-label-location-\";\nvar FIELD_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\nvar FIELD_ITEM_CONTENT_LOCATION_CLASS = \"dx-field-item-content-location-\";\nvar FIELD_ITEM_CONTENT_WRAPPER_CLASS = \"dx-field-item-content-wrapper\";\nvar FIELD_ITEM_HELP_TEXT_CLASS = \"dx-field-item-help-text\";\nvar SINGLE_COLUMN_ITEM_CONTENT = \"dx-single-column-item-content\";\nvar LABEL_HORIZONTAL_ALIGNMENT_CLASS = \"dx-label-h-align\";\nvar LABEL_VERTICAL_ALIGNMENT_CLASS = \"dx-label-v-align\";\nvar FORM_LAYOUT_MANAGER_CLASS = \"dx-layout-manager\";\nvar LAYOUT_MANAGER_FIRST_ROW_CLASS = \"dx-first-row\";\nvar LAYOUT_MANAGER_LAST_ROW_CLASS = \"dx-last-row\";\nvar LAYOUT_MANAGER_FIRST_COL_CLASS = \"dx-first-col\";\nvar LAYOUT_MANAGER_LAST_COL_CLASS = \"dx-last-col\";\nvar LAYOUT_MANAGER_ONE_COLUMN = \"dx-layout-manager-one-col\";\nvar FLEX_LAYOUT_CLASS = \"dx-flex-layout\";\nvar INVALID_CLASS = \"dx-invalid\";\nvar LAYOUT_STRATEGY_FLEX = \"flex\";\nvar LAYOUT_STRATEGY_FALLBACK = \"fallback\";\nvar SIMPLE_ITEM_TYPE = \"simple\";\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\nvar DATA_OPTIONS = [\"dataSource\", \"items\"];\nvar EDITORS_WITH_ARRAY_VALUE = [\"dxTagBox\", \"dxRangeSlider\"];\n\nvar LayoutManager = _ui4.default.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      layoutData: {},\n      readOnly: false,\n      colCount: 1,\n      colCountByScreen: void 0,\n      labelLocation: \"left\",\n      onFieldDataChanged: null,\n      onEditorEnterKey: null,\n      customizeItem: null,\n      alignItemLabels: true,\n      minColWidth: 200,\n      showRequiredMark: true,\n      screenByWidth: null,\n      showOptionalMark: false,\n      requiredMark: \"*\",\n      optionalMark: _message2.default.format(\"dxForm-optionalMark\"),\n      requiredMessage: _message2.default.getFormatter(\"dxForm-requiredMessage\")\n    });\n  },\n  _setOptionsByReference: function _setOptionsByReference() {\n    this.callBase();\n    (0, _extend.extend)(this._optionsByReference, {\n      layoutData: true,\n      validationGroup: true\n    });\n  },\n  _init: function _init() {\n    var layoutData = this.option(\"layoutData\");\n    this.callBase();\n    this._itemWatchers = [];\n    this._itemsRunTimeInfo = new _uiForm2.default();\n\n    this._updateReferencedOptions(layoutData);\n\n    this._initDataAndItems(layoutData);\n  },\n  _dispose: function _dispose() {\n    this.callBase();\n\n    this._cleanItemWatchers();\n  },\n  _initDataAndItems: function _initDataAndItems(initialData) {\n    this._syncDataWithItems();\n\n    this._updateItems(initialData);\n  },\n  _syncDataWithItems: function _syncDataWithItems() {\n    var _this = this;\n\n    var layoutData = this.option(\"layoutData\");\n    var userItems = this.option(\"items\");\n\n    if ((0, _type.isDefined)(userItems)) {\n      userItems.forEach(function (item) {\n        if (item.dataField && void 0 === _this._getDataByField(item.dataField)) {\n          var value;\n\n          if (item.editorOptions) {\n            value = item.editorOptions.value;\n          }\n\n          if ((0, _type.isDefined)(value) || item.dataField in layoutData) {\n            _this._updateFieldValue(item.dataField, value);\n          }\n        }\n      });\n    }\n  },\n  _getDataByField: function _getDataByField(dataField) {\n    return dataField ? this.option(\"layoutData.\" + dataField) : null;\n  },\n  _updateFieldValue: function _updateFieldValue(dataField, value) {\n    var layoutData = this.option(\"layoutData\");\n    var newValue = value;\n\n    if (!(0, _variable_wrapper.isWrapped)(layoutData[dataField]) && (0, _type.isDefined)(dataField)) {\n      this.option(\"layoutData.\" + dataField, newValue);\n    } else {\n      if ((0, _variable_wrapper.isWritableWrapped)(layoutData[dataField])) {\n        newValue = (0, _type.isFunction)(newValue) ? newValue() : newValue;\n        layoutData[dataField](newValue);\n      }\n    }\n\n    this._triggerOnFieldDataChanged({\n      dataField: dataField,\n      value: newValue\n    });\n  },\n  _triggerOnFieldDataChanged: function _triggerOnFieldDataChanged(args) {\n    this._createActionByOption(\"onFieldDataChanged\")(args);\n  },\n  _updateItems: function _updateItems(layoutData) {\n    var that = this;\n    var userItems = this.option(\"items\");\n    var isUserItemsExist = (0, _type.isDefined)(userItems);\n    var customizeItem = that.option(\"customizeItem\");\n    var items;\n    var processedItems;\n    items = isUserItemsExist ? userItems : this._generateItemsByData(layoutData);\n\n    if ((0, _type.isDefined)(items)) {\n      processedItems = [];\n      (0, _iterator.each)(items, function (index, item) {\n        if (that._isAcceptableItem(item)) {\n          item = that._processItem(item);\n          customizeItem && customizeItem(item);\n\n          if ((0, _type.isObject)(item) && false !== (0, _variable_wrapper.unwrap)(item.visible)) {\n            processedItems.push(item);\n          }\n        }\n      });\n\n      if (!that._itemWatchers.length || !isUserItemsExist) {\n        that._updateItemWatchers(items);\n      }\n\n      this._items = processedItems;\n\n      this._sortItems();\n    }\n  },\n  _cleanItemWatchers: function _cleanItemWatchers() {\n    this._itemWatchers.forEach(function (dispose) {\n      dispose();\n    });\n\n    this._itemWatchers = [];\n  },\n  _updateItemWatchers: function _updateItemWatchers(items) {\n    var that = this;\n\n    var watch = that._getWatch();\n\n    items.forEach(function (item) {\n      if ((0, _type.isObject)(item) && (0, _type.isDefined)(item.visible) && (0, _type.isFunction)(watch)) {\n        that._itemWatchers.push(watch(function () {\n          return (0, _variable_wrapper.unwrap)(item.visible);\n        }, function () {\n          that._updateItems(that.option(\"layoutData\"));\n\n          that.repaint();\n        }, {\n          skipImmediate: true\n        }));\n      }\n    });\n  },\n  _generateItemsByData: function _generateItemsByData(layoutData) {\n    var result = [];\n\n    if ((0, _type.isDefined)(layoutData)) {\n      (0, _iterator.each)(layoutData, function (dataField) {\n        result.push({\n          dataField: dataField\n        });\n      });\n    }\n\n    return result;\n  },\n  _isAcceptableItem: function _isAcceptableItem(item) {\n    var itemField = item.dataField || item;\n\n    var itemData = this._getDataByField(itemField);\n\n    return !((0, _type.isFunction)(itemData) && !(0, _variable_wrapper.isWrapped)(itemData));\n  },\n  _processItem: function _processItem(item) {\n    if (\"string\" === typeof item) {\n      item = {\n        dataField: item\n      };\n    }\n\n    if (\"object\" === _typeof(item) && !item.itemType) {\n      item.itemType = SIMPLE_ITEM_TYPE;\n    }\n\n    if (!(0, _type.isDefined)(item.editorType) && (0, _type.isDefined)(item.dataField)) {\n      var value = this._getDataByField(item.dataField);\n\n      item.editorType = (0, _type.isDefined)(value) ? this._getEditorTypeByDataType((0, _type.type)(value)) : FORM_EDITOR_BY_DEFAULT;\n    }\n\n    return item;\n  },\n  _getEditorTypeByDataType: function _getEditorTypeByDataType(dataType) {\n    switch (dataType) {\n      case \"number\":\n        return \"dxNumberBox\";\n\n      case \"date\":\n        return \"dxDateBox\";\n\n      case \"boolean\":\n        return \"dxCheckBox\";\n\n      default:\n        return \"dxTextBox\";\n    }\n  },\n  _sortItems: function _sortItems() {\n    (0, _array.normalizeIndexes)(this._items, \"visibleIndex\");\n\n    this._sortIndexes();\n  },\n  _sortIndexes: function _sortIndexes() {\n    this._items.sort(function (itemA, itemB) {\n      var indexA = itemA.visibleIndex;\n      var indexB = itemB.visibleIndex;\n      var result;\n\n      if (indexA > indexB) {\n        result = 1;\n      } else {\n        if (indexA < indexB) {\n          result = -1;\n        } else {\n          result = 0;\n        }\n      }\n\n      return result;\n    });\n  },\n  _initMarkup: function _initMarkup() {\n    this._itemsRunTimeInfo.clear();\n\n    this.$element().addClass(FORM_LAYOUT_MANAGER_CLASS);\n    this.callBase();\n\n    this._renderResponsiveBox();\n  },\n  _hasBrowserFlex: function _hasBrowserFlex() {\n    return _style2.default.styleProp(LAYOUT_STRATEGY_FLEX) === LAYOUT_STRATEGY_FLEX;\n  },\n  _renderResponsiveBox: function _renderResponsiveBox() {\n    var that = this;\n    var templatesInfo = [];\n\n    if (that._items && that._items.length) {\n      var colCount = that._getColCount();\n\n      var $container = (0, _renderer2.default)(\"<div>\").appendTo(that.$element());\n      var layoutItems;\n\n      that._prepareItemsWithMerging(colCount);\n\n      layoutItems = that._generateLayoutItems();\n\n      that._extendItemsWithDefaultTemplateOptions(layoutItems, that._items);\n\n      that._responsiveBox = that._createComponent($container, _responsive_box2.default, that._getResponsiveBoxConfig(layoutItems, colCount, templatesInfo));\n\n      if (!_window2.default.hasWindow()) {\n        that._renderTemplates(templatesInfo);\n      }\n    }\n  },\n  _extendItemsWithDefaultTemplateOptions: function _extendItemsWithDefaultTemplateOptions(targetItems, sourceItems) {\n    sourceItems.forEach(function (item) {\n      if (!item.merged) {\n        if ((0, _type.isDefined)(item.disabled)) {\n          targetItems[item.visibleIndex].disabled = item.disabled;\n        }\n\n        if ((0, _type.isDefined)(item.visible)) {\n          targetItems[item.visibleIndex].visible = item.visible;\n        }\n      }\n    });\n  },\n  _itemStateChangedHandler: function _itemStateChangedHandler(e) {\n    this._refresh();\n  },\n  _renderTemplate: function _renderTemplate($container, item) {\n    switch (item.itemType) {\n      case \"empty\":\n        this._renderEmptyItem($container);\n\n        break;\n\n      case \"button\":\n        this._renderButtonItem(item, $container);\n\n        break;\n\n      default:\n        this._renderFieldItem(item, $container);\n\n    }\n  },\n  _renderTemplates: function _renderTemplates(templatesInfo) {\n    var that = this;\n    (0, _iterator.each)(templatesInfo, function (index, info) {\n      that._renderTemplate(info.container, info.formItem);\n    });\n  },\n  _getResponsiveBoxConfig: function _getResponsiveBoxConfig(layoutItems, colCount, templatesInfo) {\n    var that = this;\n    var colCountByScreen = that.option(\"colCountByScreen\");\n    var xsColCount = colCountByScreen && colCountByScreen.xs;\n    return {\n      onItemStateChanged: this._itemStateChangedHandler.bind(this),\n      _layoutStrategy: that._hasBrowserFlex() ? LAYOUT_STRATEGY_FLEX : LAYOUT_STRATEGY_FALLBACK,\n      onLayoutChanged: function onLayoutChanged() {\n        var onLayoutChanged = that.option(\"onLayoutChanged\");\n        var isSingleColumnMode = that.isSingleColumnMode();\n\n        if (onLayoutChanged) {\n          that.$element().toggleClass(LAYOUT_MANAGER_ONE_COLUMN, isSingleColumnMode);\n          onLayoutChanged(isSingleColumnMode);\n        }\n      },\n      onContentReady: function onContentReady(e) {\n        if (_window2.default.hasWindow()) {\n          that._renderTemplates(templatesInfo);\n        }\n\n        if (that.option(\"onLayoutChanged\")) {\n          that.$element().toggleClass(LAYOUT_MANAGER_ONE_COLUMN, that.isSingleColumnMode(e.component));\n        }\n      },\n      itemTemplate: function itemTemplate(e, itemData, itemElement) {\n        if (!e.location) {\n          return;\n        }\n\n        var $itemElement = (0, _renderer2.default)(itemElement);\n        var itemRenderedCountInPreviousRows = e.location.row * colCount;\n        var item = that._items[e.location.col + itemRenderedCountInPreviousRows];\n        var $fieldItem = (0, _renderer2.default)(\"<div>\").addClass(item.cssClass).appendTo($itemElement);\n        templatesInfo.push({\n          container: $fieldItem,\n          formItem: item\n        });\n        $itemElement.toggleClass(SINGLE_COLUMN_ITEM_CONTENT, that.isSingleColumnMode(this));\n\n        if (0 === e.location.row) {\n          $fieldItem.addClass(LAYOUT_MANAGER_FIRST_ROW_CLASS);\n        }\n\n        if (0 === e.location.col) {\n          $fieldItem.addClass(LAYOUT_MANAGER_FIRST_COL_CLASS);\n        }\n\n        var isLastColumn = e.location.col === colCount - 1 || e.location.col + e.location.colspan === colCount;\n\n        var rowsCount = that._getRowsCount();\n\n        var isLastRow = e.location.row === rowsCount - 1;\n\n        if (isLastColumn) {\n          $fieldItem.addClass(LAYOUT_MANAGER_LAST_COL_CLASS);\n        }\n\n        if (isLastRow) {\n          $fieldItem.addClass(LAYOUT_MANAGER_LAST_ROW_CLASS);\n        }\n      },\n      cols: that._generateRatio(colCount),\n      rows: that._generateRatio(that._getRowsCount(), true),\n      dataSource: layoutItems,\n      screenByWidth: that.option(\"screenByWidth\"),\n      singleColumnScreen: xsColCount ? false : \"xs\"\n    };\n  },\n  _getColCount: function _getColCount() {\n    var colCount = this.option(\"colCount\");\n    var colCountByScreen = this.option(\"colCountByScreen\");\n\n    if (colCountByScreen) {\n      var screenFactor = this.option(\"form\").getTargetScreenFactor();\n\n      if (!screenFactor) {\n        screenFactor = _window2.default.hasWindow() ? _window2.default.getCurrentScreenFactor(this.option(\"screenByWidth\")) : \"lg\";\n      }\n\n      colCount = colCountByScreen[screenFactor] || colCount;\n    }\n\n    if (\"auto\" === colCount) {\n      if (this._cashedColCount) {\n        return this._cashedColCount;\n      }\n\n      this._cashedColCount = colCount = this._getMaxColCount();\n    }\n\n    return colCount < 1 ? 1 : colCount;\n  },\n  _getMaxColCount: function _getMaxColCount() {\n    if (!_window2.default.hasWindow()) {\n      return 1;\n    }\n\n    var minColWidth = this.option(\"minColWidth\");\n    var width = this.$element().width();\n    var itemsCount = this._items.length;\n    var maxColCount = Math.floor(width / minColWidth) || 1;\n    return itemsCount < maxColCount ? itemsCount : maxColCount;\n  },\n  isCachedColCountObsolete: function isCachedColCountObsolete() {\n    return this._cashedColCount && this._getMaxColCount() !== this._cashedColCount;\n  },\n  _prepareItemsWithMerging: function _prepareItemsWithMerging(colCount) {\n    var items = this._items.slice(0);\n\n    var item;\n    var itemsMergedByCol;\n    var result = [];\n    var j;\n    var i;\n\n    for (i = 0; i < items.length; i++) {\n      item = items[i];\n      result.push(item);\n\n      if (this.option(\"alignItemLabels\") || item.alignItemLabels || item.colSpan) {\n        item.col = this._getColByIndex(result.length - 1, colCount);\n      }\n\n      if (item.colSpan > 1 && item.col + item.colSpan <= colCount) {\n        itemsMergedByCol = [];\n\n        for (j = 0; j < item.colSpan - 1; j++) {\n          itemsMergedByCol.push({\n            merged: true\n          });\n        }\n\n        result = result.concat(itemsMergedByCol);\n      } else {\n        delete item.colSpan;\n      }\n    }\n\n    this._items = result;\n  },\n  _getColByIndex: function _getColByIndex(index, colCount) {\n    return index % colCount;\n  },\n  _generateLayoutItems: function _generateLayoutItems() {\n    var items = this._items;\n\n    var colCount = this._getColCount();\n\n    var result = [];\n    var item;\n    var i;\n\n    for (i = 0; i < items.length; i++) {\n      item = items[i];\n\n      if (!item.merged) {\n        var generatedItem = {\n          location: {\n            row: parseInt(i / colCount),\n            col: this._getColByIndex(i, colCount)\n          }\n        };\n\n        if ((0, _type.isDefined)(item.colSpan)) {\n          generatedItem.location.colspan = item.colSpan;\n        }\n\n        if ((0, _type.isDefined)(item.rowSpan)) {\n          generatedItem.location.rowspan = item.rowSpan;\n        }\n\n        result.push(generatedItem);\n      }\n    }\n\n    return result;\n  },\n  _renderEmptyItem: function _renderEmptyItem($container) {\n    return $container.addClass(FIELD_EMPTY_ITEM_CLASS).html(\"&nbsp;\");\n  },\n  _getButtonHorizontalAlignment: function _getButtonHorizontalAlignment(item) {\n    if ((0, _type.isDefined)(item.horizontalAlignment)) {\n      return item.horizontalAlignment;\n    }\n\n    if ((0, _type.isDefined)(item.alignment)) {\n      _ui2.default.log(\"W0001\", \"dxForm\", \"alignment\", \"18.1\", \"Use the 'horizontalAlignment' option in button items instead.\");\n\n      return item.alignment;\n    }\n\n    return \"right\";\n  },\n  _getButtonVerticalAlignment: function _getButtonVerticalAlignment(item) {\n    switch (item.verticalAlignment) {\n      case \"center\":\n        return \"center\";\n\n      case \"bottom\":\n        return \"flex-end\";\n\n      default:\n        return \"flex-start\";\n    }\n  },\n  _renderButtonItem: function _renderButtonItem(item, $container) {\n    var $button = (0, _renderer2.default)(\"<div>\").appendTo($container);\n    var defaultOptions = {\n      validationGroup: this.option(\"validationGroup\")\n    };\n    $container.addClass(FIELD_BUTTON_ITEM_CLASS).css(\"textAlign\", this._getButtonHorizontalAlignment(item));\n    $container.parent().css(\"justifyContent\", this._getButtonVerticalAlignment(item));\n\n    var instance = this._createComponent($button, \"dxButton\", (0, _extend.extend)(defaultOptions, item.buttonOptions));\n\n    this._itemsRunTimeInfo.add({\n      item: item,\n      widgetInstance: instance,\n      guid: item.guid,\n      $itemContainer: $container\n    });\n\n    this._addItemClasses($container, item.col);\n\n    return $button;\n  },\n  _addItemClasses: function _addItemClasses($item, column) {\n    $item.addClass(FIELD_ITEM_CLASS).addClass(this.option(\"cssItemClass\")).addClass((0, _type.isDefined)(column) ? \"dx-col-\" + column : \"\");\n  },\n  _renderFieldItem: function _renderFieldItem(item, $container) {\n    var that = this;\n\n    var name = that._getName(item);\n\n    var id = that.getItemID(name);\n    var isRequired = (0, _type.isDefined)(item.isRequired) ? item.isRequired : !!that._hasRequiredRuleInSet(item.validationRules);\n\n    var labelOptions = that._getLabelOptions(item, id, isRequired);\n\n    var $editor = (0, _renderer2.default)(\"<div>\");\n    var helpID = item.helpText ? \"dx-\" + new _guid2.default() : null;\n    var $label;\n\n    this._addItemClasses($container, item.col);\n\n    $container.addClass(isRequired ? FIELD_ITEM_REQUIRED_CLASS : FIELD_ITEM_OPTIONAL_CLASS);\n\n    if (labelOptions.visible && labelOptions.text) {\n      $label = that._renderLabel(labelOptions).appendTo($container);\n    }\n\n    if (item.itemType === SIMPLE_ITEM_TYPE) {\n      if (that._isLabelNeedBaselineAlign(item) && \"top\" !== labelOptions.location) {\n        $container.addClass(FIELD_ITEM_LABEL_ALIGN_CLASS);\n      }\n\n      that._hasBrowserFlex() && $container.addClass(FLEX_LAYOUT_CLASS);\n    }\n\n    $editor.data(\"dx-form-item\", item);\n\n    that._appendEditorToField({\n      $fieldItem: $container,\n      $label: $label,\n      $editor: $editor,\n      labelOptions: labelOptions\n    });\n\n    var instance = that._renderEditor({\n      $container: $editor,\n      dataField: item.dataField,\n      name: item.name,\n      editorType: item.editorType,\n      editorOptions: item.editorOptions,\n      template: that._getTemplateByFieldItem(item),\n      isRequired: isRequired,\n      helpID: helpID,\n      labelID: labelOptions.labelID,\n      id: id,\n      validationBoundary: that.option(\"validationBoundary\")\n    });\n\n    this._itemsRunTimeInfo.add({\n      item: item,\n      widgetInstance: instance,\n      guid: item.guid,\n      $itemContainer: $container\n    });\n\n    var editorElem = $editor.children().first();\n    var $validationTarget = editorElem.hasClass(TEMPLATE_WRAPPER_CLASS) ? editorElem.children().first() : editorElem;\n\n    if ($validationTarget && $validationTarget.data(\"dx-validation-target\")) {\n      that._renderValidator($validationTarget, item);\n    }\n\n    that._renderHelpText(item, $editor, helpID);\n\n    that._attachClickHandler($label, $editor, item.editorType);\n  },\n  _hasRequiredRuleInSet: function _hasRequiredRuleInSet(rules) {\n    var hasRequiredRule;\n\n    if (rules && rules.length) {\n      (0, _iterator.each)(rules, function (index, rule) {\n        if (\"required\" === rule.type) {\n          hasRequiredRule = true;\n          return false;\n        }\n      });\n    }\n\n    return hasRequiredRule;\n  },\n  _getName: function _getName(item) {\n    return item.dataField || item.name;\n  },\n  _isLabelNeedBaselineAlign: function _isLabelNeedBaselineAlign(item) {\n    var largeEditors = [\"dxTextArea\", \"dxRadioGroup\", \"dxCalendar\", \"dxHtmlEditor\"];\n    return !!item.helpText && !this._hasBrowserFlex() || (0, _array.inArray)(item.editorType, largeEditors) !== -1;\n  },\n  _isLabelNeedId: function _isLabelNeedId(item) {\n    var editorsRequiringIdForLabel = [\"dxRadioGroup\", \"dxCheckBox\", \"dxLookup\", \"dxSlider\", \"dxRangeSlider\", \"dxSwitch\", \"dxHtmlEditor\"];\n    return (0, _array.inArray)(item.editorType, editorsRequiringIdForLabel) !== -1;\n  },\n  _getLabelOptions: function _getLabelOptions(item, id, isRequired) {\n    var labelOptions = (0, _extend.extend)({\n      showColon: this.option(\"showColonAfterLabel\"),\n      location: this.option(\"labelLocation\"),\n      id: id,\n      visible: true,\n      isRequired: isRequired\n    }, item ? item.label : {});\n\n    if (this._isLabelNeedId(item)) {\n      labelOptions.labelID = \"dx-label-\".concat(new _guid2.default());\n    }\n\n    if (!labelOptions.text && item.dataField) {\n      labelOptions.text = _inflector2.default.captionize(item.dataField);\n    }\n\n    if (labelOptions.text) {\n      labelOptions.text += labelOptions.showColon ? \":\" : \"\";\n    }\n\n    return labelOptions;\n  },\n  _renderLabel: function _renderLabel(options) {\n    var text = options.text,\n        id = options.id,\n        location = options.location,\n        alignment = options.alignment,\n        isRequired = options.isRequired,\n        _options$labelID = options.labelID,\n        labelID = void 0 === _options$labelID ? null : _options$labelID;\n\n    if ((0, _type.isDefined)(text) && text.length > 0) {\n      var labelClasses = FIELD_ITEM_LABEL_CLASS + \" \" + FIELD_ITEM_LABEL_LOCATION_CLASS + location;\n      var $label = (0, _renderer2.default)(\"<label>\").addClass(labelClasses).attr(\"for\", id).attr(\"id\", labelID);\n      var $labelContent = (0, _renderer2.default)(\"<span>\").addClass(FIELD_ITEM_LABEL_CONTENT_CLASS).appendTo($label);\n      (0, _renderer2.default)(\"<span>\").addClass(FIELD_ITEM_LABEL_TEXT_CLASS).text(text).appendTo($labelContent);\n\n      if (alignment) {\n        $label.css(\"textAlign\", alignment);\n      }\n\n      $labelContent.append(this._renderLabelMark(isRequired));\n      return $label;\n    }\n  },\n  _renderLabelMark: function _renderLabelMark(isRequired) {\n    var $mark;\n\n    var requiredMarksConfig = this._getRequiredMarksConfig();\n\n    var isRequiredMark = requiredMarksConfig.showRequiredMark && isRequired;\n    var isOptionalMark = requiredMarksConfig.showOptionalMark && !isRequired;\n\n    if (isRequiredMark || isOptionalMark) {\n      var markClass = isRequiredMark ? FIELD_ITEM_REQUIRED_MARK_CLASS : FIELD_ITEM_OPTIONAL_MARK_CLASS;\n      var markText = isRequiredMark ? requiredMarksConfig.requiredMark : requiredMarksConfig.optionalMark;\n      $mark = (0, _renderer2.default)(\"<span>\").addClass(markClass).html(\"&nbsp\" + markText);\n    }\n\n    return $mark;\n  },\n  _getRequiredMarksConfig: function _getRequiredMarksConfig() {\n    if (!this._cashedRequiredConfig) {\n      this._cashedRequiredConfig = {\n        showRequiredMark: this.option(\"showRequiredMark\"),\n        showOptionalMark: this.option(\"showOptionalMark\"),\n        requiredMark: this.option(\"requiredMark\"),\n        optionalMark: this.option(\"optionalMark\")\n      };\n    }\n\n    return this._cashedRequiredConfig;\n  },\n  _renderEditor: function _renderEditor(options) {\n    var dataValue = this._getDataByField(options.dataField);\n\n    var defaultEditorOptions = void 0 !== dataValue ? {\n      value: dataValue\n    } : {};\n    var isDeepExtend = true;\n    var editorOptions;\n\n    if (EDITORS_WITH_ARRAY_VALUE.indexOf(options.editorType) !== -1) {\n      defaultEditorOptions.value = defaultEditorOptions.value || [];\n    }\n\n    var formInstance = this.option(\"form\");\n    editorOptions = (0, _extend.extend)(isDeepExtend, defaultEditorOptions, options.editorOptions, {\n      inputAttr: {\n        id: options.id\n      },\n      validationBoundary: options.validationBoundary,\n      stylingMode: formInstance && formInstance.option(\"stylingMode\")\n    });\n\n    this._replaceDataOptions(options.editorOptions, editorOptions);\n\n    var renderOptions = {\n      editorType: options.editorType,\n      dataField: options.dataField,\n      template: options.template,\n      name: options.name,\n      helpID: options.helpID,\n      labelID: options.labelID,\n      isRequired: options.isRequired\n    };\n    return this._createEditor(options.$container, renderOptions, editorOptions);\n  },\n  _replaceDataOptions: function _replaceDataOptions(originalOptions, resultOptions) {\n    if (originalOptions) {\n      DATA_OPTIONS.forEach(function (item) {\n        if (resultOptions[item]) {\n          resultOptions[item] = originalOptions[item];\n        }\n      });\n    }\n  },\n  _renderValidator: function _renderValidator($editor, item) {\n    var fieldName = this._getFieldLabelName(item);\n\n    var validationRules = this._prepareValidationRules(item.validationRules, item.isRequired, item.itemType, fieldName);\n\n    if (Array.isArray(validationRules) && validationRules.length) {\n      this._createComponent($editor, _validator2.default, {\n        validationRules: validationRules,\n        validationGroup: this.option(\"validationGroup\"),\n        dataGetter: function dataGetter() {\n          return {\n            formItem: item\n          };\n        }\n      });\n    }\n  },\n  _getFieldLabelName: function _getFieldLabelName(item) {\n    var isItemHaveCustomLabel = item.label && item.label.text;\n    var itemName = isItemHaveCustomLabel ? null : this._getName(item);\n    return isItemHaveCustomLabel ? item.label.text : itemName && _inflector2.default.captionize(itemName);\n  },\n  _prepareValidationRules: function _prepareValidationRules(userValidationRules, isItemRequired, itemType, itemName) {\n    var isSimpleItem = itemType === SIMPLE_ITEM_TYPE;\n    var validationRules;\n\n    if (isSimpleItem) {\n      if (userValidationRules) {\n        validationRules = userValidationRules;\n      } else {\n        var requiredMessage = _string2.default.format(this.option(\"requiredMessage\"), itemName || \"\");\n\n        validationRules = isItemRequired ? [{\n          type: \"required\",\n          message: requiredMessage\n        }] : null;\n      }\n    }\n\n    return validationRules;\n  },\n  _addWrapperInvalidClass: function _addWrapperInvalidClass(editorInstance) {\n    var wrapperClass = \".\" + FIELD_ITEM_CONTENT_WRAPPER_CLASS;\n\n    var toggleInvalidClass = function toggleInvalidClass(e) {\n      (0, _renderer2.default)(e.element).parents(wrapperClass).toggleClass(INVALID_CLASS, e.component._isFocused() && false === e.component.option(\"isValid\"));\n    };\n\n    editorInstance.on(\"focusIn\", toggleInvalidClass).on(\"focusOut\", toggleInvalidClass).on(\"enterKey\", toggleInvalidClass);\n  },\n  _createEditor: function _createEditor($container, renderOptions, editorOptions) {\n    var that = this;\n    var template = renderOptions.template;\n    var editorInstance;\n\n    if (renderOptions.dataField && !editorOptions.name) {\n      editorOptions.name = renderOptions.dataField;\n    }\n\n    that._addItemContentClasses($container);\n\n    if (template) {\n      var data = {\n        dataField: renderOptions.dataField,\n        editorType: renderOptions.editorType,\n        editorOptions: editorOptions,\n        component: that._getComponentOwner(),\n        name: renderOptions.name\n      };\n      template.render({\n        model: data,\n        container: _dom2.default.getPublicElement($container)\n      });\n    } else {\n      var $editor = (0, _renderer2.default)(\"<div>\").appendTo($container);\n\n      try {\n        editorInstance = that._createComponent($editor, renderOptions.editorType, editorOptions);\n        editorInstance.setAria(\"describedby\", renderOptions.helpID);\n        editorInstance.setAria(\"labelledby\", renderOptions.labelID);\n        editorInstance.setAria(\"required\", renderOptions.isRequired);\n\n        if (_themes2.default.isMaterial()) {\n          that._addWrapperInvalidClass(editorInstance);\n        }\n\n        if (renderOptions.dataField) {\n          that._bindDataField(editorInstance, renderOptions, $container);\n        }\n      } catch (e) {\n        _ui2.default.log(\"E1035\", e.message);\n      }\n    }\n\n    return editorInstance;\n  },\n  _getComponentOwner: function _getComponentOwner() {\n    return this.option(\"form\") || this;\n  },\n  _bindDataField: function _bindDataField(editorInstance, renderOptions, $container) {\n    var componentOwner = this._getComponentOwner();\n\n    editorInstance.on(\"enterKey\", function (args) {\n      componentOwner._createActionByOption(\"onEditorEnterKey\")((0, _extend.extend)(args, {\n        dataField: renderOptions.dataField\n      }));\n    });\n\n    this._createWatcher(editorInstance, $container, renderOptions);\n\n    this.linkEditorToDataField(editorInstance, renderOptions.dataField, renderOptions.editorType);\n  },\n  _createWatcher: function _createWatcher(editorInstance, $container, renderOptions) {\n    var that = this;\n\n    var watch = that._getWatch();\n\n    if (!(0, _type.isFunction)(watch)) {\n      return;\n    }\n\n    var dispose = watch(function () {\n      return that._getDataByField(renderOptions.dataField);\n    }, function () {\n      editorInstance.option(\"value\", that._getDataByField(renderOptions.dataField));\n    }, {\n      deep: true,\n      skipImmediate: true\n    });\n\n    _events_engine2.default.on($container, _remove_event2.default, dispose);\n  },\n  _getWatch: function _getWatch() {\n    if (!(0, _type.isDefined)(this._watch)) {\n      var formInstance = this.option(\"form\");\n      this._watch = formInstance && formInstance.option(\"integrationOptions.watchMethod\");\n    }\n\n    return this._watch;\n  },\n  _addItemContentClasses: function _addItemContentClasses($itemContent) {\n    var locationSpecificClass = this._getItemContentLocationSpecificClass();\n\n    $itemContent.addClass([FIELD_ITEM_CONTENT_CLASS, locationSpecificClass].join(\" \"));\n  },\n  _getItemContentLocationSpecificClass: function _getItemContentLocationSpecificClass() {\n    var labelLocation = this.option(\"labelLocation\");\n    var oppositeClasses = {\n      right: \"left\",\n      left: \"right\",\n      top: \"bottom\"\n    };\n    return FIELD_ITEM_CONTENT_LOCATION_CLASS + oppositeClasses[labelLocation];\n  },\n  _createComponent: function _createComponent($editor, type, editorOptions) {\n    var that = this;\n    var readOnlyState = this.option(\"readOnly\");\n    var instance;\n    instance = that.callBase($editor, type, editorOptions);\n    readOnlyState && instance.option(\"readOnly\", readOnlyState);\n    that.on(\"optionChanged\", function (args) {\n      if (\"readOnly\" === args.name && !(0, _type.isDefined)(editorOptions.readOnly)) {\n        instance.option(args.name, args.value);\n      }\n    });\n    return instance;\n  },\n  _getTemplateByFieldItem: function _getTemplateByFieldItem(fieldItem) {\n    return fieldItem.template ? this._getTemplate(fieldItem.template) : null;\n  },\n  _appendEditorToField: function _appendEditorToField(params) {\n    if (params.$label) {\n      var location = params.labelOptions.location;\n\n      if (\"top\" === location || \"left\" === location) {\n        params.$fieldItem.append(params.$editor);\n      }\n\n      if (\"right\" === location) {\n        params.$fieldItem.prepend(params.$editor);\n      }\n\n      this._addInnerItemAlignmentClass(params.$fieldItem, location);\n    } else {\n      params.$fieldItem.append(params.$editor);\n    }\n  },\n  _addInnerItemAlignmentClass: function _addInnerItemAlignmentClass($fieldItem, location) {\n    if (\"top\" === location) {\n      $fieldItem.addClass(LABEL_VERTICAL_ALIGNMENT_CLASS);\n    } else {\n      $fieldItem.addClass(LABEL_HORIZONTAL_ALIGNMENT_CLASS);\n    }\n  },\n  _renderHelpText: function _renderHelpText(fieldItem, $editor, helpID) {\n    var helpText = fieldItem.helpText;\n    var isSimpleItem = fieldItem.itemType === SIMPLE_ITEM_TYPE;\n\n    if (helpText && isSimpleItem) {\n      var $editorWrapper = (0, _renderer2.default)(\"<div>\").addClass(FIELD_ITEM_CONTENT_WRAPPER_CLASS);\n      $editor.wrap($editorWrapper);\n      (0, _renderer2.default)(\"<div>\").addClass(FIELD_ITEM_HELP_TEXT_CLASS).attr(\"id\", helpID).text(helpText).appendTo($editor.parent());\n    }\n  },\n  _attachClickHandler: function _attachClickHandler($label, $editor, editorType) {\n    var isBooleanEditors = \"dxCheckBox\" === editorType || \"dxSwitch\" === editorType;\n\n    if ($label && isBooleanEditors) {\n      _events_engine2.default.on($label, _click2.default.name, function () {\n        _events_engine2.default.trigger($editor.children(), _click2.default.name);\n      });\n    }\n  },\n  _generateRatio: function _generateRatio(count, isAutoSize) {\n    var result = [];\n    var ratio;\n    var i;\n\n    for (i = 0; i < count; i++) {\n      ratio = {\n        ratio: 1\n      };\n\n      if (isAutoSize) {\n        ratio.baseSize = \"auto\";\n      }\n\n      result.push(ratio);\n    }\n\n    return result;\n  },\n  _getRowsCount: function _getRowsCount() {\n    return Math.ceil(this._items.length / this._getColCount());\n  },\n  _updateReferencedOptions: function _updateReferencedOptions(newLayoutData) {\n    var _this2 = this;\n\n    var layoutData = this.option(\"layoutData\");\n\n    if ((0, _type.isObject)(layoutData)) {\n      Object.getOwnPropertyNames(layoutData).forEach(function (property) {\n        return delete _this2._optionsByReference[\"layoutData.\" + property];\n      });\n    }\n\n    if ((0, _type.isObject)(newLayoutData)) {\n      Object.getOwnPropertyNames(newLayoutData).forEach(function (property) {\n        return _this2._optionsByReference[\"layoutData.\" + property] = true;\n      });\n    }\n  },\n  _resetWidget: function _resetWidget(instance) {\n    this._disableEditorValueChangedHandler = true;\n    instance.reset();\n    this._disableEditorValueChangedHandler = false;\n    instance.option(\"isValid\", true);\n  },\n  _optionChanged: function _optionChanged(args) {\n    var _this3 = this;\n\n    if (0 === args.fullName.search(\"layoutData.\")) {\n      return;\n    }\n\n    switch (args.name) {\n      case \"showRequiredMark\":\n      case \"showOptionalMark\":\n      case \"requiredMark\":\n      case \"optionalMark\":\n        this._cashedRequiredConfig = null;\n\n        this._invalidate();\n\n        break;\n\n      case \"layoutData\":\n        this._updateReferencedOptions(args.value);\n\n        if (this.option(\"items\")) {\n          if (!(0, _type.isEmptyObject)(args.value)) {\n            this._itemsRunTimeInfo.each(function (_, itemRunTimeInfo) {\n              if ((0, _type.isDefined)(itemRunTimeInfo.item)) {\n                var dataField = itemRunTimeInfo.item.dataField;\n\n                if (dataField && (0, _type.isDefined)(itemRunTimeInfo.widgetInstance)) {\n                  var valueGetter = _data2.default.compileGetter(dataField);\n\n                  var dataValue = valueGetter(args.value);\n\n                  if (void 0 === dataValue) {\n                    _this3._resetWidget(itemRunTimeInfo.widgetInstance);\n                  } else {\n                    itemRunTimeInfo.widgetInstance.option(\"value\", dataValue);\n                  }\n                }\n              }\n            });\n          }\n        } else {\n          this._initDataAndItems(args.value);\n\n          this._invalidate();\n        }\n\n        break;\n\n      case \"items\":\n        this._cleanItemWatchers();\n\n        this._initDataAndItems(args.value);\n\n        this._invalidate();\n\n        break;\n\n      case \"alignItemLabels\":\n      case \"labelLocation\":\n      case \"requiredMessage\":\n        this._invalidate();\n\n        break;\n\n      case \"customizeItem\":\n        this._updateItems(this.option(\"layoutData\"));\n\n        this._invalidate();\n\n        break;\n\n      case \"colCount\":\n        this._resetColCount();\n\n        break;\n\n      case \"minColWidth\":\n        if (\"auto\" === this.option(\"colCount\")) {\n          this._resetColCount();\n        }\n\n        break;\n\n      case \"readOnly\":\n        break;\n\n      case \"width\":\n        this.callBase(args);\n\n        if (\"auto\" === this.option(\"colCount\")) {\n          this._resetColCount();\n        }\n\n        break;\n\n      case \"onFieldDataChanged\":\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _resetColCount: function _resetColCount() {\n    this._cashedColCount = null;\n\n    this._invalidate();\n  },\n  linkEditorToDataField: function linkEditorToDataField(editorInstance, dataField) {\n    var _this4 = this;\n\n    this.on(\"optionChanged\", function (args) {\n      if (args.fullName === \"layoutData.\".concat(dataField)) {\n        editorInstance._setOptionSilent(\"value\", args.value);\n      }\n    });\n    editorInstance.on(\"valueChanged\", function (args) {\n      if (!_this4._disableEditorValueChangedHandler && !((0, _type.isObject)(args.value) && args.value === args.previousValue)) {\n        _this4._updateFieldValue(dataField, args.value);\n      }\n    });\n  },\n  _dimensionChanged: function _dimensionChanged() {\n    if (\"auto\" === this.option(\"colCount\") && this.isCachedColCountObsolete()) {\n      this.fireEvent(\"autoColCountChanged\");\n    }\n  },\n  getItemID: function getItemID(name) {\n    var formInstance = this.option(\"form\");\n    return formInstance && formInstance.getItemID(name);\n  },\n  updateData: function updateData(data, value) {\n    var that = this;\n\n    if ((0, _type.isObject)(data)) {\n      (0, _iterator.each)(data, function (dataField, fieldValue) {\n        that._updateFieldValue(dataField, fieldValue);\n      });\n    } else {\n      if (\"string\" === typeof data) {\n        that._updateFieldValue(data, value);\n      }\n    }\n  },\n  getEditor: function getEditor(field) {\n    return this._itemsRunTimeInfo.findWidgetInstanceByDataField(field) || this._itemsRunTimeInfo.findWidgetInstanceByName(field);\n  },\n  isSingleColumnMode: function isSingleColumnMode(component) {\n    var responsiveBox = this._responsiveBox || component;\n\n    if (responsiveBox) {\n      return responsiveBox.option(\"currentScreenFactor\") === responsiveBox.option(\"singleColumnScreen\");\n    }\n  },\n  getItemsRunTimeInfo: function getItemsRunTimeInfo() {\n    return this._itemsRunTimeInfo;\n  }\n});\n\n(0, _component_registrator2.default)(\"dxLayoutManager\", LayoutManager);\nmodule.exports = LayoutManager;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/form/ui.form.layout_manager.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_events_engine","_events_engine2","_guid","_guid2","_uiForm","_uiForm2","_component_registrator","_component_registrator2","_type","_dom","_dom2","_variable_wrapper","_window","_window2","_string","_string2","_iterator","_extend","_array","_data","_data2","_remove_event","_remove_event2","_click","_click2","_ui","_ui2","_message","_message2","_style","_style2","_inflector","_inflector2","_ui3","_ui4","_validator","_validator2","_responsive_box","_responsive_box2","_themes","_themes2","obj","Symbol","_typeof","FORM_EDITOR_BY_DEFAULT","FIELD_ITEM_CLASS","FIELD_EMPTY_ITEM_CLASS","FIELD_BUTTON_ITEM_CLASS","FIELD_ITEM_REQUIRED_CLASS","FIELD_ITEM_OPTIONAL_CLASS","FIELD_ITEM_REQUIRED_MARK_CLASS","FIELD_ITEM_OPTIONAL_MARK_CLASS","FIELD_ITEM_LABEL_CLASS","FIELD_ITEM_LABEL_ALIGN_CLASS","FIELD_ITEM_LABEL_CONTENT_CLASS","FIELD_ITEM_LABEL_TEXT_CLASS","FIELD_ITEM_LABEL_LOCATION_CLASS","FIELD_ITEM_CONTENT_CLASS","FIELD_ITEM_CONTENT_LOCATION_CLASS","FIELD_ITEM_CONTENT_WRAPPER_CLASS","FIELD_ITEM_HELP_TEXT_CLASS","SINGLE_COLUMN_ITEM_CONTENT","LABEL_HORIZONTAL_ALIGNMENT_CLASS","LABEL_VERTICAL_ALIGNMENT_CLASS","FORM_LAYOUT_MANAGER_CLASS","LAYOUT_MANAGER_FIRST_ROW_CLASS","LAYOUT_MANAGER_LAST_ROW_CLASS","LAYOUT_MANAGER_FIRST_COL_CLASS","LAYOUT_MANAGER_LAST_COL_CLASS","LAYOUT_MANAGER_ONE_COLUMN","FLEX_LAYOUT_CLASS","INVALID_CLASS","LAYOUT_STRATEGY_FLEX","LAYOUT_STRATEGY_FALLBACK","SIMPLE_ITEM_TYPE","TEMPLATE_WRAPPER_CLASS","DATA_OPTIONS","EDITORS_WITH_ARRAY_VALUE","LayoutManager","_getDefaultOptions","layoutData","readOnly","colCount","colCountByScreen","labelLocation","onFieldDataChanged","onEditorEnterKey","customizeItem","alignItemLabels","minColWidth","showRequiredMark","screenByWidth","showOptionalMark","requiredMark","optionalMark","requiredMessage","_setOptionsByReference","validationGroup","_init","_dispose","_initDataAndItems","_syncDataWithItems","_this","userItems","item","value","_getDataByField","dataField","_updateFieldValue","newValue","_triggerOnFieldDataChanged","_updateItems","that","isUserItemsExist","items","processedItems","_cleanItemWatchers","dispose","_updateItemWatchers","watch","skipImmediate","_generateItemsByData","result","_isAcceptableItem","itemField","itemData","_processItem","_getEditorTypeByDataType","_sortItems","_sortIndexes","indexA","itemA","indexB","itemB","_initMarkup","_hasBrowserFlex","_renderResponsiveBox","templatesInfo","$container","layoutItems","_extendItemsWithDefaultTemplateOptions","sourceItems","targetItems","_itemStateChangedHandler","_renderTemplate","_renderTemplates","info","_getResponsiveBoxConfig","xsColCount","onItemStateChanged","_layoutStrategy","onLayoutChanged","isSingleColumnMode","onContentReady","e","itemTemplate","$itemElement","itemRenderedCountInPreviousRows","$fieldItem","container","formItem","isLastColumn","rowsCount","isLastRow","cols","rows","dataSource","singleColumnScreen","_getColCount","screenFactor","_getMaxColCount","width","itemsCount","maxColCount","Math","isCachedColCountObsolete","_prepareItemsWithMerging","i","itemsMergedByCol","j","merged","_getColByIndex","index","_generateLayoutItems","generatedItem","location","row","parseInt","col","_renderEmptyItem","_getButtonHorizontalAlignment","_getButtonVerticalAlignment","_renderButtonItem","$button","defaultOptions","instance","widgetInstance","guid","$itemContainer","_addItemClasses","$item","_renderFieldItem","name","id","isRequired","labelOptions","$editor","helpID","$label","editorType","editorOptions","template","labelID","validationBoundary","editorElem","$validationTarget","_hasRequiredRuleInSet","rules","rule","hasRequiredRule","_getName","_isLabelNeedBaselineAlign","largeEditors","_isLabelNeedId","editorsRequiringIdForLabel","_getLabelOptions","showColon","visible","_renderLabel","text","options","alignment","_options$labelID","labelClasses","$labelContent","_renderLabelMark","requiredMarksConfig","isRequiredMark","isOptionalMark","markClass","markText","$mark","_getRequiredMarksConfig","_renderEditor","dataValue","defaultEditorOptions","isDeepExtend","formInstance","inputAttr","stylingMode","renderOptions","_replaceDataOptions","resultOptions","originalOptions","_renderValidator","fieldName","validationRules","Array","dataGetter","_getFieldLabelName","isItemHaveCustomLabel","itemName","_prepareValidationRules","isSimpleItem","itemType","isItemRequired","type","message","_addWrapperInvalidClass","wrapperClass","toggleInvalidClass","editorInstance","_createEditor","data","component","model","_getComponentOwner","_bindDataField","componentOwner","_createWatcher","deep","_getWatch","_addItemContentClasses","locationSpecificClass","$itemContent","_getItemContentLocationSpecificClass","oppositeClasses","right","left","top","_createComponent","readOnlyState","args","_getTemplateByFieldItem","fieldItem","_appendEditorToField","params","_addInnerItemAlignmentClass","_renderHelpText","helpText","$editorWrapper","_attachClickHandler","isBooleanEditors","_generateRatio","ratio","_getRowsCount","_updateReferencedOptions","_this2","Object","_resetWidget","_optionChanged","_this3","itemRunTimeInfo","valueGetter","_resetColCount","linkEditorToDataField","_this4","_dimensionChanged","getItemID","updateData","getEditor","responsiveBox","getItemsRunTimeInfo","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/form/ui.form.layout_manager.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _guid = require(\"../../core/guid\");\r\nvar _guid2 = _interopRequireDefault(_guid);\r\nvar _uiForm = require(\"./ui.form.items_runtime_info\");\r\nvar _uiForm2 = _interopRequireDefault(_uiForm);\r\nvar _component_registrator = require(\"../../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _dom = require(\"../../core/utils/dom\");\r\nvar _dom2 = _interopRequireDefault(_dom);\r\nvar _variable_wrapper = require(\"../../core/utils/variable_wrapper\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _window2 = _interopRequireDefault(_window);\r\nvar _string = require(\"../../core/utils/string\");\r\nvar _string2 = _interopRequireDefault(_string);\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _data2 = _interopRequireDefault(_data);\r\nvar _remove_event = require(\"../../core/remove_event\");\r\nvar _remove_event2 = _interopRequireDefault(_remove_event);\r\nvar _click = require(\"../../events/click\");\r\nvar _click2 = _interopRequireDefault(_click);\r\nvar _ui = require(\"../widget/ui.errors\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _message = require(\"../../localization/message\");\r\nvar _message2 = _interopRequireDefault(_message);\r\nvar _style = require(\"../../core/utils/style\");\r\nvar _style2 = _interopRequireDefault(_style);\r\nvar _inflector = require(\"../../core/utils/inflector\");\r\nvar _inflector2 = _interopRequireDefault(_inflector);\r\nvar _ui3 = require(\"../widget/ui.widget\");\r\nvar _ui4 = _interopRequireDefault(_ui3);\r\nvar _validator = require(\"../validator\");\r\nvar _validator2 = _interopRequireDefault(_validator);\r\nvar _responsive_box = require(\"../responsive_box\");\r\nvar _responsive_box2 = _interopRequireDefault(_responsive_box);\r\nvar _themes = require(\"../themes\");\r\nvar _themes2 = _interopRequireDefault(_themes);\r\nrequire(\"../text_box\");\r\nrequire(\"../number_box\");\r\nrequire(\"../check_box\");\r\nrequire(\"../date_box\");\r\nrequire(\"../button\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nvar FORM_EDITOR_BY_DEFAULT = \"dxTextBox\";\r\nvar FIELD_ITEM_CLASS = \"dx-field-item\";\r\nvar FIELD_EMPTY_ITEM_CLASS = \"dx-field-empty-item\";\r\nvar FIELD_BUTTON_ITEM_CLASS = \"dx-field-button-item\";\r\nvar FIELD_ITEM_REQUIRED_CLASS = \"dx-field-item-required\";\r\nvar FIELD_ITEM_OPTIONAL_CLASS = \"dx-field-item-optional\";\r\nvar FIELD_ITEM_REQUIRED_MARK_CLASS = \"dx-field-item-required-mark\";\r\nvar FIELD_ITEM_OPTIONAL_MARK_CLASS = \"dx-field-item-optional-mark\";\r\nvar FIELD_ITEM_LABEL_CLASS = \"dx-field-item-label\";\r\nvar FIELD_ITEM_LABEL_ALIGN_CLASS = \"dx-field-item-label-align\";\r\nvar FIELD_ITEM_LABEL_CONTENT_CLASS = \"dx-field-item-label-content\";\r\nvar FIELD_ITEM_LABEL_TEXT_CLASS = \"dx-field-item-label-text\";\r\nvar FIELD_ITEM_LABEL_LOCATION_CLASS = \"dx-field-item-label-location-\";\r\nvar FIELD_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nvar FIELD_ITEM_CONTENT_LOCATION_CLASS = \"dx-field-item-content-location-\";\r\nvar FIELD_ITEM_CONTENT_WRAPPER_CLASS = \"dx-field-item-content-wrapper\";\r\nvar FIELD_ITEM_HELP_TEXT_CLASS = \"dx-field-item-help-text\";\r\nvar SINGLE_COLUMN_ITEM_CONTENT = \"dx-single-column-item-content\";\r\nvar LABEL_HORIZONTAL_ALIGNMENT_CLASS = \"dx-label-h-align\";\r\nvar LABEL_VERTICAL_ALIGNMENT_CLASS = \"dx-label-v-align\";\r\nvar FORM_LAYOUT_MANAGER_CLASS = \"dx-layout-manager\";\r\nvar LAYOUT_MANAGER_FIRST_ROW_CLASS = \"dx-first-row\";\r\nvar LAYOUT_MANAGER_LAST_ROW_CLASS = \"dx-last-row\";\r\nvar LAYOUT_MANAGER_FIRST_COL_CLASS = \"dx-first-col\";\r\nvar LAYOUT_MANAGER_LAST_COL_CLASS = \"dx-last-col\";\r\nvar LAYOUT_MANAGER_ONE_COLUMN = \"dx-layout-manager-one-col\";\r\nvar FLEX_LAYOUT_CLASS = \"dx-flex-layout\";\r\nvar INVALID_CLASS = \"dx-invalid\";\r\nvar LAYOUT_STRATEGY_FLEX = \"flex\";\r\nvar LAYOUT_STRATEGY_FALLBACK = \"fallback\";\r\nvar SIMPLE_ITEM_TYPE = \"simple\";\r\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\r\nvar DATA_OPTIONS = [\"dataSource\", \"items\"];\r\nvar EDITORS_WITH_ARRAY_VALUE = [\"dxTagBox\", \"dxRangeSlider\"];\r\nvar LayoutManager = _ui4.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            layoutData: {},\r\n            readOnly: false,\r\n            colCount: 1,\r\n            colCountByScreen: void 0,\r\n            labelLocation: \"left\",\r\n            onFieldDataChanged: null,\r\n            onEditorEnterKey: null,\r\n            customizeItem: null,\r\n            alignItemLabels: true,\r\n            minColWidth: 200,\r\n            showRequiredMark: true,\r\n            screenByWidth: null,\r\n            showOptionalMark: false,\r\n            requiredMark: \"*\",\r\n            optionalMark: _message2.default.format(\"dxForm-optionalMark\"),\r\n            requiredMessage: _message2.default.getFormatter(\"dxForm-requiredMessage\")\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        (0, _extend.extend)(this._optionsByReference, {\r\n            layoutData: true,\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        var layoutData = this.option(\"layoutData\");\r\n        this.callBase();\r\n        this._itemWatchers = [];\r\n        this._itemsRunTimeInfo = new _uiForm2.default;\r\n        this._updateReferencedOptions(layoutData);\r\n        this._initDataAndItems(layoutData)\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        this._cleanItemWatchers()\r\n    },\r\n    _initDataAndItems: function(initialData) {\r\n        this._syncDataWithItems();\r\n        this._updateItems(initialData)\r\n    },\r\n    _syncDataWithItems: function() {\r\n        var _this = this;\r\n        var layoutData = this.option(\"layoutData\");\r\n        var userItems = this.option(\"items\");\r\n        if ((0, _type.isDefined)(userItems)) {\r\n            userItems.forEach(function(item) {\r\n                if (item.dataField && void 0 === _this._getDataByField(item.dataField)) {\r\n                    var value;\r\n                    if (item.editorOptions) {\r\n                        value = item.editorOptions.value\r\n                    }\r\n                    if ((0, _type.isDefined)(value) || item.dataField in layoutData) {\r\n                        _this._updateFieldValue(item.dataField, value)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _getDataByField: function(dataField) {\r\n        return dataField ? this.option(\"layoutData.\" + dataField) : null\r\n    },\r\n    _updateFieldValue: function(dataField, value) {\r\n        var layoutData = this.option(\"layoutData\");\r\n        var newValue = value;\r\n        if (!(0, _variable_wrapper.isWrapped)(layoutData[dataField]) && (0, _type.isDefined)(dataField)) {\r\n            this.option(\"layoutData.\" + dataField, newValue)\r\n        } else {\r\n            if ((0, _variable_wrapper.isWritableWrapped)(layoutData[dataField])) {\r\n                newValue = (0, _type.isFunction)(newValue) ? newValue() : newValue;\r\n                layoutData[dataField](newValue)\r\n            }\r\n        }\r\n        this._triggerOnFieldDataChanged({\r\n            dataField: dataField,\r\n            value: newValue\r\n        })\r\n    },\r\n    _triggerOnFieldDataChanged: function(args) {\r\n        this._createActionByOption(\"onFieldDataChanged\")(args)\r\n    },\r\n    _updateItems: function(layoutData) {\r\n        var that = this;\r\n        var userItems = this.option(\"items\");\r\n        var isUserItemsExist = (0, _type.isDefined)(userItems);\r\n        var customizeItem = that.option(\"customizeItem\");\r\n        var items;\r\n        var processedItems;\r\n        items = isUserItemsExist ? userItems : this._generateItemsByData(layoutData);\r\n        if ((0, _type.isDefined)(items)) {\r\n            processedItems = [];\r\n            (0, _iterator.each)(items, function(index, item) {\r\n                if (that._isAcceptableItem(item)) {\r\n                    item = that._processItem(item);\r\n                    customizeItem && customizeItem(item);\r\n                    if ((0, _type.isObject)(item) && false !== (0, _variable_wrapper.unwrap)(item.visible)) {\r\n                        processedItems.push(item)\r\n                    }\r\n                }\r\n            });\r\n            if (!that._itemWatchers.length || !isUserItemsExist) {\r\n                that._updateItemWatchers(items)\r\n            }\r\n            this._items = processedItems;\r\n            this._sortItems()\r\n        }\r\n    },\r\n    _cleanItemWatchers: function() {\r\n        this._itemWatchers.forEach(function(dispose) {\r\n            dispose()\r\n        });\r\n        this._itemWatchers = []\r\n    },\r\n    _updateItemWatchers: function(items) {\r\n        var that = this;\r\n        var watch = that._getWatch();\r\n        items.forEach(function(item) {\r\n            if ((0, _type.isObject)(item) && (0, _type.isDefined)(item.visible) && (0, _type.isFunction)(watch)) {\r\n                that._itemWatchers.push(watch(function() {\r\n                    return (0, _variable_wrapper.unwrap)(item.visible)\r\n                }, function() {\r\n                    that._updateItems(that.option(\"layoutData\"));\r\n                    that.repaint()\r\n                }, {\r\n                    skipImmediate: true\r\n                }))\r\n            }\r\n        })\r\n    },\r\n    _generateItemsByData: function(layoutData) {\r\n        var result = [];\r\n        if ((0, _type.isDefined)(layoutData)) {\r\n            (0, _iterator.each)(layoutData, function(dataField) {\r\n                result.push({\r\n                    dataField: dataField\r\n                })\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _isAcceptableItem: function(item) {\r\n        var itemField = item.dataField || item;\r\n        var itemData = this._getDataByField(itemField);\r\n        return !((0, _type.isFunction)(itemData) && !(0, _variable_wrapper.isWrapped)(itemData))\r\n    },\r\n    _processItem: function(item) {\r\n        if (\"string\" === typeof item) {\r\n            item = {\r\n                dataField: item\r\n            }\r\n        }\r\n        if (\"object\" === _typeof(item) && !item.itemType) {\r\n            item.itemType = SIMPLE_ITEM_TYPE\r\n        }\r\n        if (!(0, _type.isDefined)(item.editorType) && (0, _type.isDefined)(item.dataField)) {\r\n            var value = this._getDataByField(item.dataField);\r\n            item.editorType = (0, _type.isDefined)(value) ? this._getEditorTypeByDataType((0, _type.type)(value)) : FORM_EDITOR_BY_DEFAULT\r\n        }\r\n        return item\r\n    },\r\n    _getEditorTypeByDataType: function(dataType) {\r\n        switch (dataType) {\r\n            case \"number\":\r\n                return \"dxNumberBox\";\r\n            case \"date\":\r\n                return \"dxDateBox\";\r\n            case \"boolean\":\r\n                return \"dxCheckBox\";\r\n            default:\r\n                return \"dxTextBox\"\r\n        }\r\n    },\r\n    _sortItems: function() {\r\n        (0, _array.normalizeIndexes)(this._items, \"visibleIndex\");\r\n        this._sortIndexes()\r\n    },\r\n    _sortIndexes: function() {\r\n        this._items.sort(function(itemA, itemB) {\r\n            var indexA = itemA.visibleIndex;\r\n            var indexB = itemB.visibleIndex;\r\n            var result;\r\n            if (indexA > indexB) {\r\n                result = 1\r\n            } else {\r\n                if (indexA < indexB) {\r\n                    result = -1\r\n                } else {\r\n                    result = 0\r\n                }\r\n            }\r\n            return result\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this._itemsRunTimeInfo.clear();\r\n        this.$element().addClass(FORM_LAYOUT_MANAGER_CLASS);\r\n        this.callBase();\r\n        this._renderResponsiveBox()\r\n    },\r\n    _hasBrowserFlex: function() {\r\n        return _style2.default.styleProp(LAYOUT_STRATEGY_FLEX) === LAYOUT_STRATEGY_FLEX\r\n    },\r\n    _renderResponsiveBox: function() {\r\n        var that = this;\r\n        var templatesInfo = [];\r\n        if (that._items && that._items.length) {\r\n            var colCount = that._getColCount();\r\n            var $container = (0, _renderer2.default)(\"<div>\").appendTo(that.$element());\r\n            var layoutItems;\r\n            that._prepareItemsWithMerging(colCount);\r\n            layoutItems = that._generateLayoutItems();\r\n            that._extendItemsWithDefaultTemplateOptions(layoutItems, that._items);\r\n            that._responsiveBox = that._createComponent($container, _responsive_box2.default, that._getResponsiveBoxConfig(layoutItems, colCount, templatesInfo));\r\n            if (!_window2.default.hasWindow()) {\r\n                that._renderTemplates(templatesInfo)\r\n            }\r\n        }\r\n    },\r\n    _extendItemsWithDefaultTemplateOptions: function(targetItems, sourceItems) {\r\n        sourceItems.forEach(function(item) {\r\n            if (!item.merged) {\r\n                if ((0, _type.isDefined)(item.disabled)) {\r\n                    targetItems[item.visibleIndex].disabled = item.disabled\r\n                }\r\n                if ((0, _type.isDefined)(item.visible)) {\r\n                    targetItems[item.visibleIndex].visible = item.visible\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _itemStateChangedHandler: function(e) {\r\n        this._refresh()\r\n    },\r\n    _renderTemplate: function($container, item) {\r\n        switch (item.itemType) {\r\n            case \"empty\":\r\n                this._renderEmptyItem($container);\r\n                break;\r\n            case \"button\":\r\n                this._renderButtonItem(item, $container);\r\n                break;\r\n            default:\r\n                this._renderFieldItem(item, $container)\r\n        }\r\n    },\r\n    _renderTemplates: function(templatesInfo) {\r\n        var that = this;\r\n        (0, _iterator.each)(templatesInfo, function(index, info) {\r\n            that._renderTemplate(info.container, info.formItem)\r\n        })\r\n    },\r\n    _getResponsiveBoxConfig: function(layoutItems, colCount, templatesInfo) {\r\n        var that = this;\r\n        var colCountByScreen = that.option(\"colCountByScreen\");\r\n        var xsColCount = colCountByScreen && colCountByScreen.xs;\r\n        return {\r\n            onItemStateChanged: this._itemStateChangedHandler.bind(this),\r\n            _layoutStrategy: that._hasBrowserFlex() ? LAYOUT_STRATEGY_FLEX : LAYOUT_STRATEGY_FALLBACK,\r\n            onLayoutChanged: function onLayoutChanged() {\r\n                var onLayoutChanged = that.option(\"onLayoutChanged\");\r\n                var isSingleColumnMode = that.isSingleColumnMode();\r\n                if (onLayoutChanged) {\r\n                    that.$element().toggleClass(LAYOUT_MANAGER_ONE_COLUMN, isSingleColumnMode);\r\n                    onLayoutChanged(isSingleColumnMode)\r\n                }\r\n            },\r\n            onContentReady: function(e) {\r\n                if (_window2.default.hasWindow()) {\r\n                    that._renderTemplates(templatesInfo)\r\n                }\r\n                if (that.option(\"onLayoutChanged\")) {\r\n                    that.$element().toggleClass(LAYOUT_MANAGER_ONE_COLUMN, that.isSingleColumnMode(e.component))\r\n                }\r\n            },\r\n            itemTemplate: function(e, itemData, itemElement) {\r\n                if (!e.location) {\r\n                    return\r\n                }\r\n                var $itemElement = (0, _renderer2.default)(itemElement);\r\n                var itemRenderedCountInPreviousRows = e.location.row * colCount;\r\n                var item = that._items[e.location.col + itemRenderedCountInPreviousRows];\r\n                var $fieldItem = (0, _renderer2.default)(\"<div>\").addClass(item.cssClass).appendTo($itemElement);\r\n                templatesInfo.push({\r\n                    container: $fieldItem,\r\n                    formItem: item\r\n                });\r\n                $itemElement.toggleClass(SINGLE_COLUMN_ITEM_CONTENT, that.isSingleColumnMode(this));\r\n                if (0 === e.location.row) {\r\n                    $fieldItem.addClass(LAYOUT_MANAGER_FIRST_ROW_CLASS)\r\n                }\r\n                if (0 === e.location.col) {\r\n                    $fieldItem.addClass(LAYOUT_MANAGER_FIRST_COL_CLASS)\r\n                }\r\n                var isLastColumn = e.location.col === colCount - 1 || e.location.col + e.location.colspan === colCount;\r\n                var rowsCount = that._getRowsCount();\r\n                var isLastRow = e.location.row === rowsCount - 1;\r\n                if (isLastColumn) {\r\n                    $fieldItem.addClass(LAYOUT_MANAGER_LAST_COL_CLASS)\r\n                }\r\n                if (isLastRow) {\r\n                    $fieldItem.addClass(LAYOUT_MANAGER_LAST_ROW_CLASS)\r\n                }\r\n            },\r\n            cols: that._generateRatio(colCount),\r\n            rows: that._generateRatio(that._getRowsCount(), true),\r\n            dataSource: layoutItems,\r\n            screenByWidth: that.option(\"screenByWidth\"),\r\n            singleColumnScreen: xsColCount ? false : \"xs\"\r\n        }\r\n    },\r\n    _getColCount: function() {\r\n        var colCount = this.option(\"colCount\");\r\n        var colCountByScreen = this.option(\"colCountByScreen\");\r\n        if (colCountByScreen) {\r\n            var screenFactor = this.option(\"form\").getTargetScreenFactor();\r\n            if (!screenFactor) {\r\n                screenFactor = _window2.default.hasWindow() ? _window2.default.getCurrentScreenFactor(this.option(\"screenByWidth\")) : \"lg\"\r\n            }\r\n            colCount = colCountByScreen[screenFactor] || colCount\r\n        }\r\n        if (\"auto\" === colCount) {\r\n            if (this._cashedColCount) {\r\n                return this._cashedColCount\r\n            }\r\n            this._cashedColCount = colCount = this._getMaxColCount()\r\n        }\r\n        return colCount < 1 ? 1 : colCount\r\n    },\r\n    _getMaxColCount: function() {\r\n        if (!_window2.default.hasWindow()) {\r\n            return 1\r\n        }\r\n        var minColWidth = this.option(\"minColWidth\");\r\n        var width = this.$element().width();\r\n        var itemsCount = this._items.length;\r\n        var maxColCount = Math.floor(width / minColWidth) || 1;\r\n        return itemsCount < maxColCount ? itemsCount : maxColCount\r\n    },\r\n    isCachedColCountObsolete: function() {\r\n        return this._cashedColCount && this._getMaxColCount() !== this._cashedColCount\r\n    },\r\n    _prepareItemsWithMerging: function(colCount) {\r\n        var items = this._items.slice(0);\r\n        var item;\r\n        var itemsMergedByCol;\r\n        var result = [];\r\n        var j;\r\n        var i;\r\n        for (i = 0; i < items.length; i++) {\r\n            item = items[i];\r\n            result.push(item);\r\n            if (this.option(\"alignItemLabels\") || item.alignItemLabels || item.colSpan) {\r\n                item.col = this._getColByIndex(result.length - 1, colCount)\r\n            }\r\n            if (item.colSpan > 1 && item.col + item.colSpan <= colCount) {\r\n                itemsMergedByCol = [];\r\n                for (j = 0; j < item.colSpan - 1; j++) {\r\n                    itemsMergedByCol.push({\r\n                        merged: true\r\n                    })\r\n                }\r\n                result = result.concat(itemsMergedByCol)\r\n            } else {\r\n                delete item.colSpan\r\n            }\r\n        }\r\n        this._items = result\r\n    },\r\n    _getColByIndex: function(index, colCount) {\r\n        return index % colCount\r\n    },\r\n    _generateLayoutItems: function() {\r\n        var items = this._items;\r\n        var colCount = this._getColCount();\r\n        var result = [];\r\n        var item;\r\n        var i;\r\n        for (i = 0; i < items.length; i++) {\r\n            item = items[i];\r\n            if (!item.merged) {\r\n                var generatedItem = {\r\n                    location: {\r\n                        row: parseInt(i / colCount),\r\n                        col: this._getColByIndex(i, colCount)\r\n                    }\r\n                };\r\n                if ((0, _type.isDefined)(item.colSpan)) {\r\n                    generatedItem.location.colspan = item.colSpan\r\n                }\r\n                if ((0, _type.isDefined)(item.rowSpan)) {\r\n                    generatedItem.location.rowspan = item.rowSpan\r\n                }\r\n                result.push(generatedItem)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _renderEmptyItem: function($container) {\r\n        return $container.addClass(FIELD_EMPTY_ITEM_CLASS).html(\"&nbsp;\")\r\n    },\r\n    _getButtonHorizontalAlignment: function(item) {\r\n        if ((0, _type.isDefined)(item.horizontalAlignment)) {\r\n            return item.horizontalAlignment\r\n        }\r\n        if ((0, _type.isDefined)(item.alignment)) {\r\n            _ui2.default.log(\"W0001\", \"dxForm\", \"alignment\", \"18.1\", \"Use the 'horizontalAlignment' option in button items instead.\");\r\n            return item.alignment\r\n        }\r\n        return \"right\"\r\n    },\r\n    _getButtonVerticalAlignment: function(item) {\r\n        switch (item.verticalAlignment) {\r\n            case \"center\":\r\n                return \"center\";\r\n            case \"bottom\":\r\n                return \"flex-end\";\r\n            default:\r\n                return \"flex-start\"\r\n        }\r\n    },\r\n    _renderButtonItem: function(item, $container) {\r\n        var $button = (0, _renderer2.default)(\"<div>\").appendTo($container);\r\n        var defaultOptions = {\r\n            validationGroup: this.option(\"validationGroup\")\r\n        };\r\n        $container.addClass(FIELD_BUTTON_ITEM_CLASS).css(\"textAlign\", this._getButtonHorizontalAlignment(item));\r\n        $container.parent().css(\"justifyContent\", this._getButtonVerticalAlignment(item));\r\n        var instance = this._createComponent($button, \"dxButton\", (0, _extend.extend)(defaultOptions, item.buttonOptions));\r\n        this._itemsRunTimeInfo.add({\r\n            item: item,\r\n            widgetInstance: instance,\r\n            guid: item.guid,\r\n            $itemContainer: $container\r\n        });\r\n        this._addItemClasses($container, item.col);\r\n        return $button\r\n    },\r\n    _addItemClasses: function($item, column) {\r\n        $item.addClass(FIELD_ITEM_CLASS).addClass(this.option(\"cssItemClass\")).addClass((0, _type.isDefined)(column) ? \"dx-col-\" + column : \"\")\r\n    },\r\n    _renderFieldItem: function(item, $container) {\r\n        var that = this;\r\n        var name = that._getName(item);\r\n        var id = that.getItemID(name);\r\n        var isRequired = (0, _type.isDefined)(item.isRequired) ? item.isRequired : !!that._hasRequiredRuleInSet(item.validationRules);\r\n        var labelOptions = that._getLabelOptions(item, id, isRequired);\r\n        var $editor = (0, _renderer2.default)(\"<div>\");\r\n        var helpID = item.helpText ? \"dx-\" + new _guid2.default : null;\r\n        var $label;\r\n        this._addItemClasses($container, item.col);\r\n        $container.addClass(isRequired ? FIELD_ITEM_REQUIRED_CLASS : FIELD_ITEM_OPTIONAL_CLASS);\r\n        if (labelOptions.visible && labelOptions.text) {\r\n            $label = that._renderLabel(labelOptions).appendTo($container)\r\n        }\r\n        if (item.itemType === SIMPLE_ITEM_TYPE) {\r\n            if (that._isLabelNeedBaselineAlign(item) && \"top\" !== labelOptions.location) {\r\n                $container.addClass(FIELD_ITEM_LABEL_ALIGN_CLASS)\r\n            }\r\n            that._hasBrowserFlex() && $container.addClass(FLEX_LAYOUT_CLASS)\r\n        }\r\n        $editor.data(\"dx-form-item\", item);\r\n        that._appendEditorToField({\r\n            $fieldItem: $container,\r\n            $label: $label,\r\n            $editor: $editor,\r\n            labelOptions: labelOptions\r\n        });\r\n        var instance = that._renderEditor({\r\n            $container: $editor,\r\n            dataField: item.dataField,\r\n            name: item.name,\r\n            editorType: item.editorType,\r\n            editorOptions: item.editorOptions,\r\n            template: that._getTemplateByFieldItem(item),\r\n            isRequired: isRequired,\r\n            helpID: helpID,\r\n            labelID: labelOptions.labelID,\r\n            id: id,\r\n            validationBoundary: that.option(\"validationBoundary\")\r\n        });\r\n        this._itemsRunTimeInfo.add({\r\n            item: item,\r\n            widgetInstance: instance,\r\n            guid: item.guid,\r\n            $itemContainer: $container\r\n        });\r\n        var editorElem = $editor.children().first();\r\n        var $validationTarget = editorElem.hasClass(TEMPLATE_WRAPPER_CLASS) ? editorElem.children().first() : editorElem;\r\n        if ($validationTarget && $validationTarget.data(\"dx-validation-target\")) {\r\n            that._renderValidator($validationTarget, item)\r\n        }\r\n        that._renderHelpText(item, $editor, helpID);\r\n        that._attachClickHandler($label, $editor, item.editorType)\r\n    },\r\n    _hasRequiredRuleInSet: function(rules) {\r\n        var hasRequiredRule;\r\n        if (rules && rules.length) {\r\n            (0, _iterator.each)(rules, function(index, rule) {\r\n                if (\"required\" === rule.type) {\r\n                    hasRequiredRule = true;\r\n                    return false\r\n                }\r\n            })\r\n        }\r\n        return hasRequiredRule\r\n    },\r\n    _getName: function(item) {\r\n        return item.dataField || item.name\r\n    },\r\n    _isLabelNeedBaselineAlign: function(item) {\r\n        var largeEditors = [\"dxTextArea\", \"dxRadioGroup\", \"dxCalendar\", \"dxHtmlEditor\"];\r\n        return !!item.helpText && !this._hasBrowserFlex() || (0, _array.inArray)(item.editorType, largeEditors) !== -1\r\n    },\r\n    _isLabelNeedId: function(item) {\r\n        var editorsRequiringIdForLabel = [\"dxRadioGroup\", \"dxCheckBox\", \"dxLookup\", \"dxSlider\", \"dxRangeSlider\", \"dxSwitch\", \"dxHtmlEditor\"];\r\n        return (0, _array.inArray)(item.editorType, editorsRequiringIdForLabel) !== -1\r\n    },\r\n    _getLabelOptions: function(item, id, isRequired) {\r\n        var labelOptions = (0, _extend.extend)({\r\n            showColon: this.option(\"showColonAfterLabel\"),\r\n            location: this.option(\"labelLocation\"),\r\n            id: id,\r\n            visible: true,\r\n            isRequired: isRequired\r\n        }, item ? item.label : {});\r\n        if (this._isLabelNeedId(item)) {\r\n            labelOptions.labelID = \"dx-label-\".concat(new _guid2.default)\r\n        }\r\n        if (!labelOptions.text && item.dataField) {\r\n            labelOptions.text = _inflector2.default.captionize(item.dataField)\r\n        }\r\n        if (labelOptions.text) {\r\n            labelOptions.text += labelOptions.showColon ? \":\" : \"\"\r\n        }\r\n        return labelOptions\r\n    },\r\n    _renderLabel: function(options) {\r\n        var text = options.text,\r\n            id = options.id,\r\n            location = options.location,\r\n            alignment = options.alignment,\r\n            isRequired = options.isRequired,\r\n            _options$labelID = options.labelID,\r\n            labelID = void 0 === _options$labelID ? null : _options$labelID;\r\n        if ((0, _type.isDefined)(text) && text.length > 0) {\r\n            var labelClasses = FIELD_ITEM_LABEL_CLASS + \" \" + FIELD_ITEM_LABEL_LOCATION_CLASS + location;\r\n            var $label = (0, _renderer2.default)(\"<label>\").addClass(labelClasses).attr(\"for\", id).attr(\"id\", labelID);\r\n            var $labelContent = (0, _renderer2.default)(\"<span>\").addClass(FIELD_ITEM_LABEL_CONTENT_CLASS).appendTo($label);\r\n            (0, _renderer2.default)(\"<span>\").addClass(FIELD_ITEM_LABEL_TEXT_CLASS).text(text).appendTo($labelContent);\r\n            if (alignment) {\r\n                $label.css(\"textAlign\", alignment)\r\n            }\r\n            $labelContent.append(this._renderLabelMark(isRequired));\r\n            return $label\r\n        }\r\n    },\r\n    _renderLabelMark: function(isRequired) {\r\n        var $mark;\r\n        var requiredMarksConfig = this._getRequiredMarksConfig();\r\n        var isRequiredMark = requiredMarksConfig.showRequiredMark && isRequired;\r\n        var isOptionalMark = requiredMarksConfig.showOptionalMark && !isRequired;\r\n        if (isRequiredMark || isOptionalMark) {\r\n            var markClass = isRequiredMark ? FIELD_ITEM_REQUIRED_MARK_CLASS : FIELD_ITEM_OPTIONAL_MARK_CLASS;\r\n            var markText = isRequiredMark ? requiredMarksConfig.requiredMark : requiredMarksConfig.optionalMark;\r\n            $mark = (0, _renderer2.default)(\"<span>\").addClass(markClass).html(\"&nbsp\" + markText)\r\n        }\r\n        return $mark\r\n    },\r\n    _getRequiredMarksConfig: function() {\r\n        if (!this._cashedRequiredConfig) {\r\n            this._cashedRequiredConfig = {\r\n                showRequiredMark: this.option(\"showRequiredMark\"),\r\n                showOptionalMark: this.option(\"showOptionalMark\"),\r\n                requiredMark: this.option(\"requiredMark\"),\r\n                optionalMark: this.option(\"optionalMark\")\r\n            }\r\n        }\r\n        return this._cashedRequiredConfig\r\n    },\r\n    _renderEditor: function(options) {\r\n        var dataValue = this._getDataByField(options.dataField);\r\n        var defaultEditorOptions = void 0 !== dataValue ? {\r\n            value: dataValue\r\n        } : {};\r\n        var isDeepExtend = true;\r\n        var editorOptions;\r\n        if (EDITORS_WITH_ARRAY_VALUE.indexOf(options.editorType) !== -1) {\r\n            defaultEditorOptions.value = defaultEditorOptions.value || []\r\n        }\r\n        var formInstance = this.option(\"form\");\r\n        editorOptions = (0, _extend.extend)(isDeepExtend, defaultEditorOptions, options.editorOptions, {\r\n            inputAttr: {\r\n                id: options.id\r\n            },\r\n            validationBoundary: options.validationBoundary,\r\n            stylingMode: formInstance && formInstance.option(\"stylingMode\")\r\n        });\r\n        this._replaceDataOptions(options.editorOptions, editorOptions);\r\n        var renderOptions = {\r\n            editorType: options.editorType,\r\n            dataField: options.dataField,\r\n            template: options.template,\r\n            name: options.name,\r\n            helpID: options.helpID,\r\n            labelID: options.labelID,\r\n            isRequired: options.isRequired\r\n        };\r\n        return this._createEditor(options.$container, renderOptions, editorOptions)\r\n    },\r\n    _replaceDataOptions: function(originalOptions, resultOptions) {\r\n        if (originalOptions) {\r\n            DATA_OPTIONS.forEach(function(item) {\r\n                if (resultOptions[item]) {\r\n                    resultOptions[item] = originalOptions[item]\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _renderValidator: function($editor, item) {\r\n        var fieldName = this._getFieldLabelName(item);\r\n        var validationRules = this._prepareValidationRules(item.validationRules, item.isRequired, item.itemType, fieldName);\r\n        if (Array.isArray(validationRules) && validationRules.length) {\r\n            this._createComponent($editor, _validator2.default, {\r\n                validationRules: validationRules,\r\n                validationGroup: this.option(\"validationGroup\"),\r\n                dataGetter: function() {\r\n                    return {\r\n                        formItem: item\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _getFieldLabelName: function(item) {\r\n        var isItemHaveCustomLabel = item.label && item.label.text;\r\n        var itemName = isItemHaveCustomLabel ? null : this._getName(item);\r\n        return isItemHaveCustomLabel ? item.label.text : itemName && _inflector2.default.captionize(itemName)\r\n    },\r\n    _prepareValidationRules: function(userValidationRules, isItemRequired, itemType, itemName) {\r\n        var isSimpleItem = itemType === SIMPLE_ITEM_TYPE;\r\n        var validationRules;\r\n        if (isSimpleItem) {\r\n            if (userValidationRules) {\r\n                validationRules = userValidationRules\r\n            } else {\r\n                var requiredMessage = _string2.default.format(this.option(\"requiredMessage\"), itemName || \"\");\r\n                validationRules = isItemRequired ? [{\r\n                    type: \"required\",\r\n                    message: requiredMessage\r\n                }] : null\r\n            }\r\n        }\r\n        return validationRules\r\n    },\r\n    _addWrapperInvalidClass: function(editorInstance) {\r\n        var wrapperClass = \".\" + FIELD_ITEM_CONTENT_WRAPPER_CLASS;\r\n        var toggleInvalidClass = function(e) {\r\n            (0, _renderer2.default)(e.element).parents(wrapperClass).toggleClass(INVALID_CLASS, e.component._isFocused() && false === e.component.option(\"isValid\"))\r\n        };\r\n        editorInstance.on(\"focusIn\", toggleInvalidClass).on(\"focusOut\", toggleInvalidClass).on(\"enterKey\", toggleInvalidClass)\r\n    },\r\n    _createEditor: function($container, renderOptions, editorOptions) {\r\n        var that = this;\r\n        var template = renderOptions.template;\r\n        var editorInstance;\r\n        if (renderOptions.dataField && !editorOptions.name) {\r\n            editorOptions.name = renderOptions.dataField\r\n        }\r\n        that._addItemContentClasses($container);\r\n        if (template) {\r\n            var data = {\r\n                dataField: renderOptions.dataField,\r\n                editorType: renderOptions.editorType,\r\n                editorOptions: editorOptions,\r\n                component: that._getComponentOwner(),\r\n                name: renderOptions.name\r\n            };\r\n            template.render({\r\n                model: data,\r\n                container: _dom2.default.getPublicElement($container)\r\n            })\r\n        } else {\r\n            var $editor = (0, _renderer2.default)(\"<div>\").appendTo($container);\r\n            try {\r\n                editorInstance = that._createComponent($editor, renderOptions.editorType, editorOptions);\r\n                editorInstance.setAria(\"describedby\", renderOptions.helpID);\r\n                editorInstance.setAria(\"labelledby\", renderOptions.labelID);\r\n                editorInstance.setAria(\"required\", renderOptions.isRequired);\r\n                if (_themes2.default.isMaterial()) {\r\n                    that._addWrapperInvalidClass(editorInstance)\r\n                }\r\n                if (renderOptions.dataField) {\r\n                    that._bindDataField(editorInstance, renderOptions, $container)\r\n                }\r\n            } catch (e) {\r\n                _ui2.default.log(\"E1035\", e.message)\r\n            }\r\n        }\r\n        return editorInstance\r\n    },\r\n    _getComponentOwner: function() {\r\n        return this.option(\"form\") || this\r\n    },\r\n    _bindDataField: function(editorInstance, renderOptions, $container) {\r\n        var componentOwner = this._getComponentOwner();\r\n        editorInstance.on(\"enterKey\", function(args) {\r\n            componentOwner._createActionByOption(\"onEditorEnterKey\")((0, _extend.extend)(args, {\r\n                dataField: renderOptions.dataField\r\n            }))\r\n        });\r\n        this._createWatcher(editorInstance, $container, renderOptions);\r\n        this.linkEditorToDataField(editorInstance, renderOptions.dataField, renderOptions.editorType)\r\n    },\r\n    _createWatcher: function(editorInstance, $container, renderOptions) {\r\n        var that = this;\r\n        var watch = that._getWatch();\r\n        if (!(0, _type.isFunction)(watch)) {\r\n            return\r\n        }\r\n        var dispose = watch(function() {\r\n            return that._getDataByField(renderOptions.dataField)\r\n        }, function() {\r\n            editorInstance.option(\"value\", that._getDataByField(renderOptions.dataField))\r\n        }, {\r\n            deep: true,\r\n            skipImmediate: true\r\n        });\r\n        _events_engine2.default.on($container, _remove_event2.default, dispose)\r\n    },\r\n    _getWatch: function() {\r\n        if (!(0, _type.isDefined)(this._watch)) {\r\n            var formInstance = this.option(\"form\");\r\n            this._watch = formInstance && formInstance.option(\"integrationOptions.watchMethod\")\r\n        }\r\n        return this._watch\r\n    },\r\n    _addItemContentClasses: function($itemContent) {\r\n        var locationSpecificClass = this._getItemContentLocationSpecificClass();\r\n        $itemContent.addClass([FIELD_ITEM_CONTENT_CLASS, locationSpecificClass].join(\" \"))\r\n    },\r\n    _getItemContentLocationSpecificClass: function() {\r\n        var labelLocation = this.option(\"labelLocation\");\r\n        var oppositeClasses = {\r\n            right: \"left\",\r\n            left: \"right\",\r\n            top: \"bottom\"\r\n        };\r\n        return FIELD_ITEM_CONTENT_LOCATION_CLASS + oppositeClasses[labelLocation]\r\n    },\r\n    _createComponent: function($editor, type, editorOptions) {\r\n        var that = this;\r\n        var readOnlyState = this.option(\"readOnly\");\r\n        var instance;\r\n        instance = that.callBase($editor, type, editorOptions);\r\n        readOnlyState && instance.option(\"readOnly\", readOnlyState);\r\n        that.on(\"optionChanged\", function(args) {\r\n            if (\"readOnly\" === args.name && !(0, _type.isDefined)(editorOptions.readOnly)) {\r\n                instance.option(args.name, args.value)\r\n            }\r\n        });\r\n        return instance\r\n    },\r\n    _getTemplateByFieldItem: function(fieldItem) {\r\n        return fieldItem.template ? this._getTemplate(fieldItem.template) : null\r\n    },\r\n    _appendEditorToField: function(params) {\r\n        if (params.$label) {\r\n            var location = params.labelOptions.location;\r\n            if (\"top\" === location || \"left\" === location) {\r\n                params.$fieldItem.append(params.$editor)\r\n            }\r\n            if (\"right\" === location) {\r\n                params.$fieldItem.prepend(params.$editor)\r\n            }\r\n            this._addInnerItemAlignmentClass(params.$fieldItem, location)\r\n        } else {\r\n            params.$fieldItem.append(params.$editor)\r\n        }\r\n    },\r\n    _addInnerItemAlignmentClass: function($fieldItem, location) {\r\n        if (\"top\" === location) {\r\n            $fieldItem.addClass(LABEL_VERTICAL_ALIGNMENT_CLASS)\r\n        } else {\r\n            $fieldItem.addClass(LABEL_HORIZONTAL_ALIGNMENT_CLASS)\r\n        }\r\n    },\r\n    _renderHelpText: function(fieldItem, $editor, helpID) {\r\n        var helpText = fieldItem.helpText;\r\n        var isSimpleItem = fieldItem.itemType === SIMPLE_ITEM_TYPE;\r\n        if (helpText && isSimpleItem) {\r\n            var $editorWrapper = (0, _renderer2.default)(\"<div>\").addClass(FIELD_ITEM_CONTENT_WRAPPER_CLASS);\r\n            $editor.wrap($editorWrapper);\r\n            (0, _renderer2.default)(\"<div>\").addClass(FIELD_ITEM_HELP_TEXT_CLASS).attr(\"id\", helpID).text(helpText).appendTo($editor.parent())\r\n        }\r\n    },\r\n    _attachClickHandler: function($label, $editor, editorType) {\r\n        var isBooleanEditors = \"dxCheckBox\" === editorType || \"dxSwitch\" === editorType;\r\n        if ($label && isBooleanEditors) {\r\n            _events_engine2.default.on($label, _click2.default.name, function() {\r\n                _events_engine2.default.trigger($editor.children(), _click2.default.name)\r\n            })\r\n        }\r\n    },\r\n    _generateRatio: function(count, isAutoSize) {\r\n        var result = [];\r\n        var ratio;\r\n        var i;\r\n        for (i = 0; i < count; i++) {\r\n            ratio = {\r\n                ratio: 1\r\n            };\r\n            if (isAutoSize) {\r\n                ratio.baseSize = \"auto\"\r\n            }\r\n            result.push(ratio)\r\n        }\r\n        return result\r\n    },\r\n    _getRowsCount: function() {\r\n        return Math.ceil(this._items.length / this._getColCount())\r\n    },\r\n    _updateReferencedOptions: function(newLayoutData) {\r\n        var _this2 = this;\r\n        var layoutData = this.option(\"layoutData\");\r\n        if ((0, _type.isObject)(layoutData)) {\r\n            Object.getOwnPropertyNames(layoutData).forEach(function(property) {\r\n                return delete _this2._optionsByReference[\"layoutData.\" + property]\r\n            })\r\n        }\r\n        if ((0, _type.isObject)(newLayoutData)) {\r\n            Object.getOwnPropertyNames(newLayoutData).forEach(function(property) {\r\n                return _this2._optionsByReference[\"layoutData.\" + property] = true\r\n            })\r\n        }\r\n    },\r\n    _resetWidget: function(instance) {\r\n        this._disableEditorValueChangedHandler = true;\r\n        instance.reset();\r\n        this._disableEditorValueChangedHandler = false;\r\n        instance.option(\"isValid\", true)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var _this3 = this;\r\n        if (0 === args.fullName.search(\"layoutData.\")) {\r\n            return\r\n        }\r\n        switch (args.name) {\r\n            case \"showRequiredMark\":\r\n            case \"showOptionalMark\":\r\n            case \"requiredMark\":\r\n            case \"optionalMark\":\r\n                this._cashedRequiredConfig = null;\r\n                this._invalidate();\r\n                break;\r\n            case \"layoutData\":\r\n                this._updateReferencedOptions(args.value);\r\n                if (this.option(\"items\")) {\r\n                    if (!(0, _type.isEmptyObject)(args.value)) {\r\n                        this._itemsRunTimeInfo.each(function(_, itemRunTimeInfo) {\r\n                            if ((0, _type.isDefined)(itemRunTimeInfo.item)) {\r\n                                var dataField = itemRunTimeInfo.item.dataField;\r\n                                if (dataField && (0, _type.isDefined)(itemRunTimeInfo.widgetInstance)) {\r\n                                    var valueGetter = _data2.default.compileGetter(dataField);\r\n                                    var dataValue = valueGetter(args.value);\r\n                                    if (void 0 === dataValue) {\r\n                                        _this3._resetWidget(itemRunTimeInfo.widgetInstance)\r\n                                    } else {\r\n                                        itemRunTimeInfo.widgetInstance.option(\"value\", dataValue)\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                } else {\r\n                    this._initDataAndItems(args.value);\r\n                    this._invalidate()\r\n                }\r\n                break;\r\n            case \"items\":\r\n                this._cleanItemWatchers();\r\n                this._initDataAndItems(args.value);\r\n                this._invalidate();\r\n                break;\r\n            case \"alignItemLabels\":\r\n            case \"labelLocation\":\r\n            case \"requiredMessage\":\r\n                this._invalidate();\r\n                break;\r\n            case \"customizeItem\":\r\n                this._updateItems(this.option(\"layoutData\"));\r\n                this._invalidate();\r\n                break;\r\n            case \"colCount\":\r\n                this._resetColCount();\r\n                break;\r\n            case \"minColWidth\":\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._resetColCount()\r\n                }\r\n                break;\r\n            case \"readOnly\":\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._resetColCount()\r\n                }\r\n                break;\r\n            case \"onFieldDataChanged\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _resetColCount: function() {\r\n        this._cashedColCount = null;\r\n        this._invalidate()\r\n    },\r\n    linkEditorToDataField: function(editorInstance, dataField) {\r\n        var _this4 = this;\r\n        this.on(\"optionChanged\", function(args) {\r\n            if (args.fullName === \"layoutData.\".concat(dataField)) {\r\n                editorInstance._setOptionSilent(\"value\", args.value)\r\n            }\r\n        });\r\n        editorInstance.on(\"valueChanged\", function(args) {\r\n            if (!_this4._disableEditorValueChangedHandler && !((0, _type.isObject)(args.value) && args.value === args.previousValue)) {\r\n                _this4._updateFieldValue(dataField, args.value)\r\n            }\r\n        })\r\n    },\r\n    _dimensionChanged: function() {\r\n        if (\"auto\" === this.option(\"colCount\") && this.isCachedColCountObsolete()) {\r\n            this.fireEvent(\"autoColCountChanged\")\r\n        }\r\n    },\r\n    getItemID: function(name) {\r\n        var formInstance = this.option(\"form\");\r\n        return formInstance && formInstance.getItemID(name)\r\n    },\r\n    updateData: function(data, value) {\r\n        var that = this;\r\n        if ((0, _type.isObject)(data)) {\r\n            (0, _iterator.each)(data, function(dataField, fieldValue) {\r\n                that._updateFieldValue(dataField, fieldValue)\r\n            })\r\n        } else {\r\n            if (\"string\" === typeof data) {\r\n                that._updateFieldValue(data, value)\r\n            }\r\n        }\r\n    },\r\n    getEditor: function(field) {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByDataField(field) || this._itemsRunTimeInfo.findWidgetInstanceByName(field)\r\n    },\r\n    isSingleColumnMode: function(component) {\r\n        var responsiveBox = this._responsiveBox || component;\r\n        if (responsiveBox) {\r\n            return responsiveBox.option(\"currentScreenFactor\") === responsiveBox.option(\"singleColumnScreen\")\r\n        }\r\n    },\r\n    getItemsRunTimeInfo: function() {\r\n        return this._itemsRunTimeInfo\r\n    }\r\n});\r\n(0, _component_registrator2.default)(\"dxLayoutManager\", LayoutManager);\r\nmodule.exports = LayoutManager;\r\n"]},"metadata":{},"sourceType":"module"}