{"ast":null,"code":"'use strict';\n/* global __resourceQuery WorkerGlobalScope self */\n\n/* eslint prefer-destructuring: off */\n\nvar stripAnsi = require('strip-ansi');\n\nvar socket = require('./socket');\n\nvar overlay = require('./overlay');\n\nvar _require = require('./utils/log'),\n    log = _require.log,\n    setLogLevel = _require.setLogLevel;\n\nvar sendMessage = require('./utils/sendMessage');\n\nvar reloadApp = require('./utils/reloadApp');\n\nvar createSocketUrl = require('./utils/createSocketUrl');\n\nvar status = {\n  isUnloading: false,\n  currentHash: ''\n};\nvar options = {\n  hot: false,\n  hotReload: true,\n  liveReload: false,\n  initial: true,\n  useWarningOverlay: false,\n  useErrorOverlay: false,\n  useProgress: false\n};\nvar socketUrl = createSocketUrl(__resourceQuery);\nself.addEventListener('beforeunload', function () {\n  status.isUnloading = true;\n});\n\nif (typeof window !== 'undefined') {\n  var qs = window.location.search.toLowerCase();\n  options.hotReload = qs.indexOf('hotreload=false') === -1;\n}\n\nvar onSocketMessage = {\n  hot: function hot() {\n    options.hot = true;\n    log.info('[WDS] Hot Module Replacement enabled.');\n  },\n  liveReload: function liveReload() {\n    options.liveReload = true;\n    log.info('[WDS] Live Reloading enabled.');\n  },\n  invalid: function invalid() {\n    log.info('[WDS] App updated. Recompiling...'); // fixes #1042. overlay doesn't clear if errors are fixed but warnings remain.\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    sendMessage('Invalid');\n  },\n  hash: function hash(_hash) {\n    status.currentHash = _hash;\n  },\n  'still-ok': function stillOk() {\n    log.info('[WDS] Nothing changed.');\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    sendMessage('StillOk');\n  },\n  'log-level': function logLevel(level) {\n    var hotCtx = require.context('webpack/hot', false, /^\\.\\/log$/);\n\n    if (hotCtx.keys().indexOf('./log') !== -1) {\n      hotCtx('./log').setLogLevel(level);\n    }\n\n    setLogLevel(level);\n  },\n  overlay: function overlay(value) {\n    if (typeof document !== 'undefined') {\n      if (typeof value === 'boolean') {\n        options.useWarningOverlay = false;\n        options.useErrorOverlay = value;\n      } else if (value) {\n        options.useWarningOverlay = value.warnings;\n        options.useErrorOverlay = value.errors;\n      }\n    }\n  },\n  progress: function progress(_progress) {\n    if (typeof document !== 'undefined') {\n      options.useProgress = _progress;\n    }\n  },\n  'progress-update': function progressUpdate(data) {\n    if (options.useProgress) {\n      log.info(\"[WDS] \".concat(data.percent, \"% - \").concat(data.msg, \".\"));\n    }\n\n    sendMessage('Progress', data);\n  },\n  ok: function ok() {\n    sendMessage('Ok');\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    if (options.initial) {\n      return options.initial = false;\n    } // eslint-disable-line no-return-assign\n\n\n    reloadApp(options, status);\n  },\n  'content-changed': function contentChanged() {\n    log.info('[WDS] Content base changed. Reloading...');\n    self.location.reload();\n  },\n  warnings: function warnings(_warnings) {\n    log.warn('[WDS] Warnings while compiling.');\n\n    var strippedWarnings = _warnings.map(function (warning) {\n      return stripAnsi(warning);\n    });\n\n    sendMessage('Warnings', strippedWarnings);\n\n    for (var i = 0; i < strippedWarnings.length; i++) {\n      log.warn(strippedWarnings[i]);\n    }\n\n    if (options.useWarningOverlay) {\n      overlay.showMessage(_warnings);\n    }\n\n    if (options.initial) {\n      return options.initial = false;\n    } // eslint-disable-line no-return-assign\n\n\n    reloadApp(options, status);\n  },\n  errors: function errors(_errors) {\n    log.error('[WDS] Errors while compiling. Reload prevented.');\n\n    var strippedErrors = _errors.map(function (error) {\n      return stripAnsi(error);\n    });\n\n    sendMessage('Errors', strippedErrors);\n\n    for (var i = 0; i < strippedErrors.length; i++) {\n      log.error(strippedErrors[i]);\n    }\n\n    if (options.useErrorOverlay) {\n      overlay.showMessage(_errors);\n    }\n\n    options.initial = false;\n  },\n  error: function error(_error) {\n    log.error(_error);\n  },\n  close: function close() {\n    log.error('[WDS] Disconnected!');\n    sendMessage('Close');\n  }\n};\nsocket(socketUrl, onSocketMessage);","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/webpack-dev-server/client/index.js"],"names":["stripAnsi","require","socket","overlay","_require","log","setLogLevel","sendMessage","reloadApp","createSocketUrl","status","isUnloading","currentHash","options","hot","hotReload","liveReload","initial","useWarningOverlay","useErrorOverlay","useProgress","socketUrl","self","qs","window","onSocketMessage","invalid","hash","hotCtx","value","progress","data","ok","warnings","strippedWarnings","i","errors","strippedErrors","error","close"],"mappings":"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","sourcesContent":["'use strict';\r\n/* global __resourceQuery WorkerGlobalScope self */\r\n\r\n/* eslint prefer-destructuring: off */\r\n\r\nvar stripAnsi = require('strip-ansi');\r\n\r\nvar socket = require('./socket');\r\n\r\nvar overlay = require('./overlay');\r\n\r\nvar _require = require('./utils/log'),\r\n    log = _require.log,\r\n    setLogLevel = _require.setLogLevel;\r\n\r\nvar sendMessage = require('./utils/sendMessage');\r\n\r\nvar reloadApp = require('./utils/reloadApp');\r\n\r\nvar createSocketUrl = require('./utils/createSocketUrl');\r\n\r\nvar status = {\r\n  isUnloading: false,\r\n  currentHash: ''\r\n};\r\nvar options = {\r\n  hot: false,\r\n  hotReload: true,\r\n  liveReload: false,\r\n  initial: true,\r\n  useWarningOverlay: false,\r\n  useErrorOverlay: false,\r\n  useProgress: false\r\n};\r\nvar socketUrl = createSocketUrl(__resourceQuery);\r\nself.addEventListener('beforeunload', function () {\r\n  status.isUnloading = true;\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n  var qs = window.location.search.toLowerCase();\r\n  options.hotReload = qs.indexOf('hotreload=false') === -1;\r\n}\r\n\r\nvar onSocketMessage = {\r\n  hot: function hot() {\r\n    options.hot = true;\r\n    log.info('[WDS] Hot Module Replacement enabled.');\r\n  },\r\n  liveReload: function liveReload() {\r\n    options.liveReload = true;\r\n    log.info('[WDS] Live Reloading enabled.');\r\n  },\r\n  invalid: function invalid() {\r\n    log.info('[WDS] App updated. Recompiling...'); // fixes #1042. overlay doesn't clear if errors are fixed but warnings remain.\r\n\r\n    if (options.useWarningOverlay || options.useErrorOverlay) {\r\n      overlay.clear();\r\n    }\r\n\r\n    sendMessage('Invalid');\r\n  },\r\n  hash: function hash(_hash) {\r\n    status.currentHash = _hash;\r\n  },\r\n  'still-ok': function stillOk() {\r\n    log.info('[WDS] Nothing changed.');\r\n\r\n    if (options.useWarningOverlay || options.useErrorOverlay) {\r\n      overlay.clear();\r\n    }\r\n\r\n    sendMessage('StillOk');\r\n  },\r\n  'log-level': function logLevel(level) {\r\n    var hotCtx = require.context('webpack/hot', false, /^\\.\\/log$/);\r\n\r\n    if (hotCtx.keys().indexOf('./log') !== -1) {\r\n      hotCtx('./log').setLogLevel(level);\r\n    }\r\n\r\n    setLogLevel(level);\r\n  },\r\n  overlay: function overlay(value) {\r\n    if (typeof document !== 'undefined') {\r\n      if (typeof value === 'boolean') {\r\n        options.useWarningOverlay = false;\r\n        options.useErrorOverlay = value;\r\n      } else if (value) {\r\n        options.useWarningOverlay = value.warnings;\r\n        options.useErrorOverlay = value.errors;\r\n      }\r\n    }\r\n  },\r\n  progress: function progress(_progress) {\r\n    if (typeof document !== 'undefined') {\r\n      options.useProgress = _progress;\r\n    }\r\n  },\r\n  'progress-update': function progressUpdate(data) {\r\n    if (options.useProgress) {\r\n      log.info(\"[WDS] \".concat(data.percent, \"% - \").concat(data.msg, \".\"));\r\n    }\r\n\r\n    sendMessage('Progress', data);\r\n  },\r\n  ok: function ok() {\r\n    sendMessage('Ok');\r\n\r\n    if (options.useWarningOverlay || options.useErrorOverlay) {\r\n      overlay.clear();\r\n    }\r\n\r\n    if (options.initial) {\r\n      return options.initial = false;\r\n    } // eslint-disable-line no-return-assign\r\n\r\n\r\n    reloadApp(options, status);\r\n  },\r\n  'content-changed': function contentChanged() {\r\n    log.info('[WDS] Content base changed. Reloading...');\r\n    self.location.reload();\r\n  },\r\n  warnings: function warnings(_warnings) {\r\n    log.warn('[WDS] Warnings while compiling.');\r\n\r\n    var strippedWarnings = _warnings.map(function (warning) {\r\n      return stripAnsi(warning);\r\n    });\r\n\r\n    sendMessage('Warnings', strippedWarnings);\r\n\r\n    for (var i = 0; i < strippedWarnings.length; i++) {\r\n      log.warn(strippedWarnings[i]);\r\n    }\r\n\r\n    if (options.useWarningOverlay) {\r\n      overlay.showMessage(_warnings);\r\n    }\r\n\r\n    if (options.initial) {\r\n      return options.initial = false;\r\n    } // eslint-disable-line no-return-assign\r\n\r\n\r\n    reloadApp(options, status);\r\n  },\r\n  errors: function errors(_errors) {\r\n    log.error('[WDS] Errors while compiling. Reload prevented.');\r\n\r\n    var strippedErrors = _errors.map(function (error) {\r\n      return stripAnsi(error);\r\n    });\r\n\r\n    sendMessage('Errors', strippedErrors);\r\n\r\n    for (var i = 0; i < strippedErrors.length; i++) {\r\n      log.error(strippedErrors[i]);\r\n    }\r\n\r\n    if (options.useErrorOverlay) {\r\n      overlay.showMessage(_errors);\r\n    }\r\n\r\n    options.initial = false;\r\n  },\r\n  error: function error(_error) {\r\n    log.error(_error);\r\n  },\r\n  close: function close() {\r\n    log.error('[WDS] Disconnected!');\r\n    sendMessage('Close');\r\n  }\r\n};\r\nsocket(socketUrl, onSocketMessage);"]},"metadata":{},"sourceType":"module"}