{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/timezones/ui.scheduler.timezones.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar query = require(\"../../../data/query\");\n\nvar errors = require(\"../../../core/errors\");\n\nvar tzData = require(\"./ui.scheduler.timezones_data\");\n\nvar SchedulerTimezones = {\n  _displayNames: tzData.displayNames,\n  _list: tzData.timezones,\n  getTimezones: function getTimezones() {\n    return this._list;\n  },\n  getDisplayNames: function getDisplayNames() {\n    return this._displayNames;\n  },\n  queryableTimezones: function queryableTimezones() {\n    return query(this.getTimezones());\n  },\n  getTimezoneById: function getTimezoneById(id) {\n    var result;\n    var i = 0;\n    var tzList = this.getTimezones();\n\n    if (id) {\n      while (!result) {\n        if (!tzList[i]) {\n          errors.log(\"W0009\", id);\n          return;\n        }\n\n        var currentId = tzList[i].id;\n\n        if (currentId === id) {\n          result = tzList[i];\n        }\n\n        i++;\n      }\n    }\n\n    return result;\n  },\n  getTimezoneOffsetById: function getTimezoneOffsetById(id, dateTimeStamp) {\n    var tz = this.getTimezoneById(id);\n    var offsets;\n    var offsetIndices;\n    var untils;\n    var result;\n\n    if (tz) {\n      if (tz.link) {\n        var rootTz = this.getTimezones()[tz.link];\n        offsets = rootTz.offsets;\n        untils = rootTz.untils;\n        offsetIndices = rootTz.offsetIndices;\n      } else {\n        offsets = tz.offsets;\n        untils = tz.untils;\n        offsetIndices = tz.offsetIndices;\n      }\n\n      result = this.getUtcOffset(offsets, offsetIndices, untils, dateTimeStamp);\n    }\n\n    return result;\n  },\n  getUtcOffset: function getUtcOffset(offsets, offsetIndices, untils, dateTimeStamp) {\n    var index = 0;\n    var offsetIndicesList = offsetIndices.split(\"\");\n    var untilsList = untils.split(\"|\").map(function (until) {\n      if (\"Infinity\" === until) {\n        return null;\n      }\n\n      return 1e3 * parseInt(until, 36);\n    });\n    var currentUntil = 0;\n\n    for (var i = 0, listLength = untilsList.length; i < listLength; i++) {\n      currentUntil += untilsList[i];\n\n      if (dateTimeStamp >= currentUntil) {\n        index = i;\n        continue;\n      } else {\n        break;\n      }\n    }\n\n    if (untilsList[index + 1]) {\n      index++;\n    }\n\n    return offsets[Number(offsetIndicesList[index])];\n  },\n  getTimezoneShortDisplayNameById: function getTimezoneShortDisplayNameById(id) {\n    var tz = this.getTimezoneById(id);\n    var result;\n\n    if (tz) {\n      result = tz.DisplayName.substring(0, 11);\n    }\n\n    return result;\n  },\n  getTimezonesDisplayName: function getTimezonesDisplayName() {\n    return query(this.getDisplayNames()).sortBy().toArray();\n  },\n  getTimezoneDisplayNameById: function getTimezoneDisplayNameById(id) {\n    var tz = this.getTimezoneById(id);\n    return tz ? this.getDisplayNames()[tz.winIndex] : \"\";\n  },\n  getSimilarTimezones: function getSimilarTimezones(id) {\n    if (!id) {\n      return [];\n    }\n\n    var tz = this.getTimezoneById(id);\n    return this.getTimezonesIdsByWinIndex(tz.winIndex);\n  },\n  getTimezonesIdsByWinIndex: function getTimezonesIdsByWinIndex(winIndex) {\n    return this.queryableTimezones().filter([\"winIndex\", winIndex]).sortBy(\"title\").toArray().map(function (item) {\n      return {\n        id: item.id,\n        displayName: item.title\n      };\n    });\n  },\n  getTimezonesIdsByDisplayName: function getTimezonesIdsByDisplayName(displayName) {\n    var displayNameIndex = this.getDisplayNames().indexOf(displayName);\n    return this.getTimezonesIdsByWinIndex(displayNameIndex);\n  },\n  getClientTimezoneOffset: function getClientTimezoneOffset(date) {\n    return 6e4 * date.getTimezoneOffset();\n  },\n  processDateDependOnTimezone: function processDateDependOnTimezone(date, tzOffset) {\n    var result = new Date(date);\n\n    if (tzOffset) {\n      var tzDiff = tzOffset + this.getClientTimezoneOffset(date) / 36e5;\n      result = new Date(result.setHours(result.getHours() + tzDiff));\n    }\n\n    return result;\n  }\n};\nmodule.exports = SchedulerTimezones;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/scheduler/timezones/ui.scheduler.timezones.js"],"names":["query","require","errors","tzData","SchedulerTimezones","_displayNames","_list","getTimezones","getDisplayNames","queryableTimezones","getTimezoneById","i","tzList","currentId","result","getTimezoneOffsetById","tz","rootTz","offsets","untils","offsetIndices","getUtcOffset","index","offsetIndicesList","untilsList","parseInt","currentUntil","listLength","dateTimeStamp","Number","getTimezoneShortDisplayNameById","getTimezonesDisplayName","getTimezoneDisplayNameById","getSimilarTimezones","getTimezonesIdsByWinIndex","id","item","displayName","title","getTimezonesIdsByDisplayName","displayNameIndex","getClientTimezoneOffset","date","processDateDependOnTimezone","tzDiff","tzOffset","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/timezones/ui.scheduler.timezones.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar query = require(\"../../../data/query\");\r\nvar errors = require(\"../../../core/errors\");\r\nvar tzData = require(\"./ui.scheduler.timezones_data\");\r\nvar SchedulerTimezones = {\r\n    _displayNames: tzData.displayNames,\r\n    _list: tzData.timezones,\r\n    getTimezones: function() {\r\n        return this._list\r\n    },\r\n    getDisplayNames: function() {\r\n        return this._displayNames\r\n    },\r\n    queryableTimezones: function() {\r\n        return query(this.getTimezones())\r\n    },\r\n    getTimezoneById: function(id) {\r\n        var result;\r\n        var i = 0;\r\n        var tzList = this.getTimezones();\r\n        if (id) {\r\n            while (!result) {\r\n                if (!tzList[i]) {\r\n                    errors.log(\"W0009\", id);\r\n                    return\r\n                }\r\n                var currentId = tzList[i].id;\r\n                if (currentId === id) {\r\n                    result = tzList[i]\r\n                }\r\n                i++\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    getTimezoneOffsetById: function(id, dateTimeStamp) {\r\n        var tz = this.getTimezoneById(id);\r\n        var offsets;\r\n        var offsetIndices;\r\n        var untils;\r\n        var result;\r\n        if (tz) {\r\n            if (tz.link) {\r\n                var rootTz = this.getTimezones()[tz.link];\r\n                offsets = rootTz.offsets;\r\n                untils = rootTz.untils;\r\n                offsetIndices = rootTz.offsetIndices\r\n            } else {\r\n                offsets = tz.offsets;\r\n                untils = tz.untils;\r\n                offsetIndices = tz.offsetIndices\r\n            }\r\n            result = this.getUtcOffset(offsets, offsetIndices, untils, dateTimeStamp)\r\n        }\r\n        return result\r\n    },\r\n    getUtcOffset: function(offsets, offsetIndices, untils, dateTimeStamp) {\r\n        var index = 0;\r\n        var offsetIndicesList = offsetIndices.split(\"\");\r\n        var untilsList = untils.split(\"|\").map(function(until) {\r\n            if (\"Infinity\" === until) {\r\n                return null\r\n            }\r\n            return 1e3 * parseInt(until, 36)\r\n        });\r\n        var currentUntil = 0;\r\n        for (var i = 0, listLength = untilsList.length; i < listLength; i++) {\r\n            currentUntil += untilsList[i];\r\n            if (dateTimeStamp >= currentUntil) {\r\n                index = i;\r\n                continue\r\n            } else {\r\n                break\r\n            }\r\n        }\r\n        if (untilsList[index + 1]) {\r\n            index++\r\n        }\r\n        return offsets[Number(offsetIndicesList[index])]\r\n    },\r\n    getTimezoneShortDisplayNameById: function(id) {\r\n        var tz = this.getTimezoneById(id);\r\n        var result;\r\n        if (tz) {\r\n            result = tz.DisplayName.substring(0, 11)\r\n        }\r\n        return result\r\n    },\r\n    getTimezonesDisplayName: function() {\r\n        return query(this.getDisplayNames()).sortBy().toArray()\r\n    },\r\n    getTimezoneDisplayNameById: function(id) {\r\n        var tz = this.getTimezoneById(id);\r\n        return tz ? this.getDisplayNames()[tz.winIndex] : \"\"\r\n    },\r\n    getSimilarTimezones: function(id) {\r\n        if (!id) {\r\n            return []\r\n        }\r\n        var tz = this.getTimezoneById(id);\r\n        return this.getTimezonesIdsByWinIndex(tz.winIndex)\r\n    },\r\n    getTimezonesIdsByWinIndex: function(winIndex) {\r\n        return this.queryableTimezones().filter([\"winIndex\", winIndex]).sortBy(\"title\").toArray().map(function(item) {\r\n            return {\r\n                id: item.id,\r\n                displayName: item.title\r\n            }\r\n        })\r\n    },\r\n    getTimezonesIdsByDisplayName: function(displayName) {\r\n        var displayNameIndex = this.getDisplayNames().indexOf(displayName);\r\n        return this.getTimezonesIdsByWinIndex(displayNameIndex)\r\n    },\r\n    getClientTimezoneOffset: function(date) {\r\n        return 6e4 * date.getTimezoneOffset()\r\n    },\r\n    processDateDependOnTimezone: function(date, tzOffset) {\r\n        var result = new Date(date);\r\n        if (tzOffset) {\r\n            var tzDiff = tzOffset + this.getClientTimezoneOffset(date) / 36e5;\r\n            result = new Date(result.setHours(result.getHours() + tzDiff))\r\n        }\r\n        return result\r\n    }\r\n};\r\nmodule.exports = SchedulerTimezones;\r\n"]},"metadata":{},"sourceType":"module"}