{"ast":null,"code":"/**\r\n * DevExtreme (format_helper.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar typeUtils = require(\"./core/utils/type\");\n\nvar dateUtils = require(\"./core/utils/date\");\n\nvar numberLocalization = require(\"./localization/number\");\n\nvar dateLocalization = require(\"./localization/date\");\n\nvar dependencyInjector = require(\"./core/utils/dependency_injector\");\n\nrequire(\"./localization/currency\");\n\nmodule.exports = dependencyInjector({\n  format: function format(value, _format) {\n    var formatIsValid = typeUtils.isString(_format) && \"\" !== _format || typeUtils.isPlainObject(_format) || typeUtils.isFunction(_format);\n    var valueIsValid = typeUtils.isNumeric(value) || typeUtils.isDate(value);\n\n    if (!formatIsValid || !valueIsValid) {\n      return typeUtils.isDefined(value) ? value.toString() : \"\";\n    }\n\n    if (typeUtils.isFunction(_format)) {\n      return _format(value);\n    }\n\n    if (typeUtils.isString(_format)) {\n      _format = {\n        type: _format\n      };\n    }\n\n    if (typeUtils.isNumeric(value)) {\n      return numberLocalization.format(value, _format);\n    }\n\n    if (typeUtils.isDate(value)) {\n      return dateLocalization.format(value, _format);\n    }\n  },\n  getTimeFormat: function getTimeFormat(showSecond) {\n    return showSecond ? \"longtime\" : \"shorttime\";\n  },\n  _normalizeFormat: function _normalizeFormat(format) {\n    if (!Array.isArray(format)) {\n      return format;\n    }\n\n    if (1 === format.length) {\n      return format[0];\n    }\n\n    return function (date) {\n      return format.map(function (formatPart) {\n        return dateLocalization.format(date, formatPart);\n      }).join(\" \");\n    };\n  },\n  getDateFormatByDifferences: function getDateFormatByDifferences(dateDifferences, intervalFormat) {\n    var resultFormat = [];\n    var needSpecialSecondFormatter = intervalFormat && dateDifferences.millisecond && !(dateDifferences.year || dateDifferences.month || dateDifferences.day);\n\n    if (needSpecialSecondFormatter) {\n      var secondFormatter = function secondFormatter(date) {\n        return date.getSeconds() + date.getMilliseconds() / 1e3 + \"s\";\n      };\n\n      resultFormat.push(secondFormatter);\n    } else {\n      if (dateDifferences.millisecond) {\n        resultFormat.push(\"millisecond\");\n      }\n    }\n\n    if (dateDifferences.hour || dateDifferences.minute || !needSpecialSecondFormatter && dateDifferences.second) {\n      resultFormat.unshift(this.getTimeFormat(dateDifferences.second));\n    }\n\n    if (dateDifferences.year && dateDifferences.month && dateDifferences.day) {\n      if (intervalFormat && \"month\" === intervalFormat) {\n        return \"monthandyear\";\n      } else {\n        resultFormat.unshift(\"shortdate\");\n        return this._normalizeFormat(resultFormat);\n      }\n    }\n\n    if (dateDifferences.year && dateDifferences.month) {\n      return \"monthandyear\";\n    }\n\n    if (dateDifferences.year && dateDifferences.quarter) {\n      return \"quarterandyear\";\n    }\n\n    if (dateDifferences.year) {\n      return \"year\";\n    }\n\n    if (dateDifferences.quarter) {\n      return \"quarter\";\n    }\n\n    if (dateDifferences.month && dateDifferences.day) {\n      if (intervalFormat) {\n        var monthDayFormatter = function monthDayFormatter(date) {\n          return dateLocalization.getMonthNames(\"abbreviated\")[date.getMonth()] + \" \" + dateLocalization.format(date, \"day\");\n        };\n\n        resultFormat.unshift(monthDayFormatter);\n      } else {\n        resultFormat.unshift(\"monthandday\");\n      }\n\n      return this._normalizeFormat(resultFormat);\n    }\n\n    if (dateDifferences.month) {\n      return \"month\";\n    }\n\n    if (dateDifferences.day) {\n      if (intervalFormat) {\n        resultFormat.unshift(\"day\");\n      } else {\n        var dayFormatter = function dayFormatter(date) {\n          return dateLocalization.format(date, \"dayofweek\") + \", \" + dateLocalization.format(date, \"day\");\n        };\n\n        resultFormat.unshift(dayFormatter);\n      }\n\n      return this._normalizeFormat(resultFormat);\n    }\n\n    return this._normalizeFormat(resultFormat);\n  },\n  getDateFormatByTicks: function getDateFormatByTicks(ticks) {\n    var resultFormat;\n    var maxDiff;\n    var currentDiff;\n    var i;\n\n    if (ticks.length > 1) {\n      maxDiff = dateUtils.getDatesDifferences(ticks[0], ticks[1]);\n\n      for (i = 1; i < ticks.length - 1; i++) {\n        currentDiff = dateUtils.getDatesDifferences(ticks[i], ticks[i + 1]);\n\n        if (maxDiff.count < currentDiff.count) {\n          maxDiff = currentDiff;\n        }\n      }\n    } else {\n      maxDiff = {\n        year: true,\n        month: true,\n        day: true,\n        hour: ticks[0].getHours() > 0,\n        minute: ticks[0].getMinutes() > 0,\n        second: ticks[0].getSeconds() > 0,\n        millisecond: ticks[0].getMilliseconds() > 0\n      };\n    }\n\n    resultFormat = this.getDateFormatByDifferences(maxDiff);\n    return resultFormat;\n  },\n  getDateFormatByTickInterval: function getDateFormatByTickInterval(startValue, endValue, tickInterval) {\n    var resultFormat;\n    var dateDifferences;\n    var dateUnitInterval;\n    var dateDifferencesConverter = {\n      week: \"day\"\n    };\n\n    var correctDateDifferences = function correctDateDifferences(dateDifferences, tickInterval, value) {\n      switch (tickInterval) {\n        case \"year\":\n        case \"quarter\":\n          dateDifferences.month = value;\n\n        case \"month\":\n          dateDifferences.day = value;\n\n        case \"week\":\n        case \"day\":\n          dateDifferences.hour = value;\n\n        case \"hour\":\n          dateDifferences.minute = value;\n\n        case \"minute\":\n          dateDifferences.second = value;\n\n        case \"second\":\n          dateDifferences.millisecond = value;\n      }\n    };\n\n    var correctDifferencesByMaxDate = function correctDifferencesByMaxDate(differences, minDate, maxDate) {\n      if (!maxDate.getMilliseconds() && maxDate.getSeconds()) {\n        if (maxDate.getSeconds() - minDate.getSeconds() === 1) {\n          differences.millisecond = true;\n          differences.second = false;\n        }\n      } else {\n        if (!maxDate.getSeconds() && maxDate.getMinutes()) {\n          if (maxDate.getMinutes() - minDate.getMinutes() === 1) {\n            differences.second = true;\n            differences.minute = false;\n          }\n        } else {\n          if (!maxDate.getMinutes() && maxDate.getHours()) {\n            if (maxDate.getHours() - minDate.getHours() === 1) {\n              differences.minute = true;\n              differences.hour = false;\n            }\n          } else {\n            if (!maxDate.getHours() && maxDate.getDate() > 1) {\n              if (maxDate.getDate() - minDate.getDate() === 1) {\n                differences.hour = true;\n                differences.day = false;\n              }\n            } else {\n              if (1 === maxDate.getDate() && maxDate.getMonth()) {\n                if (maxDate.getMonth() - minDate.getMonth() === 1) {\n                  differences.day = true;\n                  differences.month = false;\n                }\n              } else {\n                if (!maxDate.getMonth() && maxDate.getFullYear()) {\n                  if (maxDate.getFullYear() - minDate.getFullYear() === 1) {\n                    differences.month = true;\n                    differences.year = false;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    };\n\n    tickInterval = typeUtils.isString(tickInterval) ? tickInterval.toLowerCase() : tickInterval;\n    dateDifferences = dateUtils.getDatesDifferences(startValue, endValue);\n\n    if (startValue !== endValue) {\n      correctDifferencesByMaxDate(dateDifferences, startValue > endValue ? endValue : startValue, startValue > endValue ? startValue : endValue);\n    }\n\n    dateUnitInterval = dateUtils.getDateUnitInterval(dateDifferences);\n    correctDateDifferences(dateDifferences, dateUnitInterval, true);\n    dateUnitInterval = dateUtils.getDateUnitInterval(tickInterval || \"second\");\n    correctDateDifferences(dateDifferences, dateUnitInterval, false);\n    dateDifferences[dateDifferencesConverter[dateUnitInterval] || dateUnitInterval] = true;\n    resultFormat = this.getDateFormatByDifferences(dateDifferences);\n    return resultFormat;\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/format_helper.js"],"names":["typeUtils","require","dateUtils","numberLocalization","dateLocalization","dependencyInjector","module","format","formatIsValid","valueIsValid","value","_format","type","getTimeFormat","showSecond","_normalizeFormat","Array","getDateFormatByDifferences","resultFormat","needSpecialSecondFormatter","intervalFormat","dateDifferences","secondFormatter","date","monthDayFormatter","dayFormatter","getDateFormatByTicks","ticks","maxDiff","i","currentDiff","year","month","day","hour","minute","second","millisecond","getDateFormatByTickInterval","dateDifferencesConverter","week","correctDateDifferences","correctDifferencesByMaxDate","maxDate","minDate","differences","tickInterval","startValue","dateUnitInterval"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (format_helper.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar typeUtils = require(\"./core/utils/type\");\r\nvar dateUtils = require(\"./core/utils/date\");\r\nvar numberLocalization = require(\"./localization/number\");\r\nvar dateLocalization = require(\"./localization/date\");\r\nvar dependencyInjector = require(\"./core/utils/dependency_injector\");\r\nrequire(\"./localization/currency\");\r\nmodule.exports = dependencyInjector({\r\n    format: function(value, _format) {\r\n        var formatIsValid = typeUtils.isString(_format) && \"\" !== _format || typeUtils.isPlainObject(_format) || typeUtils.isFunction(_format);\r\n        var valueIsValid = typeUtils.isNumeric(value) || typeUtils.isDate(value);\r\n        if (!formatIsValid || !valueIsValid) {\r\n            return typeUtils.isDefined(value) ? value.toString() : \"\"\r\n        }\r\n        if (typeUtils.isFunction(_format)) {\r\n            return _format(value)\r\n        }\r\n        if (typeUtils.isString(_format)) {\r\n            _format = {\r\n                type: _format\r\n            }\r\n        }\r\n        if (typeUtils.isNumeric(value)) {\r\n            return numberLocalization.format(value, _format)\r\n        }\r\n        if (typeUtils.isDate(value)) {\r\n            return dateLocalization.format(value, _format)\r\n        }\r\n    },\r\n    getTimeFormat: function(showSecond) {\r\n        return showSecond ? \"longtime\" : \"shorttime\"\r\n    },\r\n    _normalizeFormat: function(format) {\r\n        if (!Array.isArray(format)) {\r\n            return format\r\n        }\r\n        if (1 === format.length) {\r\n            return format[0]\r\n        }\r\n        return function(date) {\r\n            return format.map(function(formatPart) {\r\n                return dateLocalization.format(date, formatPart)\r\n            }).join(\" \")\r\n        }\r\n    },\r\n    getDateFormatByDifferences: function(dateDifferences, intervalFormat) {\r\n        var resultFormat = [];\r\n        var needSpecialSecondFormatter = intervalFormat && dateDifferences.millisecond && !(dateDifferences.year || dateDifferences.month || dateDifferences.day);\r\n        if (needSpecialSecondFormatter) {\r\n            var secondFormatter = function(date) {\r\n                return date.getSeconds() + date.getMilliseconds() / 1e3 + \"s\"\r\n            };\r\n            resultFormat.push(secondFormatter)\r\n        } else {\r\n            if (dateDifferences.millisecond) {\r\n                resultFormat.push(\"millisecond\")\r\n            }\r\n        }\r\n        if (dateDifferences.hour || dateDifferences.minute || !needSpecialSecondFormatter && dateDifferences.second) {\r\n            resultFormat.unshift(this.getTimeFormat(dateDifferences.second))\r\n        }\r\n        if (dateDifferences.year && dateDifferences.month && dateDifferences.day) {\r\n            if (intervalFormat && \"month\" === intervalFormat) {\r\n                return \"monthandyear\"\r\n            } else {\r\n                resultFormat.unshift(\"shortdate\");\r\n                return this._normalizeFormat(resultFormat)\r\n            }\r\n        }\r\n        if (dateDifferences.year && dateDifferences.month) {\r\n            return \"monthandyear\"\r\n        }\r\n        if (dateDifferences.year && dateDifferences.quarter) {\r\n            return \"quarterandyear\"\r\n        }\r\n        if (dateDifferences.year) {\r\n            return \"year\"\r\n        }\r\n        if (dateDifferences.quarter) {\r\n            return \"quarter\"\r\n        }\r\n        if (dateDifferences.month && dateDifferences.day) {\r\n            if (intervalFormat) {\r\n                var monthDayFormatter = function(date) {\r\n                    return dateLocalization.getMonthNames(\"abbreviated\")[date.getMonth()] + \" \" + dateLocalization.format(date, \"day\")\r\n                };\r\n                resultFormat.unshift(monthDayFormatter)\r\n            } else {\r\n                resultFormat.unshift(\"monthandday\")\r\n            }\r\n            return this._normalizeFormat(resultFormat)\r\n        }\r\n        if (dateDifferences.month) {\r\n            return \"month\"\r\n        }\r\n        if (dateDifferences.day) {\r\n            if (intervalFormat) {\r\n                resultFormat.unshift(\"day\")\r\n            } else {\r\n                var dayFormatter = function(date) {\r\n                    return dateLocalization.format(date, \"dayofweek\") + \", \" + dateLocalization.format(date, \"day\")\r\n                };\r\n                resultFormat.unshift(dayFormatter)\r\n            }\r\n            return this._normalizeFormat(resultFormat)\r\n        }\r\n        return this._normalizeFormat(resultFormat)\r\n    },\r\n    getDateFormatByTicks: function(ticks) {\r\n        var resultFormat;\r\n        var maxDiff;\r\n        var currentDiff;\r\n        var i;\r\n        if (ticks.length > 1) {\r\n            maxDiff = dateUtils.getDatesDifferences(ticks[0], ticks[1]);\r\n            for (i = 1; i < ticks.length - 1; i++) {\r\n                currentDiff = dateUtils.getDatesDifferences(ticks[i], ticks[i + 1]);\r\n                if (maxDiff.count < currentDiff.count) {\r\n                    maxDiff = currentDiff\r\n                }\r\n            }\r\n        } else {\r\n            maxDiff = {\r\n                year: true,\r\n                month: true,\r\n                day: true,\r\n                hour: ticks[0].getHours() > 0,\r\n                minute: ticks[0].getMinutes() > 0,\r\n                second: ticks[0].getSeconds() > 0,\r\n                millisecond: ticks[0].getMilliseconds() > 0\r\n            }\r\n        }\r\n        resultFormat = this.getDateFormatByDifferences(maxDiff);\r\n        return resultFormat\r\n    },\r\n    getDateFormatByTickInterval: function(startValue, endValue, tickInterval) {\r\n        var resultFormat;\r\n        var dateDifferences;\r\n        var dateUnitInterval;\r\n        var dateDifferencesConverter = {\r\n            week: \"day\"\r\n        };\r\n        var correctDateDifferences = function(dateDifferences, tickInterval, value) {\r\n            switch (tickInterval) {\r\n                case \"year\":\r\n                case \"quarter\":\r\n                    dateDifferences.month = value;\r\n                case \"month\":\r\n                    dateDifferences.day = value;\r\n                case \"week\":\r\n                case \"day\":\r\n                    dateDifferences.hour = value;\r\n                case \"hour\":\r\n                    dateDifferences.minute = value;\r\n                case \"minute\":\r\n                    dateDifferences.second = value;\r\n                case \"second\":\r\n                    dateDifferences.millisecond = value\r\n            }\r\n        };\r\n        var correctDifferencesByMaxDate = function(differences, minDate, maxDate) {\r\n            if (!maxDate.getMilliseconds() && maxDate.getSeconds()) {\r\n                if (maxDate.getSeconds() - minDate.getSeconds() === 1) {\r\n                    differences.millisecond = true;\r\n                    differences.second = false\r\n                }\r\n            } else {\r\n                if (!maxDate.getSeconds() && maxDate.getMinutes()) {\r\n                    if (maxDate.getMinutes() - minDate.getMinutes() === 1) {\r\n                        differences.second = true;\r\n                        differences.minute = false\r\n                    }\r\n                } else {\r\n                    if (!maxDate.getMinutes() && maxDate.getHours()) {\r\n                        if (maxDate.getHours() - minDate.getHours() === 1) {\r\n                            differences.minute = true;\r\n                            differences.hour = false\r\n                        }\r\n                    } else {\r\n                        if (!maxDate.getHours() && maxDate.getDate() > 1) {\r\n                            if (maxDate.getDate() - minDate.getDate() === 1) {\r\n                                differences.hour = true;\r\n                                differences.day = false\r\n                            }\r\n                        } else {\r\n                            if (1 === maxDate.getDate() && maxDate.getMonth()) {\r\n                                if (maxDate.getMonth() - minDate.getMonth() === 1) {\r\n                                    differences.day = true;\r\n                                    differences.month = false\r\n                                }\r\n                            } else {\r\n                                if (!maxDate.getMonth() && maxDate.getFullYear()) {\r\n                                    if (maxDate.getFullYear() - minDate.getFullYear() === 1) {\r\n                                        differences.month = true;\r\n                                        differences.year = false\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        tickInterval = typeUtils.isString(tickInterval) ? tickInterval.toLowerCase() : tickInterval;\r\n        dateDifferences = dateUtils.getDatesDifferences(startValue, endValue);\r\n        if (startValue !== endValue) {\r\n            correctDifferencesByMaxDate(dateDifferences, startValue > endValue ? endValue : startValue, startValue > endValue ? startValue : endValue)\r\n        }\r\n        dateUnitInterval = dateUtils.getDateUnitInterval(dateDifferences);\r\n        correctDateDifferences(dateDifferences, dateUnitInterval, true);\r\n        dateUnitInterval = dateUtils.getDateUnitInterval(tickInterval || \"second\");\r\n        correctDateDifferences(dateDifferences, dateUnitInterval, false);\r\n        dateDifferences[dateDifferencesConverter[dateUnitInterval] || dateUnitInterval] = true;\r\n        resultFormat = this.getDateFormatByDifferences(dateDifferences);\r\n        return resultFormat\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}