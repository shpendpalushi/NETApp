{"ast":null,"code":"/**\r\n * DevExtreme (localization/ldml/number.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar fitIntoRange = require(\"../../core/utils/math\").fitIntoRange;\n\nvar toFixed = require(\"../utils\").toFixed;\n\nvar DEFAULT_CONFIG = {\n  thousandsSeparator: \",\",\n  decimalSeparator: \".\"\n};\nvar ESCAPING_CHAR = \"'\";\nvar MAXIMUM_NUMBER_LENGTH = 15;\n\nfunction getGroupSizes(formatString) {\n  return formatString.split(\",\").slice(1).map(function (str) {\n    return str.split(\"\").filter(function (char) {\n      return \"#\" === char || \"0\" === char;\n    }).length;\n  });\n}\n\nfunction getSignParts(format) {\n  var signParts = format.split(\";\");\n\n  if (1 === signParts.length) {\n    signParts.push(\"-\" + signParts[0]);\n  }\n\n  return signParts;\n}\n\nfunction reverseString(str) {\n  return str.toString().split(\"\").reverse().join(\"\");\n}\n\nfunction isPercentFormat(format) {\n  return format.indexOf(\"%\") !== -1 && !format.match(/'[^']*%[^']*'/g);\n}\n\nfunction getNonRequiredDigitCount(floatFormat) {\n  if (!floatFormat) {\n    return 0;\n  }\n\n  return floatFormat.length - floatFormat.replace(/[#]/g, \"\").length;\n}\n\nfunction getRequiredDigitCount(floatFormat) {\n  if (!floatFormat) {\n    return 0;\n  }\n\n  return floatFormat.length - floatFormat.replace(/[0]/g, \"\").length;\n}\n\nfunction normalizeValueString(valuePart, minDigitCount, maxDigitCount) {\n  if (!valuePart) {\n    return \"\";\n  }\n\n  if (valuePart.length > maxDigitCount) {\n    valuePart = valuePart.substr(0, maxDigitCount);\n  }\n\n  while (valuePart.length > minDigitCount && \"0\" === valuePart.slice(-1)) {\n    valuePart = valuePart.substr(0, valuePart.length - 1);\n  }\n\n  while (valuePart.length < minDigitCount) {\n    valuePart += \"0\";\n  }\n\n  return valuePart;\n}\n\nfunction applyGroups(valueString, groupSizes, thousandsSeparator) {\n  if (!groupSizes.length) {\n    return valueString;\n  }\n\n  var groups = [];\n  var index = 0;\n\n  while (valueString) {\n    var groupSize = groupSizes[index];\n    groups.push(valueString.slice(0, groupSize));\n    valueString = valueString.slice(groupSize);\n\n    if (index < groupSizes.length - 1) {\n      index++;\n    }\n  }\n\n  return groups.join(thousandsSeparator);\n}\n\nfunction formatNumberPart(format, valueString) {\n  return format.split(ESCAPING_CHAR).map(function (formatPart, escapeIndex) {\n    var isEscape = escapeIndex % 2;\n\n    if (!formatPart && isEscape) {\n      return ESCAPING_CHAR;\n    }\n\n    return isEscape ? formatPart : formatPart.replace(/[,#0]+/, valueString);\n  }).join(\"\");\n}\n\nfunction getFloatPointIndex(format) {\n  var isEscape = false;\n\n  for (var index = 0; index < format.length; index++) {\n    if (\"'\" === format[index]) {\n      isEscape = !isEscape;\n    }\n\n    if (\".\" === format[index] && !isEscape) {\n      return index;\n    }\n  }\n\n  return format.length;\n}\n\nfunction getFormatter(format, config) {\n  config = config || DEFAULT_CONFIG;\n  return function (value) {\n    if (\"number\" !== typeof value || isNaN(value)) {\n      return \"\";\n    }\n\n    var signFormatParts = getSignParts(format);\n    var isPositiveZero = 1 / value === 1 / 0;\n    var isPositive = value > 0 || isPositiveZero;\n    var numberFormat = signFormatParts[isPositive ? 0 : 1];\n\n    if (isPercentFormat(numberFormat)) {\n      value = 100 * value;\n    }\n\n    if (!isPositive) {\n      value = -value;\n    }\n\n    var floatPointIndex = getFloatPointIndex(numberFormat);\n    var floatFormatParts = [numberFormat.substr(0, floatPointIndex), numberFormat.substr(floatPointIndex + 1)];\n    var minFloatPrecision = getRequiredDigitCount(floatFormatParts[1]);\n    var maxFloatPrecision = minFloatPrecision + getNonRequiredDigitCount(floatFormatParts[1]);\n    var minIntegerPrecision = getRequiredDigitCount(floatFormatParts[0]);\n    var maxIntegerPrecision = getNonRequiredDigitCount(floatFormatParts[0]) ? void 0 : minIntegerPrecision;\n    var integerLength = Math.floor(value).toString().length;\n    var floatPrecision = fitIntoRange(maxFloatPrecision, 0, MAXIMUM_NUMBER_LENGTH - integerLength);\n    var groupSizes = getGroupSizes(floatFormatParts[0]).reverse();\n    var valueParts = toFixed(value, floatPrecision < 0 ? 0 : floatPrecision).split(\".\");\n    var valueIntegerPart = normalizeValueString(reverseString(valueParts[0]), minIntegerPrecision, maxIntegerPrecision);\n    var valueFloatPart = normalizeValueString(valueParts[1], minFloatPrecision, maxFloatPrecision);\n    valueIntegerPart = applyGroups(valueIntegerPart, groupSizes, config.thousandsSeparator);\n    var integerString = reverseString(formatNumberPart(reverseString(floatFormatParts[0]), valueIntegerPart));\n    var floatString = maxFloatPrecision ? formatNumberPart(floatFormatParts[1], valueFloatPart) : \"\";\n    var result = integerString + (floatString.match(/\\d/) ? config.decimalSeparator : \"\") + floatString;\n    return result;\n  };\n}\n\nfunction parseValue(text, isPercent, isNegative) {\n  var value = (isPercent ? .01 : 1) * parseFloat(text) || 0;\n  return isNegative ? -value : value;\n}\n\nfunction prepareValueText(valueText, formatter, isPercent, isIntegerPart) {\n  var nextValueText = valueText;\n  var char;\n  var text;\n  var nextText;\n\n  do {\n    if (nextText) {\n      char = text.length === nextText.length ? \"0\" : \"1\";\n      valueText = isIntegerPart ? char + valueText : valueText + char;\n    }\n\n    text = nextText || formatter(parseValue(nextValueText, isPercent));\n    nextValueText = isIntegerPart ? \"1\" + nextValueText : nextValueText + \"1\";\n    nextText = formatter(parseValue(nextValueText, isPercent));\n  } while (text !== nextText && (isIntegerPart ? text.length === nextText.length : text.length <= nextText.length));\n\n  if (isIntegerPart && nextText.length > text.length) {\n    var hasGroups = formatter(12345).indexOf(\"12345\") === -1;\n\n    do {\n      valueText = \"1\" + valueText;\n    } while (hasGroups && parseValue(valueText, isPercent) < 1e5);\n  }\n\n  return valueText;\n}\n\nfunction getFormatByValueText(valueText, formatter, isPercent, isNegative) {\n  var format = formatter(parseValue(valueText, isPercent, isNegative));\n  var valueTextParts = valueText.split(\".\");\n  var valueTextWithModifiedFloat = valueTextParts[0] + \".3\" + valueTextParts[1].slice(1);\n  var valueWithModifiedFloat = parseValue(valueTextWithModifiedFloat, isPercent, isNegative);\n  var decimalSeparatorIndex = formatter(valueWithModifiedFloat).indexOf(\"3\") - 1;\n  format = format.replace(/(\\d)\\D(\\d)/g, \"$1,$2\");\n\n  if (decimalSeparatorIndex >= 0) {\n    format = format.slice(0, decimalSeparatorIndex) + \".\" + format.slice(decimalSeparatorIndex + 1);\n  }\n\n  format = format.replace(/1+/, \"1\").replace(/1/g, \"#\");\n\n  if (!isPercent) {\n    format = format.replace(\"%\", \"'%'\");\n  }\n\n  return format;\n}\n\nfunction getFormat(formatter) {\n  var valueText = \".\";\n  var isPercent = formatter(1).indexOf(\"100\") >= 0;\n  valueText = prepareValueText(valueText, formatter, isPercent, true);\n  valueText = prepareValueText(valueText, formatter, isPercent, false);\n  var positiveFormat = getFormatByValueText(valueText, formatter, isPercent, false);\n  var negativeFormat = getFormatByValueText(valueText, formatter, isPercent, true);\n  return negativeFormat === \"-\" + positiveFormat ? positiveFormat : positiveFormat + \";\" + negativeFormat;\n}\n\nexports.getFormatter = getFormatter;\nexports.getFormat = getFormat;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/localization/ldml/number.js"],"names":["fitIntoRange","require","toFixed","DEFAULT_CONFIG","thousandsSeparator","decimalSeparator","ESCAPING_CHAR","MAXIMUM_NUMBER_LENGTH","signParts","format","str","floatFormat","valuePart","groupSizes","groups","index","groupSize","valueString","isEscape","escapeIndex","formatPart","config","isNaN","signFormatParts","getSignParts","isPositiveZero","isPositive","value","numberFormat","isPercentFormat","floatPointIndex","getFloatPointIndex","floatFormatParts","minFloatPrecision","getRequiredDigitCount","maxFloatPrecision","getNonRequiredDigitCount","minIntegerPrecision","maxIntegerPrecision","integerLength","Math","floatPrecision","getGroupSizes","valueParts","valueIntegerPart","normalizeValueString","reverseString","valueFloatPart","applyGroups","integerString","formatNumberPart","floatString","result","isPercent","parseFloat","isNegative","nextValueText","char","text","nextText","valueText","isIntegerPart","formatter","parseValue","hasGroups","valueTextParts","valueTextWithModifiedFloat","valueWithModifiedFloat","decimalSeparatorIndex","prepareValueText","positiveFormat","getFormatByValueText","negativeFormat","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (localization/ldml/number.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar fitIntoRange = require(\"../../core/utils/math\").fitIntoRange;\r\nvar toFixed = require(\"../utils\").toFixed;\r\nvar DEFAULT_CONFIG = {\r\n    thousandsSeparator: \",\",\r\n    decimalSeparator: \".\"\r\n};\r\nvar ESCAPING_CHAR = \"'\";\r\nvar MAXIMUM_NUMBER_LENGTH = 15;\r\n\r\nfunction getGroupSizes(formatString) {\r\n    return formatString.split(\",\").slice(1).map(function(str) {\r\n        return str.split(\"\").filter(function(char) {\r\n            return \"#\" === char || \"0\" === char\r\n        }).length\r\n    })\r\n}\r\n\r\nfunction getSignParts(format) {\r\n    var signParts = format.split(\";\");\r\n    if (1 === signParts.length) {\r\n        signParts.push(\"-\" + signParts[0])\r\n    }\r\n    return signParts\r\n}\r\n\r\nfunction reverseString(str) {\r\n    return str.toString().split(\"\").reverse().join(\"\")\r\n}\r\n\r\nfunction isPercentFormat(format) {\r\n    return format.indexOf(\"%\") !== -1 && !format.match(/'[^']*%[^']*'/g)\r\n}\r\n\r\nfunction getNonRequiredDigitCount(floatFormat) {\r\n    if (!floatFormat) {\r\n        return 0\r\n    }\r\n    return floatFormat.length - floatFormat.replace(/[#]/g, \"\").length\r\n}\r\n\r\nfunction getRequiredDigitCount(floatFormat) {\r\n    if (!floatFormat) {\r\n        return 0\r\n    }\r\n    return floatFormat.length - floatFormat.replace(/[0]/g, \"\").length\r\n}\r\n\r\nfunction normalizeValueString(valuePart, minDigitCount, maxDigitCount) {\r\n    if (!valuePart) {\r\n        return \"\"\r\n    }\r\n    if (valuePart.length > maxDigitCount) {\r\n        valuePart = valuePart.substr(0, maxDigitCount)\r\n    }\r\n    while (valuePart.length > minDigitCount && \"0\" === valuePart.slice(-1)) {\r\n        valuePart = valuePart.substr(0, valuePart.length - 1)\r\n    }\r\n    while (valuePart.length < minDigitCount) {\r\n        valuePart += \"0\"\r\n    }\r\n    return valuePart\r\n}\r\n\r\nfunction applyGroups(valueString, groupSizes, thousandsSeparator) {\r\n    if (!groupSizes.length) {\r\n        return valueString\r\n    }\r\n    var groups = [];\r\n    var index = 0;\r\n    while (valueString) {\r\n        var groupSize = groupSizes[index];\r\n        groups.push(valueString.slice(0, groupSize));\r\n        valueString = valueString.slice(groupSize);\r\n        if (index < groupSizes.length - 1) {\r\n            index++\r\n        }\r\n    }\r\n    return groups.join(thousandsSeparator)\r\n}\r\n\r\nfunction formatNumberPart(format, valueString) {\r\n    return format.split(ESCAPING_CHAR).map(function(formatPart, escapeIndex) {\r\n        var isEscape = escapeIndex % 2;\r\n        if (!formatPart && isEscape) {\r\n            return ESCAPING_CHAR\r\n        }\r\n        return isEscape ? formatPart : formatPart.replace(/[,#0]+/, valueString)\r\n    }).join(\"\")\r\n}\r\n\r\nfunction getFloatPointIndex(format) {\r\n    var isEscape = false;\r\n    for (var index = 0; index < format.length; index++) {\r\n        if (\"'\" === format[index]) {\r\n            isEscape = !isEscape\r\n        }\r\n        if (\".\" === format[index] && !isEscape) {\r\n            return index\r\n        }\r\n    }\r\n    return format.length\r\n}\r\n\r\nfunction getFormatter(format, config) {\r\n    config = config || DEFAULT_CONFIG;\r\n    return function(value) {\r\n        if (\"number\" !== typeof value || isNaN(value)) {\r\n            return \"\"\r\n        }\r\n        var signFormatParts = getSignParts(format);\r\n        var isPositiveZero = 1 / value === 1 / 0;\r\n        var isPositive = value > 0 || isPositiveZero;\r\n        var numberFormat = signFormatParts[isPositive ? 0 : 1];\r\n        if (isPercentFormat(numberFormat)) {\r\n            value = 100 * value\r\n        }\r\n        if (!isPositive) {\r\n            value = -value\r\n        }\r\n        var floatPointIndex = getFloatPointIndex(numberFormat);\r\n        var floatFormatParts = [numberFormat.substr(0, floatPointIndex), numberFormat.substr(floatPointIndex + 1)];\r\n        var minFloatPrecision = getRequiredDigitCount(floatFormatParts[1]);\r\n        var maxFloatPrecision = minFloatPrecision + getNonRequiredDigitCount(floatFormatParts[1]);\r\n        var minIntegerPrecision = getRequiredDigitCount(floatFormatParts[0]);\r\n        var maxIntegerPrecision = getNonRequiredDigitCount(floatFormatParts[0]) ? void 0 : minIntegerPrecision;\r\n        var integerLength = Math.floor(value).toString().length;\r\n        var floatPrecision = fitIntoRange(maxFloatPrecision, 0, MAXIMUM_NUMBER_LENGTH - integerLength);\r\n        var groupSizes = getGroupSizes(floatFormatParts[0]).reverse();\r\n        var valueParts = toFixed(value, floatPrecision < 0 ? 0 : floatPrecision).split(\".\");\r\n        var valueIntegerPart = normalizeValueString(reverseString(valueParts[0]), minIntegerPrecision, maxIntegerPrecision);\r\n        var valueFloatPart = normalizeValueString(valueParts[1], minFloatPrecision, maxFloatPrecision);\r\n        valueIntegerPart = applyGroups(valueIntegerPart, groupSizes, config.thousandsSeparator);\r\n        var integerString = reverseString(formatNumberPart(reverseString(floatFormatParts[0]), valueIntegerPart));\r\n        var floatString = maxFloatPrecision ? formatNumberPart(floatFormatParts[1], valueFloatPart) : \"\";\r\n        var result = integerString + (floatString.match(/\\d/) ? config.decimalSeparator : \"\") + floatString;\r\n        return result\r\n    }\r\n}\r\n\r\nfunction parseValue(text, isPercent, isNegative) {\r\n    var value = (isPercent ? .01 : 1) * parseFloat(text) || 0;\r\n    return isNegative ? -value : value\r\n}\r\n\r\nfunction prepareValueText(valueText, formatter, isPercent, isIntegerPart) {\r\n    var nextValueText = valueText;\r\n    var char;\r\n    var text;\r\n    var nextText;\r\n    do {\r\n        if (nextText) {\r\n            char = text.length === nextText.length ? \"0\" : \"1\";\r\n            valueText = isIntegerPart ? char + valueText : valueText + char\r\n        }\r\n        text = nextText || formatter(parseValue(nextValueText, isPercent));\r\n        nextValueText = isIntegerPart ? \"1\" + nextValueText : nextValueText + \"1\";\r\n        nextText = formatter(parseValue(nextValueText, isPercent))\r\n    } while (text !== nextText && (isIntegerPart ? text.length === nextText.length : text.length <= nextText.length));\r\n    if (isIntegerPart && nextText.length > text.length) {\r\n        var hasGroups = formatter(12345).indexOf(\"12345\") === -1;\r\n        do {\r\n            valueText = \"1\" + valueText\r\n        } while (hasGroups && parseValue(valueText, isPercent) < 1e5)\r\n    }\r\n    return valueText\r\n}\r\n\r\nfunction getFormatByValueText(valueText, formatter, isPercent, isNegative) {\r\n    var format = formatter(parseValue(valueText, isPercent, isNegative));\r\n    var valueTextParts = valueText.split(\".\");\r\n    var valueTextWithModifiedFloat = valueTextParts[0] + \".3\" + valueTextParts[1].slice(1);\r\n    var valueWithModifiedFloat = parseValue(valueTextWithModifiedFloat, isPercent, isNegative);\r\n    var decimalSeparatorIndex = formatter(valueWithModifiedFloat).indexOf(\"3\") - 1;\r\n    format = format.replace(/(\\d)\\D(\\d)/g, \"$1,$2\");\r\n    if (decimalSeparatorIndex >= 0) {\r\n        format = format.slice(0, decimalSeparatorIndex) + \".\" + format.slice(decimalSeparatorIndex + 1)\r\n    }\r\n    format = format.replace(/1+/, \"1\").replace(/1/g, \"#\");\r\n    if (!isPercent) {\r\n        format = format.replace(\"%\", \"'%'\")\r\n    }\r\n    return format\r\n}\r\n\r\nfunction getFormat(formatter) {\r\n    var valueText = \".\";\r\n    var isPercent = formatter(1).indexOf(\"100\") >= 0;\r\n    valueText = prepareValueText(valueText, formatter, isPercent, true);\r\n    valueText = prepareValueText(valueText, formatter, isPercent, false);\r\n    var positiveFormat = getFormatByValueText(valueText, formatter, isPercent, false);\r\n    var negativeFormat = getFormatByValueText(valueText, formatter, isPercent, true);\r\n    return negativeFormat === \"-\" + positiveFormat ? positiveFormat : positiveFormat + \";\" + negativeFormat\r\n}\r\nexports.getFormatter = getFormatter;\r\nexports.getFormat = getFormat;\r\n"]},"metadata":{},"sourceType":"module"}