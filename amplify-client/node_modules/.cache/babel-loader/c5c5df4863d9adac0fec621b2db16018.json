{"ast":null,"code":"/**\r\n * DevExtreme (core/devices.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../core/renderer\");\n\nvar windowUtils = require(\"./utils/window\");\n\nvar navigator = windowUtils.getNavigator();\nvar window = windowUtils.getWindow();\n\nvar extend = require(\"./utils/extend\").extend;\n\nvar isPlainObject = require(\"./utils/type\").isPlainObject;\n\nvar each = require(\"./utils/iterator\").each;\n\nvar Class = require(\"./class\");\n\nvar errors = require(\"./errors\");\n\nvar Callbacks = require(\"./utils/callbacks\");\n\nvar resizeCallbacks = require(\"./utils/resize_callbacks\");\n\nvar EventsMixin = require(\"./events_mixin\");\n\nvar SessionStorage = require(\"./utils/storage\").sessionStorage;\n\nvar viewPort = require(\"./utils/view_port\");\n\nvar Config = require(\"./config\");\n\nvar KNOWN_UA_TABLE = {\n  iPhone: \"iPhone\",\n  iPhone5: \"iPhone\",\n  iPhone6: \"iPhone\",\n  iPhone6plus: \"iPhone\",\n  iPad: \"iPad\",\n  iPadMini: \"iPad Mini\",\n  androidPhone: \"Android Mobile\",\n  androidTablet: \"Android\",\n  msSurface: \"Windows ARM Tablet PC\",\n  desktop: \"desktop\"\n};\nvar DEFAULT_DEVICE = {\n  deviceType: \"desktop\",\n  platform: \"generic\",\n  version: [],\n  phone: false,\n  tablet: false,\n  android: false,\n  ios: false,\n  generic: true,\n  grade: \"A\",\n  mac: false\n};\nvar uaParsers = {\n  generic: function generic(userAgent) {\n    var isPhone = /windows phone/i.test(userAgent) || userAgent.match(/WPDesktop/);\n    var isTablet = !isPhone && /Windows(.*)arm(.*)Tablet PC/i.test(userAgent);\n    var isDesktop = !isPhone && !isTablet && /msapphost/i.test(userAgent);\n    var isMac = /((intel|ppc) mac os x)/.test(userAgent.toLowerCase());\n\n    if (!(isPhone || isTablet || isDesktop || isMac)) {\n      return;\n    }\n\n    return {\n      deviceType: isPhone ? \"phone\" : isTablet ? \"tablet\" : \"desktop\",\n      platform: \"generic\",\n      version: [],\n      grade: \"A\",\n      mac: isMac\n    };\n  },\n  ios: function ios(userAgent) {\n    if (!/ip(hone|od|ad)/i.test(userAgent)) {\n      return;\n    }\n\n    var isPhone = /ip(hone|od)/i.test(userAgent);\n    var matches = userAgent.match(/os (\\d+)_(\\d+)_?(\\d+)?/i);\n    var version = matches ? [parseInt(matches[1], 10), parseInt(matches[2], 10), parseInt(matches[3] || 0, 10)] : [];\n    var isIPhone4 = 480 === window.screen.height;\n    var grade = isIPhone4 ? \"B\" : \"A\";\n    return {\n      deviceType: isPhone ? \"phone\" : \"tablet\",\n      platform: \"ios\",\n      version: version,\n      grade: grade\n    };\n  },\n  android: function android(userAgent) {\n    if (!/android|htc_|silk/i.test(userAgent)) {\n      return;\n    }\n\n    var isPhone = /mobile/i.test(userAgent);\n    var matches = userAgent.match(/android (\\d+)\\.?(\\d+)?\\.?(\\d+)?/i);\n    var version = matches ? [parseInt(matches[1], 10), parseInt(matches[2] || 0, 10), parseInt(matches[3] || 0, 10)] : [];\n    var worseThan4_4 = version.length > 1 && (version[0] < 4 || 4 === version[0] && version[1] < 4);\n    var grade = worseThan4_4 ? \"B\" : \"A\";\n    return {\n      deviceType: isPhone ? \"phone\" : \"tablet\",\n      platform: \"android\",\n      version: version,\n      grade: grade\n    };\n  }\n};\nvar Devices = Class.inherit({\n  ctor: function ctor(options) {\n    this._window = options && options.window || window;\n    this._realDevice = this._getDevice();\n    this._currentDevice = void 0;\n    this._currentOrientation = void 0;\n    this.changed = Callbacks();\n\n    if (windowUtils.hasWindow()) {\n      this._recalculateOrientation();\n\n      resizeCallbacks.add(this._recalculateOrientation.bind(this));\n    }\n  },\n  current: function current(deviceOrName) {\n    if (deviceOrName) {\n      this._currentDevice = this._getDevice(deviceOrName);\n      this._forced = true;\n      this.changed.fire();\n      return;\n    }\n\n    if (!this._currentDevice) {\n      deviceOrName = void 0;\n\n      try {\n        deviceOrName = this._getDeviceOrNameFromWindowScope();\n      } catch (e) {\n        deviceOrName = this._getDeviceNameFromSessionStorage();\n      } finally {\n        if (!deviceOrName) {\n          deviceOrName = this._getDeviceNameFromSessionStorage();\n        }\n\n        if (deviceOrName) {\n          this._forced = true;\n        }\n      }\n\n      this._currentDevice = this._getDevice(deviceOrName);\n    }\n\n    return this._currentDevice;\n  },\n  real: function real() {\n    return extend({}, this._realDevice);\n  },\n  orientation: function orientation() {\n    return this._currentOrientation;\n  },\n  isForced: function isForced() {\n    return this._forced;\n  },\n  isRippleEmulator: function isRippleEmulator() {\n    return !!this._window.tinyHippos;\n  },\n  _getCssClasses: function _getCssClasses(device) {\n    var result = [];\n    var realDevice = this._realDevice;\n    device = device || this.current();\n\n    if (device.deviceType) {\n      result.push(\"dx-device-\" + device.deviceType);\n\n      if (\"desktop\" !== device.deviceType) {\n        result.push(\"dx-device-mobile\");\n      }\n    }\n\n    result.push(\"dx-device-\" + realDevice.platform);\n\n    if (realDevice.version && realDevice.version.length) {\n      result.push(\"dx-device-\" + realDevice.platform + \"-\" + realDevice.version[0]);\n    }\n\n    if (devices.isSimulator()) {\n      result.push(\"dx-simulator\");\n    }\n\n    if (Config().rtlEnabled) {\n      result.push(\"dx-rtl\");\n    }\n\n    return result;\n  },\n  attachCssClasses: function attachCssClasses(element, device) {\n    this._deviceClasses = this._getCssClasses(device).join(\" \");\n    $(element).addClass(this._deviceClasses);\n  },\n  detachCssClasses: function detachCssClasses(element) {\n    $(element).removeClass(this._deviceClasses);\n  },\n  isSimulator: function isSimulator() {\n    try {\n      return this._isSimulator || windowUtils.hasWindow() && this._window.top !== this._window.self && this._window.top[\"dx-force-device\"] || this.isRippleEmulator();\n    } catch (e) {\n      return false;\n    }\n  },\n  forceSimulator: function forceSimulator() {\n    this._isSimulator = true;\n  },\n  _getDevice: function _getDevice(deviceName) {\n    if (\"genericPhone\" === deviceName) {\n      deviceName = {\n        deviceType: \"phone\",\n        platform: \"generic\",\n        generic: true\n      };\n    }\n\n    if (isPlainObject(deviceName)) {\n      return this._fromConfig(deviceName);\n    } else {\n      var ua;\n\n      if (deviceName) {\n        ua = KNOWN_UA_TABLE[deviceName];\n\n        if (!ua) {\n          throw errors.Error(\"E0005\");\n        }\n      } else {\n        ua = navigator.userAgent;\n      }\n\n      return this._fromUA(ua);\n    }\n  },\n  _getDeviceOrNameFromWindowScope: function _getDeviceOrNameFromWindowScope() {\n    var result;\n\n    if (windowUtils.hasWindow() && (this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"])) {\n      result = this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"];\n    }\n\n    return result;\n  },\n  _getDeviceNameFromSessionStorage: function _getDeviceNameFromSessionStorage() {\n    var sessionStorage = SessionStorage();\n\n    if (!sessionStorage) {\n      return;\n    }\n\n    var deviceOrName = sessionStorage.getItem(\"dx-force-device\");\n\n    try {\n      return JSON.parse(deviceOrName);\n    } catch (ex) {\n      return deviceOrName;\n    }\n  },\n  _fromConfig: function _fromConfig(config) {\n    var result = extend({}, DEFAULT_DEVICE, this._currentDevice, config);\n    var shortcuts = {\n      phone: \"phone\" === result.deviceType,\n      tablet: \"tablet\" === result.deviceType,\n      android: \"android\" === result.platform,\n      ios: \"ios\" === result.platform,\n      generic: \"generic\" === result.platform\n    };\n    return extend(result, shortcuts);\n  },\n  _fromUA: function _fromUA(ua) {\n    var config;\n    each(uaParsers, function (platform, parser) {\n      config = parser(ua);\n      return !config;\n    });\n\n    if (config) {\n      return this._fromConfig(config);\n    }\n\n    return DEFAULT_DEVICE;\n  },\n  _changeOrientation: function _changeOrientation() {\n    var $window = $(this._window);\n    var orientation = $window.height() > $window.width() ? \"portrait\" : \"landscape\";\n\n    if (this._currentOrientation === orientation) {\n      return;\n    }\n\n    this._currentOrientation = orientation;\n    this.fireEvent(\"orientationChanged\", [{\n      orientation: orientation\n    }]);\n  },\n  _recalculateOrientation: function _recalculateOrientation() {\n    var windowWidth = $(this._window).width();\n\n    if (this._currentWidth === windowWidth) {\n      return;\n    }\n\n    this._currentWidth = windowWidth;\n\n    this._changeOrientation();\n  }\n}).include(EventsMixin);\nvar devices = new Devices();\nviewPort.changeCallback.add(function (viewPort, prevViewport) {\n  devices.detachCssClasses(prevViewport);\n  devices.attachCssClasses(viewPort);\n});\nmodule.exports = devices;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/core/devices.js"],"names":["$","require","windowUtils","navigator","window","extend","isPlainObject","each","Class","errors","Callbacks","resizeCallbacks","EventsMixin","SessionStorage","viewPort","Config","KNOWN_UA_TABLE","iPhone","iPhone5","iPhone6","iPhone6plus","iPad","iPadMini","androidPhone","androidTablet","msSurface","desktop","DEFAULT_DEVICE","deviceType","platform","version","phone","tablet","android","ios","generic","grade","mac","uaParsers","isPhone","userAgent","isTablet","isDesktop","isMac","matches","parseInt","isIPhone4","worseThan4_4","Devices","ctor","options","current","deviceOrName","real","orientation","isForced","isRippleEmulator","_getCssClasses","result","realDevice","device","devices","attachCssClasses","detachCssClasses","isSimulator","forceSimulator","_getDevice","deviceName","ua","_getDeviceOrNameFromWindowScope","_getDeviceNameFromSessionStorage","sessionStorage","JSON","_fromConfig","shortcuts","_fromUA","config","parser","_changeOrientation","$window","_recalculateOrientation","windowWidth","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (core/devices.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../core/renderer\");\r\nvar windowUtils = require(\"./utils/window\");\r\nvar navigator = windowUtils.getNavigator();\r\nvar window = windowUtils.getWindow();\r\nvar extend = require(\"./utils/extend\").extend;\r\nvar isPlainObject = require(\"./utils/type\").isPlainObject;\r\nvar each = require(\"./utils/iterator\").each;\r\nvar Class = require(\"./class\");\r\nvar errors = require(\"./errors\");\r\nvar Callbacks = require(\"./utils/callbacks\");\r\nvar resizeCallbacks = require(\"./utils/resize_callbacks\");\r\nvar EventsMixin = require(\"./events_mixin\");\r\nvar SessionStorage = require(\"./utils/storage\").sessionStorage;\r\nvar viewPort = require(\"./utils/view_port\");\r\nvar Config = require(\"./config\");\r\nvar KNOWN_UA_TABLE = {\r\n    iPhone: \"iPhone\",\r\n    iPhone5: \"iPhone\",\r\n    iPhone6: \"iPhone\",\r\n    iPhone6plus: \"iPhone\",\r\n    iPad: \"iPad\",\r\n    iPadMini: \"iPad Mini\",\r\n    androidPhone: \"Android Mobile\",\r\n    androidTablet: \"Android\",\r\n    msSurface: \"Windows ARM Tablet PC\",\r\n    desktop: \"desktop\"\r\n};\r\nvar DEFAULT_DEVICE = {\r\n    deviceType: \"desktop\",\r\n    platform: \"generic\",\r\n    version: [],\r\n    phone: false,\r\n    tablet: false,\r\n    android: false,\r\n    ios: false,\r\n    generic: true,\r\n    grade: \"A\",\r\n    mac: false\r\n};\r\nvar uaParsers = {\r\n    generic: function(userAgent) {\r\n        var isPhone = /windows phone/i.test(userAgent) || userAgent.match(/WPDesktop/);\r\n        var isTablet = !isPhone && /Windows(.*)arm(.*)Tablet PC/i.test(userAgent);\r\n        var isDesktop = !isPhone && !isTablet && /msapphost/i.test(userAgent);\r\n        var isMac = /((intel|ppc) mac os x)/.test(userAgent.toLowerCase());\r\n        if (!(isPhone || isTablet || isDesktop || isMac)) {\r\n            return\r\n        }\r\n        return {\r\n            deviceType: isPhone ? \"phone\" : isTablet ? \"tablet\" : \"desktop\",\r\n            platform: \"generic\",\r\n            version: [],\r\n            grade: \"A\",\r\n            mac: isMac\r\n        }\r\n    },\r\n    ios: function(userAgent) {\r\n        if (!/ip(hone|od|ad)/i.test(userAgent)) {\r\n            return\r\n        }\r\n        var isPhone = /ip(hone|od)/i.test(userAgent);\r\n        var matches = userAgent.match(/os (\\d+)_(\\d+)_?(\\d+)?/i);\r\n        var version = matches ? [parseInt(matches[1], 10), parseInt(matches[2], 10), parseInt(matches[3] || 0, 10)] : [];\r\n        var isIPhone4 = 480 === window.screen.height;\r\n        var grade = isIPhone4 ? \"B\" : \"A\";\r\n        return {\r\n            deviceType: isPhone ? \"phone\" : \"tablet\",\r\n            platform: \"ios\",\r\n            version: version,\r\n            grade: grade\r\n        }\r\n    },\r\n    android: function(userAgent) {\r\n        if (!/android|htc_|silk/i.test(userAgent)) {\r\n            return\r\n        }\r\n        var isPhone = /mobile/i.test(userAgent);\r\n        var matches = userAgent.match(/android (\\d+)\\.?(\\d+)?\\.?(\\d+)?/i);\r\n        var version = matches ? [parseInt(matches[1], 10), parseInt(matches[2] || 0, 10), parseInt(matches[3] || 0, 10)] : [];\r\n        var worseThan4_4 = version.length > 1 && (version[0] < 4 || 4 === version[0] && version[1] < 4);\r\n        var grade = worseThan4_4 ? \"B\" : \"A\";\r\n        return {\r\n            deviceType: isPhone ? \"phone\" : \"tablet\",\r\n            platform: \"android\",\r\n            version: version,\r\n            grade: grade\r\n        }\r\n    }\r\n};\r\nvar Devices = Class.inherit({\r\n    ctor: function(options) {\r\n        this._window = options && options.window || window;\r\n        this._realDevice = this._getDevice();\r\n        this._currentDevice = void 0;\r\n        this._currentOrientation = void 0;\r\n        this.changed = Callbacks();\r\n        if (windowUtils.hasWindow()) {\r\n            this._recalculateOrientation();\r\n            resizeCallbacks.add(this._recalculateOrientation.bind(this))\r\n        }\r\n    },\r\n    current: function(deviceOrName) {\r\n        if (deviceOrName) {\r\n            this._currentDevice = this._getDevice(deviceOrName);\r\n            this._forced = true;\r\n            this.changed.fire();\r\n            return\r\n        }\r\n        if (!this._currentDevice) {\r\n            deviceOrName = void 0;\r\n            try {\r\n                deviceOrName = this._getDeviceOrNameFromWindowScope()\r\n            } catch (e) {\r\n                deviceOrName = this._getDeviceNameFromSessionStorage()\r\n            } finally {\r\n                if (!deviceOrName) {\r\n                    deviceOrName = this._getDeviceNameFromSessionStorage()\r\n                }\r\n                if (deviceOrName) {\r\n                    this._forced = true\r\n                }\r\n            }\r\n            this._currentDevice = this._getDevice(deviceOrName)\r\n        }\r\n        return this._currentDevice\r\n    },\r\n    real: function() {\r\n        return extend({}, this._realDevice)\r\n    },\r\n    orientation: function() {\r\n        return this._currentOrientation\r\n    },\r\n    isForced: function() {\r\n        return this._forced\r\n    },\r\n    isRippleEmulator: function() {\r\n        return !!this._window.tinyHippos\r\n    },\r\n    _getCssClasses: function(device) {\r\n        var result = [];\r\n        var realDevice = this._realDevice;\r\n        device = device || this.current();\r\n        if (device.deviceType) {\r\n            result.push(\"dx-device-\" + device.deviceType);\r\n            if (\"desktop\" !== device.deviceType) {\r\n                result.push(\"dx-device-mobile\")\r\n            }\r\n        }\r\n        result.push(\"dx-device-\" + realDevice.platform);\r\n        if (realDevice.version && realDevice.version.length) {\r\n            result.push(\"dx-device-\" + realDevice.platform + \"-\" + realDevice.version[0])\r\n        }\r\n        if (devices.isSimulator()) {\r\n            result.push(\"dx-simulator\")\r\n        }\r\n        if (Config().rtlEnabled) {\r\n            result.push(\"dx-rtl\")\r\n        }\r\n        return result\r\n    },\r\n    attachCssClasses: function(element, device) {\r\n        this._deviceClasses = this._getCssClasses(device).join(\" \");\r\n        $(element).addClass(this._deviceClasses)\r\n    },\r\n    detachCssClasses: function(element) {\r\n        $(element).removeClass(this._deviceClasses)\r\n    },\r\n    isSimulator: function() {\r\n        try {\r\n            return this._isSimulator || windowUtils.hasWindow() && this._window.top !== this._window.self && this._window.top[\"dx-force-device\"] || this.isRippleEmulator()\r\n        } catch (e) {\r\n            return false\r\n        }\r\n    },\r\n    forceSimulator: function() {\r\n        this._isSimulator = true\r\n    },\r\n    _getDevice: function(deviceName) {\r\n        if (\"genericPhone\" === deviceName) {\r\n            deviceName = {\r\n                deviceType: \"phone\",\r\n                platform: \"generic\",\r\n                generic: true\r\n            }\r\n        }\r\n        if (isPlainObject(deviceName)) {\r\n            return this._fromConfig(deviceName)\r\n        } else {\r\n            var ua;\r\n            if (deviceName) {\r\n                ua = KNOWN_UA_TABLE[deviceName];\r\n                if (!ua) {\r\n                    throw errors.Error(\"E0005\")\r\n                }\r\n            } else {\r\n                ua = navigator.userAgent\r\n            }\r\n            return this._fromUA(ua)\r\n        }\r\n    },\r\n    _getDeviceOrNameFromWindowScope: function() {\r\n        var result;\r\n        if (windowUtils.hasWindow() && (this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"])) {\r\n            result = this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"]\r\n        }\r\n        return result\r\n    },\r\n    _getDeviceNameFromSessionStorage: function() {\r\n        var sessionStorage = SessionStorage();\r\n        if (!sessionStorage) {\r\n            return\r\n        }\r\n        var deviceOrName = sessionStorage.getItem(\"dx-force-device\");\r\n        try {\r\n            return JSON.parse(deviceOrName)\r\n        } catch (ex) {\r\n            return deviceOrName\r\n        }\r\n    },\r\n    _fromConfig: function(config) {\r\n        var result = extend({}, DEFAULT_DEVICE, this._currentDevice, config);\r\n        var shortcuts = {\r\n            phone: \"phone\" === result.deviceType,\r\n            tablet: \"tablet\" === result.deviceType,\r\n            android: \"android\" === result.platform,\r\n            ios: \"ios\" === result.platform,\r\n            generic: \"generic\" === result.platform\r\n        };\r\n        return extend(result, shortcuts)\r\n    },\r\n    _fromUA: function(ua) {\r\n        var config;\r\n        each(uaParsers, function(platform, parser) {\r\n            config = parser(ua);\r\n            return !config\r\n        });\r\n        if (config) {\r\n            return this._fromConfig(config)\r\n        }\r\n        return DEFAULT_DEVICE\r\n    },\r\n    _changeOrientation: function() {\r\n        var $window = $(this._window);\r\n        var orientation = $window.height() > $window.width() ? \"portrait\" : \"landscape\";\r\n        if (this._currentOrientation === orientation) {\r\n            return\r\n        }\r\n        this._currentOrientation = orientation;\r\n        this.fireEvent(\"orientationChanged\", [{\r\n            orientation: orientation\r\n        }])\r\n    },\r\n    _recalculateOrientation: function() {\r\n        var windowWidth = $(this._window).width();\r\n        if (this._currentWidth === windowWidth) {\r\n            return\r\n        }\r\n        this._currentWidth = windowWidth;\r\n        this._changeOrientation()\r\n    }\r\n}).include(EventsMixin);\r\nvar devices = new Devices;\r\nviewPort.changeCallback.add(function(viewPort, prevViewport) {\r\n    devices.detachCssClasses(prevViewport);\r\n    devices.attachCssClasses(viewPort)\r\n});\r\nmodule.exports = devices;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"module"}