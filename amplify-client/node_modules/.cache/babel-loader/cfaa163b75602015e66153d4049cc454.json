{"ast":null,"code":"/**\r\n * DevExtreme (ui/scroll_view/ui.scroll_view.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar devices = require(\"../../core/devices\");\n\nvar windowUtils = require(\"../../core/utils/window\");\n\nvar messageLocalization = require(\"../../localization/message\");\n\nvar registerComponent = require(\"../../core/component_registrator\");\n\nvar getPublicElement = require(\"../../core/utils/dom\").getPublicElement;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar PullDownStrategy = require(\"./ui.scroll_view.native.pull_down\");\n\nvar SwipeDownStrategy = require(\"./ui.scroll_view.native.swipe_down\");\n\nvar SimulatedStrategy = require(\"./ui.scroll_view.simulated\");\n\nvar Scrollable = require(\"./ui.scrollable\");\n\nvar LoadIndicator = require(\"../load_indicator\");\n\nvar themes = require(\"./../themes\");\n\nvar LoadPanel = require(\"../load_panel\");\n\nvar SCROLLVIEW_CLASS = \"dx-scrollview\";\nvar SCROLLVIEW_CONTENT_CLASS = SCROLLVIEW_CLASS + \"-content\";\nvar SCROLLVIEW_TOP_POCKET_CLASS = SCROLLVIEW_CLASS + \"-top-pocket\";\nvar SCROLLVIEW_BOTTOM_POCKET_CLASS = SCROLLVIEW_CLASS + \"-bottom-pocket\";\nvar SCROLLVIEW_PULLDOWN_CLASS = SCROLLVIEW_CLASS + \"-pull-down\";\nvar SCROLLVIEW_REACHBOTTOM_CLASS = SCROLLVIEW_CLASS + \"-scrollbottom\";\nvar SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-indicator\";\nvar SCROLLVIEW_REACHBOTTOM_TEXT_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-text\";\nvar SCROLLVIEW_LOADPANEL = SCROLLVIEW_CLASS + \"-loadpanel\";\nvar refreshStrategies = {\n  pullDown: PullDownStrategy,\n  swipeDown: SwipeDownStrategy,\n  simulated: SimulatedStrategy\n};\nvar isServerSide = !windowUtils.hasWindow();\nvar scrollViewServerConfig = {\n  finishLoading: noop,\n  release: noop,\n  refresh: noop,\n  _optionChanged: function _optionChanged(args) {\n    if (\"onUpdated\" !== args.name) {\n      return this.callBase.apply(this, arguments);\n    }\n  }\n};\nvar ScrollView = Scrollable.inherit(isServerSide ? scrollViewServerConfig : {\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      pullingDownText: messageLocalization.format(\"dxScrollView-pullingDownText\"),\n      pulledDownText: messageLocalization.format(\"dxScrollView-pulledDownText\"),\n      refreshingText: messageLocalization.format(\"dxScrollView-refreshingText\"),\n      reachBottomText: messageLocalization.format(\"dxScrollView-reachBottomText\"),\n      onPullDown: null,\n      onReachBottom: null,\n      refreshStrategy: \"pullDown\"\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device() {\n        var realDevice = devices.real();\n        return \"android\" === realDevice.platform;\n      },\n      options: {\n        refreshStrategy: \"swipeDown\"\n      }\n    }, {\n      device: function device() {\n        return themes.isMaterial();\n      },\n      options: {\n        pullingDownText: \"\",\n        pulledDownText: \"\",\n        refreshingText: \"\",\n        reachBottomText: \"\"\n      }\n    }]);\n  },\n  _init: function _init() {\n    this.callBase();\n    this._loadingIndicatorEnabled = true;\n  },\n  _initScrollableMarkup: function _initScrollableMarkup() {\n    this.callBase();\n    this.$element().addClass(SCROLLVIEW_CLASS);\n\n    this._initContent();\n\n    this._initTopPocket();\n\n    this._initBottomPocket();\n\n    this._initLoadPanel();\n  },\n  _initContent: function _initContent() {\n    var $content = $(\"<div>\").addClass(SCROLLVIEW_CONTENT_CLASS);\n\n    this._$content.wrapInner($content);\n  },\n  _initTopPocket: function _initTopPocket() {\n    var $topPocket = this._$topPocket = $(\"<div>\").addClass(SCROLLVIEW_TOP_POCKET_CLASS);\n    var $pullDown = this._$pullDown = $(\"<div>\").addClass(SCROLLVIEW_PULLDOWN_CLASS);\n    $topPocket.append($pullDown);\n\n    this._$content.prepend($topPocket);\n  },\n  _initBottomPocket: function _initBottomPocket() {\n    var $bottomPocket = this._$bottomPocket = $(\"<div>\").addClass(SCROLLVIEW_BOTTOM_POCKET_CLASS);\n    var $reachBottom = this._$reachBottom = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_CLASS);\n    var $loadContainer = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS);\n    var $loadIndicator = new LoadIndicator($(\"<div>\")).$element();\n    var $text = this._$reachBottomText = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_TEXT_CLASS);\n\n    this._updateReachBottomText();\n\n    $reachBottom.append($loadContainer.append($loadIndicator)).append($text);\n    $bottomPocket.append($reachBottom);\n\n    this._$content.append($bottomPocket);\n  },\n  _initLoadPanel: function _initLoadPanel() {\n    var $loadPanelElement = $(\"<div>\").addClass(SCROLLVIEW_LOADPANEL).appendTo(this.$element());\n    var loadPanelOptions = {\n      shading: false,\n      delay: 400,\n      message: this.option(\"refreshingText\"),\n      position: {\n        of: this.$element()\n      }\n    };\n    this._loadPanel = this._createComponent($loadPanelElement, LoadPanel, loadPanelOptions);\n  },\n  _updateReachBottomText: function _updateReachBottomText() {\n    this._$reachBottomText.text(this.option(\"reachBottomText\"));\n  },\n  _createStrategy: function _createStrategy() {\n    var strategyName = this.option(\"useNative\") ? this.option(\"refreshStrategy\") : \"simulated\";\n    var strategyClass = refreshStrategies[strategyName];\n\n    if (!strategyClass) {\n      throw Error(\"E1030\", this.option(\"refreshStrategy\"));\n    }\n\n    this._strategy = new strategyClass(this);\n\n    this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this));\n\n    this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this));\n\n    this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this));\n  },\n  _createActions: function _createActions() {\n    this.callBase();\n    this._pullDownAction = this._createActionByOption(\"onPullDown\");\n    this._reachBottomAction = this._createActionByOption(\"onReachBottom\");\n\n    this._tryRefreshPocketState();\n  },\n  _tryRefreshPocketState: function _tryRefreshPocketState() {\n    this._pullDownEnable(this.hasActionSubscription(\"onPullDown\"));\n\n    this._reachBottomEnable(this.hasActionSubscription(\"onReachBottom\"));\n  },\n  on: function on(eventName) {\n    var result = this.callBase.apply(this, arguments);\n\n    if (\"pullDown\" === eventName || \"reachBottom\" === eventName) {\n      this._tryRefreshPocketState();\n    }\n\n    return result;\n  },\n  _pullDownEnable: function _pullDownEnable(enabled) {\n    if (0 === arguments.length) {\n      return this._pullDownEnabled;\n    }\n\n    if (this._$pullDown && this._strategy) {\n      this._$pullDown.toggle(enabled);\n\n      this._strategy.pullDownEnable(enabled);\n\n      this._pullDownEnabled = enabled;\n    }\n  },\n  _reachBottomEnable: function _reachBottomEnable(enabled) {\n    if (0 === arguments.length) {\n      return this._reachBottomEnabled;\n    }\n\n    if (this._$reachBottom && this._strategy) {\n      this._$reachBottom.toggle(enabled);\n\n      this._strategy.reachBottomEnable(enabled);\n\n      this._reachBottomEnabled = enabled;\n    }\n  },\n  _pullDownHandler: function _pullDownHandler() {\n    this._loadingIndicator(false);\n\n    this._pullDownLoading();\n  },\n  _loadingIndicator: function _loadingIndicator(value) {\n    if (arguments.length < 1) {\n      return this._loadingIndicatorEnabled;\n    }\n\n    this._loadingIndicatorEnabled = value;\n  },\n  _pullDownLoading: function _pullDownLoading() {\n    this.startLoading();\n\n    this._pullDownAction();\n  },\n  _reachBottomHandler: function _reachBottomHandler() {\n    this._loadingIndicator(false);\n\n    this._reachBottomLoading();\n  },\n  _reachBottomLoading: function _reachBottomLoading() {\n    this.startLoading();\n\n    this._reachBottomAction();\n  },\n  _releaseHandler: function _releaseHandler() {\n    this.finishLoading();\n\n    this._loadingIndicator(true);\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"onPullDown\":\n      case \"onReachBottom\":\n        this._createActions();\n\n        break;\n\n      case \"pullingDownText\":\n      case \"pulledDownText\":\n      case \"refreshingText\":\n      case \"refreshStrategy\":\n        this._invalidate();\n\n        break;\n\n      case \"reachBottomText\":\n        this._updateReachBottomText();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  isEmpty: function isEmpty() {\n    return !$(this.content()).children().length;\n  },\n  content: function content() {\n    return getPublicElement(this._$content.children().eq(1));\n  },\n  release: function release(preventReachBottom) {\n    if (void 0 !== preventReachBottom) {\n      this.toggleLoading(!preventReachBottom);\n    }\n\n    return this._strategy.release();\n  },\n  toggleLoading: function toggleLoading(showOrHide) {\n    this._reachBottomEnable(showOrHide);\n  },\n  isFull: function isFull() {\n    return $(this.content()).height() > this._$container.height();\n  },\n  refresh: function refresh() {\n    if (!this.hasActionSubscription(\"onPullDown\")) {\n      return;\n    }\n\n    this._strategy.pendingRelease();\n\n    this._pullDownLoading();\n  },\n  startLoading: function startLoading() {\n    if (this._loadingIndicator() && this.$element().is(\":visible\")) {\n      this._loadPanel.show();\n    }\n\n    this._lock();\n  },\n  finishLoading: function finishLoading() {\n    this._loadPanel.hide();\n\n    this._unlock();\n  },\n  _dispose: function _dispose() {\n    this._strategy.dispose();\n\n    this.callBase();\n\n    if (this._loadPanel) {\n      this._loadPanel.$element().remove();\n    }\n  }\n});\nregisterComponent(\"dxScrollView\", ScrollView);\nmodule.exports = ScrollView;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/scroll_view/ui.scroll_view.js"],"names":["$","require","devices","windowUtils","messageLocalization","registerComponent","getPublicElement","extend","noop","PullDownStrategy","SwipeDownStrategy","SimulatedStrategy","Scrollable","LoadIndicator","themes","LoadPanel","SCROLLVIEW_CLASS","SCROLLVIEW_CONTENT_CLASS","SCROLLVIEW_TOP_POCKET_CLASS","SCROLLVIEW_BOTTOM_POCKET_CLASS","SCROLLVIEW_PULLDOWN_CLASS","SCROLLVIEW_REACHBOTTOM_CLASS","SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS","SCROLLVIEW_REACHBOTTOM_TEXT_CLASS","SCROLLVIEW_LOADPANEL","refreshStrategies","pullDown","swipeDown","simulated","isServerSide","scrollViewServerConfig","finishLoading","release","refresh","_optionChanged","args","ScrollView","_getDefaultOptions","pullingDownText","pulledDownText","refreshingText","reachBottomText","onPullDown","onReachBottom","refreshStrategy","_defaultOptionsRules","device","realDevice","options","_init","_initScrollableMarkup","_initContent","$content","_initTopPocket","$topPocket","$pullDown","_initBottomPocket","$bottomPocket","$reachBottom","$loadContainer","$loadIndicator","$text","_initLoadPanel","$loadPanelElement","loadPanelOptions","shading","delay","message","position","of","_updateReachBottomText","_createStrategy","strategyName","strategyClass","Error","_createActions","_tryRefreshPocketState","on","result","_pullDownEnable","arguments","_reachBottomEnable","_pullDownHandler","_loadingIndicator","_pullDownLoading","_reachBottomHandler","_reachBottomLoading","_releaseHandler","isEmpty","content","toggleLoading","isFull","startLoading","_dispose","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scroll_view/ui.scroll_view.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar devices = require(\"../../core/devices\");\r\nvar windowUtils = require(\"../../core/utils/window\");\r\nvar messageLocalization = require(\"../../localization/message\");\r\nvar registerComponent = require(\"../../core/component_registrator\");\r\nvar getPublicElement = require(\"../../core/utils/dom\").getPublicElement;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar PullDownStrategy = require(\"./ui.scroll_view.native.pull_down\");\r\nvar SwipeDownStrategy = require(\"./ui.scroll_view.native.swipe_down\");\r\nvar SimulatedStrategy = require(\"./ui.scroll_view.simulated\");\r\nvar Scrollable = require(\"./ui.scrollable\");\r\nvar LoadIndicator = require(\"../load_indicator\");\r\nvar themes = require(\"./../themes\");\r\nvar LoadPanel = require(\"../load_panel\");\r\nvar SCROLLVIEW_CLASS = \"dx-scrollview\";\r\nvar SCROLLVIEW_CONTENT_CLASS = SCROLLVIEW_CLASS + \"-content\";\r\nvar SCROLLVIEW_TOP_POCKET_CLASS = SCROLLVIEW_CLASS + \"-top-pocket\";\r\nvar SCROLLVIEW_BOTTOM_POCKET_CLASS = SCROLLVIEW_CLASS + \"-bottom-pocket\";\r\nvar SCROLLVIEW_PULLDOWN_CLASS = SCROLLVIEW_CLASS + \"-pull-down\";\r\nvar SCROLLVIEW_REACHBOTTOM_CLASS = SCROLLVIEW_CLASS + \"-scrollbottom\";\r\nvar SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-indicator\";\r\nvar SCROLLVIEW_REACHBOTTOM_TEXT_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-text\";\r\nvar SCROLLVIEW_LOADPANEL = SCROLLVIEW_CLASS + \"-loadpanel\";\r\nvar refreshStrategies = {\r\n    pullDown: PullDownStrategy,\r\n    swipeDown: SwipeDownStrategy,\r\n    simulated: SimulatedStrategy\r\n};\r\nvar isServerSide = !windowUtils.hasWindow();\r\nvar scrollViewServerConfig = {\r\n    finishLoading: noop,\r\n    release: noop,\r\n    refresh: noop,\r\n    _optionChanged: function(args) {\r\n        if (\"onUpdated\" !== args.name) {\r\n            return this.callBase.apply(this, arguments)\r\n        }\r\n    }\r\n};\r\nvar ScrollView = Scrollable.inherit(isServerSide ? scrollViewServerConfig : {\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            pullingDownText: messageLocalization.format(\"dxScrollView-pullingDownText\"),\r\n            pulledDownText: messageLocalization.format(\"dxScrollView-pulledDownText\"),\r\n            refreshingText: messageLocalization.format(\"dxScrollView-refreshingText\"),\r\n            reachBottomText: messageLocalization.format(\"dxScrollView-reachBottomText\"),\r\n            onPullDown: null,\r\n            onReachBottom: null,\r\n            refreshStrategy: \"pullDown\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                var realDevice = devices.real();\r\n                return \"android\" === realDevice.platform\r\n            },\r\n            options: {\r\n                refreshStrategy: \"swipeDown\"\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return themes.isMaterial()\r\n            },\r\n            options: {\r\n                pullingDownText: \"\",\r\n                pulledDownText: \"\",\r\n                refreshingText: \"\",\r\n                reachBottomText: \"\"\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._loadingIndicatorEnabled = true\r\n    },\r\n    _initScrollableMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(SCROLLVIEW_CLASS);\r\n        this._initContent();\r\n        this._initTopPocket();\r\n        this._initBottomPocket();\r\n        this._initLoadPanel()\r\n    },\r\n    _initContent: function() {\r\n        var $content = $(\"<div>\").addClass(SCROLLVIEW_CONTENT_CLASS);\r\n        this._$content.wrapInner($content)\r\n    },\r\n    _initTopPocket: function() {\r\n        var $topPocket = this._$topPocket = $(\"<div>\").addClass(SCROLLVIEW_TOP_POCKET_CLASS);\r\n        var $pullDown = this._$pullDown = $(\"<div>\").addClass(SCROLLVIEW_PULLDOWN_CLASS);\r\n        $topPocket.append($pullDown);\r\n        this._$content.prepend($topPocket)\r\n    },\r\n    _initBottomPocket: function() {\r\n        var $bottomPocket = this._$bottomPocket = $(\"<div>\").addClass(SCROLLVIEW_BOTTOM_POCKET_CLASS);\r\n        var $reachBottom = this._$reachBottom = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_CLASS);\r\n        var $loadContainer = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS);\r\n        var $loadIndicator = new LoadIndicator($(\"<div>\")).$element();\r\n        var $text = this._$reachBottomText = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_TEXT_CLASS);\r\n        this._updateReachBottomText();\r\n        $reachBottom.append($loadContainer.append($loadIndicator)).append($text);\r\n        $bottomPocket.append($reachBottom);\r\n        this._$content.append($bottomPocket)\r\n    },\r\n    _initLoadPanel: function() {\r\n        var $loadPanelElement = $(\"<div>\").addClass(SCROLLVIEW_LOADPANEL).appendTo(this.$element());\r\n        var loadPanelOptions = {\r\n            shading: false,\r\n            delay: 400,\r\n            message: this.option(\"refreshingText\"),\r\n            position: {\r\n                of: this.$element()\r\n            }\r\n        };\r\n        this._loadPanel = this._createComponent($loadPanelElement, LoadPanel, loadPanelOptions)\r\n    },\r\n    _updateReachBottomText: function() {\r\n        this._$reachBottomText.text(this.option(\"reachBottomText\"))\r\n    },\r\n    _createStrategy: function() {\r\n        var strategyName = this.option(\"useNative\") ? this.option(\"refreshStrategy\") : \"simulated\";\r\n        var strategyClass = refreshStrategies[strategyName];\r\n        if (!strategyClass) {\r\n            throw Error(\"E1030\", this.option(\"refreshStrategy\"))\r\n        }\r\n        this._strategy = new strategyClass(this);\r\n        this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this));\r\n        this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this));\r\n        this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))\r\n    },\r\n    _createActions: function() {\r\n        this.callBase();\r\n        this._pullDownAction = this._createActionByOption(\"onPullDown\");\r\n        this._reachBottomAction = this._createActionByOption(\"onReachBottom\");\r\n        this._tryRefreshPocketState()\r\n    },\r\n    _tryRefreshPocketState: function() {\r\n        this._pullDownEnable(this.hasActionSubscription(\"onPullDown\"));\r\n        this._reachBottomEnable(this.hasActionSubscription(\"onReachBottom\"))\r\n    },\r\n    on: function(eventName) {\r\n        var result = this.callBase.apply(this, arguments);\r\n        if (\"pullDown\" === eventName || \"reachBottom\" === eventName) {\r\n            this._tryRefreshPocketState()\r\n        }\r\n        return result\r\n    },\r\n    _pullDownEnable: function(enabled) {\r\n        if (0 === arguments.length) {\r\n            return this._pullDownEnabled\r\n        }\r\n        if (this._$pullDown && this._strategy) {\r\n            this._$pullDown.toggle(enabled);\r\n            this._strategy.pullDownEnable(enabled);\r\n            this._pullDownEnabled = enabled\r\n        }\r\n    },\r\n    _reachBottomEnable: function(enabled) {\r\n        if (0 === arguments.length) {\r\n            return this._reachBottomEnabled\r\n        }\r\n        if (this._$reachBottom && this._strategy) {\r\n            this._$reachBottom.toggle(enabled);\r\n            this._strategy.reachBottomEnable(enabled);\r\n            this._reachBottomEnabled = enabled\r\n        }\r\n    },\r\n    _pullDownHandler: function() {\r\n        this._loadingIndicator(false);\r\n        this._pullDownLoading()\r\n    },\r\n    _loadingIndicator: function(value) {\r\n        if (arguments.length < 1) {\r\n            return this._loadingIndicatorEnabled\r\n        }\r\n        this._loadingIndicatorEnabled = value\r\n    },\r\n    _pullDownLoading: function() {\r\n        this.startLoading();\r\n        this._pullDownAction()\r\n    },\r\n    _reachBottomHandler: function() {\r\n        this._loadingIndicator(false);\r\n        this._reachBottomLoading()\r\n    },\r\n    _reachBottomLoading: function() {\r\n        this.startLoading();\r\n        this._reachBottomAction()\r\n    },\r\n    _releaseHandler: function() {\r\n        this.finishLoading();\r\n        this._loadingIndicator(true)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"onPullDown\":\r\n            case \"onReachBottom\":\r\n                this._createActions();\r\n                break;\r\n            case \"pullingDownText\":\r\n            case \"pulledDownText\":\r\n            case \"refreshingText\":\r\n            case \"refreshStrategy\":\r\n                this._invalidate();\r\n                break;\r\n            case \"reachBottomText\":\r\n                this._updateReachBottomText();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    isEmpty: function() {\r\n        return !$(this.content()).children().length\r\n    },\r\n    content: function() {\r\n        return getPublicElement(this._$content.children().eq(1))\r\n    },\r\n    release: function(preventReachBottom) {\r\n        if (void 0 !== preventReachBottom) {\r\n            this.toggleLoading(!preventReachBottom)\r\n        }\r\n        return this._strategy.release()\r\n    },\r\n    toggleLoading: function(showOrHide) {\r\n        this._reachBottomEnable(showOrHide)\r\n    },\r\n    isFull: function() {\r\n        return $(this.content()).height() > this._$container.height()\r\n    },\r\n    refresh: function() {\r\n        if (!this.hasActionSubscription(\"onPullDown\")) {\r\n            return\r\n        }\r\n        this._strategy.pendingRelease();\r\n        this._pullDownLoading()\r\n    },\r\n    startLoading: function() {\r\n        if (this._loadingIndicator() && this.$element().is(\":visible\")) {\r\n            this._loadPanel.show()\r\n        }\r\n        this._lock()\r\n    },\r\n    finishLoading: function() {\r\n        this._loadPanel.hide();\r\n        this._unlock()\r\n    },\r\n    _dispose: function() {\r\n        this._strategy.dispose();\r\n        this.callBase();\r\n        if (this._loadPanel) {\r\n            this._loadPanel.$element().remove()\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxScrollView\", ScrollView);\r\nmodule.exports = ScrollView;\r\n"]},"metadata":{},"sourceType":"module"}