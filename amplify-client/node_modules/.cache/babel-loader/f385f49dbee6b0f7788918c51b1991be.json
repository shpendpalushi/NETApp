{"ast":null,"code":"/**\r\n * DevExtreme (ui/validation_summary.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _events_engine = require(\"../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _common = require(\"../core/utils/common\");\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _validation_engine = require(\"./validation_engine\");\n\nvar _validation_engine2 = _interopRequireDefault(_validation_engine);\n\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.edit\");\n\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar VALIDATION_SUMMARY_CLASS = \"dx-validationsummary\";\nvar ITEM_CLASS = VALIDATION_SUMMARY_CLASS + \"-item\";\nvar ITEM_DATA_KEY = VALIDATION_SUMMARY_CLASS + \"-item-data\";\n\nvar ValidationSummary = _uiCollection_widget2.default.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      focusStateEnabled: false,\n      noDataText: null\n    });\n  },\n  _setOptionsByReference: function _setOptionsByReference() {\n    this.callBase();\n    (0, _extend.extend)(this._optionsByReference, {\n      validationGroup: true\n    });\n  },\n  _init: function _init() {\n    this.callBase();\n\n    this._initGroupRegistration();\n  },\n  _initGroupRegistration: function _initGroupRegistration() {\n    var $element = this.$element();\n\n    var group = this.option(\"validationGroup\") || _validation_engine2.default.findGroup($element, this._modelByElement($element));\n\n    var groupConfig = _validation_engine2.default.addGroup(group);\n\n    this._unsubscribeGroup();\n\n    this._groupWasInit = true;\n    this._validationGroup = group;\n    this.groupSubscription = this._groupValidationHandler.bind(this);\n    groupConfig.on(\"validated\", this.groupSubscription);\n  },\n  _unsubscribeGroup: function _unsubscribeGroup() {\n    var groupConfig = _validation_engine2.default.getGroupConfig(this._validationGroup);\n\n    groupConfig && groupConfig.off(\"validated\", this.groupSubscription);\n  },\n  _getOrderedItems: function _getOrderedItems(validators, items) {\n    var orderedItems = [];\n\n    _iterator2.default.each(validators, function (_, validator) {\n      var foundItems = (0, _common.grep)(items, function (item) {\n        if (item.validator === validator) {\n          return true;\n        }\n      });\n\n      if (foundItems.length) {\n        orderedItems = orderedItems.concat(foundItems);\n      }\n    });\n\n    return orderedItems;\n  },\n  _groupValidationHandler: function _groupValidationHandler(params) {\n    var _this = this;\n\n    var items = this._getOrderedItems(params.validators, _iterator2.default.map(params.brokenRules, function (rule) {\n      return {\n        text: rule.message,\n        validator: rule.validator,\n        index: rule.index\n      };\n    }));\n\n    this.validators = params.validators;\n\n    _iterator2.default.each(this.validators, function (_, validator) {\n      if (validator._validationSummary !== _this) {\n        var handler = _this._itemValidationHandler.bind(_this);\n\n        var disposingHandler = function disposingHandler() {\n          validator.off(\"validated\", handler);\n          validator._validationSummary = null;\n          handler = null;\n        };\n\n        validator.on(\"validated\", handler);\n        validator.on(\"disposing\", disposingHandler);\n        validator._validationSummary = _this;\n      }\n    });\n\n    this.option(\"items\", items);\n  },\n  _itemValidationHandler: function _itemValidationHandler(_ref) {\n    var isValid = _ref.isValid,\n        validator = _ref.validator,\n        brokenRules = _ref.brokenRules;\n    var items = this.option(\"items\");\n    var itemsChanged = false;\n    var itemIndex = 0;\n\n    var _loop = function _loop() {\n      var item = items[itemIndex];\n\n      if (item.validator === validator) {\n        var foundRule = (0, _common.grep)(brokenRules || [], function (rule) {\n          return rule.index === item.index;\n        })[0];\n\n        if (isValid || !foundRule) {\n          items.splice(itemIndex, 1);\n          itemsChanged = true;\n          return \"continue\";\n        }\n\n        if (foundRule.message !== item.text) {\n          item.text = foundRule.message;\n          itemsChanged = true;\n        }\n      }\n\n      itemIndex++;\n    };\n\n    while (itemIndex < items.length) {\n      var _ret = _loop();\n\n      if (\"continue\" === _ret) {\n        continue;\n      }\n    }\n\n    _iterator2.default.each(brokenRules, function (_, rule) {\n      var foundItem = (0, _common.grep)(items, function (item) {\n        return item.validator === validator && item.index === rule.index;\n      })[0];\n\n      if (!foundItem) {\n        items.push({\n          text: rule.message,\n          validator: validator,\n          index: rule.index\n        });\n        itemsChanged = true;\n      }\n    });\n\n    if (itemsChanged) {\n      items = this._getOrderedItems(this.validators, items);\n      this.option(\"items\", items);\n    }\n  },\n  _initMarkup: function _initMarkup() {\n    this.$element().addClass(VALIDATION_SUMMARY_CLASS);\n    this.callBase();\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"validationGroup\":\n        this._initGroupRegistration();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _itemClass: function _itemClass() {\n    return ITEM_CLASS;\n  },\n  _itemDataKey: function _itemDataKey() {\n    return ITEM_DATA_KEY;\n  },\n  _postprocessRenderItem: function _postprocessRenderItem(params) {\n    _events_engine2.default.on(params.itemElement, \"click\", function () {\n      params.itemData.validator && params.itemData.validator.focus && params.itemData.validator.focus();\n    });\n  },\n  _dispose: function _dispose() {\n    this.callBase();\n\n    this._unsubscribeGroup();\n  }\n});\n\n(0, _component_registrator2.default)(\"dxValidationSummary\", ValidationSummary);\nmodule.exports = ValidationSummary;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/validation_summary.js"],"names":["_component_registrator","require","_component_registrator2","_interopRequireDefault","_events_engine","_events_engine2","_common","_extend","_iterator","_iterator2","_validation_engine","_validation_engine2","_uiCollection_widget","_uiCollection_widget2","obj","VALIDATION_SUMMARY_CLASS","ITEM_CLASS","ITEM_DATA_KEY","ValidationSummary","_getDefaultOptions","focusStateEnabled","noDataText","_setOptionsByReference","validationGroup","_init","_initGroupRegistration","$element","group","groupConfig","_unsubscribeGroup","_getOrderedItems","orderedItems","foundItems","item","_groupValidationHandler","_this","items","params","text","rule","validator","index","handler","disposingHandler","_itemValidationHandler","isValid","_ref","brokenRules","itemsChanged","itemIndex","_loop","foundRule","_ret","foundItem","_initMarkup","_optionChanged","args","_itemClass","_itemDataKey","_postprocessRenderItem","_dispose","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/validation_summary.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _events_engine = require(\"../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _common = require(\"../core/utils/common\");\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _iterator2 = _interopRequireDefault(_iterator);\r\nvar _validation_engine = require(\"./validation_engine\");\r\nvar _validation_engine2 = _interopRequireDefault(_validation_engine);\r\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.edit\");\r\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar VALIDATION_SUMMARY_CLASS = \"dx-validationsummary\";\r\nvar ITEM_CLASS = VALIDATION_SUMMARY_CLASS + \"-item\";\r\nvar ITEM_DATA_KEY = VALIDATION_SUMMARY_CLASS + \"-item-data\";\r\nvar ValidationSummary = _uiCollection_widget2.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            focusStateEnabled: false,\r\n            noDataText: null\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        (0, _extend.extend)(this._optionsByReference, {\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initGroupRegistration()\r\n    },\r\n    _initGroupRegistration: function() {\r\n        var $element = this.$element();\r\n        var group = this.option(\"validationGroup\") || _validation_engine2.default.findGroup($element, this._modelByElement($element));\r\n        var groupConfig = _validation_engine2.default.addGroup(group);\r\n        this._unsubscribeGroup();\r\n        this._groupWasInit = true;\r\n        this._validationGroup = group;\r\n        this.groupSubscription = this._groupValidationHandler.bind(this);\r\n        groupConfig.on(\"validated\", this.groupSubscription)\r\n    },\r\n    _unsubscribeGroup: function() {\r\n        var groupConfig = _validation_engine2.default.getGroupConfig(this._validationGroup);\r\n        groupConfig && groupConfig.off(\"validated\", this.groupSubscription)\r\n    },\r\n    _getOrderedItems: function(validators, items) {\r\n        var orderedItems = [];\r\n        _iterator2.default.each(validators, function(_, validator) {\r\n            var foundItems = (0, _common.grep)(items, function(item) {\r\n                if (item.validator === validator) {\r\n                    return true\r\n                }\r\n            });\r\n            if (foundItems.length) {\r\n                orderedItems = orderedItems.concat(foundItems)\r\n            }\r\n        });\r\n        return orderedItems\r\n    },\r\n    _groupValidationHandler: function(params) {\r\n        var _this = this;\r\n        var items = this._getOrderedItems(params.validators, _iterator2.default.map(params.brokenRules, function(rule) {\r\n            return {\r\n                text: rule.message,\r\n                validator: rule.validator,\r\n                index: rule.index\r\n            }\r\n        }));\r\n        this.validators = params.validators;\r\n        _iterator2.default.each(this.validators, function(_, validator) {\r\n            if (validator._validationSummary !== _this) {\r\n                var handler = _this._itemValidationHandler.bind(_this);\r\n                var disposingHandler = function() {\r\n                    validator.off(\"validated\", handler);\r\n                    validator._validationSummary = null;\r\n                    handler = null\r\n                };\r\n                validator.on(\"validated\", handler);\r\n                validator.on(\"disposing\", disposingHandler);\r\n                validator._validationSummary = _this\r\n            }\r\n        });\r\n        this.option(\"items\", items)\r\n    },\r\n    _itemValidationHandler: function(_ref) {\r\n        var isValid = _ref.isValid,\r\n            validator = _ref.validator,\r\n            brokenRules = _ref.brokenRules;\r\n        var items = this.option(\"items\");\r\n        var itemsChanged = false;\r\n        var itemIndex = 0;\r\n        var _loop = function() {\r\n            var item = items[itemIndex];\r\n            if (item.validator === validator) {\r\n                var foundRule = (0, _common.grep)(brokenRules || [], function(rule) {\r\n                    return rule.index === item.index\r\n                })[0];\r\n                if (isValid || !foundRule) {\r\n                    items.splice(itemIndex, 1);\r\n                    itemsChanged = true;\r\n                    return \"continue\"\r\n                }\r\n                if (foundRule.message !== item.text) {\r\n                    item.text = foundRule.message;\r\n                    itemsChanged = true\r\n                }\r\n            }\r\n            itemIndex++\r\n        };\r\n        while (itemIndex < items.length) {\r\n            var _ret = _loop();\r\n            if (\"continue\" === _ret) {\r\n                continue\r\n            }\r\n        }\r\n        _iterator2.default.each(brokenRules, function(_, rule) {\r\n            var foundItem = (0, _common.grep)(items, function(item) {\r\n                return item.validator === validator && item.index === rule.index\r\n            })[0];\r\n            if (!foundItem) {\r\n                items.push({\r\n                    text: rule.message,\r\n                    validator: validator,\r\n                    index: rule.index\r\n                });\r\n                itemsChanged = true\r\n            }\r\n        });\r\n        if (itemsChanged) {\r\n            items = this._getOrderedItems(this.validators, items);\r\n            this.option(\"items\", items)\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(VALIDATION_SUMMARY_CLASS);\r\n        this.callBase()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"validationGroup\":\r\n                this._initGroupRegistration();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _itemClass: function() {\r\n        return ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return ITEM_DATA_KEY\r\n    },\r\n    _postprocessRenderItem: function(params) {\r\n        _events_engine2.default.on(params.itemElement, \"click\", function() {\r\n            params.itemData.validator && params.itemData.validator.focus && params.itemData.validator.focus()\r\n        })\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        this._unsubscribeGroup()\r\n    }\r\n});\r\n(0, _component_registrator2.default)(\"dxValidationSummary\", ValidationSummary);\r\nmodule.exports = ValidationSummary;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"module"}