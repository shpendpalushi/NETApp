{"ast":null,"code":"/**\r\n * DevExtreme (viz/sparklines/bullet.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar BaseSparkline = require(\"./base_sparkline\");\n\nvar TARGET_MIN_Y = .02;\nvar TARGET_MAX_Y = .98;\nvar BAR_VALUE_MIN_Y = .1;\nvar BAR_VALUE_MAX_Y = .9;\nvar DEFAULT_CANVAS_WIDTH = 300;\nvar DEFAULT_CANVAS_HEIGHT = 30;\nvar DEFAULT_HORIZONTAL_MARGIN = 1;\nvar DEFAULT_VERTICAL_MARGIN = 2;\nvar _Number = Number;\nvar _isFinite = isFinite;\nvar dxBullet = BaseSparkline.inherit({\n  _rootClassPrefix: \"dxb\",\n  _rootClass: \"dxb-bullet\",\n  _themeSection: \"bullet\",\n  _defaultSize: {\n    width: DEFAULT_CANVAS_WIDTH,\n    height: DEFAULT_CANVAS_HEIGHT,\n    left: DEFAULT_HORIZONTAL_MARGIN,\n    right: DEFAULT_HORIZONTAL_MARGIN,\n    top: DEFAULT_VERTICAL_MARGIN,\n    bottom: DEFAULT_VERTICAL_MARGIN\n  },\n  _disposeWidgetElements: function _disposeWidgetElements() {\n    delete this._zeroLevelPath;\n    delete this._targetPath;\n    delete this._barValuePath;\n  },\n  _cleanWidgetElements: function _cleanWidgetElements() {\n    this._zeroLevelPath.remove();\n\n    this._targetPath.remove();\n\n    this._barValuePath.remove();\n  },\n  _drawWidgetElements: function _drawWidgetElements() {\n    this._drawBullet();\n\n    this._drawn();\n  },\n  _createHtmlElements: function _createHtmlElements() {\n    var renderer = this._renderer;\n    this._zeroLevelPath = renderer.path(void 0, \"line\").attr({\n      \"class\": \"dxb-zero-level\",\n      \"stroke-linecap\": \"square\"\n    });\n    this._targetPath = renderer.path(void 0, \"line\").attr({\n      \"class\": \"dxb-target\",\n      \"stroke-linecap\": \"square\"\n    });\n    this._barValuePath = renderer.path(void 0, \"line\").attr({\n      \"class\": \"dxb-bar-value\",\n      \"stroke-linecap\": \"square\"\n    });\n  },\n  _prepareOptions: function _prepareOptions() {\n    var that = this;\n    var options;\n    var startScaleValue;\n    var endScaleValue;\n    var level;\n    var value;\n    var target;\n    var isValueUndefined;\n    var isTargetUndefined;\n    that._allOptions = options = that.callBase();\n    isValueUndefined = void 0 === that._allOptions.value;\n    isTargetUndefined = void 0 === that._allOptions.target;\n    that._tooltipEnabled = !(isValueUndefined && isTargetUndefined);\n\n    if (isValueUndefined) {\n      that._allOptions.value = 0;\n    }\n\n    if (isTargetUndefined) {\n      that._allOptions.target = 0;\n    }\n\n    options.value = value = _Number(options.value);\n    options.target = target = _Number(options.target);\n\n    if (void 0 === that._allOptions.startScaleValue) {\n      that._allOptions.startScaleValue = target < value ? target : value;\n      that._allOptions.startScaleValue = that._allOptions.startScaleValue < 0 ? that._allOptions.startScaleValue : 0;\n    }\n\n    if (void 0 === that._allOptions.endScaleValue) {\n      that._allOptions.endScaleValue = target > value ? target : value;\n    }\n\n    options.startScaleValue = startScaleValue = _Number(options.startScaleValue);\n    options.endScaleValue = endScaleValue = _Number(options.endScaleValue);\n\n    if (endScaleValue < startScaleValue) {\n      level = endScaleValue;\n      that._allOptions.endScaleValue = startScaleValue;\n      that._allOptions.startScaleValue = level;\n      that._allOptions.inverted = true;\n    }\n  },\n  _updateRange: function _updateRange() {\n    var that = this;\n    var options = that._allOptions;\n    that._ranges = {\n      arg: {\n        invert: options.inverted,\n        min: options.startScaleValue,\n        max: options.endScaleValue,\n        axisType: \"continuous\",\n        dataType: \"numeric\"\n      },\n      val: {\n        min: 0,\n        max: 1,\n        axisType: \"continuous\",\n        dataType: \"numeric\"\n      }\n    };\n  },\n  _drawBullet: function _drawBullet() {\n    var that = this;\n    var options = that._allOptions;\n    var isValidBounds = options.startScaleValue !== options.endScaleValue;\n\n    var isValidMin = _isFinite(options.startScaleValue);\n\n    var isValidMax = _isFinite(options.endScaleValue);\n\n    var isValidValue = _isFinite(options.value);\n\n    var isValidTarget = _isFinite(options.target);\n\n    if (isValidBounds && isValidMax && isValidMin && isValidTarget && isValidValue) {\n      this._drawBarValue();\n\n      this._drawTarget();\n\n      this._drawZeroLevel();\n    }\n  },\n  _getTargetParams: function _getTargetParams() {\n    var that = this;\n    var options = that._allOptions;\n\n    var translatorY = that._valueAxis.getTranslator();\n\n    var x = that._argumentAxis.getTranslator().translate(options.target);\n\n    return {\n      points: [x, translatorY.translate(TARGET_MIN_Y), x, translatorY.translate(TARGET_MAX_Y)],\n      stroke: options.targetColor,\n      \"stroke-width\": options.targetWidth\n    };\n  },\n  _getBarValueParams: function _getBarValueParams() {\n    var that = this;\n    var options = that._allOptions;\n\n    var translatorX = that._argumentAxis.getTranslator();\n\n    var translatorY = that._valueAxis.getTranslator();\n\n    var startLevel = options.startScaleValue;\n    var endLevel = options.endScaleValue;\n    var value = options.value;\n    var y2 = translatorY.translate(BAR_VALUE_MIN_Y);\n    var y1 = translatorY.translate(BAR_VALUE_MAX_Y);\n    var x1;\n    var x2;\n\n    if (value > 0) {\n      x1 = startLevel <= 0 ? 0 : startLevel;\n      x2 = value >= endLevel ? endLevel : value < x1 ? x1 : value;\n    } else {\n      x1 = endLevel >= 0 ? 0 : endLevel;\n      x2 = value < startLevel ? startLevel : value > x1 ? x1 : value;\n    }\n\n    x1 = translatorX.translate(x1);\n    x2 = translatorX.translate(x2);\n    return {\n      points: [x1, y1, x2, y1, x2, y2, x1, y2],\n      fill: options.color\n    };\n  },\n  _getCorrectCanvas: function _getCorrectCanvas() {\n    return this._canvas;\n  },\n  _getZeroLevelParams: function _getZeroLevelParams() {\n    var that = this;\n\n    var translatorY = that._valueAxis.getTranslator();\n\n    var x = that._argumentAxis.getTranslator().translate(0);\n\n    return {\n      points: [x, translatorY.translate(TARGET_MIN_Y), x, translatorY.translate(TARGET_MAX_Y)],\n      stroke: that._allOptions.targetColor,\n      \"stroke-width\": 1\n    };\n  },\n  _drawZeroLevel: function _drawZeroLevel() {\n    var that = this;\n    var options = that._allOptions;\n\n    if (0 > options.endScaleValue || 0 < options.startScaleValue || !options.showZeroLevel) {\n      return;\n    }\n\n    that._zeroLevelPath.attr(that._getZeroLevelParams()).sharp().append(that._renderer.root);\n  },\n  _drawTarget: function _drawTarget() {\n    var that = this;\n    var options = that._allOptions;\n    var target = options.target;\n\n    if (target > options.endScaleValue || target < options.startScaleValue || !options.showTarget) {\n      return;\n    }\n\n    that._targetPath.attr(that._getTargetParams()).sharp().append(that._renderer.root);\n  },\n  _drawBarValue: function _drawBarValue() {\n    this._barValuePath.attr(this._getBarValueParams()).append(this._renderer.root);\n  },\n  _getTooltipCoords: function _getTooltipCoords() {\n    var canvas = this._canvas;\n\n    var rootOffset = this._renderer.getRootOffset();\n\n    var bBox = this._barValuePath.getBBox();\n\n    return {\n      x: bBox.x + bBox.width / 2 + rootOffset.left,\n      y: canvas.height / 2 + rootOffset.top\n    };\n  },\n  _getTooltipData: function _getTooltipData() {\n    var that = this;\n    var tooltip = that._tooltip;\n    var options = that._allOptions;\n    var value = options.value;\n    var target = options.target;\n    var valueText = tooltip.formatValue(value);\n    var targetText = tooltip.formatValue(target);\n    return {\n      originalValue: value,\n      originalTarget: target,\n      value: valueText,\n      target: targetText,\n      valueText: [\"Actual Value:\", valueText, \"Target Value:\", targetText]\n    };\n  },\n  _isTooltipEnabled: function _isTooltipEnabled() {\n    return this._tooltipEnabled;\n  }\n});\neach([\"color\", \"targetColor\", \"targetWidth\", \"showTarget\", \"showZeroLevel\", \"value\", \"target\", \"startScaleValue\", \"endScaleValue\"], function (_, name) {\n  dxBullet.prototype._optionChangesMap[name] = \"OPTIONS\";\n});\n\nrequire(\"../../core/component_registrator\")(\"dxBullet\", dxBullet);\n\nmodule.exports = dxBullet;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/sparklines/bullet.js"],"names":["each","require","BaseSparkline","TARGET_MIN_Y","TARGET_MAX_Y","BAR_VALUE_MIN_Y","BAR_VALUE_MAX_Y","DEFAULT_CANVAS_WIDTH","DEFAULT_CANVAS_HEIGHT","DEFAULT_HORIZONTAL_MARGIN","DEFAULT_VERTICAL_MARGIN","_Number","_isFinite","dxBullet","_rootClassPrefix","_rootClass","_themeSection","_defaultSize","width","height","left","right","top","bottom","_disposeWidgetElements","_cleanWidgetElements","_drawWidgetElements","_createHtmlElements","renderer","_prepareOptions","that","options","isValueUndefined","isTargetUndefined","value","target","startScaleValue","endScaleValue","level","_updateRange","arg","invert","min","max","axisType","dataType","val","_drawBullet","isValidBounds","isValidMin","isValidMax","isValidValue","isValidTarget","_getTargetParams","translatorY","x","points","stroke","targetWidth","_getBarValueParams","translatorX","startLevel","endLevel","y2","y1","x1","x2","fill","color","_getCorrectCanvas","_getZeroLevelParams","_drawZeroLevel","_drawTarget","_drawBarValue","_getTooltipCoords","canvas","rootOffset","bBox","y","_getTooltipData","tooltip","valueText","targetText","originalValue","originalTarget","_isTooltipEnabled","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/sparklines/bullet.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar BaseSparkline = require(\"./base_sparkline\");\r\nvar TARGET_MIN_Y = .02;\r\nvar TARGET_MAX_Y = .98;\r\nvar BAR_VALUE_MIN_Y = .1;\r\nvar BAR_VALUE_MAX_Y = .9;\r\nvar DEFAULT_CANVAS_WIDTH = 300;\r\nvar DEFAULT_CANVAS_HEIGHT = 30;\r\nvar DEFAULT_HORIZONTAL_MARGIN = 1;\r\nvar DEFAULT_VERTICAL_MARGIN = 2;\r\nvar _Number = Number;\r\nvar _isFinite = isFinite;\r\nvar dxBullet = BaseSparkline.inherit({\r\n    _rootClassPrefix: \"dxb\",\r\n    _rootClass: \"dxb-bullet\",\r\n    _themeSection: \"bullet\",\r\n    _defaultSize: {\r\n        width: DEFAULT_CANVAS_WIDTH,\r\n        height: DEFAULT_CANVAS_HEIGHT,\r\n        left: DEFAULT_HORIZONTAL_MARGIN,\r\n        right: DEFAULT_HORIZONTAL_MARGIN,\r\n        top: DEFAULT_VERTICAL_MARGIN,\r\n        bottom: DEFAULT_VERTICAL_MARGIN\r\n    },\r\n    _disposeWidgetElements: function() {\r\n        delete this._zeroLevelPath;\r\n        delete this._targetPath;\r\n        delete this._barValuePath\r\n    },\r\n    _cleanWidgetElements: function() {\r\n        this._zeroLevelPath.remove();\r\n        this._targetPath.remove();\r\n        this._barValuePath.remove()\r\n    },\r\n    _drawWidgetElements: function() {\r\n        this._drawBullet();\r\n        this._drawn()\r\n    },\r\n    _createHtmlElements: function() {\r\n        var renderer = this._renderer;\r\n        this._zeroLevelPath = renderer.path(void 0, \"line\").attr({\r\n            \"class\": \"dxb-zero-level\",\r\n            \"stroke-linecap\": \"square\"\r\n        });\r\n        this._targetPath = renderer.path(void 0, \"line\").attr({\r\n            \"class\": \"dxb-target\",\r\n            \"stroke-linecap\": \"square\"\r\n        });\r\n        this._barValuePath = renderer.path(void 0, \"line\").attr({\r\n            \"class\": \"dxb-bar-value\",\r\n            \"stroke-linecap\": \"square\"\r\n        })\r\n    },\r\n    _prepareOptions: function() {\r\n        var that = this;\r\n        var options;\r\n        var startScaleValue;\r\n        var endScaleValue;\r\n        var level;\r\n        var value;\r\n        var target;\r\n        var isValueUndefined;\r\n        var isTargetUndefined;\r\n        that._allOptions = options = that.callBase();\r\n        isValueUndefined = void 0 === that._allOptions.value;\r\n        isTargetUndefined = void 0 === that._allOptions.target;\r\n        that._tooltipEnabled = !(isValueUndefined && isTargetUndefined);\r\n        if (isValueUndefined) {\r\n            that._allOptions.value = 0\r\n        }\r\n        if (isTargetUndefined) {\r\n            that._allOptions.target = 0\r\n        }\r\n        options.value = value = _Number(options.value);\r\n        options.target = target = _Number(options.target);\r\n        if (void 0 === that._allOptions.startScaleValue) {\r\n            that._allOptions.startScaleValue = target < value ? target : value;\r\n            that._allOptions.startScaleValue = that._allOptions.startScaleValue < 0 ? that._allOptions.startScaleValue : 0\r\n        }\r\n        if (void 0 === that._allOptions.endScaleValue) {\r\n            that._allOptions.endScaleValue = target > value ? target : value\r\n        }\r\n        options.startScaleValue = startScaleValue = _Number(options.startScaleValue);\r\n        options.endScaleValue = endScaleValue = _Number(options.endScaleValue);\r\n        if (endScaleValue < startScaleValue) {\r\n            level = endScaleValue;\r\n            that._allOptions.endScaleValue = startScaleValue;\r\n            that._allOptions.startScaleValue = level;\r\n            that._allOptions.inverted = true\r\n        }\r\n    },\r\n    _updateRange: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        that._ranges = {\r\n            arg: {\r\n                invert: options.inverted,\r\n                min: options.startScaleValue,\r\n                max: options.endScaleValue,\r\n                axisType: \"continuous\",\r\n                dataType: \"numeric\"\r\n            },\r\n            val: {\r\n                min: 0,\r\n                max: 1,\r\n                axisType: \"continuous\",\r\n                dataType: \"numeric\"\r\n            }\r\n        }\r\n    },\r\n    _drawBullet: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        var isValidBounds = options.startScaleValue !== options.endScaleValue;\r\n        var isValidMin = _isFinite(options.startScaleValue);\r\n        var isValidMax = _isFinite(options.endScaleValue);\r\n        var isValidValue = _isFinite(options.value);\r\n        var isValidTarget = _isFinite(options.target);\r\n        if (isValidBounds && isValidMax && isValidMin && isValidTarget && isValidValue) {\r\n            this._drawBarValue();\r\n            this._drawTarget();\r\n            this._drawZeroLevel()\r\n        }\r\n    },\r\n    _getTargetParams: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        var translatorY = that._valueAxis.getTranslator();\r\n        var x = that._argumentAxis.getTranslator().translate(options.target);\r\n        return {\r\n            points: [x, translatorY.translate(TARGET_MIN_Y), x, translatorY.translate(TARGET_MAX_Y)],\r\n            stroke: options.targetColor,\r\n            \"stroke-width\": options.targetWidth\r\n        }\r\n    },\r\n    _getBarValueParams: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        var translatorX = that._argumentAxis.getTranslator();\r\n        var translatorY = that._valueAxis.getTranslator();\r\n        var startLevel = options.startScaleValue;\r\n        var endLevel = options.endScaleValue;\r\n        var value = options.value;\r\n        var y2 = translatorY.translate(BAR_VALUE_MIN_Y);\r\n        var y1 = translatorY.translate(BAR_VALUE_MAX_Y);\r\n        var x1;\r\n        var x2;\r\n        if (value > 0) {\r\n            x1 = startLevel <= 0 ? 0 : startLevel;\r\n            x2 = value >= endLevel ? endLevel : value < x1 ? x1 : value\r\n        } else {\r\n            x1 = endLevel >= 0 ? 0 : endLevel;\r\n            x2 = value < startLevel ? startLevel : value > x1 ? x1 : value\r\n        }\r\n        x1 = translatorX.translate(x1);\r\n        x2 = translatorX.translate(x2);\r\n        return {\r\n            points: [x1, y1, x2, y1, x2, y2, x1, y2],\r\n            fill: options.color\r\n        }\r\n    },\r\n    _getCorrectCanvas: function() {\r\n        return this._canvas\r\n    },\r\n    _getZeroLevelParams: function() {\r\n        var that = this;\r\n        var translatorY = that._valueAxis.getTranslator();\r\n        var x = that._argumentAxis.getTranslator().translate(0);\r\n        return {\r\n            points: [x, translatorY.translate(TARGET_MIN_Y), x, translatorY.translate(TARGET_MAX_Y)],\r\n            stroke: that._allOptions.targetColor,\r\n            \"stroke-width\": 1\r\n        }\r\n    },\r\n    _drawZeroLevel: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        if (0 > options.endScaleValue || 0 < options.startScaleValue || !options.showZeroLevel) {\r\n            return\r\n        }\r\n        that._zeroLevelPath.attr(that._getZeroLevelParams()).sharp().append(that._renderer.root)\r\n    },\r\n    _drawTarget: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        var target = options.target;\r\n        if (target > options.endScaleValue || target < options.startScaleValue || !options.showTarget) {\r\n            return\r\n        }\r\n        that._targetPath.attr(that._getTargetParams()).sharp().append(that._renderer.root)\r\n    },\r\n    _drawBarValue: function() {\r\n        this._barValuePath.attr(this._getBarValueParams()).append(this._renderer.root)\r\n    },\r\n    _getTooltipCoords: function() {\r\n        var canvas = this._canvas;\r\n        var rootOffset = this._renderer.getRootOffset();\r\n        var bBox = this._barValuePath.getBBox();\r\n        return {\r\n            x: bBox.x + bBox.width / 2 + rootOffset.left,\r\n            y: canvas.height / 2 + rootOffset.top\r\n        }\r\n    },\r\n    _getTooltipData: function() {\r\n        var that = this;\r\n        var tooltip = that._tooltip;\r\n        var options = that._allOptions;\r\n        var value = options.value;\r\n        var target = options.target;\r\n        var valueText = tooltip.formatValue(value);\r\n        var targetText = tooltip.formatValue(target);\r\n        return {\r\n            originalValue: value,\r\n            originalTarget: target,\r\n            value: valueText,\r\n            target: targetText,\r\n            valueText: [\"Actual Value:\", valueText, \"Target Value:\", targetText]\r\n        }\r\n    },\r\n    _isTooltipEnabled: function() {\r\n        return this._tooltipEnabled\r\n    }\r\n});\r\neach([\"color\", \"targetColor\", \"targetWidth\", \"showTarget\", \"showZeroLevel\", \"value\", \"target\", \"startScaleValue\", \"endScaleValue\"], function(_, name) {\r\n    dxBullet.prototype._optionChangesMap[name] = \"OPTIONS\"\r\n});\r\nrequire(\"../../core/component_registrator\")(\"dxBullet\", dxBullet);\r\nmodule.exports = dxBullet;\r\n"]},"metadata":{},"sourceType":"module"}