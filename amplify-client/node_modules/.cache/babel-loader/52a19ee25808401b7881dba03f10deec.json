{"ast":null,"code":"/**\r\n * DevExtreme (ui/widget/ui.widget.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar eventsEngine = require(\"../../events/core/events_engine\");\n\nvar Action = require(\"../../core/action\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar inArray = require(\"../../core/utils/array\").inArray;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar commonUtils = require(\"../../core/utils/common\");\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar domAdapter = require(\"../../core/dom_adapter\");\n\nvar DOMComponentWithTemplate = require(\"../../core/dom_component_with_template\");\n\nvar KeyboardProcessor = require(\"./ui.keyboard_processor\");\n\nvar selectors = require(\"./selectors\");\n\nvar eventUtils = require(\"../../events/utils\");\n\nvar hoverEvents = require(\"../../events/hover\");\n\nvar feedbackEvents = require(\"../../events/core/emitter.feedback\");\n\nvar clickEvent = require(\"../../events/click\");\n\nvar UI_FEEDBACK = \"UIFeedback\";\nvar WIDGET_CLASS = \"dx-widget\";\nvar ACTIVE_STATE_CLASS = \"dx-state-active\";\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\nvar HOVER_STATE_CLASS = \"dx-state-hover\";\nvar FOCUSED_STATE_CLASS = \"dx-state-focused\";\nvar FEEDBACK_SHOW_TIMEOUT = 30;\nvar FEEDBACK_HIDE_TIMEOUT = 400;\nvar FOCUS_NAMESPACE = \"Focus\";\nvar Widget = DOMComponentWithTemplate.inherit({\n  _supportedKeys: function _supportedKeys() {\n    return {};\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      disabled: false,\n      visible: true,\n      hint: void 0,\n      activeStateEnabled: false,\n      onContentReady: null,\n      hoverStateEnabled: false,\n      focusStateEnabled: false,\n      tabIndex: 0,\n      accessKey: null,\n      onFocusIn: null,\n      onFocusOut: null,\n      _keyboardProcessor: void 0\n    });\n  },\n  _feedbackShowTimeout: FEEDBACK_SHOW_TIMEOUT,\n  _feedbackHideTimeout: FEEDBACK_HIDE_TIMEOUT,\n  _init: function _init() {\n    this.callBase();\n\n    this._initContentReadyAction();\n  },\n  _clearInnerOptionCache: function _clearInnerOptionCache(optionContainer) {\n    this[optionContainer + \"Cache\"] = {};\n  },\n  _cacheInnerOptions: function _cacheInnerOptions(optionContainer, optionValue) {\n    var cacheName = optionContainer + \"Cache\";\n    this[cacheName] = extend(this[cacheName], optionValue);\n  },\n  _getOptionsFromContainer: function _getOptionsFromContainer(_ref) {\n    var name = _ref.name,\n        fullName = _ref.fullName,\n        value = _ref.value;\n    var options = {};\n\n    if (name === fullName) {\n      options = value;\n    } else {\n      var option = fullName.split(\".\").pop();\n      options[option] = value;\n    }\n\n    return options;\n  },\n  _innerOptionChanged: function _innerOptionChanged(innerWidget, args) {\n    var options = this._getOptionsFromContainer(args);\n\n    innerWidget && innerWidget.option(options);\n\n    this._cacheInnerOptions(args.name, options);\n  },\n  _getInnerOptionsCache: function _getInnerOptionsCache(optionContainer) {\n    return this[optionContainer + \"Cache\"];\n  },\n  _initInnerOptionCache: function _initInnerOptionCache(optionContainer) {\n    this._clearInnerOptionCache(optionContainer);\n\n    this._cacheInnerOptions(optionContainer, this.option(optionContainer));\n  },\n  _bindInnerWidgetOptions: function _bindInnerWidgetOptions(innerWidget, optionsContainer) {\n    this._options[optionsContainer] = extend({}, innerWidget.option());\n    innerWidget.on(\"optionChanged\", function (e) {\n      this._options[optionsContainer] = extend({}, e.component.option());\n    }.bind(this));\n  },\n  _getAriaTarget: function _getAriaTarget() {\n    return this._focusTarget();\n  },\n  _initContentReadyAction: function _initContentReadyAction() {\n    this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initMarkup: function _initMarkup() {\n    this.$element().addClass(WIDGET_CLASS);\n\n    this._toggleDisabledState(this.option(\"disabled\"));\n\n    this._toggleVisibility(this.option(\"visible\"));\n\n    this._renderHint();\n\n    if (this._isFocusable()) {\n      this._renderFocusTarget();\n    }\n\n    this.callBase();\n  },\n  _render: function _render() {\n    this.callBase();\n\n    this._renderContent();\n\n    this._renderFocusState();\n\n    this._attachFeedbackEvents();\n\n    this._attachHoverEvents();\n  },\n  _renderHint: function _renderHint() {\n    var hint = this.option(\"hint\");\n    this.$element().attr(\"title\", hint ? hint : null);\n  },\n  _renderContent: function _renderContent() {\n    var _this = this;\n\n    commonUtils.deferRender(function () {\n      if (_this._disposed) {\n        return;\n      }\n\n      return _this._renderContentImpl();\n    }).done(function () {\n      if (_this._disposed) {\n        return;\n      }\n\n      _this._fireContentReadyAction();\n    });\n  },\n  _renderContentImpl: commonUtils.noop,\n  _fireContentReadyAction: commonUtils.deferRenderer(function () {\n    this._contentReadyAction();\n  }),\n  _dispose: function _dispose() {\n    this._contentReadyAction = null;\n    this.callBase();\n  },\n  _resetActiveState: function _resetActiveState() {\n    this._toggleActiveState(this._eventBindingTarget(), false);\n  },\n  _clean: function _clean() {\n    this._cleanFocusState();\n\n    this._resetActiveState();\n\n    this.callBase();\n    this.$element().empty();\n  },\n  _toggleVisibility: function _toggleVisibility(visible) {\n    this.$element().toggleClass(INVISIBLE_STATE_CLASS, !visible);\n    this.setAria(\"hidden\", !visible || void 0);\n  },\n  _renderFocusState: function _renderFocusState() {\n    this._attachKeyboardEvents();\n\n    if (!this._isFocusable()) {\n      return;\n    }\n\n    this._renderFocusTarget();\n\n    this._attachFocusEvents();\n\n    this._renderAccessKey();\n  },\n  _renderAccessKey: function _renderAccessKey() {\n    var focusTarget = this._focusTarget();\n\n    focusTarget.attr(\"accesskey\", this.option(\"accessKey\"));\n    var clickNamespace = eventUtils.addNamespace(clickEvent.name, UI_FEEDBACK);\n    eventsEngine.off(focusTarget, clickNamespace);\n    this.option(\"accessKey\") && eventsEngine.on(focusTarget, clickNamespace, function (e) {\n      if (eventUtils.isFakeClickEvent(e)) {\n        e.stopImmediatePropagation();\n        this.focus();\n      }\n    }.bind(this));\n  },\n  _isFocusable: function _isFocusable() {\n    return this.option(\"focusStateEnabled\") && !this.option(\"disabled\");\n  },\n  _eventBindingTarget: function _eventBindingTarget() {\n    return this.$element();\n  },\n  _focusTarget: function _focusTarget() {\n    return this._getActiveElement();\n  },\n  _getActiveElement: function _getActiveElement() {\n    var activeElement = this._eventBindingTarget();\n\n    if (this._activeStateUnit) {\n      activeElement = activeElement.find(this._activeStateUnit).not(\".\" + DISABLED_STATE_CLASS);\n    }\n\n    return activeElement;\n  },\n  _renderFocusTarget: function _renderFocusTarget() {\n    this._focusTarget().attr(\"tabIndex\", this.option(\"tabIndex\"));\n  },\n  _keyboardEventBindingTarget: function _keyboardEventBindingTarget() {\n    return this._eventBindingTarget();\n  },\n  _detachFocusEvents: function _detachFocusEvents() {\n    var $element = this._focusEventTarget();\n\n    var namespace = this.NAME + FOCUS_NAMESPACE;\n    var focusEvents = eventUtils.addNamespace(\"focusin\", namespace);\n    focusEvents = focusEvents + \" \" + eventUtils.addNamespace(\"focusout\", namespace);\n\n    if (domAdapter.hasDocumentProperty(\"onbeforeactivate\")) {\n      focusEvents = focusEvents + \" \" + eventUtils.addNamespace(\"beforeactivate\", namespace);\n    }\n\n    eventsEngine.off($element, focusEvents);\n  },\n  _attachFocusEvents: function _attachFocusEvents() {\n    var namespace = this.NAME + FOCUS_NAMESPACE;\n    var focusInEvent = eventUtils.addNamespace(\"focusin\", namespace);\n    var focusOutEvent = eventUtils.addNamespace(\"focusout\", namespace);\n\n    var $focusTarget = this._focusEventTarget();\n\n    eventsEngine.on($focusTarget, focusInEvent, this._focusInHandler.bind(this));\n    eventsEngine.on($focusTarget, focusOutEvent, this._focusOutHandler.bind(this));\n\n    if (domAdapter.hasDocumentProperty(\"onbeforeactivate\")) {\n      var beforeActivateEvent = eventUtils.addNamespace(\"beforeactivate\", namespace);\n      eventsEngine.on(this._focusEventTarget(), beforeActivateEvent, function (e) {\n        if (!$(e.target).is(selectors.focusable)) {\n          e.preventDefault();\n        }\n      });\n    }\n  },\n  _refreshFocusEvent: function _refreshFocusEvent() {\n    this._detachFocusEvents();\n\n    this._attachFocusEvents();\n  },\n  _focusEventTarget: function _focusEventTarget() {\n    return this._focusTarget();\n  },\n  _focusInHandler: function _focusInHandler(e) {\n    if (e.isDefaultPrevented()) {\n      return;\n    }\n\n    var that = this;\n\n    that._createActionByOption(\"onFocusIn\", {\n      beforeExecute: function beforeExecute() {\n        that._updateFocusState(e, true);\n      },\n      excludeValidators: [\"readOnly\"]\n    })({\n      event: e\n    });\n  },\n  _focusOutHandler: function _focusOutHandler(e) {\n    if (e.isDefaultPrevented()) {\n      return;\n    }\n\n    var that = this;\n\n    that._createActionByOption(\"onFocusOut\", {\n      beforeExecute: function beforeExecute() {\n        that._updateFocusState(e, false);\n      },\n      excludeValidators: [\"readOnly\", \"disabled\"]\n    })({\n      event: e\n    });\n  },\n  _updateFocusState: function _updateFocusState(e, isFocused) {\n    var target = e.target;\n\n    if (inArray(target, this._focusTarget()) !== -1) {\n      this._toggleFocusClass(isFocused, $(target));\n    }\n  },\n  _toggleFocusClass: function _toggleFocusClass(isFocused, $element) {\n    var $focusTarget = $element && $element.length ? $element : this._focusTarget();\n    $focusTarget.toggleClass(FOCUSED_STATE_CLASS, isFocused);\n  },\n  _hasFocusClass: function _hasFocusClass(element) {\n    var $focusTarget = $(element || this._focusTarget());\n    return $focusTarget.hasClass(FOCUSED_STATE_CLASS);\n  },\n  _isFocused: function _isFocused() {\n    return this._hasFocusClass();\n  },\n  _attachKeyboardEvents: function _attachKeyboardEvents() {\n    var processor = this.option(\"_keyboardProcessor\");\n\n    if (processor) {\n      this._keyboardProcessor = processor.reinitialize(this._keyboardHandler, this);\n    } else {\n      if (this.option(\"focusStateEnabled\")) {\n        this._disposeKeyboardProcessor();\n\n        this._keyboardProcessor = new KeyboardProcessor({\n          element: this._keyboardEventBindingTarget(),\n          handler: this._keyboardHandler,\n          focusTarget: this._focusTarget(),\n          context: this\n        });\n      }\n    }\n  },\n  _keyboardHandler: function _keyboardHandler(options) {\n    var e = options.originalEvent;\n    var keyName = options.keyName;\n    var keyCode = options.which;\n\n    var keys = this._supportedKeys(e);\n\n    var func = keys[keyName] || keys[keyCode];\n\n    if (void 0 !== func) {\n      var handler = func.bind(this);\n      return handler(e) || false;\n    } else {\n      return true;\n    }\n  },\n  _refreshFocusState: function _refreshFocusState() {\n    this._cleanFocusState();\n\n    this._renderFocusState();\n  },\n  _cleanFocusState: function _cleanFocusState() {\n    var $element = this._focusTarget();\n\n    this._detachFocusEvents();\n\n    this._toggleFocusClass(false);\n\n    $element.removeAttr(\"tabIndex\");\n\n    this._disposeKeyboardProcessor();\n  },\n  _disposeKeyboardProcessor: function _disposeKeyboardProcessor() {\n    if (this._keyboardProcessor) {\n      this._keyboardProcessor.dispose();\n\n      delete this._keyboardProcessor;\n    }\n  },\n  _attachHoverEvents: function _attachHoverEvents() {\n    var that = this;\n    var hoverableSelector = that._activeStateUnit;\n    var nameStart = eventUtils.addNamespace(hoverEvents.start, UI_FEEDBACK);\n    var nameEnd = eventUtils.addNamespace(hoverEvents.end, UI_FEEDBACK);\n    eventsEngine.off(that._eventBindingTarget(), nameStart, hoverableSelector);\n    eventsEngine.off(that._eventBindingTarget(), nameEnd, hoverableSelector);\n\n    if (that.option(\"hoverStateEnabled\")) {\n      var startAction = new Action(function (args) {\n        that._hoverStartHandler(args.event);\n\n        that._refreshHoveredElement($(args.element));\n      }, {\n        excludeValidators: [\"readOnly\"]\n      });\n\n      var $eventBindingTarget = that._eventBindingTarget();\n\n      eventsEngine.on($eventBindingTarget, nameStart, hoverableSelector, function (e) {\n        startAction.execute({\n          element: $(e.target),\n          event: e\n        });\n      });\n      eventsEngine.on($eventBindingTarget, nameEnd, hoverableSelector, function (e) {\n        that._hoverEndHandler(e);\n\n        that._forgetHoveredElement();\n      });\n    } else {\n      that._toggleHoverClass(false);\n    }\n  },\n  _hoverStartHandler: commonUtils.noop,\n  _hoverEndHandler: commonUtils.noop,\n  _attachFeedbackEvents: function _attachFeedbackEvents() {\n    var that = this;\n    var feedbackSelector = that._activeStateUnit;\n    var activeEventName = eventUtils.addNamespace(feedbackEvents.active, UI_FEEDBACK);\n    var inactiveEventName = eventUtils.addNamespace(feedbackEvents.inactive, UI_FEEDBACK);\n    var feedbackAction;\n    var feedbackActionDisabled;\n    eventsEngine.off(that._eventBindingTarget(), activeEventName, feedbackSelector);\n    eventsEngine.off(that._eventBindingTarget(), inactiveEventName, feedbackSelector);\n\n    if (that.option(\"activeStateEnabled\")) {\n      var feedbackActionHandler = function feedbackActionHandler(args) {\n        var $element = $(args.element);\n        var value = args.value;\n        var dxEvent = args.event;\n\n        that._toggleActiveState($element, value, dxEvent);\n      };\n\n      eventsEngine.on(that._eventBindingTarget(), activeEventName, feedbackSelector, {\n        timeout: that._feedbackShowTimeout\n      }, function (e) {\n        feedbackAction = feedbackAction || new Action(feedbackActionHandler);\n        feedbackAction.execute({\n          element: $(e.currentTarget),\n          value: true,\n          event: e\n        });\n      });\n      eventsEngine.on(that._eventBindingTarget(), inactiveEventName, feedbackSelector, {\n        timeout: that._feedbackHideTimeout\n      }, function (e) {\n        feedbackActionDisabled = feedbackActionDisabled || new Action(feedbackActionHandler, {\n          excludeValidators: [\"disabled\", \"readOnly\"]\n        });\n        feedbackActionDisabled.execute({\n          element: $(e.currentTarget),\n          value: false,\n          event: e\n        });\n      });\n    }\n  },\n  _toggleActiveState: function _toggleActiveState($element, value) {\n    this._toggleHoverClass(!value);\n\n    $element.toggleClass(ACTIVE_STATE_CLASS, value);\n  },\n  _refreshHoveredElement: function _refreshHoveredElement(hoveredElement) {\n    var selector = this._activeStateUnit || this._eventBindingTarget();\n\n    this._forgetHoveredElement();\n\n    this._hoveredElement = hoveredElement.closest(selector);\n\n    this._toggleHoverClass(true);\n  },\n  _forgetHoveredElement: function _forgetHoveredElement() {\n    this._toggleHoverClass(false);\n\n    delete this._hoveredElement;\n  },\n  _toggleHoverClass: function _toggleHoverClass(value) {\n    if (this._hoveredElement) {\n      this._hoveredElement.toggleClass(HOVER_STATE_CLASS, value && this.option(\"hoverStateEnabled\"));\n    }\n  },\n  _toggleDisabledState: function _toggleDisabledState(value) {\n    this.$element().toggleClass(DISABLED_STATE_CLASS, Boolean(value));\n\n    this._toggleHoverClass(!value);\n\n    this.setAria(\"disabled\", value || void 0);\n  },\n  _setWidgetOption: function _setWidgetOption(widgetName, args) {\n    if (!this[widgetName]) {\n      return;\n    }\n\n    if (typeUtils.isPlainObject(args[0])) {\n      each(args[0], function (option, value) {\n        this._setWidgetOption(widgetName, [option, value]);\n      }.bind(this));\n      return;\n    }\n\n    var optionName = args[0];\n    var value = args[1];\n\n    if (1 === args.length) {\n      value = this.option(optionName);\n    }\n\n    var widgetOptionMap = this[widgetName + \"OptionMap\"];\n    this[widgetName].option(widgetOptionMap ? widgetOptionMap(optionName) : optionName, value);\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"disabled\":\n        this._toggleDisabledState(args.value);\n\n        this._refreshFocusState();\n\n        break;\n\n      case \"hint\":\n        this._renderHint();\n\n        break;\n\n      case \"activeStateEnabled\":\n        this._attachFeedbackEvents();\n\n        break;\n\n      case \"hoverStateEnabled\":\n        this._attachHoverEvents();\n\n        break;\n\n      case \"tabIndex\":\n      case \"_keyboardProcessor\":\n      case \"focusStateEnabled\":\n        this._refreshFocusState();\n\n        break;\n\n      case \"onFocusIn\":\n      case \"onFocusOut\":\n        break;\n\n      case \"accessKey\":\n        this._renderAccessKey();\n\n        break;\n\n      case \"visible\":\n        var visible = args.value;\n\n        this._toggleVisibility(visible);\n\n        if (this._isVisibilityChangeSupported()) {\n          this._checkVisibilityChanged(args.value ? \"shown\" : \"hiding\");\n        }\n\n        break;\n\n      case \"onContentReady\":\n        this._initContentReadyAction();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _isVisible: function _isVisible() {\n    return this.callBase() && this.option(\"visible\");\n  },\n  beginUpdate: function beginUpdate() {\n    this._ready(false);\n\n    this.callBase();\n  },\n  endUpdate: function endUpdate() {\n    this.callBase();\n\n    if (this._initialized) {\n      this._ready(true);\n    }\n  },\n  _ready: function _ready(value) {\n    if (0 === arguments.length) {\n      return this._isReady;\n    }\n\n    this._isReady = value;\n  },\n  setAria: function setAria() {\n    var setAttribute = function setAttribute(option) {\n      var attrName = \"role\" === option.name || \"id\" === option.name ? option.name : \"aria-\" + option.name;\n      var attrValue = option.value;\n\n      if (typeUtils.isDefined(attrValue)) {\n        attrValue = attrValue.toString();\n      } else {\n        attrValue = null;\n      }\n\n      option.target.attr(attrName, attrValue);\n    };\n\n    if (!typeUtils.isPlainObject(arguments[0])) {\n      setAttribute({\n        name: arguments[0],\n        value: arguments[1],\n        target: arguments[2] || this._getAriaTarget()\n      });\n    } else {\n      var $target = arguments[1] || this._getAriaTarget();\n\n      each(arguments[0], function (key, value) {\n        setAttribute({\n          name: key,\n          value: value,\n          target: $target\n        });\n      });\n    }\n  },\n  isReady: function isReady() {\n    return this._ready();\n  },\n  repaint: function repaint() {\n    this._refresh();\n  },\n  focus: function focus() {\n    eventsEngine.trigger(this._focusTarget(), \"focus\");\n  },\n  registerKeyHandler: function registerKeyHandler(key, handler) {\n    var currentKeys = this._supportedKeys();\n\n    var addingKeys = {};\n    addingKeys[key] = handler;\n\n    this._supportedKeys = function () {\n      return extend(currentKeys, addingKeys);\n    };\n  }\n});\nmodule.exports = Widget;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/widget/ui.widget.js"],"names":["$","require","eventsEngine","Action","extend","inArray","each","commonUtils","typeUtils","domAdapter","DOMComponentWithTemplate","KeyboardProcessor","selectors","eventUtils","hoverEvents","feedbackEvents","clickEvent","UI_FEEDBACK","WIDGET_CLASS","ACTIVE_STATE_CLASS","DISABLED_STATE_CLASS","INVISIBLE_STATE_CLASS","HOVER_STATE_CLASS","FOCUSED_STATE_CLASS","FEEDBACK_SHOW_TIMEOUT","FEEDBACK_HIDE_TIMEOUT","FOCUS_NAMESPACE","Widget","_supportedKeys","_getDefaultOptions","disabled","visible","hint","activeStateEnabled","onContentReady","hoverStateEnabled","focusStateEnabled","tabIndex","accessKey","onFocusIn","onFocusOut","_keyboardProcessor","_feedbackShowTimeout","_feedbackHideTimeout","_init","_clearInnerOptionCache","optionContainer","_cacheInnerOptions","cacheName","_getOptionsFromContainer","name","_ref","fullName","value","options","option","_innerOptionChanged","innerWidget","args","_getInnerOptionsCache","_initInnerOptionCache","_bindInnerWidgetOptions","e","_getAriaTarget","_initContentReadyAction","excludeValidators","_initMarkup","_render","_renderHint","_renderContent","_this","_renderContentImpl","_fireContentReadyAction","_dispose","_resetActiveState","_clean","_toggleVisibility","_renderFocusState","_renderAccessKey","focusTarget","clickNamespace","_isFocusable","_eventBindingTarget","_focusTarget","_getActiveElement","activeElement","_renderFocusTarget","_keyboardEventBindingTarget","_detachFocusEvents","$element","namespace","focusEvents","_attachFocusEvents","focusInEvent","focusOutEvent","$focusTarget","beforeActivateEvent","_refreshFocusEvent","_focusEventTarget","_focusInHandler","that","beforeExecute","event","_focusOutHandler","_updateFocusState","target","_toggleFocusClass","_hasFocusClass","element","_isFocused","_attachKeyboardEvents","processor","handler","context","_keyboardHandler","keyName","keyCode","keys","func","_refreshFocusState","_cleanFocusState","_disposeKeyboardProcessor","_attachHoverEvents","hoverableSelector","nameStart","nameEnd","startAction","$eventBindingTarget","_hoverStartHandler","_hoverEndHandler","_attachFeedbackEvents","feedbackSelector","activeEventName","inactiveEventName","feedbackActionHandler","dxEvent","timeout","feedbackAction","feedbackActionDisabled","_toggleActiveState","_refreshHoveredElement","selector","hoveredElement","_forgetHoveredElement","_toggleHoverClass","_toggleDisabledState","Boolean","_setWidgetOption","optionName","widgetOptionMap","widgetName","_optionChanged","_isVisible","beginUpdate","endUpdate","_ready","arguments","setAria","setAttribute","attrName","attrValue","$target","isReady","repaint","focus","registerKeyHandler","currentKeys","addingKeys","module"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,CAAC,GAAGC,OAAO,CAAf,qBAAe,CAAf;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAA1B,iCAA0B,CAA1B;;AACA,IAAIE,MAAM,GAAGF,OAAO,CAApB,mBAAoB,CAApB;;AACA,IAAIG,MAAM,GAAGH,OAAO,CAAPA,yBAAO,CAAPA,CAAb,MAAA;;AACA,IAAII,OAAO,GAAGJ,OAAO,CAAPA,wBAAO,CAAPA,CAAd,OAAA;;AACA,IAAIK,IAAI,GAAGL,OAAO,CAAPA,2BAAO,CAAPA,CAAX,IAAA;;AACA,IAAIM,WAAW,GAAGN,OAAO,CAAzB,yBAAyB,CAAzB;;AACA,IAAIO,SAAS,GAAGP,OAAO,CAAvB,uBAAuB,CAAvB;;AACA,IAAIQ,UAAU,GAAGR,OAAO,CAAxB,wBAAwB,CAAxB;;AACA,IAAIS,wBAAwB,GAAGT,OAAO,CAAtC,wCAAsC,CAAtC;;AACA,IAAIU,iBAAiB,GAAGV,OAAO,CAA/B,yBAA+B,CAA/B;;AACA,IAAIW,SAAS,GAAGX,OAAO,CAAvB,aAAuB,CAAvB;;AACA,IAAIY,UAAU,GAAGZ,OAAO,CAAxB,oBAAwB,CAAxB;;AACA,IAAIa,WAAW,GAAGb,OAAO,CAAzB,oBAAyB,CAAzB;;AACA,IAAIc,cAAc,GAAGd,OAAO,CAA5B,oCAA4B,CAA5B;;AACA,IAAIe,UAAU,GAAGf,OAAO,CAAxB,oBAAwB,CAAxB;;AACA,IAAIgB,WAAW,GAAf,YAAA;AACA,IAAIC,YAAY,GAAhB,WAAA;AACA,IAAIC,kBAAkB,GAAtB,iBAAA;AACA,IAAIC,oBAAoB,GAAxB,mBAAA;AACA,IAAIC,qBAAqB,GAAzB,oBAAA;AACA,IAAIC,iBAAiB,GAArB,gBAAA;AACA,IAAIC,mBAAmB,GAAvB,kBAAA;AACA,IAAIC,qBAAqB,GAAzB,EAAA;AACA,IAAIC,qBAAqB,GAAzB,GAAA;AACA,IAAIC,eAAe,GAAnB,OAAA;AACA,IAAIC,MAAM,GAAG,wBAAwB,CAAxB,OAAA,CAAiC;AAC1CC,EAAAA,cAAc,EAAE,SAAA,cAAA,GAAW;AACvB,WAAA,EAAA;AAFsC,GAAA;AAI1CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,WAAOzB,MAAM,CAAC,KAAD,QAAC,EAAD,EAAkB;AAC3B0B,MAAAA,QAAQ,EADmB,KAAA;AAE3BC,MAAAA,OAAO,EAFoB,IAAA;AAG3BC,MAAAA,IAAI,EAAE,KAHqB,CAAA;AAI3BC,MAAAA,kBAAkB,EAJS,KAAA;AAK3BC,MAAAA,cAAc,EALa,IAAA;AAM3BC,MAAAA,iBAAiB,EANU,KAAA;AAO3BC,MAAAA,iBAAiB,EAPU,KAAA;AAQ3BC,MAAAA,QAAQ,EARmB,CAAA;AAS3BC,MAAAA,SAAS,EATkB,IAAA;AAU3BC,MAAAA,SAAS,EAVkB,IAAA;AAW3BC,MAAAA,UAAU,EAXiB,IAAA;AAY3BC,MAAAA,kBAAkB,EAAE,KAAK;AAZE,KAAlB,CAAb;AALsC,GAAA;AAoB1CC,EAAAA,oBAAoB,EApBsB,qBAAA;AAqB1CC,EAAAA,oBAAoB,EArBsB,qBAAA;AAsB1CC,EAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,SAAA,QAAA;;AACA,SAAA,uBAAA;AAxBsC,GAAA;AA0B1CC,EAAAA,sBAAsB,EAAE,SAAA,sBAAA,CAAA,eAAA,EAA0B;AAC9C,SAAKC,eAAe,GAApB,OAAA,IAAA,EAAA;AA3BsC,GAAA;AA6B1CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,CAAA,eAAA,EAAA,WAAA,EAAuC;AACvD,QAAIC,SAAS,GAAGF,eAAe,GAA/B,OAAA;AACA,SAAA,SAAA,IAAkB1C,MAAM,CAAC,KAAD,SAAC,CAAD,EAAxB,WAAwB,CAAxB;AA/BsC,GAAA;AAiC1C6C,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,CAAA,IAAA,EAAe;AACrC,QAAIC,IAAI,GAAGC,IAAI,CAAf,IAAA;AAAA,QACIC,QAAQ,GAAGD,IAAI,CADnB,QAAA;AAAA,QAEIE,KAAK,GAAGF,IAAI,CAFhB,KAAA;AAGA,QAAIG,OAAO,GAAX,EAAA;;AACA,QAAIJ,IAAI,KAAR,QAAA,EAAuB;AACnBI,MAAAA,OAAO,GAAPA,KAAAA;AADJ,KAAA,MAEO;AACH,UAAIC,MAAM,GAAGH,QAAQ,CAARA,KAAAA,CAAAA,GAAAA,EAAb,GAAaA,EAAb;AACAE,MAAAA,OAAO,CAAPA,MAAO,CAAPA,GAAAA,KAAAA;AACH;;AACD,WAAA,OAAA;AA5CsC,GAAA;AA8C1CE,EAAAA,mBAAmB,EAAE,SAAA,mBAAA,CAAA,WAAA,EAAA,IAAA,EAA4B;AAC7C,QAAIF,OAAO,GAAG,KAAA,wBAAA,CAAd,IAAc,CAAd;;AACAG,IAAAA,WAAW,IAAIA,WAAW,CAAXA,MAAAA,CAAfA,OAAeA,CAAfA;;AACA,SAAA,kBAAA,CAAwBC,IAAI,CAA5B,IAAA,EAAA,OAAA;AAjDsC,GAAA;AAmD1CC,EAAAA,qBAAqB,EAAE,SAAA,qBAAA,CAAA,eAAA,EAA0B;AAC7C,WAAO,KAAKb,eAAe,GAA3B,OAAO,CAAP;AApDsC,GAAA;AAsD1Cc,EAAAA,qBAAqB,EAAE,SAAA,qBAAA,CAAA,eAAA,EAA0B;AAC7C,SAAA,sBAAA,CAAA,eAAA;;AACA,SAAA,kBAAA,CAAA,eAAA,EAAyC,KAAA,MAAA,CAAzC,eAAyC,CAAzC;AAxDsC,GAAA;AA0D1CC,EAAAA,uBAAuB,EAAE,SAAA,uBAAA,CAAA,WAAA,EAAA,gBAAA,EAAwC;AAC7D,SAAA,QAAA,CAAA,gBAAA,IAAkCzD,MAAM,CAAA,EAAA,EAAKqD,WAAW,CAAxD,MAA6CA,EAAL,CAAxC;AACAA,IAAAA,WAAW,CAAXA,EAAAA,CAAAA,eAAAA,EAAgC,UAAA,CAAA,EAAY;AACxC,WAAA,QAAA,CAAA,gBAAA,IAAkCrD,MAAM,CAAA,EAAA,EAAK0D,CAAC,CAADA,SAAAA,CAA7C,MAA6CA,EAAL,CAAxC;AAD4B,KAAA,CAAA,IAAA,CAAhCL,IAAgC,CAAhCA;AA5DsC,GAAA;AAgE1CM,EAAAA,cAAc,EAAE,SAAA,cAAA,GAAW;AACvB,WAAO,KAAP,YAAO,EAAP;AAjEsC,GAAA;AAmE1CC,EAAAA,uBAAuB,EAAE,SAAA,uBAAA,GAAW;AAChC,SAAA,mBAAA,GAA2B,KAAA,qBAAA,CAAA,gBAAA,EAA6C;AACpEC,MAAAA,iBAAiB,EAAE,CAAA,UAAA,EAAA,UAAA;AADiD,KAA7C,CAA3B;AApEsC,GAAA;AAwE1CC,EAAAA,WAAW,EAAE,SAAA,WAAA,GAAW;AACpB,SAAA,QAAA,GAAA,QAAA,CAAA,YAAA;;AACA,SAAA,oBAAA,CAA0B,KAAA,MAAA,CAA1B,UAA0B,CAA1B;;AACA,SAAA,iBAAA,CAAuB,KAAA,MAAA,CAAvB,SAAuB,CAAvB;;AACA,SAAA,WAAA;;AACA,QAAI,KAAJ,YAAI,EAAJ,EAAyB;AACrB,WAAA,kBAAA;AACH;;AACD,SAAA,QAAA;AAhFsC,GAAA;AAkF1CC,EAAAA,OAAO,EAAE,SAAA,OAAA,GAAW;AAChB,SAAA,QAAA;;AACA,SAAA,cAAA;;AACA,SAAA,iBAAA;;AACA,SAAA,qBAAA;;AACA,SAAA,kBAAA;AAvFsC,GAAA;AAyF1CC,EAAAA,WAAW,EAAE,SAAA,WAAA,GAAW;AACpB,QAAIpC,IAAI,GAAG,KAAA,MAAA,CAAX,MAAW,CAAX;AACA,SAAA,QAAA,GAAA,IAAA,CAAA,OAAA,EAA8BA,IAAI,GAAA,IAAA,GAAlC,IAAA;AA3FsC,GAAA;AA6F1CqC,EAAAA,cAAc,EAAE,SAAA,cAAA,GAAW;AACvB,QAAIC,KAAK,GAAT,IAAA;;AACA/D,IAAAA,WAAW,CAAXA,WAAAA,CAAwB,YAAW;AAC/B,UAAI+D,KAAK,CAAT,SAAA,EAAqB;AACjB;AACH;;AACD,aAAOA,KAAK,CAAZ,kBAAOA,EAAP;AAJJ/D,KAAAA,EAAAA,IAAAA,CAKQ,YAAW;AACf,UAAI+D,KAAK,CAAT,SAAA,EAAqB;AACjB;AACH;;AACDA,MAAAA,KAAK,CAALA,uBAAAA;AATJ/D,KAAAA;AA/FsC,GAAA;AA2G1CgE,EAAAA,kBAAkB,EAAEhE,WAAW,CA3GW,IAAA;AA4G1CiE,EAAAA,uBAAuB,EAAE,WAAW,CAAX,aAAA,CAA0B,YAAW;AAC1D,SAAA,mBAAA;AA7GsC,GA4GjB,CA5GiB;AA+G1CC,EAAAA,QAAQ,EAAE,SAAA,QAAA,GAAW;AACjB,SAAA,mBAAA,GAAA,IAAA;AACA,SAAA,QAAA;AAjHsC,GAAA;AAmH1CC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,GAAW;AAC1B,SAAA,kBAAA,CAAwB,KAAxB,mBAAwB,EAAxB,EAAA,KAAA;AApHsC,GAAA;AAsH1CC,EAAAA,MAAM,EAAE,SAAA,MAAA,GAAW;AACf,SAAA,gBAAA;;AACA,SAAA,iBAAA;;AACA,SAAA,QAAA;AACA,SAAA,QAAA,GAAA,KAAA;AA1HsC,GAAA;AA4H1CC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,CAAA,OAAA,EAAkB;AACjC,SAAA,QAAA,GAAA,WAAA,CAAA,qBAAA,EAAmD,CAAnD,OAAA;AACA,SAAA,OAAA,CAAA,QAAA,EAAuB,CAAA,OAAA,IAAY,KAAnC,CAAA;AA9HsC,GAAA;AAgI1CC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,GAAW;AAC1B,SAAA,qBAAA;;AACA,QAAI,CAAC,KAAL,YAAK,EAAL,EAA0B;AACtB;AACH;;AACD,SAAA,kBAAA;;AACA,SAAA,kBAAA;;AACA,SAAA,gBAAA;AAvIsC,GAAA;AAyI1CC,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,GAAW;AACzB,QAAIC,WAAW,GAAG,KAAlB,YAAkB,EAAlB;;AACAA,IAAAA,WAAW,CAAXA,IAAAA,CAAAA,WAAAA,EAA8B,KAAA,MAAA,CAA9BA,WAA8B,CAA9BA;AACA,QAAIC,cAAc,GAAGnE,UAAU,CAAVA,YAAAA,CAAwBG,UAAU,CAAlCH,IAAAA,EAArB,WAAqBA,CAArB;AACAX,IAAAA,YAAY,CAAZA,GAAAA,CAAAA,WAAAA,EAAAA,cAAAA;AACA,SAAA,MAAA,CAAA,WAAA,KAA4B,YAAY,CAAZ,EAAA,CAAA,WAAA,EAAA,cAAA,EAA6C,UAAA,CAAA,EAAY;AACjF,UAAIW,UAAU,CAAVA,gBAAAA,CAAJ,CAAIA,CAAJ,EAAoC;AAChCiD,QAAAA,CAAC,CAADA,wBAAAA;AACA,aAAA,KAAA;AACH;AAJoE,KAAA,CAAA,IAAA,CAAzE,IAAyE,CAA7C,CAA5B;AA9IsC,GAAA;AAqJ1CmB,EAAAA,YAAY,EAAE,SAAA,YAAA,GAAW;AACrB,WAAO,KAAA,MAAA,CAAA,mBAAA,KAAoC,CAAC,KAAA,MAAA,CAA5C,UAA4C,CAA5C;AAtJsC,GAAA;AAwJ1CC,EAAAA,mBAAmB,EAAE,SAAA,mBAAA,GAAW;AAC5B,WAAO,KAAP,QAAO,EAAP;AAzJsC,GAAA;AA2J1CC,EAAAA,YAAY,EAAE,SAAA,YAAA,GAAW;AACrB,WAAO,KAAP,iBAAO,EAAP;AA5JsC,GAAA;AA8J1CC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,GAAW;AAC1B,QAAIC,aAAa,GAAG,KAApB,mBAAoB,EAApB;;AACA,QAAI,KAAJ,gBAAA,EAA2B;AACvBA,MAAAA,aAAa,GAAGA,aAAa,CAAbA,IAAAA,CAAmB,KAAnBA,gBAAAA,EAAAA,GAAAA,CAA8C,MAA9DA,oBAAgBA,CAAhBA;AACH;;AACD,WAAA,aAAA;AAnKsC,GAAA;AAqK1CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,SAAA,YAAA,GAAA,IAAA,CAAA,UAAA,EAAqC,KAAA,MAAA,CAArC,UAAqC,CAArC;AAtKsC,GAAA;AAwK1CC,EAAAA,2BAA2B,EAAE,SAAA,2BAAA,GAAW;AACpC,WAAO,KAAP,mBAAO,EAAP;AAzKsC,GAAA;AA2K1CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,QAAIC,QAAQ,GAAG,KAAf,iBAAe,EAAf;;AACA,QAAIC,SAAS,GAAG,KAAA,IAAA,GAAhB,eAAA;AACA,QAAIC,WAAW,GAAG9E,UAAU,CAAVA,YAAAA,CAAAA,SAAAA,EAAlB,SAAkBA,CAAlB;AACA8E,IAAAA,WAAW,GAAGA,WAAW,GAAXA,GAAAA,GAAoB9E,UAAU,CAAVA,YAAAA,CAAAA,UAAAA,EAAlC8E,SAAkC9E,CAAlC8E;;AACA,QAAIlF,UAAU,CAAVA,mBAAAA,CAAJ,kBAAIA,CAAJ,EAAwD;AACpDkF,MAAAA,WAAW,GAAGA,WAAW,GAAXA,GAAAA,GAAoB9E,UAAU,CAAVA,YAAAA,CAAAA,gBAAAA,EAAlC8E,SAAkC9E,CAAlC8E;AACH;;AACDzF,IAAAA,YAAY,CAAZA,GAAAA,CAAAA,QAAAA,EAAAA,WAAAA;AAnLsC,GAAA;AAqL1C0F,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,QAAIF,SAAS,GAAG,KAAA,IAAA,GAAhB,eAAA;AACA,QAAIG,YAAY,GAAGhF,UAAU,CAAVA,YAAAA,CAAAA,SAAAA,EAAnB,SAAmBA,CAAnB;AACA,QAAIiF,aAAa,GAAGjF,UAAU,CAAVA,YAAAA,CAAAA,UAAAA,EAApB,SAAoBA,CAApB;;AACA,QAAIkF,YAAY,GAAG,KAAnB,iBAAmB,EAAnB;;AACA7F,IAAAA,YAAY,CAAZA,EAAAA,CAAAA,YAAAA,EAAAA,YAAAA,EAA4C,KAAA,eAAA,CAAA,IAAA,CAA5CA,IAA4C,CAA5CA;AACAA,IAAAA,YAAY,CAAZA,EAAAA,CAAAA,YAAAA,EAAAA,aAAAA,EAA6C,KAAA,gBAAA,CAAA,IAAA,CAA7CA,IAA6C,CAA7CA;;AACA,QAAIO,UAAU,CAAVA,mBAAAA,CAAJ,kBAAIA,CAAJ,EAAwD;AACpD,UAAIuF,mBAAmB,GAAGnF,UAAU,CAAVA,YAAAA,CAAAA,gBAAAA,EAA1B,SAA0BA,CAA1B;AACAX,MAAAA,YAAY,CAAZA,EAAAA,CAAgB,KAAhBA,iBAAgB,EAAhBA,EAAAA,mBAAAA,EAA+D,UAAA,CAAA,EAAY;AACvE,YAAI,CAACF,CAAC,CAAC8D,CAAC,CAAH9D,MAAC,CAADA,CAAAA,EAAAA,CAAeY,SAAS,CAA7B,SAAKZ,CAAL,EAA0C;AACtC8D,UAAAA,CAAC,CAADA,cAAAA;AACH;AAHL5D,OAAAA;AAKH;AAnMqC,GAAA;AAqM1C+F,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,SAAA,kBAAA;;AACA,SAAA,kBAAA;AAvMsC,GAAA;AAyM1CC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,GAAW;AAC1B,WAAO,KAAP,YAAO,EAAP;AA1MsC,GAAA;AA4M1CC,EAAAA,eAAe,EAAE,SAAA,eAAA,CAAA,CAAA,EAAY;AACzB,QAAIrC,CAAC,CAAL,kBAAIA,EAAJ,EAA4B;AACxB;AACH;;AACD,QAAIsC,IAAI,GAAR,IAAA;;AACAA,IAAAA,IAAI,CAAJA,qBAAAA,CAAAA,WAAAA,EAAwC;AACpCC,MAAAA,aAAa,EAAE,SAAA,aAAA,GAAW;AACtBD,QAAAA,IAAI,CAAJA,iBAAAA,CAAAA,CAAAA,EAAAA,IAAAA;AAFgC,OAAA;AAIpCnC,MAAAA,iBAAiB,EAAE,CAAA,UAAA;AAJiB,KAAxCmC,EAKG;AACCE,MAAAA,KAAK,EAAExC;AADR,KALHsC;AAjNsC,GAAA;AA0N1CG,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,CAAA,EAAY;AAC1B,QAAIzC,CAAC,CAAL,kBAAIA,EAAJ,EAA4B;AACxB;AACH;;AACD,QAAIsC,IAAI,GAAR,IAAA;;AACAA,IAAAA,IAAI,CAAJA,qBAAAA,CAAAA,YAAAA,EAAyC;AACrCC,MAAAA,aAAa,EAAE,SAAA,aAAA,GAAW;AACtBD,QAAAA,IAAI,CAAJA,iBAAAA,CAAAA,CAAAA,EAAAA,KAAAA;AAFiC,OAAA;AAIrCnC,MAAAA,iBAAiB,EAAE,CAAA,UAAA,EAAA,UAAA;AAJkB,KAAzCmC,EAKG;AACCE,MAAAA,KAAK,EAAExC;AADR,KALHsC;AA/NsC,GAAA;AAwO1CI,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,CAAA,CAAA,EAAA,SAAA,EAAuB;AACtC,QAAIC,MAAM,GAAG3C,CAAC,CAAd,MAAA;;AACA,QAAIzD,OAAO,CAAA,MAAA,EAAS,KAAhBA,YAAgB,EAAT,CAAPA,KAAyC,CAA7C,CAAA,EAAiD;AAC7C,WAAA,iBAAA,CAAA,SAAA,EAAkCL,CAAC,CAAnC,MAAmC,CAAnC;AACH;AA5OqC,GAAA;AA8O1C0G,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,CAAA,SAAA,EAAA,QAAA,EAA8B;AAC7C,QAAIX,YAAY,GAAGN,QAAQ,IAAIA,QAAQ,CAApBA,MAAAA,GAAAA,QAAAA,GAAyC,KAA5D,YAA4D,EAA5D;AACAM,IAAAA,YAAY,CAAZA,WAAAA,CAAAA,mBAAAA,EAAAA,SAAAA;AAhPsC,GAAA;AAkP1CY,EAAAA,cAAc,EAAE,SAAA,cAAA,CAAA,OAAA,EAAkB;AAC9B,QAAIZ,YAAY,GAAG/F,CAAC,CAAC4G,OAAO,IAAI,KAAhC,YAAgC,EAAZ,CAApB;AACA,WAAOb,YAAY,CAAZA,QAAAA,CAAP,mBAAOA,CAAP;AApPsC,GAAA;AAsP1Cc,EAAAA,UAAU,EAAE,SAAA,UAAA,GAAW;AACnB,WAAO,KAAP,cAAO,EAAP;AAvPsC,GAAA;AAyP1CC,EAAAA,qBAAqB,EAAE,SAAA,qBAAA,GAAW;AAC9B,QAAIC,SAAS,GAAG,KAAA,MAAA,CAAhB,oBAAgB,CAAhB;;AACA,QAAA,SAAA,EAAe;AACX,WAAA,kBAAA,GAA0BA,SAAS,CAATA,YAAAA,CAAuB,KAAvBA,gBAAAA,EAA1B,IAA0BA,CAA1B;AADJ,KAAA,MAEO;AACH,UAAI,KAAA,MAAA,CAAJ,mBAAI,CAAJ,EAAsC;AAClC,aAAA,yBAAA;;AACA,aAAA,kBAAA,GAA0B,IAAA,iBAAA,CAAsB;AAC5CH,UAAAA,OAAO,EAAE,KADmC,2BACnC,EADmC;AAE5CI,UAAAA,OAAO,EAAE,KAFmC,gBAAA;AAG5CjC,UAAAA,WAAW,EAAE,KAH+B,YAG/B,EAH+B;AAI5CkC,UAAAA,OAAO,EAAE;AAJmC,SAAtB,CAA1B;AAMH;AACJ;AAvQqC,GAAA;AAyQ1CC,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,OAAA,EAAkB;AAChC,QAAIpD,CAAC,GAAGR,OAAO,CAAf,aAAA;AACA,QAAI6D,OAAO,GAAG7D,OAAO,CAArB,OAAA;AACA,QAAI8D,OAAO,GAAG9D,OAAO,CAArB,KAAA;;AACA,QAAI+D,IAAI,GAAG,KAAA,cAAA,CAAX,CAAW,CAAX;;AACA,QAAIC,IAAI,GAAGD,IAAI,CAAJA,OAAI,CAAJA,IAAiBA,IAAI,CAAhC,OAAgC,CAAhC;;AACA,QAAI,KAAA,CAAA,KAAJ,IAAA,EAAqB;AACjB,UAAIL,OAAO,GAAGM,IAAI,CAAJA,IAAAA,CAAd,IAAcA,CAAd;AACA,aAAON,OAAO,CAAPA,CAAO,CAAPA,IAAP,KAAA;AAFJ,KAAA,MAGO;AACH,aAAA,IAAA;AACH;AApRqC,GAAA;AAsR1CO,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,SAAA,gBAAA;;AACA,SAAA,iBAAA;AAxRsC,GAAA;AA0R1CC,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,GAAW;AACzB,QAAI/B,QAAQ,GAAG,KAAf,YAAe,EAAf;;AACA,SAAA,kBAAA;;AACA,SAAA,iBAAA,CAAA,KAAA;;AACAA,IAAAA,QAAQ,CAARA,UAAAA,CAAAA,UAAAA;;AACA,SAAA,yBAAA;AA/RsC,GAAA;AAiS1CgC,EAAAA,yBAAyB,EAAE,SAAA,yBAAA,GAAW;AAClC,QAAI,KAAJ,kBAAA,EAA6B;AACzB,WAAA,kBAAA,CAAA,OAAA;;AACA,aAAO,KAAP,kBAAA;AACH;AArSqC,GAAA;AAuS1CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,QAAItB,IAAI,GAAR,IAAA;AACA,QAAIuB,iBAAiB,GAAGvB,IAAI,CAA5B,gBAAA;AACA,QAAIwB,SAAS,GAAG/G,UAAU,CAAVA,YAAAA,CAAwBC,WAAW,CAAnCD,KAAAA,EAAhB,WAAgBA,CAAhB;AACA,QAAIgH,OAAO,GAAGhH,UAAU,CAAVA,YAAAA,CAAwBC,WAAW,CAAnCD,GAAAA,EAAd,WAAcA,CAAd;AACAX,IAAAA,YAAY,CAAZA,GAAAA,CAAiBkG,IAAI,CAArBlG,mBAAiBkG,EAAjBlG,EAAAA,SAAAA,EAAAA,iBAAAA;AACAA,IAAAA,YAAY,CAAZA,GAAAA,CAAiBkG,IAAI,CAArBlG,mBAAiBkG,EAAjBlG,EAAAA,OAAAA,EAAAA,iBAAAA;;AACA,QAAIkG,IAAI,CAAJA,MAAAA,CAAJ,mBAAIA,CAAJ,EAAsC;AAClC,UAAI0B,WAAW,GAAG,IAAA,MAAA,CAAW,UAAA,IAAA,EAAe;AACxC1B,QAAAA,IAAI,CAAJA,kBAAAA,CAAwB1C,IAAI,CAA5B0C,KAAAA;;AACAA,QAAAA,IAAI,CAAJA,sBAAAA,CAA4BpG,CAAC,CAAC0D,IAAI,CAAlC0C,OAA6B,CAA7BA;AAFc,OAAA,EAGf;AACCnC,QAAAA,iBAAiB,EAAE,CAAA,UAAA;AADpB,OAHe,CAAlB;;AAMA,UAAI8D,mBAAmB,GAAG3B,IAAI,CAA9B,mBAA0BA,EAA1B;;AACAlG,MAAAA,YAAY,CAAZA,EAAAA,CAAAA,mBAAAA,EAAAA,SAAAA,EAAAA,iBAAAA,EAAmE,UAAA,CAAA,EAAY;AAC3E4H,QAAAA,WAAW,CAAXA,OAAAA,CAAoB;AAChBlB,UAAAA,OAAO,EAAE5G,CAAC,CAAC8D,CAAC,CADI,MACN,CADM;AAEhBwC,UAAAA,KAAK,EAAExC;AAFS,SAApBgE;AADJ5H,OAAAA;AAMAA,MAAAA,YAAY,CAAZA,EAAAA,CAAAA,mBAAAA,EAAAA,OAAAA,EAAAA,iBAAAA,EAAiE,UAAA,CAAA,EAAY;AACzEkG,QAAAA,IAAI,CAAJA,gBAAAA,CAAAA,CAAAA;;AACAA,QAAAA,IAAI,CAAJA,qBAAAA;AAFJlG,OAAAA;AAdJ,KAAA,MAkBO;AACHkG,MAAAA,IAAI,CAAJA,iBAAAA,CAAAA,KAAAA;AACH;AAlUqC,GAAA;AAoU1C4B,EAAAA,kBAAkB,EAAEzH,WAAW,CApUW,IAAA;AAqU1C0H,EAAAA,gBAAgB,EAAE1H,WAAW,CArUa,IAAA;AAsU1C2H,EAAAA,qBAAqB,EAAE,SAAA,qBAAA,GAAW;AAC9B,QAAI9B,IAAI,GAAR,IAAA;AACA,QAAI+B,gBAAgB,GAAG/B,IAAI,CAA3B,gBAAA;AACA,QAAIgC,eAAe,GAAGvH,UAAU,CAAVA,YAAAA,CAAwBE,cAAc,CAAtCF,MAAAA,EAAtB,WAAsBA,CAAtB;AACA,QAAIwH,iBAAiB,GAAGxH,UAAU,CAAVA,YAAAA,CAAwBE,cAAc,CAAtCF,QAAAA,EAAxB,WAAwBA,CAAxB;AACA,QAAA,cAAA;AACA,QAAA,sBAAA;AACAX,IAAAA,YAAY,CAAZA,GAAAA,CAAiBkG,IAAI,CAArBlG,mBAAiBkG,EAAjBlG,EAAAA,eAAAA,EAAAA,gBAAAA;AACAA,IAAAA,YAAY,CAAZA,GAAAA,CAAiBkG,IAAI,CAArBlG,mBAAiBkG,EAAjBlG,EAAAA,iBAAAA,EAAAA,gBAAAA;;AACA,QAAIkG,IAAI,CAAJA,MAAAA,CAAJ,oBAAIA,CAAJ,EAAuC;AACnC,UAAIkC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAA,IAAA,EAAe;AACvC,YAAI7C,QAAQ,GAAGzF,CAAC,CAAC0D,IAAI,CAArB,OAAgB,CAAhB;AACA,YAAIL,KAAK,GAAGK,IAAI,CAAhB,KAAA;AACA,YAAI6E,OAAO,GAAG7E,IAAI,CAAlB,KAAA;;AACA0C,QAAAA,IAAI,CAAJA,kBAAAA,CAAAA,QAAAA,EAAAA,KAAAA,EAAAA,OAAAA;AAJJ,OAAA;;AAMAlG,MAAAA,YAAY,CAAZA,EAAAA,CAAgBkG,IAAI,CAApBlG,mBAAgBkG,EAAhBlG,EAAAA,eAAAA,EAAAA,gBAAAA,EAA+E;AAC3EsI,QAAAA,OAAO,EAAEpC,IAAI,CAAC1D;AAD6D,OAA/ExC,EAEG,UAAA,CAAA,EAAY;AACXuI,QAAAA,cAAc,GAAGA,cAAc,IAAI,IAAA,MAAA,CAAnCA,qBAAmC,CAAnCA;AACAA,QAAAA,cAAc,CAAdA,OAAAA,CAAuB;AACnB7B,UAAAA,OAAO,EAAE5G,CAAC,CAAC8D,CAAC,CADO,aACT,CADS;AAEnBT,UAAAA,KAAK,EAFc,IAAA;AAGnBiD,UAAAA,KAAK,EAAExC;AAHY,SAAvB2E;AAJJvI,OAAAA;AAUAA,MAAAA,YAAY,CAAZA,EAAAA,CAAgBkG,IAAI,CAApBlG,mBAAgBkG,EAAhBlG,EAAAA,iBAAAA,EAAAA,gBAAAA,EAAiF;AAC7EsI,QAAAA,OAAO,EAAEpC,IAAI,CAACzD;AAD+D,OAAjFzC,EAEG,UAAA,CAAA,EAAY;AACXwI,QAAAA,sBAAsB,GAAGA,sBAAsB,IAAI,IAAA,MAAA,CAAA,qBAAA,EAAkC;AACjFzE,UAAAA,iBAAiB,EAAE,CAAA,UAAA,EAAA,UAAA;AAD8D,SAAlC,CAAnDyE;AAGAA,QAAAA,sBAAsB,CAAtBA,OAAAA,CAA+B;AAC3B9B,UAAAA,OAAO,EAAE5G,CAAC,CAAC8D,CAAC,CADe,aACjB,CADiB;AAE3BT,UAAAA,KAAK,EAFsB,KAAA;AAG3BiD,UAAAA,KAAK,EAAExC;AAHoB,SAA/B4E;AANJxI,OAAAA;AAYH;AA5WqC,GAAA;AA8W1CyI,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,CAAA,QAAA,EAAA,KAAA,EAA0B;AAC1C,SAAA,iBAAA,CAAuB,CAAvB,KAAA;;AACAlD,IAAAA,QAAQ,CAARA,WAAAA,CAAAA,kBAAAA,EAAAA,KAAAA;AAhXsC,GAAA;AAkX1CmD,EAAAA,sBAAsB,EAAE,SAAA,sBAAA,CAAA,cAAA,EAAyB;AAC7C,QAAIC,QAAQ,GAAG,KAAA,gBAAA,IAAyB,KAAxC,mBAAwC,EAAxC;;AACA,SAAA,qBAAA;;AACA,SAAA,eAAA,GAAuBC,cAAc,CAAdA,OAAAA,CAAvB,QAAuBA,CAAvB;;AACA,SAAA,iBAAA,CAAA,IAAA;AAtXsC,GAAA;AAwX1CC,EAAAA,qBAAqB,EAAE,SAAA,qBAAA,GAAW;AAC9B,SAAA,iBAAA,CAAA,KAAA;;AACA,WAAO,KAAP,eAAA;AA1XsC,GAAA;AA4X1CC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,CAAA,KAAA,EAAgB;AAC/B,QAAI,KAAJ,eAAA,EAA0B;AACtB,WAAA,eAAA,CAAA,WAAA,CAAA,iBAAA,EAAoD3F,KAAK,IAAI,KAAA,MAAA,CAA7D,mBAA6D,CAA7D;AACH;AA/XqC,GAAA;AAiY1C4F,EAAAA,oBAAoB,EAAE,SAAA,oBAAA,CAAA,KAAA,EAAgB;AAClC,SAAA,QAAA,GAAA,WAAA,CAAA,oBAAA,EAAkDC,OAAO,CAAzD,KAAyD,CAAzD;;AACA,SAAA,iBAAA,CAAuB,CAAvB,KAAA;;AACA,SAAA,OAAA,CAAA,UAAA,EAAyB7F,KAAK,IAAI,KAAlC,CAAA;AApYsC,GAAA;AAsY1C8F,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,UAAA,EAAA,IAAA,EAA2B;AACzC,QAAI,CAAC,KAAL,UAAK,CAAL,EAAuB;AACnB;AACH;;AACD,QAAI3I,SAAS,CAATA,aAAAA,CAAwBkD,IAAI,CAAhC,CAAgC,CAA5BlD,CAAJ,EAAsC;AAClCF,MAAAA,IAAI,CAACoD,IAAI,CAAL,CAAK,CAAL,EAAU,UAAA,MAAA,EAAA,KAAA,EAAwB;AAClC,aAAA,gBAAA,CAAA,UAAA,EAAkC,CAAA,MAAA,EAAlC,KAAkC,CAAlC;AADU,OAAA,CAAA,IAAA,CAAdpD,IAAc,CAAV,CAAJA;AAGA;AACH;;AACD,QAAI8I,UAAU,GAAG1F,IAAI,CAArB,CAAqB,CAArB;AACA,QAAIL,KAAK,GAAGK,IAAI,CAAhB,CAAgB,CAAhB;;AACA,QAAI,MAAMA,IAAI,CAAd,MAAA,EAAuB;AACnBL,MAAAA,KAAK,GAAG,KAAA,MAAA,CAARA,UAAQ,CAARA;AACH;;AACD,QAAIgG,eAAe,GAAG,KAAKC,UAAU,GAArC,WAAsB,CAAtB;AACA,SAAA,UAAA,EAAA,MAAA,CAAwBD,eAAe,GAAGA,eAAe,CAAlB,UAAkB,CAAlB,GAAvC,UAAA,EAAA,KAAA;AAtZsC,GAAA;AAwZ1CE,EAAAA,cAAc,EAAE,SAAA,cAAA,CAAA,IAAA,EAAe;AAC3B,YAAQ7F,IAAI,CAAZ,IAAA;AACI,WAAA,UAAA;AACI,aAAA,oBAAA,CAA0BA,IAAI,CAA9B,KAAA;;AACA,aAAA,kBAAA;;AACA;;AACJ,WAAA,MAAA;AACI,aAAA,WAAA;;AACA;;AACJ,WAAA,oBAAA;AACI,aAAA,qBAAA;;AACA;;AACJ,WAAA,mBAAA;AACI,aAAA,kBAAA;;AACA;;AACJ,WAAA,UAAA;AACA,WAAA,oBAAA;AACA,WAAA,mBAAA;AACI,aAAA,kBAAA;;AACA;;AACJ,WAAA,WAAA;AACA,WAAA,YAAA;AACI;;AACJ,WAAA,WAAA;AACI,aAAA,gBAAA;;AACA;;AACJ,WAAA,SAAA;AACI,YAAI3B,OAAO,GAAG2B,IAAI,CAAlB,KAAA;;AACA,aAAA,iBAAA,CAAA,OAAA;;AACA,YAAI,KAAJ,4BAAI,EAAJ,EAAyC;AACrC,eAAA,uBAAA,CAA6BA,IAAI,CAAJA,KAAAA,GAAAA,OAAAA,GAA7B,QAAA;AACH;;AACD;;AACJ,WAAA,gBAAA;AACI,aAAA,uBAAA;;AACA;;AACJ;AACI,aAAA,QAAA,CAAA,IAAA;AApCR;AAzZsC,GAAA;AAgc1C8F,EAAAA,UAAU,EAAE,SAAA,UAAA,GAAW;AACnB,WAAO,KAAA,QAAA,MAAmB,KAAA,MAAA,CAA1B,SAA0B,CAA1B;AAjcsC,GAAA;AAmc1CC,EAAAA,WAAW,EAAE,SAAA,WAAA,GAAW;AACpB,SAAA,MAAA,CAAA,KAAA;;AACA,SAAA,QAAA;AArcsC,GAAA;AAuc1CC,EAAAA,SAAS,EAAE,SAAA,SAAA,GAAW;AAClB,SAAA,QAAA;;AACA,QAAI,KAAJ,YAAA,EAAuB;AACnB,WAAA,MAAA,CAAA,IAAA;AACH;AA3cqC,GAAA;AA6c1CC,EAAAA,MAAM,EAAE,SAAA,MAAA,CAAA,KAAA,EAAgB;AACpB,QAAI,MAAMC,SAAS,CAAnB,MAAA,EAA4B;AACxB,aAAO,KAAP,QAAA;AACH;;AACD,SAAA,QAAA,GAAA,KAAA;AAjdsC,GAAA;AAmd1CC,EAAAA,OAAO,EAAE,SAAA,OAAA,GAAW;AAChB,QAAIC,YAAY,GAAG,SAAfA,YAAe,CAAA,MAAA,EAAiB;AAChC,UAAIC,QAAQ,GAAG,WAAWxG,MAAM,CAAjB,IAAA,IAA0B,SAASA,MAAM,CAAzC,IAAA,GAAiDA,MAAM,CAAvD,IAAA,GAA+D,UAAUA,MAAM,CAA9F,IAAA;AACA,UAAIyG,SAAS,GAAGzG,MAAM,CAAtB,KAAA;;AACA,UAAI/C,SAAS,CAATA,SAAAA,CAAJ,SAAIA,CAAJ,EAAoC;AAChCwJ,QAAAA,SAAS,GAAGA,SAAS,CAArBA,QAAYA,EAAZA;AADJ,OAAA,MAEO;AACHA,QAAAA,SAAS,GAATA,IAAAA;AACH;;AACDzG,MAAAA,MAAM,CAANA,MAAAA,CAAAA,IAAAA,CAAAA,QAAAA,EAAAA,SAAAA;AARJ,KAAA;;AAUA,QAAI,CAAC/C,SAAS,CAATA,aAAAA,CAAwBoJ,SAAS,CAAtC,CAAsC,CAAjCpJ,CAAL,EAA4C;AACxCsJ,MAAAA,YAAY,CAAC;AACT5G,QAAAA,IAAI,EAAE0G,SAAS,CADN,CACM,CADN;AAETvG,QAAAA,KAAK,EAAEuG,SAAS,CAFP,CAEO,CAFP;AAGTnD,QAAAA,MAAM,EAAEmD,SAAS,CAATA,CAAS,CAATA,IAAgB,KAAA,cAAA;AAHf,OAAD,CAAZE;AADJ,KAAA,MAMO;AACH,UAAIG,OAAO,GAAGL,SAAS,CAATA,CAAS,CAATA,IAAgB,KAA9B,cAA8B,EAA9B;;AACAtJ,MAAAA,IAAI,CAACsJ,SAAS,CAAV,CAAU,CAAV,EAAe,UAAA,GAAA,EAAA,KAAA,EAAqB;AACpCE,QAAAA,YAAY,CAAC;AACT5G,UAAAA,IAAI,EADK,GAAA;AAETG,UAAAA,KAAK,EAFI,KAAA;AAGToD,UAAAA,MAAM,EAAEwD;AAHC,SAAD,CAAZH;AADJxJ,OAAI,CAAJA;AAOH;AA7eqC,GAAA;AA+e1C4J,EAAAA,OAAO,EAAE,SAAA,OAAA,GAAW;AAChB,WAAO,KAAP,MAAO,EAAP;AAhfsC,GAAA;AAkf1CC,EAAAA,OAAO,EAAE,SAAA,OAAA,GAAW;AAChB,SAAA,QAAA;AAnfsC,GAAA;AAqf1CC,EAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACdlK,IAAAA,YAAY,CAAZA,OAAAA,CAAqB,KAArBA,YAAqB,EAArBA,EAAAA,OAAAA;AAtfsC,GAAA;AAwf1CmK,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,CAAA,GAAA,EAAA,OAAA,EAAuB;AACvC,QAAIC,WAAW,GAAG,KAAlB,cAAkB,EAAlB;;AACA,QAAIC,UAAU,GAAd,EAAA;AACAA,IAAAA,UAAU,CAAVA,GAAU,CAAVA,GAAAA,OAAAA;;AACA,SAAA,cAAA,GAAsB,YAAW;AAC7B,aAAOnK,MAAM,CAAA,WAAA,EAAb,UAAa,CAAb;AADJ,KAAA;AAGH;AA/fyC,CAAjC,CAAb;AAigBAoK,MAAM,CAANA,OAAAA,GAAAA,MAAAA","sourcesContent":["/**\r\n * DevExtreme (ui/widget/ui.widget.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar eventsEngine = require(\"../../events/core/events_engine\");\r\nvar Action = require(\"../../core/action\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar inArray = require(\"../../core/utils/array\").inArray;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar commonUtils = require(\"../../core/utils/common\");\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar domAdapter = require(\"../../core/dom_adapter\");\r\nvar DOMComponentWithTemplate = require(\"../../core/dom_component_with_template\");\r\nvar KeyboardProcessor = require(\"./ui.keyboard_processor\");\r\nvar selectors = require(\"./selectors\");\r\nvar eventUtils = require(\"../../events/utils\");\r\nvar hoverEvents = require(\"../../events/hover\");\r\nvar feedbackEvents = require(\"../../events/core/emitter.feedback\");\r\nvar clickEvent = require(\"../../events/click\");\r\nvar UI_FEEDBACK = \"UIFeedback\";\r\nvar WIDGET_CLASS = \"dx-widget\";\r\nvar ACTIVE_STATE_CLASS = \"dx-state-active\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\r\nvar HOVER_STATE_CLASS = \"dx-state-hover\";\r\nvar FOCUSED_STATE_CLASS = \"dx-state-focused\";\r\nvar FEEDBACK_SHOW_TIMEOUT = 30;\r\nvar FEEDBACK_HIDE_TIMEOUT = 400;\r\nvar FOCUS_NAMESPACE = \"Focus\";\r\nvar Widget = DOMComponentWithTemplate.inherit({\r\n    _supportedKeys: function() {\r\n        return {}\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            disabled: false,\r\n            visible: true,\r\n            hint: void 0,\r\n            activeStateEnabled: false,\r\n            onContentReady: null,\r\n            hoverStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            tabIndex: 0,\r\n            accessKey: null,\r\n            onFocusIn: null,\r\n            onFocusOut: null,\r\n            _keyboardProcessor: void 0\r\n        })\r\n    },\r\n    _feedbackShowTimeout: FEEDBACK_SHOW_TIMEOUT,\r\n    _feedbackHideTimeout: FEEDBACK_HIDE_TIMEOUT,\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initContentReadyAction()\r\n    },\r\n    _clearInnerOptionCache: function(optionContainer) {\r\n        this[optionContainer + \"Cache\"] = {}\r\n    },\r\n    _cacheInnerOptions: function(optionContainer, optionValue) {\r\n        var cacheName = optionContainer + \"Cache\";\r\n        this[cacheName] = extend(this[cacheName], optionValue)\r\n    },\r\n    _getOptionsFromContainer: function(_ref) {\r\n        var name = _ref.name,\r\n            fullName = _ref.fullName,\r\n            value = _ref.value;\r\n        var options = {};\r\n        if (name === fullName) {\r\n            options = value\r\n        } else {\r\n            var option = fullName.split(\".\").pop();\r\n            options[option] = value\r\n        }\r\n        return options\r\n    },\r\n    _innerOptionChanged: function(innerWidget, args) {\r\n        var options = this._getOptionsFromContainer(args);\r\n        innerWidget && innerWidget.option(options);\r\n        this._cacheInnerOptions(args.name, options)\r\n    },\r\n    _getInnerOptionsCache: function(optionContainer) {\r\n        return this[optionContainer + \"Cache\"]\r\n    },\r\n    _initInnerOptionCache: function(optionContainer) {\r\n        this._clearInnerOptionCache(optionContainer);\r\n        this._cacheInnerOptions(optionContainer, this.option(optionContainer))\r\n    },\r\n    _bindInnerWidgetOptions: function(innerWidget, optionsContainer) {\r\n        this._options[optionsContainer] = extend({}, innerWidget.option());\r\n        innerWidget.on(\"optionChanged\", function(e) {\r\n            this._options[optionsContainer] = extend({}, e.component.option())\r\n        }.bind(this))\r\n    },\r\n    _getAriaTarget: function() {\r\n        return this._focusTarget()\r\n    },\r\n    _initContentReadyAction: function() {\r\n        this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(WIDGET_CLASS);\r\n        this._toggleDisabledState(this.option(\"disabled\"));\r\n        this._toggleVisibility(this.option(\"visible\"));\r\n        this._renderHint();\r\n        if (this._isFocusable()) {\r\n            this._renderFocusTarget()\r\n        }\r\n        this.callBase()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._renderContent();\r\n        this._renderFocusState();\r\n        this._attachFeedbackEvents();\r\n        this._attachHoverEvents()\r\n    },\r\n    _renderHint: function() {\r\n        var hint = this.option(\"hint\");\r\n        this.$element().attr(\"title\", hint ? hint : null)\r\n    },\r\n    _renderContent: function() {\r\n        var _this = this;\r\n        commonUtils.deferRender(function() {\r\n            if (_this._disposed) {\r\n                return\r\n            }\r\n            return _this._renderContentImpl()\r\n        }).done(function() {\r\n            if (_this._disposed) {\r\n                return\r\n            }\r\n            _this._fireContentReadyAction()\r\n        })\r\n    },\r\n    _renderContentImpl: commonUtils.noop,\r\n    _fireContentReadyAction: commonUtils.deferRenderer(function() {\r\n        this._contentReadyAction()\r\n    }),\r\n    _dispose: function() {\r\n        this._contentReadyAction = null;\r\n        this.callBase()\r\n    },\r\n    _resetActiveState: function() {\r\n        this._toggleActiveState(this._eventBindingTarget(), false)\r\n    },\r\n    _clean: function() {\r\n        this._cleanFocusState();\r\n        this._resetActiveState();\r\n        this.callBase();\r\n        this.$element().empty()\r\n    },\r\n    _toggleVisibility: function(visible) {\r\n        this.$element().toggleClass(INVISIBLE_STATE_CLASS, !visible);\r\n        this.setAria(\"hidden\", !visible || void 0)\r\n    },\r\n    _renderFocusState: function() {\r\n        this._attachKeyboardEvents();\r\n        if (!this._isFocusable()) {\r\n            return\r\n        }\r\n        this._renderFocusTarget();\r\n        this._attachFocusEvents();\r\n        this._renderAccessKey()\r\n    },\r\n    _renderAccessKey: function() {\r\n        var focusTarget = this._focusTarget();\r\n        focusTarget.attr(\"accesskey\", this.option(\"accessKey\"));\r\n        var clickNamespace = eventUtils.addNamespace(clickEvent.name, UI_FEEDBACK);\r\n        eventsEngine.off(focusTarget, clickNamespace);\r\n        this.option(\"accessKey\") && eventsEngine.on(focusTarget, clickNamespace, function(e) {\r\n            if (eventUtils.isFakeClickEvent(e)) {\r\n                e.stopImmediatePropagation();\r\n                this.focus()\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _isFocusable: function() {\r\n        return this.option(\"focusStateEnabled\") && !this.option(\"disabled\")\r\n    },\r\n    _eventBindingTarget: function() {\r\n        return this.$element()\r\n    },\r\n    _focusTarget: function() {\r\n        return this._getActiveElement()\r\n    },\r\n    _getActiveElement: function() {\r\n        var activeElement = this._eventBindingTarget();\r\n        if (this._activeStateUnit) {\r\n            activeElement = activeElement.find(this._activeStateUnit).not(\".\" + DISABLED_STATE_CLASS)\r\n        }\r\n        return activeElement\r\n    },\r\n    _renderFocusTarget: function() {\r\n        this._focusTarget().attr(\"tabIndex\", this.option(\"tabIndex\"))\r\n    },\r\n    _keyboardEventBindingTarget: function() {\r\n        return this._eventBindingTarget()\r\n    },\r\n    _detachFocusEvents: function() {\r\n        var $element = this._focusEventTarget();\r\n        var namespace = this.NAME + FOCUS_NAMESPACE;\r\n        var focusEvents = eventUtils.addNamespace(\"focusin\", namespace);\r\n        focusEvents = focusEvents + \" \" + eventUtils.addNamespace(\"focusout\", namespace);\r\n        if (domAdapter.hasDocumentProperty(\"onbeforeactivate\")) {\r\n            focusEvents = focusEvents + \" \" + eventUtils.addNamespace(\"beforeactivate\", namespace)\r\n        }\r\n        eventsEngine.off($element, focusEvents)\r\n    },\r\n    _attachFocusEvents: function() {\r\n        var namespace = this.NAME + FOCUS_NAMESPACE;\r\n        var focusInEvent = eventUtils.addNamespace(\"focusin\", namespace);\r\n        var focusOutEvent = eventUtils.addNamespace(\"focusout\", namespace);\r\n        var $focusTarget = this._focusEventTarget();\r\n        eventsEngine.on($focusTarget, focusInEvent, this._focusInHandler.bind(this));\r\n        eventsEngine.on($focusTarget, focusOutEvent, this._focusOutHandler.bind(this));\r\n        if (domAdapter.hasDocumentProperty(\"onbeforeactivate\")) {\r\n            var beforeActivateEvent = eventUtils.addNamespace(\"beforeactivate\", namespace);\r\n            eventsEngine.on(this._focusEventTarget(), beforeActivateEvent, function(e) {\r\n                if (!$(e.target).is(selectors.focusable)) {\r\n                    e.preventDefault()\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _refreshFocusEvent: function() {\r\n        this._detachFocusEvents();\r\n        this._attachFocusEvents()\r\n    },\r\n    _focusEventTarget: function() {\r\n        return this._focusTarget()\r\n    },\r\n    _focusInHandler: function(e) {\r\n        if (e.isDefaultPrevented()) {\r\n            return\r\n        }\r\n        var that = this;\r\n        that._createActionByOption(\"onFocusIn\", {\r\n            beforeExecute: function() {\r\n                that._updateFocusState(e, true)\r\n            },\r\n            excludeValidators: [\"readOnly\"]\r\n        })({\r\n            event: e\r\n        })\r\n    },\r\n    _focusOutHandler: function(e) {\r\n        if (e.isDefaultPrevented()) {\r\n            return\r\n        }\r\n        var that = this;\r\n        that._createActionByOption(\"onFocusOut\", {\r\n            beforeExecute: function() {\r\n                that._updateFocusState(e, false)\r\n            },\r\n            excludeValidators: [\"readOnly\", \"disabled\"]\r\n        })({\r\n            event: e\r\n        })\r\n    },\r\n    _updateFocusState: function(e, isFocused) {\r\n        var target = e.target;\r\n        if (inArray(target, this._focusTarget()) !== -1) {\r\n            this._toggleFocusClass(isFocused, $(target))\r\n        }\r\n    },\r\n    _toggleFocusClass: function(isFocused, $element) {\r\n        var $focusTarget = $element && $element.length ? $element : this._focusTarget();\r\n        $focusTarget.toggleClass(FOCUSED_STATE_CLASS, isFocused)\r\n    },\r\n    _hasFocusClass: function(element) {\r\n        var $focusTarget = $(element || this._focusTarget());\r\n        return $focusTarget.hasClass(FOCUSED_STATE_CLASS)\r\n    },\r\n    _isFocused: function() {\r\n        return this._hasFocusClass()\r\n    },\r\n    _attachKeyboardEvents: function() {\r\n        var processor = this.option(\"_keyboardProcessor\");\r\n        if (processor) {\r\n            this._keyboardProcessor = processor.reinitialize(this._keyboardHandler, this)\r\n        } else {\r\n            if (this.option(\"focusStateEnabled\")) {\r\n                this._disposeKeyboardProcessor();\r\n                this._keyboardProcessor = new KeyboardProcessor({\r\n                    element: this._keyboardEventBindingTarget(),\r\n                    handler: this._keyboardHandler,\r\n                    focusTarget: this._focusTarget(),\r\n                    context: this\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _keyboardHandler: function(options) {\r\n        var e = options.originalEvent;\r\n        var keyName = options.keyName;\r\n        var keyCode = options.which;\r\n        var keys = this._supportedKeys(e);\r\n        var func = keys[keyName] || keys[keyCode];\r\n        if (void 0 !== func) {\r\n            var handler = func.bind(this);\r\n            return handler(e) || false\r\n        } else {\r\n            return true\r\n        }\r\n    },\r\n    _refreshFocusState: function() {\r\n        this._cleanFocusState();\r\n        this._renderFocusState()\r\n    },\r\n    _cleanFocusState: function() {\r\n        var $element = this._focusTarget();\r\n        this._detachFocusEvents();\r\n        this._toggleFocusClass(false);\r\n        $element.removeAttr(\"tabIndex\");\r\n        this._disposeKeyboardProcessor()\r\n    },\r\n    _disposeKeyboardProcessor: function() {\r\n        if (this._keyboardProcessor) {\r\n            this._keyboardProcessor.dispose();\r\n            delete this._keyboardProcessor\r\n        }\r\n    },\r\n    _attachHoverEvents: function() {\r\n        var that = this;\r\n        var hoverableSelector = that._activeStateUnit;\r\n        var nameStart = eventUtils.addNamespace(hoverEvents.start, UI_FEEDBACK);\r\n        var nameEnd = eventUtils.addNamespace(hoverEvents.end, UI_FEEDBACK);\r\n        eventsEngine.off(that._eventBindingTarget(), nameStart, hoverableSelector);\r\n        eventsEngine.off(that._eventBindingTarget(), nameEnd, hoverableSelector);\r\n        if (that.option(\"hoverStateEnabled\")) {\r\n            var startAction = new Action(function(args) {\r\n                that._hoverStartHandler(args.event);\r\n                that._refreshHoveredElement($(args.element))\r\n            }, {\r\n                excludeValidators: [\"readOnly\"]\r\n            });\r\n            var $eventBindingTarget = that._eventBindingTarget();\r\n            eventsEngine.on($eventBindingTarget, nameStart, hoverableSelector, function(e) {\r\n                startAction.execute({\r\n                    element: $(e.target),\r\n                    event: e\r\n                })\r\n            });\r\n            eventsEngine.on($eventBindingTarget, nameEnd, hoverableSelector, function(e) {\r\n                that._hoverEndHandler(e);\r\n                that._forgetHoveredElement()\r\n            })\r\n        } else {\r\n            that._toggleHoverClass(false)\r\n        }\r\n    },\r\n    _hoverStartHandler: commonUtils.noop,\r\n    _hoverEndHandler: commonUtils.noop,\r\n    _attachFeedbackEvents: function() {\r\n        var that = this;\r\n        var feedbackSelector = that._activeStateUnit;\r\n        var activeEventName = eventUtils.addNamespace(feedbackEvents.active, UI_FEEDBACK);\r\n        var inactiveEventName = eventUtils.addNamespace(feedbackEvents.inactive, UI_FEEDBACK);\r\n        var feedbackAction;\r\n        var feedbackActionDisabled;\r\n        eventsEngine.off(that._eventBindingTarget(), activeEventName, feedbackSelector);\r\n        eventsEngine.off(that._eventBindingTarget(), inactiveEventName, feedbackSelector);\r\n        if (that.option(\"activeStateEnabled\")) {\r\n            var feedbackActionHandler = function(args) {\r\n                var $element = $(args.element);\r\n                var value = args.value;\r\n                var dxEvent = args.event;\r\n                that._toggleActiveState($element, value, dxEvent)\r\n            };\r\n            eventsEngine.on(that._eventBindingTarget(), activeEventName, feedbackSelector, {\r\n                timeout: that._feedbackShowTimeout\r\n            }, function(e) {\r\n                feedbackAction = feedbackAction || new Action(feedbackActionHandler);\r\n                feedbackAction.execute({\r\n                    element: $(e.currentTarget),\r\n                    value: true,\r\n                    event: e\r\n                })\r\n            });\r\n            eventsEngine.on(that._eventBindingTarget(), inactiveEventName, feedbackSelector, {\r\n                timeout: that._feedbackHideTimeout\r\n            }, function(e) {\r\n                feedbackActionDisabled = feedbackActionDisabled || new Action(feedbackActionHandler, {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                feedbackActionDisabled.execute({\r\n                    element: $(e.currentTarget),\r\n                    value: false,\r\n                    event: e\r\n                })\r\n            })\r\n        }\r\n    },\r\n    _toggleActiveState: function($element, value) {\r\n        this._toggleHoverClass(!value);\r\n        $element.toggleClass(ACTIVE_STATE_CLASS, value)\r\n    },\r\n    _refreshHoveredElement: function(hoveredElement) {\r\n        var selector = this._activeStateUnit || this._eventBindingTarget();\r\n        this._forgetHoveredElement();\r\n        this._hoveredElement = hoveredElement.closest(selector);\r\n        this._toggleHoverClass(true)\r\n    },\r\n    _forgetHoveredElement: function() {\r\n        this._toggleHoverClass(false);\r\n        delete this._hoveredElement\r\n    },\r\n    _toggleHoverClass: function(value) {\r\n        if (this._hoveredElement) {\r\n            this._hoveredElement.toggleClass(HOVER_STATE_CLASS, value && this.option(\"hoverStateEnabled\"))\r\n        }\r\n    },\r\n    _toggleDisabledState: function(value) {\r\n        this.$element().toggleClass(DISABLED_STATE_CLASS, Boolean(value));\r\n        this._toggleHoverClass(!value);\r\n        this.setAria(\"disabled\", value || void 0)\r\n    },\r\n    _setWidgetOption: function(widgetName, args) {\r\n        if (!this[widgetName]) {\r\n            return\r\n        }\r\n        if (typeUtils.isPlainObject(args[0])) {\r\n            each(args[0], function(option, value) {\r\n                this._setWidgetOption(widgetName, [option, value])\r\n            }.bind(this));\r\n            return\r\n        }\r\n        var optionName = args[0];\r\n        var value = args[1];\r\n        if (1 === args.length) {\r\n            value = this.option(optionName)\r\n        }\r\n        var widgetOptionMap = this[widgetName + \"OptionMap\"];\r\n        this[widgetName].option(widgetOptionMap ? widgetOptionMap(optionName) : optionName, value)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"disabled\":\r\n                this._toggleDisabledState(args.value);\r\n                this._refreshFocusState();\r\n                break;\r\n            case \"hint\":\r\n                this._renderHint();\r\n                break;\r\n            case \"activeStateEnabled\":\r\n                this._attachFeedbackEvents();\r\n                break;\r\n            case \"hoverStateEnabled\":\r\n                this._attachHoverEvents();\r\n                break;\r\n            case \"tabIndex\":\r\n            case \"_keyboardProcessor\":\r\n            case \"focusStateEnabled\":\r\n                this._refreshFocusState();\r\n                break;\r\n            case \"onFocusIn\":\r\n            case \"onFocusOut\":\r\n                break;\r\n            case \"accessKey\":\r\n                this._renderAccessKey();\r\n                break;\r\n            case \"visible\":\r\n                var visible = args.value;\r\n                this._toggleVisibility(visible);\r\n                if (this._isVisibilityChangeSupported()) {\r\n                    this._checkVisibilityChanged(args.value ? \"shown\" : \"hiding\")\r\n                }\r\n                break;\r\n            case \"onContentReady\":\r\n                this._initContentReadyAction();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _isVisible: function() {\r\n        return this.callBase() && this.option(\"visible\")\r\n    },\r\n    beginUpdate: function() {\r\n        this._ready(false);\r\n        this.callBase()\r\n    },\r\n    endUpdate: function() {\r\n        this.callBase();\r\n        if (this._initialized) {\r\n            this._ready(true)\r\n        }\r\n    },\r\n    _ready: function(value) {\r\n        if (0 === arguments.length) {\r\n            return this._isReady\r\n        }\r\n        this._isReady = value\r\n    },\r\n    setAria: function() {\r\n        var setAttribute = function(option) {\r\n            var attrName = \"role\" === option.name || \"id\" === option.name ? option.name : \"aria-\" + option.name;\r\n            var attrValue = option.value;\r\n            if (typeUtils.isDefined(attrValue)) {\r\n                attrValue = attrValue.toString()\r\n            } else {\r\n                attrValue = null\r\n            }\r\n            option.target.attr(attrName, attrValue)\r\n        };\r\n        if (!typeUtils.isPlainObject(arguments[0])) {\r\n            setAttribute({\r\n                name: arguments[0],\r\n                value: arguments[1],\r\n                target: arguments[2] || this._getAriaTarget()\r\n            })\r\n        } else {\r\n            var $target = arguments[1] || this._getAriaTarget();\r\n            each(arguments[0], function(key, value) {\r\n                setAttribute({\r\n                    name: key,\r\n                    value: value,\r\n                    target: $target\r\n                })\r\n            })\r\n        }\r\n    },\r\n    isReady: function() {\r\n        return this._ready()\r\n    },\r\n    repaint: function() {\r\n        this._refresh()\r\n    },\r\n    focus: function() {\r\n        eventsEngine.trigger(this._focusTarget(), \"focus\")\r\n    },\r\n    registerKeyHandler: function(key, handler) {\r\n        var currentKeys = this._supportedKeys();\r\n        var addingKeys = {};\r\n        addingKeys[key] = handler;\r\n        this._supportedKeys = function() {\r\n            return extend(currentKeys, addingKeys)\r\n        }\r\n    }\r\n});\r\nmodule.exports = Widget;\r\n"]},"metadata":{},"sourceType":"module"}