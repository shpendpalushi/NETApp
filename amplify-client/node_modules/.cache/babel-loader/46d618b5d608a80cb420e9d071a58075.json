{"ast":null,"code":"/**\r\n * DevExtreme (ui/text_box/texteditor_button_collection/index.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _renderer = require(\"../../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _custom = require(\"./custom\");\n\nvar _custom2 = _interopRequireDefault(_custom);\n\nvar _extend = require(\"../../../core/utils/extend\");\n\nvar _array = require(\"../../../core/utils/array\");\n\nvar _ui = require(\"../../widget/ui.errors\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar TEXTEDITOR_BUTTONS_CONTAINER_CLASS = \"dx-texteditor-buttons-container\";\n\nfunction checkButtonInfo(buttonInfo) {\n  var checkButtonType = function checkButtonType() {\n    if (!buttonInfo || \"object\" !== _typeof(buttonInfo) || Array.isArray(buttonInfo)) {\n      throw _ui2.default.Error(\"E1053\");\n    }\n  };\n\n  var checkLocation = function checkLocation() {\n    var location = buttonInfo.location;\n\n    if (\"location\" in buttonInfo && \"after\" !== location && \"before\" !== location) {\n      buttonInfo.location = \"after\";\n    }\n  };\n\n  var checkNameIsDefined = function checkNameIsDefined() {\n    if (!(\"name\" in buttonInfo)) {\n      throw _ui2.default.Error(\"E1054\");\n    }\n  };\n\n  var checkNameIsString = function checkNameIsString() {\n    var name = buttonInfo.name;\n\n    if (\"string\" !== typeof name) {\n      throw _ui2.default.Error(\"E1055\");\n    }\n  };\n\n  checkButtonType();\n  checkNameIsDefined();\n  checkNameIsString();\n  checkLocation();\n}\n\nfunction checkNamesUniqueness(existingNames, newName) {\n  if (existingNames.indexOf(newName) !== -1) {\n    throw _ui2.default.Error(\"E1055\", newName);\n  }\n\n  existingNames.push(newName);\n}\n\nfunction isPredefinedButtonName(name, predefinedButtonsInfo) {\n  return !!(0, _array.find)(predefinedButtonsInfo, function (info) {\n    return info.name === name;\n  });\n}\n\nvar TextEditorButtonCollection = function () {\n  function TextEditorButtonCollection(editor, defaultButtonsInfo) {\n    _classCallCheck(this, TextEditorButtonCollection);\n\n    this.buttons = [];\n    this.defaultButtonsInfo = defaultButtonsInfo;\n    this.editor = editor;\n  }\n\n  _createClass(TextEditorButtonCollection, [{\n    key: \"_compileButtonInfo\",\n    value: function value(buttons) {\n      var _this = this;\n\n      var names = [];\n      return buttons.map(function (button) {\n        var isStringButton = \"string\" === typeof button;\n\n        if (!isStringButton) {\n          checkButtonInfo(button);\n        }\n\n        var isDefaultButton = isStringButton || isPredefinedButtonName(button.name, _this.defaultButtonsInfo);\n\n        if (isDefaultButton) {\n          var defaultButtonInfo = (0, _array.find)(_this.defaultButtonsInfo, function (_ref) {\n            var name = _ref.name;\n            return name === button || name === button.name;\n          });\n\n          if (!defaultButtonInfo) {\n            throw _ui2.default.Error(\"E1056\", _this.editor.NAME, button);\n          }\n\n          checkNamesUniqueness(names, button);\n          return defaultButtonInfo;\n        } else {\n          var name = button.name;\n          checkNamesUniqueness(names, name);\n          return (0, _extend.extend)(button, {\n            Ctor: _custom2.default\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_createButton\",\n    value: function value(buttonsInfo) {\n      var Ctor = buttonsInfo.Ctor,\n          options = buttonsInfo.options,\n          name = buttonsInfo.name;\n      var button = new Ctor(name, this.editor, options);\n      this.buttons.push(button);\n      return button;\n    }\n  }, {\n    key: \"_renderButtons\",\n    value: function value(buttons, $container, targetLocation) {\n      var _this2 = this;\n\n      var $buttonsContainer = null;\n      var buttonsInfo = buttons ? this._compileButtonInfo(buttons) : this.defaultButtonsInfo;\n\n      var getButtonsContainer = function getButtonsContainer() {\n        $buttonsContainer = $buttonsContainer || (0, _renderer2.default)(\"<div>\").addClass(TEXTEDITOR_BUTTONS_CONTAINER_CLASS);\n        \"before\" === targetLocation ? $container.prepend($buttonsContainer) : $container.append($buttonsContainer);\n        return $buttonsContainer;\n      };\n\n      buttonsInfo.forEach(function (buttonsInfo) {\n        var _buttonsInfo$location = buttonsInfo.location,\n            location = void 0 === _buttonsInfo$location ? \"after\" : _buttonsInfo$location;\n\n        if (location === targetLocation) {\n          _this2._createButton(buttonsInfo).render(getButtonsContainer());\n        }\n      });\n      return $buttonsContainer;\n    }\n  }, {\n    key: \"clean\",\n    value: function value() {\n      this.buttons.forEach(function (button) {\n        return button.dispose();\n      });\n      this.buttons = [];\n    }\n  }, {\n    key: \"getButton\",\n    value: function value(buttonName) {\n      var button = (0, _array.find)(this.buttons, function (_ref2) {\n        var name = _ref2.name;\n        return name === buttonName;\n      });\n      return button && button.instance;\n    }\n  }, {\n    key: \"renderAfterButtons\",\n    value: function value(buttons, $container) {\n      return this._renderButtons(buttons, $container, \"after\");\n    }\n  }, {\n    key: \"renderBeforeButtons\",\n    value: function value(buttons, $container) {\n      return this._renderButtons(buttons, $container, \"before\");\n    }\n  }, {\n    key: \"updateButtons\",\n    value: function value(names) {\n      this.buttons.forEach(function (button) {\n        if (!names || names.indexOf(button.name) !== -1) {\n          button.update();\n        }\n      });\n    }\n  }]);\n\n  return TextEditorButtonCollection;\n}();\n\nexports.default = TextEditorButtonCollection;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/text_box/texteditor_button_collection/index.js"],"names":["Object","value","exports","_renderer","require","_renderer2","_interopRequireDefault","_custom","_custom2","_extend","_array","_ui","_ui2","obj","instance","i","props","descriptor","_defineProperties","Constructor","Symbol","_typeof","TEXTEDITOR_BUTTONS_CONTAINER_CLASS","checkButtonType","Array","checkLocation","location","buttonInfo","checkNameIsDefined","checkNameIsString","name","existingNames","info","TextEditorButtonCollection","_classCallCheck","_createClass","key","_this","names","isStringButton","checkButtonInfo","isDefaultButton","isPredefinedButtonName","button","defaultButtonInfo","_ref","checkNamesUniqueness","Ctor","default","buttonsInfo","options","_this2","$buttonsContainer","buttons","getButtonsContainer","$container","_buttonsInfo$location","_ref2"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/text_box/texteditor_button_collection/index.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.default = void 0;\r\nvar _renderer = require(\"../../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _custom = require(\"./custom\");\r\nvar _custom2 = _interopRequireDefault(_custom);\r\nvar _extend = require(\"../../../core/utils/extend\");\r\nvar _array = require(\"../../../core/utils/array\");\r\nvar _ui = require(\"../../widget/ui.errors\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nvar TEXTEDITOR_BUTTONS_CONTAINER_CLASS = \"dx-texteditor-buttons-container\";\r\n\r\nfunction checkButtonInfo(buttonInfo) {\r\n    var checkButtonType = function() {\r\n        if (!buttonInfo || \"object\" !== _typeof(buttonInfo) || Array.isArray(buttonInfo)) {\r\n            throw _ui2.default.Error(\"E1053\")\r\n        }\r\n    };\r\n    var checkLocation = function() {\r\n        var location = buttonInfo.location;\r\n        if (\"location\" in buttonInfo && \"after\" !== location && \"before\" !== location) {\r\n            buttonInfo.location = \"after\"\r\n        }\r\n    };\r\n    var checkNameIsDefined = function() {\r\n        if (!(\"name\" in buttonInfo)) {\r\n            throw _ui2.default.Error(\"E1054\")\r\n        }\r\n    };\r\n    var checkNameIsString = function() {\r\n        var name = buttonInfo.name;\r\n        if (\"string\" !== typeof name) {\r\n            throw _ui2.default.Error(\"E1055\")\r\n        }\r\n    };\r\n    checkButtonType();\r\n    checkNameIsDefined();\r\n    checkNameIsString();\r\n    checkLocation()\r\n}\r\n\r\nfunction checkNamesUniqueness(existingNames, newName) {\r\n    if (existingNames.indexOf(newName) !== -1) {\r\n        throw _ui2.default.Error(\"E1055\", newName)\r\n    }\r\n    existingNames.push(newName)\r\n}\r\n\r\nfunction isPredefinedButtonName(name, predefinedButtonsInfo) {\r\n    return !!(0, _array.find)(predefinedButtonsInfo, function(info) {\r\n        return info.name === name\r\n    })\r\n}\r\nvar TextEditorButtonCollection = function() {\r\n    function TextEditorButtonCollection(editor, defaultButtonsInfo) {\r\n        _classCallCheck(this, TextEditorButtonCollection);\r\n        this.buttons = [];\r\n        this.defaultButtonsInfo = defaultButtonsInfo;\r\n        this.editor = editor\r\n    }\r\n    _createClass(TextEditorButtonCollection, [{\r\n        key: \"_compileButtonInfo\",\r\n        value: function(buttons) {\r\n            var _this = this;\r\n            var names = [];\r\n            return buttons.map(function(button) {\r\n                var isStringButton = \"string\" === typeof button;\r\n                if (!isStringButton) {\r\n                    checkButtonInfo(button)\r\n                }\r\n                var isDefaultButton = isStringButton || isPredefinedButtonName(button.name, _this.defaultButtonsInfo);\r\n                if (isDefaultButton) {\r\n                    var defaultButtonInfo = (0, _array.find)(_this.defaultButtonsInfo, function(_ref) {\r\n                        var name = _ref.name;\r\n                        return name === button || name === button.name\r\n                    });\r\n                    if (!defaultButtonInfo) {\r\n                        throw _ui2.default.Error(\"E1056\", _this.editor.NAME, button)\r\n                    }\r\n                    checkNamesUniqueness(names, button);\r\n                    return defaultButtonInfo\r\n                } else {\r\n                    var name = button.name;\r\n                    checkNamesUniqueness(names, name);\r\n                    return (0, _extend.extend)(button, {\r\n                        Ctor: _custom2.default\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_createButton\",\r\n        value: function(buttonsInfo) {\r\n            var Ctor = buttonsInfo.Ctor,\r\n                options = buttonsInfo.options,\r\n                name = buttonsInfo.name;\r\n            var button = new Ctor(name, this.editor, options);\r\n            this.buttons.push(button);\r\n            return button\r\n        }\r\n    }, {\r\n        key: \"_renderButtons\",\r\n        value: function(buttons, $container, targetLocation) {\r\n            var _this2 = this;\r\n            var $buttonsContainer = null;\r\n            var buttonsInfo = buttons ? this._compileButtonInfo(buttons) : this.defaultButtonsInfo;\r\n            var getButtonsContainer = function() {\r\n                $buttonsContainer = $buttonsContainer || (0, _renderer2.default)(\"<div>\").addClass(TEXTEDITOR_BUTTONS_CONTAINER_CLASS);\r\n                \"before\" === targetLocation ? $container.prepend($buttonsContainer) : $container.append($buttonsContainer);\r\n                return $buttonsContainer\r\n            };\r\n            buttonsInfo.forEach(function(buttonsInfo) {\r\n                var _buttonsInfo$location = buttonsInfo.location,\r\n                    location = void 0 === _buttonsInfo$location ? \"after\" : _buttonsInfo$location;\r\n                if (location === targetLocation) {\r\n                    _this2._createButton(buttonsInfo).render(getButtonsContainer())\r\n                }\r\n            });\r\n            return $buttonsContainer\r\n        }\r\n    }, {\r\n        key: \"clean\",\r\n        value: function() {\r\n            this.buttons.forEach(function(button) {\r\n                return button.dispose()\r\n            });\r\n            this.buttons = []\r\n        }\r\n    }, {\r\n        key: \"getButton\",\r\n        value: function(buttonName) {\r\n            var button = (0, _array.find)(this.buttons, function(_ref2) {\r\n                var name = _ref2.name;\r\n                return name === buttonName\r\n            });\r\n            return button && button.instance\r\n        }\r\n    }, {\r\n        key: \"renderAfterButtons\",\r\n        value: function(buttons, $container) {\r\n            return this._renderButtons(buttons, $container, \"after\")\r\n        }\r\n    }, {\r\n        key: \"renderBeforeButtons\",\r\n        value: function(buttons, $container) {\r\n            return this._renderButtons(buttons, $container, \"before\")\r\n        }\r\n    }, {\r\n        key: \"updateButtons\",\r\n        value: function(names) {\r\n            this.buttons.forEach(function(button) {\r\n                if (!names || names.indexOf(button.name) !== -1) {\r\n                    button.update()\r\n                }\r\n            })\r\n        }\r\n    }]);\r\n    return TextEditorButtonCollection\r\n}();\r\nexports.default = TextEditorButtonCollection;\r\n"]},"metadata":{},"sourceType":"module"}