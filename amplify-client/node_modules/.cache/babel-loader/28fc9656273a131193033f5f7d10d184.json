{"ast":null,"code":"/**\r\n * DevExtreme (viz/axes/datetime_breaks.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar dateUtils = require(\"../../core/utils/date\");\n\nvar days = [0, 1, 2, 3, 4, 5, 6];\n\nfunction getWeekendDays(workdays) {\n  return days.filter(function (day) {\n    return !workdays.some(function (workDay) {\n      return workDay === day;\n    });\n  });\n}\n\nfunction getNextDayIndex(dayIndex) {\n  return (dayIndex + 1) % 7;\n}\n\nfunction dayBetweenWeekend(weekend, day) {\n  var start = weekend.start;\n  var end = weekend.end;\n\n  while (start !== end) {\n    if (start === day) {\n      return true;\n    }\n\n    start = getNextDayIndex(start);\n  }\n\n  return false;\n}\n\nfunction getDaysDistance(day, end) {\n  var length = 0;\n\n  while (day !== end) {\n    day = getNextDayIndex(day);\n    length++;\n  }\n\n  return length;\n}\n\nfunction separateBreak(scaleBreak, day) {\n  var result = [];\n  var dayEnd = new Date(day);\n  dayEnd.setDate(day.getDate() + 1);\n\n  if (day > scaleBreak.from) {\n    result.push({\n      from: scaleBreak.from,\n      to: day\n    });\n  }\n\n  if (dayEnd < scaleBreak.to) {\n    result.push({\n      from: dayEnd,\n      to: scaleBreak.to\n    });\n  }\n\n  return result;\n}\n\nfunction getWeekEndDayIndices(workDays) {\n  var indices = getWeekendDays(workDays);\n\n  if (indices.length < 7) {\n    while (getNextDayIndex(indices[indices.length - 1]) === indices[0]) {\n      indices.unshift(indices.pop());\n    }\n  }\n\n  return indices;\n}\n\nfunction generateDateBreaksForWeekend(min, max, weekendDayIndices) {\n  var day = min.getDate();\n  var breaks = [];\n  var weekends = weekendDayIndices.reduce(function (obj, day) {\n    var currentWeekEnd = obj[1];\n\n    if (void 0 === currentWeekEnd.start) {\n      currentWeekEnd = {\n        start: day,\n        end: getNextDayIndex(day)\n      };\n      obj[0].push(currentWeekEnd);\n      return [obj[0], currentWeekEnd];\n    } else {\n      if (currentWeekEnd.end === day) {\n        currentWeekEnd.end = getNextDayIndex(day);\n        return obj;\n      }\n    }\n\n    currentWeekEnd = {\n      start: day,\n      end: getNextDayIndex(day)\n    };\n    obj[0].push(currentWeekEnd);\n    return [obj[0], currentWeekEnd];\n  }, [[], {}]);\n  weekends[0].forEach(function (weekend) {\n    var currentDate = new Date(min);\n    currentDate = dateUtils.trimTime(currentDate);\n\n    while (currentDate < max) {\n      day = currentDate.getDay();\n      var date = currentDate.getDate();\n\n      if (dayBetweenWeekend(weekend, day)) {\n        var from = new Date(currentDate);\n        var to;\n        currentDate.setDate(date + getDaysDistance(day, weekend.end));\n        to = new Date(currentDate);\n        breaks.push({\n          from: from,\n          to: to\n        });\n      }\n\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n  });\n  return breaks;\n}\n\nfunction excludeWorkDaysFromWeekEndBreaks(breaks, exactWorkDays) {\n  var result = breaks.slice();\n  var i;\n\n  var processWorkDay = function processWorkDay(workday) {\n    workday = dateUtils.trimTime(new Date(workday));\n\n    if (result[i].from <= workday && result[i].to > workday) {\n      var separatedBreak = separateBreak(result[i], workday);\n\n      if (2 === separatedBreak.length) {\n        result.splice(i, 1, separatedBreak[0], separatedBreak[1]);\n      } else {\n        if (1 === separatedBreak.length) {\n          result.splice(i, 1, separatedBreak[0]);\n        } else {\n          result.splice(i, 1);\n        }\n      }\n    }\n  };\n\n  for (i = 0; i < result.length; i++) {\n    exactWorkDays.forEach(processWorkDay);\n  }\n\n  return result;\n}\n\nfunction generateBreaksForHolidays(min, max, holidays, weekendDayIndices) {\n  var day;\n\n  var dayInWeekend = function dayInWeekend(dayIndex) {\n    return dayIndex === day;\n  };\n\n  var adjustedMin = dateUtils.trimTime(min);\n  var adjustedMax = dateUtils.trimTime(max);\n  adjustedMax.setDate(max.getDate() + 1);\n  return holidays.reduce(function (breaks, holiday) {\n    var holidayStart;\n    var holidayEnd;\n    holiday = new Date(holiday);\n    day = holiday.getDay();\n\n    if (!weekendDayIndices.some(dayInWeekend) && holiday >= adjustedMin && holiday <= adjustedMax) {\n      holidayStart = dateUtils.trimTime(holiday);\n      holidayEnd = new Date(holidayStart);\n      holidayEnd.setDate(holidayStart.getDate() + 1);\n      breaks.push({\n        from: holidayStart,\n        to: holidayEnd\n      });\n    }\n\n    return breaks;\n  }, []);\n}\n\nfunction calculateGaps(breaks) {\n  return breaks.map(function (b) {\n    return {\n      from: b.from,\n      to: b.to,\n      gapSize: dateUtils.convertMillisecondsToDateUnits(b.to - b.from)\n    };\n  });\n}\n\nexports.generateDateBreaks = function (min, max, workWeek, singleWorkdays, holidays) {\n  var weekendDayIndices = getWeekEndDayIndices(workWeek);\n  var breaks = generateDateBreaksForWeekend(min, max, weekendDayIndices);\n  breaks.push.apply(breaks, generateBreaksForHolidays(min, max, holidays || [], weekendDayIndices));\n  return calculateGaps(excludeWorkDaysFromWeekEndBreaks(breaks, singleWorkdays || []));\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/axes/datetime_breaks.js"],"names":["dateUtils","require","days","workDay","dayIndex","start","weekend","end","getNextDayIndex","length","day","result","dayEnd","scaleBreak","from","to","indices","getWeekendDays","min","breaks","weekends","currentWeekEnd","obj","currentDate","date","dayBetweenWeekend","getDaysDistance","processWorkDay","workday","separatedBreak","separateBreak","i","exactWorkDays","dayInWeekend","adjustedMin","adjustedMax","max","holiday","weekendDayIndices","holidayStart","holidayEnd","b","gapSize","exports","getWeekEndDayIndices","generateDateBreaksForWeekend","generateBreaksForHolidays","holidays","calculateGaps","excludeWorkDaysFromWeekEndBreaks","singleWorkdays"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/axes/datetime_breaks.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar dateUtils = require(\"../../core/utils/date\");\r\nvar days = [0, 1, 2, 3, 4, 5, 6];\r\n\r\nfunction getWeekendDays(workdays) {\r\n    return days.filter(function(day) {\r\n        return !workdays.some(function(workDay) {\r\n            return workDay === day\r\n        })\r\n    })\r\n}\r\n\r\nfunction getNextDayIndex(dayIndex) {\r\n    return (dayIndex + 1) % 7\r\n}\r\n\r\nfunction dayBetweenWeekend(weekend, day) {\r\n    var start = weekend.start;\r\n    var end = weekend.end;\r\n    while (start !== end) {\r\n        if (start === day) {\r\n            return true\r\n        }\r\n        start = getNextDayIndex(start)\r\n    }\r\n    return false\r\n}\r\n\r\nfunction getDaysDistance(day, end) {\r\n    var length = 0;\r\n    while (day !== end) {\r\n        day = getNextDayIndex(day);\r\n        length++\r\n    }\r\n    return length\r\n}\r\n\r\nfunction separateBreak(scaleBreak, day) {\r\n    var result = [];\r\n    var dayEnd = new Date(day);\r\n    dayEnd.setDate(day.getDate() + 1);\r\n    if (day > scaleBreak.from) {\r\n        result.push({\r\n            from: scaleBreak.from,\r\n            to: day\r\n        })\r\n    }\r\n    if (dayEnd < scaleBreak.to) {\r\n        result.push({\r\n            from: dayEnd,\r\n            to: scaleBreak.to\r\n        })\r\n    }\r\n    return result\r\n}\r\n\r\nfunction getWeekEndDayIndices(workDays) {\r\n    var indices = getWeekendDays(workDays);\r\n    if (indices.length < 7) {\r\n        while (getNextDayIndex(indices[indices.length - 1]) === indices[0]) {\r\n            indices.unshift(indices.pop())\r\n        }\r\n    }\r\n    return indices\r\n}\r\n\r\nfunction generateDateBreaksForWeekend(min, max, weekendDayIndices) {\r\n    var day = min.getDate();\r\n    var breaks = [];\r\n    var weekends = weekendDayIndices.reduce(function(obj, day) {\r\n        var currentWeekEnd = obj[1];\r\n        if (void 0 === currentWeekEnd.start) {\r\n            currentWeekEnd = {\r\n                start: day,\r\n                end: getNextDayIndex(day)\r\n            };\r\n            obj[0].push(currentWeekEnd);\r\n            return [obj[0], currentWeekEnd]\r\n        } else {\r\n            if (currentWeekEnd.end === day) {\r\n                currentWeekEnd.end = getNextDayIndex(day);\r\n                return obj\r\n            }\r\n        }\r\n        currentWeekEnd = {\r\n            start: day,\r\n            end: getNextDayIndex(day)\r\n        };\r\n        obj[0].push(currentWeekEnd);\r\n        return [obj[0], currentWeekEnd]\r\n    }, [\r\n        [], {}\r\n    ]);\r\n    weekends[0].forEach(function(weekend) {\r\n        var currentDate = new Date(min);\r\n        currentDate = dateUtils.trimTime(currentDate);\r\n        while (currentDate < max) {\r\n            day = currentDate.getDay();\r\n            var date = currentDate.getDate();\r\n            if (dayBetweenWeekend(weekend, day)) {\r\n                var from = new Date(currentDate);\r\n                var to;\r\n                currentDate.setDate(date + getDaysDistance(day, weekend.end));\r\n                to = new Date(currentDate);\r\n                breaks.push({\r\n                    from: from,\r\n                    to: to\r\n                })\r\n            }\r\n            currentDate.setDate(currentDate.getDate() + 1)\r\n        }\r\n    });\r\n    return breaks\r\n}\r\n\r\nfunction excludeWorkDaysFromWeekEndBreaks(breaks, exactWorkDays) {\r\n    var result = breaks.slice();\r\n    var i;\r\n    var processWorkDay = function(workday) {\r\n        workday = dateUtils.trimTime(new Date(workday));\r\n        if (result[i].from <= workday && result[i].to > workday) {\r\n            var separatedBreak = separateBreak(result[i], workday);\r\n            if (2 === separatedBreak.length) {\r\n                result.splice(i, 1, separatedBreak[0], separatedBreak[1])\r\n            } else {\r\n                if (1 === separatedBreak.length) {\r\n                    result.splice(i, 1, separatedBreak[0])\r\n                } else {\r\n                    result.splice(i, 1)\r\n                }\r\n            }\r\n        }\r\n    };\r\n    for (i = 0; i < result.length; i++) {\r\n        exactWorkDays.forEach(processWorkDay)\r\n    }\r\n    return result\r\n}\r\n\r\nfunction generateBreaksForHolidays(min, max, holidays, weekendDayIndices) {\r\n    var day;\r\n    var dayInWeekend = function(dayIndex) {\r\n        return dayIndex === day\r\n    };\r\n    var adjustedMin = dateUtils.trimTime(min);\r\n    var adjustedMax = dateUtils.trimTime(max);\r\n    adjustedMax.setDate(max.getDate() + 1);\r\n    return holidays.reduce(function(breaks, holiday) {\r\n        var holidayStart;\r\n        var holidayEnd;\r\n        holiday = new Date(holiday);\r\n        day = holiday.getDay();\r\n        if (!weekendDayIndices.some(dayInWeekend) && holiday >= adjustedMin && holiday <= adjustedMax) {\r\n            holidayStart = dateUtils.trimTime(holiday);\r\n            holidayEnd = new Date(holidayStart);\r\n            holidayEnd.setDate(holidayStart.getDate() + 1);\r\n            breaks.push({\r\n                from: holidayStart,\r\n                to: holidayEnd\r\n            })\r\n        }\r\n        return breaks\r\n    }, [])\r\n}\r\n\r\nfunction calculateGaps(breaks) {\r\n    return breaks.map(function(b) {\r\n        return {\r\n            from: b.from,\r\n            to: b.to,\r\n            gapSize: dateUtils.convertMillisecondsToDateUnits(b.to - b.from)\r\n        }\r\n    })\r\n}\r\nexports.generateDateBreaks = function(min, max, workWeek, singleWorkdays, holidays) {\r\n    var weekendDayIndices = getWeekEndDayIndices(workWeek);\r\n    var breaks = generateDateBreaksForWeekend(min, max, weekendDayIndices);\r\n    breaks.push.apply(breaks, generateBreaksForHolidays(min, max, holidays || [], weekendDayIndices));\r\n    return calculateGaps(excludeWorkDaysFromWeekEndBreaks(breaks, singleWorkdays || []))\r\n};\r\n"]},"metadata":{},"sourceType":"module"}