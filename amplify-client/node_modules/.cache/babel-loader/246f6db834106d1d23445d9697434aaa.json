{"ast":null,"code":"/**\r\n * DevExtreme (ui/toolbar.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../core/renderer\");\n\nvar themes = require(\"./themes\");\n\nvar registerComponent = require(\"../core/component_registrator\");\n\nvar grep = require(\"../core/utils/common\").grep;\n\nvar extend = require(\"../core/utils/extend\").extend;\n\nvar arrayUtils = require(\"../core/utils/array\");\n\nvar iteratorUtils = require(\"../core/utils/iterator\");\n\nvar ActionSheetStrategy = require(\"./toolbar/ui.toolbar.strategy.action_sheet\");\n\nvar DropDownMenuStrategy = require(\"./toolbar/ui.toolbar.strategy.drop_down_menu\");\n\nvar ToolbarBase = require(\"./toolbar/ui.toolbar.base\");\n\nvar ChildDefaultTemplate = require(\"../core/templates/child_default_template\").ChildDefaultTemplate;\n\nvar STRATEGIES = {\n  actionSheet: ActionSheetStrategy,\n  dropDownMenu: DropDownMenuStrategy\n};\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\nvar TOOLBAR_AUTO_HIDE_TEXT_CLASS = \"dx-toolbar-text-auto-hide\";\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\nvar Toolbar = ToolbarBase.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      menuItemTemplate: \"menuItem\",\n      submenuType: \"dropDownMenu\",\n      menuContainer: void 0\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    var themeName = themes.current();\n    return this.callBase().concat([{\n      device: function device() {\n        return themes.isIos7(themeName);\n      },\n      options: {\n        submenuType: \"actionSheet\"\n      }\n    }]);\n  },\n  _dimensionChanged: function _dimensionChanged(dimension) {\n    if (\"height\" === dimension) {\n      return;\n    }\n\n    this._menuStrategy.toggleMenuVisibility(false, true);\n\n    this.callBase();\n\n    this._menuStrategy.renderMenuItems();\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n    this._defaultTemplates.actionSheetItem = new ChildDefaultTemplate(\"item\");\n  },\n  _initMarkup: function _initMarkup() {\n    this.callBase();\n\n    this._renderMenu();\n  },\n  _postProcessRenderItems: function _postProcessRenderItems() {\n    this._hideOverflowItems();\n\n    this._menuStrategy._updateMenuVisibility();\n\n    this.callBase();\n\n    this._menuStrategy.renderMenuItems();\n  },\n  _renderItem: function _renderItem(index, item, itemContainer, $after) {\n    var itemElement = this.callBase(index, item, itemContainer, $after);\n\n    if (\"auto\" === item.locateInMenu) {\n      itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n    }\n\n    if (\"dxButton\" === item.widget && \"inMenu\" === item.showText) {\n      itemElement.toggleClass(TOOLBAR_AUTO_HIDE_TEXT_CLASS);\n    }\n\n    return itemElement;\n  },\n  _getItemsWidth: function _getItemsWidth() {\n    return this._getSummaryItemsWidth([this._$beforeSection, this._$centerSection, this._$afterSection]);\n  },\n  _hideOverflowItems: function _hideOverflowItems(elementWidth) {\n    var overflowItems = this.$element().find(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n\n    if (!overflowItems.length) {\n      return;\n    }\n\n    elementWidth = elementWidth || this.$element().width();\n    $(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\n\n    var itemsWidth = this._getItemsWidth();\n\n    while (overflowItems.length && elementWidth < itemsWidth) {\n      var $item = overflowItems.eq(-1);\n      itemsWidth -= $item.outerWidth();\n      $item.addClass(TOOLBAR_HIDDEN_ITEM);\n      overflowItems.splice(-1, 1);\n    }\n  },\n  _getMenuItems: function _getMenuItems() {\n    var that = this;\n    var menuItems = grep(this.option(\"items\") || [], function (item) {\n      return that._isMenuItem(item);\n    });\n\n    var $hiddenItems = this._itemContainer().children(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS + \".\" + TOOLBAR_HIDDEN_ITEM).not(\".dx-state-invisible\");\n\n    this._restoreItems = this._restoreItems || [];\n    var overflowItems = [].slice.call($hiddenItems).map(function (item) {\n      var itemData = that._getItemData(item);\n\n      var $itemContainer = $(item).children();\n      var $itemMarkup = $itemContainer.children();\n      return extend({\n        menuItemTemplate: function menuItemTemplate() {\n          that._restoreItems.push({\n            container: $itemContainer,\n            item: $itemMarkup\n          });\n\n          var $container = $(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n          return $container.append($itemMarkup);\n        }\n      }, itemData);\n    });\n    return arrayUtils.merge(overflowItems, menuItems);\n  },\n  _getToolbarItems: function _getToolbarItems() {\n    var that = this;\n    return grep(this.option(\"items\") || [], function (item) {\n      return !that._isMenuItem(item);\n    });\n  },\n  _renderMenu: function _renderMenu() {\n    this._renderMenuStrategy();\n\n    this._menuStrategy.render();\n  },\n  _renderMenuStrategy: function _renderMenuStrategy() {\n    var strategyName = this.option(\"submenuType\");\n\n    if (this._requireDropDownStrategy()) {\n      strategyName = \"dropDownMenu\";\n    }\n\n    var strategy = STRATEGIES[strategyName];\n\n    if (!(this._menuStrategy && this._menuStrategy.NAME === strategyName)) {\n      this._menuStrategy = new strategy(this);\n    }\n  },\n  _requireDropDownStrategy: function _requireDropDownStrategy() {\n    var items = this.option(\"items\") || [];\n    var result = false;\n    iteratorUtils.each(items, function (index, item) {\n      if (\"auto\" === item.locateInMenu) {\n        result = true;\n      } else {\n        if (\"always\" === item.locateInMenu && item.widget) {\n          result = true;\n        }\n      }\n    });\n    return result;\n  },\n  _arrangeItems: function _arrangeItems() {\n    if (this.$element().is(\":hidden\")) {\n      return;\n    }\n\n    this._$centerSection.css({\n      margin: \"0 auto\",\n      \"float\": \"none\"\n    });\n\n    iteratorUtils.each(this._restoreItems || [], function (_, obj) {\n      $(obj.container).append(obj.item);\n    });\n    this._restoreItems = [];\n    var elementWidth = this.$element().width();\n\n    this._hideOverflowItems(elementWidth);\n\n    this.callBase(elementWidth);\n  },\n  _itemOptionChanged: function _itemOptionChanged(item, property, value) {\n    if (this._isMenuItem(item)) {\n      this._menuStrategy.renderMenuItems();\n    } else {\n      if (this._isToolbarItem(item)) {\n        this.callBase(item, property, value);\n      } else {\n        this.callBase(item, property, value);\n\n        this._menuStrategy.renderMenuItems();\n      }\n    }\n\n    if (\"location\" === property) {\n      this.repaint();\n    }\n  },\n  _isMenuItem: function _isMenuItem(itemData) {\n    return \"menu\" === itemData.location || \"always\" === itemData.locateInMenu;\n  },\n  _isToolbarItem: function _isToolbarItem(itemData) {\n    return void 0 === itemData.location || \"never\" === itemData.locateInMenu;\n  },\n  _optionChanged: function _optionChanged(args) {\n    var name = args.name;\n    var value = args.value;\n\n    switch (name) {\n      case \"submenuType\":\n        this._invalidate();\n\n        break;\n\n      case \"visible\":\n        this.callBase.apply(this, arguments);\n\n        this._menuStrategy.handleToolbarVisibilityChange(value);\n\n        break;\n\n      case \"menuItemTemplate\":\n        this._changeMenuOption(\"itemTemplate\", this._getTemplate(value));\n\n        break;\n\n      case \"onItemClick\":\n        this._changeMenuOption(name, value);\n\n        this.callBase.apply(this, arguments);\n        break;\n\n      case \"menuContainer\":\n        this._changeMenuOption(\"container\", value);\n\n        break;\n\n      default:\n        this.callBase.apply(this, arguments);\n    }\n  },\n  _changeMenuOption: function _changeMenuOption(name, value) {\n    this._menuStrategy.widgetOption(name, value);\n  }\n});\nregisterComponent(\"dxToolbar\", Toolbar);\nmodule.exports = Toolbar;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/toolbar.js"],"names":["$","require","themes","registerComponent","grep","extend","arrayUtils","iteratorUtils","ActionSheetStrategy","DropDownMenuStrategy","ToolbarBase","ChildDefaultTemplate","STRATEGIES","actionSheet","dropDownMenu","TOOLBAR_AUTO_HIDE_ITEM_CLASS","TOOLBAR_AUTO_HIDE_TEXT_CLASS","TOOLBAR_HIDDEN_ITEM","Toolbar","_getDefaultOptions","menuItemTemplate","submenuType","menuContainer","_defaultOptionsRules","themeName","device","options","_dimensionChanged","_initTemplates","_initMarkup","_postProcessRenderItems","_renderItem","itemElement","item","_getItemsWidth","_hideOverflowItems","overflowItems","elementWidth","itemsWidth","$item","_getMenuItems","that","menuItems","$hiddenItems","itemData","$itemContainer","$itemMarkup","container","$container","_getToolbarItems","_renderMenu","_renderMenuStrategy","strategyName","strategy","_requireDropDownStrategy","items","result","_arrangeItems","margin","obj","_itemOptionChanged","_isMenuItem","_isToolbarItem","_optionChanged","name","args","value","_changeMenuOption","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/toolbar.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../core/renderer\");\r\nvar themes = require(\"./themes\");\r\nvar registerComponent = require(\"../core/component_registrator\");\r\nvar grep = require(\"../core/utils/common\").grep;\r\nvar extend = require(\"../core/utils/extend\").extend;\r\nvar arrayUtils = require(\"../core/utils/array\");\r\nvar iteratorUtils = require(\"../core/utils/iterator\");\r\nvar ActionSheetStrategy = require(\"./toolbar/ui.toolbar.strategy.action_sheet\");\r\nvar DropDownMenuStrategy = require(\"./toolbar/ui.toolbar.strategy.drop_down_menu\");\r\nvar ToolbarBase = require(\"./toolbar/ui.toolbar.base\");\r\nvar ChildDefaultTemplate = require(\"../core/templates/child_default_template\").ChildDefaultTemplate;\r\nvar STRATEGIES = {\r\n    actionSheet: ActionSheetStrategy,\r\n    dropDownMenu: DropDownMenuStrategy\r\n};\r\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\r\nvar TOOLBAR_AUTO_HIDE_TEXT_CLASS = \"dx-toolbar-text-auto-hide\";\r\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\r\nvar Toolbar = ToolbarBase.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            menuItemTemplate: \"menuItem\",\r\n            submenuType: \"dropDownMenu\",\r\n            menuContainer: void 0\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = themes.current();\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return themes.isIos7(themeName)\r\n            },\r\n            options: {\r\n                submenuType: \"actionSheet\"\r\n            }\r\n        }])\r\n    },\r\n    _dimensionChanged: function(dimension) {\r\n        if (\"height\" === dimension) {\r\n            return\r\n        }\r\n        this._menuStrategy.toggleMenuVisibility(false, true);\r\n        this.callBase();\r\n        this._menuStrategy.renderMenuItems()\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._defaultTemplates.actionSheetItem = new ChildDefaultTemplate(\"item\")\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._renderMenu()\r\n    },\r\n    _postProcessRenderItems: function() {\r\n        this._hideOverflowItems();\r\n        this._menuStrategy._updateMenuVisibility();\r\n        this.callBase();\r\n        this._menuStrategy.renderMenuItems()\r\n    },\r\n    _renderItem: function(index, item, itemContainer, $after) {\r\n        var itemElement = this.callBase(index, item, itemContainer, $after);\r\n        if (\"auto\" === item.locateInMenu) {\r\n            itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS)\r\n        }\r\n        if (\"dxButton\" === item.widget && \"inMenu\" === item.showText) {\r\n            itemElement.toggleClass(TOOLBAR_AUTO_HIDE_TEXT_CLASS)\r\n        }\r\n        return itemElement\r\n    },\r\n    _getItemsWidth: function() {\r\n        return this._getSummaryItemsWidth([this._$beforeSection, this._$centerSection, this._$afterSection])\r\n    },\r\n    _hideOverflowItems: function(elementWidth) {\r\n        var overflowItems = this.$element().find(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n        if (!overflowItems.length) {\r\n            return\r\n        }\r\n        elementWidth = elementWidth || this.$element().width();\r\n        $(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\r\n        var itemsWidth = this._getItemsWidth();\r\n        while (overflowItems.length && elementWidth < itemsWidth) {\r\n            var $item = overflowItems.eq(-1);\r\n            itemsWidth -= $item.outerWidth();\r\n            $item.addClass(TOOLBAR_HIDDEN_ITEM);\r\n            overflowItems.splice(-1, 1)\r\n        }\r\n    },\r\n    _getMenuItems: function() {\r\n        var that = this;\r\n        var menuItems = grep(this.option(\"items\") || [], function(item) {\r\n            return that._isMenuItem(item)\r\n        });\r\n        var $hiddenItems = this._itemContainer().children(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS + \".\" + TOOLBAR_HIDDEN_ITEM).not(\".dx-state-invisible\");\r\n        this._restoreItems = this._restoreItems || [];\r\n        var overflowItems = [].slice.call($hiddenItems).map(function(item) {\r\n            var itemData = that._getItemData(item);\r\n            var $itemContainer = $(item).children();\r\n            var $itemMarkup = $itemContainer.children();\r\n            return extend({\r\n                menuItemTemplate: function() {\r\n                    that._restoreItems.push({\r\n                        container: $itemContainer,\r\n                        item: $itemMarkup\r\n                    });\r\n                    var $container = $(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n                    return $container.append($itemMarkup)\r\n                }\r\n            }, itemData)\r\n        });\r\n        return arrayUtils.merge(overflowItems, menuItems)\r\n    },\r\n    _getToolbarItems: function() {\r\n        var that = this;\r\n        return grep(this.option(\"items\") || [], function(item) {\r\n            return !that._isMenuItem(item)\r\n        })\r\n    },\r\n    _renderMenu: function() {\r\n        this._renderMenuStrategy();\r\n        this._menuStrategy.render()\r\n    },\r\n    _renderMenuStrategy: function() {\r\n        var strategyName = this.option(\"submenuType\");\r\n        if (this._requireDropDownStrategy()) {\r\n            strategyName = \"dropDownMenu\"\r\n        }\r\n        var strategy = STRATEGIES[strategyName];\r\n        if (!(this._menuStrategy && this._menuStrategy.NAME === strategyName)) {\r\n            this._menuStrategy = new strategy(this)\r\n        }\r\n    },\r\n    _requireDropDownStrategy: function() {\r\n        var items = this.option(\"items\") || [];\r\n        var result = false;\r\n        iteratorUtils.each(items, function(index, item) {\r\n            if (\"auto\" === item.locateInMenu) {\r\n                result = true\r\n            } else {\r\n                if (\"always\" === item.locateInMenu && item.widget) {\r\n                    result = true\r\n                }\r\n            }\r\n        });\r\n        return result\r\n    },\r\n    _arrangeItems: function() {\r\n        if (this.$element().is(\":hidden\")) {\r\n            return\r\n        }\r\n        this._$centerSection.css({\r\n            margin: \"0 auto\",\r\n            \"float\": \"none\"\r\n        });\r\n        iteratorUtils.each(this._restoreItems || [], function(_, obj) {\r\n            $(obj.container).append(obj.item)\r\n        });\r\n        this._restoreItems = [];\r\n        var elementWidth = this.$element().width();\r\n        this._hideOverflowItems(elementWidth);\r\n        this.callBase(elementWidth)\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        if (this._isMenuItem(item)) {\r\n            this._menuStrategy.renderMenuItems()\r\n        } else {\r\n            if (this._isToolbarItem(item)) {\r\n                this.callBase(item, property, value)\r\n            } else {\r\n                this.callBase(item, property, value);\r\n                this._menuStrategy.renderMenuItems()\r\n            }\r\n        }\r\n        if (\"location\" === property) {\r\n            this.repaint()\r\n        }\r\n    },\r\n    _isMenuItem: function(itemData) {\r\n        return \"menu\" === itemData.location || \"always\" === itemData.locateInMenu\r\n    },\r\n    _isToolbarItem: function(itemData) {\r\n        return void 0 === itemData.location || \"never\" === itemData.locateInMenu\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        var value = args.value;\r\n        switch (name) {\r\n            case \"submenuType\":\r\n                this._invalidate();\r\n                break;\r\n            case \"visible\":\r\n                this.callBase.apply(this, arguments);\r\n                this._menuStrategy.handleToolbarVisibilityChange(value);\r\n                break;\r\n            case \"menuItemTemplate\":\r\n                this._changeMenuOption(\"itemTemplate\", this._getTemplate(value));\r\n                break;\r\n            case \"onItemClick\":\r\n                this._changeMenuOption(name, value);\r\n                this.callBase.apply(this, arguments);\r\n                break;\r\n            case \"menuContainer\":\r\n                this._changeMenuOption(\"container\", value);\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _changeMenuOption: function(name, value) {\r\n        this._menuStrategy.widgetOption(name, value)\r\n    }\r\n});\r\nregisterComponent(\"dxToolbar\", Toolbar);\r\nmodule.exports = Toolbar;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"module"}