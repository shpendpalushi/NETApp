{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/workspaces/ui.scheduler.work_space.grouped.strategy.vertical.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar GroupedStrategy = require(\"./ui.scheduler.work_space.grouped.strategy\");\n\nvar VERTICAL_GROUPED_ATTR = \"dx-group-column-count\";\nvar DATE_HEADER_OFFSET = 10;\nvar WORK_SPACE_BORDER = 1;\nvar VerticalGroupedStrategy = GroupedStrategy.inherit({\n  prepareCellIndexes: function prepareCellIndexes(cellCoordinates, groupIndex, inAllDayRow) {\n    var rowIndex = cellCoordinates.rowIndex + groupIndex * this._workSpace._getRowCount();\n\n    if (this._workSpace.supportAllDayRow() && this._workSpace.option(\"showAllDayPanel\")) {\n      rowIndex += groupIndex;\n\n      if (!inAllDayRow) {\n        rowIndex += 1;\n      }\n    }\n\n    return {\n      rowIndex: rowIndex,\n      cellIndex: cellCoordinates.cellIndex\n    };\n  },\n  calculateCellIndex: function calculateCellIndex(rowIndex, cellIndex) {\n    rowIndex %= this._workSpace._getRowCount();\n    return this._workSpace._getRowCount() * cellIndex + rowIndex;\n  },\n  getGroupIndex: function getGroupIndex(rowIndex, cellIndex) {\n    return Math.floor(rowIndex / this._workSpace._getRowCount());\n  },\n  calculateHeaderCellRepeatCount: function calculateHeaderCellRepeatCount() {\n    return 1;\n  },\n  insertAllDayRowsIntoDateTable: function insertAllDayRowsIntoDateTable() {\n    return this._workSpace.option(\"showAllDayPanel\");\n  },\n  getTotalCellCount: function getTotalCellCount(groupCount) {\n    return this._workSpace._getCellCount();\n  },\n  getTotalRowCount: function getTotalRowCount() {\n    return this._workSpace._getRowCount() * this._workSpace._getGroupCount();\n  },\n  addAdditionalGroupCellClasses: function addAdditionalGroupCellClasses(cellClass, index, i, j) {\n    cellClass = this._addLastGroupCellClass(cellClass, i + 1);\n    return this._addFirstGroupCellClass(cellClass, i + 1);\n  },\n  _addLastGroupCellClass: function _addLastGroupCellClass(cellClass, index) {\n    if (index % this._workSpace._getRowCount() === 0) {\n      return cellClass + \" \" + this.getLastGroupCellClass();\n    }\n\n    return cellClass;\n  },\n  _addFirstGroupCellClass: function _addFirstGroupCellClass(cellClass, index) {\n    if ((index - 1) % this._workSpace._getRowCount() === 0) {\n      return cellClass + \" \" + this.getFirstGroupCellClass();\n    }\n\n    return cellClass;\n  },\n  getHorizontalMax: function getHorizontalMax(groupIndex) {\n    return this._workSpace.getMaxAllowedPosition()[0];\n  },\n  getVerticalMax: function getVerticalMax(groupIndex) {\n    var maxAllowedPosition = this._workSpace.getMaxAllowedVerticalPosition()[groupIndex];\n\n    maxAllowedPosition += this._getOffsetByAllDayPanel(groupIndex);\n    return maxAllowedPosition;\n  },\n  _getOffsetByAllDayPanel: function _getOffsetByAllDayPanel(groupIndex) {\n    var result = 0;\n\n    if (this._workSpace.supportAllDayRow() && this._workSpace.option(\"showAllDayPanel\")) {\n      result = this._workSpace.getCellHeight() * (groupIndex + 1);\n    }\n\n    return result;\n  },\n  _getGroupTop: function _getGroupTop(groupIndex) {\n    return this._workSpace.getMaxAllowedVerticalPosition()[groupIndex] - this._workSpace.getCellHeight() * this._workSpace._getRowCount();\n  },\n  calculateTimeCellRepeatCount: function calculateTimeCellRepeatCount() {\n    return this._workSpace._getGroupCount() || 1;\n  },\n  getWorkSpaceMinWidth: function getWorkSpaceMinWidth() {\n    var minWidth = this._workSpace._getWorkSpaceWidth();\n\n    var workspaceContainerWidth = this._workSpace.$element().get(0).getBoundingClientRect().width - this._workSpace.getTimePanelWidth() - this._workSpace.getGroupTableWidth() - 2 * WORK_SPACE_BORDER;\n\n    if (minWidth < workspaceContainerWidth) {\n      minWidth = workspaceContainerWidth;\n    }\n\n    return minWidth;\n  },\n  getAllDayOffset: function getAllDayOffset() {\n    return 0;\n  },\n  getAllDayTableHeight: function getAllDayTableHeight() {\n    return 0;\n  },\n  getGroupCountAttr: function getGroupCountAttr() {\n    return {\n      attr: VERTICAL_GROUPED_ATTR,\n      count: this._workSpace.option(\"groups\") && this._workSpace.option(\"groups\").length\n    };\n  },\n  getLeftOffset: function getLeftOffset() {\n    return this._workSpace.getTimePanelWidth() + this._workSpace.getGroupTableWidth();\n  },\n  getGroupBoundsOffset: function getGroupBoundsOffset(cellCount, $cells, cellWidth, coordinates) {\n    var groupIndex = coordinates.groupIndex;\n    var startOffset = $cells.eq(0).offset().left;\n    var endOffset = $cells.eq(cellCount - 1).offset().left + cellWidth;\n\n    var dayHeight = this._workSpace._calculateDayDuration() / this._workSpace.option(\"hoursInterval\") * this._workSpace.getCellHeight();\n\n    var scrollTop = this.getScrollableScrollTop();\n    var topOffset = groupIndex * dayHeight + this._workSpace._$thead.get(0).getBoundingClientRect().height + this._workSpace.invoke(\"getHeaderHeight\") + DATE_HEADER_OFFSET - scrollTop;\n\n    if (this._workSpace.option(\"showAllDayPanel\") && this._workSpace.supportAllDayRow()) {\n      topOffset += this._workSpace.getCellHeight() * (groupIndex + 1);\n    }\n\n    var bottomOffset = topOffset + dayHeight;\n    return {\n      left: startOffset,\n      right: endOffset,\n      top: topOffset,\n      bottom: bottomOffset\n    };\n  },\n  shiftIndicator: function shiftIndicator($indicator, height, rtlOffset, i) {\n    var offset = this._workSpace.getIndicatorOffset(0);\n\n    var tableOffset = this._workSpace.option(\"crossScrollingEnabled\") ? 0 : this._workSpace.getGroupTableWidth();\n    var horizontalOffset = rtlOffset ? rtlOffset - offset : offset;\n    var verticalOffset = this._workSpace._getRowCount() * this._workSpace.getCellHeight() * i;\n\n    if (this._workSpace.supportAllDayRow() && this._workSpace.option(\"showAllDayPanel\")) {\n      verticalOffset += this._workSpace.getAllDayHeight() * (i + 1);\n    }\n\n    $indicator.css(\"left\", horizontalOffset + tableOffset);\n    $indicator.css(\"top\", height + verticalOffset);\n  },\n  getShaderOffset: function getShaderOffset(i, width) {\n    var offset = this._workSpace.option(\"crossScrollingEnabled\") ? 0 : this._workSpace.getGroupTableWidth();\n    return this._workSpace.option(\"rtlEnabled\") ? this._$container.get(0).getBoundingClientRect().width - offset - this._workSpace.getWorkSpaceLeftOffset() - width : offset;\n  },\n  getShaderTopOffset: function getShaderTopOffset(i) {\n    return 0;\n  },\n  getShaderHeight: function getShaderHeight() {\n    var height = this._workSpace.getIndicationHeight();\n\n    if (this._workSpace.supportAllDayRow() && this._workSpace.option(\"showAllDayPanel\")) {\n      height += this._workSpace.getCellHeight();\n    }\n\n    return height;\n  },\n  getShaderMaxHeight: function getShaderMaxHeight() {\n    var height = this._workSpace._getRowCount() * this._workSpace.getCellHeight();\n\n    if (this._workSpace.supportAllDayRow() && this._workSpace.option(\"showAllDayPanel\")) {\n      height += this._workSpace.getCellHeight();\n    }\n\n    return height;\n  },\n  getShaderWidth: function getShaderWidth(i) {\n    return this._workSpace.getIndicationWidth(0);\n  },\n  getScrollableScrollTop: function getScrollableScrollTop(allDay) {\n    return this._workSpace.getScrollable().scrollTop();\n  }\n});\nmodule.exports = VerticalGroupedStrategy;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/scheduler/workspaces/ui.scheduler.work_space.grouped.strategy.vertical.js"],"names":["GroupedStrategy","require","VERTICAL_GROUPED_ATTR","DATE_HEADER_OFFSET","WORK_SPACE_BORDER","VerticalGroupedStrategy","prepareCellIndexes","rowIndex","cellCoordinates","groupIndex","cellIndex","calculateCellIndex","getGroupIndex","Math","calculateHeaderCellRepeatCount","insertAllDayRowsIntoDateTable","getTotalCellCount","getTotalRowCount","addAdditionalGroupCellClasses","cellClass","i","_addLastGroupCellClass","index","_addFirstGroupCellClass","getHorizontalMax","getVerticalMax","maxAllowedPosition","_getOffsetByAllDayPanel","result","_getGroupTop","calculateTimeCellRepeatCount","getWorkSpaceMinWidth","minWidth","workspaceContainerWidth","getAllDayOffset","getAllDayTableHeight","getGroupCountAttr","attr","count","length","getLeftOffset","getGroupBoundsOffset","coordinates","startOffset","$cells","endOffset","cellCount","dayHeight","scrollTop","topOffset","bottomOffset","left","right","top","bottom","shiftIndicator","offset","tableOffset","horizontalOffset","rtlOffset","verticalOffset","$indicator","height","getShaderOffset","getShaderTopOffset","getShaderHeight","getShaderMaxHeight","getShaderWidth","getScrollableScrollTop","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/workspaces/ui.scheduler.work_space.grouped.strategy.vertical.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar GroupedStrategy = require(\"./ui.scheduler.work_space.grouped.strategy\");\r\nvar VERTICAL_GROUPED_ATTR = \"dx-group-column-count\";\r\nvar DATE_HEADER_OFFSET = 10;\r\nvar WORK_SPACE_BORDER = 1;\r\nvar VerticalGroupedStrategy = GroupedStrategy.inherit({\r\n    prepareCellIndexes: function(cellCoordinates, groupIndex, inAllDayRow) {\r\n        var rowIndex = cellCoordinates.rowIndex + groupIndex * this._workSpace._getRowCount();\r\n        if (this._workSpace.supportAllDayRow() && this._workSpace.option(\"showAllDayPanel\")) {\r\n            rowIndex += groupIndex;\r\n            if (!inAllDayRow) {\r\n                rowIndex += 1\r\n            }\r\n        }\r\n        return {\r\n            rowIndex: rowIndex,\r\n            cellIndex: cellCoordinates.cellIndex\r\n        }\r\n    },\r\n    calculateCellIndex: function(rowIndex, cellIndex) {\r\n        rowIndex %= this._workSpace._getRowCount();\r\n        return this._workSpace._getRowCount() * cellIndex + rowIndex\r\n    },\r\n    getGroupIndex: function(rowIndex, cellIndex) {\r\n        return Math.floor(rowIndex / this._workSpace._getRowCount())\r\n    },\r\n    calculateHeaderCellRepeatCount: function() {\r\n        return 1\r\n    },\r\n    insertAllDayRowsIntoDateTable: function() {\r\n        return this._workSpace.option(\"showAllDayPanel\")\r\n    },\r\n    getTotalCellCount: function(groupCount) {\r\n        return this._workSpace._getCellCount()\r\n    },\r\n    getTotalRowCount: function() {\r\n        return this._workSpace._getRowCount() * this._workSpace._getGroupCount()\r\n    },\r\n    addAdditionalGroupCellClasses: function(cellClass, index, i, j) {\r\n        cellClass = this._addLastGroupCellClass(cellClass, i + 1);\r\n        return this._addFirstGroupCellClass(cellClass, i + 1)\r\n    },\r\n    _addLastGroupCellClass: function(cellClass, index) {\r\n        if (index % this._workSpace._getRowCount() === 0) {\r\n            return cellClass + \" \" + this.getLastGroupCellClass()\r\n        }\r\n        return cellClass\r\n    },\r\n    _addFirstGroupCellClass: function(cellClass, index) {\r\n        if ((index - 1) % this._workSpace._getRowCount() === 0) {\r\n            return cellClass + \" \" + this.getFirstGroupCellClass()\r\n        }\r\n        return cellClass\r\n    },\r\n    getHorizontalMax: function(groupIndex) {\r\n        return this._workSpace.getMaxAllowedPosition()[0]\r\n    },\r\n    getVerticalMax: function(groupIndex) {\r\n        var maxAllowedPosition = this._workSpace.getMaxAllowedVerticalPosition()[groupIndex];\r\n        maxAllowedPosition += this._getOffsetByAllDayPanel(groupIndex);\r\n        return maxAllowedPosition\r\n    },\r\n    _getOffsetByAllDayPanel: function(groupIndex) {\r\n        var result = 0;\r\n        if (this._workSpace.supportAllDayRow() && this._workSpace.option(\"showAllDayPanel\")) {\r\n            result = this._workSpace.getCellHeight() * (groupIndex + 1)\r\n        }\r\n        return result\r\n    },\r\n    _getGroupTop: function(groupIndex) {\r\n        return this._workSpace.getMaxAllowedVerticalPosition()[groupIndex] - this._workSpace.getCellHeight() * this._workSpace._getRowCount()\r\n    },\r\n    calculateTimeCellRepeatCount: function() {\r\n        return this._workSpace._getGroupCount() || 1\r\n    },\r\n    getWorkSpaceMinWidth: function() {\r\n        var minWidth = this._workSpace._getWorkSpaceWidth();\r\n        var workspaceContainerWidth = this._workSpace.$element().get(0).getBoundingClientRect().width - this._workSpace.getTimePanelWidth() - this._workSpace.getGroupTableWidth() - 2 * WORK_SPACE_BORDER;\r\n        if (minWidth < workspaceContainerWidth) {\r\n            minWidth = workspaceContainerWidth\r\n        }\r\n        return minWidth\r\n    },\r\n    getAllDayOffset: function() {\r\n        return 0\r\n    },\r\n    getAllDayTableHeight: function() {\r\n        return 0\r\n    },\r\n    getGroupCountAttr: function() {\r\n        return {\r\n            attr: VERTICAL_GROUPED_ATTR,\r\n            count: this._workSpace.option(\"groups\") && this._workSpace.option(\"groups\").length\r\n        }\r\n    },\r\n    getLeftOffset: function() {\r\n        return this._workSpace.getTimePanelWidth() + this._workSpace.getGroupTableWidth()\r\n    },\r\n    getGroupBoundsOffset: function(cellCount, $cells, cellWidth, coordinates) {\r\n        var groupIndex = coordinates.groupIndex;\r\n        var startOffset = $cells.eq(0).offset().left;\r\n        var endOffset = $cells.eq(cellCount - 1).offset().left + cellWidth;\r\n        var dayHeight = this._workSpace._calculateDayDuration() / this._workSpace.option(\"hoursInterval\") * this._workSpace.getCellHeight();\r\n        var scrollTop = this.getScrollableScrollTop();\r\n        var topOffset = groupIndex * dayHeight + this._workSpace._$thead.get(0).getBoundingClientRect().height + this._workSpace.invoke(\"getHeaderHeight\") + DATE_HEADER_OFFSET - scrollTop;\r\n        if (this._workSpace.option(\"showAllDayPanel\") && this._workSpace.supportAllDayRow()) {\r\n            topOffset += this._workSpace.getCellHeight() * (groupIndex + 1)\r\n        }\r\n        var bottomOffset = topOffset + dayHeight;\r\n        return {\r\n            left: startOffset,\r\n            right: endOffset,\r\n            top: topOffset,\r\n            bottom: bottomOffset\r\n        }\r\n    },\r\n    shiftIndicator: function($indicator, height, rtlOffset, i) {\r\n        var offset = this._workSpace.getIndicatorOffset(0);\r\n        var tableOffset = this._workSpace.option(\"crossScrollingEnabled\") ? 0 : this._workSpace.getGroupTableWidth();\r\n        var horizontalOffset = rtlOffset ? rtlOffset - offset : offset;\r\n        var verticalOffset = this._workSpace._getRowCount() * this._workSpace.getCellHeight() * i;\r\n        if (this._workSpace.supportAllDayRow() && this._workSpace.option(\"showAllDayPanel\")) {\r\n            verticalOffset += this._workSpace.getAllDayHeight() * (i + 1)\r\n        }\r\n        $indicator.css(\"left\", horizontalOffset + tableOffset);\r\n        $indicator.css(\"top\", height + verticalOffset)\r\n    },\r\n    getShaderOffset: function(i, width) {\r\n        var offset = this._workSpace.option(\"crossScrollingEnabled\") ? 0 : this._workSpace.getGroupTableWidth();\r\n        return this._workSpace.option(\"rtlEnabled\") ? this._$container.get(0).getBoundingClientRect().width - offset - this._workSpace.getWorkSpaceLeftOffset() - width : offset\r\n    },\r\n    getShaderTopOffset: function(i) {\r\n        return 0\r\n    },\r\n    getShaderHeight: function() {\r\n        var height = this._workSpace.getIndicationHeight();\r\n        if (this._workSpace.supportAllDayRow() && this._workSpace.option(\"showAllDayPanel\")) {\r\n            height += this._workSpace.getCellHeight()\r\n        }\r\n        return height\r\n    },\r\n    getShaderMaxHeight: function() {\r\n        var height = this._workSpace._getRowCount() * this._workSpace.getCellHeight();\r\n        if (this._workSpace.supportAllDayRow() && this._workSpace.option(\"showAllDayPanel\")) {\r\n            height += this._workSpace.getCellHeight()\r\n        }\r\n        return height\r\n    },\r\n    getShaderWidth: function(i) {\r\n        return this._workSpace.getIndicationWidth(0)\r\n    },\r\n    getScrollableScrollTop: function(allDay) {\r\n        return this._workSpace.getScrollable().scrollTop()\r\n    }\r\n});\r\nmodule.exports = VerticalGroupedStrategy;\r\n"]},"metadata":{},"sourceType":"module"}