{"ast":null,"code":"/**\r\n * DevExtreme (ui/list/ui.list.edit.provider.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar Class = require(\"../../core/class\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar errors = require(\"../widget/ui.errors\");\n\nvar decoratorRegistry = require(\"./ui.list.edit.decorator_registry\");\n\nrequire(\"./ui.list.edit.decorator.static\");\n\nrequire(\"./ui.list.edit.decorator.switchable.button\");\n\nrequire(\"./ui.list.edit.decorator.switchable.slide\");\n\nrequire(\"./ui.list.edit.decorator.swipe\");\n\nrequire(\"./ui.list.edit.decorator.context\");\n\nrequire(\"./ui.list.edit.decorator.selection\");\n\nrequire(\"./ui.list.edit.decorator.reorder\");\n\nvar editOptionsRegistry = [];\n\nvar registerOption = function registerOption(enabledFunc, decoratorTypeFunc, decoratorSubTypeFunc) {\n  editOptionsRegistry.push({\n    enabled: enabledFunc,\n    decoratorType: decoratorTypeFunc,\n    decoratorSubType: decoratorSubTypeFunc\n  });\n};\n\nregisterOption(function () {\n  return this.option(\"menuItems\").length;\n}, function () {\n  return \"menu\";\n}, function () {\n  return this.option(\"menuMode\");\n});\nregisterOption(function () {\n  return !this.option(\"menuItems\").length && this.option(\"allowItemDeleting\");\n}, function () {\n  var mode = this.option(\"itemDeleteMode\");\n  return \"toggle\" === mode || \"slideButton\" === mode || \"swipe\" === mode || \"static\" === mode ? \"delete\" : \"menu\";\n}, function () {\n  var mode = this.option(\"itemDeleteMode\");\n\n  if (\"slideItem\" === mode) {\n    mode = \"slide\";\n  }\n\n  if (\"hold\" === mode) {\n    mode = \"context\";\n  }\n\n  return mode;\n});\nregisterOption(function () {\n  return \"none\" !== this.option(\"selectionMode\") && this.option(\"showSelectionControls\");\n}, function () {\n  return \"selection\";\n}, function () {\n  return \"default\";\n});\nregisterOption(function () {\n  return this.option(\"itemDragging.allowReordering\") || this.option(\"itemDragging.allowDropInsideItem\") || this.option(\"itemDragging.group\");\n}, function () {\n  return \"reorder\";\n}, function () {\n  return \"default\";\n});\nvar LIST_ITEM_BEFORE_BAG_CLASS = \"dx-list-item-before-bag\";\nvar LIST_ITEM_AFTER_BAG_CLASS = \"dx-list-item-after-bag\";\nvar DECORATOR_BEFORE_BAG_CREATE_METHOD = \"beforeBag\";\nvar DECORATOR_AFTER_BAG_CREATE_METHOD = \"afterBag\";\nvar DECORATOR_MODIFY_ELEMENT_METHOD = \"modifyElement\";\nvar DECORATOR_AFTER_RENDER_METHOD = \"afterRender\";\nvar DECORATOR_GET_EXCLUDED_SELECTORS_METHOD = \"getExcludedSelectors\";\nvar EditProvider = Class.inherit({\n  ctor: function ctor(list) {\n    this._list = list;\n\n    this._fetchRequiredDecorators();\n  },\n  dispose: function dispose() {\n    if (this._decorators && this._decorators.length) {\n      each(this._decorators, function (_, decorator) {\n        decorator.dispose();\n      });\n    }\n  },\n  _fetchRequiredDecorators: function _fetchRequiredDecorators() {\n    this._decorators = [];\n    each(editOptionsRegistry, function (_, option) {\n      var optionEnabled = option.enabled.call(this._list);\n\n      if (optionEnabled) {\n        var decoratorType = option.decoratorType.call(this._list);\n        var decoratorSubType = option.decoratorSubType.call(this._list);\n\n        var decorator = this._createDecorator(decoratorType, decoratorSubType);\n\n        this._decorators.push(decorator);\n      }\n    }.bind(this));\n  },\n  _createDecorator: function _createDecorator(type, subType) {\n    var decoratorClass = this._findDecorator(type, subType);\n\n    return new decoratorClass(this._list);\n  },\n  _findDecorator: function _findDecorator(type, subType) {\n    var foundDecorator = decoratorRegistry.registry[type][subType];\n\n    if (!foundDecorator) {\n      throw errors.Error(\"E1012\", type, subType);\n    }\n\n    return foundDecorator;\n  },\n  modifyItemElement: function modifyItemElement(args) {\n    var $itemElement = $(args.itemElement);\n    var config = {\n      $itemElement: $itemElement\n    };\n\n    this._prependBeforeBags($itemElement, config);\n\n    this._appendAfterBags($itemElement, config);\n\n    this._applyDecorators(DECORATOR_MODIFY_ELEMENT_METHOD, config);\n  },\n  afterItemsRendered: function afterItemsRendered() {\n    this._applyDecorators(DECORATOR_AFTER_RENDER_METHOD);\n  },\n  _prependBeforeBags: function _prependBeforeBags($itemElement, config) {\n    var $beforeBags = this._collectDecoratorsMarkup(DECORATOR_BEFORE_BAG_CREATE_METHOD, config, LIST_ITEM_BEFORE_BAG_CLASS);\n\n    $itemElement.prepend($beforeBags);\n  },\n  _appendAfterBags: function _appendAfterBags($itemElement, config) {\n    var $afterBags = this._collectDecoratorsMarkup(DECORATOR_AFTER_BAG_CREATE_METHOD, config, LIST_ITEM_AFTER_BAG_CLASS);\n\n    $itemElement.append($afterBags);\n  },\n  _collectDecoratorsMarkup: function _collectDecoratorsMarkup(method, config, containerClass) {\n    var $collector = $(\"<div>\");\n    each(this._decorators, function () {\n      var $container = $(\"<div>\").addClass(containerClass);\n      this[method](extend({\n        $container: $container\n      }, config));\n\n      if ($container.children().length) {\n        $collector.append($container);\n      }\n    });\n    return $collector.children();\n  },\n  _applyDecorators: function _applyDecorators(method, config) {\n    each(this._decorators, function () {\n      this[method](config);\n    });\n  },\n  _handlerExists: function _handlerExists(name) {\n    if (!this._decorators) {\n      return false;\n    }\n\n    var decorators = this._decorators;\n    var length = decorators.length;\n\n    for (var i = 0; i < length; i++) {\n      if (decorators[i][name] !== noop) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  _eventHandler: function _eventHandler(name, $itemElement, e) {\n    if (!this._decorators) {\n      return false;\n    }\n\n    var response = false;\n    var decorators = this._decorators;\n    var length = decorators.length;\n\n    for (var i = 0; i < length; i++) {\n      response = decorators[i][name]($itemElement, e);\n\n      if (response) {\n        break;\n      }\n    }\n\n    return response;\n  },\n  handleClick: function handleClick($itemElement, e) {\n    return this._eventHandler(\"handleClick\", $itemElement, e);\n  },\n  handleKeyboardEvents: function handleKeyboardEvents(currentFocusedIndex, moveFocusUp) {\n    return this._eventHandler(\"handleKeyboardEvents\", currentFocusedIndex, moveFocusUp);\n  },\n  handleEnterPressing: function handleEnterPressing() {\n    return this._eventHandler(\"handleEnterPressing\");\n  },\n  contextMenuHandlerExists: function contextMenuHandlerExists() {\n    return this._handlerExists(\"handleContextMenu\");\n  },\n  handleContextMenu: function handleContextMenu($itemElement, e) {\n    return this._eventHandler(\"handleContextMenu\", $itemElement, e);\n  },\n  getExcludedItemSelectors: function getExcludedItemSelectors() {\n    var excludedSelectors = [];\n\n    this._applyDecorators(DECORATOR_GET_EXCLUDED_SELECTORS_METHOD, excludedSelectors);\n\n    return excludedSelectors.join(\",\");\n  }\n});\nmodule.exports = EditProvider;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/list/ui.list.edit.provider.js"],"names":["$","require","noop","Class","extend","each","errors","decoratorRegistry","editOptionsRegistry","registerOption","enabled","decoratorType","decoratorSubType","decoratorSubTypeFunc","mode","LIST_ITEM_BEFORE_BAG_CLASS","LIST_ITEM_AFTER_BAG_CLASS","DECORATOR_BEFORE_BAG_CREATE_METHOD","DECORATOR_AFTER_BAG_CREATE_METHOD","DECORATOR_MODIFY_ELEMENT_METHOD","DECORATOR_AFTER_RENDER_METHOD","DECORATOR_GET_EXCLUDED_SELECTORS_METHOD","EditProvider","ctor","dispose","decorator","_fetchRequiredDecorators","optionEnabled","option","_createDecorator","decoratorClass","_findDecorator","foundDecorator","modifyItemElement","$itemElement","args","config","afterItemsRendered","_prependBeforeBags","$beforeBags","_appendAfterBags","$afterBags","_collectDecoratorsMarkup","$collector","$container","_applyDecorators","_handlerExists","decorators","length","i","_eventHandler","response","handleClick","handleKeyboardEvents","handleEnterPressing","contextMenuHandlerExists","handleContextMenu","getExcludedItemSelectors","excludedSelectors","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/list/ui.list.edit.provider.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar Class = require(\"../../core/class\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar errors = require(\"../widget/ui.errors\");\r\nvar decoratorRegistry = require(\"./ui.list.edit.decorator_registry\");\r\nrequire(\"./ui.list.edit.decorator.static\");\r\nrequire(\"./ui.list.edit.decorator.switchable.button\");\r\nrequire(\"./ui.list.edit.decorator.switchable.slide\");\r\nrequire(\"./ui.list.edit.decorator.swipe\");\r\nrequire(\"./ui.list.edit.decorator.context\");\r\nrequire(\"./ui.list.edit.decorator.selection\");\r\nrequire(\"./ui.list.edit.decorator.reorder\");\r\nvar editOptionsRegistry = [];\r\nvar registerOption = function(enabledFunc, decoratorTypeFunc, decoratorSubTypeFunc) {\r\n    editOptionsRegistry.push({\r\n        enabled: enabledFunc,\r\n        decoratorType: decoratorTypeFunc,\r\n        decoratorSubType: decoratorSubTypeFunc\r\n    })\r\n};\r\nregisterOption(function() {\r\n    return this.option(\"menuItems\").length\r\n}, function() {\r\n    return \"menu\"\r\n}, function() {\r\n    return this.option(\"menuMode\")\r\n});\r\nregisterOption(function() {\r\n    return !this.option(\"menuItems\").length && this.option(\"allowItemDeleting\")\r\n}, function() {\r\n    var mode = this.option(\"itemDeleteMode\");\r\n    return \"toggle\" === mode || \"slideButton\" === mode || \"swipe\" === mode || \"static\" === mode ? \"delete\" : \"menu\"\r\n}, function() {\r\n    var mode = this.option(\"itemDeleteMode\");\r\n    if (\"slideItem\" === mode) {\r\n        mode = \"slide\"\r\n    }\r\n    if (\"hold\" === mode) {\r\n        mode = \"context\"\r\n    }\r\n    return mode\r\n});\r\nregisterOption(function() {\r\n    return \"none\" !== this.option(\"selectionMode\") && this.option(\"showSelectionControls\")\r\n}, function() {\r\n    return \"selection\"\r\n}, function() {\r\n    return \"default\"\r\n});\r\nregisterOption(function() {\r\n    return this.option(\"itemDragging.allowReordering\") || this.option(\"itemDragging.allowDropInsideItem\") || this.option(\"itemDragging.group\")\r\n}, function() {\r\n    return \"reorder\"\r\n}, function() {\r\n    return \"default\"\r\n});\r\nvar LIST_ITEM_BEFORE_BAG_CLASS = \"dx-list-item-before-bag\";\r\nvar LIST_ITEM_AFTER_BAG_CLASS = \"dx-list-item-after-bag\";\r\nvar DECORATOR_BEFORE_BAG_CREATE_METHOD = \"beforeBag\";\r\nvar DECORATOR_AFTER_BAG_CREATE_METHOD = \"afterBag\";\r\nvar DECORATOR_MODIFY_ELEMENT_METHOD = \"modifyElement\";\r\nvar DECORATOR_AFTER_RENDER_METHOD = \"afterRender\";\r\nvar DECORATOR_GET_EXCLUDED_SELECTORS_METHOD = \"getExcludedSelectors\";\r\nvar EditProvider = Class.inherit({\r\n    ctor: function(list) {\r\n        this._list = list;\r\n        this._fetchRequiredDecorators()\r\n    },\r\n    dispose: function() {\r\n        if (this._decorators && this._decorators.length) {\r\n            each(this._decorators, function(_, decorator) {\r\n                decorator.dispose()\r\n            })\r\n        }\r\n    },\r\n    _fetchRequiredDecorators: function() {\r\n        this._decorators = [];\r\n        each(editOptionsRegistry, function(_, option) {\r\n            var optionEnabled = option.enabled.call(this._list);\r\n            if (optionEnabled) {\r\n                var decoratorType = option.decoratorType.call(this._list);\r\n                var decoratorSubType = option.decoratorSubType.call(this._list);\r\n                var decorator = this._createDecorator(decoratorType, decoratorSubType);\r\n                this._decorators.push(decorator)\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _createDecorator: function(type, subType) {\r\n        var decoratorClass = this._findDecorator(type, subType);\r\n        return new decoratorClass(this._list)\r\n    },\r\n    _findDecorator: function(type, subType) {\r\n        var foundDecorator = decoratorRegistry.registry[type][subType];\r\n        if (!foundDecorator) {\r\n            throw errors.Error(\"E1012\", type, subType)\r\n        }\r\n        return foundDecorator\r\n    },\r\n    modifyItemElement: function(args) {\r\n        var $itemElement = $(args.itemElement);\r\n        var config = {\r\n            $itemElement: $itemElement\r\n        };\r\n        this._prependBeforeBags($itemElement, config);\r\n        this._appendAfterBags($itemElement, config);\r\n        this._applyDecorators(DECORATOR_MODIFY_ELEMENT_METHOD, config)\r\n    },\r\n    afterItemsRendered: function() {\r\n        this._applyDecorators(DECORATOR_AFTER_RENDER_METHOD)\r\n    },\r\n    _prependBeforeBags: function($itemElement, config) {\r\n        var $beforeBags = this._collectDecoratorsMarkup(DECORATOR_BEFORE_BAG_CREATE_METHOD, config, LIST_ITEM_BEFORE_BAG_CLASS);\r\n        $itemElement.prepend($beforeBags)\r\n    },\r\n    _appendAfterBags: function($itemElement, config) {\r\n        var $afterBags = this._collectDecoratorsMarkup(DECORATOR_AFTER_BAG_CREATE_METHOD, config, LIST_ITEM_AFTER_BAG_CLASS);\r\n        $itemElement.append($afterBags)\r\n    },\r\n    _collectDecoratorsMarkup: function(method, config, containerClass) {\r\n        var $collector = $(\"<div>\");\r\n        each(this._decorators, function() {\r\n            var $container = $(\"<div>\").addClass(containerClass);\r\n            this[method](extend({\r\n                $container: $container\r\n            }, config));\r\n            if ($container.children().length) {\r\n                $collector.append($container)\r\n            }\r\n        });\r\n        return $collector.children()\r\n    },\r\n    _applyDecorators: function(method, config) {\r\n        each(this._decorators, function() {\r\n            this[method](config)\r\n        })\r\n    },\r\n    _handlerExists: function(name) {\r\n        if (!this._decorators) {\r\n            return false\r\n        }\r\n        var decorators = this._decorators;\r\n        var length = decorators.length;\r\n        for (var i = 0; i < length; i++) {\r\n            if (decorators[i][name] !== noop) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _eventHandler: function(name, $itemElement, e) {\r\n        if (!this._decorators) {\r\n            return false\r\n        }\r\n        var response = false;\r\n        var decorators = this._decorators;\r\n        var length = decorators.length;\r\n        for (var i = 0; i < length; i++) {\r\n            response = decorators[i][name]($itemElement, e);\r\n            if (response) {\r\n                break\r\n            }\r\n        }\r\n        return response\r\n    },\r\n    handleClick: function($itemElement, e) {\r\n        return this._eventHandler(\"handleClick\", $itemElement, e)\r\n    },\r\n    handleKeyboardEvents: function(currentFocusedIndex, moveFocusUp) {\r\n        return this._eventHandler(\"handleKeyboardEvents\", currentFocusedIndex, moveFocusUp)\r\n    },\r\n    handleEnterPressing: function() {\r\n        return this._eventHandler(\"handleEnterPressing\")\r\n    },\r\n    contextMenuHandlerExists: function() {\r\n        return this._handlerExists(\"handleContextMenu\")\r\n    },\r\n    handleContextMenu: function($itemElement, e) {\r\n        return this._eventHandler(\"handleContextMenu\", $itemElement, e)\r\n    },\r\n    getExcludedItemSelectors: function() {\r\n        var excludedSelectors = [];\r\n        this._applyDecorators(DECORATOR_GET_EXCLUDED_SELECTORS_METHOD, excludedSelectors);\r\n        return excludedSelectors.join(\",\")\r\n    }\r\n});\r\nmodule.exports = EditProvider;\r\n"]},"metadata":{},"sourceType":"module"}