{"ast":null,"code":"/**\r\n * DevExtreme (viz/tree_map/hover.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar proto = require(\"./tree_map.base\").prototype;\n\nvar nodeProto = require(\"./node\").prototype;\n\nvar expand = require(\"../core/helpers\").expand;\n\nvar common = require(\"./common\");\n\nvar _parseScalar = require(\"../core/utils\").parseScalar;\n\nvar _buildRectAppearance = common.buildRectAppearance;\nvar STATE_CODE = 1;\n\nrequire(\"./api\");\n\nrequire(\"./states\");\n\nproto._eventsMap.onHoverChanged = {\n  name: \"hoverChanged\"\n};\nexpand(proto._handlers, \"calculateAdditionalStates\", function (states, options) {\n  states[1] = options.hoverStyle ? _buildRectAppearance(options.hoverStyle) : {};\n});\n\nrequire(\"./tree_map.base\").addChange({\n  code: \"HOVER_ENABLED\",\n  handler: function handler() {\n    var hoverEnabled = _parseScalar(this._getOption(\"hoverEnabled\", true), true);\n\n    if (!hoverEnabled) {\n      this.clearHover();\n    }\n\n    this._hoverEnabled = hoverEnabled;\n  },\n  isThemeDependent: true,\n  isOptionChange: true,\n  option: \"hoverEnabled\"\n});\n\nnodeProto.statesMap[1] = 1;\nnodeProto.additionalStates.push(1);\nexpand(proto, \"_extendProxyType\", function (proto) {\n  var that = this;\n\n  proto.setHover = function () {\n    that._hoverNode(this._id);\n  };\n\n  proto.isHovered = function () {\n    return that._hoverIndex === this._id;\n  };\n});\nexpand(proto, \"_onNodesCreated\", function () {\n  this._hoverIndex = -1;\n});\nexpand(proto, \"_changeGroupSettings\", function () {\n  var that = this;\n  that._groupHoverEnabled = _parseScalar(that._getOption(\"group\").hoverEnabled, true);\n\n  if (!that._groupHoverEnabled) {\n    that.clearHover();\n  }\n});\n\nproto._applyHoverState = function (index, state) {\n  setNodeStateRecursive(this._nodes[index], STATE_CODE, state);\n\n  this._eventTrigger(\"hoverChanged\", {\n    node: this._nodes[index].proxy\n  });\n};\n\nfunction setNodeStateRecursive(node, code, state) {\n  var nodes = node.isNode() && node.nodes;\n  var i;\n  var ii = nodes && nodes.length;\n  node.setState(code, state);\n\n  for (i = 0; i < ii; ++i) {\n    setNodeStateRecursive(nodes[i], code, state);\n  }\n}\n\nproto._hoverNode = function (index) {\n  var that = this;\n  var currentIndex = that._hoverIndex;\n\n  if (that._hoverEnabled && currentIndex !== index) {\n    if (!that._groupHoverEnabled && index >= 0 && that._nodes[index].isNode()) {\n      that.clearHover();\n      return;\n    }\n\n    that._context.suspend();\n\n    that._hoverIndex = -1;\n\n    if (currentIndex >= 0) {\n      that._applyHoverState(currentIndex, false);\n    }\n\n    that._hoverIndex = index;\n\n    if (index >= 0) {\n      that._applyHoverState(index, true);\n    }\n\n    that._context.resume();\n  }\n};\n\nproto.clearHover = function () {\n  this._hoverNode(-1);\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/tree_map/hover.js"],"names":["proto","require","nodeProto","expand","common","_parseScalar","_buildRectAppearance","STATE_CODE","name","states","options","code","handler","hoverEnabled","isThemeDependent","isOptionChange","option","that","setNodeStateRecursive","node","proxy","nodes","ii","i","currentIndex","index"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/tree_map/hover.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar proto = require(\"./tree_map.base\").prototype;\r\nvar nodeProto = require(\"./node\").prototype;\r\nvar expand = require(\"../core/helpers\").expand;\r\nvar common = require(\"./common\");\r\nvar _parseScalar = require(\"../core/utils\").parseScalar;\r\nvar _buildRectAppearance = common.buildRectAppearance;\r\nvar STATE_CODE = 1;\r\nrequire(\"./api\");\r\nrequire(\"./states\");\r\nproto._eventsMap.onHoverChanged = {\r\n    name: \"hoverChanged\"\r\n};\r\nexpand(proto._handlers, \"calculateAdditionalStates\", function(states, options) {\r\n    states[1] = options.hoverStyle ? _buildRectAppearance(options.hoverStyle) : {}\r\n});\r\nrequire(\"./tree_map.base\").addChange({\r\n    code: \"HOVER_ENABLED\",\r\n    handler: function() {\r\n        var hoverEnabled = _parseScalar(this._getOption(\"hoverEnabled\", true), true);\r\n        if (!hoverEnabled) {\r\n            this.clearHover()\r\n        }\r\n        this._hoverEnabled = hoverEnabled\r\n    },\r\n    isThemeDependent: true,\r\n    isOptionChange: true,\r\n    option: \"hoverEnabled\"\r\n});\r\nnodeProto.statesMap[1] = 1;\r\nnodeProto.additionalStates.push(1);\r\nexpand(proto, \"_extendProxyType\", function(proto) {\r\n    var that = this;\r\n    proto.setHover = function() {\r\n        that._hoverNode(this._id)\r\n    };\r\n    proto.isHovered = function() {\r\n        return that._hoverIndex === this._id\r\n    }\r\n});\r\nexpand(proto, \"_onNodesCreated\", function() {\r\n    this._hoverIndex = -1\r\n});\r\nexpand(proto, \"_changeGroupSettings\", function() {\r\n    var that = this;\r\n    that._groupHoverEnabled = _parseScalar(that._getOption(\"group\").hoverEnabled, true);\r\n    if (!that._groupHoverEnabled) {\r\n        that.clearHover()\r\n    }\r\n});\r\nproto._applyHoverState = function(index, state) {\r\n    setNodeStateRecursive(this._nodes[index], STATE_CODE, state);\r\n    this._eventTrigger(\"hoverChanged\", {\r\n        node: this._nodes[index].proxy\r\n    })\r\n};\r\n\r\nfunction setNodeStateRecursive(node, code, state) {\r\n    var nodes = node.isNode() && node.nodes;\r\n    var i;\r\n    var ii = nodes && nodes.length;\r\n    node.setState(code, state);\r\n    for (i = 0; i < ii; ++i) {\r\n        setNodeStateRecursive(nodes[i], code, state)\r\n    }\r\n}\r\nproto._hoverNode = function(index) {\r\n    var that = this;\r\n    var currentIndex = that._hoverIndex;\r\n    if (that._hoverEnabled && currentIndex !== index) {\r\n        if (!that._groupHoverEnabled && index >= 0 && that._nodes[index].isNode()) {\r\n            that.clearHover();\r\n            return\r\n        }\r\n        that._context.suspend();\r\n        that._hoverIndex = -1;\r\n        if (currentIndex >= 0) {\r\n            that._applyHoverState(currentIndex, false)\r\n        }\r\n        that._hoverIndex = index;\r\n        if (index >= 0) {\r\n            that._applyHoverState(index, true)\r\n        }\r\n        that._context.resume()\r\n    }\r\n};\r\nproto.clearHover = function() {\r\n    this._hoverNode(-1)\r\n};\r\n"]},"metadata":{},"sourceType":"module"}