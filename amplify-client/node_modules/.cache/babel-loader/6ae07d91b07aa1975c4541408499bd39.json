{"ast":null,"code":"/**\r\n * DevExtreme (viz/pie_chart.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _consts = require(\"./components/consts\");\n\nvar _utils = require(\"./core/utils\");\n\nvar _extend2 = require(\"../core/utils/extend\");\n\nvar _type = require(\"../core/utils/type\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _range = require(\"./translators/range\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _base_chart = require(\"./chart_components/base_chart\");\n\nvar _common = require(\"../core/utils/common\");\n\nvar _translator1d = require(\"./translators/translator1d\");\n\nvar _translator1d2 = _interopRequireDefault(_translator1d);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar OPTIONS_FOR_REFRESH_SERIES = [\"startAngle\", \"innerRadius\", \"segmentsDirection\", \"type\"];\nvar NORMAL_STATE = _consts.states.normalMark;\nvar MAX_RESOLVE_ITERATION_COUNT = 5;\nvar LEGEND_ACTIONS = [_consts.states.resetItem, _consts.states.applyHover, _consts.states.applySelected, _consts.states.applySelected];\n\nfunction getLegendItemAction(points) {\n  var state = NORMAL_STATE;\n  points.forEach(function (point) {\n    state |= point.fullState;\n  });\n  return LEGEND_ACTIONS[state];\n}\n\nfunction correctPercentValue(value) {\n  if ((0, _type.isNumeric)(value)) {\n    if (value > 1) {\n      value = 1;\n    } else {\n      if (value < 0) {\n        value = 0;\n      }\n    }\n  } else {\n    value = void 0;\n  }\n\n  return value;\n}\n\nvar dxPieChart = _base_chart.BaseChart.inherit({\n  _themeSection: \"pie\",\n  _layoutManagerOptions: function _layoutManagerOptions() {\n    return (0, _extend2.extend)(true, {}, this.callBase(), {\n      piePercentage: correctPercentValue(this._themeManager.getOptions(\"diameter\")),\n      minPiePercentage: correctPercentValue(this._themeManager.getOptions(\"minDiameter\"))\n    });\n  },\n  _optionChangesMap: {\n    diameter: \"REINIT\",\n    minDiameter: \"REINIT\",\n    sizeGroup: \"REINIT\"\n  },\n  _disposeCore: function _disposeCore() {\n    pieSizeEqualizer.remove(this);\n    this.callBase();\n  },\n  _groupSeries: function _groupSeries() {\n    var series = this.series;\n    this._groupsData = {\n      groups: [{\n        series: series,\n        valueOptions: {\n          valueType: \"numeric\"\n        }\n      }],\n      argumentOptions: series[0] && series[0].getOptions()\n    };\n  },\n  getArgumentAxis: function getArgumentAxis() {\n    return null;\n  },\n  _getValueAxis: function _getValueAxis() {\n    var translator = new _translator1d2.default.Translator1D().setCodomain(360, 0);\n    return {\n      getTranslator: function getTranslator() {\n        return translator;\n      },\n      setBusinessRange: function setBusinessRange(range) {\n        translator.setDomain(range.min, range.max);\n      }\n    };\n  },\n  _populateBusinessRange: function _populateBusinessRange() {\n    this.series.map(function (series) {\n      var range = new _range2.default.Range();\n      range.addRange(series.getRangeData().val);\n      series.getValueAxis().setBusinessRange(range);\n      return range;\n    });\n  },\n  _specialProcessSeries: function _specialProcessSeries() {\n    (0, _iterator.each)(this.series, function (_, singleSeries) {\n      singleSeries.arrangePoints();\n    });\n  },\n  _checkPaneName: function _checkPaneName() {\n    return true;\n  },\n  _processSingleSeries: function _processSingleSeries(singleSeries) {\n    this.callBase(singleSeries);\n    singleSeries.arrangePoints();\n  },\n  _handleSeriesDataUpdated: function _handleSeriesDataUpdated() {\n    var maxPointCount = 0;\n    this.series.forEach(function (s) {\n      maxPointCount = Math.max(s.getPointsCount(), maxPointCount);\n    });\n    this.series.forEach(function (s) {\n      s.setMaxPointsCount(maxPointCount);\n    });\n    this.callBase();\n  },\n  _getLegendOptions: function _getLegendOptions(item) {\n    var legendItem = this.callBase(item);\n    var legendData = legendItem.legendData;\n    legendData.argument = item.argument;\n    legendData.argumentIndex = item.argumentIndex;\n    legendData.points = [item];\n    return legendItem;\n  },\n  _getLegendTargets: function _getLegendTargets() {\n    var that = this;\n    var itemsByArgument = {};\n    (that.series || []).forEach(function (series) {\n      series.getPoints().forEach(function (point) {\n        var argument = point.argument.valueOf();\n        var index = series.getPointsByArg(argument).indexOf(point);\n        var key = argument.valueOf().toString() + index;\n        itemsByArgument[key] = itemsByArgument[key] || [];\n        var argumentCount = itemsByArgument[key].push(point);\n        point.index = itemsByArgument[key][argumentCount - 2] ? itemsByArgument[key][argumentCount - 2].index : Object.keys(itemsByArgument).length - 1;\n        point.argumentIndex = index;\n      });\n    });\n    var items = [];\n    (0, _iterator.each)(itemsByArgument, function (_, points) {\n      points.forEach(function (point, index) {\n        if (0 === index) {\n          items.push(that._getLegendOptions(point));\n          return;\n        }\n\n        var item = items[items.length - 1];\n        item.legendData.points.push(point);\n\n        if (!item.visible) {\n          item.visible = point.isVisible();\n        }\n      });\n    });\n    return items;\n  },\n  _getLayoutTargets: function _getLayoutTargets() {\n    return [{\n      canvas: this._canvas\n    }];\n  },\n  _getLayoutSeries: function _getLayoutSeries(series, drawOptions) {\n    var that = this;\n    var layout;\n    var canvas = that._canvas;\n    var drawnLabels = false;\n    layout = that.layoutManager.applyPieChartSeriesLayout(canvas, series, true);\n    series.forEach(function (singleSeries) {\n      singleSeries.correctPosition(layout, canvas);\n      drawnLabels = singleSeries.drawLabelsWOPoints() || drawnLabels;\n    });\n\n    if (drawnLabels) {\n      layout = that.layoutManager.applyPieChartSeriesLayout(canvas, series, drawOptions.hideLayoutLabels);\n    }\n\n    series.forEach(function (singleSeries) {\n      singleSeries.hideLabels();\n    });\n    that._sizeGroupLayout = {\n      x: layout.centerX,\n      y: layout.centerY,\n      radius: layout.radiusOuter,\n      drawOptions: drawOptions\n    };\n    return layout;\n  },\n  _getLayoutSeriesForEqualPies: function _getLayoutSeriesForEqualPies(series, sizeGroupLayout) {\n    var canvas = this._canvas;\n    var layout = this.layoutManager.applyEqualPieChartLayout(series, sizeGroupLayout);\n    series.forEach(function (s) {\n      s.correctPosition(layout, canvas);\n      s.drawLabelsWOPoints();\n    });\n    this.layoutManager.correctPieLabelRadius(series, layout, canvas);\n    return layout;\n  },\n  _updateSeriesDimensions: function _updateSeriesDimensions(drawOptions) {\n    var that = this;\n\n    var visibleSeries = that._getVisibleSeries();\n\n    var lengthVisibleSeries = visibleSeries.length;\n    var innerRad;\n    var delta;\n    var layout;\n    var sizeGroupLayout = drawOptions.sizeGroupLayout;\n\n    if (lengthVisibleSeries) {\n      layout = sizeGroupLayout ? that._getLayoutSeriesForEqualPies(visibleSeries, sizeGroupLayout) : that._getLayoutSeries(visibleSeries, drawOptions);\n      delta = (layout.radiusOuter - layout.radiusInner - _consts.pieSeriesSpacing * (lengthVisibleSeries - 1)) / lengthVisibleSeries;\n      innerRad = layout.radiusInner;\n\n      that._setGeometry(layout);\n\n      visibleSeries.forEach(function (singleSeries) {\n        singleSeries.correctRadius({\n          radiusInner: innerRad,\n          radiusOuter: innerRad + delta\n        });\n        innerRad += delta + _consts.pieSeriesSpacing;\n      });\n    }\n  },\n  _renderSeries: function _renderSeries(drawOptions, isRotated, isLegendInside) {\n    this._calculateSeriesLayout(drawOptions, isRotated);\n\n    if (!drawOptions.sizeGroupLayout && this.getSizeGroup()) {\n      pieSizeEqualizer.queue(this);\n\n      this._clearCanvas();\n\n      return;\n    }\n\n    this._renderSeriesElements(drawOptions, isRotated, isLegendInside);\n  },\n  _renderExtraElements: function _renderExtraElements() {\n    var template = this.option(\"centerTemplate\");\n\n    if (this._centerTemplateGroup) {\n      this._centerTemplateGroup.clear();\n    }\n\n    if (!template) {\n      return;\n    }\n\n    if (!this._centerTemplateGroup) {\n      this._centerTemplateGroup = this._renderer.g().attr({\n        \"class\": \"dxc-hole-template\"\n      }).css((0, _utils.patchFontOptions)(this._themeManager._font));\n    }\n\n    this._centerTemplateGroup.append(this._renderer.root);\n\n    template = this._getTemplate(template);\n    template.render({\n      model: this,\n      container: this._centerTemplateGroup.element\n    });\n\n    var bBox = this._centerTemplateGroup.getBBox();\n\n    this._centerTemplateGroup.move(this._center.x - (bBox.x + bBox.width / 2), this._center.y - (bBox.y + bBox.height / 2));\n  },\n  getInnerRadius: function getInnerRadius() {\n    return this._innerRadius;\n  },\n  _getLegendCallBack: function _getLegendCallBack() {\n    var that = this;\n    var legend = this._legend;\n\n    var items = this._getLegendTargets().map(function (i) {\n      return i.legendData;\n    });\n\n    return function (target) {\n      items.forEach(function (data) {\n        var points = [];\n        var callback = legend.getActionCallback({\n          index: data.id\n        });\n        that.series.forEach(function (series) {\n          var seriesPoints = series.getPointsByKeys(data.argument, data.argumentIndex);\n          points.push.apply(points, seriesPoints);\n        });\n\n        if (target && target.argument === data.argument && target.argumentIndex === data.argumentIndex) {\n          points.push(target);\n        }\n\n        callback(getLegendItemAction(points));\n      });\n    };\n  },\n  _locateLabels: function _locateLabels(resolveLabelOverlapping) {\n    var iterationCount = 0;\n    var labelsWereOverlapped;\n    var wordWrapApplied;\n\n    do {\n      labelsWereOverlapped = this._resolveLabelOverlapping(resolveLabelOverlapping);\n      wordWrapApplied = this._adjustSeriesLabels(\"shift\" === resolveLabelOverlapping);\n    } while ((labelsWereOverlapped || wordWrapApplied) && ++iterationCount < MAX_RESOLVE_ITERATION_COUNT);\n  },\n  _adjustSeriesLabels: function _adjustSeriesLabels(moveLabelsFromCenter) {\n    return this.series.reduce(function (r, s) {\n      return s.adjustLabels(moveLabelsFromCenter) || r;\n    }, false);\n  },\n  _applyExtraSettings: _common.noop,\n  _resolveLabelOverlappingShift: function _resolveLabelOverlappingShift() {\n    var that = this;\n    var inverseDirection = \"anticlockwise\" === that.option(\"segmentsDirection\");\n    var seriesByPosition = that.series.reduce(function (r, s) {\n      (r[s.getOptions().label.position] || r.outside).push(s);\n      return r;\n    }, {\n      inside: [],\n      columns: [],\n      outside: []\n    });\n    var labelsOverlapped = false;\n\n    if (seriesByPosition.inside.length > 0) {\n      labelsOverlapped = resolve(seriesByPosition.inside.reduce(function (r, singleSeries) {\n        return singleSeries.getVisiblePoints().reduce(function (r, point) {\n          r.left.push(point);\n          return r;\n        }, r);\n      }, {\n        left: [],\n        right: []\n      }), shiftInColumnFunction) || labelsOverlapped;\n    }\n\n    labelsOverlapped = seriesByPosition.columns.reduce(function (r, singleSeries) {\n      return resolve(dividePoints(singleSeries), shiftInColumnFunction) || r;\n    }, labelsOverlapped);\n\n    if (seriesByPosition.outside.length > 0) {\n      labelsOverlapped = resolve(seriesByPosition.outside.reduce(function (r, singleSeries) {\n        return dividePoints(singleSeries, r);\n      }, null), shiftFunction) || labelsOverlapped;\n    }\n\n    return labelsOverlapped;\n\n    function dividePoints(series, points) {\n      return series.getVisiblePoints().reduce(function (r, point) {\n        var angle = (0, _utils.normalizeAngle)(point.middleAngle);\n        (angle <= 90 || angle >= 270 ? r.right : r.left).push(point);\n        return r;\n      }, points || {\n        left: [],\n        right: []\n      });\n    }\n\n    function resolve(points, shiftCallback) {\n      var overlapped = false;\n\n      if (inverseDirection) {\n        points.left.reverse();\n        points.right.reverse();\n      }\n\n      overlapped = _base_chart.overlapping.resolveLabelOverlappingInOneDirection(points.left, that._canvas, false, shiftCallback);\n      return _base_chart.overlapping.resolveLabelOverlappingInOneDirection(points.right, that._canvas, false, shiftCallback) || overlapped;\n    }\n\n    function shiftFunction(box, length) {\n      return (0, _utils.getVerticallyShiftedAngularCoords)(box, -length, that._center);\n    }\n\n    function shiftInColumnFunction(box, length) {\n      return {\n        x: box.x,\n        y: box.y - length\n      };\n    }\n  },\n  _setGeometry: function _setGeometry(_ref) {\n    var x = _ref.centerX,\n        y = _ref.centerY,\n        radiusInner = _ref.radiusInner;\n    this._center = {\n      x: x,\n      y: y\n    };\n    this._innerRadius = radiusInner;\n  },\n  _disposeSeries: function _disposeSeries(seriesIndex) {\n    this.callBase.apply(this, arguments);\n    this._abstractSeries = null;\n  },\n  _legendDataField: \"point\",\n  _legendItemTextField: \"argument\",\n  _applyPointMarkersAutoHiding: _common.noop,\n  _renderTrackers: _common.noop,\n  _trackerType: \"PieTracker\",\n  _createScrollBar: _common.noop,\n  _updateAxesLayout: _common.noop,\n  _applyClipRects: _common.noop,\n  _appendAdditionalSeriesGroups: _common.noop,\n  _prepareToRender: _common.noop,\n  _isLegendInside: _common.noop,\n  _renderAxes: _common.noop,\n  _shrinkAxes: _common.noop,\n  _isRotated: _common.noop,\n  _seriesPopulatedHandlerCore: _common.noop,\n  _reinitAxes: _common.noop,\n  _correctAxes: _common.noop,\n  _getExtraOptions: function _getExtraOptions() {\n    var that = this;\n    return {\n      startAngle: that.option(\"startAngle\"),\n      innerRadius: that.option(\"innerRadius\"),\n      segmentsDirection: that.option(\"segmentsDirection\"),\n      type: that.option(\"type\")\n    };\n  },\n  getSizeGroup: function getSizeGroup() {\n    return this._themeManager.getOptions(\"sizeGroup\");\n  },\n  getSizeGroupLayout: function getSizeGroupLayout() {\n    return this._sizeGroupLayout || {};\n  }\n});\n\n(0, _iterator.each)(OPTIONS_FOR_REFRESH_SERIES, function (_, name) {\n  dxPieChart.prototype._optionChangesMap[name] = \"REFRESH_SERIES_DATA_INIT\";\n});\n(0, _component_registrator2.default)(\"dxPieChart\", dxPieChart);\nmodule.exports = dxPieChart;\n\nvar pieSizeEqualizer = function () {\n  function equalize(group, allPies) {\n    var pies = allPies.filter(function (p) {\n      return p._isVisible() && p.getSizeGroup() === group;\n    });\n    var minRadius = Math.min.apply(null, pies.map(function (p) {\n      return p.getSizeGroupLayout().radius;\n    }));\n    var minPie = pies.filter(function (p) {\n      return p.getSizeGroupLayout().radius === minRadius;\n    });\n    pies.forEach(function (p) {\n      return p.render({\n        force: true,\n        sizeGroupLayout: minPie.length ? minPie[0].getSizeGroupLayout() : {}\n      });\n    });\n  }\n\n  function removeFromList(list, item) {\n    return list.filter(function (li) {\n      return li !== item;\n    });\n  }\n\n  function addToList(list, item) {\n    return removeFromList(list, item).concat(item);\n  }\n\n  var pies = [];\n  var timers = {};\n  return {\n    queue: function queue(pie) {\n      var group = pie.getSizeGroup();\n      pies = addToList(pies, pie);\n      clearTimeout(timers[group]);\n      timers[group] = setTimeout(function () {\n        equalize(group, pies);\n      });\n    },\n    remove: function remove(pie) {\n      pies = removeFromList(pies, pie);\n\n      if (!pies.length) {\n        timers = {};\n      }\n    }\n  };\n}();\n\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/pie_chart.js"],"names":["_consts","require","_utils","_extend2","_type","_iterator","_range","_range2","_interopRequireDefault","_component_registrator","_component_registrator2","_base_chart","_common","_translator1d","_translator1d2","obj","OPTIONS_FOR_REFRESH_SERIES","NORMAL_STATE","MAX_RESOLVE_ITERATION_COUNT","LEGEND_ACTIONS","state","points","point","value","dxPieChart","_themeSection","_layoutManagerOptions","piePercentage","correctPercentValue","minPiePercentage","_optionChangesMap","diameter","minDiameter","sizeGroup","_disposeCore","pieSizeEqualizer","_groupSeries","series","groups","valueOptions","valueType","argumentOptions","getArgumentAxis","_getValueAxis","translator","getTranslator","setBusinessRange","range","_populateBusinessRange","_specialProcessSeries","singleSeries","_checkPaneName","_processSingleSeries","_handleSeriesDataUpdated","maxPointCount","Math","s","_getLegendOptions","legendItem","legendData","item","_getLegendTargets","that","itemsByArgument","argument","index","key","argumentCount","Object","items","_getLayoutTargets","canvas","_canvas","_getLayoutSeries","drawnLabels","layout","drawOptions","x","y","radius","_getLayoutSeriesForEqualPies","_updateSeriesDimensions","visibleSeries","lengthVisibleSeries","sizeGroupLayout","delta","innerRad","radiusInner","radiusOuter","_renderSeries","_renderExtraElements","template","model","container","element","bBox","getInnerRadius","_getLegendCallBack","legend","i","callback","data","id","seriesPoints","target","getLegendItemAction","_locateLabels","iterationCount","labelsWereOverlapped","wordWrapApplied","_adjustSeriesLabels","_applyExtraSettings","_resolveLabelOverlappingShift","inverseDirection","seriesByPosition","r","inside","columns","outside","labelsOverlapped","resolve","left","right","dividePoints","angle","overlapped","box","length","_setGeometry","_ref","_disposeSeries","_legendDataField","_legendItemTextField","_applyPointMarkersAutoHiding","_renderTrackers","_trackerType","_createScrollBar","_updateAxesLayout","_applyClipRects","_appendAdditionalSeriesGroups","_prepareToRender","_isLegendInside","_renderAxes","_shrinkAxes","_isRotated","_seriesPopulatedHandlerCore","_reinitAxes","_correctAxes","_getExtraOptions","startAngle","innerRadius","segmentsDirection","type","getSizeGroup","getSizeGroupLayout","module","pies","p","minRadius","minPie","force","li","removeFromList","timers","queue","group","pie","addToList","clearTimeout","setTimeout","equalize","remove"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/pie_chart.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _consts = require(\"./components/consts\");\r\nvar _utils = require(\"./core/utils\");\r\nvar _extend2 = require(\"../core/utils/extend\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _range = require(\"./translators/range\");\r\nvar _range2 = _interopRequireDefault(_range);\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _base_chart = require(\"./chart_components/base_chart\");\r\nvar _common = require(\"../core/utils/common\");\r\nvar _translator1d = require(\"./translators/translator1d\");\r\nvar _translator1d2 = _interopRequireDefault(_translator1d);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar OPTIONS_FOR_REFRESH_SERIES = [\"startAngle\", \"innerRadius\", \"segmentsDirection\", \"type\"];\r\nvar NORMAL_STATE = _consts.states.normalMark;\r\nvar MAX_RESOLVE_ITERATION_COUNT = 5;\r\nvar LEGEND_ACTIONS = [_consts.states.resetItem, _consts.states.applyHover, _consts.states.applySelected, _consts.states.applySelected];\r\n\r\nfunction getLegendItemAction(points) {\r\n    var state = NORMAL_STATE;\r\n    points.forEach(function(point) {\r\n        state |= point.fullState\r\n    });\r\n    return LEGEND_ACTIONS[state]\r\n}\r\n\r\nfunction correctPercentValue(value) {\r\n    if ((0, _type.isNumeric)(value)) {\r\n        if (value > 1) {\r\n            value = 1\r\n        } else {\r\n            if (value < 0) {\r\n                value = 0\r\n            }\r\n        }\r\n    } else {\r\n        value = void 0\r\n    }\r\n    return value\r\n}\r\nvar dxPieChart = _base_chart.BaseChart.inherit({\r\n    _themeSection: \"pie\",\r\n    _layoutManagerOptions: function() {\r\n        return (0, _extend2.extend)(true, {}, this.callBase(), {\r\n            piePercentage: correctPercentValue(this._themeManager.getOptions(\"diameter\")),\r\n            minPiePercentage: correctPercentValue(this._themeManager.getOptions(\"minDiameter\"))\r\n        })\r\n    },\r\n    _optionChangesMap: {\r\n        diameter: \"REINIT\",\r\n        minDiameter: \"REINIT\",\r\n        sizeGroup: \"REINIT\"\r\n    },\r\n    _disposeCore: function() {\r\n        pieSizeEqualizer.remove(this);\r\n        this.callBase()\r\n    },\r\n    _groupSeries: function() {\r\n        var series = this.series;\r\n        this._groupsData = {\r\n            groups: [{\r\n                series: series,\r\n                valueOptions: {\r\n                    valueType: \"numeric\"\r\n                }\r\n            }],\r\n            argumentOptions: series[0] && series[0].getOptions()\r\n        }\r\n    },\r\n    getArgumentAxis: function() {\r\n        return null\r\n    },\r\n    _getValueAxis: function() {\r\n        var translator = (new _translator1d2.default.Translator1D).setCodomain(360, 0);\r\n        return {\r\n            getTranslator: function() {\r\n                return translator\r\n            },\r\n            setBusinessRange: function(range) {\r\n                translator.setDomain(range.min, range.max)\r\n            }\r\n        }\r\n    },\r\n    _populateBusinessRange: function() {\r\n        this.series.map(function(series) {\r\n            var range = new _range2.default.Range;\r\n            range.addRange(series.getRangeData().val);\r\n            series.getValueAxis().setBusinessRange(range);\r\n            return range\r\n        })\r\n    },\r\n    _specialProcessSeries: function() {\r\n        (0, _iterator.each)(this.series, function(_, singleSeries) {\r\n            singleSeries.arrangePoints()\r\n        })\r\n    },\r\n    _checkPaneName: function() {\r\n        return true\r\n    },\r\n    _processSingleSeries: function(singleSeries) {\r\n        this.callBase(singleSeries);\r\n        singleSeries.arrangePoints()\r\n    },\r\n    _handleSeriesDataUpdated: function() {\r\n        var maxPointCount = 0;\r\n        this.series.forEach(function(s) {\r\n            maxPointCount = Math.max(s.getPointsCount(), maxPointCount)\r\n        });\r\n        this.series.forEach(function(s) {\r\n            s.setMaxPointsCount(maxPointCount)\r\n        });\r\n        this.callBase()\r\n    },\r\n    _getLegendOptions: function(item) {\r\n        var legendItem = this.callBase(item);\r\n        var legendData = legendItem.legendData;\r\n        legendData.argument = item.argument;\r\n        legendData.argumentIndex = item.argumentIndex;\r\n        legendData.points = [item];\r\n        return legendItem\r\n    },\r\n    _getLegendTargets: function() {\r\n        var that = this;\r\n        var itemsByArgument = {};\r\n        (that.series || []).forEach(function(series) {\r\n            series.getPoints().forEach(function(point) {\r\n                var argument = point.argument.valueOf();\r\n                var index = series.getPointsByArg(argument).indexOf(point);\r\n                var key = argument.valueOf().toString() + index;\r\n                itemsByArgument[key] = itemsByArgument[key] || [];\r\n                var argumentCount = itemsByArgument[key].push(point);\r\n                point.index = itemsByArgument[key][argumentCount - 2] ? itemsByArgument[key][argumentCount - 2].index : Object.keys(itemsByArgument).length - 1;\r\n                point.argumentIndex = index\r\n            })\r\n        });\r\n        var items = [];\r\n        (0, _iterator.each)(itemsByArgument, function(_, points) {\r\n            points.forEach(function(point, index) {\r\n                if (0 === index) {\r\n                    items.push(that._getLegendOptions(point));\r\n                    return\r\n                }\r\n                var item = items[items.length - 1];\r\n                item.legendData.points.push(point);\r\n                if (!item.visible) {\r\n                    item.visible = point.isVisible()\r\n                }\r\n            })\r\n        });\r\n        return items\r\n    },\r\n    _getLayoutTargets: function() {\r\n        return [{\r\n            canvas: this._canvas\r\n        }]\r\n    },\r\n    _getLayoutSeries: function(series, drawOptions) {\r\n        var that = this;\r\n        var layout;\r\n        var canvas = that._canvas;\r\n        var drawnLabels = false;\r\n        layout = that.layoutManager.applyPieChartSeriesLayout(canvas, series, true);\r\n        series.forEach(function(singleSeries) {\r\n            singleSeries.correctPosition(layout, canvas);\r\n            drawnLabels = singleSeries.drawLabelsWOPoints() || drawnLabels\r\n        });\r\n        if (drawnLabels) {\r\n            layout = that.layoutManager.applyPieChartSeriesLayout(canvas, series, drawOptions.hideLayoutLabels)\r\n        }\r\n        series.forEach(function(singleSeries) {\r\n            singleSeries.hideLabels()\r\n        });\r\n        that._sizeGroupLayout = {\r\n            x: layout.centerX,\r\n            y: layout.centerY,\r\n            radius: layout.radiusOuter,\r\n            drawOptions: drawOptions\r\n        };\r\n        return layout\r\n    },\r\n    _getLayoutSeriesForEqualPies: function(series, sizeGroupLayout) {\r\n        var canvas = this._canvas;\r\n        var layout = this.layoutManager.applyEqualPieChartLayout(series, sizeGroupLayout);\r\n        series.forEach(function(s) {\r\n            s.correctPosition(layout, canvas);\r\n            s.drawLabelsWOPoints()\r\n        });\r\n        this.layoutManager.correctPieLabelRadius(series, layout, canvas);\r\n        return layout\r\n    },\r\n    _updateSeriesDimensions: function(drawOptions) {\r\n        var that = this;\r\n        var visibleSeries = that._getVisibleSeries();\r\n        var lengthVisibleSeries = visibleSeries.length;\r\n        var innerRad;\r\n        var delta;\r\n        var layout;\r\n        var sizeGroupLayout = drawOptions.sizeGroupLayout;\r\n        if (lengthVisibleSeries) {\r\n            layout = sizeGroupLayout ? that._getLayoutSeriesForEqualPies(visibleSeries, sizeGroupLayout) : that._getLayoutSeries(visibleSeries, drawOptions);\r\n            delta = (layout.radiusOuter - layout.radiusInner - _consts.pieSeriesSpacing * (lengthVisibleSeries - 1)) / lengthVisibleSeries;\r\n            innerRad = layout.radiusInner;\r\n            that._setGeometry(layout);\r\n            visibleSeries.forEach(function(singleSeries) {\r\n                singleSeries.correctRadius({\r\n                    radiusInner: innerRad,\r\n                    radiusOuter: innerRad + delta\r\n                });\r\n                innerRad += delta + _consts.pieSeriesSpacing\r\n            })\r\n        }\r\n    },\r\n    _renderSeries: function(drawOptions, isRotated, isLegendInside) {\r\n        this._calculateSeriesLayout(drawOptions, isRotated);\r\n        if (!drawOptions.sizeGroupLayout && this.getSizeGroup()) {\r\n            pieSizeEqualizer.queue(this);\r\n            this._clearCanvas();\r\n            return\r\n        }\r\n        this._renderSeriesElements(drawOptions, isRotated, isLegendInside)\r\n    },\r\n    _renderExtraElements: function() {\r\n        var template = this.option(\"centerTemplate\");\r\n        if (this._centerTemplateGroup) {\r\n            this._centerTemplateGroup.clear()\r\n        }\r\n        if (!template) {\r\n            return\r\n        }\r\n        if (!this._centerTemplateGroup) {\r\n            this._centerTemplateGroup = this._renderer.g().attr({\r\n                \"class\": \"dxc-hole-template\"\r\n            }).css((0, _utils.patchFontOptions)(this._themeManager._font))\r\n        }\r\n        this._centerTemplateGroup.append(this._renderer.root);\r\n        template = this._getTemplate(template);\r\n        template.render({\r\n            model: this,\r\n            container: this._centerTemplateGroup.element\r\n        });\r\n        var bBox = this._centerTemplateGroup.getBBox();\r\n        this._centerTemplateGroup.move(this._center.x - (bBox.x + bBox.width / 2), this._center.y - (bBox.y + bBox.height / 2))\r\n    },\r\n    getInnerRadius: function() {\r\n        return this._innerRadius\r\n    },\r\n    _getLegendCallBack: function() {\r\n        var that = this;\r\n        var legend = this._legend;\r\n        var items = this._getLegendTargets().map(function(i) {\r\n            return i.legendData\r\n        });\r\n        return function(target) {\r\n            items.forEach(function(data) {\r\n                var points = [];\r\n                var callback = legend.getActionCallback({\r\n                    index: data.id\r\n                });\r\n                that.series.forEach(function(series) {\r\n                    var seriesPoints = series.getPointsByKeys(data.argument, data.argumentIndex);\r\n                    points.push.apply(points, seriesPoints)\r\n                });\r\n                if (target && target.argument === data.argument && target.argumentIndex === data.argumentIndex) {\r\n                    points.push(target)\r\n                }\r\n                callback(getLegendItemAction(points))\r\n            })\r\n        }\r\n    },\r\n    _locateLabels: function(resolveLabelOverlapping) {\r\n        var iterationCount = 0;\r\n        var labelsWereOverlapped;\r\n        var wordWrapApplied;\r\n        do {\r\n            labelsWereOverlapped = this._resolveLabelOverlapping(resolveLabelOverlapping);\r\n            wordWrapApplied = this._adjustSeriesLabels(\"shift\" === resolveLabelOverlapping)\r\n        } while ((labelsWereOverlapped || wordWrapApplied) && ++iterationCount < MAX_RESOLVE_ITERATION_COUNT)\r\n    },\r\n    _adjustSeriesLabels: function(moveLabelsFromCenter) {\r\n        return this.series.reduce(function(r, s) {\r\n            return s.adjustLabels(moveLabelsFromCenter) || r\r\n        }, false)\r\n    },\r\n    _applyExtraSettings: _common.noop,\r\n    _resolveLabelOverlappingShift: function() {\r\n        var that = this;\r\n        var inverseDirection = \"anticlockwise\" === that.option(\"segmentsDirection\");\r\n        var seriesByPosition = that.series.reduce(function(r, s) {\r\n            (r[s.getOptions().label.position] || r.outside).push(s);\r\n            return r\r\n        }, {\r\n            inside: [],\r\n            columns: [],\r\n            outside: []\r\n        });\r\n        var labelsOverlapped = false;\r\n        if (seriesByPosition.inside.length > 0) {\r\n            labelsOverlapped = resolve(seriesByPosition.inside.reduce(function(r, singleSeries) {\r\n                return singleSeries.getVisiblePoints().reduce(function(r, point) {\r\n                    r.left.push(point);\r\n                    return r\r\n                }, r)\r\n            }, {\r\n                left: [],\r\n                right: []\r\n            }), shiftInColumnFunction) || labelsOverlapped\r\n        }\r\n        labelsOverlapped = seriesByPosition.columns.reduce(function(r, singleSeries) {\r\n            return resolve(dividePoints(singleSeries), shiftInColumnFunction) || r\r\n        }, labelsOverlapped);\r\n        if (seriesByPosition.outside.length > 0) {\r\n            labelsOverlapped = resolve(seriesByPosition.outside.reduce(function(r, singleSeries) {\r\n                return dividePoints(singleSeries, r)\r\n            }, null), shiftFunction) || labelsOverlapped\r\n        }\r\n        return labelsOverlapped;\r\n\r\n        function dividePoints(series, points) {\r\n            return series.getVisiblePoints().reduce(function(r, point) {\r\n                var angle = (0, _utils.normalizeAngle)(point.middleAngle);\r\n                (angle <= 90 || angle >= 270 ? r.right : r.left).push(point);\r\n                return r\r\n            }, points || {\r\n                left: [],\r\n                right: []\r\n            })\r\n        }\r\n\r\n        function resolve(points, shiftCallback) {\r\n            var overlapped = false;\r\n            if (inverseDirection) {\r\n                points.left.reverse();\r\n                points.right.reverse()\r\n            }\r\n            overlapped = _base_chart.overlapping.resolveLabelOverlappingInOneDirection(points.left, that._canvas, false, shiftCallback);\r\n            return _base_chart.overlapping.resolveLabelOverlappingInOneDirection(points.right, that._canvas, false, shiftCallback) || overlapped\r\n        }\r\n\r\n        function shiftFunction(box, length) {\r\n            return (0, _utils.getVerticallyShiftedAngularCoords)(box, -length, that._center)\r\n        }\r\n\r\n        function shiftInColumnFunction(box, length) {\r\n            return {\r\n                x: box.x,\r\n                y: box.y - length\r\n            }\r\n        }\r\n    },\r\n    _setGeometry: function(_ref) {\r\n        var x = _ref.centerX,\r\n            y = _ref.centerY,\r\n            radiusInner = _ref.radiusInner;\r\n        this._center = {\r\n            x: x,\r\n            y: y\r\n        };\r\n        this._innerRadius = radiusInner\r\n    },\r\n    _disposeSeries: function(seriesIndex) {\r\n        this.callBase.apply(this, arguments);\r\n        this._abstractSeries = null\r\n    },\r\n    _legendDataField: \"point\",\r\n    _legendItemTextField: \"argument\",\r\n    _applyPointMarkersAutoHiding: _common.noop,\r\n    _renderTrackers: _common.noop,\r\n    _trackerType: \"PieTracker\",\r\n    _createScrollBar: _common.noop,\r\n    _updateAxesLayout: _common.noop,\r\n    _applyClipRects: _common.noop,\r\n    _appendAdditionalSeriesGroups: _common.noop,\r\n    _prepareToRender: _common.noop,\r\n    _isLegendInside: _common.noop,\r\n    _renderAxes: _common.noop,\r\n    _shrinkAxes: _common.noop,\r\n    _isRotated: _common.noop,\r\n    _seriesPopulatedHandlerCore: _common.noop,\r\n    _reinitAxes: _common.noop,\r\n    _correctAxes: _common.noop,\r\n    _getExtraOptions: function() {\r\n        var that = this;\r\n        return {\r\n            startAngle: that.option(\"startAngle\"),\r\n            innerRadius: that.option(\"innerRadius\"),\r\n            segmentsDirection: that.option(\"segmentsDirection\"),\r\n            type: that.option(\"type\")\r\n        }\r\n    },\r\n    getSizeGroup: function() {\r\n        return this._themeManager.getOptions(\"sizeGroup\")\r\n    },\r\n    getSizeGroupLayout: function() {\r\n        return this._sizeGroupLayout || {}\r\n    }\r\n});\r\n(0, _iterator.each)(OPTIONS_FOR_REFRESH_SERIES, function(_, name) {\r\n    dxPieChart.prototype._optionChangesMap[name] = \"REFRESH_SERIES_DATA_INIT\"\r\n});\r\n(0, _component_registrator2.default)(\"dxPieChart\", dxPieChart);\r\nmodule.exports = dxPieChart;\r\nvar pieSizeEqualizer = function() {\r\n    function equalize(group, allPies) {\r\n        var pies = allPies.filter(function(p) {\r\n            return p._isVisible() && p.getSizeGroup() === group\r\n        });\r\n        var minRadius = Math.min.apply(null, pies.map(function(p) {\r\n            return p.getSizeGroupLayout().radius\r\n        }));\r\n        var minPie = pies.filter(function(p) {\r\n            return p.getSizeGroupLayout().radius === minRadius\r\n        });\r\n        pies.forEach(function(p) {\r\n            return p.render({\r\n                force: true,\r\n                sizeGroupLayout: minPie.length ? minPie[0].getSizeGroupLayout() : {}\r\n            })\r\n        })\r\n    }\r\n\r\n    function removeFromList(list, item) {\r\n        return list.filter(function(li) {\r\n            return li !== item\r\n        })\r\n    }\r\n\r\n    function addToList(list, item) {\r\n        return removeFromList(list, item).concat(item)\r\n    }\r\n    var pies = [];\r\n    var timers = {};\r\n    return {\r\n        queue: function(pie) {\r\n            var group = pie.getSizeGroup();\r\n            pies = addToList(pies, pie);\r\n            clearTimeout(timers[group]);\r\n            timers[group] = setTimeout(function() {\r\n                equalize(group, pies)\r\n            })\r\n        },\r\n        remove: function(pie) {\r\n            pies = removeFromList(pies, pie);\r\n            if (!pies.length) {\r\n                timers = {}\r\n            }\r\n        }\r\n    }\r\n}();\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"module"}