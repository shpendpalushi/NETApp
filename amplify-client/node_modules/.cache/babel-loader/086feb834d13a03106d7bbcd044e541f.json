{"ast":null,"code":"import { Observable } from '../Observable';\nexport function range() {\n  var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var count = arguments.length > 1 ? arguments[1] : undefined;\n  var scheduler = arguments.length > 2 ? arguments[2] : undefined;\n  return new Observable(function (subscriber) {\n    if (count === undefined) {\n      count = start;\n      start = 0;\n    }\n\n    var index = 0;\n    var current = start;\n\n    if (scheduler) {\n      return scheduler.schedule(dispatch, 0, {\n        index: index,\n        count: count,\n        start: start,\n        subscriber: subscriber\n      });\n    } else {\n      do {\n        if (index++ >= count) {\n          subscriber.complete();\n          break;\n        }\n\n        subscriber.next(current++);\n\n        if (subscriber.closed) {\n          break;\n        }\n      } while (true);\n    }\n\n    return undefined;\n  });\n}\nexport function dispatch(state) {\n  var start = state.start,\n      index = state.index,\n      count = state.count,\n      subscriber = state.subscriber;\n\n  if (index >= count) {\n    subscriber.complete();\n    return;\n  }\n\n  subscriber.next(start);\n\n  if (subscriber.closed) {\n    return;\n  }\n\n  state.index = index + 1;\n  state.start = start + 1;\n  this.schedule(state);\n}","map":{"version":3,"sources":["../../../src/internal/observable/range.ts"],"names":[],"mappings":"AACA,SAAA,UAAA,QAAA,eAAA;AAoCA,OAAM,SAAA,KAAA,GAEyC;AAAA,MAFzB,KAEyB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAFT,CAES;AAAA,MADzB,KACyB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,SAAA;AAAA,MAAzB,SAAyB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,SAAA;AAC7C,SAAO,IAAA,UAAA,CAAuB,UAAA,UAAA,EAAa;AACzC,QAAI,KAAK,KAAT,SAAA,EAAyB;AACvB,MAAA,KAAK,GAAL,KAAA;AACA,MAAA,KAAK,GAAL,CAAA;AACD;;AAED,QAAI,KAAK,GAAT,CAAA;AACA,QAAI,OAAO,GAAX,KAAA;;AAEA,QAAA,SAAA,EAAe;AACb,aAAO,SAAS,CAAT,QAAA,CAAA,QAAA,EAAA,CAAA,EAAgC;AACrC,QAAA,KAAK,EADgC,KAAA;AAC9B,QAAA,KAAK,EADyB,KAAA;AACvB,QAAA,KAAK,EADkB,KAAA;AAChB,QAAA,UAAU,EAAV;AADgB,OAAhC,CAAP;AADF,KAAA,MAIO;AACL,SAAG;AACD,YAAI,KAAK,MAAT,KAAA,EAAsB;AACpB,UAAA,UAAU,CAAV,QAAA;AACA;AACD;;AACD,QAAA,UAAU,CAAV,IAAA,CAAgB,OAAhB,EAAA;;AACA,YAAI,UAAU,CAAd,MAAA,EAAuB;AACrB;AACD;AARH,OAAA,QAAA,IAAA;AAUD;;AAED,WAAA,SAAA;AA1BF,GAAO,CAAP;AA4BD;AAGD,OAAM,SAAA,QAAA,CAAA,KAAA,EAAyD;AAAA,MACrD,KADqD,GACjB,KADiB,CAAA,KAAA;AAAA,MAC9C,KAD8C,GACjB,KADiB,CAAA,KAAA;AAAA,MACvC,KADuC,GACjB,KADiB,CAAA,KAAA;AAAA,MAChC,UADgC,GACjB,KADiB,CAAA,UAAA;;AAG7D,MAAI,KAAK,IAAT,KAAA,EAAoB;AAClB,IAAA,UAAU,CAAV,QAAA;AACA;AACD;;AAED,EAAA,UAAU,CAAV,IAAA,CAAA,KAAA;;AAEA,MAAI,UAAU,CAAd,MAAA,EAAuB;AACrB;AACD;;AAED,EAAA,KAAK,CAAL,KAAA,GAAc,KAAK,GAAnB,CAAA;AACA,EAAA,KAAK,CAAL,KAAA,GAAc,KAAK,GAAnB,CAAA;AAEA,OAAA,QAAA,CAAA,KAAA;AACD","sourcesContent":["import { Observable } from '../Observable';\r\nexport function range(start = 0, count, scheduler) {\r\n    return new Observable(subscriber => {\r\n        if (count === undefined) {\r\n            count = start;\r\n            start = 0;\r\n        }\r\n        let index = 0;\r\n        let current = start;\r\n        if (scheduler) {\r\n            return scheduler.schedule(dispatch, 0, {\r\n                index, count, start, subscriber\r\n            });\r\n        }\r\n        else {\r\n            do {\r\n                if (index++ >= count) {\r\n                    subscriber.complete();\r\n                    break;\r\n                }\r\n                subscriber.next(current++);\r\n                if (subscriber.closed) {\r\n                    break;\r\n                }\r\n            } while (true);\r\n        }\r\n        return undefined;\r\n    });\r\n}\r\nexport function dispatch(state) {\r\n    const { start, index, count, subscriber } = state;\r\n    if (index >= count) {\r\n        subscriber.complete();\r\n        return;\r\n    }\r\n    subscriber.next(start);\r\n    if (subscriber.closed) {\r\n        return;\r\n    }\r\n    state.index = index + 1;\r\n    state.start = start + 1;\r\n    this.schedule(state);\r\n}\r\n//# sourceMappingURL=range.js.map"]},"metadata":{},"sourceType":"module"}