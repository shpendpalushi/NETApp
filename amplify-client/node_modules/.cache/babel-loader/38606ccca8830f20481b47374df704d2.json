{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/helpers.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _extend = require(\"../../core/utils/extend\").extend;\n\nvar windowUtils = require(\"../../core/utils/window\");\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar isServerSide = !windowUtils.hasWindow();\n\nfunction Flags() {\n  this.reset();\n}\n\nFlags.prototype = {\n  constructor: Flags,\n  add: function add(codes) {\n    var i;\n    var ii = codes.length;\n    var flags = this._flags;\n\n    for (i = 0; i < ii; ++i) {\n      flags[codes[i]] = 1;\n    }\n\n    this._k += ii;\n  },\n  has: function has(code) {\n    return this._flags[code] > 0;\n  },\n  count: function count() {\n    return this._k;\n  },\n  reset: function reset() {\n    this._flags = {};\n    this._k = 0;\n  }\n};\n\nfunction combineMaps(baseMap, thisMap) {\n  return baseMap !== thisMap ? _extend({}, baseMap, thisMap) : _extend({}, baseMap);\n}\n\nfunction combineLists(baseList, thisList) {\n  return baseList !== thisList ? baseList.concat(thisList) : baseList.slice();\n}\n\nfunction buildTotalChanges(proto) {\n  proto._totalChangesOrder = proto._optionChangesOrder.concat(proto._layoutChangesOrder, proto._customChangesOrder);\n}\n\nfunction addChange(settings) {\n  var proto = this.prototype;\n  var code = settings.code;\n  proto[\"_change_\" + code] = settings.handler;\n\n  if (settings.isThemeDependent) {\n    proto._themeDependentChanges.push(code);\n  }\n\n  if (settings.option) {\n    proto._optionChangesMap[settings.option] = code;\n  }\n\n  (settings.isOptionChange ? proto._optionChangesOrder : proto._customChangesOrder).push(code);\n  buildTotalChanges(proto);\n}\n\nfunction createChainExecutor() {\n  var executeChain = function executeChain() {\n    var i;\n    var ii = executeChain._chain.length;\n    var result;\n\n    for (i = 0; i < ii; ++i) {\n      result = executeChain._chain[i].apply(this, arguments);\n    }\n\n    return result;\n  };\n\n  executeChain._chain = [];\n\n  executeChain.add = function (item) {\n    executeChain._chain.push(item);\n  };\n\n  executeChain.copy = function (executor) {\n    executeChain._chain = executor._chain.slice();\n  };\n\n  return executeChain;\n}\n\nfunction expand(target, name, expander) {\n  var current = target[name];\n\n  if (!current) {\n    current = expander;\n  } else {\n    if (!current.add) {\n      current = createChainExecutor();\n      current.add(target[name]);\n      current.add(expander);\n    } else {\n      if (false === Object.prototype.hasOwnProperty.call(target, name)) {\n        current = createChainExecutor();\n        current.copy(target[name]);\n      }\n\n      current.add(expander);\n    }\n  }\n\n  target[name] = current;\n}\n\nfunction addPlugin(plugin) {\n  var proto = this.prototype;\n\n  proto._plugins.push(plugin);\n\n  plugin.fontFields && proto._fontFields.push.apply(proto._fontFields, plugin.fontFields);\n\n  if (plugin.members) {\n    _extend(this.prototype, plugin.members);\n  }\n\n  if (plugin.customize) {\n    plugin.customize(this);\n  }\n\n  if (plugin.extenders) {\n    Object.keys(plugin.extenders).forEach(function (key) {\n      var func = plugin.extenders[key];\n      expand(proto, key, func);\n    }, this);\n  }\n}\n\nexports.replaceInherit = isServerSide ? function (widget) {\n  var _inherit = widget.inherit;\n\n  widget.inherit = function () {\n    var result = _inherit.apply(this, arguments);\n\n    var proto = result.prototype;\n    [\"_plugins\", \"_eventsMap\", \"_initialChanges\", \"_themeDependentChanges\", \"_optionChangesMap\", \"_optionChangesOrder\", \"_layoutChangesOrder\", \"_customChangesOrder\", \"_totalChangesOrder\"].forEach(function (key) {\n      proto[key] = {};\n    });\n    result.addPlugin = noop;\n    return result;\n  };\n\n  widget.addChange = noop;\n  widget.addPlugin = noop;\n} : function (widget) {\n  var _inherit = widget.inherit;\n\n  widget.inherit = function () {\n    var proto = this.prototype;\n    var plugins = proto._plugins;\n    var fontFields = proto._fontFields;\n    var eventsMap = proto._eventsMap;\n    var initialChanges = proto._initialChanges;\n    var themeDependentChanges = proto._themeDependentChanges;\n    var optionChangesMap = proto._optionChangesMap;\n    var partialOptionChangesMap = proto._partialOptionChangesMap;\n    var partialOptionChangesPath = proto._partialOptionChangesPath;\n    var optionChangesOrder = proto._optionChangesOrder;\n    var layoutChangesOrder = proto._layoutChangesOrder;\n    var customChangesOrder = proto._customChangesOrder;\n\n    var result = _inherit.apply(this, arguments);\n\n    proto = result.prototype;\n    proto._plugins = combineLists(plugins, proto._plugins);\n    proto._fontFields = combineLists(fontFields, proto._fontFields);\n    proto._eventsMap = combineMaps(eventsMap, proto._eventsMap);\n    proto._initialChanges = combineLists(initialChanges, proto._initialChanges);\n    proto._themeDependentChanges = combineLists(themeDependentChanges, proto._themeDependentChanges);\n    proto._optionChangesMap = combineMaps(optionChangesMap, proto._optionChangesMap);\n    proto._partialOptionChangesMap = combineMaps(partialOptionChangesMap, proto._partialOptionChangesMap);\n    proto._partialOptionChangesPath = combineMaps(partialOptionChangesPath, proto._partialOptionChangesPath);\n    proto._optionChangesOrder = combineLists(optionChangesOrder, proto._optionChangesOrder);\n    proto._layoutChangesOrder = combineLists(layoutChangesOrder, proto._layoutChangesOrder);\n    proto._customChangesOrder = combineLists(customChangesOrder, proto._customChangesOrder);\n    buildTotalChanges(proto);\n    result.addPlugin = addPlugin;\n    return result;\n  };\n\n  widget.prototype._plugins = [];\n  widget.prototype._fontFields = [];\n  widget.addChange = addChange;\n  widget.addPlugin = addPlugin;\n};\n\nexports.changes = function () {\n  return new Flags();\n};\n\nexports.expand = expand;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/core/helpers.js"],"names":["_extend","require","windowUtils","noop","isServerSide","Flags","constructor","add","ii","codes","flags","i","has","count","reset","baseMap","baseList","proto","code","settings","buildTotalChanges","executeChain","result","executor","current","target","createChainExecutor","Object","plugin","func","expand","exports","_inherit","widget","plugins","fontFields","eventsMap","initialChanges","themeDependentChanges","optionChangesMap","partialOptionChangesMap","partialOptionChangesPath","optionChangesOrder","layoutChangesOrder","customChangesOrder","combineLists","combineMaps"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/core/helpers.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _extend = require(\"../../core/utils/extend\").extend;\r\nvar windowUtils = require(\"../../core/utils/window\");\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar isServerSide = !windowUtils.hasWindow();\r\n\r\nfunction Flags() {\r\n    this.reset()\r\n}\r\nFlags.prototype = {\r\n    constructor: Flags,\r\n    add: function(codes) {\r\n        var i;\r\n        var ii = codes.length;\r\n        var flags = this._flags;\r\n        for (i = 0; i < ii; ++i) {\r\n            flags[codes[i]] = 1\r\n        }\r\n        this._k += ii\r\n    },\r\n    has: function(code) {\r\n        return this._flags[code] > 0\r\n    },\r\n    count: function() {\r\n        return this._k\r\n    },\r\n    reset: function() {\r\n        this._flags = {};\r\n        this._k = 0\r\n    }\r\n};\r\n\r\nfunction combineMaps(baseMap, thisMap) {\r\n    return baseMap !== thisMap ? _extend({}, baseMap, thisMap) : _extend({}, baseMap)\r\n}\r\n\r\nfunction combineLists(baseList, thisList) {\r\n    return baseList !== thisList ? baseList.concat(thisList) : baseList.slice()\r\n}\r\n\r\nfunction buildTotalChanges(proto) {\r\n    proto._totalChangesOrder = proto._optionChangesOrder.concat(proto._layoutChangesOrder, proto._customChangesOrder)\r\n}\r\n\r\nfunction addChange(settings) {\r\n    var proto = this.prototype;\r\n    var code = settings.code;\r\n    proto[\"_change_\" + code] = settings.handler;\r\n    if (settings.isThemeDependent) {\r\n        proto._themeDependentChanges.push(code)\r\n    }\r\n    if (settings.option) {\r\n        proto._optionChangesMap[settings.option] = code\r\n    }(settings.isOptionChange ? proto._optionChangesOrder : proto._customChangesOrder).push(code);\r\n    buildTotalChanges(proto)\r\n}\r\n\r\nfunction createChainExecutor() {\r\n    var executeChain = function executeChain() {\r\n        var i;\r\n        var ii = executeChain._chain.length;\r\n        var result;\r\n        for (i = 0; i < ii; ++i) {\r\n            result = executeChain._chain[i].apply(this, arguments)\r\n        }\r\n        return result\r\n    };\r\n    executeChain._chain = [];\r\n    executeChain.add = function(item) {\r\n        executeChain._chain.push(item)\r\n    };\r\n    executeChain.copy = function(executor) {\r\n        executeChain._chain = executor._chain.slice()\r\n    };\r\n    return executeChain\r\n}\r\n\r\nfunction expand(target, name, expander) {\r\n    var current = target[name];\r\n    if (!current) {\r\n        current = expander\r\n    } else {\r\n        if (!current.add) {\r\n            current = createChainExecutor();\r\n            current.add(target[name]);\r\n            current.add(expander)\r\n        } else {\r\n            if (false === Object.prototype.hasOwnProperty.call(target, name)) {\r\n                current = createChainExecutor();\r\n                current.copy(target[name])\r\n            }\r\n            current.add(expander)\r\n        }\r\n    }\r\n    target[name] = current\r\n}\r\n\r\nfunction addPlugin(plugin) {\r\n    var proto = this.prototype;\r\n    proto._plugins.push(plugin);\r\n    plugin.fontFields && proto._fontFields.push.apply(proto._fontFields, plugin.fontFields);\r\n    if (plugin.members) {\r\n        _extend(this.prototype, plugin.members)\r\n    }\r\n    if (plugin.customize) {\r\n        plugin.customize(this)\r\n    }\r\n    if (plugin.extenders) {\r\n        Object.keys(plugin.extenders).forEach(function(key) {\r\n            var func = plugin.extenders[key];\r\n            expand(proto, key, func)\r\n        }, this)\r\n    }\r\n}\r\nexports.replaceInherit = isServerSide ? function(widget) {\r\n    var _inherit = widget.inherit;\r\n    widget.inherit = function() {\r\n        var result = _inherit.apply(this, arguments);\r\n        var proto = result.prototype;\r\n        [\"_plugins\", \"_eventsMap\", \"_initialChanges\", \"_themeDependentChanges\", \"_optionChangesMap\", \"_optionChangesOrder\", \"_layoutChangesOrder\", \"_customChangesOrder\", \"_totalChangesOrder\"].forEach(function(key) {\r\n            proto[key] = {}\r\n        });\r\n        result.addPlugin = noop;\r\n        return result\r\n    };\r\n    widget.addChange = noop;\r\n    widget.addPlugin = noop\r\n} : function(widget) {\r\n    var _inherit = widget.inherit;\r\n    widget.inherit = function() {\r\n        var proto = this.prototype;\r\n        var plugins = proto._plugins;\r\n        var fontFields = proto._fontFields;\r\n        var eventsMap = proto._eventsMap;\r\n        var initialChanges = proto._initialChanges;\r\n        var themeDependentChanges = proto._themeDependentChanges;\r\n        var optionChangesMap = proto._optionChangesMap;\r\n        var partialOptionChangesMap = proto._partialOptionChangesMap;\r\n        var partialOptionChangesPath = proto._partialOptionChangesPath;\r\n        var optionChangesOrder = proto._optionChangesOrder;\r\n        var layoutChangesOrder = proto._layoutChangesOrder;\r\n        var customChangesOrder = proto._customChangesOrder;\r\n        var result = _inherit.apply(this, arguments);\r\n        proto = result.prototype;\r\n        proto._plugins = combineLists(plugins, proto._plugins);\r\n        proto._fontFields = combineLists(fontFields, proto._fontFields);\r\n        proto._eventsMap = combineMaps(eventsMap, proto._eventsMap);\r\n        proto._initialChanges = combineLists(initialChanges, proto._initialChanges);\r\n        proto._themeDependentChanges = combineLists(themeDependentChanges, proto._themeDependentChanges);\r\n        proto._optionChangesMap = combineMaps(optionChangesMap, proto._optionChangesMap);\r\n        proto._partialOptionChangesMap = combineMaps(partialOptionChangesMap, proto._partialOptionChangesMap);\r\n        proto._partialOptionChangesPath = combineMaps(partialOptionChangesPath, proto._partialOptionChangesPath);\r\n        proto._optionChangesOrder = combineLists(optionChangesOrder, proto._optionChangesOrder);\r\n        proto._layoutChangesOrder = combineLists(layoutChangesOrder, proto._layoutChangesOrder);\r\n        proto._customChangesOrder = combineLists(customChangesOrder, proto._customChangesOrder);\r\n        buildTotalChanges(proto);\r\n        result.addPlugin = addPlugin;\r\n        return result\r\n    };\r\n    widget.prototype._plugins = [];\r\n    widget.prototype._fontFields = [];\r\n    widget.addChange = addChange;\r\n    widget.addPlugin = addPlugin\r\n};\r\nexports.changes = function() {\r\n    return new Flags\r\n};\r\nexports.expand = expand;\r\n"]},"metadata":{},"sourceType":"module"}