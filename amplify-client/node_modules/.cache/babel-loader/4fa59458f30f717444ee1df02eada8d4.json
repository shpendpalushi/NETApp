{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/workspaces/ui.scheduler.timeline.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../../core/renderer\");\n\nvar noop = require(\"../../../core/utils/common\").noop;\n\nvar extend = require(\"../../../core/utils/extend\").extend;\n\nvar registerComponent = require(\"../../../core/component_registrator\");\n\nvar SchedulerWorkSpace = require(\"./ui.scheduler.work_space.indicator\");\n\nvar dateUtils = require(\"../../../core/utils/date\");\n\nvar tableCreator = require(\"../ui.scheduler.table_creator\");\n\nvar HorizontalShader = require(\"../shaders/ui.scheduler.current_time_shader.horizontal\");\n\nvar TIMELINE_CLASS = \"dx-scheduler-timeline\";\nvar GROUP_TABLE_CLASS = \"dx-scheduler-group-table\";\nvar HORIZONTAL_GROUPED_WORKSPACE_CLASS = \"dx-scheduler-work-space-horizontal-grouped\";\nvar HEADER_PANEL_CELL_CLASS = \"dx-scheduler-header-panel-cell\";\nvar HEADER_PANEL_WEEK_CELL_CLASS = \"dx-scheduler-header-panel-week-cell\";\nvar HEADER_ROW_CLASS = \"dx-scheduler-header-row\";\nvar HORIZONTAL = \"horizontal\";\nvar DATE_TABLE_CELL_BORDER = 1;\nvar DATE_TABLE_HEADER_MARGIN = 10;\nvar toMs = dateUtils.dateToMilliseconds;\nvar SchedulerTimeline = SchedulerWorkSpace.inherit({\n  _init: function _init() {\n    this.callBase();\n    this.$element().addClass(TIMELINE_CLASS);\n    this._$sidebarTable = $(\"<div>\").addClass(GROUP_TABLE_CLASS);\n  },\n  _getCellFromNextRow: function _getCellFromNextRow(direction, isMultiSelection) {\n    if (!isMultiSelection) {\n      return this.callBase(direction, isMultiSelection);\n    }\n\n    return this._$focusedCell;\n  },\n  _getDefaultGroupStrategy: function _getDefaultGroupStrategy() {\n    return \"vertical\";\n  },\n  _toggleGroupingDirectionClass: function _toggleGroupingDirectionClass() {\n    this.$element().toggleClass(HORIZONTAL_GROUPED_WORKSPACE_CLASS, this._isHorizontalGroupedWorkSpace());\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      groupOrientation: \"vertical\"\n    });\n  },\n  _getRightCell: function _getRightCell() {\n    var $rightCell;\n    var $focusedCell = this._$focusedCell;\n\n    var rowCellCount = this._getCellCount();\n\n    var edgeCellIndex = this._isRTL() ? 0 : rowCellCount - 1;\n    var direction = this._isRTL() ? \"prev\" : \"next\";\n\n    if ($focusedCell.index() === edgeCellIndex) {\n      $rightCell = $focusedCell;\n    } else {\n      $rightCell = $focusedCell[direction]();\n      $rightCell = this._checkForViewBounds($rightCell);\n    }\n\n    return $rightCell;\n  },\n  _getLeftCell: function _getLeftCell() {\n    var $leftCell;\n    var $focusedCell = this._$focusedCell;\n\n    var rowCellCount = this._getCellCount();\n\n    var edgeCellIndex = this._isRTL() ? rowCellCount - 1 : 0;\n    var direction = this._isRTL() ? \"next\" : \"prev\";\n\n    if ($focusedCell.index() === edgeCellIndex) {\n      $leftCell = $focusedCell;\n    } else {\n      $leftCell = $focusedCell[direction]();\n      $leftCell = this._checkForViewBounds($leftCell);\n    }\n\n    return $leftCell;\n  },\n  _getRowCount: function _getRowCount() {\n    return 1;\n  },\n  _getCellCount: function _getCellCount() {\n    return this._getCellCountInDay() * this.option(\"intervalCount\");\n  },\n  getGroupTableWidth: function getGroupTableWidth() {\n    return this._$sidebarTable ? this._$sidebarTable.outerWidth() : 0;\n  },\n  _getTotalRowCount: function _getTotalRowCount(groupCount) {\n    if (this._isHorizontalGroupedWorkSpace()) {\n      return this._getRowCount();\n    } else {\n      groupCount = groupCount || 1;\n      return this._getRowCount() * groupCount;\n    }\n  },\n  _getDateByIndex: function _getDateByIndex(index) {\n    var resultDate = new Date(this._firstViewDate);\n    var dayIndex = Math.floor(index / this._getCellCountInDay());\n    resultDate.setTime(this._firstViewDate.getTime() + this._calculateCellIndex(0, index) * this._getInterval() + dayIndex * this._getHiddenInterval());\n    return resultDate;\n  },\n  _getFormat: function _getFormat() {\n    return \"shorttime\";\n  },\n  _needApplyLastGroupCellClass: function _needApplyLastGroupCellClass() {\n    return true;\n  },\n  _calculateHiddenInterval: function _calculateHiddenInterval(rowIndex, cellIndex) {\n    var dayIndex = Math.floor(cellIndex / this._getCellCountInDay());\n    return dayIndex * this._getHiddenInterval();\n  },\n  _getMillisecondsOffset: function _getMillisecondsOffset(rowIndex, cellIndex) {\n    cellIndex = this._calculateCellIndex(rowIndex, cellIndex);\n    return this._getInterval() * cellIndex + this._calculateHiddenInterval(rowIndex, cellIndex);\n  },\n  _createWorkSpaceElements: function _createWorkSpaceElements() {\n    this._createWorkSpaceScrollableElements();\n  },\n  _getWorkSpaceHeight: function _getWorkSpaceHeight() {\n    if (this.option(\"crossScrollingEnabled\")) {\n      return this._$dateTable.get(0).getBoundingClientRect().height;\n    }\n\n    return this.$element().get(0).getBoundingClientRect().height;\n  },\n  _dateTableScrollableConfig: function _dateTableScrollableConfig() {\n    var headerScrollableOnScroll;\n    var config = this.callBase();\n    var timelineConfig = {\n      direction: HORIZONTAL,\n      onStart: function () {\n        if (this._headerScrollable) {\n          headerScrollableOnScroll = this._headerScrollable.option(\"onScroll\");\n\n          this._headerScrollable.option(\"onScroll\", void 0);\n        }\n      }.bind(this),\n      onScroll: function (e) {\n        this._headerScrollable && this._headerScrollable.scrollTo({\n          left: e.scrollOffset.left\n        });\n      }.bind(this),\n      onEnd: function (e) {\n        this._headerScrollable && this._headerScrollable.option(\"onScroll\", headerScrollableOnScroll);\n      }.bind(this)\n    };\n    return this.option(\"crossScrollingEnabled\") ? config : extend(config, timelineConfig);\n  },\n  _headerScrollableConfig: function _headerScrollableConfig() {\n    var config = this.callBase();\n    return extend(config, {\n      scrollByContent: true\n    });\n  },\n  _renderTimePanel: noop,\n  _renderAllDayPanel: noop,\n  _getTableAllDay: function _getTableAllDay() {\n    return false;\n  },\n  _getDateHeaderTemplate: function _getDateHeaderTemplate() {\n    return this.option(\"timeCellTemplate\");\n  },\n  _toggleAllDayVisibility: noop,\n  _changeAllDayVisibility: noop,\n  supportAllDayRow: function supportAllDayRow() {\n    return false;\n  },\n  _getGroupHeaderContainer: function _getGroupHeaderContainer() {\n    if (this._isHorizontalGroupedWorkSpace()) {\n      return this._$thead;\n    }\n\n    return this._$sidebarTable;\n  },\n  _insertAllDayRowsIntoDateTable: function _insertAllDayRowsIntoDateTable() {\n    return false;\n  },\n  _createAllDayPanelElements: noop,\n  _renderDateHeader: function _renderDateHeader() {\n    var $headerRow = this.callBase();\n\n    if (this._needRenderWeekHeader()) {\n      var firstViewDate = new Date(this._firstViewDate);\n      var $cells = [];\n\n      var colspan = this._getCellCountInDay();\n\n      var cellTemplate = this.option(\"dateCellTemplate\");\n\n      for (var i = 0; i < this._getWeekDuration() * this.option(\"intervalCount\"); i++) {\n        var $th = $(\"<th>\");\n\n        var text = this._formatWeekdayAndDay(firstViewDate);\n\n        if (cellTemplate) {\n          var templateOptions = {\n            model: {\n              text: text,\n              date: new Date(firstViewDate)\n            },\n            container: $th,\n            index: i\n          };\n          cellTemplate.render(templateOptions);\n        } else {\n          $th.text(text);\n        }\n\n        $th.addClass(HEADER_PANEL_CELL_CLASS).addClass(HEADER_PANEL_WEEK_CELL_CLASS).attr(\"colSpan\", colspan);\n        $cells.push($th);\n\n        this._incrementDate(firstViewDate);\n      }\n\n      var $row = $(\"<tr>\").addClass(HEADER_ROW_CLASS).append($cells);\n      $headerRow.before($row);\n    }\n  },\n  _needRenderWeekHeader: function _needRenderWeekHeader() {\n    return false;\n  },\n  _incrementDate: function _incrementDate(date) {\n    date.setDate(date.getDate() + 1);\n  },\n  _getWeekDuration: function _getWeekDuration() {\n    return 1;\n  },\n  _renderView: function _renderView() {\n    this._setFirstViewDate();\n\n    var groupCellTemplates = this._renderGroupHeader();\n\n    this._renderDateHeader();\n\n    this._renderAllDayPanel();\n\n    this._renderTimePanel();\n\n    this._renderDateTable();\n\n    this._shader = new HorizontalShader();\n\n    this._updateGroupTableHeight();\n\n    this._$sidebarTable.appendTo(this._sidebarScrollable.$content());\n\n    this._applyCellTemplates(groupCellTemplates);\n  },\n  _setHorizontalGroupHeaderCellsHeight: noop,\n  getIndicationWidth: function getIndicationWidth() {\n    var today = this._getToday();\n\n    var cellWidth = this.getCellWidth();\n\n    var date = this._getIndicationFirstViewDate();\n\n    var hiddenInterval = this._getHiddenInterval();\n\n    var timeDiff = today.getTime() - date.getTime();\n    var differenceInDays = Math.ceil(timeDiff / toMs(\"day\")) - 1;\n    var duration = timeDiff - differenceInDays * hiddenInterval;\n    var cellCount = duration / this.getCellDuration();\n    return cellCount * cellWidth;\n  },\n  _renderIndicator: function _renderIndicator(height, rtlOffset, $container, groupCount) {\n    var $indicator;\n    var width = this.getIndicationWidth();\n\n    if (\"vertical\" === this.option(\"groupOrientation\")) {\n      $indicator = this._createIndicator($container);\n      $indicator.height($container.get(0).getBoundingClientRect().height);\n      $indicator.css(\"left\", rtlOffset ? rtlOffset - width : width);\n    } else {\n      for (var i = 0; i < groupCount; i++) {\n        var offset = this._getCellCount() * this.getCellWidth() * i;\n        $indicator = this._createIndicator($container);\n        $indicator.height($container.get(0).getBoundingClientRect().height);\n        $indicator.css(\"left\", rtlOffset ? rtlOffset - width - offset : width + offset);\n      }\n    }\n  },\n  _isVerticalShader: function _isVerticalShader() {\n    return false;\n  },\n  _isCurrentTimeHeaderCell: function _isCurrentTimeHeaderCell(headerIndex) {\n    var result = false;\n\n    if (this.option(\"showCurrentTimeIndicator\") && this._needRenderDateTimeIndicator()) {\n      var date = this._getDateByIndex(headerIndex);\n\n      var now = this._getToday();\n\n      date = new Date(date);\n\n      if (dateUtils.sameDate(now, date)) {\n        var startCellDate = new Date(date);\n        var endCellDate = new Date(date);\n        endCellDate = endCellDate.setMilliseconds(date.getMilliseconds() + this.getCellDuration());\n        result = dateUtils.dateInRange(now, startCellDate, endCellDate);\n      }\n    }\n\n    return result;\n  },\n  _cleanView: function _cleanView() {\n    this.callBase();\n\n    this._$sidebarTable.empty();\n  },\n  _visibilityChanged: function _visibilityChanged(visible) {\n    this.callBase(visible);\n  },\n  _setTableSizes: function _setTableSizes() {\n    var cellHeight = this.getCellHeight();\n\n    var minHeight = this._getWorkSpaceMinHeight();\n\n    var $groupCells = this._$sidebarTable.find(\"tr\");\n\n    var height = cellHeight * $groupCells.length;\n\n    if (height < minHeight) {\n      height = minHeight;\n    }\n\n    this._$sidebarTable.height(height);\n\n    this._$dateTable.height(height);\n\n    this.callBase();\n  },\n  _getWorkSpaceMinHeight: function _getWorkSpaceMinHeight() {\n    var minHeight = this._getWorkSpaceHeight();\n\n    var workspaceContainerHeight = this.$element().outerHeight(true) - this.getHeaderPanelHeight() - 2 * DATE_TABLE_CELL_BORDER - DATE_TABLE_HEADER_MARGIN;\n\n    if (minHeight < workspaceContainerHeight) {\n      minHeight = workspaceContainerHeight;\n    }\n\n    return minHeight;\n  },\n  _makeGroupRows: function _makeGroupRows(groups, groupByDate) {\n    var tableCreatorStrategy = \"vertical\" === this.option(\"groupOrientation\") ? tableCreator.VERTICAL : tableCreator.HORIZONTAL;\n    return tableCreator.makeGroupedTable(tableCreatorStrategy, groups, {\n      groupRowClass: this._getGroupRowClass(),\n      groupHeaderRowClass: this._getGroupRowClass(),\n      groupHeaderClass: this._getGroupHeaderClass.bind(this),\n      groupHeaderContentClass: this._getGroupHeaderContentClass()\n    }, this._getCellCount() || 1, this.option(\"resourceCellTemplate\"), this._getTotalRowCount(this._getGroupCount()), groupByDate);\n  },\n  _ensureGroupHeaderCellsHeight: function _ensureGroupHeaderCellsHeight(cellHeight) {\n    var minCellHeight = this._calculateMinCellHeight();\n\n    if (cellHeight < minCellHeight) {\n      return minCellHeight;\n    }\n\n    return cellHeight;\n  },\n  _calculateMinCellHeight: function _calculateMinCellHeight() {\n    var dateTable = this._getDateTable();\n\n    var dateTableRowSelector = \".\" + this._getDateTableRowClass();\n\n    return dateTable.get(0).getBoundingClientRect().height / dateTable.find(dateTableRowSelector).length - 2 * DATE_TABLE_CELL_BORDER;\n  },\n  _getCellCoordinatesByIndex: function _getCellCoordinatesByIndex(index) {\n    return {\n      cellIndex: index % this._getCellCount(),\n      rowIndex: 0\n    };\n  },\n  _getCellByCoordinates: function _getCellByCoordinates(cellCoordinates, groupIndex) {\n    var indexes = this._groupedStrategy.prepareCellIndexes(cellCoordinates, groupIndex);\n\n    return this._$dateTable.find(\"tr\").eq(indexes.rowIndex).find(\"td\").eq(indexes.cellIndex);\n  },\n  _getWorkSpaceWidth: function _getWorkSpaceWidth() {\n    return this._$dateTable.outerWidth(true);\n  },\n  _getGroupIndexByCell: function _getGroupIndexByCell($cell) {\n    return $cell.parent().index();\n  },\n  _getIndicationFirstViewDate: function _getIndicationFirstViewDate() {\n    return new Date(this._firstViewDate);\n  },\n  _getIntervalBetween: function _getIntervalBetween(currentDate, allDay) {\n    var startDayHour = this.option(\"startDayHour\");\n    var endDayHour = this.option(\"endDayHour\");\n    var firstViewDate = this.getStartViewDate();\n    var firstViewDateTime = firstViewDate.getTime();\n    var hiddenInterval = (24 - endDayHour + startDayHour) * toMs(\"hour\");\n    var timeZoneOffset = dateUtils.getTimezonesDifference(firstViewDate, currentDate);\n    var apptStart = currentDate.getTime();\n    var fullInterval = apptStart - firstViewDateTime - timeZoneOffset;\n    var fullDays = Math.floor(fullInterval / toMs(\"day\"));\n    var tailDuration = fullInterval - fullDays * toMs(\"day\");\n    var tailDelta = 0;\n\n    var cellCount = this._getCellCountInDay() * (fullDays - this._getWeekendsCount(fullDays));\n\n    var gapBeforeAppt = apptStart - dateUtils.trimTime(new Date(currentDate)).getTime();\n    var result = cellCount * this.option(\"hoursInterval\") * toMs(\"hour\");\n\n    if (!allDay) {\n      if (currentDate.getHours() < startDayHour) {\n        tailDelta = tailDuration - hiddenInterval + gapBeforeAppt;\n      } else {\n        if (currentDate.getHours() >= startDayHour && currentDate.getHours() < endDayHour) {\n          tailDelta = tailDuration;\n        } else {\n          if (currentDate.getHours() >= startDayHour && currentDate.getHours() >= endDayHour) {\n            tailDelta = tailDuration - (gapBeforeAppt - endDayHour * toMs(\"hour\"));\n          } else {\n            if (!fullDays) {\n              result = fullInterval;\n            }\n          }\n        }\n      }\n\n      result += tailDelta;\n    }\n\n    return result;\n  },\n  _getWeekendsCount: function _getWeekendsCount() {\n    return 0;\n  },\n  getAllDayContainer: function getAllDayContainer() {\n    return null;\n  },\n  getTimePanelWidth: function getTimePanelWidth() {\n    return 0;\n  },\n  getPositionShift: function getPositionShift(timeShift) {\n    var positionShift = this.callBase(timeShift);\n    var left = this.getCellWidth() * timeShift;\n\n    if (this.option(\"rtlEnabled\")) {\n      left *= -1;\n    }\n\n    left += positionShift.left;\n    return {\n      top: 0,\n      left: left,\n      cellPosition: left\n    };\n  },\n  getVisibleBounds: function getVisibleBounds() {\n    var isRtl = this.option(\"rtlEnabled\");\n    var result = {};\n    var $scrollable = this.getScrollable().$element();\n    var cellWidth = this.getCellWidth();\n    var scrollableOffset = isRtl ? this.getScrollableOuterWidth() - this.getScrollableScrollLeft() : this.getScrollableScrollLeft();\n    var scrolledCellCount = scrollableOffset / cellWidth;\n    var visibleCellCount = $scrollable.width() / cellWidth;\n    var totalCellCount = isRtl ? scrolledCellCount - visibleCellCount : scrolledCellCount + visibleCellCount;\n\n    var leftDate = this._getDateByIndex(scrolledCellCount);\n\n    var rightDate = this._getDateByIndex(totalCellCount);\n\n    if (isRtl) {\n      leftDate = this._getDateByIndex(totalCellCount);\n      rightDate = this._getDateByIndex(scrolledCellCount);\n    }\n\n    result.left = {\n      hours: leftDate.getHours(),\n      minutes: leftDate.getMinutes() >= 30 ? 30 : 0,\n      date: dateUtils.trimTime(leftDate)\n    };\n    result.right = {\n      hours: rightDate.getHours(),\n      minutes: rightDate.getMinutes() >= 30 ? 30 : 0,\n      date: dateUtils.trimTime(rightDate)\n    };\n    return result;\n  },\n  needUpdateScrollPosition: function needUpdateScrollPosition(hours, minutes, bounds, date) {\n    var isUpdateNeeded = false;\n    isUpdateNeeded = this._dateWithinBounds(bounds, date);\n\n    if (hours < bounds.left.hours || hours > bounds.right.hours) {\n      isUpdateNeeded = true;\n    }\n\n    if (hours === bounds.left.hours && minutes < bounds.left.minutes) {\n      isUpdateNeeded = true;\n    }\n\n    if (hours === bounds.right.hours && minutes > bounds.right.minutes) {\n      isUpdateNeeded = true;\n    }\n\n    return isUpdateNeeded;\n  },\n  getIntervalDuration: function getIntervalDuration(allDay) {\n    return this.getCellDuration();\n  },\n  _dateWithinBounds: function _dateWithinBounds(bounds, date) {\n    var trimmedDate = dateUtils.trimTime(new Date(date));\n    var isUpdateNeeded = false;\n\n    if (trimmedDate < bounds.left.date || trimmedDate > bounds.right.date) {\n      isUpdateNeeded = true;\n    }\n\n    return isUpdateNeeded;\n  },\n  _supportCompactDropDownAppointments: function _supportCompactDropDownAppointments() {\n    return false;\n  },\n  getCellMinWidth: function getCellMinWidth() {\n    return 0;\n  },\n  getWorkSpaceLeftOffset: function getWorkSpaceLeftOffset() {\n    return 0;\n  },\n  scrollToTime: function scrollToTime(hours, minutes, date) {\n    var coordinates = this._getScrollCoordinates(hours, minutes, date);\n\n    var scrollable = this.getScrollable();\n    var offset = this.option(\"rtlEnabled\") ? this.getScrollableContainer().get(0).getBoundingClientRect().width : 0;\n\n    if (this.option(\"templatesRenderAsynchronously\")) {\n      setTimeout(function () {\n        scrollable.scrollBy({\n          left: coordinates.left - scrollable.scrollLeft() - offset,\n          top: 0\n        });\n      });\n    } else {\n      scrollable.scrollBy({\n        left: coordinates.left - scrollable.scrollLeft() - offset,\n        top: 0\n      });\n    }\n  }\n});\nregisterComponent(\"dxSchedulerTimeline\", SchedulerTimeline);\nmodule.exports = SchedulerTimeline;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/scheduler/workspaces/ui.scheduler.timeline.js"],"names":["$","require","noop","extend","registerComponent","SchedulerWorkSpace","dateUtils","tableCreator","HorizontalShader","TIMELINE_CLASS","GROUP_TABLE_CLASS","HORIZONTAL_GROUPED_WORKSPACE_CLASS","HEADER_PANEL_CELL_CLASS","HEADER_PANEL_WEEK_CELL_CLASS","HEADER_ROW_CLASS","HORIZONTAL","DATE_TABLE_CELL_BORDER","DATE_TABLE_HEADER_MARGIN","toMs","SchedulerTimeline","_init","_getCellFromNextRow","_getDefaultGroupStrategy","_toggleGroupingDirectionClass","_getDefaultOptions","groupOrientation","_getRightCell","$focusedCell","rowCellCount","edgeCellIndex","direction","$rightCell","_getLeftCell","$leftCell","_getRowCount","_getCellCount","getGroupTableWidth","_getTotalRowCount","groupCount","_getDateByIndex","resultDate","dayIndex","Math","index","_getFormat","_needApplyLastGroupCellClass","_calculateHiddenInterval","cellIndex","_getMillisecondsOffset","_createWorkSpaceElements","_getWorkSpaceHeight","_dateTableScrollableConfig","config","timelineConfig","onStart","headerScrollableOnScroll","onScroll","left","e","onEnd","_headerScrollableConfig","scrollByContent","_renderTimePanel","_renderAllDayPanel","_getTableAllDay","_getDateHeaderTemplate","_toggleAllDayVisibility","_changeAllDayVisibility","supportAllDayRow","_getGroupHeaderContainer","_insertAllDayRowsIntoDateTable","_createAllDayPanelElements","_renderDateHeader","$headerRow","firstViewDate","$cells","colspan","cellTemplate","i","$th","text","templateOptions","model","date","container","$row","_needRenderWeekHeader","_incrementDate","_getWeekDuration","_renderView","groupCellTemplates","_setHorizontalGroupHeaderCellsHeight","getIndicationWidth","today","cellWidth","hiddenInterval","timeDiff","differenceInDays","duration","cellCount","_renderIndicator","width","$indicator","$container","rtlOffset","offset","_isVerticalShader","_isCurrentTimeHeaderCell","result","now","startCellDate","endCellDate","_cleanView","_visibilityChanged","_setTableSizes","cellHeight","minHeight","$groupCells","height","_getWorkSpaceMinHeight","workspaceContainerHeight","_makeGroupRows","tableCreatorStrategy","groupRowClass","groupHeaderRowClass","groupHeaderClass","groupHeaderContentClass","_ensureGroupHeaderCellsHeight","minCellHeight","_calculateMinCellHeight","dateTable","dateTableRowSelector","_getCellCoordinatesByIndex","rowIndex","_getCellByCoordinates","indexes","_getWorkSpaceWidth","_getGroupIndexByCell","$cell","_getIndicationFirstViewDate","_getIntervalBetween","startDayHour","endDayHour","firstViewDateTime","timeZoneOffset","apptStart","currentDate","fullInterval","fullDays","tailDuration","tailDelta","gapBeforeAppt","_getWeekendsCount","getAllDayContainer","getTimePanelWidth","getPositionShift","positionShift","top","cellPosition","getVisibleBounds","isRtl","$scrollable","scrollableOffset","scrolledCellCount","visibleCellCount","totalCellCount","leftDate","rightDate","hours","minutes","needUpdateScrollPosition","isUpdateNeeded","bounds","getIntervalDuration","_dateWithinBounds","trimmedDate","_supportCompactDropDownAppointments","getCellMinWidth","getWorkSpaceLeftOffset","scrollToTime","coordinates","scrollable","setTimeout","module"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,CAAC,GAAGC,OAAO,CAAf,wBAAe,CAAf;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAPA,4BAAO,CAAPA,CAAX,IAAA;;AACA,IAAIE,MAAM,GAAGF,OAAO,CAAPA,4BAAO,CAAPA,CAAb,MAAA;;AACA,IAAIG,iBAAiB,GAAGH,OAAO,CAA/B,qCAA+B,CAA/B;;AACA,IAAII,kBAAkB,GAAGJ,OAAO,CAAhC,qCAAgC,CAAhC;;AACA,IAAIK,SAAS,GAAGL,OAAO,CAAvB,0BAAuB,CAAvB;;AACA,IAAIM,YAAY,GAAGN,OAAO,CAA1B,+BAA0B,CAA1B;;AACA,IAAIO,gBAAgB,GAAGP,OAAO,CAA9B,wDAA8B,CAA9B;;AACA,IAAIQ,cAAc,GAAlB,uBAAA;AACA,IAAIC,iBAAiB,GAArB,0BAAA;AACA,IAAIC,kCAAkC,GAAtC,4CAAA;AACA,IAAIC,uBAAuB,GAA3B,gCAAA;AACA,IAAIC,4BAA4B,GAAhC,qCAAA;AACA,IAAIC,gBAAgB,GAApB,yBAAA;AACA,IAAIC,UAAU,GAAd,YAAA;AACA,IAAIC,sBAAsB,GAA1B,CAAA;AACA,IAAIC,wBAAwB,GAA5B,EAAA;AACA,IAAIC,IAAI,GAAGZ,SAAS,CAApB,kBAAA;AACA,IAAIa,iBAAiB,GAAG,kBAAkB,CAAlB,OAAA,CAA2B;AAC/CC,EAAAA,KAAK,EAAE,SAAA,KAAA,GAAW;AACd,SAAA,QAAA;AACA,SAAA,QAAA,GAAA,QAAA,CAAA,cAAA;AACA,SAAA,cAAA,GAAsBpB,CAAC,CAADA,OAAC,CAADA,CAAAA,QAAAA,CAAtB,iBAAsBA,CAAtB;AAJ2C,GAAA;AAM/CqB,EAAAA,mBAAmB,EAAE,SAAA,mBAAA,CAAA,SAAA,EAAA,gBAAA,EAAsC;AACvD,QAAI,CAAJ,gBAAA,EAAuB;AACnB,aAAO,KAAA,QAAA,CAAA,SAAA,EAAP,gBAAO,CAAP;AACH;;AACD,WAAO,KAAP,aAAA;AAV2C,GAAA;AAY/CC,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,GAAW;AACjC,WAAA,UAAA;AAb2C,GAAA;AAe/CC,EAAAA,6BAA6B,EAAE,SAAA,6BAAA,GAAW;AACtC,SAAA,QAAA,GAAA,WAAA,CAAA,kCAAA,EAAgE,KAAhE,6BAAgE,EAAhE;AAhB2C,GAAA;AAkB/CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,WAAOrB,MAAM,CAAC,KAAD,QAAC,EAAD,EAAkB;AAC3BsB,MAAAA,gBAAgB,EAAE;AADS,KAAlB,CAAb;AAnB2C,GAAA;AAuB/CC,EAAAA,aAAa,EAAE,SAAA,aAAA,GAAW;AACtB,QAAA,UAAA;AACA,QAAIC,YAAY,GAAG,KAAnB,aAAA;;AACA,QAAIC,YAAY,GAAG,KAAnB,aAAmB,EAAnB;;AACA,QAAIC,aAAa,GAAG,KAAA,MAAA,KAAA,CAAA,GAAoBD,YAAY,GAApD,CAAA;AACA,QAAIE,SAAS,GAAG,KAAA,MAAA,KAAA,MAAA,GAAhB,MAAA;;AACA,QAAIH,YAAY,CAAZA,KAAAA,OAAJ,aAAA,EAA4C;AACxCI,MAAAA,UAAU,GAAVA,YAAAA;AADJ,KAAA,MAEO;AACHA,MAAAA,UAAU,GAAGJ,YAAY,CAAzBI,SAAyB,CAAZJ,EAAbI;AACAA,MAAAA,UAAU,GAAG,KAAA,mBAAA,CAAbA,UAAa,CAAbA;AACH;;AACD,WAAA,UAAA;AAnC2C,GAAA;AAqC/CC,EAAAA,YAAY,EAAE,SAAA,YAAA,GAAW;AACrB,QAAA,SAAA;AACA,QAAIL,YAAY,GAAG,KAAnB,aAAA;;AACA,QAAIC,YAAY,GAAG,KAAnB,aAAmB,EAAnB;;AACA,QAAIC,aAAa,GAAG,KAAA,MAAA,KAAgBD,YAAY,GAA5B,CAAA,GAApB,CAAA;AACA,QAAIE,SAAS,GAAG,KAAA,MAAA,KAAA,MAAA,GAAhB,MAAA;;AACA,QAAIH,YAAY,CAAZA,KAAAA,OAAJ,aAAA,EAA4C;AACxCM,MAAAA,SAAS,GAATA,YAAAA;AADJ,KAAA,MAEO;AACHA,MAAAA,SAAS,GAAGN,YAAY,CAAxBM,SAAwB,CAAZN,EAAZM;AACAA,MAAAA,SAAS,GAAG,KAAA,mBAAA,CAAZA,SAAY,CAAZA;AACH;;AACD,WAAA,SAAA;AAjD2C,GAAA;AAmD/CC,EAAAA,YAAY,EAAE,SAAA,YAAA,GAAW;AACrB,WAAA,CAAA;AApD2C,GAAA;AAsD/CC,EAAAA,aAAa,EAAE,SAAA,aAAA,GAAW;AACtB,WAAO,KAAA,kBAAA,KAA4B,KAAA,MAAA,CAAnC,eAAmC,CAAnC;AAvD2C,GAAA;AAyD/CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,WAAO,KAAA,cAAA,GAAsB,KAAA,cAAA,CAAtB,UAAsB,EAAtB,GAAP,CAAA;AA1D2C,GAAA;AA4D/CC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,CAAA,UAAA,EAAqB;AACpC,QAAI,KAAJ,6BAAI,EAAJ,EAA0C;AACtC,aAAO,KAAP,YAAO,EAAP;AADJ,KAAA,MAEO;AACHC,MAAAA,UAAU,GAAGA,UAAU,IAAvBA,CAAAA;AACA,aAAO,KAAA,YAAA,KAAP,UAAA;AACH;AAlE0C,GAAA;AAoE/CC,EAAAA,eAAe,EAAE,SAAA,eAAA,CAAA,KAAA,EAAgB;AAC7B,QAAIC,UAAU,GAAG,IAAA,IAAA,CAAS,KAA1B,cAAiB,CAAjB;AACA,QAAIC,QAAQ,GAAGC,IAAI,CAAJA,KAAAA,CAAWC,KAAK,GAAG,KAAlC,kBAAkC,EAAnBD,CAAf;AACAF,IAAAA,UAAU,CAAVA,OAAAA,CAAmB,KAAA,cAAA,CAAA,OAAA,KAAgC,KAAA,mBAAA,CAAA,CAAA,EAAA,KAAA,IAAqC,KAArE,YAAqE,EAArE,GAA2FC,QAAQ,GAAG,KAAzHD,kBAAyH,EAAzHA;AACA,WAAA,UAAA;AAxE2C,GAAA;AA0E/CI,EAAAA,UAAU,EAAE,SAAA,UAAA,GAAW;AACnB,WAAA,WAAA;AA3E2C,GAAA;AA6E/CC,EAAAA,4BAA4B,EAAE,SAAA,4BAAA,GAAW;AACrC,WAAA,IAAA;AA9E2C,GAAA;AAgF/CC,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,CAAA,QAAA,EAAA,SAAA,EAA8B;AACpD,QAAIL,QAAQ,GAAGC,IAAI,CAAJA,KAAAA,CAAWK,SAAS,GAAG,KAAtC,kBAAsC,EAAvBL,CAAf;AACA,WAAOD,QAAQ,GAAG,KAAlB,kBAAkB,EAAlB;AAlF2C,GAAA;AAoF/CO,EAAAA,sBAAsB,EAAE,SAAA,sBAAA,CAAA,QAAA,EAAA,SAAA,EAA8B;AAClDD,IAAAA,SAAS,GAAG,KAAA,mBAAA,CAAA,QAAA,EAAZA,SAAY,CAAZA;AACA,WAAO,KAAA,YAAA,KAAA,SAAA,GAAkC,KAAA,wBAAA,CAAA,QAAA,EAAzC,SAAyC,CAAzC;AAtF2C,GAAA;AAwF/CE,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,GAAW;AACjC,SAAA,kCAAA;AAzF2C,GAAA;AA2F/CC,EAAAA,mBAAmB,EAAE,SAAA,mBAAA,GAAW;AAC5B,QAAI,KAAA,MAAA,CAAJ,uBAAI,CAAJ,EAA0C;AACtC,aAAO,KAAA,WAAA,CAAA,GAAA,CAAA,CAAA,EAAA,qBAAA,GAAP,MAAA;AACH;;AACD,WAAO,KAAA,QAAA,GAAA,GAAA,CAAA,CAAA,EAAA,qBAAA,GAAP,MAAA;AA/F2C,GAAA;AAiG/CC,EAAAA,0BAA0B,EAAE,SAAA,0BAAA,GAAW;AACnC,QAAA,wBAAA;AACA,QAAIC,MAAM,GAAG,KAAb,QAAa,EAAb;AACA,QAAIC,cAAc,GAAG;AACjBvB,MAAAA,SAAS,EADQ,UAAA;AAEjBwB,MAAAA,OAAO,EAAE,YAAW;AAChB,YAAI,KAAJ,iBAAA,EAA4B;AACxBC,UAAAA,wBAAwB,GAAG,KAAA,iBAAA,CAAA,MAAA,CAA3BA,UAA2B,CAA3BA;;AACA,eAAA,iBAAA,CAAA,MAAA,CAAA,UAAA,EAA0C,KAA1C,CAAA;AACH;AAJI,OAAA,CAAA,IAAA,CAFQ,IAER,CAFQ;AAQjBC,MAAAA,QAAQ,EAAE,UAAA,CAAA,EAAY;AAClB,aAAA,iBAAA,IAA0B,KAAA,iBAAA,CAAA,QAAA,CAAgC;AACtDC,UAAAA,IAAI,EAAEC,CAAC,CAADA,YAAAA,CAAeD;AADiC,SAAhC,CAA1B;AADM,OAAA,CAAA,IAAA,CARO,IAQP,CARO;AAajBE,MAAAA,KAAK,EAAE,UAAA,CAAA,EAAY;AACf,aAAA,iBAAA,IAA0B,KAAA,iBAAA,CAAA,MAAA,CAAA,UAAA,EAA1B,wBAA0B,CAA1B;AADG,OAAA,CAAA,IAAA,CAAA,IAAA;AAbU,KAArB;AAiBA,WAAO,KAAA,MAAA,CAAA,uBAAA,IAAA,MAAA,GAAgDxD,MAAM,CAAA,MAAA,EAA7D,cAA6D,CAA7D;AArH2C,GAAA;AAuH/CyD,EAAAA,uBAAuB,EAAE,SAAA,uBAAA,GAAW;AAChC,QAAIR,MAAM,GAAG,KAAb,QAAa,EAAb;AACA,WAAOjD,MAAM,CAAA,MAAA,EAAS;AAClB0D,MAAAA,eAAe,EAAE;AADC,KAAT,CAAb;AAzH2C,GAAA;AA6H/CC,EAAAA,gBAAgB,EA7H+B,IAAA;AA8H/CC,EAAAA,kBAAkB,EA9H6B,IAAA;AA+H/CC,EAAAA,eAAe,EAAE,SAAA,eAAA,GAAW;AACxB,WAAA,KAAA;AAhI2C,GAAA;AAkI/CC,EAAAA,sBAAsB,EAAE,SAAA,sBAAA,GAAW;AAC/B,WAAO,KAAA,MAAA,CAAP,kBAAO,CAAP;AAnI2C,GAAA;AAqI/CC,EAAAA,uBAAuB,EArIwB,IAAA;AAsI/CC,EAAAA,uBAAuB,EAtIwB,IAAA;AAuI/CC,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,GAAW;AACzB,WAAA,KAAA;AAxI2C,GAAA;AA0I/CC,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,GAAW;AACjC,QAAI,KAAJ,6BAAI,EAAJ,EAA0C;AACtC,aAAO,KAAP,OAAA;AACH;;AACD,WAAO,KAAP,cAAA;AA9I2C,GAAA;AAgJ/CC,EAAAA,8BAA8B,EAAE,SAAA,8BAAA,GAAW;AACvC,WAAA,KAAA;AAjJ2C,GAAA;AAmJ/CC,EAAAA,0BAA0B,EAnJqB,IAAA;AAoJ/CC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,GAAW;AAC1B,QAAIC,UAAU,GAAG,KAAjB,QAAiB,EAAjB;;AACA,QAAI,KAAJ,qBAAI,EAAJ,EAAkC;AAC9B,UAAIC,aAAa,GAAG,IAAA,IAAA,CAAS,KAA7B,cAAoB,CAApB;AACA,UAAIC,MAAM,GAAV,EAAA;;AACA,UAAIC,OAAO,GAAG,KAAd,kBAAc,EAAd;;AACA,UAAIC,YAAY,GAAG,KAAA,MAAA,CAAnB,kBAAmB,CAAnB;;AACA,WAAK,IAAIC,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAG,KAAA,gBAAA,KAA0B,KAAA,MAAA,CAA9C,eAA8C,CAA9C,EAA4EA,CAA5E,EAAA,EAAiF;AAC7E,YAAIC,GAAG,GAAG/E,CAAC,CAAX,MAAW,CAAX;;AACA,YAAIgF,IAAI,GAAG,KAAA,oBAAA,CAAX,aAAW,CAAX;;AACA,YAAA,YAAA,EAAkB;AACd,cAAIC,eAAe,GAAG;AAClBC,YAAAA,KAAK,EAAE;AACHF,cAAAA,IAAI,EADD,IAAA;AAEHG,cAAAA,IAAI,EAAE,IAAA,IAAA,CAAA,aAAA;AAFH,aADW;AAKlBC,YAAAA,SAAS,EALS,GAAA;AAMlBzC,YAAAA,KAAK,EAAEmC;AANW,WAAtB;AAQAD,UAAAA,YAAY,CAAZA,MAAAA,CAAAA,eAAAA;AATJ,SAAA,MAUO;AACHE,UAAAA,GAAG,CAAHA,IAAAA,CAAAA,IAAAA;AACH;;AACDA,QAAAA,GAAG,CAAHA,QAAAA,CAAAA,uBAAAA,EAAAA,QAAAA,CAAAA,4BAAAA,EAAAA,IAAAA,CAAAA,SAAAA,EAAAA,OAAAA;AACAJ,QAAAA,MAAM,CAANA,IAAAA,CAAAA,GAAAA;;AACA,aAAA,cAAA,CAAA,aAAA;AACH;;AACD,UAAIU,IAAI,GAAGrF,CAAC,CAADA,MAAC,CAADA,CAAAA,QAAAA,CAAAA,gBAAAA,EAAAA,MAAAA,CAAX,MAAWA,CAAX;AACAyE,MAAAA,UAAU,CAAVA,MAAAA,CAAAA,IAAAA;AACH;AAjL0C,GAAA;AAmL/Ca,EAAAA,qBAAqB,EAAE,SAAA,qBAAA,GAAW;AAC9B,WAAA,KAAA;AApL2C,GAAA;AAsL/CC,EAAAA,cAAc,EAAE,SAAA,cAAA,CAAA,IAAA,EAAe;AAC3BJ,IAAAA,IAAI,CAAJA,OAAAA,CAAaA,IAAI,CAAJA,OAAAA,KAAbA,CAAAA;AAvL2C,GAAA;AAyL/CK,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,GAAW;AACzB,WAAA,CAAA;AA1L2C,GAAA;AA4L/CC,EAAAA,WAAW,EAAE,SAAA,WAAA,GAAW;AACpB,SAAA,iBAAA;;AACA,QAAIC,kBAAkB,GAAG,KAAzB,kBAAyB,EAAzB;;AACA,SAAA,iBAAA;;AACA,SAAA,kBAAA;;AACA,SAAA,gBAAA;;AACA,SAAA,gBAAA;;AACA,SAAA,OAAA,GAAe,IAAf,gBAAe,EAAf;;AACA,SAAA,uBAAA;;AACA,SAAA,cAAA,CAAA,QAAA,CAA6B,KAAA,kBAAA,CAA7B,QAA6B,EAA7B;;AACA,SAAA,mBAAA,CAAA,kBAAA;AAtM2C,GAAA;AAwM/CC,EAAAA,oCAAoC,EAxMW,IAAA;AAyM/CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,QAAIC,KAAK,GAAG,KAAZ,SAAY,EAAZ;;AACA,QAAIC,SAAS,GAAG,KAAhB,YAAgB,EAAhB;;AACA,QAAIX,IAAI,GAAG,KAAX,2BAAW,EAAX;;AACA,QAAIY,cAAc,GAAG,KAArB,kBAAqB,EAArB;;AACA,QAAIC,QAAQ,GAAGH,KAAK,CAALA,OAAAA,KAAkBV,IAAI,CAArC,OAAiCA,EAAjC;AACA,QAAIc,gBAAgB,GAAGvD,IAAI,CAAJA,IAAAA,CAAUsD,QAAQ,GAAG9E,IAAI,CAAzBwB,KAAyB,CAAzBA,IAAvB,CAAA;AACA,QAAIwD,QAAQ,GAAGF,QAAQ,GAAGC,gBAAgB,GAA1C,cAAA;AACA,QAAIE,SAAS,GAAGD,QAAQ,GAAG,KAA3B,eAA2B,EAA3B;AACA,WAAOC,SAAS,GAAhB,SAAA;AAlN2C,GAAA;AAoN/CC,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,MAAA,EAAA,SAAA,EAAA,UAAA,EAAA,UAAA,EAAoD;AAClE,QAAA,UAAA;AACA,QAAIC,KAAK,GAAG,KAAZ,kBAAY,EAAZ;;AACA,QAAI,eAAe,KAAA,MAAA,CAAnB,kBAAmB,CAAnB,EAAoD;AAChDC,MAAAA,UAAU,GAAG,KAAA,gBAAA,CAAbA,UAAa,CAAbA;AACAA,MAAAA,UAAU,CAAVA,MAAAA,CAAkBC,UAAU,CAAVA,GAAAA,CAAAA,CAAAA,EAAAA,qBAAAA,GAAlBD,MAAAA;AACAA,MAAAA,UAAU,CAAVA,GAAAA,CAAAA,MAAAA,EAAuBE,SAAS,GAAGA,SAAS,GAAZ,KAAA,GAAhCF,KAAAA;AAHJ,KAAA,MAIO;AACH,WAAK,IAAIxB,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,UAAA,EAAgCA,CAAhC,EAAA,EAAqC;AACjC,YAAI2B,MAAM,GAAG,KAAA,aAAA,KAAuB,KAAvB,YAAuB,EAAvB,GAAb,CAAA;AACAH,QAAAA,UAAU,GAAG,KAAA,gBAAA,CAAbA,UAAa,CAAbA;AACAA,QAAAA,UAAU,CAAVA,MAAAA,CAAkBC,UAAU,CAAVA,GAAAA,CAAAA,CAAAA,EAAAA,qBAAAA,GAAlBD,MAAAA;AACAA,QAAAA,UAAU,CAAVA,GAAAA,CAAAA,MAAAA,EAAuBE,SAAS,GAAGA,SAAS,GAATA,KAAAA,GAAH,MAAA,GAAgCH,KAAK,GAArEC,MAAAA;AACH;AACJ;AAlO0C,GAAA;AAoO/CI,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,GAAW;AAC1B,WAAA,KAAA;AArO2C,GAAA;AAuO/CC,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,CAAA,WAAA,EAAsB;AAC5C,QAAIC,MAAM,GAAV,KAAA;;AACA,QAAI,KAAA,MAAA,CAAA,0BAAA,KAA2C,KAA/C,4BAA+C,EAA/C,EAAoF;AAChF,UAAIzB,IAAI,GAAG,KAAA,eAAA,CAAX,WAAW,CAAX;;AACA,UAAI0B,GAAG,GAAG,KAAV,SAAU,EAAV;;AACA1B,MAAAA,IAAI,GAAG,IAAA,IAAA,CAAPA,IAAO,CAAPA;;AACA,UAAI7E,SAAS,CAATA,QAAAA,CAAAA,GAAAA,EAAJ,IAAIA,CAAJ,EAAmC;AAC/B,YAAIwG,aAAa,GAAG,IAAA,IAAA,CAApB,IAAoB,CAApB;AACA,YAAIC,WAAW,GAAG,IAAA,IAAA,CAAlB,IAAkB,CAAlB;AACAA,QAAAA,WAAW,GAAGA,WAAW,CAAXA,eAAAA,CAA4B5B,IAAI,CAAJA,eAAAA,KAAyB,KAAnE4B,eAAmE,EAArDA,CAAdA;AACAH,QAAAA,MAAM,GAAGtG,SAAS,CAATA,WAAAA,CAAAA,GAAAA,EAAAA,aAAAA,EAATsG,WAAStG,CAATsG;AACH;AACJ;;AACD,WAAA,MAAA;AApP2C,GAAA;AAsP/CI,EAAAA,UAAU,EAAE,SAAA,UAAA,GAAW;AACnB,SAAA,QAAA;;AACA,SAAA,cAAA,CAAA,KAAA;AAxP2C,GAAA;AA0P/CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,CAAA,OAAA,EAAkB;AAClC,SAAA,QAAA,CAAA,OAAA;AA3P2C,GAAA;AA6P/CC,EAAAA,cAAc,EAAE,SAAA,cAAA,GAAW;AACvB,QAAIC,UAAU,GAAG,KAAjB,aAAiB,EAAjB;;AACA,QAAIC,SAAS,GAAG,KAAhB,sBAAgB,EAAhB;;AACA,QAAIC,WAAW,GAAG,KAAA,cAAA,CAAA,IAAA,CAAlB,IAAkB,CAAlB;;AACA,QAAIC,MAAM,GAAGH,UAAU,GAAGE,WAAW,CAArC,MAAA;;AACA,QAAIC,MAAM,GAAV,SAAA,EAAwB;AACpBA,MAAAA,MAAM,GAANA,SAAAA;AACH;;AACD,SAAA,cAAA,CAAA,MAAA,CAAA,MAAA;;AACA,SAAA,WAAA,CAAA,MAAA,CAAA,MAAA;;AACA,SAAA,QAAA;AAvQ2C,GAAA;AAyQ/CC,EAAAA,sBAAsB,EAAE,SAAA,sBAAA,GAAW;AAC/B,QAAIH,SAAS,GAAG,KAAhB,mBAAgB,EAAhB;;AACA,QAAII,wBAAwB,GAAG,KAAA,QAAA,GAAA,WAAA,CAAA,IAAA,IAAoC,KAApC,oBAAoC,EAApC,GAAkE,IAAlE,sBAAA,GAA/B,wBAAA;;AACA,QAAIJ,SAAS,GAAb,wBAAA,EAA0C;AACtCA,MAAAA,SAAS,GAATA,wBAAAA;AACH;;AACD,WAAA,SAAA;AA/Q2C,GAAA;AAiR/CK,EAAAA,cAAc,EAAE,SAAA,cAAA,CAAA,MAAA,EAAA,WAAA,EAA8B;AAC1C,QAAIC,oBAAoB,GAAG,eAAe,KAAA,MAAA,CAAf,kBAAe,CAAf,GAAiDnH,YAAY,CAA7D,QAAA,GAAyEA,YAAY,CAAhH,UAAA;AACA,WAAO,YAAY,CAAZ,gBAAA,CAAA,oBAAA,EAAA,MAAA,EAA4D;AAC/DoH,MAAAA,aAAa,EAAE,KADgD,iBAChD,EADgD;AAE/DC,MAAAA,mBAAmB,EAAE,KAF0C,iBAE1C,EAF0C;AAG/DC,MAAAA,gBAAgB,EAAE,KAAA,oBAAA,CAAA,IAAA,CAH6C,IAG7C,CAH6C;AAI/DC,MAAAA,uBAAuB,EAAE,KAAA,2BAAA;AAJsC,KAA5D,EAKJ,KAAA,aAAA,MALI,CAAA,EAKuB,KAAA,MAAA,CALvB,sBAKuB,CALvB,EAK4D,KAAA,iBAAA,CAAuB,KALnF,cAKmF,EAAvB,CAL5D,EAAP,WAAO,CAAP;AAnR2C,GAAA;AA0R/CC,EAAAA,6BAA6B,EAAE,SAAA,6BAAA,CAAA,UAAA,EAAqB;AAChD,QAAIC,aAAa,GAAG,KAApB,uBAAoB,EAApB;;AACA,QAAIb,UAAU,GAAd,aAAA,EAAgC;AAC5B,aAAA,aAAA;AACH;;AACD,WAAA,UAAA;AA/R2C,GAAA;AAiS/Cc,EAAAA,uBAAuB,EAAE,SAAA,uBAAA,GAAW;AAChC,QAAIC,SAAS,GAAG,KAAhB,aAAgB,EAAhB;;AACA,QAAIC,oBAAoB,GAAG,MAAM,KAAjC,qBAAiC,EAAjC;;AACA,WAAOD,SAAS,CAATA,GAAAA,CAAAA,CAAAA,EAAAA,qBAAAA,GAAAA,MAAAA,GAAkDA,SAAS,CAATA,IAAAA,CAAAA,oBAAAA,EAAlDA,MAAAA,GAAgG,IAAvG,sBAAA;AApS2C,GAAA;AAsS/CE,EAAAA,0BAA0B,EAAE,SAAA,0BAAA,CAAA,KAAA,EAAgB;AACxC,WAAO;AACHrF,MAAAA,SAAS,EAAEJ,KAAK,GAAG,KADhB,aACgB,EADhB;AAEH0F,MAAAA,QAAQ,EAAE;AAFP,KAAP;AAvS2C,GAAA;AA4S/CC,EAAAA,qBAAqB,EAAE,SAAA,qBAAA,CAAA,eAAA,EAAA,UAAA,EAAsC;AACzD,QAAIC,OAAO,GAAG,KAAA,gBAAA,CAAA,kBAAA,CAAA,eAAA,EAAd,UAAc,CAAd;;AACA,WAAO,KAAA,WAAA,CAAA,IAAA,CAAA,IAAA,EAAA,EAAA,CAA+BA,OAAO,CAAtC,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,CAA+DA,OAAO,CAA7E,SAAO,CAAP;AA9S2C,GAAA;AAgT/CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,WAAO,KAAA,WAAA,CAAA,UAAA,CAAP,IAAO,CAAP;AAjT2C,GAAA;AAmT/CC,EAAAA,oBAAoB,EAAE,SAAA,oBAAA,CAAA,KAAA,EAAgB;AAClC,WAAOC,KAAK,CAALA,MAAAA,GAAP,KAAOA,EAAP;AApT2C,GAAA;AAsT/CC,EAAAA,2BAA2B,EAAE,SAAA,2BAAA,GAAW;AACpC,WAAO,IAAA,IAAA,CAAS,KAAhB,cAAO,CAAP;AAvT2C,GAAA;AAyT/CC,EAAAA,mBAAmB,EAAE,SAAA,mBAAA,CAAA,WAAA,EAAA,MAAA,EAA8B;AAC/C,QAAIC,YAAY,GAAG,KAAA,MAAA,CAAnB,cAAmB,CAAnB;AACA,QAAIC,UAAU,GAAG,KAAA,MAAA,CAAjB,YAAiB,CAAjB;AACA,QAAIpE,aAAa,GAAG,KAApB,gBAAoB,EAApB;AACA,QAAIqE,iBAAiB,GAAGrE,aAAa,CAArC,OAAwBA,EAAxB;AACA,QAAIqB,cAAc,GAAG,CAAC,KAAA,UAAA,GAAD,YAAA,IAAmC7E,IAAI,CAA5D,MAA4D,CAA5D;AACA,QAAI8H,cAAc,GAAG1I,SAAS,CAATA,sBAAAA,CAAAA,aAAAA,EAArB,WAAqBA,CAArB;AACA,QAAI2I,SAAS,GAAGC,WAAW,CAA3B,OAAgBA,EAAhB;AACA,QAAIC,YAAY,GAAGF,SAAS,GAATA,iBAAAA,GAAnB,cAAA;AACA,QAAIG,QAAQ,GAAG1G,IAAI,CAAJA,KAAAA,CAAWyG,YAAY,GAAGjI,IAAI,CAA7C,KAA6C,CAA9BwB,CAAf;AACA,QAAI2G,YAAY,GAAGF,YAAY,GAAGC,QAAQ,GAAGlI,IAAI,CAAjD,KAAiD,CAAjD;AACA,QAAIoI,SAAS,GAAb,CAAA;;AACA,QAAInD,SAAS,GAAG,KAAA,kBAAA,MAA6BiD,QAAQ,GAAG,KAAA,iBAAA,CAAxD,QAAwD,CAAxC,CAAhB;;AACA,QAAIG,aAAa,GAAGN,SAAS,GAAG3I,SAAS,CAATA,QAAAA,CAAmB,IAAA,IAAA,CAAnBA,WAAmB,CAAnBA,EAAhC,OAAgCA,EAAhC;AACA,QAAIsG,MAAM,GAAGT,SAAS,GAAG,KAAA,MAAA,CAAZA,eAAY,CAAZA,GAA2CjF,IAAI,CAA5D,MAA4D,CAA5D;;AACA,QAAI,CAAJ,MAAA,EAAa;AACT,UAAIgI,WAAW,CAAXA,QAAAA,KAAJ,YAAA,EAA2C;AACvCI,QAAAA,SAAS,GAAGD,YAAY,GAAZA,cAAAA,GAAZC,aAAAA;AADJ,OAAA,MAEO;AACH,YAAIJ,WAAW,CAAXA,QAAAA,MAAAA,YAAAA,IAA0CA,WAAW,CAAXA,QAAAA,KAA9C,UAAA,EAAmF;AAC/EI,UAAAA,SAAS,GAATA,YAAAA;AADJ,SAAA,MAEO;AACH,cAAIJ,WAAW,CAAXA,QAAAA,MAAAA,YAAAA,IAA0CA,WAAW,CAAXA,QAAAA,MAA9C,UAAA,EAAoF;AAChFI,YAAAA,SAAS,GAAGD,YAAY,IAAIE,aAAa,GAAGT,UAAU,GAAG5H,IAAI,CAA7DoI,MAA6D,CAArC,CAAxBA;AADJ,WAAA,MAEO;AACH,gBAAI,CAAJ,QAAA,EAAe;AACX1C,cAAAA,MAAM,GAANA,YAAAA;AACH;AACJ;AACJ;AACJ;;AACDA,MAAAA,MAAM,IAANA,SAAAA;AACH;;AACD,WAAA,MAAA;AA1V2C,GAAA;AA4V/C4C,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,GAAW;AAC1B,WAAA,CAAA;AA7V2C,GAAA;AA+V/CC,EAAAA,kBAAkB,EAAE,SAAA,kBAAA,GAAW;AAC3B,WAAA,IAAA;AAhW2C,GAAA;AAkW/CC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,GAAW;AAC1B,WAAA,CAAA;AAnW2C,GAAA;AAqW/CC,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,CAAA,SAAA,EAAoB;AAClC,QAAIC,aAAa,GAAG,KAAA,QAAA,CAApB,SAAoB,CAApB;AACA,QAAInG,IAAI,GAAG,KAAA,YAAA,KAAX,SAAA;;AACA,QAAI,KAAA,MAAA,CAAJ,YAAI,CAAJ,EAA+B;AAC3BA,MAAAA,IAAI,IAAI,CAARA,CAAAA;AACH;;AACDA,IAAAA,IAAI,IAAImG,aAAa,CAArBnG,IAAAA;AACA,WAAO;AACHoG,MAAAA,GAAG,EADA,CAAA;AAEHpG,MAAAA,IAAI,EAFD,IAAA;AAGHqG,MAAAA,YAAY,EAAErG;AAHX,KAAP;AA5W2C,GAAA;AAkX/CsG,EAAAA,gBAAgB,EAAE,SAAA,gBAAA,GAAW;AACzB,QAAIC,KAAK,GAAG,KAAA,MAAA,CAAZ,YAAY,CAAZ;AACA,QAAIpD,MAAM,GAAV,EAAA;AACA,QAAIqD,WAAW,GAAG,KAAA,aAAA,GAAlB,QAAkB,EAAlB;AACA,QAAInE,SAAS,GAAG,KAAhB,YAAgB,EAAhB;AACA,QAAIoE,gBAAgB,GAAGF,KAAK,GAAG,KAAA,uBAAA,KAAiC,KAApC,uBAAoC,EAApC,GAAqE,KAAjG,uBAAiG,EAAjG;AACA,QAAIG,iBAAiB,GAAGD,gBAAgB,GAAxC,SAAA;AACA,QAAIE,gBAAgB,GAAGH,WAAW,CAAXA,KAAAA,KAAvB,SAAA;AACA,QAAII,cAAc,GAAGL,KAAK,GAAGG,iBAAiB,GAApB,gBAAA,GAA0CA,iBAAiB,GAArF,gBAAA;;AACA,QAAIG,QAAQ,GAAG,KAAA,eAAA,CAAf,iBAAe,CAAf;;AACA,QAAIC,SAAS,GAAG,KAAA,eAAA,CAAhB,cAAgB,CAAhB;;AACA,QAAA,KAAA,EAAW;AACPD,MAAAA,QAAQ,GAAG,KAAA,eAAA,CAAXA,cAAW,CAAXA;AACAC,MAAAA,SAAS,GAAG,KAAA,eAAA,CAAZA,iBAAY,CAAZA;AACH;;AACD3D,IAAAA,MAAM,CAANA,IAAAA,GAAc;AACV4D,MAAAA,KAAK,EAAEF,QAAQ,CADL,QACHA,EADG;AAEVG,MAAAA,OAAO,EAAEH,QAAQ,CAARA,UAAAA,MAAAA,EAAAA,GAAAA,EAAAA,GAFC,CAAA;AAGVnF,MAAAA,IAAI,EAAE7E,SAAS,CAATA,QAAAA,CAAAA,QAAAA;AAHI,KAAdsG;AAKAA,IAAAA,MAAM,CAANA,KAAAA,GAAe;AACX4D,MAAAA,KAAK,EAAED,SAAS,CADL,QACJA,EADI;AAEXE,MAAAA,OAAO,EAAEF,SAAS,CAATA,UAAAA,MAAAA,EAAAA,GAAAA,EAAAA,GAFE,CAAA;AAGXpF,MAAAA,IAAI,EAAE7E,SAAS,CAATA,QAAAA,CAAAA,SAAAA;AAHK,KAAfsG;AAKA,WAAA,MAAA;AA3Y2C,GAAA;AA6Y/C8D,EAAAA,wBAAwB,EAAE,SAAA,wBAAA,CAAA,KAAA,EAAA,OAAA,EAAA,MAAA,EAAA,IAAA,EAAuC;AAC7D,QAAIC,cAAc,GAAlB,KAAA;AACAA,IAAAA,cAAc,GAAG,KAAA,iBAAA,CAAA,MAAA,EAAjBA,IAAiB,CAAjBA;;AACA,QAAIH,KAAK,GAAGI,MAAM,CAANA,IAAAA,CAARJ,KAAAA,IAA6BA,KAAK,GAAGI,MAAM,CAANA,KAAAA,CAAzC,KAAA,EAA6D;AACzDD,MAAAA,cAAc,GAAdA,IAAAA;AACH;;AACD,QAAIH,KAAK,KAAKI,MAAM,CAANA,IAAAA,CAAVJ,KAAAA,IAA+BC,OAAO,GAAGG,MAAM,CAANA,IAAAA,CAA7C,OAAA,EAAkE;AAC9DD,MAAAA,cAAc,GAAdA,IAAAA;AACH;;AACD,QAAIH,KAAK,KAAKI,MAAM,CAANA,KAAAA,CAAVJ,KAAAA,IAAgCC,OAAO,GAAGG,MAAM,CAANA,KAAAA,CAA9C,OAAA,EAAoE;AAChED,MAAAA,cAAc,GAAdA,IAAAA;AACH;;AACD,WAAA,cAAA;AAzZ2C,GAAA;AA2Z/CE,EAAAA,mBAAmB,EAAE,SAAA,mBAAA,CAAA,MAAA,EAAiB;AAClC,WAAO,KAAP,eAAO,EAAP;AA5Z2C,GAAA;AA8Z/CC,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,CAAA,MAAA,EAAA,IAAA,EAAuB;AACtC,QAAIC,WAAW,GAAGzK,SAAS,CAATA,QAAAA,CAAmB,IAAA,IAAA,CAArC,IAAqC,CAAnBA,CAAlB;AACA,QAAIqK,cAAc,GAAlB,KAAA;;AACA,QAAII,WAAW,GAAGH,MAAM,CAANA,IAAAA,CAAdG,IAAAA,IAAkCA,WAAW,GAAGH,MAAM,CAANA,KAAAA,CAApD,IAAA,EAAuE;AACnED,MAAAA,cAAc,GAAdA,IAAAA;AACH;;AACD,WAAA,cAAA;AApa2C,GAAA;AAsa/CK,EAAAA,mCAAmC,EAAE,SAAA,mCAAA,GAAW;AAC5C,WAAA,KAAA;AAva2C,GAAA;AAya/CC,EAAAA,eAAe,EAAE,SAAA,eAAA,GAAW;AACxB,WAAA,CAAA;AA1a2C,GAAA;AA4a/CC,EAAAA,sBAAsB,EAAE,SAAA,sBAAA,GAAW;AAC/B,WAAA,CAAA;AA7a2C,GAAA;AA+a/CC,EAAAA,YAAY,EAAE,SAAA,YAAA,CAAA,KAAA,EAAA,OAAA,EAAA,IAAA,EAA+B;AACzC,QAAIC,WAAW,GAAG,KAAA,qBAAA,CAAA,KAAA,EAAA,OAAA,EAAlB,IAAkB,CAAlB;;AACA,QAAIC,UAAU,GAAG,KAAjB,aAAiB,EAAjB;AACA,QAAI5E,MAAM,GAAG,KAAA,MAAA,CAAA,YAAA,IAA4B,KAAA,sBAAA,GAAA,GAAA,CAAA,CAAA,EAAA,qBAAA,GAA5B,KAAA,GAAb,CAAA;;AACA,QAAI,KAAA,MAAA,CAAJ,+BAAI,CAAJ,EAAkD;AAC9C6E,MAAAA,UAAU,CAAC,YAAW;AAClBD,QAAAA,UAAU,CAAVA,QAAAA,CAAoB;AAChB5H,UAAAA,IAAI,EAAE2H,WAAW,CAAXA,IAAAA,GAAmBC,UAAU,CAA7BD,UAAmBC,EAAnBD,GADU,MAAA;AAEhBvB,UAAAA,GAAG,EAAE;AAFW,SAApBwB;AADJC,OAAU,CAAVA;AADJ,KAAA,MAOO;AACHD,MAAAA,UAAU,CAAVA,QAAAA,CAAoB;AAChB5H,QAAAA,IAAI,EAAE2H,WAAW,CAAXA,IAAAA,GAAmBC,UAAU,CAA7BD,UAAmBC,EAAnBD,GADU,MAAA;AAEhBvB,QAAAA,GAAG,EAAE;AAFW,OAApBwB;AAIH;AACJ;AAhc8C,CAA3B,CAAxB;AAkcAjL,iBAAiB,CAAA,qBAAA,EAAjBA,iBAAiB,CAAjBA;AACAmL,MAAM,CAANA,OAAAA,GAAAA,iBAAAA","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/workspaces/ui.scheduler.timeline.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../../core/renderer\");\r\nvar noop = require(\"../../../core/utils/common\").noop;\r\nvar extend = require(\"../../../core/utils/extend\").extend;\r\nvar registerComponent = require(\"../../../core/component_registrator\");\r\nvar SchedulerWorkSpace = require(\"./ui.scheduler.work_space.indicator\");\r\nvar dateUtils = require(\"../../../core/utils/date\");\r\nvar tableCreator = require(\"../ui.scheduler.table_creator\");\r\nvar HorizontalShader = require(\"../shaders/ui.scheduler.current_time_shader.horizontal\");\r\nvar TIMELINE_CLASS = \"dx-scheduler-timeline\";\r\nvar GROUP_TABLE_CLASS = \"dx-scheduler-group-table\";\r\nvar HORIZONTAL_GROUPED_WORKSPACE_CLASS = \"dx-scheduler-work-space-horizontal-grouped\";\r\nvar HEADER_PANEL_CELL_CLASS = \"dx-scheduler-header-panel-cell\";\r\nvar HEADER_PANEL_WEEK_CELL_CLASS = \"dx-scheduler-header-panel-week-cell\";\r\nvar HEADER_ROW_CLASS = \"dx-scheduler-header-row\";\r\nvar HORIZONTAL = \"horizontal\";\r\nvar DATE_TABLE_CELL_BORDER = 1;\r\nvar DATE_TABLE_HEADER_MARGIN = 10;\r\nvar toMs = dateUtils.dateToMilliseconds;\r\nvar SchedulerTimeline = SchedulerWorkSpace.inherit({\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(TIMELINE_CLASS);\r\n        this._$sidebarTable = $(\"<div>\").addClass(GROUP_TABLE_CLASS)\r\n    },\r\n    _getCellFromNextRow: function(direction, isMultiSelection) {\r\n        if (!isMultiSelection) {\r\n            return this.callBase(direction, isMultiSelection)\r\n        }\r\n        return this._$focusedCell\r\n    },\r\n    _getDefaultGroupStrategy: function() {\r\n        return \"vertical\"\r\n    },\r\n    _toggleGroupingDirectionClass: function() {\r\n        this.$element().toggleClass(HORIZONTAL_GROUPED_WORKSPACE_CLASS, this._isHorizontalGroupedWorkSpace())\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            groupOrientation: \"vertical\"\r\n        })\r\n    },\r\n    _getRightCell: function() {\r\n        var $rightCell;\r\n        var $focusedCell = this._$focusedCell;\r\n        var rowCellCount = this._getCellCount();\r\n        var edgeCellIndex = this._isRTL() ? 0 : rowCellCount - 1;\r\n        var direction = this._isRTL() ? \"prev\" : \"next\";\r\n        if ($focusedCell.index() === edgeCellIndex) {\r\n            $rightCell = $focusedCell\r\n        } else {\r\n            $rightCell = $focusedCell[direction]();\r\n            $rightCell = this._checkForViewBounds($rightCell)\r\n        }\r\n        return $rightCell\r\n    },\r\n    _getLeftCell: function() {\r\n        var $leftCell;\r\n        var $focusedCell = this._$focusedCell;\r\n        var rowCellCount = this._getCellCount();\r\n        var edgeCellIndex = this._isRTL() ? rowCellCount - 1 : 0;\r\n        var direction = this._isRTL() ? \"next\" : \"prev\";\r\n        if ($focusedCell.index() === edgeCellIndex) {\r\n            $leftCell = $focusedCell\r\n        } else {\r\n            $leftCell = $focusedCell[direction]();\r\n            $leftCell = this._checkForViewBounds($leftCell)\r\n        }\r\n        return $leftCell\r\n    },\r\n    _getRowCount: function() {\r\n        return 1\r\n    },\r\n    _getCellCount: function() {\r\n        return this._getCellCountInDay() * this.option(\"intervalCount\")\r\n    },\r\n    getGroupTableWidth: function() {\r\n        return this._$sidebarTable ? this._$sidebarTable.outerWidth() : 0\r\n    },\r\n    _getTotalRowCount: function(groupCount) {\r\n        if (this._isHorizontalGroupedWorkSpace()) {\r\n            return this._getRowCount()\r\n        } else {\r\n            groupCount = groupCount || 1;\r\n            return this._getRowCount() * groupCount\r\n        }\r\n    },\r\n    _getDateByIndex: function(index) {\r\n        var resultDate = new Date(this._firstViewDate);\r\n        var dayIndex = Math.floor(index / this._getCellCountInDay());\r\n        resultDate.setTime(this._firstViewDate.getTime() + this._calculateCellIndex(0, index) * this._getInterval() + dayIndex * this._getHiddenInterval());\r\n        return resultDate\r\n    },\r\n    _getFormat: function() {\r\n        return \"shorttime\"\r\n    },\r\n    _needApplyLastGroupCellClass: function() {\r\n        return true\r\n    },\r\n    _calculateHiddenInterval: function(rowIndex, cellIndex) {\r\n        var dayIndex = Math.floor(cellIndex / this._getCellCountInDay());\r\n        return dayIndex * this._getHiddenInterval()\r\n    },\r\n    _getMillisecondsOffset: function(rowIndex, cellIndex) {\r\n        cellIndex = this._calculateCellIndex(rowIndex, cellIndex);\r\n        return this._getInterval() * cellIndex + this._calculateHiddenInterval(rowIndex, cellIndex)\r\n    },\r\n    _createWorkSpaceElements: function() {\r\n        this._createWorkSpaceScrollableElements()\r\n    },\r\n    _getWorkSpaceHeight: function() {\r\n        if (this.option(\"crossScrollingEnabled\")) {\r\n            return this._$dateTable.get(0).getBoundingClientRect().height\r\n        }\r\n        return this.$element().get(0).getBoundingClientRect().height\r\n    },\r\n    _dateTableScrollableConfig: function() {\r\n        var headerScrollableOnScroll;\r\n        var config = this.callBase();\r\n        var timelineConfig = {\r\n            direction: HORIZONTAL,\r\n            onStart: function() {\r\n                if (this._headerScrollable) {\r\n                    headerScrollableOnScroll = this._headerScrollable.option(\"onScroll\");\r\n                    this._headerScrollable.option(\"onScroll\", void 0)\r\n                }\r\n            }.bind(this),\r\n            onScroll: function(e) {\r\n                this._headerScrollable && this._headerScrollable.scrollTo({\r\n                    left: e.scrollOffset.left\r\n                })\r\n            }.bind(this),\r\n            onEnd: function(e) {\r\n                this._headerScrollable && this._headerScrollable.option(\"onScroll\", headerScrollableOnScroll)\r\n            }.bind(this)\r\n        };\r\n        return this.option(\"crossScrollingEnabled\") ? config : extend(config, timelineConfig)\r\n    },\r\n    _headerScrollableConfig: function() {\r\n        var config = this.callBase();\r\n        return extend(config, {\r\n            scrollByContent: true\r\n        })\r\n    },\r\n    _renderTimePanel: noop,\r\n    _renderAllDayPanel: noop,\r\n    _getTableAllDay: function() {\r\n        return false\r\n    },\r\n    _getDateHeaderTemplate: function() {\r\n        return this.option(\"timeCellTemplate\")\r\n    },\r\n    _toggleAllDayVisibility: noop,\r\n    _changeAllDayVisibility: noop,\r\n    supportAllDayRow: function() {\r\n        return false\r\n    },\r\n    _getGroupHeaderContainer: function() {\r\n        if (this._isHorizontalGroupedWorkSpace()) {\r\n            return this._$thead\r\n        }\r\n        return this._$sidebarTable\r\n    },\r\n    _insertAllDayRowsIntoDateTable: function() {\r\n        return false\r\n    },\r\n    _createAllDayPanelElements: noop,\r\n    _renderDateHeader: function() {\r\n        var $headerRow = this.callBase();\r\n        if (this._needRenderWeekHeader()) {\r\n            var firstViewDate = new Date(this._firstViewDate);\r\n            var $cells = [];\r\n            var colspan = this._getCellCountInDay();\r\n            var cellTemplate = this.option(\"dateCellTemplate\");\r\n            for (var i = 0; i < this._getWeekDuration() * this.option(\"intervalCount\"); i++) {\r\n                var $th = $(\"<th>\");\r\n                var text = this._formatWeekdayAndDay(firstViewDate);\r\n                if (cellTemplate) {\r\n                    var templateOptions = {\r\n                        model: {\r\n                            text: text,\r\n                            date: new Date(firstViewDate)\r\n                        },\r\n                        container: $th,\r\n                        index: i\r\n                    };\r\n                    cellTemplate.render(templateOptions)\r\n                } else {\r\n                    $th.text(text)\r\n                }\r\n                $th.addClass(HEADER_PANEL_CELL_CLASS).addClass(HEADER_PANEL_WEEK_CELL_CLASS).attr(\"colSpan\", colspan);\r\n                $cells.push($th);\r\n                this._incrementDate(firstViewDate)\r\n            }\r\n            var $row = $(\"<tr>\").addClass(HEADER_ROW_CLASS).append($cells);\r\n            $headerRow.before($row)\r\n        }\r\n    },\r\n    _needRenderWeekHeader: function() {\r\n        return false\r\n    },\r\n    _incrementDate: function(date) {\r\n        date.setDate(date.getDate() + 1)\r\n    },\r\n    _getWeekDuration: function() {\r\n        return 1\r\n    },\r\n    _renderView: function() {\r\n        this._setFirstViewDate();\r\n        var groupCellTemplates = this._renderGroupHeader();\r\n        this._renderDateHeader();\r\n        this._renderAllDayPanel();\r\n        this._renderTimePanel();\r\n        this._renderDateTable();\r\n        this._shader = new HorizontalShader;\r\n        this._updateGroupTableHeight();\r\n        this._$sidebarTable.appendTo(this._sidebarScrollable.$content());\r\n        this._applyCellTemplates(groupCellTemplates)\r\n    },\r\n    _setHorizontalGroupHeaderCellsHeight: noop,\r\n    getIndicationWidth: function() {\r\n        var today = this._getToday();\r\n        var cellWidth = this.getCellWidth();\r\n        var date = this._getIndicationFirstViewDate();\r\n        var hiddenInterval = this._getHiddenInterval();\r\n        var timeDiff = today.getTime() - date.getTime();\r\n        var differenceInDays = Math.ceil(timeDiff / toMs(\"day\")) - 1;\r\n        var duration = timeDiff - differenceInDays * hiddenInterval;\r\n        var cellCount = duration / this.getCellDuration();\r\n        return cellCount * cellWidth\r\n    },\r\n    _renderIndicator: function(height, rtlOffset, $container, groupCount) {\r\n        var $indicator;\r\n        var width = this.getIndicationWidth();\r\n        if (\"vertical\" === this.option(\"groupOrientation\")) {\r\n            $indicator = this._createIndicator($container);\r\n            $indicator.height($container.get(0).getBoundingClientRect().height);\r\n            $indicator.css(\"left\", rtlOffset ? rtlOffset - width : width)\r\n        } else {\r\n            for (var i = 0; i < groupCount; i++) {\r\n                var offset = this._getCellCount() * this.getCellWidth() * i;\r\n                $indicator = this._createIndicator($container);\r\n                $indicator.height($container.get(0).getBoundingClientRect().height);\r\n                $indicator.css(\"left\", rtlOffset ? rtlOffset - width - offset : width + offset)\r\n            }\r\n        }\r\n    },\r\n    _isVerticalShader: function() {\r\n        return false\r\n    },\r\n    _isCurrentTimeHeaderCell: function(headerIndex) {\r\n        var result = false;\r\n        if (this.option(\"showCurrentTimeIndicator\") && this._needRenderDateTimeIndicator()) {\r\n            var date = this._getDateByIndex(headerIndex);\r\n            var now = this._getToday();\r\n            date = new Date(date);\r\n            if (dateUtils.sameDate(now, date)) {\r\n                var startCellDate = new Date(date);\r\n                var endCellDate = new Date(date);\r\n                endCellDate = endCellDate.setMilliseconds(date.getMilliseconds() + this.getCellDuration());\r\n                result = dateUtils.dateInRange(now, startCellDate, endCellDate)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _cleanView: function() {\r\n        this.callBase();\r\n        this._$sidebarTable.empty()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        this.callBase(visible)\r\n    },\r\n    _setTableSizes: function() {\r\n        var cellHeight = this.getCellHeight();\r\n        var minHeight = this._getWorkSpaceMinHeight();\r\n        var $groupCells = this._$sidebarTable.find(\"tr\");\r\n        var height = cellHeight * $groupCells.length;\r\n        if (height < minHeight) {\r\n            height = minHeight\r\n        }\r\n        this._$sidebarTable.height(height);\r\n        this._$dateTable.height(height);\r\n        this.callBase()\r\n    },\r\n    _getWorkSpaceMinHeight: function() {\r\n        var minHeight = this._getWorkSpaceHeight();\r\n        var workspaceContainerHeight = this.$element().outerHeight(true) - this.getHeaderPanelHeight() - 2 * DATE_TABLE_CELL_BORDER - DATE_TABLE_HEADER_MARGIN;\r\n        if (minHeight < workspaceContainerHeight) {\r\n            minHeight = workspaceContainerHeight\r\n        }\r\n        return minHeight\r\n    },\r\n    _makeGroupRows: function(groups, groupByDate) {\r\n        var tableCreatorStrategy = \"vertical\" === this.option(\"groupOrientation\") ? tableCreator.VERTICAL : tableCreator.HORIZONTAL;\r\n        return tableCreator.makeGroupedTable(tableCreatorStrategy, groups, {\r\n            groupRowClass: this._getGroupRowClass(),\r\n            groupHeaderRowClass: this._getGroupRowClass(),\r\n            groupHeaderClass: this._getGroupHeaderClass.bind(this),\r\n            groupHeaderContentClass: this._getGroupHeaderContentClass()\r\n        }, this._getCellCount() || 1, this.option(\"resourceCellTemplate\"), this._getTotalRowCount(this._getGroupCount()), groupByDate)\r\n    },\r\n    _ensureGroupHeaderCellsHeight: function(cellHeight) {\r\n        var minCellHeight = this._calculateMinCellHeight();\r\n        if (cellHeight < minCellHeight) {\r\n            return minCellHeight\r\n        }\r\n        return cellHeight\r\n    },\r\n    _calculateMinCellHeight: function() {\r\n        var dateTable = this._getDateTable();\r\n        var dateTableRowSelector = \".\" + this._getDateTableRowClass();\r\n        return dateTable.get(0).getBoundingClientRect().height / dateTable.find(dateTableRowSelector).length - 2 * DATE_TABLE_CELL_BORDER\r\n    },\r\n    _getCellCoordinatesByIndex: function(index) {\r\n        return {\r\n            cellIndex: index % this._getCellCount(),\r\n            rowIndex: 0\r\n        }\r\n    },\r\n    _getCellByCoordinates: function(cellCoordinates, groupIndex) {\r\n        var indexes = this._groupedStrategy.prepareCellIndexes(cellCoordinates, groupIndex);\r\n        return this._$dateTable.find(\"tr\").eq(indexes.rowIndex).find(\"td\").eq(indexes.cellIndex)\r\n    },\r\n    _getWorkSpaceWidth: function() {\r\n        return this._$dateTable.outerWidth(true)\r\n    },\r\n    _getGroupIndexByCell: function($cell) {\r\n        return $cell.parent().index()\r\n    },\r\n    _getIndicationFirstViewDate: function() {\r\n        return new Date(this._firstViewDate)\r\n    },\r\n    _getIntervalBetween: function(currentDate, allDay) {\r\n        var startDayHour = this.option(\"startDayHour\");\r\n        var endDayHour = this.option(\"endDayHour\");\r\n        var firstViewDate = this.getStartViewDate();\r\n        var firstViewDateTime = firstViewDate.getTime();\r\n        var hiddenInterval = (24 - endDayHour + startDayHour) * toMs(\"hour\");\r\n        var timeZoneOffset = dateUtils.getTimezonesDifference(firstViewDate, currentDate);\r\n        var apptStart = currentDate.getTime();\r\n        var fullInterval = apptStart - firstViewDateTime - timeZoneOffset;\r\n        var fullDays = Math.floor(fullInterval / toMs(\"day\"));\r\n        var tailDuration = fullInterval - fullDays * toMs(\"day\");\r\n        var tailDelta = 0;\r\n        var cellCount = this._getCellCountInDay() * (fullDays - this._getWeekendsCount(fullDays));\r\n        var gapBeforeAppt = apptStart - dateUtils.trimTime(new Date(currentDate)).getTime();\r\n        var result = cellCount * this.option(\"hoursInterval\") * toMs(\"hour\");\r\n        if (!allDay) {\r\n            if (currentDate.getHours() < startDayHour) {\r\n                tailDelta = tailDuration - hiddenInterval + gapBeforeAppt\r\n            } else {\r\n                if (currentDate.getHours() >= startDayHour && currentDate.getHours() < endDayHour) {\r\n                    tailDelta = tailDuration\r\n                } else {\r\n                    if (currentDate.getHours() >= startDayHour && currentDate.getHours() >= endDayHour) {\r\n                        tailDelta = tailDuration - (gapBeforeAppt - endDayHour * toMs(\"hour\"))\r\n                    } else {\r\n                        if (!fullDays) {\r\n                            result = fullInterval\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            result += tailDelta\r\n        }\r\n        return result\r\n    },\r\n    _getWeekendsCount: function() {\r\n        return 0\r\n    },\r\n    getAllDayContainer: function() {\r\n        return null\r\n    },\r\n    getTimePanelWidth: function() {\r\n        return 0\r\n    },\r\n    getPositionShift: function(timeShift) {\r\n        var positionShift = this.callBase(timeShift);\r\n        var left = this.getCellWidth() * timeShift;\r\n        if (this.option(\"rtlEnabled\")) {\r\n            left *= -1\r\n        }\r\n        left += positionShift.left;\r\n        return {\r\n            top: 0,\r\n            left: left,\r\n            cellPosition: left\r\n        }\r\n    },\r\n    getVisibleBounds: function() {\r\n        var isRtl = this.option(\"rtlEnabled\");\r\n        var result = {};\r\n        var $scrollable = this.getScrollable().$element();\r\n        var cellWidth = this.getCellWidth();\r\n        var scrollableOffset = isRtl ? this.getScrollableOuterWidth() - this.getScrollableScrollLeft() : this.getScrollableScrollLeft();\r\n        var scrolledCellCount = scrollableOffset / cellWidth;\r\n        var visibleCellCount = $scrollable.width() / cellWidth;\r\n        var totalCellCount = isRtl ? scrolledCellCount - visibleCellCount : scrolledCellCount + visibleCellCount;\r\n        var leftDate = this._getDateByIndex(scrolledCellCount);\r\n        var rightDate = this._getDateByIndex(totalCellCount);\r\n        if (isRtl) {\r\n            leftDate = this._getDateByIndex(totalCellCount);\r\n            rightDate = this._getDateByIndex(scrolledCellCount)\r\n        }\r\n        result.left = {\r\n            hours: leftDate.getHours(),\r\n            minutes: leftDate.getMinutes() >= 30 ? 30 : 0,\r\n            date: dateUtils.trimTime(leftDate)\r\n        };\r\n        result.right = {\r\n            hours: rightDate.getHours(),\r\n            minutes: rightDate.getMinutes() >= 30 ? 30 : 0,\r\n            date: dateUtils.trimTime(rightDate)\r\n        };\r\n        return result\r\n    },\r\n    needUpdateScrollPosition: function(hours, minutes, bounds, date) {\r\n        var isUpdateNeeded = false;\r\n        isUpdateNeeded = this._dateWithinBounds(bounds, date);\r\n        if (hours < bounds.left.hours || hours > bounds.right.hours) {\r\n            isUpdateNeeded = true\r\n        }\r\n        if (hours === bounds.left.hours && minutes < bounds.left.minutes) {\r\n            isUpdateNeeded = true\r\n        }\r\n        if (hours === bounds.right.hours && minutes > bounds.right.minutes) {\r\n            isUpdateNeeded = true\r\n        }\r\n        return isUpdateNeeded\r\n    },\r\n    getIntervalDuration: function(allDay) {\r\n        return this.getCellDuration()\r\n    },\r\n    _dateWithinBounds: function(bounds, date) {\r\n        var trimmedDate = dateUtils.trimTime(new Date(date));\r\n        var isUpdateNeeded = false;\r\n        if (trimmedDate < bounds.left.date || trimmedDate > bounds.right.date) {\r\n            isUpdateNeeded = true\r\n        }\r\n        return isUpdateNeeded\r\n    },\r\n    _supportCompactDropDownAppointments: function() {\r\n        return false\r\n    },\r\n    getCellMinWidth: function() {\r\n        return 0\r\n    },\r\n    getWorkSpaceLeftOffset: function() {\r\n        return 0\r\n    },\r\n    scrollToTime: function(hours, minutes, date) {\r\n        var coordinates = this._getScrollCoordinates(hours, minutes, date);\r\n        var scrollable = this.getScrollable();\r\n        var offset = this.option(\"rtlEnabled\") ? this.getScrollableContainer().get(0).getBoundingClientRect().width : 0;\r\n        if (this.option(\"templatesRenderAsynchronously\")) {\r\n            setTimeout(function() {\r\n                scrollable.scrollBy({\r\n                    left: coordinates.left - scrollable.scrollLeft() - offset,\r\n                    top: 0\r\n                })\r\n            })\r\n        } else {\r\n            scrollable.scrollBy({\r\n                left: coordinates.left - scrollable.scrollLeft() - offset,\r\n                top: 0\r\n            })\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxSchedulerTimeline\", SchedulerTimeline);\r\nmodule.exports = SchedulerTimeline;\r\n"]},"metadata":{},"sourceType":"module"}