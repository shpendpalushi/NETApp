{"ast":null,"code":"/**\r\n * DevExtreme (viz/tree_map/plain_data_source.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar proto = require(\"./tree_map.base\").prototype;\n\nproto._optionChangesMap.idField = proto._optionChangesMap.parentField = \"NODES_CREATE\";\n\nproto._processDataSourceItems = function (items) {\n  var i;\n  var struct = {};\n  var currentItem;\n\n  var idField = this._getOption(\"idField\", true);\n\n  var parentField = this._getOption(\"parentField\", true);\n\n  var parentId;\n  var rootNodes = [];\n  var tmpItems;\n  var item;\n\n  if (!idField || !parentField || 0 === items.length) {\n    return {\n      items: items,\n      isPlain: true\n    };\n  }\n\n  for (i = 0; i < items.length; i++) {\n    currentItem = items[i];\n    parentId = currentItem[parentField];\n\n    if (parentId) {\n      struct[parentId] = struct[parentId] || {\n        items: []\n      };\n      tmpItems = struct[parentId].items;\n    } else {\n      tmpItems = rootNodes;\n    }\n\n    tmpItems.push(currentItem);\n  }\n\n  treeFiller({\n    struct: struct,\n    idField: idField\n  }, rootNodes);\n\n  for (item in struct) {\n    struct[item] && rootNodes.push(struct[item]);\n  }\n\n  return {\n    items: rootNodes,\n    isPlain: true\n  };\n};\n\nfunction treeFiller(context, items) {\n  var currentItem;\n  var i;\n  var struct = context.struct;\n  var id;\n\n  for (i = 0; i < items.length; i++) {\n    currentItem = items[i];\n    id = currentItem[context.idField];\n\n    if (struct[id]) {\n      currentItem.items = struct[id].items;\n      struct[id] = null;\n      treeFiller(context, currentItem.items);\n    }\n  }\n}","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/tree_map/plain_data_source.js"],"names":["proto","require","struct","idField","parentField","rootNodes","items","isPlain","i","currentItem","parentId","tmpItems","treeFiller","context","id"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,KAAK,GAAGC,OAAO,CAAPA,iBAAO,CAAPA,CAAZ,SAAA;;AACAD,KAAK,CAALA,iBAAAA,CAAAA,OAAAA,GAAkCA,KAAK,CAALA,iBAAAA,CAAAA,WAAAA,GAAlCA,cAAAA;;AACAA,KAAK,CAALA,uBAAAA,GAAgC,UAAA,KAAA,EAAgB;AAC5C,MAAA,CAAA;AACA,MAAIE,MAAM,GAAV,EAAA;AACA,MAAA,WAAA;;AACA,MAAIC,OAAO,GAAG,KAAA,UAAA,CAAA,SAAA,EAAd,IAAc,CAAd;;AACA,MAAIC,WAAW,GAAG,KAAA,UAAA,CAAA,aAAA,EAAlB,IAAkB,CAAlB;;AACA,MAAA,QAAA;AACA,MAAIC,SAAS,GAAb,EAAA;AACA,MAAA,QAAA;AACA,MAAA,IAAA;;AACA,MAAI,CAAA,OAAA,IAAY,CAAZ,WAAA,IAA4B,MAAMC,KAAK,CAA3C,MAAA,EAAoD;AAChD,WAAO;AACHA,MAAAA,KAAK,EADF,KAAA;AAEHC,MAAAA,OAAO,EAAE;AAFN,KAAP;AAIH;;AACD,OAAKC,CAAC,GAAN,CAAA,EAAYA,CAAC,GAAGF,KAAK,CAArB,MAAA,EAA8BE,CAA9B,EAAA,EAAmC;AAC/BC,IAAAA,WAAW,GAAGH,KAAK,CAAnBG,CAAmB,CAAnBA;AACAC,IAAAA,QAAQ,GAAGD,WAAW,CAAtBC,WAAsB,CAAtBA;;AACA,QAAA,QAAA,EAAc;AACVR,MAAAA,MAAM,CAANA,QAAM,CAANA,GAAmBA,MAAM,CAANA,QAAM,CAANA,IAAoB;AACnCI,QAAAA,KAAK,EAAE;AAD4B,OAAvCJ;AAGAS,MAAAA,QAAQ,GAAGT,MAAM,CAANA,QAAM,CAANA,CAAXS,KAAAA;AAJJ,KAAA,MAKO;AACHA,MAAAA,QAAQ,GAARA,SAAAA;AACH;;AACDA,IAAAA,QAAQ,CAARA,IAAAA,CAAAA,WAAAA;AACH;;AACDC,EAAAA,UAAU,CAAC;AACPV,IAAAA,MAAM,EADC,MAAA;AAEPC,IAAAA,OAAO,EAAEA;AAFF,GAAD,EAAVS,SAAU,CAAVA;;AAIA,OAAA,IAAA,IAAA,MAAA,EAAqB;AACjBV,IAAAA,MAAM,CAANA,IAAM,CAANA,IAAgBG,SAAS,CAATA,IAAAA,CAAeH,MAAM,CAArCA,IAAqC,CAArBG,CAAhBH;AACH;;AACD,SAAO;AACHI,IAAAA,KAAK,EADF,SAAA;AAEHC,IAAAA,OAAO,EAAE;AAFN,GAAP;AApCJP,CAAAA;;AA0CA,SAAA,UAAA,CAAA,OAAA,EAAA,KAAA,EAAoC;AAChC,MAAA,WAAA;AACA,MAAA,CAAA;AACA,MAAIE,MAAM,GAAGW,OAAO,CAApB,MAAA;AACA,MAAA,EAAA;;AACA,OAAKL,CAAC,GAAN,CAAA,EAAYA,CAAC,GAAGF,KAAK,CAArB,MAAA,EAA8BE,CAA9B,EAAA,EAAmC;AAC/BC,IAAAA,WAAW,GAAGH,KAAK,CAAnBG,CAAmB,CAAnBA;AACAK,IAAAA,EAAE,GAAGL,WAAW,CAACI,OAAO,CAAxBC,OAAgB,CAAhBA;;AACA,QAAIZ,MAAM,CAAV,EAAU,CAAV,EAAgB;AACZO,MAAAA,WAAW,CAAXA,KAAAA,GAAoBP,MAAM,CAANA,EAAM,CAANA,CAApBO,KAAAA;AACAP,MAAAA,MAAM,CAANA,EAAM,CAANA,GAAAA,IAAAA;AACAU,MAAAA,UAAU,CAAA,OAAA,EAAUH,WAAW,CAA/BG,KAAU,CAAVA;AACH;AACJ;AACJ","sourcesContent":["/**\r\n * DevExtreme (viz/tree_map/plain_data_source.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar proto = require(\"./tree_map.base\").prototype;\r\nproto._optionChangesMap.idField = proto._optionChangesMap.parentField = \"NODES_CREATE\";\r\nproto._processDataSourceItems = function(items) {\r\n    var i;\r\n    var struct = {};\r\n    var currentItem;\r\n    var idField = this._getOption(\"idField\", true);\r\n    var parentField = this._getOption(\"parentField\", true);\r\n    var parentId;\r\n    var rootNodes = [];\r\n    var tmpItems;\r\n    var item;\r\n    if (!idField || !parentField || 0 === items.length) {\r\n        return {\r\n            items: items,\r\n            isPlain: true\r\n        }\r\n    }\r\n    for (i = 0; i < items.length; i++) {\r\n        currentItem = items[i];\r\n        parentId = currentItem[parentField];\r\n        if (parentId) {\r\n            struct[parentId] = struct[parentId] || {\r\n                items: []\r\n            };\r\n            tmpItems = struct[parentId].items\r\n        } else {\r\n            tmpItems = rootNodes\r\n        }\r\n        tmpItems.push(currentItem)\r\n    }\r\n    treeFiller({\r\n        struct: struct,\r\n        idField: idField\r\n    }, rootNodes);\r\n    for (item in struct) {\r\n        struct[item] && rootNodes.push(struct[item])\r\n    }\r\n    return {\r\n        items: rootNodes,\r\n        isPlain: true\r\n    }\r\n};\r\n\r\nfunction treeFiller(context, items) {\r\n    var currentItem;\r\n    var i;\r\n    var struct = context.struct;\r\n    var id;\r\n    for (i = 0; i < items.length; i++) {\r\n        currentItem = items[i];\r\n        id = currentItem[context.idField];\r\n        if (struct[id]) {\r\n            currentItem.items = struct[id].items;\r\n            struct[id] = null;\r\n            treeFiller(context, currentItem.items)\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}