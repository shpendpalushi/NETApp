{"ast":null,"code":"/**\r\n * DevExtreme (viz/gauges/common.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar dxBaseGauge = require(\"./base_gauge\").dxBaseGauge;\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar _isDefined = typeUtils.isDefined;\nvar _isArray = Array.isArray;\nvar _isNumber = typeUtils.isNumeric;\n\nvar axisModule = require(\"../axes/base_axis\");\n\nvar _map = require(\"../core/utils\").map;\n\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\n\nvar _compareArrays = require(\"./base_gauge\").compareArrays;\n\nvar _isFinite = isFinite;\nvar _Number = Number;\nvar _min = Math.min;\nvar _max = Math.max;\nvar _extend = extend;\nvar _each = each;\n\nvar _noop = require(\"../../core/utils/common\").noop;\n\nvar SHIFT_ANGLE = 90;\nvar OPTION_VALUE = \"value\";\nvar OPTION_SUBVALUES = \"subvalues\";\nvar DEFAULT_MINOR_AXIS_DIVISION_FACTOR = 5;\nvar DEFAULT_NUMBER_MULTIPLIERS = [1, 2, 5];\n\nfunction processValue(value, fallbackValue) {\n  if (null === value) {\n    return value;\n  }\n\n  return _isFinite(value) ? _Number(value) : fallbackValue;\n}\n\nfunction parseArrayOfNumbers(arg) {\n  return _isArray(arg) ? arg : _isNumber(arg) ? [arg] : null;\n}\n\nexports.dxGauge = dxBaseGauge.inherit({\n  _initCore: function _initCore() {\n    var that = this;\n    var renderer = that._renderer;\n\n    that._setupValue(that.option(OPTION_VALUE));\n\n    that.__subvalues = parseArrayOfNumbers(that.option(OPTION_SUBVALUES));\n\n    that._setupSubvalues(that.__subvalues);\n\n    selectMode(that);\n    that.callBase.apply(that, arguments);\n    that._rangeContainer = new that._factory.RangeContainer({\n      renderer: renderer,\n      container: renderer.root,\n      translator: that._translator,\n      themeManager: that._themeManager\n    });\n\n    that._initScale();\n  },\n  _fontFields: [\"scale.label.font\", \"valueIndicators.rangebar.text.font\", \"valueIndicators.textcloud.text.font\", \"indicator.text.font\"],\n  _initScale: function _initScale() {\n    var that = this;\n    that._scaleGroup = that._renderer.g().attr({\n      \"class\": \"dxg-scale\"\n    }).linkOn(that._renderer.root, \"scale\");\n    that._scale = new axisModule.Axis({\n      incidentOccurred: that._incidentOccurred,\n      renderer: that._renderer,\n      axesContainerGroup: that._scaleGroup,\n      axisType: that._scaleTypes.type,\n      drawingType: that._scaleTypes.drawingType,\n      widgetClass: \"dxg\"\n    });\n  },\n  _disposeCore: function _disposeCore() {\n    var that = this;\n    that.callBase.apply(that, arguments);\n\n    that._scale.dispose();\n\n    that._scaleGroup.linkOff();\n\n    that._rangeContainer.dispose();\n\n    that._disposeValueIndicators();\n\n    that._scale = that._scaleGroup = that._rangeContainer = null;\n  },\n  _disposeValueIndicators: function _disposeValueIndicators() {\n    var that = this;\n    that._valueIndicator && that._valueIndicator.dispose();\n    that._subvalueIndicatorsSet && that._subvalueIndicatorsSet.dispose();\n    that._valueIndicator = that._subvalueIndicatorsSet = null;\n  },\n  _setupDomainCore: function _setupDomainCore() {\n    var that = this;\n    var scaleOption = that.option(\"scale\") || {};\n    var startValue = that.option(\"startValue\");\n    var endValue = that.option(\"endValue\");\n    startValue = _isNumber(startValue) ? _Number(startValue) : _isNumber(scaleOption.startValue) ? _Number(scaleOption.startValue) : 0;\n    endValue = _isNumber(endValue) ? _Number(endValue) : _isNumber(scaleOption.endValue) ? _Number(scaleOption.endValue) : 100;\n    that._baseValue = startValue < endValue ? startValue : endValue;\n\n    that._translator.setDomain(startValue, endValue);\n  },\n  _cleanContent: function _cleanContent() {\n    var that = this;\n\n    that._rangeContainer.clean();\n\n    that._cleanValueIndicators();\n  },\n  _measureScale: function _measureScale(scaleOptions) {\n    var that = this;\n    var majorTick = scaleOptions.tick;\n    var majorTickEnabled = majorTick.visible && majorTick.length > 0 && majorTick.width > 0;\n    var minorTick = scaleOptions.minorTick;\n    var minorTickEnabled = minorTick.visible && minorTick.length > 0 && minorTick.width > 0;\n    var label = scaleOptions.label;\n    var indentFromTick = Number(label.indentFromTick);\n    var textParams;\n    var layoutValue;\n    var result;\n    var coefs;\n    var innerCoef;\n    var outerCoef;\n\n    if (!majorTickEnabled && !minorTickEnabled && !label.visible) {\n      return {};\n    }\n\n    textParams = that._scale.measureLabels(extend({}, that._canvas));\n    layoutValue = that._getScaleLayoutValue();\n    result = {\n      min: layoutValue,\n      max: layoutValue\n    };\n    coefs = that._getTicksCoefficients(scaleOptions);\n    innerCoef = coefs.inner;\n    outerCoef = coefs.outer;\n\n    if (majorTickEnabled) {\n      result.min = _min(result.min, layoutValue - innerCoef * majorTick.length);\n      result.max = _max(result.max, layoutValue + outerCoef * majorTick.length);\n    }\n\n    if (minorTickEnabled) {\n      result.min = _min(result.min, layoutValue - innerCoef * minorTick.length);\n      result.max = _max(result.max, layoutValue + outerCoef * minorTick.length);\n    }\n\n    label.visible && that._correctScaleIndents(result, indentFromTick, textParams);\n    return result;\n  },\n  _renderContent: function _renderContent() {\n    var that = this;\n\n    var scaleOptions = that._prepareScaleSettings();\n\n    var elements;\n\n    that._rangeContainer.render(_extend(that._getOption(\"rangeContainer\"), {\n      vertical: that._area.vertical\n    }));\n\n    that._renderScale(scaleOptions);\n\n    elements = _map([that._rangeContainer].concat(that._prepareValueIndicators()), function (element) {\n      return element && element.enabled ? element : null;\n    });\n\n    that._applyMainLayout(elements, that._measureScale(scaleOptions));\n\n    _each(elements, function (_, element) {\n      element.resize(that._getElementLayout(element.getOffset()));\n    });\n\n    that._shiftScale(that._getElementLayout(0), scaleOptions);\n\n    that._beginValueChanging();\n\n    that._updateActiveElements();\n\n    that._endValueChanging();\n  },\n  _prepareScaleSettings: function _prepareScaleSettings() {\n    var that = this;\n    var userOptions = that.option(\"scale\");\n    var scaleOptions = extend(true, {}, that._themeManager.theme(\"scale\"), userOptions);\n    scaleOptions.label.indentFromAxis = 0;\n    scaleOptions.isHorizontal = !that._area.vertical;\n    scaleOptions.forceUserTickInterval |= _isDefined(userOptions) && _isDefined(userOptions.tickInterval) && !_isDefined(userOptions.scaleDivisionFactor);\n    scaleOptions.axisDivisionFactor = scaleOptions.scaleDivisionFactor || that._gridSpacingFactor;\n    scaleOptions.minorAxisDivisionFactor = scaleOptions.minorScaleDivisionFactor || DEFAULT_MINOR_AXIS_DIVISION_FACTOR;\n    scaleOptions.numberMultipliers = DEFAULT_NUMBER_MULTIPLIERS;\n    scaleOptions.tickOrientation = that._getTicksOrientation(scaleOptions);\n\n    if (scaleOptions.label.useRangeColors) {\n      scaleOptions.label.customizeColor = function () {\n        return that._rangeContainer.getColorForValue(this.value);\n      };\n    }\n\n    return scaleOptions;\n  },\n  _renderScale: function _renderScale(scaleOptions) {\n    var that = this;\n\n    var bounds = that._translator.getDomain();\n\n    var startValue = bounds[0];\n    var endValue = bounds[1];\n\n    var angles = that._translator.getCodomain();\n\n    var invert = startValue > endValue;\n\n    var min = _min(startValue, endValue);\n\n    var max = _max(startValue, endValue);\n\n    scaleOptions.min = min;\n    scaleOptions.max = max;\n    scaleOptions.startAngle = SHIFT_ANGLE - angles[0];\n    scaleOptions.endAngle = SHIFT_ANGLE - angles[1];\n    scaleOptions.skipViewportExtending = true;\n\n    that._scale.updateOptions(scaleOptions);\n\n    that._scale.setBusinessRange({\n      axisType: \"continuous\",\n      dataType: \"numeric\",\n      min: min,\n      max: max,\n      invert: invert\n    });\n\n    that._updateScaleTickIndent(scaleOptions);\n\n    that._scaleGroup.linkAppend();\n\n    that._scale.draw(extend({}, that._canvas));\n  },\n  _updateIndicatorSettings: function _updateIndicatorSettings(settings) {\n    var that = this;\n    settings.currentValue = settings.baseValue = _isFinite(that._translator.translate(settings.baseValue)) ? _Number(settings.baseValue) : that._baseValue;\n    settings.vertical = that._area.vertical;\n\n    if (settings.text && !settings.text.format) {\n      settings.text.format = that._defaultFormatOptions;\n    }\n  },\n  _prepareIndicatorSettings: function _prepareIndicatorSettings(options, defaultTypeField) {\n    var that = this;\n\n    var theme = that._themeManager.theme(\"valueIndicators\");\n\n    var type = _normalizeEnum(options.type || that._themeManager.theme(defaultTypeField));\n\n    var settings = _extend(true, {}, theme._default, theme[type], options);\n\n    settings.type = type;\n    settings.animation = that._animationSettings;\n    settings.containerBackgroundColor = that._containerBackgroundColor;\n\n    that._updateIndicatorSettings(settings);\n\n    return settings;\n  },\n  _cleanValueIndicators: function _cleanValueIndicators() {\n    this._valueIndicator && this._valueIndicator.clean();\n    this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.clean();\n  },\n  _prepareValueIndicators: function _prepareValueIndicators() {\n    var that = this;\n\n    that._prepareValueIndicator();\n\n    null !== that.__subvalues && that._prepareSubvalueIndicators();\n    return [that._valueIndicator, that._subvalueIndicatorsSet];\n  },\n  _updateActiveElements: function _updateActiveElements() {\n    this._updateValueIndicator();\n\n    this._updateSubvalueIndicators();\n  },\n  _prepareValueIndicator: function _prepareValueIndicator() {\n    var that = this;\n    var target = that._valueIndicator;\n\n    var settings = that._prepareIndicatorSettings(that.option(\"valueIndicator\") || {}, \"valueIndicatorType\");\n\n    if (target && target.type !== settings.type) {\n      target.dispose();\n      target = null;\n    }\n\n    if (!target) {\n      target = that._valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\");\n    }\n\n    target.render(settings);\n  },\n  _createSubvalueIndicatorsSet: function _createSubvalueIndicatorsSet() {\n    var that = this;\n    var root = that._renderer.root;\n    return new ValueIndicatorsSet({\n      createIndicator: function createIndicator(type, i) {\n        return that._createIndicator(type, root, \"dxg-subvalue-indicator\", \"subvalue-indicator\", i);\n      },\n      createPalette: function createPalette(palette) {\n        return that._themeManager.createPalette(palette);\n      }\n    });\n  },\n  _prepareSubvalueIndicators: function _prepareSubvalueIndicators() {\n    var that = this;\n    var target = that._subvalueIndicatorsSet;\n\n    var settings = that._prepareIndicatorSettings(that.option(\"subvalueIndicator\") || {}, \"subvalueIndicatorType\");\n\n    var isRecreate;\n    var dummy;\n\n    if (!target) {\n      target = that._subvalueIndicatorsSet = that._createSubvalueIndicatorsSet();\n    }\n\n    isRecreate = settings.type !== target.type;\n    target.type = settings.type;\n    dummy = that._createIndicator(settings.type, that._renderer.root);\n\n    if (dummy) {\n      dummy.dispose();\n      target.render(settings, isRecreate);\n    }\n  },\n  _setupValue: function _setupValue(value) {\n    this.__value = processValue(value, this.__value);\n  },\n  _setupSubvalues: function _setupSubvalues(subvalues) {\n    var vals = void 0 === subvalues ? this.__subvalues : parseArrayOfNumbers(subvalues);\n    var i;\n    var ii;\n    var list;\n\n    if (null === vals) {\n      return;\n    }\n\n    for (i = 0, ii = vals.length, list = []; i < ii; ++i) {\n      list.push(processValue(vals[i], this.__subvalues[i]));\n    }\n\n    this.__subvalues = list;\n  },\n  _updateValueIndicator: function _updateValueIndicator() {\n    var that = this;\n    that._valueIndicator && that._valueIndicator.value(that.__value, that._noAnimation);\n  },\n  _updateSubvalueIndicators: function _updateSubvalueIndicators() {\n    var that = this;\n    that._subvalueIndicatorsSet && that._subvalueIndicatorsSet.values(that.__subvalues, that._noAnimation);\n  },\n  value: function value(arg) {\n    if (void 0 !== arg) {\n      this._changeValue(arg);\n\n      return this;\n    }\n\n    return this.__value;\n  },\n  subvalues: function subvalues(arg) {\n    if (void 0 !== arg) {\n      this._changeSubvalues(arg);\n\n      return this;\n    }\n\n    return null !== this.__subvalues ? this.__subvalues.slice() : void 0;\n  },\n  _changeValue: function _changeValue(value) {\n    var that = this;\n\n    that._setupValue(value);\n\n    that._beginValueChanging();\n\n    that._updateValueIndicator();\n\n    if (that.__value !== that.option(OPTION_VALUE)) {\n      that.option(OPTION_VALUE, that.__value);\n    }\n\n    that._endValueChanging();\n  },\n  _changeSubvalues: function _changeSubvalues(subvalues) {\n    var that = this;\n\n    if (null !== that.__subvalues) {\n      that._setupSubvalues(subvalues);\n\n      that._beginValueChanging();\n\n      that._updateSubvalueIndicators();\n\n      that._endValueChanging();\n    } else {\n      that.__subvalues = parseArrayOfNumbers(subvalues);\n\n      that._setContentSize();\n\n      that._renderContent();\n    }\n\n    if (!_compareArrays(that.__subvalues, that.option(OPTION_SUBVALUES))) {\n      that.option(OPTION_SUBVALUES, that.__subvalues);\n    }\n  },\n  _optionChangesMap: {\n    scale: \"DOMAIN\",\n    rangeContainer: \"MOSTLY_TOTAL\",\n    valueIndicator: \"MOSTLY_TOTAL\",\n    subvalueIndicator: \"MOSTLY_TOTAL\",\n    containerBackgroundColor: \"MOSTLY_TOTAL\",\n    value: \"VALUE\",\n    subvalues: \"SUBVALUES\",\n    valueIndicators: \"MOSTLY_TOTAL\"\n  },\n  _customChangesOrder: [\"VALUE\", \"SUBVALUES\"],\n  _change_VALUE: function _change_VALUE() {\n    this._changeValue(this.option(OPTION_VALUE));\n  },\n  _change_SUBVALUES: function _change_SUBVALUES() {\n    this._changeSubvalues(this.option(OPTION_SUBVALUES));\n  },\n  _applyMainLayout: null,\n  _getElementLayout: null,\n  _createIndicator: function _createIndicator(type, owner, className, trackerType, trackerIndex, _strict) {\n    var that = this;\n\n    var indicator = that._factory.createIndicator({\n      renderer: that._renderer,\n      translator: that._translator,\n      owner: owner,\n      tracker: that._tracker,\n      className: className\n    }, type, _strict);\n\n    if (indicator) {\n      indicator.type = type;\n      indicator._trackerInfo = {\n        type: trackerType,\n        index: trackerIndex\n      };\n    }\n\n    return indicator;\n  },\n  _getApproximateScreenRange: null\n});\n\nfunction valueGetter(arg) {\n  return arg ? arg.value : null;\n}\n\nfunction setupValues(that, fieldName, optionItems) {\n  var currentValues = that[fieldName];\n  var newValues = _isArray(optionItems) ? _map(optionItems, valueGetter) : [];\n  var i = 0;\n  var ii = newValues.length;\n  var list = [];\n\n  for (; i < ii; ++i) {\n    list.push(processValue(newValues[i], currentValues[i]));\n  }\n\n  that[fieldName] = list;\n}\n\nfunction selectMode(gauge) {\n  if (void 0 === gauge.option(OPTION_VALUE) && void 0 === gauge.option(OPTION_SUBVALUES)) {\n    if (void 0 !== gauge.option(\"valueIndicators\")) {\n      disableDefaultMode(gauge);\n      selectHardMode(gauge);\n    }\n  }\n}\n\nfunction disableDefaultMode(that) {\n  that.value = that.subvalues = _noop;\n  that._setupValue = that._setupSubvalues = that._updateValueIndicator = that._updateSubvalueIndicators = null;\n}\n\nfunction selectHardMode(that) {\n  that._indicatorValues = [];\n  setupValues(that, \"_indicatorValues\", that.option(\"valueIndicators\"));\n  that._valueIndicators = [];\n  var _applyMostlyTotalChange = that._applyMostlyTotalChange;\n\n  that._applyMostlyTotalChange = function () {\n    setupValues(this, \"_indicatorValues\", this.option(\"valueIndicators\"));\n\n    _applyMostlyTotalChange.call(this);\n  };\n\n  that._updateActiveElements = updateActiveElements_hardMode;\n  that._prepareValueIndicators = prepareValueIndicators_hardMode;\n  that._disposeValueIndicators = disposeValueIndicators_hardMode;\n  that._cleanValueIndicators = cleanValueIndicators_hardMode;\n  that.indicatorValue = indicatorValue_hardMode;\n}\n\nfunction updateActiveElements_hardMode() {\n  var that = this;\n\n  _each(that._valueIndicators, function (_, valueIndicator) {\n    valueIndicator.value(that._indicatorValues[valueIndicator.index], that._noAnimation);\n  });\n}\n\nfunction prepareValueIndicators_hardMode() {\n  var that = this;\n  var valueIndicators = that._valueIndicators || [];\n  var userOptions = that.option(\"valueIndicators\");\n  var optionList = [];\n  var i = 0;\n  var ii;\n\n  for (ii = _isArray(userOptions) ? userOptions.length : 0; i < ii; ++i) {\n    optionList.push(userOptions[i]);\n  }\n\n  for (ii = valueIndicators.length; i < ii; ++i) {\n    optionList.push(null);\n  }\n\n  var newValueIndicators = [];\n\n  _each(optionList, function (i, userSettings) {\n    var valueIndicator = valueIndicators[i];\n\n    if (!userSettings) {\n      valueIndicator && valueIndicator.dispose();\n      return;\n    }\n\n    var settings = that._prepareIndicatorSettings(userSettings, \"valueIndicatorType\");\n\n    if (valueIndicator && valueIndicator.type !== settings.type) {\n      valueIndicator.dispose();\n      valueIndicator = null;\n    }\n\n    if (!valueIndicator) {\n      valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\", i, true);\n    }\n\n    if (valueIndicator) {\n      valueIndicator.index = i;\n      valueIndicator.render(settings);\n      newValueIndicators.push(valueIndicator);\n    }\n  });\n\n  that._valueIndicators = newValueIndicators;\n  return that._valueIndicators;\n}\n\nfunction disposeValueIndicators_hardMode() {\n  _each(this._valueIndicators, function (_, valueIndicator) {\n    valueIndicator.dispose();\n  });\n\n  this._valueIndicators = null;\n}\n\nfunction cleanValueIndicators_hardMode() {\n  _each(this._valueIndicators, function (_, valueIndicator) {\n    valueIndicator.clean();\n  });\n}\n\nfunction indicatorValue_hardMode(index, value) {\n  return accessPointerValue(this, this._valueIndicators, this._indicatorValues, index, value);\n}\n\nfunction accessPointerValue(that, pointers, values, index, value) {\n  if (void 0 !== value) {\n    if (void 0 !== values[index]) {\n      values[index] = processValue(value, values[index]);\n      pointers[index] && pointers[index].value(values[index]);\n    }\n\n    return that;\n  } else {\n    return values[index];\n  }\n}\n\nfunction ValueIndicatorsSet(parameters) {\n  this._parameters = parameters;\n  this._indicators = [];\n}\n\nValueIndicatorsSet.prototype = {\n  constructor: ValueIndicatorsSet,\n  dispose: function dispose() {\n    var that = this;\n\n    _each(that._indicators, function (_, indicator) {\n      indicator.dispose();\n    });\n\n    that._parameters = that._options = that._indicators = that._colorPalette = that._palette = null;\n    return that;\n  },\n  clean: function clean() {\n    var that = this;\n    that._sample && that._sample.clean().dispose();\n\n    _each(that._indicators, function (_, indicator) {\n      indicator.clean();\n    });\n\n    that._sample = that._options = that._palette = null;\n    return that;\n  },\n  render: function render(options, isRecreate) {\n    var that = this;\n    that._options = options;\n    that._sample = that._parameters.createIndicator(that.type);\n\n    that._sample.render(options);\n\n    that.enabled = that._sample.enabled;\n    that._palette = _isDefined(options.palette) ? that._parameters.createPalette(options.palette) : null;\n\n    if (that.enabled) {\n      that._generatePalette(that._indicators.length);\n\n      that._indicators = _map(that._indicators, function (indicator, i) {\n        if (isRecreate) {\n          indicator.dispose();\n          indicator = that._parameters.createIndicator(that.type, i);\n        }\n\n        indicator.render(that._getIndicatorOptions(i));\n        return indicator;\n      });\n    }\n\n    return that;\n  },\n  getOffset: function getOffset() {\n    return this._sample.getOffset();\n  },\n  resize: function resize(layout) {\n    var that = this;\n    that._layout = layout;\n\n    _each(that._indicators, function (_, indicator) {\n      indicator.resize(layout);\n    });\n\n    return that;\n  },\n  measure: function measure(layout) {\n    return this._sample.measure(layout);\n  },\n  _getIndicatorOptions: function _getIndicatorOptions(index) {\n    var result = this._options;\n\n    if (this._colorPalette) {\n      result = _extend({}, result, {\n        color: this._colorPalette[index]\n      });\n    }\n\n    return result;\n  },\n  _generatePalette: function _generatePalette(count) {\n    var that = this;\n    var colors = null;\n\n    if (that._palette) {\n      that._palette.reset();\n\n      colors = that._palette.generateColors(count, {\n        repeat: true\n      });\n    }\n\n    that._colorPalette = colors;\n  },\n  _adjustIndicatorsCount: function _adjustIndicatorsCount(count) {\n    var that = this;\n    var indicators = that._indicators;\n    var i;\n    var ii;\n    var indicator;\n    var indicatorsLen = indicators.length;\n\n    if (indicatorsLen > count) {\n      for (i = count, ii = indicatorsLen; i < ii; ++i) {\n        indicators[i].clean().dispose();\n      }\n\n      that._indicators = indicators.slice(0, count);\n\n      that._generatePalette(indicators.length);\n    } else {\n      if (indicatorsLen < count) {\n        that._generatePalette(count);\n\n        for (i = indicatorsLen, ii = count; i < ii; ++i) {\n          indicator = that._parameters.createIndicator(that.type, i);\n          indicator.render(that._getIndicatorOptions(i)).resize(that._layout);\n          indicators.push(indicator);\n        }\n      }\n    }\n  },\n  values: function values(arg, _noAnimation) {\n    var that = this;\n\n    if (!that.enabled) {\n      return;\n    }\n\n    if (void 0 !== arg) {\n      if (!_isArray(arg)) {\n        arg = _isFinite(arg) ? [Number(arg)] : null;\n      }\n\n      if (arg) {\n        that._adjustIndicatorsCount(arg.length);\n\n        _each(that._indicators, function (i, indicator) {\n          indicator.value(arg[i], _noAnimation);\n        });\n      }\n\n      return that;\n    }\n\n    return _map(that._indicators, function (indicator) {\n      return indicator.value();\n    });\n  }\n};\n\nexports.createIndicatorCreator = function (indicators) {\n  return function (parameters, type, _strict) {\n    var indicatorType = indicators[_normalizeEnum(type)] || !_strict && indicators._default;\n\n    return indicatorType ? new indicatorType(parameters) : null;\n  };\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/gauges/common.js"],"names":["dxBaseGauge","require","typeUtils","each","extend","_isDefined","_isArray","Array","_isNumber","axisModule","_map","_normalizeEnum","_compareArrays","_isFinite","_Number","_min","Math","_max","_extend","_each","_noop","SHIFT_ANGLE","OPTION_VALUE","OPTION_SUBVALUES","DEFAULT_MINOR_AXIS_DIVISION_FACTOR","DEFAULT_NUMBER_MULTIPLIERS","exports","_initCore","that","renderer","parseArrayOfNumbers","selectMode","container","translator","themeManager","_themeManager","_fontFields","_initScale","incidentOccurred","axesContainerGroup","axisType","drawingType","widgetClass","_disposeCore","_disposeValueIndicators","_setupDomainCore","scaleOption","startValue","endValue","_cleanContent","_measureScale","majorTick","scaleOptions","majorTickEnabled","minorTick","minorTickEnabled","label","indentFromTick","Number","textParams","layoutValue","result","min","max","coefs","innerCoef","outerCoef","_renderContent","vertical","elements","element","_prepareScaleSettings","userOptions","_renderScale","bounds","angles","invert","dataType","_updateIndicatorSettings","settings","_prepareIndicatorSettings","theme","type","options","_cleanValueIndicators","_prepareValueIndicators","_updateActiveElements","_prepareValueIndicator","target","_createSubvalueIndicatorsSet","root","createIndicator","createPalette","_prepareSubvalueIndicators","isRecreate","dummy","_setupValue","processValue","_setupSubvalues","vals","i","ii","list","_updateValueIndicator","_updateSubvalueIndicators","value","subvalues","_changeValue","_changeSubvalues","_optionChangesMap","scale","rangeContainer","valueIndicator","subvalueIndicator","containerBackgroundColor","valueIndicators","_customChangesOrder","_change_VALUE","_change_SUBVALUES","_applyMainLayout","_getElementLayout","_createIndicator","indicator","owner","tracker","className","index","trackerIndex","_getApproximateScreenRange","arg","currentValues","newValues","gauge","disableDefaultMode","selectHardMode","setupValues","_applyMostlyTotalChange","optionList","newValueIndicators","accessPointerValue","values","pointers","ValueIndicatorsSet","constructor","dispose","clean","render","getOffset","resize","measure","_getIndicatorOptions","color","_generatePalette","colors","repeat","_adjustIndicatorsCount","indicators","indicatorsLen","indicatorType"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/gauges/common.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar dxBaseGauge = require(\"./base_gauge\").dxBaseGauge;\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar _isDefined = typeUtils.isDefined;\r\nvar _isArray = Array.isArray;\r\nvar _isNumber = typeUtils.isNumeric;\r\nvar axisModule = require(\"../axes/base_axis\");\r\nvar _map = require(\"../core/utils\").map;\r\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\r\nvar _compareArrays = require(\"./base_gauge\").compareArrays;\r\nvar _isFinite = isFinite;\r\nvar _Number = Number;\r\nvar _min = Math.min;\r\nvar _max = Math.max;\r\nvar _extend = extend;\r\nvar _each = each;\r\nvar _noop = require(\"../../core/utils/common\").noop;\r\nvar SHIFT_ANGLE = 90;\r\nvar OPTION_VALUE = \"value\";\r\nvar OPTION_SUBVALUES = \"subvalues\";\r\nvar DEFAULT_MINOR_AXIS_DIVISION_FACTOR = 5;\r\nvar DEFAULT_NUMBER_MULTIPLIERS = [1, 2, 5];\r\n\r\nfunction processValue(value, fallbackValue) {\r\n    if (null === value) {\r\n        return value\r\n    }\r\n    return _isFinite(value) ? _Number(value) : fallbackValue\r\n}\r\n\r\nfunction parseArrayOfNumbers(arg) {\r\n    return _isArray(arg) ? arg : _isNumber(arg) ? [arg] : null\r\n}\r\nexports.dxGauge = dxBaseGauge.inherit({\r\n    _initCore: function() {\r\n        var that = this;\r\n        var renderer = that._renderer;\r\n        that._setupValue(that.option(OPTION_VALUE));\r\n        that.__subvalues = parseArrayOfNumbers(that.option(OPTION_SUBVALUES));\r\n        that._setupSubvalues(that.__subvalues);\r\n        selectMode(that);\r\n        that.callBase.apply(that, arguments);\r\n        that._rangeContainer = new that._factory.RangeContainer({\r\n            renderer: renderer,\r\n            container: renderer.root,\r\n            translator: that._translator,\r\n            themeManager: that._themeManager\r\n        });\r\n        that._initScale()\r\n    },\r\n    _fontFields: [\"scale.label.font\", \"valueIndicators.rangebar.text.font\", \"valueIndicators.textcloud.text.font\", \"indicator.text.font\"],\r\n    _initScale: function() {\r\n        var that = this;\r\n        that._scaleGroup = that._renderer.g().attr({\r\n            \"class\": \"dxg-scale\"\r\n        }).linkOn(that._renderer.root, \"scale\");\r\n        that._scale = new axisModule.Axis({\r\n            incidentOccurred: that._incidentOccurred,\r\n            renderer: that._renderer,\r\n            axesContainerGroup: that._scaleGroup,\r\n            axisType: that._scaleTypes.type,\r\n            drawingType: that._scaleTypes.drawingType,\r\n            widgetClass: \"dxg\"\r\n        })\r\n    },\r\n    _disposeCore: function() {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        that._scale.dispose();\r\n        that._scaleGroup.linkOff();\r\n        that._rangeContainer.dispose();\r\n        that._disposeValueIndicators();\r\n        that._scale = that._scaleGroup = that._rangeContainer = null\r\n    },\r\n    _disposeValueIndicators: function() {\r\n        var that = this;\r\n        that._valueIndicator && that._valueIndicator.dispose();\r\n        that._subvalueIndicatorsSet && that._subvalueIndicatorsSet.dispose();\r\n        that._valueIndicator = that._subvalueIndicatorsSet = null\r\n    },\r\n    _setupDomainCore: function() {\r\n        var that = this;\r\n        var scaleOption = that.option(\"scale\") || {};\r\n        var startValue = that.option(\"startValue\");\r\n        var endValue = that.option(\"endValue\");\r\n        startValue = _isNumber(startValue) ? _Number(startValue) : _isNumber(scaleOption.startValue) ? _Number(scaleOption.startValue) : 0;\r\n        endValue = _isNumber(endValue) ? _Number(endValue) : _isNumber(scaleOption.endValue) ? _Number(scaleOption.endValue) : 100;\r\n        that._baseValue = startValue < endValue ? startValue : endValue;\r\n        that._translator.setDomain(startValue, endValue)\r\n    },\r\n    _cleanContent: function() {\r\n        var that = this;\r\n        that._rangeContainer.clean();\r\n        that._cleanValueIndicators()\r\n    },\r\n    _measureScale: function(scaleOptions) {\r\n        var that = this;\r\n        var majorTick = scaleOptions.tick;\r\n        var majorTickEnabled = majorTick.visible && majorTick.length > 0 && majorTick.width > 0;\r\n        var minorTick = scaleOptions.minorTick;\r\n        var minorTickEnabled = minorTick.visible && minorTick.length > 0 && minorTick.width > 0;\r\n        var label = scaleOptions.label;\r\n        var indentFromTick = Number(label.indentFromTick);\r\n        var textParams;\r\n        var layoutValue;\r\n        var result;\r\n        var coefs;\r\n        var innerCoef;\r\n        var outerCoef;\r\n        if (!majorTickEnabled && !minorTickEnabled && !label.visible) {\r\n            return {}\r\n        }\r\n        textParams = that._scale.measureLabels(extend({}, that._canvas));\r\n        layoutValue = that._getScaleLayoutValue();\r\n        result = {\r\n            min: layoutValue,\r\n            max: layoutValue\r\n        };\r\n        coefs = that._getTicksCoefficients(scaleOptions);\r\n        innerCoef = coefs.inner;\r\n        outerCoef = coefs.outer;\r\n        if (majorTickEnabled) {\r\n            result.min = _min(result.min, layoutValue - innerCoef * majorTick.length);\r\n            result.max = _max(result.max, layoutValue + outerCoef * majorTick.length)\r\n        }\r\n        if (minorTickEnabled) {\r\n            result.min = _min(result.min, layoutValue - innerCoef * minorTick.length);\r\n            result.max = _max(result.max, layoutValue + outerCoef * minorTick.length)\r\n        }\r\n        label.visible && that._correctScaleIndents(result, indentFromTick, textParams);\r\n        return result\r\n    },\r\n    _renderContent: function() {\r\n        var that = this;\r\n        var scaleOptions = that._prepareScaleSettings();\r\n        var elements;\r\n        that._rangeContainer.render(_extend(that._getOption(\"rangeContainer\"), {\r\n            vertical: that._area.vertical\r\n        }));\r\n        that._renderScale(scaleOptions);\r\n        elements = _map([that._rangeContainer].concat(that._prepareValueIndicators()), function(element) {\r\n            return element && element.enabled ? element : null\r\n        });\r\n        that._applyMainLayout(elements, that._measureScale(scaleOptions));\r\n        _each(elements, function(_, element) {\r\n            element.resize(that._getElementLayout(element.getOffset()))\r\n        });\r\n        that._shiftScale(that._getElementLayout(0), scaleOptions);\r\n        that._beginValueChanging();\r\n        that._updateActiveElements();\r\n        that._endValueChanging()\r\n    },\r\n    _prepareScaleSettings: function() {\r\n        var that = this;\r\n        var userOptions = that.option(\"scale\");\r\n        var scaleOptions = extend(true, {}, that._themeManager.theme(\"scale\"), userOptions);\r\n        scaleOptions.label.indentFromAxis = 0;\r\n        scaleOptions.isHorizontal = !that._area.vertical;\r\n        scaleOptions.forceUserTickInterval |= _isDefined(userOptions) && _isDefined(userOptions.tickInterval) && !_isDefined(userOptions.scaleDivisionFactor);\r\n        scaleOptions.axisDivisionFactor = scaleOptions.scaleDivisionFactor || that._gridSpacingFactor;\r\n        scaleOptions.minorAxisDivisionFactor = scaleOptions.minorScaleDivisionFactor || DEFAULT_MINOR_AXIS_DIVISION_FACTOR;\r\n        scaleOptions.numberMultipliers = DEFAULT_NUMBER_MULTIPLIERS;\r\n        scaleOptions.tickOrientation = that._getTicksOrientation(scaleOptions);\r\n        if (scaleOptions.label.useRangeColors) {\r\n            scaleOptions.label.customizeColor = function() {\r\n                return that._rangeContainer.getColorForValue(this.value)\r\n            }\r\n        }\r\n        return scaleOptions\r\n    },\r\n    _renderScale: function(scaleOptions) {\r\n        var that = this;\r\n        var bounds = that._translator.getDomain();\r\n        var startValue = bounds[0];\r\n        var endValue = bounds[1];\r\n        var angles = that._translator.getCodomain();\r\n        var invert = startValue > endValue;\r\n        var min = _min(startValue, endValue);\r\n        var max = _max(startValue, endValue);\r\n        scaleOptions.min = min;\r\n        scaleOptions.max = max;\r\n        scaleOptions.startAngle = SHIFT_ANGLE - angles[0];\r\n        scaleOptions.endAngle = SHIFT_ANGLE - angles[1];\r\n        scaleOptions.skipViewportExtending = true;\r\n        that._scale.updateOptions(scaleOptions);\r\n        that._scale.setBusinessRange({\r\n            axisType: \"continuous\",\r\n            dataType: \"numeric\",\r\n            min: min,\r\n            max: max,\r\n            invert: invert\r\n        });\r\n        that._updateScaleTickIndent(scaleOptions);\r\n        that._scaleGroup.linkAppend();\r\n        that._scale.draw(extend({}, that._canvas))\r\n    },\r\n    _updateIndicatorSettings: function(settings) {\r\n        var that = this;\r\n        settings.currentValue = settings.baseValue = _isFinite(that._translator.translate(settings.baseValue)) ? _Number(settings.baseValue) : that._baseValue;\r\n        settings.vertical = that._area.vertical;\r\n        if (settings.text && !settings.text.format) {\r\n            settings.text.format = that._defaultFormatOptions\r\n        }\r\n    },\r\n    _prepareIndicatorSettings: function(options, defaultTypeField) {\r\n        var that = this;\r\n        var theme = that._themeManager.theme(\"valueIndicators\");\r\n        var type = _normalizeEnum(options.type || that._themeManager.theme(defaultTypeField));\r\n        var settings = _extend(true, {}, theme._default, theme[type], options);\r\n        settings.type = type;\r\n        settings.animation = that._animationSettings;\r\n        settings.containerBackgroundColor = that._containerBackgroundColor;\r\n        that._updateIndicatorSettings(settings);\r\n        return settings\r\n    },\r\n    _cleanValueIndicators: function() {\r\n        this._valueIndicator && this._valueIndicator.clean();\r\n        this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.clean()\r\n    },\r\n    _prepareValueIndicators: function() {\r\n        var that = this;\r\n        that._prepareValueIndicator();\r\n        null !== that.__subvalues && that._prepareSubvalueIndicators();\r\n        return [that._valueIndicator, that._subvalueIndicatorsSet]\r\n    },\r\n    _updateActiveElements: function() {\r\n        this._updateValueIndicator();\r\n        this._updateSubvalueIndicators()\r\n    },\r\n    _prepareValueIndicator: function() {\r\n        var that = this;\r\n        var target = that._valueIndicator;\r\n        var settings = that._prepareIndicatorSettings(that.option(\"valueIndicator\") || {}, \"valueIndicatorType\");\r\n        if (target && target.type !== settings.type) {\r\n            target.dispose();\r\n            target = null\r\n        }\r\n        if (!target) {\r\n            target = that._valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\")\r\n        }\r\n        target.render(settings)\r\n    },\r\n    _createSubvalueIndicatorsSet: function() {\r\n        var that = this;\r\n        var root = that._renderer.root;\r\n        return new ValueIndicatorsSet({\r\n            createIndicator: function(type, i) {\r\n                return that._createIndicator(type, root, \"dxg-subvalue-indicator\", \"subvalue-indicator\", i)\r\n            },\r\n            createPalette: function(palette) {\r\n                return that._themeManager.createPalette(palette)\r\n            }\r\n        })\r\n    },\r\n    _prepareSubvalueIndicators: function() {\r\n        var that = this;\r\n        var target = that._subvalueIndicatorsSet;\r\n        var settings = that._prepareIndicatorSettings(that.option(\"subvalueIndicator\") || {}, \"subvalueIndicatorType\");\r\n        var isRecreate;\r\n        var dummy;\r\n        if (!target) {\r\n            target = that._subvalueIndicatorsSet = that._createSubvalueIndicatorsSet()\r\n        }\r\n        isRecreate = settings.type !== target.type;\r\n        target.type = settings.type;\r\n        dummy = that._createIndicator(settings.type, that._renderer.root);\r\n        if (dummy) {\r\n            dummy.dispose();\r\n            target.render(settings, isRecreate)\r\n        }\r\n    },\r\n    _setupValue: function(value) {\r\n        this.__value = processValue(value, this.__value)\r\n    },\r\n    _setupSubvalues: function(subvalues) {\r\n        var vals = void 0 === subvalues ? this.__subvalues : parseArrayOfNumbers(subvalues);\r\n        var i;\r\n        var ii;\r\n        var list;\r\n        if (null === vals) {\r\n            return\r\n        }\r\n        for (i = 0, ii = vals.length, list = []; i < ii; ++i) {\r\n            list.push(processValue(vals[i], this.__subvalues[i]))\r\n        }\r\n        this.__subvalues = list\r\n    },\r\n    _updateValueIndicator: function() {\r\n        var that = this;\r\n        that._valueIndicator && that._valueIndicator.value(that.__value, that._noAnimation)\r\n    },\r\n    _updateSubvalueIndicators: function() {\r\n        var that = this;\r\n        that._subvalueIndicatorsSet && that._subvalueIndicatorsSet.values(that.__subvalues, that._noAnimation)\r\n    },\r\n    value: function(arg) {\r\n        if (void 0 !== arg) {\r\n            this._changeValue(arg);\r\n            return this\r\n        }\r\n        return this.__value\r\n    },\r\n    subvalues: function(arg) {\r\n        if (void 0 !== arg) {\r\n            this._changeSubvalues(arg);\r\n            return this\r\n        }\r\n        return null !== this.__subvalues ? this.__subvalues.slice() : void 0\r\n    },\r\n    _changeValue: function(value) {\r\n        var that = this;\r\n        that._setupValue(value);\r\n        that._beginValueChanging();\r\n        that._updateValueIndicator();\r\n        if (that.__value !== that.option(OPTION_VALUE)) {\r\n            that.option(OPTION_VALUE, that.__value)\r\n        }\r\n        that._endValueChanging()\r\n    },\r\n    _changeSubvalues: function(subvalues) {\r\n        var that = this;\r\n        if (null !== that.__subvalues) {\r\n            that._setupSubvalues(subvalues);\r\n            that._beginValueChanging();\r\n            that._updateSubvalueIndicators();\r\n            that._endValueChanging()\r\n        } else {\r\n            that.__subvalues = parseArrayOfNumbers(subvalues);\r\n            that._setContentSize();\r\n            that._renderContent()\r\n        }\r\n        if (!_compareArrays(that.__subvalues, that.option(OPTION_SUBVALUES))) {\r\n            that.option(OPTION_SUBVALUES, that.__subvalues)\r\n        }\r\n    },\r\n    _optionChangesMap: {\r\n        scale: \"DOMAIN\",\r\n        rangeContainer: \"MOSTLY_TOTAL\",\r\n        valueIndicator: \"MOSTLY_TOTAL\",\r\n        subvalueIndicator: \"MOSTLY_TOTAL\",\r\n        containerBackgroundColor: \"MOSTLY_TOTAL\",\r\n        value: \"VALUE\",\r\n        subvalues: \"SUBVALUES\",\r\n        valueIndicators: \"MOSTLY_TOTAL\"\r\n    },\r\n    _customChangesOrder: [\"VALUE\", \"SUBVALUES\"],\r\n    _change_VALUE: function() {\r\n        this._changeValue(this.option(OPTION_VALUE))\r\n    },\r\n    _change_SUBVALUES: function() {\r\n        this._changeSubvalues(this.option(OPTION_SUBVALUES))\r\n    },\r\n    _applyMainLayout: null,\r\n    _getElementLayout: null,\r\n    _createIndicator: function(type, owner, className, trackerType, trackerIndex, _strict) {\r\n        var that = this;\r\n        var indicator = that._factory.createIndicator({\r\n            renderer: that._renderer,\r\n            translator: that._translator,\r\n            owner: owner,\r\n            tracker: that._tracker,\r\n            className: className\r\n        }, type, _strict);\r\n        if (indicator) {\r\n            indicator.type = type;\r\n            indicator._trackerInfo = {\r\n                type: trackerType,\r\n                index: trackerIndex\r\n            }\r\n        }\r\n        return indicator\r\n    },\r\n    _getApproximateScreenRange: null\r\n});\r\n\r\nfunction valueGetter(arg) {\r\n    return arg ? arg.value : null\r\n}\r\n\r\nfunction setupValues(that, fieldName, optionItems) {\r\n    var currentValues = that[fieldName];\r\n    var newValues = _isArray(optionItems) ? _map(optionItems, valueGetter) : [];\r\n    var i = 0;\r\n    var ii = newValues.length;\r\n    var list = [];\r\n    for (; i < ii; ++i) {\r\n        list.push(processValue(newValues[i], currentValues[i]))\r\n    }\r\n    that[fieldName] = list\r\n}\r\n\r\nfunction selectMode(gauge) {\r\n    if (void 0 === gauge.option(OPTION_VALUE) && void 0 === gauge.option(OPTION_SUBVALUES)) {\r\n        if (void 0 !== gauge.option(\"valueIndicators\")) {\r\n            disableDefaultMode(gauge);\r\n            selectHardMode(gauge)\r\n        }\r\n    }\r\n}\r\n\r\nfunction disableDefaultMode(that) {\r\n    that.value = that.subvalues = _noop;\r\n    that._setupValue = that._setupSubvalues = that._updateValueIndicator = that._updateSubvalueIndicators = null\r\n}\r\n\r\nfunction selectHardMode(that) {\r\n    that._indicatorValues = [];\r\n    setupValues(that, \"_indicatorValues\", that.option(\"valueIndicators\"));\r\n    that._valueIndicators = [];\r\n    var _applyMostlyTotalChange = that._applyMostlyTotalChange;\r\n    that._applyMostlyTotalChange = function() {\r\n        setupValues(this, \"_indicatorValues\", this.option(\"valueIndicators\"));\r\n        _applyMostlyTotalChange.call(this)\r\n    };\r\n    that._updateActiveElements = updateActiveElements_hardMode;\r\n    that._prepareValueIndicators = prepareValueIndicators_hardMode;\r\n    that._disposeValueIndicators = disposeValueIndicators_hardMode;\r\n    that._cleanValueIndicators = cleanValueIndicators_hardMode;\r\n    that.indicatorValue = indicatorValue_hardMode\r\n}\r\n\r\nfunction updateActiveElements_hardMode() {\r\n    var that = this;\r\n    _each(that._valueIndicators, function(_, valueIndicator) {\r\n        valueIndicator.value(that._indicatorValues[valueIndicator.index], that._noAnimation)\r\n    })\r\n}\r\n\r\nfunction prepareValueIndicators_hardMode() {\r\n    var that = this;\r\n    var valueIndicators = that._valueIndicators || [];\r\n    var userOptions = that.option(\"valueIndicators\");\r\n    var optionList = [];\r\n    var i = 0;\r\n    var ii;\r\n    for (ii = _isArray(userOptions) ? userOptions.length : 0; i < ii; ++i) {\r\n        optionList.push(userOptions[i])\r\n    }\r\n    for (ii = valueIndicators.length; i < ii; ++i) {\r\n        optionList.push(null)\r\n    }\r\n    var newValueIndicators = [];\r\n    _each(optionList, function(i, userSettings) {\r\n        var valueIndicator = valueIndicators[i];\r\n        if (!userSettings) {\r\n            valueIndicator && valueIndicator.dispose();\r\n            return\r\n        }\r\n        var settings = that._prepareIndicatorSettings(userSettings, \"valueIndicatorType\");\r\n        if (valueIndicator && valueIndicator.type !== settings.type) {\r\n            valueIndicator.dispose();\r\n            valueIndicator = null\r\n        }\r\n        if (!valueIndicator) {\r\n            valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\", i, true)\r\n        }\r\n        if (valueIndicator) {\r\n            valueIndicator.index = i;\r\n            valueIndicator.render(settings);\r\n            newValueIndicators.push(valueIndicator)\r\n        }\r\n    });\r\n    that._valueIndicators = newValueIndicators;\r\n    return that._valueIndicators\r\n}\r\n\r\nfunction disposeValueIndicators_hardMode() {\r\n    _each(this._valueIndicators, function(_, valueIndicator) {\r\n        valueIndicator.dispose()\r\n    });\r\n    this._valueIndicators = null\r\n}\r\n\r\nfunction cleanValueIndicators_hardMode() {\r\n    _each(this._valueIndicators, function(_, valueIndicator) {\r\n        valueIndicator.clean()\r\n    })\r\n}\r\n\r\nfunction indicatorValue_hardMode(index, value) {\r\n    return accessPointerValue(this, this._valueIndicators, this._indicatorValues, index, value)\r\n}\r\n\r\nfunction accessPointerValue(that, pointers, values, index, value) {\r\n    if (void 0 !== value) {\r\n        if (void 0 !== values[index]) {\r\n            values[index] = processValue(value, values[index]);\r\n            pointers[index] && pointers[index].value(values[index])\r\n        }\r\n        return that\r\n    } else {\r\n        return values[index]\r\n    }\r\n}\r\n\r\nfunction ValueIndicatorsSet(parameters) {\r\n    this._parameters = parameters;\r\n    this._indicators = []\r\n}\r\nValueIndicatorsSet.prototype = {\r\n    constructor: ValueIndicatorsSet,\r\n    dispose: function() {\r\n        var that = this;\r\n        _each(that._indicators, function(_, indicator) {\r\n            indicator.dispose()\r\n        });\r\n        that._parameters = that._options = that._indicators = that._colorPalette = that._palette = null;\r\n        return that\r\n    },\r\n    clean: function() {\r\n        var that = this;\r\n        that._sample && that._sample.clean().dispose();\r\n        _each(that._indicators, function(_, indicator) {\r\n            indicator.clean()\r\n        });\r\n        that._sample = that._options = that._palette = null;\r\n        return that\r\n    },\r\n    render: function(options, isRecreate) {\r\n        var that = this;\r\n        that._options = options;\r\n        that._sample = that._parameters.createIndicator(that.type);\r\n        that._sample.render(options);\r\n        that.enabled = that._sample.enabled;\r\n        that._palette = _isDefined(options.palette) ? that._parameters.createPalette(options.palette) : null;\r\n        if (that.enabled) {\r\n            that._generatePalette(that._indicators.length);\r\n            that._indicators = _map(that._indicators, function(indicator, i) {\r\n                if (isRecreate) {\r\n                    indicator.dispose();\r\n                    indicator = that._parameters.createIndicator(that.type, i)\r\n                }\r\n                indicator.render(that._getIndicatorOptions(i));\r\n                return indicator\r\n            })\r\n        }\r\n        return that\r\n    },\r\n    getOffset: function() {\r\n        return this._sample.getOffset()\r\n    },\r\n    resize: function(layout) {\r\n        var that = this;\r\n        that._layout = layout;\r\n        _each(that._indicators, function(_, indicator) {\r\n            indicator.resize(layout)\r\n        });\r\n        return that\r\n    },\r\n    measure: function(layout) {\r\n        return this._sample.measure(layout)\r\n    },\r\n    _getIndicatorOptions: function(index) {\r\n        var result = this._options;\r\n        if (this._colorPalette) {\r\n            result = _extend({}, result, {\r\n                color: this._colorPalette[index]\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _generatePalette: function(count) {\r\n        var that = this;\r\n        var colors = null;\r\n        if (that._palette) {\r\n            that._palette.reset();\r\n            colors = that._palette.generateColors(count, {\r\n                repeat: true\r\n            })\r\n        }\r\n        that._colorPalette = colors\r\n    },\r\n    _adjustIndicatorsCount: function(count) {\r\n        var that = this;\r\n        var indicators = that._indicators;\r\n        var i;\r\n        var ii;\r\n        var indicator;\r\n        var indicatorsLen = indicators.length;\r\n        if (indicatorsLen > count) {\r\n            for (i = count, ii = indicatorsLen; i < ii; ++i) {\r\n                indicators[i].clean().dispose()\r\n            }\r\n            that._indicators = indicators.slice(0, count);\r\n            that._generatePalette(indicators.length)\r\n        } else {\r\n            if (indicatorsLen < count) {\r\n                that._generatePalette(count);\r\n                for (i = indicatorsLen, ii = count; i < ii; ++i) {\r\n                    indicator = that._parameters.createIndicator(that.type, i);\r\n                    indicator.render(that._getIndicatorOptions(i)).resize(that._layout);\r\n                    indicators.push(indicator)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    values: function(arg, _noAnimation) {\r\n        var that = this;\r\n        if (!that.enabled) {\r\n            return\r\n        }\r\n        if (void 0 !== arg) {\r\n            if (!_isArray(arg)) {\r\n                arg = _isFinite(arg) ? [Number(arg)] : null\r\n            }\r\n            if (arg) {\r\n                that._adjustIndicatorsCount(arg.length);\r\n                _each(that._indicators, function(i, indicator) {\r\n                    indicator.value(arg[i], _noAnimation)\r\n                })\r\n            }\r\n            return that\r\n        }\r\n        return _map(that._indicators, function(indicator) {\r\n            return indicator.value()\r\n        })\r\n    }\r\n};\r\nexports.createIndicatorCreator = function(indicators) {\r\n    return function(parameters, type, _strict) {\r\n        var indicatorType = indicators[_normalizeEnum(type)] || !_strict && indicators._default;\r\n        return indicatorType ? new indicatorType(parameters) : null\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}