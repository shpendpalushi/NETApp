{"ast":null,"code":"/**\r\n * DevExtreme (ui/popover.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar $ = require(\"../core/renderer\");\n\nvar windowUtils = require(\"../core/utils/window\");\n\nvar window = windowUtils.getWindow();\n\nvar getPublicElement = require(\"../core/utils/dom\").getPublicElement;\n\nvar domAdapter = require(\"../core/dom_adapter\");\n\nvar eventsEngine = require(\"../events/core/events_engine\");\n\nvar registerComponent = require(\"../core/component_registrator\");\n\nvar commonUtils = require(\"../core/utils/common\");\n\nvar extend = require(\"../core/utils/extend\").extend;\n\nvar browser = require(\"../core/utils/browser\");\n\nvar translator = require(\"../animation/translator\");\n\nvar positionUtils = require(\"../animation/position\");\n\nvar typeUtils = require(\"../core/utils/type\");\n\nvar mathUtils = require(\"../core/utils/math\");\n\nvar eventUtils = require(\"../events/utils\");\n\nvar Popup = require(\"./popup\");\n\nvar POPOVER_CLASS = \"dx-popover\";\nvar POPOVER_WRAPPER_CLASS = \"dx-popover-wrapper\";\nvar POPOVER_ARROW_CLASS = \"dx-popover-arrow\";\nvar POPOVER_WITHOUT_TITLE_CLASS = \"dx-popover-without-title\";\nvar POSITION_FLIP_MAP = {\n  left: \"right\",\n  top: \"bottom\",\n  right: \"left\",\n  bottom: \"top\",\n  center: \"center\"\n};\nvar WEIGHT_OF_SIDES = {\n  left: -1,\n  top: -1,\n  center: 0,\n  right: 1,\n  bottom: 1\n};\nvar POSITION_ALIASES = {\n  top: {\n    my: \"bottom center\",\n    at: \"top center\",\n    collision: \"fit flip\"\n  },\n  bottom: {\n    my: \"top center\",\n    at: \"bottom center\",\n    collision: \"fit flip\"\n  },\n  right: {\n    my: \"left center\",\n    at: \"right center\",\n    collision: \"flip fit\"\n  },\n  left: {\n    my: \"right center\",\n    at: \"left center\",\n    collision: \"flip fit\"\n  }\n};\nvar SIDE_BORDER_WIDTH_STYLES = {\n  left: \"borderLeftWidth\",\n  top: \"borderTopWidth\",\n  right: \"borderRightWidth\",\n  bottom: \"borderBottomWidth\"\n};\nvar isFirefox = browser.mozilla;\n\nvar getEventName = function getEventName(that, optionName) {\n  var optionValue = that.option(optionName);\n  return getEventNameByOption(optionValue);\n};\n\nvar getEventNameByOption = function getEventNameByOption(optionValue) {\n  return typeUtils.isObject(optionValue) ? optionValue.name : optionValue;\n};\n\nvar getEventDelay = function getEventDelay(that, optionName) {\n  var optionValue = that.option(optionName);\n  return typeUtils.isObject(optionValue) && optionValue.delay;\n};\n\nvar attachEvent = function attachEvent(that, name) {\n  var delay;\n  var action;\n  var handler;\n  var eventName;\n  var target = that.option(\"target\");\n  var isSelector = typeUtils.isString(target);\n  var event = getEventName(that, name + \"Event\");\n\n  if (!event || that.option(\"disabled\")) {\n    return;\n  }\n\n  eventName = eventUtils.addNamespace(event, that.NAME);\n  action = that._createAction(function () {\n    delay = getEventDelay(that, name + \"Event\");\n\n    this._clearEventsTimeouts();\n\n    if (delay) {\n      this._timeouts[name] = setTimeout(function () {\n        that[name]();\n      }, delay);\n    } else {\n      that[name]();\n    }\n  }.bind(that), {\n    validatingTargetName: \"target\"\n  });\n\n  handler = function handler(e) {\n    action({\n      event: e,\n      target: $(e.currentTarget)\n    });\n  };\n\n  var EVENT_HANDLER_NAME = \"_\" + name + \"EventHandler\";\n\n  if (isSelector) {\n    that[EVENT_HANDLER_NAME] = handler;\n    eventsEngine.on(domAdapter.getDocument(), eventName, target, handler);\n  } else {\n    var targetElement = getPublicElement($(target));\n    that[EVENT_HANDLER_NAME] = void 0;\n    eventsEngine.on(targetElement, eventName, handler);\n  }\n};\n\nvar detachEvent = function detachEvent(that, target, name, event) {\n  var eventName = event || getEventName(that, name + \"Event\");\n\n  if (!eventName) {\n    return;\n  }\n\n  eventName = eventUtils.addNamespace(eventName, that.NAME);\n  var EVENT_HANDLER_NAME = \"_\" + name + \"EventHandler\";\n\n  if (that[EVENT_HANDLER_NAME]) {\n    eventsEngine.off(domAdapter.getDocument(), eventName, target, that[EVENT_HANDLER_NAME]);\n  } else {\n    eventsEngine.off(getPublicElement($(target)), eventName);\n  }\n};\n\nvar Popover = Popup.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      target: window,\n      shading: false,\n      position: \"bottom\",\n      closeOnOutsideClick: true,\n      animation: {\n        show: {\n          type: \"fade\",\n          from: 0,\n          to: 1\n        },\n        hide: {\n          type: \"fade\",\n          to: 0\n        }\n      },\n      showTitle: false,\n      width: \"auto\",\n      height: \"auto\",\n      dragEnabled: false,\n      resizeEnabled: false,\n      fullScreen: false,\n      closeOnTargetScroll: true,\n      arrowPosition: \"\",\n      arrowOffset: 0,\n      boundaryOffset: {\n        h: 10,\n        v: 10\n      }\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return [{\n      device: {\n        platform: \"ios\"\n      },\n      options: {\n        arrowPosition: {\n          boundaryOffset: {\n            h: 20,\n            v: -10\n          },\n          collision: \"fit\"\n        }\n      }\n    }, {\n      device: function device() {\n        return !windowUtils.hasWindow();\n      },\n      options: {\n        animation: null\n      }\n    }];\n  },\n  _init: function _init() {\n    this.callBase();\n\n    this._renderArrow();\n\n    this._timeouts = {};\n    this.$element().addClass(POPOVER_CLASS);\n\n    this._wrapper().addClass(POPOVER_WRAPPER_CLASS);\n  },\n  _render: function _render() {\n    this.callBase.apply(this, arguments);\n\n    this._detachEvents(this.option(\"target\"));\n\n    this._attachEvents();\n  },\n  _detachEvents: function _detachEvents(target) {\n    detachEvent(this, target, \"show\");\n    detachEvent(this, target, \"hide\");\n  },\n  _attachEvents: function _attachEvents() {\n    attachEvent(this, \"show\");\n    attachEvent(this, \"hide\");\n  },\n  _renderArrow: function _renderArrow() {\n    this._$arrow = $(\"<div>\").addClass(POPOVER_ARROW_CLASS).prependTo(this.overlayContent());\n  },\n  _documentDownHandler: function _documentDownHandler(e) {\n    if (this._isOutsideClick(e)) {\n      return this.callBase(e);\n    }\n\n    return true;\n  },\n  _isOutsideClick: function _isOutsideClick(e) {\n    return !$(e.target).closest(this.option(\"target\")).length;\n  },\n  _animate: function _animate(animation) {\n    if (animation && animation.to && \"object\" === _typeof(animation.to)) {\n      extend(animation.to, {\n        position: this._getContainerPosition()\n      });\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _stopAnimation: function _stopAnimation() {\n    this.callBase.apply(this, arguments);\n  },\n  _renderTitle: function _renderTitle() {\n    this._wrapper().toggleClass(POPOVER_WITHOUT_TITLE_CLASS, !this.option(\"showTitle\"));\n\n    this.callBase();\n  },\n  _renderPosition: function _renderPosition() {\n    this.callBase();\n\n    this._renderOverlayPosition();\n  },\n  _renderOverlayBoundaryOffset: commonUtils.noop,\n  _renderOverlayPosition: function _renderOverlayPosition() {\n    this._resetOverlayPosition();\n\n    this._updateContentSize();\n\n    var contentPosition = this._getContainerPosition();\n\n    var resultLocation = positionUtils.setup(this._$content, contentPosition);\n\n    var positionSide = this._getSideByLocation(resultLocation);\n\n    this._togglePositionClass(\"dx-position-\" + positionSide);\n\n    this._toggleFlippedClass(resultLocation.h.flip, resultLocation.v.flip);\n\n    var isArrowVisible = this._isHorizontalSide() || this._isVerticalSide();\n\n    if (isArrowVisible) {\n      this._renderArrowPosition(positionSide);\n    }\n  },\n  _resetOverlayPosition: function _resetOverlayPosition() {\n    this._setContentHeight(true);\n\n    this._togglePositionClass(\"dx-position-\" + this._positionSide);\n\n    translator.move(this._$content, {\n      left: 0,\n      top: 0\n    });\n\n    this._$arrow.css({\n      top: \"auto\",\n      right: \"auto\",\n      bottom: \"auto\",\n      left: \"auto\"\n    });\n  },\n  _updateContentSize: function _updateContentSize() {\n    if (!this._$popupContent) {\n      return;\n    }\n\n    var containerLocation = positionUtils.calculate(this._$content, this._getContainerPosition());\n\n    if (containerLocation.h.oversize > 0 && this._isHorizontalSide() && !containerLocation.h.fit) {\n      var newContainerWidth = this._$content.width() - containerLocation.h.oversize;\n\n      this._$content.width(newContainerWidth);\n    }\n\n    if (containerLocation.v.oversize > 0 && this._isVerticalSide() && !containerLocation.v.fit) {\n      var newOverlayContentHeight = this._$content.height() - containerLocation.v.oversize;\n      var newPopupContentHeight = this._$popupContent.height() - containerLocation.v.oversize;\n\n      this._$content.height(newOverlayContentHeight);\n\n      this._$popupContent.height(newPopupContentHeight);\n    }\n  },\n  _getContainerPosition: function _getContainerPosition() {\n    var offset = commonUtils.pairToObject(this._position.offset || \"\");\n    var hOffset = offset.h;\n    var vOffset = offset.v;\n\n    var isVerticalSide = this._isVerticalSide();\n\n    var isHorizontalSide = this._isHorizontalSide();\n\n    if (isVerticalSide || isHorizontalSide) {\n      var isPopoverInside = this._isPopoverInside();\n\n      var sign = (isPopoverInside ? -1 : 1) * WEIGHT_OF_SIDES[this._positionSide];\n      var arrowSize = isVerticalSide ? this._$arrow.height() : this._$arrow.width();\n\n      var arrowSizeCorrection = this._getContentBorderWidth(this._positionSide);\n\n      var arrowOffset = sign * (arrowSize - arrowSizeCorrection);\n      isVerticalSide ? vOffset += arrowOffset : hOffset += arrowOffset;\n    }\n\n    return extend({}, this._position, {\n      offset: hOffset + \" \" + vOffset\n    });\n  },\n  _getContentBorderWidth: function _getContentBorderWidth(side) {\n    var borderWidth = this._$content.css(SIDE_BORDER_WIDTH_STYLES[side]);\n\n    return parseInt(borderWidth) || 0;\n  },\n  _getSideByLocation: function _getSideByLocation(location) {\n    var isFlippedByVertical = location.v.flip;\n    var isFlippedByHorizontal = location.h.flip;\n    return this._isVerticalSide() && isFlippedByVertical || this._isHorizontalSide() && isFlippedByHorizontal || this._isPopoverInside() ? POSITION_FLIP_MAP[this._positionSide] : this._positionSide;\n  },\n  _togglePositionClass: function _togglePositionClass(positionClass) {\n    this._$wrapper.removeClass(\"dx-position-left dx-position-right dx-position-top dx-position-bottom\").addClass(positionClass);\n  },\n  _toggleFlippedClass: function _toggleFlippedClass(isFlippedHorizontal, isFlippedVertical) {\n    this._$wrapper.toggleClass(\"dx-popover-flipped-horizontal\", isFlippedHorizontal).toggleClass(\"dx-popover-flipped-vertical\", isFlippedVertical);\n  },\n  _renderArrowPosition: function _renderArrowPosition(side) {\n    this._$arrow.css(POSITION_FLIP_MAP[side], -(this._isVerticalSide(side) ? this._$arrow.height() : this._$arrow.width()));\n\n    var axis = this._isVerticalSide(side) ? \"left\" : \"top\";\n    var sizeProperty = this._isVerticalSide(side) ? \"outerWidth\" : \"outerHeight\";\n    var $target = $(this._position.of);\n    var targetOffset = positionUtils.offset($target) || {\n      top: 0,\n      left: 0\n    };\n    var contentOffset = positionUtils.offset(this._$content);\n\n    var arrowSize = this._$arrow[sizeProperty]();\n\n    var contentLocation = contentOffset[axis];\n\n    var contentSize = this._$content[sizeProperty]();\n\n    var targetLocation = targetOffset[axis];\n    var targetSize = $target.get(0).preventDefault ? 0 : $target[sizeProperty]();\n    var min = Math.max(contentLocation, targetLocation);\n    var max = Math.min(contentLocation + contentSize, targetLocation + targetSize);\n    var arrowLocation;\n\n    if (\"start\" === this.option(\"arrowPosition\")) {\n      arrowLocation = min - contentLocation;\n    } else {\n      if (\"end\" === this.option(\"arrowPosition\")) {\n        arrowLocation = max - contentLocation - arrowSize;\n      } else {\n        arrowLocation = (min + max) / 2 - contentLocation - arrowSize / 2;\n      }\n    }\n\n    var borderWidth = this._getContentBorderWidth(side);\n\n    var finalArrowLocation = mathUtils.fitIntoRange(arrowLocation - borderWidth + this.option(\"arrowOffset\"), borderWidth, contentSize - arrowSize - 2 * borderWidth);\n\n    this._$arrow.css(axis, finalArrowLocation);\n  },\n  _isPopoverInside: function _isPopoverInside() {\n    var position = this._transformStringPosition(this.option(\"position\"), POSITION_ALIASES);\n\n    var my = positionUtils.setup.normalizeAlign(position.my);\n    var at = positionUtils.setup.normalizeAlign(position.at);\n    return my.h === at.h && my.v === at.v;\n  },\n  _setContentHeight: function _setContentHeight(fullUpdate) {\n    if (fullUpdate) {\n      this.callBase();\n    }\n  },\n  _renderWrapperPosition: function _renderWrapperPosition() {\n    if (this.option(\"shading\")) {\n      this._$wrapper.css({\n        top: 0,\n        left: 0\n      });\n    }\n  },\n  _renderWrapperDimensions: function _renderWrapperDimensions() {\n    if (this.option(\"shading\")) {\n      this._$wrapper.css({\n        width: \"100%\",\n        height: \"100%\"\n      });\n    }\n  },\n  _normalizePosition: function _normalizePosition() {\n    var position = extend({}, this._transformStringPosition(this.option(\"position\"), POSITION_ALIASES));\n\n    if (!position.of) {\n      position.of = this.option(\"target\");\n    }\n\n    if (!position.collision) {\n      position.collision = \"flip\";\n    }\n\n    if (!position.boundaryOffset) {\n      position.boundaryOffset = this.option(\"boundaryOffset\");\n    }\n\n    this._positionSide = this._getDisplaySide(position);\n    this._position = position;\n  },\n  _getDisplaySide: function _getDisplaySide(position) {\n    var my = positionUtils.setup.normalizeAlign(position.my);\n    var at = positionUtils.setup.normalizeAlign(position.at);\n    var weightSign = WEIGHT_OF_SIDES[my.h] === WEIGHT_OF_SIDES[at.h] && WEIGHT_OF_SIDES[my.v] === WEIGHT_OF_SIDES[at.v] ? -1 : 1;\n    var horizontalWeight = Math.abs(WEIGHT_OF_SIDES[my.h] - weightSign * WEIGHT_OF_SIDES[at.h]);\n    var verticalWeight = Math.abs(WEIGHT_OF_SIDES[my.v] - weightSign * WEIGHT_OF_SIDES[at.v]);\n    return horizontalWeight > verticalWeight ? at.h : at.v;\n  },\n  _resetContentHeight: function _resetContentHeight() {\n    this.callBase();\n\n    if (isFirefox) {\n      var originalOverflow = this._$popupContent.css(\"overflow\");\n\n      this._$popupContent.css(\"overflow\", \"visible\");\n\n      this._$popupContent.css(\"overflow\", originalOverflow);\n    }\n  },\n  _isVerticalSide: function _isVerticalSide(side) {\n    side = side || this._positionSide;\n    return \"top\" === side || \"bottom\" === side;\n  },\n  _isHorizontalSide: function _isHorizontalSide(side) {\n    side = side || this._positionSide;\n    return \"left\" === side || \"right\" === side;\n  },\n  _clearEventTimeout: function _clearEventTimeout(name) {\n    clearTimeout(this._timeouts[name]);\n  },\n  _clearEventsTimeouts: function _clearEventsTimeouts() {\n    this._clearEventTimeout(\"show\");\n\n    this._clearEventTimeout(\"hide\");\n  },\n  _clean: function _clean() {\n    this._detachEvents(this.option(\"target\"));\n\n    this.callBase.apply(this, arguments);\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"boundaryOffset\":\n      case \"arrowPosition\":\n      case \"arrowOffset\":\n        this._renderGeometry();\n\n        break;\n\n      case \"fullScreen\":\n        if (args.value) {\n          this.option(\"fullScreen\", false);\n        }\n\n        break;\n\n      case \"target\":\n        args.previousValue && this._detachEvents(args.previousValue);\n        this.callBase(args);\n        break;\n\n      case \"showEvent\":\n      case \"hideEvent\":\n        var name = args.name.substring(0, 4);\n        var event = getEventNameByOption(args.previousValue);\n        this.hide();\n        detachEvent(this, this.option(\"target\"), name, event);\n        attachEvent(this, name);\n        break;\n\n      case \"visible\":\n        this._clearEventTimeout(args.value ? \"show\" : \"hide\");\n\n        this.callBase(args);\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  show: function show(target) {\n    if (target) {\n      this.option(\"target\", target);\n    }\n\n    return this.callBase();\n  }\n});\nregisterComponent(\"dxPopover\", Popover);\nmodule.exports = Popover;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/popover.js"],"names":["Symbol","_typeof","obj","$","require","windowUtils","window","getPublicElement","domAdapter","eventsEngine","registerComponent","commonUtils","extend","browser","translator","positionUtils","typeUtils","mathUtils","eventUtils","Popup","POPOVER_CLASS","POPOVER_WRAPPER_CLASS","POPOVER_ARROW_CLASS","POPOVER_WITHOUT_TITLE_CLASS","POSITION_FLIP_MAP","left","top","right","bottom","center","WEIGHT_OF_SIDES","POSITION_ALIASES","my","at","collision","SIDE_BORDER_WIDTH_STYLES","isFirefox","getEventName","optionValue","that","getEventNameByOption","getEventDelay","attachEvent","target","isSelector","event","name","eventName","action","delay","setTimeout","validatingTargetName","handler","e","EVENT_HANDLER_NAME","targetElement","detachEvent","Popover","_getDefaultOptions","shading","position","closeOnOutsideClick","animation","show","type","from","to","hide","showTitle","width","height","dragEnabled","resizeEnabled","fullScreen","closeOnTargetScroll","arrowPosition","arrowOffset","boundaryOffset","h","v","_defaultOptionsRules","device","platform","options","_init","_render","_detachEvents","_attachEvents","_renderArrow","_documentDownHandler","_isOutsideClick","_animate","_stopAnimation","_renderTitle","_renderPosition","_renderOverlayBoundaryOffset","_renderOverlayPosition","contentPosition","resultLocation","positionSide","isArrowVisible","_resetOverlayPosition","_updateContentSize","containerLocation","newContainerWidth","newOverlayContentHeight","newPopupContentHeight","_getContainerPosition","offset","hOffset","vOffset","isVerticalSide","isHorizontalSide","isPopoverInside","sign","arrowSize","arrowSizeCorrection","_getContentBorderWidth","borderWidth","parseInt","_getSideByLocation","isFlippedByVertical","location","isFlippedByHorizontal","_togglePositionClass","_toggleFlippedClass","_renderArrowPosition","axis","sizeProperty","$target","targetOffset","contentOffset","contentLocation","contentSize","targetLocation","targetSize","min","Math","max","arrowLocation","finalArrowLocation","_isPopoverInside","_setContentHeight","_renderWrapperPosition","_renderWrapperDimensions","_normalizePosition","_getDisplaySide","weightSign","horizontalWeight","verticalWeight","_resetContentHeight","originalOverflow","_isVerticalSide","side","_isHorizontalSide","_clearEventTimeout","clearTimeout","_clearEventsTimeouts","_clean","_optionChanged","args","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/popover.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nvar $ = require(\"../core/renderer\");\r\nvar windowUtils = require(\"../core/utils/window\");\r\nvar window = windowUtils.getWindow();\r\nvar getPublicElement = require(\"../core/utils/dom\").getPublicElement;\r\nvar domAdapter = require(\"../core/dom_adapter\");\r\nvar eventsEngine = require(\"../events/core/events_engine\");\r\nvar registerComponent = require(\"../core/component_registrator\");\r\nvar commonUtils = require(\"../core/utils/common\");\r\nvar extend = require(\"../core/utils/extend\").extend;\r\nvar browser = require(\"../core/utils/browser\");\r\nvar translator = require(\"../animation/translator\");\r\nvar positionUtils = require(\"../animation/position\");\r\nvar typeUtils = require(\"../core/utils/type\");\r\nvar mathUtils = require(\"../core/utils/math\");\r\nvar eventUtils = require(\"../events/utils\");\r\nvar Popup = require(\"./popup\");\r\nvar POPOVER_CLASS = \"dx-popover\";\r\nvar POPOVER_WRAPPER_CLASS = \"dx-popover-wrapper\";\r\nvar POPOVER_ARROW_CLASS = \"dx-popover-arrow\";\r\nvar POPOVER_WITHOUT_TITLE_CLASS = \"dx-popover-without-title\";\r\nvar POSITION_FLIP_MAP = {\r\n    left: \"right\",\r\n    top: \"bottom\",\r\n    right: \"left\",\r\n    bottom: \"top\",\r\n    center: \"center\"\r\n};\r\nvar WEIGHT_OF_SIDES = {\r\n    left: -1,\r\n    top: -1,\r\n    center: 0,\r\n    right: 1,\r\n    bottom: 1\r\n};\r\nvar POSITION_ALIASES = {\r\n    top: {\r\n        my: \"bottom center\",\r\n        at: \"top center\",\r\n        collision: \"fit flip\"\r\n    },\r\n    bottom: {\r\n        my: \"top center\",\r\n        at: \"bottom center\",\r\n        collision: \"fit flip\"\r\n    },\r\n    right: {\r\n        my: \"left center\",\r\n        at: \"right center\",\r\n        collision: \"flip fit\"\r\n    },\r\n    left: {\r\n        my: \"right center\",\r\n        at: \"left center\",\r\n        collision: \"flip fit\"\r\n    }\r\n};\r\nvar SIDE_BORDER_WIDTH_STYLES = {\r\n    left: \"borderLeftWidth\",\r\n    top: \"borderTopWidth\",\r\n    right: \"borderRightWidth\",\r\n    bottom: \"borderBottomWidth\"\r\n};\r\nvar isFirefox = browser.mozilla;\r\nvar getEventName = function(that, optionName) {\r\n    var optionValue = that.option(optionName);\r\n    return getEventNameByOption(optionValue)\r\n};\r\nvar getEventNameByOption = function(optionValue) {\r\n    return typeUtils.isObject(optionValue) ? optionValue.name : optionValue\r\n};\r\nvar getEventDelay = function(that, optionName) {\r\n    var optionValue = that.option(optionName);\r\n    return typeUtils.isObject(optionValue) && optionValue.delay\r\n};\r\nvar attachEvent = function(that, name) {\r\n    var delay;\r\n    var action;\r\n    var handler;\r\n    var eventName;\r\n    var target = that.option(\"target\");\r\n    var isSelector = typeUtils.isString(target);\r\n    var event = getEventName(that, name + \"Event\");\r\n    if (!event || that.option(\"disabled\")) {\r\n        return\r\n    }\r\n    eventName = eventUtils.addNamespace(event, that.NAME);\r\n    action = that._createAction(function() {\r\n        delay = getEventDelay(that, name + \"Event\");\r\n        this._clearEventsTimeouts();\r\n        if (delay) {\r\n            this._timeouts[name] = setTimeout(function() {\r\n                that[name]()\r\n            }, delay)\r\n        } else {\r\n            that[name]()\r\n        }\r\n    }.bind(that), {\r\n        validatingTargetName: \"target\"\r\n    });\r\n    handler = function(e) {\r\n        action({\r\n            event: e,\r\n            target: $(e.currentTarget)\r\n        })\r\n    };\r\n    var EVENT_HANDLER_NAME = \"_\" + name + \"EventHandler\";\r\n    if (isSelector) {\r\n        that[EVENT_HANDLER_NAME] = handler;\r\n        eventsEngine.on(domAdapter.getDocument(), eventName, target, handler)\r\n    } else {\r\n        var targetElement = getPublicElement($(target));\r\n        that[EVENT_HANDLER_NAME] = void 0;\r\n        eventsEngine.on(targetElement, eventName, handler)\r\n    }\r\n};\r\nvar detachEvent = function(that, target, name, event) {\r\n    var eventName = event || getEventName(that, name + \"Event\");\r\n    if (!eventName) {\r\n        return\r\n    }\r\n    eventName = eventUtils.addNamespace(eventName, that.NAME);\r\n    var EVENT_HANDLER_NAME = \"_\" + name + \"EventHandler\";\r\n    if (that[EVENT_HANDLER_NAME]) {\r\n        eventsEngine.off(domAdapter.getDocument(), eventName, target, that[EVENT_HANDLER_NAME])\r\n    } else {\r\n        eventsEngine.off(getPublicElement($(target)), eventName)\r\n    }\r\n};\r\nvar Popover = Popup.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            target: window,\r\n            shading: false,\r\n            position: \"bottom\",\r\n            closeOnOutsideClick: true,\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    from: 0,\r\n                    to: 1\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    to: 0\r\n                }\r\n            },\r\n            showTitle: false,\r\n            width: \"auto\",\r\n            height: \"auto\",\r\n            dragEnabled: false,\r\n            resizeEnabled: false,\r\n            fullScreen: false,\r\n            closeOnTargetScroll: true,\r\n            arrowPosition: \"\",\r\n            arrowOffset: 0,\r\n            boundaryOffset: {\r\n                h: 10,\r\n                v: 10\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return [{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                arrowPosition: {\r\n                    boundaryOffset: {\r\n                        h: 20,\r\n                        v: -10\r\n                    },\r\n                    collision: \"fit\"\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return !windowUtils.hasWindow()\r\n            },\r\n            options: {\r\n                animation: null\r\n            }\r\n        }]\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._renderArrow();\r\n        this._timeouts = {};\r\n        this.$element().addClass(POPOVER_CLASS);\r\n        this._wrapper().addClass(POPOVER_WRAPPER_CLASS)\r\n    },\r\n    _render: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._detachEvents(this.option(\"target\"));\r\n        this._attachEvents()\r\n    },\r\n    _detachEvents: function(target) {\r\n        detachEvent(this, target, \"show\");\r\n        detachEvent(this, target, \"hide\")\r\n    },\r\n    _attachEvents: function() {\r\n        attachEvent(this, \"show\");\r\n        attachEvent(this, \"hide\")\r\n    },\r\n    _renderArrow: function() {\r\n        this._$arrow = $(\"<div>\").addClass(POPOVER_ARROW_CLASS).prependTo(this.overlayContent())\r\n    },\r\n    _documentDownHandler: function(e) {\r\n        if (this._isOutsideClick(e)) {\r\n            return this.callBase(e)\r\n        }\r\n        return true\r\n    },\r\n    _isOutsideClick: function(e) {\r\n        return !$(e.target).closest(this.option(\"target\")).length\r\n    },\r\n    _animate: function(animation) {\r\n        if (animation && animation.to && \"object\" === _typeof(animation.to)) {\r\n            extend(animation.to, {\r\n                position: this._getContainerPosition()\r\n            })\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _stopAnimation: function() {\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _renderTitle: function() {\r\n        this._wrapper().toggleClass(POPOVER_WITHOUT_TITLE_CLASS, !this.option(\"showTitle\"));\r\n        this.callBase()\r\n    },\r\n    _renderPosition: function() {\r\n        this.callBase();\r\n        this._renderOverlayPosition()\r\n    },\r\n    _renderOverlayBoundaryOffset: commonUtils.noop,\r\n    _renderOverlayPosition: function() {\r\n        this._resetOverlayPosition();\r\n        this._updateContentSize();\r\n        var contentPosition = this._getContainerPosition();\r\n        var resultLocation = positionUtils.setup(this._$content, contentPosition);\r\n        var positionSide = this._getSideByLocation(resultLocation);\r\n        this._togglePositionClass(\"dx-position-\" + positionSide);\r\n        this._toggleFlippedClass(resultLocation.h.flip, resultLocation.v.flip);\r\n        var isArrowVisible = this._isHorizontalSide() || this._isVerticalSide();\r\n        if (isArrowVisible) {\r\n            this._renderArrowPosition(positionSide)\r\n        }\r\n    },\r\n    _resetOverlayPosition: function() {\r\n        this._setContentHeight(true);\r\n        this._togglePositionClass(\"dx-position-\" + this._positionSide);\r\n        translator.move(this._$content, {\r\n            left: 0,\r\n            top: 0\r\n        });\r\n        this._$arrow.css({\r\n            top: \"auto\",\r\n            right: \"auto\",\r\n            bottom: \"auto\",\r\n            left: \"auto\"\r\n        })\r\n    },\r\n    _updateContentSize: function() {\r\n        if (!this._$popupContent) {\r\n            return\r\n        }\r\n        var containerLocation = positionUtils.calculate(this._$content, this._getContainerPosition());\r\n        if (containerLocation.h.oversize > 0 && this._isHorizontalSide() && !containerLocation.h.fit) {\r\n            var newContainerWidth = this._$content.width() - containerLocation.h.oversize;\r\n            this._$content.width(newContainerWidth)\r\n        }\r\n        if (containerLocation.v.oversize > 0 && this._isVerticalSide() && !containerLocation.v.fit) {\r\n            var newOverlayContentHeight = this._$content.height() - containerLocation.v.oversize;\r\n            var newPopupContentHeight = this._$popupContent.height() - containerLocation.v.oversize;\r\n            this._$content.height(newOverlayContentHeight);\r\n            this._$popupContent.height(newPopupContentHeight)\r\n        }\r\n    },\r\n    _getContainerPosition: function() {\r\n        var offset = commonUtils.pairToObject(this._position.offset || \"\");\r\n        var hOffset = offset.h;\r\n        var vOffset = offset.v;\r\n        var isVerticalSide = this._isVerticalSide();\r\n        var isHorizontalSide = this._isHorizontalSide();\r\n        if (isVerticalSide || isHorizontalSide) {\r\n            var isPopoverInside = this._isPopoverInside();\r\n            var sign = (isPopoverInside ? -1 : 1) * WEIGHT_OF_SIDES[this._positionSide];\r\n            var arrowSize = isVerticalSide ? this._$arrow.height() : this._$arrow.width();\r\n            var arrowSizeCorrection = this._getContentBorderWidth(this._positionSide);\r\n            var arrowOffset = sign * (arrowSize - arrowSizeCorrection);\r\n            isVerticalSide ? vOffset += arrowOffset : hOffset += arrowOffset\r\n        }\r\n        return extend({}, this._position, {\r\n            offset: hOffset + \" \" + vOffset\r\n        })\r\n    },\r\n    _getContentBorderWidth: function(side) {\r\n        var borderWidth = this._$content.css(SIDE_BORDER_WIDTH_STYLES[side]);\r\n        return parseInt(borderWidth) || 0\r\n    },\r\n    _getSideByLocation: function(location) {\r\n        var isFlippedByVertical = location.v.flip;\r\n        var isFlippedByHorizontal = location.h.flip;\r\n        return this._isVerticalSide() && isFlippedByVertical || this._isHorizontalSide() && isFlippedByHorizontal || this._isPopoverInside() ? POSITION_FLIP_MAP[this._positionSide] : this._positionSide\r\n    },\r\n    _togglePositionClass: function(positionClass) {\r\n        this._$wrapper.removeClass(\"dx-position-left dx-position-right dx-position-top dx-position-bottom\").addClass(positionClass)\r\n    },\r\n    _toggleFlippedClass: function(isFlippedHorizontal, isFlippedVertical) {\r\n        this._$wrapper.toggleClass(\"dx-popover-flipped-horizontal\", isFlippedHorizontal).toggleClass(\"dx-popover-flipped-vertical\", isFlippedVertical)\r\n    },\r\n    _renderArrowPosition: function(side) {\r\n        this._$arrow.css(POSITION_FLIP_MAP[side], -(this._isVerticalSide(side) ? this._$arrow.height() : this._$arrow.width()));\r\n        var axis = this._isVerticalSide(side) ? \"left\" : \"top\";\r\n        var sizeProperty = this._isVerticalSide(side) ? \"outerWidth\" : \"outerHeight\";\r\n        var $target = $(this._position.of);\r\n        var targetOffset = positionUtils.offset($target) || {\r\n            top: 0,\r\n            left: 0\r\n        };\r\n        var contentOffset = positionUtils.offset(this._$content);\r\n        var arrowSize = this._$arrow[sizeProperty]();\r\n        var contentLocation = contentOffset[axis];\r\n        var contentSize = this._$content[sizeProperty]();\r\n        var targetLocation = targetOffset[axis];\r\n        var targetSize = $target.get(0).preventDefault ? 0 : $target[sizeProperty]();\r\n        var min = Math.max(contentLocation, targetLocation);\r\n        var max = Math.min(contentLocation + contentSize, targetLocation + targetSize);\r\n        var arrowLocation;\r\n        if (\"start\" === this.option(\"arrowPosition\")) {\r\n            arrowLocation = min - contentLocation\r\n        } else {\r\n            if (\"end\" === this.option(\"arrowPosition\")) {\r\n                arrowLocation = max - contentLocation - arrowSize\r\n            } else {\r\n                arrowLocation = (min + max) / 2 - contentLocation - arrowSize / 2\r\n            }\r\n        }\r\n        var borderWidth = this._getContentBorderWidth(side);\r\n        var finalArrowLocation = mathUtils.fitIntoRange(arrowLocation - borderWidth + this.option(\"arrowOffset\"), borderWidth, contentSize - arrowSize - 2 * borderWidth);\r\n        this._$arrow.css(axis, finalArrowLocation)\r\n    },\r\n    _isPopoverInside: function() {\r\n        var position = this._transformStringPosition(this.option(\"position\"), POSITION_ALIASES);\r\n        var my = positionUtils.setup.normalizeAlign(position.my);\r\n        var at = positionUtils.setup.normalizeAlign(position.at);\r\n        return my.h === at.h && my.v === at.v\r\n    },\r\n    _setContentHeight: function(fullUpdate) {\r\n        if (fullUpdate) {\r\n            this.callBase()\r\n        }\r\n    },\r\n    _renderWrapperPosition: function() {\r\n        if (this.option(\"shading\")) {\r\n            this._$wrapper.css({\r\n                top: 0,\r\n                left: 0\r\n            })\r\n        }\r\n    },\r\n    _renderWrapperDimensions: function() {\r\n        if (this.option(\"shading\")) {\r\n            this._$wrapper.css({\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            })\r\n        }\r\n    },\r\n    _normalizePosition: function() {\r\n        var position = extend({}, this._transformStringPosition(this.option(\"position\"), POSITION_ALIASES));\r\n        if (!position.of) {\r\n            position.of = this.option(\"target\")\r\n        }\r\n        if (!position.collision) {\r\n            position.collision = \"flip\"\r\n        }\r\n        if (!position.boundaryOffset) {\r\n            position.boundaryOffset = this.option(\"boundaryOffset\")\r\n        }\r\n        this._positionSide = this._getDisplaySide(position);\r\n        this._position = position\r\n    },\r\n    _getDisplaySide: function(position) {\r\n        var my = positionUtils.setup.normalizeAlign(position.my);\r\n        var at = positionUtils.setup.normalizeAlign(position.at);\r\n        var weightSign = WEIGHT_OF_SIDES[my.h] === WEIGHT_OF_SIDES[at.h] && WEIGHT_OF_SIDES[my.v] === WEIGHT_OF_SIDES[at.v] ? -1 : 1;\r\n        var horizontalWeight = Math.abs(WEIGHT_OF_SIDES[my.h] - weightSign * WEIGHT_OF_SIDES[at.h]);\r\n        var verticalWeight = Math.abs(WEIGHT_OF_SIDES[my.v] - weightSign * WEIGHT_OF_SIDES[at.v]);\r\n        return horizontalWeight > verticalWeight ? at.h : at.v\r\n    },\r\n    _resetContentHeight: function() {\r\n        this.callBase();\r\n        if (isFirefox) {\r\n            var originalOverflow = this._$popupContent.css(\"overflow\");\r\n            this._$popupContent.css(\"overflow\", \"visible\");\r\n            this._$popupContent.css(\"overflow\", originalOverflow)\r\n        }\r\n    },\r\n    _isVerticalSide: function(side) {\r\n        side = side || this._positionSide;\r\n        return \"top\" === side || \"bottom\" === side\r\n    },\r\n    _isHorizontalSide: function(side) {\r\n        side = side || this._positionSide;\r\n        return \"left\" === side || \"right\" === side\r\n    },\r\n    _clearEventTimeout: function(name) {\r\n        clearTimeout(this._timeouts[name])\r\n    },\r\n    _clearEventsTimeouts: function() {\r\n        this._clearEventTimeout(\"show\");\r\n        this._clearEventTimeout(\"hide\")\r\n    },\r\n    _clean: function() {\r\n        this._detachEvents(this.option(\"target\"));\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"boundaryOffset\":\r\n            case \"arrowPosition\":\r\n            case \"arrowOffset\":\r\n                this._renderGeometry();\r\n                break;\r\n            case \"fullScreen\":\r\n                if (args.value) {\r\n                    this.option(\"fullScreen\", false)\r\n                }\r\n                break;\r\n            case \"target\":\r\n                args.previousValue && this._detachEvents(args.previousValue);\r\n                this.callBase(args);\r\n                break;\r\n            case \"showEvent\":\r\n            case \"hideEvent\":\r\n                var name = args.name.substring(0, 4);\r\n                var event = getEventNameByOption(args.previousValue);\r\n                this.hide();\r\n                detachEvent(this, this.option(\"target\"), name, event);\r\n                attachEvent(this, name);\r\n                break;\r\n            case \"visible\":\r\n                this._clearEventTimeout(args.value ? \"show\" : \"hide\");\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    show: function(target) {\r\n        if (target) {\r\n            this.option(\"target\", target)\r\n        }\r\n        return this.callBase()\r\n    }\r\n});\r\nregisterComponent(\"dxPopover\", Popover);\r\nmodule.exports = Popover;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"module"}