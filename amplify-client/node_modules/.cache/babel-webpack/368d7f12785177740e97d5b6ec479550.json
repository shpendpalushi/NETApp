{"ast":null,"code":"/**\r\n * DevExtreme (viz/sparklines/bullet.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar BaseSparkline = require(\"./base_sparkline\");\n\nvar TARGET_MIN_Y = .02;\nvar TARGET_MAX_Y = .98;\nvar BAR_VALUE_MIN_Y = .1;\nvar BAR_VALUE_MAX_Y = .9;\nvar DEFAULT_CANVAS_WIDTH = 300;\nvar DEFAULT_CANVAS_HEIGHT = 30;\nvar DEFAULT_HORIZONTAL_MARGIN = 1;\nvar DEFAULT_VERTICAL_MARGIN = 2;\nvar _Number = Number;\nvar _isFinite = isFinite;\nvar dxBullet = BaseSparkline.inherit({\n  _rootClassPrefix: \"dxb\",\n  _rootClass: \"dxb-bullet\",\n  _themeSection: \"bullet\",\n  _defaultSize: {\n    width: DEFAULT_CANVAS_WIDTH,\n    height: DEFAULT_CANVAS_HEIGHT,\n    left: DEFAULT_HORIZONTAL_MARGIN,\n    right: DEFAULT_HORIZONTAL_MARGIN,\n    top: DEFAULT_VERTICAL_MARGIN,\n    bottom: DEFAULT_VERTICAL_MARGIN\n  },\n  _disposeWidgetElements: function _disposeWidgetElements() {\n    delete this._zeroLevelPath;\n    delete this._targetPath;\n    delete this._barValuePath;\n  },\n  _cleanWidgetElements: function _cleanWidgetElements() {\n    this._zeroLevelPath.remove();\n\n    this._targetPath.remove();\n\n    this._barValuePath.remove();\n  },\n  _drawWidgetElements: function _drawWidgetElements() {\n    this._drawBullet();\n\n    this._drawn();\n  },\n  _createHtmlElements: function _createHtmlElements() {\n    var renderer = this._renderer;\n    this._zeroLevelPath = renderer.path(void 0, \"line\").attr({\n      \"class\": \"dxb-zero-level\",\n      \"stroke-linecap\": \"square\"\n    });\n    this._targetPath = renderer.path(void 0, \"line\").attr({\n      \"class\": \"dxb-target\",\n      \"stroke-linecap\": \"square\"\n    });\n    this._barValuePath = renderer.path(void 0, \"line\").attr({\n      \"class\": \"dxb-bar-value\",\n      \"stroke-linecap\": \"square\"\n    });\n  },\n  _prepareOptions: function _prepareOptions() {\n    var that = this;\n    var options;\n    var startScaleValue;\n    var endScaleValue;\n    var level;\n    var value;\n    var target;\n    var isValueUndefined;\n    var isTargetUndefined;\n    that._allOptions = options = that.callBase();\n    isValueUndefined = void 0 === that._allOptions.value;\n    isTargetUndefined = void 0 === that._allOptions.target;\n    that._tooltipEnabled = !(isValueUndefined && isTargetUndefined);\n\n    if (isValueUndefined) {\n      that._allOptions.value = 0;\n    }\n\n    if (isTargetUndefined) {\n      that._allOptions.target = 0;\n    }\n\n    options.value = value = _Number(options.value);\n    options.target = target = _Number(options.target);\n\n    if (void 0 === that._allOptions.startScaleValue) {\n      that._allOptions.startScaleValue = target < value ? target : value;\n      that._allOptions.startScaleValue = that._allOptions.startScaleValue < 0 ? that._allOptions.startScaleValue : 0;\n    }\n\n    if (void 0 === that._allOptions.endScaleValue) {\n      that._allOptions.endScaleValue = target > value ? target : value;\n    }\n\n    options.startScaleValue = startScaleValue = _Number(options.startScaleValue);\n    options.endScaleValue = endScaleValue = _Number(options.endScaleValue);\n\n    if (endScaleValue < startScaleValue) {\n      level = endScaleValue;\n      that._allOptions.endScaleValue = startScaleValue;\n      that._allOptions.startScaleValue = level;\n      that._allOptions.inverted = true;\n    }\n  },\n  _updateRange: function _updateRange() {\n    var that = this;\n    var options = that._allOptions;\n    that._ranges = {\n      arg: {\n        invert: options.inverted,\n        min: options.startScaleValue,\n        max: options.endScaleValue,\n        axisType: \"continuous\",\n        dataType: \"numeric\"\n      },\n      val: {\n        min: 0,\n        max: 1,\n        axisType: \"continuous\",\n        dataType: \"numeric\"\n      }\n    };\n  },\n  _drawBullet: function _drawBullet() {\n    var that = this;\n    var options = that._allOptions;\n    var isValidBounds = options.startScaleValue !== options.endScaleValue;\n\n    var isValidMin = _isFinite(options.startScaleValue);\n\n    var isValidMax = _isFinite(options.endScaleValue);\n\n    var isValidValue = _isFinite(options.value);\n\n    var isValidTarget = _isFinite(options.target);\n\n    if (isValidBounds && isValidMax && isValidMin && isValidTarget && isValidValue) {\n      this._drawBarValue();\n\n      this._drawTarget();\n\n      this._drawZeroLevel();\n    }\n  },\n  _getTargetParams: function _getTargetParams() {\n    var that = this;\n    var options = that._allOptions;\n\n    var translatorY = that._valueAxis.getTranslator();\n\n    var x = that._argumentAxis.getTranslator().translate(options.target);\n\n    return {\n      points: [x, translatorY.translate(TARGET_MIN_Y), x, translatorY.translate(TARGET_MAX_Y)],\n      stroke: options.targetColor,\n      \"stroke-width\": options.targetWidth\n    };\n  },\n  _getBarValueParams: function _getBarValueParams() {\n    var that = this;\n    var options = that._allOptions;\n\n    var translatorX = that._argumentAxis.getTranslator();\n\n    var translatorY = that._valueAxis.getTranslator();\n\n    var startLevel = options.startScaleValue;\n    var endLevel = options.endScaleValue;\n    var value = options.value;\n    var y2 = translatorY.translate(BAR_VALUE_MIN_Y);\n    var y1 = translatorY.translate(BAR_VALUE_MAX_Y);\n    var x1;\n    var x2;\n\n    if (value > 0) {\n      x1 = startLevel <= 0 ? 0 : startLevel;\n      x2 = value >= endLevel ? endLevel : value < x1 ? x1 : value;\n    } else {\n      x1 = endLevel >= 0 ? 0 : endLevel;\n      x2 = value < startLevel ? startLevel : value > x1 ? x1 : value;\n    }\n\n    x1 = translatorX.translate(x1);\n    x2 = translatorX.translate(x2);\n    return {\n      points: [x1, y1, x2, y1, x2, y2, x1, y2],\n      fill: options.color\n    };\n  },\n  _getCorrectCanvas: function _getCorrectCanvas() {\n    return this._canvas;\n  },\n  _getZeroLevelParams: function _getZeroLevelParams() {\n    var that = this;\n\n    var translatorY = that._valueAxis.getTranslator();\n\n    var x = that._argumentAxis.getTranslator().translate(0);\n\n    return {\n      points: [x, translatorY.translate(TARGET_MIN_Y), x, translatorY.translate(TARGET_MAX_Y)],\n      stroke: that._allOptions.targetColor,\n      \"stroke-width\": 1\n    };\n  },\n  _drawZeroLevel: function _drawZeroLevel() {\n    var that = this;\n    var options = that._allOptions;\n\n    if (0 > options.endScaleValue || 0 < options.startScaleValue || !options.showZeroLevel) {\n      return;\n    }\n\n    that._zeroLevelPath.attr(that._getZeroLevelParams()).sharp().append(that._renderer.root);\n  },\n  _drawTarget: function _drawTarget() {\n    var that = this;\n    var options = that._allOptions;\n    var target = options.target;\n\n    if (target > options.endScaleValue || target < options.startScaleValue || !options.showTarget) {\n      return;\n    }\n\n    that._targetPath.attr(that._getTargetParams()).sharp().append(that._renderer.root);\n  },\n  _drawBarValue: function _drawBarValue() {\n    this._barValuePath.attr(this._getBarValueParams()).append(this._renderer.root);\n  },\n  _getTooltipCoords: function _getTooltipCoords() {\n    var canvas = this._canvas;\n\n    var rootOffset = this._renderer.getRootOffset();\n\n    var bBox = this._barValuePath.getBBox();\n\n    return {\n      x: bBox.x + bBox.width / 2 + rootOffset.left,\n      y: canvas.height / 2 + rootOffset.top\n    };\n  },\n  _getTooltipData: function _getTooltipData() {\n    var that = this;\n    var tooltip = that._tooltip;\n    var options = that._allOptions;\n    var value = options.value;\n    var target = options.target;\n    var valueText = tooltip.formatValue(value);\n    var targetText = tooltip.formatValue(target);\n    return {\n      originalValue: value,\n      originalTarget: target,\n      value: valueText,\n      target: targetText,\n      valueText: [\"Actual Value:\", valueText, \"Target Value:\", targetText]\n    };\n  },\n  _isTooltipEnabled: function _isTooltipEnabled() {\n    return this._tooltipEnabled;\n  }\n});\neach([\"color\", \"targetColor\", \"targetWidth\", \"showTarget\", \"showZeroLevel\", \"value\", \"target\", \"startScaleValue\", \"endScaleValue\"], function (_, name) {\n  dxBullet.prototype._optionChangesMap[name] = \"OPTIONS\";\n});\n\nrequire(\"../../core/component_registrator\")(\"dxBullet\", dxBullet);\n\nmodule.exports = dxBullet;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/sparklines/bullet.js"],"names":["each","require","BaseSparkline","TARGET_MIN_Y","TARGET_MAX_Y","BAR_VALUE_MIN_Y","BAR_VALUE_MAX_Y","DEFAULT_CANVAS_WIDTH","DEFAULT_CANVAS_HEIGHT","DEFAULT_HORIZONTAL_MARGIN","DEFAULT_VERTICAL_MARGIN","_Number","Number","_isFinite","isFinite","dxBullet","inherit","_rootClassPrefix","_rootClass","_themeSection","_defaultSize","width","height","left","right","top","bottom","_disposeWidgetElements","_zeroLevelPath","_targetPath","_barValuePath","_cleanWidgetElements","remove","_drawWidgetElements","_drawBullet","_drawn","_createHtmlElements","renderer","_renderer","path","attr","_prepareOptions","that","options","startScaleValue","endScaleValue","level","value","target","isValueUndefined","isTargetUndefined","_allOptions","callBase","_tooltipEnabled","inverted","_updateRange","_ranges","arg","invert","min","max","axisType","dataType","val","isValidBounds","isValidMin","isValidMax","isValidValue","isValidTarget","_drawBarValue","_drawTarget","_drawZeroLevel","_getTargetParams","translatorY","_valueAxis","getTranslator","x","_argumentAxis","translate","points","stroke","targetColor","targetWidth","_getBarValueParams","translatorX","startLevel","endLevel","y2","y1","x1","x2","fill","color","_getCorrectCanvas","_canvas","_getZeroLevelParams","showZeroLevel","sharp","append","root","showTarget","_getTooltipCoords","canvas","rootOffset","getRootOffset","bBox","getBBox","y","_getTooltipData","tooltip","_tooltip","valueText","formatValue","targetText","originalValue","originalTarget","_isTooltipEnabled","_","name","prototype","_optionChangesMap","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/sparklines/bullet.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar BaseSparkline = require(\"./base_sparkline\");\r\nvar TARGET_MIN_Y = .02;\r\nvar TARGET_MAX_Y = .98;\r\nvar BAR_VALUE_MIN_Y = .1;\r\nvar BAR_VALUE_MAX_Y = .9;\r\nvar DEFAULT_CANVAS_WIDTH = 300;\r\nvar DEFAULT_CANVAS_HEIGHT = 30;\r\nvar DEFAULT_HORIZONTAL_MARGIN = 1;\r\nvar DEFAULT_VERTICAL_MARGIN = 2;\r\nvar _Number = Number;\r\nvar _isFinite = isFinite;\r\nvar dxBullet = BaseSparkline.inherit({\r\n    _rootClassPrefix: \"dxb\",\r\n    _rootClass: \"dxb-bullet\",\r\n    _themeSection: \"bullet\",\r\n    _defaultSize: {\r\n        width: DEFAULT_CANVAS_WIDTH,\r\n        height: DEFAULT_CANVAS_HEIGHT,\r\n        left: DEFAULT_HORIZONTAL_MARGIN,\r\n        right: DEFAULT_HORIZONTAL_MARGIN,\r\n        top: DEFAULT_VERTICAL_MARGIN,\r\n        bottom: DEFAULT_VERTICAL_MARGIN\r\n    },\r\n    _disposeWidgetElements: function() {\r\n        delete this._zeroLevelPath;\r\n        delete this._targetPath;\r\n        delete this._barValuePath\r\n    },\r\n    _cleanWidgetElements: function() {\r\n        this._zeroLevelPath.remove();\r\n        this._targetPath.remove();\r\n        this._barValuePath.remove()\r\n    },\r\n    _drawWidgetElements: function() {\r\n        this._drawBullet();\r\n        this._drawn()\r\n    },\r\n    _createHtmlElements: function() {\r\n        var renderer = this._renderer;\r\n        this._zeroLevelPath = renderer.path(void 0, \"line\").attr({\r\n            \"class\": \"dxb-zero-level\",\r\n            \"stroke-linecap\": \"square\"\r\n        });\r\n        this._targetPath = renderer.path(void 0, \"line\").attr({\r\n            \"class\": \"dxb-target\",\r\n            \"stroke-linecap\": \"square\"\r\n        });\r\n        this._barValuePath = renderer.path(void 0, \"line\").attr({\r\n            \"class\": \"dxb-bar-value\",\r\n            \"stroke-linecap\": \"square\"\r\n        })\r\n    },\r\n    _prepareOptions: function() {\r\n        var that = this;\r\n        var options;\r\n        var startScaleValue;\r\n        var endScaleValue;\r\n        var level;\r\n        var value;\r\n        var target;\r\n        var isValueUndefined;\r\n        var isTargetUndefined;\r\n        that._allOptions = options = that.callBase();\r\n        isValueUndefined = void 0 === that._allOptions.value;\r\n        isTargetUndefined = void 0 === that._allOptions.target;\r\n        that._tooltipEnabled = !(isValueUndefined && isTargetUndefined);\r\n        if (isValueUndefined) {\r\n            that._allOptions.value = 0\r\n        }\r\n        if (isTargetUndefined) {\r\n            that._allOptions.target = 0\r\n        }\r\n        options.value = value = _Number(options.value);\r\n        options.target = target = _Number(options.target);\r\n        if (void 0 === that._allOptions.startScaleValue) {\r\n            that._allOptions.startScaleValue = target < value ? target : value;\r\n            that._allOptions.startScaleValue = that._allOptions.startScaleValue < 0 ? that._allOptions.startScaleValue : 0\r\n        }\r\n        if (void 0 === that._allOptions.endScaleValue) {\r\n            that._allOptions.endScaleValue = target > value ? target : value\r\n        }\r\n        options.startScaleValue = startScaleValue = _Number(options.startScaleValue);\r\n        options.endScaleValue = endScaleValue = _Number(options.endScaleValue);\r\n        if (endScaleValue < startScaleValue) {\r\n            level = endScaleValue;\r\n            that._allOptions.endScaleValue = startScaleValue;\r\n            that._allOptions.startScaleValue = level;\r\n            that._allOptions.inverted = true\r\n        }\r\n    },\r\n    _updateRange: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        that._ranges = {\r\n            arg: {\r\n                invert: options.inverted,\r\n                min: options.startScaleValue,\r\n                max: options.endScaleValue,\r\n                axisType: \"continuous\",\r\n                dataType: \"numeric\"\r\n            },\r\n            val: {\r\n                min: 0,\r\n                max: 1,\r\n                axisType: \"continuous\",\r\n                dataType: \"numeric\"\r\n            }\r\n        }\r\n    },\r\n    _drawBullet: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        var isValidBounds = options.startScaleValue !== options.endScaleValue;\r\n        var isValidMin = _isFinite(options.startScaleValue);\r\n        var isValidMax = _isFinite(options.endScaleValue);\r\n        var isValidValue = _isFinite(options.value);\r\n        var isValidTarget = _isFinite(options.target);\r\n        if (isValidBounds && isValidMax && isValidMin && isValidTarget && isValidValue) {\r\n            this._drawBarValue();\r\n            this._drawTarget();\r\n            this._drawZeroLevel()\r\n        }\r\n    },\r\n    _getTargetParams: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        var translatorY = that._valueAxis.getTranslator();\r\n        var x = that._argumentAxis.getTranslator().translate(options.target);\r\n        return {\r\n            points: [x, translatorY.translate(TARGET_MIN_Y), x, translatorY.translate(TARGET_MAX_Y)],\r\n            stroke: options.targetColor,\r\n            \"stroke-width\": options.targetWidth\r\n        }\r\n    },\r\n    _getBarValueParams: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        var translatorX = that._argumentAxis.getTranslator();\r\n        var translatorY = that._valueAxis.getTranslator();\r\n        var startLevel = options.startScaleValue;\r\n        var endLevel = options.endScaleValue;\r\n        var value = options.value;\r\n        var y2 = translatorY.translate(BAR_VALUE_MIN_Y);\r\n        var y1 = translatorY.translate(BAR_VALUE_MAX_Y);\r\n        var x1;\r\n        var x2;\r\n        if (value > 0) {\r\n            x1 = startLevel <= 0 ? 0 : startLevel;\r\n            x2 = value >= endLevel ? endLevel : value < x1 ? x1 : value\r\n        } else {\r\n            x1 = endLevel >= 0 ? 0 : endLevel;\r\n            x2 = value < startLevel ? startLevel : value > x1 ? x1 : value\r\n        }\r\n        x1 = translatorX.translate(x1);\r\n        x2 = translatorX.translate(x2);\r\n        return {\r\n            points: [x1, y1, x2, y1, x2, y2, x1, y2],\r\n            fill: options.color\r\n        }\r\n    },\r\n    _getCorrectCanvas: function() {\r\n        return this._canvas\r\n    },\r\n    _getZeroLevelParams: function() {\r\n        var that = this;\r\n        var translatorY = that._valueAxis.getTranslator();\r\n        var x = that._argumentAxis.getTranslator().translate(0);\r\n        return {\r\n            points: [x, translatorY.translate(TARGET_MIN_Y), x, translatorY.translate(TARGET_MAX_Y)],\r\n            stroke: that._allOptions.targetColor,\r\n            \"stroke-width\": 1\r\n        }\r\n    },\r\n    _drawZeroLevel: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        if (0 > options.endScaleValue || 0 < options.startScaleValue || !options.showZeroLevel) {\r\n            return\r\n        }\r\n        that._zeroLevelPath.attr(that._getZeroLevelParams()).sharp().append(that._renderer.root)\r\n    },\r\n    _drawTarget: function() {\r\n        var that = this;\r\n        var options = that._allOptions;\r\n        var target = options.target;\r\n        if (target > options.endScaleValue || target < options.startScaleValue || !options.showTarget) {\r\n            return\r\n        }\r\n        that._targetPath.attr(that._getTargetParams()).sharp().append(that._renderer.root)\r\n    },\r\n    _drawBarValue: function() {\r\n        this._barValuePath.attr(this._getBarValueParams()).append(this._renderer.root)\r\n    },\r\n    _getTooltipCoords: function() {\r\n        var canvas = this._canvas;\r\n        var rootOffset = this._renderer.getRootOffset();\r\n        var bBox = this._barValuePath.getBBox();\r\n        return {\r\n            x: bBox.x + bBox.width / 2 + rootOffset.left,\r\n            y: canvas.height / 2 + rootOffset.top\r\n        }\r\n    },\r\n    _getTooltipData: function() {\r\n        var that = this;\r\n        var tooltip = that._tooltip;\r\n        var options = that._allOptions;\r\n        var value = options.value;\r\n        var target = options.target;\r\n        var valueText = tooltip.formatValue(value);\r\n        var targetText = tooltip.formatValue(target);\r\n        return {\r\n            originalValue: value,\r\n            originalTarget: target,\r\n            value: valueText,\r\n            target: targetText,\r\n            valueText: [\"Actual Value:\", valueText, \"Target Value:\", targetText]\r\n        }\r\n    },\r\n    _isTooltipEnabled: function() {\r\n        return this._tooltipEnabled\r\n    }\r\n});\r\neach([\"color\", \"targetColor\", \"targetWidth\", \"showTarget\", \"showZeroLevel\", \"value\", \"target\", \"startScaleValue\", \"endScaleValue\"], function(_, name) {\r\n    dxBullet.prototype._optionChangesMap[name] = \"OPTIONS\"\r\n});\r\nrequire(\"../../core/component_registrator\")(\"dxBullet\", dxBullet);\r\nmodule.exports = dxBullet;\r\n"]},"metadata":{},"sourceType":"script"}