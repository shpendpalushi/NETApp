{"ast":null,"code":"/**\r\n * DevExtreme (viz/gauges/common.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar dxBaseGauge = require(\"./base_gauge\").dxBaseGauge;\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar _isDefined = typeUtils.isDefined;\nvar _isArray = Array.isArray;\nvar _isNumber = typeUtils.isNumeric;\n\nvar axisModule = require(\"../axes/base_axis\");\n\nvar _map = require(\"../core/utils\").map;\n\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\n\nvar _compareArrays = require(\"./base_gauge\").compareArrays;\n\nvar _isFinite = isFinite;\nvar _Number = Number;\nvar _min = Math.min;\nvar _max = Math.max;\nvar _extend = extend;\nvar _each = each;\n\nvar _noop = require(\"../../core/utils/common\").noop;\n\nvar SHIFT_ANGLE = 90;\nvar OPTION_VALUE = \"value\";\nvar OPTION_SUBVALUES = \"subvalues\";\nvar DEFAULT_MINOR_AXIS_DIVISION_FACTOR = 5;\nvar DEFAULT_NUMBER_MULTIPLIERS = [1, 2, 5];\n\nfunction processValue(value, fallbackValue) {\n  if (null === value) {\n    return value;\n  }\n\n  return _isFinite(value) ? _Number(value) : fallbackValue;\n}\n\nfunction parseArrayOfNumbers(arg) {\n  return _isArray(arg) ? arg : _isNumber(arg) ? [arg] : null;\n}\n\nexports.dxGauge = dxBaseGauge.inherit({\n  _initCore: function _initCore() {\n    var that = this;\n    var renderer = that._renderer;\n\n    that._setupValue(that.option(OPTION_VALUE));\n\n    that.__subvalues = parseArrayOfNumbers(that.option(OPTION_SUBVALUES));\n\n    that._setupSubvalues(that.__subvalues);\n\n    selectMode(that);\n    that.callBase.apply(that, arguments);\n    that._rangeContainer = new that._factory.RangeContainer({\n      renderer: renderer,\n      container: renderer.root,\n      translator: that._translator,\n      themeManager: that._themeManager\n    });\n\n    that._initScale();\n  },\n  _fontFields: [\"scale.label.font\", \"valueIndicators.rangebar.text.font\", \"valueIndicators.textcloud.text.font\", \"indicator.text.font\"],\n  _initScale: function _initScale() {\n    var that = this;\n    that._scaleGroup = that._renderer.g().attr({\n      \"class\": \"dxg-scale\"\n    }).linkOn(that._renderer.root, \"scale\");\n    that._scale = new axisModule.Axis({\n      incidentOccurred: that._incidentOccurred,\n      renderer: that._renderer,\n      axesContainerGroup: that._scaleGroup,\n      axisType: that._scaleTypes.type,\n      drawingType: that._scaleTypes.drawingType,\n      widgetClass: \"dxg\"\n    });\n  },\n  _disposeCore: function _disposeCore() {\n    var that = this;\n    that.callBase.apply(that, arguments);\n\n    that._scale.dispose();\n\n    that._scaleGroup.linkOff();\n\n    that._rangeContainer.dispose();\n\n    that._disposeValueIndicators();\n\n    that._scale = that._scaleGroup = that._rangeContainer = null;\n  },\n  _disposeValueIndicators: function _disposeValueIndicators() {\n    var that = this;\n    that._valueIndicator && that._valueIndicator.dispose();\n    that._subvalueIndicatorsSet && that._subvalueIndicatorsSet.dispose();\n    that._valueIndicator = that._subvalueIndicatorsSet = null;\n  },\n  _setupDomainCore: function _setupDomainCore() {\n    var that = this;\n    var scaleOption = that.option(\"scale\") || {};\n    var startValue = that.option(\"startValue\");\n    var endValue = that.option(\"endValue\");\n    startValue = _isNumber(startValue) ? _Number(startValue) : _isNumber(scaleOption.startValue) ? _Number(scaleOption.startValue) : 0;\n    endValue = _isNumber(endValue) ? _Number(endValue) : _isNumber(scaleOption.endValue) ? _Number(scaleOption.endValue) : 100;\n    that._baseValue = startValue < endValue ? startValue : endValue;\n\n    that._translator.setDomain(startValue, endValue);\n  },\n  _cleanContent: function _cleanContent() {\n    var that = this;\n\n    that._rangeContainer.clean();\n\n    that._cleanValueIndicators();\n  },\n  _measureScale: function _measureScale(scaleOptions) {\n    var that = this;\n    var majorTick = scaleOptions.tick;\n    var majorTickEnabled = majorTick.visible && majorTick.length > 0 && majorTick.width > 0;\n    var minorTick = scaleOptions.minorTick;\n    var minorTickEnabled = minorTick.visible && minorTick.length > 0 && minorTick.width > 0;\n    var label = scaleOptions.label;\n    var indentFromTick = Number(label.indentFromTick);\n    var textParams;\n    var layoutValue;\n    var result;\n    var coefs;\n    var innerCoef;\n    var outerCoef;\n\n    if (!majorTickEnabled && !minorTickEnabled && !label.visible) {\n      return {};\n    }\n\n    textParams = that._scale.measureLabels(extend({}, that._canvas));\n    layoutValue = that._getScaleLayoutValue();\n    result = {\n      min: layoutValue,\n      max: layoutValue\n    };\n    coefs = that._getTicksCoefficients(scaleOptions);\n    innerCoef = coefs.inner;\n    outerCoef = coefs.outer;\n\n    if (majorTickEnabled) {\n      result.min = _min(result.min, layoutValue - innerCoef * majorTick.length);\n      result.max = _max(result.max, layoutValue + outerCoef * majorTick.length);\n    }\n\n    if (minorTickEnabled) {\n      result.min = _min(result.min, layoutValue - innerCoef * minorTick.length);\n      result.max = _max(result.max, layoutValue + outerCoef * minorTick.length);\n    }\n\n    label.visible && that._correctScaleIndents(result, indentFromTick, textParams);\n    return result;\n  },\n  _renderContent: function _renderContent() {\n    var that = this;\n\n    var scaleOptions = that._prepareScaleSettings();\n\n    var elements;\n\n    that._rangeContainer.render(_extend(that._getOption(\"rangeContainer\"), {\n      vertical: that._area.vertical\n    }));\n\n    that._renderScale(scaleOptions);\n\n    elements = _map([that._rangeContainer].concat(that._prepareValueIndicators()), function (element) {\n      return element && element.enabled ? element : null;\n    });\n\n    that._applyMainLayout(elements, that._measureScale(scaleOptions));\n\n    _each(elements, function (_, element) {\n      element.resize(that._getElementLayout(element.getOffset()));\n    });\n\n    that._shiftScale(that._getElementLayout(0), scaleOptions);\n\n    that._beginValueChanging();\n\n    that._updateActiveElements();\n\n    that._endValueChanging();\n  },\n  _prepareScaleSettings: function _prepareScaleSettings() {\n    var that = this;\n    var userOptions = that.option(\"scale\");\n    var scaleOptions = extend(true, {}, that._themeManager.theme(\"scale\"), userOptions);\n    scaleOptions.label.indentFromAxis = 0;\n    scaleOptions.isHorizontal = !that._area.vertical;\n    scaleOptions.forceUserTickInterval |= _isDefined(userOptions) && _isDefined(userOptions.tickInterval) && !_isDefined(userOptions.scaleDivisionFactor);\n    scaleOptions.axisDivisionFactor = scaleOptions.scaleDivisionFactor || that._gridSpacingFactor;\n    scaleOptions.minorAxisDivisionFactor = scaleOptions.minorScaleDivisionFactor || DEFAULT_MINOR_AXIS_DIVISION_FACTOR;\n    scaleOptions.numberMultipliers = DEFAULT_NUMBER_MULTIPLIERS;\n    scaleOptions.tickOrientation = that._getTicksOrientation(scaleOptions);\n\n    if (scaleOptions.label.useRangeColors) {\n      scaleOptions.label.customizeColor = function () {\n        return that._rangeContainer.getColorForValue(this.value);\n      };\n    }\n\n    return scaleOptions;\n  },\n  _renderScale: function _renderScale(scaleOptions) {\n    var that = this;\n\n    var bounds = that._translator.getDomain();\n\n    var startValue = bounds[0];\n    var endValue = bounds[1];\n\n    var angles = that._translator.getCodomain();\n\n    var invert = startValue > endValue;\n\n    var min = _min(startValue, endValue);\n\n    var max = _max(startValue, endValue);\n\n    scaleOptions.min = min;\n    scaleOptions.max = max;\n    scaleOptions.startAngle = SHIFT_ANGLE - angles[0];\n    scaleOptions.endAngle = SHIFT_ANGLE - angles[1];\n    scaleOptions.skipViewportExtending = true;\n\n    that._scale.updateOptions(scaleOptions);\n\n    that._scale.setBusinessRange({\n      axisType: \"continuous\",\n      dataType: \"numeric\",\n      min: min,\n      max: max,\n      invert: invert\n    });\n\n    that._updateScaleTickIndent(scaleOptions);\n\n    that._scaleGroup.linkAppend();\n\n    that._scale.draw(extend({}, that._canvas));\n  },\n  _updateIndicatorSettings: function _updateIndicatorSettings(settings) {\n    var that = this;\n    settings.currentValue = settings.baseValue = _isFinite(that._translator.translate(settings.baseValue)) ? _Number(settings.baseValue) : that._baseValue;\n    settings.vertical = that._area.vertical;\n\n    if (settings.text && !settings.text.format) {\n      settings.text.format = that._defaultFormatOptions;\n    }\n  },\n  _prepareIndicatorSettings: function _prepareIndicatorSettings(options, defaultTypeField) {\n    var that = this;\n\n    var theme = that._themeManager.theme(\"valueIndicators\");\n\n    var type = _normalizeEnum(options.type || that._themeManager.theme(defaultTypeField));\n\n    var settings = _extend(true, {}, theme._default, theme[type], options);\n\n    settings.type = type;\n    settings.animation = that._animationSettings;\n    settings.containerBackgroundColor = that._containerBackgroundColor;\n\n    that._updateIndicatorSettings(settings);\n\n    return settings;\n  },\n  _cleanValueIndicators: function _cleanValueIndicators() {\n    this._valueIndicator && this._valueIndicator.clean();\n    this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.clean();\n  },\n  _prepareValueIndicators: function _prepareValueIndicators() {\n    var that = this;\n\n    that._prepareValueIndicator();\n\n    null !== that.__subvalues && that._prepareSubvalueIndicators();\n    return [that._valueIndicator, that._subvalueIndicatorsSet];\n  },\n  _updateActiveElements: function _updateActiveElements() {\n    this._updateValueIndicator();\n\n    this._updateSubvalueIndicators();\n  },\n  _prepareValueIndicator: function _prepareValueIndicator() {\n    var that = this;\n    var target = that._valueIndicator;\n\n    var settings = that._prepareIndicatorSettings(that.option(\"valueIndicator\") || {}, \"valueIndicatorType\");\n\n    if (target && target.type !== settings.type) {\n      target.dispose();\n      target = null;\n    }\n\n    if (!target) {\n      target = that._valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\");\n    }\n\n    target.render(settings);\n  },\n  _createSubvalueIndicatorsSet: function _createSubvalueIndicatorsSet() {\n    var that = this;\n    var root = that._renderer.root;\n    return new ValueIndicatorsSet({\n      createIndicator: function createIndicator(type, i) {\n        return that._createIndicator(type, root, \"dxg-subvalue-indicator\", \"subvalue-indicator\", i);\n      },\n      createPalette: function createPalette(palette) {\n        return that._themeManager.createPalette(palette);\n      }\n    });\n  },\n  _prepareSubvalueIndicators: function _prepareSubvalueIndicators() {\n    var that = this;\n    var target = that._subvalueIndicatorsSet;\n\n    var settings = that._prepareIndicatorSettings(that.option(\"subvalueIndicator\") || {}, \"subvalueIndicatorType\");\n\n    var isRecreate;\n    var dummy;\n\n    if (!target) {\n      target = that._subvalueIndicatorsSet = that._createSubvalueIndicatorsSet();\n    }\n\n    isRecreate = settings.type !== target.type;\n    target.type = settings.type;\n    dummy = that._createIndicator(settings.type, that._renderer.root);\n\n    if (dummy) {\n      dummy.dispose();\n      target.render(settings, isRecreate);\n    }\n  },\n  _setupValue: function _setupValue(value) {\n    this.__value = processValue(value, this.__value);\n  },\n  _setupSubvalues: function _setupSubvalues(subvalues) {\n    var vals = void 0 === subvalues ? this.__subvalues : parseArrayOfNumbers(subvalues);\n    var i;\n    var ii;\n    var list;\n\n    if (null === vals) {\n      return;\n    }\n\n    for (i = 0, ii = vals.length, list = []; i < ii; ++i) {\n      list.push(processValue(vals[i], this.__subvalues[i]));\n    }\n\n    this.__subvalues = list;\n  },\n  _updateValueIndicator: function _updateValueIndicator() {\n    var that = this;\n    that._valueIndicator && that._valueIndicator.value(that.__value, that._noAnimation);\n  },\n  _updateSubvalueIndicators: function _updateSubvalueIndicators() {\n    var that = this;\n    that._subvalueIndicatorsSet && that._subvalueIndicatorsSet.values(that.__subvalues, that._noAnimation);\n  },\n  value: function value(arg) {\n    if (void 0 !== arg) {\n      this._changeValue(arg);\n\n      return this;\n    }\n\n    return this.__value;\n  },\n  subvalues: function subvalues(arg) {\n    if (void 0 !== arg) {\n      this._changeSubvalues(arg);\n\n      return this;\n    }\n\n    return null !== this.__subvalues ? this.__subvalues.slice() : void 0;\n  },\n  _changeValue: function _changeValue(value) {\n    var that = this;\n\n    that._setupValue(value);\n\n    that._beginValueChanging();\n\n    that._updateValueIndicator();\n\n    if (that.__value !== that.option(OPTION_VALUE)) {\n      that.option(OPTION_VALUE, that.__value);\n    }\n\n    that._endValueChanging();\n  },\n  _changeSubvalues: function _changeSubvalues(subvalues) {\n    var that = this;\n\n    if (null !== that.__subvalues) {\n      that._setupSubvalues(subvalues);\n\n      that._beginValueChanging();\n\n      that._updateSubvalueIndicators();\n\n      that._endValueChanging();\n    } else {\n      that.__subvalues = parseArrayOfNumbers(subvalues);\n\n      that._setContentSize();\n\n      that._renderContent();\n    }\n\n    if (!_compareArrays(that.__subvalues, that.option(OPTION_SUBVALUES))) {\n      that.option(OPTION_SUBVALUES, that.__subvalues);\n    }\n  },\n  _optionChangesMap: {\n    scale: \"DOMAIN\",\n    rangeContainer: \"MOSTLY_TOTAL\",\n    valueIndicator: \"MOSTLY_TOTAL\",\n    subvalueIndicator: \"MOSTLY_TOTAL\",\n    containerBackgroundColor: \"MOSTLY_TOTAL\",\n    value: \"VALUE\",\n    subvalues: \"SUBVALUES\",\n    valueIndicators: \"MOSTLY_TOTAL\"\n  },\n  _customChangesOrder: [\"VALUE\", \"SUBVALUES\"],\n  _change_VALUE: function _change_VALUE() {\n    this._changeValue(this.option(OPTION_VALUE));\n  },\n  _change_SUBVALUES: function _change_SUBVALUES() {\n    this._changeSubvalues(this.option(OPTION_SUBVALUES));\n  },\n  _applyMainLayout: null,\n  _getElementLayout: null,\n  _createIndicator: function _createIndicator(type, owner, className, trackerType, trackerIndex, _strict) {\n    var that = this;\n\n    var indicator = that._factory.createIndicator({\n      renderer: that._renderer,\n      translator: that._translator,\n      owner: owner,\n      tracker: that._tracker,\n      className: className\n    }, type, _strict);\n\n    if (indicator) {\n      indicator.type = type;\n      indicator._trackerInfo = {\n        type: trackerType,\n        index: trackerIndex\n      };\n    }\n\n    return indicator;\n  },\n  _getApproximateScreenRange: null\n});\n\nfunction valueGetter(arg) {\n  return arg ? arg.value : null;\n}\n\nfunction setupValues(that, fieldName, optionItems) {\n  var currentValues = that[fieldName];\n  var newValues = _isArray(optionItems) ? _map(optionItems, valueGetter) : [];\n  var i = 0;\n  var ii = newValues.length;\n  var list = [];\n\n  for (; i < ii; ++i) {\n    list.push(processValue(newValues[i], currentValues[i]));\n  }\n\n  that[fieldName] = list;\n}\n\nfunction selectMode(gauge) {\n  if (void 0 === gauge.option(OPTION_VALUE) && void 0 === gauge.option(OPTION_SUBVALUES)) {\n    if (void 0 !== gauge.option(\"valueIndicators\")) {\n      disableDefaultMode(gauge);\n      selectHardMode(gauge);\n    }\n  }\n}\n\nfunction disableDefaultMode(that) {\n  that.value = that.subvalues = _noop;\n  that._setupValue = that._setupSubvalues = that._updateValueIndicator = that._updateSubvalueIndicators = null;\n}\n\nfunction selectHardMode(that) {\n  that._indicatorValues = [];\n  setupValues(that, \"_indicatorValues\", that.option(\"valueIndicators\"));\n  that._valueIndicators = [];\n  var _applyMostlyTotalChange = that._applyMostlyTotalChange;\n\n  that._applyMostlyTotalChange = function () {\n    setupValues(this, \"_indicatorValues\", this.option(\"valueIndicators\"));\n\n    _applyMostlyTotalChange.call(this);\n  };\n\n  that._updateActiveElements = updateActiveElements_hardMode;\n  that._prepareValueIndicators = prepareValueIndicators_hardMode;\n  that._disposeValueIndicators = disposeValueIndicators_hardMode;\n  that._cleanValueIndicators = cleanValueIndicators_hardMode;\n  that.indicatorValue = indicatorValue_hardMode;\n}\n\nfunction updateActiveElements_hardMode() {\n  var that = this;\n\n  _each(that._valueIndicators, function (_, valueIndicator) {\n    valueIndicator.value(that._indicatorValues[valueIndicator.index], that._noAnimation);\n  });\n}\n\nfunction prepareValueIndicators_hardMode() {\n  var that = this;\n  var valueIndicators = that._valueIndicators || [];\n  var userOptions = that.option(\"valueIndicators\");\n  var optionList = [];\n  var i = 0;\n  var ii;\n\n  for (ii = _isArray(userOptions) ? userOptions.length : 0; i < ii; ++i) {\n    optionList.push(userOptions[i]);\n  }\n\n  for (ii = valueIndicators.length; i < ii; ++i) {\n    optionList.push(null);\n  }\n\n  var newValueIndicators = [];\n\n  _each(optionList, function (i, userSettings) {\n    var valueIndicator = valueIndicators[i];\n\n    if (!userSettings) {\n      valueIndicator && valueIndicator.dispose();\n      return;\n    }\n\n    var settings = that._prepareIndicatorSettings(userSettings, \"valueIndicatorType\");\n\n    if (valueIndicator && valueIndicator.type !== settings.type) {\n      valueIndicator.dispose();\n      valueIndicator = null;\n    }\n\n    if (!valueIndicator) {\n      valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\", i, true);\n    }\n\n    if (valueIndicator) {\n      valueIndicator.index = i;\n      valueIndicator.render(settings);\n      newValueIndicators.push(valueIndicator);\n    }\n  });\n\n  that._valueIndicators = newValueIndicators;\n  return that._valueIndicators;\n}\n\nfunction disposeValueIndicators_hardMode() {\n  _each(this._valueIndicators, function (_, valueIndicator) {\n    valueIndicator.dispose();\n  });\n\n  this._valueIndicators = null;\n}\n\nfunction cleanValueIndicators_hardMode() {\n  _each(this._valueIndicators, function (_, valueIndicator) {\n    valueIndicator.clean();\n  });\n}\n\nfunction indicatorValue_hardMode(index, value) {\n  return accessPointerValue(this, this._valueIndicators, this._indicatorValues, index, value);\n}\n\nfunction accessPointerValue(that, pointers, values, index, value) {\n  if (void 0 !== value) {\n    if (void 0 !== values[index]) {\n      values[index] = processValue(value, values[index]);\n      pointers[index] && pointers[index].value(values[index]);\n    }\n\n    return that;\n  } else {\n    return values[index];\n  }\n}\n\nfunction ValueIndicatorsSet(parameters) {\n  this._parameters = parameters;\n  this._indicators = [];\n}\n\nValueIndicatorsSet.prototype = {\n  constructor: ValueIndicatorsSet,\n  dispose: function dispose() {\n    var that = this;\n\n    _each(that._indicators, function (_, indicator) {\n      indicator.dispose();\n    });\n\n    that._parameters = that._options = that._indicators = that._colorPalette = that._palette = null;\n    return that;\n  },\n  clean: function clean() {\n    var that = this;\n    that._sample && that._sample.clean().dispose();\n\n    _each(that._indicators, function (_, indicator) {\n      indicator.clean();\n    });\n\n    that._sample = that._options = that._palette = null;\n    return that;\n  },\n  render: function render(options, isRecreate) {\n    var that = this;\n    that._options = options;\n    that._sample = that._parameters.createIndicator(that.type);\n\n    that._sample.render(options);\n\n    that.enabled = that._sample.enabled;\n    that._palette = _isDefined(options.palette) ? that._parameters.createPalette(options.palette) : null;\n\n    if (that.enabled) {\n      that._generatePalette(that._indicators.length);\n\n      that._indicators = _map(that._indicators, function (indicator, i) {\n        if (isRecreate) {\n          indicator.dispose();\n          indicator = that._parameters.createIndicator(that.type, i);\n        }\n\n        indicator.render(that._getIndicatorOptions(i));\n        return indicator;\n      });\n    }\n\n    return that;\n  },\n  getOffset: function getOffset() {\n    return this._sample.getOffset();\n  },\n  resize: function resize(layout) {\n    var that = this;\n    that._layout = layout;\n\n    _each(that._indicators, function (_, indicator) {\n      indicator.resize(layout);\n    });\n\n    return that;\n  },\n  measure: function measure(layout) {\n    return this._sample.measure(layout);\n  },\n  _getIndicatorOptions: function _getIndicatorOptions(index) {\n    var result = this._options;\n\n    if (this._colorPalette) {\n      result = _extend({}, result, {\n        color: this._colorPalette[index]\n      });\n    }\n\n    return result;\n  },\n  _generatePalette: function _generatePalette(count) {\n    var that = this;\n    var colors = null;\n\n    if (that._palette) {\n      that._palette.reset();\n\n      colors = that._palette.generateColors(count, {\n        repeat: true\n      });\n    }\n\n    that._colorPalette = colors;\n  },\n  _adjustIndicatorsCount: function _adjustIndicatorsCount(count) {\n    var that = this;\n    var indicators = that._indicators;\n    var i;\n    var ii;\n    var indicator;\n    var indicatorsLen = indicators.length;\n\n    if (indicatorsLen > count) {\n      for (i = count, ii = indicatorsLen; i < ii; ++i) {\n        indicators[i].clean().dispose();\n      }\n\n      that._indicators = indicators.slice(0, count);\n\n      that._generatePalette(indicators.length);\n    } else {\n      if (indicatorsLen < count) {\n        that._generatePalette(count);\n\n        for (i = indicatorsLen, ii = count; i < ii; ++i) {\n          indicator = that._parameters.createIndicator(that.type, i);\n          indicator.render(that._getIndicatorOptions(i)).resize(that._layout);\n          indicators.push(indicator);\n        }\n      }\n    }\n  },\n  values: function values(arg, _noAnimation) {\n    var that = this;\n\n    if (!that.enabled) {\n      return;\n    }\n\n    if (void 0 !== arg) {\n      if (!_isArray(arg)) {\n        arg = _isFinite(arg) ? [Number(arg)] : null;\n      }\n\n      if (arg) {\n        that._adjustIndicatorsCount(arg.length);\n\n        _each(that._indicators, function (i, indicator) {\n          indicator.value(arg[i], _noAnimation);\n        });\n      }\n\n      return that;\n    }\n\n    return _map(that._indicators, function (indicator) {\n      return indicator.value();\n    });\n  }\n};\n\nexports.createIndicatorCreator = function (indicators) {\n  return function (parameters, type, _strict) {\n    var indicatorType = indicators[_normalizeEnum(type)] || !_strict && indicators._default;\n\n    return indicatorType ? new indicatorType(parameters) : null;\n  };\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/gauges/common.js"],"names":["dxBaseGauge","require","typeUtils","each","extend","_isDefined","isDefined","_isArray","Array","isArray","_isNumber","isNumeric","axisModule","_map","map","_normalizeEnum","normalizeEnum","_compareArrays","compareArrays","_isFinite","isFinite","_Number","Number","_min","Math","min","_max","max","_extend","_each","_noop","noop","SHIFT_ANGLE","OPTION_VALUE","OPTION_SUBVALUES","DEFAULT_MINOR_AXIS_DIVISION_FACTOR","DEFAULT_NUMBER_MULTIPLIERS","processValue","value","fallbackValue","parseArrayOfNumbers","arg","exports","dxGauge","inherit","_initCore","that","renderer","_renderer","_setupValue","option","__subvalues","_setupSubvalues","selectMode","callBase","apply","arguments","_rangeContainer","_factory","RangeContainer","container","root","translator","_translator","themeManager","_themeManager","_initScale","_fontFields","_scaleGroup","g","attr","linkOn","_scale","Axis","incidentOccurred","_incidentOccurred","axesContainerGroup","axisType","_scaleTypes","type","drawingType","widgetClass","_disposeCore","dispose","linkOff","_disposeValueIndicators","_valueIndicator","_subvalueIndicatorsSet","_setupDomainCore","scaleOption","startValue","endValue","_baseValue","setDomain","_cleanContent","clean","_cleanValueIndicators","_measureScale","scaleOptions","majorTick","tick","majorTickEnabled","visible","length","width","minorTick","minorTickEnabled","label","indentFromTick","textParams","layoutValue","result","coefs","innerCoef","outerCoef","measureLabels","_canvas","_getScaleLayoutValue","_getTicksCoefficients","inner","outer","_correctScaleIndents","_renderContent","_prepareScaleSettings","elements","render","_getOption","vertical","_area","_renderScale","concat","_prepareValueIndicators","element","enabled","_applyMainLayout","_","resize","_getElementLayout","getOffset","_shiftScale","_beginValueChanging","_updateActiveElements","_endValueChanging","userOptions","theme","indentFromAxis","isHorizontal","forceUserTickInterval","tickInterval","scaleDivisionFactor","axisDivisionFactor","_gridSpacingFactor","minorAxisDivisionFactor","minorScaleDivisionFactor","numberMultipliers","tickOrientation","_getTicksOrientation","useRangeColors","customizeColor","getColorForValue","bounds","getDomain","angles","getCodomain","invert","startAngle","endAngle","skipViewportExtending","updateOptions","setBusinessRange","dataType","_updateScaleTickIndent","linkAppend","draw","_updateIndicatorSettings","settings","currentValue","baseValue","translate","text","format","_defaultFormatOptions","_prepareIndicatorSettings","options","defaultTypeField","_default","animation","_animationSettings","containerBackgroundColor","_containerBackgroundColor","_prepareValueIndicator","_prepareSubvalueIndicators","_updateValueIndicator","_updateSubvalueIndicators","target","_createIndicator","_createSubvalueIndicatorsSet","ValueIndicatorsSet","createIndicator","i","createPalette","palette","isRecreate","dummy","__value","subvalues","vals","ii","list","push","_noAnimation","values","_changeValue","_changeSubvalues","slice","_setContentSize","_optionChangesMap","scale","rangeContainer","valueIndicator","subvalueIndicator","valueIndicators","_customChangesOrder","_change_VALUE","_change_SUBVALUES","owner","className","trackerType","trackerIndex","_strict","indicator","tracker","_tracker","_trackerInfo","index","_getApproximateScreenRange","valueGetter","setupValues","fieldName","optionItems","currentValues","newValues","gauge","disableDefaultMode","selectHardMode","_indicatorValues","_valueIndicators","_applyMostlyTotalChange","call","updateActiveElements_hardMode","prepareValueIndicators_hardMode","disposeValueIndicators_hardMode","cleanValueIndicators_hardMode","indicatorValue","indicatorValue_hardMode","optionList","newValueIndicators","userSettings","accessPointerValue","pointers","parameters","_parameters","_indicators","prototype","constructor","_options","_colorPalette","_palette","_sample","_generatePalette","_getIndicatorOptions","layout","_layout","measure","color","count","colors","reset","generateColors","repeat","_adjustIndicatorsCount","indicators","indicatorsLen","createIndicatorCreator","indicatorType"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/gauges/common.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar dxBaseGauge = require(\"./base_gauge\").dxBaseGauge;\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar _isDefined = typeUtils.isDefined;\r\nvar _isArray = Array.isArray;\r\nvar _isNumber = typeUtils.isNumeric;\r\nvar axisModule = require(\"../axes/base_axis\");\r\nvar _map = require(\"../core/utils\").map;\r\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\r\nvar _compareArrays = require(\"./base_gauge\").compareArrays;\r\nvar _isFinite = isFinite;\r\nvar _Number = Number;\r\nvar _min = Math.min;\r\nvar _max = Math.max;\r\nvar _extend = extend;\r\nvar _each = each;\r\nvar _noop = require(\"../../core/utils/common\").noop;\r\nvar SHIFT_ANGLE = 90;\r\nvar OPTION_VALUE = \"value\";\r\nvar OPTION_SUBVALUES = \"subvalues\";\r\nvar DEFAULT_MINOR_AXIS_DIVISION_FACTOR = 5;\r\nvar DEFAULT_NUMBER_MULTIPLIERS = [1, 2, 5];\r\n\r\nfunction processValue(value, fallbackValue) {\r\n    if (null === value) {\r\n        return value\r\n    }\r\n    return _isFinite(value) ? _Number(value) : fallbackValue\r\n}\r\n\r\nfunction parseArrayOfNumbers(arg) {\r\n    return _isArray(arg) ? arg : _isNumber(arg) ? [arg] : null\r\n}\r\nexports.dxGauge = dxBaseGauge.inherit({\r\n    _initCore: function() {\r\n        var that = this;\r\n        var renderer = that._renderer;\r\n        that._setupValue(that.option(OPTION_VALUE));\r\n        that.__subvalues = parseArrayOfNumbers(that.option(OPTION_SUBVALUES));\r\n        that._setupSubvalues(that.__subvalues);\r\n        selectMode(that);\r\n        that.callBase.apply(that, arguments);\r\n        that._rangeContainer = new that._factory.RangeContainer({\r\n            renderer: renderer,\r\n            container: renderer.root,\r\n            translator: that._translator,\r\n            themeManager: that._themeManager\r\n        });\r\n        that._initScale()\r\n    },\r\n    _fontFields: [\"scale.label.font\", \"valueIndicators.rangebar.text.font\", \"valueIndicators.textcloud.text.font\", \"indicator.text.font\"],\r\n    _initScale: function() {\r\n        var that = this;\r\n        that._scaleGroup = that._renderer.g().attr({\r\n            \"class\": \"dxg-scale\"\r\n        }).linkOn(that._renderer.root, \"scale\");\r\n        that._scale = new axisModule.Axis({\r\n            incidentOccurred: that._incidentOccurred,\r\n            renderer: that._renderer,\r\n            axesContainerGroup: that._scaleGroup,\r\n            axisType: that._scaleTypes.type,\r\n            drawingType: that._scaleTypes.drawingType,\r\n            widgetClass: \"dxg\"\r\n        })\r\n    },\r\n    _disposeCore: function() {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        that._scale.dispose();\r\n        that._scaleGroup.linkOff();\r\n        that._rangeContainer.dispose();\r\n        that._disposeValueIndicators();\r\n        that._scale = that._scaleGroup = that._rangeContainer = null\r\n    },\r\n    _disposeValueIndicators: function() {\r\n        var that = this;\r\n        that._valueIndicator && that._valueIndicator.dispose();\r\n        that._subvalueIndicatorsSet && that._subvalueIndicatorsSet.dispose();\r\n        that._valueIndicator = that._subvalueIndicatorsSet = null\r\n    },\r\n    _setupDomainCore: function() {\r\n        var that = this;\r\n        var scaleOption = that.option(\"scale\") || {};\r\n        var startValue = that.option(\"startValue\");\r\n        var endValue = that.option(\"endValue\");\r\n        startValue = _isNumber(startValue) ? _Number(startValue) : _isNumber(scaleOption.startValue) ? _Number(scaleOption.startValue) : 0;\r\n        endValue = _isNumber(endValue) ? _Number(endValue) : _isNumber(scaleOption.endValue) ? _Number(scaleOption.endValue) : 100;\r\n        that._baseValue = startValue < endValue ? startValue : endValue;\r\n        that._translator.setDomain(startValue, endValue)\r\n    },\r\n    _cleanContent: function() {\r\n        var that = this;\r\n        that._rangeContainer.clean();\r\n        that._cleanValueIndicators()\r\n    },\r\n    _measureScale: function(scaleOptions) {\r\n        var that = this;\r\n        var majorTick = scaleOptions.tick;\r\n        var majorTickEnabled = majorTick.visible && majorTick.length > 0 && majorTick.width > 0;\r\n        var minorTick = scaleOptions.minorTick;\r\n        var minorTickEnabled = minorTick.visible && minorTick.length > 0 && minorTick.width > 0;\r\n        var label = scaleOptions.label;\r\n        var indentFromTick = Number(label.indentFromTick);\r\n        var textParams;\r\n        var layoutValue;\r\n        var result;\r\n        var coefs;\r\n        var innerCoef;\r\n        var outerCoef;\r\n        if (!majorTickEnabled && !minorTickEnabled && !label.visible) {\r\n            return {}\r\n        }\r\n        textParams = that._scale.measureLabels(extend({}, that._canvas));\r\n        layoutValue = that._getScaleLayoutValue();\r\n        result = {\r\n            min: layoutValue,\r\n            max: layoutValue\r\n        };\r\n        coefs = that._getTicksCoefficients(scaleOptions);\r\n        innerCoef = coefs.inner;\r\n        outerCoef = coefs.outer;\r\n        if (majorTickEnabled) {\r\n            result.min = _min(result.min, layoutValue - innerCoef * majorTick.length);\r\n            result.max = _max(result.max, layoutValue + outerCoef * majorTick.length)\r\n        }\r\n        if (minorTickEnabled) {\r\n            result.min = _min(result.min, layoutValue - innerCoef * minorTick.length);\r\n            result.max = _max(result.max, layoutValue + outerCoef * minorTick.length)\r\n        }\r\n        label.visible && that._correctScaleIndents(result, indentFromTick, textParams);\r\n        return result\r\n    },\r\n    _renderContent: function() {\r\n        var that = this;\r\n        var scaleOptions = that._prepareScaleSettings();\r\n        var elements;\r\n        that._rangeContainer.render(_extend(that._getOption(\"rangeContainer\"), {\r\n            vertical: that._area.vertical\r\n        }));\r\n        that._renderScale(scaleOptions);\r\n        elements = _map([that._rangeContainer].concat(that._prepareValueIndicators()), function(element) {\r\n            return element && element.enabled ? element : null\r\n        });\r\n        that._applyMainLayout(elements, that._measureScale(scaleOptions));\r\n        _each(elements, function(_, element) {\r\n            element.resize(that._getElementLayout(element.getOffset()))\r\n        });\r\n        that._shiftScale(that._getElementLayout(0), scaleOptions);\r\n        that._beginValueChanging();\r\n        that._updateActiveElements();\r\n        that._endValueChanging()\r\n    },\r\n    _prepareScaleSettings: function() {\r\n        var that = this;\r\n        var userOptions = that.option(\"scale\");\r\n        var scaleOptions = extend(true, {}, that._themeManager.theme(\"scale\"), userOptions);\r\n        scaleOptions.label.indentFromAxis = 0;\r\n        scaleOptions.isHorizontal = !that._area.vertical;\r\n        scaleOptions.forceUserTickInterval |= _isDefined(userOptions) && _isDefined(userOptions.tickInterval) && !_isDefined(userOptions.scaleDivisionFactor);\r\n        scaleOptions.axisDivisionFactor = scaleOptions.scaleDivisionFactor || that._gridSpacingFactor;\r\n        scaleOptions.minorAxisDivisionFactor = scaleOptions.minorScaleDivisionFactor || DEFAULT_MINOR_AXIS_DIVISION_FACTOR;\r\n        scaleOptions.numberMultipliers = DEFAULT_NUMBER_MULTIPLIERS;\r\n        scaleOptions.tickOrientation = that._getTicksOrientation(scaleOptions);\r\n        if (scaleOptions.label.useRangeColors) {\r\n            scaleOptions.label.customizeColor = function() {\r\n                return that._rangeContainer.getColorForValue(this.value)\r\n            }\r\n        }\r\n        return scaleOptions\r\n    },\r\n    _renderScale: function(scaleOptions) {\r\n        var that = this;\r\n        var bounds = that._translator.getDomain();\r\n        var startValue = bounds[0];\r\n        var endValue = bounds[1];\r\n        var angles = that._translator.getCodomain();\r\n        var invert = startValue > endValue;\r\n        var min = _min(startValue, endValue);\r\n        var max = _max(startValue, endValue);\r\n        scaleOptions.min = min;\r\n        scaleOptions.max = max;\r\n        scaleOptions.startAngle = SHIFT_ANGLE - angles[0];\r\n        scaleOptions.endAngle = SHIFT_ANGLE - angles[1];\r\n        scaleOptions.skipViewportExtending = true;\r\n        that._scale.updateOptions(scaleOptions);\r\n        that._scale.setBusinessRange({\r\n            axisType: \"continuous\",\r\n            dataType: \"numeric\",\r\n            min: min,\r\n            max: max,\r\n            invert: invert\r\n        });\r\n        that._updateScaleTickIndent(scaleOptions);\r\n        that._scaleGroup.linkAppend();\r\n        that._scale.draw(extend({}, that._canvas))\r\n    },\r\n    _updateIndicatorSettings: function(settings) {\r\n        var that = this;\r\n        settings.currentValue = settings.baseValue = _isFinite(that._translator.translate(settings.baseValue)) ? _Number(settings.baseValue) : that._baseValue;\r\n        settings.vertical = that._area.vertical;\r\n        if (settings.text && !settings.text.format) {\r\n            settings.text.format = that._defaultFormatOptions\r\n        }\r\n    },\r\n    _prepareIndicatorSettings: function(options, defaultTypeField) {\r\n        var that = this;\r\n        var theme = that._themeManager.theme(\"valueIndicators\");\r\n        var type = _normalizeEnum(options.type || that._themeManager.theme(defaultTypeField));\r\n        var settings = _extend(true, {}, theme._default, theme[type], options);\r\n        settings.type = type;\r\n        settings.animation = that._animationSettings;\r\n        settings.containerBackgroundColor = that._containerBackgroundColor;\r\n        that._updateIndicatorSettings(settings);\r\n        return settings\r\n    },\r\n    _cleanValueIndicators: function() {\r\n        this._valueIndicator && this._valueIndicator.clean();\r\n        this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.clean()\r\n    },\r\n    _prepareValueIndicators: function() {\r\n        var that = this;\r\n        that._prepareValueIndicator();\r\n        null !== that.__subvalues && that._prepareSubvalueIndicators();\r\n        return [that._valueIndicator, that._subvalueIndicatorsSet]\r\n    },\r\n    _updateActiveElements: function() {\r\n        this._updateValueIndicator();\r\n        this._updateSubvalueIndicators()\r\n    },\r\n    _prepareValueIndicator: function() {\r\n        var that = this;\r\n        var target = that._valueIndicator;\r\n        var settings = that._prepareIndicatorSettings(that.option(\"valueIndicator\") || {}, \"valueIndicatorType\");\r\n        if (target && target.type !== settings.type) {\r\n            target.dispose();\r\n            target = null\r\n        }\r\n        if (!target) {\r\n            target = that._valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\")\r\n        }\r\n        target.render(settings)\r\n    },\r\n    _createSubvalueIndicatorsSet: function() {\r\n        var that = this;\r\n        var root = that._renderer.root;\r\n        return new ValueIndicatorsSet({\r\n            createIndicator: function(type, i) {\r\n                return that._createIndicator(type, root, \"dxg-subvalue-indicator\", \"subvalue-indicator\", i)\r\n            },\r\n            createPalette: function(palette) {\r\n                return that._themeManager.createPalette(palette)\r\n            }\r\n        })\r\n    },\r\n    _prepareSubvalueIndicators: function() {\r\n        var that = this;\r\n        var target = that._subvalueIndicatorsSet;\r\n        var settings = that._prepareIndicatorSettings(that.option(\"subvalueIndicator\") || {}, \"subvalueIndicatorType\");\r\n        var isRecreate;\r\n        var dummy;\r\n        if (!target) {\r\n            target = that._subvalueIndicatorsSet = that._createSubvalueIndicatorsSet()\r\n        }\r\n        isRecreate = settings.type !== target.type;\r\n        target.type = settings.type;\r\n        dummy = that._createIndicator(settings.type, that._renderer.root);\r\n        if (dummy) {\r\n            dummy.dispose();\r\n            target.render(settings, isRecreate)\r\n        }\r\n    },\r\n    _setupValue: function(value) {\r\n        this.__value = processValue(value, this.__value)\r\n    },\r\n    _setupSubvalues: function(subvalues) {\r\n        var vals = void 0 === subvalues ? this.__subvalues : parseArrayOfNumbers(subvalues);\r\n        var i;\r\n        var ii;\r\n        var list;\r\n        if (null === vals) {\r\n            return\r\n        }\r\n        for (i = 0, ii = vals.length, list = []; i < ii; ++i) {\r\n            list.push(processValue(vals[i], this.__subvalues[i]))\r\n        }\r\n        this.__subvalues = list\r\n    },\r\n    _updateValueIndicator: function() {\r\n        var that = this;\r\n        that._valueIndicator && that._valueIndicator.value(that.__value, that._noAnimation)\r\n    },\r\n    _updateSubvalueIndicators: function() {\r\n        var that = this;\r\n        that._subvalueIndicatorsSet && that._subvalueIndicatorsSet.values(that.__subvalues, that._noAnimation)\r\n    },\r\n    value: function(arg) {\r\n        if (void 0 !== arg) {\r\n            this._changeValue(arg);\r\n            return this\r\n        }\r\n        return this.__value\r\n    },\r\n    subvalues: function(arg) {\r\n        if (void 0 !== arg) {\r\n            this._changeSubvalues(arg);\r\n            return this\r\n        }\r\n        return null !== this.__subvalues ? this.__subvalues.slice() : void 0\r\n    },\r\n    _changeValue: function(value) {\r\n        var that = this;\r\n        that._setupValue(value);\r\n        that._beginValueChanging();\r\n        that._updateValueIndicator();\r\n        if (that.__value !== that.option(OPTION_VALUE)) {\r\n            that.option(OPTION_VALUE, that.__value)\r\n        }\r\n        that._endValueChanging()\r\n    },\r\n    _changeSubvalues: function(subvalues) {\r\n        var that = this;\r\n        if (null !== that.__subvalues) {\r\n            that._setupSubvalues(subvalues);\r\n            that._beginValueChanging();\r\n            that._updateSubvalueIndicators();\r\n            that._endValueChanging()\r\n        } else {\r\n            that.__subvalues = parseArrayOfNumbers(subvalues);\r\n            that._setContentSize();\r\n            that._renderContent()\r\n        }\r\n        if (!_compareArrays(that.__subvalues, that.option(OPTION_SUBVALUES))) {\r\n            that.option(OPTION_SUBVALUES, that.__subvalues)\r\n        }\r\n    },\r\n    _optionChangesMap: {\r\n        scale: \"DOMAIN\",\r\n        rangeContainer: \"MOSTLY_TOTAL\",\r\n        valueIndicator: \"MOSTLY_TOTAL\",\r\n        subvalueIndicator: \"MOSTLY_TOTAL\",\r\n        containerBackgroundColor: \"MOSTLY_TOTAL\",\r\n        value: \"VALUE\",\r\n        subvalues: \"SUBVALUES\",\r\n        valueIndicators: \"MOSTLY_TOTAL\"\r\n    },\r\n    _customChangesOrder: [\"VALUE\", \"SUBVALUES\"],\r\n    _change_VALUE: function() {\r\n        this._changeValue(this.option(OPTION_VALUE))\r\n    },\r\n    _change_SUBVALUES: function() {\r\n        this._changeSubvalues(this.option(OPTION_SUBVALUES))\r\n    },\r\n    _applyMainLayout: null,\r\n    _getElementLayout: null,\r\n    _createIndicator: function(type, owner, className, trackerType, trackerIndex, _strict) {\r\n        var that = this;\r\n        var indicator = that._factory.createIndicator({\r\n            renderer: that._renderer,\r\n            translator: that._translator,\r\n            owner: owner,\r\n            tracker: that._tracker,\r\n            className: className\r\n        }, type, _strict);\r\n        if (indicator) {\r\n            indicator.type = type;\r\n            indicator._trackerInfo = {\r\n                type: trackerType,\r\n                index: trackerIndex\r\n            }\r\n        }\r\n        return indicator\r\n    },\r\n    _getApproximateScreenRange: null\r\n});\r\n\r\nfunction valueGetter(arg) {\r\n    return arg ? arg.value : null\r\n}\r\n\r\nfunction setupValues(that, fieldName, optionItems) {\r\n    var currentValues = that[fieldName];\r\n    var newValues = _isArray(optionItems) ? _map(optionItems, valueGetter) : [];\r\n    var i = 0;\r\n    var ii = newValues.length;\r\n    var list = [];\r\n    for (; i < ii; ++i) {\r\n        list.push(processValue(newValues[i], currentValues[i]))\r\n    }\r\n    that[fieldName] = list\r\n}\r\n\r\nfunction selectMode(gauge) {\r\n    if (void 0 === gauge.option(OPTION_VALUE) && void 0 === gauge.option(OPTION_SUBVALUES)) {\r\n        if (void 0 !== gauge.option(\"valueIndicators\")) {\r\n            disableDefaultMode(gauge);\r\n            selectHardMode(gauge)\r\n        }\r\n    }\r\n}\r\n\r\nfunction disableDefaultMode(that) {\r\n    that.value = that.subvalues = _noop;\r\n    that._setupValue = that._setupSubvalues = that._updateValueIndicator = that._updateSubvalueIndicators = null\r\n}\r\n\r\nfunction selectHardMode(that) {\r\n    that._indicatorValues = [];\r\n    setupValues(that, \"_indicatorValues\", that.option(\"valueIndicators\"));\r\n    that._valueIndicators = [];\r\n    var _applyMostlyTotalChange = that._applyMostlyTotalChange;\r\n    that._applyMostlyTotalChange = function() {\r\n        setupValues(this, \"_indicatorValues\", this.option(\"valueIndicators\"));\r\n        _applyMostlyTotalChange.call(this)\r\n    };\r\n    that._updateActiveElements = updateActiveElements_hardMode;\r\n    that._prepareValueIndicators = prepareValueIndicators_hardMode;\r\n    that._disposeValueIndicators = disposeValueIndicators_hardMode;\r\n    that._cleanValueIndicators = cleanValueIndicators_hardMode;\r\n    that.indicatorValue = indicatorValue_hardMode\r\n}\r\n\r\nfunction updateActiveElements_hardMode() {\r\n    var that = this;\r\n    _each(that._valueIndicators, function(_, valueIndicator) {\r\n        valueIndicator.value(that._indicatorValues[valueIndicator.index], that._noAnimation)\r\n    })\r\n}\r\n\r\nfunction prepareValueIndicators_hardMode() {\r\n    var that = this;\r\n    var valueIndicators = that._valueIndicators || [];\r\n    var userOptions = that.option(\"valueIndicators\");\r\n    var optionList = [];\r\n    var i = 0;\r\n    var ii;\r\n    for (ii = _isArray(userOptions) ? userOptions.length : 0; i < ii; ++i) {\r\n        optionList.push(userOptions[i])\r\n    }\r\n    for (ii = valueIndicators.length; i < ii; ++i) {\r\n        optionList.push(null)\r\n    }\r\n    var newValueIndicators = [];\r\n    _each(optionList, function(i, userSettings) {\r\n        var valueIndicator = valueIndicators[i];\r\n        if (!userSettings) {\r\n            valueIndicator && valueIndicator.dispose();\r\n            return\r\n        }\r\n        var settings = that._prepareIndicatorSettings(userSettings, \"valueIndicatorType\");\r\n        if (valueIndicator && valueIndicator.type !== settings.type) {\r\n            valueIndicator.dispose();\r\n            valueIndicator = null\r\n        }\r\n        if (!valueIndicator) {\r\n            valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\", i, true)\r\n        }\r\n        if (valueIndicator) {\r\n            valueIndicator.index = i;\r\n            valueIndicator.render(settings);\r\n            newValueIndicators.push(valueIndicator)\r\n        }\r\n    });\r\n    that._valueIndicators = newValueIndicators;\r\n    return that._valueIndicators\r\n}\r\n\r\nfunction disposeValueIndicators_hardMode() {\r\n    _each(this._valueIndicators, function(_, valueIndicator) {\r\n        valueIndicator.dispose()\r\n    });\r\n    this._valueIndicators = null\r\n}\r\n\r\nfunction cleanValueIndicators_hardMode() {\r\n    _each(this._valueIndicators, function(_, valueIndicator) {\r\n        valueIndicator.clean()\r\n    })\r\n}\r\n\r\nfunction indicatorValue_hardMode(index, value) {\r\n    return accessPointerValue(this, this._valueIndicators, this._indicatorValues, index, value)\r\n}\r\n\r\nfunction accessPointerValue(that, pointers, values, index, value) {\r\n    if (void 0 !== value) {\r\n        if (void 0 !== values[index]) {\r\n            values[index] = processValue(value, values[index]);\r\n            pointers[index] && pointers[index].value(values[index])\r\n        }\r\n        return that\r\n    } else {\r\n        return values[index]\r\n    }\r\n}\r\n\r\nfunction ValueIndicatorsSet(parameters) {\r\n    this._parameters = parameters;\r\n    this._indicators = []\r\n}\r\nValueIndicatorsSet.prototype = {\r\n    constructor: ValueIndicatorsSet,\r\n    dispose: function() {\r\n        var that = this;\r\n        _each(that._indicators, function(_, indicator) {\r\n            indicator.dispose()\r\n        });\r\n        that._parameters = that._options = that._indicators = that._colorPalette = that._palette = null;\r\n        return that\r\n    },\r\n    clean: function() {\r\n        var that = this;\r\n        that._sample && that._sample.clean().dispose();\r\n        _each(that._indicators, function(_, indicator) {\r\n            indicator.clean()\r\n        });\r\n        that._sample = that._options = that._palette = null;\r\n        return that\r\n    },\r\n    render: function(options, isRecreate) {\r\n        var that = this;\r\n        that._options = options;\r\n        that._sample = that._parameters.createIndicator(that.type);\r\n        that._sample.render(options);\r\n        that.enabled = that._sample.enabled;\r\n        that._palette = _isDefined(options.palette) ? that._parameters.createPalette(options.palette) : null;\r\n        if (that.enabled) {\r\n            that._generatePalette(that._indicators.length);\r\n            that._indicators = _map(that._indicators, function(indicator, i) {\r\n                if (isRecreate) {\r\n                    indicator.dispose();\r\n                    indicator = that._parameters.createIndicator(that.type, i)\r\n                }\r\n                indicator.render(that._getIndicatorOptions(i));\r\n                return indicator\r\n            })\r\n        }\r\n        return that\r\n    },\r\n    getOffset: function() {\r\n        return this._sample.getOffset()\r\n    },\r\n    resize: function(layout) {\r\n        var that = this;\r\n        that._layout = layout;\r\n        _each(that._indicators, function(_, indicator) {\r\n            indicator.resize(layout)\r\n        });\r\n        return that\r\n    },\r\n    measure: function(layout) {\r\n        return this._sample.measure(layout)\r\n    },\r\n    _getIndicatorOptions: function(index) {\r\n        var result = this._options;\r\n        if (this._colorPalette) {\r\n            result = _extend({}, result, {\r\n                color: this._colorPalette[index]\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _generatePalette: function(count) {\r\n        var that = this;\r\n        var colors = null;\r\n        if (that._palette) {\r\n            that._palette.reset();\r\n            colors = that._palette.generateColors(count, {\r\n                repeat: true\r\n            })\r\n        }\r\n        that._colorPalette = colors\r\n    },\r\n    _adjustIndicatorsCount: function(count) {\r\n        var that = this;\r\n        var indicators = that._indicators;\r\n        var i;\r\n        var ii;\r\n        var indicator;\r\n        var indicatorsLen = indicators.length;\r\n        if (indicatorsLen > count) {\r\n            for (i = count, ii = indicatorsLen; i < ii; ++i) {\r\n                indicators[i].clean().dispose()\r\n            }\r\n            that._indicators = indicators.slice(0, count);\r\n            that._generatePalette(indicators.length)\r\n        } else {\r\n            if (indicatorsLen < count) {\r\n                that._generatePalette(count);\r\n                for (i = indicatorsLen, ii = count; i < ii; ++i) {\r\n                    indicator = that._parameters.createIndicator(that.type, i);\r\n                    indicator.render(that._getIndicatorOptions(i)).resize(that._layout);\r\n                    indicators.push(indicator)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    values: function(arg, _noAnimation) {\r\n        var that = this;\r\n        if (!that.enabled) {\r\n            return\r\n        }\r\n        if (void 0 !== arg) {\r\n            if (!_isArray(arg)) {\r\n                arg = _isFinite(arg) ? [Number(arg)] : null\r\n            }\r\n            if (arg) {\r\n                that._adjustIndicatorsCount(arg.length);\r\n                _each(that._indicators, function(i, indicator) {\r\n                    indicator.value(arg[i], _noAnimation)\r\n                })\r\n            }\r\n            return that\r\n        }\r\n        return _map(that._indicators, function(indicator) {\r\n            return indicator.value()\r\n        })\r\n    }\r\n};\r\nexports.createIndicatorCreator = function(indicators) {\r\n    return function(parameters, type, _strict) {\r\n        var indicatorType = indicators[_normalizeEnum(type)] || !_strict && indicators._default;\r\n        return indicatorType ? new indicatorType(parameters) : null\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"script"}