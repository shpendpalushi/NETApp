{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/base_widget.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar windowUtils = require(\"../../core/utils/window\");\n\nvar domAdapter = require(\"../../core/dom_adapter\");\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar version = require(\"../../core/version\");\n\nvar _windowResizeCallbacks = require(\"../../core/utils/resize_callbacks\");\n\nvar _stringFormat = require(\"../../core/utils/string\").format;\n\nvar _isObject = require(\"../../core/utils/type\").isObject;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar themeManagerModule = require(\"../core/base_theme_manager\");\n\nvar _floor = Math.floor;\n\nvar DOMComponentWithTemplate = require(\"../../core/dom_component_with_template\");\n\nvar helpers = require(\"./helpers\");\n\nvar _parseScalar = require(\"./utils\").parseScalar;\n\nvar errors = require(\"./errors_warnings\");\n\nvar _log = errors.log;\n\nvar rendererModule = require(\"./renderers/renderer\");\n\nvar _Layout = require(\"./layout\");\n\nvar devices = require(\"../../core/devices\");\n\nvar eventsEngine = require(\"../../events/core/events_engine\");\n\nvar OPTION_RTL_ENABLED = \"rtlEnabled\";\nvar SIZED_ELEMENT_CLASS = \"dx-sized-element\";\nvar _option = DOMComponentWithTemplate.prototype.option;\n\nfunction getTrue() {\n  return true;\n}\n\nfunction getFalse() {\n  return false;\n}\n\nfunction areCanvasesDifferent(canvas1, canvas2) {\n  return !(canvas1.width === canvas2.width && canvas1.height === canvas2.height && canvas1.left === canvas2.left && canvas1.top === canvas2.top && canvas1.right === canvas2.right && canvas1.bottom === canvas2.bottom);\n}\n\nfunction createResizeHandler(callback) {\n  var timeout;\n\n  var handler = function handler() {\n    clearTimeout(timeout);\n    timeout = setTimeout(callback, 100);\n  };\n\n  handler.dispose = function () {\n    clearTimeout(timeout);\n    return this;\n  };\n\n  return handler;\n}\n\nfunction defaultOnIncidentOccurred(e) {\n  if (!e.component.hasEvent(\"incidentOccurred\")) {\n    _log.apply(null, [e.target.id].concat(e.target.args || []));\n  }\n}\n\nvar createIncidentOccurred = function createIncidentOccurred(widgetName, eventTrigger) {\n  return function (id, args) {\n    eventTrigger(\"incidentOccurred\", {\n      target: {\n        id: id,\n        type: \"E\" === id[0] ? \"error\" : \"warning\",\n        args: args,\n        text: _stringFormat.apply(null, [errors.ERROR_MESSAGES[id]].concat(args || [])),\n        widget: widgetName,\n        version: version\n      }\n    });\n  };\n};\n\nfunction pickPositiveValue(values) {\n  return values.reduce(function (result, value) {\n    return value > 0 && !result ? value : result;\n  }, 0);\n}\n\nvar getEmptyComponent = function getEmptyComponent() {\n  var emptyComponentConfig = {\n    _initTemplates: function _initTemplates() {},\n    ctor: function ctor(element, options) {\n      this.callBase(element, options);\n      var sizedElement = domAdapter.createElement(\"div\");\n      var width = options && typeUtils.isNumeric(options.width) ? options.width + \"px\" : \"100%\";\n      var height = options && typeUtils.isNumeric(options.height) ? options.height + \"px\" : this._getDefaultSize().height + \"px\";\n      domAdapter.setStyle(sizedElement, \"width\", width);\n      domAdapter.setStyle(sizedElement, \"height\", height);\n      domAdapter.setClass(sizedElement, SIZED_ELEMENT_CLASS);\n      domAdapter.insertElement(element, sizedElement);\n    }\n  };\n  var EmptyComponent = DOMComponentWithTemplate.inherit(emptyComponentConfig);\n  var originalInherit = EmptyComponent.inherit;\n\n  EmptyComponent.inherit = function (config) {\n    for (var field in config) {\n      if (typeUtils.isFunction(config[field]) && \"_\" !== field.substr(0, 1) || \"_dispose\" === field || \"_optionChanged\" === field) {\n        config[field] = noop;\n      }\n    }\n\n    return originalInherit.call(this, config);\n  };\n\n  return EmptyComponent;\n};\n\nvar isServerSide = !windowUtils.hasWindow();\n\nfunction sizeIsValid(value) {\n  return typeUtils.isDefined(value) && value > 0;\n}\n\nmodule.exports = isServerSide ? getEmptyComponent() : DOMComponentWithTemplate.inherit({\n  _eventsMap: {\n    onIncidentOccurred: {\n      name: \"incidentOccurred\"\n    },\n    onDrawn: {\n      name: \"drawn\"\n    }\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      onIncidentOccurred: defaultOnIncidentOccurred\n    });\n  },\n  _extractAnonymousTemplate: function _extractAnonymousTemplate() {},\n  _useLinks: true,\n  _init: function _init() {\n    var that = this;\n    var linkTarget;\n\n    that._$element.children(\".\" + SIZED_ELEMENT_CLASS).remove();\n\n    that.callBase.apply(that, arguments);\n    that._changesLocker = 0;\n    that._optionChangedLocker = 0;\n    that._changes = helpers.changes();\n\n    that._suspendChanges();\n\n    that._themeManager = that._createThemeManager();\n\n    that._themeManager.setCallback(function () {\n      that._requestChange(that._themeDependentChanges);\n    });\n\n    that._renderElementAttributes();\n\n    that._initRenderer();\n\n    linkTarget = that._useLinks && that._renderer.root;\n    linkTarget && linkTarget.enableLinks().virtualLink(\"core\").virtualLink(\"peripheral\");\n\n    that._renderVisibilityChange();\n\n    that._attachVisibilityChangeHandlers();\n\n    that._toggleParentsScrollSubscription(this._isVisible());\n\n    that._initEventTrigger();\n\n    that._incidentOccurred = createIncidentOccurred(that.NAME, that._eventTrigger);\n    that._layout = new _Layout();\n    linkTarget && linkTarget.linkAfter(\"core\");\n\n    that._initPlugins();\n\n    that._initCore();\n\n    linkTarget && linkTarget.linkAfter();\n\n    that._change(that._initialChanges);\n  },\n  _createThemeManager: function _createThemeManager() {\n    return new themeManagerModule.BaseThemeManager(this._getThemeManagerOptions());\n  },\n  _getThemeManagerOptions: function _getThemeManagerOptions() {\n    return {\n      themeSection: this._themeSection,\n      fontFields: this._fontFields\n    };\n  },\n  _initialChanges: [\"LAYOUT\", \"RESIZE_HANDLER\", \"THEME\", \"DISABLED\"],\n  _initPlugins: function _initPlugins() {\n    var that = this;\n    each(that._plugins, function (_, plugin) {\n      plugin.init.call(that);\n    });\n  },\n  _disposePlugins: function _disposePlugins() {\n    var that = this;\n    each(that._plugins.slice().reverse(), function (_, plugin) {\n      plugin.dispose.call(that);\n    });\n  },\n  _change: function _change(codes) {\n    this._changes.add(codes);\n  },\n  _suspendChanges: function _suspendChanges() {\n    ++this._changesLocker;\n  },\n  _resumeChanges: function _resumeChanges() {\n    var that = this;\n\n    if (0 === --that._changesLocker && that._changes.count() > 0 && !that._applyingChanges) {\n      that._renderer.lock();\n\n      that._applyingChanges = true;\n\n      that._applyChanges();\n\n      that._changes.reset();\n\n      that._applyingChanges = false;\n\n      that._renderer.unlock();\n\n      if (that._optionsQueue) {\n        that._applyQueuedOptions();\n      }\n\n      that._optionChangedLocker++;\n\n      that._notify();\n\n      that._optionChangedLocker--;\n    }\n  },\n  _applyQueuedOptions: function _applyQueuedOptions() {\n    var that = this;\n    var queue = that._optionsQueue;\n    that._optionsQueue = null;\n    that.beginUpdate();\n    each(queue, function (_, action) {\n      action();\n    });\n    that.endUpdate();\n  },\n  _requestChange: function _requestChange(codes) {\n    this._suspendChanges();\n\n    this._change(codes);\n\n    this._resumeChanges();\n  },\n  _applyChanges: function _applyChanges() {\n    var that = this;\n    var changes = that._changes;\n    var order = that._totalChangesOrder;\n    var i;\n    var ii = order.length;\n\n    for (i = 0; i < ii; ++i) {\n      if (changes.has(order[i])) {\n        that[\"_change_\" + order[i]]();\n      }\n    }\n  },\n  _optionChangesOrder: [\"EVENTS\", \"THEME\", \"RENDERER\", \"RESIZE_HANDLER\"],\n  _layoutChangesOrder: [\"ELEMENT_ATTR\", \"CONTAINER_SIZE\", \"LAYOUT\"],\n  _customChangesOrder: [\"DISABLED\"],\n  _change_EVENTS: function _change_EVENTS() {\n    this._eventTrigger.applyChanges();\n  },\n  _change_THEME: function _change_THEME() {\n    this._setThemeAndRtl();\n  },\n  _change_RENDERER: function _change_RENDERER() {\n    this._setRendererOptions();\n  },\n  _change_RESIZE_HANDLER: function _change_RESIZE_HANDLER() {\n    this._setupResizeHandler();\n  },\n  _change_ELEMENT_ATTR: function _change_ELEMENT_ATTR() {\n    this._renderElementAttributes();\n\n    this._change([\"CONTAINER_SIZE\"]);\n  },\n  _change_CONTAINER_SIZE: function _change_CONTAINER_SIZE() {\n    this._updateSize();\n  },\n  _change_LAYOUT: function _change_LAYOUT() {\n    this._setContentSize();\n  },\n  _change_DISABLED: function _change_DISABLED() {\n    var renderer = this._renderer;\n    var root = renderer.root;\n\n    if (this.option(\"disabled\")) {\n      this._initDisabledState = root.attr(\"pointer-events\");\n      root.attr({\n        \"pointer-events\": \"none\",\n        filter: renderer.getGrayScaleFilter().id\n      });\n    } else {\n      if (\"none\" === root.attr(\"pointer-events\")) {\n        root.attr({\n          \"pointer-events\": typeUtils.isDefined(this._initDisabledState) ? this._initDisabledState : null,\n          filter: null\n        });\n      }\n    }\n  },\n  _themeDependentChanges: [\"RENDERER\"],\n  _initRenderer: function _initRenderer() {\n    var that = this;\n    that._canvas = that._calculateCanvas();\n    that._renderer = new rendererModule.Renderer({\n      cssClass: that._rootClassPrefix + \" \" + that._rootClass,\n      pathModified: that.option(\"pathModified\"),\n      container: that._$element[0]\n    });\n\n    that._renderer.resize(that._canvas.width, that._canvas.height);\n  },\n  _disposeRenderer: function _disposeRenderer() {\n    this._renderer.dispose();\n  },\n  _getAnimationOptions: noop,\n  render: function render() {\n    this._requestChange([\"CONTAINER_SIZE\"]);\n\n    var visible = this._isVisible();\n\n    this._toggleParentsScrollSubscription(visible);\n\n    !visible && this._stopCurrentHandling();\n  },\n  _toggleParentsScrollSubscription: function _toggleParentsScrollSubscription(subscribe) {\n    var $parents = $(this._renderer.root.element).parents();\n    var scrollEvents = \"scroll.viz_widgets\";\n\n    if (\"generic\" === devices.real().platform) {\n      $parents = $parents.add(windowUtils.getWindow());\n    }\n\n    this._proxiedTargetParentsScrollHandler = this._proxiedTargetParentsScrollHandler || function () {\n      this._stopCurrentHandling();\n    }.bind(this);\n\n    eventsEngine.off($().add(this._$prevRootParents), scrollEvents, this._proxiedTargetParentsScrollHandler);\n\n    if (subscribe) {\n      eventsEngine.on($parents, scrollEvents, this._proxiedTargetParentsScrollHandler);\n      this._$prevRootParents = $parents;\n    }\n  },\n  _stopCurrentHandling: noop,\n  _dispose: function _dispose() {\n    var that = this;\n    that.callBase.apply(that, arguments);\n\n    that._toggleParentsScrollSubscription(false);\n\n    that._removeResizeHandler();\n\n    that._layout.dispose();\n\n    that._eventTrigger.dispose();\n\n    that._disposeCore();\n\n    that._disposePlugins();\n\n    that._disposeRenderer();\n\n    that._themeManager.dispose();\n\n    that._themeManager = that._renderer = that._eventTrigger = null;\n  },\n  _initEventTrigger: function _initEventTrigger() {\n    var that = this;\n    that._eventTrigger = createEventTrigger(that._eventsMap, function (name) {\n      return that._createActionByOption(name);\n    });\n  },\n  _calculateCanvas: function _calculateCanvas() {\n    var that = this;\n    var size = that.option(\"size\") || {};\n    var margin = that.option(\"margin\") || {};\n    var defaultCanvas = that._getDefaultSize() || {};\n    var elementWidth = !sizeIsValid(size.width) && windowUtils.hasWindow() ? that._$element.width() : 0;\n    var elementHeight = !sizeIsValid(size.height) && windowUtils.hasWindow() ? that._$element.height() : 0;\n    var canvas = {\n      width: size.width <= 0 ? 0 : _floor(pickPositiveValue([size.width, elementWidth, defaultCanvas.width])),\n      height: size.height <= 0 ? 0 : _floor(pickPositiveValue([size.height, elementHeight, defaultCanvas.height])),\n      left: pickPositiveValue([margin.left, defaultCanvas.left]),\n      top: pickPositiveValue([margin.top, defaultCanvas.top]),\n      right: pickPositiveValue([margin.right, defaultCanvas.right]),\n      bottom: pickPositiveValue([margin.bottom, defaultCanvas.bottom])\n    };\n\n    if (canvas.width - canvas.left - canvas.right <= 0 || canvas.height - canvas.top - canvas.bottom <= 0) {\n      canvas = {\n        width: 0,\n        height: 0\n      };\n    }\n\n    return canvas;\n  },\n  _updateSize: function _updateSize() {\n    var that = this;\n\n    var canvas = that._calculateCanvas();\n\n    that._renderer.fixPlacement();\n\n    if (areCanvasesDifferent(that._canvas, canvas) || that.__forceRender) {\n      that._canvas = canvas;\n\n      that._recreateSizeDependentObjects(true);\n\n      that._renderer.resize(canvas.width, canvas.height);\n\n      that._change([\"LAYOUT\"]);\n    }\n  },\n  _recreateSizeDependentObjects: noop,\n  _getMinSize: function _getMinSize() {\n    return [0, 0];\n  },\n  _getAlignmentRect: noop,\n  _setContentSize: function _setContentSize() {\n    var canvas = this._canvas;\n    var layout = this._layout;\n    var rect = canvas.width > 0 && canvas.height > 0 ? [canvas.left, canvas.top, canvas.width - canvas.right, canvas.height - canvas.bottom] : [0, 0, 0, 0];\n    var nextRect;\n    rect = layout.forward(rect, this._getMinSize());\n    nextRect = this._applySize(rect) || rect;\n    layout.backward(nextRect, this._getAlignmentRect() || nextRect);\n  },\n  _getOption: function _getOption(name, isScalar) {\n    var theme = this._themeManager.theme(name);\n\n    var option = this.option(name);\n    return isScalar ? void 0 !== option ? option : theme : extend(true, {}, theme, option);\n  },\n  _setupResizeHandler: function _setupResizeHandler() {\n    var that = this;\n\n    var redrawOnResize = _parseScalar(this._getOption(\"redrawOnResize\", true), true);\n\n    if (that._resizeHandler) {\n      that._removeResizeHandler();\n    }\n\n    that._resizeHandler = createResizeHandler(function () {\n      if (redrawOnResize) {\n        that._requestChange([\"CONTAINER_SIZE\"]);\n      } else {\n        that._renderer.fixPlacement();\n      }\n    });\n\n    _windowResizeCallbacks.add(that._resizeHandler);\n  },\n  _removeResizeHandler: function _removeResizeHandler() {\n    if (this._resizeHandler) {\n      _windowResizeCallbacks.remove(this._resizeHandler);\n\n      this._resizeHandler.dispose();\n\n      this._resizeHandler = null;\n    }\n  },\n  _onBeginUpdate: noop,\n  beginUpdate: function beginUpdate() {\n    var that = this;\n\n    if (that._initialized && 0 === that._updateLockCount) {\n      that._onBeginUpdate();\n\n      that._suspendChanges();\n    }\n\n    that.callBase.apply(that, arguments);\n    return that;\n  },\n  endUpdate: function endUpdate() {\n    var that = this;\n    that.callBase.apply(that, arguments);\n\n    if (0 === that._updateLockCount) {\n      that._resumeChanges();\n    }\n\n    return that;\n  },\n  option: function option(name) {\n    var that = this;\n\n    if (that._initialized && that._applyingChanges && (arguments.length > 1 || _isObject(name))) {\n      that._optionsQueue = that._optionsQueue || [];\n\n      that._optionsQueue.push(that._getActionForUpdating(arguments));\n    } else {\n      return _option.apply(that, arguments);\n    }\n  },\n  _getActionForUpdating: function _getActionForUpdating(args) {\n    var that = this;\n    return function () {\n      _option.apply(that, args);\n    };\n  },\n  _clean: noop,\n  _render: noop,\n  _optionChanged: function _optionChanged(arg) {\n    var that = this;\n\n    if (that._optionChangedLocker) {\n      return;\n    }\n\n    var partialChanges = that.getPartialChangeOptionsName(arg);\n    var changes = [];\n\n    if (partialChanges.length > 0) {\n      partialChanges.forEach(function (pc) {\n        return changes.push(that._partialOptionChangesMap[pc]);\n      });\n    } else {\n      changes.push(that._optionChangesMap[arg.name]);\n    }\n\n    changes = changes.filter(function (c) {\n      return !!c;\n    });\n\n    if (that._eventTrigger.change(arg.name)) {\n      that._change([\"EVENTS\"]);\n    } else {\n      if (changes.length > 0) {\n        that._change(changes);\n      } else {\n        that.callBase.apply(that, arguments);\n      }\n    }\n  },\n  _notify: noop,\n  _optionChangesMap: {\n    size: \"CONTAINER_SIZE\",\n    margin: \"CONTAINER_SIZE\",\n    redrawOnResize: \"RESIZE_HANDLER\",\n    theme: \"THEME\",\n    rtlEnabled: \"THEME\",\n    encodeHtml: \"THEME\",\n    elementAttr: \"ELEMENT_ATTR\",\n    disabled: \"DISABLED\"\n  },\n  _partialOptionChangesMap: {},\n  _partialOptionChangesPath: {},\n  getPartialChangeOptionsName: function getPartialChangeOptionsName(changedOption) {\n    var that = this;\n    var fullName = changedOption.fullName;\n    var sections = fullName.split(/[.]/);\n    var name = changedOption.name;\n    var value = changedOption.value;\n    var options = this._partialOptionChangesPath[name];\n    var partialChangeOptionsName = [];\n\n    if (options) {\n      if (true === options) {\n        partialChangeOptionsName.push(name);\n      } else {\n        options.forEach(function (op) {\n          fullName.indexOf(op) >= 0 && partialChangeOptionsName.push(op);\n        });\n\n        if (1 === sections.length) {\n          if (\"object\" === typeUtils.type(value)) {\n            that._addOptionsNameForPartialUpdate(value, options, partialChangeOptionsName);\n          } else {\n            if (\"array\" === typeUtils.type(value)) {\n              if (value.length > 0 && value.every(function (item) {\n                return that._checkOptionsForPartialUpdate(item, options);\n              })) {\n                value.forEach(function (item) {\n                  return that._addOptionsNameForPartialUpdate(item, options, partialChangeOptionsName);\n                });\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return partialChangeOptionsName.filter(function (value, index, self) {\n      return self.indexOf(value) === index;\n    });\n  },\n  _checkOptionsForPartialUpdate: function _checkOptionsForPartialUpdate(optionObject, options) {\n    return !Object.keys(optionObject).some(function (key) {\n      return options.indexOf(key) === -1;\n    });\n  },\n  _addOptionsNameForPartialUpdate: function _addOptionsNameForPartialUpdate(optionObject, options, partialChangeOptionsName) {\n    var optionKeys = Object.keys(optionObject);\n\n    if (this._checkOptionsForPartialUpdate(optionObject, options)) {\n      optionKeys.forEach(function (key) {\n        return options.indexOf(key) > -1 && partialChangeOptionsName.push(key);\n      });\n    }\n  },\n  _visibilityChanged: function _visibilityChanged() {\n    this.render();\n  },\n  _setThemeAndRtl: function _setThemeAndRtl() {\n    this._themeManager.setTheme(this.option(\"theme\"), this.option(OPTION_RTL_ENABLED));\n  },\n  _getRendererOptions: function _getRendererOptions() {\n    return {\n      rtl: this.option(OPTION_RTL_ENABLED),\n      encodeHtml: this.option(\"encodeHtml\"),\n      animation: this._getAnimationOptions()\n    };\n  },\n  _setRendererOptions: function _setRendererOptions() {\n    this._renderer.setOptions(this._getRendererOptions());\n  },\n  svg: function svg() {\n    return this._renderer.svg();\n  },\n  getSize: function getSize() {\n    var canvas = this._canvas || {};\n    return {\n      width: canvas.width,\n      height: canvas.height\n    };\n  },\n  isReady: getFalse,\n  _dataIsReady: getTrue,\n  _resetIsReady: function _resetIsReady() {\n    this.isReady = getFalse;\n  },\n  _drawn: function _drawn() {\n    var that = this;\n    that.isReady = getFalse;\n\n    if (that._dataIsReady()) {\n      that._renderer.onEndAnimation(function () {\n        that.isReady = getTrue;\n      });\n    }\n\n    that._eventTrigger(\"drawn\", {});\n  }\n});\nhelpers.replaceInherit(module.exports);\n\nfunction createEventTrigger(eventsMap, callbackGetter) {\n  var triggers = {};\n  each(eventsMap, function (name, info) {\n    if (info.name) {\n      createEvent(name);\n    }\n  });\n  var changes;\n\n  triggerEvent.change = function (name) {\n    var eventInfo = eventsMap[name];\n\n    if (eventInfo) {\n      (changes = changes || {})[name] = eventInfo;\n    }\n\n    return !!eventInfo;\n  };\n\n  triggerEvent.applyChanges = function () {\n    if (changes) {\n      each(changes, function (name, eventInfo) {\n        createEvent(eventInfo.newName || name);\n      });\n      changes = null;\n    }\n  };\n\n  triggerEvent.dispose = function () {\n    eventsMap = callbackGetter = triggers = null;\n  };\n\n  return triggerEvent;\n\n  function createEvent(name) {\n    var eventInfo = eventsMap[name];\n    triggers[eventInfo.name] = callbackGetter(name);\n  }\n\n  function triggerEvent(name, arg, complete) {\n    triggers[name](arg);\n    complete && complete();\n  }\n}","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/core/base_widget.js"],"names":["$","require","noop","windowUtils","domAdapter","typeUtils","each","version","_windowResizeCallbacks","_stringFormat","format","_isObject","isObject","extend","themeManagerModule","_floor","Math","floor","DOMComponentWithTemplate","helpers","_parseScalar","parseScalar","errors","_log","log","rendererModule","_Layout","devices","eventsEngine","OPTION_RTL_ENABLED","SIZED_ELEMENT_CLASS","_option","prototype","option","getTrue","getFalse","areCanvasesDifferent","canvas1","canvas2","width","height","left","top","right","bottom","createResizeHandler","callback","timeout","handler","clearTimeout","setTimeout","dispose","defaultOnIncidentOccurred","e","component","hasEvent","apply","target","id","concat","args","createIncidentOccurred","widgetName","eventTrigger","type","text","ERROR_MESSAGES","widget","pickPositiveValue","values","reduce","result","value","getEmptyComponent","emptyComponentConfig","_initTemplates","ctor","element","options","callBase","sizedElement","createElement","isNumeric","_getDefaultSize","setStyle","setClass","insertElement","EmptyComponent","inherit","originalInherit","config","field","isFunction","substr","call","isServerSide","hasWindow","sizeIsValid","isDefined","module","exports","_eventsMap","onIncidentOccurred","name","onDrawn","_getDefaultOptions","_extractAnonymousTemplate","_useLinks","_init","that","linkTarget","_$element","children","remove","arguments","_changesLocker","_optionChangedLocker","_changes","changes","_suspendChanges","_themeManager","_createThemeManager","setCallback","_requestChange","_themeDependentChanges","_renderElementAttributes","_initRenderer","_renderer","root","enableLinks","virtualLink","_renderVisibilityChange","_attachVisibilityChangeHandlers","_toggleParentsScrollSubscription","_isVisible","_initEventTrigger","_incidentOccurred","NAME","_eventTrigger","_layout","linkAfter","_initPlugins","_initCore","_change","_initialChanges","BaseThemeManager","_getThemeManagerOptions","themeSection","_themeSection","fontFields","_fontFields","_plugins","_","plugin","init","_disposePlugins","slice","reverse","codes","add","_resumeChanges","count","_applyingChanges","lock","_applyChanges","reset","unlock","_optionsQueue","_applyQueuedOptions","_notify","queue","beginUpdate","action","endUpdate","order","_totalChangesOrder","i","ii","length","has","_optionChangesOrder","_layoutChangesOrder","_customChangesOrder","_change_EVENTS","applyChanges","_change_THEME","_setThemeAndRtl","_change_RENDERER","_setRendererOptions","_change_RESIZE_HANDLER","_setupResizeHandler","_change_ELEMENT_ATTR","_change_CONTAINER_SIZE","_updateSize","_change_LAYOUT","_setContentSize","_change_DISABLED","renderer","_initDisabledState","attr","filter","getGrayScaleFilter","_canvas","_calculateCanvas","Renderer","cssClass","_rootClassPrefix","_rootClass","pathModified","container","resize","_disposeRenderer","_getAnimationOptions","render","visible","_stopCurrentHandling","subscribe","$parents","parents","scrollEvents","real","platform","getWindow","_proxiedTargetParentsScrollHandler","bind","off","_$prevRootParents","on","_dispose","_removeResizeHandler","_disposeCore","createEventTrigger","_createActionByOption","size","margin","defaultCanvas","elementWidth","elementHeight","canvas","fixPlacement","__forceRender","_recreateSizeDependentObjects","_getMinSize","_getAlignmentRect","layout","rect","nextRect","forward","_applySize","backward","_getOption","isScalar","theme","redrawOnResize","_resizeHandler","_onBeginUpdate","_initialized","_updateLockCount","push","_getActionForUpdating","_clean","_render","_optionChanged","arg","partialChanges","getPartialChangeOptionsName","forEach","pc","_partialOptionChangesMap","_optionChangesMap","c","change","rtlEnabled","encodeHtml","elementAttr","disabled","_partialOptionChangesPath","changedOption","fullName","sections","split","partialChangeOptionsName","op","indexOf","_addOptionsNameForPartialUpdate","every","item","_checkOptionsForPartialUpdate","index","self","optionObject","Object","keys","some","key","optionKeys","_visibilityChanged","setTheme","_getRendererOptions","rtl","animation","setOptions","svg","getSize","isReady","_dataIsReady","_resetIsReady","_drawn","onEndAnimation","replaceInherit","eventsMap","callbackGetter","triggers","info","createEvent","triggerEvent","eventInfo","newName","complete"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/core/base_widget.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar windowUtils = require(\"../../core/utils/window\");\r\nvar domAdapter = require(\"../../core/dom_adapter\");\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar version = require(\"../../core/version\");\r\nvar _windowResizeCallbacks = require(\"../../core/utils/resize_callbacks\");\r\nvar _stringFormat = require(\"../../core/utils/string\").format;\r\nvar _isObject = require(\"../../core/utils/type\").isObject;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar themeManagerModule = require(\"../core/base_theme_manager\");\r\nvar _floor = Math.floor;\r\nvar DOMComponentWithTemplate = require(\"../../core/dom_component_with_template\");\r\nvar helpers = require(\"./helpers\");\r\nvar _parseScalar = require(\"./utils\").parseScalar;\r\nvar errors = require(\"./errors_warnings\");\r\nvar _log = errors.log;\r\nvar rendererModule = require(\"./renderers/renderer\");\r\nvar _Layout = require(\"./layout\");\r\nvar devices = require(\"../../core/devices\");\r\nvar eventsEngine = require(\"../../events/core/events_engine\");\r\nvar OPTION_RTL_ENABLED = \"rtlEnabled\";\r\nvar SIZED_ELEMENT_CLASS = \"dx-sized-element\";\r\nvar _option = DOMComponentWithTemplate.prototype.option;\r\n\r\nfunction getTrue() {\r\n    return true\r\n}\r\n\r\nfunction getFalse() {\r\n    return false\r\n}\r\n\r\nfunction areCanvasesDifferent(canvas1, canvas2) {\r\n    return !(canvas1.width === canvas2.width && canvas1.height === canvas2.height && canvas1.left === canvas2.left && canvas1.top === canvas2.top && canvas1.right === canvas2.right && canvas1.bottom === canvas2.bottom)\r\n}\r\n\r\nfunction createResizeHandler(callback) {\r\n    var timeout;\r\n    var handler = function() {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(callback, 100)\r\n    };\r\n    handler.dispose = function() {\r\n        clearTimeout(timeout);\r\n        return this\r\n    };\r\n    return handler\r\n}\r\n\r\nfunction defaultOnIncidentOccurred(e) {\r\n    if (!e.component.hasEvent(\"incidentOccurred\")) {\r\n        _log.apply(null, [e.target.id].concat(e.target.args || []))\r\n    }\r\n}\r\nvar createIncidentOccurred = function(widgetName, eventTrigger) {\r\n    return function(id, args) {\r\n        eventTrigger(\"incidentOccurred\", {\r\n            target: {\r\n                id: id,\r\n                type: \"E\" === id[0] ? \"error\" : \"warning\",\r\n                args: args,\r\n                text: _stringFormat.apply(null, [errors.ERROR_MESSAGES[id]].concat(args || [])),\r\n                widget: widgetName,\r\n                version: version\r\n            }\r\n        })\r\n    }\r\n};\r\n\r\nfunction pickPositiveValue(values) {\r\n    return values.reduce(function(result, value) {\r\n        return value > 0 && !result ? value : result\r\n    }, 0)\r\n}\r\nvar getEmptyComponent = function() {\r\n    var emptyComponentConfig = {\r\n        _initTemplates: function() {},\r\n        ctor: function(element, options) {\r\n            this.callBase(element, options);\r\n            var sizedElement = domAdapter.createElement(\"div\");\r\n            var width = options && typeUtils.isNumeric(options.width) ? options.width + \"px\" : \"100%\";\r\n            var height = options && typeUtils.isNumeric(options.height) ? options.height + \"px\" : this._getDefaultSize().height + \"px\";\r\n            domAdapter.setStyle(sizedElement, \"width\", width);\r\n            domAdapter.setStyle(sizedElement, \"height\", height);\r\n            domAdapter.setClass(sizedElement, SIZED_ELEMENT_CLASS);\r\n            domAdapter.insertElement(element, sizedElement)\r\n        }\r\n    };\r\n    var EmptyComponent = DOMComponentWithTemplate.inherit(emptyComponentConfig);\r\n    var originalInherit = EmptyComponent.inherit;\r\n    EmptyComponent.inherit = function(config) {\r\n        for (var field in config) {\r\n            if (typeUtils.isFunction(config[field]) && \"_\" !== field.substr(0, 1) || \"_dispose\" === field || \"_optionChanged\" === field) {\r\n                config[field] = noop\r\n            }\r\n        }\r\n        return originalInherit.call(this, config)\r\n    };\r\n    return EmptyComponent\r\n};\r\nvar isServerSide = !windowUtils.hasWindow();\r\n\r\nfunction sizeIsValid(value) {\r\n    return typeUtils.isDefined(value) && value > 0\r\n}\r\nmodule.exports = isServerSide ? getEmptyComponent() : DOMComponentWithTemplate.inherit({\r\n    _eventsMap: {\r\n        onIncidentOccurred: {\r\n            name: \"incidentOccurred\"\r\n        },\r\n        onDrawn: {\r\n            name: \"drawn\"\r\n        }\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            onIncidentOccurred: defaultOnIncidentOccurred\r\n        })\r\n    },\r\n    _extractAnonymousTemplate: function() {},\r\n    _useLinks: true,\r\n    _init: function() {\r\n        var that = this;\r\n        var linkTarget;\r\n        that._$element.children(\".\" + SIZED_ELEMENT_CLASS).remove();\r\n        that.callBase.apply(that, arguments);\r\n        that._changesLocker = 0;\r\n        that._optionChangedLocker = 0;\r\n        that._changes = helpers.changes();\r\n        that._suspendChanges();\r\n        that._themeManager = that._createThemeManager();\r\n        that._themeManager.setCallback(function() {\r\n            that._requestChange(that._themeDependentChanges)\r\n        });\r\n        that._renderElementAttributes();\r\n        that._initRenderer();\r\n        linkTarget = that._useLinks && that._renderer.root;\r\n        linkTarget && linkTarget.enableLinks().virtualLink(\"core\").virtualLink(\"peripheral\");\r\n        that._renderVisibilityChange();\r\n        that._attachVisibilityChangeHandlers();\r\n        that._toggleParentsScrollSubscription(this._isVisible());\r\n        that._initEventTrigger();\r\n        that._incidentOccurred = createIncidentOccurred(that.NAME, that._eventTrigger);\r\n        that._layout = new _Layout;\r\n        linkTarget && linkTarget.linkAfter(\"core\");\r\n        that._initPlugins();\r\n        that._initCore();\r\n        linkTarget && linkTarget.linkAfter();\r\n        that._change(that._initialChanges)\r\n    },\r\n    _createThemeManager: function() {\r\n        return new themeManagerModule.BaseThemeManager(this._getThemeManagerOptions())\r\n    },\r\n    _getThemeManagerOptions: function() {\r\n        return {\r\n            themeSection: this._themeSection,\r\n            fontFields: this._fontFields\r\n        }\r\n    },\r\n    _initialChanges: [\"LAYOUT\", \"RESIZE_HANDLER\", \"THEME\", \"DISABLED\"],\r\n    _initPlugins: function() {\r\n        var that = this;\r\n        each(that._plugins, function(_, plugin) {\r\n            plugin.init.call(that)\r\n        })\r\n    },\r\n    _disposePlugins: function() {\r\n        var that = this;\r\n        each(that._plugins.slice().reverse(), function(_, plugin) {\r\n            plugin.dispose.call(that)\r\n        })\r\n    },\r\n    _change: function(codes) {\r\n        this._changes.add(codes)\r\n    },\r\n    _suspendChanges: function() {\r\n        ++this._changesLocker\r\n    },\r\n    _resumeChanges: function() {\r\n        var that = this;\r\n        if (0 === --that._changesLocker && that._changes.count() > 0 && !that._applyingChanges) {\r\n            that._renderer.lock();\r\n            that._applyingChanges = true;\r\n            that._applyChanges();\r\n            that._changes.reset();\r\n            that._applyingChanges = false;\r\n            that._renderer.unlock();\r\n            if (that._optionsQueue) {\r\n                that._applyQueuedOptions()\r\n            }\r\n            that._optionChangedLocker++;\r\n            that._notify();\r\n            that._optionChangedLocker--\r\n        }\r\n    },\r\n    _applyQueuedOptions: function() {\r\n        var that = this;\r\n        var queue = that._optionsQueue;\r\n        that._optionsQueue = null;\r\n        that.beginUpdate();\r\n        each(queue, function(_, action) {\r\n            action()\r\n        });\r\n        that.endUpdate()\r\n    },\r\n    _requestChange: function(codes) {\r\n        this._suspendChanges();\r\n        this._change(codes);\r\n        this._resumeChanges()\r\n    },\r\n    _applyChanges: function() {\r\n        var that = this;\r\n        var changes = that._changes;\r\n        var order = that._totalChangesOrder;\r\n        var i;\r\n        var ii = order.length;\r\n        for (i = 0; i < ii; ++i) {\r\n            if (changes.has(order[i])) {\r\n                that[\"_change_\" + order[i]]()\r\n            }\r\n        }\r\n    },\r\n    _optionChangesOrder: [\"EVENTS\", \"THEME\", \"RENDERER\", \"RESIZE_HANDLER\"],\r\n    _layoutChangesOrder: [\"ELEMENT_ATTR\", \"CONTAINER_SIZE\", \"LAYOUT\"],\r\n    _customChangesOrder: [\"DISABLED\"],\r\n    _change_EVENTS: function() {\r\n        this._eventTrigger.applyChanges()\r\n    },\r\n    _change_THEME: function() {\r\n        this._setThemeAndRtl()\r\n    },\r\n    _change_RENDERER: function() {\r\n        this._setRendererOptions()\r\n    },\r\n    _change_RESIZE_HANDLER: function() {\r\n        this._setupResizeHandler()\r\n    },\r\n    _change_ELEMENT_ATTR: function() {\r\n        this._renderElementAttributes();\r\n        this._change([\"CONTAINER_SIZE\"])\r\n    },\r\n    _change_CONTAINER_SIZE: function() {\r\n        this._updateSize()\r\n    },\r\n    _change_LAYOUT: function() {\r\n        this._setContentSize()\r\n    },\r\n    _change_DISABLED: function() {\r\n        var renderer = this._renderer;\r\n        var root = renderer.root;\r\n        if (this.option(\"disabled\")) {\r\n            this._initDisabledState = root.attr(\"pointer-events\");\r\n            root.attr({\r\n                \"pointer-events\": \"none\",\r\n                filter: renderer.getGrayScaleFilter().id\r\n            })\r\n        } else {\r\n            if (\"none\" === root.attr(\"pointer-events\")) {\r\n                root.attr({\r\n                    \"pointer-events\": typeUtils.isDefined(this._initDisabledState) ? this._initDisabledState : null,\r\n                    filter: null\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _themeDependentChanges: [\"RENDERER\"],\r\n    _initRenderer: function() {\r\n        var that = this;\r\n        that._canvas = that._calculateCanvas();\r\n        that._renderer = new rendererModule.Renderer({\r\n            cssClass: that._rootClassPrefix + \" \" + that._rootClass,\r\n            pathModified: that.option(\"pathModified\"),\r\n            container: that._$element[0]\r\n        });\r\n        that._renderer.resize(that._canvas.width, that._canvas.height)\r\n    },\r\n    _disposeRenderer: function() {\r\n        this._renderer.dispose()\r\n    },\r\n    _getAnimationOptions: noop,\r\n    render: function() {\r\n        this._requestChange([\"CONTAINER_SIZE\"]);\r\n        var visible = this._isVisible();\r\n        this._toggleParentsScrollSubscription(visible);\r\n        !visible && this._stopCurrentHandling()\r\n    },\r\n    _toggleParentsScrollSubscription: function(subscribe) {\r\n        var $parents = $(this._renderer.root.element).parents();\r\n        var scrollEvents = \"scroll.viz_widgets\";\r\n        if (\"generic\" === devices.real().platform) {\r\n            $parents = $parents.add(windowUtils.getWindow())\r\n        }\r\n        this._proxiedTargetParentsScrollHandler = this._proxiedTargetParentsScrollHandler || function() {\r\n            this._stopCurrentHandling()\r\n        }.bind(this);\r\n        eventsEngine.off($().add(this._$prevRootParents), scrollEvents, this._proxiedTargetParentsScrollHandler);\r\n        if (subscribe) {\r\n            eventsEngine.on($parents, scrollEvents, this._proxiedTargetParentsScrollHandler);\r\n            this._$prevRootParents = $parents\r\n        }\r\n    },\r\n    _stopCurrentHandling: noop,\r\n    _dispose: function() {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        that._toggleParentsScrollSubscription(false);\r\n        that._removeResizeHandler();\r\n        that._layout.dispose();\r\n        that._eventTrigger.dispose();\r\n        that._disposeCore();\r\n        that._disposePlugins();\r\n        that._disposeRenderer();\r\n        that._themeManager.dispose();\r\n        that._themeManager = that._renderer = that._eventTrigger = null\r\n    },\r\n    _initEventTrigger: function() {\r\n        var that = this;\r\n        that._eventTrigger = createEventTrigger(that._eventsMap, function(name) {\r\n            return that._createActionByOption(name)\r\n        })\r\n    },\r\n    _calculateCanvas: function() {\r\n        var that = this;\r\n        var size = that.option(\"size\") || {};\r\n        var margin = that.option(\"margin\") || {};\r\n        var defaultCanvas = that._getDefaultSize() || {};\r\n        var elementWidth = !sizeIsValid(size.width) && windowUtils.hasWindow() ? that._$element.width() : 0;\r\n        var elementHeight = !sizeIsValid(size.height) && windowUtils.hasWindow() ? that._$element.height() : 0;\r\n        var canvas = {\r\n            width: size.width <= 0 ? 0 : _floor(pickPositiveValue([size.width, elementWidth, defaultCanvas.width])),\r\n            height: size.height <= 0 ? 0 : _floor(pickPositiveValue([size.height, elementHeight, defaultCanvas.height])),\r\n            left: pickPositiveValue([margin.left, defaultCanvas.left]),\r\n            top: pickPositiveValue([margin.top, defaultCanvas.top]),\r\n            right: pickPositiveValue([margin.right, defaultCanvas.right]),\r\n            bottom: pickPositiveValue([margin.bottom, defaultCanvas.bottom])\r\n        };\r\n        if (canvas.width - canvas.left - canvas.right <= 0 || canvas.height - canvas.top - canvas.bottom <= 0) {\r\n            canvas = {\r\n                width: 0,\r\n                height: 0\r\n            }\r\n        }\r\n        return canvas\r\n    },\r\n    _updateSize: function() {\r\n        var that = this;\r\n        var canvas = that._calculateCanvas();\r\n        that._renderer.fixPlacement();\r\n        if (areCanvasesDifferent(that._canvas, canvas) || that.__forceRender) {\r\n            that._canvas = canvas;\r\n            that._recreateSizeDependentObjects(true);\r\n            that._renderer.resize(canvas.width, canvas.height);\r\n            that._change([\"LAYOUT\"])\r\n        }\r\n    },\r\n    _recreateSizeDependentObjects: noop,\r\n    _getMinSize: function() {\r\n        return [0, 0]\r\n    },\r\n    _getAlignmentRect: noop,\r\n    _setContentSize: function() {\r\n        var canvas = this._canvas;\r\n        var layout = this._layout;\r\n        var rect = canvas.width > 0 && canvas.height > 0 ? [canvas.left, canvas.top, canvas.width - canvas.right, canvas.height - canvas.bottom] : [0, 0, 0, 0];\r\n        var nextRect;\r\n        rect = layout.forward(rect, this._getMinSize());\r\n        nextRect = this._applySize(rect) || rect;\r\n        layout.backward(nextRect, this._getAlignmentRect() || nextRect)\r\n    },\r\n    _getOption: function(name, isScalar) {\r\n        var theme = this._themeManager.theme(name);\r\n        var option = this.option(name);\r\n        return isScalar ? void 0 !== option ? option : theme : extend(true, {}, theme, option)\r\n    },\r\n    _setupResizeHandler: function() {\r\n        var that = this;\r\n        var redrawOnResize = _parseScalar(this._getOption(\"redrawOnResize\", true), true);\r\n        if (that._resizeHandler) {\r\n            that._removeResizeHandler()\r\n        }\r\n        that._resizeHandler = createResizeHandler(function() {\r\n            if (redrawOnResize) {\r\n                that._requestChange([\"CONTAINER_SIZE\"])\r\n            } else {\r\n                that._renderer.fixPlacement()\r\n            }\r\n        });\r\n        _windowResizeCallbacks.add(that._resizeHandler)\r\n    },\r\n    _removeResizeHandler: function() {\r\n        if (this._resizeHandler) {\r\n            _windowResizeCallbacks.remove(this._resizeHandler);\r\n            this._resizeHandler.dispose();\r\n            this._resizeHandler = null\r\n        }\r\n    },\r\n    _onBeginUpdate: noop,\r\n    beginUpdate: function() {\r\n        var that = this;\r\n        if (that._initialized && 0 === that._updateLockCount) {\r\n            that._onBeginUpdate();\r\n            that._suspendChanges()\r\n        }\r\n        that.callBase.apply(that, arguments);\r\n        return that\r\n    },\r\n    endUpdate: function() {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        if (0 === that._updateLockCount) {\r\n            that._resumeChanges()\r\n        }\r\n        return that\r\n    },\r\n    option: function(name) {\r\n        var that = this;\r\n        if (that._initialized && that._applyingChanges && (arguments.length > 1 || _isObject(name))) {\r\n            that._optionsQueue = that._optionsQueue || [];\r\n            that._optionsQueue.push(that._getActionForUpdating(arguments))\r\n        } else {\r\n            return _option.apply(that, arguments)\r\n        }\r\n    },\r\n    _getActionForUpdating: function(args) {\r\n        var that = this;\r\n        return function() {\r\n            _option.apply(that, args)\r\n        }\r\n    },\r\n    _clean: noop,\r\n    _render: noop,\r\n    _optionChanged: function(arg) {\r\n        var that = this;\r\n        if (that._optionChangedLocker) {\r\n            return\r\n        }\r\n        var partialChanges = that.getPartialChangeOptionsName(arg);\r\n        var changes = [];\r\n        if (partialChanges.length > 0) {\r\n            partialChanges.forEach(function(pc) {\r\n                return changes.push(that._partialOptionChangesMap[pc])\r\n            })\r\n        } else {\r\n            changes.push(that._optionChangesMap[arg.name])\r\n        }\r\n        changes = changes.filter(function(c) {\r\n            return !!c\r\n        });\r\n        if (that._eventTrigger.change(arg.name)) {\r\n            that._change([\"EVENTS\"])\r\n        } else {\r\n            if (changes.length > 0) {\r\n                that._change(changes)\r\n            } else {\r\n                that.callBase.apply(that, arguments)\r\n            }\r\n        }\r\n    },\r\n    _notify: noop,\r\n    _optionChangesMap: {\r\n        size: \"CONTAINER_SIZE\",\r\n        margin: \"CONTAINER_SIZE\",\r\n        redrawOnResize: \"RESIZE_HANDLER\",\r\n        theme: \"THEME\",\r\n        rtlEnabled: \"THEME\",\r\n        encodeHtml: \"THEME\",\r\n        elementAttr: \"ELEMENT_ATTR\",\r\n        disabled: \"DISABLED\"\r\n    },\r\n    _partialOptionChangesMap: {},\r\n    _partialOptionChangesPath: {},\r\n    getPartialChangeOptionsName: function(changedOption) {\r\n        var that = this;\r\n        var fullName = changedOption.fullName;\r\n        var sections = fullName.split(/[.]/);\r\n        var name = changedOption.name;\r\n        var value = changedOption.value;\r\n        var options = this._partialOptionChangesPath[name];\r\n        var partialChangeOptionsName = [];\r\n        if (options) {\r\n            if (true === options) {\r\n                partialChangeOptionsName.push(name)\r\n            } else {\r\n                options.forEach(function(op) {\r\n                    fullName.indexOf(op) >= 0 && partialChangeOptionsName.push(op)\r\n                });\r\n                if (1 === sections.length) {\r\n                    if (\"object\" === typeUtils.type(value)) {\r\n                        that._addOptionsNameForPartialUpdate(value, options, partialChangeOptionsName)\r\n                    } else {\r\n                        if (\"array\" === typeUtils.type(value)) {\r\n                            if (value.length > 0 && value.every(function(item) {\r\n                                    return that._checkOptionsForPartialUpdate(item, options)\r\n                                })) {\r\n                                value.forEach(function(item) {\r\n                                    return that._addOptionsNameForPartialUpdate(item, options, partialChangeOptionsName)\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return partialChangeOptionsName.filter(function(value, index, self) {\r\n            return self.indexOf(value) === index\r\n        })\r\n    },\r\n    _checkOptionsForPartialUpdate: function(optionObject, options) {\r\n        return !Object.keys(optionObject).some(function(key) {\r\n            return options.indexOf(key) === -1\r\n        })\r\n    },\r\n    _addOptionsNameForPartialUpdate: function(optionObject, options, partialChangeOptionsName) {\r\n        var optionKeys = Object.keys(optionObject);\r\n        if (this._checkOptionsForPartialUpdate(optionObject, options)) {\r\n            optionKeys.forEach(function(key) {\r\n                return options.indexOf(key) > -1 && partialChangeOptionsName.push(key)\r\n            })\r\n        }\r\n    },\r\n    _visibilityChanged: function() {\r\n        this.render()\r\n    },\r\n    _setThemeAndRtl: function() {\r\n        this._themeManager.setTheme(this.option(\"theme\"), this.option(OPTION_RTL_ENABLED))\r\n    },\r\n    _getRendererOptions: function() {\r\n        return {\r\n            rtl: this.option(OPTION_RTL_ENABLED),\r\n            encodeHtml: this.option(\"encodeHtml\"),\r\n            animation: this._getAnimationOptions()\r\n        }\r\n    },\r\n    _setRendererOptions: function() {\r\n        this._renderer.setOptions(this._getRendererOptions())\r\n    },\r\n    svg: function() {\r\n        return this._renderer.svg()\r\n    },\r\n    getSize: function() {\r\n        var canvas = this._canvas || {};\r\n        return {\r\n            width: canvas.width,\r\n            height: canvas.height\r\n        }\r\n    },\r\n    isReady: getFalse,\r\n    _dataIsReady: getTrue,\r\n    _resetIsReady: function() {\r\n        this.isReady = getFalse\r\n    },\r\n    _drawn: function() {\r\n        var that = this;\r\n        that.isReady = getFalse;\r\n        if (that._dataIsReady()) {\r\n            that._renderer.onEndAnimation(function() {\r\n                that.isReady = getTrue\r\n            })\r\n        }\r\n        that._eventTrigger(\"drawn\", {})\r\n    }\r\n});\r\nhelpers.replaceInherit(module.exports);\r\n\r\nfunction createEventTrigger(eventsMap, callbackGetter) {\r\n    var triggers = {};\r\n    each(eventsMap, function(name, info) {\r\n        if (info.name) {\r\n            createEvent(name)\r\n        }\r\n    });\r\n    var changes;\r\n    triggerEvent.change = function(name) {\r\n        var eventInfo = eventsMap[name];\r\n        if (eventInfo) {\r\n            (changes = changes || {})[name] = eventInfo\r\n        }\r\n        return !!eventInfo\r\n    };\r\n    triggerEvent.applyChanges = function() {\r\n        if (changes) {\r\n            each(changes, function(name, eventInfo) {\r\n                createEvent(eventInfo.newName || name)\r\n            });\r\n            changes = null\r\n        }\r\n    };\r\n    triggerEvent.dispose = function() {\r\n        eventsMap = callbackGetter = triggers = null\r\n    };\r\n    return triggerEvent;\r\n\r\n    function createEvent(name) {\r\n        var eventInfo = eventsMap[name];\r\n        triggers[eventInfo.name] = callbackGetter(name)\r\n    }\r\n\r\n    function triggerEvent(name, arg, complete) {\r\n        triggers[name](arg);\r\n        complete && complete()\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}