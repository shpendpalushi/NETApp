{"ast":null,"code":"/**\r\n * DevExtreme (viz/axes/strip.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createStrip;\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _utils = require(\"../core/utils\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nfunction createStrip(axis, options) {\n  var storedCoord;\n  var labelOptions = options.label || {};\n  return {\n    options: options,\n    label: null,\n    rect: null,\n    _getCoord: function _getCoord() {\n      var canvas = axis._getCanvasStartEnd();\n\n      var range = axis._translator.getBusinessRange();\n\n      return axis._getStripPos(options.startValue, options.endValue, canvas.start, canvas.end, range);\n    },\n    _drawLabel: function _drawLabel(coords) {\n      return axis._renderer.text(labelOptions.text, coords.x, coords.y).css((0, _utils.patchFontOptions)((0, _extend.extend)({}, axis.getOptions().label.font, labelOptions.font))).attr({\n        align: \"center\",\n        \"class\": labelOptions.cssClass\n      }).append(axis._axisStripLabelGroup);\n    },\n    draw: function draw() {\n      if (axis._translator.getBusinessRange().isEmpty()) {\n        return;\n      }\n\n      if (((0, _type.isDefined)(options.startValue) || (0, _type.isDefined)(options.endValue)) && (0, _type.isDefined)(options.color)) {\n        var stripPos = this._getCoord();\n\n        this.labelCoords = labelOptions.text ? axis._getStripLabelCoords(stripPos.from, stripPos.to, labelOptions) : null;\n\n        if (stripPos.to - stripPos.from === 0 || !(0, _type.isDefined)(stripPos.to) || !(0, _type.isDefined)(stripPos.from)) {\n          return;\n        }\n\n        this.rect = axis._createStrip(axis._getStripGraphicAttributes(stripPos.from, stripPos.to)).attr({\n          fill: options.color\n        }).append(axis._axisStripGroup);\n        this.label = labelOptions.text ? this._drawLabel(this.labelCoords) : null;\n      }\n    },\n    removeLabel: function removeLabel() {},\n    updatePosition: function updatePosition(animate) {\n      var stripPos = this._getCoord();\n\n      if (animate && storedCoord) {\n        this.label && this.label.attr(axis._getStripLabelCoords(storedCoord.from, storedCoord.to, options.label));\n        this.rect && this.rect.attr(axis._getStripGraphicAttributes(storedCoord.from, storedCoord.to));\n        this.label && this.label.animate(axis._getStripLabelCoords(stripPos.from, stripPos.to, options.label));\n        this.rect && this.rect.animate(axis._getStripGraphicAttributes(stripPos.from, stripPos.to));\n      } else {\n        this.label && this.label.attr(axis._getStripLabelCoords(stripPos.from, stripPos.to, options.label));\n        this.rect && this.rect.attr(axis._getStripGraphicAttributes(stripPos.from, stripPos.to));\n      }\n    },\n    saveCoords: function saveCoords() {\n      storedCoord = this._getCoord();\n    }\n  };\n}","map":null,"metadata":{},"sourceType":"script"}