{"ast":null,"code":"/**\r\n * DevExtreme (viz/tree_map/drilldown.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar proto = require(\"./tree_map.base\").prototype;\n\nvar _expand = require(\"../core/helpers\").expand;\n\nrequire(\"./api\");\n\nproto._eventsMap.onDrill = {\n  name: \"drill\"\n};\n\n_expand(proto, \"_extendProxyType\", function (proto) {\n  var that = this;\n\n  proto.drillDown = function () {\n    that._drillToNode(this._id);\n  };\n});\n\n_expand(proto, \"_onNodesCreated\", function () {\n  this._drilldownIndex = -1;\n});\n\nproto._drillToNode = function (index) {\n  var that = this;\n  var node;\n\n  if (that._drilldownIndex !== index) {\n    node = that._nodes[index] || that._root;\n\n    if (node.nodes) {\n      that._drilldownIndex = index;\n      that._topNode = node;\n\n      that._context.suspend();\n\n      that._context.change([\"MAX_DEPTH\", \"NODES_RESET\"]);\n\n      that._context.resume();\n\n      that._eventTrigger(\"drill\", {\n        node: node.proxy\n      });\n    }\n  }\n};\n\nproto.resetDrillDown = function () {\n  this._drillToNode(-1);\n\n  return this;\n};\n\nproto.drillUp = function () {\n  this._drillToNode(this._topNode.parent._id || -1);\n\n  return this;\n};\n\nproto.getCurrentNode = function () {\n  return this._topNode.proxy;\n};","map":null,"metadata":{},"sourceType":"script"}