{"ast":null,"code":"/**\r\n * DevExtreme (ui/slider/ui.slider_handle.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar Widget = require(\"../widget/ui.widget\");\n\nvar Tooltip = require(\"../tooltip\");\n\nvar translator = require(\"../../animation/translator\");\n\nvar positionUtils = require(\"../../animation/position\");\n\nvar mathUtils = require(\"../../core/utils/math\");\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar numberLocalization = require(\"../../localization/number\");\n\nvar SLIDER_CLASS = \"dx-slider\";\nvar SLIDER_HANDLE_CLASS = \"dx-slider-handle\";\nvar POSITION_ALIASES = {\n  top: {\n    my: \"bottom center\",\n    at: \"top center\",\n    collision: \"none\"\n  },\n  bottom: {\n    my: \"top center\",\n    at: \"bottom center\",\n    collision: \"none\"\n  },\n  right: {\n    my: \"left center\",\n    at: \"right center\",\n    collision: \"none\"\n  },\n  left: {\n    my: \"right center\",\n    at: \"left center\",\n    collision: \"none\"\n  }\n};\nvar SliderHandle = Widget.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      hoverStateEnabled: false,\n      value: 0,\n      tooltipEnabled: false,\n      tooltipFormat: function tooltipFormat(v) {\n        return v;\n      },\n      tooltipPosition: \"top\",\n      tooltipShowMode: \"onHover\",\n      tooltipFitIn: null\n    });\n  },\n  _initMarkup: function _initMarkup() {\n    this.callBase();\n    this.$element().addClass(SLIDER_HANDLE_CLASS);\n    this.setAria({\n      role: \"slider\",\n      valuenow: this.option(\"value\")\n    });\n  },\n  _render: function _render() {\n    this._renderTooltip();\n\n    this.callBase();\n  },\n  _renderTooltip: function _renderTooltip() {\n    if (this.option(\"tooltipEnabled\")) {\n      if (!this._$tooltip) {\n        this._$tooltip = $(\"<div>\").appendTo(this.$element());\n      }\n\n      this._$slider = this.$element().closest(\".\" + SLIDER_CLASS);\n\n      this._updateTooltip();\n    } else {\n      this._removeTooltip();\n    }\n  },\n  _createTooltip: function _createTooltip() {\n    if (this._tooltip) {\n      return false;\n    }\n\n    this._tooltip = this._createComponent(this._$tooltip, Tooltip, {\n      visible: true,\n      target: this.$element(),\n      closeOnOutsideClick: false,\n      container: this.$element(),\n      closeOnBackButton: false,\n      closeOnTargetScroll: false,\n      onPositioned: function (args) {\n        this._saveTooltipElements(args.component);\n\n        this._saveTooltipLocation();\n\n        this._centeredTooltipPosition();\n      }.bind(this),\n      animation: null,\n      arrowPosition: null,\n      templatesRenderAsynchronously: false\n    });\n    return true;\n  },\n  _removeTooltip: function _removeTooltip() {\n    if (!this._$tooltip) {\n      return;\n    }\n\n    this._$tooltip.remove();\n\n    delete this._$tooltip;\n    delete this._tooltip;\n  },\n  _renderTooltipPosition: function _renderTooltipPosition() {\n    if (!this._tooltip) {\n      return;\n    }\n\n    var position = this.option(\"tooltipPosition\");\n\n    this._saveTooltipElements();\n\n    this._resetTooltipPosition();\n\n    if (\"string\" === typeUtils.type(position)) {\n      position = extend({\n        boundary: this._$slider,\n        boundaryOffset: {\n          h: 1,\n          v: 1\n        }\n      }, POSITION_ALIASES[position]);\n    }\n\n    this._tooltip.option(\"position\", position);\n\n    this._saveTooltipLocation();\n  },\n  _saveTooltipElements: function _saveTooltipElements(tooltip) {\n    tooltip = this._tooltip || tooltip;\n    this._$tooltipContent = tooltip.$content().parent();\n    this._$tooltipArrow = this._$tooltipContent.find(\".dx-popover-arrow\");\n  },\n  _resetTooltipPosition: function _resetTooltipPosition() {\n    translator.resetPosition(this._$tooltipContent);\n    translator.resetPosition(this._$tooltipArrow);\n  },\n  _saveTooltipLocation: function _saveTooltipLocation() {\n    this._contentLocate = translator.locate(this._$tooltipContent);\n  },\n  _centeredTooltipPosition: function _centeredTooltipPosition() {\n    if (!this._tooltip) {\n      return;\n    }\n\n    this._$tooltipContent.outerWidth(\"auto\");\n\n    var outerWidthWithoutRounding = this._$tooltipContent.get(0).getBoundingClientRect().width;\n\n    var tooltipOuterWidth = Math.ceil(outerWidthWithoutRounding);\n    var roundedTooltipOuterWidth = tooltipOuterWidth % 2 + tooltipOuterWidth;\n\n    this._$tooltipContent.outerWidth(roundedTooltipOuterWidth);\n\n    var tooltipCenter = (roundedTooltipOuterWidth - this.$element().width()) / 2;\n    this._contentLocate.left = -tooltipCenter;\n\n    this._$tooltipArrow.css({\n      marginLeft: -this._$tooltipArrow.outerWidth() / 2,\n      left: \"50%\"\n    });\n\n    this._fitTooltip();\n  },\n  _fitTooltip: function _fitTooltip() {\n    if (!this._tooltip) {\n      return;\n    }\n\n    var position = this.option(\"tooltipPosition\");\n\n    if (\"string\" === typeUtils.type(position)) {\n      position = extend({\n        of: this.$element(),\n        boundary: this._$slider,\n        boundaryOffset: {\n          h: 2,\n          v: 1\n        }\n      }, POSITION_ALIASES[position], {\n        collision: \"fit none\"\n      });\n    }\n\n    var calculatePosition = positionUtils.calculate(this._$tooltipContent, position);\n    var isLeftSide = \"left\" === calculatePosition.h.collisionSide;\n    var arrowLeft = (isLeftSide ? -1 : 1) * calculatePosition.h.oversize;\n    var arrowMinLeft = this._contentLocate.left;\n\n    var arrowMaxRight = this._contentLocate.left + this._$tooltipContent.outerWidth() - this._$tooltipArrow.outerWidth();\n\n    translator.move(this._$tooltipContent, {\n      left: this._contentLocate.left + (isLeftSide ? 1 : -1) * calculatePosition.h.oversize\n    });\n    translator.move(this._$tooltipArrow, {\n      left: mathUtils.fitIntoRange(arrowLeft, arrowMinLeft, arrowMaxRight)\n    });\n  },\n  _getFormattedValue: function _getFormattedValue(value) {\n    return numberLocalization.format(value, this.option(\"tooltipFormat\"));\n  },\n  _renderValue: function _renderValue() {\n    if (!this._tooltip) {\n      return;\n    }\n\n    var value = this.option(\"value\");\n\n    this._tooltip.$content().html(this._getFormattedValue(value));\n\n    this._fitTooltip();\n  },\n  _updateTooltip: function _updateTooltip() {\n    var hoverMode = /^onhover$/i.test(this.option(\"tooltipShowMode\"));\n\n    if (!hoverMode) {\n      this._createTooltip();\n    }\n\n    this.$element().toggleClass(\"dx-slider-tooltip-on-hover\", hoverMode);\n\n    this._renderTooltipPosition();\n\n    this._renderValue();\n\n    this._centeredTooltipPosition();\n  },\n  _clean: function _clean() {\n    this.callBase();\n    delete this._$tooltip;\n    delete this._tooltip;\n  },\n  _ensureTooltipIsCentered: function _ensureTooltipIsCentered(value, previousValue) {\n    if (typeUtils.isDefined(value) && typeUtils.isDefined(previousValue) && value.toString().length !== previousValue.toString().length) {\n      this._centeredTooltipPosition();\n    }\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"tooltipFormat\":\n        this._renderValue();\n\n        break;\n\n      case \"value\":\n        this._renderValue();\n\n        var value = this._getFormattedValue(args.value);\n\n        var previousValue = this._getFormattedValue(args.previousValue);\n\n        this._ensureTooltipIsCentered(value, previousValue);\n\n        this.setAria(\"valuenow\", args.value);\n        break;\n\n      case \"tooltipEnabled\":\n        this._renderTooltip();\n\n        break;\n\n      case \"tooltipPosition\":\n        this._renderTooltipPosition();\n\n        this._centeredTooltipPosition();\n\n        break;\n\n      case \"tooltipShowMode\":\n        this._updateTooltip();\n\n        break;\n\n      case \"tooltipFitIn\":\n        this._fitTooltip();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  fitTooltipPosition: function fitTooltipPosition() {\n    this._fitTooltip();\n  },\n  updateTooltip: function updateTooltip() {\n    if (!this._createTooltip()) {\n      return;\n    }\n\n    this._renderTooltipPosition();\n\n    this._renderValue();\n\n    this._centeredTooltipPosition();\n  },\n  repaint: function repaint() {\n    this._renderTooltipPosition();\n\n    this._centeredTooltipPosition();\n\n    if (this._tooltip) {\n      this._tooltip._visibilityChanged(true);\n    }\n  }\n});\nmodule.exports = SliderHandle;","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/ui/slider/ui.slider_handle.js"],"names":["$","require","Widget","Tooltip","translator","positionUtils","mathUtils","typeUtils","extend","numberLocalization","SLIDER_CLASS","SLIDER_HANDLE_CLASS","POSITION_ALIASES","top","my","at","collision","bottom","right","left","SliderHandle","inherit","_getDefaultOptions","callBase","hoverStateEnabled","value","tooltipEnabled","tooltipFormat","v","tooltipPosition","tooltipShowMode","tooltipFitIn","_initMarkup","$element","addClass","setAria","role","valuenow","option","_render","_renderTooltip","_$tooltip","appendTo","_$slider","closest","_updateTooltip","_removeTooltip","_createTooltip","_tooltip","_createComponent","visible","target","closeOnOutsideClick","container","closeOnBackButton","closeOnTargetScroll","onPositioned","args","_saveTooltipElements","component","_saveTooltipLocation","_centeredTooltipPosition","bind","animation","arrowPosition","templatesRenderAsynchronously","remove","_renderTooltipPosition","position","_resetTooltipPosition","type","boundary","boundaryOffset","h","tooltip","_$tooltipContent","$content","parent","_$tooltipArrow","find","resetPosition","_contentLocate","locate","outerWidth","outerWidthWithoutRounding","get","getBoundingClientRect","width","tooltipOuterWidth","Math","ceil","roundedTooltipOuterWidth","tooltipCenter","css","marginLeft","_fitTooltip","of","calculatePosition","calculate","isLeftSide","collisionSide","arrowLeft","oversize","arrowMinLeft","arrowMaxRight","move","fitIntoRange","_getFormattedValue","format","_renderValue","html","hoverMode","test","toggleClass","_clean","_ensureTooltipIsCentered","previousValue","isDefined","toString","length","_optionChanged","name","fitTooltipPosition","updateTooltip","repaint","_visibilityChanged","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/slider/ui.slider_handle.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar Widget = require(\"../widget/ui.widget\");\r\nvar Tooltip = require(\"../tooltip\");\r\nvar translator = require(\"../../animation/translator\");\r\nvar positionUtils = require(\"../../animation/position\");\r\nvar mathUtils = require(\"../../core/utils/math\");\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar numberLocalization = require(\"../../localization/number\");\r\nvar SLIDER_CLASS = \"dx-slider\";\r\nvar SLIDER_HANDLE_CLASS = \"dx-slider-handle\";\r\nvar POSITION_ALIASES = {\r\n    top: {\r\n        my: \"bottom center\",\r\n        at: \"top center\",\r\n        collision: \"none\"\r\n    },\r\n    bottom: {\r\n        my: \"top center\",\r\n        at: \"bottom center\",\r\n        collision: \"none\"\r\n    },\r\n    right: {\r\n        my: \"left center\",\r\n        at: \"right center\",\r\n        collision: \"none\"\r\n    },\r\n    left: {\r\n        my: \"right center\",\r\n        at: \"left center\",\r\n        collision: \"none\"\r\n    }\r\n};\r\nvar SliderHandle = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: false,\r\n            value: 0,\r\n            tooltipEnabled: false,\r\n            tooltipFormat: function(v) {\r\n                return v\r\n            },\r\n            tooltipPosition: \"top\",\r\n            tooltipShowMode: \"onHover\",\r\n            tooltipFitIn: null\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(SLIDER_HANDLE_CLASS);\r\n        this.setAria({\r\n            role: \"slider\",\r\n            valuenow: this.option(\"value\")\r\n        })\r\n    },\r\n    _render: function() {\r\n        this._renderTooltip();\r\n        this.callBase()\r\n    },\r\n    _renderTooltip: function() {\r\n        if (this.option(\"tooltipEnabled\")) {\r\n            if (!this._$tooltip) {\r\n                this._$tooltip = $(\"<div>\").appendTo(this.$element())\r\n            }\r\n            this._$slider = this.$element().closest(\".\" + SLIDER_CLASS);\r\n            this._updateTooltip()\r\n        } else {\r\n            this._removeTooltip()\r\n        }\r\n    },\r\n    _createTooltip: function() {\r\n        if (this._tooltip) {\r\n            return false\r\n        }\r\n        this._tooltip = this._createComponent(this._$tooltip, Tooltip, {\r\n            visible: true,\r\n            target: this.$element(),\r\n            closeOnOutsideClick: false,\r\n            container: this.$element(),\r\n            closeOnBackButton: false,\r\n            closeOnTargetScroll: false,\r\n            onPositioned: function(args) {\r\n                this._saveTooltipElements(args.component);\r\n                this._saveTooltipLocation();\r\n                this._centeredTooltipPosition()\r\n            }.bind(this),\r\n            animation: null,\r\n            arrowPosition: null,\r\n            templatesRenderAsynchronously: false\r\n        });\r\n        return true\r\n    },\r\n    _removeTooltip: function() {\r\n        if (!this._$tooltip) {\r\n            return\r\n        }\r\n        this._$tooltip.remove();\r\n        delete this._$tooltip;\r\n        delete this._tooltip\r\n    },\r\n    _renderTooltipPosition: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        var position = this.option(\"tooltipPosition\");\r\n        this._saveTooltipElements();\r\n        this._resetTooltipPosition();\r\n        if (\"string\" === typeUtils.type(position)) {\r\n            position = extend({\r\n                boundary: this._$slider,\r\n                boundaryOffset: {\r\n                    h: 1,\r\n                    v: 1\r\n                }\r\n            }, POSITION_ALIASES[position])\r\n        }\r\n        this._tooltip.option(\"position\", position);\r\n        this._saveTooltipLocation()\r\n    },\r\n    _saveTooltipElements: function(tooltip) {\r\n        tooltip = this._tooltip || tooltip;\r\n        this._$tooltipContent = tooltip.$content().parent();\r\n        this._$tooltipArrow = this._$tooltipContent.find(\".dx-popover-arrow\")\r\n    },\r\n    _resetTooltipPosition: function() {\r\n        translator.resetPosition(this._$tooltipContent);\r\n        translator.resetPosition(this._$tooltipArrow)\r\n    },\r\n    _saveTooltipLocation: function() {\r\n        this._contentLocate = translator.locate(this._$tooltipContent)\r\n    },\r\n    _centeredTooltipPosition: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        this._$tooltipContent.outerWidth(\"auto\");\r\n        var outerWidthWithoutRounding = this._$tooltipContent.get(0).getBoundingClientRect().width;\r\n        var tooltipOuterWidth = Math.ceil(outerWidthWithoutRounding);\r\n        var roundedTooltipOuterWidth = tooltipOuterWidth % 2 + tooltipOuterWidth;\r\n        this._$tooltipContent.outerWidth(roundedTooltipOuterWidth);\r\n        var tooltipCenter = (roundedTooltipOuterWidth - this.$element().width()) / 2;\r\n        this._contentLocate.left = -tooltipCenter;\r\n        this._$tooltipArrow.css({\r\n            marginLeft: -this._$tooltipArrow.outerWidth() / 2,\r\n            left: \"50%\"\r\n        });\r\n        this._fitTooltip()\r\n    },\r\n    _fitTooltip: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        var position = this.option(\"tooltipPosition\");\r\n        if (\"string\" === typeUtils.type(position)) {\r\n            position = extend({\r\n                of: this.$element(),\r\n                boundary: this._$slider,\r\n                boundaryOffset: {\r\n                    h: 2,\r\n                    v: 1\r\n                }\r\n            }, POSITION_ALIASES[position], {\r\n                collision: \"fit none\"\r\n            })\r\n        }\r\n        var calculatePosition = positionUtils.calculate(this._$tooltipContent, position);\r\n        var isLeftSide = \"left\" === calculatePosition.h.collisionSide;\r\n        var arrowLeft = (isLeftSide ? -1 : 1) * calculatePosition.h.oversize;\r\n        var arrowMinLeft = this._contentLocate.left;\r\n        var arrowMaxRight = this._contentLocate.left + this._$tooltipContent.outerWidth() - this._$tooltipArrow.outerWidth();\r\n        translator.move(this._$tooltipContent, {\r\n            left: this._contentLocate.left + (isLeftSide ? 1 : -1) * calculatePosition.h.oversize\r\n        });\r\n        translator.move(this._$tooltipArrow, {\r\n            left: mathUtils.fitIntoRange(arrowLeft, arrowMinLeft, arrowMaxRight)\r\n        })\r\n    },\r\n    _getFormattedValue: function(value) {\r\n        return numberLocalization.format(value, this.option(\"tooltipFormat\"))\r\n    },\r\n    _renderValue: function() {\r\n        if (!this._tooltip) {\r\n            return\r\n        }\r\n        var value = this.option(\"value\");\r\n        this._tooltip.$content().html(this._getFormattedValue(value));\r\n        this._fitTooltip()\r\n    },\r\n    _updateTooltip: function() {\r\n        var hoverMode = /^onhover$/i.test(this.option(\"tooltipShowMode\"));\r\n        if (!hoverMode) {\r\n            this._createTooltip()\r\n        }\r\n        this.$element().toggleClass(\"dx-slider-tooltip-on-hover\", hoverMode);\r\n        this._renderTooltipPosition();\r\n        this._renderValue();\r\n        this._centeredTooltipPosition()\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        delete this._$tooltip;\r\n        delete this._tooltip\r\n    },\r\n    _ensureTooltipIsCentered: function(value, previousValue) {\r\n        if (typeUtils.isDefined(value) && typeUtils.isDefined(previousValue) && value.toString().length !== previousValue.toString().length) {\r\n            this._centeredTooltipPosition()\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"tooltipFormat\":\r\n                this._renderValue();\r\n                break;\r\n            case \"value\":\r\n                this._renderValue();\r\n                var value = this._getFormattedValue(args.value);\r\n                var previousValue = this._getFormattedValue(args.previousValue);\r\n                this._ensureTooltipIsCentered(value, previousValue);\r\n                this.setAria(\"valuenow\", args.value);\r\n                break;\r\n            case \"tooltipEnabled\":\r\n                this._renderTooltip();\r\n                break;\r\n            case \"tooltipPosition\":\r\n                this._renderTooltipPosition();\r\n                this._centeredTooltipPosition();\r\n                break;\r\n            case \"tooltipShowMode\":\r\n                this._updateTooltip();\r\n                break;\r\n            case \"tooltipFitIn\":\r\n                this._fitTooltip();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    fitTooltipPosition: function() {\r\n        this._fitTooltip()\r\n    },\r\n    updateTooltip: function() {\r\n        if (!this._createTooltip()) {\r\n            return\r\n        }\r\n        this._renderTooltipPosition();\r\n        this._renderValue();\r\n        this._centeredTooltipPosition()\r\n    },\r\n    repaint: function() {\r\n        this._renderTooltipPosition();\r\n        this._centeredTooltipPosition();\r\n        if (this._tooltip) {\r\n            this._tooltip._visibilityChanged(true)\r\n        }\r\n    }\r\n});\r\nmodule.exports = SliderHandle;\r\n"]},"metadata":{},"sourceType":"script"}