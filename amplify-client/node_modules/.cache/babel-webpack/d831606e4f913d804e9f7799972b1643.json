{"ast":null,"code":"/**\r\n * DevExtreme (viz/series/points/bubble_point.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar extend = require(\"../../../core/utils/extend\").extend;\n\nvar symbolPoint = require(\"./symbol_point\");\n\nvar _extend = extend;\nvar MIN_BUBBLE_HEIGHT = 20;\nmodule.exports = _extend({}, symbolPoint, {\n  correctCoordinates: function correctCoordinates(diameter) {\n    this.bubbleSize = diameter / 2;\n  },\n  _drawMarker: function _drawMarker(renderer, group, animationEnabled) {\n    var that = this;\n\n    var attr = _extend({\n      translateX: that.x,\n      translateY: that.y\n    }, that._getStyle());\n\n    that.graphic = renderer.circle(0, 0, animationEnabled ? 0 : that.bubbleSize).smartAttr(attr).data({\n      \"chart-data-point\": that\n    }).append(group);\n  },\n  getTooltipParams: function getTooltipParams(location) {\n    var that = this;\n    var graphic = that.graphic;\n    var height;\n\n    if (!graphic) {\n      return;\n    }\n\n    height = graphic.getBBox().height;\n    return {\n      x: that.x,\n      y: that.y,\n      offset: height < MIN_BUBBLE_HEIGHT || \"edge\" === location ? height / 2 : 0\n    };\n  },\n  _getLabelFormatObject: function _getLabelFormatObject() {\n    var formatObject = symbolPoint._getLabelFormatObject.call(this);\n\n    formatObject.size = this.initialSize;\n    return formatObject;\n  },\n  _updateData: function _updateData(data) {\n    symbolPoint._updateData.call(this, data);\n\n    this.size = this.initialSize = data.size;\n  },\n  _getGraphicBBox: function _getGraphicBBox() {\n    var that = this;\n    return that._getSymbolBBox(that.x, that.y, that.bubbleSize);\n  },\n  _updateMarker: function _updateMarker(animationEnabled, style) {\n    var that = this;\n\n    if (!animationEnabled) {\n      style = _extend({\n        r: that.bubbleSize,\n        translateX: that.x,\n        translateY: that.y\n      }, style);\n    }\n\n    that.graphic.smartAttr(style);\n  },\n  _getFormatObject: function _getFormatObject(tooltip) {\n    var formatObject = symbolPoint._getFormatObject.call(this, tooltip);\n\n    formatObject.sizeText = tooltip.formatValue(this.initialSize);\n    return formatObject;\n  },\n  _storeTrackerR: function _storeTrackerR() {\n    return this.bubbleSize;\n  },\n  _getLabelCoords: function _getLabelCoords(label) {\n    var coords;\n\n    if (\"inside\" === label.getLayoutOptions().position) {\n      coords = this._getLabelCoordOfPosition(label, \"inside\");\n    } else {\n      coords = symbolPoint._getLabelCoords.call(this, label);\n    }\n\n    return coords;\n  }\n});","map":null,"metadata":{},"sourceType":"script"}