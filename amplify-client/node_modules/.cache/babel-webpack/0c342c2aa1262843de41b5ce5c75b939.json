{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/title.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _Number = Number;\n\nvar _isString = require(\"../../core/utils/type\").isString;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar _patchFontOptions = require(\"./utils\").patchFontOptions;\n\nvar parseHorizontalAlignment = require(\"./utils\").enumParser([\"left\", \"center\", \"right\"]);\n\nvar parseVerticalAlignment = require(\"./utils\").enumParser([\"top\", \"bottom\"]);\n\nvar DEFAULT_MARGIN = 10;\n\nfunction hasText(text) {\n  return !!(text && String(text).length > 0);\n}\n\nfunction processTitleLength(elem, text, width, options, placeholderSize) {\n  if (elem.attr({\n    text: text\n  }).setMaxSize(width, placeholderSize, options).textChanged) {\n    elem.setTitle(text);\n  }\n}\n\nfunction pickMarginValue(value) {\n  return value >= 0 ? _Number(value) : DEFAULT_MARGIN;\n}\n\nfunction validateMargin(margin) {\n  var result;\n\n  if (margin >= 0) {\n    result = {\n      left: _Number(margin),\n      top: _Number(margin),\n      right: _Number(margin),\n      bottom: _Number(margin)\n    };\n  } else {\n    margin = margin || {};\n    result = {\n      left: pickMarginValue(margin.left),\n      top: pickMarginValue(margin.top),\n      right: pickMarginValue(margin.right),\n      bottom: pickMarginValue(margin.bottom)\n    };\n  }\n\n  return result;\n}\n\nfunction checkRect(rect, boundingRect) {\n  return rect[2] - rect[0] < boundingRect.width || rect[3] - rect[1] < boundingRect.height;\n}\n\nfunction Title(params) {\n  this._params = params;\n  this._group = params.renderer.g().attr({\n    \"class\": params.cssClass\n  }).linkOn(params.root || params.renderer.root, \"title\");\n  this._hasText = false;\n}\n\nextend(Title.prototype, require(\"./layout_element\").LayoutElement.prototype, {\n  dispose: function dispose() {\n    var that = this;\n\n    that._group.linkRemove();\n\n    that._group.linkOff();\n\n    if (that._titleElement) {\n      that._clipRect.dispose();\n\n      that._titleElement = that._subtitleElement = that._clipRect = null;\n    }\n\n    that._params = that._group = that._options = null;\n  },\n  _updateOptions: function _updateOptions(options) {\n    this._options = options;\n    this._options.horizontalAlignment = parseHorizontalAlignment(options.horizontalAlignment, \"center\");\n    this._options.verticalAlignment = parseVerticalAlignment(options.verticalAlignment, \"top\");\n    this._options.margin = validateMargin(options.margin);\n  },\n  _updateStructure: function _updateStructure() {\n    var that = this;\n    var renderer = that._params.renderer;\n    var group = that._group;\n    var options = that._options;\n    var align = options.horizontalAlignment;\n\n    if (!that._titleElement) {\n      that._titleElement = renderer.text().append(group);\n      that._subtitleElement = renderer.text();\n      that._clipRect = renderer.clipRect();\n      group.attr({\n        \"clip-path\": that._clipRect.id\n      });\n    }\n\n    that._titleElement.attr({\n      align: align,\n      \"class\": options.cssClass\n    });\n\n    that._subtitleElement.attr({\n      align: align,\n      \"class\": options.subtitle.cssClass\n    });\n\n    group.linkAppend();\n    hasText(options.subtitle.text) ? that._subtitleElement.append(group) : that._subtitleElement.remove();\n  },\n  _updateTexts: function _updateTexts() {\n    var that = this;\n    var options = that._options;\n    var subtitleOptions = options.subtitle;\n    var titleElement = that._titleElement;\n    var subtitleElement = that._subtitleElement;\n    var testText = \"A\";\n    var titleBox;\n    var y;\n    titleElement.attr({\n      text: testText,\n      y: 0\n    }).css(_patchFontOptions(options.font));\n    titleBox = titleElement.getBBox();\n    that._baseLineCorrection = titleBox.height + titleBox.y;\n    titleElement.attr({\n      text: options.text\n    });\n    titleBox = titleElement.getBBox();\n    y = -titleBox.y;\n    titleElement.attr({\n      y: y\n    });\n\n    if (hasText(subtitleOptions.text)) {\n      subtitleElement.attr({\n        text: subtitleOptions.text,\n        y: 0\n      }).css(_patchFontOptions(subtitleOptions.font));\n    }\n  },\n  _shiftSubtitle: function _shiftSubtitle() {\n    var that = this;\n\n    var titleBox = that._titleElement.getBBox();\n\n    var element = that._subtitleElement;\n    var offset = that._options.subtitle.offset;\n    element.move(0, titleBox.y + titleBox.height - element.getBBox().y - offset);\n  },\n  _updateBoundingRectAlignment: function _updateBoundingRectAlignment() {\n    var boundingRect = this._boundingRect;\n    var options = this._options;\n    boundingRect.verticalAlignment = options.verticalAlignment;\n    boundingRect.horizontalAlignment = options.horizontalAlignment;\n    boundingRect.cutLayoutSide = options.verticalAlignment;\n    boundingRect.cutSide = \"vertical\";\n    boundingRect.position = {\n      horizontal: options.horizontalAlignment,\n      vertical: options.verticalAlignment\n    };\n  },\n  hasText: function hasText() {\n    return this._hasText;\n  },\n  update: function update(themeOptions, userOptions) {\n    var that = this;\n    var options = extend(true, {}, themeOptions, processTitleOptions(userOptions));\n\n    var _hasText = hasText(options.text);\n\n    var isLayoutChanged = _hasText || _hasText !== that._hasText;\n    that._baseLineCorrection = 0;\n\n    that._updateOptions(options);\n\n    that._boundingRect = {};\n\n    if (_hasText) {\n      that._updateStructure();\n\n      that._updateTexts();\n    } else {\n      that._group.linkRemove();\n    }\n\n    that._updateBoundingRect();\n\n    that._updateBoundingRectAlignment();\n\n    that._hasText = _hasText;\n    return isLayoutChanged;\n  },\n  draw: function draw(width, height) {\n    var that = this;\n\n    if (that._hasText) {\n      that._group.linkAppend();\n\n      that._correctTitleLength(width);\n\n      if (that._group.getBBox().height > height) {\n        this.freeSpace();\n      }\n    }\n\n    return that;\n  },\n  probeDraw: function probeDraw(width, height) {\n    this.draw(width, height);\n    return this;\n  },\n  _correctTitleLength: function _correctTitleLength(width) {\n    var that = this;\n    var options = that._options;\n    var margin = options.margin;\n    var maxWidth = width - margin.left - margin.right;\n    var placeholderSize = options.placeholderSize;\n    processTitleLength(that._titleElement, options.text, maxWidth, options, placeholderSize);\n\n    if (that._subtitleElement) {\n      if (_Number(placeholderSize) > 0) {\n        placeholderSize -= that._titleElement.getBBox().height;\n      }\n\n      processTitleLength(that._subtitleElement, options.subtitle.text, maxWidth, options.subtitle, placeholderSize);\n\n      that._shiftSubtitle();\n    }\n\n    that._updateBoundingRect();\n\n    var _this$getCorrectedLay = this.getCorrectedLayoutOptions(),\n        x = _this$getCorrectedLay.x,\n        y = _this$getCorrectedLay.y,\n        height = _this$getCorrectedLay.height;\n\n    this._clipRect.attr({\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    });\n  },\n  getLayoutOptions: function getLayoutOptions() {\n    return this._boundingRect || null;\n  },\n  shift: function shift(x, y) {\n    var that = this;\n    var box = that.getLayoutOptions();\n\n    that._group.move(x - box.x, y - box.y);\n\n    return that;\n  },\n  _updateBoundingRect: function _updateBoundingRect() {\n    var that = this;\n    var options = that._options;\n    var margin = options.margin;\n    var boundingRect = that._boundingRect;\n    var box;\n    box = that._hasText ? that._group.getBBox() : {\n      width: 0,\n      height: 0,\n      x: 0,\n      y: 0,\n      isEmpty: true\n    };\n\n    if (!box.isEmpty) {\n      box.height += margin.top + margin.bottom - that._baseLineCorrection;\n      box.width += margin.left + margin.right;\n      box.x -= margin.left;\n      box.y += that._baseLineCorrection - margin.top;\n    }\n\n    if (options.placeholderSize > 0) {\n      box.height = options.placeholderSize;\n    }\n\n    boundingRect.height = box.height;\n    boundingRect.width = box.width;\n    boundingRect.x = box.x;\n    boundingRect.y = box.y;\n  },\n  getCorrectedLayoutOptions: function getCorrectedLayoutOptions() {\n    var srcBox = this.getLayoutOptions();\n    var correction = this._baseLineCorrection;\n    return extend({}, srcBox, {\n      y: srcBox.y - correction,\n      height: srcBox.height + correction\n    });\n  },\n  layoutOptions: function layoutOptions() {\n    if (!this._hasText) {\n      return null;\n    }\n\n    return {\n      horizontalAlignment: this._boundingRect.horizontalAlignment,\n      verticalAlignment: this._boundingRect.verticalAlignment,\n      priority: 0\n    };\n  },\n  measure: function measure(size) {\n    this.draw(size[0], size[1]);\n    return [this._boundingRect.width, this._boundingRect.height];\n  },\n  move: function move(rect, fitRect) {\n    var boundingRect = this._boundingRect;\n\n    if (checkRect(rect, boundingRect)) {\n      this.shift(fitRect[0], fitRect[1]);\n    } else {\n      this.shift(Math.round(rect[0]), Math.round(rect[1]));\n    }\n  },\n  freeSpace: function freeSpace() {\n    var that = this;\n\n    that._params.incidentOccurred(\"W2103\");\n\n    that._group.linkRemove();\n\n    that._boundingRect.width = that._boundingRect.height = 0;\n  },\n  getOptions: function getOptions() {\n    return this._options;\n  },\n  changeLink: function changeLink(root) {\n    this._group.linkRemove();\n\n    this._group.linkOn(root, \"title\");\n  }\n});\nexports.Title = Title;\n\nfunction processTitleOptions(options) {\n  var newOptions = _isString(options) ? {\n    text: options\n  } : options || {};\n  newOptions.subtitle = _isString(newOptions.subtitle) ? {\n    text: newOptions.subtitle\n  } : newOptions.subtitle || {};\n  return newOptions;\n}\n\nexports.plugin = {\n  name: \"title\",\n  init: function init() {\n    var that = this;\n    that._title = new exports.Title({\n      renderer: that._renderer,\n      cssClass: that._rootClassPrefix + \"-title\",\n      incidentOccurred: that._incidentOccurred\n    });\n\n    that._layout.add(that._title);\n  },\n  dispose: function dispose() {\n    this._title.dispose();\n\n    this._title = null;\n  },\n  customize: function customize(constructor) {\n    constructor.addChange({\n      code: \"TITLE\",\n      handler: function handler() {\n        if (this._title.update(this._themeManager.theme(\"title\"), this.option(\"title\"))) {\n          this._change([\"LAYOUT\"]);\n        }\n      },\n      isThemeDependent: true,\n      option: \"title\",\n      isOptionChange: true\n    });\n  },\n  fontFields: [\"title.font\", \"title.subtitle.font\"]\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/viz/core/title.js"],"names":["_Number","Number","_isString","require","isString","extend","_patchFontOptions","patchFontOptions","parseHorizontalAlignment","enumParser","parseVerticalAlignment","DEFAULT_MARGIN","hasText","text","String","length","processTitleLength","elem","width","options","placeholderSize","attr","setMaxSize","textChanged","setTitle","pickMarginValue","value","validateMargin","margin","result","left","top","right","bottom","checkRect","rect","boundingRect","height","Title","params","_params","_group","renderer","g","cssClass","linkOn","root","_hasText","prototype","LayoutElement","dispose","that","linkRemove","linkOff","_titleElement","_clipRect","_subtitleElement","_options","_updateOptions","horizontalAlignment","verticalAlignment","_updateStructure","group","align","append","clipRect","id","subtitle","linkAppend","remove","_updateTexts","subtitleOptions","titleElement","subtitleElement","testText","titleBox","y","css","font","getBBox","_baseLineCorrection","_shiftSubtitle","element","offset","move","_updateBoundingRectAlignment","_boundingRect","cutLayoutSide","cutSide","position","horizontal","vertical","update","themeOptions","userOptions","processTitleOptions","isLayoutChanged","_updateBoundingRect","draw","_correctTitleLength","freeSpace","probeDraw","maxWidth","_this$getCorrectedLay","getCorrectedLayoutOptions","x","getLayoutOptions","shift","box","isEmpty","srcBox","correction","layoutOptions","priority","measure","size","fitRect","Math","round","incidentOccurred","getOptions","changeLink","exports","newOptions","plugin","name","init","_title","_renderer","_rootClassPrefix","_incidentOccurred","_layout","add","customize","constructor","addChange","code","handler","_themeManager","theme","option","_change","isThemeDependent","isOptionChange","fontFields"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/core/title.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _Number = Number;\r\nvar _isString = require(\"../../core/utils/type\").isString;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar _patchFontOptions = require(\"./utils\").patchFontOptions;\r\nvar parseHorizontalAlignment = require(\"./utils\").enumParser([\"left\", \"center\", \"right\"]);\r\nvar parseVerticalAlignment = require(\"./utils\").enumParser([\"top\", \"bottom\"]);\r\nvar DEFAULT_MARGIN = 10;\r\n\r\nfunction hasText(text) {\r\n    return !!(text && String(text).length > 0)\r\n}\r\n\r\nfunction processTitleLength(elem, text, width, options, placeholderSize) {\r\n    if (elem.attr({\r\n            text: text\r\n        }).setMaxSize(width, placeholderSize, options).textChanged) {\r\n        elem.setTitle(text)\r\n    }\r\n}\r\n\r\nfunction pickMarginValue(value) {\r\n    return value >= 0 ? _Number(value) : DEFAULT_MARGIN\r\n}\r\n\r\nfunction validateMargin(margin) {\r\n    var result;\r\n    if (margin >= 0) {\r\n        result = {\r\n            left: _Number(margin),\r\n            top: _Number(margin),\r\n            right: _Number(margin),\r\n            bottom: _Number(margin)\r\n        }\r\n    } else {\r\n        margin = margin || {};\r\n        result = {\r\n            left: pickMarginValue(margin.left),\r\n            top: pickMarginValue(margin.top),\r\n            right: pickMarginValue(margin.right),\r\n            bottom: pickMarginValue(margin.bottom)\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\nfunction checkRect(rect, boundingRect) {\r\n    return rect[2] - rect[0] < boundingRect.width || rect[3] - rect[1] < boundingRect.height\r\n}\r\n\r\nfunction Title(params) {\r\n    this._params = params;\r\n    this._group = params.renderer.g().attr({\r\n        \"class\": params.cssClass\r\n    }).linkOn(params.root || params.renderer.root, \"title\");\r\n    this._hasText = false\r\n}\r\nextend(Title.prototype, require(\"./layout_element\").LayoutElement.prototype, {\r\n    dispose: function() {\r\n        var that = this;\r\n        that._group.linkRemove();\r\n        that._group.linkOff();\r\n        if (that._titleElement) {\r\n            that._clipRect.dispose();\r\n            that._titleElement = that._subtitleElement = that._clipRect = null\r\n        }\r\n        that._params = that._group = that._options = null\r\n    },\r\n    _updateOptions: function(options) {\r\n        this._options = options;\r\n        this._options.horizontalAlignment = parseHorizontalAlignment(options.horizontalAlignment, \"center\");\r\n        this._options.verticalAlignment = parseVerticalAlignment(options.verticalAlignment, \"top\");\r\n        this._options.margin = validateMargin(options.margin)\r\n    },\r\n    _updateStructure: function() {\r\n        var that = this;\r\n        var renderer = that._params.renderer;\r\n        var group = that._group;\r\n        var options = that._options;\r\n        var align = options.horizontalAlignment;\r\n        if (!that._titleElement) {\r\n            that._titleElement = renderer.text().append(group);\r\n            that._subtitleElement = renderer.text();\r\n            that._clipRect = renderer.clipRect();\r\n            group.attr({\r\n                \"clip-path\": that._clipRect.id\r\n            })\r\n        }\r\n        that._titleElement.attr({\r\n            align: align,\r\n            \"class\": options.cssClass\r\n        });\r\n        that._subtitleElement.attr({\r\n            align: align,\r\n            \"class\": options.subtitle.cssClass\r\n        });\r\n        group.linkAppend();\r\n        hasText(options.subtitle.text) ? that._subtitleElement.append(group) : that._subtitleElement.remove()\r\n    },\r\n    _updateTexts: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var subtitleOptions = options.subtitle;\r\n        var titleElement = that._titleElement;\r\n        var subtitleElement = that._subtitleElement;\r\n        var testText = \"A\";\r\n        var titleBox;\r\n        var y;\r\n        titleElement.attr({\r\n            text: testText,\r\n            y: 0\r\n        }).css(_patchFontOptions(options.font));\r\n        titleBox = titleElement.getBBox();\r\n        that._baseLineCorrection = titleBox.height + titleBox.y;\r\n        titleElement.attr({\r\n            text: options.text\r\n        });\r\n        titleBox = titleElement.getBBox();\r\n        y = -titleBox.y;\r\n        titleElement.attr({\r\n            y: y\r\n        });\r\n        if (hasText(subtitleOptions.text)) {\r\n            subtitleElement.attr({\r\n                text: subtitleOptions.text,\r\n                y: 0\r\n            }).css(_patchFontOptions(subtitleOptions.font))\r\n        }\r\n    },\r\n    _shiftSubtitle: function() {\r\n        var that = this;\r\n        var titleBox = that._titleElement.getBBox();\r\n        var element = that._subtitleElement;\r\n        var offset = that._options.subtitle.offset;\r\n        element.move(0, titleBox.y + titleBox.height - element.getBBox().y - offset)\r\n    },\r\n    _updateBoundingRectAlignment: function() {\r\n        var boundingRect = this._boundingRect;\r\n        var options = this._options;\r\n        boundingRect.verticalAlignment = options.verticalAlignment;\r\n        boundingRect.horizontalAlignment = options.horizontalAlignment;\r\n        boundingRect.cutLayoutSide = options.verticalAlignment;\r\n        boundingRect.cutSide = \"vertical\";\r\n        boundingRect.position = {\r\n            horizontal: options.horizontalAlignment,\r\n            vertical: options.verticalAlignment\r\n        }\r\n    },\r\n    hasText: function() {\r\n        return this._hasText\r\n    },\r\n    update: function(themeOptions, userOptions) {\r\n        var that = this;\r\n        var options = extend(true, {}, themeOptions, processTitleOptions(userOptions));\r\n        var _hasText = hasText(options.text);\r\n        var isLayoutChanged = _hasText || _hasText !== that._hasText;\r\n        that._baseLineCorrection = 0;\r\n        that._updateOptions(options);\r\n        that._boundingRect = {};\r\n        if (_hasText) {\r\n            that._updateStructure();\r\n            that._updateTexts()\r\n        } else {\r\n            that._group.linkRemove()\r\n        }\r\n        that._updateBoundingRect();\r\n        that._updateBoundingRectAlignment();\r\n        that._hasText = _hasText;\r\n        return isLayoutChanged\r\n    },\r\n    draw: function(width, height) {\r\n        var that = this;\r\n        if (that._hasText) {\r\n            that._group.linkAppend();\r\n            that._correctTitleLength(width);\r\n            if (that._group.getBBox().height > height) {\r\n                this.freeSpace()\r\n            }\r\n        }\r\n        return that\r\n    },\r\n    probeDraw: function(width, height) {\r\n        this.draw(width, height);\r\n        return this\r\n    },\r\n    _correctTitleLength: function(width) {\r\n        var that = this;\r\n        var options = that._options;\r\n        var margin = options.margin;\r\n        var maxWidth = width - margin.left - margin.right;\r\n        var placeholderSize = options.placeholderSize;\r\n        processTitleLength(that._titleElement, options.text, maxWidth, options, placeholderSize);\r\n        if (that._subtitleElement) {\r\n            if (_Number(placeholderSize) > 0) {\r\n                placeholderSize -= that._titleElement.getBBox().height\r\n            }\r\n            processTitleLength(that._subtitleElement, options.subtitle.text, maxWidth, options.subtitle, placeholderSize);\r\n            that._shiftSubtitle()\r\n        }\r\n        that._updateBoundingRect();\r\n        var _this$getCorrectedLay = this.getCorrectedLayoutOptions(),\r\n            x = _this$getCorrectedLay.x,\r\n            y = _this$getCorrectedLay.y,\r\n            height = _this$getCorrectedLay.height;\r\n        this._clipRect.attr({\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height\r\n        })\r\n    },\r\n    getLayoutOptions: function() {\r\n        return this._boundingRect || null\r\n    },\r\n    shift: function(x, y) {\r\n        var that = this;\r\n        var box = that.getLayoutOptions();\r\n        that._group.move(x - box.x, y - box.y);\r\n        return that\r\n    },\r\n    _updateBoundingRect: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var margin = options.margin;\r\n        var boundingRect = that._boundingRect;\r\n        var box;\r\n        box = that._hasText ? that._group.getBBox() : {\r\n            width: 0,\r\n            height: 0,\r\n            x: 0,\r\n            y: 0,\r\n            isEmpty: true\r\n        };\r\n        if (!box.isEmpty) {\r\n            box.height += margin.top + margin.bottom - that._baseLineCorrection;\r\n            box.width += margin.left + margin.right;\r\n            box.x -= margin.left;\r\n            box.y += that._baseLineCorrection - margin.top\r\n        }\r\n        if (options.placeholderSize > 0) {\r\n            box.height = options.placeholderSize\r\n        }\r\n        boundingRect.height = box.height;\r\n        boundingRect.width = box.width;\r\n        boundingRect.x = box.x;\r\n        boundingRect.y = box.y\r\n    },\r\n    getCorrectedLayoutOptions: function() {\r\n        var srcBox = this.getLayoutOptions();\r\n        var correction = this._baseLineCorrection;\r\n        return extend({}, srcBox, {\r\n            y: srcBox.y - correction,\r\n            height: srcBox.height + correction\r\n        })\r\n    },\r\n    layoutOptions: function() {\r\n        if (!this._hasText) {\r\n            return null\r\n        }\r\n        return {\r\n            horizontalAlignment: this._boundingRect.horizontalAlignment,\r\n            verticalAlignment: this._boundingRect.verticalAlignment,\r\n            priority: 0\r\n        }\r\n    },\r\n    measure: function(size) {\r\n        this.draw(size[0], size[1]);\r\n        return [this._boundingRect.width, this._boundingRect.height]\r\n    },\r\n    move: function(rect, fitRect) {\r\n        var boundingRect = this._boundingRect;\r\n        if (checkRect(rect, boundingRect)) {\r\n            this.shift(fitRect[0], fitRect[1])\r\n        } else {\r\n            this.shift(Math.round(rect[0]), Math.round(rect[1]))\r\n        }\r\n    },\r\n    freeSpace: function() {\r\n        var that = this;\r\n        that._params.incidentOccurred(\"W2103\");\r\n        that._group.linkRemove();\r\n        that._boundingRect.width = that._boundingRect.height = 0\r\n    },\r\n    getOptions: function() {\r\n        return this._options\r\n    },\r\n    changeLink: function(root) {\r\n        this._group.linkRemove();\r\n        this._group.linkOn(root, \"title\")\r\n    }\r\n});\r\nexports.Title = Title;\r\n\r\nfunction processTitleOptions(options) {\r\n    var newOptions = _isString(options) ? {\r\n        text: options\r\n    } : options || {};\r\n    newOptions.subtitle = _isString(newOptions.subtitle) ? {\r\n        text: newOptions.subtitle\r\n    } : newOptions.subtitle || {};\r\n    return newOptions\r\n}\r\nexports.plugin = {\r\n    name: \"title\",\r\n    init: function() {\r\n        var that = this;\r\n        that._title = new exports.Title({\r\n            renderer: that._renderer,\r\n            cssClass: that._rootClassPrefix + \"-title\",\r\n            incidentOccurred: that._incidentOccurred\r\n        });\r\n        that._layout.add(that._title)\r\n    },\r\n    dispose: function() {\r\n        this._title.dispose();\r\n        this._title = null\r\n    },\r\n    customize: function(constructor) {\r\n        constructor.addChange({\r\n            code: \"TITLE\",\r\n            handler: function() {\r\n                if (this._title.update(this._themeManager.theme(\"title\"), this.option(\"title\"))) {\r\n                    this._change([\"LAYOUT\"])\r\n                }\r\n            },\r\n            isThemeDependent: true,\r\n            option: \"title\",\r\n            isOptionChange: true\r\n        })\r\n    },\r\n    fontFields: [\"title.font\", \"title.subtitle.font\"]\r\n};\r\n"]},"metadata":{},"sourceType":"script"}