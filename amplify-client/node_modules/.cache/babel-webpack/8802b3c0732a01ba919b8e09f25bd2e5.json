{"ast":null,"code":"/**\r\n * DevExtreme (viz/sparklines/base_sparkline.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar eventsEngine = require(\"../../events/core/events_engine\");\n\nvar domAdapter = require(\"../../core/dom_adapter\");\n\nvar ready = require(\"../../core/utils/ready_callbacks\").add;\n\nvar isFunction = require(\"../../core/utils/type\").isFunction;\n\nvar BaseWidget = require(\"../core/base_widget\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar DEFAULT_LINE_SPACING = 2;\nvar DEFAULT_EVENTS_DELAY = 100;\n\nvar eventUtils = require(\"../../events/utils\");\n\nvar translator2DModule = require(\"../translators/translator2d\");\n\nvar _extend = extend;\n\nvar _noop = require(\"../../core/utils/common\").noop;\n\nfunction generateDefaultCustomizeTooltipCallback(fontOptions, rtlEnabled) {\n  var lineSpacing = fontOptions.lineSpacing;\n  var lineHeight = (void 0 !== lineSpacing && null !== lineSpacing ? lineSpacing : DEFAULT_LINE_SPACING) + fontOptions.size;\n  return function (customizeObject) {\n    var html = \"\";\n    var vt = customizeObject.valueText;\n\n    for (var i = 0; i < vt.length; i += 2) {\n      html += \"<tr><td>\" + vt[i] + \"</td><td style='width: 15px'></td><td style='text-align: \" + (rtlEnabled ? \"left\" : \"right\") + \"'>\" + vt[i + 1] + \"</td></tr>\";\n    }\n\n    return {\n      html: \"<table style='border-spacing:0px; line-height: \" + lineHeight + \"px'>\" + html + \"</table>\"\n    };\n  };\n}\n\nfunction generateCustomizeTooltipCallback(customizeTooltip, fontOptions, rtlEnabled) {\n  var defaultCustomizeTooltip = generateDefaultCustomizeTooltipCallback(fontOptions, rtlEnabled);\n\n  if (isFunction(customizeTooltip)) {\n    return function (customizeObject) {\n      var res = customizeTooltip.call(customizeObject, customizeObject);\n\n      if (!(\"html\" in res) && !(\"text\" in res)) {\n        _extend(res, defaultCustomizeTooltip.call(customizeObject, customizeObject));\n      }\n\n      return res;\n    };\n  } else {\n    return defaultCustomizeTooltip;\n  }\n}\n\nfunction createAxis(isHorizontal) {\n  var translator = new translator2DModule.Translator2D({}, {}, {\n    shiftZeroValue: !isHorizontal,\n    isHorizontal: !!isHorizontal\n  });\n  return {\n    getTranslator: function getTranslator() {\n      return translator;\n    },\n    update: function update(range, canvas, options) {\n      translator.update(range, canvas, options);\n    },\n    getVisibleArea: function getVisibleArea() {\n      var visibleArea = translator.getCanvasVisibleArea();\n      return [visibleArea.min, visibleArea.max];\n    },\n    visualRange: _noop,\n    calculateInterval: _noop,\n    getMarginOptions: function getMarginOptions() {\n      return {};\n    }\n  };\n}\n\nvar BaseSparkline = BaseWidget.inherit({\n  _getLayoutItems: _noop,\n  _useLinks: false,\n  _themeDependentChanges: [\"OPTIONS\"],\n  _initCore: function _initCore() {\n    var that = this;\n    that._tooltipTracker = that._renderer.root;\n\n    that._tooltipTracker.attr({\n      \"pointer-events\": \"visible\"\n    });\n\n    that._createHtmlElements();\n\n    that._initTooltipEvents();\n\n    that._argumentAxis = createAxis(true);\n    that._valueAxis = createAxis();\n  },\n  _getDefaultSize: function _getDefaultSize() {\n    return this._defaultSize;\n  },\n  _disposeCore: function _disposeCore() {\n    this._disposeWidgetElements();\n\n    this._disposeTooltipEvents();\n\n    this._ranges = null;\n  },\n  _optionChangesOrder: [\"OPTIONS\"],\n  _change_OPTIONS: function _change_OPTIONS() {\n    this._prepareOptions();\n\n    this._change([\"UPDATE\"]);\n  },\n  _customChangesOrder: [\"UPDATE\"],\n  _change_UPDATE: function _change_UPDATE() {\n    this._update();\n  },\n  _update: function _update() {\n    var that = this;\n\n    if (that._tooltipShown) {\n      that._tooltipShown = false;\n\n      that._tooltip.hide();\n    }\n\n    that._cleanWidgetElements();\n\n    that._updateWidgetElements();\n\n    that._drawWidgetElements();\n  },\n  _updateWidgetElements: function _updateWidgetElements() {\n    var canvas = this._getCorrectCanvas();\n\n    this._updateRange();\n\n    this._argumentAxis.update(this._ranges.arg, canvas, this._getStick());\n\n    this._valueAxis.update(this._ranges.val, canvas);\n  },\n  _getStick: function _getStick() {},\n  _applySize: function _applySize(rect) {\n    this._allOptions.size = {\n      width: rect[2] - rect[0],\n      height: rect[3] - rect[1]\n    };\n\n    this._change([\"UPDATE\"]);\n  },\n  _setupResizeHandler: _noop,\n  _prepareOptions: function _prepareOptions() {\n    return _extend(true, {}, this._themeManager.theme(), this.option());\n  },\n  _getTooltipCoords: function _getTooltipCoords() {\n    var canvas = this._canvas;\n\n    var rootOffset = this._renderer.getRootOffset();\n\n    return {\n      x: canvas.width / 2 + rootOffset.left,\n      y: canvas.height / 2 + rootOffset.top\n    };\n  },\n  _initTooltipEvents: function _initTooltipEvents() {\n    var that = this;\n    var data = {\n      widget: that\n    };\n\n    that._showTooltipCallback = function () {\n      var tooltip;\n\n      if (!that._tooltipShown) {\n        that._tooltipShown = true;\n        tooltip = that._getTooltip();\n        tooltip.isEnabled() && that._tooltip.show(that._getTooltipData(), that._getTooltipCoords(), {});\n      }\n    };\n\n    that._hideTooltipCallback = function () {\n      that._hideTooltipTimeout = null;\n\n      if (that._tooltipShown) {\n        that._tooltipShown = false;\n\n        that._tooltip.hide();\n      }\n    };\n\n    that._disposeCallbacks = function () {\n      that = that._showTooltipCallback = that._hideTooltipCallback = that._disposeCallbacks = null;\n    };\n\n    that._tooltipTracker.on(mouseEvents, data).on(touchEvents, data);\n\n    that._tooltipTracker.on(menuEvents);\n  },\n  _stopCurrentHandling: function _stopCurrentHandling() {\n    this._hideTooltip();\n  },\n  _disposeTooltipEvents: function _disposeTooltipEvents() {\n    var that = this;\n    clearTimeout(that._hideTooltipTimeout);\n\n    that._tooltipTracker.off();\n\n    that._disposeCallbacks();\n  },\n  _getTooltip: function _getTooltip() {\n    var that = this;\n\n    if (!that._tooltip) {\n      _initTooltip.apply(this, arguments);\n\n      that._setTooltipRendererOptions(that._tooltipRendererOptions);\n\n      that._tooltipRendererOptions = null;\n\n      that._setTooltipOptions();\n    }\n\n    return that._tooltip;\n  }\n});\nvar menuEvents = {\n  \"contextmenu.sparkline-tooltip\": function contextmenuSparklineTooltip(event) {\n    if (eventUtils.isTouchEvent(event) || eventUtils.isPointerEvent(event)) {\n      event.preventDefault();\n    }\n  },\n  \"MSHoldVisual.sparkline-tooltip\": function MSHoldVisualSparklineTooltip(event) {\n    event.preventDefault();\n  }\n};\nvar mouseEvents = {\n  \"mouseover.sparkline-tooltip\": function mouseoverSparklineTooltip(event) {\n    isPointerDownCalled = false;\n    var widget = event.data.widget;\n    widget._x = event.pageX;\n    widget._y = event.pageY;\n\n    widget._tooltipTracker.off(mouseMoveEvents).on(mouseMoveEvents, event.data);\n\n    widget._showTooltip();\n  },\n  \"mouseout.sparkline-tooltip\": function mouseoutSparklineTooltip(event) {\n    if (isPointerDownCalled) {\n      return;\n    }\n\n    var widget = event.data.widget;\n\n    widget._tooltipTracker.off(mouseMoveEvents);\n\n    widget._hideTooltip(DEFAULT_EVENTS_DELAY);\n  }\n};\nvar mouseMoveEvents = {\n  \"mousemove.sparkline-tooltip\": function mousemoveSparklineTooltip(event) {\n    var widget = event.data.widget;\n    widget._x = event.pageX;\n    widget._y = event.pageY;\n\n    widget._showTooltip();\n  }\n};\nvar active_touch_tooltip_widget = null;\n\nvar touchStartTooltipProcessing = function touchStartTooltipProcessing(event) {\n  var widget = active_touch_tooltip_widget;\n\n  if (widget && widget !== event.data.widget) {\n    widget._hideTooltip(DEFAULT_EVENTS_DELAY);\n  }\n\n  widget = active_touch_tooltip_widget = event.data.widget;\n\n  widget._showTooltip();\n\n  widget._touch = true;\n};\n\nvar touchStartDocumentProcessing = function touchStartDocumentProcessing() {\n  var widget = active_touch_tooltip_widget;\n\n  if (widget) {\n    if (!widget._touch) {\n      widget._hideTooltip(DEFAULT_EVENTS_DELAY);\n\n      active_touch_tooltip_widget = null;\n    }\n\n    widget._touch = null;\n  }\n};\n\nvar touchEndDocumentProcessing = function touchEndDocumentProcessing() {\n  var widget = active_touch_tooltip_widget;\n\n  if (widget) {\n    widget._hideTooltip(DEFAULT_EVENTS_DELAY);\n\n    active_touch_tooltip_widget = null;\n  }\n};\n\nvar isPointerDownCalled = false;\nvar touchEvents = {\n  \"pointerdown.sparkline-tooltip\": touchStartTooltipProcessing,\n  \"touchstart.sparkline-tooltip\": touchStartTooltipProcessing\n};\nready(function () {\n  eventsEngine.subscribeGlobal(domAdapter.getDocument(), {\n    \"pointerdown.sparkline-tooltip\": function pointerdownSparklineTooltip() {\n      isPointerDownCalled = true;\n      touchStartDocumentProcessing();\n    },\n    \"touchstart.sparkline-tooltip\": touchStartDocumentProcessing,\n    \"pointerup.sparkline-tooltip\": touchEndDocumentProcessing,\n    \"touchend.sparkline-tooltip\": touchEndDocumentProcessing\n  });\n});\nmodule.exports = BaseSparkline;\nBaseSparkline.addPlugin(require(\"../core/tooltip\").plugin);\nvar _initTooltip = BaseSparkline.prototype._initTooltip;\nBaseSparkline.prototype._initTooltip = _noop;\nvar _disposeTooltip = BaseSparkline.prototype._disposeTooltip;\n\nBaseSparkline.prototype._disposeTooltip = function () {\n  if (this._tooltip) {\n    _disposeTooltip.apply(this, arguments);\n  }\n};\n\nBaseSparkline.prototype._setTooltipRendererOptions = function () {\n  var options = this._getRendererOptions();\n\n  if (this._tooltip) {\n    this._tooltip.setRendererOptions(options);\n  } else {\n    this._tooltipRendererOptions = options;\n  }\n};\n\nBaseSparkline.prototype._setTooltipOptions = function () {\n  var tooltip = this._tooltip;\n\n  var options = tooltip && this._getOption(\"tooltip\");\n\n  tooltip && tooltip.update(_extend({}, options, {\n    customizeTooltip: generateCustomizeTooltipCallback(options.customizeTooltip, options.font, this.option(\"rtlEnabled\")),\n    enabled: options.enabled && this._isTooltipEnabled()\n  }));\n};\n\nBaseSparkline.prototype._showTooltip = function () {\n  var that = this;\n  clearTimeout(that._hideTooltipTimeout);\n  that._hideTooltipTimeout = null;\n\n  that._showTooltipCallback();\n};\n\nBaseSparkline.prototype._hideTooltip = function (delay) {\n  var that = this;\n  clearTimeout(that._hideTooltipTimeout);\n\n  if (delay) {\n    that._hideTooltipTimeout = setTimeout(that._hideTooltipCallback, delay);\n  } else {\n    that._hideTooltipCallback();\n  }\n};\n\nvar exportPlugin = extend(true, {}, require(\"../core/export\").plugin, {\n  init: _noop,\n  dispose: _noop,\n  customize: null,\n  members: {\n    _getExportMenuOptions: null\n  }\n});\nBaseSparkline.addPlugin(exportPlugin);","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/viz/sparklines/base_sparkline.js"],"names":["eventsEngine","require","domAdapter","ready","add","isFunction","BaseWidget","extend","DEFAULT_LINE_SPACING","DEFAULT_EVENTS_DELAY","eventUtils","translator2DModule","_extend","_noop","noop","generateDefaultCustomizeTooltipCallback","fontOptions","rtlEnabled","lineSpacing","lineHeight","size","customizeObject","html","vt","valueText","i","length","generateCustomizeTooltipCallback","customizeTooltip","defaultCustomizeTooltip","res","call","createAxis","isHorizontal","translator","Translator2D","shiftZeroValue","getTranslator","update","range","canvas","options","getVisibleArea","visibleArea","getCanvasVisibleArea","min","max","visualRange","calculateInterval","getMarginOptions","BaseSparkline","inherit","_getLayoutItems","_useLinks","_themeDependentChanges","_initCore","that","_tooltipTracker","_renderer","root","attr","_createHtmlElements","_initTooltipEvents","_argumentAxis","_valueAxis","_getDefaultSize","_defaultSize","_disposeCore","_disposeWidgetElements","_disposeTooltipEvents","_ranges","_optionChangesOrder","_change_OPTIONS","_prepareOptions","_change","_customChangesOrder","_change_UPDATE","_update","_tooltipShown","_tooltip","hide","_cleanWidgetElements","_updateWidgetElements","_drawWidgetElements","_getCorrectCanvas","_updateRange","arg","_getStick","val","_applySize","rect","_allOptions","width","height","_setupResizeHandler","_themeManager","theme","option","_getTooltipCoords","_canvas","rootOffset","getRootOffset","x","left","y","top","data","widget","_showTooltipCallback","tooltip","_getTooltip","isEnabled","show","_getTooltipData","_hideTooltipCallback","_hideTooltipTimeout","_disposeCallbacks","on","mouseEvents","touchEvents","menuEvents","_stopCurrentHandling","_hideTooltip","clearTimeout","off","_initTooltip","apply","arguments","_setTooltipRendererOptions","_tooltipRendererOptions","_setTooltipOptions","event","isTouchEvent","isPointerEvent","preventDefault","isPointerDownCalled","_x","pageX","_y","pageY","mouseMoveEvents","_showTooltip","active_touch_tooltip_widget","touchStartTooltipProcessing","_touch","touchStartDocumentProcessing","touchEndDocumentProcessing","subscribeGlobal","getDocument","module","exports","addPlugin","plugin","prototype","_disposeTooltip","_getRendererOptions","setRendererOptions","_getOption","font","enabled","_isTooltipEnabled","delay","setTimeout","exportPlugin","init","dispose","customize","members","_getExportMenuOptions"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/sparklines/base_sparkline.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar eventsEngine = require(\"../../events/core/events_engine\");\r\nvar domAdapter = require(\"../../core/dom_adapter\");\r\nvar ready = require(\"../../core/utils/ready_callbacks\").add;\r\nvar isFunction = require(\"../../core/utils/type\").isFunction;\r\nvar BaseWidget = require(\"../core/base_widget\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar DEFAULT_LINE_SPACING = 2;\r\nvar DEFAULT_EVENTS_DELAY = 100;\r\nvar eventUtils = require(\"../../events/utils\");\r\nvar translator2DModule = require(\"../translators/translator2d\");\r\nvar _extend = extend;\r\nvar _noop = require(\"../../core/utils/common\").noop;\r\n\r\nfunction generateDefaultCustomizeTooltipCallback(fontOptions, rtlEnabled) {\r\n    var lineSpacing = fontOptions.lineSpacing;\r\n    var lineHeight = (void 0 !== lineSpacing && null !== lineSpacing ? lineSpacing : DEFAULT_LINE_SPACING) + fontOptions.size;\r\n    return function(customizeObject) {\r\n        var html = \"\";\r\n        var vt = customizeObject.valueText;\r\n        for (var i = 0; i < vt.length; i += 2) {\r\n            html += \"<tr><td>\" + vt[i] + \"</td><td style='width: 15px'></td><td style='text-align: \" + (rtlEnabled ? \"left\" : \"right\") + \"'>\" + vt[i + 1] + \"</td></tr>\"\r\n        }\r\n        return {\r\n            html: \"<table style='border-spacing:0px; line-height: \" + lineHeight + \"px'>\" + html + \"</table>\"\r\n        }\r\n    }\r\n}\r\n\r\nfunction generateCustomizeTooltipCallback(customizeTooltip, fontOptions, rtlEnabled) {\r\n    var defaultCustomizeTooltip = generateDefaultCustomizeTooltipCallback(fontOptions, rtlEnabled);\r\n    if (isFunction(customizeTooltip)) {\r\n        return function(customizeObject) {\r\n            var res = customizeTooltip.call(customizeObject, customizeObject);\r\n            if (!(\"html\" in res) && !(\"text\" in res)) {\r\n                _extend(res, defaultCustomizeTooltip.call(customizeObject, customizeObject))\r\n            }\r\n            return res\r\n        }\r\n    } else {\r\n        return defaultCustomizeTooltip\r\n    }\r\n}\r\n\r\nfunction createAxis(isHorizontal) {\r\n    var translator = new translator2DModule.Translator2D({}, {}, {\r\n        shiftZeroValue: !isHorizontal,\r\n        isHorizontal: !!isHorizontal\r\n    });\r\n    return {\r\n        getTranslator: function() {\r\n            return translator\r\n        },\r\n        update: function(range, canvas, options) {\r\n            translator.update(range, canvas, options)\r\n        },\r\n        getVisibleArea: function() {\r\n            var visibleArea = translator.getCanvasVisibleArea();\r\n            return [visibleArea.min, visibleArea.max]\r\n        },\r\n        visualRange: _noop,\r\n        calculateInterval: _noop,\r\n        getMarginOptions: function() {\r\n            return {}\r\n        }\r\n    }\r\n}\r\nvar BaseSparkline = BaseWidget.inherit({\r\n    _getLayoutItems: _noop,\r\n    _useLinks: false,\r\n    _themeDependentChanges: [\"OPTIONS\"],\r\n    _initCore: function() {\r\n        var that = this;\r\n        that._tooltipTracker = that._renderer.root;\r\n        that._tooltipTracker.attr({\r\n            \"pointer-events\": \"visible\"\r\n        });\r\n        that._createHtmlElements();\r\n        that._initTooltipEvents();\r\n        that._argumentAxis = createAxis(true);\r\n        that._valueAxis = createAxis()\r\n    },\r\n    _getDefaultSize: function() {\r\n        return this._defaultSize\r\n    },\r\n    _disposeCore: function() {\r\n        this._disposeWidgetElements();\r\n        this._disposeTooltipEvents();\r\n        this._ranges = null\r\n    },\r\n    _optionChangesOrder: [\"OPTIONS\"],\r\n    _change_OPTIONS: function() {\r\n        this._prepareOptions();\r\n        this._change([\"UPDATE\"])\r\n    },\r\n    _customChangesOrder: [\"UPDATE\"],\r\n    _change_UPDATE: function() {\r\n        this._update()\r\n    },\r\n    _update: function() {\r\n        var that = this;\r\n        if (that._tooltipShown) {\r\n            that._tooltipShown = false;\r\n            that._tooltip.hide()\r\n        }\r\n        that._cleanWidgetElements();\r\n        that._updateWidgetElements();\r\n        that._drawWidgetElements()\r\n    },\r\n    _updateWidgetElements: function() {\r\n        var canvas = this._getCorrectCanvas();\r\n        this._updateRange();\r\n        this._argumentAxis.update(this._ranges.arg, canvas, this._getStick());\r\n        this._valueAxis.update(this._ranges.val, canvas)\r\n    },\r\n    _getStick: function() {},\r\n    _applySize: function(rect) {\r\n        this._allOptions.size = {\r\n            width: rect[2] - rect[0],\r\n            height: rect[3] - rect[1]\r\n        };\r\n        this._change([\"UPDATE\"])\r\n    },\r\n    _setupResizeHandler: _noop,\r\n    _prepareOptions: function() {\r\n        return _extend(true, {}, this._themeManager.theme(), this.option())\r\n    },\r\n    _getTooltipCoords: function() {\r\n        var canvas = this._canvas;\r\n        var rootOffset = this._renderer.getRootOffset();\r\n        return {\r\n            x: canvas.width / 2 + rootOffset.left,\r\n            y: canvas.height / 2 + rootOffset.top\r\n        }\r\n    },\r\n    _initTooltipEvents: function() {\r\n        var that = this;\r\n        var data = {\r\n            widget: that\r\n        };\r\n        that._showTooltipCallback = function() {\r\n            var tooltip;\r\n            if (!that._tooltipShown) {\r\n                that._tooltipShown = true;\r\n                tooltip = that._getTooltip();\r\n                tooltip.isEnabled() && that._tooltip.show(that._getTooltipData(), that._getTooltipCoords(), {})\r\n            }\r\n        };\r\n        that._hideTooltipCallback = function() {\r\n            that._hideTooltipTimeout = null;\r\n            if (that._tooltipShown) {\r\n                that._tooltipShown = false;\r\n                that._tooltip.hide()\r\n            }\r\n        };\r\n        that._disposeCallbacks = function() {\r\n            that = that._showTooltipCallback = that._hideTooltipCallback = that._disposeCallbacks = null\r\n        };\r\n        that._tooltipTracker.on(mouseEvents, data).on(touchEvents, data);\r\n        that._tooltipTracker.on(menuEvents)\r\n    },\r\n    _stopCurrentHandling: function() {\r\n        this._hideTooltip()\r\n    },\r\n    _disposeTooltipEvents: function() {\r\n        var that = this;\r\n        clearTimeout(that._hideTooltipTimeout);\r\n        that._tooltipTracker.off();\r\n        that._disposeCallbacks()\r\n    },\r\n    _getTooltip: function() {\r\n        var that = this;\r\n        if (!that._tooltip) {\r\n            _initTooltip.apply(this, arguments);\r\n            that._setTooltipRendererOptions(that._tooltipRendererOptions);\r\n            that._tooltipRendererOptions = null;\r\n            that._setTooltipOptions()\r\n        }\r\n        return that._tooltip\r\n    }\r\n});\r\nvar menuEvents = {\r\n    \"contextmenu.sparkline-tooltip\": function(event) {\r\n        if (eventUtils.isTouchEvent(event) || eventUtils.isPointerEvent(event)) {\r\n            event.preventDefault()\r\n        }\r\n    },\r\n    \"MSHoldVisual.sparkline-tooltip\": function(event) {\r\n        event.preventDefault()\r\n    }\r\n};\r\nvar mouseEvents = {\r\n    \"mouseover.sparkline-tooltip\": function(event) {\r\n        isPointerDownCalled = false;\r\n        var widget = event.data.widget;\r\n        widget._x = event.pageX;\r\n        widget._y = event.pageY;\r\n        widget._tooltipTracker.off(mouseMoveEvents).on(mouseMoveEvents, event.data);\r\n        widget._showTooltip()\r\n    },\r\n    \"mouseout.sparkline-tooltip\": function(event) {\r\n        if (isPointerDownCalled) {\r\n            return\r\n        }\r\n        var widget = event.data.widget;\r\n        widget._tooltipTracker.off(mouseMoveEvents);\r\n        widget._hideTooltip(DEFAULT_EVENTS_DELAY)\r\n    }\r\n};\r\nvar mouseMoveEvents = {\r\n    \"mousemove.sparkline-tooltip\": function(event) {\r\n        var widget = event.data.widget;\r\n        widget._x = event.pageX;\r\n        widget._y = event.pageY;\r\n        widget._showTooltip()\r\n    }\r\n};\r\nvar active_touch_tooltip_widget = null;\r\nvar touchStartTooltipProcessing = function(event) {\r\n    var widget = active_touch_tooltip_widget;\r\n    if (widget && widget !== event.data.widget) {\r\n        widget._hideTooltip(DEFAULT_EVENTS_DELAY)\r\n    }\r\n    widget = active_touch_tooltip_widget = event.data.widget;\r\n    widget._showTooltip();\r\n    widget._touch = true\r\n};\r\nvar touchStartDocumentProcessing = function() {\r\n    var widget = active_touch_tooltip_widget;\r\n    if (widget) {\r\n        if (!widget._touch) {\r\n            widget._hideTooltip(DEFAULT_EVENTS_DELAY);\r\n            active_touch_tooltip_widget = null\r\n        }\r\n        widget._touch = null\r\n    }\r\n};\r\nvar touchEndDocumentProcessing = function() {\r\n    var widget = active_touch_tooltip_widget;\r\n    if (widget) {\r\n        widget._hideTooltip(DEFAULT_EVENTS_DELAY);\r\n        active_touch_tooltip_widget = null\r\n    }\r\n};\r\nvar isPointerDownCalled = false;\r\nvar touchEvents = {\r\n    \"pointerdown.sparkline-tooltip\": touchStartTooltipProcessing,\r\n    \"touchstart.sparkline-tooltip\": touchStartTooltipProcessing\r\n};\r\nready(function() {\r\n    eventsEngine.subscribeGlobal(domAdapter.getDocument(), {\r\n        \"pointerdown.sparkline-tooltip\": function() {\r\n            isPointerDownCalled = true;\r\n            touchStartDocumentProcessing()\r\n        },\r\n        \"touchstart.sparkline-tooltip\": touchStartDocumentProcessing,\r\n        \"pointerup.sparkline-tooltip\": touchEndDocumentProcessing,\r\n        \"touchend.sparkline-tooltip\": touchEndDocumentProcessing\r\n    })\r\n});\r\nmodule.exports = BaseSparkline;\r\nBaseSparkline.addPlugin(require(\"../core/tooltip\").plugin);\r\nvar _initTooltip = BaseSparkline.prototype._initTooltip;\r\nBaseSparkline.prototype._initTooltip = _noop;\r\nvar _disposeTooltip = BaseSparkline.prototype._disposeTooltip;\r\nBaseSparkline.prototype._disposeTooltip = function() {\r\n    if (this._tooltip) {\r\n        _disposeTooltip.apply(this, arguments)\r\n    }\r\n};\r\nBaseSparkline.prototype._setTooltipRendererOptions = function() {\r\n    var options = this._getRendererOptions();\r\n    if (this._tooltip) {\r\n        this._tooltip.setRendererOptions(options)\r\n    } else {\r\n        this._tooltipRendererOptions = options\r\n    }\r\n};\r\nBaseSparkline.prototype._setTooltipOptions = function() {\r\n    var tooltip = this._tooltip;\r\n    var options = tooltip && this._getOption(\"tooltip\");\r\n    tooltip && tooltip.update(_extend({}, options, {\r\n        customizeTooltip: generateCustomizeTooltipCallback(options.customizeTooltip, options.font, this.option(\"rtlEnabled\")),\r\n        enabled: options.enabled && this._isTooltipEnabled()\r\n    }))\r\n};\r\nBaseSparkline.prototype._showTooltip = function() {\r\n    var that = this;\r\n    clearTimeout(that._hideTooltipTimeout);\r\n    that._hideTooltipTimeout = null;\r\n    that._showTooltipCallback()\r\n};\r\nBaseSparkline.prototype._hideTooltip = function(delay) {\r\n    var that = this;\r\n    clearTimeout(that._hideTooltipTimeout);\r\n    if (delay) {\r\n        that._hideTooltipTimeout = setTimeout(that._hideTooltipCallback, delay)\r\n    } else {\r\n        that._hideTooltipCallback()\r\n    }\r\n};\r\nvar exportPlugin = extend(true, {}, require(\"../core/export\").plugin, {\r\n    init: _noop,\r\n    dispose: _noop,\r\n    customize: null,\r\n    members: {\r\n        _getExportMenuOptions: null\r\n    }\r\n});\r\nBaseSparkline.addPlugin(exportPlugin);\r\n"]},"metadata":{},"sourceType":"script"}