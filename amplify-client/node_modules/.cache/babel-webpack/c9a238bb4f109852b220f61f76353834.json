{"ast":null,"code":"/**\r\n * DevExtreme (viz/tree_map/hover.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar proto = require(\"./tree_map.base\").prototype;\n\nvar nodeProto = require(\"./node\").prototype;\n\nvar expand = require(\"../core/helpers\").expand;\n\nvar common = require(\"./common\");\n\nvar _parseScalar = require(\"../core/utils\").parseScalar;\n\nvar _buildRectAppearance = common.buildRectAppearance;\nvar STATE_CODE = 1;\n\nrequire(\"./api\");\n\nrequire(\"./states\");\n\nproto._eventsMap.onHoverChanged = {\n  name: \"hoverChanged\"\n};\nexpand(proto._handlers, \"calculateAdditionalStates\", function (states, options) {\n  states[1] = options.hoverStyle ? _buildRectAppearance(options.hoverStyle) : {};\n});\n\nrequire(\"./tree_map.base\").addChange({\n  code: \"HOVER_ENABLED\",\n  handler: function handler() {\n    var hoverEnabled = _parseScalar(this._getOption(\"hoverEnabled\", true), true);\n\n    if (!hoverEnabled) {\n      this.clearHover();\n    }\n\n    this._hoverEnabled = hoverEnabled;\n  },\n  isThemeDependent: true,\n  isOptionChange: true,\n  option: \"hoverEnabled\"\n});\n\nnodeProto.statesMap[1] = 1;\nnodeProto.additionalStates.push(1);\nexpand(proto, \"_extendProxyType\", function (proto) {\n  var that = this;\n\n  proto.setHover = function () {\n    that._hoverNode(this._id);\n  };\n\n  proto.isHovered = function () {\n    return that._hoverIndex === this._id;\n  };\n});\nexpand(proto, \"_onNodesCreated\", function () {\n  this._hoverIndex = -1;\n});\nexpand(proto, \"_changeGroupSettings\", function () {\n  var that = this;\n  that._groupHoverEnabled = _parseScalar(that._getOption(\"group\").hoverEnabled, true);\n\n  if (!that._groupHoverEnabled) {\n    that.clearHover();\n  }\n});\n\nproto._applyHoverState = function (index, state) {\n  setNodeStateRecursive(this._nodes[index], STATE_CODE, state);\n\n  this._eventTrigger(\"hoverChanged\", {\n    node: this._nodes[index].proxy\n  });\n};\n\nfunction setNodeStateRecursive(node, code, state) {\n  var nodes = node.isNode() && node.nodes;\n  var i;\n  var ii = nodes && nodes.length;\n  node.setState(code, state);\n\n  for (i = 0; i < ii; ++i) {\n    setNodeStateRecursive(nodes[i], code, state);\n  }\n}\n\nproto._hoverNode = function (index) {\n  var that = this;\n  var currentIndex = that._hoverIndex;\n\n  if (that._hoverEnabled && currentIndex !== index) {\n    if (!that._groupHoverEnabled && index >= 0 && that._nodes[index].isNode()) {\n      that.clearHover();\n      return;\n    }\n\n    that._context.suspend();\n\n    that._hoverIndex = -1;\n\n    if (currentIndex >= 0) {\n      that._applyHoverState(currentIndex, false);\n    }\n\n    that._hoverIndex = index;\n\n    if (index >= 0) {\n      that._applyHoverState(index, true);\n    }\n\n    that._context.resume();\n  }\n};\n\nproto.clearHover = function () {\n  this._hoverNode(-1);\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/viz/tree_map/hover.js"],"names":["proto","require","prototype","nodeProto","expand","common","_parseScalar","parseScalar","_buildRectAppearance","buildRectAppearance","STATE_CODE","_eventsMap","onHoverChanged","name","_handlers","states","options","hoverStyle","addChange","code","handler","hoverEnabled","_getOption","clearHover","_hoverEnabled","isThemeDependent","isOptionChange","option","statesMap","additionalStates","push","that","setHover","_hoverNode","_id","isHovered","_hoverIndex","_groupHoverEnabled","_applyHoverState","index","state","setNodeStateRecursive","_nodes","_eventTrigger","node","proxy","nodes","isNode","i","ii","length","setState","currentIndex","_context","suspend","resume"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/tree_map/hover.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar proto = require(\"./tree_map.base\").prototype;\r\nvar nodeProto = require(\"./node\").prototype;\r\nvar expand = require(\"../core/helpers\").expand;\r\nvar common = require(\"./common\");\r\nvar _parseScalar = require(\"../core/utils\").parseScalar;\r\nvar _buildRectAppearance = common.buildRectAppearance;\r\nvar STATE_CODE = 1;\r\nrequire(\"./api\");\r\nrequire(\"./states\");\r\nproto._eventsMap.onHoverChanged = {\r\n    name: \"hoverChanged\"\r\n};\r\nexpand(proto._handlers, \"calculateAdditionalStates\", function(states, options) {\r\n    states[1] = options.hoverStyle ? _buildRectAppearance(options.hoverStyle) : {}\r\n});\r\nrequire(\"./tree_map.base\").addChange({\r\n    code: \"HOVER_ENABLED\",\r\n    handler: function() {\r\n        var hoverEnabled = _parseScalar(this._getOption(\"hoverEnabled\", true), true);\r\n        if (!hoverEnabled) {\r\n            this.clearHover()\r\n        }\r\n        this._hoverEnabled = hoverEnabled\r\n    },\r\n    isThemeDependent: true,\r\n    isOptionChange: true,\r\n    option: \"hoverEnabled\"\r\n});\r\nnodeProto.statesMap[1] = 1;\r\nnodeProto.additionalStates.push(1);\r\nexpand(proto, \"_extendProxyType\", function(proto) {\r\n    var that = this;\r\n    proto.setHover = function() {\r\n        that._hoverNode(this._id)\r\n    };\r\n    proto.isHovered = function() {\r\n        return that._hoverIndex === this._id\r\n    }\r\n});\r\nexpand(proto, \"_onNodesCreated\", function() {\r\n    this._hoverIndex = -1\r\n});\r\nexpand(proto, \"_changeGroupSettings\", function() {\r\n    var that = this;\r\n    that._groupHoverEnabled = _parseScalar(that._getOption(\"group\").hoverEnabled, true);\r\n    if (!that._groupHoverEnabled) {\r\n        that.clearHover()\r\n    }\r\n});\r\nproto._applyHoverState = function(index, state) {\r\n    setNodeStateRecursive(this._nodes[index], STATE_CODE, state);\r\n    this._eventTrigger(\"hoverChanged\", {\r\n        node: this._nodes[index].proxy\r\n    })\r\n};\r\n\r\nfunction setNodeStateRecursive(node, code, state) {\r\n    var nodes = node.isNode() && node.nodes;\r\n    var i;\r\n    var ii = nodes && nodes.length;\r\n    node.setState(code, state);\r\n    for (i = 0; i < ii; ++i) {\r\n        setNodeStateRecursive(nodes[i], code, state)\r\n    }\r\n}\r\nproto._hoverNode = function(index) {\r\n    var that = this;\r\n    var currentIndex = that._hoverIndex;\r\n    if (that._hoverEnabled && currentIndex !== index) {\r\n        if (!that._groupHoverEnabled && index >= 0 && that._nodes[index].isNode()) {\r\n            that.clearHover();\r\n            return\r\n        }\r\n        that._context.suspend();\r\n        that._hoverIndex = -1;\r\n        if (currentIndex >= 0) {\r\n            that._applyHoverState(currentIndex, false)\r\n        }\r\n        that._hoverIndex = index;\r\n        if (index >= 0) {\r\n            that._applyHoverState(index, true)\r\n        }\r\n        that._context.resume()\r\n    }\r\n};\r\nproto.clearHover = function() {\r\n    this._hoverNode(-1)\r\n};\r\n"]},"metadata":{},"sourceType":"script"}