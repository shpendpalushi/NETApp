{"ast":null,"code":"/**\r\n * DevExtreme (viz/gauges/base_gauge.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _Number = Number;\n\nvar _getAppropriateFormat = require(\"../core/utils\").getAppropriateFormat;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar translator1DModule = require(\"../translators/translator1d\");\n\nvar _extend = extend;\n\nvar BaseWidget = require(\"../core/base_widget\");\n\nvar themeManagerModule = require(\"./theme_manager\");\n\nvar Tracker = require(\"./tracker\");\n\nvar dxBaseGauge = BaseWidget.inherit({\n  _rootClassPrefix: \"dxg\",\n  _themeSection: \"gauge\",\n  _createThemeManager: function _createThemeManager() {\n    return new themeManagerModule.ThemeManager(this._getThemeManagerOptions());\n  },\n  _initCore: function _initCore() {\n    var that = this;\n    var root = that._renderer.root;\n    that._valueChangingLocker = 0;\n    that._translator = that._factory.createTranslator();\n    that._tracker = that._factory.createTracker({\n      renderer: that._renderer,\n      container: root\n    });\n\n    that._setTrackerCallbacks();\n  },\n  _beginValueChanging: function _beginValueChanging() {\n    this._resetIsReady();\n\n    this._onBeginUpdate();\n\n    ++this._valueChangingLocker;\n  },\n  _endValueChanging: function _endValueChanging() {\n    if (0 === --this._valueChangingLocker) {\n      this._drawn();\n    }\n  },\n  _setTrackerCallbacks: function _setTrackerCallbacks() {\n    var that = this;\n    var renderer = that._renderer;\n    var tooltip = that._tooltip;\n\n    that._tracker.setCallbacks({\n      \"tooltip-show\": function tooltipShow(target, info) {\n        var tooltipParameters = target.getTooltipParameters();\n        var offset = renderer.getRootOffset();\n\n        var formatObject = _extend({\n          value: tooltipParameters.value,\n          valueText: tooltip.formatValue(tooltipParameters.value),\n          color: tooltipParameters.color\n        }, info);\n\n        return tooltip.show(formatObject, {\n          x: tooltipParameters.x + offset.left,\n          y: tooltipParameters.y + offset.top,\n          offset: tooltipParameters.offset\n        }, {\n          target: info\n        });\n      },\n      \"tooltip-hide\": function tooltipHide() {\n        return tooltip.hide();\n      }\n    });\n  },\n  _dispose: function _dispose() {\n    this._cleanCore();\n\n    this.callBase.apply(this, arguments);\n  },\n  _disposeCore: function _disposeCore() {\n    var that = this;\n\n    that._themeManager.dispose();\n\n    that._tracker.dispose();\n\n    that._translator = that._tracker = null;\n  },\n  _cleanCore: function _cleanCore() {\n    var that = this;\n\n    that._tracker.deactivate();\n\n    that._cleanContent();\n  },\n  _renderCore: function _renderCore() {\n    var that = this;\n\n    if (!that._isValidDomain) {\n      return;\n    }\n\n    that._renderContent();\n\n    that._tracker.setTooltipState(that._tooltip.isEnabled());\n\n    that._tracker.activate();\n\n    that._noAnimation = false;\n  },\n  _applyChanges: function _applyChanges() {\n    this.callBase.apply(this, arguments);\n    this._resizing = this._noAnimation = false;\n  },\n  _setContentSize: function _setContentSize() {\n    var that = this;\n    that._resizing = that._noAnimation = 2 === that._changes.count();\n    that.callBase.apply(that, arguments);\n  },\n  _applySize: function _applySize(rect) {\n    var that = this;\n    that._innerRect = {\n      left: rect[0],\n      top: rect[1],\n      right: rect[2],\n      bottom: rect[3]\n    };\n    var layoutCache = that._layout._cache;\n\n    that._cleanCore();\n\n    that._renderCore();\n\n    that._layout._cache = that._layout._cache || layoutCache;\n    return [rect[0], that._innerRect.top, rect[2], that._innerRect.bottom];\n  },\n  _initialChanges: [\"DOMAIN\"],\n  _themeDependentChanges: [\"DOMAIN\"],\n  _optionChangesMap: {\n    subtitle: \"MOSTLY_TOTAL\",\n    indicator: \"MOSTLY_TOTAL\",\n    geometry: \"MOSTLY_TOTAL\",\n    animation: \"MOSTLY_TOTAL\",\n    startValue: \"DOMAIN\",\n    endValue: \"DOMAIN\"\n  },\n  _optionChangesOrder: [\"DOMAIN\", \"MOSTLY_TOTAL\"],\n  _change_DOMAIN: function _change_DOMAIN() {\n    this._setupDomain();\n  },\n  _change_MOSTLY_TOTAL: function _change_MOSTLY_TOTAL() {\n    this._applyMostlyTotalChange();\n  },\n  _setupDomain: function _setupDomain() {\n    var that = this;\n\n    that._setupDomainCore();\n\n    that._isValidDomain = isFinite(1 / (that._translator.getDomain()[1] - that._translator.getDomain()[0]));\n\n    if (!that._isValidDomain) {\n      that._incidentOccurred(\"W2301\");\n    }\n\n    that._change([\"MOSTLY_TOTAL\"]);\n  },\n  _applyMostlyTotalChange: function _applyMostlyTotalChange() {\n    var that = this;\n\n    that._setupCodomain();\n\n    that._setupAnimationSettings();\n\n    that._setupDefaultFormat();\n\n    that._change([\"LAYOUT\"]);\n  },\n  _setupAnimationSettings: function _setupAnimationSettings() {\n    var that = this;\n    var option = that.option(\"animation\");\n    that._animationSettings = null;\n\n    if (void 0 === option || option) {\n      option = _extend({\n        enabled: true,\n        duration: 1e3,\n        easing: \"easeOutCubic\"\n      }, option);\n\n      if (option.enabled && option.duration > 0) {\n        that._animationSettings = {\n          duration: _Number(option.duration),\n          easing: option.easing\n        };\n      }\n    }\n\n    that._containerBackgroundColor = that.option(\"containerBackgroundColor\") || that._themeManager.theme().containerBackgroundColor;\n  },\n  _setupDefaultFormat: function _setupDefaultFormat() {\n    var domain = this._translator.getDomain();\n\n    this._defaultFormatOptions = _getAppropriateFormat(domain[0], domain[1], this._getApproximateScreenRange());\n  },\n  _setupDomainCore: null,\n  _calculateSize: null,\n  _cleanContent: null,\n  _renderContent: null,\n  _setupCodomain: null,\n  _getApproximateScreenRange: null,\n  _factory: {\n    createTranslator: function createTranslator() {\n      return new translator1DModule.Translator1D();\n    },\n    createTracker: function createTracker(parameters) {\n      return new Tracker(parameters);\n    }\n  }\n});\nexports.dxBaseGauge = dxBaseGauge;\n\nvar _format = require(\"../../format_helper\").format;\n\nvar formatValue = function formatValue(value, options, extra) {\n  options = options || {};\n\n  var text = _format(value, options.format);\n\n  var formatObject;\n\n  if (\"function\" === typeof options.customizeText) {\n    formatObject = _extend({\n      value: value,\n      valueText: text\n    }, extra);\n    return String(options.customizeText.call(formatObject, formatObject));\n  }\n\n  return text;\n};\n\nvar getSampleText = function getSampleText(translator, options) {\n  var text1 = formatValue(translator.getDomainStart(), options);\n  var text2 = formatValue(translator.getDomainEnd(), options);\n  return text1.length >= text2.length ? text1 : text2;\n};\n\nexports.formatValue = formatValue;\nexports.getSampleText = getSampleText;\n\nexports.compareArrays = function (array1, array2) {\n  return array1 && array2 && array1.length === array2.length && compareArraysElements(array1, array2);\n};\n\nfunction compareArraysElements(array1, array2) {\n  var i;\n  var ii = array1.length;\n  var array1ValueIsNaN;\n  var array2ValueIsNaN;\n\n  for (i = 0; i < ii; ++i) {\n    array1ValueIsNaN = array1[i] !== array1[i];\n    array2ValueIsNaN = array2[i] !== array2[i];\n\n    if (array1ValueIsNaN && array2ValueIsNaN) {\n      continue;\n    }\n\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\ndxBaseGauge.addPlugin(require(\"../core/export\").plugin);\ndxBaseGauge.addPlugin(require(\"../core/title\").plugin);\ndxBaseGauge.addPlugin(require(\"../core/tooltip\").plugin);\ndxBaseGauge.addPlugin(require(\"../core/loading_indicator\").plugin);\nvar _setTooltipOptions = dxBaseGauge.prototype._setTooltipOptions;\n\ndxBaseGauge.prototype._setTooltipOptions = function () {\n  _setTooltipOptions.apply(this, arguments);\n\n  this._tracker && this._tracker.setTooltipState(this._tooltip.isEnabled());\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/viz/gauges/base_gauge.js"],"names":["_Number","Number","_getAppropriateFormat","require","getAppropriateFormat","extend","translator1DModule","_extend","BaseWidget","themeManagerModule","Tracker","dxBaseGauge","inherit","_rootClassPrefix","_themeSection","_createThemeManager","ThemeManager","_getThemeManagerOptions","_initCore","that","root","_renderer","_valueChangingLocker","_translator","_factory","createTranslator","_tracker","createTracker","renderer","container","_setTrackerCallbacks","_beginValueChanging","_resetIsReady","_onBeginUpdate","_endValueChanging","_drawn","tooltip","_tooltip","setCallbacks","target","info","tooltipParameters","getTooltipParameters","offset","getRootOffset","formatObject","value","valueText","formatValue","color","show","x","left","y","top","hide","_dispose","_cleanCore","callBase","apply","arguments","_disposeCore","_themeManager","dispose","deactivate","_cleanContent","_renderCore","_isValidDomain","_renderContent","setTooltipState","isEnabled","activate","_noAnimation","_applyChanges","_resizing","_setContentSize","_changes","count","_applySize","rect","_innerRect","right","bottom","layoutCache","_layout","_cache","_initialChanges","_themeDependentChanges","_optionChangesMap","subtitle","indicator","geometry","animation","startValue","endValue","_optionChangesOrder","_change_DOMAIN","_setupDomain","_change_MOSTLY_TOTAL","_applyMostlyTotalChange","_setupDomainCore","isFinite","getDomain","_incidentOccurred","_change","_setupCodomain","_setupAnimationSettings","_setupDefaultFormat","option","_animationSettings","enabled","duration","easing","_containerBackgroundColor","theme","containerBackgroundColor","domain","_defaultFormatOptions","_getApproximateScreenRange","_calculateSize","Translator1D","parameters","exports","_format","format","options","extra","text","customizeText","String","call","getSampleText","translator","text1","getDomainStart","text2","getDomainEnd","length","compareArrays","array1","array2","compareArraysElements","i","ii","array1ValueIsNaN","array2ValueIsNaN","addPlugin","plugin","_setTooltipOptions","prototype"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/gauges/base_gauge.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _Number = Number;\r\nvar _getAppropriateFormat = require(\"../core/utils\").getAppropriateFormat;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar translator1DModule = require(\"../translators/translator1d\");\r\nvar _extend = extend;\r\nvar BaseWidget = require(\"../core/base_widget\");\r\nvar themeManagerModule = require(\"./theme_manager\");\r\nvar Tracker = require(\"./tracker\");\r\nvar dxBaseGauge = BaseWidget.inherit({\r\n    _rootClassPrefix: \"dxg\",\r\n    _themeSection: \"gauge\",\r\n    _createThemeManager: function() {\r\n        return new themeManagerModule.ThemeManager(this._getThemeManagerOptions())\r\n    },\r\n    _initCore: function() {\r\n        var that = this;\r\n        var root = that._renderer.root;\r\n        that._valueChangingLocker = 0;\r\n        that._translator = that._factory.createTranslator();\r\n        that._tracker = that._factory.createTracker({\r\n            renderer: that._renderer,\r\n            container: root\r\n        });\r\n        that._setTrackerCallbacks()\r\n    },\r\n    _beginValueChanging: function() {\r\n        this._resetIsReady();\r\n        this._onBeginUpdate();\r\n        ++this._valueChangingLocker\r\n    },\r\n    _endValueChanging: function() {\r\n        if (0 === --this._valueChangingLocker) {\r\n            this._drawn()\r\n        }\r\n    },\r\n    _setTrackerCallbacks: function() {\r\n        var that = this;\r\n        var renderer = that._renderer;\r\n        var tooltip = that._tooltip;\r\n        that._tracker.setCallbacks({\r\n            \"tooltip-show\": function(target, info) {\r\n                var tooltipParameters = target.getTooltipParameters();\r\n                var offset = renderer.getRootOffset();\r\n                var formatObject = _extend({\r\n                    value: tooltipParameters.value,\r\n                    valueText: tooltip.formatValue(tooltipParameters.value),\r\n                    color: tooltipParameters.color\r\n                }, info);\r\n                return tooltip.show(formatObject, {\r\n                    x: tooltipParameters.x + offset.left,\r\n                    y: tooltipParameters.y + offset.top,\r\n                    offset: tooltipParameters.offset\r\n                }, {\r\n                    target: info\r\n                })\r\n            },\r\n            \"tooltip-hide\": function() {\r\n                return tooltip.hide()\r\n            }\r\n        })\r\n    },\r\n    _dispose: function() {\r\n        this._cleanCore();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _disposeCore: function() {\r\n        var that = this;\r\n        that._themeManager.dispose();\r\n        that._tracker.dispose();\r\n        that._translator = that._tracker = null\r\n    },\r\n    _cleanCore: function() {\r\n        var that = this;\r\n        that._tracker.deactivate();\r\n        that._cleanContent()\r\n    },\r\n    _renderCore: function() {\r\n        var that = this;\r\n        if (!that._isValidDomain) {\r\n            return\r\n        }\r\n        that._renderContent();\r\n        that._tracker.setTooltipState(that._tooltip.isEnabled());\r\n        that._tracker.activate();\r\n        that._noAnimation = false\r\n    },\r\n    _applyChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._resizing = this._noAnimation = false\r\n    },\r\n    _setContentSize: function() {\r\n        var that = this;\r\n        that._resizing = that._noAnimation = 2 === that._changes.count();\r\n        that.callBase.apply(that, arguments)\r\n    },\r\n    _applySize: function(rect) {\r\n        var that = this;\r\n        that._innerRect = {\r\n            left: rect[0],\r\n            top: rect[1],\r\n            right: rect[2],\r\n            bottom: rect[3]\r\n        };\r\n        var layoutCache = that._layout._cache;\r\n        that._cleanCore();\r\n        that._renderCore();\r\n        that._layout._cache = that._layout._cache || layoutCache;\r\n        return [rect[0], that._innerRect.top, rect[2], that._innerRect.bottom]\r\n    },\r\n    _initialChanges: [\"DOMAIN\"],\r\n    _themeDependentChanges: [\"DOMAIN\"],\r\n    _optionChangesMap: {\r\n        subtitle: \"MOSTLY_TOTAL\",\r\n        indicator: \"MOSTLY_TOTAL\",\r\n        geometry: \"MOSTLY_TOTAL\",\r\n        animation: \"MOSTLY_TOTAL\",\r\n        startValue: \"DOMAIN\",\r\n        endValue: \"DOMAIN\"\r\n    },\r\n    _optionChangesOrder: [\"DOMAIN\", \"MOSTLY_TOTAL\"],\r\n    _change_DOMAIN: function() {\r\n        this._setupDomain()\r\n    },\r\n    _change_MOSTLY_TOTAL: function() {\r\n        this._applyMostlyTotalChange()\r\n    },\r\n    _setupDomain: function() {\r\n        var that = this;\r\n        that._setupDomainCore();\r\n        that._isValidDomain = isFinite(1 / (that._translator.getDomain()[1] - that._translator.getDomain()[0]));\r\n        if (!that._isValidDomain) {\r\n            that._incidentOccurred(\"W2301\")\r\n        }\r\n        that._change([\"MOSTLY_TOTAL\"])\r\n    },\r\n    _applyMostlyTotalChange: function() {\r\n        var that = this;\r\n        that._setupCodomain();\r\n        that._setupAnimationSettings();\r\n        that._setupDefaultFormat();\r\n        that._change([\"LAYOUT\"])\r\n    },\r\n    _setupAnimationSettings: function() {\r\n        var that = this;\r\n        var option = that.option(\"animation\");\r\n        that._animationSettings = null;\r\n        if (void 0 === option || option) {\r\n            option = _extend({\r\n                enabled: true,\r\n                duration: 1e3,\r\n                easing: \"easeOutCubic\"\r\n            }, option);\r\n            if (option.enabled && option.duration > 0) {\r\n                that._animationSettings = {\r\n                    duration: _Number(option.duration),\r\n                    easing: option.easing\r\n                }\r\n            }\r\n        }\r\n        that._containerBackgroundColor = that.option(\"containerBackgroundColor\") || that._themeManager.theme().containerBackgroundColor\r\n    },\r\n    _setupDefaultFormat: function() {\r\n        var domain = this._translator.getDomain();\r\n        this._defaultFormatOptions = _getAppropriateFormat(domain[0], domain[1], this._getApproximateScreenRange())\r\n    },\r\n    _setupDomainCore: null,\r\n    _calculateSize: null,\r\n    _cleanContent: null,\r\n    _renderContent: null,\r\n    _setupCodomain: null,\r\n    _getApproximateScreenRange: null,\r\n    _factory: {\r\n        createTranslator: function() {\r\n            return new translator1DModule.Translator1D\r\n        },\r\n        createTracker: function(parameters) {\r\n            return new Tracker(parameters)\r\n        }\r\n    }\r\n});\r\nexports.dxBaseGauge = dxBaseGauge;\r\nvar _format = require(\"../../format_helper\").format;\r\nvar formatValue = function(value, options, extra) {\r\n    options = options || {};\r\n    var text = _format(value, options.format);\r\n    var formatObject;\r\n    if (\"function\" === typeof options.customizeText) {\r\n        formatObject = _extend({\r\n            value: value,\r\n            valueText: text\r\n        }, extra);\r\n        return String(options.customizeText.call(formatObject, formatObject))\r\n    }\r\n    return text\r\n};\r\nvar getSampleText = function(translator, options) {\r\n    var text1 = formatValue(translator.getDomainStart(), options);\r\n    var text2 = formatValue(translator.getDomainEnd(), options);\r\n    return text1.length >= text2.length ? text1 : text2\r\n};\r\nexports.formatValue = formatValue;\r\nexports.getSampleText = getSampleText;\r\nexports.compareArrays = function(array1, array2) {\r\n    return array1 && array2 && array1.length === array2.length && compareArraysElements(array1, array2)\r\n};\r\n\r\nfunction compareArraysElements(array1, array2) {\r\n    var i;\r\n    var ii = array1.length;\r\n    var array1ValueIsNaN;\r\n    var array2ValueIsNaN;\r\n    for (i = 0; i < ii; ++i) {\r\n        array1ValueIsNaN = array1[i] !== array1[i];\r\n        array2ValueIsNaN = array2[i] !== array2[i];\r\n        if (array1ValueIsNaN && array2ValueIsNaN) {\r\n            continue\r\n        }\r\n        if (array1[i] !== array2[i]) {\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n}\r\ndxBaseGauge.addPlugin(require(\"../core/export\").plugin);\r\ndxBaseGauge.addPlugin(require(\"../core/title\").plugin);\r\ndxBaseGauge.addPlugin(require(\"../core/tooltip\").plugin);\r\ndxBaseGauge.addPlugin(require(\"../core/loading_indicator\").plugin);\r\nvar _setTooltipOptions = dxBaseGauge.prototype._setTooltipOptions;\r\ndxBaseGauge.prototype._setTooltipOptions = function() {\r\n    _setTooltipOptions.apply(this, arguments);\r\n    this._tracker && this._tracker.setTooltipState(this._tooltip.isEnabled())\r\n};\r\n"]},"metadata":{},"sourceType":"script"}