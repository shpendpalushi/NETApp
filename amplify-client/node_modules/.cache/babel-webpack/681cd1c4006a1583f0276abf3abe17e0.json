{"ast":null,"code":"/**\r\n * DevExtreme (viz/chart_components/tracker.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar domAdapter = require(\"../../core/dom_adapter\");\n\nvar eventsEngine = require(\"../../events/core/events_engine\");\n\nvar clickEvent = require(\"../../events/click\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar consts = require(\"../components/consts\");\n\nvar eventsConsts = consts.events;\n\nvar vizUtils = require(\"../core/utils\");\n\nvar pointerEvents = require(\"../../events/pointer\");\n\nvar holdEvent = require(\"../../events/hold\");\n\nvar addNamespace = require(\"../../events/utils\").addNamespace;\n\nvar isDefined = require(\"../../core/utils/type\").isDefined;\n\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\n\nvar _floor = Math.floor;\nvar _each = each;\n\nvar _noop = require(\"../../core/utils/common\").noop;\n\nvar HOVER_STATE = consts.states.hoverMark;\nvar NORMAL_STATE = consts.states.normalMark;\nvar EVENT_NS = \"dxChartTracker\";\nvar DOT_EVENT_NS = \".\" + EVENT_NS;\nvar POINTER_ACTION = addNamespace([pointerEvents.down, pointerEvents.move], EVENT_NS);\nvar LEGEND_CLICK = \"legendClick\";\nvar SERIES_CLICK = \"seriesClick\";\nvar POINT_CLICK = \"pointClick\";\nvar POINT_DATA = \"chart-data-point\";\nvar SERIES_DATA = \"chart-data-series\";\nvar ARG_DATA = \"chart-data-argument\";\nvar DELAY = 100;\nvar NONE_MODE = \"none\";\nvar ALL_ARGUMENT_POINTS_MODE = \"allargumentpoints\";\nvar INCLUDE_POINTS_MODE = \"includepoints\";\nvar EXLUDE_POINTS_MODE = \"excludepoints\";\nvar LEGEND_HOVER_MODES = [INCLUDE_POINTS_MODE, EXLUDE_POINTS_MODE, NONE_MODE];\n\nfunction getData(event, dataKey) {\n  var target = event.target;\n  return (\"tspan\" === target.tagName ? target.parentNode : target)[dataKey];\n}\n\nfunction eventCanceled(event, target) {\n  return event.cancel || !target.getOptions();\n}\n\nfunction inCanvas(canvas, x, y) {\n  return x >= canvas.left && x <= canvas.right && y >= canvas.top && y <= canvas.bottom;\n}\n\nfunction correctLegendHoverMode(mode) {\n  if (LEGEND_HOVER_MODES.indexOf(mode) > -1) {\n    return mode;\n  } else {\n    return INCLUDE_POINTS_MODE;\n  }\n}\n\nfunction correctHoverMode(target) {\n  var mode = target.getOptions().hoverMode;\n  return mode === NONE_MODE ? mode : ALL_ARGUMENT_POINTS_MODE;\n}\n\nvar baseTrackerPrototype = {\n  ctor: function ctor(options) {\n    var that = this;\n    var data = {\n      tracker: that\n    };\n    that._renderer = options.renderer;\n    that._legend = options.legend;\n    that._tooltip = options.tooltip;\n    that._eventTrigger = options.eventTrigger;\n    that._seriesGroup = options.seriesGroup;\n    options.seriesGroup.off(DOT_EVENT_NS).on(addNamespace(eventsConsts.showPointTooltip, EVENT_NS), data, that._showPointTooltip).on(addNamespace(eventsConsts.hidePointTooltip, EVENT_NS), data, that._hidePointTooltip);\n\n    that._renderer.root.off(DOT_EVENT_NS).on(POINTER_ACTION, data, that._pointerHandler).on(addNamespace(clickEvent.name, EVENT_NS), data, that._clickHandler).on(addNamespace(holdEvent.name, EVENT_NS), {\n      timeout: 300\n    }, _noop);\n  },\n  update: function update(options) {\n    this._chart = options.chart;\n  },\n  updateSeries: function updateSeries(series, resetDecorations) {\n    var that = this;\n    var noHoveredSeries = !(series && series.some(function (s) {\n      return s === that.hoveredSeries;\n    }) || that._hoveredPoint && that._hoveredPoint.series);\n\n    if (that._storedSeries !== series) {\n      that._storedSeries = series || [];\n    }\n\n    if (noHoveredSeries) {\n      that._clean();\n\n      that._renderer.initHatching();\n    }\n\n    if (resetDecorations) {\n      that.clearSelection();\n\n      if (!noHoveredSeries) {\n        that._hideTooltip(that.pointAtShownTooltip);\n\n        that.clearHover();\n      }\n    }\n  },\n  setCanvases: function setCanvases(mainCanvas, paneCanvases) {\n    this._mainCanvas = mainCanvas;\n    this._canvases = paneCanvases;\n  },\n  repairTooltip: function repairTooltip() {\n    var point = this.pointAtShownTooltip;\n\n    if (!point || !point.series || !point.isVisible()) {\n      this._hideTooltip(point, true);\n    } else {\n      this._showTooltip(point);\n    }\n  },\n  _setHoveredPoint: function _setHoveredPoint(point) {\n    if (point === this._hoveredPoint) {\n      return;\n    }\n\n    this._releaseHoveredPoint();\n\n    point.hover();\n    this._hoveredPoint = point;\n  },\n  _releaseHoveredPoint: function _releaseHoveredPoint() {\n    if (this._hoveredPoint && this._hoveredPoint.getOptions()) {\n      this._hoveredPoint.clearHover();\n\n      this._hoveredPoint = null;\n\n      if (this._tooltip.isEnabled()) {\n        this._hideTooltip(this._hoveredPoint);\n      }\n    }\n  },\n  _setHoveredSeries: function _setHoveredSeries(series, mode) {\n    this._releaseHoveredSeries();\n\n    this._releaseHoveredPoint();\n\n    series.hover(mode);\n    this.hoveredSeries = series;\n  },\n  _releaseHoveredSeries: function _releaseHoveredSeries(needSetHoverView, hoveredPoint) {\n    if (this.hoveredSeries) {\n      this.hoveredSeries.clearHover();\n      this.hoveredSeries = null;\n    }\n  },\n  clearSelection: function clearSelection() {\n    this._storedSeries.forEach(function (series) {\n      if (series) {\n        series.clearSelection();\n        series.getPoints().forEach(function (point) {\n          point.clearSelection();\n        });\n      }\n    });\n  },\n  _clean: function _clean() {\n    var that = this;\n    that.hoveredPoint = that.hoveredSeries = that._hoveredArgumentPoints = null;\n\n    that._hideTooltip(that.pointAtShownTooltip);\n  },\n  clearHover: function clearHover() {\n    this._resetHoveredArgument();\n\n    this._releaseHoveredSeries();\n\n    this._releaseHoveredPoint();\n  },\n  _hideTooltip: function _hideTooltip(point, silent) {\n    var that = this;\n\n    if (!that._tooltip || point && that.pointAtShownTooltip !== point) {\n      return;\n    }\n\n    if (!silent && that.pointAtShownTooltip) {\n      that.pointAtShownTooltip = null;\n    }\n\n    that._tooltip.hide();\n  },\n  _showTooltip: function _showTooltip(point) {\n    var that = this;\n    var tooltipFormatObject;\n    var eventData;\n\n    if (point && point.getOptions()) {\n      tooltipFormatObject = point.getTooltipFormatObject(that._tooltip, that._tooltip.isShared() && that._chart.getStackedPoints(point));\n\n      if (!isDefined(tooltipFormatObject.valueText) && !tooltipFormatObject.points || !point.isVisible()) {\n        return;\n      }\n\n      if (!that.pointAtShownTooltip || that.pointAtShownTooltip !== point) {\n        eventData = {\n          target: point\n        };\n      }\n\n      var coords = point.getTooltipParams(that._tooltip.getLocation());\n\n      var rootOffset = that._renderer.getRootOffset();\n\n      coords.x += rootOffset.left;\n      coords.y += rootOffset.top;\n\n      if (!that._tooltip.show(tooltipFormatObject, coords, eventData)) {\n        return;\n      }\n\n      that.pointAtShownTooltip = point;\n    }\n  },\n  _showPointTooltip: function _showPointTooltip(event, point) {\n    var that = event.data.tracker;\n    var pointWithTooltip = that.pointAtShownTooltip;\n\n    if (pointWithTooltip && pointWithTooltip !== point) {\n      that._hideTooltip(pointWithTooltip);\n    }\n\n    that._showTooltip(point);\n  },\n  _hidePointTooltip: function _hidePointTooltip(event, point) {\n    event.data.tracker._hideTooltip(point);\n  },\n  _enableOutHandler: function _enableOutHandler() {\n    if (this._outHandler) {\n      return;\n    }\n\n    var that = this;\n\n    var handler = function handler(e) {\n      var rootOffset = that._renderer.getRootOffset();\n\n      var x = _floor(e.pageX - rootOffset.left);\n\n      var y = _floor(e.pageY - rootOffset.top);\n\n      if (!inCanvas(that._mainCanvas, x, y)) {\n        that._pointerOut();\n\n        that._disableOutHandler();\n      }\n    };\n\n    eventsEngine.on(domAdapter.getDocument(), POINTER_ACTION, handler);\n    this._outHandler = handler;\n  },\n  _disableOutHandler: function _disableOutHandler() {\n    this._outHandler && eventsEngine.off(domAdapter.getDocument(), POINTER_ACTION, this._outHandler);\n    this._outHandler = null;\n  },\n  stopCurrentHandling: function stopCurrentHandling() {\n    this._pointerOut(true);\n  },\n  _pointerOut: function _pointerOut(force) {\n    this.clearHover();\n    (force || this._tooltip.isEnabled()) && this._hideTooltip(this.pointAtShownTooltip);\n  },\n  _triggerLegendClick: function _triggerLegendClick(eventArgs, elementClick) {\n    var eventTrigger = this._eventTrigger;\n    eventTrigger(LEGEND_CLICK, eventArgs, function () {\n      !eventCanceled(eventArgs.event, eventArgs.target) && eventTrigger(elementClick, eventArgs);\n    });\n  },\n  _hoverLegendItem: function _hoverLegendItem(x, y) {\n    var that = this;\n\n    var item = that._legend.getItemByCoord(x, y);\n\n    var series;\n    var legendHoverMode = correctLegendHoverMode(that._legend.getOptions().hoverMode);\n\n    if (item) {\n      series = that._storedSeries[item.id];\n\n      if (!series.isHovered() || series.lastHoverMode !== legendHoverMode) {\n        that._setHoveredSeries(series, legendHoverMode);\n      }\n\n      that._tooltip.isEnabled() && that._hideTooltip(that.pointAtShownTooltip);\n    } else {\n      that.clearHover();\n    }\n  },\n  _hoverArgument: function _hoverArgument(argument, argumentIndex) {\n    var that = this;\n\n    var hoverMode = that._getArgumentHoverMode();\n\n    if (isDefined(argument)) {\n      that._releaseHoveredPoint();\n\n      that._hoveredArgument = argument;\n      that._argumentIndex = argumentIndex;\n\n      that._notifySeries({\n        action: \"pointHover\",\n        notifyLegend: that._notifyLegendOnHoverArgument,\n        target: {\n          argument: argument,\n          fullState: HOVER_STATE,\n          argumentIndex: argumentIndex,\n          getOptions: function getOptions() {\n            return {\n              hoverMode: hoverMode\n            };\n          }\n        }\n      });\n    }\n  },\n  _resetHoveredArgument: function _resetHoveredArgument() {\n    var that = this;\n    var hoverMode;\n\n    if (isDefined(that._hoveredArgument)) {\n      hoverMode = that._getArgumentHoverMode();\n\n      that._notifySeries({\n        action: \"clearPointHover\",\n        notifyLegend: that._notifyLegendOnHoverArgument,\n        target: {\n          fullState: NORMAL_STATE,\n          argumentIndex: that._argumentIndex,\n          argument: that._hoveredArgument,\n          getOptions: function getOptions() {\n            return {\n              hoverMode: hoverMode\n            };\n          }\n        }\n      });\n\n      that._hoveredArgument = null;\n    }\n  },\n  _notifySeries: function _notifySeries(data) {\n    this._storedSeries.forEach(function (series) {\n      series.notify(data);\n    });\n  },\n  _pointerHandler: function _pointerHandler(e) {\n    var that = e.data.tracker;\n\n    var rootOffset = that._renderer.getRootOffset();\n\n    var x = _floor(e.pageX - rootOffset.left);\n\n    var y = _floor(e.pageY - rootOffset.top);\n\n    var canvas = that._getCanvas(x, y);\n\n    var series = getData(e, SERIES_DATA);\n    var point = getData(e, POINT_DATA) || series && series.getPointByCoord(x, y);\n\n    if (point && !point.getMarkerVisibility()) {\n      point = void 0;\n    }\n\n    that._enableOutHandler();\n\n    if (that._legend.coordsIn(x, y)) {\n      that._hoverLegendItem(x, y);\n\n      return;\n    }\n\n    if (that.hoveredSeries && that.hoveredSeries !== that._stuckSeries) {\n      that._releaseHoveredSeries();\n    }\n\n    if (that._hoverArgumentAxis(x, y, e)) {\n      return;\n    }\n\n    if (that._isPointerOut(canvas, point)) {\n      that._pointerOut();\n    }\n\n    if (!canvas && !point) {\n      return;\n    }\n\n    if (series && !point) {\n      point = series.getNeighborPoint(x, y);\n\n      if (!that._stickyHovering && point && !point.coordsIn(x, y)) {\n        point = null;\n      }\n\n      if (series !== that.hoveredSeries) {\n        that._setTimeout(function () {\n          that._setHoveredSeries(series);\n\n          that._setStuckSeries(e, series, x, y);\n\n          that._pointerComplete(point, x, y);\n        }, series);\n\n        return;\n      }\n    } else {\n      if (point) {\n        if (e.type !== pointerEvents.move && \"touch\" !== e.pointerType) {\n          return;\n        }\n\n        if (that.hoveredSeries) {\n          that._setTimeout(function () {\n            that._pointerOnPoint(point, x, y, e);\n          }, point);\n        } else {\n          that._pointerOnPoint(point, x, y, e);\n        }\n\n        return;\n      } else {\n        if (that._setStuckSeries(e, void 0, x, y) && that._stickyHovering) {\n          series = that._stuckSeries;\n          point = series.getNeighborPoint(x, y);\n\n          that._releaseHoveredSeries();\n\n          point && point.getMarkerVisibility() && that._setHoveredPoint(point);\n        } else {\n          if (!that._stickyHovering) {\n            that._pointerOut();\n          }\n        }\n      }\n    }\n\n    that._pointerComplete(point, x, y);\n  },\n  _pointerOnPoint: function _pointerOnPoint(point, x, y) {\n    this._resetHoveredArgument();\n\n    this._setHoveredPoint(point);\n\n    this._pointerComplete(point, x, y);\n  },\n  _pointerComplete: function _pointerComplete(point) {\n    this.pointAtShownTooltip !== point && this._tooltip.isEnabled() && this._showTooltip(point);\n  },\n  _clickHandler: function _clickHandler(e) {\n    var that = e.data.tracker;\n\n    var rootOffset = that._renderer.getRootOffset();\n\n    var x = _floor(e.pageX - rootOffset.left);\n\n    var y = _floor(e.pageY - rootOffset.top);\n\n    var point = getData(e, POINT_DATA);\n    var series = that._stuckSeries || getData(e, SERIES_DATA) || point && point.series;\n    var axis = that._argumentAxis;\n\n    if (that._legend.coordsIn(x, y)) {\n      var item = that._legend.getItemByCoord(x, y);\n\n      if (item) {\n        that._legendClick(item, e);\n      }\n    } else {\n      if (axis && axis.coordsIn(x, y)) {\n        var argument = getData(e, ARG_DATA);\n\n        if (isDefined(argument)) {\n          that._eventTrigger(\"argumentAxisClick\", {\n            argument: argument,\n            event: e\n          });\n        }\n      } else {\n        if (series) {\n          point = point || series.getPointByCoord(x, y);\n\n          if (point && point.getMarkerVisibility()) {\n            that._pointClick(point, e);\n          } else {\n            getData(e, SERIES_DATA) && that._eventTrigger(SERIES_CLICK, {\n              target: series,\n              event: e\n            });\n          }\n        }\n      }\n    }\n  },\n  dispose: function dispose() {\n    var that = this;\n\n    that._disableOutHandler();\n\n    that._renderer.root.off(DOT_EVENT_NS);\n\n    that._seriesGroup.off(DOT_EVENT_NS);\n  }\n};\n\nvar ChartTracker = function ChartTracker(options) {\n  this.ctor(options);\n};\n\nextend(ChartTracker.prototype, baseTrackerPrototype, {\n  _pointClick: function _pointClick(point, event) {\n    var that = this;\n    var eventTrigger = that._eventTrigger;\n    var series = point.series;\n    eventTrigger(POINT_CLICK, {\n      target: point,\n      event: event\n    }, function () {\n      !eventCanceled(event, series) && eventTrigger(SERIES_CLICK, {\n        target: series,\n        event: event\n      });\n    });\n  },\n  update: function update(options) {\n    var that = this;\n    baseTrackerPrototype.update.call(this, options);\n    that._argumentAxis = options.argumentAxis || {};\n    that._axisHoverEnabled = that._argumentAxis && _normalizeEnum(that._argumentAxis.getOptions().hoverMode) === ALL_ARGUMENT_POINTS_MODE;\n    that._rotated = options.rotated;\n    that._crosshair = options.crosshair;\n    that._stickyHovering = options.stickyHovering;\n  },\n  _getCanvas: function _getCanvas(x, y) {\n    var that = this;\n    var canvases = that._canvases || [];\n\n    for (var i = 0; i < canvases.length; i++) {\n      var c = canvases[i];\n\n      if (inCanvas(c, x, y)) {\n        return c;\n      }\n    }\n\n    return null;\n  },\n  _isPointerOut: function _isPointerOut(canvas) {\n    return !canvas && this._stuckSeries;\n  },\n  _hideCrosshair: function _hideCrosshair() {\n    this._crosshair && this._crosshair.hide();\n  },\n  _moveCrosshair: function _moveCrosshair(point, x, y) {\n    if (point && this._crosshair && point.isVisible()) {\n      this._crosshair.show({\n        point: point,\n        x: x,\n        y: y\n      });\n    }\n  },\n  _clean: function _clean() {\n    var that = this;\n\n    baseTrackerPrototype._clean.call(that);\n\n    that._resetTimer();\n\n    that._stuckSeries = null;\n  },\n  _getSeriesForShared: function _getSeriesForShared(x, y) {\n    var that = this;\n    var points = [];\n    var point = null;\n    var distance = 1 / 0;\n\n    if (that._tooltip.isShared() && !that.hoveredSeries) {\n      _each(that._storedSeries, function (_, series) {\n        var point = series.getNeighborPoint(x, y);\n        point && points.push(point);\n      });\n\n      _each(points, function (_, p) {\n        var coords = p.getCrosshairData(x, y);\n        var d = vizUtils.getDistance(x, y, coords.x, coords.y);\n\n        if (d < distance) {\n          point = p;\n          distance = d;\n        }\n      });\n    }\n\n    return point && point.series;\n  },\n  _setTimeout: function _setTimeout(callback, keeper) {\n    var that = this;\n\n    if (that._timeoutKeeper !== keeper) {\n      that._resetTimer();\n\n      that._hoverTimeout = setTimeout(function () {\n        callback();\n        that._timeoutKeeper = null;\n      }, DELAY);\n      that._timeoutKeeper = keeper;\n    }\n  },\n  _resetTimer: function _resetTimer() {\n    clearTimeout(this._hoverTimeout);\n    this._timeoutKeeper = this._hoverTimeout = null;\n  },\n  _stopEvent: function _stopEvent(e) {\n    if (!isDefined(e.cancelable) || e.cancelable) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  },\n  _setStuckSeries: function _setStuckSeries(e, series, x, y) {\n    if (\"mouse\" !== e.pointerType) {\n      this._stuckSeries = null;\n    } else {\n      this._stuckSeries = series || this._stuckSeries || this._getSeriesForShared(x, y);\n    }\n\n    return !!this._stuckSeries;\n  },\n  _pointerOut: function _pointerOut() {\n    var that = this;\n    that._stuckSeries = null;\n\n    that._hideCrosshair();\n\n    that._resetTimer();\n\n    baseTrackerPrototype._pointerOut.apply(that, arguments);\n  },\n  _hoverArgumentAxis: function _hoverArgumentAxis(x, y, e) {\n    var that = this;\n\n    that._resetHoveredArgument();\n\n    if (that._axisHoverEnabled && that._argumentAxis.coordsIn(x, y)) {\n      that._hoverArgument(getData(e, ARG_DATA));\n\n      return true;\n    }\n  },\n  _pointerComplete: function _pointerComplete(point, x, y) {\n    var that = this;\n    that.hoveredSeries && that.hoveredSeries.updateHover(x, y);\n\n    that._resetTimer();\n\n    that._moveCrosshair(point, x, y);\n\n    baseTrackerPrototype._pointerComplete.call(that, point);\n  },\n  _legendClick: function _legendClick(item, e) {\n    var series = this._storedSeries[item.id];\n\n    this._triggerLegendClick({\n      target: series,\n      event: e\n    }, SERIES_CLICK);\n  },\n  _hoverLegendItem: function _hoverLegendItem(x, y) {\n    this._stuckSeries = null;\n\n    this._hideCrosshair();\n\n    baseTrackerPrototype._hoverLegendItem.call(this, x, y);\n  },\n  _pointerOnPoint: function _pointerOnPoint(point, x, y, e) {\n    this._setStuckSeries(e, point.series, x, y);\n\n    this._releaseHoveredSeries();\n\n    baseTrackerPrototype._pointerOnPoint.call(this, point, x, y, e);\n  },\n  _notifyLegendOnHoverArgument: false,\n  _getArgumentHoverMode: function _getArgumentHoverMode() {\n    return correctHoverMode(this._argumentAxis);\n  },\n  dispose: function dispose() {\n    this._resetTimer();\n\n    baseTrackerPrototype.dispose.call(this);\n  }\n});\n\nvar PieTracker = function PieTracker(options) {\n  this.ctor(options);\n};\n\nextend(PieTracker.prototype, baseTrackerPrototype, {\n  _isPointerOut: function _isPointerOut(_, point) {\n    return !point;\n  },\n  _legendClick: function _legendClick(item, e) {\n    var that = this;\n    var points = [];\n\n    that._storedSeries.forEach(function (s) {\n      return points.push.apply(points, s.getPointsByKeys(item.argument, item.argumentIndex));\n    });\n\n    that._eventTrigger(LEGEND_CLICK, {\n      target: item.argument,\n      points: points,\n      event: e\n    });\n  },\n  _pointClick: function _pointClick(point, e) {\n    this._eventTrigger(POINT_CLICK, {\n      target: point,\n      event: e\n    });\n  },\n  _hoverLegendItem: function _hoverLegendItem(x, y) {\n    var that = this;\n\n    var item = that._legend.getItemByCoord(x, y);\n\n    that._resetHoveredArgument();\n\n    if (item) {\n      that._hoverArgument(item.argument, item.argumentIndex);\n    } else {\n      that.clearHover();\n    }\n  },\n  _getArgumentHoverMode: function _getArgumentHoverMode() {\n    return correctHoverMode(this._legend);\n  },\n  _hoverArgumentAxis: _noop,\n  _setStuckSeries: _noop,\n  _getCanvas: _noop,\n  _notifyLegendOnHoverArgument: true\n});\nexports.ChartTracker = ChartTracker;\nexports.PieTracker = PieTracker;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/chart_components/tracker.js"],"names":["domAdapter","require","eventsEngine","clickEvent","extend","each","consts","eventsConsts","events","vizUtils","pointerEvents","holdEvent","addNamespace","isDefined","_normalizeEnum","normalizeEnum","_floor","Math","floor","_each","_noop","noop","HOVER_STATE","states","hoverMark","NORMAL_STATE","normalMark","EVENT_NS","DOT_EVENT_NS","POINTER_ACTION","down","move","LEGEND_CLICK","SERIES_CLICK","POINT_CLICK","POINT_DATA","SERIES_DATA","ARG_DATA","DELAY","NONE_MODE","ALL_ARGUMENT_POINTS_MODE","INCLUDE_POINTS_MODE","EXLUDE_POINTS_MODE","LEGEND_HOVER_MODES","getData","event","dataKey","target","tagName","parentNode","eventCanceled","cancel","getOptions","inCanvas","canvas","x","y","left","right","top","bottom","correctLegendHoverMode","mode","indexOf","correctHoverMode","hoverMode","baseTrackerPrototype","ctor","options","that","data","tracker","_renderer","renderer","_legend","legend","_tooltip","tooltip","_eventTrigger","eventTrigger","_seriesGroup","seriesGroup","off","on","showPointTooltip","_showPointTooltip","hidePointTooltip","_hidePointTooltip","root","_pointerHandler","name","_clickHandler","timeout","update","_chart","chart","updateSeries","series","resetDecorations","noHoveredSeries","some","s","hoveredSeries","_hoveredPoint","_storedSeries","_clean","initHatching","clearSelection","_hideTooltip","pointAtShownTooltip","clearHover","setCanvases","mainCanvas","paneCanvases","_mainCanvas","_canvases","repairTooltip","point","isVisible","_showTooltip","_setHoveredPoint","_releaseHoveredPoint","hover","isEnabled","_setHoveredSeries","_releaseHoveredSeries","needSetHoverView","hoveredPoint","forEach","getPoints","_hoveredArgumentPoints","_resetHoveredArgument","silent","hide","tooltipFormatObject","eventData","getTooltipFormatObject","isShared","getStackedPoints","valueText","points","coords","getTooltipParams","getLocation","rootOffset","getRootOffset","show","pointWithTooltip","_enableOutHandler","_outHandler","handler","e","pageX","pageY","_pointerOut","_disableOutHandler","getDocument","stopCurrentHandling","force","_triggerLegendClick","eventArgs","elementClick","_hoverLegendItem","item","getItemByCoord","legendHoverMode","id","isHovered","lastHoverMode","_hoverArgument","argument","argumentIndex","_getArgumentHoverMode","_hoveredArgument","_argumentIndex","_notifySeries","action","notifyLegend","_notifyLegendOnHoverArgument","fullState","notify","_getCanvas","getPointByCoord","getMarkerVisibility","coordsIn","_stuckSeries","_hoverArgumentAxis","_isPointerOut","getNeighborPoint","_stickyHovering","_setTimeout","_setStuckSeries","_pointerComplete","type","pointerType","_pointerOnPoint","axis","_argumentAxis","_legendClick","_pointClick","dispose","ChartTracker","prototype","call","argumentAxis","_axisHoverEnabled","_rotated","rotated","_crosshair","crosshair","stickyHovering","canvases","i","length","c","_hideCrosshair","_moveCrosshair","_resetTimer","_getSeriesForShared","distance","_","push","p","getCrosshairData","d","getDistance","callback","keeper","_timeoutKeeper","_hoverTimeout","setTimeout","clearTimeout","_stopEvent","cancelable","preventDefault","stopPropagation","apply","arguments","updateHover","PieTracker","getPointsByKeys","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/chart_components/tracker.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar domAdapter = require(\"../../core/dom_adapter\");\r\nvar eventsEngine = require(\"../../events/core/events_engine\");\r\nvar clickEvent = require(\"../../events/click\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar consts = require(\"../components/consts\");\r\nvar eventsConsts = consts.events;\r\nvar vizUtils = require(\"../core/utils\");\r\nvar pointerEvents = require(\"../../events/pointer\");\r\nvar holdEvent = require(\"../../events/hold\");\r\nvar addNamespace = require(\"../../events/utils\").addNamespace;\r\nvar isDefined = require(\"../../core/utils/type\").isDefined;\r\nvar _normalizeEnum = require(\"../core/utils\").normalizeEnum;\r\nvar _floor = Math.floor;\r\nvar _each = each;\r\nvar _noop = require(\"../../core/utils/common\").noop;\r\nvar HOVER_STATE = consts.states.hoverMark;\r\nvar NORMAL_STATE = consts.states.normalMark;\r\nvar EVENT_NS = \"dxChartTracker\";\r\nvar DOT_EVENT_NS = \".\" + EVENT_NS;\r\nvar POINTER_ACTION = addNamespace([pointerEvents.down, pointerEvents.move], EVENT_NS);\r\nvar LEGEND_CLICK = \"legendClick\";\r\nvar SERIES_CLICK = \"seriesClick\";\r\nvar POINT_CLICK = \"pointClick\";\r\nvar POINT_DATA = \"chart-data-point\";\r\nvar SERIES_DATA = \"chart-data-series\";\r\nvar ARG_DATA = \"chart-data-argument\";\r\nvar DELAY = 100;\r\nvar NONE_MODE = \"none\";\r\nvar ALL_ARGUMENT_POINTS_MODE = \"allargumentpoints\";\r\nvar INCLUDE_POINTS_MODE = \"includepoints\";\r\nvar EXLUDE_POINTS_MODE = \"excludepoints\";\r\nvar LEGEND_HOVER_MODES = [INCLUDE_POINTS_MODE, EXLUDE_POINTS_MODE, NONE_MODE];\r\n\r\nfunction getData(event, dataKey) {\r\n    var target = event.target;\r\n    return (\"tspan\" === target.tagName ? target.parentNode : target)[dataKey]\r\n}\r\n\r\nfunction eventCanceled(event, target) {\r\n    return event.cancel || !target.getOptions()\r\n}\r\n\r\nfunction inCanvas(canvas, x, y) {\r\n    return x >= canvas.left && x <= canvas.right && y >= canvas.top && y <= canvas.bottom\r\n}\r\n\r\nfunction correctLegendHoverMode(mode) {\r\n    if (LEGEND_HOVER_MODES.indexOf(mode) > -1) {\r\n        return mode\r\n    } else {\r\n        return INCLUDE_POINTS_MODE\r\n    }\r\n}\r\n\r\nfunction correctHoverMode(target) {\r\n    var mode = target.getOptions().hoverMode;\r\n    return mode === NONE_MODE ? mode : ALL_ARGUMENT_POINTS_MODE\r\n}\r\nvar baseTrackerPrototype = {\r\n    ctor: function(options) {\r\n        var that = this;\r\n        var data = {\r\n            tracker: that\r\n        };\r\n        that._renderer = options.renderer;\r\n        that._legend = options.legend;\r\n        that._tooltip = options.tooltip;\r\n        that._eventTrigger = options.eventTrigger;\r\n        that._seriesGroup = options.seriesGroup;\r\n        options.seriesGroup.off(DOT_EVENT_NS).on(addNamespace(eventsConsts.showPointTooltip, EVENT_NS), data, that._showPointTooltip).on(addNamespace(eventsConsts.hidePointTooltip, EVENT_NS), data, that._hidePointTooltip);\r\n        that._renderer.root.off(DOT_EVENT_NS).on(POINTER_ACTION, data, that._pointerHandler).on(addNamespace(clickEvent.name, EVENT_NS), data, that._clickHandler).on(addNamespace(holdEvent.name, EVENT_NS), {\r\n            timeout: 300\r\n        }, _noop)\r\n    },\r\n    update: function(options) {\r\n        this._chart = options.chart\r\n    },\r\n    updateSeries: function(series, resetDecorations) {\r\n        var that = this;\r\n        var noHoveredSeries = !(series && series.some(function(s) {\r\n            return s === that.hoveredSeries\r\n        }) || that._hoveredPoint && that._hoveredPoint.series);\r\n        if (that._storedSeries !== series) {\r\n            that._storedSeries = series || []\r\n        }\r\n        if (noHoveredSeries) {\r\n            that._clean();\r\n            that._renderer.initHatching()\r\n        }\r\n        if (resetDecorations) {\r\n            that.clearSelection();\r\n            if (!noHoveredSeries) {\r\n                that._hideTooltip(that.pointAtShownTooltip);\r\n                that.clearHover()\r\n            }\r\n        }\r\n    },\r\n    setCanvases: function(mainCanvas, paneCanvases) {\r\n        this._mainCanvas = mainCanvas;\r\n        this._canvases = paneCanvases\r\n    },\r\n    repairTooltip: function() {\r\n        var point = this.pointAtShownTooltip;\r\n        if (!point || !point.series || !point.isVisible()) {\r\n            this._hideTooltip(point, true)\r\n        } else {\r\n            this._showTooltip(point)\r\n        }\r\n    },\r\n    _setHoveredPoint: function(point) {\r\n        if (point === this._hoveredPoint) {\r\n            return\r\n        }\r\n        this._releaseHoveredPoint();\r\n        point.hover();\r\n        this._hoveredPoint = point\r\n    },\r\n    _releaseHoveredPoint: function() {\r\n        if (this._hoveredPoint && this._hoveredPoint.getOptions()) {\r\n            this._hoveredPoint.clearHover();\r\n            this._hoveredPoint = null;\r\n            if (this._tooltip.isEnabled()) {\r\n                this._hideTooltip(this._hoveredPoint)\r\n            }\r\n        }\r\n    },\r\n    _setHoveredSeries: function(series, mode) {\r\n        this._releaseHoveredSeries();\r\n        this._releaseHoveredPoint();\r\n        series.hover(mode);\r\n        this.hoveredSeries = series\r\n    },\r\n    _releaseHoveredSeries: function(needSetHoverView, hoveredPoint) {\r\n        if (this.hoveredSeries) {\r\n            this.hoveredSeries.clearHover();\r\n            this.hoveredSeries = null\r\n        }\r\n    },\r\n    clearSelection: function() {\r\n        this._storedSeries.forEach(function(series) {\r\n            if (series) {\r\n                series.clearSelection();\r\n                series.getPoints().forEach(function(point) {\r\n                    point.clearSelection()\r\n                })\r\n            }\r\n        })\r\n    },\r\n    _clean: function() {\r\n        var that = this;\r\n        that.hoveredPoint = that.hoveredSeries = that._hoveredArgumentPoints = null;\r\n        that._hideTooltip(that.pointAtShownTooltip)\r\n    },\r\n    clearHover: function() {\r\n        this._resetHoveredArgument();\r\n        this._releaseHoveredSeries();\r\n        this._releaseHoveredPoint()\r\n    },\r\n    _hideTooltip: function(point, silent) {\r\n        var that = this;\r\n        if (!that._tooltip || point && that.pointAtShownTooltip !== point) {\r\n            return\r\n        }\r\n        if (!silent && that.pointAtShownTooltip) {\r\n            that.pointAtShownTooltip = null\r\n        }\r\n        that._tooltip.hide()\r\n    },\r\n    _showTooltip: function(point) {\r\n        var that = this;\r\n        var tooltipFormatObject;\r\n        var eventData;\r\n        if (point && point.getOptions()) {\r\n            tooltipFormatObject = point.getTooltipFormatObject(that._tooltip, that._tooltip.isShared() && that._chart.getStackedPoints(point));\r\n            if (!isDefined(tooltipFormatObject.valueText) && !tooltipFormatObject.points || !point.isVisible()) {\r\n                return\r\n            }\r\n            if (!that.pointAtShownTooltip || that.pointAtShownTooltip !== point) {\r\n                eventData = {\r\n                    target: point\r\n                }\r\n            }\r\n            var coords = point.getTooltipParams(that._tooltip.getLocation());\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            coords.x += rootOffset.left;\r\n            coords.y += rootOffset.top;\r\n            if (!that._tooltip.show(tooltipFormatObject, coords, eventData)) {\r\n                return\r\n            }\r\n            that.pointAtShownTooltip = point\r\n        }\r\n    },\r\n    _showPointTooltip: function(event, point) {\r\n        var that = event.data.tracker;\r\n        var pointWithTooltip = that.pointAtShownTooltip;\r\n        if (pointWithTooltip && pointWithTooltip !== point) {\r\n            that._hideTooltip(pointWithTooltip)\r\n        }\r\n        that._showTooltip(point)\r\n    },\r\n    _hidePointTooltip: function(event, point) {\r\n        event.data.tracker._hideTooltip(point)\r\n    },\r\n    _enableOutHandler: function() {\r\n        if (this._outHandler) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var handler = function(e) {\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            var x = _floor(e.pageX - rootOffset.left);\r\n            var y = _floor(e.pageY - rootOffset.top);\r\n            if (!inCanvas(that._mainCanvas, x, y)) {\r\n                that._pointerOut();\r\n                that._disableOutHandler()\r\n            }\r\n        };\r\n        eventsEngine.on(domAdapter.getDocument(), POINTER_ACTION, handler);\r\n        this._outHandler = handler\r\n    },\r\n    _disableOutHandler: function() {\r\n        this._outHandler && eventsEngine.off(domAdapter.getDocument(), POINTER_ACTION, this._outHandler);\r\n        this._outHandler = null\r\n    },\r\n    stopCurrentHandling: function() {\r\n        this._pointerOut(true)\r\n    },\r\n    _pointerOut: function(force) {\r\n        this.clearHover();\r\n        (force || this._tooltip.isEnabled()) && this._hideTooltip(this.pointAtShownTooltip)\r\n    },\r\n    _triggerLegendClick: function(eventArgs, elementClick) {\r\n        var eventTrigger = this._eventTrigger;\r\n        eventTrigger(LEGEND_CLICK, eventArgs, function() {\r\n            !eventCanceled(eventArgs.event, eventArgs.target) && eventTrigger(elementClick, eventArgs)\r\n        })\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        var that = this;\r\n        var item = that._legend.getItemByCoord(x, y);\r\n        var series;\r\n        var legendHoverMode = correctLegendHoverMode(that._legend.getOptions().hoverMode);\r\n        if (item) {\r\n            series = that._storedSeries[item.id];\r\n            if (!series.isHovered() || series.lastHoverMode !== legendHoverMode) {\r\n                that._setHoveredSeries(series, legendHoverMode)\r\n            }\r\n            that._tooltip.isEnabled() && that._hideTooltip(that.pointAtShownTooltip)\r\n        } else {\r\n            that.clearHover()\r\n        }\r\n    },\r\n    _hoverArgument: function(argument, argumentIndex) {\r\n        var that = this;\r\n        var hoverMode = that._getArgumentHoverMode();\r\n        if (isDefined(argument)) {\r\n            that._releaseHoveredPoint();\r\n            that._hoveredArgument = argument;\r\n            that._argumentIndex = argumentIndex;\r\n            that._notifySeries({\r\n                action: \"pointHover\",\r\n                notifyLegend: that._notifyLegendOnHoverArgument,\r\n                target: {\r\n                    argument: argument,\r\n                    fullState: HOVER_STATE,\r\n                    argumentIndex: argumentIndex,\r\n                    getOptions: function() {\r\n                        return {\r\n                            hoverMode: hoverMode\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _resetHoveredArgument: function() {\r\n        var that = this;\r\n        var hoverMode;\r\n        if (isDefined(that._hoveredArgument)) {\r\n            hoverMode = that._getArgumentHoverMode();\r\n            that._notifySeries({\r\n                action: \"clearPointHover\",\r\n                notifyLegend: that._notifyLegendOnHoverArgument,\r\n                target: {\r\n                    fullState: NORMAL_STATE,\r\n                    argumentIndex: that._argumentIndex,\r\n                    argument: that._hoveredArgument,\r\n                    getOptions: function() {\r\n                        return {\r\n                            hoverMode: hoverMode\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            that._hoveredArgument = null\r\n        }\r\n    },\r\n    _notifySeries: function(data) {\r\n        this._storedSeries.forEach(function(series) {\r\n            series.notify(data)\r\n        })\r\n    },\r\n    _pointerHandler: function(e) {\r\n        var that = e.data.tracker;\r\n        var rootOffset = that._renderer.getRootOffset();\r\n        var x = _floor(e.pageX - rootOffset.left);\r\n        var y = _floor(e.pageY - rootOffset.top);\r\n        var canvas = that._getCanvas(x, y);\r\n        var series = getData(e, SERIES_DATA);\r\n        var point = getData(e, POINT_DATA) || series && series.getPointByCoord(x, y);\r\n        if (point && !point.getMarkerVisibility()) {\r\n            point = void 0\r\n        }\r\n        that._enableOutHandler();\r\n        if (that._legend.coordsIn(x, y)) {\r\n            that._hoverLegendItem(x, y);\r\n            return\r\n        }\r\n        if (that.hoveredSeries && that.hoveredSeries !== that._stuckSeries) {\r\n            that._releaseHoveredSeries()\r\n        }\r\n        if (that._hoverArgumentAxis(x, y, e)) {\r\n            return\r\n        }\r\n        if (that._isPointerOut(canvas, point)) {\r\n            that._pointerOut()\r\n        }\r\n        if (!canvas && !point) {\r\n            return\r\n        }\r\n        if (series && !point) {\r\n            point = series.getNeighborPoint(x, y);\r\n            if (!that._stickyHovering && point && !point.coordsIn(x, y)) {\r\n                point = null\r\n            }\r\n            if (series !== that.hoveredSeries) {\r\n                that._setTimeout(function() {\r\n                    that._setHoveredSeries(series);\r\n                    that._setStuckSeries(e, series, x, y);\r\n                    that._pointerComplete(point, x, y)\r\n                }, series);\r\n                return\r\n            }\r\n        } else {\r\n            if (point) {\r\n                if (e.type !== pointerEvents.move && \"touch\" !== e.pointerType) {\r\n                    return\r\n                }\r\n                if (that.hoveredSeries) {\r\n                    that._setTimeout(function() {\r\n                        that._pointerOnPoint(point, x, y, e)\r\n                    }, point)\r\n                } else {\r\n                    that._pointerOnPoint(point, x, y, e)\r\n                }\r\n                return\r\n            } else {\r\n                if (that._setStuckSeries(e, void 0, x, y) && that._stickyHovering) {\r\n                    series = that._stuckSeries;\r\n                    point = series.getNeighborPoint(x, y);\r\n                    that._releaseHoveredSeries();\r\n                    point && point.getMarkerVisibility() && that._setHoveredPoint(point)\r\n                } else {\r\n                    if (!that._stickyHovering) {\r\n                        that._pointerOut()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        that._pointerComplete(point, x, y)\r\n    },\r\n    _pointerOnPoint: function(point, x, y) {\r\n        this._resetHoveredArgument();\r\n        this._setHoveredPoint(point);\r\n        this._pointerComplete(point, x, y)\r\n    },\r\n    _pointerComplete: function(point) {\r\n        this.pointAtShownTooltip !== point && this._tooltip.isEnabled() && this._showTooltip(point)\r\n    },\r\n    _clickHandler: function(e) {\r\n        var that = e.data.tracker;\r\n        var rootOffset = that._renderer.getRootOffset();\r\n        var x = _floor(e.pageX - rootOffset.left);\r\n        var y = _floor(e.pageY - rootOffset.top);\r\n        var point = getData(e, POINT_DATA);\r\n        var series = that._stuckSeries || getData(e, SERIES_DATA) || point && point.series;\r\n        var axis = that._argumentAxis;\r\n        if (that._legend.coordsIn(x, y)) {\r\n            var item = that._legend.getItemByCoord(x, y);\r\n            if (item) {\r\n                that._legendClick(item, e)\r\n            }\r\n        } else {\r\n            if (axis && axis.coordsIn(x, y)) {\r\n                var argument = getData(e, ARG_DATA);\r\n                if (isDefined(argument)) {\r\n                    that._eventTrigger(\"argumentAxisClick\", {\r\n                        argument: argument,\r\n                        event: e\r\n                    })\r\n                }\r\n            } else {\r\n                if (series) {\r\n                    point = point || series.getPointByCoord(x, y);\r\n                    if (point && point.getMarkerVisibility()) {\r\n                        that._pointClick(point, e)\r\n                    } else {\r\n                        getData(e, SERIES_DATA) && that._eventTrigger(SERIES_CLICK, {\r\n                            target: series,\r\n                            event: e\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        that._disableOutHandler();\r\n        that._renderer.root.off(DOT_EVENT_NS);\r\n        that._seriesGroup.off(DOT_EVENT_NS)\r\n    }\r\n};\r\nvar ChartTracker = function(options) {\r\n    this.ctor(options)\r\n};\r\nextend(ChartTracker.prototype, baseTrackerPrototype, {\r\n    _pointClick: function(point, event) {\r\n        var that = this;\r\n        var eventTrigger = that._eventTrigger;\r\n        var series = point.series;\r\n        eventTrigger(POINT_CLICK, {\r\n            target: point,\r\n            event: event\r\n        }, function() {\r\n            !eventCanceled(event, series) && eventTrigger(SERIES_CLICK, {\r\n                target: series,\r\n                event: event\r\n            })\r\n        })\r\n    },\r\n    update: function(options) {\r\n        var that = this;\r\n        baseTrackerPrototype.update.call(this, options);\r\n        that._argumentAxis = options.argumentAxis || {};\r\n        that._axisHoverEnabled = that._argumentAxis && _normalizeEnum(that._argumentAxis.getOptions().hoverMode) === ALL_ARGUMENT_POINTS_MODE;\r\n        that._rotated = options.rotated;\r\n        that._crosshair = options.crosshair;\r\n        that._stickyHovering = options.stickyHovering\r\n    },\r\n    _getCanvas: function(x, y) {\r\n        var that = this;\r\n        var canvases = that._canvases || [];\r\n        for (var i = 0; i < canvases.length; i++) {\r\n            var c = canvases[i];\r\n            if (inCanvas(c, x, y)) {\r\n                return c\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    _isPointerOut: function(canvas) {\r\n        return !canvas && this._stuckSeries\r\n    },\r\n    _hideCrosshair: function() {\r\n        this._crosshair && this._crosshair.hide()\r\n    },\r\n    _moveCrosshair: function(point, x, y) {\r\n        if (point && this._crosshair && point.isVisible()) {\r\n            this._crosshair.show({\r\n                point: point,\r\n                x: x,\r\n                y: y\r\n            })\r\n        }\r\n    },\r\n    _clean: function() {\r\n        var that = this;\r\n        baseTrackerPrototype._clean.call(that);\r\n        that._resetTimer();\r\n        that._stuckSeries = null\r\n    },\r\n    _getSeriesForShared: function(x, y) {\r\n        var that = this;\r\n        var points = [];\r\n        var point = null;\r\n        var distance = 1 / 0;\r\n        if (that._tooltip.isShared() && !that.hoveredSeries) {\r\n            _each(that._storedSeries, function(_, series) {\r\n                var point = series.getNeighborPoint(x, y);\r\n                point && points.push(point)\r\n            });\r\n            _each(points, function(_, p) {\r\n                var coords = p.getCrosshairData(x, y);\r\n                var d = vizUtils.getDistance(x, y, coords.x, coords.y);\r\n                if (d < distance) {\r\n                    point = p;\r\n                    distance = d\r\n                }\r\n            })\r\n        }\r\n        return point && point.series\r\n    },\r\n    _setTimeout: function(callback, keeper) {\r\n        var that = this;\r\n        if (that._timeoutKeeper !== keeper) {\r\n            that._resetTimer();\r\n            that._hoverTimeout = setTimeout(function() {\r\n                callback();\r\n                that._timeoutKeeper = null\r\n            }, DELAY);\r\n            that._timeoutKeeper = keeper\r\n        }\r\n    },\r\n    _resetTimer: function() {\r\n        clearTimeout(this._hoverTimeout);\r\n        this._timeoutKeeper = this._hoverTimeout = null\r\n    },\r\n    _stopEvent: function(e) {\r\n        if (!isDefined(e.cancelable) || e.cancelable) {\r\n            e.preventDefault();\r\n            e.stopPropagation()\r\n        }\r\n    },\r\n    _setStuckSeries: function(e, series, x, y) {\r\n        if (\"mouse\" !== e.pointerType) {\r\n            this._stuckSeries = null\r\n        } else {\r\n            this._stuckSeries = series || this._stuckSeries || this._getSeriesForShared(x, y)\r\n        }\r\n        return !!this._stuckSeries\r\n    },\r\n    _pointerOut: function() {\r\n        var that = this;\r\n        that._stuckSeries = null;\r\n        that._hideCrosshair();\r\n        that._resetTimer();\r\n        baseTrackerPrototype._pointerOut.apply(that, arguments)\r\n    },\r\n    _hoverArgumentAxis: function(x, y, e) {\r\n        var that = this;\r\n        that._resetHoveredArgument();\r\n        if (that._axisHoverEnabled && that._argumentAxis.coordsIn(x, y)) {\r\n            that._hoverArgument(getData(e, ARG_DATA));\r\n            return true\r\n        }\r\n    },\r\n    _pointerComplete: function(point, x, y) {\r\n        var that = this;\r\n        that.hoveredSeries && that.hoveredSeries.updateHover(x, y);\r\n        that._resetTimer();\r\n        that._moveCrosshair(point, x, y);\r\n        baseTrackerPrototype._pointerComplete.call(that, point)\r\n    },\r\n    _legendClick: function(item, e) {\r\n        var series = this._storedSeries[item.id];\r\n        this._triggerLegendClick({\r\n            target: series,\r\n            event: e\r\n        }, SERIES_CLICK)\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        this._stuckSeries = null;\r\n        this._hideCrosshair();\r\n        baseTrackerPrototype._hoverLegendItem.call(this, x, y)\r\n    },\r\n    _pointerOnPoint: function(point, x, y, e) {\r\n        this._setStuckSeries(e, point.series, x, y);\r\n        this._releaseHoveredSeries();\r\n        baseTrackerPrototype._pointerOnPoint.call(this, point, x, y, e)\r\n    },\r\n    _notifyLegendOnHoverArgument: false,\r\n    _getArgumentHoverMode: function() {\r\n        return correctHoverMode(this._argumentAxis)\r\n    },\r\n    dispose: function() {\r\n        this._resetTimer();\r\n        baseTrackerPrototype.dispose.call(this)\r\n    }\r\n});\r\nvar PieTracker = function(options) {\r\n    this.ctor(options)\r\n};\r\nextend(PieTracker.prototype, baseTrackerPrototype, {\r\n    _isPointerOut: function(_, point) {\r\n        return !point\r\n    },\r\n    _legendClick: function(item, e) {\r\n        var that = this;\r\n        var points = [];\r\n        that._storedSeries.forEach(function(s) {\r\n            return points.push.apply(points, s.getPointsByKeys(item.argument, item.argumentIndex))\r\n        });\r\n        that._eventTrigger(LEGEND_CLICK, {\r\n            target: item.argument,\r\n            points: points,\r\n            event: e\r\n        })\r\n    },\r\n    _pointClick: function(point, e) {\r\n        this._eventTrigger(POINT_CLICK, {\r\n            target: point,\r\n            event: e\r\n        })\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        var that = this;\r\n        var item = that._legend.getItemByCoord(x, y);\r\n        that._resetHoveredArgument();\r\n        if (item) {\r\n            that._hoverArgument(item.argument, item.argumentIndex)\r\n        } else {\r\n            that.clearHover()\r\n        }\r\n    },\r\n    _getArgumentHoverMode: function() {\r\n        return correctHoverMode(this._legend)\r\n    },\r\n    _hoverArgumentAxis: _noop,\r\n    _setStuckSeries: _noop,\r\n    _getCanvas: _noop,\r\n    _notifyLegendOnHoverArgument: true\r\n});\r\nexports.ChartTracker = ChartTracker;\r\nexports.PieTracker = PieTracker;\r\n"]},"metadata":{},"sourceType":"script"}