{"ast":null,"code":"/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.grouping.core.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _class = require(\"../../core/class\");\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _uiData_grid = require(\"./ui.data_grid.core\");\n\nvar _uiData_grid2 = _interopRequireDefault(_uiData_grid);\n\nvar _utils = require(\"../../data/utils\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nexports.createOffsetFilter = function (path, storeLoadOptions) {\n  var groups = (0, _utils.normalizeSortingInfo)(storeLoadOptions.group);\n  var i;\n  var j;\n  var filterElement;\n  var selector;\n  var currentFilter;\n  var filter = [];\n\n  for (i = 0; i < path.length; i++) {\n    filterElement = [];\n\n    for (j = 0; j <= i; j++) {\n      selector = groups[j].selector;\n\n      if (i === j && (null === path[j] || false === path[j] || true === path[j])) {\n        if (false === path[j]) {\n          filterElement.push([selector, \"=\", groups[j].desc ? true : null]);\n        } else {\n          if (path[j] ? !groups[j].desc : groups[j].desc) {\n            filterElement.push([selector, \"<>\", path[j]]);\n          } else {\n            filterElement.push([selector, \"<>\", null]);\n            filterElement.push([selector, \"=\", null]);\n          }\n        }\n      } else {\n        currentFilter = [selector, i === j ? groups[j].desc ? \">\" : \"<\" : \"=\", path[j]];\n\n        if (\"<\" === currentFilter[1]) {\n          filterElement.push([currentFilter, \"or\", [selector, \"=\", null]]);\n        } else {\n          filterElement.push(currentFilter);\n        }\n      }\n    }\n\n    filter.push(_uiData_grid2.default.combineFilters(filterElement));\n  }\n\n  filter = _uiData_grid2.default.combineFilters(filter, \"or\");\n  return _uiData_grid2.default.combineFilters([filter, storeLoadOptions.filter]);\n};\n\nexports.GroupingHelper = _class2.default.inherit(function () {\n  var findGroupInfoByKey = function findGroupInfoByKey(groupsInfo, key) {\n    var hash = groupsInfo.hash;\n    return hash && hash[JSON.stringify(key)];\n  };\n\n  var getGroupInfoIndexByOffset = function getGroupInfoIndexByOffset(groupsInfo, offset) {\n    var index;\n    var leftIndex = 0;\n    var rightIndex = groupsInfo.length - 1;\n\n    if (!groupsInfo.length) {\n      return 0;\n    }\n\n    do {\n      var middleIndex = rightIndex + leftIndex >> 1;\n\n      if (groupsInfo[middleIndex].offset > offset) {\n        rightIndex = middleIndex;\n      } else {\n        leftIndex = middleIndex;\n      }\n    } while (rightIndex - leftIndex > 1);\n\n    for (index = leftIndex; index <= rightIndex; index++) {\n      if (groupsInfo[index].offset > offset) {\n        break;\n      }\n    }\n\n    return index;\n  };\n\n  var cleanGroupsInfo = function cleanGroupsInfo(groupsInfo, groupIndex, groupsCount) {\n    var i;\n\n    for (i = 0; i < groupsInfo.length; i++) {\n      if (groupIndex + 1 >= groupsCount) {\n        groupsInfo[i].children = [];\n      } else {\n        cleanGroupsInfo(groupsInfo[i].children, groupIndex + 1, groupsCount);\n      }\n    }\n  };\n\n  var calculateItemsCount = function calculateItemsCount(that, items, groupsCount) {\n    var i;\n    var result = 0;\n\n    if (items) {\n      if (!groupsCount) {\n        result = items.length;\n      } else {\n        for (i = 0; i < items.length; i++) {\n          if (that.isGroupItemCountable(items[i])) {\n            result++;\n          }\n\n          result += calculateItemsCount(that, items[i].items, groupsCount - 1);\n        }\n      }\n    }\n\n    return result;\n  };\n\n  return {\n    ctor: function ctor(dataSourceAdapter) {\n      this._dataSource = dataSourceAdapter;\n      this.reset();\n    },\n    reset: function reset() {\n      this._groupsInfo = [];\n      this._totalCountCorrection = 0;\n    },\n    totalCountCorrection: function totalCountCorrection() {\n      return this._totalCountCorrection;\n    },\n    updateTotalItemsCount: function updateTotalItemsCount(totalCountCorrection) {\n      this._totalCountCorrection = totalCountCorrection || 0;\n    },\n    isGroupItemCountable: function isGroupItemCountable(item) {\n      return !this._isVirtualPaging() || !item.isContinuation;\n    },\n    _isVirtualPaging: function _isVirtualPaging() {\n      var scrollingMode = this._dataSource.option(\"scrolling.mode\");\n\n      return \"virtual\" === scrollingMode || \"infinite\" === scrollingMode;\n    },\n    itemsCount: function itemsCount() {\n      var dataSourceAdapter = this._dataSource;\n      var dataSource = dataSourceAdapter._dataSource;\n\n      var groupCount = _uiData_grid2.default.normalizeSortingInfo(dataSource.group() || []).length;\n\n      var itemsCount = calculateItemsCount(this, dataSource.items(), groupCount);\n      return itemsCount;\n    },\n    foreachGroups: function foreachGroups(callback, childrenAtFirst, foreachCollapsedGroups, updateOffsets, updateParentOffsets) {\n      var that = this;\n\n      function foreachGroupsCore(groupsInfo, callback, childrenAtFirst, parents) {\n        var callbackResults = [];\n\n        function executeCallback(callback, data, parents, callbackResults) {\n          var callbackResult = data && callback(data, parents);\n          callbackResult && callbackResults.push(callbackResult);\n          return callbackResult;\n        }\n\n        for (var i = 0; i < groupsInfo.length; i++) {\n          parents.push(groupsInfo[i].data);\n\n          if (!childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\n            return false;\n          }\n\n          if (!groupsInfo[i].data || groupsInfo[i].data.isExpanded || foreachCollapsedGroups) {\n            var children = groupsInfo[i].children;\n            var callbackResult = children.length && foreachGroupsCore(children, callback, childrenAtFirst, parents);\n            callbackResult && callbackResults.push(callbackResult);\n\n            if (false === callbackResult) {\n              return false;\n            }\n          }\n\n          if (childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\n            return false;\n          }\n\n          if (!groupsInfo[i].data || groupsInfo[i].data.offset !== groupsInfo[i].offset) {\n            updateOffsets = true;\n          }\n\n          parents.pop();\n        }\n\n        var currentParents = updateParentOffsets && parents.slice(0);\n        return updateOffsets && _deferred.when.apply(_renderer2.default, callbackResults).always(function () {\n          that._updateGroupInfoOffsets(groupsInfo, currentParents);\n        });\n      }\n\n      return foreachGroupsCore(that._groupsInfo, callback, childrenAtFirst, []);\n    },\n    _updateGroupInfoOffsets: function _updateGroupInfoOffsets(groupsInfo, parents) {\n      parents = parents || [];\n\n      for (var index = 0; index < groupsInfo.length; index++) {\n        var groupInfo = groupsInfo[index];\n\n        if (groupInfo.data && groupInfo.data.offset !== groupInfo.offset) {\n          groupInfo.offset = groupInfo.data.offset;\n\n          for (var parentIndex = 0; parentIndex < parents.length; parentIndex++) {\n            parents[parentIndex].offset = groupInfo.offset;\n          }\n        }\n      }\n\n      groupsInfo.sort(function (a, b) {\n        return a.offset - b.offset;\n      });\n    },\n    findGroupInfo: function findGroupInfo(path) {\n      var that = this;\n      var pathIndex;\n      var groupInfo;\n      var groupsInfo = that._groupsInfo;\n\n      for (pathIndex = 0; groupsInfo && pathIndex < path.length; pathIndex++) {\n        groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\n        groupsInfo = groupInfo && groupInfo.children;\n      }\n\n      return groupInfo && groupInfo.data;\n    },\n    addGroupInfo: function addGroupInfo(groupInfoData) {\n      var that = this;\n      var index;\n      var groupInfo;\n      var path = groupInfoData.path;\n      var pathIndex;\n      var groupsInfo = that._groupsInfo;\n\n      for (pathIndex = 0; pathIndex < path.length; pathIndex++) {\n        groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\n\n        if (!groupInfo) {\n          groupInfo = {\n            key: path[pathIndex],\n            offset: groupInfoData.offset,\n            data: {\n              offset: groupInfoData.offset,\n              isExpanded: true,\n              path: path.slice(0, pathIndex + 1)\n            },\n            children: []\n          };\n          index = getGroupInfoIndexByOffset(groupsInfo, groupInfoData.offset);\n          groupsInfo.splice(index, 0, groupInfo);\n          groupsInfo.hash = groupsInfo.hash || {};\n          groupsInfo.hash[JSON.stringify(groupInfo.key)] = groupInfo;\n        }\n\n        if (pathIndex === path.length - 1) {\n          groupInfo.data = groupInfoData;\n\n          if (groupInfo.offset !== groupInfoData.offset) {\n            that._updateGroupInfoOffsets(groupsInfo);\n          }\n        }\n\n        groupsInfo = groupInfo.children;\n      }\n    },\n    allowCollapseAll: function allowCollapseAll() {\n      return true;\n    },\n    refresh: function refresh(options) {\n      var that = this;\n      var groupIndex;\n      var storeLoadOptions = options.storeLoadOptions;\n      var groups = (0, _utils.normalizeSortingInfo)(storeLoadOptions.group || []);\n      var oldGroups = \"_group\" in that ? (0, _utils.normalizeSortingInfo)(that._group || []) : groups;\n      var groupsCount = Math.min(oldGroups.length, groups.length);\n      that._group = storeLoadOptions.group;\n\n      for (groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\n        if (oldGroups[groupIndex].selector !== groups[groupIndex].selector) {\n          groupsCount = groupIndex;\n          break;\n        }\n      }\n\n      if (!groupsCount) {\n        that.reset();\n      } else {\n        cleanGroupsInfo(that._groupsInfo, 0, groupsCount);\n      }\n    },\n    handleDataLoading: function handleDataLoading() {},\n    handleDataLoaded: function handleDataLoaded(options, callBase) {\n      callBase(options);\n    },\n    handleDataLoadedCore: function handleDataLoadedCore(options, callBase) {\n      callBase(options);\n    }\n  };\n}());","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/data_grid/ui.data_grid.grouping.core.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_class","_class2","_uiData_grid","_uiData_grid2","_utils","_deferred","obj","__esModule","exports","createOffsetFilter","path","storeLoadOptions","groups","normalizeSortingInfo","group","i","j","filterElement","selector","currentFilter","filter","length","push","desc","default","combineFilters","GroupingHelper","inherit","findGroupInfoByKey","groupsInfo","key","hash","JSON","stringify","getGroupInfoIndexByOffset","offset","index","leftIndex","rightIndex","middleIndex","cleanGroupsInfo","groupIndex","groupsCount","children","calculateItemsCount","that","items","result","isGroupItemCountable","ctor","dataSourceAdapter","_dataSource","reset","_groupsInfo","_totalCountCorrection","totalCountCorrection","updateTotalItemsCount","item","_isVirtualPaging","isContinuation","scrollingMode","option","itemsCount","dataSource","groupCount","foreachGroups","callback","childrenAtFirst","foreachCollapsedGroups","updateOffsets","updateParentOffsets","foreachGroupsCore","parents","callbackResults","executeCallback","data","callbackResult","isExpanded","pop","currentParents","slice","when","apply","always","_updateGroupInfoOffsets","groupInfo","parentIndex","sort","a","b","findGroupInfo","pathIndex","addGroupInfo","groupInfoData","splice","allowCollapseAll","refresh","options","oldGroups","_group","Math","min","handleDataLoading","handleDataLoaded","callBase","handleDataLoadedCore"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.grouping.core.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _class = require(\"../../core/class\");\r\nvar _class2 = _interopRequireDefault(_class);\r\nvar _uiData_grid = require(\"./ui.data_grid.core\");\r\nvar _uiData_grid2 = _interopRequireDefault(_uiData_grid);\r\nvar _utils = require(\"../../data/utils\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nexports.createOffsetFilter = function(path, storeLoadOptions) {\r\n    var groups = (0, _utils.normalizeSortingInfo)(storeLoadOptions.group);\r\n    var i;\r\n    var j;\r\n    var filterElement;\r\n    var selector;\r\n    var currentFilter;\r\n    var filter = [];\r\n    for (i = 0; i < path.length; i++) {\r\n        filterElement = [];\r\n        for (j = 0; j <= i; j++) {\r\n            selector = groups[j].selector;\r\n            if (i === j && (null === path[j] || false === path[j] || true === path[j])) {\r\n                if (false === path[j]) {\r\n                    filterElement.push([selector, \"=\", groups[j].desc ? true : null])\r\n                } else {\r\n                    if (path[j] ? !groups[j].desc : groups[j].desc) {\r\n                        filterElement.push([selector, \"<>\", path[j]])\r\n                    } else {\r\n                        filterElement.push([selector, \"<>\", null]);\r\n                        filterElement.push([selector, \"=\", null])\r\n                    }\r\n                }\r\n            } else {\r\n                currentFilter = [selector, i === j ? groups[j].desc ? \">\" : \"<\" : \"=\", path[j]];\r\n                if (\"<\" === currentFilter[1]) {\r\n                    filterElement.push([currentFilter, \"or\", [selector, \"=\", null]])\r\n                } else {\r\n                    filterElement.push(currentFilter)\r\n                }\r\n            }\r\n        }\r\n        filter.push(_uiData_grid2.default.combineFilters(filterElement))\r\n    }\r\n    filter = _uiData_grid2.default.combineFilters(filter, \"or\");\r\n    return _uiData_grid2.default.combineFilters([filter, storeLoadOptions.filter])\r\n};\r\nexports.GroupingHelper = _class2.default.inherit(function() {\r\n    var findGroupInfoByKey = function(groupsInfo, key) {\r\n        var hash = groupsInfo.hash;\r\n        return hash && hash[JSON.stringify(key)]\r\n    };\r\n    var getGroupInfoIndexByOffset = function(groupsInfo, offset) {\r\n        var index;\r\n        var leftIndex = 0;\r\n        var rightIndex = groupsInfo.length - 1;\r\n        if (!groupsInfo.length) {\r\n            return 0\r\n        }\r\n        do {\r\n            var middleIndex = rightIndex + leftIndex >> 1;\r\n            if (groupsInfo[middleIndex].offset > offset) {\r\n                rightIndex = middleIndex\r\n            } else {\r\n                leftIndex = middleIndex\r\n            }\r\n        } while (rightIndex - leftIndex > 1);\r\n        for (index = leftIndex; index <= rightIndex; index++) {\r\n            if (groupsInfo[index].offset > offset) {\r\n                break\r\n            }\r\n        }\r\n        return index\r\n    };\r\n    var cleanGroupsInfo = function cleanGroupsInfo(groupsInfo, groupIndex, groupsCount) {\r\n        var i;\r\n        for (i = 0; i < groupsInfo.length; i++) {\r\n            if (groupIndex + 1 >= groupsCount) {\r\n                groupsInfo[i].children = []\r\n            } else {\r\n                cleanGroupsInfo(groupsInfo[i].children, groupIndex + 1, groupsCount)\r\n            }\r\n        }\r\n    };\r\n    var calculateItemsCount = function calculateItemsCount(that, items, groupsCount) {\r\n        var i;\r\n        var result = 0;\r\n        if (items) {\r\n            if (!groupsCount) {\r\n                result = items.length\r\n            } else {\r\n                for (i = 0; i < items.length; i++) {\r\n                    if (that.isGroupItemCountable(items[i])) {\r\n                        result++\r\n                    }\r\n                    result += calculateItemsCount(that, items[i].items, groupsCount - 1)\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    };\r\n    return {\r\n        ctor: function(dataSourceAdapter) {\r\n            this._dataSource = dataSourceAdapter;\r\n            this.reset()\r\n        },\r\n        reset: function() {\r\n            this._groupsInfo = [];\r\n            this._totalCountCorrection = 0\r\n        },\r\n        totalCountCorrection: function() {\r\n            return this._totalCountCorrection\r\n        },\r\n        updateTotalItemsCount: function(totalCountCorrection) {\r\n            this._totalCountCorrection = totalCountCorrection || 0\r\n        },\r\n        isGroupItemCountable: function(item) {\r\n            return !this._isVirtualPaging() || !item.isContinuation\r\n        },\r\n        _isVirtualPaging: function() {\r\n            var scrollingMode = this._dataSource.option(\"scrolling.mode\");\r\n            return \"virtual\" === scrollingMode || \"infinite\" === scrollingMode\r\n        },\r\n        itemsCount: function itemsCount() {\r\n            var dataSourceAdapter = this._dataSource;\r\n            var dataSource = dataSourceAdapter._dataSource;\r\n            var groupCount = _uiData_grid2.default.normalizeSortingInfo(dataSource.group() || []).length;\r\n            var itemsCount = calculateItemsCount(this, dataSource.items(), groupCount);\r\n            return itemsCount\r\n        },\r\n        foreachGroups: function(callback, childrenAtFirst, foreachCollapsedGroups, updateOffsets, updateParentOffsets) {\r\n            var that = this;\r\n\r\n            function foreachGroupsCore(groupsInfo, callback, childrenAtFirst, parents) {\r\n                var callbackResults = [];\r\n\r\n                function executeCallback(callback, data, parents, callbackResults) {\r\n                    var callbackResult = data && callback(data, parents);\r\n                    callbackResult && callbackResults.push(callbackResult);\r\n                    return callbackResult\r\n                }\r\n                for (var i = 0; i < groupsInfo.length; i++) {\r\n                    parents.push(groupsInfo[i].data);\r\n                    if (!childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\r\n                        return false\r\n                    }\r\n                    if (!groupsInfo[i].data || groupsInfo[i].data.isExpanded || foreachCollapsedGroups) {\r\n                        var children = groupsInfo[i].children;\r\n                        var callbackResult = children.length && foreachGroupsCore(children, callback, childrenAtFirst, parents);\r\n                        callbackResult && callbackResults.push(callbackResult);\r\n                        if (false === callbackResult) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    if (childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\r\n                        return false\r\n                    }\r\n                    if (!groupsInfo[i].data || groupsInfo[i].data.offset !== groupsInfo[i].offset) {\r\n                        updateOffsets = true\r\n                    }\r\n                    parents.pop()\r\n                }\r\n                var currentParents = updateParentOffsets && parents.slice(0);\r\n                return updateOffsets && _deferred.when.apply(_renderer2.default, callbackResults).always(function() {\r\n                    that._updateGroupInfoOffsets(groupsInfo, currentParents)\r\n                })\r\n            }\r\n            return foreachGroupsCore(that._groupsInfo, callback, childrenAtFirst, [])\r\n        },\r\n        _updateGroupInfoOffsets: function(groupsInfo, parents) {\r\n            parents = parents || [];\r\n            for (var index = 0; index < groupsInfo.length; index++) {\r\n                var groupInfo = groupsInfo[index];\r\n                if (groupInfo.data && groupInfo.data.offset !== groupInfo.offset) {\r\n                    groupInfo.offset = groupInfo.data.offset;\r\n                    for (var parentIndex = 0; parentIndex < parents.length; parentIndex++) {\r\n                        parents[parentIndex].offset = groupInfo.offset\r\n                    }\r\n                }\r\n            }\r\n            groupsInfo.sort(function(a, b) {\r\n                return a.offset - b.offset\r\n            })\r\n        },\r\n        findGroupInfo: function(path) {\r\n            var that = this;\r\n            var pathIndex;\r\n            var groupInfo;\r\n            var groupsInfo = that._groupsInfo;\r\n            for (pathIndex = 0; groupsInfo && pathIndex < path.length; pathIndex++) {\r\n                groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\r\n                groupsInfo = groupInfo && groupInfo.children\r\n            }\r\n            return groupInfo && groupInfo.data\r\n        },\r\n        addGroupInfo: function(groupInfoData) {\r\n            var that = this;\r\n            var index;\r\n            var groupInfo;\r\n            var path = groupInfoData.path;\r\n            var pathIndex;\r\n            var groupsInfo = that._groupsInfo;\r\n            for (pathIndex = 0; pathIndex < path.length; pathIndex++) {\r\n                groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\r\n                if (!groupInfo) {\r\n                    groupInfo = {\r\n                        key: path[pathIndex],\r\n                        offset: groupInfoData.offset,\r\n                        data: {\r\n                            offset: groupInfoData.offset,\r\n                            isExpanded: true,\r\n                            path: path.slice(0, pathIndex + 1)\r\n                        },\r\n                        children: []\r\n                    };\r\n                    index = getGroupInfoIndexByOffset(groupsInfo, groupInfoData.offset);\r\n                    groupsInfo.splice(index, 0, groupInfo);\r\n                    groupsInfo.hash = groupsInfo.hash || {};\r\n                    groupsInfo.hash[JSON.stringify(groupInfo.key)] = groupInfo\r\n                }\r\n                if (pathIndex === path.length - 1) {\r\n                    groupInfo.data = groupInfoData;\r\n                    if (groupInfo.offset !== groupInfoData.offset) {\r\n                        that._updateGroupInfoOffsets(groupsInfo)\r\n                    }\r\n                }\r\n                groupsInfo = groupInfo.children\r\n            }\r\n        },\r\n        allowCollapseAll: function() {\r\n            return true\r\n        },\r\n        refresh: function(options) {\r\n            var that = this;\r\n            var groupIndex;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var groups = (0, _utils.normalizeSortingInfo)(storeLoadOptions.group || []);\r\n            var oldGroups = \"_group\" in that ? (0, _utils.normalizeSortingInfo)(that._group || []) : groups;\r\n            var groupsCount = Math.min(oldGroups.length, groups.length);\r\n            that._group = storeLoadOptions.group;\r\n            for (groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\r\n                if (oldGroups[groupIndex].selector !== groups[groupIndex].selector) {\r\n                    groupsCount = groupIndex;\r\n                    break\r\n                }\r\n            }\r\n            if (!groupsCount) {\r\n                that.reset()\r\n            } else {\r\n                cleanGroupsInfo(that._groupsInfo, 0, groupsCount)\r\n            }\r\n        },\r\n        handleDataLoading: function() {},\r\n        handleDataLoaded: function(options, callBase) {\r\n            callBase(options)\r\n        },\r\n        handleDataLoadedCore: function(options, callBase) {\r\n            callBase(options)\r\n        }\r\n    }\r\n}());\r\n"]},"metadata":{},"sourceType":"script"}