{"ast":null,"code":"/**\r\n * DevExtreme (ui/gantt/ui.gantt.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _type2 = _interopRequireDefault(_type);\n\nvar _ui = require(\"../widget/ui.widget\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _component_registrator = require(\"../../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _data = require(\"../../core/utils/data\");\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _uiGantt = require(\"./ui.gantt.view\");\n\nvar _uiGantt2 = require(\"./ui.gantt.contextmenu\");\n\nvar _uiGantt3 = _interopRequireDefault(_uiGantt2);\n\nvar _tree_list = require(\"../tree_list\");\n\nvar _tree_list2 = _interopRequireDefault(_tree_list);\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _uiGanttData = require(\"./ui.gantt.data.option\");\n\nvar _uiGanttData2 = _interopRequireDefault(_uiGanttData);\n\nvar _splitter = require(\"../splitter\");\n\nvar _splitter2 = _interopRequireDefault(_splitter);\n\nvar _uiGantt4 = require(\"./ui.gantt.dialogs\");\n\nvar _load_panel = require(\"../load_panel\");\n\nvar _load_panel2 = _interopRequireDefault(_load_panel);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar GANTT_CLASS = \"dx-gantt\";\nvar GANTT_VIEW_CLASS = \"dx-gantt-view\";\nvar GANTT_COLLAPSABLE_ROW = \"dx-gantt-collapsable-row\";\nvar GANTT_TREE_LIST_WRAPPER = \"dx-gantt-treelist-wrapper\";\nvar GANTT_TASKS = \"tasks\";\nvar GANTT_DEPENDENCIES = \"dependencies\";\nvar GANTT_RESOURCES = \"resources\";\nvar GANTT_RESOURCE_ASSIGNMENTS = \"resourceAssignments\";\nvar GANTT_DEFAULT_ROW_HEIGHT = 34;\n\nvar Gantt = function (_Widget) {\n  _inherits(Gantt, _Widget);\n\n  function Gantt() {\n    _classCallCheck(this, Gantt);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Gantt).apply(this, arguments));\n  }\n\n  _createClass(Gantt, [{\n    key: \"_initMarkup\",\n    value: function value() {\n      _get(_getPrototypeOf(Gantt.prototype), \"_initMarkup\", this).call(this);\n\n      this.$element().addClass(GANTT_CLASS);\n      this._$treeListWrapper = (0, _renderer2.default)(\"<div>\").addClass(GANTT_TREE_LIST_WRAPPER).appendTo(this.$element());\n      this._$treeList = (0, _renderer2.default)(\"<div>\").appendTo(this._$treeListWrapper);\n      this._$splitter = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n      this._$ganttView = (0, _renderer2.default)(\"<div>\").addClass(GANTT_VIEW_CLASS).appendTo(this.$element());\n      this._$dialog = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n      this._$loadPanel = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n      this._$contextMenu = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\n\n      this._refreshDataSource(GANTT_TASKS);\n\n      this._refreshDataSource(GANTT_DEPENDENCIES);\n\n      this._refreshDataSource(GANTT_RESOURCES);\n\n      this._refreshDataSource(GANTT_RESOURCE_ASSIGNMENTS);\n    }\n  }, {\n    key: \"_renderContent\",\n    value: function value() {\n      this._renderTreeList();\n\n      this._renderSplitter();\n\n      this._renderBars();\n    }\n  }, {\n    key: \"_renderTreeList\",\n    value: function value() {\n      var _this = this;\n\n      var _this$option = this.option(GANTT_TASKS),\n          keyExpr = _this$option.keyExpr,\n          parentIdExpr = _this$option.parentIdExpr;\n\n      this._treeList = this._createComponent(this._$treeList, _tree_list2.default, {\n        dataSource: this._tasksRaw,\n        keyExpr: keyExpr,\n        parentIdExpr: parentIdExpr,\n        columns: this.option(\"columns\"),\n        columnResizingMode: \"nextColumn\",\n        height: \"100%\",\n        width: this.option(\"taskListWidth\"),\n        selection: {\n          mode: this._getSelectionMode(this.option(\"allowSelection\"))\n        },\n        selectedRowKeys: this._getArrayFromOneElement(this.option(\"selectedRowKey\")),\n        sorting: {\n          mode: \"none\"\n        },\n        scrolling: {\n          showScrollbar: \"onHover\",\n          mode: \"virtual\"\n        },\n        allowColumnResizing: true,\n        autoExpandAll: true,\n        showRowLines: this.option(\"showRowLines\"),\n        onContentReady: function onContentReady(e) {\n          _this._onTreeListContentReady(e);\n        },\n        onSelectionChanged: function onSelectionChanged(e) {\n          _this._onTreeListSelectionChanged(e);\n        },\n        onRowCollapsed: function onRowCollapsed(e) {\n          return _this._ganttView.changeTaskExpanded(e.key, false);\n        },\n        onRowExpanded: function onRowExpanded(e) {\n          return _this._ganttView.changeTaskExpanded(e.key, true);\n        },\n        onRowPrepared: function onRowPrepared(e) {\n          _this._onTreeListRowPrepared(e);\n        },\n        onContextMenuPreparing: function onContextMenuPreparing(e) {\n          _this._onTreeListContextMenuPreparing(e);\n        },\n        onRowDblClick: function onRowDblClick() {\n          _this._onTreeListRowDblClick();\n        }\n      });\n    }\n  }, {\n    key: \"_renderSplitter\",\n    value: function value() {\n      this._splitter = this._createComponent(this._$splitter, _splitter2.default, {\n        container: this.$element(),\n        leftElement: this._$treeListWrapper,\n        rightElement: this._$ganttView,\n        onApplyPanelSize: this._onApplyPanelSize.bind(this)\n      });\n\n      this._setInnerElementsWidth();\n\n      this._splitter.option(\"initialLeftPanelWidth\", this.option(\"taskListWidth\"));\n    }\n  }, {\n    key: \"_renderBars\",\n    value: function value() {\n      this._contextMenuBar = new _uiGantt3.default(this._$contextMenu, this);\n      this._bars = [this._contextMenuBar];\n    }\n  }, {\n    key: \"_initGanttView\",\n    value: function value() {\n      if (this._ganttView) {\n        return;\n      }\n\n      this._ganttView = this._createComponent(this._$ganttView, _uiGantt.GanttView, {\n        width: \"100%\",\n        height: this._treeList._$element.get(0).offsetHeight,\n        rowHeight: this._getTreeListRowHeight(),\n        headerHeight: this._getTreeListHeaderHeight(),\n        tasks: this._tasks,\n        dependencies: this._dependencies,\n        resources: this._resources,\n        resourceAssignments: this._resourceAssignments,\n        allowSelection: this.option(\"allowSelection\"),\n        selectedRowKey: this.option(\"selectedRowKey\"),\n        showResources: this.option(\"showResources\"),\n        taskTitlePosition: this.option(\"taskTitlePosition\"),\n        showRowLines: this.option(\"showRowLines\"),\n        scaleType: this.option(\"scaleType\"),\n        editing: this.option(\"editing\"),\n        bars: this._bars,\n        onSelectionChanged: this._onGanttViewSelectionChanged.bind(this),\n        onScroll: this._onGanttViewScroll.bind(this),\n        onDialogShowing: this._showDialog.bind(this),\n        onPopupMenuShowing: this._showPopupMenu.bind(this),\n        modelChangesListener: this._createModelChangesListener()\n      });\n\n      this._fireContentReadyAction();\n    }\n  }, {\n    key: \"_onApplyPanelSize\",\n    value: function value(e) {\n      this._setInnerElementsWidth(e);\n    }\n  }, {\n    key: \"_onTreeListContentReady\",\n    value: function value(e) {\n      if (e.component.getDataSource()) {\n        this._initGanttView();\n\n        this._initScrollSync(e.component);\n      }\n    }\n  }, {\n    key: \"_onTreeListRowPrepared\",\n    value: function value(e) {\n      if (\"data\" === e.rowType && e.node.children.length > 0) {\n        (0, _renderer2.default)(e.rowElement).addClass(GANTT_COLLAPSABLE_ROW);\n      }\n    }\n  }, {\n    key: \"_onTreeListContextMenuPreparing\",\n    value: function value(e) {\n      if (e.row && \"data\" === e.row.rowType) {\n        this._setTreeListOption(\"selectedRowKeys\", [e.row.data.id]);\n\n        e.items = [];\n\n        this._showPopupMenu({\n          position: {\n            x: e.event.clientX,\n            y: e.event.clientY\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onTreeListRowDblClick\",\n    value: function value() {\n      this._ganttView._ganttViewCore.commandManager.showTaskEditDialog.execute();\n    }\n  }, {\n    key: \"_onTreeListSelectionChanged\",\n    value: function value(e) {\n      var selectedRowKey = e.currentSelectedRowKeys[0];\n\n      this._setGanttViewOption(\"selectedRowKey\", selectedRowKey);\n\n      this.option(\"selectedRowKey\", selectedRowKey);\n\n      this._raiseSelectionChangedAction(selectedRowKey);\n    }\n  }, {\n    key: \"_onGanttViewSelectionChanged\",\n    value: function value(e) {\n      this._setTreeListOption(\"selectedRowKeys\", this._getArrayFromOneElement(e.id));\n    }\n  }, {\n    key: \"_onGanttViewScroll\",\n    value: function value(e) {\n      var treeListScrollable = this._treeList.getScrollable();\n\n      if (treeListScrollable) {\n        var diff = e.scrollTop - treeListScrollable.scrollTop();\n\n        if (0 !== diff) {\n          treeListScrollable.scrollBy({\n            left: 0,\n            top: diff\n          });\n        }\n      }\n    }\n  }, {\n    key: \"_onTreeListScroll\",\n    value: function value(treeListScrollView) {\n      var ganttViewTaskAreaContainer = this._ganttView.getTaskAreaContainer();\n\n      if (ganttViewTaskAreaContainer.scrollTop !== treeListScrollView.component.scrollTop()) {\n        ganttViewTaskAreaContainer.scrollTop = treeListScrollView.component.scrollTop();\n      }\n    }\n  }, {\n    key: \"_initScrollSync\",\n    value: function value(treeList) {\n      var _this2 = this;\n\n      var treeListScrollable = treeList.getScrollable();\n\n      if (treeListScrollable) {\n        treeListScrollable.off(\"scroll\");\n        treeListScrollable.on(\"scroll\", function (e) {\n          _this2._onTreeListScroll(e);\n        });\n      }\n    }\n  }, {\n    key: \"_getTreeListRowHeight\",\n    value: function value() {\n      var $row = this._treeList._$element.find(\".dx-data-row\");\n\n      var height = $row.length ? $row.last().get(0).getBoundingClientRect().height : GANTT_DEFAULT_ROW_HEIGHT;\n      return height ? height : GANTT_DEFAULT_ROW_HEIGHT;\n    }\n  }, {\n    key: \"_getTreeListHeaderHeight\",\n    value: function value() {\n      return this._treeList._$element.find(\".dx-treelist-headers\").get(0).getBoundingClientRect().height;\n    }\n  }, {\n    key: \"_setInnerElementsWidth\",\n    value: function value(widths) {\n      if (!(0, _window.hasWindow)()) {\n        return;\n      }\n\n      if (!widths) {\n        widths = this._getPanelsWidthByOption();\n      }\n\n      var leftPanelWidth = widths.leftPanelWidth;\n      var rightPanelWidth = widths.rightPanelWidth;\n\n      this._$treeListWrapper.width(leftPanelWidth);\n\n      var isPercentage = _type2.default.isString(leftPanelWidth) && \"%\" === leftPanelWidth.slice(-1);\n\n      this._$treeList.width(isPercentage ? \"100%\" : leftPanelWidth);\n\n      this._splitter.setSplitterPositionLeft(leftPanelWidth);\n\n      this._$ganttView.width(rightPanelWidth);\n\n      this._setGanttViewOption(\"width\", this._$ganttView.width());\n    }\n  }, {\n    key: \"_getPanelsWidthByOption\",\n    value: function value() {\n      return {\n        leftPanelWidth: this.option(\"taskListWidth\"),\n        rightPanelWidth: this._$element.width() - this.option(\"taskListWidth\")\n      };\n    }\n  }, {\n    key: \"_setGanttViewOption\",\n    value: function value(optionName, _value) {\n      this._ganttView && this._ganttView.option(optionName, _value);\n    }\n  }, {\n    key: \"_setTreeListOption\",\n    value: function value(optionName, _value2) {\n      this._treeList && this._treeList.option(optionName, _value2);\n    }\n  }, {\n    key: \"_refreshDataSource\",\n    value: function value(name) {\n      var _this3 = this;\n\n      var dataOption = this[\"_\".concat(name, \"Option\")];\n\n      if (dataOption) {\n        dataOption._disposeDataSource();\n\n        delete this[\"_\".concat(name, \"Option\")];\n        delete this[\"_\".concat(name)];\n      }\n\n      if (this.option(\"\".concat(name, \".dataSource\"))) {\n        dataOption = new _uiGanttData2.default(name, this._getLoadPanel(), function (name, data) {\n          _this3._dataSourceChanged(name, data);\n        });\n        dataOption.option(\"dataSource\", this._getSpecificDataSourceOption(name));\n\n        dataOption._refreshDataSource();\n\n        this[\"_\".concat(name, \"Option\")] = dataOption;\n      }\n    }\n  }, {\n    key: \"_getSpecificDataSourceOption\",\n    value: function value(name) {\n      var dataSource = this.option(\"\".concat(name, \".dataSource\"));\n\n      if (Array.isArray(dataSource)) {\n        return {\n          store: {\n            type: \"array\",\n            data: dataSource,\n            key: this.option(\"\".concat(name, \".keyExpr\"))\n          }\n        };\n      }\n\n      return dataSource;\n    }\n  }, {\n    key: \"_compileGettersByOption\",\n    value: function value(optionName) {\n      var getters = {};\n      var optionValue = this.option(optionName);\n\n      for (var field in optionValue) {\n        var exprMatches = field.match(/(\\w*)Expr/);\n\n        if (exprMatches) {\n          getters[exprMatches[1]] = _data2.default.compileGetter(optionValue[exprMatches[0]]);\n        }\n      }\n\n      return getters;\n    }\n  }, {\n    key: \"_compileSettersByOption\",\n    value: function value(optionName) {\n      var setters = {};\n      var optionValue = this.option(optionName);\n\n      for (var field in optionValue) {\n        var exprMatches = field.match(/(\\w*)Expr/);\n\n        if (exprMatches) {\n          setters[exprMatches[1]] = _data2.default.compileSetter(optionValue[exprMatches[0]]);\n        }\n      }\n\n      return setters;\n    }\n  }, {\n    key: \"_getStoreObject\",\n    value: function value(optionName, modelObject) {\n      var setters = this._compileSettersByOption(optionName);\n\n      return Object.keys(setters).reduce(function (previous, key) {\n        if (\"key\" !== key) {\n          setters[key](previous, modelObject[key]);\n        }\n\n        return previous;\n      }, {});\n    }\n  }, {\n    key: \"_prepareMapHandler\",\n    value: function value(getters) {\n      return function (data) {\n        return Object.keys(getters).reduce(function (previous, key) {\n          var resultKey = \"key\" === key ? \"id\" : key;\n          previous[resultKey] = getters[key](data);\n          return previous;\n        }, {});\n      };\n    }\n  }, {\n    key: \"_dataSourceChanged\",\n    value: function value(dataSourceName, data) {\n      var getters = this._compileGettersByOption(dataSourceName);\n\n      var mappedData = data.map(this._prepareMapHandler(getters));\n      this[\"_\".concat(dataSourceName)] = mappedData;\n\n      this._setGanttViewOption(dataSourceName, mappedData);\n\n      if (dataSourceName === GANTT_TASKS) {\n        this._tasksRaw = data;\n\n        this._setTreeListOption(\"dataSource\", data);\n      }\n    }\n  }, {\n    key: \"_createModelChangesListener\",\n    value: function value() {\n      var _this4 = this;\n\n      return {\n        NotifyTaskCreated: function NotifyTaskCreated(task, callback) {\n          _this4._onRecordInserted(GANTT_TASKS, task, callback);\n        },\n        NotifyTaskRemoved: function NotifyTaskRemoved(taskId) {\n          _this4._onRecordRemoved(GANTT_TASKS, taskId);\n        },\n        NotifyTaskTitleChanged: function NotifyTaskTitleChanged(taskId, newValue) {\n          _this4._onRecordUpdated(GANTT_TASKS, taskId, \"title\", newValue);\n        },\n        NotifyTaskDescriptionChanged: function NotifyTaskDescriptionChanged(taskId, newValue) {\n          _this4._onRecordUpdated(GANTT_TASKS, taskId, \"description\", newValue);\n        },\n        NotifyTaskStartChanged: function NotifyTaskStartChanged(taskId, newValue) {\n          _this4._onRecordUpdated(GANTT_TASKS, taskId, \"start\", newValue);\n        },\n        NotifyTaskEndChanged: function NotifyTaskEndChanged(taskId, newValue) {\n          _this4._onRecordUpdated(GANTT_TASKS, taskId, \"end\", newValue);\n        },\n        NotifyTaskProgressChanged: function NotifyTaskProgressChanged(taskId, newValue) {\n          _this4._onRecordUpdated(GANTT_TASKS, taskId, \"progress\", newValue);\n        },\n        NotifyDependencyInserted: function NotifyDependencyInserted(dependency, callback) {\n          _this4._onRecordInserted(GANTT_DEPENDENCIES, dependency, callback);\n        },\n        NotifyDependencyRemoved: function NotifyDependencyRemoved(dependencyId) {\n          _this4._onRecordRemoved(GANTT_DEPENDENCIES, dependencyId);\n        },\n        NotifyResourceCreated: function NotifyResourceCreated(resource, callback) {\n          _this4._onRecordInserted(GANTT_RESOURCES, resource, callback);\n        },\n        NotifyResourceRemoved: function NotifyResourceRemoved(resource) {\n          _this4._onRecordRemoved(GANTT_RESOURCES, resource);\n        },\n        NotifyResourceAssigned: function NotifyResourceAssigned(assignment, callback) {\n          _this4._onRecordInserted(GANTT_RESOURCE_ASSIGNMENTS, assignment, callback);\n        },\n        NotifyResourceUnassigned: function NotifyResourceUnassigned(assignmentId) {\n          _this4._onRecordRemoved(GANTT_RESOURCE_ASSIGNMENTS, assignmentId);\n        }\n      };\n    }\n  }, {\n    key: \"_onRecordInserted\",\n    value: function value(optionName, record, callback) {\n      var _this5 = this;\n\n      var dataOption = this[\"_\".concat(optionName, \"Option\")];\n\n      if (dataOption) {\n        var data = this._getStoreObject(optionName, record);\n\n        dataOption.insert(data, function (response) {\n          var keyGetter = _data2.default.compileGetter(_this5.option(\"\".concat(optionName, \".keyExpr\")));\n\n          var insertedId = keyGetter(response);\n          callback(insertedId);\n\n          if (optionName === GANTT_TASKS) {\n            _this5._updateTreeListDataSource();\n\n            var parentId = record.parentId;\n\n            if (void 0 !== parentId) {\n              var expandedRowKeys = _this5._treeList.option(\"expandedRowKeys\");\n\n              expandedRowKeys.push(parentId);\n\n              _this5._treeList.option(\"expandedRowKeys\", expandedRowKeys);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onRecordRemoved\",\n    value: function value(optionName, key) {\n      var _this6 = this;\n\n      var dataOption = this[\"_\".concat(optionName, \"Option\")];\n\n      if (dataOption) {\n        dataOption.remove(key, function () {\n          if (optionName === GANTT_TASKS) {\n            _this6._updateTreeListDataSource();\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onRecordUpdated\",\n    value: function value(optionName, key, fieldName, _value3) {\n      var _this7 = this;\n\n      var dataOption = this[\"_\".concat(optionName, \"Option\")];\n\n      if (dataOption) {\n        var setter = _data2.default.compileSetter(this.option(\"\".concat(optionName, \".\").concat(fieldName, \"Expr\")));\n\n        var data = {};\n        setter(data, _value3);\n        dataOption.update(key, data, function () {\n          if (optionName === GANTT_TASKS) {\n            _this7._updateTreeListDataSource();\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_updateTreeListDataSource\",\n    value: function value() {\n      var storeArray = this._tasksOption._getStore()._array;\n\n      this._setTreeListOption(\"dataSource\", storeArray ? storeArray : this.option(\"tasks.dataSource\"));\n    }\n  }, {\n    key: \"_getLoadPanel\",\n    value: function value() {\n      if (!this._loadPanel) {\n        this._loadPanel = this._createComponent(this._$loadPanel, _load_panel2.default, {\n          position: {\n            of: this.$element()\n          }\n        });\n      }\n\n      return this._loadPanel;\n    }\n  }, {\n    key: \"_createSelectionChangedAction\",\n    value: function value() {\n      this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\");\n    }\n  }, {\n    key: \"_raiseSelectionChangedAction\",\n    value: function value(selectedRowKey) {\n      if (!this._selectionChangedAction) {\n        this._createSelectionChangedAction();\n      }\n\n      this._selectionChangedAction({\n        selectedRowKey: selectedRowKey\n      });\n    }\n  }, {\n    key: \"_getSelectionMode\",\n    value: function value(allowSelection) {\n      return allowSelection ? \"single\" : \"none\";\n    }\n  }, {\n    key: \"_getArrayFromOneElement\",\n    value: function value(element) {\n      return void 0 === element || null === element ? [] : [element];\n    }\n  }, {\n    key: \"_showDialog\",\n    value: function value(e) {\n      if (!this._dialogInstance) {\n        this._dialogInstance = new _uiGantt4.GanttDialog(this, this._$dialog);\n      }\n\n      this._dialogInstance.show(e.name, e.parameters, e.callback, this.option(\"editing\"));\n    }\n  }, {\n    key: \"_showPopupMenu\",\n    value: function value(e) {\n      this._ganttView.getBarManager().updateContextMenu();\n\n      this._contextMenuBar.show(e.position);\n    }\n  }, {\n    key: \"_executeCoreCommand\",\n    value: function value(id) {\n      this._ganttView.executeCoreCommand(id);\n    }\n  }, {\n    key: \"_clean\",\n    value: function value() {\n      delete this._ganttView;\n      delete this._dialogInstance;\n\n      _get(_getPrototypeOf(Gantt.prototype), \"_clean\", this).call(this);\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(Gantt.prototype), \"_getDefaultOptions\", this).call(this), {\n        tasks: {\n          dataSource: null,\n          keyExpr: \"id\",\n          parentIdExpr: \"parentId\",\n          startExpr: \"start\",\n          endExpr: \"end\",\n          progressExpr: \"progress\",\n          titleExpr: \"title\"\n        },\n        dependencies: {\n          dataSource: null,\n          keyExpr: \"id\",\n          predecessorIdExpr: \"predecessorId\",\n          successorIdExpr: \"successorId\",\n          typeExpr: \"type\"\n        },\n        resources: {\n          dataSource: null,\n          keyExpr: \"id\",\n          textExpr: \"text\"\n        },\n        resourceAssignments: {\n          dataSource: null,\n          keyExpr: \"id\",\n          taskIdExpr: \"taskId\",\n          resourceIdExpr: \"resourceId\"\n        },\n        columns: void 0,\n        taskListWidth: 300,\n        showResources: true,\n        taskTitlePosition: \"inside\",\n        selectedRowKey: void 0,\n        onSelectionChanged: null,\n        allowSelection: true,\n        showRowLines: true,\n        scaleType: \"auto\",\n        editing: {\n          enabled: false,\n          allowTaskAdding: true,\n          allowTaskDeleting: true,\n          allowTaskUpdating: true,\n          allowDependencyAdding: true,\n          allowDependencyDeleting: true,\n          allowDependencyUpdating: true,\n          allowResourceAdding: true,\n          allowResourceDeleting: true,\n          allowResourceUpdating: true\n        }\n      });\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      switch (args.name) {\n        case \"tasks\":\n          this._refreshDataSource(GANTT_TASKS);\n\n          break;\n\n        case \"dependencies\":\n          this._refreshDataSource(GANTT_DEPENDENCIES);\n\n          break;\n\n        case \"resources\":\n          this._refreshDataSource(GANTT_RESOURCES);\n\n          break;\n\n        case \"resourceAssignments\":\n          this._refreshDataSource(GANTT_RESOURCE_ASSIGNMENTS);\n\n          break;\n\n        case \"columns\":\n          this._setTreeListOption(\"columns\", this.option(args.name));\n\n          break;\n\n        case \"taskListWidth\":\n          this._setInnerElementsWidth();\n\n          break;\n\n        case \"showResources\":\n          this._setGanttViewOption(\"showResources\", args.value);\n\n          break;\n\n        case \"taskTitlePosition\":\n          this._setGanttViewOption(\"taskTitlePosition\", args.value);\n\n          break;\n\n        case \"selectedRowKey\":\n          this._setTreeListOption(\"selectedRowKeys\", this._getArrayFromOneElement(args.value));\n\n          break;\n\n        case \"onSelectionChanged\":\n          this._createSelectionChangedAction();\n\n          break;\n\n        case \"allowSelection\":\n          this._setTreeListOption(\"selection.mode\", this._getSelectionMode(args.value));\n\n          this._setGanttViewOption(\"allowSelection\", args.value);\n\n          break;\n\n        case \"showRowLines\":\n          this._setTreeListOption(\"showRowLines\", args.value);\n\n          this._setGanttViewOption(\"showRowLines\", args.value);\n\n          break;\n\n        case \"scaleType\":\n          this._setGanttViewOption(\"scaleType\", args.value);\n\n          break;\n\n        case \"editing\":\n          this._setGanttViewOption(\"editing\", this.option(args.name));\n\n          break;\n\n        default:\n          _get(_getPrototypeOf(Gantt.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }]);\n\n  return Gantt;\n}(_ui2.default);\n\n(0, _component_registrator2.default)(\"dxGantt\", Gantt);\nmodule.exports = Gantt;","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/ui/gantt/ui.gantt.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_type","_type2","_ui","_ui2","_component_registrator","_component_registrator2","_data","_data2","_uiGantt","_uiGantt2","_uiGantt3","_tree_list","_tree_list2","_extend","_window","_uiGanttData","_uiGanttData2","_splitter","_splitter2","_uiGantt4","_load_panel","_load_panel2","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","value","object","hasOwnProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","GANTT_CLASS","GANTT_VIEW_CLASS","GANTT_COLLAPSABLE_ROW","GANTT_TREE_LIST_WRAPPER","GANTT_TASKS","GANTT_DEPENDENCIES","GANTT_RESOURCES","GANTT_RESOURCE_ASSIGNMENTS","GANTT_DEFAULT_ROW_HEIGHT","Gantt","_Widget","apply","arguments","$element","addClass","_$treeListWrapper","default","appendTo","_$treeList","_$splitter","_$ganttView","_$dialog","_$loadPanel","_$contextMenu","_refreshDataSource","_renderTreeList","_renderSplitter","_renderBars","_this","_this$option","option","keyExpr","parentIdExpr","_treeList","_createComponent","dataSource","_tasksRaw","columns","columnResizingMode","height","width","selection","mode","_getSelectionMode","selectedRowKeys","_getArrayFromOneElement","sorting","scrolling","showScrollbar","allowColumnResizing","autoExpandAll","showRowLines","onContentReady","e","_onTreeListContentReady","onSelectionChanged","_onTreeListSelectionChanged","onRowCollapsed","_ganttView","changeTaskExpanded","onRowExpanded","onRowPrepared","_onTreeListRowPrepared","onContextMenuPreparing","_onTreeListContextMenuPreparing","onRowDblClick","_onTreeListRowDblClick","container","leftElement","rightElement","onApplyPanelSize","_onApplyPanelSize","bind","_setInnerElementsWidth","_contextMenuBar","_bars","GanttView","_$element","offsetHeight","rowHeight","_getTreeListRowHeight","headerHeight","_getTreeListHeaderHeight","tasks","_tasks","dependencies","_dependencies","resources","_resources","resourceAssignments","_resourceAssignments","allowSelection","selectedRowKey","showResources","taskTitlePosition","scaleType","editing","bars","_onGanttViewSelectionChanged","onScroll","_onGanttViewScroll","onDialogShowing","_showDialog","onPopupMenuShowing","_showPopupMenu","modelChangesListener","_createModelChangesListener","_fireContentReadyAction","component","getDataSource","_initGanttView","_initScrollSync","rowType","node","children","rowElement","row","_setTreeListOption","data","id","items","position","x","event","clientX","y","clientY","_ganttViewCore","commandManager","showTaskEditDialog","execute","currentSelectedRowKeys","_setGanttViewOption","_raiseSelectionChangedAction","treeListScrollable","getScrollable","diff","scrollTop","scrollBy","left","top","treeListScrollView","ganttViewTaskAreaContainer","getTaskAreaContainer","treeList","_this2","off","on","_onTreeListScroll","$row","find","last","getBoundingClientRect","widths","hasWindow","_getPanelsWidthByOption","leftPanelWidth","rightPanelWidth","isPercentage","isString","slice","setSplitterPositionLeft","optionName","name","_this3","dataOption","concat","_disposeDataSource","_getLoadPanel","_dataSourceChanged","_getSpecificDataSourceOption","Array","isArray","store","type","getters","optionValue","field","exprMatches","match","compileGetter","setters","compileSetter","modelObject","_compileSettersByOption","keys","reduce","previous","resultKey","dataSourceName","_compileGettersByOption","mappedData","map","_prepareMapHandler","_this4","NotifyTaskCreated","task","callback","_onRecordInserted","NotifyTaskRemoved","taskId","_onRecordRemoved","NotifyTaskTitleChanged","newValue","_onRecordUpdated","NotifyTaskDescriptionChanged","NotifyTaskStartChanged","NotifyTaskEndChanged","NotifyTaskProgressChanged","NotifyDependencyInserted","dependency","NotifyDependencyRemoved","dependencyId","NotifyResourceCreated","resource","NotifyResourceRemoved","NotifyResourceAssigned","assignment","NotifyResourceUnassigned","assignmentId","record","_this5","_getStoreObject","insert","response","keyGetter","insertedId","_updateTreeListDataSource","parentId","expandedRowKeys","push","_this6","remove","fieldName","_this7","setter","update","storeArray","_tasksOption","_getStore","_array","_loadPanel","of","_selectionChangedAction","_createActionByOption","_createSelectionChangedAction","element","_dialogInstance","GanttDialog","show","parameters","getBarManager","updateContextMenu","executeCoreCommand","extend","startExpr","endExpr","progressExpr","titleExpr","predecessorIdExpr","successorIdExpr","typeExpr","textExpr","taskIdExpr","resourceIdExpr","taskListWidth","enabled","allowTaskAdding","allowTaskDeleting","allowTaskUpdating","allowDependencyAdding","allowDependencyDeleting","allowDependencyUpdating","allowResourceAdding","allowResourceDeleting","allowResourceUpdating","args","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/gantt/ui.gantt.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _type2 = _interopRequireDefault(_type);\r\nvar _ui = require(\"../widget/ui.widget\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _component_registrator = require(\"../../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _data2 = _interopRequireDefault(_data);\r\nvar _uiGantt = require(\"./ui.gantt.view\");\r\nvar _uiGantt2 = require(\"./ui.gantt.contextmenu\");\r\nvar _uiGantt3 = _interopRequireDefault(_uiGantt2);\r\nvar _tree_list = require(\"../tree_list\");\r\nvar _tree_list2 = _interopRequireDefault(_tree_list);\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _uiGanttData = require(\"./ui.gantt.data.option\");\r\nvar _uiGanttData2 = _interopRequireDefault(_uiGanttData);\r\nvar _splitter = require(\"../splitter\");\r\nvar _splitter2 = _interopRequireDefault(_splitter);\r\nvar _uiGantt4 = require(\"./ui.gantt.dialogs\");\r\nvar _load_panel = require(\"../load_panel\");\r\nvar _load_panel2 = _interopRequireDefault(_load_panel);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar GANTT_CLASS = \"dx-gantt\";\r\nvar GANTT_VIEW_CLASS = \"dx-gantt-view\";\r\nvar GANTT_COLLAPSABLE_ROW = \"dx-gantt-collapsable-row\";\r\nvar GANTT_TREE_LIST_WRAPPER = \"dx-gantt-treelist-wrapper\";\r\nvar GANTT_TASKS = \"tasks\";\r\nvar GANTT_DEPENDENCIES = \"dependencies\";\r\nvar GANTT_RESOURCES = \"resources\";\r\nvar GANTT_RESOURCE_ASSIGNMENTS = \"resourceAssignments\";\r\nvar GANTT_DEFAULT_ROW_HEIGHT = 34;\r\nvar Gantt = function(_Widget) {\r\n    _inherits(Gantt, _Widget);\r\n\r\n    function Gantt() {\r\n        _classCallCheck(this, Gantt);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(Gantt).apply(this, arguments))\r\n    }\r\n    _createClass(Gantt, [{\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Gantt.prototype), \"_initMarkup\", this).call(this);\r\n            this.$element().addClass(GANTT_CLASS);\r\n            this._$treeListWrapper = (0, _renderer2.default)(\"<div>\").addClass(GANTT_TREE_LIST_WRAPPER).appendTo(this.$element());\r\n            this._$treeList = (0, _renderer2.default)(\"<div>\").appendTo(this._$treeListWrapper);\r\n            this._$splitter = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n            this._$ganttView = (0, _renderer2.default)(\"<div>\").addClass(GANTT_VIEW_CLASS).appendTo(this.$element());\r\n            this._$dialog = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n            this._$loadPanel = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n            this._$contextMenu = (0, _renderer2.default)(\"<div>\").appendTo(this.$element());\r\n            this._refreshDataSource(GANTT_TASKS);\r\n            this._refreshDataSource(GANTT_DEPENDENCIES);\r\n            this._refreshDataSource(GANTT_RESOURCES);\r\n            this._refreshDataSource(GANTT_RESOURCE_ASSIGNMENTS)\r\n        }\r\n    }, {\r\n        key: \"_renderContent\",\r\n        value: function() {\r\n            this._renderTreeList();\r\n            this._renderSplitter();\r\n            this._renderBars()\r\n        }\r\n    }, {\r\n        key: \"_renderTreeList\",\r\n        value: function() {\r\n            var _this = this;\r\n            var _this$option = this.option(GANTT_TASKS),\r\n                keyExpr = _this$option.keyExpr,\r\n                parentIdExpr = _this$option.parentIdExpr;\r\n            this._treeList = this._createComponent(this._$treeList, _tree_list2.default, {\r\n                dataSource: this._tasksRaw,\r\n                keyExpr: keyExpr,\r\n                parentIdExpr: parentIdExpr,\r\n                columns: this.option(\"columns\"),\r\n                columnResizingMode: \"nextColumn\",\r\n                height: \"100%\",\r\n                width: this.option(\"taskListWidth\"),\r\n                selection: {\r\n                    mode: this._getSelectionMode(this.option(\"allowSelection\"))\r\n                },\r\n                selectedRowKeys: this._getArrayFromOneElement(this.option(\"selectedRowKey\")),\r\n                sorting: {\r\n                    mode: \"none\"\r\n                },\r\n                scrolling: {\r\n                    showScrollbar: \"onHover\",\r\n                    mode: \"virtual\"\r\n                },\r\n                allowColumnResizing: true,\r\n                autoExpandAll: true,\r\n                showRowLines: this.option(\"showRowLines\"),\r\n                onContentReady: function(e) {\r\n                    _this._onTreeListContentReady(e)\r\n                },\r\n                onSelectionChanged: function(e) {\r\n                    _this._onTreeListSelectionChanged(e)\r\n                },\r\n                onRowCollapsed: function(e) {\r\n                    return _this._ganttView.changeTaskExpanded(e.key, false)\r\n                },\r\n                onRowExpanded: function(e) {\r\n                    return _this._ganttView.changeTaskExpanded(e.key, true)\r\n                },\r\n                onRowPrepared: function(e) {\r\n                    _this._onTreeListRowPrepared(e)\r\n                },\r\n                onContextMenuPreparing: function(e) {\r\n                    _this._onTreeListContextMenuPreparing(e)\r\n                },\r\n                onRowDblClick: function() {\r\n                    _this._onTreeListRowDblClick()\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_renderSplitter\",\r\n        value: function() {\r\n            this._splitter = this._createComponent(this._$splitter, _splitter2.default, {\r\n                container: this.$element(),\r\n                leftElement: this._$treeListWrapper,\r\n                rightElement: this._$ganttView,\r\n                onApplyPanelSize: this._onApplyPanelSize.bind(this)\r\n            });\r\n            this._setInnerElementsWidth();\r\n            this._splitter.option(\"initialLeftPanelWidth\", this.option(\"taskListWidth\"))\r\n        }\r\n    }, {\r\n        key: \"_renderBars\",\r\n        value: function() {\r\n            this._contextMenuBar = new _uiGantt3.default(this._$contextMenu, this);\r\n            this._bars = [this._contextMenuBar]\r\n        }\r\n    }, {\r\n        key: \"_initGanttView\",\r\n        value: function() {\r\n            if (this._ganttView) {\r\n                return\r\n            }\r\n            this._ganttView = this._createComponent(this._$ganttView, _uiGantt.GanttView, {\r\n                width: \"100%\",\r\n                height: this._treeList._$element.get(0).offsetHeight,\r\n                rowHeight: this._getTreeListRowHeight(),\r\n                headerHeight: this._getTreeListHeaderHeight(),\r\n                tasks: this._tasks,\r\n                dependencies: this._dependencies,\r\n                resources: this._resources,\r\n                resourceAssignments: this._resourceAssignments,\r\n                allowSelection: this.option(\"allowSelection\"),\r\n                selectedRowKey: this.option(\"selectedRowKey\"),\r\n                showResources: this.option(\"showResources\"),\r\n                taskTitlePosition: this.option(\"taskTitlePosition\"),\r\n                showRowLines: this.option(\"showRowLines\"),\r\n                scaleType: this.option(\"scaleType\"),\r\n                editing: this.option(\"editing\"),\r\n                bars: this._bars,\r\n                onSelectionChanged: this._onGanttViewSelectionChanged.bind(this),\r\n                onScroll: this._onGanttViewScroll.bind(this),\r\n                onDialogShowing: this._showDialog.bind(this),\r\n                onPopupMenuShowing: this._showPopupMenu.bind(this),\r\n                modelChangesListener: this._createModelChangesListener()\r\n            });\r\n            this._fireContentReadyAction()\r\n        }\r\n    }, {\r\n        key: \"_onApplyPanelSize\",\r\n        value: function(e) {\r\n            this._setInnerElementsWidth(e)\r\n        }\r\n    }, {\r\n        key: \"_onTreeListContentReady\",\r\n        value: function(e) {\r\n            if (e.component.getDataSource()) {\r\n                this._initGanttView();\r\n                this._initScrollSync(e.component)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onTreeListRowPrepared\",\r\n        value: function(e) {\r\n            if (\"data\" === e.rowType && e.node.children.length > 0) {\r\n                (0, _renderer2.default)(e.rowElement).addClass(GANTT_COLLAPSABLE_ROW)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onTreeListContextMenuPreparing\",\r\n        value: function(e) {\r\n            if (e.row && \"data\" === e.row.rowType) {\r\n                this._setTreeListOption(\"selectedRowKeys\", [e.row.data.id]);\r\n                e.items = [];\r\n                this._showPopupMenu({\r\n                    position: {\r\n                        x: e.event.clientX,\r\n                        y: e.event.clientY\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onTreeListRowDblClick\",\r\n        value: function() {\r\n            this._ganttView._ganttViewCore.commandManager.showTaskEditDialog.execute()\r\n        }\r\n    }, {\r\n        key: \"_onTreeListSelectionChanged\",\r\n        value: function(e) {\r\n            var selectedRowKey = e.currentSelectedRowKeys[0];\r\n            this._setGanttViewOption(\"selectedRowKey\", selectedRowKey);\r\n            this.option(\"selectedRowKey\", selectedRowKey);\r\n            this._raiseSelectionChangedAction(selectedRowKey)\r\n        }\r\n    }, {\r\n        key: \"_onGanttViewSelectionChanged\",\r\n        value: function(e) {\r\n            this._setTreeListOption(\"selectedRowKeys\", this._getArrayFromOneElement(e.id))\r\n        }\r\n    }, {\r\n        key: \"_onGanttViewScroll\",\r\n        value: function(e) {\r\n            var treeListScrollable = this._treeList.getScrollable();\r\n            if (treeListScrollable) {\r\n                var diff = e.scrollTop - treeListScrollable.scrollTop();\r\n                if (0 !== diff) {\r\n                    treeListScrollable.scrollBy({\r\n                        left: 0,\r\n                        top: diff\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onTreeListScroll\",\r\n        value: function(treeListScrollView) {\r\n            var ganttViewTaskAreaContainer = this._ganttView.getTaskAreaContainer();\r\n            if (ganttViewTaskAreaContainer.scrollTop !== treeListScrollView.component.scrollTop()) {\r\n                ganttViewTaskAreaContainer.scrollTop = treeListScrollView.component.scrollTop()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_initScrollSync\",\r\n        value: function(treeList) {\r\n            var _this2 = this;\r\n            var treeListScrollable = treeList.getScrollable();\r\n            if (treeListScrollable) {\r\n                treeListScrollable.off(\"scroll\");\r\n                treeListScrollable.on(\"scroll\", function(e) {\r\n                    _this2._onTreeListScroll(e)\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getTreeListRowHeight\",\r\n        value: function() {\r\n            var $row = this._treeList._$element.find(\".dx-data-row\");\r\n            var height = $row.length ? $row.last().get(0).getBoundingClientRect().height : GANTT_DEFAULT_ROW_HEIGHT;\r\n            return height ? height : GANTT_DEFAULT_ROW_HEIGHT\r\n        }\r\n    }, {\r\n        key: \"_getTreeListHeaderHeight\",\r\n        value: function() {\r\n            return this._treeList._$element.find(\".dx-treelist-headers\").get(0).getBoundingClientRect().height\r\n        }\r\n    }, {\r\n        key: \"_setInnerElementsWidth\",\r\n        value: function(widths) {\r\n            if (!(0, _window.hasWindow)()) {\r\n                return\r\n            }\r\n            if (!widths) {\r\n                widths = this._getPanelsWidthByOption()\r\n            }\r\n            var leftPanelWidth = widths.leftPanelWidth;\r\n            var rightPanelWidth = widths.rightPanelWidth;\r\n            this._$treeListWrapper.width(leftPanelWidth);\r\n            var isPercentage = _type2.default.isString(leftPanelWidth) && \"%\" === leftPanelWidth.slice(-1);\r\n            this._$treeList.width(isPercentage ? \"100%\" : leftPanelWidth);\r\n            this._splitter.setSplitterPositionLeft(leftPanelWidth);\r\n            this._$ganttView.width(rightPanelWidth);\r\n            this._setGanttViewOption(\"width\", this._$ganttView.width())\r\n        }\r\n    }, {\r\n        key: \"_getPanelsWidthByOption\",\r\n        value: function() {\r\n            return {\r\n                leftPanelWidth: this.option(\"taskListWidth\"),\r\n                rightPanelWidth: this._$element.width() - this.option(\"taskListWidth\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_setGanttViewOption\",\r\n        value: function(optionName, value) {\r\n            this._ganttView && this._ganttView.option(optionName, value)\r\n        }\r\n    }, {\r\n        key: \"_setTreeListOption\",\r\n        value: function(optionName, value) {\r\n            this._treeList && this._treeList.option(optionName, value)\r\n        }\r\n    }, {\r\n        key: \"_refreshDataSource\",\r\n        value: function(name) {\r\n            var _this3 = this;\r\n            var dataOption = this[\"_\".concat(name, \"Option\")];\r\n            if (dataOption) {\r\n                dataOption._disposeDataSource();\r\n                delete this[\"_\".concat(name, \"Option\")];\r\n                delete this[\"_\".concat(name)]\r\n            }\r\n            if (this.option(\"\".concat(name, \".dataSource\"))) {\r\n                dataOption = new _uiGanttData2.default(name, this._getLoadPanel(), function(name, data) {\r\n                    _this3._dataSourceChanged(name, data)\r\n                });\r\n                dataOption.option(\"dataSource\", this._getSpecificDataSourceOption(name));\r\n                dataOption._refreshDataSource();\r\n                this[\"_\".concat(name, \"Option\")] = dataOption\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getSpecificDataSourceOption\",\r\n        value: function(name) {\r\n            var dataSource = this.option(\"\".concat(name, \".dataSource\"));\r\n            if (Array.isArray(dataSource)) {\r\n                return {\r\n                    store: {\r\n                        type: \"array\",\r\n                        data: dataSource,\r\n                        key: this.option(\"\".concat(name, \".keyExpr\"))\r\n                    }\r\n                }\r\n            }\r\n            return dataSource\r\n        }\r\n    }, {\r\n        key: \"_compileGettersByOption\",\r\n        value: function(optionName) {\r\n            var getters = {};\r\n            var optionValue = this.option(optionName);\r\n            for (var field in optionValue) {\r\n                var exprMatches = field.match(/(\\w*)Expr/);\r\n                if (exprMatches) {\r\n                    getters[exprMatches[1]] = _data2.default.compileGetter(optionValue[exprMatches[0]])\r\n                }\r\n            }\r\n            return getters\r\n        }\r\n    }, {\r\n        key: \"_compileSettersByOption\",\r\n        value: function(optionName) {\r\n            var setters = {};\r\n            var optionValue = this.option(optionName);\r\n            for (var field in optionValue) {\r\n                var exprMatches = field.match(/(\\w*)Expr/);\r\n                if (exprMatches) {\r\n                    setters[exprMatches[1]] = _data2.default.compileSetter(optionValue[exprMatches[0]])\r\n                }\r\n            }\r\n            return setters\r\n        }\r\n    }, {\r\n        key: \"_getStoreObject\",\r\n        value: function(optionName, modelObject) {\r\n            var setters = this._compileSettersByOption(optionName);\r\n            return Object.keys(setters).reduce(function(previous, key) {\r\n                if (\"key\" !== key) {\r\n                    setters[key](previous, modelObject[key])\r\n                }\r\n                return previous\r\n            }, {})\r\n        }\r\n    }, {\r\n        key: \"_prepareMapHandler\",\r\n        value: function(getters) {\r\n            return function(data) {\r\n                return Object.keys(getters).reduce(function(previous, key) {\r\n                    var resultKey = \"key\" === key ? \"id\" : key;\r\n                    previous[resultKey] = getters[key](data);\r\n                    return previous\r\n                }, {})\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_dataSourceChanged\",\r\n        value: function(dataSourceName, data) {\r\n            var getters = this._compileGettersByOption(dataSourceName);\r\n            var mappedData = data.map(this._prepareMapHandler(getters));\r\n            this[\"_\".concat(dataSourceName)] = mappedData;\r\n            this._setGanttViewOption(dataSourceName, mappedData);\r\n            if (dataSourceName === GANTT_TASKS) {\r\n                this._tasksRaw = data;\r\n                this._setTreeListOption(\"dataSource\", data)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createModelChangesListener\",\r\n        value: function() {\r\n            var _this4 = this;\r\n            return {\r\n                NotifyTaskCreated: function(task, callback) {\r\n                    _this4._onRecordInserted(GANTT_TASKS, task, callback)\r\n                },\r\n                NotifyTaskRemoved: function(taskId) {\r\n                    _this4._onRecordRemoved(GANTT_TASKS, taskId)\r\n                },\r\n                NotifyTaskTitleChanged: function(taskId, newValue) {\r\n                    _this4._onRecordUpdated(GANTT_TASKS, taskId, \"title\", newValue)\r\n                },\r\n                NotifyTaskDescriptionChanged: function(taskId, newValue) {\r\n                    _this4._onRecordUpdated(GANTT_TASKS, taskId, \"description\", newValue)\r\n                },\r\n                NotifyTaskStartChanged: function(taskId, newValue) {\r\n                    _this4._onRecordUpdated(GANTT_TASKS, taskId, \"start\", newValue)\r\n                },\r\n                NotifyTaskEndChanged: function(taskId, newValue) {\r\n                    _this4._onRecordUpdated(GANTT_TASKS, taskId, \"end\", newValue)\r\n                },\r\n                NotifyTaskProgressChanged: function(taskId, newValue) {\r\n                    _this4._onRecordUpdated(GANTT_TASKS, taskId, \"progress\", newValue)\r\n                },\r\n                NotifyDependencyInserted: function(dependency, callback) {\r\n                    _this4._onRecordInserted(GANTT_DEPENDENCIES, dependency, callback)\r\n                },\r\n                NotifyDependencyRemoved: function(dependencyId) {\r\n                    _this4._onRecordRemoved(GANTT_DEPENDENCIES, dependencyId)\r\n                },\r\n                NotifyResourceCreated: function(resource, callback) {\r\n                    _this4._onRecordInserted(GANTT_RESOURCES, resource, callback)\r\n                },\r\n                NotifyResourceRemoved: function(resource) {\r\n                    _this4._onRecordRemoved(GANTT_RESOURCES, resource)\r\n                },\r\n                NotifyResourceAssigned: function(assignment, callback) {\r\n                    _this4._onRecordInserted(GANTT_RESOURCE_ASSIGNMENTS, assignment, callback)\r\n                },\r\n                NotifyResourceUnassigned: function(assignmentId) {\r\n                    _this4._onRecordRemoved(GANTT_RESOURCE_ASSIGNMENTS, assignmentId)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onRecordInserted\",\r\n        value: function(optionName, record, callback) {\r\n            var _this5 = this;\r\n            var dataOption = this[\"_\".concat(optionName, \"Option\")];\r\n            if (dataOption) {\r\n                var data = this._getStoreObject(optionName, record);\r\n                dataOption.insert(data, function(response) {\r\n                    var keyGetter = _data2.default.compileGetter(_this5.option(\"\".concat(optionName, \".keyExpr\")));\r\n                    var insertedId = keyGetter(response);\r\n                    callback(insertedId);\r\n                    if (optionName === GANTT_TASKS) {\r\n                        _this5._updateTreeListDataSource();\r\n                        var parentId = record.parentId;\r\n                        if (void 0 !== parentId) {\r\n                            var expandedRowKeys = _this5._treeList.option(\"expandedRowKeys\");\r\n                            expandedRowKeys.push(parentId);\r\n                            _this5._treeList.option(\"expandedRowKeys\", expandedRowKeys)\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onRecordRemoved\",\r\n        value: function(optionName, key) {\r\n            var _this6 = this;\r\n            var dataOption = this[\"_\".concat(optionName, \"Option\")];\r\n            if (dataOption) {\r\n                dataOption.remove(key, function() {\r\n                    if (optionName === GANTT_TASKS) {\r\n                        _this6._updateTreeListDataSource()\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_onRecordUpdated\",\r\n        value: function(optionName, key, fieldName, value) {\r\n            var _this7 = this;\r\n            var dataOption = this[\"_\".concat(optionName, \"Option\")];\r\n            if (dataOption) {\r\n                var setter = _data2.default.compileSetter(this.option(\"\".concat(optionName, \".\").concat(fieldName, \"Expr\")));\r\n                var data = {};\r\n                setter(data, value);\r\n                dataOption.update(key, data, function() {\r\n                    if (optionName === GANTT_TASKS) {\r\n                        _this7._updateTreeListDataSource()\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_updateTreeListDataSource\",\r\n        value: function() {\r\n            var storeArray = this._tasksOption._getStore()._array;\r\n            this._setTreeListOption(\"dataSource\", storeArray ? storeArray : this.option(\"tasks.dataSource\"))\r\n        }\r\n    }, {\r\n        key: \"_getLoadPanel\",\r\n        value: function() {\r\n            if (!this._loadPanel) {\r\n                this._loadPanel = this._createComponent(this._$loadPanel, _load_panel2.default, {\r\n                    position: {\r\n                        of: this.$element()\r\n                    }\r\n                })\r\n            }\r\n            return this._loadPanel\r\n        }\r\n    }, {\r\n        key: \"_createSelectionChangedAction\",\r\n        value: function() {\r\n            this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\")\r\n        }\r\n    }, {\r\n        key: \"_raiseSelectionChangedAction\",\r\n        value: function(selectedRowKey) {\r\n            if (!this._selectionChangedAction) {\r\n                this._createSelectionChangedAction()\r\n            }\r\n            this._selectionChangedAction({\r\n                selectedRowKey: selectedRowKey\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getSelectionMode\",\r\n        value: function(allowSelection) {\r\n            return allowSelection ? \"single\" : \"none\"\r\n        }\r\n    }, {\r\n        key: \"_getArrayFromOneElement\",\r\n        value: function(element) {\r\n            return void 0 === element || null === element ? [] : [element]\r\n        }\r\n    }, {\r\n        key: \"_showDialog\",\r\n        value: function(e) {\r\n            if (!this._dialogInstance) {\r\n                this._dialogInstance = new _uiGantt4.GanttDialog(this, this._$dialog)\r\n            }\r\n            this._dialogInstance.show(e.name, e.parameters, e.callback, this.option(\"editing\"))\r\n        }\r\n    }, {\r\n        key: \"_showPopupMenu\",\r\n        value: function(e) {\r\n            this._ganttView.getBarManager().updateContextMenu();\r\n            this._contextMenuBar.show(e.position)\r\n        }\r\n    }, {\r\n        key: \"_executeCoreCommand\",\r\n        value: function(id) {\r\n            this._ganttView.executeCoreCommand(id)\r\n        }\r\n    }, {\r\n        key: \"_clean\",\r\n        value: function() {\r\n            delete this._ganttView;\r\n            delete this._dialogInstance;\r\n            _get(_getPrototypeOf(Gantt.prototype), \"_clean\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(Gantt.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                tasks: {\r\n                    dataSource: null,\r\n                    keyExpr: \"id\",\r\n                    parentIdExpr: \"parentId\",\r\n                    startExpr: \"start\",\r\n                    endExpr: \"end\",\r\n                    progressExpr: \"progress\",\r\n                    titleExpr: \"title\"\r\n                },\r\n                dependencies: {\r\n                    dataSource: null,\r\n                    keyExpr: \"id\",\r\n                    predecessorIdExpr: \"predecessorId\",\r\n                    successorIdExpr: \"successorId\",\r\n                    typeExpr: \"type\"\r\n                },\r\n                resources: {\r\n                    dataSource: null,\r\n                    keyExpr: \"id\",\r\n                    textExpr: \"text\"\r\n                },\r\n                resourceAssignments: {\r\n                    dataSource: null,\r\n                    keyExpr: \"id\",\r\n                    taskIdExpr: \"taskId\",\r\n                    resourceIdExpr: \"resourceId\"\r\n                },\r\n                columns: void 0,\r\n                taskListWidth: 300,\r\n                showResources: true,\r\n                taskTitlePosition: \"inside\",\r\n                selectedRowKey: void 0,\r\n                onSelectionChanged: null,\r\n                allowSelection: true,\r\n                showRowLines: true,\r\n                scaleType: \"auto\",\r\n                editing: {\r\n                    enabled: false,\r\n                    allowTaskAdding: true,\r\n                    allowTaskDeleting: true,\r\n                    allowTaskUpdating: true,\r\n                    allowDependencyAdding: true,\r\n                    allowDependencyDeleting: true,\r\n                    allowDependencyUpdating: true,\r\n                    allowResourceAdding: true,\r\n                    allowResourceDeleting: true,\r\n                    allowResourceUpdating: true\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            switch (args.name) {\r\n                case \"tasks\":\r\n                    this._refreshDataSource(GANTT_TASKS);\r\n                    break;\r\n                case \"dependencies\":\r\n                    this._refreshDataSource(GANTT_DEPENDENCIES);\r\n                    break;\r\n                case \"resources\":\r\n                    this._refreshDataSource(GANTT_RESOURCES);\r\n                    break;\r\n                case \"resourceAssignments\":\r\n                    this._refreshDataSource(GANTT_RESOURCE_ASSIGNMENTS);\r\n                    break;\r\n                case \"columns\":\r\n                    this._setTreeListOption(\"columns\", this.option(args.name));\r\n                    break;\r\n                case \"taskListWidth\":\r\n                    this._setInnerElementsWidth();\r\n                    break;\r\n                case \"showResources\":\r\n                    this._setGanttViewOption(\"showResources\", args.value);\r\n                    break;\r\n                case \"taskTitlePosition\":\r\n                    this._setGanttViewOption(\"taskTitlePosition\", args.value);\r\n                    break;\r\n                case \"selectedRowKey\":\r\n                    this._setTreeListOption(\"selectedRowKeys\", this._getArrayFromOneElement(args.value));\r\n                    break;\r\n                case \"onSelectionChanged\":\r\n                    this._createSelectionChangedAction();\r\n                    break;\r\n                case \"allowSelection\":\r\n                    this._setTreeListOption(\"selection.mode\", this._getSelectionMode(args.value));\r\n                    this._setGanttViewOption(\"allowSelection\", args.value);\r\n                    break;\r\n                case \"showRowLines\":\r\n                    this._setTreeListOption(\"showRowLines\", args.value);\r\n                    this._setGanttViewOption(\"showRowLines\", args.value);\r\n                    break;\r\n                case \"scaleType\":\r\n                    this._setGanttViewOption(\"scaleType\", args.value);\r\n                    break;\r\n                case \"editing\":\r\n                    this._setGanttViewOption(\"editing\", this.option(args.name));\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(Gantt.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }]);\r\n    return Gantt\r\n}(_ui2.default);\r\n(0, _component_registrator2.default)(\"dxGantt\", Gantt);\r\nmodule.exports = Gantt;\r\n"]},"metadata":{},"sourceType":"script"}