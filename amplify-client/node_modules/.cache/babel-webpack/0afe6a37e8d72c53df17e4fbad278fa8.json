{"ast":null,"code":"/**\r\n * DevExtreme (data_helper.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar DataSource = require(\"./data/data_source/data_source\").DataSource;\n\nvar extend = require(\"./core/utils/extend\").extend;\n\nvar normalizeDataSourceOptions = require(\"./data/data_source/data_source\").normalizeDataSourceOptions;\n\nvar DATA_SOURCE_OPTIONS_METHOD = \"_dataSourceOptions\";\nvar DATA_SOURCE_CHANGED_METHOD = \"_dataSourceChangedHandler\";\nvar DATA_SOURCE_LOAD_ERROR_METHOD = \"_dataSourceLoadErrorHandler\";\nvar DATA_SOURCE_LOADING_CHANGED_METHOD = \"_dataSourceLoadingChangedHandler\";\nvar DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD = \"_dataSourceFromUrlLoadMode\";\nvar SPECIFIC_DATA_SOURCE_OPTION = \"_getSpecificDataSourceOption\";\nvar DataHelperMixin = {\n  postCtor: function postCtor() {\n    this.on(\"disposing\", function () {\n      this._disposeDataSource();\n    }.bind(this));\n  },\n  _refreshDataSource: function _refreshDataSource() {\n    this._initDataSource();\n\n    this._loadDataSource();\n  },\n  _initDataSource: function _initDataSource() {\n    var dataSourceOptions = SPECIFIC_DATA_SOURCE_OPTION in this ? this[SPECIFIC_DATA_SOURCE_OPTION]() : this.option(\"dataSource\");\n    var widgetDataSourceOptions;\n    var dataSourceType;\n\n    this._disposeDataSource();\n\n    if (dataSourceOptions) {\n      if (dataSourceOptions instanceof DataSource) {\n        this._isSharedDataSource = true;\n        this._dataSource = dataSourceOptions;\n      } else {\n        widgetDataSourceOptions = DATA_SOURCE_OPTIONS_METHOD in this ? this[DATA_SOURCE_OPTIONS_METHOD]() : {};\n        dataSourceType = this._dataSourceType ? this._dataSourceType() : DataSource;\n        dataSourceOptions = normalizeDataSourceOptions(dataSourceOptions, {\n          fromUrlLoadMode: DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD in this && this[DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD]()\n        });\n        this._dataSource = new dataSourceType(extend(true, {}, widgetDataSourceOptions, dataSourceOptions));\n      }\n\n      this._addDataSourceHandlers();\n    }\n  },\n  _addDataSourceHandlers: function _addDataSourceHandlers() {\n    if (DATA_SOURCE_CHANGED_METHOD in this) {\n      this._addDataSourceChangeHandler();\n    }\n\n    if (DATA_SOURCE_LOAD_ERROR_METHOD in this) {\n      this._addDataSourceLoadErrorHandler();\n    }\n\n    if (DATA_SOURCE_LOADING_CHANGED_METHOD in this) {\n      this._addDataSourceLoadingChangedHandler();\n    }\n\n    this._addReadyWatcher();\n  },\n  _addReadyWatcher: function _addReadyWatcher() {\n    this._dataSource.on(\"loadingChanged\", function (isLoading) {\n      this._ready && this._ready(!isLoading);\n    }.bind(this));\n  },\n  _addDataSourceChangeHandler: function _addDataSourceChangeHandler() {\n    var dataSource = this._dataSource;\n\n    this._proxiedDataSourceChangedHandler = function (e) {\n      this[DATA_SOURCE_CHANGED_METHOD](dataSource.items(), e);\n    }.bind(this);\n\n    dataSource.on(\"changed\", this._proxiedDataSourceChangedHandler);\n  },\n  _addDataSourceLoadErrorHandler: function _addDataSourceLoadErrorHandler() {\n    this._proxiedDataSourceLoadErrorHandler = this[DATA_SOURCE_LOAD_ERROR_METHOD].bind(this);\n\n    this._dataSource.on(\"loadError\", this._proxiedDataSourceLoadErrorHandler);\n  },\n  _addDataSourceLoadingChangedHandler: function _addDataSourceLoadingChangedHandler() {\n    this._proxiedDataSourceLoadingChangedHandler = this[DATA_SOURCE_LOADING_CHANGED_METHOD].bind(this);\n\n    this._dataSource.on(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler);\n  },\n  _loadDataSource: function _loadDataSource() {\n    if (this._dataSource) {\n      var dataSource = this._dataSource;\n\n      if (dataSource.isLoaded()) {\n        this._proxiedDataSourceChangedHandler && this._proxiedDataSourceChangedHandler();\n      } else {\n        dataSource.load();\n      }\n    }\n  },\n  _loadSingle: function _loadSingle(key, value) {\n    key = \"this\" === key ? this._dataSource.key() || \"this\" : key;\n    return this._dataSource.loadSingle(key, value);\n  },\n  _isLastPage: function _isLastPage() {\n    return !this._dataSource || this._dataSource.isLastPage() || !this._dataSource._pageSize;\n  },\n  _isDataSourceLoading: function _isDataSourceLoading() {\n    return this._dataSource && this._dataSource.isLoading();\n  },\n  _disposeDataSource: function _disposeDataSource() {\n    if (this._dataSource) {\n      if (this._isSharedDataSource) {\n        delete this._isSharedDataSource;\n        this._proxiedDataSourceChangedHandler && this._dataSource.off(\"changed\", this._proxiedDataSourceChangedHandler);\n        this._proxiedDataSourceLoadErrorHandler && this._dataSource.off(\"loadError\", this._proxiedDataSourceLoadErrorHandler);\n        this._proxiedDataSourceLoadingChangedHandler && this._dataSource.off(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler);\n      } else {\n        this._dataSource.dispose();\n      }\n\n      delete this._dataSource;\n      delete this._proxiedDataSourceChangedHandler;\n      delete this._proxiedDataSourceLoadErrorHandler;\n      delete this._proxiedDataSourceLoadingChangedHandler;\n    }\n  },\n  getDataSource: function getDataSource() {\n    return this._dataSource || null;\n  }\n};\nmodule.exports = DataHelperMixin;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/data_helper.js"],"names":["DataSource","require","extend","normalizeDataSourceOptions","DATA_SOURCE_OPTIONS_METHOD","DATA_SOURCE_CHANGED_METHOD","DATA_SOURCE_LOAD_ERROR_METHOD","DATA_SOURCE_LOADING_CHANGED_METHOD","DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD","SPECIFIC_DATA_SOURCE_OPTION","DataHelperMixin","postCtor","on","_disposeDataSource","bind","_refreshDataSource","_initDataSource","_loadDataSource","dataSourceOptions","option","widgetDataSourceOptions","dataSourceType","_isSharedDataSource","_dataSource","_dataSourceType","fromUrlLoadMode","_addDataSourceHandlers","_addDataSourceChangeHandler","_addDataSourceLoadErrorHandler","_addDataSourceLoadingChangedHandler","_addReadyWatcher","isLoading","_ready","dataSource","_proxiedDataSourceChangedHandler","e","items","_proxiedDataSourceLoadErrorHandler","_proxiedDataSourceLoadingChangedHandler","isLoaded","load","_loadSingle","key","value","loadSingle","_isLastPage","isLastPage","_pageSize","_isDataSourceLoading","off","dispose","getDataSource","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (data_helper.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar DataSource = require(\"./data/data_source/data_source\").DataSource;\r\nvar extend = require(\"./core/utils/extend\").extend;\r\nvar normalizeDataSourceOptions = require(\"./data/data_source/data_source\").normalizeDataSourceOptions;\r\nvar DATA_SOURCE_OPTIONS_METHOD = \"_dataSourceOptions\";\r\nvar DATA_SOURCE_CHANGED_METHOD = \"_dataSourceChangedHandler\";\r\nvar DATA_SOURCE_LOAD_ERROR_METHOD = \"_dataSourceLoadErrorHandler\";\r\nvar DATA_SOURCE_LOADING_CHANGED_METHOD = \"_dataSourceLoadingChangedHandler\";\r\nvar DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD = \"_dataSourceFromUrlLoadMode\";\r\nvar SPECIFIC_DATA_SOURCE_OPTION = \"_getSpecificDataSourceOption\";\r\nvar DataHelperMixin = {\r\n    postCtor: function() {\r\n        this.on(\"disposing\", function() {\r\n            this._disposeDataSource()\r\n        }.bind(this))\r\n    },\r\n    _refreshDataSource: function() {\r\n        this._initDataSource();\r\n        this._loadDataSource()\r\n    },\r\n    _initDataSource: function() {\r\n        var dataSourceOptions = SPECIFIC_DATA_SOURCE_OPTION in this ? this[SPECIFIC_DATA_SOURCE_OPTION]() : this.option(\"dataSource\");\r\n        var widgetDataSourceOptions;\r\n        var dataSourceType;\r\n        this._disposeDataSource();\r\n        if (dataSourceOptions) {\r\n            if (dataSourceOptions instanceof DataSource) {\r\n                this._isSharedDataSource = true;\r\n                this._dataSource = dataSourceOptions\r\n            } else {\r\n                widgetDataSourceOptions = DATA_SOURCE_OPTIONS_METHOD in this ? this[DATA_SOURCE_OPTIONS_METHOD]() : {};\r\n                dataSourceType = this._dataSourceType ? this._dataSourceType() : DataSource;\r\n                dataSourceOptions = normalizeDataSourceOptions(dataSourceOptions, {\r\n                    fromUrlLoadMode: DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD in this && this[DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD]()\r\n                });\r\n                this._dataSource = new dataSourceType(extend(true, {}, widgetDataSourceOptions, dataSourceOptions))\r\n            }\r\n            this._addDataSourceHandlers()\r\n        }\r\n    },\r\n    _addDataSourceHandlers: function() {\r\n        if (DATA_SOURCE_CHANGED_METHOD in this) {\r\n            this._addDataSourceChangeHandler()\r\n        }\r\n        if (DATA_SOURCE_LOAD_ERROR_METHOD in this) {\r\n            this._addDataSourceLoadErrorHandler()\r\n        }\r\n        if (DATA_SOURCE_LOADING_CHANGED_METHOD in this) {\r\n            this._addDataSourceLoadingChangedHandler()\r\n        }\r\n        this._addReadyWatcher()\r\n    },\r\n    _addReadyWatcher: function() {\r\n        this._dataSource.on(\"loadingChanged\", function(isLoading) {\r\n            this._ready && this._ready(!isLoading)\r\n        }.bind(this))\r\n    },\r\n    _addDataSourceChangeHandler: function() {\r\n        var dataSource = this._dataSource;\r\n        this._proxiedDataSourceChangedHandler = function(e) {\r\n            this[DATA_SOURCE_CHANGED_METHOD](dataSource.items(), e)\r\n        }.bind(this);\r\n        dataSource.on(\"changed\", this._proxiedDataSourceChangedHandler)\r\n    },\r\n    _addDataSourceLoadErrorHandler: function() {\r\n        this._proxiedDataSourceLoadErrorHandler = this[DATA_SOURCE_LOAD_ERROR_METHOD].bind(this);\r\n        this._dataSource.on(\"loadError\", this._proxiedDataSourceLoadErrorHandler)\r\n    },\r\n    _addDataSourceLoadingChangedHandler: function() {\r\n        this._proxiedDataSourceLoadingChangedHandler = this[DATA_SOURCE_LOADING_CHANGED_METHOD].bind(this);\r\n        this._dataSource.on(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler)\r\n    },\r\n    _loadDataSource: function() {\r\n        if (this._dataSource) {\r\n            var dataSource = this._dataSource;\r\n            if (dataSource.isLoaded()) {\r\n                this._proxiedDataSourceChangedHandler && this._proxiedDataSourceChangedHandler()\r\n            } else {\r\n                dataSource.load()\r\n            }\r\n        }\r\n    },\r\n    _loadSingle: function(key, value) {\r\n        key = \"this\" === key ? this._dataSource.key() || \"this\" : key;\r\n        return this._dataSource.loadSingle(key, value)\r\n    },\r\n    _isLastPage: function() {\r\n        return !this._dataSource || this._dataSource.isLastPage() || !this._dataSource._pageSize\r\n    },\r\n    _isDataSourceLoading: function() {\r\n        return this._dataSource && this._dataSource.isLoading()\r\n    },\r\n    _disposeDataSource: function() {\r\n        if (this._dataSource) {\r\n            if (this._isSharedDataSource) {\r\n                delete this._isSharedDataSource;\r\n                this._proxiedDataSourceChangedHandler && this._dataSource.off(\"changed\", this._proxiedDataSourceChangedHandler);\r\n                this._proxiedDataSourceLoadErrorHandler && this._dataSource.off(\"loadError\", this._proxiedDataSourceLoadErrorHandler);\r\n                this._proxiedDataSourceLoadingChangedHandler && this._dataSource.off(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler)\r\n            } else {\r\n                this._dataSource.dispose()\r\n            }\r\n            delete this._dataSource;\r\n            delete this._proxiedDataSourceChangedHandler;\r\n            delete this._proxiedDataSourceLoadErrorHandler;\r\n            delete this._proxiedDataSourceLoadingChangedHandler\r\n        }\r\n    },\r\n    getDataSource: function() {\r\n        return this._dataSource || null\r\n    }\r\n};\r\nmodule.exports = DataHelperMixin;\r\n"]},"metadata":{},"sourceType":"script"}