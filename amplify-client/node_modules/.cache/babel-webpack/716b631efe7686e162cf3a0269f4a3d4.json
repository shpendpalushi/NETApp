{"ast":null,"code":"/**\r\n * DevExtreme (viz/series/points/polar_point.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar extend = require(\"../../../core/utils/extend\").extend;\n\nvar _extend = extend;\n\nvar symbolPoint = require(\"./symbol_point\");\n\nvar barPoint = require(\"./bar_point\");\n\nvar piePoint = require(\"./pie_point\");\n\nvar isDefined = require(\"../../../core/utils/type\").isDefined;\n\nvar vizUtils = require(\"../../core/utils\");\n\nvar normalizeAngle = vizUtils.normalizeAngle;\nvar _math = Math;\nvar _max = _math.max;\n\nvar RADIAL_LABEL_INDENT = require(\"../../components/consts\").radialLabelIndent;\n\nvar ERROR_BARS_ANGLE_OFFSET = 90;\nvar CANVAS_POSITION_END = \"canvas_position_end\";\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\nexports.polarSymbolPoint = _extend({}, symbolPoint, {\n  _getLabelCoords: piePoint._getLabelCoords,\n  _moveLabelOnCanvas: barPoint._moveLabelOnCanvas,\n  _getLabelPosition: function _getLabelPosition() {\n    return \"outside\";\n  },\n  _getCoords: function _getCoords(argument, value) {\n    var axis = this.series.getValueAxis();\n    var startAngle = axis.getAngles()[0];\n\n    var angle = this._getArgTranslator().translate(argument);\n\n    var radius = this._getValTranslator().translate(value);\n\n    var coords = vizUtils.convertPolarToXY(axis.getCenter(), axis.getAngles()[0], angle, radius);\n    coords.angle = angle + startAngle - 90, coords.radius = radius;\n    return coords;\n  },\n  _translate: function _translate() {\n    var that = this;\n    var center = that.series.getValueAxis().getCenter();\n\n    var coord = that._getCoords(that.argument, that.value);\n\n    var maxRadius = that._getValTranslator().translate(CANVAS_POSITION_END);\n\n    var normalizedRadius = isDefined(coord.radius) && coord.radius >= 0 ? coord.radius : null;\n    that.vx = normalizeAngle(coord.angle);\n    that.vy = that.radiusOuter = that.radiusLabels = normalizedRadius;\n    that.radiusLabels += RADIAL_LABEL_INDENT;\n    that.radius = normalizedRadius;\n    that.middleAngle = -coord.angle;\n    that.angle = -coord.angle;\n    that.x = coord.x;\n    that.y = coord.y;\n    that.defaultX = that.centerX = center.x;\n    that.defaultY = that.centerY = center.y;\n\n    that._translateErrorBars();\n\n    that.inVisibleArea = that._checkRadiusForVisibleArea(normalizedRadius, maxRadius);\n  },\n  _checkRadiusForVisibleArea: function _checkRadiusForVisibleArea(radius, maxRadius) {\n    return isDefined(radius) && radius <= maxRadius;\n  },\n  _translateErrorBars: function _translateErrorBars() {\n    var that = this;\n    var errorBars = that._options.errorBars;\n\n    var translator = that._getValTranslator();\n\n    if (!errorBars) {\n      return;\n    }\n\n    isDefined(that.lowError) && (that._lowErrorCoord = that.centerY - translator.translate(that.lowError));\n    isDefined(that.highError) && (that._highErrorCoord = that.centerY - translator.translate(that.highError));\n    that._errorBarPos = that.centerX;\n    that._baseErrorBarPos = \"stdDeviation\" === errorBars.type ? that._lowErrorCoord + (that._highErrorCoord - that._lowErrorCoord) / 2 : that.centerY - that.radius;\n  },\n  _getTranslates: function _getTranslates(animationEnabled) {\n    return animationEnabled ? this.getDefaultCoords() : {\n      x: this.x,\n      y: this.y\n    };\n  },\n  getDefaultCoords: function getDefaultCoords() {\n    var cosSin = vizUtils.getCosAndSin(-this.angle);\n\n    var radius = this._getValTranslator().translate(CANVAS_POSITION_DEFAULT);\n\n    var x = this.defaultX + radius * cosSin.cos;\n    var y = this.defaultY + radius * cosSin.sin;\n    return {\n      x: x,\n      y: y\n    };\n  },\n  _addLabelAlignmentAndOffset: function _addLabelAlignmentAndOffset(label, coord) {\n    return coord;\n  },\n  _checkLabelPosition: function _checkLabelPosition(label, coord) {\n    var that = this;\n\n    var visibleArea = that._getVisibleArea();\n\n    var graphicBBox = that._getGraphicBBox();\n\n    if (that._isPointInVisibleArea(visibleArea, graphicBBox)) {\n      coord = that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect());\n    }\n\n    return coord;\n  },\n  _getErrorBarSettings: function _getErrorBarSettings(errorBarOptions, animationEnabled) {\n    var settings = symbolPoint._getErrorBarSettings.call(this, errorBarOptions, animationEnabled);\n\n    settings.rotate = ERROR_BARS_ANGLE_OFFSET - this.angle;\n    settings.rotateX = this.centerX;\n    settings.rotateY = this.centerY;\n    return settings;\n  },\n  getCoords: function getCoords(min) {\n    return min ? this.getDefaultCoords() : {\n      x: this.x,\n      y: this.y\n    };\n  }\n});\nexports.polarBarPoint = _extend({}, barPoint, {\n  _translateErrorBars: exports.polarSymbolPoint._translateErrorBars,\n  _getErrorBarSettings: exports.polarSymbolPoint._getErrorBarSettings,\n  _moveLabelOnCanvas: barPoint._moveLabelOnCanvas,\n  _getLabelCoords: piePoint._getLabelCoords,\n  _getLabelConnector: piePoint._getLabelConnector,\n  getTooltipParams: piePoint.getTooltipParams,\n  _getLabelPosition: piePoint._getLabelPosition,\n  _getCoords: exports.polarSymbolPoint._getCoords,\n  _translate: function _translate() {\n    var that = this;\n\n    var translator = that._getValTranslator();\n\n    var businessRange = translator.getBusinessRange();\n    var maxRadius = translator.translate(CANVAS_POSITION_END);\n    that.radiusInner = translator.translate(that.minValue);\n\n    exports.polarSymbolPoint._translate.call(that);\n\n    if (null === that.radiusInner) {\n      that.radiusInner = that.radius = maxRadius;\n    } else {\n      if (null === that.radius) {\n        that.radius = that.value >= businessRange.minVisible ? maxRadius : 0;\n      } else {\n        if (that.radius > maxRadius) {\n          that.radius = maxRadius;\n        }\n      }\n    }\n\n    that.radiusOuter = that.radiusLabels = _max(that.radiusInner, that.radius);\n    that.radiusLabels += RADIAL_LABEL_INDENT;\n    that.radiusInner = that.defaultRadius = _math.min(that.radiusInner, that.radius);\n    that.middleAngle = that.angle = -normalizeAngle(that.middleAngleCorrection - that.angle);\n  },\n  _checkRadiusForVisibleArea: function _checkRadiusForVisibleArea(radius) {\n    return isDefined(radius) || this._getValTranslator().translate(this.minValue) > 0;\n  },\n  _getErrorBarBaseEdgeLength: function _getErrorBarBaseEdgeLength() {\n    var coord = this.getMarkerCoords();\n    return _math.PI * coord.outerRadius * _math.abs(coord.startAngle - coord.endAngle) / 180;\n  },\n  getMarkerCoords: function getMarkerCoords() {\n    return {\n      x: this.centerX,\n      y: this.centerY,\n      outerRadius: this.radiusOuter,\n      innerRadius: this.defaultRadius,\n      startAngle: this.middleAngle - this.interval / 2,\n      endAngle: this.middleAngle + this.interval / 2\n    };\n  },\n  _drawMarker: function _drawMarker(renderer, group, animationEnabled) {\n    var that = this;\n\n    var styles = that._getStyle();\n\n    var coords = that.getMarkerCoords();\n    var innerRadius = coords.innerRadius;\n    var outerRadius = coords.outerRadius;\n\n    var start = that._getCoords(that.argument, CANVAS_POSITION_DEFAULT);\n\n    var x = coords.x;\n    var y = coords.y;\n\n    if (animationEnabled) {\n      innerRadius = 0;\n      outerRadius = 0;\n      x = start.x;\n      y = start.y;\n    }\n\n    that.graphic = renderer.arc(x, y, innerRadius, outerRadius, coords.startAngle, coords.endAngle).attr(styles).data({\n      \"chart-data-point\": that\n    }).append(group);\n  },\n  _checkLabelPosition: function _checkLabelPosition(label, coord) {\n    var that = this;\n\n    var visibleArea = that._getVisibleArea();\n\n    var angleFunctions = vizUtils.getCosAndSin(that.middleAngle);\n    var x = that.centerX + that.defaultRadius * angleFunctions.cos;\n    var y = that.centerY - that.defaultRadius * angleFunctions.sin;\n\n    if (x > visibleArea.minX && x < visibleArea.maxX && y > visibleArea.minY && y < visibleArea.maxY) {\n      coord = that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect());\n    }\n\n    return coord;\n  },\n  _addLabelAlignmentAndOffset: function _addLabelAlignmentAndOffset(label, coord) {\n    return coord;\n  },\n  correctCoordinates: function correctCoordinates(correctOptions) {\n    this.middleAngleCorrection = correctOptions.offset;\n    this.interval = correctOptions.width;\n  },\n  coordsIn: function coordsIn(x, y) {\n    var val = vizUtils.convertXYToPolar(this.series.getValueAxis().getCenter(), x, y);\n    var coords = this.getMarkerCoords();\n    var isBetweenAngles = coords.startAngle < coords.endAngle ? -val.phi >= coords.startAngle && -val.phi <= coords.endAngle : -val.phi <= coords.startAngle && -val.phi >= coords.endAngle;\n    return val.r >= coords.innerRadius && val.r <= coords.outerRadius && isBetweenAngles;\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/viz/series/points/polar_point.js"],"names":["extend","require","_extend","symbolPoint","barPoint","piePoint","isDefined","vizUtils","normalizeAngle","_math","Math","_max","max","RADIAL_LABEL_INDENT","radialLabelIndent","ERROR_BARS_ANGLE_OFFSET","CANVAS_POSITION_END","CANVAS_POSITION_DEFAULT","exports","polarSymbolPoint","_getLabelCoords","_moveLabelOnCanvas","_getLabelPosition","_getCoords","argument","value","axis","series","getValueAxis","startAngle","getAngles","angle","_getArgTranslator","translate","radius","_getValTranslator","coords","convertPolarToXY","getCenter","_translate","that","center","coord","maxRadius","normalizedRadius","vx","vy","radiusOuter","radiusLabels","middleAngle","x","y","defaultX","centerX","defaultY","centerY","_translateErrorBars","inVisibleArea","_checkRadiusForVisibleArea","errorBars","_options","translator","lowError","_lowErrorCoord","highError","_highErrorCoord","_errorBarPos","_baseErrorBarPos","type","_getTranslates","animationEnabled","getDefaultCoords","cosSin","getCosAndSin","cos","sin","_addLabelAlignmentAndOffset","label","_checkLabelPosition","visibleArea","_getVisibleArea","graphicBBox","_getGraphicBBox","_isPointInVisibleArea","getBoundingRect","_getErrorBarSettings","errorBarOptions","settings","call","rotate","rotateX","rotateY","getCoords","min","polarBarPoint","_getLabelConnector","getTooltipParams","businessRange","getBusinessRange","radiusInner","minValue","minVisible","defaultRadius","middleAngleCorrection","_getErrorBarBaseEdgeLength","getMarkerCoords","PI","outerRadius","abs","endAngle","innerRadius","interval","_drawMarker","renderer","group","styles","_getStyle","start","graphic","arc","attr","data","append","angleFunctions","minX","maxX","minY","maxY","correctCoordinates","correctOptions","offset","width","coordsIn","val","convertXYToPolar","isBetweenAngles","phi","r"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/series/points/polar_point.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar extend = require(\"../../../core/utils/extend\").extend;\r\nvar _extend = extend;\r\nvar symbolPoint = require(\"./symbol_point\");\r\nvar barPoint = require(\"./bar_point\");\r\nvar piePoint = require(\"./pie_point\");\r\nvar isDefined = require(\"../../../core/utils/type\").isDefined;\r\nvar vizUtils = require(\"../../core/utils\");\r\nvar normalizeAngle = vizUtils.normalizeAngle;\r\nvar _math = Math;\r\nvar _max = _math.max;\r\nvar RADIAL_LABEL_INDENT = require(\"../../components/consts\").radialLabelIndent;\r\nvar ERROR_BARS_ANGLE_OFFSET = 90;\r\nvar CANVAS_POSITION_END = \"canvas_position_end\";\r\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\r\nexports.polarSymbolPoint = _extend({}, symbolPoint, {\r\n    _getLabelCoords: piePoint._getLabelCoords,\r\n    _moveLabelOnCanvas: barPoint._moveLabelOnCanvas,\r\n    _getLabelPosition: function() {\r\n        return \"outside\"\r\n    },\r\n    _getCoords: function(argument, value) {\r\n        var axis = this.series.getValueAxis();\r\n        var startAngle = axis.getAngles()[0];\r\n        var angle = this._getArgTranslator().translate(argument);\r\n        var radius = this._getValTranslator().translate(value);\r\n        var coords = vizUtils.convertPolarToXY(axis.getCenter(), axis.getAngles()[0], angle, radius);\r\n        coords.angle = angle + startAngle - 90, coords.radius = radius;\r\n        return coords\r\n    },\r\n    _translate: function() {\r\n        var that = this;\r\n        var center = that.series.getValueAxis().getCenter();\r\n        var coord = that._getCoords(that.argument, that.value);\r\n        var maxRadius = that._getValTranslator().translate(CANVAS_POSITION_END);\r\n        var normalizedRadius = isDefined(coord.radius) && coord.radius >= 0 ? coord.radius : null;\r\n        that.vx = normalizeAngle(coord.angle);\r\n        that.vy = that.radiusOuter = that.radiusLabels = normalizedRadius;\r\n        that.radiusLabels += RADIAL_LABEL_INDENT;\r\n        that.radius = normalizedRadius;\r\n        that.middleAngle = -coord.angle;\r\n        that.angle = -coord.angle;\r\n        that.x = coord.x;\r\n        that.y = coord.y;\r\n        that.defaultX = that.centerX = center.x;\r\n        that.defaultY = that.centerY = center.y;\r\n        that._translateErrorBars();\r\n        that.inVisibleArea = that._checkRadiusForVisibleArea(normalizedRadius, maxRadius)\r\n    },\r\n    _checkRadiusForVisibleArea: function(radius, maxRadius) {\r\n        return isDefined(radius) && radius <= maxRadius\r\n    },\r\n    _translateErrorBars: function() {\r\n        var that = this;\r\n        var errorBars = that._options.errorBars;\r\n        var translator = that._getValTranslator();\r\n        if (!errorBars) {\r\n            return\r\n        }\r\n        isDefined(that.lowError) && (that._lowErrorCoord = that.centerY - translator.translate(that.lowError));\r\n        isDefined(that.highError) && (that._highErrorCoord = that.centerY - translator.translate(that.highError));\r\n        that._errorBarPos = that.centerX;\r\n        that._baseErrorBarPos = \"stdDeviation\" === errorBars.type ? that._lowErrorCoord + (that._highErrorCoord - that._lowErrorCoord) / 2 : that.centerY - that.radius\r\n    },\r\n    _getTranslates: function(animationEnabled) {\r\n        return animationEnabled ? this.getDefaultCoords() : {\r\n            x: this.x,\r\n            y: this.y\r\n        }\r\n    },\r\n    getDefaultCoords: function() {\r\n        var cosSin = vizUtils.getCosAndSin(-this.angle);\r\n        var radius = this._getValTranslator().translate(CANVAS_POSITION_DEFAULT);\r\n        var x = this.defaultX + radius * cosSin.cos;\r\n        var y = this.defaultY + radius * cosSin.sin;\r\n        return {\r\n            x: x,\r\n            y: y\r\n        }\r\n    },\r\n    _addLabelAlignmentAndOffset: function(label, coord) {\r\n        return coord\r\n    },\r\n    _checkLabelPosition: function(label, coord) {\r\n        var that = this;\r\n        var visibleArea = that._getVisibleArea();\r\n        var graphicBBox = that._getGraphicBBox();\r\n        if (that._isPointInVisibleArea(visibleArea, graphicBBox)) {\r\n            coord = that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect())\r\n        }\r\n        return coord\r\n    },\r\n    _getErrorBarSettings: function(errorBarOptions, animationEnabled) {\r\n        var settings = symbolPoint._getErrorBarSettings.call(this, errorBarOptions, animationEnabled);\r\n        settings.rotate = ERROR_BARS_ANGLE_OFFSET - this.angle;\r\n        settings.rotateX = this.centerX;\r\n        settings.rotateY = this.centerY;\r\n        return settings\r\n    },\r\n    getCoords: function(min) {\r\n        return min ? this.getDefaultCoords() : {\r\n            x: this.x,\r\n            y: this.y\r\n        }\r\n    }\r\n});\r\nexports.polarBarPoint = _extend({}, barPoint, {\r\n    _translateErrorBars: exports.polarSymbolPoint._translateErrorBars,\r\n    _getErrorBarSettings: exports.polarSymbolPoint._getErrorBarSettings,\r\n    _moveLabelOnCanvas: barPoint._moveLabelOnCanvas,\r\n    _getLabelCoords: piePoint._getLabelCoords,\r\n    _getLabelConnector: piePoint._getLabelConnector,\r\n    getTooltipParams: piePoint.getTooltipParams,\r\n    _getLabelPosition: piePoint._getLabelPosition,\r\n    _getCoords: exports.polarSymbolPoint._getCoords,\r\n    _translate: function() {\r\n        var that = this;\r\n        var translator = that._getValTranslator();\r\n        var businessRange = translator.getBusinessRange();\r\n        var maxRadius = translator.translate(CANVAS_POSITION_END);\r\n        that.radiusInner = translator.translate(that.minValue);\r\n        exports.polarSymbolPoint._translate.call(that);\r\n        if (null === that.radiusInner) {\r\n            that.radiusInner = that.radius = maxRadius\r\n        } else {\r\n            if (null === that.radius) {\r\n                that.radius = that.value >= businessRange.minVisible ? maxRadius : 0\r\n            } else {\r\n                if (that.radius > maxRadius) {\r\n                    that.radius = maxRadius\r\n                }\r\n            }\r\n        }\r\n        that.radiusOuter = that.radiusLabels = _max(that.radiusInner, that.radius);\r\n        that.radiusLabels += RADIAL_LABEL_INDENT;\r\n        that.radiusInner = that.defaultRadius = _math.min(that.radiusInner, that.radius);\r\n        that.middleAngle = that.angle = -normalizeAngle(that.middleAngleCorrection - that.angle)\r\n    },\r\n    _checkRadiusForVisibleArea: function(radius) {\r\n        return isDefined(radius) || this._getValTranslator().translate(this.minValue) > 0\r\n    },\r\n    _getErrorBarBaseEdgeLength: function() {\r\n        var coord = this.getMarkerCoords();\r\n        return _math.PI * coord.outerRadius * _math.abs(coord.startAngle - coord.endAngle) / 180\r\n    },\r\n    getMarkerCoords: function() {\r\n        return {\r\n            x: this.centerX,\r\n            y: this.centerY,\r\n            outerRadius: this.radiusOuter,\r\n            innerRadius: this.defaultRadius,\r\n            startAngle: this.middleAngle - this.interval / 2,\r\n            endAngle: this.middleAngle + this.interval / 2\r\n        }\r\n    },\r\n    _drawMarker: function(renderer, group, animationEnabled) {\r\n        var that = this;\r\n        var styles = that._getStyle();\r\n        var coords = that.getMarkerCoords();\r\n        var innerRadius = coords.innerRadius;\r\n        var outerRadius = coords.outerRadius;\r\n        var start = that._getCoords(that.argument, CANVAS_POSITION_DEFAULT);\r\n        var x = coords.x;\r\n        var y = coords.y;\r\n        if (animationEnabled) {\r\n            innerRadius = 0;\r\n            outerRadius = 0;\r\n            x = start.x;\r\n            y = start.y\r\n        }\r\n        that.graphic = renderer.arc(x, y, innerRadius, outerRadius, coords.startAngle, coords.endAngle).attr(styles).data({\r\n            \"chart-data-point\": that\r\n        }).append(group)\r\n    },\r\n    _checkLabelPosition: function(label, coord) {\r\n        var that = this;\r\n        var visibleArea = that._getVisibleArea();\r\n        var angleFunctions = vizUtils.getCosAndSin(that.middleAngle);\r\n        var x = that.centerX + that.defaultRadius * angleFunctions.cos;\r\n        var y = that.centerY - that.defaultRadius * angleFunctions.sin;\r\n        if (x > visibleArea.minX && x < visibleArea.maxX && y > visibleArea.minY && y < visibleArea.maxY) {\r\n            coord = that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect())\r\n        }\r\n        return coord\r\n    },\r\n    _addLabelAlignmentAndOffset: function(label, coord) {\r\n        return coord\r\n    },\r\n    correctCoordinates: function(correctOptions) {\r\n        this.middleAngleCorrection = correctOptions.offset;\r\n        this.interval = correctOptions.width\r\n    },\r\n    coordsIn: function(x, y) {\r\n        var val = vizUtils.convertXYToPolar(this.series.getValueAxis().getCenter(), x, y);\r\n        var coords = this.getMarkerCoords();\r\n        var isBetweenAngles = coords.startAngle < coords.endAngle ? -val.phi >= coords.startAngle && -val.phi <= coords.endAngle : -val.phi <= coords.startAngle && -val.phi >= coords.endAngle;\r\n        return val.r >= coords.innerRadius && val.r <= coords.outerRadius && isBetweenAngles\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"script"}