{"ast":null,"code":"/**\r\n * DevExtreme (viz/vector_map/legend.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar _extend = extend;\nvar _each = each;\n\nvar legendModule = require(\"../components/legend\");\n\nvar _BaseLegend = legendModule.Legend;\nvar unknownSource = {\n  category: \"UNKNOWN\",\n  name: \"UNKNOWN\"\n};\n\nfunction buildData(partition, values, field) {\n  var i;\n  var ii = values.length;\n  var list = [];\n  var item;\n\n  for (i = 0; i < ii; ++i) {\n    list[i] = item = {\n      start: partition[i],\n      end: partition[i + 1],\n      index: i\n    };\n    item[field] = values[i];\n    item.states = {\n      normal: {\n        fill: item.color\n      }\n    };\n    item.visible = true;\n  }\n\n  return list;\n}\n\nvar Legend = function Legend(parameters) {\n  var that = this;\n  that._params = parameters;\n  that._root = parameters.renderer.g().attr({\n    \"class\": \"dxm-legend\"\n  }).linkOn(parameters.container, {\n    name: \"legend\",\n    after: \"legend-base\"\n  }).enableLinks().linkAppend();\n  parameters.layoutControl.addItem(that);\n\n  _BaseLegend.call(that, {\n    renderer: parameters.renderer,\n    widget: parameters.widget,\n    group: that._root,\n    backgroundClass: null,\n    itemsGroupClass: null,\n    textField: \"text\",\n    getFormatObject: function getFormatObject(data) {\n      return data;\n    }\n  });\n\n  that._onDataChanged = function (data) {\n    that._updateData(data);\n  };\n};\n\nLegend.prototype = _extend(require(\"../../core/utils/object\").clone(_BaseLegend.prototype), {\n  constructor: Legend,\n  dispose: function dispose() {\n    var that = this;\n\n    that._params.layoutControl.removeItem(that);\n\n    that._unbindData();\n\n    that._root.linkRemove().linkOff();\n\n    that._params = that._root = that._onDataChanged = null;\n    return _BaseLegend.prototype.dispose.apply(that, arguments);\n  },\n  resize: function resize(size) {\n    this._params.notifyDirty();\n\n    if (null === size) {\n      this.erase();\n    } else {\n      this.draw(size.width, size.height);\n    }\n\n    this._params.notifyReady();\n  },\n  locate: _BaseLegend.prototype.shift,\n  _updateData: function _updateData(data) {\n    this._options.defaultColor = data && data.defaultColor;\n    this.update(data ? buildData(data.partition, data.values, this._dataName) : [], this._options, this._params.themeManager.theme(\"legend\").title);\n    this.updateLayout();\n  },\n  _unbindData: function _unbindData() {\n    if (this._dataCategory) {\n      this._params.dataExchanger.unbind(this._dataCategory, this._dataName, this._onDataChanged);\n    }\n  },\n  _bindData: function _bindData(arg) {\n    this._params.dataExchanger.bind(this._dataCategory = arg.category, this._dataName = arg.name, this._onDataChanged);\n  },\n  setOptions: function setOptions(options) {\n    var that = this;\n    that.update(that._data, options, this._params.themeManager.theme(\"legend\").title);\n\n    that._unbindData();\n\n    var source = options.source;\n\n    that._bindData(source ? {\n      category: source.layer,\n      name: source.grouping\n    } : unknownSource);\n\n    that.updateLayout();\n    return that;\n  }\n});\n\nfunction LegendsControl(parameters) {\n  this._params = parameters;\n  this._items = [];\n  parameters.container.virtualLink(\"legend-base\");\n}\n\nLegendsControl.prototype = {\n  constructor: LegendsControl,\n  dispose: function dispose() {\n    _each(this._items, function (_, item) {\n      item.dispose();\n    });\n\n    this._params = this._items = null;\n  },\n  setOptions: function setOptions(options) {\n    var optionList = options && options.length ? options : [];\n    var items = this._items;\n    var i;\n    var ii = optionList.length;\n    var params = this._params;\n    var theme = params.themeManager.theme(\"legend\");\n\n    for (i = items.length; i < ii; ++i) {\n      items[i] = new Legend(params);\n    }\n\n    for (i = items.length - 1; i >= ii; --i) {\n      items[i].dispose();\n      items.splice(i, 1);\n    }\n\n    params.layoutControl.suspend();\n\n    for (i = 0; i < ii; ++i) {\n      items[i].setOptions(_extend(true, {}, theme, optionList[i]));\n    }\n\n    params.layoutControl.resume();\n  }\n};\nexports.LegendsControl = LegendsControl;","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/viz/vector_map/legend.js"],"names":["extend","require","each","_extend","_each","legendModule","_BaseLegend","Legend","unknownSource","category","name","buildData","partition","values","field","i","ii","length","list","item","start","end","index","states","normal","fill","color","visible","parameters","that","_params","_root","renderer","g","attr","linkOn","container","after","enableLinks","linkAppend","layoutControl","addItem","call","widget","group","backgroundClass","itemsGroupClass","textField","getFormatObject","data","_onDataChanged","_updateData","prototype","clone","constructor","dispose","removeItem","_unbindData","linkRemove","linkOff","apply","arguments","resize","size","notifyDirty","erase","draw","width","height","notifyReady","locate","shift","_options","defaultColor","update","_dataName","themeManager","theme","title","updateLayout","_dataCategory","dataExchanger","unbind","_bindData","arg","bind","setOptions","options","_data","source","layer","grouping","LegendsControl","_items","virtualLink","_","optionList","items","params","splice","suspend","resume","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/vector_map/legend.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar _extend = extend;\r\nvar _each = each;\r\nvar legendModule = require(\"../components/legend\");\r\nvar _BaseLegend = legendModule.Legend;\r\nvar unknownSource = {\r\n    category: \"UNKNOWN\",\r\n    name: \"UNKNOWN\"\r\n};\r\n\r\nfunction buildData(partition, values, field) {\r\n    var i;\r\n    var ii = values.length;\r\n    var list = [];\r\n    var item;\r\n    for (i = 0; i < ii; ++i) {\r\n        list[i] = item = {\r\n            start: partition[i],\r\n            end: partition[i + 1],\r\n            index: i\r\n        };\r\n        item[field] = values[i];\r\n        item.states = {\r\n            normal: {\r\n                fill: item.color\r\n            }\r\n        };\r\n        item.visible = true\r\n    }\r\n    return list\r\n}\r\nvar Legend = function(parameters) {\r\n    var that = this;\r\n    that._params = parameters;\r\n    that._root = parameters.renderer.g().attr({\r\n        \"class\": \"dxm-legend\"\r\n    }).linkOn(parameters.container, {\r\n        name: \"legend\",\r\n        after: \"legend-base\"\r\n    }).enableLinks().linkAppend();\r\n    parameters.layoutControl.addItem(that);\r\n    _BaseLegend.call(that, {\r\n        renderer: parameters.renderer,\r\n        widget: parameters.widget,\r\n        group: that._root,\r\n        backgroundClass: null,\r\n        itemsGroupClass: null,\r\n        textField: \"text\",\r\n        getFormatObject: function(data) {\r\n            return data\r\n        }\r\n    });\r\n    that._onDataChanged = function(data) {\r\n        that._updateData(data)\r\n    }\r\n};\r\nLegend.prototype = _extend(require(\"../../core/utils/object\").clone(_BaseLegend.prototype), {\r\n    constructor: Legend,\r\n    dispose: function() {\r\n        var that = this;\r\n        that._params.layoutControl.removeItem(that);\r\n        that._unbindData();\r\n        that._root.linkRemove().linkOff();\r\n        that._params = that._root = that._onDataChanged = null;\r\n        return _BaseLegend.prototype.dispose.apply(that, arguments)\r\n    },\r\n    resize: function(size) {\r\n        this._params.notifyDirty();\r\n        if (null === size) {\r\n            this.erase()\r\n        } else {\r\n            this.draw(size.width, size.height)\r\n        }\r\n        this._params.notifyReady()\r\n    },\r\n    locate: _BaseLegend.prototype.shift,\r\n    _updateData: function(data) {\r\n        this._options.defaultColor = data && data.defaultColor;\r\n        this.update(data ? buildData(data.partition, data.values, this._dataName) : [], this._options, this._params.themeManager.theme(\"legend\").title);\r\n        this.updateLayout()\r\n    },\r\n    _unbindData: function() {\r\n        if (this._dataCategory) {\r\n            this._params.dataExchanger.unbind(this._dataCategory, this._dataName, this._onDataChanged)\r\n        }\r\n    },\r\n    _bindData: function(arg) {\r\n        this._params.dataExchanger.bind(this._dataCategory = arg.category, this._dataName = arg.name, this._onDataChanged)\r\n    },\r\n    setOptions: function(options) {\r\n        var that = this;\r\n        that.update(that._data, options, this._params.themeManager.theme(\"legend\").title);\r\n        that._unbindData();\r\n        var source = options.source;\r\n        that._bindData(source ? {\r\n            category: source.layer,\r\n            name: source.grouping\r\n        } : unknownSource);\r\n        that.updateLayout();\r\n        return that\r\n    }\r\n});\r\n\r\nfunction LegendsControl(parameters) {\r\n    this._params = parameters;\r\n    this._items = [];\r\n    parameters.container.virtualLink(\"legend-base\")\r\n}\r\nLegendsControl.prototype = {\r\n    constructor: LegendsControl,\r\n    dispose: function() {\r\n        _each(this._items, function(_, item) {\r\n            item.dispose()\r\n        });\r\n        this._params = this._items = null\r\n    },\r\n    setOptions: function(options) {\r\n        var optionList = options && options.length ? options : [];\r\n        var items = this._items;\r\n        var i;\r\n        var ii = optionList.length;\r\n        var params = this._params;\r\n        var theme = params.themeManager.theme(\"legend\");\r\n        for (i = items.length; i < ii; ++i) {\r\n            items[i] = new Legend(params)\r\n        }\r\n        for (i = items.length - 1; i >= ii; --i) {\r\n            items[i].dispose();\r\n            items.splice(i, 1)\r\n        }\r\n        params.layoutControl.suspend();\r\n        for (i = 0; i < ii; ++i) {\r\n            items[i].setOptions(_extend(true, {}, theme, optionList[i]))\r\n        }\r\n        params.layoutControl.resume()\r\n    }\r\n};\r\nexports.LegendsControl = LegendsControl;\r\n"]},"metadata":{},"sourceType":"script"}