{"ast":null,"code":"/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.utils.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _filtering = require(\"../shared/filtering\");\n\nvar _string = require(\"../../core/utils/string\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _data = require(\"../../core/utils/data\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _load_panel = require(\"../load_panel\");\n\nvar _load_panel2 = _interopRequireDefault(_load_panel);\n\nvar _utils = require(\"../../data/utils\");\n\nvar _format_helper = require(\"../../format_helper\");\n\nvar _format_helper2 = _interopRequireDefault(_format_helper);\n\nvar _object = require(\"../../core/utils/object\");\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar DATAGRID_SELECTION_DISABLED_CLASS = \"dx-selection-disabled\";\nvar DATAGRID_GROUP_OPENED_CLASS = \"dx-datagrid-group-opened\";\nvar DATAGRID_GROUP_CLOSED_CLASS = \"dx-datagrid-group-closed\";\nvar DATAGRID_EXPAND_CLASS = \"dx-datagrid-expand\";\nvar NO_DATA_CLASS = \"nodata\";\nvar DATE_INTERVAL_SELECTORS = {\n  year: function year(value) {\n    return value && value.getFullYear();\n  },\n  month: function month(value) {\n    return value && value.getMonth() + 1;\n  },\n  day: function day(value) {\n    return value && value.getDate();\n  },\n  quarter: function quarter(value) {\n    return value && Math.floor(value.getMonth() / 3) + 1;\n  },\n  hour: function hour(value) {\n    return value && value.getHours();\n  },\n  minute: function minute(value) {\n    return value && value.getMinutes();\n  },\n  second: function second(value) {\n    return value && value.getSeconds();\n  }\n};\n\nmodule.exports = function () {\n  var getIntervalSelector = function getIntervalSelector() {\n    var groupInterval;\n    var data = arguments[1];\n    var nameIntervalSelector;\n    var value = this.calculateCellValue(data);\n\n    if (!(0, _type.isDefined)(value)) {\n      return null;\n    } else {\n      if (isDateType(this.dataType)) {\n        nameIntervalSelector = arguments[0];\n        return DATE_INTERVAL_SELECTORS[nameIntervalSelector](value);\n      } else {\n        if (\"number\" === this.dataType) {\n          groupInterval = arguments[0];\n          return Math.floor(Number(value) / groupInterval) * groupInterval;\n        }\n      }\n    }\n  };\n\n  var equalSelectors = function equalSelectors(selector1, selector2) {\n    if ((0, _type.isFunction)(selector1) && (0, _type.isFunction)(selector2)) {\n      if (selector1.originalCallback && selector2.originalCallback) {\n        return selector1.originalCallback === selector2.originalCallback && selector1.columnIndex === selector2.columnIndex;\n      }\n    }\n\n    return selector1 === selector2;\n  };\n\n  var isDateType = function isDateType(dataType) {\n    return \"date\" === dataType || \"datetime\" === dataType;\n  };\n\n  var setEmptyText = function setEmptyText($container) {\n    $container.get(0).textContent = \"\\xa0\";\n  };\n\n  var getWidgetInstance = function getWidgetInstance($element) {\n    var editorData = $element.data && $element.data();\n    var dxComponents = editorData && editorData.dxComponents;\n    var widgetName = dxComponents && dxComponents[0];\n    return widgetName && editorData[widgetName];\n  };\n\n  return {\n    renderNoDataText: function renderNoDataText($element) {\n      var that = this;\n      $element = $element || this.element();\n\n      if (!$element) {\n        return;\n      }\n\n      var noDataClass = that.addWidgetPrefix(NO_DATA_CLASS);\n      var noDataElement = $element.find(\".\" + noDataClass).last();\n\n      var isVisible = this._dataController.isEmpty();\n\n      var isLoading = this._dataController.isLoading();\n\n      if (!noDataElement.length) {\n        noDataElement = (0, _renderer2.default)(\"<span>\").addClass(noDataClass).appendTo($element);\n      }\n\n      if (isVisible && !isLoading) {\n        noDataElement.removeClass(\"dx-hidden\").text(that._getNoDataText());\n      } else {\n        noDataElement.addClass(\"dx-hidden\");\n      }\n    },\n    renderLoadPanel: function renderLoadPanel($element, $container, isLocalStore) {\n      var that = this;\n      var loadPanelOptions;\n      that._loadPanel && that._loadPanel.$element().remove();\n      loadPanelOptions = that.option(\"loadPanel\");\n\n      if (loadPanelOptions && (\"auto\" === loadPanelOptions.enabled ? !isLocalStore : loadPanelOptions.enabled)) {\n        loadPanelOptions = (0, _extend.extend)({\n          shading: false,\n          message: loadPanelOptions.text,\n          position: function position() {\n            var $window = (0, _renderer2.default)((0, _window.getWindow)());\n\n            if ($element.height() > $window.height()) {\n              return {\n                of: $window,\n                boundary: $element,\n                collision: \"fit\"\n              };\n            }\n\n            return {\n              of: $element\n            };\n          },\n          container: $container\n        }, loadPanelOptions);\n        that._loadPanel = that._createComponent((0, _renderer2.default)(\"<div>\").appendTo($container), _load_panel2.default, loadPanelOptions);\n      } else {\n        that._loadPanel = null;\n      }\n    },\n    getIndexByKey: function getIndexByKey(key, items, keyName) {\n      var index = -1;\n      var item;\n\n      if (void 0 !== key && Array.isArray(items)) {\n        keyName = arguments.length <= 2 ? \"key\" : keyName;\n\n        for (var i = 0; i < items.length; i++) {\n          item = (0, _type.isDefined)(keyName) ? items[i][keyName] : items[i];\n\n          if ((0, _common.equalByValue)(key, item)) {\n            index = i;\n            break;\n          }\n        }\n      }\n\n      return index;\n    },\n    combineFilters: function combineFilters(filters, operation) {\n      var resultFilter = [];\n      var i;\n      operation = operation || \"and\";\n\n      for (i = 0; i < filters.length; i++) {\n        if (!filters[i]) {\n          continue;\n        }\n\n        if (resultFilter.length) {\n          resultFilter.push(operation);\n        }\n\n        resultFilter.push(filters[i]);\n      }\n\n      if (1 === resultFilter.length) {\n        resultFilter = resultFilter[0];\n      }\n\n      if (resultFilter.length) {\n        return resultFilter;\n      }\n    },\n    checkChanges: function checkChanges(changes, changeNames) {\n      var changesWithChangeNamesCount = 0;\n      var i;\n\n      for (i = 0; i < changeNames.length; i++) {\n        if (changes[changeNames[i]]) {\n          changesWithChangeNamesCount++;\n        }\n      }\n\n      return changes.length && changes.length === changesWithChangeNamesCount;\n    },\n    equalFilterParameters: function equalFilterParameters(filter1, filter2) {\n      var i;\n\n      if (Array.isArray(filter1) && Array.isArray(filter2)) {\n        if (filter1.length !== filter2.length) {\n          return false;\n        } else {\n          for (i = 0; i < filter1.length; i++) {\n            if (!module.exports.equalFilterParameters(filter1[i], filter2[i])) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n      } else {\n        if ((0, _type.isFunction)(filter1) && filter1.columnIndex >= 0 && (0, _type.isFunction)(filter2) && filter2.columnIndex >= 0) {\n          return filter1.columnIndex === filter2.columnIndex && (0, _data.toComparable)(filter1.filterValue) === (0, _data.toComparable)(filter2.filterValue);\n        } else {\n          return (0, _data.toComparable)(filter1) == (0, _data.toComparable)(filter2);\n        }\n      }\n    },\n    proxyMethod: function proxyMethod(instance, methodName, defaultResult) {\n      if (!instance[methodName]) {\n        instance[methodName] = function () {\n          var dataSource = this._dataSource;\n          return dataSource ? dataSource[methodName].apply(dataSource, arguments) : defaultResult;\n        };\n      }\n    },\n    formatValue: function formatValue(value, options) {\n      var valueText = _format_helper2.default.format(value, options.format) || value && value.toString() || \"\";\n      var formatObject = {\n        value: value,\n        valueText: options.getDisplayFormat ? options.getDisplayFormat(valueText) : valueText,\n        target: options.target || \"row\",\n        groupInterval: options.groupInterval\n      };\n      return options.customizeText ? options.customizeText.call(options, formatObject) : formatObject.valueText;\n    },\n    getFormatOptionsByColumn: function getFormatOptionsByColumn(column, target) {\n      return {\n        format: column.format,\n        getDisplayFormat: column.getDisplayFormat,\n        customizeText: column.customizeText,\n        target: target,\n        trueText: column.trueText,\n        falseText: column.falseText\n      };\n    },\n    getDisplayValue: function getDisplayValue(column, value, data, rowType) {\n      if (column.displayValueMap && void 0 !== column.displayValueMap[value]) {\n        return column.displayValueMap[value];\n      } else {\n        if (column.calculateDisplayValue && data && \"group\" !== rowType) {\n          return column.calculateDisplayValue(data);\n        } else {\n          if (column.lookup && !(\"group\" === rowType && (column.calculateGroupValue || column.calculateDisplayValue))) {\n            return column.lookup.calculateCellValue(value);\n          }\n        }\n      }\n\n      return value;\n    },\n    getGroupRowSummaryText: function getGroupRowSummaryText(summaryItems, summaryTexts) {\n      var result = \"(\";\n      var i;\n      var summaryItem;\n\n      for (i = 0; i < summaryItems.length; i++) {\n        summaryItem = summaryItems[i];\n        result += (i > 0 ? \", \" : \"\") + module.exports.getSummaryText(summaryItem, summaryTexts);\n      }\n\n      return result += \")\";\n    },\n    getSummaryText: function getSummaryText(summaryItem, summaryTexts) {\n      var displayFormat = summaryItem.displayFormat || summaryItem.columnCaption && summaryTexts[summaryItem.summaryType + \"OtherColumn\"] || summaryTexts[summaryItem.summaryType];\n      return this.formatValue(summaryItem.value, {\n        format: summaryItem.valueFormat,\n        getDisplayFormat: function getDisplayFormat(valueText) {\n          return displayFormat ? (0, _string.format)(displayFormat, valueText, summaryItem.columnCaption) : valueText;\n        },\n        customizeText: summaryItem.customizeText\n      });\n    },\n    normalizeSortingInfo: function normalizeSortingInfo(sort) {\n      sort = sort || [];\n      var result;\n      var i;\n      result = (0, _utils.normalizeSortingInfo)(sort);\n\n      for (i = 0; i < sort.length; i++) {\n        if (sort && sort[i] && void 0 !== sort[i].isExpanded) {\n          result[i].isExpanded = sort[i].isExpanded;\n        }\n\n        if (sort && sort[i] && void 0 !== sort[i].groupInterval) {\n          result[i].groupInterval = sort[i].groupInterval;\n        }\n      }\n\n      return result;\n    },\n    getFormatByDataType: function getFormatByDataType(dataType) {\n      switch (dataType) {\n        case \"date\":\n          return \"shortDate\";\n\n        case \"datetime\":\n          return \"shortDateShortTime\";\n      }\n    },\n    getHeaderFilterGroupParameters: function getHeaderFilterGroupParameters(column, remoteGrouping) {\n      var result = [];\n      var dataField = column.dataField || column.name;\n      var groupInterval = (0, _filtering.getGroupInterval)(column);\n\n      if (groupInterval) {\n        (0, _iterator.each)(groupInterval, function (index, interval) {\n          result.push(remoteGrouping ? {\n            selector: dataField,\n            groupInterval: interval,\n            isExpanded: index < groupInterval.length - 1\n          } : getIntervalSelector.bind(column, interval));\n        });\n        return result;\n      }\n\n      if (remoteGrouping) {\n        result = [{\n          selector: dataField,\n          isExpanded: false\n        }];\n      } else {\n        result = function result(data) {\n          var result = column.calculateCellValue(data);\n\n          if (void 0 === result || \"\" === result) {\n            result = null;\n          }\n\n          return result;\n        };\n\n        if (column.sortingMethod) {\n          result = [{\n            selector: result,\n            compare: column.sortingMethod.bind(column)\n          }];\n        }\n      }\n\n      return result;\n    },\n    equalSortParameters: function equalSortParameters(sortParameters1, sortParameters2, ignoreIsExpanded) {\n      var i;\n      sortParameters1 = module.exports.normalizeSortingInfo(sortParameters1);\n      sortParameters2 = module.exports.normalizeSortingInfo(sortParameters2);\n\n      if (Array.isArray(sortParameters1) && Array.isArray(sortParameters2)) {\n        if (sortParameters1.length !== sortParameters2.length) {\n          return false;\n        } else {\n          for (i = 0; i < sortParameters1.length; i++) {\n            if (!equalSelectors(sortParameters1[i].selector, sortParameters2[i].selector) || sortParameters1[i].desc !== sortParameters2[i].desc || sortParameters1[i].groupInterval !== sortParameters2[i].groupInterval || !ignoreIsExpanded && Boolean(sortParameters1[i].isExpanded) !== Boolean(sortParameters2[i].isExpanded)) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n      } else {\n        return (!sortParameters1 || !sortParameters1.length) === (!sortParameters2 || !sortParameters2.length);\n      }\n    },\n    getPointsByColumns: function getPointsByColumns(items, pointCreated, isVertical, startColumnIndex) {\n      var cellsLength = items.length;\n      var notCreatePoint = false;\n      var point;\n      var i;\n      var item;\n      var offset;\n      var columnIndex = startColumnIndex || 0;\n      var prevItemOffset;\n      var result = [];\n      var rtlEnabled;\n\n      for (i = 0; i <= cellsLength; i++) {\n        if (i < cellsLength) {\n          item = items.eq(i);\n          offset = item.offset();\n          rtlEnabled = \"rtl\" === item.css(\"direction\");\n        }\n\n        point = {\n          index: columnIndex,\n          x: offset ? offset.left + (!isVertical && rtlEnabled ^ i === cellsLength ? item[0].getBoundingClientRect().width : 0) : 0,\n          y: offset ? offset.top + (isVertical && i === cellsLength ? item[0].getBoundingClientRect().height : 0) : 0,\n          columnIndex: columnIndex\n        };\n\n        if (!isVertical && i > 0) {\n          prevItemOffset = items.eq(i - 1).offset();\n\n          if (prevItemOffset.top < point.y) {\n            point.y = prevItemOffset.top;\n          }\n        }\n\n        if (pointCreated) {\n          notCreatePoint = pointCreated(point);\n        }\n\n        if (!notCreatePoint) {\n          result.push(point);\n        }\n\n        columnIndex++;\n      }\n\n      return result;\n    },\n    createObjectWithChanges: function createObjectWithChanges(target, changes) {\n      var result = target ? Object.create(Object.getPrototypeOf(target)) : {};\n      var targetWithoutPrototype = (0, _extend.extendFromObject)({}, target);\n      (0, _object.deepExtendArraySafe)(result, targetWithoutPrototype, true, true);\n      return (0, _object.deepExtendArraySafe)(result, changes, true, true);\n    },\n    getExpandCellTemplate: function getExpandCellTemplate() {\n      return {\n        allowRenderToDetachedContainer: true,\n        render: function render(container, options) {\n          var rowsView;\n          var $container = (0, _renderer2.default)(container);\n\n          if ((0, _type.isDefined)(options.value) && !(options.data && options.data.isContinuation) && !options.row.isNewRow) {\n            rowsView = options.component.getView(\"rowsView\");\n            $container.addClass(DATAGRID_EXPAND_CLASS).addClass(DATAGRID_SELECTION_DISABLED_CLASS);\n            (0, _renderer2.default)(\"<div>\").addClass(options.value ? DATAGRID_GROUP_OPENED_CLASS : DATAGRID_GROUP_CLOSED_CLASS).appendTo($container);\n            rowsView.setAria(\"label\", options.value ? rowsView.localize(\"dxDataGrid-ariaCollapse\") : rowsView.localize(\"dxDataGrid-ariaExpand\"), $container);\n          } else {\n            setEmptyText($container);\n          }\n        }\n      };\n    },\n    setEmptyText: setEmptyText,\n    isDateType: isDateType,\n    getSelectionRange: function getSelectionRange(focusedElement) {\n      try {\n        if (focusedElement) {\n          return {\n            selectionStart: focusedElement.selectionStart,\n            selectionEnd: focusedElement.selectionEnd\n          };\n        }\n      } catch (e) {}\n\n      return {};\n    },\n    setSelectionRange: function setSelectionRange(focusedElement, selectionRange) {\n      try {\n        if (focusedElement && focusedElement.setSelectionRange) {\n          focusedElement.setSelectionRange(selectionRange.selectionStart, selectionRange.selectionEnd);\n        }\n      } catch (e) {}\n    },\n    focusAndSelectElement: function focusAndSelectElement(component, $element) {\n      _events_engine2.default.trigger($element, \"focus\");\n\n      var isSelectTextOnEditingStart = component.option(\"editing.selectTextOnEditStart\");\n      var keyboardController = component.getController(\"keyboardNavigation\");\n\n      var isEditingNavigationMode = keyboardController && keyboardController._isFastEditingStarted();\n\n      if (isSelectTextOnEditingStart && !isEditingNavigationMode && $element.is(\".dx-texteditor-input\")) {\n        var editor = getWidgetInstance($element.closest(\".dx-texteditor\"));\n        (0, _deferred.when)(editor && editor._loadItemDeferred).done(function () {\n          $element.get(0).select();\n        });\n      }\n    },\n    getWidgetInstance: getWidgetInstance,\n    getLastResizableColumnIndex: function getLastResizableColumnIndex(columns, resultWidths) {\n      var hasResizableColumns = columns.some(function (column) {\n        return column && !column.command && !column.fixed && false !== column.allowResizing;\n      });\n\n      for (var lastColumnIndex = columns.length - 1; columns[lastColumnIndex]; lastColumnIndex--) {\n        var column = columns[lastColumnIndex];\n        var width = resultWidths && resultWidths[lastColumnIndex];\n        var allowResizing = !hasResizableColumns || false !== column.allowResizing;\n\n        if (!column.command && !column.fixed && \"adaptiveHidden\" !== width && allowResizing) {\n          break;\n        }\n      }\n\n      return lastColumnIndex;\n    },\n    isElementInCurrentGrid: function isElementInCurrentGrid(controller, $element) {\n      if ($element && $element.length) {\n        var $grid = $element.closest(\".\" + controller.getWidgetContainerClass()).parent();\n        return $grid.is(controller.component.$element());\n      }\n\n      return false;\n    }\n  };\n}();","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/grid_core/ui.grid_core.utils.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_type","_deferred","_filtering","_string","_iterator","_extend","_data","_common","_load_panel","_load_panel2","_utils","_format_helper","_format_helper2","_object","_window","_events_engine","_events_engine2","obj","__esModule","DATAGRID_SELECTION_DISABLED_CLASS","DATAGRID_GROUP_OPENED_CLASS","DATAGRID_GROUP_CLOSED_CLASS","DATAGRID_EXPAND_CLASS","NO_DATA_CLASS","DATE_INTERVAL_SELECTORS","year","value","getFullYear","month","getMonth","day","getDate","quarter","Math","floor","hour","getHours","minute","getMinutes","second","getSeconds","module","exports","getIntervalSelector","groupInterval","data","arguments","nameIntervalSelector","calculateCellValue","isDefined","isDateType","dataType","Number","equalSelectors","selector1","selector2","isFunction","originalCallback","columnIndex","setEmptyText","$container","get","textContent","getWidgetInstance","$element","editorData","dxComponents","widgetName","renderNoDataText","that","element","noDataClass","addWidgetPrefix","noDataElement","find","last","isVisible","_dataController","isEmpty","isLoading","length","default","addClass","appendTo","removeClass","text","_getNoDataText","renderLoadPanel","isLocalStore","loadPanelOptions","_loadPanel","remove","option","enabled","extend","shading","message","position","$window","getWindow","height","of","boundary","collision","container","_createComponent","getIndexByKey","key","items","keyName","index","item","Array","isArray","i","equalByValue","combineFilters","filters","operation","resultFilter","push","checkChanges","changes","changeNames","changesWithChangeNamesCount","equalFilterParameters","filter1","filter2","toComparable","filterValue","proxyMethod","instance","methodName","defaultResult","dataSource","_dataSource","apply","formatValue","options","valueText","format","toString","formatObject","getDisplayFormat","target","customizeText","call","getFormatOptionsByColumn","column","trueText","falseText","getDisplayValue","rowType","displayValueMap","calculateDisplayValue","lookup","calculateGroupValue","getGroupRowSummaryText","summaryItems","summaryTexts","result","summaryItem","getSummaryText","displayFormat","columnCaption","summaryType","valueFormat","normalizeSortingInfo","sort","isExpanded","getFormatByDataType","getHeaderFilterGroupParameters","remoteGrouping","dataField","name","getGroupInterval","each","interval","selector","bind","sortingMethod","compare","equalSortParameters","sortParameters1","sortParameters2","ignoreIsExpanded","desc","Boolean","getPointsByColumns","pointCreated","isVertical","startColumnIndex","cellsLength","notCreatePoint","point","offset","prevItemOffset","rtlEnabled","eq","css","x","left","getBoundingClientRect","width","y","top","createObjectWithChanges","Object","create","getPrototypeOf","targetWithoutPrototype","extendFromObject","deepExtendArraySafe","getExpandCellTemplate","allowRenderToDetachedContainer","render","rowsView","isContinuation","row","isNewRow","component","getView","setAria","localize","getSelectionRange","focusedElement","selectionStart","selectionEnd","e","setSelectionRange","selectionRange","focusAndSelectElement","trigger","isSelectTextOnEditingStart","keyboardController","getController","isEditingNavigationMode","_isFastEditingStarted","is","editor","closest","when","_loadItemDeferred","done","select","getLastResizableColumnIndex","columns","resultWidths","hasResizableColumns","some","command","fixed","allowResizing","lastColumnIndex","isElementInCurrentGrid","controller","$grid","getWidgetContainerClass","parent"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.utils.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _filtering = require(\"../shared/filtering\");\r\nvar _string = require(\"../../core/utils/string\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _load_panel = require(\"../load_panel\");\r\nvar _load_panel2 = _interopRequireDefault(_load_panel);\r\nvar _utils = require(\"../../data/utils\");\r\nvar _format_helper = require(\"../../format_helper\");\r\nvar _format_helper2 = _interopRequireDefault(_format_helper);\r\nvar _object = require(\"../../core/utils/object\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DATAGRID_SELECTION_DISABLED_CLASS = \"dx-selection-disabled\";\r\nvar DATAGRID_GROUP_OPENED_CLASS = \"dx-datagrid-group-opened\";\r\nvar DATAGRID_GROUP_CLOSED_CLASS = \"dx-datagrid-group-closed\";\r\nvar DATAGRID_EXPAND_CLASS = \"dx-datagrid-expand\";\r\nvar NO_DATA_CLASS = \"nodata\";\r\nvar DATE_INTERVAL_SELECTORS = {\r\n    year: function(value) {\r\n        return value && value.getFullYear()\r\n    },\r\n    month: function(value) {\r\n        return value && value.getMonth() + 1\r\n    },\r\n    day: function(value) {\r\n        return value && value.getDate()\r\n    },\r\n    quarter: function(value) {\r\n        return value && Math.floor(value.getMonth() / 3) + 1\r\n    },\r\n    hour: function(value) {\r\n        return value && value.getHours()\r\n    },\r\n    minute: function(value) {\r\n        return value && value.getMinutes()\r\n    },\r\n    second: function(value) {\r\n        return value && value.getSeconds()\r\n    }\r\n};\r\nmodule.exports = function() {\r\n    var getIntervalSelector = function() {\r\n        var groupInterval;\r\n        var data = arguments[1];\r\n        var nameIntervalSelector;\r\n        var value = this.calculateCellValue(data);\r\n        if (!(0, _type.isDefined)(value)) {\r\n            return null\r\n        } else {\r\n            if (isDateType(this.dataType)) {\r\n                nameIntervalSelector = arguments[0];\r\n                return DATE_INTERVAL_SELECTORS[nameIntervalSelector](value)\r\n            } else {\r\n                if (\"number\" === this.dataType) {\r\n                    groupInterval = arguments[0];\r\n                    return Math.floor(Number(value) / groupInterval) * groupInterval\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var equalSelectors = function(selector1, selector2) {\r\n        if ((0, _type.isFunction)(selector1) && (0, _type.isFunction)(selector2)) {\r\n            if (selector1.originalCallback && selector2.originalCallback) {\r\n                return selector1.originalCallback === selector2.originalCallback && selector1.columnIndex === selector2.columnIndex\r\n            }\r\n        }\r\n        return selector1 === selector2\r\n    };\r\n    var isDateType = function(dataType) {\r\n        return \"date\" === dataType || \"datetime\" === dataType\r\n    };\r\n    var setEmptyText = function($container) {\r\n        $container.get(0).textContent = \"\\xa0\"\r\n    };\r\n    var getWidgetInstance = function($element) {\r\n        var editorData = $element.data && $element.data();\r\n        var dxComponents = editorData && editorData.dxComponents;\r\n        var widgetName = dxComponents && dxComponents[0];\r\n        return widgetName && editorData[widgetName]\r\n    };\r\n    return {\r\n        renderNoDataText: function($element) {\r\n            var that = this;\r\n            $element = $element || this.element();\r\n            if (!$element) {\r\n                return\r\n            }\r\n            var noDataClass = that.addWidgetPrefix(NO_DATA_CLASS);\r\n            var noDataElement = $element.find(\".\" + noDataClass).last();\r\n            var isVisible = this._dataController.isEmpty();\r\n            var isLoading = this._dataController.isLoading();\r\n            if (!noDataElement.length) {\r\n                noDataElement = (0, _renderer2.default)(\"<span>\").addClass(noDataClass).appendTo($element)\r\n            }\r\n            if (isVisible && !isLoading) {\r\n                noDataElement.removeClass(\"dx-hidden\").text(that._getNoDataText())\r\n            } else {\r\n                noDataElement.addClass(\"dx-hidden\")\r\n            }\r\n        },\r\n        renderLoadPanel: function($element, $container, isLocalStore) {\r\n            var that = this;\r\n            var loadPanelOptions;\r\n            that._loadPanel && that._loadPanel.$element().remove();\r\n            loadPanelOptions = that.option(\"loadPanel\");\r\n            if (loadPanelOptions && (\"auto\" === loadPanelOptions.enabled ? !isLocalStore : loadPanelOptions.enabled)) {\r\n                loadPanelOptions = (0, _extend.extend)({\r\n                    shading: false,\r\n                    message: loadPanelOptions.text,\r\n                    position: function() {\r\n                        var $window = (0, _renderer2.default)((0, _window.getWindow)());\r\n                        if ($element.height() > $window.height()) {\r\n                            return {\r\n                                of: $window,\r\n                                boundary: $element,\r\n                                collision: \"fit\"\r\n                            }\r\n                        }\r\n                        return {\r\n                            of: $element\r\n                        }\r\n                    },\r\n                    container: $container\r\n                }, loadPanelOptions);\r\n                that._loadPanel = that._createComponent((0, _renderer2.default)(\"<div>\").appendTo($container), _load_panel2.default, loadPanelOptions)\r\n            } else {\r\n                that._loadPanel = null\r\n            }\r\n        },\r\n        getIndexByKey: function(key, items, keyName) {\r\n            var index = -1;\r\n            var item;\r\n            if (void 0 !== key && Array.isArray(items)) {\r\n                keyName = arguments.length <= 2 ? \"key\" : keyName;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    item = (0, _type.isDefined)(keyName) ? items[i][keyName] : items[i];\r\n                    if ((0, _common.equalByValue)(key, item)) {\r\n                        index = i;\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n            return index\r\n        },\r\n        combineFilters: function(filters, operation) {\r\n            var resultFilter = [];\r\n            var i;\r\n            operation = operation || \"and\";\r\n            for (i = 0; i < filters.length; i++) {\r\n                if (!filters[i]) {\r\n                    continue\r\n                }\r\n                if (resultFilter.length) {\r\n                    resultFilter.push(operation)\r\n                }\r\n                resultFilter.push(filters[i])\r\n            }\r\n            if (1 === resultFilter.length) {\r\n                resultFilter = resultFilter[0]\r\n            }\r\n            if (resultFilter.length) {\r\n                return resultFilter\r\n            }\r\n        },\r\n        checkChanges: function(changes, changeNames) {\r\n            var changesWithChangeNamesCount = 0;\r\n            var i;\r\n            for (i = 0; i < changeNames.length; i++) {\r\n                if (changes[changeNames[i]]) {\r\n                    changesWithChangeNamesCount++\r\n                }\r\n            }\r\n            return changes.length && changes.length === changesWithChangeNamesCount\r\n        },\r\n        equalFilterParameters: function(filter1, filter2) {\r\n            var i;\r\n            if (Array.isArray(filter1) && Array.isArray(filter2)) {\r\n                if (filter1.length !== filter2.length) {\r\n                    return false\r\n                } else {\r\n                    for (i = 0; i < filter1.length; i++) {\r\n                        if (!module.exports.equalFilterParameters(filter1[i], filter2[i])) {\r\n                            return false\r\n                        }\r\n                    }\r\n                }\r\n                return true\r\n            } else {\r\n                if ((0, _type.isFunction)(filter1) && filter1.columnIndex >= 0 && (0, _type.isFunction)(filter2) && filter2.columnIndex >= 0) {\r\n                    return filter1.columnIndex === filter2.columnIndex && (0, _data.toComparable)(filter1.filterValue) === (0, _data.toComparable)(filter2.filterValue)\r\n                } else {\r\n                    return (0, _data.toComparable)(filter1) == (0, _data.toComparable)(filter2)\r\n                }\r\n            }\r\n        },\r\n        proxyMethod: function(instance, methodName, defaultResult) {\r\n            if (!instance[methodName]) {\r\n                instance[methodName] = function() {\r\n                    var dataSource = this._dataSource;\r\n                    return dataSource ? dataSource[methodName].apply(dataSource, arguments) : defaultResult\r\n                }\r\n            }\r\n        },\r\n        formatValue: function(value, options) {\r\n            var valueText = _format_helper2.default.format(value, options.format) || value && value.toString() || \"\";\r\n            var formatObject = {\r\n                value: value,\r\n                valueText: options.getDisplayFormat ? options.getDisplayFormat(valueText) : valueText,\r\n                target: options.target || \"row\",\r\n                groupInterval: options.groupInterval\r\n            };\r\n            return options.customizeText ? options.customizeText.call(options, formatObject) : formatObject.valueText\r\n        },\r\n        getFormatOptionsByColumn: function(column, target) {\r\n            return {\r\n                format: column.format,\r\n                getDisplayFormat: column.getDisplayFormat,\r\n                customizeText: column.customizeText,\r\n                target: target,\r\n                trueText: column.trueText,\r\n                falseText: column.falseText\r\n            }\r\n        },\r\n        getDisplayValue: function(column, value, data, rowType) {\r\n            if (column.displayValueMap && void 0 !== column.displayValueMap[value]) {\r\n                return column.displayValueMap[value]\r\n            } else {\r\n                if (column.calculateDisplayValue && data && \"group\" !== rowType) {\r\n                    return column.calculateDisplayValue(data)\r\n                } else {\r\n                    if (column.lookup && !(\"group\" === rowType && (column.calculateGroupValue || column.calculateDisplayValue))) {\r\n                        return column.lookup.calculateCellValue(value)\r\n                    }\r\n                }\r\n            }\r\n            return value\r\n        },\r\n        getGroupRowSummaryText: function(summaryItems, summaryTexts) {\r\n            var result = \"(\";\r\n            var i;\r\n            var summaryItem;\r\n            for (i = 0; i < summaryItems.length; i++) {\r\n                summaryItem = summaryItems[i];\r\n                result += (i > 0 ? \", \" : \"\") + module.exports.getSummaryText(summaryItem, summaryTexts)\r\n            }\r\n            return result += \")\"\r\n        },\r\n        getSummaryText: function(summaryItem, summaryTexts) {\r\n            var displayFormat = summaryItem.displayFormat || summaryItem.columnCaption && summaryTexts[summaryItem.summaryType + \"OtherColumn\"] || summaryTexts[summaryItem.summaryType];\r\n            return this.formatValue(summaryItem.value, {\r\n                format: summaryItem.valueFormat,\r\n                getDisplayFormat: function(valueText) {\r\n                    return displayFormat ? (0, _string.format)(displayFormat, valueText, summaryItem.columnCaption) : valueText\r\n                },\r\n                customizeText: summaryItem.customizeText\r\n            })\r\n        },\r\n        normalizeSortingInfo: function(sort) {\r\n            sort = sort || [];\r\n            var result;\r\n            var i;\r\n            result = (0, _utils.normalizeSortingInfo)(sort);\r\n            for (i = 0; i < sort.length; i++) {\r\n                if (sort && sort[i] && void 0 !== sort[i].isExpanded) {\r\n                    result[i].isExpanded = sort[i].isExpanded\r\n                }\r\n                if (sort && sort[i] && void 0 !== sort[i].groupInterval) {\r\n                    result[i].groupInterval = sort[i].groupInterval\r\n                }\r\n            }\r\n            return result\r\n        },\r\n        getFormatByDataType: function(dataType) {\r\n            switch (dataType) {\r\n                case \"date\":\r\n                    return \"shortDate\";\r\n                case \"datetime\":\r\n                    return \"shortDateShortTime\"\r\n            }\r\n        },\r\n        getHeaderFilterGroupParameters: function(column, remoteGrouping) {\r\n            var result = [];\r\n            var dataField = column.dataField || column.name;\r\n            var groupInterval = (0, _filtering.getGroupInterval)(column);\r\n            if (groupInterval) {\r\n                (0, _iterator.each)(groupInterval, function(index, interval) {\r\n                    result.push(remoteGrouping ? {\r\n                        selector: dataField,\r\n                        groupInterval: interval,\r\n                        isExpanded: index < groupInterval.length - 1\r\n                    } : getIntervalSelector.bind(column, interval))\r\n                });\r\n                return result\r\n            }\r\n            if (remoteGrouping) {\r\n                result = [{\r\n                    selector: dataField,\r\n                    isExpanded: false\r\n                }]\r\n            } else {\r\n                result = function result(data) {\r\n                    var result = column.calculateCellValue(data);\r\n                    if (void 0 === result || \"\" === result) {\r\n                        result = null\r\n                    }\r\n                    return result\r\n                };\r\n                if (column.sortingMethod) {\r\n                    result = [{\r\n                        selector: result,\r\n                        compare: column.sortingMethod.bind(column)\r\n                    }]\r\n                }\r\n            }\r\n            return result\r\n        },\r\n        equalSortParameters: function(sortParameters1, sortParameters2, ignoreIsExpanded) {\r\n            var i;\r\n            sortParameters1 = module.exports.normalizeSortingInfo(sortParameters1);\r\n            sortParameters2 = module.exports.normalizeSortingInfo(sortParameters2);\r\n            if (Array.isArray(sortParameters1) && Array.isArray(sortParameters2)) {\r\n                if (sortParameters1.length !== sortParameters2.length) {\r\n                    return false\r\n                } else {\r\n                    for (i = 0; i < sortParameters1.length; i++) {\r\n                        if (!equalSelectors(sortParameters1[i].selector, sortParameters2[i].selector) || sortParameters1[i].desc !== sortParameters2[i].desc || sortParameters1[i].groupInterval !== sortParameters2[i].groupInterval || !ignoreIsExpanded && Boolean(sortParameters1[i].isExpanded) !== Boolean(sortParameters2[i].isExpanded)) {\r\n                            return false\r\n                        }\r\n                    }\r\n                }\r\n                return true\r\n            } else {\r\n                return (!sortParameters1 || !sortParameters1.length) === (!sortParameters2 || !sortParameters2.length)\r\n            }\r\n        },\r\n        getPointsByColumns: function(items, pointCreated, isVertical, startColumnIndex) {\r\n            var cellsLength = items.length;\r\n            var notCreatePoint = false;\r\n            var point;\r\n            var i;\r\n            var item;\r\n            var offset;\r\n            var columnIndex = startColumnIndex || 0;\r\n            var prevItemOffset;\r\n            var result = [];\r\n            var rtlEnabled;\r\n            for (i = 0; i <= cellsLength; i++) {\r\n                if (i < cellsLength) {\r\n                    item = items.eq(i);\r\n                    offset = item.offset();\r\n                    rtlEnabled = \"rtl\" === item.css(\"direction\")\r\n                }\r\n                point = {\r\n                    index: columnIndex,\r\n                    x: offset ? offset.left + (!isVertical && rtlEnabled ^ i === cellsLength ? item[0].getBoundingClientRect().width : 0) : 0,\r\n                    y: offset ? offset.top + (isVertical && i === cellsLength ? item[0].getBoundingClientRect().height : 0) : 0,\r\n                    columnIndex: columnIndex\r\n                };\r\n                if (!isVertical && i > 0) {\r\n                    prevItemOffset = items.eq(i - 1).offset();\r\n                    if (prevItemOffset.top < point.y) {\r\n                        point.y = prevItemOffset.top\r\n                    }\r\n                }\r\n                if (pointCreated) {\r\n                    notCreatePoint = pointCreated(point)\r\n                }\r\n                if (!notCreatePoint) {\r\n                    result.push(point)\r\n                }\r\n                columnIndex++\r\n            }\r\n            return result\r\n        },\r\n        createObjectWithChanges: function(target, changes) {\r\n            var result = target ? Object.create(Object.getPrototypeOf(target)) : {};\r\n            var targetWithoutPrototype = (0, _extend.extendFromObject)({}, target);\r\n            (0, _object.deepExtendArraySafe)(result, targetWithoutPrototype, true, true);\r\n            return (0, _object.deepExtendArraySafe)(result, changes, true, true)\r\n        },\r\n        getExpandCellTemplate: function() {\r\n            return {\r\n                allowRenderToDetachedContainer: true,\r\n                render: function(container, options) {\r\n                    var rowsView;\r\n                    var $container = (0, _renderer2.default)(container);\r\n                    if ((0, _type.isDefined)(options.value) && !(options.data && options.data.isContinuation) && !options.row.isNewRow) {\r\n                        rowsView = options.component.getView(\"rowsView\");\r\n                        $container.addClass(DATAGRID_EXPAND_CLASS).addClass(DATAGRID_SELECTION_DISABLED_CLASS);\r\n                        (0, _renderer2.default)(\"<div>\").addClass(options.value ? DATAGRID_GROUP_OPENED_CLASS : DATAGRID_GROUP_CLOSED_CLASS).appendTo($container);\r\n                        rowsView.setAria(\"label\", options.value ? rowsView.localize(\"dxDataGrid-ariaCollapse\") : rowsView.localize(\"dxDataGrid-ariaExpand\"), $container)\r\n                    } else {\r\n                        setEmptyText($container)\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        setEmptyText: setEmptyText,\r\n        isDateType: isDateType,\r\n        getSelectionRange: function(focusedElement) {\r\n            try {\r\n                if (focusedElement) {\r\n                    return {\r\n                        selectionStart: focusedElement.selectionStart,\r\n                        selectionEnd: focusedElement.selectionEnd\r\n                    }\r\n                }\r\n            } catch (e) {}\r\n            return {}\r\n        },\r\n        setSelectionRange: function(focusedElement, selectionRange) {\r\n            try {\r\n                if (focusedElement && focusedElement.setSelectionRange) {\r\n                    focusedElement.setSelectionRange(selectionRange.selectionStart, selectionRange.selectionEnd)\r\n                }\r\n            } catch (e) {}\r\n        },\r\n        focusAndSelectElement: function(component, $element) {\r\n            _events_engine2.default.trigger($element, \"focus\");\r\n            var isSelectTextOnEditingStart = component.option(\"editing.selectTextOnEditStart\");\r\n            var keyboardController = component.getController(\"keyboardNavigation\");\r\n            var isEditingNavigationMode = keyboardController && keyboardController._isFastEditingStarted();\r\n            if (isSelectTextOnEditingStart && !isEditingNavigationMode && $element.is(\".dx-texteditor-input\")) {\r\n                var editor = getWidgetInstance($element.closest(\".dx-texteditor\"));\r\n                (0, _deferred.when)(editor && editor._loadItemDeferred).done(function() {\r\n                    $element.get(0).select()\r\n                })\r\n            }\r\n        },\r\n        getWidgetInstance: getWidgetInstance,\r\n        getLastResizableColumnIndex: function(columns, resultWidths) {\r\n            var hasResizableColumns = columns.some(function(column) {\r\n                return column && !column.command && !column.fixed && false !== column.allowResizing\r\n            });\r\n            for (var lastColumnIndex = columns.length - 1; columns[lastColumnIndex]; lastColumnIndex--) {\r\n                var column = columns[lastColumnIndex];\r\n                var width = resultWidths && resultWidths[lastColumnIndex];\r\n                var allowResizing = !hasResizableColumns || false !== column.allowResizing;\r\n                if (!column.command && !column.fixed && \"adaptiveHidden\" !== width && allowResizing) {\r\n                    break\r\n                }\r\n            }\r\n            return lastColumnIndex\r\n        },\r\n        isElementInCurrentGrid: function(controller, $element) {\r\n            if ($element && $element.length) {\r\n                var $grid = $element.closest(\".\" + controller.getWidgetContainerClass()).parent();\r\n                return $grid.is(controller.component.$element())\r\n            }\r\n            return false\r\n        }\r\n    }\r\n}();\r\n"]},"metadata":{},"sourceType":"script"}