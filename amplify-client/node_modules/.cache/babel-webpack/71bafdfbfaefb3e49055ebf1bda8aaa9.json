{"ast":null,"code":"/**\r\n * DevExtreme (ui/html_editor/converters/delta.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _converterController = require(\"../converterController\");\n\nvar _converterController2 = _interopRequireDefault(_converterController);\n\nvar _quill_importer = require(\"../quill_importer\");\n\nvar _type = require(\"../../../core/utils/type\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _toArray(arr) {\n  return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || \"[object Arguments]\" === Object.prototype.toString.call(iter)) {\n    return Array.from(iter);\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || \"[object Arguments]\" === Object.prototype.toString.call(arr))) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _e = void 0;\n\n  try {\n    for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) {\n        break;\n      }\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && null != _i.return) {\n        _i.return();\n      }\n    } finally {\n      if (_d) {\n        throw _e;\n      }\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) {\n    return arr;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar ESCAPING_MAP = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#39;\"\n};\nvar LIST_BLOT_NAME = \"list\";\nvar LIST_ITEM_BLOT_NAME = \"list-item\";\n\nvar DeltaConverter = function () {\n  function DeltaConverter() {\n    _classCallCheck(this, DeltaConverter);\n\n    this.TextBlot = (0, _quill_importer.getQuill)().import(\"blots/text\");\n    this.BreakBlot = (0, _quill_importer.getQuill)().import(\"blots/break\");\n  }\n\n  _createClass(DeltaConverter, [{\n    key: \"setQuillInstance\",\n    value: function value(quillInstance) {\n      this.quillInstance = quillInstance;\n    }\n  }, {\n    key: \"toHtml\",\n    value: function value() {\n      if (!this.quillInstance) {\n        return;\n      }\n\n      return this._isQuillEmpty() ? \"\" : this._convertHTML(this.quillInstance.scroll, 0, this.quillInstance.getLength(), true);\n    }\n  }, {\n    key: \"_isQuillEmpty\",\n    value: function value() {\n      var delta = this.quillInstance.getContents();\n      return 1 === delta.length() && this._isDeltaEmpty(delta);\n    }\n  }, {\n    key: \"_isDeltaEmpty\",\n    value: function value(delta) {\n      return delta.reduce(function (__, _ref) {\n        var insert = _ref.insert;\n        return insert.indexOf(\"\\n\") !== -1;\n      });\n    }\n  }, {\n    key: \"_convertHTML\",\n    value: function value(blot, index, length) {\n      var _this = this;\n\n      var isRoot = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : false;\n\n      if ((0, _type.isFunction)(blot.html)) {\n        return blot.html(index, length);\n      }\n\n      if (blot instanceof this.TextBlot) {\n        return this._escapeText(blot.value().slice(index, index + length));\n      }\n\n      if (blot.children) {\n        if (blot.statics.blotName === LIST_BLOT_NAME) {\n          return this._convertList(blot, index, length);\n        }\n\n        var parts = [];\n        blot.children.forEachAt(index, length, function (child, offset, childLength) {\n          parts.push(_this._convertHTML(child, offset, childLength));\n        });\n\n        this._handleBreakLine(blot.children, parts);\n\n        if (isRoot || blot.statics.blotName === LIST_ITEM_BLOT_NAME) {\n          return parts.join(\"\");\n        }\n\n        var _blot$domNode = blot.domNode,\n            outerHTML = _blot$domNode.outerHTML,\n            innerHTML = _blot$domNode.innerHTML;\n\n        var _outerHTML$split = outerHTML.split(\">\".concat(innerHTML, \"<\")),\n            _outerHTML$split2 = _slicedToArray(_outerHTML$split, 2),\n            start = _outerHTML$split2[0],\n            end = _outerHTML$split2[1];\n\n        return \"\".concat(start, \">\").concat(parts.join(\"\"), \"<\").concat(end);\n      }\n\n      return blot.domNode.outerHTML;\n    }\n  }, {\n    key: \"_handleBreakLine\",\n    value: function value(linkedList, parts) {\n      if (1 === linkedList.length && linkedList.head instanceof this.BreakBlot) {\n        parts.push(\"<br>\");\n      }\n    }\n  }, {\n    key: \"_convertList\",\n    value: function value(blot, index, length) {\n      var items = [];\n      var parentFormats = blot.formats();\n      blot.children.forEachAt(index, length, function (child, offset, childLength) {\n        var childFormats = child.formats();\n        items.push({\n          child: child,\n          offset: offset,\n          length: childLength,\n          indent: childFormats.indent || 0,\n          type: parentFormats.list\n        });\n      });\n      return this._getListMarkup(items, -1, []);\n    }\n  }, {\n    key: \"_getListMarkup\",\n    value: function value(items, lastIndent, listTypes) {\n      if (0 === items.length) {\n        var _endTag = this._getListType(listTypes.pop());\n\n        if (lastIndent <= 0) {\n          return \"</li></\".concat(_endTag, \">\");\n        }\n\n        return this._processListMarkup([[], lastIndent - 1, listTypes], _endTag);\n      }\n\n      var _items = _toArray(items),\n          _items$ = _items[0],\n          child = _items$.child,\n          offset = _items$.offset,\n          length = _items$.length,\n          indent = _items$.indent,\n          type = _items$.type,\n          rest = _items.slice(1);\n\n      var tag = this._getListType(type);\n\n      var childItemArgs = [child, offset, length];\n      var restItemsArgs = [rest, indent, listTypes];\n\n      if (indent > lastIndent) {\n        listTypes.push(type);\n\n        var multiLevelTags = this._correctListMultiIndent(listTypes, type, tag, indent - lastIndent - 1);\n\n        return multiLevelTags + this._processIndentListMarkup(childItemArgs, restItemsArgs, tag);\n      }\n\n      if (indent === lastIndent) {\n        return this._processIndentListMarkup(childItemArgs, restItemsArgs);\n      }\n\n      var endTag = this._getListType(listTypes.pop());\n\n      return this._processListMarkup([items, lastIndent - 1, listTypes], endTag);\n    }\n  }, {\n    key: \"_correctListMultiIndent\",\n    value: function value(listTypes, type, tag, indent) {\n      var markup = \"\";\n\n      while (indent) {\n        markup += \"<\".concat(tag, \">\");\n        listTypes.push(type);\n        indent--;\n      }\n\n      return markup;\n    }\n  }, {\n    key: \"_processListMarkup\",\n    value: function value(childItemArgs, tag) {\n      return \"</li></\".concat(tag, \">\").concat(this._getListMarkup.apply(this, _toConsumableArray(childItemArgs)));\n    }\n  }, {\n    key: \"_processIndentListMarkup\",\n    value: function value(childItemArgs, restItemsArgs) {\n      var tag = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"/li\";\n\n      var itemAttrs = this._getListItemAttributes(childItemArgs[0]);\n\n      return \"<\".concat(tag, \"><li\").concat(itemAttrs, \">\").concat(this._convertHTML.apply(this, _toConsumableArray(childItemArgs))).concat(this._getListMarkup.apply(this, _toConsumableArray(restItemsArgs)));\n    }\n  }, {\n    key: \"_getListItemAttributes\",\n    value: function value(_ref2) {\n      var domNode = _ref2.domNode;\n\n      if (!domNode.hasAttributes()) {\n        return \"\";\n      }\n\n      var attributes = domNode.attributes;\n      var attributesString = \" \";\n\n      for (var i = 0; i < attributes.length; i++) {\n        var _attributes$i = attributes[i],\n            name = _attributes$i.name,\n            value = _attributes$i.value;\n\n        if (\"class\" === name) {\n          value = this._removeIndentClass(value);\n        }\n\n        if (value.length) {\n          attributesString += \"\".concat(name, '=\"').concat(value, '\"');\n        }\n      }\n\n      return attributesString.length > 1 ? attributesString : \"\";\n    }\n  }, {\n    key: \"_getListType\",\n    value: function value(type) {\n      return \"ordered\" === type ? \"ol\" : \"ul\";\n    }\n  }, {\n    key: \"_removeIndentClass\",\n    value: function value(classString) {\n      return classString.replace(/ql-indent-\\d/g, \"\").trim();\n    }\n  }, {\n    key: \"_escapeText\",\n    value: function value(text) {\n      return text.replace(/[&<>\"']/g, function (char) {\n        return ESCAPING_MAP[char];\n      });\n    }\n  }]);\n\n  return DeltaConverter;\n}();\n\n_converterController2.default.addConverter(\"delta\", DeltaConverter);\n\nexports.default = DeltaConverter;","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/ui/html_editor/converters/delta.js"],"names":["Object","defineProperty","exports","value","_converterController","require","_converterController2","_interopRequireDefault","_quill_importer","_type","obj","__esModule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","Array","isArray","i","arr2","length","_toArray","_arrayWithHoles","_nonIterableRest","iter","Symbol","iterator","prototype","toString","call","from","_slicedToArray","_iterableToArrayLimit","_arr","_n","_d","_e","_s","_i","next","done","push","err","return","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","ESCAPING_MAP","LIST_BLOT_NAME","LIST_ITEM_BLOT_NAME","DeltaConverter","TextBlot","getQuill","import","BreakBlot","quillInstance","_isQuillEmpty","_convertHTML","scroll","getLength","delta","getContents","_isDeltaEmpty","reduce","__","_ref","insert","indexOf","blot","index","_this","isRoot","arguments","isFunction","html","_escapeText","slice","children","statics","blotName","_convertList","parts","forEachAt","child","offset","childLength","_handleBreakLine","join","_blot$domNode","domNode","outerHTML","innerHTML","_outerHTML$split","split","concat","_outerHTML$split2","start","end","linkedList","head","items","parentFormats","formats","childFormats","indent","type","list","_getListMarkup","lastIndent","listTypes","_endTag","_getListType","pop","_processListMarkup","_items","_items$","rest","tag","childItemArgs","restItemsArgs","multiLevelTags","_correctListMultiIndent","_processIndentListMarkup","endTag","markup","apply","itemAttrs","_getListItemAttributes","_ref2","hasAttributes","attributes","attributesString","_attributes$i","name","_removeIndentClass","classString","replace","trim","text","char","default","addConverter"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/html_editor/converters/delta.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nvar _converterController = require(\"../converterController\");\r\nvar _converterController2 = _interopRequireDefault(_converterController);\r\nvar _quill_importer = require(\"../quill_importer\");\r\nvar _type = require(\"../../../core/utils/type\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _toConsumableArray(arr) {\r\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\r\n}\r\n\r\nfunction _nonIterableSpread() {\r\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\")\r\n}\r\n\r\nfunction _arrayWithoutHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\r\n            arr2[i] = arr[i]\r\n        }\r\n        return arr2\r\n    }\r\n}\r\n\r\nfunction _toArray(arr) {\r\n    return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest()\r\n}\r\n\r\nfunction _iterableToArray(iter) {\r\n    if (Symbol.iterator in Object(iter) || \"[object Arguments]\" === Object.prototype.toString.call(iter)) {\r\n        return Array.from(iter)\r\n    }\r\n}\r\n\r\nfunction _slicedToArray(arr, i) {\r\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest()\r\n}\r\n\r\nfunction _nonIterableRest() {\r\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")\r\n}\r\n\r\nfunction _iterableToArrayLimit(arr, i) {\r\n    if (!(Symbol.iterator in Object(arr) || \"[object Arguments]\" === Object.prototype.toString.call(arr))) {\r\n        return\r\n    }\r\n    var _arr = [];\r\n    var _n = true;\r\n    var _d = false;\r\n    var _e = void 0;\r\n    try {\r\n        for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {\r\n            _arr.push(_s.value);\r\n            if (i && _arr.length === i) {\r\n                break\r\n            }\r\n        }\r\n    } catch (err) {\r\n        _d = true;\r\n        _e = err\r\n    } finally {\r\n        try {\r\n            if (!_n && null != _i.return) {\r\n                _i.return()\r\n            }\r\n        } finally {\r\n            if (_d) {\r\n                throw _e\r\n            }\r\n        }\r\n    }\r\n    return _arr\r\n}\r\n\r\nfunction _arrayWithHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        return arr\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar ESCAPING_MAP = {\r\n    \"&\": \"&amp;\",\r\n    \"<\": \"&lt;\",\r\n    \">\": \"&gt;\",\r\n    '\"': \"&quot;\",\r\n    \"'\": \"&#39;\"\r\n};\r\nvar LIST_BLOT_NAME = \"list\";\r\nvar LIST_ITEM_BLOT_NAME = \"list-item\";\r\nvar DeltaConverter = function() {\r\n    function DeltaConverter() {\r\n        _classCallCheck(this, DeltaConverter);\r\n        this.TextBlot = (0, _quill_importer.getQuill)().import(\"blots/text\");\r\n        this.BreakBlot = (0, _quill_importer.getQuill)().import(\"blots/break\")\r\n    }\r\n    _createClass(DeltaConverter, [{\r\n        key: \"setQuillInstance\",\r\n        value: function(quillInstance) {\r\n            this.quillInstance = quillInstance\r\n        }\r\n    }, {\r\n        key: \"toHtml\",\r\n        value: function() {\r\n            if (!this.quillInstance) {\r\n                return\r\n            }\r\n            return this._isQuillEmpty() ? \"\" : this._convertHTML(this.quillInstance.scroll, 0, this.quillInstance.getLength(), true)\r\n        }\r\n    }, {\r\n        key: \"_isQuillEmpty\",\r\n        value: function() {\r\n            var delta = this.quillInstance.getContents();\r\n            return 1 === delta.length() && this._isDeltaEmpty(delta)\r\n        }\r\n    }, {\r\n        key: \"_isDeltaEmpty\",\r\n        value: function(delta) {\r\n            return delta.reduce(function(__, _ref) {\r\n                var insert = _ref.insert;\r\n                return insert.indexOf(\"\\n\") !== -1\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_convertHTML\",\r\n        value: function(blot, index, length) {\r\n            var _this = this;\r\n            var isRoot = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : false;\r\n            if ((0, _type.isFunction)(blot.html)) {\r\n                return blot.html(index, length)\r\n            }\r\n            if (blot instanceof this.TextBlot) {\r\n                return this._escapeText(blot.value().slice(index, index + length))\r\n            }\r\n            if (blot.children) {\r\n                if (blot.statics.blotName === LIST_BLOT_NAME) {\r\n                    return this._convertList(blot, index, length)\r\n                }\r\n                var parts = [];\r\n                blot.children.forEachAt(index, length, function(child, offset, childLength) {\r\n                    parts.push(_this._convertHTML(child, offset, childLength))\r\n                });\r\n                this._handleBreakLine(blot.children, parts);\r\n                if (isRoot || blot.statics.blotName === LIST_ITEM_BLOT_NAME) {\r\n                    return parts.join(\"\")\r\n                }\r\n                var _blot$domNode = blot.domNode,\r\n                    outerHTML = _blot$domNode.outerHTML,\r\n                    innerHTML = _blot$domNode.innerHTML;\r\n                var _outerHTML$split = outerHTML.split(\">\".concat(innerHTML, \"<\")),\r\n                    _outerHTML$split2 = _slicedToArray(_outerHTML$split, 2),\r\n                    start = _outerHTML$split2[0],\r\n                    end = _outerHTML$split2[1];\r\n                return \"\".concat(start, \">\").concat(parts.join(\"\"), \"<\").concat(end)\r\n            }\r\n            return blot.domNode.outerHTML\r\n        }\r\n    }, {\r\n        key: \"_handleBreakLine\",\r\n        value: function(linkedList, parts) {\r\n            if (1 === linkedList.length && linkedList.head instanceof this.BreakBlot) {\r\n                parts.push(\"<br>\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_convertList\",\r\n        value: function(blot, index, length) {\r\n            var items = [];\r\n            var parentFormats = blot.formats();\r\n            blot.children.forEachAt(index, length, function(child, offset, childLength) {\r\n                var childFormats = child.formats();\r\n                items.push({\r\n                    child: child,\r\n                    offset: offset,\r\n                    length: childLength,\r\n                    indent: childFormats.indent || 0,\r\n                    type: parentFormats.list\r\n                })\r\n            });\r\n            return this._getListMarkup(items, -1, [])\r\n        }\r\n    }, {\r\n        key: \"_getListMarkup\",\r\n        value: function(items, lastIndent, listTypes) {\r\n            if (0 === items.length) {\r\n                var _endTag = this._getListType(listTypes.pop());\r\n                if (lastIndent <= 0) {\r\n                    return \"</li></\".concat(_endTag, \">\")\r\n                }\r\n                return this._processListMarkup([\r\n                    [], lastIndent - 1, listTypes\r\n                ], _endTag)\r\n            }\r\n            var _items = _toArray(items),\r\n                _items$ = _items[0],\r\n                child = _items$.child,\r\n                offset = _items$.offset,\r\n                length = _items$.length,\r\n                indent = _items$.indent,\r\n                type = _items$.type,\r\n                rest = _items.slice(1);\r\n            var tag = this._getListType(type);\r\n            var childItemArgs = [child, offset, length];\r\n            var restItemsArgs = [rest, indent, listTypes];\r\n            if (indent > lastIndent) {\r\n                listTypes.push(type);\r\n                var multiLevelTags = this._correctListMultiIndent(listTypes, type, tag, indent - lastIndent - 1);\r\n                return multiLevelTags + this._processIndentListMarkup(childItemArgs, restItemsArgs, tag)\r\n            }\r\n            if (indent === lastIndent) {\r\n                return this._processIndentListMarkup(childItemArgs, restItemsArgs)\r\n            }\r\n            var endTag = this._getListType(listTypes.pop());\r\n            return this._processListMarkup([items, lastIndent - 1, listTypes], endTag)\r\n        }\r\n    }, {\r\n        key: \"_correctListMultiIndent\",\r\n        value: function(listTypes, type, tag, indent) {\r\n            var markup = \"\";\r\n            while (indent) {\r\n                markup += \"<\".concat(tag, \">\");\r\n                listTypes.push(type);\r\n                indent--\r\n            }\r\n            return markup\r\n        }\r\n    }, {\r\n        key: \"_processListMarkup\",\r\n        value: function(childItemArgs, tag) {\r\n            return \"</li></\".concat(tag, \">\").concat(this._getListMarkup.apply(this, _toConsumableArray(childItemArgs)))\r\n        }\r\n    }, {\r\n        key: \"_processIndentListMarkup\",\r\n        value: function(childItemArgs, restItemsArgs) {\r\n            var tag = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"/li\";\r\n            var itemAttrs = this._getListItemAttributes(childItemArgs[0]);\r\n            return \"<\".concat(tag, \"><li\").concat(itemAttrs, \">\").concat(this._convertHTML.apply(this, _toConsumableArray(childItemArgs))).concat(this._getListMarkup.apply(this, _toConsumableArray(restItemsArgs)))\r\n        }\r\n    }, {\r\n        key: \"_getListItemAttributes\",\r\n        value: function(_ref2) {\r\n            var domNode = _ref2.domNode;\r\n            if (!domNode.hasAttributes()) {\r\n                return \"\"\r\n            }\r\n            var attributes = domNode.attributes;\r\n            var attributesString = \" \";\r\n            for (var i = 0; i < attributes.length; i++) {\r\n                var _attributes$i = attributes[i],\r\n                    name = _attributes$i.name,\r\n                    value = _attributes$i.value;\r\n                if (\"class\" === name) {\r\n                    value = this._removeIndentClass(value)\r\n                }\r\n                if (value.length) {\r\n                    attributesString += \"\".concat(name, '=\"').concat(value, '\"')\r\n                }\r\n            }\r\n            return attributesString.length > 1 ? attributesString : \"\"\r\n        }\r\n    }, {\r\n        key: \"_getListType\",\r\n        value: function(type) {\r\n            return \"ordered\" === type ? \"ol\" : \"ul\"\r\n        }\r\n    }, {\r\n        key: \"_removeIndentClass\",\r\n        value: function(classString) {\r\n            return classString.replace(/ql-indent-\\d/g, \"\").trim()\r\n        }\r\n    }, {\r\n        key: \"_escapeText\",\r\n        value: function(text) {\r\n            return text.replace(/[&<>\"']/g, function(char) {\r\n                return ESCAPING_MAP[char]\r\n            })\r\n        }\r\n    }]);\r\n    return DeltaConverter\r\n}();\r\n_converterController2.default.addConverter(\"delta\", DeltaConverter);\r\nexports.default = DeltaConverter;\r\n"]},"metadata":{},"sourceType":"script"}