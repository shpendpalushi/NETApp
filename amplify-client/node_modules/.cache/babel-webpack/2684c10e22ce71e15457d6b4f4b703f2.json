{"ast":null,"code":"/**\r\n * DevExtreme (ui/html_editor/matchers/textDecoration.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extend2 = require(\"../../../core/utils/extend\");\n\nvar _type = require(\"../../../core/utils/type\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction getMatcher(quill) {\n  var Delta = quill.import(\"delta\");\n\n  var applyFormat = function applyFormat(delta, format, value) {\n    if ((0, _type.isObject)(format)) {\n      return Object.keys(format).reduce(function (newDelta, key) {\n        return applyFormat(newDelta, key, format[key]);\n      }, delta);\n    }\n\n    return delta.reduce(function (newDelta, op) {\n      var attributes = op.attributes,\n          insert = op.insert;\n\n      if (attributes && attributes[format]) {\n        return newDelta.push(op);\n      }\n\n      return newDelta.insert(insert, (0, _extend2.extend)({}, _defineProperty({}, format, value), attributes));\n    }, new Delta());\n  };\n\n  return function (node, delta) {\n    var formats = {};\n\n    var _ref = node.style || {},\n        textDecoration = _ref.textDecoration;\n\n    var isLineThrough = textDecoration && textDecoration.indexOf(\"line-through\") !== -1;\n    var isUnderline = textDecoration && textDecoration.indexOf(\"underline\") !== -1;\n\n    if (isLineThrough) {\n      formats.strike = true;\n    }\n\n    if (isUnderline) {\n      formats.underline = true;\n    }\n\n    if (isLineThrough || isUnderline) {\n      delta = applyFormat(delta, formats);\n    }\n\n    return delta;\n  };\n}\n\nexports.default = getMatcher;","map":null,"metadata":{},"sourceType":"script"}