{"ast":null,"code":"/**\r\n * DevExtreme (ui/menu/ui.menu.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _component_registrator = require(\"../../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _dom = require(\"../../core/utils/dom\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _utils = require(\"../overlay/utils\");\n\nvar _utils2 = require(\"../../events/utils\");\n\nvar _pointer = require(\"../../events/pointer\");\n\nvar _pointer2 = _interopRequireDefault(_pointer);\n\nvar _hover = require(\"../../events/hover\");\n\nvar _hover2 = _interopRequireDefault(_hover);\n\nvar _ui = require(\"../context_menu/ui.menu_base\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _overlay = require(\"../overlay\");\n\nvar _overlay2 = _interopRequireDefault(_overlay);\n\nvar _ui3 = require(\"./ui.submenu\");\n\nvar _ui4 = _interopRequireDefault(_ui3);\n\nvar _button = require(\"../button\");\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _tree_view = require(\"../tree_view\");\n\nvar _tree_view2 = _interopRequireDefault(_tree_view);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar DX_MENU_CLASS = \"dx-menu\";\nvar DX_MENU_VERTICAL_CLASS = DX_MENU_CLASS + \"-vertical\";\nvar DX_MENU_HORIZONTAL_CLASS = DX_MENU_CLASS + \"-horizontal\";\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\nvar DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS = DX_CONTEXT_MENU_CLASS + \"-container-border\";\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\nvar DX_STATE_ACTIVE_CLASS = \"dx-state-active\";\nvar DX_ADAPTIVE_MODE_CLASS = DX_MENU_CLASS + \"-adaptive-mode\";\nvar DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS = DX_MENU_CLASS + \"-hamburger-button\";\nvar DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS = DX_ADAPTIVE_MODE_CLASS + \"-overlay-wrapper\";\nvar FOCUS_UP = \"up\";\nvar FOCUS_DOWN = \"down\";\nvar FOCUS_LEFT = \"left\";\nvar FOCUS_RIGHT = \"right\";\nvar SHOW_SUBMENU_OPERATION = \"showSubmenu\";\nvar NEXTITEM_OPERATION = \"nextItem\";\nvar PREVITEM_OPERATION = \"prevItem\";\nvar DEFAULT_DELAY = {\n  show: 50,\n  hide: 300\n};\nvar ACTIONS = [\"onSubmenuShowing\", \"onSubmenuShown\", \"onSubmenuHiding\", \"onSubmenuHidden\", \"onItemContextMenu\", \"onItemClick\", \"onSelectionChanged\"];\n\nvar Menu = function (_MenuBase) {\n  _inherits(Menu, _MenuBase);\n\n  function Menu() {\n    _classCallCheck(this, Menu);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Menu).apply(this, arguments));\n  }\n\n  _createClass(Menu, [{\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(Menu.prototype), \"_getDefaultOptions\", this).call(this), {\n        orientation: \"horizontal\",\n        submenuDirection: \"auto\",\n        showFirstSubmenuMode: {\n          name: \"onClick\",\n          delay: {\n            show: 50,\n            hide: 300\n          }\n        },\n        hideSubmenuOnMouseLeave: false,\n        onSubmenuShowing: null,\n        onSubmenuShown: null,\n        onSubmenuHiding: null,\n        onSubmenuHidden: null,\n        adaptivityEnabled: false\n      });\n    }\n  }, {\n    key: \"_setOptionsByReference\",\n    value: function value() {\n      _get(_getPrototypeOf(Menu.prototype), \"_setOptionsByReference\", this).call(this);\n\n      (0, _extend.extend)(this._optionsByReference, {\n        animation: true,\n        selectedItem: true\n      });\n    }\n  }, {\n    key: \"_itemElements\",\n    value: function value() {\n      var rootMenuElements = _get(_getPrototypeOf(Menu.prototype), \"_itemElements\", this).call(this);\n\n      var submenuElements = this._submenuItemElements();\n\n      return rootMenuElements.add(submenuElements);\n    }\n  }, {\n    key: \"_submenuItemElements\",\n    value: function value() {\n      var elements = [];\n      var itemSelector = \".\".concat(DX_MENU_ITEM_CLASS);\n      var currentSubmenu = this._submenus.length && this._submenus[0];\n\n      if (currentSubmenu && currentSubmenu.itemsContainer()) {\n        elements = currentSubmenu.itemsContainer().find(itemSelector);\n      }\n\n      return elements;\n    }\n  }, {\n    key: \"_focusTarget\",\n    value: function value() {\n      return this.$element();\n    }\n  }, {\n    key: \"_isMenuHorizontal\",\n    value: function value() {\n      return \"horizontal\" === this.option(\"orientation\");\n    }\n  }, {\n    key: \"_moveFocus\",\n    value: function value(location) {\n      var $items = this._getAvailableItems();\n\n      var isMenuHorizontal = this._isMenuHorizontal();\n\n      var $activeItem = this._getActiveItem(true);\n\n      var argument;\n      var operation;\n      var navigationAction;\n      var $newTarget;\n\n      switch (location) {\n        case FOCUS_UP:\n          operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(PREVITEM_OPERATION);\n          argument = isMenuHorizontal ? $activeItem : $items;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        case FOCUS_DOWN:\n          operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(NEXTITEM_OPERATION);\n          argument = isMenuHorizontal ? $activeItem : $items;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        case FOCUS_RIGHT:\n          operation = isMenuHorizontal ? this._getItemsNavigationOperation(NEXTITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\n          argument = isMenuHorizontal ? $items : $activeItem;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        case FOCUS_LEFT:\n          operation = isMenuHorizontal ? this._getItemsNavigationOperation(PREVITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\n          argument = isMenuHorizontal ? $items : $activeItem;\n          navigationAction = this._getKeyboardNavigationAction(operation, argument);\n          $newTarget = navigationAction();\n          break;\n\n        default:\n          return _get(_getPrototypeOf(Menu.prototype), \"_moveFocus\", this).call(this, location);\n      }\n\n      if ($newTarget && 0 !== $newTarget.length) {\n        this.option(\"focusedElement\", (0, _dom.getPublicElement)($newTarget));\n      }\n    }\n  }, {\n    key: \"_getItemsNavigationOperation\",\n    value: function value(operation) {\n      var navOperation = operation;\n\n      if (this.option(\"rtlEnabled\")) {\n        navOperation = operation === PREVITEM_OPERATION ? NEXTITEM_OPERATION : PREVITEM_OPERATION;\n      }\n\n      return navOperation;\n    }\n  }, {\n    key: \"_getKeyboardNavigationAction\",\n    value: function value(operation, argument) {\n      var action = _common.noop;\n\n      switch (operation) {\n        case SHOW_SUBMENU_OPERATION:\n          if (!argument.hasClass(DX_STATE_DISABLED_CLASS)) {\n            action = this._showSubmenu.bind(this, argument);\n          }\n\n          break;\n\n        case NEXTITEM_OPERATION:\n          action = this._nextItem.bind(this, argument);\n          break;\n\n        case PREVITEM_OPERATION:\n          action = this._prevItem.bind(this, argument);\n      }\n\n      return action;\n    }\n  }, {\n    key: \"_clean\",\n    value: function value() {\n      _get(_getPrototypeOf(Menu.prototype), \"_clean\", this).call(this);\n\n      this.option(\"templatesRenderAsynchronously\") && clearTimeout(this._resizeEventTimer);\n    }\n  }, {\n    key: \"_visibilityChanged\",\n    value: function value(visible) {\n      if (visible) {\n        if (!this._menuItemsWidth) {\n          this._updateItemsWidthCache();\n        }\n\n        this._dimensionChanged();\n      }\n    }\n  }, {\n    key: \"_isAdaptivityEnabled\",\n    value: function value() {\n      return this.option(\"adaptivityEnabled\") && \"horizontal\" === this.option(\"orientation\");\n    }\n  }, {\n    key: \"_updateItemsWidthCache\",\n    value: function value() {\n      var $menuItems = this.$element().find(\"ul\").first().children(\"li\").children(\".\".concat(DX_MENU_ITEM_CLASS));\n      this._menuItemsWidth = this._getSummaryItemsWidth($menuItems, true);\n    }\n  }, {\n    key: \"_dimensionChanged\",\n    value: function value() {\n      if (!this._isAdaptivityEnabled()) {\n        return;\n      }\n\n      var containerWidth = this.$element().outerWidth();\n\n      this._toggleAdaptiveMode(this._menuItemsWidth > containerWidth);\n    }\n  }, {\n    key: \"_init\",\n    value: function value() {\n      _get(_getPrototypeOf(Menu.prototype), \"_init\", this).call(this);\n\n      this._submenus = [];\n    }\n  }, {\n    key: \"_initActions\",\n    value: function value() {\n      var _this = this;\n\n      this._actions = {};\n      (0, _iterator.each)(ACTIONS, function (index, action) {\n        _this._actions[action] = _this._createActionByOption(action);\n      });\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function value() {\n      this._visibleSubmenu = null;\n      this.$element().addClass(DX_MENU_CLASS);\n\n      _get(_getPrototypeOf(Menu.prototype), \"_initMarkup\", this).call(this);\n\n      this.setAria(\"role\", \"menubar\");\n    }\n  }, {\n    key: \"_render\",\n    value: function value() {\n      _get(_getPrototypeOf(Menu.prototype), \"_render\", this).call(this);\n\n      this._initAdaptivity();\n    }\n  }, {\n    key: \"_renderHamburgerButton\",\n    value: function value() {\n      this._hamburger = new _button2.default((0, _renderer2.default)(\"<div>\").addClass(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS), {\n        icon: \"menu\",\n        activeStateEnabled: false,\n        onClick: this._toggleTreeView.bind(this)\n      });\n      return this._hamburger.$element();\n    }\n  }, {\n    key: \"_toggleTreeView\",\n    value: function value(state) {\n      if ((0, _type.isPlainObject)(state)) {\n        state = !this._overlay.option(\"visible\");\n      }\n\n      this._overlay.option(\"visible\", state);\n\n      this._toggleHamburgerActiveState(state);\n    }\n  }, {\n    key: \"_toggleHamburgerActiveState\",\n    value: function value(state) {\n      this._hamburger && this._hamburger.$element().toggleClass(DX_STATE_ACTIVE_CLASS, state);\n    }\n  }, {\n    key: \"_toggleAdaptiveMode\",\n    value: function value(state) {\n      var $menuItemsContainer = this.$element().find(\".\".concat(DX_MENU_HORIZONTAL_CLASS));\n      var $adaptiveElements = this.$element().find(\".\".concat(DX_ADAPTIVE_MODE_CLASS));\n\n      if (state) {\n        this._hideVisibleSubmenu();\n      } else {\n        this._treeView && this._treeView.collapseAll();\n        this._overlay && this._toggleTreeView(state);\n      }\n\n      $menuItemsContainer.toggle(!state);\n      $adaptiveElements.toggle(state);\n    }\n  }, {\n    key: \"_removeAdaptivity\",\n    value: function value() {\n      if (!this._$adaptiveContainer) {\n        return;\n      }\n\n      this._toggleAdaptiveMode(false);\n\n      this._$adaptiveContainer.remove();\n\n      this._$adaptiveContainer = null;\n      this._treeView = null;\n      this._hamburger = null;\n      this._overlay = null;\n    }\n  }, {\n    key: \"_treeviewItemClickHandler\",\n    value: function value(e) {\n      this._actions.onItemClick(e);\n\n      if (!e.node.children.length) {\n        this._toggleTreeView(false);\n      }\n    }\n  }, {\n    key: \"_getAdaptiveOverlayOptions\",\n    value: function value() {\n      var _this2 = this;\n\n      var rtl = this.option(\"rtlEnabled\");\n      var position = rtl ? \"right\" : \"left\";\n      return {\n        maxHeight: function maxHeight() {\n          return (0, _utils.getElementMaxHeightByWindow)(_this2.$element());\n        },\n        deferRendering: false,\n        shading: false,\n        animation: false,\n        closeOnTargetScroll: true,\n        onHidden: function onHidden() {\n          _this2._toggleHamburgerActiveState(false);\n        },\n        height: \"auto\",\n        closeOnOutsideClick: function closeOnOutsideClick(e) {\n          return !(0, _renderer2.default)(e.target).closest(\".\".concat(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS)).length;\n        },\n        position: {\n          collision: \"flipfit\",\n          at: \"bottom \" + position,\n          my: \"top \" + position,\n          of: this._hamburger.$element()\n        }\n      };\n    }\n  }, {\n    key: \"_getTreeViewOptions\",\n    value: function value() {\n      var _this3 = this;\n\n      var menuOptions = {};\n      var optionsToTransfer = [\"rtlEnabled\", \"width\", \"accessKey\", \"activeStateEnabled\", \"animation\", \"dataSource\", \"disabled\", \"displayExpr\", \"displayExpr\", \"focusStateEnabled\", \"hint\", \"hoverStateEnabled\", \"itemsExpr\", \"items\", \"itemTemplate\", \"selectedExpr\", \"selectionMode\", \"tabIndex\", \"visible\"];\n      var actionsToTransfer = [\"onItemContextMenu\", \"onSelectionChanged\"];\n      (0, _iterator.each)(optionsToTransfer, function (_, option) {\n        menuOptions[option] = _this3.option(option);\n      });\n      (0, _iterator.each)(actionsToTransfer, function (_, actionName) {\n        menuOptions[actionName] = function (e) {\n          _this3._actions[actionName](e);\n        };\n      });\n      return (0, _extend.extend)(menuOptions, {\n        dataSource: this.getDataSource(),\n        animationEnabled: !!this.option(\"animation\"),\n        onItemClick: this._treeviewItemClickHandler.bind(this),\n        onItemExpanded: function onItemExpanded(e) {\n          _this3._overlay.repaint();\n\n          _this3._actions.onSubmenuShown(e);\n        },\n        onItemCollapsed: function onItemCollapsed(e) {\n          _this3._overlay.repaint();\n\n          _this3._actions.onSubmenuHidden(e);\n        },\n        selectNodesRecursive: false,\n        selectByClick: this.option(\"selectByClick\"),\n        expandEvent: \"click\"\n      });\n    }\n  }, {\n    key: \"_initAdaptivity\",\n    value: function value() {\n      if (!this._isAdaptivityEnabled()) {\n        return;\n      }\n\n      this._$adaptiveContainer = (0, _renderer2.default)(\"<div>\").addClass(DX_ADAPTIVE_MODE_CLASS);\n\n      var $hamburger = this._renderHamburgerButton();\n\n      this._treeView = this._createComponent((0, _renderer2.default)(\"<div>\"), _tree_view2.default, this._getTreeViewOptions());\n      this._overlay = this._createComponent((0, _renderer2.default)(\"<div>\"), _overlay2.default, this._getAdaptiveOverlayOptions());\n\n      this._overlay.$content().append(this._treeView.$element()).addClass(DX_ADAPTIVE_MODE_CLASS).addClass(this.option(\"cssClass\"));\n\n      this._overlay._wrapper().addClass(DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS);\n\n      this._$adaptiveContainer.append($hamburger);\n\n      this._$adaptiveContainer.append(this._overlay.$element());\n\n      this.$element().append(this._$adaptiveContainer);\n\n      this._updateItemsWidthCache();\n\n      this._dimensionChanged();\n    }\n  }, {\n    key: \"_getDelay\",\n    value: function value(delayType) {\n      var delay = this.option(\"showFirstSubmenuMode\").delay;\n\n      if (!(0, _type.isDefined)(delay)) {\n        return DEFAULT_DELAY[delayType];\n      } else {\n        return (0, _type.isObject)(delay) ? delay[delayType] : delay;\n      }\n    }\n  }, {\n    key: \"_keyboardHandler\",\n    value: function value(e) {\n      return this._visibleSubmenu ? true : _get(_getPrototypeOf(Menu.prototype), \"_keyboardHandler\", this).call(this, e);\n    }\n  }, {\n    key: \"_renderContainer\",\n    value: function value() {\n      var $wrapper = (0, _renderer2.default)(\"<div>\");\n      $wrapper.appendTo(this.$element()).addClass(this._isMenuHorizontal() ? DX_MENU_HORIZONTAL_CLASS : DX_MENU_VERTICAL_CLASS);\n      return _get(_getPrototypeOf(Menu.prototype), \"_renderContainer\", this).call(this, $wrapper);\n    }\n  }, {\n    key: \"_renderSubmenuItems\",\n    value: function value(node, $itemFrame) {\n      var submenu = this._createSubmenu(node, $itemFrame);\n\n      this._submenus.push(submenu);\n\n      this._renderBorderElement($itemFrame);\n\n      return submenu;\n    }\n  }, {\n    key: \"_createSubmenu\",\n    value: function value(node, $rootItem) {\n      var $submenuContainer = (0, _renderer2.default)(\"<div>\").addClass(DX_CONTEXT_MENU_CLASS).appendTo($rootItem);\n\n      var childKeyboardProcessor = this._keyboardProcessor && this._keyboardProcessor.attachChildProcessor();\n\n      var items = this._getChildNodes(node);\n\n      var result = this._createComponent($submenuContainer, _ui4.default, (0, _extend.extend)(this._getSubmenuOptions(), {\n        _keyboardProcessor: childKeyboardProcessor,\n        _dataAdapter: this._dataAdapter,\n        _parentKey: node.internalFields.key,\n        items: items,\n        onHoverStart: this._clearTimeouts.bind(this),\n        position: this.getSubmenuPosition($rootItem)\n      }));\n\n      this._attachSubmenuHandlers($rootItem, result);\n\n      return result;\n    }\n  }, {\n    key: \"_getSubmenuOptions\",\n    value: function value() {\n      var _this4 = this;\n\n      var $submenuTarget = (0, _renderer2.default)(\"<div>\");\n\n      var isMenuHorizontal = this._isMenuHorizontal();\n\n      return {\n        itemTemplate: this.option(\"itemTemplate\"),\n        target: $submenuTarget,\n        orientation: this.option(\"orientation\"),\n        selectionMode: this.option(\"selectionMode\"),\n        cssClass: this.option(\"cssClass\"),\n        selectByClick: this.option(\"selectByClick\"),\n        hoverStateEnabled: this.option(\"hoverStateEnabled\"),\n        activeStateEnabled: this.option(\"activeStateEnabled\"),\n        focusStateEnabled: this.option(\"focusStateEnabled\"),\n        animation: this.option(\"animation\"),\n        showSubmenuMode: this.option(\"showSubmenuMode\"),\n        displayExpr: this.option(\"displayExpr\"),\n        disabledExpr: this.option(\"disabledExpr\"),\n        selectedExpr: this.option(\"selectedExpr\"),\n        itemsExpr: this.option(\"itemsExpr\"),\n        onFocusedItemChanged: function onFocusedItemChanged(e) {\n          if (!e.component.option(\"visible\")) {\n            return;\n          }\n\n          _this4.option(\"focusedElement\", e.component.option(\"focusedElement\"));\n        },\n        onSelectionChanged: this._nestedItemOnSelectionChangedHandler.bind(this),\n        onItemClick: this._nestedItemOnItemClickHandler.bind(this),\n        onItemRendered: this.option(\"onItemRendered\"),\n        onLeftFirstItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, PREVITEM_OPERATION),\n        onLeftLastItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION),\n        onCloseRootSubmenu: this._moveMainMenuFocus.bind(this, isMenuHorizontal ? PREVITEM_OPERATION : null),\n        onExpandLastSubmenu: isMenuHorizontal ? this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION) : null\n      };\n    }\n  }, {\n    key: \"_getShowFirstSubmenuMode\",\n    value: function value() {\n      if (!this._isDesktopDevice()) {\n        return \"onClick\";\n      }\n\n      var optionValue = this.option(\"showFirstSubmenuMode\");\n      return (0, _type.isObject)(optionValue) ? optionValue.name : optionValue;\n    }\n  }, {\n    key: \"_moveMainMenuFocus\",\n    value: function value(direction) {\n      var $items = this._getAvailableItems();\n\n      var itemCount = $items.length;\n      var $currentItem = $items.filter(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).eq(0);\n      var itemIndex = $items.index($currentItem);\n\n      this._hideSubmenu(this._visibleSubmenu);\n\n      itemIndex += direction === PREVITEM_OPERATION ? -1 : 1;\n\n      if (itemIndex >= itemCount) {\n        itemIndex = 0;\n      } else {\n        if (itemIndex < 0) {\n          itemIndex = itemCount - 1;\n        }\n      }\n\n      var $newItem = $items.eq(itemIndex);\n      this.option(\"focusedElement\", (0, _dom.getPublicElement)($newItem));\n    }\n  }, {\n    key: \"_nestedItemOnSelectionChangedHandler\",\n    value: function value(args) {\n      var selectedItem = args.addedItems.length && args.addedItems[0];\n\n      var submenu = _ui4.default.getInstance(args.element);\n\n      var onSelectionChanged = this._actions.onSelectionChanged;\n      onSelectionChanged(args);\n      selectedItem && this._clearSelectionInSubmenus(selectedItem[0], submenu);\n\n      this._clearRootSelection();\n\n      this._setOptionSilent(\"selectedItem\", selectedItem);\n    }\n  }, {\n    key: \"_clearSelectionInSubmenus\",\n    value: function value(item, targetSubmenu) {\n      var _this5 = this;\n\n      var cleanAllSubmenus = !arguments.length;\n      (0, _iterator.each)(this._submenus, function (index, submenu) {\n        var $submenu = submenu._itemContainer();\n\n        var isOtherItem = !$submenu.is(targetSubmenu && targetSubmenu._itemContainer());\n        var $selectedItem = $submenu.find(\".\".concat(_this5._selectedItemClass()));\n\n        if (isOtherItem && $selectedItem.length || cleanAllSubmenus) {\n          $selectedItem.removeClass(_this5._selectedItemClass());\n\n          var selectedItemData = _this5._getItemData($selectedItem);\n\n          if (selectedItemData) {\n            selectedItemData.selected = false;\n          }\n\n          submenu._clearSelectedItems();\n        }\n      });\n    }\n  }, {\n    key: \"_clearRootSelection\",\n    value: function value() {\n      var $prevSelectedItem = this.$element().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).first().children().children().filter(\".\".concat(this._selectedItemClass()));\n\n      if ($prevSelectedItem.length) {\n        var prevSelectedItemData;\n        prevSelectedItemData = this._getItemData($prevSelectedItem);\n        prevSelectedItemData.selected = false;\n        $prevSelectedItem.removeClass(this._selectedItemClass());\n      }\n    }\n  }, {\n    key: \"_nestedItemOnItemClickHandler\",\n    value: function value(e) {\n      this._actions.onItemClick(e);\n    }\n  }, {\n    key: \"_attachSubmenuHandlers\",\n    value: function value($rootItem, submenu) {\n      var _this6 = this;\n\n      var $submenuOverlayContent = submenu.getOverlayContent();\n      var submenus = $submenuOverlayContent.find(\".\".concat(DX_SUBMENU_CLASS));\n      var submenuMouseLeaveName = (0, _utils2.addNamespace)(_hover2.default.end, this.NAME + \"_submenu\");\n      submenu.option({\n        onShowing: this._submenuOnShowingHandler.bind(this, $rootItem, submenu),\n        onShown: this._submenuOnShownHandler.bind(this, $rootItem, submenu),\n        onHiding: this._submenuOnHidingHandler.bind(this, $rootItem, submenu),\n        onHidden: this._submenuOnHiddenHandler.bind(this, $rootItem, submenu)\n      });\n      (0, _iterator.each)(submenus, function (index, submenu) {\n        _events_engine2.default.off(submenu, submenuMouseLeaveName);\n\n        _events_engine2.default.on(submenu, submenuMouseLeaveName, null, _this6._submenuMouseLeaveHandler.bind(_this6, $rootItem));\n      });\n    }\n  }, {\n    key: \"_submenuOnShowingHandler\",\n    value: function value($rootItem, submenu) {\n      var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\n\n      this._actions.onSubmenuShowing({\n        rootItem: (0, _dom.getPublicElement)($rootItem),\n        submenu: submenu\n      });\n\n      $border.show();\n      $rootItem.addClass(DX_MENU_ITEM_EXPANDED_CLASS);\n    }\n  }, {\n    key: \"_submenuOnShownHandler\",\n    value: function value($rootItem, submenu) {\n      this._actions.onSubmenuShown({\n        rootItem: (0, _dom.getPublicElement)($rootItem),\n        submenu: submenu\n      });\n    }\n  }, {\n    key: \"_submenuOnHidingHandler\",\n    value: function value($rootItem, submenu, eventArgs) {\n      var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\n      var args = eventArgs;\n      args.rootItem = (0, _dom.getPublicElement)($rootItem);\n      args.submenu = submenu;\n\n      this._actions.onSubmenuHiding(args);\n\n      eventArgs = args;\n\n      if (!eventArgs.cancel) {\n        if (this._visibleSubmenu === submenu) {\n          this._visibleSubmenu = null;\n        }\n\n        $border.hide();\n        $rootItem.removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\n      }\n    }\n  }, {\n    key: \"_submenuOnHiddenHandler\",\n    value: function value($rootItem, submenu) {\n      this._actions.onSubmenuHidden({\n        rootItem: (0, _dom.getPublicElement)($rootItem),\n        submenu: submenu\n      });\n    }\n  }, {\n    key: \"_submenuMouseLeaveHandler\",\n    value: function value($rootItem, eventArgs) {\n      var target = (0, _renderer2.default)(eventArgs.relatedTarget).parents(\".\".concat(DX_CONTEXT_MENU_CLASS))[0];\n\n      var contextMenu = this._getSubmenuByRootElement($rootItem).getOverlayContent()[0];\n\n      if (this.option(\"hideSubmenuOnMouseLeave\") && target !== contextMenu) {\n        this._clearTimeouts();\n\n        setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\n      }\n    }\n  }, {\n    key: \"_hideSubmenuAfterTimeout\",\n    value: function value() {\n      if (!this._visibleSubmenu) {\n        return;\n      }\n\n      var isRootItemHovered = (0, _renderer2.default)(this._visibleSubmenu.$element().context).hasClass(DX_STATE_HOVER_CLASS);\n\n      var isSubmenuItemHovered = this._visibleSubmenu.getOverlayContent().find(\".\".concat(DX_STATE_HOVER_CLASS)).length;\n\n      var hoveredElementFromSubMenu = this._visibleSubmenu.getOverlayContent().get(0).querySelector(\":hover\");\n\n      if (!hoveredElementFromSubMenu && !isSubmenuItemHovered && !isRootItemHovered) {\n        this._visibleSubmenu.hide();\n      }\n    }\n  }, {\n    key: \"_getSubmenuByRootElement\",\n    value: function value($rootItem) {\n      if (!$rootItem) {\n        return false;\n      }\n\n      var $submenu = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CLASS));\n      return $submenu.length && _ui4.default.getInstance($submenu);\n    }\n  }, {\n    key: \"getSubmenuPosition\",\n    value: function value($rootItem) {\n      var isHorizontalMenu = this._isMenuHorizontal();\n\n      var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\n      var rtlEnabled = this.option(\"rtlEnabled\");\n      var submenuPosition = {\n        collision: \"flip\",\n        of: $rootItem\n      };\n\n      switch (submenuDirection) {\n        case \"leftortop\":\n          submenuPosition.at = \"left top\";\n          submenuPosition.my = isHorizontalMenu ? \"left bottom\" : \"right top\";\n          break;\n\n        case \"rightorbottom\":\n          submenuPosition.at = isHorizontalMenu ? \"left bottom\" : \"right top\";\n          submenuPosition.my = \"left top\";\n          break;\n\n        default:\n          if (isHorizontalMenu) {\n            submenuPosition.at = rtlEnabled ? \"right bottom\" : \"left bottom\";\n            submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\";\n          } else {\n            submenuPosition.at = rtlEnabled ? \"left top\" : \"right top\";\n            submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\";\n          }\n\n      }\n\n      return submenuPosition;\n    }\n  }, {\n    key: \"_renderBorderElement\",\n    value: function value($item) {\n      (0, _renderer2.default)(\"<div>\").appendTo($item).addClass(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS).hide();\n    }\n  }, {\n    key: \"_itemPointerDownHandler\",\n    value: function value(e) {\n      var $target = (0, _renderer2.default)(e.target);\n      var $closestItem = $target.closest(this._itemElements());\n\n      if ($closestItem.hasClass(\"dx-menu-item-has-submenu\")) {\n        this.option(\"focusedElement\", null);\n        return;\n      }\n\n      _get(_getPrototypeOf(Menu.prototype), \"_itemPointerDownHandler\", this).call(this, e);\n    }\n  }, {\n    key: \"_hoverStartHandler\",\n    value: function value(e) {\n      var mouseMoveEventName = (0, _utils2.addNamespace)(_pointer2.default.move, this.NAME);\n\n      var $item = this._getItemElementByEventArgs(e);\n\n      var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\n\n      var isSelectionActive = (0, _type.isDefined)(e.buttons) && 1 === e.buttons || !(0, _type.isDefined)(e.buttons) && 1 === e.which;\n\n      if (this._isItemDisabled($item)) {\n        return;\n      }\n\n      _events_engine2.default.off($item, mouseMoveEventName);\n\n      if (!this._hasChildren(node)) {\n        this._showSubmenuTimer = setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\n        return;\n      }\n\n      if (\"onHover\" === this._getShowFirstSubmenuMode() && !isSelectionActive) {\n        var submenu = this._getSubmenuByElement($item);\n\n        this._clearTimeouts();\n\n        if (!submenu.isOverlayVisible()) {\n          _events_engine2.default.on($item, mouseMoveEventName, this._itemMouseMoveHandler.bind(this));\n\n          this._showSubmenuTimer = this._getDelay(\"hide\");\n        }\n      }\n    }\n  }, {\n    key: \"_hoverEndHandler\",\n    value: function value(eventArg) {\n      var _this7 = this;\n\n      var $item = this._getItemElementByEventArgs(eventArg);\n\n      var relatedTarget = (0, _renderer2.default)(eventArg.relatedTarget);\n\n      _get(_getPrototypeOf(Menu.prototype), \"_hoverEndHandler\", this).call(this, eventArg);\n\n      this._clearTimeouts();\n\n      if (this._isItemDisabled($item)) {\n        return;\n      }\n\n      if (relatedTarget.hasClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)) {\n        return;\n      }\n\n      if (this.option(\"hideSubmenuOnMouseLeave\") && !relatedTarget.hasClass(DX_MENU_ITEMS_CONTAINER_CLASS)) {\n        this._hideSubmenuTimer = setTimeout(function () {\n          _this7._hideSubmenuAfterTimeout();\n        }, this._getDelay(\"hide\"));\n      }\n    }\n  }, {\n    key: \"_hideVisibleSubmenu\",\n    value: function value() {\n      if (!this._visibleSubmenu) {\n        return false;\n      }\n\n      this._hideSubmenu(this._visibleSubmenu);\n\n      return true;\n    }\n  }, {\n    key: \"_showSubmenu\",\n    value: function value($itemElement) {\n      var submenu = this._getSubmenuByElement($itemElement);\n\n      if (this._visibleSubmenu !== submenu) {\n        this._hideVisibleSubmenu();\n      }\n\n      if (submenu) {\n        submenu.show();\n        this.option(\"focusedElement\", submenu.option(\"focusedElement\"));\n      }\n\n      this._visibleSubmenu = submenu;\n      this._hoveredRootItem = $itemElement;\n    }\n  }, {\n    key: \"_hideSubmenu\",\n    value: function value(submenu) {\n      submenu && submenu.hide();\n\n      if (this._visibleSubmenu === submenu) {\n        this._visibleSubmenu = null;\n      }\n\n      this._hoveredRootItem = null;\n    }\n  }, {\n    key: \"_itemMouseMoveHandler\",\n    value: function value(e) {\n      var _this8 = this;\n\n      if (e.pointers && e.pointers.length) {\n        return;\n      }\n\n      var $item = (0, _renderer2.default)(e.currentTarget);\n\n      if (!(0, _type.isDefined)(this._showSubmenuTimer)) {\n        return;\n      }\n\n      this._clearTimeouts();\n\n      this._showSubmenuTimer = setTimeout(function () {\n        var submenu = _this8._getSubmenuByElement($item);\n\n        if (submenu && !submenu.isOverlayVisible()) {\n          _this8._showSubmenu($item);\n        }\n      }, this._getDelay(\"show\"));\n    }\n  }, {\n    key: \"_clearTimeouts\",\n    value: function value() {\n      clearTimeout(this._hideSubmenuTimer);\n      clearTimeout(this._showSubmenuTimer);\n    }\n  }, {\n    key: \"_getSubmenuByElement\",\n    value: function value($itemElement, itemData) {\n      var submenu = this._getSubmenuByRootElement($itemElement);\n\n      if (submenu) {\n        return submenu;\n      } else {\n        itemData = itemData || this._getItemData($itemElement);\n\n        var node = this._dataAdapter.getNodeByItem(itemData);\n\n        return this._hasChildren(node) && this._renderSubmenuItems(node, $itemElement);\n      }\n    }\n  }, {\n    key: \"_updateSubmenuVisibilityOnClick\",\n    value: function value(actionArgs) {\n      var args = actionArgs.args.length && actionArgs.args[0];\n\n      if (!args || this._disabledGetter(args.itemData)) {\n        return;\n      }\n\n      var $itemElement = (0, _renderer2.default)(args.itemElement);\n\n      var currentSubmenu = this._getSubmenuByElement($itemElement, args.itemData);\n\n      this._updateSelectedItemOnClick(actionArgs);\n\n      if (this._visibleSubmenu) {\n        if (this._visibleSubmenu === currentSubmenu) {\n          if (\"onClick\" === this.option(\"showFirstSubmenuMode\")) {\n            this._hideSubmenu(this._visibleSubmenu);\n          }\n\n          return;\n        } else {\n          this._hideSubmenu(this._visibleSubmenu);\n        }\n      }\n\n      if (!currentSubmenu) {\n        return;\n      }\n\n      if (!currentSubmenu.isOverlayVisible()) {\n        this._showSubmenu($itemElement);\n\n        return;\n      }\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      switch (args.name) {\n        case \"orientation\":\n        case \"submenuDirection\":\n          this._invalidate();\n\n          break;\n\n        case \"showFirstSubmenuMode\":\n        case \"hideSubmenuOnMouseLeave\":\n          break;\n\n        case \"showSubmenuMode\":\n          this._changeSubmenusOption(args.name, args.value);\n\n          break;\n\n        case \"onSubmenuShowing\":\n        case \"onSubmenuShown\":\n        case \"onSubmenuHiding\":\n        case \"onSubmenuHidden\":\n          this._initActions();\n\n          break;\n\n        case \"adaptivityEnabled\":\n          args.value ? this._initAdaptivity() : this._removeAdaptivity();\n          break;\n\n        case \"width\":\n          if (this._isAdaptivityEnabled()) {\n            this._treeView.option(args.name, args.value);\n\n            this._overlay.option(args.name, args.value);\n          }\n\n          _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\n\n          this._dimensionChanged();\n\n          break;\n\n        case \"animation\":\n          if (this._isAdaptivityEnabled()) {\n            this._treeView.option(\"animationEnabled\", !!args.value);\n          }\n\n          _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\n\n          break;\n\n        default:\n          if (this._isAdaptivityEnabled()) {\n            this._treeView.option(args.name, args.value);\n          }\n\n          _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"_changeSubmenusOption\",\n    value: function value(name, _value) {\n      (0, _iterator.each)(this._submenus, function (index, submenu) {\n        submenu.option(name, _value);\n      });\n    }\n  }, {\n    key: \"selectItem\",\n    value: function value(itemElement) {\n      this._hideSubmenu(this._visibleSubmenu);\n\n      _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement);\n    }\n  }, {\n    key: \"unselectItem\",\n    value: function value(itemElement) {\n      this._hideSubmenu(this._visibleSubmenu);\n\n      _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement);\n    }\n  }]);\n\n  return Menu;\n}(_ui2.default);\n\n(0, _component_registrator2.default)(\"dxMenu\", Menu);\nmodule.exports = Menu;","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/ui/menu/ui.menu.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_events_engine","_events_engine2","_component_registrator","_component_registrator2","_common","_dom","_iterator","_type","_extend","_utils","_utils2","_pointer","_pointer2","_hover","_hover2","_ui","_ui2","_overlay","_overlay2","_ui3","_ui4","_button","_button2","_tree_view","_tree_view2","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","value","object","hasOwnProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","DX_MENU_CLASS","DX_MENU_VERTICAL_CLASS","DX_MENU_HORIZONTAL_CLASS","DX_MENU_ITEM_CLASS","DX_MENU_ITEMS_CONTAINER_CLASS","DX_MENU_ITEM_EXPANDED_CLASS","DX_CONTEXT_MENU_CLASS","DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS","DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS","DX_SUBMENU_CLASS","DX_STATE_DISABLED_CLASS","DX_STATE_HOVER_CLASS","DX_STATE_ACTIVE_CLASS","DX_ADAPTIVE_MODE_CLASS","DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS","DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS","FOCUS_UP","FOCUS_DOWN","FOCUS_LEFT","FOCUS_RIGHT","SHOW_SUBMENU_OPERATION","NEXTITEM_OPERATION","PREVITEM_OPERATION","DEFAULT_DELAY","show","hide","ACTIONS","Menu","_MenuBase","apply","arguments","extend","orientation","submenuDirection","showFirstSubmenuMode","name","delay","hideSubmenuOnMouseLeave","onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","adaptivityEnabled","_optionsByReference","animation","selectedItem","rootMenuElements","submenuElements","_submenuItemElements","add","elements","itemSelector","concat","currentSubmenu","_submenus","itemsContainer","find","$element","option","location","$items","_getAvailableItems","isMenuHorizontal","_isMenuHorizontal","$activeItem","_getActiveItem","argument","operation","navigationAction","$newTarget","_getItemsNavigationOperation","_getKeyboardNavigationAction","getPublicElement","navOperation","action","noop","hasClass","_showSubmenu","bind","_nextItem","_prevItem","clearTimeout","_resizeEventTimer","visible","_menuItemsWidth","_updateItemsWidthCache","_dimensionChanged","$menuItems","first","children","_getSummaryItemsWidth","_isAdaptivityEnabled","containerWidth","outerWidth","_toggleAdaptiveMode","_this","_actions","each","index","_createActionByOption","_visibleSubmenu","addClass","setAria","_initAdaptivity","_hamburger","default","icon","activeStateEnabled","onClick","_toggleTreeView","state","isPlainObject","_toggleHamburgerActiveState","toggleClass","$menuItemsContainer","$adaptiveElements","_hideVisibleSubmenu","_treeView","collapseAll","toggle","_$adaptiveContainer","remove","e","onItemClick","node","_this2","rtl","position","maxHeight","getElementMaxHeightByWindow","deferRendering","shading","closeOnTargetScroll","onHidden","height","closeOnOutsideClick","closest","collision","at","my","of","_this3","menuOptions","optionsToTransfer","actionsToTransfer","_","actionName","dataSource","getDataSource","animationEnabled","_treeviewItemClickHandler","onItemExpanded","repaint","onItemCollapsed","selectNodesRecursive","selectByClick","expandEvent","$hamburger","_renderHamburgerButton","_createComponent","_getTreeViewOptions","_getAdaptiveOverlayOptions","$content","append","_wrapper","delayType","isDefined","isObject","$wrapper","appendTo","$itemFrame","submenu","_createSubmenu","push","_renderBorderElement","$rootItem","$submenuContainer","childKeyboardProcessor","_keyboardProcessor","attachChildProcessor","items","_getChildNodes","result","_getSubmenuOptions","_dataAdapter","_parentKey","internalFields","onHoverStart","_clearTimeouts","getSubmenuPosition","_attachSubmenuHandlers","_this4","$submenuTarget","itemTemplate","selectionMode","cssClass","hoverStateEnabled","focusStateEnabled","showSubmenuMode","displayExpr","disabledExpr","selectedExpr","itemsExpr","onFocusedItemChanged","component","onSelectionChanged","_nestedItemOnSelectionChangedHandler","_nestedItemOnItemClickHandler","onItemRendered","onLeftFirstItem","_moveMainMenuFocus","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu","_isDesktopDevice","optionValue","direction","itemCount","$currentItem","filter","eq","itemIndex","_hideSubmenu","$newItem","args","addedItems","getInstance","element","_clearSelectionInSubmenus","_clearRootSelection","_setOptionSilent","item","targetSubmenu","_this5","cleanAllSubmenus","$submenu","_itemContainer","isOtherItem","is","$selectedItem","_selectedItemClass","removeClass","selectedItemData","_getItemData","selected","_clearSelectedItems","$prevSelectedItem","prevSelectedItemData","_this6","$submenuOverlayContent","getOverlayContent","submenus","submenuMouseLeaveName","addNamespace","end","NAME","onShowing","_submenuOnShowingHandler","onShown","_submenuOnShownHandler","onHiding","_submenuOnHidingHandler","_submenuOnHiddenHandler","off","on","_submenuMouseLeaveHandler","$border","rootItem","eventArgs","cancel","relatedTarget","parents","contextMenu","_getSubmenuByRootElement","setTimeout","_hideSubmenuAfterTimeout","_getDelay","isRootItemHovered","context","isSubmenuItemHovered","hoveredElementFromSubMenu","querySelector","isHorizontalMenu","toLowerCase","rtlEnabled","submenuPosition","$item","$target","$closestItem","_itemElements","mouseMoveEventName","move","_getItemElementByEventArgs","getNodeByItem","isSelectionActive","buttons","which","_isItemDisabled","_hasChildren","_showSubmenuTimer","_getShowFirstSubmenuMode","_getSubmenuByElement","isOverlayVisible","_itemMouseMoveHandler","eventArg","_this7","_hideSubmenuTimer","$itemElement","_hoveredRootItem","_this8","pointers","currentTarget","itemData","_renderSubmenuItems","actionArgs","_disabledGetter","itemElement","_updateSelectedItemOnClick","_invalidate","_changeSubmenusOption","_initActions","_removeAdaptivity","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/menu/ui.menu.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _component_registrator = require(\"../../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _dom = require(\"../../core/utils/dom\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _utils = require(\"../overlay/utils\");\r\nvar _utils2 = require(\"../../events/utils\");\r\nvar _pointer = require(\"../../events/pointer\");\r\nvar _pointer2 = _interopRequireDefault(_pointer);\r\nvar _hover = require(\"../../events/hover\");\r\nvar _hover2 = _interopRequireDefault(_hover);\r\nvar _ui = require(\"../context_menu/ui.menu_base\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _overlay = require(\"../overlay\");\r\nvar _overlay2 = _interopRequireDefault(_overlay);\r\nvar _ui3 = require(\"./ui.submenu\");\r\nvar _ui4 = _interopRequireDefault(_ui3);\r\nvar _button = require(\"../button\");\r\nvar _button2 = _interopRequireDefault(_button);\r\nvar _tree_view = require(\"../tree_view\");\r\nvar _tree_view2 = _interopRequireDefault(_tree_view);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_VERTICAL_CLASS = DX_MENU_CLASS + \"-vertical\";\r\nvar DX_MENU_HORIZONTAL_CLASS = DX_MENU_CLASS + \"-horizontal\";\r\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\r\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\r\nvar DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS = DX_CONTEXT_MENU_CLASS + \"-container-border\";\r\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\r\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\r\nvar DX_STATE_ACTIVE_CLASS = \"dx-state-active\";\r\nvar DX_ADAPTIVE_MODE_CLASS = DX_MENU_CLASS + \"-adaptive-mode\";\r\nvar DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS = DX_MENU_CLASS + \"-hamburger-button\";\r\nvar DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS = DX_ADAPTIVE_MODE_CLASS + \"-overlay-wrapper\";\r\nvar FOCUS_UP = \"up\";\r\nvar FOCUS_DOWN = \"down\";\r\nvar FOCUS_LEFT = \"left\";\r\nvar FOCUS_RIGHT = \"right\";\r\nvar SHOW_SUBMENU_OPERATION = \"showSubmenu\";\r\nvar NEXTITEM_OPERATION = \"nextItem\";\r\nvar PREVITEM_OPERATION = \"prevItem\";\r\nvar DEFAULT_DELAY = {\r\n    show: 50,\r\n    hide: 300\r\n};\r\nvar ACTIONS = [\"onSubmenuShowing\", \"onSubmenuShown\", \"onSubmenuHiding\", \"onSubmenuHidden\", \"onItemContextMenu\", \"onItemClick\", \"onSelectionChanged\"];\r\nvar Menu = function(_MenuBase) {\r\n    _inherits(Menu, _MenuBase);\r\n\r\n    function Menu() {\r\n        _classCallCheck(this, Menu);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(Menu).apply(this, arguments))\r\n    }\r\n    _createClass(Menu, [{\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(Menu.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                orientation: \"horizontal\",\r\n                submenuDirection: \"auto\",\r\n                showFirstSubmenuMode: {\r\n                    name: \"onClick\",\r\n                    delay: {\r\n                        show: 50,\r\n                        hide: 300\r\n                    }\r\n                },\r\n                hideSubmenuOnMouseLeave: false,\r\n                onSubmenuShowing: null,\r\n                onSubmenuShown: null,\r\n                onSubmenuHiding: null,\r\n                onSubmenuHidden: null,\r\n                adaptivityEnabled: false\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_setOptionsByReference\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_setOptionsByReference\", this).call(this);\r\n            (0, _extend.extend)(this._optionsByReference, {\r\n                animation: true,\r\n                selectedItem: true\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_itemElements\",\r\n        value: function() {\r\n            var rootMenuElements = _get(_getPrototypeOf(Menu.prototype), \"_itemElements\", this).call(this);\r\n            var submenuElements = this._submenuItemElements();\r\n            return rootMenuElements.add(submenuElements)\r\n        }\r\n    }, {\r\n        key: \"_submenuItemElements\",\r\n        value: function() {\r\n            var elements = [];\r\n            var itemSelector = \".\".concat(DX_MENU_ITEM_CLASS);\r\n            var currentSubmenu = this._submenus.length && this._submenus[0];\r\n            if (currentSubmenu && currentSubmenu.itemsContainer()) {\r\n                elements = currentSubmenu.itemsContainer().find(itemSelector)\r\n            }\r\n            return elements\r\n        }\r\n    }, {\r\n        key: \"_focusTarget\",\r\n        value: function() {\r\n            return this.$element()\r\n        }\r\n    }, {\r\n        key: \"_isMenuHorizontal\",\r\n        value: function() {\r\n            return \"horizontal\" === this.option(\"orientation\")\r\n        }\r\n    }, {\r\n        key: \"_moveFocus\",\r\n        value: function(location) {\r\n            var $items = this._getAvailableItems();\r\n            var isMenuHorizontal = this._isMenuHorizontal();\r\n            var $activeItem = this._getActiveItem(true);\r\n            var argument;\r\n            var operation;\r\n            var navigationAction;\r\n            var $newTarget;\r\n            switch (location) {\r\n                case FOCUS_UP:\r\n                    operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(PREVITEM_OPERATION);\r\n                    argument = isMenuHorizontal ? $activeItem : $items;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_DOWN:\r\n                    operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(NEXTITEM_OPERATION);\r\n                    argument = isMenuHorizontal ? $activeItem : $items;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_RIGHT:\r\n                    operation = isMenuHorizontal ? this._getItemsNavigationOperation(NEXTITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                    argument = isMenuHorizontal ? $items : $activeItem;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_LEFT:\r\n                    operation = isMenuHorizontal ? this._getItemsNavigationOperation(PREVITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                    argument = isMenuHorizontal ? $items : $activeItem;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                default:\r\n                    return _get(_getPrototypeOf(Menu.prototype), \"_moveFocus\", this).call(this, location)\r\n            }\r\n            if ($newTarget && 0 !== $newTarget.length) {\r\n                this.option(\"focusedElement\", (0, _dom.getPublicElement)($newTarget))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getItemsNavigationOperation\",\r\n        value: function(operation) {\r\n            var navOperation = operation;\r\n            if (this.option(\"rtlEnabled\")) {\r\n                navOperation = operation === PREVITEM_OPERATION ? NEXTITEM_OPERATION : PREVITEM_OPERATION\r\n            }\r\n            return navOperation\r\n        }\r\n    }, {\r\n        key: \"_getKeyboardNavigationAction\",\r\n        value: function(operation, argument) {\r\n            var action = _common.noop;\r\n            switch (operation) {\r\n                case SHOW_SUBMENU_OPERATION:\r\n                    if (!argument.hasClass(DX_STATE_DISABLED_CLASS)) {\r\n                        action = this._showSubmenu.bind(this, argument)\r\n                    }\r\n                    break;\r\n                case NEXTITEM_OPERATION:\r\n                    action = this._nextItem.bind(this, argument);\r\n                    break;\r\n                case PREVITEM_OPERATION:\r\n                    action = this._prevItem.bind(this, argument)\r\n            }\r\n            return action\r\n        }\r\n    }, {\r\n        key: \"_clean\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_clean\", this).call(this);\r\n            this.option(\"templatesRenderAsynchronously\") && clearTimeout(this._resizeEventTimer)\r\n        }\r\n    }, {\r\n        key: \"_visibilityChanged\",\r\n        value: function(visible) {\r\n            if (visible) {\r\n                if (!this._menuItemsWidth) {\r\n                    this._updateItemsWidthCache()\r\n                }\r\n                this._dimensionChanged()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isAdaptivityEnabled\",\r\n        value: function() {\r\n            return this.option(\"adaptivityEnabled\") && \"horizontal\" === this.option(\"orientation\")\r\n        }\r\n    }, {\r\n        key: \"_updateItemsWidthCache\",\r\n        value: function() {\r\n            var $menuItems = this.$element().find(\"ul\").first().children(\"li\").children(\".\".concat(DX_MENU_ITEM_CLASS));\r\n            this._menuItemsWidth = this._getSummaryItemsWidth($menuItems, true)\r\n        }\r\n    }, {\r\n        key: \"_dimensionChanged\",\r\n        value: function() {\r\n            if (!this._isAdaptivityEnabled()) {\r\n                return\r\n            }\r\n            var containerWidth = this.$element().outerWidth();\r\n            this._toggleAdaptiveMode(this._menuItemsWidth > containerWidth)\r\n        }\r\n    }, {\r\n        key: \"_init\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_init\", this).call(this);\r\n            this._submenus = []\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {\r\n            var _this = this;\r\n            this._actions = {};\r\n            (0, _iterator.each)(ACTIONS, function(index, action) {\r\n                _this._actions[action] = _this._createActionByOption(action)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            this._visibleSubmenu = null;\r\n            this.$element().addClass(DX_MENU_CLASS);\r\n            _get(_getPrototypeOf(Menu.prototype), \"_initMarkup\", this).call(this);\r\n            this.setAria(\"role\", \"menubar\")\r\n        }\r\n    }, {\r\n        key: \"_render\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_render\", this).call(this);\r\n            this._initAdaptivity()\r\n        }\r\n    }, {\r\n        key: \"_renderHamburgerButton\",\r\n        value: function() {\r\n            this._hamburger = new _button2.default((0, _renderer2.default)(\"<div>\").addClass(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS), {\r\n                icon: \"menu\",\r\n                activeStateEnabled: false,\r\n                onClick: this._toggleTreeView.bind(this)\r\n            });\r\n            return this._hamburger.$element()\r\n        }\r\n    }, {\r\n        key: \"_toggleTreeView\",\r\n        value: function(state) {\r\n            if ((0, _type.isPlainObject)(state)) {\r\n                state = !this._overlay.option(\"visible\")\r\n            }\r\n            this._overlay.option(\"visible\", state);\r\n            this._toggleHamburgerActiveState(state)\r\n        }\r\n    }, {\r\n        key: \"_toggleHamburgerActiveState\",\r\n        value: function(state) {\r\n            this._hamburger && this._hamburger.$element().toggleClass(DX_STATE_ACTIVE_CLASS, state)\r\n        }\r\n    }, {\r\n        key: \"_toggleAdaptiveMode\",\r\n        value: function(state) {\r\n            var $menuItemsContainer = this.$element().find(\".\".concat(DX_MENU_HORIZONTAL_CLASS));\r\n            var $adaptiveElements = this.$element().find(\".\".concat(DX_ADAPTIVE_MODE_CLASS));\r\n            if (state) {\r\n                this._hideVisibleSubmenu()\r\n            } else {\r\n                this._treeView && this._treeView.collapseAll();\r\n                this._overlay && this._toggleTreeView(state)\r\n            }\r\n            $menuItemsContainer.toggle(!state);\r\n            $adaptiveElements.toggle(state)\r\n        }\r\n    }, {\r\n        key: \"_removeAdaptivity\",\r\n        value: function() {\r\n            if (!this._$adaptiveContainer) {\r\n                return\r\n            }\r\n            this._toggleAdaptiveMode(false);\r\n            this._$adaptiveContainer.remove();\r\n            this._$adaptiveContainer = null;\r\n            this._treeView = null;\r\n            this._hamburger = null;\r\n            this._overlay = null\r\n        }\r\n    }, {\r\n        key: \"_treeviewItemClickHandler\",\r\n        value: function(e) {\r\n            this._actions.onItemClick(e);\r\n            if (!e.node.children.length) {\r\n                this._toggleTreeView(false)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getAdaptiveOverlayOptions\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            var rtl = this.option(\"rtlEnabled\");\r\n            var position = rtl ? \"right\" : \"left\";\r\n            return {\r\n                maxHeight: function() {\r\n                    return (0, _utils.getElementMaxHeightByWindow)(_this2.$element())\r\n                },\r\n                deferRendering: false,\r\n                shading: false,\r\n                animation: false,\r\n                closeOnTargetScroll: true,\r\n                onHidden: function() {\r\n                    _this2._toggleHamburgerActiveState(false)\r\n                },\r\n                height: \"auto\",\r\n                closeOnOutsideClick: function(e) {\r\n                    return !(0, _renderer2.default)(e.target).closest(\".\".concat(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS)).length\r\n                },\r\n                position: {\r\n                    collision: \"flipfit\",\r\n                    at: \"bottom \" + position,\r\n                    my: \"top \" + position,\r\n                    of: this._hamburger.$element()\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getTreeViewOptions\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            var menuOptions = {};\r\n            var optionsToTransfer = [\"rtlEnabled\", \"width\", \"accessKey\", \"activeStateEnabled\", \"animation\", \"dataSource\", \"disabled\", \"displayExpr\", \"displayExpr\", \"focusStateEnabled\", \"hint\", \"hoverStateEnabled\", \"itemsExpr\", \"items\", \"itemTemplate\", \"selectedExpr\", \"selectionMode\", \"tabIndex\", \"visible\"];\r\n            var actionsToTransfer = [\"onItemContextMenu\", \"onSelectionChanged\"];\r\n            (0, _iterator.each)(optionsToTransfer, function(_, option) {\r\n                menuOptions[option] = _this3.option(option)\r\n            });\r\n            (0, _iterator.each)(actionsToTransfer, function(_, actionName) {\r\n                menuOptions[actionName] = function(e) {\r\n                    _this3._actions[actionName](e)\r\n                }\r\n            });\r\n            return (0, _extend.extend)(menuOptions, {\r\n                dataSource: this.getDataSource(),\r\n                animationEnabled: !!this.option(\"animation\"),\r\n                onItemClick: this._treeviewItemClickHandler.bind(this),\r\n                onItemExpanded: function(e) {\r\n                    _this3._overlay.repaint();\r\n                    _this3._actions.onSubmenuShown(e)\r\n                },\r\n                onItemCollapsed: function(e) {\r\n                    _this3._overlay.repaint();\r\n                    _this3._actions.onSubmenuHidden(e)\r\n                },\r\n                selectNodesRecursive: false,\r\n                selectByClick: this.option(\"selectByClick\"),\r\n                expandEvent: \"click\"\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initAdaptivity\",\r\n        value: function() {\r\n            if (!this._isAdaptivityEnabled()) {\r\n                return\r\n            }\r\n            this._$adaptiveContainer = (0, _renderer2.default)(\"<div>\").addClass(DX_ADAPTIVE_MODE_CLASS);\r\n            var $hamburger = this._renderHamburgerButton();\r\n            this._treeView = this._createComponent((0, _renderer2.default)(\"<div>\"), _tree_view2.default, this._getTreeViewOptions());\r\n            this._overlay = this._createComponent((0, _renderer2.default)(\"<div>\"), _overlay2.default, this._getAdaptiveOverlayOptions());\r\n            this._overlay.$content().append(this._treeView.$element()).addClass(DX_ADAPTIVE_MODE_CLASS).addClass(this.option(\"cssClass\"));\r\n            this._overlay._wrapper().addClass(DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS);\r\n            this._$adaptiveContainer.append($hamburger);\r\n            this._$adaptiveContainer.append(this._overlay.$element());\r\n            this.$element().append(this._$adaptiveContainer);\r\n            this._updateItemsWidthCache();\r\n            this._dimensionChanged()\r\n        }\r\n    }, {\r\n        key: \"_getDelay\",\r\n        value: function(delayType) {\r\n            var delay = this.option(\"showFirstSubmenuMode\").delay;\r\n            if (!(0, _type.isDefined)(delay)) {\r\n                return DEFAULT_DELAY[delayType]\r\n            } else {\r\n                return (0, _type.isObject)(delay) ? delay[delayType] : delay\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_keyboardHandler\",\r\n        value: function(e) {\r\n            return this._visibleSubmenu ? true : _get(_getPrototypeOf(Menu.prototype), \"_keyboardHandler\", this).call(this, e)\r\n        }\r\n    }, {\r\n        key: \"_renderContainer\",\r\n        value: function() {\r\n            var $wrapper = (0, _renderer2.default)(\"<div>\");\r\n            $wrapper.appendTo(this.$element()).addClass(this._isMenuHorizontal() ? DX_MENU_HORIZONTAL_CLASS : DX_MENU_VERTICAL_CLASS);\r\n            return _get(_getPrototypeOf(Menu.prototype), \"_renderContainer\", this).call(this, $wrapper)\r\n        }\r\n    }, {\r\n        key: \"_renderSubmenuItems\",\r\n        value: function(node, $itemFrame) {\r\n            var submenu = this._createSubmenu(node, $itemFrame);\r\n            this._submenus.push(submenu);\r\n            this._renderBorderElement($itemFrame);\r\n            return submenu\r\n        }\r\n    }, {\r\n        key: \"_createSubmenu\",\r\n        value: function(node, $rootItem) {\r\n            var $submenuContainer = (0, _renderer2.default)(\"<div>\").addClass(DX_CONTEXT_MENU_CLASS).appendTo($rootItem);\r\n            var childKeyboardProcessor = this._keyboardProcessor && this._keyboardProcessor.attachChildProcessor();\r\n            var items = this._getChildNodes(node);\r\n            var result = this._createComponent($submenuContainer, _ui4.default, (0, _extend.extend)(this._getSubmenuOptions(), {\r\n                _keyboardProcessor: childKeyboardProcessor,\r\n                _dataAdapter: this._dataAdapter,\r\n                _parentKey: node.internalFields.key,\r\n                items: items,\r\n                onHoverStart: this._clearTimeouts.bind(this),\r\n                position: this.getSubmenuPosition($rootItem)\r\n            }));\r\n            this._attachSubmenuHandlers($rootItem, result);\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuOptions\",\r\n        value: function() {\r\n            var _this4 = this;\r\n            var $submenuTarget = (0, _renderer2.default)(\"<div>\");\r\n            var isMenuHorizontal = this._isMenuHorizontal();\r\n            return {\r\n                itemTemplate: this.option(\"itemTemplate\"),\r\n                target: $submenuTarget,\r\n                orientation: this.option(\"orientation\"),\r\n                selectionMode: this.option(\"selectionMode\"),\r\n                cssClass: this.option(\"cssClass\"),\r\n                selectByClick: this.option(\"selectByClick\"),\r\n                hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n                activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n                focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n                animation: this.option(\"animation\"),\r\n                showSubmenuMode: this.option(\"showSubmenuMode\"),\r\n                displayExpr: this.option(\"displayExpr\"),\r\n                disabledExpr: this.option(\"disabledExpr\"),\r\n                selectedExpr: this.option(\"selectedExpr\"),\r\n                itemsExpr: this.option(\"itemsExpr\"),\r\n                onFocusedItemChanged: function(e) {\r\n                    if (!e.component.option(\"visible\")) {\r\n                        return\r\n                    }\r\n                    _this4.option(\"focusedElement\", e.component.option(\"focusedElement\"))\r\n                },\r\n                onSelectionChanged: this._nestedItemOnSelectionChangedHandler.bind(this),\r\n                onItemClick: this._nestedItemOnItemClickHandler.bind(this),\r\n                onItemRendered: this.option(\"onItemRendered\"),\r\n                onLeftFirstItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, PREVITEM_OPERATION),\r\n                onLeftLastItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION),\r\n                onCloseRootSubmenu: this._moveMainMenuFocus.bind(this, isMenuHorizontal ? PREVITEM_OPERATION : null),\r\n                onExpandLastSubmenu: isMenuHorizontal ? this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION) : null\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getShowFirstSubmenuMode\",\r\n        value: function() {\r\n            if (!this._isDesktopDevice()) {\r\n                return \"onClick\"\r\n            }\r\n            var optionValue = this.option(\"showFirstSubmenuMode\");\r\n            return (0, _type.isObject)(optionValue) ? optionValue.name : optionValue\r\n        }\r\n    }, {\r\n        key: \"_moveMainMenuFocus\",\r\n        value: function(direction) {\r\n            var $items = this._getAvailableItems();\r\n            var itemCount = $items.length;\r\n            var $currentItem = $items.filter(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).eq(0);\r\n            var itemIndex = $items.index($currentItem);\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            itemIndex += direction === PREVITEM_OPERATION ? -1 : 1;\r\n            if (itemIndex >= itemCount) {\r\n                itemIndex = 0\r\n            } else {\r\n                if (itemIndex < 0) {\r\n                    itemIndex = itemCount - 1\r\n                }\r\n            }\r\n            var $newItem = $items.eq(itemIndex);\r\n            this.option(\"focusedElement\", (0, _dom.getPublicElement)($newItem))\r\n        }\r\n    }, {\r\n        key: \"_nestedItemOnSelectionChangedHandler\",\r\n        value: function(args) {\r\n            var selectedItem = args.addedItems.length && args.addedItems[0];\r\n            var submenu = _ui4.default.getInstance(args.element);\r\n            var onSelectionChanged = this._actions.onSelectionChanged;\r\n            onSelectionChanged(args);\r\n            selectedItem && this._clearSelectionInSubmenus(selectedItem[0], submenu);\r\n            this._clearRootSelection();\r\n            this._setOptionSilent(\"selectedItem\", selectedItem)\r\n        }\r\n    }, {\r\n        key: \"_clearSelectionInSubmenus\",\r\n        value: function(item, targetSubmenu) {\r\n            var _this5 = this;\r\n            var cleanAllSubmenus = !arguments.length;\r\n            (0, _iterator.each)(this._submenus, function(index, submenu) {\r\n                var $submenu = submenu._itemContainer();\r\n                var isOtherItem = !$submenu.is(targetSubmenu && targetSubmenu._itemContainer());\r\n                var $selectedItem = $submenu.find(\".\".concat(_this5._selectedItemClass()));\r\n                if (isOtherItem && $selectedItem.length || cleanAllSubmenus) {\r\n                    $selectedItem.removeClass(_this5._selectedItemClass());\r\n                    var selectedItemData = _this5._getItemData($selectedItem);\r\n                    if (selectedItemData) {\r\n                        selectedItemData.selected = false\r\n                    }\r\n                    submenu._clearSelectedItems()\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_clearRootSelection\",\r\n        value: function() {\r\n            var $prevSelectedItem = this.$element().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).first().children().children().filter(\".\".concat(this._selectedItemClass()));\r\n            if ($prevSelectedItem.length) {\r\n                var prevSelectedItemData;\r\n                prevSelectedItemData = this._getItemData($prevSelectedItem);\r\n                prevSelectedItemData.selected = false;\r\n                $prevSelectedItem.removeClass(this._selectedItemClass())\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_nestedItemOnItemClickHandler\",\r\n        value: function(e) {\r\n            this._actions.onItemClick(e)\r\n        }\r\n    }, {\r\n        key: \"_attachSubmenuHandlers\",\r\n        value: function($rootItem, submenu) {\r\n            var _this6 = this;\r\n            var $submenuOverlayContent = submenu.getOverlayContent();\r\n            var submenus = $submenuOverlayContent.find(\".\".concat(DX_SUBMENU_CLASS));\r\n            var submenuMouseLeaveName = (0, _utils2.addNamespace)(_hover2.default.end, this.NAME + \"_submenu\");\r\n            submenu.option({\r\n                onShowing: this._submenuOnShowingHandler.bind(this, $rootItem, submenu),\r\n                onShown: this._submenuOnShownHandler.bind(this, $rootItem, submenu),\r\n                onHiding: this._submenuOnHidingHandler.bind(this, $rootItem, submenu),\r\n                onHidden: this._submenuOnHiddenHandler.bind(this, $rootItem, submenu)\r\n            });\r\n            (0, _iterator.each)(submenus, function(index, submenu) {\r\n                _events_engine2.default.off(submenu, submenuMouseLeaveName);\r\n                _events_engine2.default.on(submenu, submenuMouseLeaveName, null, _this6._submenuMouseLeaveHandler.bind(_this6, $rootItem))\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuOnShowingHandler\",\r\n        value: function($rootItem, submenu) {\r\n            var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n            this._actions.onSubmenuShowing({\r\n                rootItem: (0, _dom.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            });\r\n            $border.show();\r\n            $rootItem.addClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_submenuOnShownHandler\",\r\n        value: function($rootItem, submenu) {\r\n            this._actions.onSubmenuShown({\r\n                rootItem: (0, _dom.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuOnHidingHandler\",\r\n        value: function($rootItem, submenu, eventArgs) {\r\n            var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n            var args = eventArgs;\r\n            args.rootItem = (0, _dom.getPublicElement)($rootItem);\r\n            args.submenu = submenu;\r\n            this._actions.onSubmenuHiding(args);\r\n            eventArgs = args;\r\n            if (!eventArgs.cancel) {\r\n                if (this._visibleSubmenu === submenu) {\r\n                    this._visibleSubmenu = null\r\n                }\r\n                $border.hide();\r\n                $rootItem.removeClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_submenuOnHiddenHandler\",\r\n        value: function($rootItem, submenu) {\r\n            this._actions.onSubmenuHidden({\r\n                rootItem: (0, _dom.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuMouseLeaveHandler\",\r\n        value: function($rootItem, eventArgs) {\r\n            var target = (0, _renderer2.default)(eventArgs.relatedTarget).parents(\".\".concat(DX_CONTEXT_MENU_CLASS))[0];\r\n            var contextMenu = this._getSubmenuByRootElement($rootItem).getOverlayContent()[0];\r\n            if (this.option(\"hideSubmenuOnMouseLeave\") && target !== contextMenu) {\r\n                this._clearTimeouts();\r\n                setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenuAfterTimeout\",\r\n        value: function() {\r\n            if (!this._visibleSubmenu) {\r\n                return\r\n            }\r\n            var isRootItemHovered = (0, _renderer2.default)(this._visibleSubmenu.$element().context).hasClass(DX_STATE_HOVER_CLASS);\r\n            var isSubmenuItemHovered = this._visibleSubmenu.getOverlayContent().find(\".\".concat(DX_STATE_HOVER_CLASS)).length;\r\n            var hoveredElementFromSubMenu = this._visibleSubmenu.getOverlayContent().get(0).querySelector(\":hover\");\r\n            if (!hoveredElementFromSubMenu && !isSubmenuItemHovered && !isRootItemHovered) {\r\n                this._visibleSubmenu.hide()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuByRootElement\",\r\n        value: function($rootItem) {\r\n            if (!$rootItem) {\r\n                return false\r\n            }\r\n            var $submenu = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CLASS));\r\n            return $submenu.length && _ui4.default.getInstance($submenu)\r\n        }\r\n    }, {\r\n        key: \"getSubmenuPosition\",\r\n        value: function($rootItem) {\r\n            var isHorizontalMenu = this._isMenuHorizontal();\r\n            var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            var submenuPosition = {\r\n                collision: \"flip\",\r\n                of: $rootItem\r\n            };\r\n            switch (submenuDirection) {\r\n                case \"leftortop\":\r\n                    submenuPosition.at = \"left top\";\r\n                    submenuPosition.my = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                    break;\r\n                case \"rightorbottom\":\r\n                    submenuPosition.at = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                    submenuPosition.my = \"left top\";\r\n                    break;\r\n                default:\r\n                    if (isHorizontalMenu) {\r\n                        submenuPosition.at = rtlEnabled ? \"right bottom\" : \"left bottom\";\r\n                        submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                    } else {\r\n                        submenuPosition.at = rtlEnabled ? \"left top\" : \"right top\";\r\n                        submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                    }\r\n            }\r\n            return submenuPosition\r\n        }\r\n    }, {\r\n        key: \"_renderBorderElement\",\r\n        value: function($item) {\r\n            (0, _renderer2.default)(\"<div>\").appendTo($item).addClass(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS).hide()\r\n        }\r\n    }, {\r\n        key: \"_itemPointerDownHandler\",\r\n        value: function(e) {\r\n            var $target = (0, _renderer2.default)(e.target);\r\n            var $closestItem = $target.closest(this._itemElements());\r\n            if ($closestItem.hasClass(\"dx-menu-item-has-submenu\")) {\r\n                this.option(\"focusedElement\", null);\r\n                return\r\n            }\r\n            _get(_getPrototypeOf(Menu.prototype), \"_itemPointerDownHandler\", this).call(this, e)\r\n        }\r\n    }, {\r\n        key: \"_hoverStartHandler\",\r\n        value: function(e) {\r\n            var mouseMoveEventName = (0, _utils2.addNamespace)(_pointer2.default.move, this.NAME);\r\n            var $item = this._getItemElementByEventArgs(e);\r\n            var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\r\n            var isSelectionActive = (0, _type.isDefined)(e.buttons) && 1 === e.buttons || !(0, _type.isDefined)(e.buttons) && 1 === e.which;\r\n            if (this._isItemDisabled($item)) {\r\n                return\r\n            }\r\n            _events_engine2.default.off($item, mouseMoveEventName);\r\n            if (!this._hasChildren(node)) {\r\n                this._showSubmenuTimer = setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\r\n                return\r\n            }\r\n            if (\"onHover\" === this._getShowFirstSubmenuMode() && !isSelectionActive) {\r\n                var submenu = this._getSubmenuByElement($item);\r\n                this._clearTimeouts();\r\n                if (!submenu.isOverlayVisible()) {\r\n                    _events_engine2.default.on($item, mouseMoveEventName, this._itemMouseMoveHandler.bind(this));\r\n                    this._showSubmenuTimer = this._getDelay(\"hide\")\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hoverEndHandler\",\r\n        value: function(eventArg) {\r\n            var _this7 = this;\r\n            var $item = this._getItemElementByEventArgs(eventArg);\r\n            var relatedTarget = (0, _renderer2.default)(eventArg.relatedTarget);\r\n            _get(_getPrototypeOf(Menu.prototype), \"_hoverEndHandler\", this).call(this, eventArg);\r\n            this._clearTimeouts();\r\n            if (this._isItemDisabled($item)) {\r\n                return\r\n            }\r\n            if (relatedTarget.hasClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)) {\r\n                return\r\n            }\r\n            if (this.option(\"hideSubmenuOnMouseLeave\") && !relatedTarget.hasClass(DX_MENU_ITEMS_CONTAINER_CLASS)) {\r\n                this._hideSubmenuTimer = setTimeout(function() {\r\n                    _this7._hideSubmenuAfterTimeout()\r\n                }, this._getDelay(\"hide\"))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideVisibleSubmenu\",\r\n        value: function() {\r\n            if (!this._visibleSubmenu) {\r\n                return false\r\n            }\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_showSubmenu\",\r\n        value: function($itemElement) {\r\n            var submenu = this._getSubmenuByElement($itemElement);\r\n            if (this._visibleSubmenu !== submenu) {\r\n                this._hideVisibleSubmenu()\r\n            }\r\n            if (submenu) {\r\n                submenu.show();\r\n                this.option(\"focusedElement\", submenu.option(\"focusedElement\"))\r\n            }\r\n            this._visibleSubmenu = submenu;\r\n            this._hoveredRootItem = $itemElement\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenu\",\r\n        value: function(submenu) {\r\n            submenu && submenu.hide();\r\n            if (this._visibleSubmenu === submenu) {\r\n                this._visibleSubmenu = null\r\n            }\r\n            this._hoveredRootItem = null\r\n        }\r\n    }, {\r\n        key: \"_itemMouseMoveHandler\",\r\n        value: function(e) {\r\n            var _this8 = this;\r\n            if (e.pointers && e.pointers.length) {\r\n                return\r\n            }\r\n            var $item = (0, _renderer2.default)(e.currentTarget);\r\n            if (!(0, _type.isDefined)(this._showSubmenuTimer)) {\r\n                return\r\n            }\r\n            this._clearTimeouts();\r\n            this._showSubmenuTimer = setTimeout(function() {\r\n                var submenu = _this8._getSubmenuByElement($item);\r\n                if (submenu && !submenu.isOverlayVisible()) {\r\n                    _this8._showSubmenu($item)\r\n                }\r\n            }, this._getDelay(\"show\"))\r\n        }\r\n    }, {\r\n        key: \"_clearTimeouts\",\r\n        value: function() {\r\n            clearTimeout(this._hideSubmenuTimer);\r\n            clearTimeout(this._showSubmenuTimer)\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuByElement\",\r\n        value: function($itemElement, itemData) {\r\n            var submenu = this._getSubmenuByRootElement($itemElement);\r\n            if (submenu) {\r\n                return submenu\r\n            } else {\r\n                itemData = itemData || this._getItemData($itemElement);\r\n                var node = this._dataAdapter.getNodeByItem(itemData);\r\n                return this._hasChildren(node) && this._renderSubmenuItems(node, $itemElement)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_updateSubmenuVisibilityOnClick\",\r\n        value: function(actionArgs) {\r\n            var args = actionArgs.args.length && actionArgs.args[0];\r\n            if (!args || this._disabledGetter(args.itemData)) {\r\n                return\r\n            }\r\n            var $itemElement = (0, _renderer2.default)(args.itemElement);\r\n            var currentSubmenu = this._getSubmenuByElement($itemElement, args.itemData);\r\n            this._updateSelectedItemOnClick(actionArgs);\r\n            if (this._visibleSubmenu) {\r\n                if (this._visibleSubmenu === currentSubmenu) {\r\n                    if (\"onClick\" === this.option(\"showFirstSubmenuMode\")) {\r\n                        this._hideSubmenu(this._visibleSubmenu)\r\n                    }\r\n                    return\r\n                } else {\r\n                    this._hideSubmenu(this._visibleSubmenu)\r\n                }\r\n            }\r\n            if (!currentSubmenu) {\r\n                return\r\n            }\r\n            if (!currentSubmenu.isOverlayVisible()) {\r\n                this._showSubmenu($itemElement);\r\n                return\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            switch (args.name) {\r\n                case \"orientation\":\r\n                case \"submenuDirection\":\r\n                    this._invalidate();\r\n                    break;\r\n                case \"showFirstSubmenuMode\":\r\n                case \"hideSubmenuOnMouseLeave\":\r\n                    break;\r\n                case \"showSubmenuMode\":\r\n                    this._changeSubmenusOption(args.name, args.value);\r\n                    break;\r\n                case \"onSubmenuShowing\":\r\n                case \"onSubmenuShown\":\r\n                case \"onSubmenuHiding\":\r\n                case \"onSubmenuHidden\":\r\n                    this._initActions();\r\n                    break;\r\n                case \"adaptivityEnabled\":\r\n                    args.value ? this._initAdaptivity() : this._removeAdaptivity();\r\n                    break;\r\n                case \"width\":\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(args.name, args.value);\r\n                        this._overlay.option(args.name, args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\r\n                    this._dimensionChanged();\r\n                    break;\r\n                case \"animation\":\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(\"animationEnabled\", !!args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\r\n                    break;\r\n                default:\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(args.name, args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_changeSubmenusOption\",\r\n        value: function(name, value) {\r\n            (0, _iterator.each)(this._submenus, function(index, submenu) {\r\n                submenu.option(name, value)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"selectItem\",\r\n        value: function(itemElement) {\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement)\r\n        }\r\n    }, {\r\n        key: \"unselectItem\",\r\n        value: function(itemElement) {\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement)\r\n        }\r\n    }]);\r\n    return Menu\r\n}(_ui2.default);\r\n(0, _component_registrator2.default)(\"dxMenu\", Menu);\r\nmodule.exports = Menu;\r\n"]},"metadata":{},"sourceType":"script"}