{"ast":null,"code":"import { __extends } from 'tslib';\nimport { queueScheduler, BehaviorSubject, Observable } from 'rxjs';\nimport { observeOn, scan, map, distinctUntilChanged } from 'rxjs/operators';\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @template T\r\n */\n\nvar\n/**\r\n* @template T\r\n*/\nMiniState =\n/** @class */\nfunction (_super) {\n  __extends(MiniState, _super);\n\n  function MiniState(_initialState, actionsDispatcher$, reducer) {\n    var _this = _super.call(this, _initialState) || this;\n    /** @type {?} */\n\n\n    var actionInQueue$ = actionsDispatcher$.pipe(observeOn(queueScheduler));\n    /** @type {?} */\n\n    var state$ = actionInQueue$.pipe(scan(\n    /**\r\n    * @param {?} state\r\n    * @param {?} action\r\n    * @return {?}\r\n    */\n    function (state, action) {\n      if (!action) {\n        return state;\n      }\n\n      return reducer(state, action);\n    }, _initialState));\n    state$.subscribe(\n    /**\r\n    * @param {?} value\r\n    * @return {?}\r\n    */\n    function (value) {\n      return _this.next(value);\n    });\n    return _this;\n  }\n\n  return MiniState;\n}(BehaviorSubject);\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @template T\r\n */\n\n\nvar\n/**\r\n* @template T\r\n*/\nMiniStore =\n/** @class */\nfunction (_super) {\n  __extends(MiniStore, _super);\n\n  function MiniStore(_dispatcher, _reducer,\n  /* tslint:disable-next-line: no-any */\n  state$) {\n    var _this = _super.call(this) || this;\n\n    _this._dispatcher = _dispatcher;\n    _this._reducer = _reducer;\n    /* tslint:disable-next-line: deprecation */\n\n    _this.source = state$;\n    return _this;\n  }\n  /**\r\n   * @template R\r\n   * @param {?} pathOrMapFn\r\n   * @return {?}\r\n   */\n\n\n  MiniStore.prototype.select =\n  /**\r\n  * @template R\r\n  * @param {?} pathOrMapFn\r\n  * @return {?}\r\n  */\n  function (pathOrMapFn) {\n    /* tslint:disable-next-line: deprecation */\n\n    /** @type {?} */\n    var mapped$ = this.source.pipe(map(pathOrMapFn));\n    return mapped$.pipe(distinctUntilChanged());\n  };\n  /**\r\n   * @template R\r\n   * @param {?} operator\r\n   * @return {?}\r\n   */\n\n\n  MiniStore.prototype.lift =\n  /**\r\n  * @template R\r\n  * @param {?} operator\r\n  * @return {?}\r\n  */\n  function (operator) {\n    /** @type {?} */\n    var store = new MiniStore(this._dispatcher, this._reducer, this);\n    /* tslint:disable-next-line: deprecation */\n\n    store.operator = operator;\n    return store;\n  };\n  /**\r\n   * @param {?} action\r\n   * @return {?}\r\n   */\n\n\n  MiniStore.prototype.dispatch =\n  /**\r\n  * @param {?} action\r\n  * @return {?}\r\n  */\n  function (action) {\n    this._dispatcher.next(action);\n  };\n  /**\r\n   * @param {?} action\r\n   * @return {?}\r\n   */\n\n\n  MiniStore.prototype.next =\n  /**\r\n  * @param {?} action\r\n  * @return {?}\r\n  */\n  function (action) {\n    this._dispatcher.next(action);\n  };\n  /* tslint:disable-next-line: no-any */\n\n  /* tslint:disable-next-line: no-any */\n\n  /**\r\n   * @param {?} err\r\n   * @return {?}\r\n   */\n\n\n  MiniStore.prototype.error =\n  /* tslint:disable-next-line: no-any */\n\n  /**\r\n   * @param {?} err\r\n   * @return {?}\r\n   */\n  function (err) {\n    this._dispatcher.error(err);\n  };\n  /**\r\n   * @return {?}\r\n   */\n\n\n  MiniStore.prototype.complete =\n  /**\r\n  * @return {?}\r\n  */\n  function () {\n    /*noop*/\n  };\n\n  return MiniStore;\n}(Observable);\n\nexport { MiniState, MiniStore };","map":null,"metadata":{},"sourceType":"module"}