{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/workspaces/ui.scheduler.work_space_work_week.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar registerComponent = require(\"../../../core/component_registrator\");\n\nvar dateUtils = require(\"../../../core/utils/date\");\n\nvar toMs = dateUtils.dateToMilliseconds;\n\nvar SchedulerWorkSpaceWeek = require(\"./ui.scheduler.work_space_week\");\n\nvar dateLocalization = require(\"../../../localization/date\");\n\nvar WORK_WEEK_CLASS = \"dx-scheduler-work-space-work-week\";\nvar dayIndexes = [1, 2, 3, 4, 5];\nvar weekCounter = 0;\nvar SchedulerWorkSpaceWorkWeek = SchedulerWorkSpaceWeek.inherit({\n  _getElementClass: function _getElementClass() {\n    return WORK_WEEK_CLASS;\n  },\n  _getCellCount: function _getCellCount() {\n    return 5 * this.option(\"intervalCount\");\n  },\n  _firstDayOfWeek: function _firstDayOfWeek() {\n    return this.option(\"firstDayOfWeek\") || 1;\n  },\n  _getDateByIndex: function _getDateByIndex(headerIndex) {\n    var resultDate = new Date(this._firstViewDate);\n\n    if (headerIndex % this._getCellCount() === 0) {\n      weekCounter = 0;\n    }\n\n    resultDate.setDate(this._firstViewDate.getDate() + headerIndex + weekCounter);\n    var index = resultDate.getDay();\n\n    while (dayIndexes.indexOf(index) === -1) {\n      resultDate.setDate(resultDate.getDate() + 1);\n      index = resultDate.getDay();\n      weekCounter++;\n    }\n\n    return resultDate;\n  },\n  _renderView: function _renderView() {\n    weekCounter = 0;\n    this.callBase();\n  },\n  _getWeekendsCount: function _getWeekendsCount(days) {\n    return 2 * Math.floor(days / 7);\n  },\n  _setFirstViewDate: function _setFirstViewDate() {\n    this._firstViewDate = dateUtils.getFirstWeekDate(this._getViewStartByOptions(), this._firstDayOfWeek() || dateLocalization.firstDayOfWeekIndex());\n    this._firstViewDate = dateUtils.normalizeDateByWeek(this._firstViewDate, this._getViewStartByOptions());\n\n    this._setStartDayHour(this._firstViewDate);\n  },\n  _getOffsetByCount: function _getOffsetByCount(cellIndex) {\n    var cellsInGroup = this._getCellCount();\n\n    var inGroup = Math.floor(cellIndex / cellsInGroup);\n    cellIndex -= cellsInGroup * inGroup;\n    var weekendCount = Math.floor(cellIndex / 5);\n    return toMs(\"day\") * weekendCount * 2;\n  }\n});\nregisterComponent(\"dxSchedulerWorkSpaceWorkWeek\", SchedulerWorkSpaceWorkWeek);\nmodule.exports = SchedulerWorkSpaceWorkWeek;","map":null,"metadata":{},"sourceType":"script"}