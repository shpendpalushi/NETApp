{"ast":null,"code":"/**\r\n * DevExtreme (ui/pivot_grid/ui.pivot_grid.field_chooser.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _icon = require(\"../../core/utils/icon\");\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _array = require(\"../../core/utils/array\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _message = require(\"../../localization/message\");\n\nvar _component_registrator = require(\"../../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _uiPivot_grid = require(\"./ui.pivot_grid.utils\");\n\nvar _tree_view = require(\"../tree_view\");\n\nvar _tree_view2 = _interopRequireDefault(_tree_view);\n\nvar _context_menu = require(\"../context_menu\");\n\nvar _context_menu2 = _interopRequireDefault(_context_menu);\n\nvar _uiPivot_grid2 = require(\"./ui.pivot_grid.field_chooser_base\");\n\nvar _uiPivot_grid3 = _interopRequireDefault(_uiPivot_grid2);\n\nrequire(\"./data_source\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar DIV = \"<div>\";\nvar hasWindow = (0, _window.hasWindow)();\nvar FIELDCHOOSER_CLASS = \"dx-pivotgridfieldchooser\";\nvar FIELDCHOOSER_CONTAINER_CLASS = \"dx-pivotgridfieldchooser-container\";\nvar FIELDS_CONTAINER_CLASS = \"dx-pivotgrid-fields-container\";\nvar AREA_DRAG_CLASS = \"dx-pivotgrid-drag-action\";\n\nfunction getDimensionFields(item, fields) {\n  var result = [];\n\n  if (item.items) {\n    for (var i = 0; i < item.items.length; i++) {\n      result.push.apply(result, getDimensionFields(item.items[i], fields));\n    }\n  } else {\n    if ((0, _type.isDefined)(item.index)) {\n      result.push(fields[item.index]);\n    }\n  }\n\n  return result;\n}\n\nfunction getFirstItem(item, condition) {\n  if (item.items) {\n    for (var i = 0; i < item.items.length; i++) {\n      var childrenItem = getFirstItem(item.items[i], condition);\n\n      if (childrenItem) {\n        return childrenItem;\n      }\n    }\n  }\n\n  if (condition(item)) {\n    return item;\n  }\n}\n\nvar compareOrder = [function (a, b) {\n  var aValue = -!!a.isMeasure;\n  var bValue = +!!b.isMeasure;\n  return aValue + bValue;\n}, function (a, b) {\n  var aValue = -!!(a.items && a.items.length);\n  var bValue = +!!(b.items && b.items.length);\n  return aValue + bValue;\n}, function (a, b) {\n  var aValue = +!!(false === a.isMeasure && a.field && a.field.levels && a.field.levels.length);\n  var bValue = -!!(false === b.isMeasure && b.field && b.field.levels && b.field.levels.length);\n  return aValue + bValue;\n}, (0, _uiPivot_grid.getCompareFunction)(function (item) {\n  return item.text;\n})];\n\nfunction compareItems(a, b) {\n  var result = 0;\n  var i = 0;\n\n  while (!result && compareOrder[i]) {\n    result = compareOrder[i++](a, b);\n  }\n\n  return result;\n}\n\nfunction getScrollable(container) {\n  return container.find(\".dx-scrollable\").dxScrollable(\"instance\");\n}\n\nvar FieldChooser = _uiPivot_grid3.default.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      height: 400,\n      layout: 0,\n      dataSource: null,\n      onContextMenuPreparing: null,\n      allowSearch: false,\n      searchTimeout: 500,\n      texts: {\n        columnFields: (0, _message.format)(\"dxPivotGrid-columnFields\"),\n        rowFields: (0, _message.format)(\"dxPivotGrid-rowFields\"),\n        dataFields: (0, _message.format)(\"dxPivotGrid-dataFields\"),\n        filterFields: (0, _message.format)(\"dxPivotGrid-filterFields\"),\n        allFields: (0, _message.format)(\"dxPivotGrid-allFields\")\n      }\n    });\n  },\n  _refreshDataSource: function _refreshDataSource() {\n    var that = this;\n    that._expandedPaths = [];\n\n    that._changedHandler = that._changedHandler || function () {\n      (0, _iterator.each)(that._dataChangedHandlers, function (_, func) {\n        func();\n      });\n\n      that._fireContentReadyAction();\n\n      that._skipStateChange = true;\n      that.option(\"state\", that._dataSource.state());\n      that._skipStateChange = false;\n    };\n\n    that._disposeDataSource();\n\n    that.callBase();\n    that._dataSource && that._dataSource.on(\"changed\", that._changedHandler);\n  },\n  _disposeDataSource: function _disposeDataSource() {\n    var that = this;\n    var dataSource = that._dataSource;\n\n    if (dataSource) {\n      dataSource.off(\"changed\", that._changedHandler);\n      that._dataSource = void 0;\n    }\n  },\n  _dispose: function _dispose() {\n    this._disposeDataSource();\n\n    this.callBase.apply(this, arguments);\n  },\n  _init: function _init() {\n    this.callBase();\n\n    this._refreshDataSource();\n\n    this._dataChangedHandlers = [];\n\n    this._initActions();\n  },\n  _initActions: function _initActions() {\n    this._actions = {\n      onContextMenuPreparing: this._createActionByOption(\"onContextMenuPreparing\")\n    };\n  },\n  _trigger: function _trigger(eventName, eventArg) {\n    this._actions[eventName](eventArg);\n  },\n  _setOptionsByReference: function _setOptionsByReference() {\n    this.callBase();\n    (0, _extend.extend)(this._optionsByReference, {\n      dataSource: true\n    });\n  },\n  _optionChanged: function _optionChanged(args) {\n    var that = this;\n\n    switch (args.name) {\n      case \"dataSource\":\n        that._refreshDataSource();\n\n        that._invalidate();\n\n        break;\n\n      case \"layout\":\n      case \"texts\":\n      case \"allowSearch\":\n      case \"searchTimeout\":\n        that._invalidate();\n\n        break;\n\n      case \"onContextMenuPreparing\":\n        that._actions[args.name] = that._createActionByOption(args.name);\n        break;\n\n      default:\n        that.callBase(args);\n    }\n  },\n  _clean: function _clean(skipStateSetting) {\n    !skipStateSetting && this._dataSource && this.option(\"state\", this._dataSource.state());\n    this.$element().children(\".\" + FIELDCHOOSER_CONTAINER_CLASS).remove();\n  },\n  _renderLayout0: function _renderLayout0($container) {\n    var that = this;\n    $container.addClass(\"dx-layout-0\");\n    var $row1 = (0, _renderer2.default)(DIV).addClass(\"dx-row\").appendTo($container);\n    var $row2 = (0, _renderer2.default)(DIV).addClass(\"dx-row\").appendTo($container);\n    var $col1 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row1);\n    var $col2 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row1);\n    var $col3 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row2);\n    var $col4 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row2);\n\n    that._renderArea($col1, \"all\");\n\n    that._renderArea($col2, \"row\");\n\n    that._renderArea($col2, \"column\");\n\n    that._renderArea($col3, \"filter\");\n\n    that._renderArea($col4, \"data\");\n  },\n  _renderLayout1: function _renderLayout1($container) {\n    var that = this;\n    var $col1 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($container);\n    var $col2 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($container);\n\n    that._renderArea($col1, \"all\");\n\n    that._renderArea($col2, \"filter\");\n\n    that._renderArea($col2, \"row\");\n\n    that._renderArea($col2, \"column\");\n\n    that._renderArea($col2, \"data\");\n  },\n  _renderLayout2: function _renderLayout2($container) {\n    var that = this;\n    $container.addClass(\"dx-layout-2\");\n    var $row1 = (0, _renderer2.default)(DIV).addClass(\"dx-row\").appendTo($container);\n\n    that._renderArea($row1, \"all\");\n\n    var $row2 = (0, _renderer2.default)(DIV).addClass(\"dx-row\").appendTo($container);\n    var $col1 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row2);\n    var $col2 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row2);\n\n    that._renderArea($col1, \"filter\");\n\n    that._renderArea($col1, \"row\");\n\n    that._renderArea($col2, \"column\");\n\n    that._renderArea($col2, \"data\");\n  },\n  _initMarkup: function _initMarkup() {\n    var that = this;\n    var $element = this.$element();\n    var $container = (0, _renderer2.default)(DIV).addClass(FIELDCHOOSER_CONTAINER_CLASS).appendTo($element);\n    var layout = that.option(\"layout\");\n    that.callBase();\n    $element.addClass(FIELDCHOOSER_CLASS).addClass(FIELDS_CONTAINER_CLASS);\n    that._dataChangedHandlers = [];\n    var dataSource = this._dataSource;\n    var currentState = \"instantly\" !== that.option(\"applyChangesMode\") && dataSource && dataSource.state();\n    currentState && that.option(\"state\") && dataSource.state(that.option(\"state\"), true);\n\n    if (0 === layout) {\n      that._renderLayout0($container);\n    } else {\n      if (1 === layout) {\n        that._renderLayout1($container);\n      } else {\n        that._renderLayout2($container);\n      }\n    }\n\n    currentState && dataSource.state(currentState, true);\n  },\n  _renderContentImpl: function _renderContentImpl() {\n    this.callBase();\n    this.renderSortable();\n\n    this._renderContextMenu();\n\n    this.updateDimensions();\n  },\n  _fireContentReadyAction: function _fireContentReadyAction() {\n    if (!this._dataSource || !this._dataSource.isLoading()) {\n      this.callBase();\n    }\n  },\n  _getContextMenuArgs: function _getContextMenuArgs(dxEvent) {\n    var targetFieldElement = (0, _renderer2.default)(dxEvent.target).closest(\".dx-area-field\");\n    var targetGroupElement = (0, _renderer2.default)(dxEvent.target).closest(\".dx-area-fields\");\n    var field;\n    var area;\n\n    if (targetFieldElement.length) {\n      var fieldCopy = targetFieldElement.data(\"field\");\n\n      if (fieldCopy) {\n        field = this.getDataSource().field(fieldCopy.index) || fieldCopy;\n      }\n    }\n\n    if (targetGroupElement.length) {\n      area = targetGroupElement.attr(\"group\");\n    }\n\n    return {\n      event: dxEvent,\n      field: field,\n      area: area,\n      items: []\n    };\n  },\n  _renderContextMenu: function _renderContextMenu() {\n    var that = this;\n    var $container = that.$element();\n\n    if (that._contextMenu) {\n      that._contextMenu.$element().remove();\n    }\n\n    that._contextMenu = that._createComponent((0, _renderer2.default)(DIV).appendTo($container), _context_menu2.default, {\n      onPositioning: function onPositioning(actionArgs) {\n        var event = actionArgs.event;\n\n        if (!event) {\n          return;\n        }\n\n        var args = that._getContextMenuArgs(event);\n\n        that._trigger(\"onContextMenuPreparing\", args);\n\n        if (args.items && args.items.length) {\n          actionArgs.component.option(\"items\", args.items);\n        } else {\n          actionArgs.cancel = true;\n        }\n      },\n      target: $container,\n      onItemClick: function onItemClick(params) {\n        params.itemData.onItemClick && params.itemData.onItemClick(params);\n      },\n      cssClass: \"dx-pivotgridfieldchooser-context-menu\"\n    });\n  },\n  _createTreeItems: function _createTreeItems(fields, groupFieldNames, path) {\n    var that = this;\n    var isMeasure;\n    var resultItems = [];\n    var groupedItems = [];\n    var groupFieldName = groupFieldNames[0];\n    var fieldsByGroup = {};\n\n    if (!groupFieldName) {\n      (0, _iterator.each)(fields, function (index, field) {\n        var icon;\n\n        if (true === field.isMeasure) {\n          icon = \"measure\";\n        }\n\n        if (false === field.isMeasure) {\n          icon = field.groupName ? \"hierarchy\" : \"dimension\";\n        }\n\n        resultItems.push({\n          index: field.index,\n          field: field,\n          key: field.dataField,\n          selected: (0, _type.isDefined)(field.area),\n          text: field.caption || field.dataField,\n          icon: icon,\n          isMeasure: field.isMeasure,\n          isDefault: field.isDefault\n        });\n      });\n    } else {\n      (0, _iterator.each)(fields, function (index, field) {\n        var groupName = field[groupFieldName] || \"\";\n        fieldsByGroup[groupName] = fieldsByGroup[groupName] || [];\n        fieldsByGroup[groupName].push(field);\n\n        if (void 0 === isMeasure) {\n          isMeasure = true;\n        }\n\n        isMeasure = isMeasure && true === field.isMeasure;\n      });\n      (0, _iterator.each)(fieldsByGroup, function (groupName, fields) {\n        var currentPath = path ? path + \".\" + groupName : groupName;\n\n        var items = that._createTreeItems(fields, groupFieldNames.slice(1), currentPath);\n\n        if (groupName) {\n          groupedItems.push({\n            key: groupName,\n            text: groupName,\n            path: currentPath,\n            isMeasure: items.isMeasure,\n            expanded: (0, _array.inArray)(currentPath, that._expandedPaths) >= 0,\n            items: items\n          });\n        } else {\n          resultItems = items;\n        }\n      });\n      resultItems = groupedItems.concat(resultItems);\n      resultItems.isMeasure = isMeasure;\n    }\n\n    return resultItems;\n  },\n  _createFieldsDataSource: function _createFieldsDataSource(dataSource) {\n    var fields = dataSource && dataSource.fields() || [];\n    fields = fields.filter(function (field) {\n      return false !== field.visible && !(0, _type.isDefined)(field.groupIndex);\n    });\n\n    var treeItems = this._createTreeItems(fields, [\"dimension\", \"displayFolder\"]);\n\n    (0, _uiPivot_grid.foreachDataLevel)(treeItems, function (items) {\n      items.sort(compareItems);\n    }, 0, \"items\");\n    return treeItems;\n  },\n  _renderFieldsTreeView: function _renderFieldsTreeView(container) {\n    var that = this;\n    var dataSource = that._dataSource;\n\n    var treeView = that._createComponent(container, _tree_view2.default, {\n      dataSource: that._createFieldsDataSource(dataSource),\n      showCheckBoxesMode: \"normal\",\n      searchEnabled: that.option(\"allowSearch\"),\n      searchTimeout: that.option(\"searchTimeout\"),\n      itemTemplate: function itemTemplate(itemData, itemIndex, itemElement) {\n        if (itemData.icon) {\n          (0, _icon.getImageContainer)(itemData.icon).appendTo(itemElement);\n        }\n\n        (0, _renderer2.default)(\"<span>\").toggleClass(\"dx-area-field\", !itemData.items).data(\"field\", itemData.field).text(itemData.text).appendTo(itemElement);\n      },\n      onItemCollapsed: function onItemCollapsed(e) {\n        var index = (0, _array.inArray)(e.itemData.path, that._expandedPaths);\n\n        if (index >= 0) {\n          that._expandedPaths.splice(index, 1);\n        }\n      },\n      onItemExpanded: function onItemExpanded(e) {\n        var index = (0, _array.inArray)(e.itemData.path, that._expandedPaths);\n\n        if (index < 0) {\n          that._expandedPaths.push(e.itemData.path);\n        }\n      },\n      onItemSelectionChanged: function onItemSelectionChanged(e) {\n        var data = e.itemData;\n        var field;\n        var fields;\n        var needSelectDefaultItem = true;\n        var area;\n\n        if (data.items) {\n          if (data.selected) {\n            treeView.unselectItem(data);\n            return;\n          }\n\n          that._processDemandState(function () {\n            fields = getDimensionFields(data, dataSource.fields());\n\n            for (var i = 0; i < fields.length; i++) {\n              if (fields[i].area) {\n                needSelectDefaultItem = false;\n                break;\n              }\n            }\n          });\n\n          if (needSelectDefaultItem) {\n            var item = getFirstItem(data, function (item) {\n              return item.isDefault;\n            }) || getFirstItem(data, function (item) {\n              return (0, _type.isDefined)(item.index);\n            });\n            item && treeView.selectItem(item);\n            return;\n          }\n        } else {\n          field = dataSource.fields()[data.index];\n\n          if (data.selected) {\n            area = field.isMeasure ? \"data\" : \"column\";\n          }\n\n          if (field) {\n            fields = [field];\n          }\n        }\n\n        that._applyChanges(fields, {\n          area: area,\n          areaIndex: void 0\n        });\n      }\n    });\n\n    var dataChanged = function dataChanged() {\n      var scrollable = getScrollable(container);\n      var scrollTop = scrollable ? scrollable.scrollTop() : 0;\n      treeView.option({\n        dataSource: that._createFieldsDataSource(dataSource)\n      });\n      scrollable = getScrollable(container);\n\n      if (scrollable) {\n        scrollable.scrollTo({\n          y: scrollTop\n        });\n        scrollable.update();\n      }\n    };\n\n    that._dataChangedHandlers.push(dataChanged);\n  },\n  _renderAreaFields: function _renderAreaFields($container, area) {\n    var that = this;\n    var dataSource = that._dataSource;\n    var fields = dataSource ? (0, _extend.extend)(true, [], dataSource.getAreaFields(area, true)) : [];\n    $container.empty();\n    (0, _iterator.each)(fields, function (_, field) {\n      if (false !== field.visible) {\n        that.renderField(field, true).appendTo($container);\n      }\n    });\n  },\n  _renderArea: function _renderArea(container, area) {\n    var that = this;\n    var $areaContainer = (0, _renderer2.default)(DIV).addClass(\"dx-area\").appendTo(container);\n    var $fieldsHeaderContainer = (0, _renderer2.default)(DIV).addClass(\"dx-area-fields-header\").appendTo($areaContainer);\n    var caption = that.option(\"texts.\" + area + \"Fields\");\n    var $fieldsContent;\n    var render;\n    (0, _renderer2.default)(\"<span>\").addClass(\"dx-area-icon\").addClass(\"dx-area-icon-\" + area).appendTo($fieldsHeaderContainer);\n    (0, _renderer2.default)(\"<span>\").html(\"&nbsp;\").appendTo($fieldsHeaderContainer);\n    (0, _renderer2.default)(\"<span>\").addClass(\"dx-area-caption\").text(caption).appendTo($fieldsHeaderContainer);\n    var $fieldsContainer = (0, _renderer2.default)(DIV).addClass(\"dx-area-fields\").addClass(AREA_DRAG_CLASS).appendTo($areaContainer);\n\n    if (\"all\" !== area) {\n      $fieldsContainer.attr(\"group\", area).attr(\"allow-scrolling\", true);\n      $fieldsContent = (0, _renderer2.default)(DIV).addClass(\"dx-area-field-container\").appendTo($fieldsContainer);\n\n      render = function render() {\n        that._renderAreaFields($fieldsContent, area);\n      };\n\n      that._dataChangedHandlers.push(render);\n\n      render();\n      $fieldsContainer.dxScrollable();\n    } else {\n      $areaContainer.addClass(\"dx-all-fields\");\n      $fieldsContainer.addClass(\"dx-treeview-border-visible\");\n\n      that._renderFieldsTreeView($fieldsContainer);\n    }\n  },\n  _getSortableOptions: function _getSortableOptions() {\n    return {};\n  },\n  _adjustSortableOnChangedArgs: function _adjustSortableOnChangedArgs() {},\n  resetTreeView: function resetTreeView() {\n    var treeView = this.$element().find(\".dx-treeview\").dxTreeView(\"instance\");\n\n    if (treeView) {\n      treeView.option(\"searchValue\", \"\");\n      treeView.collapseAll();\n    }\n  },\n  applyChanges: function applyChanges() {\n    var state = this.option(\"state\");\n\n    if ((0, _type.isDefined)(state)) {\n      this._dataSource.state(state);\n    }\n  },\n  cancelChanges: function cancelChanges() {\n    var dataSource = this._dataSource;\n\n    if (!dataSource.isLoading()) {\n      this.option(\"state\", dataSource.state());\n      return true;\n    }\n\n    return false;\n  },\n  getDataSource: function getDataSource() {\n    return this._dataSource;\n  },\n  updateDimensions: function updateDimensions() {\n    var $scrollableElements = this.$element().find(\".dx-area .dx-scrollable\");\n    $scrollableElements.dxScrollable(\"update\");\n  },\n  _visibilityChanged: function _visibilityChanged(visible) {\n    if (visible && hasWindow) {\n      this.updateDimensions();\n    }\n  }\n});\n\n(0, _component_registrator2.default)(\"dxPivotGridFieldChooser\", FieldChooser);\nmodule.exports = FieldChooser;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/pivot_grid/ui.pivot_grid.field_chooser.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_icon","_window","_type","_extend","_array","_iterator","_message","_component_registrator","_component_registrator2","_uiPivot_grid","_tree_view","_tree_view2","_context_menu","_context_menu2","_uiPivot_grid2","_uiPivot_grid3","obj","__esModule","DIV","hasWindow","FIELDCHOOSER_CLASS","FIELDCHOOSER_CONTAINER_CLASS","FIELDS_CONTAINER_CLASS","AREA_DRAG_CLASS","getDimensionFields","item","fields","result","items","i","length","push","apply","isDefined","index","getFirstItem","condition","childrenItem","compareOrder","a","b","aValue","isMeasure","bValue","field","levels","getCompareFunction","text","compareItems","getScrollable","container","find","dxScrollable","FieldChooser","default","inherit","_getDefaultOptions","extend","callBase","height","layout","dataSource","onContextMenuPreparing","allowSearch","searchTimeout","texts","columnFields","format","rowFields","dataFields","filterFields","allFields","_refreshDataSource","that","_expandedPaths","_changedHandler","each","_dataChangedHandlers","_","func","_fireContentReadyAction","_skipStateChange","option","_dataSource","state","_disposeDataSource","on","off","_dispose","arguments","_init","_initActions","_actions","_createActionByOption","_trigger","eventName","eventArg","_setOptionsByReference","_optionsByReference","_optionChanged","args","name","_invalidate","_clean","skipStateSetting","$element","children","remove","_renderLayout0","$container","addClass","$row1","appendTo","$row2","$col1","$col2","$col3","$col4","_renderArea","_renderLayout1","_renderLayout2","_initMarkup","currentState","_renderContentImpl","renderSortable","_renderContextMenu","updateDimensions","isLoading","_getContextMenuArgs","dxEvent","targetFieldElement","target","closest","targetGroupElement","area","fieldCopy","data","getDataSource","attr","event","_contextMenu","_createComponent","onPositioning","actionArgs","component","cancel","onItemClick","params","itemData","cssClass","_createTreeItems","groupFieldNames","path","resultItems","groupedItems","groupFieldName","fieldsByGroup","icon","groupName","key","dataField","selected","caption","isDefault","currentPath","slice","expanded","inArray","concat","_createFieldsDataSource","filter","visible","groupIndex","treeItems","foreachDataLevel","sort","_renderFieldsTreeView","treeView","showCheckBoxesMode","searchEnabled","itemTemplate","itemIndex","itemElement","getImageContainer","toggleClass","onItemCollapsed","e","splice","onItemExpanded","onItemSelectionChanged","needSelectDefaultItem","unselectItem","_processDemandState","selectItem","_applyChanges","areaIndex","dataChanged","scrollable","scrollTop","scrollTo","y","update","_renderAreaFields","getAreaFields","empty","renderField","$areaContainer","$fieldsHeaderContainer","$fieldsContent","render","html","$fieldsContainer","_getSortableOptions","_adjustSortableOnChangedArgs","resetTreeView","dxTreeView","collapseAll","applyChanges","cancelChanges","$scrollableElements","_visibilityChanged","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/pivot_grid/ui.pivot_grid.field_chooser.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _icon = require(\"../../core/utils/icon\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _message = require(\"../../localization/message\");\r\nvar _component_registrator = require(\"../../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _uiPivot_grid = require(\"./ui.pivot_grid.utils\");\r\nvar _tree_view = require(\"../tree_view\");\r\nvar _tree_view2 = _interopRequireDefault(_tree_view);\r\nvar _context_menu = require(\"../context_menu\");\r\nvar _context_menu2 = _interopRequireDefault(_context_menu);\r\nvar _uiPivot_grid2 = require(\"./ui.pivot_grid.field_chooser_base\");\r\nvar _uiPivot_grid3 = _interopRequireDefault(_uiPivot_grid2);\r\nrequire(\"./data_source\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DIV = \"<div>\";\r\nvar hasWindow = (0, _window.hasWindow)();\r\nvar FIELDCHOOSER_CLASS = \"dx-pivotgridfieldchooser\";\r\nvar FIELDCHOOSER_CONTAINER_CLASS = \"dx-pivotgridfieldchooser-container\";\r\nvar FIELDS_CONTAINER_CLASS = \"dx-pivotgrid-fields-container\";\r\nvar AREA_DRAG_CLASS = \"dx-pivotgrid-drag-action\";\r\n\r\nfunction getDimensionFields(item, fields) {\r\n    var result = [];\r\n    if (item.items) {\r\n        for (var i = 0; i < item.items.length; i++) {\r\n            result.push.apply(result, getDimensionFields(item.items[i], fields))\r\n        }\r\n    } else {\r\n        if ((0, _type.isDefined)(item.index)) {\r\n            result.push(fields[item.index])\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\nfunction getFirstItem(item, condition) {\r\n    if (item.items) {\r\n        for (var i = 0; i < item.items.length; i++) {\r\n            var childrenItem = getFirstItem(item.items[i], condition);\r\n            if (childrenItem) {\r\n                return childrenItem\r\n            }\r\n        }\r\n    }\r\n    if (condition(item)) {\r\n        return item\r\n    }\r\n}\r\nvar compareOrder = [function(a, b) {\r\n    var aValue = -!!a.isMeasure;\r\n    var bValue = +!!b.isMeasure;\r\n    return aValue + bValue\r\n}, function(a, b) {\r\n    var aValue = -!!(a.items && a.items.length);\r\n    var bValue = +!!(b.items && b.items.length);\r\n    return aValue + bValue\r\n}, function(a, b) {\r\n    var aValue = +!!(false === a.isMeasure && a.field && a.field.levels && a.field.levels.length);\r\n    var bValue = -!!(false === b.isMeasure && b.field && b.field.levels && b.field.levels.length);\r\n    return aValue + bValue\r\n}, (0, _uiPivot_grid.getCompareFunction)(function(item) {\r\n    return item.text\r\n})];\r\n\r\nfunction compareItems(a, b) {\r\n    var result = 0;\r\n    var i = 0;\r\n    while (!result && compareOrder[i]) {\r\n        result = compareOrder[i++](a, b)\r\n    }\r\n    return result\r\n}\r\n\r\nfunction getScrollable(container) {\r\n    return container.find(\".dx-scrollable\").dxScrollable(\"instance\")\r\n}\r\nvar FieldChooser = _uiPivot_grid3.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            height: 400,\r\n            layout: 0,\r\n            dataSource: null,\r\n            onContextMenuPreparing: null,\r\n            allowSearch: false,\r\n            searchTimeout: 500,\r\n            texts: {\r\n                columnFields: (0, _message.format)(\"dxPivotGrid-columnFields\"),\r\n                rowFields: (0, _message.format)(\"dxPivotGrid-rowFields\"),\r\n                dataFields: (0, _message.format)(\"dxPivotGrid-dataFields\"),\r\n                filterFields: (0, _message.format)(\"dxPivotGrid-filterFields\"),\r\n                allFields: (0, _message.format)(\"dxPivotGrid-allFields\")\r\n            }\r\n        })\r\n    },\r\n    _refreshDataSource: function() {\r\n        var that = this;\r\n        that._expandedPaths = [];\r\n        that._changedHandler = that._changedHandler || function() {\r\n            (0, _iterator.each)(that._dataChangedHandlers, function(_, func) {\r\n                func()\r\n            });\r\n            that._fireContentReadyAction();\r\n            that._skipStateChange = true;\r\n            that.option(\"state\", that._dataSource.state());\r\n            that._skipStateChange = false\r\n        };\r\n        that._disposeDataSource();\r\n        that.callBase();\r\n        that._dataSource && that._dataSource.on(\"changed\", that._changedHandler)\r\n    },\r\n    _disposeDataSource: function() {\r\n        var that = this;\r\n        var dataSource = that._dataSource;\r\n        if (dataSource) {\r\n            dataSource.off(\"changed\", that._changedHandler);\r\n            that._dataSource = void 0\r\n        }\r\n    },\r\n    _dispose: function() {\r\n        this._disposeDataSource();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._refreshDataSource();\r\n        this._dataChangedHandlers = [];\r\n        this._initActions()\r\n    },\r\n    _initActions: function() {\r\n        this._actions = {\r\n            onContextMenuPreparing: this._createActionByOption(\"onContextMenuPreparing\")\r\n        }\r\n    },\r\n    _trigger: function(eventName, eventArg) {\r\n        this._actions[eventName](eventArg)\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        (0, _extend.extend)(this._optionsByReference, {\r\n            dataSource: true\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        var that = this;\r\n        switch (args.name) {\r\n            case \"dataSource\":\r\n                that._refreshDataSource();\r\n                that._invalidate();\r\n                break;\r\n            case \"layout\":\r\n            case \"texts\":\r\n            case \"allowSearch\":\r\n            case \"searchTimeout\":\r\n                that._invalidate();\r\n                break;\r\n            case \"onContextMenuPreparing\":\r\n                that._actions[args.name] = that._createActionByOption(args.name);\r\n                break;\r\n            default:\r\n                that.callBase(args)\r\n        }\r\n    },\r\n    _clean: function(skipStateSetting) {\r\n        !skipStateSetting && this._dataSource && this.option(\"state\", this._dataSource.state());\r\n        this.$element().children(\".\" + FIELDCHOOSER_CONTAINER_CLASS).remove()\r\n    },\r\n    _renderLayout0: function($container) {\r\n        var that = this;\r\n        $container.addClass(\"dx-layout-0\");\r\n        var $row1 = (0, _renderer2.default)(DIV).addClass(\"dx-row\").appendTo($container);\r\n        var $row2 = (0, _renderer2.default)(DIV).addClass(\"dx-row\").appendTo($container);\r\n        var $col1 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row1);\r\n        var $col2 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row1);\r\n        var $col3 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row2);\r\n        var $col4 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row2);\r\n        that._renderArea($col1, \"all\");\r\n        that._renderArea($col2, \"row\");\r\n        that._renderArea($col2, \"column\");\r\n        that._renderArea($col3, \"filter\");\r\n        that._renderArea($col4, \"data\")\r\n    },\r\n    _renderLayout1: function($container) {\r\n        var that = this;\r\n        var $col1 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($container);\r\n        var $col2 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($container);\r\n        that._renderArea($col1, \"all\");\r\n        that._renderArea($col2, \"filter\");\r\n        that._renderArea($col2, \"row\");\r\n        that._renderArea($col2, \"column\");\r\n        that._renderArea($col2, \"data\")\r\n    },\r\n    _renderLayout2: function($container) {\r\n        var that = this;\r\n        $container.addClass(\"dx-layout-2\");\r\n        var $row1 = (0, _renderer2.default)(DIV).addClass(\"dx-row\").appendTo($container);\r\n        that._renderArea($row1, \"all\");\r\n        var $row2 = (0, _renderer2.default)(DIV).addClass(\"dx-row\").appendTo($container);\r\n        var $col1 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row2);\r\n        var $col2 = (0, _renderer2.default)(DIV).addClass(\"dx-col\").appendTo($row2);\r\n        that._renderArea($col1, \"filter\");\r\n        that._renderArea($col1, \"row\");\r\n        that._renderArea($col2, \"column\");\r\n        that._renderArea($col2, \"data\")\r\n    },\r\n    _initMarkup: function() {\r\n        var that = this;\r\n        var $element = this.$element();\r\n        var $container = (0, _renderer2.default)(DIV).addClass(FIELDCHOOSER_CONTAINER_CLASS).appendTo($element);\r\n        var layout = that.option(\"layout\");\r\n        that.callBase();\r\n        $element.addClass(FIELDCHOOSER_CLASS).addClass(FIELDS_CONTAINER_CLASS);\r\n        that._dataChangedHandlers = [];\r\n        var dataSource = this._dataSource;\r\n        var currentState = \"instantly\" !== that.option(\"applyChangesMode\") && dataSource && dataSource.state();\r\n        currentState && that.option(\"state\") && dataSource.state(that.option(\"state\"), true);\r\n        if (0 === layout) {\r\n            that._renderLayout0($container)\r\n        } else {\r\n            if (1 === layout) {\r\n                that._renderLayout1($container)\r\n            } else {\r\n                that._renderLayout2($container)\r\n            }\r\n        }\r\n        currentState && dataSource.state(currentState, true)\r\n    },\r\n    _renderContentImpl: function() {\r\n        this.callBase();\r\n        this.renderSortable();\r\n        this._renderContextMenu();\r\n        this.updateDimensions()\r\n    },\r\n    _fireContentReadyAction: function() {\r\n        if (!this._dataSource || !this._dataSource.isLoading()) {\r\n            this.callBase()\r\n        }\r\n    },\r\n    _getContextMenuArgs: function(dxEvent) {\r\n        var targetFieldElement = (0, _renderer2.default)(dxEvent.target).closest(\".dx-area-field\");\r\n        var targetGroupElement = (0, _renderer2.default)(dxEvent.target).closest(\".dx-area-fields\");\r\n        var field;\r\n        var area;\r\n        if (targetFieldElement.length) {\r\n            var fieldCopy = targetFieldElement.data(\"field\");\r\n            if (fieldCopy) {\r\n                field = this.getDataSource().field(fieldCopy.index) || fieldCopy\r\n            }\r\n        }\r\n        if (targetGroupElement.length) {\r\n            area = targetGroupElement.attr(\"group\")\r\n        }\r\n        return {\r\n            event: dxEvent,\r\n            field: field,\r\n            area: area,\r\n            items: []\r\n        }\r\n    },\r\n    _renderContextMenu: function() {\r\n        var that = this;\r\n        var $container = that.$element();\r\n        if (that._contextMenu) {\r\n            that._contextMenu.$element().remove()\r\n        }\r\n        that._contextMenu = that._createComponent((0, _renderer2.default)(DIV).appendTo($container), _context_menu2.default, {\r\n            onPositioning: function(actionArgs) {\r\n                var event = actionArgs.event;\r\n                if (!event) {\r\n                    return\r\n                }\r\n                var args = that._getContextMenuArgs(event);\r\n                that._trigger(\"onContextMenuPreparing\", args);\r\n                if (args.items && args.items.length) {\r\n                    actionArgs.component.option(\"items\", args.items)\r\n                } else {\r\n                    actionArgs.cancel = true\r\n                }\r\n            },\r\n            target: $container,\r\n            onItemClick: function(params) {\r\n                params.itemData.onItemClick && params.itemData.onItemClick(params)\r\n            },\r\n            cssClass: \"dx-pivotgridfieldchooser-context-menu\"\r\n        })\r\n    },\r\n    _createTreeItems: function(fields, groupFieldNames, path) {\r\n        var that = this;\r\n        var isMeasure;\r\n        var resultItems = [];\r\n        var groupedItems = [];\r\n        var groupFieldName = groupFieldNames[0];\r\n        var fieldsByGroup = {};\r\n        if (!groupFieldName) {\r\n            (0, _iterator.each)(fields, function(index, field) {\r\n                var icon;\r\n                if (true === field.isMeasure) {\r\n                    icon = \"measure\"\r\n                }\r\n                if (false === field.isMeasure) {\r\n                    icon = field.groupName ? \"hierarchy\" : \"dimension\"\r\n                }\r\n                resultItems.push({\r\n                    index: field.index,\r\n                    field: field,\r\n                    key: field.dataField,\r\n                    selected: (0, _type.isDefined)(field.area),\r\n                    text: field.caption || field.dataField,\r\n                    icon: icon,\r\n                    isMeasure: field.isMeasure,\r\n                    isDefault: field.isDefault\r\n                })\r\n            })\r\n        } else {\r\n            (0, _iterator.each)(fields, function(index, field) {\r\n                var groupName = field[groupFieldName] || \"\";\r\n                fieldsByGroup[groupName] = fieldsByGroup[groupName] || [];\r\n                fieldsByGroup[groupName].push(field);\r\n                if (void 0 === isMeasure) {\r\n                    isMeasure = true\r\n                }\r\n                isMeasure = isMeasure && true === field.isMeasure\r\n            });\r\n            (0, _iterator.each)(fieldsByGroup, function(groupName, fields) {\r\n                var currentPath = path ? path + \".\" + groupName : groupName;\r\n                var items = that._createTreeItems(fields, groupFieldNames.slice(1), currentPath);\r\n                if (groupName) {\r\n                    groupedItems.push({\r\n                        key: groupName,\r\n                        text: groupName,\r\n                        path: currentPath,\r\n                        isMeasure: items.isMeasure,\r\n                        expanded: (0, _array.inArray)(currentPath, that._expandedPaths) >= 0,\r\n                        items: items\r\n                    })\r\n                } else {\r\n                    resultItems = items\r\n                }\r\n            });\r\n            resultItems = groupedItems.concat(resultItems);\r\n            resultItems.isMeasure = isMeasure\r\n        }\r\n        return resultItems\r\n    },\r\n    _createFieldsDataSource: function(dataSource) {\r\n        var fields = dataSource && dataSource.fields() || [];\r\n        fields = fields.filter(function(field) {\r\n            return false !== field.visible && !(0, _type.isDefined)(field.groupIndex)\r\n        });\r\n        var treeItems = this._createTreeItems(fields, [\"dimension\", \"displayFolder\"]);\r\n        (0, _uiPivot_grid.foreachDataLevel)(treeItems, function(items) {\r\n            items.sort(compareItems)\r\n        }, 0, \"items\");\r\n        return treeItems\r\n    },\r\n    _renderFieldsTreeView: function(container) {\r\n        var that = this;\r\n        var dataSource = that._dataSource;\r\n        var treeView = that._createComponent(container, _tree_view2.default, {\r\n            dataSource: that._createFieldsDataSource(dataSource),\r\n            showCheckBoxesMode: \"normal\",\r\n            searchEnabled: that.option(\"allowSearch\"),\r\n            searchTimeout: that.option(\"searchTimeout\"),\r\n            itemTemplate: function(itemData, itemIndex, itemElement) {\r\n                if (itemData.icon) {\r\n                    (0, _icon.getImageContainer)(itemData.icon).appendTo(itemElement)\r\n                }(0, _renderer2.default)(\"<span>\").toggleClass(\"dx-area-field\", !itemData.items).data(\"field\", itemData.field).text(itemData.text).appendTo(itemElement)\r\n            },\r\n            onItemCollapsed: function(e) {\r\n                var index = (0, _array.inArray)(e.itemData.path, that._expandedPaths);\r\n                if (index >= 0) {\r\n                    that._expandedPaths.splice(index, 1)\r\n                }\r\n            },\r\n            onItemExpanded: function(e) {\r\n                var index = (0, _array.inArray)(e.itemData.path, that._expandedPaths);\r\n                if (index < 0) {\r\n                    that._expandedPaths.push(e.itemData.path)\r\n                }\r\n            },\r\n            onItemSelectionChanged: function(e) {\r\n                var data = e.itemData;\r\n                var field;\r\n                var fields;\r\n                var needSelectDefaultItem = true;\r\n                var area;\r\n                if (data.items) {\r\n                    if (data.selected) {\r\n                        treeView.unselectItem(data);\r\n                        return\r\n                    }\r\n                    that._processDemandState(function() {\r\n                        fields = getDimensionFields(data, dataSource.fields());\r\n                        for (var i = 0; i < fields.length; i++) {\r\n                            if (fields[i].area) {\r\n                                needSelectDefaultItem = false;\r\n                                break\r\n                            }\r\n                        }\r\n                    });\r\n                    if (needSelectDefaultItem) {\r\n                        var item = getFirstItem(data, function(item) {\r\n                            return item.isDefault\r\n                        }) || getFirstItem(data, function(item) {\r\n                            return (0, _type.isDefined)(item.index)\r\n                        });\r\n                        item && treeView.selectItem(item);\r\n                        return\r\n                    }\r\n                } else {\r\n                    field = dataSource.fields()[data.index];\r\n                    if (data.selected) {\r\n                        area = field.isMeasure ? \"data\" : \"column\"\r\n                    }\r\n                    if (field) {\r\n                        fields = [field]\r\n                    }\r\n                }\r\n                that._applyChanges(fields, {\r\n                    area: area,\r\n                    areaIndex: void 0\r\n                })\r\n            }\r\n        });\r\n        var dataChanged = function() {\r\n            var scrollable = getScrollable(container);\r\n            var scrollTop = scrollable ? scrollable.scrollTop() : 0;\r\n            treeView.option({\r\n                dataSource: that._createFieldsDataSource(dataSource)\r\n            });\r\n            scrollable = getScrollable(container);\r\n            if (scrollable) {\r\n                scrollable.scrollTo({\r\n                    y: scrollTop\r\n                });\r\n                scrollable.update()\r\n            }\r\n        };\r\n        that._dataChangedHandlers.push(dataChanged)\r\n    },\r\n    _renderAreaFields: function($container, area) {\r\n        var that = this;\r\n        var dataSource = that._dataSource;\r\n        var fields = dataSource ? (0, _extend.extend)(true, [], dataSource.getAreaFields(area, true)) : [];\r\n        $container.empty();\r\n        (0, _iterator.each)(fields, function(_, field) {\r\n            if (false !== field.visible) {\r\n                that.renderField(field, true).appendTo($container)\r\n            }\r\n        })\r\n    },\r\n    _renderArea: function(container, area) {\r\n        var that = this;\r\n        var $areaContainer = (0, _renderer2.default)(DIV).addClass(\"dx-area\").appendTo(container);\r\n        var $fieldsHeaderContainer = (0, _renderer2.default)(DIV).addClass(\"dx-area-fields-header\").appendTo($areaContainer);\r\n        var caption = that.option(\"texts.\" + area + \"Fields\");\r\n        var $fieldsContent;\r\n        var render;\r\n        (0, _renderer2.default)(\"<span>\").addClass(\"dx-area-icon\").addClass(\"dx-area-icon-\" + area).appendTo($fieldsHeaderContainer);\r\n        (0, _renderer2.default)(\"<span>\").html(\"&nbsp;\").appendTo($fieldsHeaderContainer);\r\n        (0, _renderer2.default)(\"<span>\").addClass(\"dx-area-caption\").text(caption).appendTo($fieldsHeaderContainer);\r\n        var $fieldsContainer = (0, _renderer2.default)(DIV).addClass(\"dx-area-fields\").addClass(AREA_DRAG_CLASS).appendTo($areaContainer);\r\n        if (\"all\" !== area) {\r\n            $fieldsContainer.attr(\"group\", area).attr(\"allow-scrolling\", true);\r\n            $fieldsContent = (0, _renderer2.default)(DIV).addClass(\"dx-area-field-container\").appendTo($fieldsContainer);\r\n            render = function() {\r\n                that._renderAreaFields($fieldsContent, area)\r\n            };\r\n            that._dataChangedHandlers.push(render);\r\n            render();\r\n            $fieldsContainer.dxScrollable()\r\n        } else {\r\n            $areaContainer.addClass(\"dx-all-fields\");\r\n            $fieldsContainer.addClass(\"dx-treeview-border-visible\");\r\n            that._renderFieldsTreeView($fieldsContainer)\r\n        }\r\n    },\r\n    _getSortableOptions: function() {\r\n        return {}\r\n    },\r\n    _adjustSortableOnChangedArgs: function() {},\r\n    resetTreeView: function() {\r\n        var treeView = this.$element().find(\".dx-treeview\").dxTreeView(\"instance\");\r\n        if (treeView) {\r\n            treeView.option(\"searchValue\", \"\");\r\n            treeView.collapseAll()\r\n        }\r\n    },\r\n    applyChanges: function() {\r\n        var state = this.option(\"state\");\r\n        if ((0, _type.isDefined)(state)) {\r\n            this._dataSource.state(state)\r\n        }\r\n    },\r\n    cancelChanges: function() {\r\n        var dataSource = this._dataSource;\r\n        if (!dataSource.isLoading()) {\r\n            this.option(\"state\", dataSource.state());\r\n            return true\r\n        }\r\n        return false\r\n    },\r\n    getDataSource: function() {\r\n        return this._dataSource\r\n    },\r\n    updateDimensions: function() {\r\n        var $scrollableElements = this.$element().find(\".dx-area .dx-scrollable\");\r\n        $scrollableElements.dxScrollable(\"update\")\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible && hasWindow) {\r\n            this.updateDimensions()\r\n        }\r\n    }\r\n});\r\n(0, _component_registrator2.default)(\"dxPivotGridFieldChooser\", FieldChooser);\r\nmodule.exports = FieldChooser;\r\n"]},"metadata":{},"sourceType":"script"}