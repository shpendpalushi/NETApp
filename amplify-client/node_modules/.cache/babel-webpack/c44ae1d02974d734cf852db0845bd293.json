{"ast":null,"code":"/*!\n * DevExpress Gantt (dx-gantt)\n * Version: 0.0.27\n * Build date: Thu Nov 28 2019\n * \n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\n * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"Gantt\"] = factory();else root[\"DevExpress\"] = root[\"DevExpress\"] || {}, root[\"DevExpress\"][\"Gantt\"] = factory();\n})(window, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        }\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 32);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var JsonUtils = function () {\n        function JsonUtils() {}\n\n        JsonUtils.isExists = function (obj) {\n          return typeof obj != \"undefined\" && obj != null;\n        };\n\n        JsonUtils.isValidJson = function (json) {\n          return !/[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]/.test(json.replace(/\"(\\\\.|[^\"\\\\])*\"/g, ''));\n        };\n\n        JsonUtils.evalJson = function (json) {\n          return JsonUtils.isValidJson(json) ? eval(\"(\" + json + \")\") : null;\n        };\n\n        return JsonUtils;\n      }();\n\n      exports.JsonUtils = JsonUtils;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Browser_1 = __webpack_require__(12);\n\n      var DomUtils = function () {\n        function DomUtils() {}\n\n        DomUtils.clientEventRequiresDocScrollCorrection = function () {\n          var isSafariVerLess3 = Browser_1.Browser.Safari && Browser_1.Browser.Version < 3,\n              isMacOSMobileVerLess51 = Browser_1.Browser.MacOSMobilePlatform && Browser_1.Browser.Version < 5.1;\n          return Browser_1.Browser.AndroidDefaultBrowser || Browser_1.Browser.AndroidChromeBrowser || !(isSafariVerLess3 || isMacOSMobileVerLess51);\n        };\n\n        DomUtils.getEventX = function (evt) {\n          return evt.clientX + (this.clientEventRequiresDocScrollCorrection() ? this.getDocumentScrollLeft() : 0);\n        };\n\n        DomUtils.getEventY = function (evt) {\n          return evt.clientY + (this.clientEventRequiresDocScrollCorrection() ? this.getDocumentScrollTop() : 0);\n        };\n\n        DomUtils.getEventSource = function (evt) {\n          return evt.srcElement ? evt.srcElement : evt.target;\n        };\n\n        DomUtils.GetKeyCode = function (evt) {\n          return Browser_1.Browser.NetscapeFamily || Browser_1.Browser.Opera ? evt.which : evt.keyCode;\n        };\n\n        DomUtils.GetIsParent = function (parentElement, element) {\n          if (!parentElement || !element) return false;\n\n          while (element) {\n            if (element === parentElement) return true;\n            if (element.tagName === \"BODY\") return false;\n            element = element.parentNode;\n          }\n\n          return false;\n        };\n\n        DomUtils.getCurrentStyle = function (element) {\n          if (document.defaultView && document.defaultView.getComputedStyle) return document.defaultView.getComputedStyle(element, null);\n          return window.getComputedStyle(element, null);\n        };\n\n        DomUtils.getTopPaddings = function (element) {\n          var currentStyle = this.getCurrentStyle(element);\n          return this.pxToInt(currentStyle.paddingTop);\n        };\n\n        DomUtils.getLeftPadding = function (element) {\n          var currentStyle = this.getCurrentStyle(element);\n          return this.pxToInt(currentStyle.paddingLeft);\n        };\n\n        DomUtils.getVerticalBordersWidth = function (element) {\n          var style = window.getComputedStyle ? window.getComputedStyle(element) : this.getCurrentStyle(element);\n          var res = 0;\n          if (style.borderTopStyle != \"none\") res += this.pxToFloat(style.borderTopWidth);\n          if (style.borderBottomStyle != \"none\") res += this.pxToFloat(style.borderBottomWidth);\n          return res;\n        };\n\n        DomUtils.getHorizontalBordersWidth = function (element) {\n          var style = window.getComputedStyle ? window.getComputedStyle(element) : this.getCurrentStyle(element);\n          var res = 0;\n          if (style.borderLeftStyle != \"none\") res += this.pxToFloat(style.borderLeftWidth);\n          if (style.borderRightStyle != \"none\") res += this.pxToFloat(style.borderRightWidth);\n          return res;\n        };\n\n        DomUtils.pxToInt = function (px) {\n          return this.pxToNumber(px, parseInt);\n        };\n\n        DomUtils.pxToFloat = function (px) {\n          return this.pxToNumber(px, parseFloat);\n        };\n\n        ;\n\n        DomUtils.pxToNumber = function (px, parseFunction) {\n          var result = 0;\n\n          if (px != null && px != \"\") {\n            try {\n              var indexOfPx = px.indexOf(\"px\");\n              if (indexOfPx > -1) result = parseFunction(px.substr(0, indexOfPx));\n            } catch (e) {}\n          }\n\n          return result;\n        };\n\n        DomUtils.getDocumentScrollTop = function () {\n          var isScrollBodyIE = Browser_1.Browser.IE && this.getCurrentStyle(document.body).overflow == \"hidden\" && document.body.scrollTop > 0;\n\n          if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge || isScrollBodyIE) {\n            if (Browser_1.Browser.MacOSMobilePlatform) return window.pageYOffset;\n            if (Browser_1.Browser.WebKitFamily) return document.documentElement.scrollTop || document.body.scrollTop;\n            return document.body.scrollTop;\n          } else return document.documentElement.scrollTop;\n        };\n\n        DomUtils.getDocumentScrollLeft = function () {\n          var isScrollBodyIE = Browser_1.Browser.IE && this.getCurrentStyle(document.body).overflow == \"hidden\" && document.body.scrollLeft > 0;\n          if (Browser_1.Browser.Edge || isScrollBodyIE) return document.body ? document.body.scrollLeft : document.documentElement.scrollLeft;\n          if (Browser_1.Browser.WebKitFamily) return document.documentElement.scrollLeft || document.body.scrollLeft;\n          return document.documentElement.scrollLeft;\n        };\n\n        DomUtils.getAbsolutePositionY = function (element) {\n          if (Browser_1.Browser.IE) return this.getAbsolutePositionY_IE(element);else if (Browser_1.Browser.Firefox && Browser_1.Browser.Version >= 3) return this.getAbsolutePositionY_FF3(element);else if (Browser_1.Browser.Opera) return this.getAbsolutePositionY_Opera(element);else if (Browser_1.Browser.NetscapeFamily && (!Browser_1.Browser.Firefox || Browser_1.Browser.Version < 3)) return this.getAbsolutePositionY_NS(element);else if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge) return this.getAbsolutePositionY_FF3(element);else return this.getAbsolutePositionY_Other(element);\n        };\n\n        DomUtils.getAbsolutePositionY_Opera = function (curEl) {\n          var isFirstCycle = true;\n          if (curEl && curEl.tagName == \"TR\" && curEl.cells.length > 0) curEl = curEl.cells[0];\n          var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, false);\n\n          while (curEl != null) {\n            pos += curEl.offsetTop;\n            if (!isFirstCycle) pos -= curEl.scrollTop;\n            curEl = curEl.offsetParent;\n            isFirstCycle = false;\n          }\n\n          pos += document.body.scrollTop;\n          return pos;\n        };\n\n        DomUtils.getAbsolutePositionY_IE = function (element) {\n          if (element == null || Browser_1.Browser.IE && element.parentNode == null) return 0;\n          return element.getBoundingClientRect().top + this.getDocumentScrollTop();\n        };\n\n        DomUtils.getAbsolutePositionY_FF3 = function (element) {\n          if (element == null) return 0;\n          var y = element.getBoundingClientRect().top + this.getDocumentScrollTop();\n          return Math.round(y);\n        };\n\n        DomUtils.getAbsolutePositionY_NS = function (curEl) {\n          var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, false);\n          var isFirstCycle = true;\n\n          while (curEl != null) {\n            pos += curEl.offsetTop;\n            if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollTop;\n\n            if (!isFirstCycle && Browser_1.Browser.Firefox) {\n              var style = this.getCurrentStyle(curEl);\n              if (curEl.tagName == \"DIV\" && style.overflow != \"visible\") pos += this.pxToInt(style.borderTopWidth);\n            }\n\n            isFirstCycle = false;\n            curEl = curEl.offsetParent;\n          }\n\n          return pos;\n        };\n\n        DomUtils.getAbsolutePositionY_Other = function (curEl) {\n          var pos = 0;\n          var isFirstCycle = true;\n\n          while (curEl != null) {\n            pos += curEl.offsetTop;\n            if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollTop;\n            isFirstCycle = false;\n            curEl = curEl.offsetParent;\n          }\n\n          return pos;\n        };\n\n        DomUtils.getAbsoluteScrollOffset_OperaFF = function (curEl, isX) {\n          var pos = 0;\n          var isFirstCycle = true;\n\n          while (curEl != null) {\n            if (curEl.tagName == \"BODY\") break;\n            var style = this.getCurrentStyle(curEl);\n            if (style.position == \"absolute\") break;\n            if (!isFirstCycle && curEl.tagName == \"DIV\" && (style.position == \"\" || style.position == \"static\")) pos -= isX ? curEl.scrollLeft : curEl.scrollTop;\n            curEl = curEl.parentNode;\n            isFirstCycle = false;\n          }\n\n          return pos;\n        };\n\n        DomUtils.getAbsolutePositionX = function (element) {\n          if (Browser_1.Browser.IE) return this.getAbsolutePositionX_IE(element);else if (Browser_1.Browser.Firefox && Browser_1.Browser.Version >= 3) return this.getAbsolutePositionX_FF3(element);else if (Browser_1.Browser.Opera) return this.getAbsolutePositionX_Opera(element);else if (Browser_1.Browser.NetscapeFamily && (!Browser_1.Browser.Firefox || Browser_1.Browser.Version < 3)) return this.getAbsolutePositionX_NS(element);else if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge) return this.getAbsolutePositionX_FF3(element);else return this.getAbsolutePositionX_Other(element);\n        };\n\n        DomUtils.getAbsolutePositionX_Opera = function (curEl) {\n          var isFirstCycle = true;\n          var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, true);\n\n          while (curEl != null) {\n            pos += curEl.offsetLeft;\n            if (!isFirstCycle) pos -= curEl.scrollLeft;\n            curEl = curEl.offsetParent;\n            isFirstCycle = false;\n          }\n\n          pos += document.body.scrollLeft;\n          return pos;\n        };\n\n        DomUtils.getAbsolutePositionX_IE = function (element) {\n          if (element == null || Browser_1.Browser.IE && element.parentNode == null) return 0;\n          return element.getBoundingClientRect().left + this.getDocumentScrollLeft();\n        };\n\n        DomUtils.getAbsolutePositionX_FF3 = function (element) {\n          if (element == null) return 0;\n          var x = element.getBoundingClientRect().left + this.getDocumentScrollLeft();\n          return Math.round(x);\n        };\n\n        DomUtils.getAbsolutePositionX_NS = function (curEl) {\n          var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, true);\n          var isFirstCycle = true;\n\n          while (curEl != null) {\n            pos += curEl.offsetLeft;\n            if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollLeft;\n\n            if (!isFirstCycle && Browser_1.Browser.Firefox) {\n              var style = this.getCurrentStyle(curEl);\n              if (curEl.tagName == \"DIV\" && style.overflow != \"visible\") pos += this.pxToInt(style.borderLeftWidth);\n            }\n\n            isFirstCycle = false;\n            curEl = curEl.offsetParent;\n          }\n\n          return pos;\n        };\n\n        DomUtils.getAbsolutePositionX_Other = function (curEl) {\n          var pos = 0;\n          var isFirstCycle = true;\n\n          while (curEl != null) {\n            pos += curEl.offsetLeft;\n            if (!isFirstCycle && curEl.offsetParent != null) pos -= curEl.scrollLeft;\n            isFirstCycle = false;\n            curEl = curEl.offsetParent;\n          }\n\n          return pos;\n        };\n\n        DomUtils.GetEvent = function (evt) {\n          return typeof event != \"undefined\" && event != null && Browser_1.Browser.IE ? event : evt;\n        };\n\n        DomUtils.isExists = function (obj) {\n          return typeof obj != \"undefined\" && obj != null;\n        };\n\n        DomUtils.isTouchEvent = function (evt) {\n          if (!evt) return false;\n          return Browser_1.Browser.WebKitTouchUI && DomUtils.isExists(evt.changedTouches);\n        };\n\n        DomUtils.IsLeftButtonPressed = function (evt) {\n          if (DomUtils.isTouchEvent(evt)) return true;\n          evt = DomUtils.GetEvent(evt);\n          if (!evt) return false;\n\n          if (Browser_1.Browser.IE && Browser_1.Browser.Version < 11) {\n            if (Browser_1.Browser.MSTouchUI) return true;\n            return evt.button % 2 == 1;\n          } else if (Browser_1.Browser.WebKitFamily) {\n            if (evt.type === \"pointermove\") return evt.buttons === 1;\n            return evt.which == 1;\n          } else if (Browser_1.Browser.NetscapeFamily || Browser_1.Browser.Edge || Browser_1.Browser.IE && Browser_1.Browser.Version >= 11) {\n            if (evt.type === DomUtils.touchMouseMoveEventName) return evt.buttons === 1;\n            return evt.which == 1;\n          } else if (Browser_1.Browser.Opera) return evt.button == 0;\n\n          return true;\n        };\n\n        DomUtils.touchMouseMoveEventName = Browser_1.Browser.WebKitTouchUI ? \"touchmove\" : Browser_1.Browser.Edge && Browser_1.Browser.MSTouchUI && window.PointerEvent ? \"pointermove\" : \"mousemove\";\n\n        DomUtils.getMouseWheelEventName = function () {\n          if (Browser_1.Browser.Safari) return \"mousewheel\";\n          if (Browser_1.Browser.NetscapeFamily && Browser_1.Browser.MajorVersion < 17) return \"DOMMouseScroll\";\n          return \"wheel\";\n        };\n\n        DomUtils.getWheelDelta = function (evt) {\n          var ret;\n          if (Browser_1.Browser.NetscapeFamily && Browser_1.Browser.MajorVersion < 17) ret = -evt.detail;else if (Browser_1.Browser.Safari) ret = evt.wheelDelta;else ret = -evt.deltaY;\n          if (Browser_1.Browser.Opera && Browser_1.Browser.Version < 9) ret = -ret;\n          return ret;\n        };\n\n        DomUtils.IsRightButtonPressed = function (evt) {\n          evt = DomUtils.GetEvent(evt);\n          if (!DomUtils.isExists(evt)) return false;\n\n          if (Browser_1.Browser.IE || Browser_1.Browser.Edge) {\n            if (evt.type === \"pointermove\") return evt.buttons === 2;\n            return evt.button == 2;\n          } else if (Browser_1.Browser.NetscapeFamily || Browser_1.Browser.WebKitFamily) return evt.which == 3;else if (Browser_1.Browser.Opera) return evt.button == 1;\n\n          return true;\n        };\n\n        DomUtils.addClassNameToElement = function (element, className) {\n          if (!element || typeof className !== \"string\") return;\n          className = DomUtils.trim(className);\n\n          if (!DomUtils.elementHasCssClass(element, className) && className !== \"\") {\n            var oldClassName = DomUtils.getClassName(element);\n            DomUtils.setClassName(element, oldClassName === \"\" ? className : oldClassName + \" \" + className);\n          }\n        };\n\n        DomUtils.removeClassNameFromElement = function (element, className) {\n          if (!element) return;\n          var elementClassName = DomUtils.getClassName(element);\n          var updClassName = \" \" + elementClassName + \" \";\n          var newClassName = updClassName.replace(\" \" + className + \" \", \" \");\n          if (updClassName.length != newClassName.length) DomUtils.setClassName(element, DomUtils.trim(newClassName));\n        };\n\n        DomUtils.elementHasCssClass = function (element, className) {\n          try {\n            var elementClasses;\n            var classList = DomUtils.getClassNameList(element);\n\n            if (!classList) {\n              var elementClassName = DomUtils.getClassName(element);\n\n              if (!elementClassName) {\n                return false;\n              }\n\n              elementClasses = elementClassName.split(\" \");\n            }\n\n            var classNames = className.split(\" \");\n\n            for (var i = classNames.length - 1; i >= 0; i--) {\n              if (classList) {\n                if (classList.indexOf(classNames[i]) === -1) return false;\n                continue;\n              }\n\n              if (elementClasses.indexOf(classNames[i]) < 0) return false;\n            }\n\n            return true;\n          } catch (e) {\n            return false;\n          }\n        };\n\n        DomUtils.getClassName = function (element) {\n          var result = \"\";\n\n          if (element) {\n            if (element.tagName === \"svg\") result = element.className.baseVal;else result = element.className ? element.className : \"\";\n          }\n\n          return result;\n        };\n\n        DomUtils.getClassNameList = function (element) {\n          var result = [];\n\n          if (element) {\n            if (element.tagName === \"svg\") result = DomUtils.getClassName(element).replace(/^\\s+|\\s+$/g, '').split(/\\s+/);else result = element.classList ? [].slice.call(element.classList) : DomUtils.getClassName(element).replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\n          }\n\n          return result;\n        };\n\n        DomUtils.setClassName = function (element, className) {\n          if (element.tagName === \"svg\") {\n            element.className.baseVal = DomUtils.trim(className);\n          } else {\n            element.className = DomUtils.trim(className);\n          }\n        };\n\n        DomUtils.trim = function (str) {\n          var result = str;\n          result = result.replace(/^\\s+/, \"\");\n          result = result.replace(/\\s+$/, \"\");\n          return result;\n        };\n\n        return DomUtils;\n      }();\n\n      exports.DomUtils = DomUtils;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Time_1 = __webpack_require__(23);\n\n      var TimeRange_1 = __webpack_require__(24);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DateRange_1 = __webpack_require__(10);\n\n      var DayOfWeekMonthlyOccurrence_1 = __webpack_require__(25);\n\n      var DateTimeUtils = function () {\n        function DateTimeUtils() {}\n\n        DateTimeUtils.compareDates = function (date1, date2) {\n          if (!date1 || !date2) return -1;\n          return date2.getTime() - date1.getTime();\n        };\n\n        DateTimeUtils.areDatesEqual = function (date1, date2) {\n          return this.compareDates(date1, date2) == 0;\n        };\n\n        DateTimeUtils.getMaxDate = function (date1, date2) {\n          if (!date1 && !date2) return null;\n          if (!date1) return date2;\n          if (!date2) return date1;\n          var diff = this.compareDates(date1, date2);\n          return diff > 0 ? date2 : date1;\n        };\n\n        DateTimeUtils.getMinDate = function (date1, date2) {\n          if (!date1 && !date2) return null;\n          if (!date1) return date2;\n          if (!date2) return date1;\n          var diff = this.compareDates(date1, date2);\n          return diff > 0 ? date1 : date2;\n        };\n\n        DateTimeUtils.getDaysBetween = function (start, end) {\n          var diff = Math.abs(end.getTime() - start.getTime());\n          return Math.ceil(diff / this.msInDay);\n        };\n\n        DateTimeUtils.getWeeksBetween = function (start, end) {\n          var daysBetween = this.getDaysBetween(start, end);\n          var numWeeks = Math.floor(daysBetween / 7);\n          if (start.getDay() > end.getDay()) numWeeks++;\n          return numWeeks;\n        };\n\n        DateTimeUtils.getMonthsDifference = function (start, end) {\n          var dateDiff = this.compareDates(start, end);\n          var from = dateDiff >= 0 ? start : end;\n          var to = dateDiff >= 0 ? end : start;\n          var yearsDiff = to.getFullYear() - from.getFullYear();\n          var monthDiff = yearsDiff * 12 + (to.getMonth() - from.getMonth());\n          return monthDiff;\n        };\n\n        DateTimeUtils.getYearsDifference = function (start, end) {\n          return Math.abs(end.getFullYear() - start.getFullYear());\n        };\n\n        DateTimeUtils.getDayNumber = function (date) {\n          return Math.ceil(date.getTime() / this.msInDay);\n        };\n\n        DateTimeUtils.getDateByDayNumber = function (num) {\n          var date = new Date(num * this.msInDay);\n          date.setHours(0);\n          date.setMinutes(0);\n          date.setSeconds(0);\n          return date;\n        };\n\n        DateTimeUtils.addDays = function (date, days) {\n          return new Date(date.getTime() + days * this.msInDay);\n        };\n\n        DateTimeUtils.checkDayOfMonth = function (day, date) {\n          return day == date.getDate();\n        };\n\n        DateTimeUtils.checkDayOfWeek = function (day, date) {\n          return day == date.getDay();\n        };\n\n        DateTimeUtils.checkMonth = function (month, date) {\n          return month == date.getMonth();\n        };\n\n        DateTimeUtils.checkYear = function (year, date) {\n          return year == date.getFullYear();\n        };\n\n        DateTimeUtils.checkDayOfWeekOccurrenceInMonth = function (date, dayOfWeek, occurrence) {\n          var dayOfWeekInMonthDates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, date.getFullYear(), date.getMonth());\n          if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last) return this.areDatesEqual(date, dayOfWeekInMonthDates[dayOfWeekInMonthDates.length - 1]);\n          return this.areDatesEqual(date, dayOfWeekInMonthDates[occurrence]);\n        };\n\n        DateTimeUtils.getFirstDayOfWeekInMonth = function (year, month) {\n          var date = new Date(year, month, 1);\n          return date.getDay();\n        };\n\n        DateTimeUtils.getSpecificDayOfWeekInMonthDates = function (dayOfWeek, year, month) {\n          var firstDayOfWeekInMonth = this.getFirstDayOfWeekInMonth(year, month);\n          var diffDays = dayOfWeek >= firstDayOfWeekInMonth ? dayOfWeek - firstDayOfWeekInMonth : dayOfWeek + 7 - firstDayOfWeekInMonth;\n          var res = new Array();\n          var specificDayOfWeekDate = new Date(year, month, diffDays + 1);\n\n          while (specificDayOfWeekDate.getMonth() == month) {\n            res.push(specificDayOfWeekDate);\n            specificDayOfWeekDate = this.addDays(specificDayOfWeekDate, 7);\n          }\n\n          return res;\n        };\n\n        DateTimeUtils.getSpecificDayOfWeekInMonthDate = function (dayOfWeek, year, month, occurrence) {\n          var dates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, year, month);\n          if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last) return dates[dates.length - 1];\n          return dates[occurrence];\n        };\n\n        DateTimeUtils.checkValidDayInMonth = function (year, month, day) {\n          if (day < 1 || day > 31 || new Date(year, month, day).getMonth() != month) return false;\n          return true;\n        };\n\n        DateTimeUtils.getNextMonth = function (month, inc) {\n          if (inc === void 0) {\n            inc = 1;\n          }\n\n          return (month + inc) % 12;\n        };\n\n        DateTimeUtils.convertToDate = function (src) {\n          if (src instanceof Date) return new Date(src);\n          var ms = Date.parse(src);\n          if (!isNaN(ms)) return new Date(ms);\n          return null;\n        };\n\n        DateTimeUtils.convertTimeRangeToDateRange = function (timeRange, dayNumber) {\n          var date = this.getDateByDayNumber(dayNumber);\n          var year = date.getFullYear();\n          var month = date.getMonth();\n          var day = date.getDate();\n          var startT = timeRange.start;\n          var start = new Date(year, month, day, startT.hour, startT.min, startT.sec, startT.msec);\n          var endT = timeRange.end;\n          var end = new Date(year, month, day, endT.hour, endT.min, endT.sec, endT.msec);\n          return new DateRange_1.DateRange(start, end);\n        };\n\n        DateTimeUtils.convertToTimeRanges = function (src) {\n          var _this = this;\n\n          if (src instanceof Array) return src.map(function (x) {\n            return _this.convertToTimeRange(x);\n          });\n          return this.parseTimeRanges(src);\n        };\n\n        DateTimeUtils.convertToTimeRange = function (src) {\n          if (!src) return null;\n          if (src instanceof TimeRange_1.TimeRange) return src;\n          if (Utils_1.JsonUtils.isExists(src.start) && Utils_1.JsonUtils.isExists(src.end)) return new TimeRange_1.TimeRange(this.convertToTime(src.start), this.convertToTime(src.end));\n          return this.parseTimeRange(src);\n        };\n\n        DateTimeUtils.convertToTime = function (src) {\n          if (!src) return null;\n          if (src instanceof Time_1.Time) return src;\n          if (src instanceof Date) return this.getTimeGromJsDate(src);\n          return this.parseTime(src);\n        };\n\n        DateTimeUtils.parseTimeRanges = function (src) {\n          var _this = this;\n\n          if (!src) return null;\n          var parts = src.split(/;|,/);\n          return parts.map(function (p) {\n            return _this.parseTimeRange(p);\n          }).filter(function (r) {\n            return !!r;\n          });\n        };\n\n        DateTimeUtils.parseTimeRange = function (src) {\n          if (!src) return null;\n          var parts = src.split(\"-\");\n          var start = parts[0];\n          var end = parts[1];\n          if (Utils_1.JsonUtils.isExists(start) && Utils_1.JsonUtils.isExists(end)) return new TimeRange_1.TimeRange(this.parseTime(start), this.parseTime(end));\n          return null;\n        };\n\n        DateTimeUtils.parseTime = function (src) {\n          if (!src) return null;\n          var parts = src.split(\":\");\n          var h = parseInt(parts[0]) || 0;\n          var m = parseInt(parts[1]) || 0;\n          var s = parseInt(parts[2]) || 0;\n          var ms = parseInt(parts[3]) || 0;\n          return new Time_1.Time(h, m, s, ms);\n        };\n\n        DateTimeUtils.getTimeGromJsDate = function (date) {\n          if (!date) return null;\n          var h = date.getHours();\n          var m = date.getMinutes();\n          var s = date.getSeconds();\n          var ms = date.getMilliseconds();\n          return new Time_1.Time(h, m, s, ms);\n        };\n\n        DateTimeUtils.caclTimeDifference = function (time1, time2) {\n          return time2.getTimeInMilleconds() - time1.getTimeInMilleconds();\n        };\n\n        DateTimeUtils.areTimesEqual = function (time1, time2) {\n          return this.caclTimeDifference(time1, time2) == 0;\n        };\n\n        DateTimeUtils.getMaxTime = function (time1, time2) {\n          if (!time1 && !time2) return null;\n          if (!time1) return time2;\n          if (!time2) return time1;\n          var diff = this.caclTimeDifference(time1, time2);\n          return diff > 0 ? time2 : time1;\n        };\n\n        DateTimeUtils.getMinTime = function (time1, time2) {\n          if (!time1 && !time2) return null;\n          if (!time1) return time2;\n          if (!time2) return time1;\n          var diff = this.caclTimeDifference(time1, time2);\n          return diff > 0 ? time1 : time2;\n        };\n\n        DateTimeUtils.getLastTimeOfDay = function () {\n          return new Time_1.Time(23, 59, 59, 999);\n        };\n\n        DateTimeUtils.msInDay = 24 * 3600 * 1000;\n        return DateTimeUtils;\n      }();\n\n      exports.DateTimeUtils = DateTimeUtils;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Point = function () {\n        function Point(x, y) {\n          this.x = null;\n          this.y = null;\n          if (x !== undefined) this.x = x;\n          if (y !== undefined) this.y = y;\n        }\n\n        return Point;\n      }();\n\n      exports.Point = Point;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DataObject = function () {\n        function DataObject() {\n          this.internalId = this.generateGuid();\n        }\n\n        DataObject.prototype.assignFromObject = function (sourceObj) {\n          if (!Utils_1.JsonUtils.isExists(sourceObj)) return;\n\n          if (Utils_1.JsonUtils.isExists(sourceObj.id)) {\n            this.id = sourceObj.id;\n            this.internalId = String(sourceObj.id);\n          }\n        };\n\n        DataObject.prototype.generateGuid = function () {\n          return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            var r = Math.random() * 16 | 0,\n                v = c == 'x' ? r : r & 0x3 | 0x8;\n            return v.toString(16);\n          });\n        };\n\n        return DataObject;\n      }();\n\n      exports.DataObject = DataObject;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase = function () {\n        function CommandBase(control) {\n          this.control = control;\n        }\n\n        Object.defineProperty(CommandBase.prototype, \"modelManipulator\", {\n          get: function get() {\n            return this.control.modelManipulator;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandBase.prototype, \"history\", {\n          get: function get() {\n            return this.control.history;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandBase.prototype, \"state\", {\n          get: function get() {\n            if (!this._state) this._state = this.getState();\n            return this._state;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        CommandBase.prototype.execute = function () {\n          var parameters = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            parameters[_i] = arguments[_i];\n          }\n\n          if (!this.state.enabled) return false;\n          return this.executeInternal.apply(this, parameters);\n        };\n\n        CommandBase.prototype.isEnabled = function () {\n          return this.control.settings.editing.enabled;\n        };\n\n        CommandBase.prototype.executeInternal = function () {\n          var parameters = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            parameters[_i] = arguments[_i];\n          }\n\n          throw new Error(\"Not implemented\");\n        };\n\n        ;\n        return CommandBase;\n      }();\n\n      exports.CommandBase = CommandBase;\n\n      var SimpleCommandState = function () {\n        function SimpleCommandState(enabled, value) {\n          this.visible = true;\n          this.enabled = enabled;\n          this.value = value;\n        }\n\n        return SimpleCommandState;\n      }();\n\n      exports.SimpleCommandState = SimpleCommandState;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var CollectionBase = function () {\n        function CollectionBase() {\n          this._items = new Array();\n          this._isGanttCollection = true;\n        }\n\n        CollectionBase.prototype.add = function (element) {\n          if (!Utils_1.JsonUtils.isExists(element)) return;\n          if (!!this.getItemById(element.internalId)) throw \"The collection item with id ='\" + element.internalId + \"' already exists.\";\n\n          this._items.push(element);\n        };\n\n        CollectionBase.prototype.addRange = function (range) {\n          for (var i = 0; i < range.length; i++) {\n            this.add(range[i]);\n          }\n        };\n\n        CollectionBase.prototype.remove = function (element) {\n          var index = this._items.indexOf(element);\n\n          if (index > -1 && index < this._items.length) this._items.splice(index, 1);\n        };\n\n        CollectionBase.prototype.clear = function () {\n          this._items.splice(0, this._items.length);\n        };\n\n        Object.defineProperty(CollectionBase.prototype, \"items\", {\n          get: function get() {\n            return this._items.slice();\n          },\n          set: function set(value) {\n            if (value) this._items = value.slice();\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CollectionBase.prototype, \"length\", {\n          get: function get() {\n            return this._items.length;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        CollectionBase.prototype.getItem = function (index) {\n          if (index > -1 && index < this._items.length) return this._items[index];\n          return null;\n        };\n\n        CollectionBase.prototype.getItemById = function (id) {\n          return this._items.filter(function (val) {\n            return val.internalId === id;\n          })[0];\n        };\n\n        CollectionBase.prototype.getItemByPublicId = function (id) {\n          return this._items.filter(function (val) {\n            return val.id === id || val.id.toString() === id;\n          })[0];\n        };\n\n        CollectionBase.prototype.assign = function (sourceCollection) {\n          if (!Utils_1.JsonUtils.isExists(sourceCollection)) return;\n          this.items = sourceCollection.items;\n        };\n\n        CollectionBase.prototype.importFromObject = function (source) {\n          if (!Utils_1.JsonUtils.isExists(source)) return;\n          this.clear();\n          if (source._isGanttCollection) this.assign(source);else if (source instanceof Array) {\n            this.importFromArray(source);\n          } else {\n            this.createItemFromObjectAndAdd(source);\n          }\n        };\n\n        CollectionBase.prototype.createItemFromObjectAndAdd = function (source) {\n          if (Utils_1.JsonUtils.isExists(source)) {\n            var item = this.createItem();\n            item.assignFromObject(source);\n            this.add(item);\n          }\n        };\n\n        CollectionBase.prototype.importFromArray = function (values) {\n          for (var i = 0; i < values.length; i++) {\n            this.createItemFromObjectAndAdd(values[i]);\n          }\n        };\n\n        CollectionBase.prototype.importFromJSON = function (json) {\n          this.importFromObject(Utils_1.JsonUtils.evalJson(json));\n        };\n\n        return CollectionBase;\n      }();\n\n      exports.CollectionBase = CollectionBase;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var ViewType;\n\n      (function (ViewType) {\n        ViewType[ViewType[\"TenMinutes\"] = 0] = \"TenMinutes\";\n        ViewType[ViewType[\"Hours\"] = 1] = \"Hours\";\n        ViewType[ViewType[\"SixHours\"] = 2] = \"SixHours\";\n        ViewType[ViewType[\"Days\"] = 3] = \"Days\";\n        ViewType[ViewType[\"Weeks\"] = 4] = \"Weeks\";\n        ViewType[ViewType[\"Months\"] = 5] = \"Months\";\n        ViewType[ViewType[\"Quarter\"] = 6] = \"Quarter\";\n        ViewType[ViewType[\"Years\"] = 7] = \"Years\";\n        ViewType[ViewType[\"FiveYears\"] = 8] = \"FiveYears\";\n      })(ViewType = exports.ViewType || (exports.ViewType = {}));\n\n      var Position;\n\n      (function (Position) {\n        Position[Position[\"Left\"] = 0] = \"Left\";\n        Position[Position[\"Top\"] = 1] = \"Top\";\n        Position[Position[\"Right\"] = 2] = \"Right\";\n        Position[Position[\"Bottom\"] = 3] = \"Bottom\";\n      })(Position = exports.Position || (exports.Position = {}));\n\n      var TaskTitlePosition;\n\n      (function (TaskTitlePosition) {\n        TaskTitlePosition[TaskTitlePosition[\"Inside\"] = 0] = \"Inside\";\n        TaskTitlePosition[TaskTitlePosition[\"Outside\"] = 1] = \"Outside\";\n        TaskTitlePosition[TaskTitlePosition[\"None\"] = 2] = \"None\";\n      })(TaskTitlePosition = exports.TaskTitlePosition || (exports.TaskTitlePosition = {}));\n      /***/\n\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var Point_1 = __webpack_require__(3);\n\n      var Browser_1 = __webpack_require__(12);\n\n      var GridLayoutCalculator_1 = __webpack_require__(16);\n\n      var MouseEventSource;\n\n      (function (MouseEventSource) {\n        MouseEventSource[MouseEventSource[\"TaskArea\"] = 0] = \"TaskArea\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_Frame\"] = 1] = \"TaskEdit_Frame\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_Progress\"] = 2] = \"TaskEdit_Progress\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_Start\"] = 3] = \"TaskEdit_Start\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_End\"] = 4] = \"TaskEdit_End\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_DependencyStart\"] = 5] = \"TaskEdit_DependencyStart\";\n        MouseEventSource[MouseEventSource[\"TaskEdit_DependencyFinish\"] = 6] = \"TaskEdit_DependencyFinish\";\n        MouseEventSource[MouseEventSource[\"Successor_Wrapper\"] = 7] = \"Successor_Wrapper\";\n        MouseEventSource[MouseEventSource[\"Successor_DependencyStart\"] = 8] = \"Successor_DependencyStart\";\n        MouseEventSource[MouseEventSource[\"Successor_DependencyFinish\"] = 9] = \"Successor_DependencyFinish\";\n      })(MouseEventSource = exports.MouseEventSource || (exports.MouseEventSource = {}));\n\n      var TaskAreaManager = function () {\n        function TaskAreaManager(ganttView) {\n          this.ganttView = ganttView;\n          this.eventManager = ganttView.eventManager;\n          this.mousePosition = new Point_1.Point(-1, -1);\n          this.initMouseEvents();\n        }\n\n        TaskAreaManager.prototype.initMouseEvents = function () {\n          var _this = this;\n\n          this.ganttView.taskArea.addEventListener(\"click\", function (evt) {\n            _this.onTaskAreaClick(evt);\n          });\n          this.ganttView.taskArea.addEventListener(\"scroll\", this.ganttView.updateView.bind(this.ganttView));\n          this.ganttView.taskArea.addEventListener(\"contextmenu\", function (evt) {\n            _this.onContextMenu(evt);\n          });\n          this.ganttView.taskArea.addEventListener(DomUtils_1.DomUtils.getMouseWheelEventName(), function (evt) {\n            _this.onMouseWheel(evt);\n          });\n          this.ganttView.taskArea.addEventListener(\"mousedown\", function (evt) {\n            _this.onMouseDown(evt);\n          });\n          document.addEventListener(\"mousemove\", function (evt) {\n            _this.onDocumentMouseMove(evt);\n          });\n          document.addEventListener(\"mouseup\", function (evt) {\n            _this.onDocumentMouseUp(evt);\n          });\n          document.addEventListener(\"keydown\", function (evt) {\n            _this.onDocumentKeyDown(evt);\n          });\n        };\n\n        TaskAreaManager.prototype.onMouseDown = function (evt) {\n          this.eventManager.onMouseDown(evt);\n          this.preventSelect = false;\n          this.mousePosition = new Point_1.Point(evt.clientX, evt.clientY);\n        };\n\n        TaskAreaManager.prototype.onDocumentMouseUp = function (evt) {\n          var _this = this;\n\n          this.ganttView.isFocus = DomUtils_1.DomUtils.GetIsParent(this.ganttView.taskArea, DomUtils_1.DomUtils.getEventSource(evt)) ? true : false;\n          if (this.ganttView.isFocus && !this.preventSelect && this.ganttView.settings.allowSelectTask && !this.isConnectorLine(evt)) setTimeout(function () {\n            _this.changeTaskSelection(_this.getClickedTaskIndex(evt));\n          }, 0);\n          this.eventManager.onMouseUp(evt);\n        };\n\n        TaskAreaManager.prototype.onDocumentMouseMove = function (evt) {\n          if (this.mousePosition.x != evt.clientX || this.mousePosition.y != evt.clientY) {\n            this.eventManager.onMouseMove(evt);\n            this.preventSelect = true;\n          }\n        };\n\n        TaskAreaManager.prototype.onMouseWheel = function (evt) {\n          this.eventManager.onMouseWheel(evt);\n        };\n\n        TaskAreaManager.prototype.onDocumentKeyDown = function (evt) {\n          this.eventManager.onKeyDown(evt);\n        };\n\n        TaskAreaManager.prototype.onContextMenu = function (evt) {\n          if (evt.stopPropagation) evt.stopPropagation();\n          if (evt.preventDefault) evt.preventDefault();\n          if (Browser_1.Browser.WebKitFamily) evt.returnValue = false;\n          this.ganttView.ganttOwner.showPopupMenu(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\n        };\n\n        TaskAreaManager.prototype.getClickedTaskIndex = function (evt) {\n          var y = DomUtils_1.DomUtils.getEventY(evt);\n          var taskAreaY = DomUtils_1.DomUtils.getAbsolutePositionY(this.ganttView.taskArea);\n          var relativeY = y - taskAreaY;\n          return Math.floor(relativeY / this.ganttView.tickSize.height);\n        };\n\n        TaskAreaManager.prototype.onTaskElementHover = function (evt) {\n          var hoveredTaskIndex = this.getClickedTaskIndex(evt);\n          this.ganttView.taskEditController.show(hoveredTaskIndex);\n        };\n\n        TaskAreaManager.prototype.changeTaskSelection = function (index) {\n          var clickedTask = this.ganttView.viewModel.items[index];\n\n          if (clickedTask) {\n            this.ganttView.unselectCurrentSelectedTask();\n            this.ganttView.ganttOwner.changeGanttTaskSelection(clickedTask.task.id, true);\n            this.ganttView.selectTask(clickedTask.task.internalId);\n          }\n        };\n\n        TaskAreaManager.prototype.onTaskAreaClick = function (evt) {\n          var now = new Date(Date.now());\n          var clickedTaskIndex = this.getClickedTaskIndex(evt);\n\n          if (this.time && now.getTime() - this.time.getTime() < TaskAreaManager.DBLCLICK_INTERVAL) {\n            var clickedTask = this.ganttView.viewModel.items[clickedTaskIndex];\n            this.ganttView.commandManager.showTaskEditDialog.execute(clickedTask.task);\n          }\n\n          this.time = now;\n        };\n\n        TaskAreaManager.prototype.isConnectorLine = function (evt) {\n          var source = DomUtils_1.DomUtils.getEventSource(evt);\n          return DomUtils_1.DomUtils.getClassNameList(source).indexOf(GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL) >= 0 || DomUtils_1.DomUtils.getClassNameList(source).indexOf(GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL) >= 0;\n        };\n\n        TaskAreaManager.DBLCLICK_INTERVAL = 300;\n        return TaskAreaManager;\n      }();\n\n      exports.TaskAreaManager = TaskAreaManager;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics = function extendStatics(d, b) {\n          _extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem = function () {\n        function HistoryItem(modelManipulator) {\n          this.modelManipulator = modelManipulator;\n        }\n\n        return HistoryItem;\n      }();\n\n      exports.HistoryItem = HistoryItem;\n\n      var CompositionHistoryItem = function (_super) {\n        __extends(CompositionHistoryItem, _super);\n\n        function CompositionHistoryItem() {\n          var _this = _super.call(this, null) || this;\n\n          _this.historyItems = [];\n          return _this;\n        }\n\n        CompositionHistoryItem.prototype.redo = function () {\n          var item;\n\n          for (var i = 0; item = this.historyItems[i]; i++) {\n            item.redo();\n          }\n        };\n\n        CompositionHistoryItem.prototype.undo = function () {\n          var item;\n\n          for (var i = this.historyItems.length - 1; item = this.historyItems[i]; i--) {\n            item.undo();\n          }\n        };\n\n        CompositionHistoryItem.prototype.add = function (historyItem) {\n          if (historyItem == null) throw new Error(\"Can't add null HistoryItem\");\n          this.historyItems.push(historyItem);\n        };\n\n        return CompositionHistoryItem;\n      }(HistoryItem);\n\n      exports.CompositionHistoryItem = CompositionHistoryItem;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DateRange = function () {\n        function DateRange(start, end) {\n          this.start = start;\n          this.end = end;\n        }\n\n        return DateRange;\n      }();\n\n      exports.DateRange = DateRange;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics2 = function extendStatics(d, b) {\n          _extendStatics2 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics2(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics2(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var DayOfWeek_1 = __webpack_require__(47);\n\n      var DayOfWeekMonthlyOccurrence_1 = __webpack_require__(25);\n\n      var Month_1 = __webpack_require__(48);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var RecurrenceFactory_1 = __webpack_require__(26);\n\n      var RecurrenceBase = function (_super) {\n        __extends(RecurrenceBase, _super);\n\n        function RecurrenceBase(start, end, interval, occurrenceCount) {\n          if (start === void 0) {\n            start = null;\n          }\n\n          if (end === void 0) {\n            end = null;\n          }\n\n          if (interval === void 0) {\n            interval = 1;\n          }\n\n          if (occurrenceCount === void 0) {\n            occurrenceCount = 0;\n          }\n\n          var _this = _super.call(this) || this;\n\n          _this._start = null;\n          _this._end = null;\n          _this._interval = 1;\n          _this._occurrenceCount = 0;\n          _this._dayOfWeek = 0;\n          _this._day = 1;\n          _this._dayOfWeekOccurrence = 0;\n          _this._month = 0;\n          _this._calculateByDayOfWeek = false;\n          _this.start = start;\n          _this.end = end;\n          _this.interval = interval;\n          _this.occurrenceCount = occurrenceCount;\n          return _this;\n        }\n\n        RecurrenceBase.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.start = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.start);\n            this.end = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.end);\n            if (Utils_1.JsonUtils.isExists(sourceObj.interval)) this.interval = sourceObj.interval;\n            if (Utils_1.JsonUtils.isExists(sourceObj.occurrenceCount)) this.occurrenceCount = sourceObj.occurrenceCount;\n            if (Utils_1.JsonUtils.isExists(sourceObj.dayOfWeek)) this.dayOfWeekInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeek_1.DayOfWeek, sourceObj.dayOfWeek);\n            if (Utils_1.JsonUtils.isExists(sourceObj.day)) this.dayInternal = sourceObj.day;\n            if (Utils_1.JsonUtils.isExists(sourceObj.dayOfWeekOccurrence)) this.dayOfWeekOccurrenceInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence, sourceObj.dayOfWeekOccurrence);\n            if (Utils_1.JsonUtils.isExists(sourceObj.month)) this.monthInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(Month_1.Month, sourceObj.month);\n            if (Utils_1.JsonUtils.isExists(sourceObj.calculateByDayOfWeek)) this._calculateByDayOfWeek = !!sourceObj.calculateByDayOfWeek;\n          }\n        };\n\n        RecurrenceBase.prototype.calculatePoints = function (start, end) {\n          if (!start || !end) return new Array();\n          var from = DateTimeUtils_1.DateTimeUtils.getMaxDate(start, this._start);\n          var to = DateTimeUtils_1.DateTimeUtils.getMinDate(end, this._end);\n          if (this._occurrenceCount > 0) return this.calculatePointsByOccurrenceCount(from, to);\n          return this.calculatePointsByDateRange(from, to);\n        };\n\n        RecurrenceBase.prototype.calculatePointsByOccurrenceCount = function (start, end) {\n          var points = new Array();\n          var point = this.getFirstPoint(start);\n\n          while (!!point && points.length < this._occurrenceCount && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\n            if (this.isRecurrencePoint(point)) points.push(point);\n            point = this.getNextPoint(point);\n          }\n\n          return points;\n        };\n\n        RecurrenceBase.prototype.calculatePointsByDateRange = function (start, end) {\n          var points = new Array();\n          var point = this.getFirstPoint(start);\n\n          while (!!point && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\n            if (this.isRecurrencePoint(point)) points.push(point);\n            point = this.getNextPoint(point);\n          }\n\n          return points;\n        };\n\n        RecurrenceBase.prototype.getFirstPoint = function (start) {\n          if (this.isRecurrencePoint(start)) return start;\n          return this.getNextPoint(start);\n        };\n\n        ;\n\n        RecurrenceBase.prototype.isRecurrencePoint = function (date) {\n          return this.isDateInRange(date) && this.checkDate(date) && (!this.useIntervalInCalc() || this.checkInterval(date));\n        };\n\n        RecurrenceBase.prototype.isDateInRange = function (date) {\n          if (!date) return false;\n          if (this._start && DateTimeUtils_1.DateTimeUtils.compareDates(this.start, date) < 0) return false;\n          if (this._occurrenceCount == 0 && this.end && DateTimeUtils_1.DateTimeUtils.compareDates(date, this.end) < 0) return false;\n          return true;\n        };\n\n        RecurrenceBase.prototype.useIntervalInCalc = function () {\n          return this.interval > 1 && !!this._start;\n        };\n\n        RecurrenceBase.prototype.getNextPoint = function (date) {\n          if (!this.isDateInRange(date)) return null;\n          if (this.useIntervalInCalc()) return this.calculatePointByInterval(date);\n          return this.calculateNearestPoint(date);\n        };\n\n        ;\n\n        RecurrenceBase.prototype.getSpecDayInMonth = function (year, month) {\n          var date;\n          if (this._calculateByDayOfWeek) date = DateTimeUtils_1.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal, year, month, this.dayOfWeekOccurrenceInternal);else date = new Date(year, month, this.dayInternal);\n          return date;\n        };\n\n        Object.defineProperty(RecurrenceBase.prototype, \"dayInternal\", {\n          get: function get() {\n            return this._day;\n          },\n          set: function set(value) {\n            if (value > 0 && value <= 31) this._day = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekInternal\", {\n          get: function get() {\n            return this._dayOfWeek;\n          },\n          set: function set(dayOfWeek) {\n            if (dayOfWeek >= DayOfWeek_1.DayOfWeek.Sunday && dayOfWeek <= DayOfWeek_1.DayOfWeek.Saturday) this._dayOfWeek = dayOfWeek;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekOccurrenceInternal\", {\n          get: function get() {\n            return this._dayOfWeekOccurrence;\n          },\n          set: function set(value) {\n            if (value >= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.First && value <= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last) this._dayOfWeekOccurrence = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"monthInternal\", {\n          get: function get() {\n            return this._month;\n          },\n          set: function set(value) {\n            if (value >= Month_1.Month.January && value <= Month_1.Month.December) this._month = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"start\", {\n          get: function get() {\n            return this._start;\n          },\n          set: function set(date) {\n            if (!date) return;\n            this._start = date;\n            if (!!this._end && date > this._end) this._end = date;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"end\", {\n          get: function get() {\n            return this._end;\n          },\n          set: function set(date) {\n            if (!date) return;\n            this._end = date;\n            if (!!this._start && date < this._start) this._start = date;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"occurrenceCount\", {\n          get: function get() {\n            return this._occurrenceCount;\n          },\n          set: function set(value) {\n            if (value < 0) value = 0;\n            this._occurrenceCount = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(RecurrenceBase.prototype, \"interval\", {\n          get: function get() {\n            return this._interval;\n          },\n          set: function set(value) {\n            if (value > 0) this._interval = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        return RecurrenceBase;\n      }(DataObject_1.DataObject);\n\n      exports.RecurrenceBase = RecurrenceBase;\n      /***/\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Browser = function () {\n        function Browser() {}\n\n        Browser.IdentUserAgent = function (userAgent, ignoreDocumentMode) {\n          if (ignoreDocumentMode === void 0) {\n            ignoreDocumentMode = false;\n          }\n\n          var browserTypesOrderedList = [\"Mozilla\", \"IE\", \"Firefox\", \"Netscape\", \"Safari\", \"Chrome\", \"Opera\", \"Opera10\", \"Edge\"];\n          var defaultBrowserType = \"IE\";\n          var defaultPlatform = \"Win\";\n          var defaultVersions = {\n            Safari: 2,\n            Chrome: 0.1,\n            Mozilla: 1.9,\n            Netscape: 8,\n            Firefox: 2,\n            Opera: 9,\n            IE: 6,\n            Edge: 12\n          };\n\n          if (!userAgent || userAgent.length == 0) {\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\n            return;\n          }\n\n          userAgent = userAgent.toLowerCase();\n          Browser.indentPlatformMajorVersion(userAgent);\n\n          try {\n            var platformIdentStrings = {\n              \"Windows\": \"Win\",\n              \"Macintosh\": \"Mac\",\n              \"Mac OS\": \"Mac\",\n              \"Mac_PowerPC\": \"Mac\",\n              \"cpu os\": \"MacMobile\",\n              \"cpu iphone os\": \"MacMobile\",\n              \"Android\": \"Android\",\n              \"!Windows Phone\": \"WinPhone\",\n              \"!WPDesktop\": \"WinPhone\",\n              \"!ZuneWP\": \"WinPhone\"\n            };\n            var optSlashOrSpace = \"(?:/|\\\\s*)?\";\n            var versionString = \"(\\\\d+)(?:\\\\.((?:\\\\d+?[1-9])|\\\\d)0*?)?\";\n            var optVersion = \"(?:\" + versionString + \")?\";\n            var patterns = {\n              Safari: \"applewebkit(?:.*?(?:version/\" + versionString + \"[\\\\.\\\\w\\\\d]*?(?:\\\\s+mobile\\/\\\\S*)?\\\\s+safari))?\",\n              Chrome: \"(?:chrome|crios)(?!frame)\" + optSlashOrSpace + optVersion,\n              Mozilla: \"mozilla(?:.*rv:\" + optVersion + \".*Gecko)?\",\n              Netscape: \"(?:netscape|navigator)\\\\d*/?\\\\s*\" + optVersion,\n              Firefox: \"firefox\" + optSlashOrSpace + optVersion,\n              Opera: \"(?:opera|\\sopr)\" + optSlashOrSpace + optVersion,\n              Opera10: \"opera.*\\\\s*version\" + optSlashOrSpace + optVersion,\n              IE: \"msie\\\\s*\" + optVersion,\n              Edge: \"edge\" + optSlashOrSpace + optVersion\n            };\n            var browserType;\n            var version = -1;\n\n            for (var i = 0; i < browserTypesOrderedList.length; i++) {\n              var browserTypeCandidate = browserTypesOrderedList[i];\n              var regExp = new RegExp(patterns[browserTypeCandidate], \"i\");\n              if (regExp.compile) regExp.compile(patterns[browserTypeCandidate], \"i\");\n              var matches = regExp.exec(userAgent);\n\n              if (matches && matches.index >= 0) {\n                if (browserType == \"IE\" && version >= 11 && browserTypeCandidate == \"Safari\") continue;\n                browserType = browserTypeCandidate;\n                if (browserType == \"Opera10\") browserType = \"Opera\";\n                var tridentPattern = \"trident\" + optSlashOrSpace + optVersion;\n                version = Browser.GetBrowserVersion(userAgent, matches, tridentPattern, Browser.getIECompatibleVersionString());\n                if (browserType == \"Mozilla\" && version >= 11) browserType = \"IE\";\n              }\n            }\n\n            if (!browserType) browserType = defaultBrowserType;\n            var browserVersionDetected = version != -1;\n            if (!browserVersionDetected) version = defaultVersions[browserType];\n            var platform;\n            var minOccurenceIndex = Number.MAX_VALUE;\n\n            for (var identStr in platformIdentStrings) {\n              if (!platformIdentStrings.hasOwnProperty(identStr)) continue;\n              var importantIdent = identStr.substr(0, 1) == \"!\";\n              var occurenceIndex = userAgent.indexOf((importantIdent ? identStr.substr(1) : identStr).toLowerCase());\n\n              if (occurenceIndex >= 0 && (occurenceIndex < minOccurenceIndex || importantIdent)) {\n                minOccurenceIndex = importantIdent ? 0 : occurenceIndex;\n                platform = platformIdentStrings[identStr];\n              }\n            }\n\n            var samsungPattern = \"SM-[A-Z]\";\n            var m = userAgent.toUpperCase().match(samsungPattern);\n            var isSamsungAndroidDevice = m && m.length > 0;\n            if (platform == \"WinPhone\" && version < 9) version = Math.floor(Browser.getVersionFromTrident(userAgent, \"trident\" + optSlashOrSpace + optVersion));\n            if (!ignoreDocumentMode && browserType == \"IE\" && version > 7 && document.documentMode < version) version = document.documentMode;\n            if (platform == \"WinPhone\") version = Math.max(9, version);\n            if (!platform) platform = defaultPlatform;\n            if (platform == platformIdentStrings[\"cpu os\"] && !browserVersionDetected) version = 4;\n            Browser.fillUserAgentInfo(browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice);\n          } catch (e) {\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\n          }\n        };\n\n        Browser.GetBrowserVersion = function (userAgent, matches, tridentPattern, ieCompatibleVersionString) {\n          var version = Browser.getVersionFromMatches(matches);\n\n          if (ieCompatibleVersionString) {\n            var versionFromTrident = Browser.getVersionFromTrident(userAgent, tridentPattern);\n            if (ieCompatibleVersionString === \"edge\" || parseInt(ieCompatibleVersionString) === versionFromTrident) return versionFromTrident;\n          }\n\n          return version;\n        };\n\n        Browser.getIECompatibleVersionString = function () {\n          if (document.compatible) {\n            for (var i = 0; i < document.compatible.length; i++) {\n              if (document.compatible[i].userAgent === \"IE\" && document.compatible[i].version) return document.compatible[i].version.toLowerCase();\n            }\n          }\n\n          return \"\";\n        };\n\n        Browser.fillUserAgentInfo = function (browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice) {\n          if (isSamsungAndroidDevice === void 0) {\n            isSamsungAndroidDevice = false;\n          }\n\n          for (var i = 0; i < browserTypesOrderedList.length; i++) {\n            var type = browserTypesOrderedList[i];\n            Browser[type] = type == browserType;\n          }\n\n          Browser.Version = Math.floor(10.0 * version) / 10.0;\n          Browser.MajorVersion = Math.floor(Browser.Version);\n          Browser.WindowsPlatform = platform == \"Win\" || platform == \"WinPhone\";\n          Browser.MacOSPlatform = platform == \"Mac\";\n          Browser.MacOSMobilePlatform = platform == \"MacMobile\";\n          Browser.AndroidMobilePlatform = platform == \"Android\";\n          Browser.WindowsPhonePlatform = platform == \"WinPhone\";\n          Browser.WebKitFamily = Browser.Safari || Browser.Chrome || Browser.Opera && Browser.MajorVersion >= 15;\n          Browser.NetscapeFamily = Browser.Netscape || Browser.Mozilla || Browser.Firefox;\n          Browser.HardwareAcceleration = Browser.IE && Browser.MajorVersion >= 9 || Browser.Firefox && Browser.MajorVersion >= 4 || Browser.AndroidMobilePlatform && Browser.Chrome || Browser.Chrome && Browser.MajorVersion >= 37 || Browser.Safari && !Browser.WindowsPlatform || Browser.Edge || Browser.Opera && Browser.MajorVersion >= 46;\n          Browser.WebKitTouchUI = Browser.MacOSMobilePlatform || Browser.AndroidMobilePlatform;\n          var isIETouchUI = Browser.IE && Browser.MajorVersion > 9 && Browser.WindowsPlatform && Browser.UserAgent.toLowerCase().indexOf(\"touch\") >= 0;\n          Browser.MSTouchUI = isIETouchUI || Browser.Edge && !!window.navigator.maxTouchPoints;\n          Browser.TouchUI = Browser.WebKitTouchUI || Browser.MSTouchUI;\n          Browser.MobileUI = Browser.WebKitTouchUI || Browser.WindowsPhonePlatform;\n          Browser.AndroidDefaultBrowser = Browser.AndroidMobilePlatform && !Browser.Chrome;\n          Browser.AndroidChromeBrowser = Browser.AndroidMobilePlatform && Browser.Chrome;\n          if (isSamsungAndroidDevice) Browser.SamsungAndroidDevice = isSamsungAndroidDevice;\n\n          if (Browser.MSTouchUI) {\n            var isARMArchitecture = Browser.UserAgent.toLowerCase().indexOf(\"arm;\") > -1;\n            Browser.VirtualKeyboardSupported = isARMArchitecture || Browser.WindowsPhonePlatform;\n          } else {\n            Browser.VirtualKeyboardSupported = Browser.WebKitTouchUI;\n          }\n\n          Browser.fillDocumentElementBrowserTypeClassNames(browserTypesOrderedList);\n        };\n\n        Browser.indentPlatformMajorVersion = function (userAgent) {\n          var regex = /(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\\d+)(?:[-0-9_.])*/;\n          var matches = regex.exec(userAgent);\n          if (matches) Browser.PlaformMajorVersion = matches[1];\n        };\n\n        Browser.prototype.GetBrowserVersion = function (userAgent, matches, tridentPattern, ieCompatibleVersionString) {\n          var version = Browser.getVersionFromMatches(matches);\n\n          if (ieCompatibleVersionString) {\n            var versionFromTrident = Browser.getVersionFromTrident(userAgent, tridentPattern);\n            if (ieCompatibleVersionString === \"edge\" || parseInt(ieCompatibleVersionString) === versionFromTrident) return versionFromTrident;\n          }\n\n          return version;\n        };\n\n        Browser.getVersionFromMatches = function (matches) {\n          var result = -1;\n          var versionStr = \"\";\n\n          if (matches[1]) {\n            versionStr += matches[1];\n            if (matches[2]) versionStr += \".\" + matches[2];\n          }\n\n          if (versionStr != \"\") {\n            result = parseFloat(versionStr);\n            if (isNaN(result)) result = -1;\n          }\n\n          return result;\n        };\n\n        Browser.getVersionFromTrident = function (userAgent, tridentPattern) {\n          var tridentDiffFromVersion = 4;\n          var matches = new RegExp(tridentPattern, \"i\").exec(userAgent);\n          return Browser.getVersionFromMatches(matches) + tridentDiffFromVersion;\n        };\n\n        Browser.fillDocumentElementBrowserTypeClassNames = function (browserTypesOrderedList) {\n          var documentElementClassName = \"\";\n          var browserTypeslist = browserTypesOrderedList.concat([\"WindowsPlatform\", \"MacOSPlatform\", \"MacOSMobilePlatform\", \"AndroidMobilePlatform\", \"WindowsPhonePlatform\", \"WebKitFamily\", \"WebKitTouchUI\", \"MSTouchUI\", \"TouchUI\", \"AndroidDefaultBrowser\"]);\n\n          for (var i = 0; i < browserTypeslist.length; i++) {\n            var type = browserTypeslist[i];\n            if (Browser[type]) documentElementClassName += \"dx\" + type + \" \";\n          }\n\n          documentElementClassName += \"dxBrowserVersion-\" + Browser.MajorVersion;\n\n          if (document && document.documentElement) {\n            if (document.documentElement.className != \"\") documentElementClassName = \" \" + documentElementClassName;\n            document.documentElement.className += documentElementClassName;\n            Browser.Info = documentElementClassName;\n          }\n        };\n\n        Browser.UserAgent = window.navigator.userAgent.toLowerCase();\n        Browser._foo = Browser.IdentUserAgent(Browser.UserAgent);\n        return Browser;\n      }();\n\n      exports.Browser = Browser;\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics3 = function extendStatics(d, b) {\n          _extendStatics3 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics3(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics3(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CollectionBase_1 = __webpack_require__(6);\n\n      var Resource_1 = __webpack_require__(36);\n\n      var ResourceCollection = function (_super) {\n        __extends(ResourceCollection, _super);\n\n        function ResourceCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceCollection.prototype.createItem = function () {\n          return new Resource_1.Resource();\n        };\n\n        return ResourceCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.ResourceCollection = ResourceCollection;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics4 = function extendStatics(d, b) {\n          _extendStatics4 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics4(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics4(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DependencyType;\n\n      (function (DependencyType) {\n        DependencyType[DependencyType[\"FS\"] = 0] = \"FS\";\n        DependencyType[DependencyType[\"SS\"] = 1] = \"SS\";\n        DependencyType[DependencyType[\"FF\"] = 2] = \"FF\";\n        DependencyType[DependencyType[\"SF\"] = 3] = \"SF\";\n      })(DependencyType = exports.DependencyType || (exports.DependencyType = {}));\n\n      var Dependency = function (_super) {\n        __extends(Dependency, _super);\n\n        function Dependency() {\n          var _this = _super.call(this) || this;\n\n          _this.predecessorId = \"\";\n          _this.successorId = \"\";\n          _this.type = null;\n          return _this;\n        }\n\n        Dependency.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.internalId = String(sourceObj.id);\n            this.predecessorId = String(sourceObj.predecessorId);\n            this.successorId = String(sourceObj.successorId);\n            this.type = sourceObj.type;\n          }\n        };\n\n        return Dependency;\n      }(DataObject_1.DataObject);\n\n      exports.Dependency = Dependency;\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Size = function () {\n        function Size(width, height) {\n          this.width = null;\n          this.height = null;\n          if (width !== undefined) this.width = width;\n          if (height !== undefined) this.height = height;\n        }\n\n        return Size;\n      }();\n\n      exports.Size = Size;\n      /***/\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Size_1 = __webpack_require__(15);\n\n      var DateRange_1 = __webpack_require__(10);\n\n      var Enums_1 = __webpack_require__(7);\n\n      var GridElementInfo_1 = __webpack_require__(29);\n\n      var Utils_1 = __webpack_require__(28);\n\n      var Point_1 = __webpack_require__(3);\n\n      var Dependency_1 = __webpack_require__(14);\n\n      var GridLayoutCalculator = function () {\n        function GridLayoutCalculator() {\n          this.tileToDependencyMap = [];\n          this.tileToNoWorkingIntervalsMap = [];\n          this.minLineLength = 10;\n          this.resourceMaxWidth = 500;\n          this.minTaskWidth = 2;\n        }\n\n        GridLayoutCalculator.prototype.setSettings = function (visibleTaskAreaSize, tickSize, elementSizeValues, range, viewModel, viewType, scrollBarHeight) {\n          if (scrollBarHeight === void 0) {\n            scrollBarHeight = 0;\n          }\n\n          this.visibleTaskAreaSize = visibleTaskAreaSize;\n          this.tickSize = tickSize;\n          this.viewType = viewType;\n          this.range = range;\n          this.verticalTickCount = viewModel.itemCount;\n          this.viewModel = viewModel;\n          this.elementSizeValues = elementSizeValues;\n          this.taskHeight = elementSizeValues.taskHeight;\n          this.milestoneWidth = elementSizeValues.milestoneWidth;\n          this.scaleHeight = elementSizeValues.scaleItemHeight;\n          this.arrowSize = new Size_1.Size(elementSizeValues.connectorArrowWidth, elementSizeValues.connectorArrowWidth);\n          this.lineThickness = elementSizeValues.connectorLineThickness;\n          this.minConnectorSpaceFromTask = (this.tickSize.height - this.taskHeight) / 2;\n          this.tickTimeSpan = Utils_1.DateUtils.getTickTimeSpan(viewType);\n          this.horizontalTickCount = this.getTotalTickCount();\n          this.scrollBarHeight = scrollBarHeight;\n          this.createTileToConnectorLinesMap();\n          this.createTileToNonWorkingIntervalsMap();\n        };\n\n        GridLayoutCalculator.prototype.getTaskAreaBorderInfo = function (index, isVertical) {\n          var sizeValue = isVertical ? this.getVerticalGridLineHeight() : this.tickSize.width * this.horizontalTickCount;\n          return this.getGridBorderInfo(index, isVertical, sizeValue);\n        };\n\n        GridLayoutCalculator.prototype.getScaleBorderInfo = function (index, scaleType) {\n          var result = this.getGridBorderInfo(index, true, this.scaleHeight);\n          result.position.x *= this.getScaleItemColSpan(scaleType);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getGridBorderInfo = function (index, isVertical, size) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.setPosition(this.getGridBorderPosition(index, isVertical));\n          if (size) result.setSize(this.getGridBorderSize(isVertical, size));\n          result.className = isVertical ? \"dx-gantt-vb\" : \"dx-gantt-hb\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getGridBorderPosition = function (index, isVertical) {\n          var result = new Point_1.Point();\n          var posValue = (index + 1) * (isVertical ? this.tickSize.width : this.tickSize.height);\n          if (isVertical) result.x = posValue;else result.y = posValue;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getGridBorderSize = function (isVertical, sizeValue) {\n          var result = new Size_1.Size();\n          if (isVertical) result.height = sizeValue;else result.width = sizeValue;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getScaleElementInfo = function (index, scaleType) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.setPosition(this.getScaleItemPosition(index, scaleType));\n          result.setSize(this.getScaleItemSize(scaleType));\n          result.className = this.getScaleItemClassName(scaleType, result, this.getRenderedNoWorkingIntervals(result.position.x));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemClassName = function (scaleType, scaleItemInfo, noWorkingIntervals) {\n          var result = \"dx-gantt-si\";\n          if (scaleType.valueOf() == this.viewType.valueOf() && this.isScaleItemInsideNoWorkingInterval(scaleItemInfo, noWorkingIntervals)) result += \" dx-gantt-holiday-scaleItem\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.isScaleItemInsideNoWorkingInterval = function (scaleItemInfo, noWorkingIntervals) {\n          var scaleItemLeft = scaleItemInfo.position.x;\n          var scaleItemRight = scaleItemInfo.position.x + scaleItemInfo.size.width;\n\n          for (var i = 0; i < noWorkingIntervals.length; i++) {\n            var noWorkingIntervalLeft = noWorkingIntervals[i].position.x;\n            var noWorkingIntervalRight = noWorkingIntervals[i].position.x + noWorkingIntervals[i].size.width;\n            if (scaleItemLeft >= noWorkingIntervalLeft && scaleItemRight <= noWorkingIntervalRight) return true;\n          }\n\n          return false;\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemPosition = function (index, scaleType) {\n          return new Point_1.Point(index * this.tickSize.width * this.getScaleItemColSpan(scaleType));\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemSize = function (scaleType) {\n          return new Size_1.Size(this.tickSize.width * this.getScaleItemColSpan(scaleType));\n        };\n\n        GridLayoutCalculator.prototype.getScaleItemColSpan = function (scaleType) {\n          if (scaleType.valueOf() == this.viewType.valueOf()) return 1;\n          if (this.viewType == Enums_1.ViewType.TenMinutes) return 6;\n          if (this.viewType == Enums_1.ViewType.Hours) return 24;\n          if (this.viewType == Enums_1.ViewType.SixHours) return 4;\n          if (this.viewType == Enums_1.ViewType.Days) return 7;\n          if (this.viewType == Enums_1.ViewType.Weeks) return 4.29;\n          if (this.viewType == Enums_1.ViewType.Months) return 12;\n          if (this.viewType == Enums_1.ViewType.Quarter) return 4;\n          if (this.viewType == Enums_1.ViewType.Years) return 5;\n          return 1;\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperElementInfo = function (index) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = this.getTaskWrapperClassName(index);\n          result.setPosition(this.getTaskWrapperPoint(index));\n          result.setSize(this.getTaskWrapperSize(index));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperClassName = function (index) {\n          var result = \"dx-gantt-taskWrapper\";\n          if (this.getTask(index).isMilestone()) result = \"dx-gantt-milestoneWrapper\";\n          if (this.viewModel.items[index].selected) result += \" dx-gantt-selectedTask\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperSize = function (index) {\n          var resourceCount = this.viewModel.items[index].resources.items.length;\n          var resourceWidth = this.resourceMaxWidth * resourceCount;\n          var taskWidth = this.getTaskWidth(index);\n          var taskPoint = this.getTaskPoint(index);\n          var totalWidth = this.tickSize.width * this.horizontalTickCount;\n          var resultWidth = Math.min(taskWidth + resourceWidth, totalWidth - taskPoint.x);\n          return new Size_1.Size(resultWidth);\n        };\n\n        GridLayoutCalculator.prototype.getTaskWrapperPoint = function (index) {\n          var result = new Point_1.Point(this.getPosByDate(this.getTask(index).start), index * this.tickSize.height);\n\n          if (this.getTask(index).isMilestone()) {\n            var height = this.getTaskHeight(index);\n            result.x -= height / 2;\n            result.y += (this.tickSize.height - height) / 2;\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskElementInfo = function (index) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          if (!this.getTask(index).isMilestone()) result.size.width = this.getTaskWidth(index);\n          result.className = this.getTaskClassName(index, result.size.width);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskClassName = function (index, taskWidth) {\n          var result = \"dx-gantt-task\";\n          if (this.getTask(index).isMilestone()) result += \" dx-gantt-milestone\";else if (taskWidth <= this.elementSizeValues.smallTaskWidth) result += \" dx-gantt-smallTask\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskPoint = function (index) {\n          var result = this.getTaskWrapperPoint(index);\n          if (!this.getTask(index).isMilestone()) result.y += this.elementSizeValues.taskWrapperTopPadding;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskSize = function (index) {\n          return new Size_1.Size(this.getTaskWidth(index), this.getTaskHeight(index));\n        };\n\n        GridLayoutCalculator.prototype.getTaskWidth = function (index) {\n          var task = this.getTask(index);\n          return task.isMilestone() ? this.getTaskHeight(index) : this.getWidthByDateRange(task.start, task.end);\n        };\n\n        GridLayoutCalculator.prototype.getTaskHeight = function (index) {\n          var task = this.getTask(index);\n          return task.isMilestone() ? this.milestoneWidth : this.taskHeight;\n        };\n\n        GridLayoutCalculator.prototype.getTask = function (index) {\n          return this.viewModel.items[index].task;\n        };\n\n        GridLayoutCalculator.prototype.getTaskProgressElementInfo = function (index) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = \"dx-gantt-tPrg\";\n          result.setSize(this.getTaskProgressSize(index));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskProgressSize = function (index) {\n          return new Size_1.Size(this.getTaskProgressWidth(index), null);\n        };\n\n        GridLayoutCalculator.prototype.getTaskProgressWidth = function (index) {\n          return this.getTaskWidth(index) * this.getTask(index).progress / 100;\n        };\n\n        GridLayoutCalculator.prototype.getTaskTextElementInfo = function (index, isInsideText) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = this.getTaskTextElementClassName(isInsideText);\n\n          if (!isInsideText) {\n            var taskX = this.getTaskPoint(index).x;\n\n            if (taskX < this.elementSizeValues.outsideTaskTextDefaultWidth) {\n              result.size.width = taskX;\n              result.margins.marginLeft = -taskX;\n            }\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskTextElementClassName = function (isInsideText) {\n          var result = \"dx-gantt-taskTitle\";\n          result += isInsideText ? \" dx-gantt-titleIn\" : \" dx-gantt-titleOut\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskResourceElementInfo = function () {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = \"dx-gantt-taskRes\";\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getSelectionElementInfo = function (index) {\n          return this.getRowElementInfo(index, \"dx-gantt-sel\");\n        };\n\n        GridLayoutCalculator.prototype.getSelectionPosition = function (index) {\n          var result = new Point_1.Point();\n          result.y = index * this.tickSize.height;\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getSelectionSize = function () {\n          return new Size_1.Size(this.tickSize.width * this.horizontalTickCount, this.tickSize.height);\n        };\n\n        GridLayoutCalculator.prototype.getHighlightRowInfo = function (index) {\n          return this.getRowElementInfo(index, \"dx-gantt-altRow\");\n        };\n\n        GridLayoutCalculator.prototype.getRowElementInfo = function (index, className) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = className;\n          result.setPosition(this.getSelectionPosition(index));\n          result.setSize(this.getSelectionSize());\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getNoWorkingIntervalInfo = function (noWorkingDateRange) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          result.className = \"dx-gantt-nwi\";\n          result.setPosition(this.getNoWorkingIntervalPosition(noWorkingDateRange.start));\n          result.setSize(this.getNoWorkingIntervalSize(noWorkingDateRange));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getNoWorkingIntervalPosition = function (intervalStart) {\n          var result = new Point_1.Point();\n          result.x = this.getPosByDate(intervalStart);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getNoWorkingIntervalSize = function (noWorkingInterval) {\n          return new Size_1.Size(this.getWidthByDateRange(noWorkingInterval.start, noWorkingInterval.end), this.getVerticalGridLineHeight());\n        };\n\n        GridLayoutCalculator.prototype.getVerticalGridLineHeight = function () {\n          return Math.max(this.visibleTaskAreaSize.height - this.scrollBarHeight, this.tickSize.height * this.verticalTickCount);\n        };\n\n        GridLayoutCalculator.prototype.getConnectorInfo = function (id, predessorIndex, successorIndex, connectorType) {\n          var result = new Array();\n          var connectorPoints = this.getConnectorPoints(predessorIndex, successorIndex, connectorType);\n\n          for (var i = 0; i < connectorPoints.length - 1; i++) {\n            result.push(this.getConnectorLineInfo(id, connectorPoints[i], connectorPoints[i + 1], i == 0 || i == connectorPoints.length - 2));\n          }\n\n          result.push(this.getArrowInfo(connectorPoints, result, predessorIndex, successorIndex));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorLineInfo = function (id, startPoint, endPoint, isEdgeLine) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          var isVertical = startPoint.x == endPoint.x;\n          result.className = this.getConnectorClassName(isVertical);\n          result.setPosition(this.getConnectorPosition(startPoint, endPoint));\n          result.setSize(this.getConnectorSize(startPoint, endPoint, isVertical, isEdgeLine));\n          result.setAttribute(\"dependency-id\", id);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorClassName = function (isVertical) {\n          return isVertical ? GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL : GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPosition = function (startPoint, endPoint) {\n          return new Point_1.Point(Math.min(startPoint.x, endPoint.x), Math.min(startPoint.y, endPoint.y));\n        };\n\n        GridLayoutCalculator.prototype.getConnectorSize = function (startPoint, endPoint, isVertical, isEdgeLine) {\n          var result = new Size_1.Size();\n          var sizeCorrection = isEdgeLine ? 0 : 0;\n          if (isVertical) result.height = Math.abs(endPoint.y - startPoint.y + sizeCorrection);else result.width = Math.abs(endPoint.x - startPoint.x + sizeCorrection);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getArrowInfo = function (connectorPoints, connectorLines, predessorIndex, successorIndex) {\n          var result = new GridElementInfo_1.GridElementInfo();\n          var lineInfo = this.findArrowLineInfo(connectorLines, predessorIndex, successorIndex);\n          var arrowPosition = this.getArrowPosition(connectorPoints, predessorIndex, successorIndex);\n          result.className = this.getArrowClassName(arrowPosition);\n          result.setPosition(this.getArrowPoint(lineInfo, arrowPosition));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.findArrowLineInfo = function (connectorLines, predessorIndex, successorIndex) {\n          var arrowLineIndex = predessorIndex < successorIndex ? connectorLines.length - 1 : 0;\n          return connectorLines[arrowLineIndex];\n        };\n\n        GridLayoutCalculator.prototype.getArrowPosition = function (connectorPoints, predessorIndex, successorIndex) {\n          var prevLastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 2 : 1];\n          var lastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 1 : 0];\n          if (prevLastPoint.x == lastPoint.x) return prevLastPoint.y > lastPoint.y ? Enums_1.Position.Top : Enums_1.Position.Bottom;\n          return prevLastPoint.x > lastPoint.x ? Enums_1.Position.Left : Enums_1.Position.Right;\n        };\n\n        GridLayoutCalculator.prototype.getArrowClassName = function (arrowPosition) {\n          var result = \"dx-gantt-arrow\";\n\n          switch (arrowPosition) {\n            case Enums_1.Position.Left:\n              result += \" dx-gantt-LA\";\n              break;\n\n            case Enums_1.Position.Top:\n              result += \" dx-gantt-TA\";\n              break;\n\n            case Enums_1.Position.Right:\n              result += \" dx-gantt-RA\";\n              break;\n\n            case Enums_1.Position.Bottom:\n              result += \" dx-gantt-BA\";\n              break;\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getArrowPoint = function (lineInfo, arrowPosition) {\n          return new Point_1.Point(this.getArrowX(lineInfo, arrowPosition), this.getArrowY(lineInfo, arrowPosition));\n        };\n\n        GridLayoutCalculator.prototype.getArrowX = function (lineInfo, arrowPosition) {\n          switch (arrowPosition) {\n            case Enums_1.Position.Left:\n              return lineInfo.position.x - this.arrowSize.width / 2;\n\n            case Enums_1.Position.Right:\n              return lineInfo.position.x + lineInfo.size.width - this.arrowSize.width / 2;\n\n            case Enums_1.Position.Top:\n            case Enums_1.Position.Bottom:\n              return lineInfo.position.x - (this.arrowSize.width - this.lineThickness) / 2;\n          }\n        };\n\n        GridLayoutCalculator.prototype.getArrowY = function (lineInfo, arrowPosition) {\n          switch (arrowPosition) {\n            case Enums_1.Position.Top:\n              return lineInfo.position.y - this.arrowSize.height / 2;\n\n            case Enums_1.Position.Bottom:\n              return lineInfo.position.y + lineInfo.size.height - this.arrowSize.height / 2;\n\n            case Enums_1.Position.Left:\n            case Enums_1.Position.Right:\n              return lineInfo.position.y - (this.arrowSize.height - this.lineThickness) / 2;\n          }\n        };\n\n        GridLayoutCalculator.prototype.getPosByDate = function (date) {\n          return this.getWidthByDateRange(this.range.start, date);\n        };\n\n        GridLayoutCalculator.prototype.getWidthByDateRange = function (start, end) {\n          var width = this.getRangeTickCount(start, end) * this.tickSize.width;\n          return Math.max(width, this.minTaskWidth);\n        };\n\n        GridLayoutCalculator.prototype.getRangeTickCount = function (start, end) {\n          if (this.viewType == Enums_1.ViewType.Months) return this.getRangeTickCountInMonthsViewType(start, end);\n          if (this.viewType == Enums_1.ViewType.Quarter) return this.getRangeTickCountInQuarterViewType(start, end);\n          return (end.getTime() - start.getTime()) / this.tickTimeSpan;\n        };\n\n        GridLayoutCalculator.prototype.getRangeTickCountInMonthsViewType = function (start, end) {\n          var startMonthStartDate = new Date(start.getFullYear(), start.getMonth(), 1);\n          var endMonthStartDate = new Date(end.getFullYear(), end.getMonth(), 1);\n          var monthOffset = Utils_1.DateUtils.getOffsetInMonths(startMonthStartDate, endMonthStartDate);\n          var endFromMonthStartDateOffset = end.getTime() - endMonthStartDate.getTime();\n          var startFromMonthStartDateOffset = start.getTime() - startMonthStartDate.getTime();\n          return monthOffset + (endFromMonthStartDateOffset - startFromMonthStartDateOffset) / Utils_1.DateUtils.msPerMonth;\n        };\n\n        GridLayoutCalculator.prototype.getRangeTickCountInQuarterViewType = function (start, end) {\n          var startQuarterStartDate = new Date(start.getFullYear(), Math.floor(start.getMonth() / 3) * 3, 1);\n          var endQuarterStartDate = new Date(end.getFullYear(), Math.floor(end.getMonth() / 3) * 3, 1);\n          var quarterOffset = Utils_1.DateUtils.getOffsetInQuarters(startQuarterStartDate, endQuarterStartDate);\n          var endFromQuarterStartDateOffset = end.getTime() - endQuarterStartDate.getTime();\n          var startFromQuarterStartDateOffset = start.getTime() - startQuarterStartDate.getTime();\n          return quarterOffset + (endFromQuarterStartDateOffset - startFromQuarterStartDateOffset) / (Utils_1.DateUtils.msPerMonth * 3);\n        };\n\n        GridLayoutCalculator.prototype.getDateByPos = function (position) {\n          var preResult = position / this.tickSize.width;\n          var start = new Date(this.range.start);\n\n          if (this.viewType == Enums_1.ViewType.Months || this.viewType == Enums_1.ViewType.Quarter) {\n            var monthFromStart = Math.floor(preResult);\n            start = new Date(start.setMonth(start.getMonth() + (this.viewType == Enums_1.ViewType.Months ? monthFromStart : monthFromStart * 3)));\n            preResult = (position - this.getPosByDate(start)) / this.tickSize.width;\n          }\n\n          var time = preResult * this.tickTimeSpan + start.getTime();\n          var result = new Date();\n          result.setTime(time);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTotalTickCount = function () {\n          return this.getRangeTickCount(this.range.start, this.range.end);\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints = function (predessorIndex, successorIndex, connectorType) {\n          switch (connectorType) {\n            case Dependency_1.DependencyType.FS:\n              return this.getFinishToStartConnectorPoints(predessorIndex, successorIndex);\n\n            case Dependency_1.DependencyType.SF:\n              return this.getStartToFinishConnectorPoints(predessorIndex, successorIndex);\n\n            case Dependency_1.DependencyType.SS:\n              return this.getStartToStartConnectorPoints(predessorIndex, successorIndex);\n\n            case Dependency_1.DependencyType.FF:\n              return this.getFinishToFinishConnectorPoints(predessorIndex, successorIndex);\n\n            default:\n              return new Array();\n          }\n        };\n\n        GridLayoutCalculator.prototype.getFinishToStartConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) {\n            if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start) return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(predessorIndex, successorIndex, false);\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(predessorIndex, successorIndex, false);\n          } else {\n            if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start) return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(successorIndex, predessorIndex, false);\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(successorIndex, predessorIndex, true);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getFinishToFinishConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) {\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(predessorIndex, successorIndex);\n          } else {\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(successorIndex, predessorIndex);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getStartToStartConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) {\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(predessorIndex, successorIndex);\n          } else {\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(successorIndex, predessorIndex);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getStartToFinishConnectorPoints = function (predessorIndex, successorIndex) {\n          if (predessorIndex < successorIndex) {\n            if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end) return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(predessorIndex, successorIndex, true);\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(predessorIndex, successorIndex, false);\n          } else {\n            if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end) return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\n          var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\n          result.push(new Point_1.Point(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent, result[0].y));\n          result.push(new Point_1.Point(result[1].x, bottomTaskTopCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\n          result.push(new Point_1.Point(Math.max(topTaskRightCenter.x, bottomTaskRightCenter.x) + this.minLineLength, result[0].y));\n          result.push(new Point_1.Point(result[1].x, bottomTaskRightCenter.y));\n          result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\n          result.push(new Point_1.Point(result[0].x + this.minLineLength, result[0].y));\n          result.push(new Point_1.Point(result[1].x, shiftToTop ? topTaskBottomCenter.y + this.minConnectorSpaceFromTask : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask));\n          result.push(new Point_1.Point(bottomTaskLeftCenter.x - this.minLineLength, result[2].y));\n          result.push(new Point_1.Point(result[3].x, bottomTaskLeftCenter.y));\n          result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\n          var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\n          var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new Point_1.Point(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent, topTaskBottomCenter.y));\n          result.push(new Point_1.Point(result[0].x, bottomTaskRightCenter.y));\n          result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\n          var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\n          var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new Point_1.Point(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent, topTaskBottomCenter.y));\n          result.push(new Point_1.Point(result[0].x, bottomTaskLeftCenter.y));\n          result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\n          var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\n          result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\n          result.push(new Point_1.Point(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent, result[0].y));\n          result.push(new Point_1.Point(result[1].x, bottomTaskTopCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\n          var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\n          var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\n          result.push(new Point_1.Point(result[0].x - this.minLineLength, result[0].y));\n          result.push(new Point_1.Point(result[1].x, shiftToTop ? topTaskBottomCenter.y + this.minConnectorSpaceFromTask : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask));\n          result.push(new Point_1.Point(bottomTaskRightCenter.x + this.minLineLength, result[2].y));\n          result.push(new Point_1.Point(result[3].x, bottomTaskRightCenter.y));\n          result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex) {\n          var result = new Array();\n          var topTaskPoint = this.getTaskPoint(topTaskIndex);\n          var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\n          var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\n          var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\n          result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\n          result.push(new Point_1.Point(Math.min(topTaskLeftCenter.x, bottomTaskLeftCenter.x) - this.minLineLength, result[0].y));\n          result.push(new Point_1.Point(result[1].x, bottomTaskLeftCenter.y));\n          result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getTaskLeftCenter = function (taskPoint, index) {\n          return new Point_1.Point(taskPoint.x - this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\n        };\n\n        GridLayoutCalculator.prototype.getTaskRightCenter = function (taskPoint, index) {\n          return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) + this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\n        };\n\n        GridLayoutCalculator.prototype.getTaskTopCenter = function (taskPoint, index) {\n          return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y - this.getTaskEdgeCorrection(index));\n        };\n\n        GridLayoutCalculator.prototype.getTaskBottomCenter = function (taskPoint, index) {\n          return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y + this.getTaskHeight(index) + this.getTaskEdgeCorrection(index));\n        };\n\n        GridLayoutCalculator.prototype.getTaskEdgeCorrection = function (index) {\n          var isMilestone = this.viewModel.items[index].task.isMilestone();\n          return isMilestone ? this.getTaskHeight(index) * (Math.sqrt(2) - 1) / 2 : 0;\n        };\n\n        GridLayoutCalculator.prototype.getRenderedRowColumnIndices = function (scrollPos, isVertical) {\n          var visibleAreaSizeValue = isVertical ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\n          var tickSizeValue = isVertical ? this.tickSize.height : this.tickSize.width;\n          var tickCount = isVertical ? this.verticalTickCount : this.horizontalTickCount;\n          var firstVisibleIndex = this.getFirstVisibleGridCellIndex(scrollPos, tickSizeValue);\n          var lastVisibleIndex = this.getLastVisibleGridCellIndex(scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount);\n          var result = new Array();\n\n          for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++) {\n            result.push(i);\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getRenderedScaleItemIndices = function (scaleType, renderedColIndices) {\n          var scaleItemColSpan = this.getScaleItemColSpan(scaleType);\n          var firstVisibleIndex = Math.floor(renderedColIndices[0] / scaleItemColSpan);\n          var lastVisibleIndex = Math.floor(renderedColIndices[renderedColIndices.length - 1] / scaleItemColSpan);\n          var result = new Array();\n\n          for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++) {\n            result.push(i);\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getFirstVisibleGridCellIndex = function (scrollPos, tickSizeValue) {\n          var result = Math.floor(scrollPos / tickSizeValue);\n          result = Math.max(result - 10, 0);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.getLastVisibleGridCellIndex = function (scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount) {\n          var result = Math.floor((scrollPos + visibleAreaSizeValue) / tickSizeValue);\n          result = Math.min(result + 10, tickCount - 1);\n          return result;\n        };\n\n        GridLayoutCalculator.prototype.createTileToConnectorLinesMap = function () {\n          var _this = this;\n\n          this.tileToDependencyMap = [];\n\n          for (var i = 0; i < this.viewModel.items.length; i++) {\n            for (var j = 0; j < this.viewModel.items[i].dependencies.length; j++) {\n              var predessorIndex = this.viewModel.items[i].dependencies[j].predecessor.visibleIndex;\n              var successorIndex = this.viewModel.items[i].visibleIndex;\n              var type = this.viewModel.items[i].dependencies[j].type;\n              var id = this.viewModel.items[i].dependencies[j].id;\n              var connectorInfo = this.getConnectorInfo(id, predessorIndex, successorIndex, type);\n              connectorInfo.forEach(function (connectorLine) {\n                _this.addElementInfoToTileMap(connectorLine, _this.tileToDependencyMap, true);\n              });\n            }\n          }\n        };\n\n        GridLayoutCalculator.prototype.createTileToNonWorkingIntervalsMap = function () {\n          this.tileToNoWorkingIntervalsMap = [];\n\n          for (var i = 0; i < this.viewModel.noWorkingIntervals.length; i++) {\n            var noWorkingDateRange = this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[i]);\n            if (!noWorkingDateRange) continue;\n            var noWorkingIntervalInfo = this.getNoWorkingIntervalInfo(noWorkingDateRange);\n            this.addElementInfoToTileMap(noWorkingIntervalInfo, this.tileToNoWorkingIntervalsMap, false);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getAdjustedNoWorkingInterval = function (modelInterval) {\n          if (modelInterval.end.getTime() - modelInterval.start.getTime() < this.tickTimeSpan - 1) return null;\n          return new DateRange_1.DateRange(Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.start, this.range, this.tickTimeSpan, this.viewType), Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.end, this.range, this.tickTimeSpan, this.viewType));\n        };\n\n        GridLayoutCalculator.prototype.addElementInfoToTileMap = function (info, map, isVerticalTile) {\n          var infoPointValue = isVerticalTile ? info.position.y : info.position.x;\n          var infoSizeValue = isVerticalTile ? info.size.height : info.size.width;\n          var tileSizeValue = (isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width) * 2;\n          var firstTileIndex = Math.floor(infoPointValue / tileSizeValue);\n          var lastTileIndex = Math.floor((infoPointValue + infoSizeValue) / tileSizeValue);\n\n          for (var i = firstTileIndex; i <= lastTileIndex; i++) {\n            if (!map[i]) map[i] = new Array();\n            map[i].push(info);\n          }\n        };\n\n        GridLayoutCalculator.prototype.getRenderedConnectorLines = function (scrollPos) {\n          return this.getElementsInRenderedTiles(this.tileToDependencyMap, true, scrollPos);\n        };\n\n        GridLayoutCalculator.prototype.getRenderedNoWorkingIntervals = function (scrollPos) {\n          return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap, false, scrollPos);\n        };\n\n        GridLayoutCalculator.prototype.getElementsInRenderedTiles = function (map, isVerticalTile, scrollPos) {\n          var visibleAreaSizeValue = isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\n          var firstVisibleTileIndex = Math.floor(scrollPos / (visibleAreaSizeValue * 2));\n          var lastVisibleTileIndex = Math.floor((scrollPos + visibleAreaSizeValue) / (visibleAreaSizeValue * 2));\n          var result = new Array();\n\n          for (var i = firstVisibleTileIndex; i <= lastVisibleTileIndex; i++) {\n            if (!map[i]) continue;\n            map[i].forEach(function (info) {\n              if (result.indexOf(info) == -1) result.push(info);\n            });\n          }\n\n          return result;\n        };\n\n        GridLayoutCalculator.CLASSNAMES = {\n          CONNECTOR_VERTICAL: \"dx-gantt-conn-v\",\n          CONNECTOR_HORIZONTAL: \"dx-gantt-conn-h\"\n        };\n        return GridLayoutCalculator;\n      }();\n\n      exports.GridLayoutCalculator = GridLayoutCalculator;\n      /***/\n    },\n    /* 17 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics5 = function extendStatics(d, b) {\n          _extendStatics5 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics5(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics5(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItemState_1 = __webpack_require__(58);\n\n      var BaseManipulator = function () {\n        function BaseManipulator(viewModel, dispatcher) {\n          this.viewModel = viewModel;\n          this.dispatcher = dispatcher;\n        }\n\n        return BaseManipulator;\n      }();\n\n      exports.BaseManipulator = BaseManipulator;\n\n      var TaskPropertiesManipulator = function (_super) {\n        __extends(TaskPropertiesManipulator, _super);\n\n        function TaskPropertiesManipulator(viewModel, dispatcher) {\n          var _this = _super.call(this, viewModel, dispatcher) || this;\n\n          _this.title = new TaskTitleManipulator(viewModel, dispatcher);\n          _this.description = new TaskDescriptionManipulator(viewModel, dispatcher);\n          _this.progress = new TaskProgressManipulator(viewModel, dispatcher);\n          _this.start = new TaskStartDateManipulator(viewModel, dispatcher);\n          _this.end = new TaskEndDateManipulator(viewModel, dispatcher);\n          return _this;\n        }\n\n        return TaskPropertiesManipulator;\n      }(BaseManipulator);\n\n      exports.TaskPropertiesManipulator = TaskPropertiesManipulator;\n\n      var TaskPropertyManipulator = function (_super) {\n        __extends(TaskPropertyManipulator, _super);\n\n        function TaskPropertyManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskPropertyManipulator.prototype.setValue = function (id, newValue) {\n          var task = this.viewModel.tasks.getItemById(id);\n          var oldState = new HistoryItemState_1.HistoryItemState(id, this.getPropertyValue(task));\n          this.setPropertyValue(task, newValue);\n          this.viewModel.owner.resetAndUpdate();\n          return oldState;\n        };\n\n        TaskPropertyManipulator.prototype.restoreValue = function (state) {\n          if (!state) return;\n          var stateValue = state.value;\n          var task = this.viewModel.tasks.getItemById(state.taskId);\n          this.setPropertyValue(task, stateValue);\n          this.viewModel.owner.resetAndUpdate();\n        };\n\n        return TaskPropertyManipulator;\n      }(BaseManipulator);\n\n      exports.TaskPropertyManipulator = TaskPropertyManipulator;\n\n      var TaskTitleManipulator = function (_super) {\n        __extends(TaskTitleManipulator, _super);\n\n        function TaskTitleManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskTitleManipulator.prototype.getPropertyValue = function (task) {\n          return task.title;\n        };\n\n        TaskTitleManipulator.prototype.setPropertyValue = function (task, value) {\n          task.title = value;\n          this.dispatcher.notifyTaskTitleChanged(task.id, value);\n        };\n\n        return TaskTitleManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskDescriptionManipulator = function (_super) {\n        __extends(TaskDescriptionManipulator, _super);\n\n        function TaskDescriptionManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDescriptionManipulator.prototype.getPropertyValue = function (task) {\n          return task.description;\n        };\n\n        TaskDescriptionManipulator.prototype.setPropertyValue = function (task, value) {\n          task.description = value;\n          this.dispatcher.notifyTaskDescriptionChanged(task.id, value);\n        };\n\n        return TaskDescriptionManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskProgressManipulator = function (_super) {\n        __extends(TaskProgressManipulator, _super);\n\n        function TaskProgressManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskProgressManipulator.prototype.getPropertyValue = function (task) {\n          return task.progress;\n        };\n\n        TaskProgressManipulator.prototype.setPropertyValue = function (task, value) {\n          value = value < 0 ? 0 : value > 100 ? 100 : value;\n          task.progress = value;\n          this.dispatcher.notifyTaskProgressChanged(task.id, value);\n        };\n\n        return TaskProgressManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskStartDateManipulator = function (_super) {\n        __extends(TaskStartDateManipulator, _super);\n\n        function TaskStartDateManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskStartDateManipulator.prototype.getPropertyValue = function (task) {\n          return task.start;\n        };\n\n        TaskStartDateManipulator.prototype.setPropertyValue = function (task, value) {\n          task.start = value;\n          this.dispatcher.notifyTaskStartChanged(task.id, value);\n        };\n\n        return TaskStartDateManipulator;\n      }(TaskPropertyManipulator);\n\n      var TaskEndDateManipulator = function (_super) {\n        __extends(TaskEndDateManipulator, _super);\n\n        function TaskEndDateManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEndDateManipulator.prototype.getPropertyValue = function (task) {\n          return task.end;\n        };\n\n        TaskEndDateManipulator.prototype.setPropertyValue = function (task, value) {\n          task.end = value;\n          this.dispatcher.notifyTaskEndChanged(task.id, value);\n        };\n\n        return TaskEndDateManipulator;\n      }(TaskPropertyManipulator);\n      /***/\n\n    },\n    /* 18 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics6 = function extendStatics(d, b) {\n          _extendStatics6 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics6(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics6(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HandlerStateBase_1 = __webpack_require__(66);\n\n      var Point_1 = __webpack_require__(3);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerStateBase = function (_super) {\n        __extends(MouseHandlerStateBase, _super);\n\n        function MouseHandlerStateBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerStateBase.prototype.onMouseDoubleClick = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseDown = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseUp = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseMove = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.onMouseWheel = function (_evt) {};\n\n        MouseHandlerStateBase.prototype.getRelativePos = function (absolutePos) {\n          var taskAreaX = DomUtils_1.DomUtils.getAbsolutePositionX(this.handler.control.taskArea);\n          var taskAreaY = DomUtils_1.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);\n          return new Point_1.Point(absolutePos.x - taskAreaX, absolutePos.y - taskAreaY);\n        };\n\n        return MouseHandlerStateBase;\n      }(HandlerStateBase_1.HandlerStateBase);\n\n      exports.MouseHandlerStateBase = MouseHandlerStateBase;\n      /***/\n    },\n    /* 19 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics7 = function extendStatics(d, b) {\n          _extendStatics7 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics7(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics7(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Point_1 = __webpack_require__(3);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerStateBase_1 = __webpack_require__(18);\n\n      var MouseHandlerDragBaseState = function (_super) {\n        __extends(MouseHandlerDragBaseState, _super);\n\n        function MouseHandlerDragBaseState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerDragBaseState.prototype.onMouseDown = function (evt) {\n          this.currentPosition = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\n        };\n\n        MouseHandlerDragBaseState.prototype.onMouseUp = function (evt) {\n          this.onMouseUpInternal(evt);\n          this.handler.switchToDefaultState();\n        };\n\n        MouseHandlerDragBaseState.prototype.onMouseMove = function (evt) {\n          evt.preventDefault();\n          var position = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\n          this.onMouseMoveInternal(position);\n          this.currentPosition = position;\n        };\n\n        MouseHandlerDragBaseState.prototype.onMouseUpInternal = function (_evt) {};\n\n        MouseHandlerDragBaseState.prototype.onMouseMoveInternal = function (_position) {};\n\n        return MouseHandlerDragBaseState;\n      }(MouseHandlerStateBase_1.MouseHandlerStateBase);\n\n      exports.MouseHandlerDragBaseState = MouseHandlerDragBaseState;\n      /***/\n    },\n    /* 20 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics8 = function extendStatics(d, b) {\n          _extendStatics8 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics8(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics8(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem_1 = __webpack_require__(9);\n\n      var InsertDependencyHistoryItem = function (_super) {\n        __extends(InsertDependencyHistoryItem, _super);\n\n        function InsertDependencyHistoryItem(modelManipulator, predecessorId, successorId, type) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.predecessorId = predecessorId;\n          _this.successorId = successorId;\n          _this.type = type;\n          return _this;\n        }\n\n        InsertDependencyHistoryItem.prototype.redo = function () {\n          this.dependency = this.modelManipulator.dependency.insertDependency(this.predecessorId, this.successorId, this.type, this.dependency ? this.dependency.internalId : null);\n        };\n\n        InsertDependencyHistoryItem.prototype.undo = function () {\n          this.modelManipulator.dependency.removeDependency(this.dependency.internalId);\n        };\n\n        return InsertDependencyHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.InsertDependencyHistoryItem = InsertDependencyHistoryItem;\n\n      var RemoveDependencyHistoryItem = function (_super) {\n        __extends(RemoveDependencyHistoryItem, _super);\n\n        function RemoveDependencyHistoryItem(modelManipulator, dependencyId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.dependencyId = dependencyId;\n          return _this;\n        }\n\n        RemoveDependencyHistoryItem.prototype.redo = function () {\n          this.dependency = this.modelManipulator.dependency.removeDependency(this.dependencyId);\n        };\n\n        RemoveDependencyHistoryItem.prototype.undo = function () {\n          this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId, this.dependency.successorId, this.dependency.type, this.dependencyId);\n        };\n\n        return RemoveDependencyHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.RemoveDependencyHistoryItem = RemoveDependencyHistoryItem;\n      /***/\n    },\n    /* 21 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics9 = function extendStatics(d, b) {\n          _extendStatics9 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics9(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics9(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem_1 = __webpack_require__(9);\n\n      var CreateResourceHistoryItem = function (_super) {\n        __extends(CreateResourceHistoryItem, _super);\n\n        function CreateResourceHistoryItem(modelManipulator, text) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.text = text;\n          return _this;\n        }\n\n        CreateResourceHistoryItem.prototype.redo = function () {\n          this.resource = this.modelManipulator.resource.create(this.text, this.resource ? this.resource.internalId : null);\n        };\n\n        CreateResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.remove(this.resource.internalId);\n        };\n\n        return CreateResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.CreateResourceHistoryItem = CreateResourceHistoryItem;\n\n      var RemoveResourceHistoryItem = function (_super) {\n        __extends(RemoveResourceHistoryItem, _super);\n\n        function RemoveResourceHistoryItem(modelManipulator, resourceId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.resourceId = resourceId;\n          return _this;\n        }\n\n        RemoveResourceHistoryItem.prototype.redo = function () {\n          this.resource = this.modelManipulator.resource.remove(this.resourceId);\n        };\n\n        RemoveResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.create(this.resource.text, this.resourceId);\n        };\n\n        return RemoveResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.RemoveResourceHistoryItem = RemoveResourceHistoryItem;\n\n      var AssignResourceHistoryItem = function (_super) {\n        __extends(AssignResourceHistoryItem, _super);\n\n        function AssignResourceHistoryItem(modelManipulator, resourceId, taskId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.resourceId = resourceId;\n          _this.taskId = taskId;\n          return _this;\n        }\n\n        AssignResourceHistoryItem.prototype.redo = function () {\n          this.assignment = this.modelManipulator.resource.assign(this.resourceId, this.taskId, this.assignment ? this.assignment.internalId : null);\n        };\n\n        AssignResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.deassig(this.assignment.internalId);\n        };\n\n        return AssignResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.AssignResourceHistoryItem = AssignResourceHistoryItem;\n\n      var DeassignResourceHistoryItem = function (_super) {\n        __extends(DeassignResourceHistoryItem, _super);\n\n        function DeassignResourceHistoryItem(modelManipulator, assignmentId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.assignmentId = assignmentId;\n          return _this;\n        }\n\n        DeassignResourceHistoryItem.prototype.redo = function () {\n          this.assignment = this.modelManipulator.resource.deassig(this.assignmentId);\n        };\n\n        DeassignResourceHistoryItem.prototype.undo = function () {\n          this.modelManipulator.resource.assign(this.assignment.resourceId, this.assignment.taskId, this.assignmentId);\n        };\n\n        return DeassignResourceHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.DeassignResourceHistoryItem = DeassignResourceHistoryItem;\n      /***/\n    },\n    /* 22 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics10 = function extendStatics(d, b) {\n          _extendStatics10 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics10(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics10(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var DialogBase = function (_super) {\n        __extends(DialogBase, _super);\n\n        function DialogBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DialogBase.prototype.executeInternal = function (options) {\n          var _this = this;\n\n          var params = this.createParameters(options);\n          var initParams = params.clone();\n          this.control.ganttOwner.showDialog(this.getDialogName(), params, function (result) {\n            if (result) _this.applyParameters(result, initParams);\n          }, function () {\n            _this.afterClosing();\n          });\n          return true;\n        };\n\n        DialogBase.prototype.applyParameters = function (_newParameters, _oldParameters) {\n          return false;\n        };\n\n        DialogBase.prototype.afterClosing = function () {};\n\n        DialogBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        return DialogBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.DialogBase = DialogBase;\n\n      var DialogParametersBase = function () {\n        function DialogParametersBase() {}\n\n        return DialogParametersBase;\n      }();\n\n      exports.DialogParametersBase = DialogParametersBase;\n      /***/\n    },\n    /* 23 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Time = function () {\n        function Time(h, min, sec, msec) {\n          if (h === void 0) {\n            h = 0;\n          }\n\n          if (min === void 0) {\n            min = 0;\n          }\n\n          if (sec === void 0) {\n            sec = 0;\n          }\n\n          if (msec === void 0) {\n            msec = 0;\n          }\n\n          this._hour = 0;\n          this._min = 0;\n          this._sec = 0;\n          this._msec = 0;\n          this._fullmsec = 0;\n          this.hour = h;\n          this.min = min;\n          this.sec = sec;\n          this.msec = msec;\n        }\n\n        Object.defineProperty(Time.prototype, \"hour\", {\n          get: function get() {\n            return this._hour;\n          },\n          set: function set(h) {\n            if (h >= 0 && h < 24) {\n              this._hour = h;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(Time.prototype, \"min\", {\n          get: function get() {\n            return this._min;\n          },\n          set: function set(m) {\n            if (m >= 0 && m < 60) {\n              this._min = m;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(Time.prototype, \"sec\", {\n          get: function get() {\n            return this._sec;\n          },\n          set: function set(s) {\n            if (s >= 0 && s < 60) {\n              this._sec = s;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(Time.prototype, \"msec\", {\n          get: function get() {\n            return this._msec;\n          },\n          set: function set(ms) {\n            if (ms >= 0 && ms < 1000) {\n              this._msec = ms;\n              this.updateFullMilleconds();\n            }\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        Time.prototype.updateFullMilleconds = function () {\n          var minutes = this._hour * 60 + this._min;\n          var sec = minutes * 60 + this._sec;\n          this._fullmsec = sec * 1000 + this._msec;\n        };\n\n        Time.prototype.getTimeInMilleconds = function () {\n          return this._fullmsec;\n        };\n\n        return Time;\n      }();\n\n      exports.Time = Time;\n      /***/\n    },\n    /* 24 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var TimeRange = function () {\n        function TimeRange(start, end) {\n          var diff = DateTimeUtils_1.DateTimeUtils.caclTimeDifference(start, end);\n\n          if (diff >= 0) {\n            this._start = start;\n            this._end = end;\n          } else {\n            this._start = end;\n            this._end = start;\n          }\n        }\n\n        ;\n        Object.defineProperty(TimeRange.prototype, \"start\", {\n          get: function get() {\n            return this._start;\n          },\n          set: function set(time) {\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0) this._start = time;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TimeRange.prototype, \"end\", {\n          get: function get() {\n            return this._end;\n          },\n          set: function set(time) {\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0) this._end = time;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        TimeRange.prototype.isTimeInRange = function (time) {\n          return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0 && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0;\n        };\n\n        TimeRange.prototype.hasIntersect = function (range) {\n          return this.isTimeInRange(range.start) || this.isTimeInRange(range.end) || range.isTimeInRange(this.start) || range.isTimeInRange(this.end);\n        };\n\n        TimeRange.prototype.concatWith = function (range) {\n          if (!this.hasIntersect(range)) return false;\n          ;\n          this.start = DateTimeUtils_1.DateTimeUtils.getMinTime(this.start, range.start);\n          this.end = DateTimeUtils_1.DateTimeUtils.getMaxTime(this.end, range.end);\n          return true;\n        };\n\n        return TimeRange;\n      }();\n\n      exports.TimeRange = TimeRange;\n      /***/\n    },\n    /* 25 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var DayOfWeekMonthlyOccurrence;\n\n      (function (DayOfWeekMonthlyOccurrence) {\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"First\"] = 0] = \"First\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Second\"] = 1] = \"Second\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Third\"] = 2] = \"Third\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Forth\"] = 3] = \"Forth\";\n        DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Last\"] = 4] = \"Last\";\n      })(DayOfWeekMonthlyOccurrence = exports.DayOfWeekMonthlyOccurrence || (exports.DayOfWeekMonthlyOccurrence = {}));\n      /***/\n\n    },\n    /* 26 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var Daily_1 = __webpack_require__(27);\n\n      var Weekly_1 = __webpack_require__(49);\n\n      var Monthly_1 = __webpack_require__(50);\n\n      var Yearly_1 = __webpack_require__(52);\n\n      var RecurrenceFactory = function () {\n        function RecurrenceFactory() {}\n\n        RecurrenceFactory.createRecurrenceByType = function (type) {\n          if (!type) return null;\n          var correctedType = type.toLowerCase();\n\n          switch (correctedType) {\n            case \"daily\":\n              return new Daily_1.Daily();\n\n            case \"weekly\":\n              return new Weekly_1.Weekly();\n\n            case \"monthly\":\n              return new Monthly_1.Monthly();\n\n            case \"yearly\":\n              return new Yearly_1.Yearly();\n          }\n\n          return null;\n        };\n\n        RecurrenceFactory.createRecurrenceFromObject = function (sourceObj) {\n          if (!sourceObj) return null;\n          var recurrence = this.createRecurrenceByType(sourceObj.type);\n          if (recurrence) recurrence.assignFromObject(sourceObj);\n          return recurrence;\n        };\n\n        RecurrenceFactory.getEnumValue = function (type, value) {\n          if (!Utils_1.JsonUtils.isExists(type[value])) return null;\n          var num = parseInt(value);\n          if (!isNaN(num)) return num;\n          return type[value];\n        };\n\n        return RecurrenceFactory;\n      }();\n\n      exports.RecurrenceFactory = RecurrenceFactory;\n      /***/\n    },\n    /* 27 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics11 = function extendStatics(d, b) {\n          _extendStatics11 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics11(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics11(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var RecurrenceBase_1 = __webpack_require__(11);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Daily = function (_super) {\n        __extends(Daily, _super);\n\n        function Daily() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Daily.prototype.checkDate = function (date) {\n          return true;\n        };\n\n        Daily.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval == 0;\n        };\n\n        Daily.prototype.calculatePointByInterval = function (date) {\n          var daysToAdd = this.interval;\n          if (!this.isRecurrencePoint(date)) daysToAdd -= DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval;\n          return DateTimeUtils_1.DateTimeUtils.addDays(date, daysToAdd);\n        };\n\n        Daily.prototype.calculateNearestPoint = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.addDays(date, 1);\n        };\n\n        return Daily;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Daily = Daily;\n      /***/\n    },\n    /* 28 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Enums_1 = __webpack_require__(7);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var DateUtils = function () {\n        function DateUtils() {}\n\n        DateUtils.getDaysInMonth = function (month, year) {\n          var d = new Date(year, month + 1, 0);\n          return d.getDate();\n        };\n\n        DateUtils.getOffsetInMonths = function (start, end) {\n          return (end.getFullYear() - start.getFullYear()) * 12 + end.getMonth() - start.getMonth();\n        };\n\n        DateUtils.getOffsetInQuarters = function (start, end) {\n          return (end.getFullYear() - start.getFullYear()) * 4 + Math.floor(end.getMonth() / 3) - Math.floor(start.getMonth() / 3);\n        };\n\n        DateUtils.getNearestScaleTickDate = function (date, range, tickTimeSpan, viewType) {\n          var result = new Date();\n          var rangeStartTime = range.start.getTime();\n          var rangeEndTime = range.end.getTime();\n          result.setTime(date.getTime());\n          if (date.getTime() < rangeStartTime) result.setTime(rangeStartTime);else if (date.getTime() > rangeEndTime) result.setTime(rangeEndTime);else if (this.needCorrectDate(date, rangeStartTime, tickTimeSpan, viewType)) {\n            var nearestLeftTickTime = this.getNearestLeftTickTime(date, rangeStartTime, tickTimeSpan, viewType);\n            var nearestRightTickTime = this.getNextTickTime(nearestLeftTickTime, tickTimeSpan, viewType);\n            if (Math.abs(date.getTime() - nearestLeftTickTime) > Math.abs(date.getTime() - nearestRightTickTime)) result.setTime(nearestRightTickTime);else result.setTime(nearestLeftTickTime);\n          }\n          return result;\n        };\n\n        DateUtils.needCorrectDate = function (date, rangeStartTime, tickTimeSpan, viewType) {\n          if (viewType == Enums_1.ViewType.Months) return date.getTime() !== new Date(date.getFullYear(), date.getMonth(), 1).getTime();\n          return (date.getTime() - rangeStartTime) % tickTimeSpan !== 0;\n        };\n\n        DateUtils.getNearestLeftTickTime = function (date, rangeStartTime, tickTimeSpan, viewType) {\n          if (viewType == Enums_1.ViewType.Months) return new Date(date.getFullYear(), date.getMonth(), 1).getTime();\n          var tickCountAtLeft = Math.floor((date.getTime() - rangeStartTime) / tickTimeSpan);\n          return rangeStartTime + tickCountAtLeft * tickTimeSpan;\n        };\n\n        DateUtils.getNextTickTime = function (currentTickTime, tickTimeSpan, viewType) {\n          if (viewType == Enums_1.ViewType.Months) {\n            var nextTickDate = new Date();\n            nextTickDate.setTime(currentTickTime);\n            nextTickDate.setMonth(nextTickDate.getMonth() + 1);\n            return nextTickDate.getTime();\n          }\n\n          return currentTickTime + tickTimeSpan;\n        };\n\n        DateUtils.adjustStartEndDateByViewType = function (date, isStart, viewType) {\n          var result = new Date();\n\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n              result = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours());\n              if (date.getTime() !== result.getTime() && !isStart) result = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() + 1);\n              break;\n\n            case Enums_1.ViewType.SixHours:\n            case Enums_1.ViewType.Hours:\n              result = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n              if (date.getTime() !== result.getTime() && !isStart) result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);\n              break;\n\n            case Enums_1.ViewType.Days:\n            case Enums_1.ViewType.Weeks:\n              result = new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay());\n              if (date.getTime() !== result.getTime() && !isStart) result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 7 - date.getDay());\n              break;\n\n            case Enums_1.ViewType.Months:\n            case Enums_1.ViewType.Quarter:\n            case Enums_1.ViewType.Years:\n              result = new Date(date.getFullYear(), 0, 1);\n              if (date.getTime() !== result.getTime() && !isStart) result = new Date(date.getFullYear() + 1, 0, 1);\n              break;\n          }\n\n          return result;\n        };\n\n        DateUtils.getTickTimeSpan = function (viewType) {\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n              return DateUtils.msPerHour / 6;\n\n            case Enums_1.ViewType.Hours:\n              return DateUtils.msPerHour;\n\n            case Enums_1.ViewType.SixHours:\n              return DateUtils.msPerHour * 6;\n\n            case Enums_1.ViewType.Days:\n              return DateUtils.msPerDay;\n\n            case Enums_1.ViewType.Weeks:\n              return DateUtils.msPerWeek;\n\n            case Enums_1.ViewType.Months:\n              return DateUtils.msPerMonth;\n\n            case Enums_1.ViewType.Quarter:\n              return DateUtils.msPerMonth * 3;\n\n            case Enums_1.ViewType.Years:\n              return DateUtils.msPerMonth * 12;\n          }\n        };\n\n        DateUtils.msPerHour = 3600000;\n        DateUtils.msPerDay = 24 * DateUtils.msPerHour;\n        DateUtils.msPerWeek = 7 * DateUtils.msPerDay;\n        DateUtils.msPerMonth = 30 * DateUtils.msPerDay;\n        DateUtils.ViewTypeToScaleMap = createViewTypeToScaleMap();\n        return DateUtils;\n      }();\n\n      exports.DateUtils = DateUtils;\n\n      var ElementTextHelper = function () {\n        function ElementTextHelper() {\n          this.longestAbbrMonthName = null;\n          this.longestMonthName = null;\n          this.longestAbbrDayName = null;\n          var canvas = document.createElement(\"canvas\");\n          this.textMeasureContext = canvas.getContext(\"2d\");\n        }\n\n        ElementTextHelper.prototype.setFont = function (fontHolder) {\n          var computedStyle = DomUtils_1.DomUtils.getCurrentStyle(fontHolder);\n          var font = computedStyle.font ? computedStyle.font : computedStyle.fontStyle + \" \" + computedStyle.fontVariant + \" \" + computedStyle.fontWeight + \" \" + computedStyle.fontSize + \" / \" + computedStyle.lineHeight + \" \" + computedStyle.fontFamily;\n          this.textMeasureContext.font = font;\n        };\n\n        ElementTextHelper.prototype.setSettings = function (startTime, viewType, modelItems) {\n          this.startTime = startTime;\n          this.viewType = viewType;\n          this.modelItems = modelItems;\n        };\n\n        ElementTextHelper.prototype.getScaleItemStartDate = function (index, scaleType) {\n          var result = new Date(this.startTime);\n\n          switch (scaleType) {\n            case Enums_1.ViewType.TenMinutes:\n              result.setTime(this.startTime + index * DateUtils.msPerHour / 6);\n              break;\n\n            case Enums_1.ViewType.Hours:\n              result.setTime(this.startTime + index * DateUtils.msPerHour);\n              break;\n\n            case Enums_1.ViewType.SixHours:\n              result.setTime(this.startTime + index * DateUtils.msPerHour * 6);\n              break;\n\n            case Enums_1.ViewType.Days:\n              result.setTime(this.startTime + index * DateUtils.msPerDay);\n              break;\n\n            case Enums_1.ViewType.Weeks:\n              result.setTime(this.startTime + index * DateUtils.msPerWeek);\n              break;\n\n            case Enums_1.ViewType.Months:\n              result.setMonth(result.getMonth() + index);\n              break;\n\n            case Enums_1.ViewType.Quarter:\n              result.setMonth(result.getMonth() + index * 3);\n              break;\n\n            case Enums_1.ViewType.Years:\n              result.setFullYear(result.getFullYear() + index);\n              break;\n\n            case Enums_1.ViewType.FiveYears:\n              result.setFullYear(result.getFullYear() + index * 5);\n              break;\n          }\n\n          return result;\n        };\n\n        ElementTextHelper.prototype.getScaleItemText = function (index, scaleType) {\n          var scaleItemStartDate = this.getScaleItemStartDate(index, scaleType);\n          var isViewTypeScale = this.viewType.valueOf() == scaleType.valueOf();\n\n          switch (scaleType) {\n            case Enums_1.ViewType.TenMinutes:\n              return this.getTenMinutesScaleItemText(scaleItemStartDate);\n\n            case Enums_1.ViewType.Hours:\n            case Enums_1.ViewType.SixHours:\n              return this.getHoursScaleItemText(scaleItemStartDate);\n\n            case Enums_1.ViewType.Days:\n              return this.getDaysScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Weeks:\n              return this.getWeeksScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Months:\n              return this.getMonthsScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Quarter:\n              return this.getQuarterScaleItemText(scaleItemStartDate, isViewTypeScale);\n\n            case Enums_1.ViewType.Years:\n              return this.getYearsScaleItemText(scaleItemStartDate);\n\n            case Enums_1.ViewType.FiveYears:\n              return this.getFiveYearsScaleItemText(scaleItemStartDate);\n          }\n        };\n\n        ElementTextHelper.prototype.getTenMinutesScaleItemText = function (scaleItemDate) {\n          var minutes = scaleItemDate.getMinutes() + 1;\n          return (Math.ceil(minutes / 10) * 10).toString();\n        };\n\n        ElementTextHelper.prototype.getThirtyMinutesScaleItemText = function (scaleItemDate) {\n          var minutes = scaleItemDate.getMinutes();\n          return minutes < 30 ? \"30\" : \"60\";\n        };\n\n        ElementTextHelper.prototype.getHoursScaleItemText = function (scaleItemDate) {\n          var hours = scaleItemDate.getHours();\n          var hourDisplayText = this.getHourDisplayText(hours);\n          var amPmText = hours < 12 ? this.getAmText() : this.getPmText();\n          return this.getHoursScaleItemTextCore(hourDisplayText, amPmText);\n        };\n\n        ElementTextHelper.prototype.getDaysScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          return this.getDayTotalText(scaleItemDate, true, isViewTypeScale, isViewTypeScale, !isViewTypeScale);\n        };\n\n        ElementTextHelper.prototype.getWeeksScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          var weekLastDayDate = new Date(scaleItemDate.getTime() + DateUtils.msPerWeek - DateUtils.msPerDay);\n          return this.getWeeksScaleItemTextCore(this.getDayTotalText(scaleItemDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale), this.getDayTotalText(weekLastDayDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale));\n        };\n\n        ElementTextHelper.prototype.getMonthsScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          var monthNames = this.getMonthNames();\n          var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\n          return this.getMonthsScaleItemTextCore(monthNames[scaleItemDate.getMonth()], yearDisplayText);\n        };\n\n        ElementTextHelper.prototype.getQuarterScaleItemText = function (scaleItemDate, isViewTypeScale) {\n          var quarterNames = this.getQuarterNames();\n          var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\n          return this.getMonthsScaleItemTextCore(quarterNames[Math.floor(scaleItemDate.getMonth() / 3)], yearDisplayText);\n        };\n\n        ElementTextHelper.prototype.getYearsScaleItemText = function (scaleItemDate) {\n          return scaleItemDate.getFullYear().toString();\n        };\n\n        ElementTextHelper.prototype.getFiveYearsScaleItemText = function (scaleItemDate) {\n          return scaleItemDate.getFullYear().toString() + \" - \" + (scaleItemDate.getFullYear() + 4).toString();\n        };\n\n        ElementTextHelper.prototype.getHourDisplayText = function (hours) {\n          if (this.hasAmPm()) return (hours == 0 ? 12 : hours <= 12 ? hours : hours - 12).toString();\n          return hours < 10 ? \"0\" + hours : hours.toString();\n        };\n\n        ElementTextHelper.prototype.getDayTotalText = function (scaleItemDate, displayDayName, useAbbrDayNames, useAbbrMonthNames, displayYear) {\n          var monthNames = useAbbrMonthNames ? this.getAbbrMonthNames() : this.getMonthNames();\n          var dayNames = useAbbrDayNames ? this.getAbbrDayNames() : this.getDayNames();\n          var dayNameDisplayText = displayDayName ? dayNames[scaleItemDate.getDay()] : \"\";\n          var day = scaleItemDate.getDate();\n          var monthName = monthNames[scaleItemDate.getMonth()];\n          var yearDisplayText = displayYear ? scaleItemDate.getFullYear().toString() : \"\";\n          return this.getDayTotalTextCore(dayNameDisplayText, day.toString(), monthName, yearDisplayText);\n        };\n\n        ElementTextHelper.prototype.getTaskText = function (index) {\n          var item = this.modelItems[index];\n          return item ? item.task.title : \"\";\n        };\n\n        ElementTextHelper.prototype.getTaskVisibility = function (index) {\n          var item = this.modelItems[index];\n          return !!item && item.getVisible();\n        };\n\n        ElementTextHelper.prototype.hasAmPm = function () {\n          return this.getAmText().length > 0 || this.getPmText().length > 0;\n        };\n\n        ElementTextHelper.prototype.getScaleItemTextTemplate = function (viewType) {\n          switch (viewType) {\n            case Enums_1.ViewType.TenMinutes:\n              return \"00\";\n\n            case Enums_1.ViewType.Hours:\n            case Enums_1.ViewType.SixHours:\n              return this.getHoursScaleItemTextCore(\"00\", this.getAmText());\n\n            case Enums_1.ViewType.Days:\n              return this.getDayTextTemplate();\n\n            case Enums_1.ViewType.Weeks:\n              return this.getWeekTextTemplate();\n\n            case Enums_1.ViewType.Months:\n              return this.getMonthsScaleItemTextCore(this.getLongestMonthName(), \"\");\n\n            case Enums_1.ViewType.Quarter:\n              return \"Q4\";\n\n            case Enums_1.ViewType.Years:\n              return \"0000\";\n          }\n        };\n\n        ElementTextHelper.prototype.getDayTextTemplate = function () {\n          return this.getDayTotalTextCore(this.getLongestAbbrDayName(), \"00\", this.getLongestAbbrMonthName(), \"\");\n        };\n\n        ElementTextHelper.prototype.getWeekTextTemplate = function () {\n          var dayTextTemplate = this.getDayTextTemplate();\n          return this.getWeeksScaleItemTextCore(dayTextTemplate, dayTextTemplate);\n        };\n\n        ElementTextHelper.prototype.getHoursScaleItemTextCore = function (hourDisplayText, amPmText) {\n          return hourDisplayText + \":00\" + (this.hasAmPm() ? \" \" + amPmText : \"\");\n        };\n\n        ElementTextHelper.prototype.getDayTotalTextCore = function (dayName, dayValueString, monthName, yearValueString) {\n          var result = dayName.length > 0 ? dayName + \", \" : \"\";\n          result += dayValueString + \" \" + monthName;\n          result += yearValueString.length > 0 ? \" \" + yearValueString : \"\";\n          return result;\n        };\n\n        ElementTextHelper.prototype.getWeeksScaleItemTextCore = function (firstDayOfWeekString, lastDayOfWeekString) {\n          return firstDayOfWeekString + \" - \" + lastDayOfWeekString;\n        };\n\n        ElementTextHelper.prototype.getMonthsScaleItemTextCore = function (monthName, yearValueString) {\n          var result = monthName;\n          if (yearValueString.length > 0) result += \" \" + yearValueString;\n          return result;\n        };\n\n        ElementTextHelper.prototype.getLongestAbbrMonthName = function () {\n          if (this.longestAbbrMonthName == null) this.longestAbbrMonthName = this.getLongestText(this.getAbbrMonthNames());\n          return this.longestAbbrMonthName;\n        };\n\n        ElementTextHelper.prototype.getLongestMonthName = function () {\n          if (this.longestMonthName == null) this.longestMonthName = this.getLongestText(this.getMonthNames());\n          return this.longestMonthName;\n        };\n\n        ElementTextHelper.prototype.getLongestAbbrDayName = function () {\n          if (this.longestAbbrDayName == null) this.longestAbbrDayName = this.getLongestText(this.getAbbrDayNames());\n          return this.longestAbbrDayName;\n        };\n\n        ElementTextHelper.prototype.getLongestText = function (texts) {\n          var _this = this;\n\n          var result = \"\";\n          var longestTextWidth = 0;\n          texts.forEach(function (text) {\n            var textWidth = _this.getTextWidth(text);\n\n            if (textWidth > longestTextWidth) {\n              longestTextWidth = textWidth;\n              result = text;\n            }\n          });\n          return result;\n        };\n\n        ElementTextHelper.prototype.getTextWidth = function (text) {\n          return Math.round(this.textMeasureContext.measureText(text).width);\n        };\n\n        ElementTextHelper.prototype.getAmText = function () {\n          return \"AM\";\n        };\n\n        ElementTextHelper.prototype.getPmText = function () {\n          return \"PM\";\n        };\n\n        ElementTextHelper.prototype.getQuarterNames = function () {\n          return [\"Q1\", \"Q2\", \"Q3\", \"Q4\"];\n        };\n\n        ElementTextHelper.prototype.getMonthNames = function () {\n          return [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\", \"\"];\n        };\n\n        ElementTextHelper.prototype.getDayNames = function () {\n          return [\"Sunday\", \"Monday\", \"ASP\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n        };\n\n        ElementTextHelper.prototype.getAbbrMonthNames = function () {\n          return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"\"];\n        };\n\n        ElementTextHelper.prototype.getAbbrDayNames = function () {\n          return [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n        };\n\n        return ElementTextHelper;\n      }();\n\n      exports.ElementTextHelper = ElementTextHelper;\n\n      function createViewTypeToScaleMap() {\n        var result = {};\n        result[Enums_1.ViewType.TenMinutes] = Enums_1.ViewType.Hours;\n        result[Enums_1.ViewType.Hours] = Enums_1.ViewType.Days;\n        result[Enums_1.ViewType.SixHours] = Enums_1.ViewType.Days;\n        result[Enums_1.ViewType.Days] = Enums_1.ViewType.Weeks;\n        result[Enums_1.ViewType.Weeks] = Enums_1.ViewType.Months;\n        result[Enums_1.ViewType.Months] = Enums_1.ViewType.Years;\n        result[Enums_1.ViewType.Quarter] = Enums_1.ViewType.Years;\n        result[Enums_1.ViewType.Years] = Enums_1.ViewType.FiveYears;\n        return result;\n      }\n      /***/\n\n    },\n    /* 29 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Point_1 = __webpack_require__(3);\n\n      var Size_1 = __webpack_require__(15);\n\n      var Margins_1 = __webpack_require__(54);\n\n      var GridElementInfo = function () {\n        function GridElementInfo(className, position, size) {\n          this.id = GridElementInfo.id++;\n          this.position = new Point_1.Point();\n          this.size = new Size_1.Size();\n          this.margins = new Margins_1.Margins();\n          this.attr = {};\n          if (className) this.className = className;\n          if (position) this.setPosition(position);\n          if (size) this.setSize(size);\n        }\n\n        GridElementInfo.prototype.setSize = function (size) {\n          this.size.width = size.width;\n          this.size.height = size.height;\n        };\n\n        GridElementInfo.prototype.setPosition = function (position) {\n          this.position.x = position.x;\n          this.position.y = position.y;\n        };\n\n        GridElementInfo.prototype.assignToElement = function (element) {\n          this.assignPosition(element);\n          this.assignSize(element);\n          this.assignMargins(element);\n          if (this.className) element.className = this.className;\n        };\n\n        GridElementInfo.prototype.assignPosition = function (element) {\n          if (this.position.x != null) element.style.left = this.position.x + \"px\";\n          if (this.position.y != null) element.style.top = this.position.y + \"px\";\n        };\n\n        GridElementInfo.prototype.assignSize = function (element) {\n          if (this.size.width) element.style.width = this.size.width + \"px\";\n          if (this.size.height) element.style.height = this.size.height + \"px\";\n        };\n\n        GridElementInfo.prototype.assignMargins = function (element) {\n          if (this.margins.marginLeft) element.style.marginLeft = this.margins.marginLeft + \"px\";\n          if (this.margins.marginTop) element.style.marginTop = this.margins.marginTop + \"px\";\n          if (this.margins.marginRight) element.style.marginRight = this.margins.marginRight + \"px\";\n          if (this.margins.marginBottom) element.style.marginBottom = this.margins.marginBottom + \"px\";\n        };\n\n        GridElementInfo.prototype.setAttribute = function (name, value) {\n          this.attr[name] = value;\n        };\n\n        GridElementInfo.id = 0;\n        return GridElementInfo;\n      }();\n\n      exports.GridElementInfo = GridElementInfo;\n      /***/\n    },\n    /* 30 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var Enums_1 = __webpack_require__(7);\n\n      var DateRange_1 = __webpack_require__(10);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var TaskEditController = function () {\n        function TaskEditController(gantt) {\n          this.taskIndex = -1;\n          this.successorIndex = -1;\n          this.editing = false;\n          this.gantt = gantt;\n          this.createElements();\n          this.createClassToSourceMap();\n        }\n\n        Object.defineProperty(TaskEditController.prototype, \"taskId\", {\n          get: function get() {\n            return this.gantt.viewModel.items[this.taskIndex].task.internalId;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskEditController.prototype, \"successorId\", {\n          get: function get() {\n            return this.gantt.viewModel.items[this.successorIndex].task.internalId;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskEditController.prototype, \"task\", {\n          get: function get() {\n            return this.gantt.viewModel.items[this.taskIndex].task;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        TaskEditController.prototype.show = function (taskIndex) {\n          if (!this.editing && this.gantt.settings.editing.enabled) {\n            this.taskIndex = taskIndex;\n            this.updateWrapInfo();\n            this.wrapInfo.assignPosition(this.baseElement);\n            this.wrapInfo.assignSize(this.baseElement);\n            this.gantt.taskArea.appendChild(this.baseElement);\n            this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n            if (this.task.isMilestone()) this.baseElement.className = this.baseElement.className + \" milestone\";else {\n              if (!this.gantt.settings.editing.allowDependencyAdding) this.baseElement.className = this.baseElement.className + \" hide-dependency\";\n              if (!this.gantt.settings.editing.allowTaskUpdating) this.baseElement.className = this.baseElement.className + \" hide-updating\";\n              this.progressEdit.style.left = this.task.progress / 100 * this.wrapInfo.size.width - this.progressEdit.offsetWidth / 2 + \"px\";\n            }\n            this.taskDateRange = new DateRange_1.DateRange(this.task.start, this.task.end);\n          }\n        };\n\n        TaskEditController.prototype.updateWrapInfo = function () {\n          this.wrapInfo = this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(this.taskIndex);\n          this.wrapInfo.size.width = this.gantt.gridLayoutCalculator.getTaskWidth(this.taskIndex);\n          this.wrapInfo.position.x--;\n          if (this.task.isMilestone()) this.wrapInfo.position.y = this.gantt.gridLayoutCalculator.getSelectionPosition(this.taskIndex).y;\n        };\n\n        TaskEditController.prototype.hide = function () {\n          var parentNode = this.baseElement.parentNode;\n          if (parentNode) parentNode.removeChild(this.baseElement);\n        };\n\n        TaskEditController.prototype.showDependencySuccessor = function (taskIndex) {\n          if (this.successorIndex != taskIndex && this.taskIndex != taskIndex) {\n            this.successorIndex = taskIndex;\n            var wrapInfo = this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(taskIndex);\n            wrapInfo.size.width = this.gantt.gridLayoutCalculator.getTaskWidth(taskIndex) + 1;\n            wrapInfo.assignPosition(this.dependencySuccessorBaseElement);\n            wrapInfo.assignSize(this.dependencySuccessorBaseElement);\n            wrapInfo.assignSize(this.dependencySuccessorFrame);\n            this.gantt.taskArea.appendChild(this.dependencySuccessorBaseElement);\n          }\n        };\n\n        TaskEditController.prototype.hideDependencySuccessor = function () {\n          var parentNode = this.dependencySuccessorBaseElement.parentNode;\n          if (parentNode) parentNode.removeChild(this.dependencySuccessorBaseElement);\n          this.successorIndex = -1;\n        };\n\n        TaskEditController.prototype.processProgress = function (position) {\n          this.editing = true;\n          var progressOffset = position.x - this.wrapInfo.position.x;\n          var progress = 0;\n          if (position.x > this.wrapInfo.position.x) if (position.x < this.wrapInfo.position.x + this.wrapInfo.size.width) progress = Math.round(progressOffset / this.baseElement.clientWidth * 100);else progress = 100;\n          this.progressEdit.style.left = progress / 100 * this.wrapInfo.size.width - this.progressEdit.offsetWidth / 2 + \"px\";\n          this.statusMsg.innerHTML = progress + \"%\";\n          this.showMessageBox(DomUtils_1.DomUtils.getAbsolutePositionX(this.progressEdit) - this.statusMsg.clientWidth / 2);\n        };\n\n        TaskEditController.prototype.confirmProgress = function () {\n          this.editing = false;\n          var progress = Math.round((this.progressEdit.offsetLeft + this.progressEdit.offsetWidth / 2) / this.wrapInfo.size.width * 100);\n          this.gantt.commandManager.changeTaskProgressCommand.execute(this.taskId, progress);\n        };\n\n        TaskEditController.prototype.isShouldProcessEnd = function (positionX) {\n          return positionX > this.wrapInfo.position.x - this.endEdit.clientWidth;\n        };\n\n        TaskEditController.prototype.processEnd = function (position) {\n          this.baseElement.className = this.baseElement.className + \" move\";\n          this.editing = true;\n          var positionX = position.x > this.wrapInfo.position.x ? position.x : this.wrapInfo.position.x;\n          var width = positionX - this.wrapInfo.position.x;\n          this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\n          var startDate = this.task.start;\n          var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\n          date.setSeconds(0);\n          if (date < startDate || width < 1) this.taskDateRange.end.setTime(startDate.getTime());else this.taskDateRange.end = this.getNewDate(this.task.end, date);\n          this.showTimeMessage(startDate, this.taskDateRange.end, DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement) + this.baseElement.clientWidth - this.statusMsg.clientWidth);\n        };\n\n        TaskEditController.prototype.confirmEnd = function () {\n          this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n          this.editing = false;\n          this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId, this.taskDateRange.end);\n          this.updateWrapInfo();\n        };\n\n        TaskEditController.prototype.processStart = function (position) {\n          this.baseElement.className = this.baseElement.className + \" move\";\n          this.editing = true;\n          var positionX = position.x < this.wrapInfo.position.x + this.wrapInfo.size.width ? position.x : this.wrapInfo.position.x + this.wrapInfo.size.width;\n          var width = this.wrapInfo.size.width - (positionX - this.wrapInfo.position.x);\n          this.baseElement.style.left = positionX + \"px\";\n          this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\n          var endDate = this.task.end;\n          var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\n          date.setSeconds(0);\n          if (date > endDate || width < 1) this.taskDateRange.start.setTime(endDate.getTime());else this.taskDateRange.start = this.getNewDate(this.task.start, date);\n          this.showTimeMessage(this.taskDateRange.start, endDate, DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement));\n        };\n\n        TaskEditController.prototype.confirmStart = function () {\n          this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n          this.editing = false;\n          this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId, this.taskDateRange.start);\n          this.updateWrapInfo();\n        };\n\n        TaskEditController.prototype.processMove = function (delta) {\n          if (this.gantt.settings.editing.allowTaskUpdating) {\n            this.baseElement.className = this.baseElement.className + \" move\";\n            this.editing = true;\n            var left = this.baseElement.offsetLeft + delta;\n            this.baseElement.style.left = left + \"px\";\n            var date = this.gantt.gridLayoutCalculator.getDateByPos(left);\n            this.taskDateRange.start = this.getNewDate(this.task.start, date);\n            var dateDiff = this.task.start.getTime() - date.getTime();\n            var endDate = new Date(this.task.end.getTime() - dateDiff);\n            this.taskDateRange.end = this.getNewDate(this.task.end, endDate);\n            this.showTimeMessage(this.taskDateRange.start, this.taskDateRange.end, DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement));\n          }\n        };\n\n        TaskEditController.prototype.confirmMove = function () {\n          this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\n\n          if (this.editing) {\n            this.gantt.history.beginTransaction();\n            this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId, this.taskDateRange.start);\n            this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId, this.taskDateRange.end);\n            this.gantt.history.endTransaction();\n          }\n\n          this.updateWrapInfo();\n          this.editing = false;\n        };\n\n        TaskEditController.prototype.getNewDate = function (referenceDate, newDate) {\n          if (this.gantt.settings.viewType > Enums_1.ViewType.SixHours) {\n            var date = new Date(referenceDate.getTime());\n            date.setDate(newDate.getDate());\n            date.setMonth(newDate.getMonth());\n            date.setFullYear(newDate.getFullYear());\n            if (this.gantt.settings.viewType == Enums_1.ViewType.Days) date.setHours(newDate.getHours());\n            return date;\n          } else return newDate;\n        };\n\n        TaskEditController.prototype.startDependency = function (pos) {\n          this.dependencyLine = document.createElement(\"DIV\");\n          this.dependencyLine.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE;\n          this.gantt.taskArea.appendChild(this.dependencyLine);\n          this.startPosition = pos;\n        };\n\n        TaskEditController.prototype.processDependency = function (pos) {\n          this.editing = true;\n          this.drawline(this.startPosition, pos);\n        };\n\n        TaskEditController.prototype.endDependency = function (type) {\n          this.editing = false;\n          if (type != null) this.gantt.commandManager.createDependencyCommand.execute(this.task.internalId, this.successorId, type);\n          var parentNode = this.dependencyLine.parentNode;\n          if (parentNode) parentNode.removeChild(this.dependencyLine);\n          this.dependencyLine = null;\n          this.hideDependencySuccessor();\n          this.hide();\n        };\n\n        TaskEditController.prototype.selectDependency = function (id) {\n          if (this.gantt.settings.editing.allowDependencyDeleting) this.dependencyId = id;\n        };\n\n        TaskEditController.prototype.isDependencySelected = function (id) {\n          return this.dependencyId && this.dependencyId == id;\n        };\n\n        TaskEditController.prototype.deleteSelectedDependency = function () {\n          if (this.dependencyId) this.gantt.commandManager.removeDependencyCommand.execute(this.dependencyId);\n        };\n\n        TaskEditController.prototype.showTimeMessage = function (start, end, posX) {\n          this.statusMsg.innerHTML = \"\";\n          var timeElement = document.createElement(\"DIV\");\n          timeElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;\n          var startEl = document.createElement(\"DIV\");\n          var startTitle = document.createElement(\"SPAN\");\n          startTitle.innerHTML = \"Start: \";\n          var startValue = document.createElement(\"SPAN\");\n          startValue.innerHTML = this.formatDate(start);\n          startEl.appendChild(startTitle);\n          startEl.appendChild(startValue);\n          var endEl = document.createElement(\"DIV\");\n          var endTitle = document.createElement(\"SPAN\");\n          endTitle.innerHTML = \"End: \";\n          var endValue = document.createElement(\"SPAN\");\n          endValue.innerHTML = this.formatDate(end);\n          endEl.appendChild(endTitle);\n          endEl.appendChild(endValue);\n          timeElement.appendChild(startEl);\n          timeElement.appendChild(endEl);\n          this.statusMsg.appendChild(timeElement);\n          this.showMessageBox(posX);\n        };\n\n        TaskEditController.prototype.showMessageBox = function (posX) {\n          var _this = this;\n\n          this.statusMsg.style.display = \"block\";\n          this.statusMsg.style.left = posX + \"px\";\n          this.statusMsg.style.top = DomUtils_1.DomUtils.getAbsolutePositionY(this.baseElement) - this.statusMsg.clientHeight + \"px\";\n          if (this.statusTimerId) clearTimeout(this.statusTimerId);\n          this.statusTimerId = setTimeout(function () {\n            _this.statusMsg.style.display = \"none\";\n          }, 1500);\n        };\n\n        TaskEditController.prototype.formatDate = function (date) {\n          return ('0' + date.getDate()).slice(-2) + '/' + ('0' + (date.getMonth() + 1)).slice(-2) + \"/\" + date.getFullYear() + \" \" + ('0' + date.getHours()).slice(-2) + \":\" + ('0' + date.getMinutes()).slice(-2);\n        };\n\n        TaskEditController.prototype.createElements = function () {\n          this.baseElement = document.createElement(\"DIV\");\n          this.baseFrame = document.createElement(\"DIV\");\n          this.baseFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME;\n          this.baseElement.appendChild(this.baseFrame);\n          this.progressEdit = document.createElement(\"DIV\");\n          this.progressEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS;\n          this.baseFrame.appendChild(this.progressEdit);\n          this.statusMsg = document.createElement(\"DIV\");\n          this.statusMsg.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS;\n          this.baseFrame.appendChild(this.statusMsg);\n          this.dependencyFinish = document.createElement(\"DIV\");\n          this.dependencyFinish.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH;\n          this.baseFrame.appendChild(this.dependencyFinish);\n          this.dependencyStart = document.createElement(\"DIV\");\n          this.dependencyStart.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT;\n          this.baseFrame.appendChild(this.dependencyStart);\n          this.startEdit = document.createElement(\"DIV\");\n          this.startEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_START;\n          this.baseFrame.appendChild(this.startEdit);\n          this.endEdit = document.createElement(\"DIV\");\n          this.endEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_END;\n          this.baseFrame.appendChild(this.endEdit);\n          this.dependencySuccessorBaseElement = document.createElement(\"DIV\");\n          this.dependencySuccessorBaseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR;\n          this.dependencySuccessorFrame = document.createElement(\"DIV\");\n          this.dependencySuccessorFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR;\n          this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame);\n          this.dependencySuccessorStart = document.createElement(\"DIV\");\n          this.dependencySuccessorStart.className = TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH;\n          this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart);\n          this.dependencySuccessorFinish = document.createElement(\"DIV\");\n          this.dependencySuccessorFinish.className = TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT;\n          this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish);\n          this.attachEvents();\n        };\n\n        TaskEditController.prototype.attachEvents = function () {\n          this.baseElement.addEventListener(\"mouseleave\", function (evt) {\n            if (!this.editing) this.hide();\n          }.bind(this));\n        };\n\n        TaskEditController.prototype.drawline = function (start, end) {\n          if (start.x > end.x) {\n            var temp = end;\n            end = start;\n            start = temp;\n          }\n\n          var angle = Math.atan((start.y - end.y) / (end.x - start.x));\n          angle = angle * 180 / Math.PI;\n          angle = -angle;\n          var length = Math.sqrt((start.x - end.x) * (start.x - end.x) + (start.y - end.y) * (start.y - end.y));\n          this.dependencyLine.style.left = start.x + \"px\";\n          this.dependencyLine.style.top = start.y + \"px\";\n          this.dependencyLine.style.width = length + \"px\";\n          this.dependencyLine.style.transform = \"rotate(\" + angle + \"deg)\";\n        };\n\n        TaskEditController.prototype.createClassToSourceMap = function () {\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS] = TaskAreaManager_1.MouseEventSource.TaskEdit_Progress;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_START] = TaskAreaManager_1.MouseEventSource.TaskEdit_Start;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_END] = TaskAreaManager_1.MouseEventSource.TaskEdit_End;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_FRAME] = TaskAreaManager_1.MouseEventSource.TaskEdit_Frame;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.Successor_DependencyStart;\n          TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish;\n        };\n\n        TaskEditController.CLASSNAMES = {\n          TASK_EDIT_BOX: \"dx-gantt-task-edit-wrapper\",\n          TASK_EDIT_FRAME: \"dx-gantt-task-edit-frame\",\n          TASK_EDIT_PROGRESS: \"dx-gantt-task-edit-progress\",\n          TASK_EDIT_PROGRESS_STATUS: \"dx-gantt-task-edit-progress-status\",\n          TASK_EDIT_PROGRESS_STATUS_TIME: \"dx-gantt-status-time\",\n          TASK_EDIT_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-dependency-r\",\n          TASK_EDIT_DEPENDENCY_LEFT: \"dx-gantt-task-edit-dependency-l\",\n          TASK_EDIT_START: \"dx-gantt-task-edit-start\",\n          TASK_EDIT_END: \"dx-gantt-task-edit-end\",\n          TASK_EDIT_DEPENDENCY_LINE: \"dx-gantt-task-edit-dependency-line\",\n          TASK_EDIT_BOX_SUCCESSOR: \"dx-gantt-task-edit-wrapper-successor\",\n          TASK_EDIT_FRAME_SUCCESSOR: \"dx-gantt-task-edit-frame-successor\",\n          TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-successor-dependency-r\",\n          TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT: \"dx-gantt-task-edit-successor-dependency-l\"\n        };\n        TaskEditController.classToSource = {};\n        return TaskEditController;\n      }();\n\n      exports.TaskEditController = TaskEditController;\n      /***/\n    },\n    /* 31 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics12 = function extendStatics(d, b) {\n          _extendStatics12 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics12(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics12(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem_1 = __webpack_require__(9);\n\n      var TaskPropertiesHistoryItemBase = function (_super) {\n        __extends(TaskPropertiesHistoryItemBase, _super);\n\n        function TaskPropertiesHistoryItemBase(modelManipulator, taskId, newValue) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.taskId = taskId;\n          _this.newValue = newValue;\n          return _this;\n        }\n\n        TaskPropertiesHistoryItemBase.prototype.redo = function () {\n          this.oldState = this.getPropertiesManipulator().setValue(this.taskId, this.newValue);\n        };\n\n        TaskPropertiesHistoryItemBase.prototype.undo = function () {\n          this.getPropertiesManipulator().restoreValue(this.oldState);\n        };\n\n        TaskPropertiesHistoryItemBase.prototype.getPropertiesManipulator = function () {\n          throw new Error(\"Not Implemented\");\n        };\n\n        return TaskPropertiesHistoryItemBase;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.TaskPropertiesHistoryItemBase = TaskPropertiesHistoryItemBase;\n\n      var TaskTitleHistoryItem = function (_super) {\n        __extends(TaskTitleHistoryItem, _super);\n\n        function TaskTitleHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskTitleHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.title;\n        };\n\n        return TaskTitleHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskTitleHistoryItem = TaskTitleHistoryItem;\n\n      var TaskDesriptionHistoryItem = function (_super) {\n        __extends(TaskDesriptionHistoryItem, _super);\n\n        function TaskDesriptionHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDesriptionHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.description;\n        };\n\n        return TaskDesriptionHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskDesriptionHistoryItem = TaskDesriptionHistoryItem;\n\n      var TaskProgressHistoryItem = function (_super) {\n        __extends(TaskProgressHistoryItem, _super);\n\n        function TaskProgressHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskProgressHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.progress;\n        };\n\n        return TaskProgressHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskProgressHistoryItem = TaskProgressHistoryItem;\n\n      var TaskStartHistoryItem = function (_super) {\n        __extends(TaskStartHistoryItem, _super);\n\n        function TaskStartHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskStartHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.start;\n        };\n\n        return TaskStartHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskStartHistoryItem = TaskStartHistoryItem;\n\n      var TaskEndHistoryItem = function (_super) {\n        __extends(TaskEndHistoryItem, _super);\n\n        function TaskEndHistoryItem() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEndHistoryItem.prototype.getPropertiesManipulator = function () {\n          return this.modelManipulator.task.properties.end;\n        };\n\n        return TaskEndHistoryItem;\n      }(TaskPropertiesHistoryItemBase);\n\n      exports.TaskEndHistoryItem = TaskEndHistoryItem;\n      /***/\n    },\n    /* 32 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      __webpack_require__(33);\n\n      var GanttView_1 = __webpack_require__(34);\n\n      exports.GanttView = GanttView_1.GanttView;\n      /***/\n    },\n    /* 33 */\n\n    /***/\n    function (module, exports, __webpack_require__) {// extracted by mini-css-extract-plugin\n\n      /***/\n    },\n    /* 34 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var VisualModel_1 = __webpack_require__(35);\n\n      var Enums_1 = __webpack_require__(7);\n\n      var Utils_1 = __webpack_require__(28);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var DateRange_1 = __webpack_require__(10);\n\n      var Size_1 = __webpack_require__(15);\n\n      var Point_1 = __webpack_require__(3);\n\n      var GridElementInfo_1 = __webpack_require__(29);\n\n      var GridLayoutCalculator_1 = __webpack_require__(16);\n\n      var EtalonSizeValues_1 = __webpack_require__(55);\n\n      var TaskEditController_1 = __webpack_require__(30);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var ModelManipulator_1 = __webpack_require__(56);\n\n      var History_1 = __webpack_require__(61);\n\n      var EventManager_1 = __webpack_require__(62);\n\n      var TaskAreaContainer_1 = __webpack_require__(72);\n\n      var Settings_1 = __webpack_require__(73);\n\n      var ModelChangesDispatcher_1 = __webpack_require__(74);\n\n      var CommandManager_1 = __webpack_require__(76);\n\n      var BarManager_1 = __webpack_require__(86);\n\n      var Browser_1 = __webpack_require__(12);\n\n      var GanttView = function () {\n        function GanttView(element, ganttOwner, settings) {\n          this.timeScaleAreas = new Array();\n          this.horTaskAreaBorders = [];\n          this.vertTaskAreaBorders = [];\n          this.scaleBorders = [];\n          this.scaleElements = [];\n          this.taskElements = [];\n          this.selectionElements = [];\n          this.hlRowElements = [];\n          this.renderedRowIndices = [];\n          this.renderedColIndices = [];\n          this.renderedScaleItemIndices = [];\n          this.dependencyMap = [];\n          this.renderedConnectorLines = [];\n          this.connectorLinesToElementsMap = {};\n          this.noWorkingIntervalsToElementsMap = {};\n          this.renderedNoWorkingIntervals = [];\n          this.gridLayoutCalculator = new GridLayoutCalculator_1.GridLayoutCalculator();\n          this.elementTextHelper = new Utils_1.ElementTextHelper();\n          this.etalonSizeValues = new EtalonSizeValues_1.EtalonSizeValues();\n          this.tickSize = new Size_1.Size();\n          this.scaleCount = 2;\n          this.isFocus = false;\n          this.zoom = 1;\n          this.currentSelectedTaskID = \"\";\n          this.ganttOwner = ganttOwner;\n          this.settings = Settings_1.Settings.parse(settings);\n          this.createMainElement(element);\n          this.createHeader();\n          this.calculateEtalonSizeValues();\n          this.createTaskAreaContainer();\n          this.loadOptionsFromGanttOwner();\n          this.elementTextHelper.setFont(this.mainElement);\n          this.setupHelpers();\n          this.setSizeForTaskArea();\n          this.createTimeScaleContainer();\n          this.createTimeScaleAreas();\n          this.commandManager = new CommandManager_1.CommandManager(this);\n          this.barManager = new BarManager_1.BarManager(this, ganttOwner.bars);\n          this.eventManager = new EventManager_1.EventManager(this);\n          this.taskEditController = new TaskEditController_1.TaskEditController(this);\n          this.history = new History_1.History();\n          this.taskAreaManager = new TaskAreaManager_1.TaskAreaManager(this);\n          this.updateView();\n        }\n\n        GanttView.prototype.reset = function () {\n          this.timeScaleContainer.innerHTML = \"\";\n          this.taskArea.innerHTML = \"\";\n          this.horTaskAreaBorders = [];\n          this.vertTaskAreaBorders = [];\n          this.scaleBorders = [];\n          this.scaleElements = [];\n          this.taskElements = [];\n          this.selectionElements = [];\n          this.hlRowElements = [];\n          this.renderedRowIndices = [];\n          this.renderedColIndices = [];\n          this.renderedConnectorLines = [];\n          this.timeScaleAreas = [];\n          this.renderedScaleItemIndices = [];\n          this.connectorLinesToElementsMap = {};\n          this.renderedNoWorkingIntervals = [];\n          this.noWorkingIntervalsToElementsMap = {};\n        };\n\n        GanttView.prototype.setupHelpers = function () {\n          var size = new Size_1.Size(this.taskAreaContainer.getWidth(), this.taskAreaContainer.getHeight());\n          var scrollBarHeight = this.taskAreaContainer.getHeight() - this.taskAreaContainer.getElement().clientHeight;\n          this.gridLayoutCalculator.setSettings(size, this.tickSize, this.etalonSizeValues, this.range, this.viewModel, this.settings.viewType, scrollBarHeight);\n          this.elementTextHelper.setSettings(this.range.start.getTime(), this.settings.viewType, this.viewModel.items);\n        };\n\n        GanttView.prototype.getDateRange = function (modelStartDate, modelEndDate) {\n          var adjustedStartDate = Utils_1.DateUtils.adjustStartEndDateByViewType(modelStartDate, true, this.settings.viewType);\n          var adjustedEndDate = this.adjustEndDateByVisibleAreaWidth(adjustedStartDate, modelEndDate);\n          adjustedEndDate = Utils_1.DateUtils.adjustStartEndDateByViewType(adjustedEndDate, false, this.settings.viewType);\n          return new DateRange_1.DateRange(adjustedStartDate, adjustedEndDate);\n        };\n\n        GanttView.prototype.adjustEndDateByVisibleAreaWidth = function (adjustedStartDate, modelEndDate) {\n          var result = new Date();\n          var endTime = Math.max(modelEndDate.getTime(), this.getVisibleAreaEndDate(adjustedStartDate).getTime());\n          result.setTime(endTime);\n          return result;\n        };\n\n        GanttView.prototype.getVisibleAreaEndDate = function (visibleAreaStartDate) {\n          var result = new Date();\n          var visibleTickCount = Math.ceil(this.taskAreaContainer.getWidth() / this.tickSize.width);\n\n          if (this.settings.viewType == Enums_1.ViewType.Months) {\n            result.setTime(visibleAreaStartDate.getTime());\n            result.setMonth(result.getMonth() + visibleTickCount);\n          } else result.setTime(visibleAreaStartDate.getTime() + visibleTickCount * Utils_1.DateUtils.getTickTimeSpan(this.settings.viewType));\n\n          return result;\n        };\n\n        GanttView.prototype.calculateEtalonSizeValues = function () {\n          var etalonElementsContainer = this.createEtalonElementsContainer();\n          var etalonElements = this.createEtalonElements(etalonElementsContainer);\n          this.calculateEtalonSizeValuesCore(etalonElements);\n          this.mainElement.removeChild(etalonElementsContainer);\n        };\n\n        GanttView.prototype.calculateEtalonSizeValuesCore = function (etalonElements) {\n          this.etalonSizeValues.taskHeight = etalonElements[0].firstChild.offsetHeight;\n          this.etalonSizeValues.milestoneWidth = etalonElements[1].firstChild.offsetWidth;\n          this.etalonSizeValues.taskWrapperTopPadding = DomUtils_1.DomUtils.getTopPaddings(etalonElements[0]);\n          this.etalonSizeValues.connectorLineThickness = DomUtils_1.DomUtils.getVerticalBordersWidth(etalonElements[2]);\n          this.etalonSizeValues.connectorArrowWidth = DomUtils_1.DomUtils.getHorizontalBordersWidth(etalonElements[3]);\n\n          for (var i = 0; i <= Enums_1.ViewType.Years; i++) {\n            etalonElements[4].innerText = this.elementTextHelper.getScaleItemTextTemplate(i);\n            this.etalonSizeValues.scaleItemWidths[i] = etalonElements[4].offsetWidth;\n          }\n\n          this.etalonSizeValues.smallTaskWidth = DomUtils_1.DomUtils.getLeftPadding(etalonElements[0].firstChild.firstChild) * 2;\n          this.etalonSizeValues.outsideTaskTextDefaultWidth = DomUtils_1.DomUtils.pxToFloat(DomUtils_1.DomUtils.getCurrentStyle(etalonElements[5]).width);\n          this.etalonSizeValues.scaleItemHeight = this.ganttOwner.getHeaderHeight() / this.scaleCount;\n        };\n\n        GanttView.prototype.createEtalonElementsContainer = function () {\n          var result = document.createElement(\"DIV\");\n          result.style.visibility = \"hidden\";\n          result.style.position = \"absolute\";\n          result.style.left = \"-1000px\";\n          this.mainElement.appendChild(result);\n          return result;\n        };\n\n        GanttView.prototype.createEtalonElements = function (parent) {\n          var etalonElements = [];\n          var wrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\n          var task = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task\"), null, wrapper);\n          var taskTitle = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskTitle dx-gantt-titleIn\"), null, task);\n          taskTitle.innerText = \"WWW\";\n          etalonElements.push(wrapper);\n          var milestoneWrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\n          this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task dx-gantt-milestone\"), null, milestoneWrapper);\n          etalonElements.push(milestoneWrapper);\n          var etalonElementClassNames = [\"dx-gantt-conn-h\", \"dx-gantt-arrow\", \"dx-gantt-si\", \"dx-gantt-taskTitle dx-gantt-titleOut\"];\n\n          for (var i = 0; i < etalonElementClassNames.length; i++) {\n            var etalonElementInfo = new GridElementInfo_1.GridElementInfo(etalonElementClassNames[i]);\n            etalonElements.push(this.createElement(etalonElementInfo, null, parent));\n          }\n\n          return etalonElements;\n        };\n\n        GanttView.prototype.zoomIn = function () {\n          if (this.zoom == 1) {\n            this.zoom++;\n            this.updateTickSizeWidth();\n            this.resetAndUpdate();\n          } else if (this.settings.viewType > Enums_1.ViewType.TenMinutes) {\n            this.zoom--;\n            this.setViewType(this.settings.viewType - 1);\n          }\n        };\n\n        GanttView.prototype.zoomOut = function () {\n          if (this.zoom > 1) {\n            this.zoom--;\n            this.updateTickSizeWidth();\n            this.resetAndUpdate();\n          } else if (this.settings.viewType < Enums_1.ViewType.Years) {\n            this.zoom++;\n            this.setViewType(this.settings.viewType + 1);\n          }\n        };\n\n        GanttView.prototype.onVisualModelChanged = function () {\n          this.resetAndUpdate();\n        };\n\n        GanttView.prototype.getGanttViewStartDate = function (tasks) {\n          if (!tasks) return new Date();\n          var dates = tasks.map(function (t) {\n            return typeof t.start == \"string\" ? new Date(t.start) : t.start;\n          });\n          return dates.length > 0 ? dates.reduce(function (min, d) {\n            return d < min ? d : min;\n          }, dates[0]) : new Date();\n        };\n\n        GanttView.prototype.getGanttViewEndDate = function (tasks) {\n          if (!tasks) return new Date();\n          var dates = tasks.map(function (t) {\n            return typeof t.end == \"string\" ? new Date(t.end) : t.end;\n          });\n          return dates.length > 0 ? dates.reduce(function (max, d) {\n            return d > max ? d : max;\n          }, dates[0]) : new Date();\n        };\n\n        GanttView.prototype.getTaskAreaWidth = function () {\n          return this.gridLayoutCalculator.horizontalTickCount * this.tickSize.width;\n        };\n\n        GanttView.prototype.getTaskAreaHeight = function () {\n          return this.gridLayoutCalculator.getVerticalGridLineHeight();\n        };\n\n        GanttView.prototype.getVisibleTaskCount = function () {\n          return this.viewModel.itemCount;\n        };\n\n        GanttView.prototype.getTask = function (index) {\n          var item = this.viewModel.items[index];\n          return item.task;\n        };\n\n        GanttView.prototype.createMainElement = function (parent) {\n          this.mainElement = document.createElement(\"DIV\");\n          this.mainElement.style.width = parent.offsetWidth + \"px\";\n          this.mainElement.style.height = parent.offsetHeight + \"px\";\n          parent.appendChild(this.mainElement);\n        };\n\n        GanttView.prototype.createHeader = function () {\n          this.header = document.createElement(\"DIV\");\n          this.header.className = \"dx-gantt-header\";\n          this.mainElement.appendChild(this.header);\n        };\n\n        GanttView.prototype.createTimeScaleContainer = function () {\n          this.timeScaleContainer = document.createElement(\"DIV\");\n          this.timeScaleContainer.className = \"dx-gantt-tsac\";\n          this.timeScaleContainer.style.height = this.etalonSizeValues.scaleItemHeight * this.scaleCount + \"px\";\n          this.header.appendChild(this.timeScaleContainer);\n        };\n\n        GanttView.prototype.createTimeScaleArea = function () {\n          var timeScaleArea = document.createElement(\"DIV\");\n          timeScaleArea.className = \"dx-gantt-tsa\";\n          timeScaleArea.style.width = this.getTaskAreaWidth() + \"px\";\n          timeScaleArea.style.height = this.etalonSizeValues.scaleItemHeight + \"px\";\n          this.timeScaleContainer.appendChild(timeScaleArea);\n          this.timeScaleAreas.unshift(timeScaleArea);\n          return timeScaleArea;\n        };\n\n        GanttView.prototype.createTimeScaleAreas = function () {\n          for (var i = 0; i < this.scaleCount; i++) {\n            var timeScaleArea = this.createTimeScaleArea();\n            if (i == 0 && this.settings.viewType == Enums_1.ViewType.Weeks) this.createMonthsScale(timeScaleArea);\n          }\n        };\n\n        GanttView.prototype.createTaskAreaContainer = function () {\n          var element = document.createElement(\"DIV\");\n          element.className = \"dx-gantt-tac\";\n          this.mainElement.appendChild(element);\n          this.createTaskArea(element);\n          this.taskAreaContainer = this.ganttOwner.getExternalTaskAreaContainer(element);\n          if (this.taskAreaContainer == null) this.taskAreaContainer = new TaskAreaContainer_1.TaskAreaContainer(element, this);\n          this.prepareTaskAreaContainer();\n        };\n\n        GanttView.prototype.prepareTaskAreaContainer = function () {\n          var className = \"dx-gantt-tac-hb\";\n          var element = this.taskAreaContainer.getElement();\n          this.settings.areHorizontalBordersEnabled ? DomUtils_1.DomUtils.addClassNameToElement(element, className) : DomUtils_1.DomUtils.removeClassNameFromElement(element, className);\n          var marginTop = parseInt(getComputedStyle(element).getPropertyValue(\"margin-top\")) || 0;\n          element.style.height = \"calc(100% - \" + (this.etalonSizeValues.scaleItemHeight * this.scaleCount + marginTop) + \"px)\";\n        };\n\n        GanttView.prototype.createTaskArea = function (parent) {\n          this.taskArea = document.createElement(\"DIV\");\n          this.taskArea.id = \"dx-gantt-ta\";\n          parent.appendChild(this.taskArea);\n        };\n\n        GanttView.prototype.setSizeForTaskArea = function () {\n          this.taskArea.style.width = this.getTaskAreaWidth() + \"px\";\n          this.taskArea.style.height = this.getTaskAreaHeight() + \"px\";\n        };\n\n        GanttView.prototype.updateTickSizeWidth = function () {\n          this.tickSize.width = this.etalonSizeValues.scaleItemWidths[this.settings.viewType] * this.zoom;\n        };\n\n        GanttView.prototype.createMonthsScale = function (parent) {\n          var currentDate = new Date();\n          currentDate.setTime(this.range.start.getTime());\n          var x = 0;\n          var index = 0;\n\n          while (currentDate.getTime() < this.range.end.getTime()) {\n            var dayInMonthCount = Utils_1.DateUtils.getDaysInMonth(currentDate.getMonth(), currentDate.getFullYear());\n            var dayCount = dayInMonthCount - currentDate.getDate() + 1;\n            var nextDate = new Date();\n            nextDate.setTime(currentDate.getTime() + Math.min(dayCount * Utils_1.DateUtils.msPerDay, this.range.end.getTime() - currentDate.getTime()));\n            var width = this.gridLayoutCalculator.getWidthByDateRange(currentDate, nextDate);\n            var scaleItemInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-si\", new Point_1.Point(x), new Size_1.Size(width, this.etalonSizeValues.scaleItemHeight));\n            var scaleItemElement = this.createElement(scaleItemInfo, null, parent);\n            scaleItemElement.innerText = this.elementTextHelper.getScaleItemText(index, Enums_1.ViewType.Months);\n            scaleItemElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\n            var scaleBorderInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-vb\", new Point_1.Point(x + width), new Size_1.Size(0, this.etalonSizeValues.scaleItemHeight));\n            this.createElement(scaleBorderInfo, null, parent);\n            x += width;\n            index++;\n            currentDate = nextDate;\n          }\n        };\n\n        GanttView.prototype.updateView = function () {\n          this.timeScaleContainer.scrollLeft = this.taskAreaContainer.scrollLeft;\n          this.processScroll(false);\n          this.processScroll(true);\n          this.ganttOwner.onGanttScroll(this.taskAreaContainer.scrollTop);\n        };\n\n        GanttView.prototype.processScroll = function (isVertical) {\n          this.recreateTaskAreaBordersAndTaskElements(isVertical);\n          if (isVertical) this.recreateConnectorLineElements();else {\n            this.recreateNoWorkingIntervalElements();\n            this.recreateScalesElements();\n          }\n        };\n\n        GanttView.prototype.recreateTaskAreaBordersAndTaskElements = function (isVertical) {\n          var _this = this;\n\n          var scrollPos = isVertical ? this.taskAreaContainer.scrollTop : this.taskAreaContainer.scrollLeft;\n          var newRenderedIndices = this.gridLayoutCalculator.getRenderedRowColumnIndices(scrollPos, isVertical);\n          var renderedIndices = isVertical ? this.renderedRowIndices : this.renderedColIndices;\n          this.recreateElements(renderedIndices, newRenderedIndices, function (index) {\n            _this.removeTaskAreaBorderAndTaskElement(index, isVertical);\n          }, function (index) {\n            _this.createTaskAreaBorderAndTaskElement(index, isVertical);\n          });\n          if (isVertical) this.renderedRowIndices = newRenderedIndices;else this.renderedColIndices = newRenderedIndices;\n        };\n\n        GanttView.prototype.recreateNoWorkingIntervalElements = function () {\n          var _this = this;\n\n          var newRenderedNoWorkingIntervals = this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainer.scrollLeft);\n          this.recreateElements(this.renderedNoWorkingIntervals, newRenderedNoWorkingIntervals, function (info) {\n            _this.removeNoWorkingIntervalElement(info);\n          }, function (info) {\n            _this.createNoWorkingIntervalElement(info);\n          });\n          this.renderedNoWorkingIntervals = newRenderedNoWorkingIntervals;\n        };\n\n        GanttView.prototype.recreateConnectorLineElements = function () {\n          var _this = this;\n\n          var newRenderedConnectorLines = this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainer.scrollTop);\n          this.recreateElements(this.renderedConnectorLines, newRenderedConnectorLines, function (info) {\n            _this.removeConnectorLineElement(info);\n          }, function (info) {\n            _this.createConnectorLineElement(info);\n          });\n          this.renderedConnectorLines = newRenderedConnectorLines;\n        };\n\n        GanttView.prototype.recreateScalesElements = function () {\n          this.recreateScaleElements(this.settings.viewType, 0);\n          if (this.settings.viewType != Enums_1.ViewType.Weeks) this.recreateScaleElements(Utils_1.DateUtils.ViewTypeToScaleMap[this.settings.viewType], 1);\n        };\n\n        GanttView.prototype.recreateScaleElements = function (scaleType, scaleIndex) {\n          var _this = this;\n\n          var newRenderedIndices = this.gridLayoutCalculator.getRenderedScaleItemIndices(scaleType, this.renderedColIndices);\n          var renderedIndices = this.renderedScaleItemIndices[scaleType - this.settings.viewType] || [];\n          this.recreateElements(renderedIndices, newRenderedIndices, function (index) {\n            _this.removeScaleElementAndBorder(index, scaleIndex);\n          }, function (index) {\n            _this.createScaleElementAndBorder(index, scaleIndex, scaleType);\n          });\n          this.renderedScaleItemIndices[scaleType - this.settings.viewType] = newRenderedIndices;\n        };\n\n        GanttView.prototype.recreateElements = function (oldRenderedElementsInfo, newRenderedelementsInfo, removeAction, createAction) {\n          oldRenderedElementsInfo.filter(function (info) {\n            return newRenderedelementsInfo.indexOf(info) === -1;\n          }).forEach(function (info) {\n            removeAction(info);\n          });\n          newRenderedelementsInfo.filter(function (info) {\n            return oldRenderedElementsInfo.indexOf(info) === -1;\n          }).forEach(function (info) {\n            createAction(info);\n          });\n        };\n\n        GanttView.prototype.allowTaskAreaBorders = function (isVerticalScroll) {\n          return isVerticalScroll ? this.settings.areHorizontalBordersEnabled : this.settings.areVerticalBordersEnabled;\n        };\n\n        GanttView.prototype.createTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\n          if (this.allowTaskAreaBorders(isVerticalScroll)) this.createTaskAreaBorder(index, !isVerticalScroll);\n          if (isVerticalScroll) this.createTaskElement(index);\n        };\n\n        GanttView.prototype.removeTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\n          if (this.allowTaskAreaBorders(isVerticalScroll)) this.removeTaskAreaBorder(index, !isVerticalScroll);\n          if (isVerticalScroll) this.removeTaskElement(index);\n        };\n\n        GanttView.prototype.getTaskAreaBordersDictionary = function (isVertical) {\n          return isVertical ? this.vertTaskAreaBorders : this.horTaskAreaBorders;\n        };\n\n        GanttView.prototype.createTaskAreaBorder = function (index, isVertical) {\n          var info = this.gridLayoutCalculator.getTaskAreaBorderInfo(index, isVertical);\n          this.createElement(info, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\n        };\n\n        GanttView.prototype.removeTaskAreaBorder = function (index, isVertical) {\n          this.removeElement(null, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\n        };\n\n        GanttView.prototype.createScaleElementAndBorder = function (index, scaleIndex, scaleType) {\n          this.createScaleElement(index, scaleIndex, scaleType);\n          this.createScaleBorder(index, scaleIndex, scaleType);\n        };\n\n        GanttView.prototype.createScaleElement = function (index, scaleIndex, scaleType) {\n          var info = this.gridLayoutCalculator.getScaleElementInfo(index, scaleType);\n          var scaleElement = this.createScaleElementCore(index, info, scaleIndex, this.scaleElements);\n          scaleElement.innerText = this.elementTextHelper.getScaleItemText(index, scaleType);\n          scaleElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\n        };\n\n        GanttView.prototype.createScaleBorder = function (index, scaleIndex, scaleType) {\n          var info = this.gridLayoutCalculator.getScaleBorderInfo(index, scaleType);\n          this.createScaleElementCore(index, info, scaleIndex, this.scaleBorders);\n        };\n\n        GanttView.prototype.createScaleElementCore = function (index, info, scaleIndex, dictionary) {\n          if (!dictionary[scaleIndex]) dictionary[scaleIndex] = [];\n          return this.createElement(info, index, this.timeScaleAreas[scaleIndex], dictionary[scaleIndex]);\n        };\n\n        GanttView.prototype.removeScaleElementAndBorder = function (index, scaleIndex) {\n          this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleElements[scaleIndex]);\n          this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleBorders[scaleIndex]);\n        };\n\n        GanttView.prototype.createTaskElement = function (index) {\n          this.createTaskWrapperElement(index);\n          if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Outside) this.createTaskTextElement(index, this.taskElements[index]);\n          var taskVisualElement = this.createTaskVisualElement(index);\n\n          if (!this.viewModel.items[index].task.isMilestone()) {\n            if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside) this.createTaskTextElement(index, taskVisualElement);\n            this.createTaskProgressElement(index, taskVisualElement);\n          }\n\n          if (this.settings.showResources) this.createResources(index);\n          if (this.viewModel.items[index].selected) this.createTaskSelectionElement(index);\n          if (this.isHighlightRowElementAllowed(index)) this.createHighlightRowElement(index);\n        };\n\n        GanttView.prototype.isHighlightRowElementAllowed = function (index) {\n          return index % 2 !== 0 && this.settings.areAlternateRowsEnabled || this.viewModel.items[index].children.length > 0;\n        };\n\n        GanttView.prototype.createResources = function (index) {\n          var resources = this.viewModel.items[index].resources.items;\n\n          for (var i = 0; i < resources.length; i++) {\n            this.createResourceElement(index, resources[i]);\n          }\n        };\n\n        GanttView.prototype.createTaskWrapperElement = function (index) {\n          var taskWrapperInfo = this.gridLayoutCalculator.getTaskWrapperElementInfo(index);\n          this.createElement(taskWrapperInfo, index, this.taskArea, this.taskElements);\n          this.taskElements[index].style.display = this.elementTextHelper.getTaskVisibility(index) ? \"\" : \"none\";\n        };\n\n        GanttView.prototype.createTaskVisualElement = function (index) {\n          var taskElementInfo = this.gridLayoutCalculator.getTaskElementInfo(index);\n          var taskElement = this.createElement(taskElementInfo, index, this.taskElements[index]);\n          taskElement.addEventListener(\"mouseenter\", function (evt) {\n            this.taskAreaManager.onTaskElementHover(evt);\n          }.bind(this));\n          return taskElement;\n        };\n\n        GanttView.prototype.createTaskProgressElement = function (index, parent) {\n          var taskProgressInfo = this.gridLayoutCalculator.getTaskProgressElementInfo(index);\n          this.createElement(taskProgressInfo, index, parent);\n        };\n\n        GanttView.prototype.createTaskTextElement = function (index, parent) {\n          var taskTextInfo = this.gridLayoutCalculator.getTaskTextElementInfo(index, this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside);\n          var taskTextElement = this.createElement(taskTextInfo, index, parent);\n          taskTextElement.innerText = this.elementTextHelper.getTaskText(index);\n        };\n\n        GanttView.prototype.createResourceElement = function (index, resource) {\n          var resourceElementInfo = this.gridLayoutCalculator.getTaskResourceElementInfo();\n          var resElement = this.createElement(resourceElementInfo, index, this.taskElements[index]);\n          resElement.innerText = resource.text;\n        };\n\n        GanttView.prototype.createTaskSelectionElement = function (index) {\n          var selectionInfo = this.gridLayoutCalculator.getSelectionElementInfo(index);\n          if (this.taskAreaContainer.isExternal && !this.settings.areHorizontalBordersEnabled) selectionInfo.size.height++;\n          this.createElement(selectionInfo, index, this.taskArea, this.selectionElements);\n        };\n\n        GanttView.prototype.createHighlightRowElement = function (index) {\n          var hlRowInfo = this.gridLayoutCalculator.getHighlightRowInfo(index);\n          this.createElement(hlRowInfo, index, this.taskArea, this.hlRowElements);\n        };\n\n        GanttView.prototype.removeTaskElement = function (index) {\n          this.removeElement(null, index, this.taskArea, this.taskElements);\n          this.removeElement(null, index, this.taskArea, this.selectionElements);\n          if (this.isHighlightRowElementAllowed(index)) this.removeElement(null, index, this.taskArea, this.hlRowElements);\n        };\n\n        GanttView.prototype.createConnectorLineElement = function (info) {\n          if (this.taskEditController.isDependencySelected(info.attr[\"dependency-id\"])) info.className = info.className + \" active\";\n          return this.createElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\n        };\n\n        GanttView.prototype.removeConnectorLineElement = function (info) {\n          this.removeElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\n        };\n\n        GanttView.prototype.createNoWorkingIntervalElement = function (info) {\n          return this.createElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\n        };\n\n        GanttView.prototype.removeNoWorkingIntervalElement = function (info) {\n          this.removeElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\n        };\n\n        GanttView.prototype.createElement = function (info, index, parent, dictionary) {\n          var element = document.createElement(\"DIV\");\n          info.assignToElement(element);\n          parent.appendChild(element);\n\n          if (dictionary) {\n            if (dictionary instanceof Array && index !== null) dictionary[index] = element;else dictionary[info.id] = element;\n          }\n\n          for (var key in info.attr) {\n            if (info.attr.hasOwnProperty(key)) {\n              element.setAttribute(key, info.attr[key]);\n            }\n          }\n\n          return element;\n        };\n\n        GanttView.prototype.removeElement = function (info, index, parent, dictionary) {\n          var element;\n\n          if (dictionary instanceof Array && index !== null) {\n            element = dictionary[index];\n            delete dictionary[index];\n          } else {\n            element = dictionary[info.id];\n            delete dictionary[info.id];\n          }\n\n          if (element) parent.removeChild(element);\n        };\n\n        GanttView.prototype.calculateAutoViewType = function (startDate, endDate) {\n          var diffInHours = (endDate.getTime() - startDate.getTime()) / (1000 * 3600);\n          if (diffInHours > 24 * 365) return Enums_1.ViewType.Years;\n          if (diffInHours > 24 * 30) return Enums_1.ViewType.Months;\n          if (diffInHours > 24 * 7) return Enums_1.ViewType.Weeks;\n          if (diffInHours > 24) return Enums_1.ViewType.Days;\n          if (diffInHours > 6) return Enums_1.ViewType.SixHours;\n          if (diffInHours > 1) return Enums_1.ViewType.Hours;\n          return Enums_1.ViewType.TenMinutes;\n        };\n\n        GanttView.prototype.changeTaskExpanded = function (publicId, expanded) {\n          var task = this.getTaskByPublicId(publicId);\n          if (task) this.viewModel.changeTaskExpanded(task.internalId, expanded);\n        };\n\n        GanttView.prototype.expandTask = function (id) {\n          this.viewModel.changeTaskExpanded(id, true);\n        };\n\n        GanttView.prototype.collapseTask = function (id) {\n          this.viewModel.changeTaskExpanded(id, false);\n        };\n\n        GanttView.prototype.showTask = function (id) {\n          this.viewModel.changeTaskVisibility(id, true);\n        };\n\n        GanttView.prototype.hideTask = function (id) {\n          this.viewModel.changeTaskVisibility(id, false);\n        };\n\n        GanttView.prototype.getTaskVisibility = function (id) {\n          return this.viewModel.getTaskVisibility(id);\n        };\n\n        GanttView.prototype.unselectCurrentSelectedTask = function () {\n          this.unselectTask(this.currentSelectedTaskID);\n        };\n\n        GanttView.prototype.getTaskSelected = function (id) {\n          return this.viewModel.getTaskSelected(id);\n        };\n\n        GanttView.prototype.setViewType = function (viewType) {\n          if (viewType == undefined) {\n            viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\n          }\n\n          if (this.settings.viewType !== viewType) {\n            this.settings.viewType = viewType;\n            this.updateTickSizeWidth();\n            this.resetAndUpdate();\n          }\n        };\n\n        GanttView.prototype.setTaskTitlePosition = function (taskTitlePosition) {\n          if (this.settings.taskTitlePosition !== taskTitlePosition) {\n            this.settings.taskTitlePosition = taskTitlePosition;\n            this.resetAndUpdate();\n          }\n        };\n\n        GanttView.prototype.setShowResources = function (showResources) {\n          if (this.settings.showResources !== showResources) {\n            this.settings.showResources = showResources;\n            this.resetAndUpdate();\n          }\n        };\n\n        GanttView.prototype.loadOptionsFromGanttOwner = function () {\n          this.tickSize.height = this.ganttOwner.getRowHeight();\n          var tasksData = this.ganttOwner.getGanttTasksData();\n          this.dataRange = new DateRange_1.DateRange(this.getGanttViewStartDate(tasksData), this.getGanttViewEndDate(tasksData));\n          if (this.settings.viewType == undefined) this.settings.viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\n          this.updateTickSizeWidth();\n          this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\n          this.viewModel = new VisualModel_1.ViewVisualModel(this, tasksData, this.ganttOwner.getGanttDependenciesData(), this.ganttOwner.getGanttResourcesData(), this.ganttOwner.getGanttResourceAssignmentsData(), this.dataRange, this.ganttOwner.getGanttWorkTimeRules());\n          var dispatcher = new ModelChangesDispatcher_1.ModelChangesDispatcher();\n          var modelChangesListener = this.ganttOwner.getModelChangesListener();\n          if (modelChangesListener) dispatcher.onModelChanged.add(modelChangesListener);\n          this.modelManipulator = new ModelManipulator_1.ModelManipulator(this.viewModel, dispatcher);\n        };\n\n        GanttView.prototype.resetAndUpdate = function () {\n          this.reset();\n          this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\n          this.setupHelpers();\n          this.createTimeScaleAreas();\n          this.setSizeForTaskArea();\n          if (Browser_1.Browser.IE) this.taskEditController.createElements();\n          this.updateView();\n        };\n\n        GanttView.prototype.selectTask = function (id) {\n          this.viewModel.changeTaskSelected(id, true);\n          this.currentSelectedTaskID = id;\n        };\n\n        GanttView.prototype.unselectTask = function (id) {\n          this.viewModel.changeTaskSelected(id, false);\n        };\n\n        GanttView.prototype.selectTaskById = function (publicId) {\n          this.unselectCurrentSelectedTask();\n          var task = this.getTaskByPublicId(publicId);\n          if (task) this.selectTask(task.internalId);\n        };\n\n        GanttView.prototype.getTaskAreaContainer = function () {\n          return this.taskAreaContainer;\n        };\n\n        GanttView.prototype.setWidth = function (value) {\n          this.mainElement.style.width = value + \"px\";\n        };\n\n        GanttView.prototype.setAllowSelection = function (value) {\n          this.settings.allowSelectTask = value;\n        };\n\n        GanttView.prototype.setEditingSettings = function (value) {\n          this.settings.editing = value;\n        };\n\n        GanttView.prototype.setRowLinesVisible = function (value) {\n          this.settings.areHorizontalBordersEnabled = value;\n          this.prepareTaskAreaContainer();\n          this.resetAndUpdate();\n        };\n\n        GanttView.prototype.setTaskTitle = function (taskId, newValue) {\n          var task = this.getTaskByPublicId(taskId);\n          if (task) this.commandManager.changeTaskTitleCommand.execute(task.internalId, newValue);\n        };\n\n        GanttView.prototype.setTaskProgress = function (taskId, newValue) {\n          var task = this.getTaskByPublicId(taskId);\n          if (task) this.commandManager.changeTaskProgressCommand.execute(task.internalId, newValue);\n        };\n\n        GanttView.prototype.setTaskStart = function (taskId, newValue) {\n          var task = this.getTaskByPublicId(taskId);\n          if (task) this.commandManager.changeTaskStartCommand.execute(task.internalId, newValue);\n        };\n\n        GanttView.prototype.setTaskEnd = function (taskId, newValue) {\n          var task = this.getTaskByPublicId(taskId);\n          if (task) this.commandManager.changeTaskEndCommand.execute(task.internalId, newValue);\n        };\n\n        GanttView.prototype.removeTask = function (taskId) {\n          var task = this.getTaskByPublicId(taskId);\n          if (task) this.commandManager.removeTaskCommand.execute(task.internalId);\n        };\n\n        GanttView.prototype.createTask = function (parentId) {\n          var parent = this.getTaskByPublicId(parentId);\n          var id = parent ? parent.internalId : null;\n          this.commandManager.createTaskCommand.execute(null, null, \"\", id);\n        };\n\n        GanttView.prototype.getTaskByPublicId = function (id) {\n          return this.viewModel.tasks.getItemByPublicId(id);\n        };\n\n        GanttView.prototype.getPrevTask = function (taskId) {\n          var item = this.viewModel.findItem(taskId);\n          var index = item.parent.children.indexOf(item) - 1;\n          return index > -1 ? item.parent.children[index].task : item.parent.task;\n        };\n\n        GanttView.prototype.updateCreatedTaskIdAfterServerUpdate = function (internalId, id) {\n          var item = this.viewModel.findItem(internalId);\n          var task = item && item.task;\n          if (task) task.id = id;\n        };\n\n        GanttView.prototype.getTaskIdByInternalId = function (internalId) {\n          var item = this.viewModel.findItem(internalId);\n          var task = item && item.task;\n          return task ? task.id : null;\n        };\n\n        GanttView.prototype.isTaskHasChildren = function (taskId) {\n          var item = this.viewModel.findItem(taskId);\n          return item && item.children.length > 0;\n        };\n\n        return GanttView;\n      }();\n\n      exports.GanttView = GanttView;\n      /***/\n    },\n    /* 35 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ResourceCollection_1 = __webpack_require__(13);\n\n      var TaskCollection_1 = __webpack_require__(37);\n\n      var DependencyCollection_1 = __webpack_require__(39);\n\n      var ResourceAssignmentCollection_1 = __webpack_require__(40);\n\n      var ViewVisualModelItem_1 = __webpack_require__(42);\n\n      var ViewVisualModelDependencyInfo_1 = __webpack_require__(43);\n\n      var WorkingTimeCalculator_1 = __webpack_require__(44);\n\n      var ViewVisualModel = function () {\n        function ViewVisualModel(owner, tasks, dependencies, resources, assignments, dateRange, workTimeRules) {\n          this._fLockCount = 0;\n          this.owner = owner;\n          this.tasks = new TaskCollection_1.TaskCollection();\n          this.tasks.importFromObject(tasks);\n          this.dependencies = new DependencyCollection_1.DependencyCollection();\n          this.dependencies.importFromObject(dependencies);\n          this.resources = new ResourceCollection_1.ResourceCollection();\n          this.resources.importFromObject(resources);\n          this.assignments = new ResourceAssignmentCollection_1.ResourceAssignmentCollection();\n          this.assignments.importFromObject(assignments);\n          this._itemList = new Array();\n          this._viewItemList = new Array();\n          this._workTimeCalculator = new WorkingTimeCalculator_1.WorkingTimeCalculator(dateRange, workTimeRules);\n          this.updateModel();\n        }\n\n        ViewVisualModel.prototype.updateModel = function () {\n          this._itemList.splice(0, this._itemList.length);\n\n          var tasks = this.tasks.items;\n\n          for (var i = 0; i < tasks.length; i++) {\n            var task = tasks[i];\n            if (task) this._itemList.push(new ViewVisualModelItem_1.ViewVisualModelItem(task, this.getAssignedResources(task)));\n          }\n\n          this.createHierarchy();\n          this.populateItemsForView();\n          if (this.owner && this.owner.currentSelectedTaskID) this.changeTaskSelected(this.owner.currentSelectedTaskID, true);\n        };\n\n        ViewVisualModel.prototype.createHierarchy = function () {\n          this.root = new ViewVisualModelItem_1.ViewVisualModelItem(null, null);\n          var list = this._itemList;\n\n          var _loop_1 = function _loop_1() {\n            var item = list[i];\n            var parentId = item.task.parentId;\n            var parentItem = list.filter(function (value) {\n              return value.task && value.task.internalId === parentId || value.task.internalId.toString() === parentId;\n            })[0] || this_1.root;\n            item.parent = parentItem;\n            parentItem.addChild(item);\n          };\n\n          var this_1 = this;\n\n          for (var i = 0; i < list.length; i++) {\n            _loop_1();\n          }\n        };\n\n        ViewVisualModel.prototype.populateItemsForView = function () {\n          this._viewItemList.splice(0, this._viewItemList.length);\n\n          this.populateVisibleItems(this.root);\n          this.updateVisibleItemDependencies();\n        };\n\n        ViewVisualModel.prototype.populateVisibleItems = function (item) {\n          var _this = this;\n\n          var isRoot = item === this.root;\n          if (!item || !item.task && !isRoot) return;\n\n          if (!isRoot) {\n            this._viewItemList.push(item);\n\n            item.visibleIndex = this._viewItemList.length - 1;\n          }\n\n          if (item.getExpanded() || item === this.root) item.children.forEach(function (n) {\n            return _this.populateVisibleItems(n);\n          });\n        };\n\n        ViewVisualModel.prototype.updateVisibleItemDependencies = function () {\n          var list = this._viewItemList;\n\n          for (var i = 0; i < list.length; i++) {\n            var item = list[i];\n            var visibleDependencies = this.getTasVisibleDependencies(item.task);\n            item.setDependencies(visibleDependencies);\n          }\n        };\n\n        ViewVisualModel.prototype.getAssignedResources = function (task) {\n          var _this = this;\n\n          var res = new ResourceCollection_1.ResourceCollection();\n          var assignments = this.assignments.items.filter(function (value) {\n            return value.taskId == task.internalId;\n          });\n          assignments.forEach(function (assignment) {\n            res.add(_this.resources.getItemById(assignment.resourceId));\n          });\n          return res;\n        };\n\n        ViewVisualModel.prototype.getTasVisibleDependencies = function (task) {\n          var res = new Array();\n          var id = task.internalId;\n          var dependencies = this.dependencies.items.filter(function (value) {\n            return value.successorId == id;\n          });\n\n          for (var i = 0; i < dependencies.length; i++) {\n            var dependency = dependencies[i];\n            var item = this.findItem(dependency.predecessorId);\n            if (item && item.getVisible()) res.push(new ViewVisualModelDependencyInfo_1.ViewVisualModelDependencyInfo(dependency.internalId, item, dependency.type));\n          }\n\n          return res;\n        };\n\n        ViewVisualModel.prototype.changeTaskExpanded = function (id, expanded) {\n          var task = this.tasks.getItemById(String(id));\n\n          if (task) {\n            task.expanded = expanded;\n            this.changed();\n          }\n        };\n\n        ViewVisualModel.prototype.changeTaskVisibility = function (id, visible) {\n          var item = this.findItem(id);\n\n          if (item) {\n            item.visible = visible;\n            this.changed();\n          }\n        };\n\n        ViewVisualModel.prototype.changeTaskSelected = function (id, selected) {\n          var item = this._itemList.filter(function (value) {\n            return value.task && value.task.internalId === id;\n          })[0];\n\n          if (item) {\n            item.selected = selected;\n            this.changed();\n          }\n        };\n\n        ViewVisualModel.prototype.beginUpdate = function () {\n          this._fLockCount++;\n        };\n\n        ViewVisualModel.prototype.endUpdate = function () {\n          this._fLockCount--;\n          if (this._fLockCount == 0) this.changed();\n        };\n\n        ViewVisualModel.prototype.changed = function () {\n          if (this._fLockCount !== 0) return;\n          this.populateItemsForView();\n          if (this.owner && this.owner.onVisualModelChanged) this.owner.onVisualModelChanged();\n        };\n\n        ViewVisualModel.prototype.findItem = function (taskId) {\n          return this._viewItemList.filter(function (value) {\n            return value.task && value.task.internalId === taskId;\n          })[0];\n        };\n\n        Object.defineProperty(ViewVisualModel.prototype, \"items\", {\n          get: function get() {\n            return this._viewItemList.slice();\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(ViewVisualModel.prototype, \"itemCount\", {\n          get: function get() {\n            return this.items.length;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        ViewVisualModel.prototype.getTaskVisibility = function (id) {\n          var item = this.findItem(id);\n          return !!item && item.getVisible();\n        };\n\n        ViewVisualModel.prototype.getTaskSelected = function (id) {\n          var item = this.findItem(id);\n          return !!item && item.selected;\n        };\n\n        Object.defineProperty(ViewVisualModel.prototype, \"noWorkingIntervals\", {\n          get: function get() {\n            return this._workTimeCalculator.noWorkingIntervals;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n\n        ViewVisualModel.prototype.updateRange = function (range) {\n          this._workTimeCalculator.updateRange(range);\n        };\n\n        ;\n        return ViewVisualModel;\n      }();\n\n      exports.ViewVisualModel = ViewVisualModel;\n      /***/\n    },\n    /* 36 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics13 = function extendStatics(d, b) {\n          _extendStatics13 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics13(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics13(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var Resource = function (_super) {\n        __extends(Resource, _super);\n\n        function Resource() {\n          var _this = _super.call(this) || this;\n\n          _this.text = \"\";\n          return _this;\n        }\n\n        Resource.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.text = sourceObj.text;\n          }\n        };\n\n        return Resource;\n      }(DataObject_1.DataObject);\n\n      exports.Resource = Resource;\n      /***/\n    },\n    /* 37 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics14 = function extendStatics(d, b) {\n          _extendStatics14 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics14(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics14(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Task_1 = __webpack_require__(38);\n\n      var CollectionBase_1 = __webpack_require__(6);\n\n      var TaskCollection = function (_super) {\n        __extends(TaskCollection, _super);\n\n        function TaskCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskCollection.prototype.createItem = function () {\n          return new Task_1.Task();\n        };\n\n        return TaskCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.TaskCollection = TaskCollection;\n      /***/\n    },\n    /* 38 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics15 = function extendStatics(d, b) {\n          _extendStatics15 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics15(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics15(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var TaskType;\n\n      (function (TaskType) {\n        TaskType[TaskType[\"Regular\"] = 0] = \"Regular\";\n        TaskType[TaskType[\"Summary\"] = 1] = \"Summary\";\n        TaskType[TaskType[\"Milestone\"] = 2] = \"Milestone\";\n      })(TaskType || (TaskType = {}));\n\n      var Task = function (_super) {\n        __extends(Task, _super);\n\n        function Task() {\n          var _this = _super.call(this) || this;\n\n          _this.start = null;\n          _this.end = null;\n          _this.duration = null;\n          _this.description = \"\";\n          _this.parentId = \"\";\n          _this.title = \"\";\n          _this.owner = null;\n          _this.progress = 0;\n          _this.taskType = null;\n          _this.customFields = {};\n          _this.expanded = true;\n          return _this;\n        }\n\n        Task.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.owner = sourceObj.owner;\n            this.parentId = sourceObj.parentId != null ? String(sourceObj.parentId) : null;\n            this.description = sourceObj.description;\n            this.title = sourceObj.title;\n            this.start = sourceObj.start;\n            this.end = sourceObj.end;\n            this.start = typeof sourceObj.start == \"string\" ? new Date(sourceObj.start) : sourceObj.start;\n            this.end = typeof sourceObj.end == \"string\" ? new Date(sourceObj.end) : sourceObj.end;\n            this.duration = sourceObj.duration;\n            this.progress = sourceObj.progress;\n            this.taskType = sourceObj.taskType;\n            if (Utils_1.JsonUtils.isExists(sourceObj.expanded)) this.expanded = !!sourceObj.expanded;\n            this.assignCustomFields(sourceObj.customFields);\n          }\n        };\n\n        Task.prototype.assignCustomFields = function (sourceObj) {\n          if (!sourceObj) return;\n\n          for (var property in sourceObj) {\n            if (!sourceObj.hasOwnProperty(property)) continue;\n            this.customFields[property] = sourceObj[property];\n          }\n        };\n\n        Task.prototype.isMilestone = function () {\n          return this.start.getTime() == this.end.getTime();\n        };\n\n        return Task;\n      }(DataObject_1.DataObject);\n\n      exports.Task = Task;\n      /***/\n    },\n    /* 39 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics16 = function extendStatics(d, b) {\n          _extendStatics16 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics16(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics16(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CollectionBase_1 = __webpack_require__(6);\n\n      var Dependency_1 = __webpack_require__(14);\n\n      var DependencyCollection = function (_super) {\n        __extends(DependencyCollection, _super);\n\n        function DependencyCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DependencyCollection.prototype.createItem = function () {\n          return new Dependency_1.Dependency();\n        };\n\n        return DependencyCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.DependencyCollection = DependencyCollection;\n      /***/\n    },\n    /* 40 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics17 = function extendStatics(d, b) {\n          _extendStatics17 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics17(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics17(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CollectionBase_1 = __webpack_require__(6);\n\n      var ResourceAssignment_1 = __webpack_require__(41);\n\n      var ResourceAssignmentCollection = function (_super) {\n        __extends(ResourceAssignmentCollection, _super);\n\n        function ResourceAssignmentCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceAssignmentCollection.prototype.createItem = function () {\n          return new ResourceAssignment_1.ResourceAssignment();\n        };\n\n        return ResourceAssignmentCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.ResourceAssignmentCollection = ResourceAssignmentCollection;\n      /***/\n    },\n    /* 41 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics18 = function extendStatics(d, b) {\n          _extendStatics18 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics18(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics18(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var ResourceAssignment = function (_super) {\n        __extends(ResourceAssignment, _super);\n\n        function ResourceAssignment() {\n          var _this = _super.call(this) || this;\n\n          _this.taskId = \"\";\n          _this.resourceId = \"\";\n          return _this;\n        }\n\n        ResourceAssignment.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.taskId = String(sourceObj.taskId);\n            this.resourceId = String(sourceObj.resourceId);\n          }\n        };\n\n        return ResourceAssignment;\n      }(DataObject_1.DataObject);\n\n      exports.ResourceAssignment = ResourceAssignment;\n      /***/\n    },\n    /* 42 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Utils_1 = __webpack_require__(0);\n\n      var ViewVisualModelItem = function () {\n        function ViewVisualModelItem(task, resources) {\n          this.dependencies = new Array();\n          this.parent = null;\n          this.visible = true;\n          this.selected = false;\n          this.visibleIndex = -1;\n          this.task = task;\n          this.resources = resources;\n          this.children = new Array();\n        }\n\n        Object.defineProperty(ViewVisualModelItem.prototype, \"resourceText\", {\n          get: function get() {\n            var text = \"\";\n            this.resources.items.forEach(function (r) {\n              return text += r.text + \" \";\n            });\n            return text;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        ViewVisualModelItem.prototype.addChild = function (child) {\n          if (Utils_1.JsonUtils.isExists(child) && this.children.indexOf(child) < 0) this.children.push(child);\n        };\n\n        ViewVisualModelItem.prototype.removeChild = function (child) {\n          var index = this.children.indexOf(child);\n          if (index > -1) this.children.splice(index, 1);\n        };\n\n        ViewVisualModelItem.prototype.getExpanded = function () {\n          return !!this.task && this.task.expanded;\n        };\n\n        ViewVisualModelItem.prototype.getVisible = function () {\n          if (!this.visible) return false;\n          var parentItem = this.parent;\n\n          while (parentItem) {\n            if (!parentItem.visible) return false;\n            parentItem = parentItem.parent;\n          }\n\n          return true;\n        };\n\n        ViewVisualModelItem.prototype.changeVisibility = function (visible) {\n          this.visible = visible;\n        };\n\n        ViewVisualModelItem.prototype.changeSelection = function (selected) {\n          this.selected = selected;\n        };\n\n        ViewVisualModelItem.prototype.setDependencies = function (dependencies) {\n          if (dependencies) this.dependencies = dependencies.slice();\n        };\n\n        return ViewVisualModelItem;\n      }();\n\n      exports.ViewVisualModelItem = ViewVisualModelItem;\n      /***/\n    },\n    /* 43 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ViewVisualModelDependencyInfo = function () {\n        function ViewVisualModelDependencyInfo(id, predecessor, type) {\n          this.id = id;\n          this.predecessor = predecessor;\n          this.type = type;\n        }\n\n        return ViewVisualModelDependencyInfo;\n      }();\n\n      exports.ViewVisualModelDependencyInfo = ViewVisualModelDependencyInfo;\n      /***/\n    },\n    /* 44 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var GanttWorkingDayRuleCollection_1 = __webpack_require__(45);\n\n      var DayWorkingTimeInfo_1 = __webpack_require__(53);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var WorkingTimeCalculator = function () {\n        function WorkingTimeCalculator(range, rules) {\n          this._workingRules = new GanttWorkingDayRuleCollection_1.WorkingDayRuleCollection();\n          this._workDayList = new Array();\n          this._calculationRange = range;\n\n          this._workingRules.importFromObject(rules);\n        }\n\n        WorkingTimeCalculator.prototype.calculateWorkDayList = function () {\n          if (!this._calculationRange) return;\n          this.clearList();\n          var rules = this._workingRules.items;\n\n          for (var i = 0; i < rules.length; i++) {\n            this.processRule(rules[i]);\n          }\n\n          this.sortList();\n        };\n\n        WorkingTimeCalculator.prototype.processRule = function (rule) {\n          var points = rule.recurrence.calculatePoints(this._calculationRange.start, this._calculationRange.end);\n\n          var _loop_1 = function _loop_1(i) {\n            var point = points[i];\n            var dayNum = DateTimeUtils_1.DateTimeUtils.getDayNumber(point);\n\n            var dayInfo = this_1._workDayList.filter(function (i) {\n              return i.dayNumber == dayNum;\n            })[0];\n\n            if (dayInfo) {\n              dayInfo.isWorkDay = dayInfo.isWorkDay && rule.isWorkDay;\n              dayInfo.addWorkingIntervals(rule.workTimeRanges);\n            } else this_1._workDayList.push(new DayWorkingTimeInfo_1.DayWorkingTimeInfo(dayNum, rule.isWorkDay, rule.workTimeRanges));\n          };\n\n          var this_1 = this;\n\n          for (var i = 0; i < points.length; i++) {\n            _loop_1(i);\n          }\n        };\n\n        WorkingTimeCalculator.prototype.sortList = function () {\n          this._workDayList.sort(function (d1, d2) {\n            return d1.dayNumber - d2.dayNumber;\n          });\n        };\n\n        WorkingTimeCalculator.prototype.clearList = function () {\n          this._workDayList.splice(0, this._workDayList.length);\n        };\n\n        WorkingTimeCalculator.prototype.calculateNoWorkTimeIntervals = function () {\n          var _this = this;\n\n          var res = new Array();\n          if (this._workDayList.length == 0) this.calculateWorkDayList();\n\n          this._workDayList.forEach(function (d) {\n            return res = res.concat(_this.getNoWorkTimeRangesFromDay(d));\n          });\n\n          return this.concatJointedRanges(res);\n        };\n\n        WorkingTimeCalculator.prototype.concatJointedRanges = function (list) {\n          var res = new Array();\n\n          for (var i = 0; i < list.length; i++) {\n            var interval = list[i];\n            var needExpandPrevInterval = res.length > 0 && DateTimeUtils_1.DateTimeUtils.compareDates(res[res.length - 1].end, interval.start) < 2;\n            if (needExpandPrevInterval) res[res.length - 1].end = interval.end;else res.push(interval);\n          }\n\n          return res;\n        };\n\n        WorkingTimeCalculator.prototype.getNoWorkTimeRangesFromDay = function (day) {\n          return day.noWorkingIntervals.map(function (i) {\n            return DateTimeUtils_1.DateTimeUtils.convertTimeRangeToDateRange(i, day.dayNumber);\n          });\n        };\n\n        Object.defineProperty(WorkingTimeCalculator.prototype, \"noWorkingIntervals\", {\n          get: function get() {\n            if (!this._noWorkingIntervals) this._noWorkingIntervals = this.calculateNoWorkTimeIntervals();\n            return this._noWorkingIntervals.slice();\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        WorkingTimeCalculator.prototype.updateRange = function (range) {\n          this._calculationRange = range;\n          this.invalidate();\n        };\n\n        WorkingTimeCalculator.prototype.invalidate = function () {\n          this._noWorkingIntervals = null;\n          this.clearList();\n        };\n\n        return WorkingTimeCalculator;\n      }();\n\n      exports.WorkingTimeCalculator = WorkingTimeCalculator;\n      /***/\n    },\n    /* 45 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics19 = function extendStatics(d, b) {\n          _extendStatics19 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics19(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics19(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CollectionBase_1 = __webpack_require__(6);\n\n      var WorkingTimeRule_1 = __webpack_require__(46);\n\n      var WorkingDayRuleCollection = function (_super) {\n        __extends(WorkingDayRuleCollection, _super);\n\n        function WorkingDayRuleCollection() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        WorkingDayRuleCollection.prototype.createItem = function () {\n          return new WorkingTimeRule_1.WorkingTimeRule();\n        };\n\n        return WorkingDayRuleCollection;\n      }(CollectionBase_1.CollectionBase);\n\n      exports.WorkingDayRuleCollection = WorkingDayRuleCollection;\n      /***/\n    },\n    /* 46 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics20 = function extendStatics(d, b) {\n          _extendStatics20 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics20(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics20(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DataObject_1 = __webpack_require__(4);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var RecurrenceFactory_1 = __webpack_require__(26);\n\n      var Daily_1 = __webpack_require__(27);\n\n      var WorkingTimeRule = function (_super) {\n        __extends(WorkingTimeRule, _super);\n\n        function WorkingTimeRule(recurrence, isWorkDay, workTimeRanges) {\n          if (recurrence === void 0) {\n            recurrence = null;\n          }\n\n          if (isWorkDay === void 0) {\n            isWorkDay = true;\n          }\n\n          if (workTimeRanges === void 0) {\n            workTimeRanges = null;\n          }\n\n          var _this = _super.call(this) || this;\n\n          _this.isWorkDay = true;\n          _this.workTimeRanges = new Array();\n          _this.recurrence = recurrence;\n          _this.isWorkDay = isWorkDay;\n          if (workTimeRanges) _this.workTimeRanges.concat(workTimeRanges);\n          return _this;\n        }\n\n        WorkingTimeRule.prototype.assignFromObject = function (sourceObj) {\n          if (Utils_1.JsonUtils.isExists(sourceObj)) {\n            _super.prototype.assignFromObject.call(this, sourceObj);\n\n            this.recurrence = RecurrenceFactory_1.RecurrenceFactory.createRecurrenceByType(sourceObj.recurrenceType) || new Daily_1.Daily();\n            if (Utils_1.JsonUtils.isExists(sourceObj.recurrence)) this.recurrence.assignFromObject(sourceObj.recurrence);\n            if (Utils_1.JsonUtils.isExists(sourceObj.isWorkDay)) this.isWorkDay = !!sourceObj.isWorkDay;\n            var ranges = DateTimeUtils_1.DateTimeUtils.convertToTimeRanges(sourceObj.workTimeRanges);\n            if (ranges) this.workTimeRanges = ranges;\n          }\n        };\n\n        return WorkingTimeRule;\n      }(DataObject_1.DataObject);\n\n      exports.WorkingTimeRule = WorkingTimeRule;\n      /***/\n    },\n    /* 47 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var DayOfWeek;\n\n      (function (DayOfWeek) {\n        DayOfWeek[DayOfWeek[\"Sunday\"] = 0] = \"Sunday\";\n        DayOfWeek[DayOfWeek[\"Monday\"] = 1] = \"Monday\";\n        DayOfWeek[DayOfWeek[\"Tuesday\"] = 2] = \"Tuesday\";\n        DayOfWeek[DayOfWeek[\"Wednesday\"] = 3] = \"Wednesday\";\n        DayOfWeek[DayOfWeek[\"Thursday\"] = 4] = \"Thursday\";\n        DayOfWeek[DayOfWeek[\"Friday\"] = 5] = \"Friday\";\n        DayOfWeek[DayOfWeek[\"Saturday\"] = 6] = \"Saturday\";\n      })(DayOfWeek = exports.DayOfWeek || (exports.DayOfWeek = {}));\n      /***/\n\n    },\n    /* 48 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var Month;\n\n      (function (Month) {\n        Month[Month[\"January\"] = 0] = \"January\";\n        Month[Month[\"February\"] = 1] = \"February\";\n        Month[Month[\"March\"] = 2] = \"March\";\n        Month[Month[\"April\"] = 3] = \"April\";\n        Month[Month[\"May\"] = 4] = \"May\";\n        Month[Month[\"June\"] = 5] = \"June\";\n        Month[Month[\"July\"] = 6] = \"July\";\n        Month[Month[\"August\"] = 7] = \"August\";\n        Month[Month[\"September\"] = 8] = \"September\";\n        Month[Month[\"October\"] = 9] = \"October\";\n        Month[Month[\"November\"] = 10] = \"November\";\n        Month[Month[\"December\"] = 11] = \"December\";\n      })(Month = exports.Month || (exports.Month = {}));\n      /***/\n\n    },\n    /* 49 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics21 = function extendStatics(d, b) {\n          _extendStatics21 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics21(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics21(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var RecurrenceBase_1 = __webpack_require__(11);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Weekly = function (_super) {\n        __extends(Weekly, _super);\n\n        function Weekly() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Weekly.prototype.checkDate = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal, date);\n        };\n\n        Weekly.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date) % this.interval == 0;\n        };\n\n        Weekly.prototype.calculatePointByInterval = function (date) {\n          var weeksFromStart = DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date);\n          var intervalCount = Math.floor(weeksFromStart / this.interval);\n          var remainder = weeksFromStart % this.interval;\n          var isPointOnNewWeek = remainder > 0 || date.getDay() >= this.dayOfWeekInternal;\n          if (isPointOnNewWeek) intervalCount++;\n          var weeksToAdd = intervalCount * this.interval;\n          return this.calcNextPointWithWeekCount(this.start, weeksToAdd);\n        };\n\n        Weekly.prototype.calculateNearestPoint = function (date) {\n          var diff = this.dayOfWeekInternal - date.getDay();\n          if (diff > 0) return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), diff);\n          return this.calcNextPointWithWeekCount(date, 1);\n        };\n\n        Weekly.prototype.calcNextPointWithWeekCount = function (date, weekCount) {\n          if (weekCount === void 0) {\n            weekCount = 1;\n          }\n\n          var daysToAdd = weekCount * 7 + this.dayOfWeekInternal - date.getDay();\n          return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), daysToAdd);\n        };\n\n        Object.defineProperty(Weekly.prototype, \"dayOfWeek\", {\n          get: function get() {\n            return this.dayOfWeekInternal;\n          },\n          set: function set(value) {\n            this.dayOfWeekInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        return Weekly;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Weekly = Weekly;\n      /***/\n    },\n    /* 50 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics22 = function extendStatics(d, b) {\n          _extendStatics22 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics22(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics22(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var RecurrenceBase_1 = __webpack_require__(11);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var MonthInfo_1 = __webpack_require__(51);\n\n      var Monthly = function (_super) {\n        __extends(Monthly, _super);\n\n        function Monthly() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Monthly.prototype.checkDate = function (date) {\n          if (this._calculateByDayOfWeek) return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\n          return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\n        };\n\n        Monthly.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getMonthsDifference(this.start, date) % this.interval == 0;\n        };\n\n        Monthly.prototype.calculatePointByInterval = function (date) {\n          var start = this.start;\n          var monthFromStart = DateTimeUtils_1.DateTimeUtils.getMonthsDifference(start, date);\n          var monthToAdd = Math.floor(monthFromStart / this.interval) * this.interval;\n          var info = new MonthInfo_1.MonthInfo(start.getMonth(), start.getFullYear());\n          info.addMonths(monthToAdd);\n          var point = this.getSpecDayInMonth(info.year, info.month);\n\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\n            info.addMonths(this.interval);\n            point = this.getSpecDayInMonth(info.year, info.month);\n          }\n\n          return point;\n        };\n\n        Monthly.prototype.calculateNearestPoint = function (date) {\n          var month = date.getMonth();\n          var year = date.getFullYear();\n          var point = this.getSpecDayInMonth(year, month);\n\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\n            var info = new MonthInfo_1.MonthInfo(month, year);\n            info.addMonths(1);\n            point = this.getSpecDayInMonth(info.year, info.month);\n          }\n\n          return point;\n        };\n\n        Object.defineProperty(Monthly.prototype, \"day\", {\n          get: function get() {\n            return this.dayInternal;\n          },\n          set: function set(value) {\n            this.dayInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Monthly.prototype, \"dayOfWeek\", {\n          get: function get() {\n            return this.dayOfWeekInternal;\n          },\n          set: function set(value) {\n            this.dayOfWeekInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Monthly.prototype, \"dayOfWeekOccurrence\", {\n          get: function get() {\n            return this.dayOfWeekOccurrenceInternal;\n          },\n          set: function set(value) {\n            this.dayOfWeekOccurrenceInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Monthly.prototype, \"calculateByDayOfWeek\", {\n          get: function get() {\n            return this._calculateByDayOfWeek;\n          },\n          set: function set(value) {\n            this._calculateByDayOfWeek = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        return Monthly;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Monthly = Monthly;\n      /***/\n    },\n    /* 51 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var MonthInfo = function () {\n        function MonthInfo(month, year) {\n          this.month = month;\n          this.year = year;\n        }\n\n        MonthInfo.prototype.addMonths = function (months) {\n          var nextMonth = DateTimeUtils_1.DateTimeUtils.getNextMonth(this.month, months);\n          var yearInc = Math.floor(months / 12);\n          if (nextMonth < this.month) ++yearInc;\n          this.month = nextMonth;\n          this.year += yearInc;\n        };\n\n        return MonthInfo;\n      }();\n\n      exports.MonthInfo = MonthInfo;\n      /***/\n    },\n    /* 52 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics23 = function extendStatics(d, b) {\n          _extendStatics23 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics23(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics23(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var RecurrenceBase_1 = __webpack_require__(11);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Yearly = function (_super) {\n        __extends(Yearly, _super);\n\n        function Yearly() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        Yearly.prototype.checkDate = function (date) {\n          if (!DateTimeUtils_1.DateTimeUtils.checkMonth(this.month, date)) return false;\n          if (this._calculateByDayOfWeek) return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\n          return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\n        };\n\n        Yearly.prototype.checkInterval = function (date) {\n          return DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date) % this.interval == 0;\n        };\n\n        Yearly.prototype.calculatePointByInterval = function (date) {\n          var yearFromStart = DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date);\n          var yearInc = Math.floor(yearFromStart / this.interval) * this.interval;\n          var newYear = this.start.getFullYear() + yearInc;\n          var point = this.getSpecDayInMonth(newYear, this.monthInternal);\n\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\n            newYear += this.interval;\n            point = this.getSpecDayInMonth(newYear, this.monthInternal);\n          }\n\n          return point;\n        };\n\n        Yearly.prototype.calculateNearestPoint = function (date) {\n          var year = date.getFullYear();\n          var point = this.getSpecDayInMonth(year, this.monthInternal);\n          if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) point = this.getSpecDayInMonth(++year, this.monthInternal);\n          return point;\n        };\n\n        Object.defineProperty(Yearly.prototype, \"month\", {\n          get: function get() {\n            return this.monthInternal;\n          },\n          set: function set(value) {\n            this.monthInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Yearly.prototype, \"day\", {\n          get: function get() {\n            return this.dayInternal;\n          },\n          set: function set(value) {\n            this.dayInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Yearly.prototype, \"dayOfWeek\", {\n          get: function get() {\n            return this.dayOfWeekInternal;\n          },\n          set: function set(value) {\n            this.dayOfWeekInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Yearly.prototype, \"dayOfWeekOccurrence\", {\n          get: function get() {\n            return this.dayOfWeekOccurrenceInternal;\n          },\n          set: function set(value) {\n            this.dayOfWeekOccurrenceInternal = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        Object.defineProperty(Yearly.prototype, \"calculateByDayOfWeek\", {\n          get: function get() {\n            return this._calculateByDayOfWeek;\n          },\n          set: function set(value) {\n            this._calculateByDayOfWeek = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        ;\n        return Yearly;\n      }(RecurrenceBase_1.RecurrenceBase);\n\n      exports.Yearly = Yearly;\n      /***/\n    },\n    /* 53 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TimeRange_1 = __webpack_require__(24);\n\n      var DateTimeUtils_1 = __webpack_require__(2);\n\n      var Time_1 = __webpack_require__(23);\n\n      var DayWorkingTimeInfo = function () {\n        function DayWorkingTimeInfo(dayNumber, isWorkDay, intervals) {\n          if (dayNumber === void 0) {\n            dayNumber = 0;\n          }\n\n          if (isWorkDay === void 0) {\n            isWorkDay = true;\n          }\n\n          if (intervals === void 0) {\n            intervals = null;\n          }\n\n          this._workingIntervals = new Array();\n          this.dayNumber = dayNumber;\n          this.isWorkDay = isWorkDay;\n          this.addWorkingIntervals(intervals);\n        }\n\n        DayWorkingTimeInfo.prototype.addWorkingIntervals = function (intervals) {\n          if (!intervals) return;\n          this._workingIntervals = this._workingIntervals.concat(intervals.filter(function (r) {\n            return !!r;\n          }));\n          this.rearrangeWorkingIntervals();\n        };\n\n        DayWorkingTimeInfo.prototype.rearrangeWorkingIntervals = function () {\n          for (var i = 0; i < this._workingIntervals.length; i++) {\n            this.concatWithIntersectedRanges(this._workingIntervals[i]);\n          }\n\n          this.sortIntervals();\n        };\n\n        ;\n\n        DayWorkingTimeInfo.prototype.concatWithIntersectedRanges = function (range) {\n          var _this = this;\n\n          var intersectedRanges = this.getIntersectedIntervals(range);\n          intersectedRanges.forEach(function (r) {\n            range.concatWith(r);\n\n            _this.removeInterval(r);\n          });\n        };\n\n        ;\n\n        DayWorkingTimeInfo.prototype.getIntersectedIntervals = function (range) {\n          return this._workingIntervals.filter(function (r) {\n            return r.hasIntersect(range) && r !== range;\n          });\n        };\n\n        ;\n\n        DayWorkingTimeInfo.prototype.sortIntervals = function () {\n          this._workingIntervals.sort(function (r1, r2) {\n            return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(r2.start, r1.start);\n          });\n        };\n\n        ;\n\n        DayWorkingTimeInfo.prototype.removeInterval = function (element) {\n          var index = this._workingIntervals.indexOf(element);\n\n          if (index > -1 && index < this._workingIntervals.length) this._workingIntervals.splice(index, 1);\n        };\n\n        ;\n\n        DayWorkingTimeInfo.prototype.clearIntervals = function () {\n          this._workingIntervals.splice(0, this._workingIntervals.length);\n        };\n\n        Object.defineProperty(DayWorkingTimeInfo.prototype, \"workingIntervals\", {\n          get: function get() {\n            return this._workingIntervals.slice();\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        Object.defineProperty(DayWorkingTimeInfo.prototype, \"noWorkingIntervals\", {\n          get: function get() {\n            var res = new Array();\n            if (this.isWorkDay && this._workingIntervals.length == 0) return res;\n\n            var starts = this._workingIntervals.map(function (r) {\n              return r.end;\n            });\n\n            starts.splice(0, 0, new Time_1.Time());\n\n            var ends = this._workingIntervals.map(function (r) {\n              return r.start;\n            });\n\n            ends.push(DateTimeUtils_1.DateTimeUtils.getLastTimeOfDay());\n\n            for (var i = 0; i < starts.length; i++) {\n              var start = starts[i];\n              var end = ends[i];\n              if (!DateTimeUtils_1.DateTimeUtils.areTimesEqual(start, end)) res.push(new TimeRange_1.TimeRange(start, end));\n            }\n\n            return res;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        Object.defineProperty(DayWorkingTimeInfo.prototype, \"isWorkDay\", {\n          get: function get() {\n            return this._isWorkDay;\n          },\n          set: function set(value) {\n            this._isWorkDay = value;\n            if (!value) this.clearIntervals();\n          },\n          enumerable: true,\n          configurable: true\n        });\n        ;\n        return DayWorkingTimeInfo;\n      }();\n\n      exports.DayWorkingTimeInfo = DayWorkingTimeInfo;\n      /***/\n    },\n    /* 54 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Margins = function () {\n        function Margins() {\n          this.marginLeft = null;\n          this.marginTop = null;\n          this.marginRight = null;\n          this.marginBottom = null;\n        }\n\n        return Margins;\n      }();\n\n      exports.Margins = Margins;\n      /***/\n    },\n    /* 55 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EtalonSizeValues = function () {\n        function EtalonSizeValues() {\n          this.scaleItemWidths = {};\n        }\n\n        return EtalonSizeValues;\n      }();\n\n      exports.EtalonSizeValues = EtalonSizeValues;\n      /***/\n    },\n    /* 56 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DependencyManipulator_1 = __webpack_require__(57);\n\n      var ResourcesManipulator_1 = __webpack_require__(59);\n\n      var TaskManipulator_1 = __webpack_require__(60);\n\n      var ModelManipulator = function () {\n        function ModelManipulator(viewModel, dispatcher) {\n          this.task = new TaskManipulator_1.TaskManipulator(viewModel, dispatcher);\n          this.dependency = new DependencyManipulator_1.TaskDependencyManipulator(viewModel, dispatcher);\n          this.resource = new ResourcesManipulator_1.ResourcesManipulator(viewModel, dispatcher);\n        }\n\n        return ModelManipulator;\n      }();\n\n      exports.ModelManipulator = ModelManipulator;\n      /***/\n    },\n    /* 57 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics24 = function extendStatics(d, b) {\n          _extendStatics24 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics24(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics24(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskPropertiesManipulator_1 = __webpack_require__(17);\n\n      var TaskDependencyManipulator = function (_super) {\n        __extends(TaskDependencyManipulator, _super);\n\n        function TaskDependencyManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDependencyManipulator.prototype.insertDependency = function (predecessorId, successorId, type, id) {\n          var dependency = this.viewModel.dependencies.createItem();\n          dependency.predecessorId = predecessorId;\n          dependency.successorId = successorId;\n          dependency.type = type;\n          if (id) dependency.internalId = id;\n          this.viewModel.dependencies.add(dependency);\n          this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(dependency), function (id) {\n            return dependency.id = id;\n          });\n          this.viewModel.updateVisibleItemDependencies();\n          this.viewModel.owner.resetAndUpdate();\n          return dependency;\n        };\n\n        TaskDependencyManipulator.prototype.removeDependency = function (dependencyId) {\n          var dependency = this.viewModel.dependencies.getItemById(dependencyId);\n          this.viewModel.dependencies.remove(dependency);\n          this.dispatcher.notifyDependencyRemoved(dependency.id);\n          this.viewModel.updateVisibleItemDependencies();\n          this.viewModel.owner.resetAndUpdate();\n          return dependency;\n        };\n\n        TaskDependencyManipulator.prototype.getObjectForDataSource = function (dependency) {\n          return {\n            id: dependency.id,\n            predecessorId: this.viewModel.tasks.getItemById(dependency.predecessorId).id,\n            successorId: this.viewModel.tasks.getItemById(dependency.successorId).id,\n            type: dependency.type\n          };\n        };\n\n        return TaskDependencyManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.TaskDependencyManipulator = TaskDependencyManipulator;\n      /***/\n    },\n    /* 58 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItemState = function () {\n        function HistoryItemState(taskId, value) {\n          this.taskId = taskId;\n          this.value = value;\n        }\n\n        return HistoryItemState;\n      }();\n\n      exports.HistoryItemState = HistoryItemState;\n      /***/\n    },\n    /* 59 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics25 = function extendStatics(d, b) {\n          _extendStatics25 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics25(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics25(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskPropertiesManipulator_1 = __webpack_require__(17);\n\n      var ResourcesManipulator = function (_super) {\n        __extends(ResourcesManipulator, _super);\n\n        function ResourcesManipulator() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourcesManipulator.prototype.create = function (text, id) {\n          var resource = this.viewModel.resources.createItem();\n          resource.text = text;\n          if (id) resource.internalId = id;\n          this.viewModel.resources.add(resource);\n          this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(resource), function (id) {\n            return resource.id = id;\n          });\n          return resource;\n        };\n\n        ResourcesManipulator.prototype.remove = function (resourceId) {\n          var resource = this.viewModel.resources.getItemById(resourceId);\n          if (!resource) throw new Error(\"Invalid resource id\");\n          var assignments = this.viewModel.assignments.items.filter(function (a) {\n            return a.resourceId == resourceId;\n          });\n          if (assignments.length) throw new Error(\"Can't delete assigned resource\");\n          this.viewModel.resources.remove(resource);\n          this.dispatcher.notifyResourceRemoved(resource.id);\n          return resource;\n        };\n\n        ResourcesManipulator.prototype.assign = function (resourceID, taskId, id) {\n          var assignment = this.viewModel.assignments.createItem();\n          assignment.resourceId = resourceID;\n          assignment.taskId = taskId;\n          if (id) assignment.internalId = id;\n          this.viewModel.assignments.add(assignment);\n          this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(assignment), function (id) {\n            return assignment.id = id;\n          });\n          this.viewModel.updateModel();\n          this.viewModel.owner.resetAndUpdate();\n          return assignment;\n        };\n\n        ResourcesManipulator.prototype.deassig = function (assignmentId) {\n          var assignment = this.viewModel.assignments.getItemById(assignmentId);\n          this.viewModel.assignments.remove(assignment);\n          this.dispatcher.notifyResourceUnassigned(assignment);\n          this.viewModel.updateModel();\n          this.viewModel.owner.resetAndUpdate();\n          return assignment;\n        };\n\n        ResourcesManipulator.prototype.getResourceObjectForDataSource = function (resource) {\n          return {\n            id: resource.id,\n            text: resource.text\n          };\n        };\n\n        ResourcesManipulator.prototype.getResourceAssignmentObjectForDataSource = function (resourceAssignment) {\n          return {\n            id: resourceAssignment,\n            taskId: this.viewModel.tasks.getItemById(resourceAssignment.taskId).id,\n            resourceId: this.viewModel.resources.getItemById(resourceAssignment.resourceId).id\n          };\n        };\n\n        return ResourcesManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.ResourcesManipulator = ResourcesManipulator;\n      /***/\n    },\n    /* 60 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics26 = function extendStatics(d, b) {\n          _extendStatics26 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics26(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics26(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskPropertiesManipulator_1 = __webpack_require__(17);\n\n      var TaskManipulator = function (_super) {\n        __extends(TaskManipulator, _super);\n\n        function TaskManipulator(viewModel, dispatcher) {\n          var _this = _super.call(this, viewModel, dispatcher) || this;\n\n          _this.properties = new TaskPropertiesManipulator_1.TaskPropertiesManipulator(viewModel, dispatcher);\n          return _this;\n        }\n\n        TaskManipulator.prototype.create = function (start, end, title, parentId, id) {\n          var task = this.viewModel.tasks.createItem();\n          task.start = start;\n          task.end = end;\n          task.title = title;\n\n          if (parentId) {\n            var parentItem = this.viewModel.tasks.getItemById(parentId);\n            parentItem.expanded = true;\n            task.parentId = parentId;\n          }\n\n          if (id) {\n            task.internalId = id;\n          }\n\n          task.id = task.internalId;\n          this.viewModel.tasks.add(task);\n          this.viewModel.updateModel();\n          this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(task), function (id) {\n            return task.id = id;\n          });\n          this.viewModel.owner.resetAndUpdate();\n          return task;\n        };\n\n        TaskManipulator.prototype.remove = function (taskId) {\n          var task = this.viewModel.tasks.getItemById(taskId);\n          if (!task) throw new Error(\"Invalid task id\");\n          var dependencies = this.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == taskId || d.successorId == taskId;\n          });\n          if (dependencies.length) throw new Error(\"Can't delete task with dependency\");\n          var assignments = this.viewModel.assignments.items.filter(function (a) {\n            return a.taskId == taskId;\n          });\n          if (assignments.length) throw new Error(\"Can't delete task with assigned resource\");\n          this.viewModel.tasks.remove(task);\n          this.dispatcher.notifyTaskRemoved(task.id);\n          this.viewModel.updateModel();\n          this.viewModel.owner.resetAndUpdate();\n          return task;\n        };\n\n        TaskManipulator.prototype.getObjectForDataSource = function (task) {\n          return {\n            id: task.id,\n            start: task.start,\n            end: task.end,\n            duration: task.duration,\n            description: task.description,\n            parentId: task.parentId ? this.viewModel.tasks.getItemById(task.parentId).id : null,\n            progress: task.progress,\n            taskType: task.taskType,\n            title: task.title,\n            customFields: task.customFields,\n            expanded: task.expanded\n          };\n        };\n\n        return TaskManipulator;\n      }(TaskPropertiesManipulator_1.BaseManipulator);\n\n      exports.TaskManipulator = TaskManipulator;\n      /***/\n    },\n    /* 61 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem_1 = __webpack_require__(9);\n\n      var History = function () {\n        function History() {\n          this.historyItems = [];\n          this.currentIndex = -1;\n          this.transaction = null;\n          this.transactionLevel = -1;\n        }\n\n        History.prototype.undo = function () {\n          if (this.currentIndex < 0) return;\n          this.historyItems[this.currentIndex].undo();\n          this.currentIndex--;\n        };\n\n        History.prototype.redo = function () {\n          if (this.currentIndex >= this.historyItems.length - 1) return;\n          this.currentIndex++;\n          this.historyItems[this.currentIndex].redo();\n        };\n\n        History.prototype.beginTransaction = function () {\n          this.transactionLevel++;\n          if (this.transactionLevel == 0) this.transaction = new HistoryItem_1.CompositionHistoryItem();\n        };\n\n        History.prototype.endTransaction = function () {\n          if (--this.transactionLevel >= 0) return;\n          var transactionLength = this.transaction.historyItems.length;\n          if (transactionLength > 1) this.addInternal(this.transaction);else if (transactionLength == 1) this.addInternal(this.transaction.historyItems.pop());\n          this.transaction = null;\n        };\n\n        History.prototype.addAndRedo = function (historyItem) {\n          this.add(historyItem);\n          historyItem.redo();\n        };\n\n        History.prototype.add = function (historyItem) {\n          if (this.transactionLevel >= 0) this.transaction.add(historyItem);else this.addInternal(historyItem);\n        };\n\n        History.prototype.addInternal = function (historyItem) {\n          if (this.currentIndex < this.historyItems.length - 1) this.historyItems.splice(this.currentIndex + 1);\n          this.historyItems.push(historyItem);\n          this.currentIndex++;\n          this.deleteOldItems();\n        };\n\n        History.prototype.deleteOldItems = function () {\n          var exceedItemsCount = this.historyItems.length - History.MAX_HISTORY_ITEM_COUNT;\n\n          if (exceedItemsCount > 0 && this.currentIndex > exceedItemsCount) {\n            this.historyItems.splice(0, exceedItemsCount);\n            this.currentIndex -= exceedItemsCount;\n          }\n        };\n\n        History.prototype.clear = function () {\n          this.currentIndex = -1;\n          this.historyItems = [];\n        };\n\n        History.MAX_HISTORY_ITEM_COUNT = 100;\n        return History;\n      }();\n\n      exports.History = History;\n      /***/\n    },\n    /* 62 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var MouseHandler_1 = __webpack_require__(63);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var KeyCode_1 = __webpack_require__(71);\n\n      var Browser_1 = __webpack_require__(12);\n\n      var EventManager = function () {\n        function EventManager(control) {\n          this.control = control;\n          this.mouseHandler = new MouseHandler_1.MouseHandler(control);\n        }\n\n        EventManager.prototype.onMouseDown = function (evt) {\n          this.mouseHandler.onMouseDown(evt);\n        };\n\n        EventManager.prototype.onMouseMove = function (evt) {\n          this.mouseHandler.onMouseMove(evt);\n        };\n\n        EventManager.prototype.onMouseUp = function (evt) {\n          this.mouseHandler.onMouseUp(evt);\n        };\n\n        EventManager.prototype.onMouseDblClick = function (evt) {\n          this.mouseHandler.onMouseDoubleClick(evt);\n        };\n\n        EventManager.prototype.onMouseWheel = function (evt) {\n          this.mouseHandler.onMouseWheel(evt);\n        };\n\n        EventManager.prototype.onKeyDown = function (evt) {\n          if (this.control.isFocus) {\n            var code = this.getShortcutCode(evt);\n            if (code == (KeyCode_1.ModifierKey.Ctrl | KeyCode_1.KeyCode.Key_z)) this.control.history.undo();\n            if (code == (KeyCode_1.ModifierKey.Ctrl | KeyCode_1.KeyCode.Key_y)) this.control.history.redo();\n            if (code == KeyCode_1.KeyCode.Delete) this.control.taskEditController.deleteSelectedDependency();\n          }\n        };\n\n        EventManager.prototype.getShortcutCode = function (evt) {\n          var keyCode = DomUtils_1.DomUtils.GetKeyCode(evt);\n          var modifiers = 0;\n          if (evt.altKey) modifiers |= KeyCode_1.ModifierKey.Alt;\n          if (evt.ctrlKey) modifiers |= KeyCode_1.ModifierKey.Ctrl;\n          if (evt.shiftKey) modifiers |= KeyCode_1.ModifierKey.Shift;\n          if (evt.metaKey && Browser_1.Browser.MacOSPlatform) modifiers |= KeyCode_1.ModifierKey.Meta;\n          return modifiers | keyCode;\n        };\n\n        return EventManager;\n      }();\n\n      exports.EventManager = EventManager;\n      /***/\n    },\n    /* 63 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics27 = function extendStatics(d, b) {\n          _extendStatics27 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics27(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics27(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HandlerBase_1 = __webpack_require__(64);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var TaskEditController_1 = __webpack_require__(30);\n\n      var MouseHandlerDefaultState_1 = __webpack_require__(65);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerMoveTaskState_1 = __webpack_require__(67);\n\n      var MouseHandlerProgressTaskState_1 = __webpack_require__(68);\n\n      var MouseHandlerTimestampTaskState_1 = __webpack_require__(69);\n\n      var MouseHandlerDependencyState_1 = __webpack_require__(70);\n\n      var MouseHandler = function (_super) {\n        __extends(MouseHandler, _super);\n\n        function MouseHandler() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandler.prototype.onMouseDoubleClick = function (evt) {\n          this.state.onMouseDoubleClick(evt);\n        };\n\n        MouseHandler.prototype.onMouseDown = function (evt) {\n          var source = this.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\n\n          switch (source) {\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Frame:\n              this.switchState(new MouseHandlerMoveTaskState_1.MouseHandlerMoveTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Progress:\n              this.switchState(new MouseHandlerProgressTaskState_1.MouseHandlerProgressTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Start:\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_End:\n              this.switchState(new MouseHandlerTimestampTaskState_1.MouseHandlerTimestampTaskState(this));\n              break;\n\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart:\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish:\n              this.switchState(new MouseHandlerDependencyState_1.MouseHandlerDependencyState(this));\n              break;\n          }\n\n          this.state.onMouseDown(evt);\n        };\n\n        MouseHandler.prototype.onMouseUp = function (evt) {\n          this.state.onMouseUp(evt);\n        };\n\n        MouseHandler.prototype.onMouseMove = function (evt) {\n          this.state.onMouseMove(evt);\n        };\n\n        MouseHandler.prototype.onMouseWheel = function (evt) {\n          this.state.onMouseWheel(evt);\n        };\n\n        MouseHandler.prototype.switchToDefaultState = function () {\n          this.state = new MouseHandlerDefaultState_1.MouseHandlerDefaultState(this);\n        };\n\n        MouseHandler.prototype.getMouseEventSource = function (initSource) {\n          var source = initSource.nodeType === Node.ELEMENT_NODE ? initSource : initSource.parentNode;\n          var className = source.className;\n          return TaskEditController_1.TaskEditController.classToSource[className] || TaskAreaManager_1.MouseEventSource.TaskArea;\n        };\n\n        return MouseHandler;\n      }(HandlerBase_1.HandlerBase);\n\n      exports.MouseHandler = MouseHandler;\n      /***/\n    },\n    /* 64 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HandlerBase = function () {\n        function HandlerBase(control) {\n          this.control = control;\n          this.switchToDefaultState();\n        }\n\n        HandlerBase.prototype.switchState = function (state) {\n          if (this.state) this.state.finish();\n          this.state = state;\n          this.state.start();\n        };\n\n        HandlerBase.prototype.switchToDefaultState = function () {\n          throw new Error(\"Not implemented\");\n        };\n\n        return HandlerBase;\n      }();\n\n      exports.HandlerBase = HandlerBase;\n      /***/\n    },\n    /* 65 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics28 = function extendStatics(d, b) {\n          _extendStatics28 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics28(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics28(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerStateBase_1 = __webpack_require__(18);\n\n      var Point_1 = __webpack_require__(3);\n\n      var GridLayoutCalculator_1 = __webpack_require__(16);\n\n      var MouseHandlerDefaultState = function (_super) {\n        __extends(MouseHandlerDefaultState, _super);\n\n        function MouseHandlerDefaultState(handler) {\n          var _this = _super.call(this, handler) || this;\n\n          _this.ganttMovingHelper = new GanttMovingHelper(_this.handler.control);\n          return _this;\n        }\n\n        MouseHandlerDefaultState.prototype.onMouseDown = function (evt) {\n          evt.preventDefault();\n          var source = DomUtils_1.DomUtils.getEventSource(evt);\n\n          if (source.className == GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL || source.className == GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL) {\n            var id = source.getAttribute(\"dependency-id\");\n            this.handler.control.taskEditController.selectDependency(id);\n            this.handler.control.resetAndUpdate();\n          } else {\n            if (DomUtils_1.DomUtils.IsLeftButtonPressed(evt)) this.ganttMovingHelper.startMoving(evt);\n\n            if (this.handler.control.taskEditController.dependencyId != null) {\n              this.handler.control.taskEditController.selectDependency(null);\n              this.handler.control.resetAndUpdate();\n            }\n          }\n        };\n\n        MouseHandlerDefaultState.prototype.onMouseUp = function (evt) {\n          this.ganttMovingHelper.onMouseUp(evt);\n        };\n\n        MouseHandlerDefaultState.prototype.onMouseMove = function (evt) {\n          if (this.ganttMovingHelper.movingInfo) {\n            this.ganttMovingHelper.onMouseMove(evt);\n            evt.preventDefault();\n          }\n        };\n\n        MouseHandlerDefaultState.prototype.onMouseWheel = function (evt) {\n          if (evt.ctrlKey) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            var increase = DomUtils_1.DomUtils.getWheelDelta(evt) > 0;\n            var absolutePos = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\n            var currentPos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\n            var currentDate = this.handler.control.gridLayoutCalculator.getDateByPos(currentPos.x);\n            if (increase) this.handler.control.zoomIn();else this.handler.control.zoomOut();\n            var scrollLeft = this.handler.control.gridLayoutCalculator.getPosByDate(currentDate);\n            this.handler.control.taskAreaContainer.scrollLeft = scrollLeft - (absolutePos.x - DomUtils_1.DomUtils.getAbsolutePositionX(this.handler.control.taskAreaContainer.getElement()));\n          }\n        };\n\n        return MouseHandlerDefaultState;\n      }(MouseHandlerStateBase_1.MouseHandlerStateBase);\n\n      exports.MouseHandlerDefaultState = MouseHandlerDefaultState;\n\n      var GanttMovingHelper = function () {\n        function GanttMovingHelper(gantt) {\n          this.gantt = gantt;\n          this.movingInfo = null;\n        }\n\n        GanttMovingHelper.prototype.startMoving = function (e) {\n          this.movingInfo = this.calcMovingInfo(e);\n          this.updateGanttAreaCursor(true);\n        };\n\n        GanttMovingHelper.prototype.cancelMoving = function () {\n          this.movingInfo = null;\n        };\n\n        GanttMovingHelper.prototype.onMouseMove = function (e) {\n          this.move(e);\n        };\n\n        GanttMovingHelper.prototype.onMouseUp = function (e) {\n          this.cancelMoving();\n          this.updateGanttAreaCursor(false);\n        };\n\n        GanttMovingHelper.prototype.move = function (e) {\n          this.updateScrollPosition(e);\n        };\n\n        GanttMovingHelper.prototype.updateScrollPosition = function (e) {\n          var newEventX = Math.round(DomUtils_1.DomUtils.getEventX(e));\n          var newEventY = Math.round(DomUtils_1.DomUtils.getEventY(e));\n          var deltaX = newEventX - this.movingInfo.eventX;\n          var deltaY = newEventY - this.movingInfo.eventY;\n          var dirX = deltaX < 0 ? -1 : 1;\n          var dirY = deltaY < 0 ? -1 : 1;\n          var maxDeltaX = dirX < 0 ? this.movingInfo.maxRightDelta : this.movingInfo.maxLeftDelta;\n          var maxDeltaY = dirY < 0 ? this.movingInfo.maxBottomDelta : this.movingInfo.maxTopDelta;\n          if (Math.abs(deltaX) > maxDeltaX) deltaX = maxDeltaX * dirX;\n          if (Math.abs(deltaY) > maxDeltaY) deltaY = maxDeltaY * dirY;\n          var newScrollLeft = this.movingInfo.scrollLeft - deltaX;\n          var newScrollTop = this.movingInfo.scrollTop - deltaY;\n          var taskAreaContainer = this.gantt.taskAreaContainer;\n          if (taskAreaContainer.scrollLeft !== newScrollLeft) taskAreaContainer.scrollLeft = newScrollLeft;\n          if (taskAreaContainer.scrollTop !== newScrollTop) taskAreaContainer.scrollTop = newScrollTop;\n        };\n\n        GanttMovingHelper.prototype.calcMovingInfo = function (e) {\n          var taskAreaContainer = this.gantt.taskAreaContainer;\n          return {\n            eventX: DomUtils_1.DomUtils.getEventX(e),\n            eventY: DomUtils_1.DomUtils.getEventY(e),\n            scrollLeft: taskAreaContainer.scrollLeft,\n            scrollTop: taskAreaContainer.scrollTop,\n            maxLeftDelta: taskAreaContainer.scrollLeft,\n            maxRightDelta: taskAreaContainer.scrollWidth - taskAreaContainer.scrollLeft - taskAreaContainer.getElement().offsetWidth,\n            maxTopDelta: taskAreaContainer.scrollTop,\n            maxBottomDelta: taskAreaContainer.scrollHeight - taskAreaContainer.scrollTop - taskAreaContainer.getElement().offsetHeight\n          };\n        };\n\n        GanttMovingHelper.prototype.updateGanttAreaCursor = function (drag) {\n          this.gantt.taskAreaContainer.getElement().style.cursor = drag ? \"grabbing\" : \"default\";\n        };\n\n        return GanttMovingHelper;\n      }();\n\n      exports.GanttMovingHelper = GanttMovingHelper;\n      /***/\n    },\n    /* 66 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HandlerStateBase = function () {\n        function HandlerStateBase(handler) {\n          this.handler = handler;\n        }\n\n        HandlerStateBase.prototype.start = function () {};\n\n        HandlerStateBase.prototype.finish = function () {};\n\n        return HandlerStateBase;\n      }();\n\n      exports.HandlerStateBase = HandlerStateBase;\n      /***/\n    },\n    /* 67 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics29 = function extendStatics(d, b) {\n          _extendStatics29 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics29(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics29(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\n\n      var MouseHandlerMoveTaskState = function (_super) {\n        __extends(MouseHandlerMoveTaskState, _super);\n\n        function MouseHandlerMoveTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerMoveTaskState.prototype.onMouseUpInternal = function (_evt) {\n          this.handler.control.taskEditController.confirmMove();\n        };\n\n        MouseHandlerMoveTaskState.prototype.onMouseMoveInternal = function (position) {\n          this.handler.control.taskEditController.processMove(position.x - this.currentPosition.x);\n        };\n\n        return MouseHandlerMoveTaskState;\n      }(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState);\n\n      exports.MouseHandlerMoveTaskState = MouseHandlerMoveTaskState;\n      /***/\n    },\n    /* 68 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics30 = function extendStatics(d, b) {\n          _extendStatics30 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics30(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics30(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\n\n      var MouseHandlerProgressTaskState = function (_super) {\n        __extends(MouseHandlerProgressTaskState, _super);\n\n        function MouseHandlerProgressTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerProgressTaskState.prototype.onMouseUpInternal = function (_evt) {\n          this.handler.control.taskEditController.confirmProgress();\n        };\n\n        MouseHandlerProgressTaskState.prototype.onMouseMoveInternal = function (position) {\n          var relativePosition = this.getRelativePos(position);\n          this.handler.control.taskEditController.processProgress(relativePosition);\n        };\n\n        return MouseHandlerProgressTaskState;\n      }(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState);\n\n      exports.MouseHandlerProgressTaskState = MouseHandlerProgressTaskState;\n      /***/\n    },\n    /* 69 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics31 = function extendStatics(d, b) {\n          _extendStatics31 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics31(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics31(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\n\n      var MouseHandlerTimestampTaskState = function (_super) {\n        __extends(MouseHandlerTimestampTaskState, _super);\n\n        function MouseHandlerTimestampTaskState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerTimestampTaskState.prototype.onMouseDown = function (evt) {\n          _super.prototype.onMouseDown.call(this, evt);\n\n          this.source = this.handler.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\n        };\n\n        MouseHandlerTimestampTaskState.prototype.onMouseUpInternal = function (_evt) {\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start) this.handler.control.taskEditController.confirmStart();else this.handler.control.taskEditController.confirmEnd();\n        };\n\n        MouseHandlerTimestampTaskState.prototype.onMouseMoveInternal = function (position) {\n          var relativePosition = this.getRelativePos(position);\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start) this.handler.control.taskEditController.processStart(relativePosition);\n          if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_End) this.handler.control.taskEditController.processEnd(relativePosition);\n        };\n\n        return MouseHandlerTimestampTaskState;\n      }(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState);\n\n      exports.MouseHandlerTimestampTaskState = MouseHandlerTimestampTaskState;\n      /***/\n    },\n    /* 70 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics32 = function extendStatics(d, b) {\n          _extendStatics32 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics32(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics32(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Point_1 = __webpack_require__(3);\n\n      var DomUtils_1 = __webpack_require__(1);\n\n      var MouseHandlerStateBase_1 = __webpack_require__(18);\n\n      var TaskAreaManager_1 = __webpack_require__(8);\n\n      var Dependency_1 = __webpack_require__(14);\n\n      var dependencyMap = [];\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart] = [];\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish] = [];\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.SS;\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.SF;\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.FS;\n      dependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.FF;\n\n      var MouseHandlerDependencyState = function (_super) {\n        __extends(MouseHandlerDependencyState, _super);\n\n        function MouseHandlerDependencyState() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        MouseHandlerDependencyState.prototype.onMouseDown = function (evt) {\n          var sourceElement = DomUtils_1.DomUtils.getEventSource(evt);\n          this.source = this.handler.getMouseEventSource(sourceElement);\n          var pos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getAbsolutePositionX(sourceElement) + sourceElement.clientWidth / 2, DomUtils_1.DomUtils.getAbsolutePositionY(sourceElement) + sourceElement.clientHeight / 2));\n          this.handler.control.taskEditController.startDependency(pos);\n        };\n\n        MouseHandlerDependencyState.prototype.onMouseUp = function (evt) {\n          var target = this.handler.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\n          var type = target === TaskAreaManager_1.MouseEventSource.Successor_DependencyStart || target == TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish ? dependencyMap[this.source][target] : null;\n          this.handler.control.taskEditController.endDependency(type);\n          this.handler.switchToDefaultState();\n        };\n\n        MouseHandlerDependencyState.prototype.onMouseMove = function (evt) {\n          evt.preventDefault();\n          var relativePos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\n          var hoverTaskIndex = Math.floor(relativePos.y / this.handler.control.tickSize.height);\n          this.handler.control.taskEditController.processDependency(relativePos);\n          if (this.handler.control.viewModel.tasks.items[hoverTaskIndex]) this.handler.control.taskEditController.showDependencySuccessor(hoverTaskIndex);\n        };\n\n        return MouseHandlerDependencyState;\n      }(MouseHandlerStateBase_1.MouseHandlerStateBase);\n\n      exports.MouseHandlerDependencyState = MouseHandlerDependencyState;\n      /***/\n    },\n    /* 71 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var ModifierKey;\n\n      (function (ModifierKey) {\n        ModifierKey[ModifierKey[\"None\"] = 0] = \"None\";\n        ModifierKey[ModifierKey[\"Ctrl\"] = 65536] = \"Ctrl\";\n        ModifierKey[ModifierKey[\"Shift\"] = 262144] = \"Shift\";\n        ModifierKey[ModifierKey[\"Alt\"] = 1048576] = \"Alt\";\n        ModifierKey[ModifierKey[\"Meta\"] = 16777216] = \"Meta\";\n      })(ModifierKey = exports.ModifierKey || (exports.ModifierKey = {}));\n\n      var KeyCode;\n\n      (function (KeyCode) {\n        KeyCode[KeyCode[\"Backspace\"] = 8] = \"Backspace\";\n        KeyCode[KeyCode[\"Tab\"] = 9] = \"Tab\";\n        KeyCode[KeyCode[\"Enter\"] = 13] = \"Enter\";\n        KeyCode[KeyCode[\"Pause\"] = 19] = \"Pause\";\n        KeyCode[KeyCode[\"CapsLock\"] = 20] = \"CapsLock\";\n        KeyCode[KeyCode[\"Esc\"] = 27] = \"Esc\";\n        KeyCode[KeyCode[\"Space\"] = 32] = \"Space\";\n        KeyCode[KeyCode[\"PageUp\"] = 33] = \"PageUp\";\n        KeyCode[KeyCode[\"PageDown\"] = 34] = \"PageDown\";\n        KeyCode[KeyCode[\"End\"] = 35] = \"End\";\n        KeyCode[KeyCode[\"Home\"] = 36] = \"Home\";\n        KeyCode[KeyCode[\"Left\"] = 37] = \"Left\";\n        KeyCode[KeyCode[\"Up\"] = 38] = \"Up\";\n        KeyCode[KeyCode[\"Right\"] = 39] = \"Right\";\n        KeyCode[KeyCode[\"Down\"] = 40] = \"Down\";\n        KeyCode[KeyCode[\"Insert\"] = 45] = \"Insert\";\n        KeyCode[KeyCode[\"Delete\"] = 46] = \"Delete\";\n        KeyCode[KeyCode[\"Key_0\"] = 48] = \"Key_0\";\n        KeyCode[KeyCode[\"Key_1\"] = 49] = \"Key_1\";\n        KeyCode[KeyCode[\"Key_2\"] = 50] = \"Key_2\";\n        KeyCode[KeyCode[\"Key_3\"] = 51] = \"Key_3\";\n        KeyCode[KeyCode[\"Key_4\"] = 52] = \"Key_4\";\n        KeyCode[KeyCode[\"Key_5\"] = 53] = \"Key_5\";\n        KeyCode[KeyCode[\"Key_6\"] = 54] = \"Key_6\";\n        KeyCode[KeyCode[\"Key_7\"] = 55] = \"Key_7\";\n        KeyCode[KeyCode[\"Key_8\"] = 56] = \"Key_8\";\n        KeyCode[KeyCode[\"Key_9\"] = 57] = \"Key_9\";\n        KeyCode[KeyCode[\"Key_a\"] = 65] = \"Key_a\";\n        KeyCode[KeyCode[\"Key_b\"] = 66] = \"Key_b\";\n        KeyCode[KeyCode[\"Key_c\"] = 67] = \"Key_c\";\n        KeyCode[KeyCode[\"Key_d\"] = 68] = \"Key_d\";\n        KeyCode[KeyCode[\"Key_e\"] = 69] = \"Key_e\";\n        KeyCode[KeyCode[\"Key_f\"] = 70] = \"Key_f\";\n        KeyCode[KeyCode[\"Key_g\"] = 71] = \"Key_g\";\n        KeyCode[KeyCode[\"Key_h\"] = 72] = \"Key_h\";\n        KeyCode[KeyCode[\"Key_i\"] = 73] = \"Key_i\";\n        KeyCode[KeyCode[\"Key_j\"] = 74] = \"Key_j\";\n        KeyCode[KeyCode[\"Key_k\"] = 75] = \"Key_k\";\n        KeyCode[KeyCode[\"Key_l\"] = 76] = \"Key_l\";\n        KeyCode[KeyCode[\"Key_m\"] = 77] = \"Key_m\";\n        KeyCode[KeyCode[\"Key_n\"] = 78] = \"Key_n\";\n        KeyCode[KeyCode[\"Key_o\"] = 79] = \"Key_o\";\n        KeyCode[KeyCode[\"Key_p\"] = 80] = \"Key_p\";\n        KeyCode[KeyCode[\"Key_q\"] = 81] = \"Key_q\";\n        KeyCode[KeyCode[\"Key_r\"] = 82] = \"Key_r\";\n        KeyCode[KeyCode[\"Key_s\"] = 83] = \"Key_s\";\n        KeyCode[KeyCode[\"Key_t\"] = 84] = \"Key_t\";\n        KeyCode[KeyCode[\"Key_u\"] = 85] = \"Key_u\";\n        KeyCode[KeyCode[\"Key_v\"] = 86] = \"Key_v\";\n        KeyCode[KeyCode[\"Key_w\"] = 87] = \"Key_w\";\n        KeyCode[KeyCode[\"Key_x\"] = 88] = \"Key_x\";\n        KeyCode[KeyCode[\"Key_y\"] = 89] = \"Key_y\";\n        KeyCode[KeyCode[\"Key_z\"] = 90] = \"Key_z\";\n        KeyCode[KeyCode[\"Windows\"] = 91] = \"Windows\";\n        KeyCode[KeyCode[\"ContextMenu\"] = 93] = \"ContextMenu\";\n        KeyCode[KeyCode[\"Numpad_0\"] = 96] = \"Numpad_0\";\n        KeyCode[KeyCode[\"Numpad_1\"] = 97] = \"Numpad_1\";\n        KeyCode[KeyCode[\"Numpad_2\"] = 98] = \"Numpad_2\";\n        KeyCode[KeyCode[\"Numpad_3\"] = 99] = \"Numpad_3\";\n        KeyCode[KeyCode[\"Numpad_4\"] = 100] = \"Numpad_4\";\n        KeyCode[KeyCode[\"Numpad_5\"] = 101] = \"Numpad_5\";\n        KeyCode[KeyCode[\"Numpad_6\"] = 102] = \"Numpad_6\";\n        KeyCode[KeyCode[\"Numpad_7\"] = 103] = \"Numpad_7\";\n        KeyCode[KeyCode[\"Numpad_8\"] = 104] = \"Numpad_8\";\n        KeyCode[KeyCode[\"Numpad_9\"] = 105] = \"Numpad_9\";\n        KeyCode[KeyCode[\"Multiply\"] = 106] = \"Multiply\";\n        KeyCode[KeyCode[\"Add\"] = 107] = \"Add\";\n        KeyCode[KeyCode[\"Subtract\"] = 109] = \"Subtract\";\n        KeyCode[KeyCode[\"Decimal\"] = 110] = \"Decimal\";\n        KeyCode[KeyCode[\"Divide\"] = 111] = \"Divide\";\n        KeyCode[KeyCode[\"F1\"] = 112] = \"F1\";\n        KeyCode[KeyCode[\"F2\"] = 113] = \"F2\";\n        KeyCode[KeyCode[\"F3\"] = 114] = \"F3\";\n        KeyCode[KeyCode[\"F4\"] = 115] = \"F4\";\n        KeyCode[KeyCode[\"F5\"] = 116] = \"F5\";\n        KeyCode[KeyCode[\"F6\"] = 117] = \"F6\";\n        KeyCode[KeyCode[\"F7\"] = 118] = \"F7\";\n        KeyCode[KeyCode[\"F8\"] = 119] = \"F8\";\n        KeyCode[KeyCode[\"F9\"] = 120] = \"F9\";\n        KeyCode[KeyCode[\"F10\"] = 121] = \"F10\";\n        KeyCode[KeyCode[\"F11\"] = 122] = \"F11\";\n        KeyCode[KeyCode[\"F12\"] = 123] = \"F12\";\n        KeyCode[KeyCode[\"NumLock\"] = 144] = \"NumLock\";\n        KeyCode[KeyCode[\"ScrollLock\"] = 145] = \"ScrollLock\";\n        KeyCode[KeyCode[\"Semicolon\"] = 186] = \"Semicolon\";\n        KeyCode[KeyCode[\"Equals\"] = 187] = \"Equals\";\n        KeyCode[KeyCode[\"Comma\"] = 188] = \"Comma\";\n        KeyCode[KeyCode[\"Dash\"] = 189] = \"Dash\";\n        KeyCode[KeyCode[\"Period\"] = 190] = \"Period\";\n        KeyCode[KeyCode[\"ForwardSlash\"] = 191] = \"ForwardSlash\";\n        KeyCode[KeyCode[\"GraveAccent\"] = 192] = \"GraveAccent\";\n        KeyCode[KeyCode[\"OpenBracket\"] = 219] = \"OpenBracket\";\n        KeyCode[KeyCode[\"BackSlash\"] = 220] = \"BackSlash\";\n        KeyCode[KeyCode[\"CloseBracket\"] = 221] = \"CloseBracket\";\n        KeyCode[KeyCode[\"SingleQuote\"] = 222] = \"SingleQuote\";\n      })(KeyCode = exports.KeyCode || (exports.KeyCode = {}));\n      /***/\n\n    },\n    /* 72 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskAreaContainer = function () {\n        function TaskAreaContainer(element, ganttView) {\n          this.element = element;\n          this.element.addEventListener(\"scroll\", function () {\n            ganttView.updateView();\n          });\n        }\n\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollTop\", {\n          get: function get() {\n            return this.element.scrollTop;\n          },\n          set: function set(value) {\n            this.element.scrollTop = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollLeft\", {\n          get: function get() {\n            return this.element.scrollLeft;\n          },\n          set: function set(value) {\n            this.element.scrollLeft = value;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollWidth\", {\n          get: function get() {\n            return this.element.scrollWidth;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"scrollHeight\", {\n          get: function get() {\n            return this.element.scrollHeight;\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(TaskAreaContainer.prototype, \"isExternal\", {\n          get: function get() {\n            return false;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        TaskAreaContainer.prototype.getWidth = function () {\n          return this.element.offsetWidth;\n        };\n\n        TaskAreaContainer.prototype.getHeight = function () {\n          return this.element.offsetHeight;\n        };\n\n        TaskAreaContainer.prototype.getElement = function () {\n          return this.element;\n        };\n\n        return TaskAreaContainer;\n      }();\n\n      exports.TaskAreaContainer = TaskAreaContainer;\n      /***/\n    },\n    /* 73 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Enums_1 = __webpack_require__(7);\n\n      var Utils_1 = __webpack_require__(0);\n\n      var Settings = function () {\n        function Settings() {\n          this.viewType = undefined;\n          this.taskTitlePosition = Enums_1.TaskTitlePosition.Inside;\n          this.showResources = true;\n          this.areHorizontalBordersEnabled = true;\n          this.areVerticalBordersEnabled = true;\n          this.areAlternateRowsEnabled = true;\n          this.allowSelectTask = true;\n          this.editing = new EditingSettings();\n        }\n\n        Settings.parse = function (settings) {\n          var result = new Settings();\n\n          if (settings) {\n            if (Utils_1.JsonUtils.isExists(settings.viewType)) result.viewType = settings.viewType;\n            if (Utils_1.JsonUtils.isExists(settings.taskTitlePosition)) result.taskTitlePosition = settings.taskTitlePosition;\n            if (Utils_1.JsonUtils.isExists(settings.showResources)) result.showResources = settings.showResources;\n            if (Utils_1.JsonUtils.isExists(settings.areHorizontalBordersEnabled)) result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\n            if (Utils_1.JsonUtils.isExists(settings.areVerticalBordersEnabled)) result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\n            if (Utils_1.JsonUtils.isExists(settings.areAlternateRowsEnabled)) result.areAlternateRowsEnabled = settings.areAlternateRowsEnabled;\n            if (Utils_1.JsonUtils.isExists(settings.allowSelectTask)) result.allowSelectTask = settings.allowSelectTask;\n            if (Utils_1.JsonUtils.isExists(settings.editing)) result.editing = EditingSettings.parse(settings.editing);\n          }\n\n          return result;\n        };\n\n        return Settings;\n      }();\n\n      exports.Settings = Settings;\n\n      var EditingSettings = function () {\n        function EditingSettings() {\n          this.enabled = false;\n          this.allowDependencyDeleting = true;\n          this.allowDependencyAdding = true;\n          this.allowDependencyUpdating = true;\n          this.allowTaskDeleting = true;\n          this.allowTaskAdding = true;\n          this.allowTaskUpdating = true;\n          this.allowResourceDeleting = true;\n          this.allowResourceAdding = true;\n          this.allowResourceUpdating = true;\n        }\n\n        EditingSettings.parse = function (settings) {\n          var result = new EditingSettings();\n\n          if (settings) {\n            if (Utils_1.JsonUtils.isExists(settings.enabled)) result.enabled = settings.enabled;\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyDeleting)) result.allowDependencyDeleting = settings.allowDependencyDeleting;\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyAdding)) result.allowDependencyAdding = settings.allowDependencyAdding;\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyUpdating)) result.allowDependencyUpdating = settings.allowDependencyUpdating;\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskDeleting)) result.allowTaskDeleting = settings.allowTaskDeleting;\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskAdding)) result.allowTaskAdding = settings.allowTaskAdding;\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskUpdating)) result.allowTaskUpdating = settings.allowTaskUpdating;\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceDeleting)) result.allowResourceDeleting = settings.allowResourceDeleting;\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceAdding)) result.allowResourceAdding = settings.allowResourceAdding;\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceUpdating)) result.allowResourceUpdating = settings.allowResourceUpdating;\n          }\n\n          return result;\n        };\n\n        return EditingSettings;\n      }();\n\n      exports.EditingSettings = EditingSettings;\n      /***/\n    },\n    /* 74 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EventDispatcher_1 = __webpack_require__(75);\n\n      var ModelChangesDispatcher = function () {\n        function ModelChangesDispatcher() {\n          this.onModelChanged = new EventDispatcher_1.EventDispatcher();\n        }\n\n        ModelChangesDispatcher.prototype.notifyTaskCreated = function (task, callback) {\n          this.onModelChanged.raise(\"NotifyTaskCreated\", task, callback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskRemoved = function (taskID) {\n          this.onModelChanged.raise(\"NotifyTaskRemoved\", taskID);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskTitleChanged = function (taskID, newValue) {\n          this.onModelChanged.raise(\"NotifyTaskTitleChanged\", taskID, newValue);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskDescriptionChanged = function (taskID, newValue) {\n          this.onModelChanged.raise(\"NotifyTaskDescriptionChanged\", taskID, newValue);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskStartChanged = function (taskID, newValue) {\n          this.onModelChanged.raise(\"NotifyTaskStartChanged\", taskID, newValue);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskEndChanged = function (taskID, newValue) {\n          this.onModelChanged.raise(\"NotifyTaskEndChanged\", taskID, newValue);\n        };\n\n        ModelChangesDispatcher.prototype.notifyTaskProgressChanged = function (taskID, newValue) {\n          this.onModelChanged.raise(\"NotifyTaskProgressChanged\", taskID, newValue);\n        };\n\n        ModelChangesDispatcher.prototype.notifyDependencyInserted = function (dependency, callback) {\n          this.onModelChanged.raise(\"NotifyDependencyInserted\", dependency, callback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyDependencyRemoved = function (dependencyID) {\n          this.onModelChanged.raise(\"NotifyDependencyRemoved\", dependencyID);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceCreated = function (resource, callback) {\n          this.onModelChanged.raise(\"NotifyResourceCreated\", resource, callback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceRemoved = function (resourceID) {\n          this.onModelChanged.raise(\"NotifyResourceRemoved\", resourceID);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceAssigned = function (assignment, callback) {\n          this.onModelChanged.raise(\"NotifyResourceAssigned\", assignment, callback);\n        };\n\n        ModelChangesDispatcher.prototype.notifyResourceUnassigned = function (assignmentID) {\n          this.onModelChanged.raise(\"NotifyResourceUnassigned\", assignmentID);\n        };\n\n        return ModelChangesDispatcher;\n      }();\n\n      exports.ModelChangesDispatcher = ModelChangesDispatcher;\n      /***/\n    },\n    /* 75 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var EventDispatcher = function () {\n        function EventDispatcher() {\n          this.listeners = [];\n        }\n\n        EventDispatcher.prototype.add = function (listener) {\n          if (!listener) throw new Error(\"Error\");\n          if (!this.hasEventListener(listener)) this.listeners.push(listener);\n        };\n\n        EventDispatcher.prototype.remove = function (listener) {\n          for (var i = 0, currentListener; currentListener = this.listeners[i]; i++) {\n            if (currentListener === listener) {\n              this.listeners.splice(i, 1);\n              break;\n            }\n          }\n        };\n\n        EventDispatcher.prototype.raise = function (funcName) {\n          var args = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n          }\n\n          for (var i = 0, listener; listener = this.listeners[i]; i++) {\n            listener[funcName].apply(listener, args);\n          }\n        };\n\n        EventDispatcher.prototype.hasEventListener = function (listener) {\n          for (var i = 0, l = this.listeners.length; i < l; i++) {\n            if (this.listeners[i] === listener) return true;\n          }\n\n          return false;\n        };\n\n        return EventDispatcher;\n      }();\n\n      exports.EventDispatcher = EventDispatcher;\n      /***/\n    },\n    /* 76 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var TaskCommands_1 = __webpack_require__(77);\n\n      var TaskPropertiesCommands_1 = __webpack_require__(79);\n\n      var DependencyCommands_1 = __webpack_require__(80);\n\n      var ResourceCommands_1 = __webpack_require__(81);\n\n      var TaskEditDialog_1 = __webpack_require__(82);\n\n      var ConstraintViolationDialog_1 = __webpack_require__(83);\n\n      var ResourcesDialog_1 = __webpack_require__(84);\n\n      var ClientCommand_1 = __webpack_require__(85);\n\n      var CommandManager = function () {\n        function CommandManager(control) {\n          this.control = control;\n          this.commands = {};\n          this.createCommand(ClientCommand_1.GanttClientCommand.CreateTask, this.createTaskCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.CreateSubTask, this.createSubTaskCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.RemoveTask, this.removeTaskCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.RemoveDependency, this.removeDependencyCommand);\n          this.createCommand(ClientCommand_1.GanttClientCommand.TaskInformation, this.showTaskEditDialog);\n          this.createCommand(ClientCommand_1.GanttClientCommand.TaskAddContextItem, new TaskCommands_1.TaskAddContextItemCommand(this.control));\n        }\n\n        Object.defineProperty(CommandManager.prototype, \"createTaskCommand\", {\n          get: function get() {\n            return new TaskCommands_1.CreateTaskCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"createSubTaskCommand\", {\n          get: function get() {\n            return new TaskCommands_1.CreateSubTaskCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"removeTaskCommand\", {\n          get: function get() {\n            return new TaskCommands_1.RemoveTaskCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskTitleCommand\", {\n          get: function get() {\n            return new TaskPropertiesCommands_1.TaskTitleCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskDescriptionCommand\", {\n          get: function get() {\n            return new TaskPropertiesCommands_1.TaskDescriptionCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskProgressCommand\", {\n          get: function get() {\n            return new TaskPropertiesCommands_1.TaskProgressCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskStartCommand\", {\n          get: function get() {\n            return new TaskPropertiesCommands_1.TaskStartCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"changeTaskEndCommand\", {\n          get: function get() {\n            return new TaskPropertiesCommands_1.TaskEndCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"createDependencyCommand\", {\n          get: function get() {\n            return new DependencyCommands_1.CreateDependencyCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"removeDependencyCommand\", {\n          get: function get() {\n            return new DependencyCommands_1.RemoveDependencyCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"createResourceCommand\", {\n          get: function get() {\n            return new ResourceCommands_1.CreateResourceCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"removeResourceCommand\", {\n          get: function get() {\n            return new ResourceCommands_1.RemoveResourceCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"assignResourceCommand\", {\n          get: function get() {\n            return new ResourceCommands_1.AssignResourceCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"deassignResourceCommand\", {\n          get: function get() {\n            return new ResourceCommands_1.DeassignResourceCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"showTaskEditDialog\", {\n          get: function get() {\n            return new TaskEditDialog_1.TaskEditDialogCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"showConstraintViolationDialog\", {\n          get: function get() {\n            return new ConstraintViolationDialog_1.ConstraintViolationDialogCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n        Object.defineProperty(CommandManager.prototype, \"showResourcesDialog\", {\n          get: function get() {\n            return new ResourcesDialog_1.ResourcesDialogCommand(this.control);\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        CommandManager.prototype.getCommand = function (key) {\n          return this.commands[key];\n        };\n\n        CommandManager.prototype.createCommand = function (commandId, command) {\n          this.commands[commandId] = command;\n        };\n\n        return CommandManager;\n      }();\n\n      exports.CommandManager = CommandManager;\n      /***/\n    },\n    /* 77 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics33 = function extendStatics(d, b) {\n          _extendStatics33 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics33(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics33(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var TaskHistoryItem_1 = __webpack_require__(78);\n\n      var TaskDependencyHistoryItem_1 = __webpack_require__(20);\n\n      var ResourceHistoryItem_1 = __webpack_require__(21);\n\n      var TaskCommandBase = function (_super) {\n        __extends(TaskCommandBase, _super);\n\n        function TaskCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskCommandBase.prototype.getState = function () {\n          var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\n          state.visible = state.enabled && !this.control.taskEditController.dependencyId;\n          return state;\n        };\n\n        return TaskCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.TaskCommandBase = TaskCommandBase;\n\n      var CreateTaskCommand = function (_super) {\n        __extends(CreateTaskCommand, _super);\n\n        function CreateTaskCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateTaskCommand.prototype.execute = function (start, end, title, parentId) {\n          return _super.prototype.execute.call(this, start, end, title, parentId);\n        };\n\n        CreateTaskCommand.prototype.executeInternal = function (start, end, title, parentId) {\n          if (!parentId) {\n            var selectedTask = this.control.viewModel.findItem(this.control.currentSelectedTaskID).task;\n            if (selectedTask) parentId = selectedTask.parentId;\n          }\n\n          var referenceItem = this.control.viewModel.findItem(parentId) || this.control.viewModel.items[0];\n          var referenceTask = referenceItem.task;\n          start = start || new Date(referenceTask.start.getTime());\n          end = end || new Date(referenceTask.end.getTime());\n          title = title || \"New task\";\n          this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, start, end, title, parentId));\n          return true;\n        };\n\n        CreateTaskCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskAdding;\n        };\n\n        return CreateTaskCommand;\n      }(TaskCommandBase);\n\n      exports.CreateTaskCommand = CreateTaskCommand;\n\n      var CreateSubTaskCommand = function (_super) {\n        __extends(CreateSubTaskCommand, _super);\n\n        function CreateSubTaskCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateSubTaskCommand.prototype.execute = function (parentId) {\n          return _super.prototype.execute.call(this, parentId);\n        };\n\n        CreateSubTaskCommand.prototype.executeInternal = function (parentId) {\n          parentId = parentId || this.control.currentSelectedTaskID;\n          var selectedItem = this.control.viewModel.findItem(parentId);\n\n          if (selectedItem.selected) {\n            this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, new Date(selectedItem.task.start.getTime()), new Date(selectedItem.task.end.getTime()), \"New task\", parentId));\n            return true;\n          }\n\n          return false;\n        };\n\n        CreateSubTaskCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskAdding;\n        };\n\n        CreateSubTaskCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          var selectedItem = this.control.viewModel.findItem(this.control.currentSelectedTaskID);\n          state.visible = state.visible && selectedItem && selectedItem.selected;\n          return state;\n        };\n\n        return CreateSubTaskCommand;\n      }(TaskCommandBase);\n\n      exports.CreateSubTaskCommand = CreateSubTaskCommand;\n\n      var RemoveTaskCommand = function (_super) {\n        __extends(RemoveTaskCommand, _super);\n\n        function RemoveTaskCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RemoveTaskCommand.prototype.execute = function (id) {\n          return _super.prototype.execute.call(this, id);\n        };\n\n        RemoveTaskCommand.prototype.executeInternal = function (id) {\n          var _this = this;\n\n          id = id || this.control.currentSelectedTaskID;\n          this.control.viewModel.beginUpdate();\n          this.history.beginTransaction();\n          var childTasks = this.control.viewModel.tasks.items.filter(function (t) {\n            return t.parentId == id;\n          });\n          childTasks.forEach(function (t) {\n            return new RemoveTaskCommand(_this.control).execute(t.internalId);\n          });\n          var dependencies = this.control.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == id || d.successorId == id;\n          });\n          if (dependencies.length) if (this.control.settings.editing.allowDependencyDeleting) dependencies.forEach(function (d) {\n            return _this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(_this.modelManipulator, d.internalId));\n          });else return false;\n          var assignments = this.control.viewModel.assignments.items.filter(function (a) {\n            return a.taskId == id;\n          });\n          assignments.forEach(function (a) {\n            return _this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId));\n          });\n          this.history.addAndRedo(new TaskHistoryItem_1.RemoveTaskHistoryItem(this.modelManipulator, id));\n          this.history.endTransaction();\n          this.control.viewModel.endUpdate();\n          return true;\n        };\n\n        RemoveTaskCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskDeleting;\n        };\n\n        return RemoveTaskCommand;\n      }(TaskCommandBase);\n\n      exports.RemoveTaskCommand = RemoveTaskCommand;\n\n      var TaskAddContextItemCommand = function (_super) {\n        __extends(TaskAddContextItemCommand, _super);\n\n        function TaskAddContextItemCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskAddContextItemCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          state.visible = state.visible && this.control.settings.editing.allowTaskAdding;\n          return state;\n        };\n\n        TaskAddContextItemCommand.prototype.execute = function () {\n          return false;\n        };\n\n        return TaskAddContextItemCommand;\n      }(TaskCommandBase);\n\n      exports.TaskAddContextItemCommand = TaskAddContextItemCommand;\n      /***/\n    },\n    /* 78 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics34 = function extendStatics(d, b) {\n          _extendStatics34 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics34(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics34(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var HistoryItem_1 = __webpack_require__(9);\n\n      var CreateTaskHistoryItem = function (_super) {\n        __extends(CreateTaskHistoryItem, _super);\n\n        function CreateTaskHistoryItem(modelManipulator, start, end, title, parentId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.start = start;\n          _this.end = end;\n          _this.title = title;\n          _this.parentId = parentId;\n          return _this;\n        }\n\n        CreateTaskHistoryItem.prototype.redo = function () {\n          this.taskId = this.modelManipulator.task.create(this.start, this.end, this.title, this.parentId, this.taskId ? this.taskId : null).internalId;\n        };\n\n        CreateTaskHistoryItem.prototype.undo = function () {\n          this.modelManipulator.task.remove(this.taskId);\n        };\n\n        return CreateTaskHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.CreateTaskHistoryItem = CreateTaskHistoryItem;\n\n      var RemoveTaskHistoryItem = function (_super) {\n        __extends(RemoveTaskHistoryItem, _super);\n\n        function RemoveTaskHistoryItem(modelManipulator, taskId) {\n          var _this = _super.call(this, modelManipulator) || this;\n\n          _this.taskId = taskId;\n          return _this;\n        }\n\n        RemoveTaskHistoryItem.prototype.redo = function () {\n          this.task = this.modelManipulator.task.remove(this.taskId);\n        };\n\n        RemoveTaskHistoryItem.prototype.undo = function () {\n          this.modelManipulator.task.create(this.task.start, this.task.end, this.task.title, this.task.parentId, this.task.internalId);\n        };\n\n        return RemoveTaskHistoryItem;\n      }(HistoryItem_1.HistoryItem);\n\n      exports.RemoveTaskHistoryItem = RemoveTaskHistoryItem;\n      /***/\n    },\n    /* 79 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics35 = function extendStatics(d, b) {\n          _extendStatics35 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics35(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics35(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var TaskPropertiesHistoryItem_1 = __webpack_require__(31);\n\n      var TaskPropertyCommandBase = function (_super) {\n        __extends(TaskPropertyCommandBase, _super);\n\n        function TaskPropertyCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskPropertyCommandBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        TaskPropertyCommandBase.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskUpdating;\n        };\n\n        return TaskPropertyCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.TaskPropertyCommandBase = TaskPropertyCommandBase;\n\n      var TaskTitleCommand = function (_super) {\n        __extends(TaskTitleCommand, _super);\n\n        function TaskTitleCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskTitleCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskTitleCommand.prototype.executeInternal = function (id, value) {\n          var oldTitle = this.control.viewModel.tasks.getItemById(id).title;\n          if (oldTitle == value) return false;\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, id, value));\n          return true;\n        };\n\n        return TaskTitleCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskTitleCommand = TaskTitleCommand;\n\n      var TaskDescriptionCommand = function (_super) {\n        __extends(TaskDescriptionCommand, _super);\n\n        function TaskDescriptionCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskDescriptionCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskDescriptionCommand.prototype.executeInternal = function (id, value) {\n          var oldDescription = this.control.viewModel.tasks.getItemById(id).description;\n          if (oldDescription == value) return false;\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskDesriptionHistoryItem(this.modelManipulator, id, value));\n          return true;\n        };\n\n        return TaskDescriptionCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskDescriptionCommand = TaskDescriptionCommand;\n\n      var TaskProgressCommand = function (_super) {\n        __extends(TaskProgressCommand, _super);\n\n        function TaskProgressCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskProgressCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskProgressCommand.prototype.executeInternal = function (id, value) {\n          var oldProgress = this.control.viewModel.tasks.getItemById(id).progress;\n          if (oldProgress == value) return false;\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, id, value));\n          return true;\n        };\n\n        return TaskProgressCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskProgressCommand = TaskProgressCommand;\n\n      var TaskStartCommand = function (_super) {\n        __extends(TaskStartCommand, _super);\n\n        function TaskStartCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskStartCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskStartCommand.prototype.executeInternal = function (id, value) {\n          var oldStart = this.control.viewModel.tasks.getItemById(id).start;\n          if (oldStart.getTime() == value.getTime()) return false;\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, id, value));\n          if (value < this.control.dataRange.start) this.control.dataRange.start = value;\n          return true;\n        };\n\n        return TaskStartCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskStartCommand = TaskStartCommand;\n\n      var TaskEndCommand = function (_super) {\n        __extends(TaskEndCommand, _super);\n\n        function TaskEndCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEndCommand.prototype.execute = function (id, value) {\n          return _super.prototype.execute.call(this, id, value);\n        };\n\n        TaskEndCommand.prototype.executeInternal = function (id, value) {\n          var oldEnd = this.control.viewModel.tasks.getItemById(id).end;\n          if (oldEnd.getTime() == value.getTime()) return false;\n          this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, id, value));\n          if (value > this.control.dataRange.end) this.control.dataRange.end = value;\n          return true;\n        };\n\n        return TaskEndCommand;\n      }(TaskPropertyCommandBase);\n\n      exports.TaskEndCommand = TaskEndCommand;\n      /***/\n    },\n    /* 80 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics36 = function extendStatics(d, b) {\n          _extendStatics36 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics36(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics36(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var TaskDependencyHistoryItem_1 = __webpack_require__(20);\n\n      var DependencyCommandBase = function (_super) {\n        __extends(DependencyCommandBase, _super);\n\n        function DependencyCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DependencyCommandBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        return DependencyCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.DependencyCommandBase = DependencyCommandBase;\n\n      var CreateDependencyCommand = function (_super) {\n        __extends(CreateDependencyCommand, _super);\n\n        function CreateDependencyCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateDependencyCommand.prototype.execute = function (predecessorId, successorId, type) {\n          return _super.prototype.execute.call(this, predecessorId, successorId, type);\n        };\n\n        CreateDependencyCommand.prototype.executeInternal = function (predecessorId, successorId, type) {\n          if (this.control.viewModel.dependencies.items.filter(function (d) {\n            return d.predecessorId == predecessorId && d.successorId == successorId || d.successorId == predecessorId && d.predecessorId == successorId;\n          }).length) return false;\n          this.history.addAndRedo(new TaskDependencyHistoryItem_1.InsertDependencyHistoryItem(this.modelManipulator, predecessorId, successorId, type));\n          return true;\n        };\n\n        CreateDependencyCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyAdding;\n        };\n\n        return CreateDependencyCommand;\n      }(DependencyCommandBase);\n\n      exports.CreateDependencyCommand = CreateDependencyCommand;\n\n      var RemoveDependencyCommand = function (_super) {\n        __extends(RemoveDependencyCommand, _super);\n\n        function RemoveDependencyCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RemoveDependencyCommand.prototype.execute = function (id) {\n          return _super.prototype.execute.call(this, id);\n        };\n\n        RemoveDependencyCommand.prototype.executeInternal = function (id) {\n          id = id || this.control.taskEditController.dependencyId;\n\n          if (id != null) {\n            var dependency = this.control.viewModel.dependencies.items.filter(function (d) {\n              return d.internalId == id;\n            })[0];\n\n            if (dependency) {\n              this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, id));\n              return true;\n            }\n          }\n\n          return false;\n        };\n\n        RemoveDependencyCommand.prototype.isEnabled = function () {\n          return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyDeleting;\n        };\n\n        RemoveDependencyCommand.prototype.getState = function () {\n          var state = _super.prototype.getState.call(this);\n\n          state.visible = state.enabled && this.control.taskEditController.dependencyId != null;\n          return state;\n        };\n\n        return RemoveDependencyCommand;\n      }(DependencyCommandBase);\n\n      exports.RemoveDependencyCommand = RemoveDependencyCommand;\n      /***/\n    },\n    /* 81 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics37 = function extendStatics(d, b) {\n          _extendStatics37 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics37(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics37(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var ResourceHistoryItem_1 = __webpack_require__(21);\n\n      var ResourceCommandBase = function (_super) {\n        __extends(ResourceCommandBase, _super);\n\n        function ResourceCommandBase() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourceCommandBase.prototype.getState = function () {\n          return new CommandBase_1.SimpleCommandState(this.isEnabled());\n        };\n\n        return ResourceCommandBase;\n      }(CommandBase_1.CommandBase);\n\n      exports.ResourceCommandBase = ResourceCommandBase;\n\n      var CreateResourceCommand = function (_super) {\n        __extends(CreateResourceCommand, _super);\n\n        function CreateResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        CreateResourceCommand.prototype.execute = function (text) {\n          return _super.prototype.execute.call(this, text);\n        };\n\n        CreateResourceCommand.prototype.executeInternal = function (text) {\n          this.history.addAndRedo(new ResourceHistoryItem_1.CreateResourceHistoryItem(this.modelManipulator, text));\n          return true;\n        };\n\n        return CreateResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.CreateResourceCommand = CreateResourceCommand;\n\n      var RemoveResourceCommand = function (_super) {\n        __extends(RemoveResourceCommand, _super);\n\n        function RemoveResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        RemoveResourceCommand.prototype.execute = function (id) {\n          return _super.prototype.execute.call(this, id);\n        };\n\n        RemoveResourceCommand.prototype.executeInternal = function (id) {\n          var _this = this;\n\n          var resource = this.control.viewModel.resources.items.filter(function (r) {\n            return r.internalId == id;\n          })[0];\n\n          if (resource) {\n            this.history.beginTransaction();\n            var assignments = this.control.viewModel.assignments.items.filter(function (a) {\n              return a.resourceId == id;\n            });\n            assignments.forEach(function (a) {\n              return _this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId));\n            });\n            this.history.addAndRedo(new ResourceHistoryItem_1.RemoveResourceHistoryItem(this.modelManipulator, id));\n            this.history.endTransaction();\n            return true;\n          }\n\n          return false;\n        };\n\n        return RemoveResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.RemoveResourceCommand = RemoveResourceCommand;\n\n      var AssignResourceCommand = function (_super) {\n        __extends(AssignResourceCommand, _super);\n\n        function AssignResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        AssignResourceCommand.prototype.execute = function (resourceId, taskId) {\n          return _super.prototype.execute.call(this, resourceId, taskId);\n        };\n\n        AssignResourceCommand.prototype.executeInternal = function (resourceId, taskId) {\n          var assignment = this.control.viewModel.assignments.items.filter(function (r) {\n            return r.resourceId == resourceId && r.taskId == taskId;\n          })[0];\n\n          if (!assignment) {\n            this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, resourceId, taskId));\n            return true;\n          }\n\n          return false;\n        };\n\n        return AssignResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.AssignResourceCommand = AssignResourceCommand;\n\n      var DeassignResourceCommand = function (_super) {\n        __extends(DeassignResourceCommand, _super);\n\n        function DeassignResourceCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        DeassignResourceCommand.prototype.execute = function (assignmentId) {\n          return _super.prototype.execute.call(this, assignmentId);\n        };\n\n        DeassignResourceCommand.prototype.executeInternal = function (assignmentId) {\n          var assignment = this.control.viewModel.assignments.items.filter(function (r) {\n            return r.internalId == assignmentId;\n          })[0];\n\n          if (assignment) {\n            this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this.modelManipulator, assignmentId));\n            return true;\n          }\n\n          return false;\n        };\n\n        return DeassignResourceCommand;\n      }(ResourceCommandBase);\n\n      exports.DeassignResourceCommand = DeassignResourceCommand;\n      /***/\n    },\n    /* 82 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics38 = function extendStatics(d, b) {\n          _extendStatics38 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics38(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics38(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DialogBase_1 = __webpack_require__(22);\n\n      var TaskPropertiesHistoryItem_1 = __webpack_require__(31);\n\n      var ResourceCollection_1 = __webpack_require__(13);\n\n      var ResourceHistoryItem_1 = __webpack_require__(21);\n\n      var CommandBase_1 = __webpack_require__(5);\n\n      var TaskEditDialogCommand = function (_super) {\n        __extends(TaskEditDialogCommand, _super);\n\n        function TaskEditDialogCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEditDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\n          this.history.beginTransaction();\n          if (newParameters.title != oldParameters.title) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, oldParameters.id, newParameters.title));\n          if (newParameters.progress != oldParameters.progress) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, oldParameters.id, newParameters.progress));\n          if (newParameters.start != oldParameters.start) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, oldParameters.id, newParameters.start));\n          if (newParameters.end != oldParameters.end) this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, oldParameters.id, newParameters.end));\n\n          for (var i = 0; i < newParameters.assigned.length; i++) {\n            var resource = oldParameters.assigned.getItemById(newParameters.assigned.getItem(i).internalId);\n            if (!resource) this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, newParameters.assigned.getItem(i).internalId, oldParameters.id));\n          }\n\n          var _loop_1 = function _loop_1(i) {\n            var assigned = oldParameters.assigned.getItem(i);\n            var resource = newParameters.assigned.getItemById(assigned.internalId);\n\n            if (!resource) {\n              var assignment = this_1.control.viewModel.assignments.items.filter(function (assignment) {\n                return assignment.resourceId == assigned.internalId && assignment.taskId == oldParameters.id;\n              })[0];\n              this_1.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this_1.modelManipulator, assignment.internalId));\n            }\n          };\n\n          var this_1 = this;\n\n          for (var i = 0; i < oldParameters.assigned.length; i++) {\n            _loop_1(i);\n          }\n\n          this.history.endTransaction();\n          return false;\n        };\n\n        TaskEditDialogCommand.prototype.createParameters = function (options) {\n          options = options || this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);\n          var param = new TaskEditParameters();\n          param.id = options.internalId;\n          param.title = options.title;\n          param.progress = options.progress;\n          param.start = options.start;\n          param.end = options.end;\n          param.assigned = this.control.viewModel.getAssignedResources(options);\n          param.resources = new ResourceCollection_1.ResourceCollection();\n          param.resources.addRange(this.control.viewModel.resources.items);\n          param.showResourcesDialogCommand = this.control.commandManager.showResourcesDialog;\n          return param;\n        };\n\n        TaskEditDialogCommand.prototype.isEnabled = function () {\n          return true;\n        };\n\n        TaskEditDialogCommand.prototype.getState = function () {\n          var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\n          state.visible = !this.control.taskEditController.dependencyId;\n          return state;\n        };\n\n        TaskEditDialogCommand.prototype.getDialogName = function () {\n          return \"TaskEdit\";\n        };\n\n        return TaskEditDialogCommand;\n      }(DialogBase_1.DialogBase);\n\n      exports.TaskEditDialogCommand = TaskEditDialogCommand;\n\n      var TaskEditParameters = function (_super) {\n        __extends(TaskEditParameters, _super);\n\n        function TaskEditParameters() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        TaskEditParameters.prototype.clone = function () {\n          var clone = new TaskEditParameters();\n          clone.id = this.id;\n          clone.title = this.title;\n          clone.progress = this.progress;\n          clone.start = this.start;\n          clone.end = this.end;\n          clone.assigned = new ResourceCollection_1.ResourceCollection();\n          clone.assigned.addRange(this.assigned.items);\n          clone.resources = new ResourceCollection_1.ResourceCollection();\n          clone.resources.addRange(this.resources.items);\n          clone.showResourcesDialogCommand = this.showResourcesDialogCommand;\n          return clone;\n        };\n\n        return TaskEditParameters;\n      }(DialogBase_1.DialogParametersBase);\n\n      exports.TaskEditParameters = TaskEditParameters;\n      /***/\n    },\n    /* 83 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics39 = function extendStatics(d, b) {\n          _extendStatics39 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics39(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics39(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DialogBase_1 = __webpack_require__(22);\n\n      var TaskDependencyHistoryItem_1 = __webpack_require__(20);\n\n      var ConstraintViolationOption;\n\n      (function (ConstraintViolationOption) {\n        ConstraintViolationOption[ConstraintViolationOption[\"DoNothing\"] = 0] = \"DoNothing\";\n        ConstraintViolationOption[ConstraintViolationOption[\"RemoveDependency\"] = 1] = \"RemoveDependency\";\n        ConstraintViolationOption[ConstraintViolationOption[\"KeepDependency\"] = 2] = \"KeepDependency\";\n      })(ConstraintViolationOption = exports.ConstraintViolationOption || (exports.ConstraintViolationOption = {}));\n\n      var ConstraintViolationDialogCommand = function (_super) {\n        __extends(ConstraintViolationDialogCommand, _super);\n\n        function ConstraintViolationDialogCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ConstraintViolationDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\n          if (newParameters.option === ConstraintViolationOption.DoNothing) return false;\n          if (newParameters.option === ConstraintViolationOption.RemoveDependency) this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, oldParameters.dependencyId));\n          return true;\n        };\n\n        ConstraintViolationDialogCommand.prototype.createParameters = function (options) {\n          var result = new ConstraintViolationDialogParameters();\n          result.dependencyId = options;\n          return result;\n        };\n\n        ConstraintViolationDialogCommand.prototype.getDialogName = function () {\n          return \"ConstraintViolation\";\n        };\n\n        return ConstraintViolationDialogCommand;\n      }(DialogBase_1.DialogBase);\n\n      exports.ConstraintViolationDialogCommand = ConstraintViolationDialogCommand;\n\n      var ConstraintViolationDialogParameters = function (_super) {\n        __extends(ConstraintViolationDialogParameters, _super);\n\n        function ConstraintViolationDialogParameters() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ConstraintViolationDialogParameters.prototype.clone = function () {\n          var result = new ConstraintViolationDialogParameters();\n          result.dependencyId = this.dependencyId;\n          result.option = this.option;\n          return result;\n        };\n\n        return ConstraintViolationDialogParameters;\n      }(DialogBase_1.DialogParametersBase);\n\n      exports.ConstraintViolationDialogParameters = ConstraintViolationDialogParameters;\n      /***/\n    },\n    /* 84 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics40 = function extendStatics(d, b) {\n          _extendStatics40 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics40(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics40(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var DialogBase_1 = __webpack_require__(22);\n\n      var ResourceCollection_1 = __webpack_require__(13);\n\n      var ResourcesDialogCommand = function (_super) {\n        __extends(ResourcesDialogCommand, _super);\n\n        function ResourcesDialogCommand() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourcesDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\n          this.history.beginTransaction();\n\n          for (var i = 0; i < newParameters.resources.length; i++) {\n            var resource = oldParameters.resources.getItemById(newParameters.resources.getItem(i).internalId);\n            if (!resource) this.control.commandManager.createResourceCommand.execute(newParameters.resources.getItem(i).text);\n          }\n\n          for (var i = 0; i < oldParameters.resources.length; i++) {\n            var resource = newParameters.resources.getItemById(oldParameters.resources.getItem(i).internalId);\n            if (!resource) this.control.commandManager.removeResourceCommand.execute(oldParameters.resources.getItem(i).internalId);\n          }\n\n          this.history.endTransaction();\n          return false;\n        };\n\n        ResourcesDialogCommand.prototype.createParameters = function () {\n          var param = new ResourcesDialogParameters();\n          param.resources = new ResourceCollection_1.ResourceCollection();\n          param.resources.addRange(this.control.viewModel.resources.items);\n          return param;\n        };\n\n        ResourcesDialogCommand.prototype.getDialogName = function () {\n          return \"Resources\";\n        };\n\n        return ResourcesDialogCommand;\n      }(DialogBase_1.DialogBase);\n\n      exports.ResourcesDialogCommand = ResourcesDialogCommand;\n\n      var ResourcesDialogParameters = function (_super) {\n        __extends(ResourcesDialogParameters, _super);\n\n        function ResourcesDialogParameters() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ResourcesDialogParameters.prototype.clone = function () {\n          var clone = new ResourcesDialogParameters();\n          clone.resources = new ResourceCollection_1.ResourceCollection();\n          clone.resources.addRange(this.resources.items);\n          return clone;\n        };\n\n        return ResourcesDialogParameters;\n      }(DialogBase_1.DialogParametersBase);\n\n      exports.ResourcesDialogParameters = ResourcesDialogParameters;\n      /***/\n    },\n    /* 85 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var GanttClientCommand;\n\n      (function (GanttClientCommand) {\n        GanttClientCommand[GanttClientCommand[\"CreateTask\"] = 0] = \"CreateTask\";\n        GanttClientCommand[GanttClientCommand[\"CreateSubTask\"] = 1] = \"CreateSubTask\";\n        GanttClientCommand[GanttClientCommand[\"RemoveTask\"] = 2] = \"RemoveTask\";\n        GanttClientCommand[GanttClientCommand[\"RemoveDependency\"] = 3] = \"RemoveDependency\";\n        GanttClientCommand[GanttClientCommand[\"TaskInformation\"] = 4] = \"TaskInformation\";\n        GanttClientCommand[GanttClientCommand[\"TaskAddContextItem\"] = 5] = \"TaskAddContextItem\";\n      })(GanttClientCommand = exports.GanttClientCommand || (exports.GanttClientCommand = {}));\n      /***/\n\n    },\n    /* 86 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var BarManager = function () {\n        function BarManager(control, bars) {\n          this.control = control;\n          this.bars = bars;\n        }\n\n        BarManager.prototype.updateContextMenu = function () {\n          for (var i = 0, bar; bar = this.bars[i]; i++) {\n            if (bar.isContextMenu()) {\n              bar.updateItemsList();\n              var commandKeys = bar.getCommandKeys();\n\n              for (var j = 0; j < commandKeys.length; j++) {\n                this.updateBarItem(bar, commandKeys[j]);\n              }\n            }\n          }\n        };\n\n        BarManager.prototype.updateItemsState = function (queryCommands) {\n          var anyQuerySended = !!queryCommands.length;\n\n          for (var i = 0, bar; bar = this.bars[i]; i++) {\n            if (bar.isVisible()) {\n              var commandKeys = bar.getCommandKeys();\n\n              var _loop_1 = function _loop_1(j, commandKey) {\n                if (anyQuerySended && !queryCommands.filter(function (q) {\n                  return q == commandKey;\n                }).length) return \"continue\";\n                this_1.updateBarItem(bar, commandKey);\n              };\n\n              var this_1 = this;\n\n              for (var j = 0, commandKey = void 0; commandKey = commandKeys[j]; j++) {\n                _loop_1(j, commandKey);\n              }\n            }\n          }\n        };\n\n        BarManager.prototype.updateBarItem = function (bar, commandKey) {\n          var command = this.control.commandManager.getCommand(commandKey);\n\n          if (command) {\n            var commandState = command.getState();\n            bar.setItemVisible(commandKey, commandState.visible);\n\n            if (commandState.visible) {\n              bar.setItemEnabled(commandKey, commandState.enabled);\n              bar.setItemValue(commandKey, commandState.value);\n            }\n          }\n        };\n\n        return BarManager;\n      }();\n\n      exports.BarManager = BarManager;\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devexpress-gantt/dist/dx-gantt.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","JsonUtils","isExists","obj","isValidJson","json","test","replace","evalJson","eval","Browser_1","DomUtils","clientEventRequiresDocScrollCorrection","isSafariVerLess3","Browser","Safari","Version","isMacOSMobileVerLess51","MacOSMobilePlatform","AndroidDefaultBrowser","AndroidChromeBrowser","getEventX","evt","clientX","getDocumentScrollLeft","getEventY","clientY","getDocumentScrollTop","getEventSource","srcElement","target","GetKeyCode","NetscapeFamily","Opera","which","keyCode","GetIsParent","parentElement","element","tagName","parentNode","getCurrentStyle","document","defaultView","getComputedStyle","getTopPaddings","currentStyle","pxToInt","paddingTop","getLeftPadding","paddingLeft","getVerticalBordersWidth","style","res","borderTopStyle","pxToFloat","borderTopWidth","borderBottomStyle","borderBottomWidth","getHorizontalBordersWidth","borderLeftStyle","borderLeftWidth","borderRightStyle","borderRightWidth","px","pxToNumber","parseInt","parseFloat","parseFunction","result","indexOfPx","indexOf","substr","e","isScrollBodyIE","IE","body","overflow","scrollTop","WebKitFamily","Edge","pageYOffset","documentElement","scrollLeft","getAbsolutePositionY","getAbsolutePositionY_IE","Firefox","getAbsolutePositionY_FF3","getAbsolutePositionY_Opera","getAbsolutePositionY_NS","getAbsolutePositionY_Other","curEl","isFirstCycle","cells","length","pos","getAbsoluteScrollOffset_OperaFF","offsetTop","offsetParent","getBoundingClientRect","top","y","Math","round","isX","position","getAbsolutePositionX","getAbsolutePositionX_IE","getAbsolutePositionX_FF3","getAbsolutePositionX_Opera","getAbsolutePositionX_NS","getAbsolutePositionX_Other","offsetLeft","left","x","GetEvent","event","isTouchEvent","WebKitTouchUI","changedTouches","IsLeftButtonPressed","MSTouchUI","button","type","buttons","touchMouseMoveEventName","PointerEvent","getMouseWheelEventName","MajorVersion","getWheelDelta","ret","detail","wheelDelta","deltaY","IsRightButtonPressed","addClassNameToElement","className","trim","elementHasCssClass","oldClassName","getClassName","setClassName","removeClassNameFromElement","elementClassName","updClassName","newClassName","elementClasses","classList","getClassNameList","split","classNames","baseVal","slice","str","Time_1","TimeRange_1","Utils_1","DateRange_1","DayOfWeekMonthlyOccurrence_1","DateTimeUtils","compareDates","date1","date2","getTime","areDatesEqual","getMaxDate","diff","getMinDate","getDaysBetween","start","end","abs","ceil","msInDay","getWeeksBetween","daysBetween","numWeeks","floor","getDay","getMonthsDifference","dateDiff","from","to","yearsDiff","getFullYear","monthDiff","getMonth","getYearsDifference","getDayNumber","date","getDateByDayNumber","num","Date","setHours","setMinutes","setSeconds","addDays","days","checkDayOfMonth","day","getDate","checkDayOfWeek","checkMonth","month","checkYear","year","checkDayOfWeekOccurrenceInMonth","dayOfWeek","occurrence","dayOfWeekInMonthDates","getSpecificDayOfWeekInMonthDates","DayOfWeekMonthlyOccurrence","Last","getFirstDayOfWeekInMonth","firstDayOfWeekInMonth","diffDays","Array","specificDayOfWeekDate","push","getSpecificDayOfWeekInMonthDate","dates","checkValidDayInMonth","getNextMonth","inc","convertToDate","src","ms","parse","isNaN","convertTimeRangeToDateRange","timeRange","dayNumber","startT","hour","min","sec","msec","endT","DateRange","convertToTimeRanges","_this","map","convertToTimeRange","parseTimeRanges","TimeRange","convertToTime","parseTimeRange","Time","getTimeGromJsDate","parseTime","parts","filter","h","getHours","getMinutes","getSeconds","getMilliseconds","caclTimeDifference","time1","time2","getTimeInMilleconds","areTimesEqual","getMaxTime","getMinTime","getLastTimeOfDay","Point","undefined","DataObject","internalId","generateGuid","assignFromObject","sourceObj","id","String","random","v","toString","CommandBase","control","modelManipulator","configurable","history","_state","getState","execute","parameters","_i","arguments","state","enabled","executeInternal","apply","isEnabled","settings","editing","Error","SimpleCommandState","visible","CollectionBase","_items","_isGanttCollection","add","getItemById","addRange","range","remove","index","splice","clear","set","getItem","val","getItemByPublicId","assign","sourceCollection","items","importFromObject","source","importFromArray","createItemFromObjectAndAdd","item","createItem","values","importFromJSON","ViewType","Position","TaskTitlePosition","DomUtils_1","Point_1","GridLayoutCalculator_1","MouseEventSource","TaskAreaManager","ganttView","eventManager","mousePosition","initMouseEvents","taskArea","addEventListener","onTaskAreaClick","updateView","onContextMenu","onMouseWheel","onMouseDown","onDocumentMouseMove","onDocumentMouseUp","onDocumentKeyDown","preventSelect","isFocus","allowSelectTask","isConnectorLine","setTimeout","changeTaskSelection","getClickedTaskIndex","onMouseUp","onMouseMove","onKeyDown","stopPropagation","preventDefault","returnValue","ganttOwner","showPopupMenu","taskAreaY","relativeY","tickSize","height","onTaskElementHover","hoveredTaskIndex","taskEditController","show","clickedTask","viewModel","unselectCurrentSelectedTask","changeGanttTaskSelection","task","selectTask","now","clickedTaskIndex","time","DBLCLICK_INTERVAL","commandManager","showTaskEditDialog","GridLayoutCalculator","CLASSNAMES","CONNECTOR_HORIZONTAL","CONNECTOR_VERTICAL","__extends","extendStatics","b","setPrototypeOf","__proto__","__","constructor","HistoryItem","CompositionHistoryItem","_super","historyItems","redo","undo","historyItem","DataObject_1","DayOfWeek_1","Month_1","DateTimeUtils_1","RecurrenceFactory_1","RecurrenceBase","interval","occurrenceCount","_start","_end","_interval","_occurrenceCount","_dayOfWeek","_day","_dayOfWeekOccurrence","_month","_calculateByDayOfWeek","dayOfWeekInternal","RecurrenceFactory","getEnumValue","DayOfWeek","dayInternal","dayOfWeekOccurrence","dayOfWeekOccurrenceInternal","monthInternal","Month","calculateByDayOfWeek","calculatePoints","calculatePointsByOccurrenceCount","calculatePointsByDateRange","points","point","getFirstPoint","isRecurrencePoint","getNextPoint","isDateInRange","checkDate","useIntervalInCalc","checkInterval","calculatePointByInterval","calculateNearestPoint","getSpecDayInMonth","Sunday","Saturday","First","January","December","IdentUserAgent","userAgent","ignoreDocumentMode","browserTypesOrderedList","defaultBrowserType","defaultPlatform","defaultVersions","Chrome","Mozilla","Netscape","fillUserAgentInfo","toLowerCase","indentPlatformMajorVersion","platformIdentStrings","optSlashOrSpace","versionString","optVersion","patterns","Opera10","browserType","version","browserTypeCandidate","regExp","RegExp","compile","matches","exec","tridentPattern","GetBrowserVersion","getIECompatibleVersionString","browserVersionDetected","platform","minOccurenceIndex","Number","MAX_VALUE","identStr","importantIdent","occurenceIndex","samsungPattern","toUpperCase","match","isSamsungAndroidDevice","getVersionFromTrident","documentMode","max","ieCompatibleVersionString","getVersionFromMatches","versionFromTrident","compatible","WindowsPlatform","MacOSPlatform","AndroidMobilePlatform","WindowsPhonePlatform","HardwareAcceleration","isIETouchUI","UserAgent","navigator","maxTouchPoints","TouchUI","MobileUI","SamsungAndroidDevice","isARMArchitecture","VirtualKeyboardSupported","fillDocumentElementBrowserTypeClassNames","regex","PlaformMajorVersion","versionStr","tridentDiffFromVersion","documentElementClassName","browserTypeslist","concat","Info","_foo","CollectionBase_1","Resource_1","ResourceCollection","Resource","DependencyType","Dependency","predecessorId","successorId","Size","width","Size_1","Enums_1","GridElementInfo_1","Dependency_1","tileToDependencyMap","tileToNoWorkingIntervalsMap","minLineLength","resourceMaxWidth","minTaskWidth","setSettings","visibleTaskAreaSize","elementSizeValues","viewType","scrollBarHeight","verticalTickCount","itemCount","taskHeight","milestoneWidth","scaleHeight","scaleItemHeight","arrowSize","connectorArrowWidth","lineThickness","connectorLineThickness","minConnectorSpaceFromTask","tickTimeSpan","DateUtils","getTickTimeSpan","horizontalTickCount","getTotalTickCount","createTileToConnectorLinesMap","createTileToNonWorkingIntervalsMap","getTaskAreaBorderInfo","isVertical","sizeValue","getVerticalGridLineHeight","getGridBorderInfo","getScaleBorderInfo","scaleType","getScaleItemColSpan","size","GridElementInfo","setPosition","getGridBorderPosition","setSize","getGridBorderSize","posValue","getScaleElementInfo","getScaleItemPosition","getScaleItemSize","getScaleItemClassName","getRenderedNoWorkingIntervals","scaleItemInfo","noWorkingIntervals","valueOf","isScaleItemInsideNoWorkingInterval","scaleItemLeft","scaleItemRight","noWorkingIntervalLeft","noWorkingIntervalRight","TenMinutes","Hours","SixHours","Days","Weeks","Months","Quarter","Years","getTaskWrapperElementInfo","getTaskWrapperClassName","getTaskWrapperPoint","getTaskWrapperSize","getTask","isMilestone","selected","resourceCount","resources","resourceWidth","taskWidth","getTaskWidth","taskPoint","getTaskPoint","totalWidth","resultWidth","getPosByDate","getTaskHeight","getTaskElementInfo","getTaskClassName","smallTaskWidth","taskWrapperTopPadding","getTaskSize","getWidthByDateRange","getTaskProgressElementInfo","getTaskProgressSize","getTaskProgressWidth","progress","getTaskTextElementInfo","isInsideText","getTaskTextElementClassName","taskX","outsideTaskTextDefaultWidth","margins","marginLeft","getTaskResourceElementInfo","getSelectionElementInfo","getRowElementInfo","getSelectionPosition","getSelectionSize","getHighlightRowInfo","getNoWorkingIntervalInfo","noWorkingDateRange","getNoWorkingIntervalPosition","getNoWorkingIntervalSize","intervalStart","noWorkingInterval","getConnectorInfo","predessorIndex","successorIndex","connectorType","connectorPoints","getConnectorPoints","getConnectorLineInfo","getArrowInfo","startPoint","endPoint","isEdgeLine","getConnectorClassName","getConnectorPosition","getConnectorSize","setAttribute","sizeCorrection","connectorLines","lineInfo","findArrowLineInfo","arrowPosition","getArrowPosition","getArrowClassName","getArrowPoint","arrowLineIndex","prevLastPoint","lastPoint","Top","Bottom","Left","Right","getArrowX","getArrowY","getRangeTickCount","getRangeTickCountInMonthsViewType","getRangeTickCountInQuarterViewType","startMonthStartDate","endMonthStartDate","monthOffset","getOffsetInMonths","endFromMonthStartDateOffset","startFromMonthStartDateOffset","msPerMonth","startQuarterStartDate","endQuarterStartDate","quarterOffset","getOffsetInQuarters","endFromQuarterStartDateOffset","startFromQuarterStartDateOffset","getDateByPos","preResult","monthFromStart","setMonth","setTime","FS","getFinishToStartConnectorPoints","SF","getStartToFinishConnectorPoints","SS","getStartToStartConnectorPoints","FF","getFinishToFinishConnectorPoints","getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide","getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide","getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide","getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide","getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide","getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide","getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide","getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide","topTaskIndex","bottomTaskIndex","shiftEndPointToRight","topTaskPoint","bottomTaskPoint","topTaskRightCenter","getTaskRightCenter","isBottomMilestone","bottomTaskTopCenter","getTaskTopCenter","endPointIndent","bottomTaskRightCenter","shiftToTop","topTaskBottomCenter","getTaskBottomCenter","bottomTaskLeftCenter","getTaskLeftCenter","shiftStartPointToRight","isTopMilestone","startPointIndent","topTaskLeftCenter","getTaskEdgeCorrection","sqrt","getRenderedRowColumnIndices","scrollPos","visibleAreaSizeValue","tickSizeValue","tickCount","firstVisibleIndex","getFirstVisibleGridCellIndex","lastVisibleIndex","getLastVisibleGridCellIndex","getRenderedScaleItemIndices","renderedColIndices","scaleItemColSpan","j","dependencies","predecessor","visibleIndex","connectorInfo","forEach","connectorLine","addElementInfoToTileMap","getAdjustedNoWorkingInterval","noWorkingIntervalInfo","modelInterval","getNearestScaleTickDate","info","isVerticalTile","infoPointValue","infoSizeValue","tileSizeValue","firstTileIndex","lastTileIndex","getRenderedConnectorLines","getElementsInRenderedTiles","firstVisibleTileIndex","lastVisibleTileIndex","HistoryItemState_1","BaseManipulator","dispatcher","TaskPropertiesManipulator","title","TaskTitleManipulator","description","TaskDescriptionManipulator","TaskProgressManipulator","TaskStartDateManipulator","TaskEndDateManipulator","TaskPropertyManipulator","setValue","newValue","tasks","oldState","HistoryItemState","getPropertyValue","setPropertyValue","owner","resetAndUpdate","restoreValue","stateValue","taskId","notifyTaskTitleChanged","notifyTaskDescriptionChanged","notifyTaskProgressChanged","notifyTaskStartChanged","notifyTaskEndChanged","HandlerStateBase_1","MouseHandlerStateBase","onMouseDoubleClick","_evt","getRelativePos","absolutePos","taskAreaX","handler","HandlerStateBase","MouseHandlerStateBase_1","MouseHandlerDragBaseState","currentPosition","onMouseUpInternal","switchToDefaultState","onMouseMoveInternal","_position","HistoryItem_1","InsertDependencyHistoryItem","dependency","insertDependency","removeDependency","RemoveDependencyHistoryItem","dependencyId","CreateResourceHistoryItem","text","resource","RemoveResourceHistoryItem","resourceId","AssignResourceHistoryItem","assignment","deassig","DeassignResourceHistoryItem","assignmentId","CommandBase_1","DialogBase","options","params","createParameters","initParams","clone","showDialog","getDialogName","applyParameters","afterClosing","_newParameters","_oldParameters","DialogParametersBase","_hour","_min","_sec","_msec","_fullmsec","updateFullMilleconds","minutes","isTimeInRange","hasIntersect","concatWith","Daily_1","Weekly_1","Monthly_1","Yearly_1","createRecurrenceByType","correctedType","Daily","Weekly","Monthly","Yearly","createRecurrenceFromObject","recurrence","RecurrenceBase_1","daysToAdd","getDaysInMonth","rangeStartTime","rangeEndTime","needCorrectDate","nearestLeftTickTime","getNearestLeftTickTime","nearestRightTickTime","getNextTickTime","tickCountAtLeft","currentTickTime","nextTickDate","adjustStartEndDateByViewType","isStart","msPerHour","msPerDay","msPerWeek","ViewTypeToScaleMap","createViewTypeToScaleMap","ElementTextHelper","longestAbbrMonthName","longestMonthName","longestAbbrDayName","canvas","createElement","textMeasureContext","getContext","setFont","fontHolder","computedStyle","font","fontStyle","fontVariant","fontWeight","fontSize","lineHeight","fontFamily","startTime","modelItems","getScaleItemStartDate","setFullYear","FiveYears","getScaleItemText","scaleItemStartDate","isViewTypeScale","getTenMinutesScaleItemText","getHoursScaleItemText","getDaysScaleItemText","getWeeksScaleItemText","getMonthsScaleItemText","getQuarterScaleItemText","getYearsScaleItemText","getFiveYearsScaleItemText","scaleItemDate","getThirtyMinutesScaleItemText","hours","hourDisplayText","getHourDisplayText","amPmText","getAmText","getPmText","getHoursScaleItemTextCore","getDayTotalText","weekLastDayDate","getWeeksScaleItemTextCore","monthNames","getMonthNames","yearDisplayText","getMonthsScaleItemTextCore","quarterNames","getQuarterNames","hasAmPm","displayDayName","useAbbrDayNames","useAbbrMonthNames","displayYear","getAbbrMonthNames","dayNames","getAbbrDayNames","getDayNames","dayNameDisplayText","monthName","getDayTotalTextCore","getTaskText","getTaskVisibility","getVisible","getScaleItemTextTemplate","getDayTextTemplate","getWeekTextTemplate","getLongestMonthName","getLongestAbbrDayName","getLongestAbbrMonthName","dayTextTemplate","dayName","dayValueString","yearValueString","firstDayOfWeekString","lastDayOfWeekString","getLongestText","texts","longestTextWidth","textWidth","getTextWidth","measureText","Margins_1","Margins","attr","assignToElement","assignPosition","assignSize","assignMargins","marginTop","marginRight","marginBottom","TaskAreaManager_1","TaskEditController","gantt","taskIndex","createElements","createClassToSourceMap","updateWrapInfo","wrapInfo","baseElement","appendChild","TASK_EDIT_BOX","allowDependencyAdding","allowTaskUpdating","progressEdit","offsetWidth","taskDateRange","gridLayoutCalculator","hide","removeChild","showDependencySuccessor","dependencySuccessorBaseElement","dependencySuccessorFrame","hideDependencySuccessor","processProgress","progressOffset","clientWidth","statusMsg","innerHTML","showMessageBox","confirmProgress","changeTaskProgressCommand","isShouldProcessEnd","positionX","endEdit","processEnd","startDate","getNewDate","showTimeMessage","confirmEnd","changeTaskEndCommand","processStart","endDate","confirmStart","changeTaskStartCommand","processMove","delta","confirmMove","beginTransaction","endTransaction","referenceDate","newDate","setDate","startDependency","dependencyLine","TASK_EDIT_DEPENDENCY_LINE","startPosition","processDependency","drawline","endDependency","createDependencyCommand","selectDependency","allowDependencyDeleting","isDependencySelected","deleteSelectedDependency","removeDependencyCommand","posX","timeElement","TASK_EDIT_PROGRESS_STATUS_TIME","startEl","startTitle","startValue","formatDate","endEl","endTitle","endValue","display","clientHeight","statusTimerId","clearTimeout","baseFrame","TASK_EDIT_FRAME","TASK_EDIT_PROGRESS","TASK_EDIT_PROGRESS_STATUS","dependencyFinish","TASK_EDIT_DEPENDENCY_RIGTH","dependencyStart","TASK_EDIT_DEPENDENCY_LEFT","startEdit","TASK_EDIT_START","TASK_EDIT_END","TASK_EDIT_BOX_SUCCESSOR","TASK_EDIT_FRAME_SUCCESSOR","dependencySuccessorStart","TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH","dependencySuccessorFinish","TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT","attachEvents","temp","angle","atan","PI","transform","classToSource","TaskEdit_Progress","TaskEdit_Start","TaskEdit_End","TaskEdit_Frame","TaskEdit_DependencyStart","TaskEdit_DependencyFinish","Successor_DependencyStart","Successor_DependencyFinish","TaskPropertiesHistoryItemBase","getPropertiesManipulator","TaskTitleHistoryItem","properties","TaskDesriptionHistoryItem","TaskProgressHistoryItem","TaskStartHistoryItem","TaskEndHistoryItem","GanttView_1","GanttView","VisualModel_1","EtalonSizeValues_1","TaskEditController_1","ModelManipulator_1","History_1","EventManager_1","TaskAreaContainer_1","Settings_1","ModelChangesDispatcher_1","CommandManager_1","BarManager_1","timeScaleAreas","horTaskAreaBorders","vertTaskAreaBorders","scaleBorders","scaleElements","taskElements","selectionElements","hlRowElements","renderedRowIndices","renderedScaleItemIndices","dependencyMap","renderedConnectorLines","connectorLinesToElementsMap","noWorkingIntervalsToElementsMap","renderedNoWorkingIntervals","elementTextHelper","etalonSizeValues","EtalonSizeValues","scaleCount","zoom","currentSelectedTaskID","Settings","createMainElement","createHeader","calculateEtalonSizeValues","createTaskAreaContainer","loadOptionsFromGanttOwner","mainElement","setupHelpers","setSizeForTaskArea","createTimeScaleContainer","createTimeScaleAreas","CommandManager","barManager","BarManager","bars","EventManager","History","taskAreaManager","reset","timeScaleContainer","taskAreaContainer","getWidth","getHeight","getElement","getDateRange","modelStartDate","modelEndDate","adjustedStartDate","adjustedEndDate","adjustEndDateByVisibleAreaWidth","endTime","getVisibleAreaEndDate","visibleAreaStartDate","visibleTickCount","etalonElementsContainer","createEtalonElementsContainer","etalonElements","createEtalonElements","calculateEtalonSizeValuesCore","firstChild","offsetHeight","innerText","scaleItemWidths","getHeaderHeight","visibility","parent","wrapper","taskTitle","milestoneWrapper","etalonElementClassNames","etalonElementInfo","zoomIn","updateTickSizeWidth","setViewType","zoomOut","onVisualModelChanged","getGanttViewStartDate","reduce","getGanttViewEndDate","getTaskAreaWidth","getTaskAreaHeight","getVisibleTaskCount","header","createTimeScaleArea","timeScaleArea","unshift","createMonthsScale","createTaskArea","getExternalTaskAreaContainer","TaskAreaContainer","prepareTaskAreaContainer","areHorizontalBordersEnabled","currentDate","dayInMonthCount","dayCount","nextDate","scaleItemElement","scaleBorderInfo","processScroll","onGanttScroll","recreateTaskAreaBordersAndTaskElements","recreateConnectorLineElements","recreateNoWorkingIntervalElements","recreateScalesElements","newRenderedIndices","renderedIndices","recreateElements","removeTaskAreaBorderAndTaskElement","createTaskAreaBorderAndTaskElement","newRenderedNoWorkingIntervals","removeNoWorkingIntervalElement","createNoWorkingIntervalElement","newRenderedConnectorLines","removeConnectorLineElement","createConnectorLineElement","recreateScaleElements","scaleIndex","removeScaleElementAndBorder","createScaleElementAndBorder","oldRenderedElementsInfo","newRenderedelementsInfo","removeAction","createAction","allowTaskAreaBorders","isVerticalScroll","areVerticalBordersEnabled","createTaskAreaBorder","createTaskElement","removeTaskAreaBorder","removeTaskElement","getTaskAreaBordersDictionary","removeElement","createScaleElement","createScaleBorder","scaleElement","createScaleElementCore","dictionary","createTaskWrapperElement","taskTitlePosition","Outside","createTaskTextElement","taskVisualElement","createTaskVisualElement","Inside","createTaskProgressElement","showResources","createResources","createTaskSelectionElement","isHighlightRowElementAllowed","createHighlightRowElement","areAlternateRowsEnabled","children","createResourceElement","taskWrapperInfo","taskElementInfo","taskElement","taskProgressInfo","taskTextInfo","taskTextElement","resourceElementInfo","resElement","selectionInfo","isExternal","hlRowInfo","calculateAutoViewType","diffInHours","changeTaskExpanded","publicId","expanded","getTaskByPublicId","expandTask","collapseTask","showTask","changeTaskVisibility","hideTask","unselectTask","getTaskSelected","dataRange","setTaskTitlePosition","setShowResources","getRowHeight","tasksData","getGanttTasksData","ViewVisualModel","getGanttDependenciesData","getGanttResourcesData","getGanttResourceAssignmentsData","getGanttWorkTimeRules","ModelChangesDispatcher","modelChangesListener","getModelChangesListener","onModelChanged","ModelManipulator","changeTaskSelected","selectTaskById","getTaskAreaContainer","setWidth","setAllowSelection","setEditingSettings","setRowLinesVisible","setTaskTitle","changeTaskTitleCommand","setTaskProgress","setTaskStart","setTaskEnd","removeTask","removeTaskCommand","createTask","parentId","createTaskCommand","getPrevTask","findItem","updateCreatedTaskIdAfterServerUpdate","getTaskIdByInternalId","isTaskHasChildren","ResourceCollection_1","TaskCollection_1","DependencyCollection_1","ResourceAssignmentCollection_1","ViewVisualModelItem_1","ViewVisualModelDependencyInfo_1","WorkingTimeCalculator_1","assignments","dateRange","workTimeRules","_fLockCount","TaskCollection","DependencyCollection","ResourceAssignmentCollection","_itemList","_viewItemList","_workTimeCalculator","WorkingTimeCalculator","updateModel","ViewVisualModelItem","getAssignedResources","createHierarchy","populateItemsForView","list","_loop_1","parentItem","this_1","addChild","populateVisibleItems","updateVisibleItemDependencies","isRoot","getExpanded","visibleDependencies","getTasVisibleDependencies","setDependencies","ViewVisualModelDependencyInfo","changed","beginUpdate","endUpdate","updateRange","Task_1","Task","TaskType","duration","taskType","customFields","assignCustomFields","ResourceAssignment_1","ResourceAssignment","child","changeVisibility","changeSelection","GanttWorkingDayRuleCollection_1","DayWorkingTimeInfo_1","rules","_workingRules","WorkingDayRuleCollection","_workDayList","_calculationRange","calculateWorkDayList","clearList","processRule","sortList","rule","dayNum","dayInfo","isWorkDay","addWorkingIntervals","workTimeRanges","DayWorkingTimeInfo","sort","d1","d2","calculateNoWorkTimeIntervals","getNoWorkTimeRangesFromDay","concatJointedRanges","needExpandPrevInterval","_noWorkingIntervals","invalidate","WorkingTimeRule_1","WorkingTimeRule","recurrenceType","ranges","weeksFromStart","intervalCount","remainder","isPointOnNewWeek","weeksToAdd","calcNextPointWithWeekCount","weekCount","MonthInfo_1","monthToAdd","MonthInfo","addMonths","months","nextMonth","yearInc","yearFromStart","newYear","intervals","_workingIntervals","rearrangeWorkingIntervals","concatWithIntersectedRanges","sortIntervals","intersectedRanges","getIntersectedIntervals","removeInterval","r1","r2","clearIntervals","starts","ends","_isWorkDay","DependencyManipulator_1","ResourcesManipulator_1","TaskManipulator_1","TaskManipulator","TaskDependencyManipulator","ResourcesManipulator","TaskPropertiesManipulator_1","notifyDependencyInserted","getObjectForDataSource","notifyDependencyRemoved","notifyResourceCreated","getResourceObjectForDataSource","a","notifyResourceRemoved","resourceID","notifyResourceAssigned","getResourceAssignmentObjectForDataSource","notifyResourceUnassigned","resourceAssignment","notifyTaskCreated","notifyTaskRemoved","currentIndex","transaction","transactionLevel","transactionLength","addInternal","pop","addAndRedo","deleteOldItems","exceedItemsCount","MAX_HISTORY_ITEM_COUNT","MouseHandler_1","KeyCode_1","mouseHandler","MouseHandler","onMouseDblClick","code","getShortcutCode","ModifierKey","Ctrl","KeyCode","Key_z","Key_y","Delete","modifiers","altKey","Alt","ctrlKey","shiftKey","Shift","metaKey","Meta","HandlerBase_1","MouseHandlerDefaultState_1","MouseHandlerMoveTaskState_1","MouseHandlerProgressTaskState_1","MouseHandlerTimestampTaskState_1","MouseHandlerDependencyState_1","getMouseEventSource","switchState","MouseHandlerMoveTaskState","MouseHandlerProgressTaskState","MouseHandlerTimestampTaskState","MouseHandlerDependencyState","MouseHandlerDefaultState","initSource","nodeType","Node","ELEMENT_NODE","TaskArea","HandlerBase","finish","ganttMovingHelper","GanttMovingHelper","getAttribute","startMoving","movingInfo","increase","currentPos","calcMovingInfo","updateGanttAreaCursor","cancelMoving","move","updateScrollPosition","newEventX","newEventY","deltaX","eventX","eventY","dirX","dirY","maxDeltaX","maxRightDelta","maxLeftDelta","maxDeltaY","maxBottomDelta","maxTopDelta","newScrollLeft","newScrollTop","scrollWidth","scrollHeight","drag","cursor","MouseHandlerDragTaskBaseState_1","relativePosition","sourceElement","relativePos","hoverTaskIndex","EditingSettings","allowDependencyUpdating","allowTaskDeleting","allowTaskAdding","allowResourceDeleting","allowResourceAdding","allowResourceUpdating","EventDispatcher_1","EventDispatcher","callback","raise","taskID","dependencyID","assignmentID","listeners","listener","hasEventListener","currentListener","funcName","args","TaskCommands_1","TaskPropertiesCommands_1","DependencyCommands_1","ResourceCommands_1","TaskEditDialog_1","ConstraintViolationDialog_1","ResourcesDialog_1","ClientCommand_1","commands","createCommand","GanttClientCommand","CreateTask","CreateSubTask","createSubTaskCommand","RemoveTask","RemoveDependency","TaskInformation","TaskAddContextItem","TaskAddContextItemCommand","CreateTaskCommand","CreateSubTaskCommand","RemoveTaskCommand","TaskTitleCommand","TaskDescriptionCommand","TaskProgressCommand","TaskStartCommand","TaskEndCommand","CreateDependencyCommand","RemoveDependencyCommand","CreateResourceCommand","RemoveResourceCommand","AssignResourceCommand","DeassignResourceCommand","TaskEditDialogCommand","ConstraintViolationDialogCommand","ResourcesDialogCommand","getCommand","commandId","command","TaskHistoryItem_1","TaskDependencyHistoryItem_1","ResourceHistoryItem_1","TaskCommandBase","selectedTask","referenceItem","referenceTask","CreateTaskHistoryItem","selectedItem","childTasks","RemoveTaskHistoryItem","TaskPropertiesHistoryItem_1","TaskPropertyCommandBase","oldTitle","oldDescription","oldProgress","oldStart","oldEnd","DependencyCommandBase","ResourceCommandBase","DialogBase_1","newParameters","oldParameters","assigned","param","TaskEditParameters","showResourcesDialogCommand","showResourcesDialog","ConstraintViolationOption","option","DoNothing","ConstraintViolationDialogParameters","createResourceCommand","removeResourceCommand","ResourcesDialogParameters","updateContextMenu","bar","isContextMenu","updateItemsList","commandKeys","getCommandKeys","updateBarItem","updateItemsState","queryCommands","anyQuerySended","isVisible","commandKey","q","commandState","setItemVisible","setItemEnabled","setItemValue"],"mappings":"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","sourcesContent":["/*!\n * DevExpress Gantt (dx-gantt)\n * Version: 0.0.27\n * Build date: Thu Nov 28 2019\n * \n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\n * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Gantt\"] = factory();\n\telse\n\t\troot[\"DevExpress\"] = root[\"DevExpress\"] || {}, root[\"DevExpress\"][\"Gantt\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 32);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar JsonUtils = (function () {\r\n    function JsonUtils() {\r\n    }\r\n    JsonUtils.isExists = function (obj) {\r\n        return (typeof (obj) != \"undefined\") && (obj != null);\r\n    };\r\n    JsonUtils.isValidJson = function (json) {\r\n        return !(/[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]/.test(json.replace(/\"(\\\\.|[^\"\\\\])*\"/g, '')));\r\n    };\r\n    JsonUtils.evalJson = function (json) {\r\n        return JsonUtils.isValidJson(json) ? eval(\"(\" + json + \")\") : null;\r\n    };\r\n    return JsonUtils;\r\n}());\r\nexports.JsonUtils = JsonUtils;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Browser_1 = __webpack_require__(12);\r\nvar DomUtils = (function () {\r\n    function DomUtils() {\r\n    }\r\n    DomUtils.clientEventRequiresDocScrollCorrection = function () {\r\n        var isSafariVerLess3 = Browser_1.Browser.Safari && Browser_1.Browser.Version < 3, isMacOSMobileVerLess51 = Browser_1.Browser.MacOSMobilePlatform && Browser_1.Browser.Version < 5.1;\r\n        return Browser_1.Browser.AndroidDefaultBrowser || Browser_1.Browser.AndroidChromeBrowser || !(isSafariVerLess3 || isMacOSMobileVerLess51);\r\n    };\r\n    DomUtils.getEventX = function (evt) {\r\n        return evt.clientX + (this.clientEventRequiresDocScrollCorrection() ? this.getDocumentScrollLeft() : 0);\r\n    };\r\n    DomUtils.getEventY = function (evt) {\r\n        return evt.clientY + (this.clientEventRequiresDocScrollCorrection() ? this.getDocumentScrollTop() : 0);\r\n    };\r\n    DomUtils.getEventSource = function (evt) {\r\n        return evt.srcElement ? evt.srcElement : evt.target;\r\n    };\r\n    DomUtils.GetKeyCode = function (evt) {\r\n        return Browser_1.Browser.NetscapeFamily || Browser_1.Browser.Opera ? evt.which : evt.keyCode;\r\n    };\r\n    DomUtils.GetIsParent = function (parentElement, element) {\r\n        if (!parentElement || !element)\r\n            return false;\r\n        while (element) {\r\n            if (element === parentElement)\r\n                return true;\r\n            if (element.tagName === \"BODY\")\r\n                return false;\r\n            element = element.parentNode;\r\n        }\r\n        return false;\r\n    };\r\n    DomUtils.getCurrentStyle = function (element) {\r\n        if (document.defaultView && document.defaultView.getComputedStyle)\r\n            return document.defaultView.getComputedStyle(element, null);\r\n        return window.getComputedStyle(element, null);\r\n    };\r\n    DomUtils.getTopPaddings = function (element) {\r\n        var currentStyle = this.getCurrentStyle(element);\r\n        return this.pxToInt(currentStyle.paddingTop);\r\n    };\r\n    DomUtils.getLeftPadding = function (element) {\r\n        var currentStyle = this.getCurrentStyle(element);\r\n        return this.pxToInt(currentStyle.paddingLeft);\r\n    };\r\n    DomUtils.getVerticalBordersWidth = function (element) {\r\n        var style = window.getComputedStyle ? window.getComputedStyle(element) : this.getCurrentStyle(element);\r\n        var res = 0;\r\n        if (style.borderTopStyle != \"none\")\r\n            res += this.pxToFloat(style.borderTopWidth);\r\n        if (style.borderBottomStyle != \"none\")\r\n            res += this.pxToFloat(style.borderBottomWidth);\r\n        return res;\r\n    };\r\n    DomUtils.getHorizontalBordersWidth = function (element) {\r\n        var style = window.getComputedStyle ? window.getComputedStyle(element) : this.getCurrentStyle(element);\r\n        var res = 0;\r\n        if (style.borderLeftStyle != \"none\")\r\n            res += this.pxToFloat(style.borderLeftWidth);\r\n        if (style.borderRightStyle != \"none\")\r\n            res += this.pxToFloat(style.borderRightWidth);\r\n        return res;\r\n    };\r\n    DomUtils.pxToInt = function (px) {\r\n        return this.pxToNumber(px, parseInt);\r\n    };\r\n    DomUtils.pxToFloat = function (px) {\r\n        return this.pxToNumber(px, parseFloat);\r\n    };\r\n    ;\r\n    DomUtils.pxToNumber = function (px, parseFunction) {\r\n        var result = 0;\r\n        if (px != null && px != \"\") {\r\n            try {\r\n                var indexOfPx = px.indexOf(\"px\");\r\n                if (indexOfPx > -1)\r\n                    result = parseFunction(px.substr(0, indexOfPx));\r\n            }\r\n            catch (e) { }\r\n        }\r\n        return result;\r\n    };\r\n    DomUtils.getDocumentScrollTop = function () {\r\n        var isScrollBodyIE = Browser_1.Browser.IE && this.getCurrentStyle(document.body).overflow == \"hidden\" && document.body.scrollTop > 0;\r\n        if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge || isScrollBodyIE) {\r\n            if (Browser_1.Browser.MacOSMobilePlatform)\r\n                return window.pageYOffset;\r\n            if (Browser_1.Browser.WebKitFamily)\r\n                return document.documentElement.scrollTop || document.body.scrollTop;\r\n            return document.body.scrollTop;\r\n        }\r\n        else\r\n            return document.documentElement.scrollTop;\r\n    };\r\n    DomUtils.getDocumentScrollLeft = function () {\r\n        var isScrollBodyIE = Browser_1.Browser.IE && this.getCurrentStyle(document.body).overflow == \"hidden\" && document.body.scrollLeft > 0;\r\n        if (Browser_1.Browser.Edge || isScrollBodyIE)\r\n            return document.body ? document.body.scrollLeft : document.documentElement.scrollLeft;\r\n        if (Browser_1.Browser.WebKitFamily)\r\n            return document.documentElement.scrollLeft || document.body.scrollLeft;\r\n        return document.documentElement.scrollLeft;\r\n    };\r\n    DomUtils.getAbsolutePositionY = function (element) {\r\n        if (Browser_1.Browser.IE)\r\n            return this.getAbsolutePositionY_IE(element);\r\n        else if (Browser_1.Browser.Firefox && Browser_1.Browser.Version >= 3)\r\n            return this.getAbsolutePositionY_FF3(element);\r\n        else if (Browser_1.Browser.Opera)\r\n            return this.getAbsolutePositionY_Opera(element);\r\n        else if (Browser_1.Browser.NetscapeFamily && (!Browser_1.Browser.Firefox || Browser_1.Browser.Version < 3))\r\n            return this.getAbsolutePositionY_NS(element);\r\n        else if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge)\r\n            return this.getAbsolutePositionY_FF3(element);\r\n        else\r\n            return this.getAbsolutePositionY_Other(element);\r\n    };\r\n    DomUtils.getAbsolutePositionY_Opera = function (curEl) {\r\n        var isFirstCycle = true;\r\n        if (curEl && curEl.tagName == \"TR\" && curEl.cells.length > 0)\r\n            curEl = curEl.cells[0];\r\n        var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, false);\r\n        while (curEl != null) {\r\n            pos += curEl.offsetTop;\r\n            if (!isFirstCycle)\r\n                pos -= curEl.scrollTop;\r\n            curEl = curEl.offsetParent;\r\n            isFirstCycle = false;\r\n        }\r\n        pos += document.body.scrollTop;\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsolutePositionY_IE = function (element) {\r\n        if (element == null || Browser_1.Browser.IE && element.parentNode == null)\r\n            return 0;\r\n        return element.getBoundingClientRect().top + this.getDocumentScrollTop();\r\n    };\r\n    DomUtils.getAbsolutePositionY_FF3 = function (element) {\r\n        if (element == null)\r\n            return 0;\r\n        var y = element.getBoundingClientRect().top + this.getDocumentScrollTop();\r\n        return Math.round(y);\r\n    };\r\n    DomUtils.getAbsolutePositionY_NS = function (curEl) {\r\n        var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, false);\r\n        var isFirstCycle = true;\r\n        while (curEl != null) {\r\n            pos += curEl.offsetTop;\r\n            if (!isFirstCycle && curEl.offsetParent != null)\r\n                pos -= curEl.scrollTop;\r\n            if (!isFirstCycle && Browser_1.Browser.Firefox) {\r\n                var style = this.getCurrentStyle(curEl);\r\n                if (curEl.tagName == \"DIV\" && style.overflow != \"visible\")\r\n                    pos += this.pxToInt(style.borderTopWidth);\r\n            }\r\n            isFirstCycle = false;\r\n            curEl = curEl.offsetParent;\r\n        }\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsolutePositionY_Other = function (curEl) {\r\n        var pos = 0;\r\n        var isFirstCycle = true;\r\n        while (curEl != null) {\r\n            pos += curEl.offsetTop;\r\n            if (!isFirstCycle && curEl.offsetParent != null)\r\n                pos -= curEl.scrollTop;\r\n            isFirstCycle = false;\r\n            curEl = curEl.offsetParent;\r\n        }\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsoluteScrollOffset_OperaFF = function (curEl, isX) {\r\n        var pos = 0;\r\n        var isFirstCycle = true;\r\n        while (curEl != null) {\r\n            if (curEl.tagName == \"BODY\")\r\n                break;\r\n            var style = this.getCurrentStyle(curEl);\r\n            if (style.position == \"absolute\")\r\n                break;\r\n            if (!isFirstCycle && curEl.tagName == \"DIV\" && (style.position == \"\" || style.position == \"static\"))\r\n                pos -= isX ? curEl.scrollLeft : curEl.scrollTop;\r\n            curEl = curEl.parentNode;\r\n            isFirstCycle = false;\r\n        }\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsolutePositionX = function (element) {\r\n        if (Browser_1.Browser.IE)\r\n            return this.getAbsolutePositionX_IE(element);\r\n        else if (Browser_1.Browser.Firefox && Browser_1.Browser.Version >= 3)\r\n            return this.getAbsolutePositionX_FF3(element);\r\n        else if (Browser_1.Browser.Opera)\r\n            return this.getAbsolutePositionX_Opera(element);\r\n        else if (Browser_1.Browser.NetscapeFamily && (!Browser_1.Browser.Firefox || Browser_1.Browser.Version < 3))\r\n            return this.getAbsolutePositionX_NS(element);\r\n        else if (Browser_1.Browser.WebKitFamily || Browser_1.Browser.Edge)\r\n            return this.getAbsolutePositionX_FF3(element);\r\n        else\r\n            return this.getAbsolutePositionX_Other(element);\r\n    };\r\n    DomUtils.getAbsolutePositionX_Opera = function (curEl) {\r\n        var isFirstCycle = true;\r\n        var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, true);\r\n        while (curEl != null) {\r\n            pos += curEl.offsetLeft;\r\n            if (!isFirstCycle)\r\n                pos -= curEl.scrollLeft;\r\n            curEl = curEl.offsetParent;\r\n            isFirstCycle = false;\r\n        }\r\n        pos += document.body.scrollLeft;\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsolutePositionX_IE = function (element) {\r\n        if (element == null || Browser_1.Browser.IE && element.parentNode == null)\r\n            return 0;\r\n        return element.getBoundingClientRect().left + this.getDocumentScrollLeft();\r\n    };\r\n    DomUtils.getAbsolutePositionX_FF3 = function (element) {\r\n        if (element == null)\r\n            return 0;\r\n        var x = element.getBoundingClientRect().left + this.getDocumentScrollLeft();\r\n        return Math.round(x);\r\n    };\r\n    DomUtils.getAbsolutePositionX_NS = function (curEl) {\r\n        var pos = this.getAbsoluteScrollOffset_OperaFF(curEl, true);\r\n        var isFirstCycle = true;\r\n        while (curEl != null) {\r\n            pos += curEl.offsetLeft;\r\n            if (!isFirstCycle && curEl.offsetParent != null)\r\n                pos -= curEl.scrollLeft;\r\n            if (!isFirstCycle && Browser_1.Browser.Firefox) {\r\n                var style = this.getCurrentStyle(curEl);\r\n                if (curEl.tagName == \"DIV\" && style.overflow != \"visible\")\r\n                    pos += this.pxToInt(style.borderLeftWidth);\r\n            }\r\n            isFirstCycle = false;\r\n            curEl = curEl.offsetParent;\r\n        }\r\n        return pos;\r\n    };\r\n    DomUtils.getAbsolutePositionX_Other = function (curEl) {\r\n        var pos = 0;\r\n        var isFirstCycle = true;\r\n        while (curEl != null) {\r\n            pos += curEl.offsetLeft;\r\n            if (!isFirstCycle && curEl.offsetParent != null)\r\n                pos -= curEl.scrollLeft;\r\n            isFirstCycle = false;\r\n            curEl = curEl.offsetParent;\r\n        }\r\n        return pos;\r\n    };\r\n    DomUtils.GetEvent = function (evt) {\r\n        return (typeof (event) != \"undefined\" && event != null && Browser_1.Browser.IE) ? event : evt;\r\n    };\r\n    DomUtils.isExists = function (obj) {\r\n        return (typeof (obj) != \"undefined\") && (obj != null);\r\n    };\r\n    DomUtils.isTouchEvent = function (evt) {\r\n        if (!evt)\r\n            return false;\r\n        return Browser_1.Browser.WebKitTouchUI && DomUtils.isExists(evt.changedTouches);\r\n    };\r\n    DomUtils.IsLeftButtonPressed = function (evt) {\r\n        if (DomUtils.isTouchEvent(evt))\r\n            return true;\r\n        evt = DomUtils.GetEvent(evt);\r\n        if (!evt)\r\n            return false;\r\n        if (Browser_1.Browser.IE && Browser_1.Browser.Version < 11) {\r\n            if (Browser_1.Browser.MSTouchUI)\r\n                return true;\r\n            return evt.button % 2 == 1;\r\n        }\r\n        else if (Browser_1.Browser.WebKitFamily) {\r\n            if (evt.type === \"pointermove\")\r\n                return evt.buttons === 1;\r\n            return evt.which == 1;\r\n        }\r\n        else if (Browser_1.Browser.NetscapeFamily || Browser_1.Browser.Edge || (Browser_1.Browser.IE && Browser_1.Browser.Version >= 11)) {\r\n            if (evt.type === DomUtils.touchMouseMoveEventName)\r\n                return evt.buttons === 1;\r\n            return evt.which == 1;\r\n        }\r\n        else if (Browser_1.Browser.Opera)\r\n            return evt.button == 0;\r\n        return true;\r\n    };\r\n    DomUtils.touchMouseMoveEventName = Browser_1.Browser.WebKitTouchUI ? \"touchmove\" : (Browser_1.Browser.Edge && Browser_1.Browser.MSTouchUI && window.PointerEvent ? \"pointermove\" : \"mousemove\");\r\n    DomUtils.getMouseWheelEventName = function () {\r\n        if (Browser_1.Browser.Safari)\r\n            return \"mousewheel\";\r\n        if (Browser_1.Browser.NetscapeFamily && Browser_1.Browser.MajorVersion < 17)\r\n            return \"DOMMouseScroll\";\r\n        return \"wheel\";\r\n    };\r\n    DomUtils.getWheelDelta = function (evt) {\r\n        var ret;\r\n        if (Browser_1.Browser.NetscapeFamily && Browser_1.Browser.MajorVersion < 17)\r\n            ret = -evt.detail;\r\n        else if (Browser_1.Browser.Safari)\r\n            ret = evt.wheelDelta;\r\n        else\r\n            ret = -evt.deltaY;\r\n        if (Browser_1.Browser.Opera && Browser_1.Browser.Version < 9)\r\n            ret = -ret;\r\n        return ret;\r\n    };\r\n    DomUtils.IsRightButtonPressed = function (evt) {\r\n        evt = DomUtils.GetEvent(evt);\r\n        if (!DomUtils.isExists(evt))\r\n            return false;\r\n        if (Browser_1.Browser.IE || Browser_1.Browser.Edge) {\r\n            if (evt.type === \"pointermove\")\r\n                return evt.buttons === 2;\r\n            return evt.button == 2;\r\n        }\r\n        else if (Browser_1.Browser.NetscapeFamily || Browser_1.Browser.WebKitFamily)\r\n            return evt.which == 3;\r\n        else if (Browser_1.Browser.Opera)\r\n            return evt.button == 1;\r\n        return true;\r\n    };\r\n    DomUtils.addClassNameToElement = function (element, className) {\r\n        if (!element || typeof (className) !== \"string\")\r\n            return;\r\n        className = DomUtils.trim(className);\r\n        if (!DomUtils.elementHasCssClass(element, className) && className !== \"\") {\r\n            var oldClassName = DomUtils.getClassName(element);\r\n            DomUtils.setClassName(element, (oldClassName === \"\") ? className : oldClassName + \" \" + className);\r\n        }\r\n    };\r\n    DomUtils.removeClassNameFromElement = function (element, className) {\r\n        if (!element)\r\n            return;\r\n        var elementClassName = DomUtils.getClassName(element);\r\n        var updClassName = \" \" + elementClassName + \" \";\r\n        var newClassName = updClassName.replace(\" \" + className + \" \", \" \");\r\n        if (updClassName.length != newClassName.length)\r\n            DomUtils.setClassName(element, DomUtils.trim(newClassName));\r\n    };\r\n    DomUtils.elementHasCssClass = function (element, className) {\r\n        try {\r\n            var elementClasses;\r\n            var classList = DomUtils.getClassNameList(element);\r\n            if (!classList) {\r\n                var elementClassName = DomUtils.getClassName(element);\r\n                if (!elementClassName) {\r\n                    return false;\r\n                }\r\n                elementClasses = elementClassName.split(\" \");\r\n            }\r\n            var classNames = className.split(\" \");\r\n            for (var i = classNames.length - 1; i >= 0; i--) {\r\n                if (classList) {\r\n                    if (classList.indexOf(classNames[i]) === -1)\r\n                        return false;\r\n                    continue;\r\n                }\r\n                if (elementClasses.indexOf(classNames[i]) < 0)\r\n                    return false;\r\n            }\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    DomUtils.getClassName = function (element) {\r\n        var result = \"\";\r\n        if (element) {\r\n            if (element.tagName === \"svg\")\r\n                result = element.className.baseVal;\r\n            else\r\n                result = element.className ? element.className : \"\";\r\n        }\r\n        return result;\r\n    };\r\n    DomUtils.getClassNameList = function (element) {\r\n        var result = [];\r\n        if (element) {\r\n            if (element.tagName === \"svg\")\r\n                result = DomUtils.getClassName(element).replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\r\n            else\r\n                result = element.classList ? [].slice.call(element.classList) : DomUtils.getClassName(element).replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\r\n        }\r\n        return result;\r\n    };\r\n    DomUtils.setClassName = function (element, className) {\r\n        if (element.tagName === \"svg\") {\r\n            element.className.baseVal = DomUtils.trim(className);\r\n        }\r\n        else {\r\n            element.className = DomUtils.trim(className);\r\n        }\r\n    };\r\n    DomUtils.trim = function (str) {\r\n        var result = str;\r\n        result = result.replace(/^\\s+/, \"\");\r\n        result = result.replace(/\\s+$/, \"\");\r\n        return result;\r\n    };\r\n    return DomUtils;\r\n}());\r\nexports.DomUtils = DomUtils;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Time_1 = __webpack_require__(23);\r\nvar TimeRange_1 = __webpack_require__(24);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DateRange_1 = __webpack_require__(10);\r\nvar DayOfWeekMonthlyOccurrence_1 = __webpack_require__(25);\r\nvar DateTimeUtils = (function () {\r\n    function DateTimeUtils() {\r\n    }\r\n    DateTimeUtils.compareDates = function (date1, date2) {\r\n        if (!date1 || !date2)\r\n            return -1;\r\n        return date2.getTime() - date1.getTime();\r\n    };\r\n    DateTimeUtils.areDatesEqual = function (date1, date2) {\r\n        return this.compareDates(date1, date2) == 0;\r\n    };\r\n    DateTimeUtils.getMaxDate = function (date1, date2) {\r\n        if (!date1 && !date2)\r\n            return null;\r\n        if (!date1)\r\n            return date2;\r\n        if (!date2)\r\n            return date1;\r\n        var diff = this.compareDates(date1, date2);\r\n        return diff > 0 ? date2 : date1;\r\n    };\r\n    DateTimeUtils.getMinDate = function (date1, date2) {\r\n        if (!date1 && !date2)\r\n            return null;\r\n        if (!date1)\r\n            return date2;\r\n        if (!date2)\r\n            return date1;\r\n        var diff = this.compareDates(date1, date2);\r\n        return diff > 0 ? date1 : date2;\r\n    };\r\n    DateTimeUtils.getDaysBetween = function (start, end) {\r\n        var diff = Math.abs(end.getTime() - start.getTime());\r\n        return Math.ceil(diff / this.msInDay);\r\n    };\r\n    DateTimeUtils.getWeeksBetween = function (start, end) {\r\n        var daysBetween = this.getDaysBetween(start, end);\r\n        var numWeeks = Math.floor(daysBetween / 7);\r\n        if (start.getDay() > end.getDay())\r\n            numWeeks++;\r\n        return numWeeks;\r\n    };\r\n    DateTimeUtils.getMonthsDifference = function (start, end) {\r\n        var dateDiff = this.compareDates(start, end);\r\n        var from = dateDiff >= 0 ? start : end;\r\n        var to = dateDiff >= 0 ? end : start;\r\n        var yearsDiff = to.getFullYear() - from.getFullYear();\r\n        var monthDiff = yearsDiff * 12 + (to.getMonth() - from.getMonth());\r\n        return monthDiff;\r\n    };\r\n    DateTimeUtils.getYearsDifference = function (start, end) {\r\n        return Math.abs(end.getFullYear() - start.getFullYear());\r\n    };\r\n    DateTimeUtils.getDayNumber = function (date) {\r\n        return Math.ceil(date.getTime() / this.msInDay);\r\n    };\r\n    DateTimeUtils.getDateByDayNumber = function (num) {\r\n        var date = new Date(num * this.msInDay);\r\n        date.setHours(0);\r\n        date.setMinutes(0);\r\n        date.setSeconds(0);\r\n        return date;\r\n    };\r\n    DateTimeUtils.addDays = function (date, days) {\r\n        return new Date(date.getTime() + days * this.msInDay);\r\n    };\r\n    DateTimeUtils.checkDayOfMonth = function (day, date) {\r\n        return day == date.getDate();\r\n    };\r\n    DateTimeUtils.checkDayOfWeek = function (day, date) {\r\n        return day == date.getDay();\r\n    };\r\n    DateTimeUtils.checkMonth = function (month, date) {\r\n        return month == date.getMonth();\r\n    };\r\n    DateTimeUtils.checkYear = function (year, date) {\r\n        return year == date.getFullYear();\r\n    };\r\n    DateTimeUtils.checkDayOfWeekOccurrenceInMonth = function (date, dayOfWeek, occurrence) {\r\n        var dayOfWeekInMonthDates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, date.getFullYear(), date.getMonth());\r\n        if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last)\r\n            return this.areDatesEqual(date, dayOfWeekInMonthDates[dayOfWeekInMonthDates.length - 1]);\r\n        return this.areDatesEqual(date, dayOfWeekInMonthDates[occurrence]);\r\n    };\r\n    DateTimeUtils.getFirstDayOfWeekInMonth = function (year, month) {\r\n        var date = new Date(year, month, 1);\r\n        return date.getDay();\r\n    };\r\n    DateTimeUtils.getSpecificDayOfWeekInMonthDates = function (dayOfWeek, year, month) {\r\n        var firstDayOfWeekInMonth = this.getFirstDayOfWeekInMonth(year, month);\r\n        var diffDays = dayOfWeek >= firstDayOfWeekInMonth ? dayOfWeek - firstDayOfWeekInMonth : dayOfWeek + 7 - firstDayOfWeekInMonth;\r\n        var res = new Array();\r\n        var specificDayOfWeekDate = new Date(year, month, diffDays + 1);\r\n        while (specificDayOfWeekDate.getMonth() == month) {\r\n            res.push(specificDayOfWeekDate);\r\n            specificDayOfWeekDate = this.addDays(specificDayOfWeekDate, 7);\r\n        }\r\n        return res;\r\n    };\r\n    DateTimeUtils.getSpecificDayOfWeekInMonthDate = function (dayOfWeek, year, month, occurrence) {\r\n        var dates = this.getSpecificDayOfWeekInMonthDates(dayOfWeek, year, month);\r\n        if (occurrence == DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last)\r\n            return dates[dates.length - 1];\r\n        return dates[occurrence];\r\n    };\r\n    DateTimeUtils.checkValidDayInMonth = function (year, month, day) {\r\n        if (day < 1 || day > 31 || (new Date(year, month, day)).getMonth() != month)\r\n            return false;\r\n        return true;\r\n    };\r\n    DateTimeUtils.getNextMonth = function (month, inc) {\r\n        if (inc === void 0) { inc = 1; }\r\n        return (month + inc) % 12;\r\n    };\r\n    DateTimeUtils.convertToDate = function (src) {\r\n        if (src instanceof Date)\r\n            return new Date(src);\r\n        var ms = Date.parse(src);\r\n        if (!isNaN(ms))\r\n            return new Date(ms);\r\n        return null;\r\n    };\r\n    DateTimeUtils.convertTimeRangeToDateRange = function (timeRange, dayNumber) {\r\n        var date = this.getDateByDayNumber(dayNumber);\r\n        var year = date.getFullYear();\r\n        var month = date.getMonth();\r\n        var day = date.getDate();\r\n        var startT = timeRange.start;\r\n        var start = new Date(year, month, day, startT.hour, startT.min, startT.sec, startT.msec);\r\n        var endT = timeRange.end;\r\n        var end = new Date(year, month, day, endT.hour, endT.min, endT.sec, endT.msec);\r\n        return new DateRange_1.DateRange(start, end);\r\n    };\r\n    DateTimeUtils.convertToTimeRanges = function (src) {\r\n        var _this = this;\r\n        if (src instanceof Array)\r\n            return src.map(function (x) { return _this.convertToTimeRange(x); });\r\n        return this.parseTimeRanges(src);\r\n    };\r\n    DateTimeUtils.convertToTimeRange = function (src) {\r\n        if (!src)\r\n            return null;\r\n        if (src instanceof TimeRange_1.TimeRange)\r\n            return src;\r\n        if (Utils_1.JsonUtils.isExists(src.start) && Utils_1.JsonUtils.isExists(src.end))\r\n            return new TimeRange_1.TimeRange(this.convertToTime(src.start), this.convertToTime(src.end));\r\n        return this.parseTimeRange(src);\r\n    };\r\n    DateTimeUtils.convertToTime = function (src) {\r\n        if (!src)\r\n            return null;\r\n        if (src instanceof Time_1.Time)\r\n            return src;\r\n        if (src instanceof Date)\r\n            return this.getTimeGromJsDate(src);\r\n        return this.parseTime(src);\r\n    };\r\n    DateTimeUtils.parseTimeRanges = function (src) {\r\n        var _this = this;\r\n        if (!src)\r\n            return null;\r\n        var parts = src.split(/;|,/);\r\n        return parts.map(function (p) { return _this.parseTimeRange(p); }).filter(function (r) { return !!r; });\r\n    };\r\n    DateTimeUtils.parseTimeRange = function (src) {\r\n        if (!src)\r\n            return null;\r\n        var parts = src.split(\"-\");\r\n        var start = parts[0];\r\n        var end = parts[1];\r\n        if (Utils_1.JsonUtils.isExists(start) && Utils_1.JsonUtils.isExists(end))\r\n            return new TimeRange_1.TimeRange(this.parseTime(start), this.parseTime(end));\r\n        return null;\r\n    };\r\n    DateTimeUtils.parseTime = function (src) {\r\n        if (!src)\r\n            return null;\r\n        var parts = src.split(\":\");\r\n        var h = parseInt(parts[0]) || 0;\r\n        var m = parseInt(parts[1]) || 0;\r\n        var s = parseInt(parts[2]) || 0;\r\n        var ms = parseInt(parts[3]) || 0;\r\n        return new Time_1.Time(h, m, s, ms);\r\n    };\r\n    DateTimeUtils.getTimeGromJsDate = function (date) {\r\n        if (!date)\r\n            return null;\r\n        var h = date.getHours();\r\n        var m = date.getMinutes();\r\n        var s = date.getSeconds();\r\n        var ms = date.getMilliseconds();\r\n        return new Time_1.Time(h, m, s, ms);\r\n    };\r\n    DateTimeUtils.caclTimeDifference = function (time1, time2) {\r\n        return time2.getTimeInMilleconds() - time1.getTimeInMilleconds();\r\n    };\r\n    DateTimeUtils.areTimesEqual = function (time1, time2) {\r\n        return this.caclTimeDifference(time1, time2) == 0;\r\n    };\r\n    DateTimeUtils.getMaxTime = function (time1, time2) {\r\n        if (!time1 && !time2)\r\n            return null;\r\n        if (!time1)\r\n            return time2;\r\n        if (!time2)\r\n            return time1;\r\n        var diff = this.caclTimeDifference(time1, time2);\r\n        return diff > 0 ? time2 : time1;\r\n    };\r\n    DateTimeUtils.getMinTime = function (time1, time2) {\r\n        if (!time1 && !time2)\r\n            return null;\r\n        if (!time1)\r\n            return time2;\r\n        if (!time2)\r\n            return time1;\r\n        var diff = this.caclTimeDifference(time1, time2);\r\n        return diff > 0 ? time1 : time2;\r\n    };\r\n    DateTimeUtils.getLastTimeOfDay = function () {\r\n        return new Time_1.Time(23, 59, 59, 999);\r\n    };\r\n    DateTimeUtils.msInDay = 24 * 3600 * 1000;\r\n    return DateTimeUtils;\r\n}());\r\nexports.DateTimeUtils = DateTimeUtils;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Point = (function () {\r\n    function Point(x, y) {\r\n        this.x = null;\r\n        this.y = null;\r\n        if (x !== undefined)\r\n            this.x = x;\r\n        if (y !== undefined)\r\n            this.y = y;\r\n    }\r\n    return Point;\r\n}());\r\nexports.Point = Point;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DataObject = (function () {\r\n    function DataObject() {\r\n        this.internalId = this.generateGuid();\r\n    }\r\n    DataObject.prototype.assignFromObject = function (sourceObj) {\r\n        if (!Utils_1.JsonUtils.isExists(sourceObj))\r\n            return;\r\n        if (Utils_1.JsonUtils.isExists(sourceObj.id)) {\r\n            this.id = sourceObj.id;\r\n            this.internalId = String(sourceObj.id);\r\n        }\r\n    };\r\n    DataObject.prototype.generateGuid = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    return DataObject;\r\n}());\r\nexports.DataObject = DataObject;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase = (function () {\r\n    function CommandBase(control) {\r\n        this.control = control;\r\n    }\r\n    Object.defineProperty(CommandBase.prototype, \"modelManipulator\", {\r\n        get: function () { return this.control.modelManipulator; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandBase.prototype, \"history\", {\r\n        get: function () { return this.control.history; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandBase.prototype, \"state\", {\r\n        get: function () {\r\n            if (!this._state)\r\n                this._state = this.getState();\r\n            return this._state;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CommandBase.prototype.execute = function () {\r\n        var parameters = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            parameters[_i] = arguments[_i];\r\n        }\r\n        if (!this.state.enabled)\r\n            return false;\r\n        return this.executeInternal.apply(this, parameters);\r\n    };\r\n    CommandBase.prototype.isEnabled = function () {\r\n        return this.control.settings.editing.enabled;\r\n    };\r\n    CommandBase.prototype.executeInternal = function () {\r\n        var parameters = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            parameters[_i] = arguments[_i];\r\n        }\r\n        throw new Error(\"Not implemented\");\r\n    };\r\n    ;\r\n    return CommandBase;\r\n}());\r\nexports.CommandBase = CommandBase;\r\nvar SimpleCommandState = (function () {\r\n    function SimpleCommandState(enabled, value) {\r\n        this.visible = true;\r\n        this.enabled = enabled;\r\n        this.value = value;\r\n    }\r\n    return SimpleCommandState;\r\n}());\r\nexports.SimpleCommandState = SimpleCommandState;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar CollectionBase = (function () {\r\n    function CollectionBase() {\r\n        this._items = new Array();\r\n        this._isGanttCollection = true;\r\n    }\r\n    CollectionBase.prototype.add = function (element) {\r\n        if (!Utils_1.JsonUtils.isExists(element))\r\n            return;\r\n        if (!!this.getItemById(element.internalId))\r\n            throw \"The collection item with id ='\" + element.internalId + \"' already exists.\";\r\n        this._items.push(element);\r\n    };\r\n    CollectionBase.prototype.addRange = function (range) {\r\n        for (var i = 0; i < range.length; i++)\r\n            this.add(range[i]);\r\n    };\r\n    CollectionBase.prototype.remove = function (element) {\r\n        var index = this._items.indexOf(element);\r\n        if (index > -1 && index < this._items.length)\r\n            this._items.splice(index, 1);\r\n    };\r\n    CollectionBase.prototype.clear = function () {\r\n        this._items.splice(0, this._items.length);\r\n    };\r\n    Object.defineProperty(CollectionBase.prototype, \"items\", {\r\n        get: function () {\r\n            return this._items.slice();\r\n        },\r\n        set: function (value) {\r\n            if (value)\r\n                this._items = value.slice();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CollectionBase.prototype, \"length\", {\r\n        get: function () {\r\n            return this._items.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CollectionBase.prototype.getItem = function (index) {\r\n        if (index > -1 && index < this._items.length)\r\n            return this._items[index];\r\n        return null;\r\n    };\r\n    CollectionBase.prototype.getItemById = function (id) {\r\n        return this._items.filter(function (val) { return val.internalId === id; })[0];\r\n    };\r\n    CollectionBase.prototype.getItemByPublicId = function (id) {\r\n        return this._items.filter(function (val) { return val.id === id || val.id.toString() === id; })[0];\r\n    };\r\n    CollectionBase.prototype.assign = function (sourceCollection) {\r\n        if (!Utils_1.JsonUtils.isExists(sourceCollection))\r\n            return;\r\n        this.items = sourceCollection.items;\r\n    };\r\n    CollectionBase.prototype.importFromObject = function (source) {\r\n        if (!Utils_1.JsonUtils.isExists(source))\r\n            return;\r\n        this.clear();\r\n        if (source._isGanttCollection)\r\n            this.assign(source);\r\n        else if (source instanceof Array) {\r\n            this.importFromArray(source);\r\n        }\r\n        else {\r\n            this.createItemFromObjectAndAdd(source);\r\n        }\r\n    };\r\n    CollectionBase.prototype.createItemFromObjectAndAdd = function (source) {\r\n        if (Utils_1.JsonUtils.isExists(source)) {\r\n            var item = this.createItem();\r\n            item.assignFromObject(source);\r\n            this.add(item);\r\n        }\r\n    };\r\n    CollectionBase.prototype.importFromArray = function (values) {\r\n        for (var i = 0; i < values.length; i++)\r\n            this.createItemFromObjectAndAdd(values[i]);\r\n    };\r\n    CollectionBase.prototype.importFromJSON = function (json) {\r\n        this.importFromObject(Utils_1.JsonUtils.evalJson(json));\r\n    };\r\n    return CollectionBase;\r\n}());\r\nexports.CollectionBase = CollectionBase;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ViewType;\r\n(function (ViewType) {\r\n    ViewType[ViewType[\"TenMinutes\"] = 0] = \"TenMinutes\";\r\n    ViewType[ViewType[\"Hours\"] = 1] = \"Hours\";\r\n    ViewType[ViewType[\"SixHours\"] = 2] = \"SixHours\";\r\n    ViewType[ViewType[\"Days\"] = 3] = \"Days\";\r\n    ViewType[ViewType[\"Weeks\"] = 4] = \"Weeks\";\r\n    ViewType[ViewType[\"Months\"] = 5] = \"Months\";\r\n    ViewType[ViewType[\"Quarter\"] = 6] = \"Quarter\";\r\n    ViewType[ViewType[\"Years\"] = 7] = \"Years\";\r\n    ViewType[ViewType[\"FiveYears\"] = 8] = \"FiveYears\";\r\n})(ViewType = exports.ViewType || (exports.ViewType = {}));\r\nvar Position;\r\n(function (Position) {\r\n    Position[Position[\"Left\"] = 0] = \"Left\";\r\n    Position[Position[\"Top\"] = 1] = \"Top\";\r\n    Position[Position[\"Right\"] = 2] = \"Right\";\r\n    Position[Position[\"Bottom\"] = 3] = \"Bottom\";\r\n})(Position = exports.Position || (exports.Position = {}));\r\nvar TaskTitlePosition;\r\n(function (TaskTitlePosition) {\r\n    TaskTitlePosition[TaskTitlePosition[\"Inside\"] = 0] = \"Inside\";\r\n    TaskTitlePosition[TaskTitlePosition[\"Outside\"] = 1] = \"Outside\";\r\n    TaskTitlePosition[TaskTitlePosition[\"None\"] = 2] = \"None\";\r\n})(TaskTitlePosition = exports.TaskTitlePosition || (exports.TaskTitlePosition = {}));\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar Point_1 = __webpack_require__(3);\r\nvar Browser_1 = __webpack_require__(12);\r\nvar GridLayoutCalculator_1 = __webpack_require__(16);\r\nvar MouseEventSource;\r\n(function (MouseEventSource) {\r\n    MouseEventSource[MouseEventSource[\"TaskArea\"] = 0] = \"TaskArea\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_Frame\"] = 1] = \"TaskEdit_Frame\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_Progress\"] = 2] = \"TaskEdit_Progress\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_Start\"] = 3] = \"TaskEdit_Start\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_End\"] = 4] = \"TaskEdit_End\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_DependencyStart\"] = 5] = \"TaskEdit_DependencyStart\";\r\n    MouseEventSource[MouseEventSource[\"TaskEdit_DependencyFinish\"] = 6] = \"TaskEdit_DependencyFinish\";\r\n    MouseEventSource[MouseEventSource[\"Successor_Wrapper\"] = 7] = \"Successor_Wrapper\";\r\n    MouseEventSource[MouseEventSource[\"Successor_DependencyStart\"] = 8] = \"Successor_DependencyStart\";\r\n    MouseEventSource[MouseEventSource[\"Successor_DependencyFinish\"] = 9] = \"Successor_DependencyFinish\";\r\n})(MouseEventSource = exports.MouseEventSource || (exports.MouseEventSource = {}));\r\nvar TaskAreaManager = (function () {\r\n    function TaskAreaManager(ganttView) {\r\n        this.ganttView = ganttView;\r\n        this.eventManager = ganttView.eventManager;\r\n        this.mousePosition = new Point_1.Point(-1, -1);\r\n        this.initMouseEvents();\r\n    }\r\n    TaskAreaManager.prototype.initMouseEvents = function () {\r\n        var _this = this;\r\n        this.ganttView.taskArea.addEventListener(\"click\", function (evt) { _this.onTaskAreaClick(evt); });\r\n        this.ganttView.taskArea.addEventListener(\"scroll\", this.ganttView.updateView.bind(this.ganttView));\r\n        this.ganttView.taskArea.addEventListener(\"contextmenu\", function (evt) { _this.onContextMenu(evt); });\r\n        this.ganttView.taskArea.addEventListener(DomUtils_1.DomUtils.getMouseWheelEventName(), function (evt) { _this.onMouseWheel(evt); });\r\n        this.ganttView.taskArea.addEventListener(\"mousedown\", function (evt) { _this.onMouseDown(evt); });\r\n        document.addEventListener(\"mousemove\", function (evt) { _this.onDocumentMouseMove(evt); });\r\n        document.addEventListener(\"mouseup\", function (evt) { _this.onDocumentMouseUp(evt); });\r\n        document.addEventListener(\"keydown\", function (evt) { _this.onDocumentKeyDown(evt); });\r\n    };\r\n    TaskAreaManager.prototype.onMouseDown = function (evt) {\r\n        this.eventManager.onMouseDown(evt);\r\n        this.preventSelect = false;\r\n        this.mousePosition = new Point_1.Point(evt.clientX, evt.clientY);\r\n    };\r\n    TaskAreaManager.prototype.onDocumentMouseUp = function (evt) {\r\n        var _this = this;\r\n        this.ganttView.isFocus = DomUtils_1.DomUtils.GetIsParent(this.ganttView.taskArea, DomUtils_1.DomUtils.getEventSource(evt)) ? true : false;\r\n        if (this.ganttView.isFocus && !this.preventSelect && this.ganttView.settings.allowSelectTask && !this.isConnectorLine(evt))\r\n            setTimeout(function () { _this.changeTaskSelection(_this.getClickedTaskIndex(evt)); }, 0);\r\n        this.eventManager.onMouseUp(evt);\r\n    };\r\n    TaskAreaManager.prototype.onDocumentMouseMove = function (evt) {\r\n        if (this.mousePosition.x != evt.clientX || this.mousePosition.y != evt.clientY) {\r\n            this.eventManager.onMouseMove(evt);\r\n            this.preventSelect = true;\r\n        }\r\n    };\r\n    TaskAreaManager.prototype.onMouseWheel = function (evt) {\r\n        this.eventManager.onMouseWheel(evt);\r\n    };\r\n    TaskAreaManager.prototype.onDocumentKeyDown = function (evt) {\r\n        this.eventManager.onKeyDown(evt);\r\n    };\r\n    TaskAreaManager.prototype.onContextMenu = function (evt) {\r\n        if (evt.stopPropagation)\r\n            evt.stopPropagation();\r\n        if (evt.preventDefault)\r\n            evt.preventDefault();\r\n        if (Browser_1.Browser.WebKitFamily)\r\n            evt.returnValue = false;\r\n        this.ganttView.ganttOwner.showPopupMenu(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\r\n    };\r\n    TaskAreaManager.prototype.getClickedTaskIndex = function (evt) {\r\n        var y = DomUtils_1.DomUtils.getEventY(evt);\r\n        var taskAreaY = DomUtils_1.DomUtils.getAbsolutePositionY(this.ganttView.taskArea);\r\n        var relativeY = y - taskAreaY;\r\n        return Math.floor(relativeY / this.ganttView.tickSize.height);\r\n    };\r\n    TaskAreaManager.prototype.onTaskElementHover = function (evt) {\r\n        var hoveredTaskIndex = this.getClickedTaskIndex(evt);\r\n        this.ganttView.taskEditController.show(hoveredTaskIndex);\r\n    };\r\n    TaskAreaManager.prototype.changeTaskSelection = function (index) {\r\n        var clickedTask = this.ganttView.viewModel.items[index];\r\n        if (clickedTask) {\r\n            this.ganttView.unselectCurrentSelectedTask();\r\n            this.ganttView.ganttOwner.changeGanttTaskSelection(clickedTask.task.id, true);\r\n            this.ganttView.selectTask(clickedTask.task.internalId);\r\n        }\r\n    };\r\n    TaskAreaManager.prototype.onTaskAreaClick = function (evt) {\r\n        var now = new Date(Date.now());\r\n        var clickedTaskIndex = this.getClickedTaskIndex(evt);\r\n        if (this.time && now.getTime() - this.time.getTime() < TaskAreaManager.DBLCLICK_INTERVAL) {\r\n            var clickedTask = this.ganttView.viewModel.items[clickedTaskIndex];\r\n            this.ganttView.commandManager.showTaskEditDialog.execute(clickedTask.task);\r\n        }\r\n        this.time = now;\r\n    };\r\n    TaskAreaManager.prototype.isConnectorLine = function (evt) {\r\n        var source = DomUtils_1.DomUtils.getEventSource(evt);\r\n        return DomUtils_1.DomUtils.getClassNameList(source).indexOf(GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL) >= 0 ||\r\n            DomUtils_1.DomUtils.getClassNameList(source).indexOf(GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL) >= 0;\r\n    };\r\n    TaskAreaManager.DBLCLICK_INTERVAL = 300;\r\n    return TaskAreaManager;\r\n}());\r\nexports.TaskAreaManager = TaskAreaManager;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem = (function () {\r\n    function HistoryItem(modelManipulator) {\r\n        this.modelManipulator = modelManipulator;\r\n    }\r\n    return HistoryItem;\r\n}());\r\nexports.HistoryItem = HistoryItem;\r\nvar CompositionHistoryItem = (function (_super) {\r\n    __extends(CompositionHistoryItem, _super);\r\n    function CompositionHistoryItem() {\r\n        var _this = _super.call(this, null) || this;\r\n        _this.historyItems = [];\r\n        return _this;\r\n    }\r\n    CompositionHistoryItem.prototype.redo = function () {\r\n        var item;\r\n        for (var i = 0; item = this.historyItems[i]; i++)\r\n            item.redo();\r\n    };\r\n    CompositionHistoryItem.prototype.undo = function () {\r\n        var item;\r\n        for (var i = this.historyItems.length - 1; item = this.historyItems[i]; i--)\r\n            item.undo();\r\n    };\r\n    CompositionHistoryItem.prototype.add = function (historyItem) {\r\n        if (historyItem == null)\r\n            throw new Error(\"Can't add null HistoryItem\");\r\n        this.historyItems.push(historyItem);\r\n    };\r\n    return CompositionHistoryItem;\r\n}(HistoryItem));\r\nexports.CompositionHistoryItem = CompositionHistoryItem;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DateRange = (function () {\r\n    function DateRange(start, end) {\r\n        this.start = start;\r\n        this.end = end;\r\n    }\r\n    return DateRange;\r\n}());\r\nexports.DateRange = DateRange;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar DayOfWeek_1 = __webpack_require__(47);\r\nvar DayOfWeekMonthlyOccurrence_1 = __webpack_require__(25);\r\nvar Month_1 = __webpack_require__(48);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar RecurrenceFactory_1 = __webpack_require__(26);\r\nvar RecurrenceBase = (function (_super) {\r\n    __extends(RecurrenceBase, _super);\r\n    function RecurrenceBase(start, end, interval, occurrenceCount) {\r\n        if (start === void 0) { start = null; }\r\n        if (end === void 0) { end = null; }\r\n        if (interval === void 0) { interval = 1; }\r\n        if (occurrenceCount === void 0) { occurrenceCount = 0; }\r\n        var _this = _super.call(this) || this;\r\n        _this._start = null;\r\n        _this._end = null;\r\n        _this._interval = 1;\r\n        _this._occurrenceCount = 0;\r\n        _this._dayOfWeek = 0;\r\n        _this._day = 1;\r\n        _this._dayOfWeekOccurrence = 0;\r\n        _this._month = 0;\r\n        _this._calculateByDayOfWeek = false;\r\n        _this.start = start;\r\n        _this.end = end;\r\n        _this.interval = interval;\r\n        _this.occurrenceCount = occurrenceCount;\r\n        return _this;\r\n    }\r\n    RecurrenceBase.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.start = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.start);\r\n            this.end = DateTimeUtils_1.DateTimeUtils.convertToDate(sourceObj.end);\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.interval))\r\n                this.interval = sourceObj.interval;\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.occurrenceCount))\r\n                this.occurrenceCount = sourceObj.occurrenceCount;\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.dayOfWeek))\r\n                this.dayOfWeekInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeek_1.DayOfWeek, sourceObj.dayOfWeek);\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.day))\r\n                this.dayInternal = sourceObj.day;\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.dayOfWeekOccurrence))\r\n                this.dayOfWeekOccurrenceInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence, sourceObj.dayOfWeekOccurrence);\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.month))\r\n                this.monthInternal = RecurrenceFactory_1.RecurrenceFactory.getEnumValue(Month_1.Month, sourceObj.month);\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.calculateByDayOfWeek))\r\n                this._calculateByDayOfWeek = !!sourceObj.calculateByDayOfWeek;\r\n        }\r\n    };\r\n    RecurrenceBase.prototype.calculatePoints = function (start, end) {\r\n        if (!start || !end)\r\n            return new Array();\r\n        var from = DateTimeUtils_1.DateTimeUtils.getMaxDate(start, this._start);\r\n        var to = DateTimeUtils_1.DateTimeUtils.getMinDate(end, this._end);\r\n        if (this._occurrenceCount > 0)\r\n            return this.calculatePointsByOccurrenceCount(from, to);\r\n        return this.calculatePointsByDateRange(from, to);\r\n    };\r\n    RecurrenceBase.prototype.calculatePointsByOccurrenceCount = function (start, end) {\r\n        var points = new Array();\r\n        var point = this.getFirstPoint(start);\r\n        while (!!point && points.length < this._occurrenceCount && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\r\n            if (this.isRecurrencePoint(point))\r\n                points.push(point);\r\n            point = this.getNextPoint(point);\r\n        }\r\n        return points;\r\n    };\r\n    RecurrenceBase.prototype.calculatePointsByDateRange = function (start, end) {\r\n        var points = new Array();\r\n        var point = this.getFirstPoint(start);\r\n        while (!!point && DateTimeUtils_1.DateTimeUtils.compareDates(point, end) >= 0) {\r\n            if (this.isRecurrencePoint(point))\r\n                points.push(point);\r\n            point = this.getNextPoint(point);\r\n        }\r\n        return points;\r\n    };\r\n    RecurrenceBase.prototype.getFirstPoint = function (start) {\r\n        if (this.isRecurrencePoint(start))\r\n            return start;\r\n        return this.getNextPoint(start);\r\n    };\r\n    ;\r\n    RecurrenceBase.prototype.isRecurrencePoint = function (date) {\r\n        return this.isDateInRange(date) && this.checkDate(date) && (!this.useIntervalInCalc() || this.checkInterval(date));\r\n    };\r\n    RecurrenceBase.prototype.isDateInRange = function (date) {\r\n        if (!date)\r\n            return false;\r\n        if (this._start && DateTimeUtils_1.DateTimeUtils.compareDates(this.start, date) < 0)\r\n            return false;\r\n        if (this._occurrenceCount == 0 && this.end && DateTimeUtils_1.DateTimeUtils.compareDates(date, this.end) < 0)\r\n            return false;\r\n        return true;\r\n    };\r\n    RecurrenceBase.prototype.useIntervalInCalc = function () {\r\n        return this.interval > 1 && !!this._start;\r\n    };\r\n    RecurrenceBase.prototype.getNextPoint = function (date) {\r\n        if (!this.isDateInRange(date))\r\n            return null;\r\n        if (this.useIntervalInCalc())\r\n            return this.calculatePointByInterval(date);\r\n        return this.calculateNearestPoint(date);\r\n    };\r\n    ;\r\n    RecurrenceBase.prototype.getSpecDayInMonth = function (year, month) {\r\n        var date;\r\n        if (this._calculateByDayOfWeek)\r\n            date = DateTimeUtils_1.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal, year, month, this.dayOfWeekOccurrenceInternal);\r\n        else\r\n            date = new Date(year, month, this.dayInternal);\r\n        return date;\r\n    };\r\n    Object.defineProperty(RecurrenceBase.prototype, \"dayInternal\", {\r\n        get: function () { return this._day; },\r\n        set: function (value) {\r\n            if (value > 0 && value <= 31)\r\n                this._day = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekInternal\", {\r\n        get: function () { return this._dayOfWeek; },\r\n        set: function (dayOfWeek) {\r\n            if (dayOfWeek >= DayOfWeek_1.DayOfWeek.Sunday && dayOfWeek <= DayOfWeek_1.DayOfWeek.Saturday)\r\n                this._dayOfWeek = dayOfWeek;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"dayOfWeekOccurrenceInternal\", {\r\n        get: function () {\r\n            return this._dayOfWeekOccurrence;\r\n        },\r\n        set: function (value) {\r\n            if (value >= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.First && value <= DayOfWeekMonthlyOccurrence_1.DayOfWeekMonthlyOccurrence.Last)\r\n                this._dayOfWeekOccurrence = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"monthInternal\", {\r\n        get: function () { return this._month; },\r\n        set: function (value) {\r\n            if (value >= Month_1.Month.January && value <= Month_1.Month.December)\r\n                this._month = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"start\", {\r\n        get: function () { return this._start; },\r\n        set: function (date) {\r\n            if (!date)\r\n                return;\r\n            this._start = date;\r\n            if (!!this._end && date > this._end)\r\n                this._end = date;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"end\", {\r\n        get: function () { return this._end; },\r\n        set: function (date) {\r\n            if (!date)\r\n                return;\r\n            this._end = date;\r\n            if (!!this._start && date < this._start)\r\n                this._start = date;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"occurrenceCount\", {\r\n        get: function () { return this._occurrenceCount; },\r\n        set: function (value) {\r\n            if (value < 0)\r\n                value = 0;\r\n            this._occurrenceCount = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(RecurrenceBase.prototype, \"interval\", {\r\n        get: function () { return this._interval; },\r\n        set: function (value) {\r\n            if (value > 0)\r\n                this._interval = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    return RecurrenceBase;\r\n}(DataObject_1.DataObject));\r\nexports.RecurrenceBase = RecurrenceBase;\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Browser = (function () {\r\n    function Browser() {\r\n    }\r\n    Browser.IdentUserAgent = function (userAgent, ignoreDocumentMode) {\r\n        if (ignoreDocumentMode === void 0) { ignoreDocumentMode = false; }\r\n        var browserTypesOrderedList = [\"Mozilla\", \"IE\", \"Firefox\", \"Netscape\", \"Safari\", \"Chrome\", \"Opera\", \"Opera10\", \"Edge\"];\r\n        var defaultBrowserType = \"IE\";\r\n        var defaultPlatform = \"Win\";\r\n        var defaultVersions = { Safari: 2, Chrome: 0.1, Mozilla: 1.9, Netscape: 8, Firefox: 2, Opera: 9, IE: 6, Edge: 12 };\r\n        if (!userAgent || userAgent.length == 0) {\r\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\r\n            return;\r\n        }\r\n        userAgent = userAgent.toLowerCase();\r\n        Browser.indentPlatformMajorVersion(userAgent);\r\n        try {\r\n            var platformIdentStrings = {\r\n                \"Windows\": \"Win\",\r\n                \"Macintosh\": \"Mac\",\r\n                \"Mac OS\": \"Mac\",\r\n                \"Mac_PowerPC\": \"Mac\",\r\n                \"cpu os\": \"MacMobile\",\r\n                \"cpu iphone os\": \"MacMobile\",\r\n                \"Android\": \"Android\",\r\n                \"!Windows Phone\": \"WinPhone\",\r\n                \"!WPDesktop\": \"WinPhone\",\r\n                \"!ZuneWP\": \"WinPhone\"\r\n            };\r\n            var optSlashOrSpace = \"(?:/|\\\\s*)?\";\r\n            var versionString = \"(\\\\d+)(?:\\\\.((?:\\\\d+?[1-9])|\\\\d)0*?)?\";\r\n            var optVersion = \"(?:\" + versionString + \")?\";\r\n            var patterns = {\r\n                Safari: \"applewebkit(?:.*?(?:version/\" + versionString + \"[\\\\.\\\\w\\\\d]*?(?:\\\\s+mobile\\/\\\\S*)?\\\\s+safari))?\",\r\n                Chrome: \"(?:chrome|crios)(?!frame)\" + optSlashOrSpace + optVersion,\r\n                Mozilla: \"mozilla(?:.*rv:\" + optVersion + \".*Gecko)?\",\r\n                Netscape: \"(?:netscape|navigator)\\\\d*/?\\\\s*\" + optVersion,\r\n                Firefox: \"firefox\" + optSlashOrSpace + optVersion,\r\n                Opera: \"(?:opera|\\sopr)\" + optSlashOrSpace + optVersion,\r\n                Opera10: \"opera.*\\\\s*version\" + optSlashOrSpace + optVersion,\r\n                IE: \"msie\\\\s*\" + optVersion,\r\n                Edge: \"edge\" + optSlashOrSpace + optVersion\r\n            };\r\n            var browserType;\r\n            var version = -1;\r\n            for (var i = 0; i < browserTypesOrderedList.length; i++) {\r\n                var browserTypeCandidate = browserTypesOrderedList[i];\r\n                var regExp = new RegExp(patterns[browserTypeCandidate], \"i\");\r\n                if (regExp.compile)\r\n                    regExp.compile(patterns[browserTypeCandidate], \"i\");\r\n                var matches = regExp.exec(userAgent);\r\n                if (matches && matches.index >= 0) {\r\n                    if (browserType == \"IE\" && version >= 11 && browserTypeCandidate == \"Safari\")\r\n                        continue;\r\n                    browserType = browserTypeCandidate;\r\n                    if (browserType == \"Opera10\")\r\n                        browserType = \"Opera\";\r\n                    var tridentPattern = \"trident\" + optSlashOrSpace + optVersion;\r\n                    version = Browser.GetBrowserVersion(userAgent, matches, tridentPattern, Browser.getIECompatibleVersionString());\r\n                    if (browserType == \"Mozilla\" && version >= 11)\r\n                        browserType = \"IE\";\r\n                }\r\n            }\r\n            if (!browserType)\r\n                browserType = defaultBrowserType;\r\n            var browserVersionDetected = version != -1;\r\n            if (!browserVersionDetected)\r\n                version = defaultVersions[browserType];\r\n            var platform;\r\n            var minOccurenceIndex = Number.MAX_VALUE;\r\n            for (var identStr in platformIdentStrings) {\r\n                if (!platformIdentStrings.hasOwnProperty(identStr))\r\n                    continue;\r\n                var importantIdent = identStr.substr(0, 1) == \"!\";\r\n                var occurenceIndex = userAgent.indexOf((importantIdent ? identStr.substr(1) : identStr).toLowerCase());\r\n                if (occurenceIndex >= 0 && (occurenceIndex < minOccurenceIndex || importantIdent)) {\r\n                    minOccurenceIndex = importantIdent ? 0 : occurenceIndex;\r\n                    platform = platformIdentStrings[identStr];\r\n                }\r\n            }\r\n            var samsungPattern = \"SM-[A-Z]\";\r\n            var m = userAgent.toUpperCase().match(samsungPattern);\r\n            var isSamsungAndroidDevice = m && m.length > 0;\r\n            if (platform == \"WinPhone\" && version < 9)\r\n                version = Math.floor(Browser.getVersionFromTrident(userAgent, \"trident\" + optSlashOrSpace + optVersion));\r\n            if (!ignoreDocumentMode && browserType == \"IE\" && version > 7 && document.documentMode < version)\r\n                version = document.documentMode;\r\n            if (platform == \"WinPhone\")\r\n                version = Math.max(9, version);\r\n            if (!platform)\r\n                platform = defaultPlatform;\r\n            if (platform == platformIdentStrings[\"cpu os\"] && !browserVersionDetected)\r\n                version = 4;\r\n            Browser.fillUserAgentInfo(browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice);\r\n        }\r\n        catch (e) {\r\n            Browser.fillUserAgentInfo(browserTypesOrderedList, defaultBrowserType, defaultVersions[defaultBrowserType], defaultPlatform);\r\n        }\r\n    };\r\n    Browser.GetBrowserVersion = function (userAgent, matches, tridentPattern, ieCompatibleVersionString) {\r\n        var version = Browser.getVersionFromMatches(matches);\r\n        if (ieCompatibleVersionString) {\r\n            var versionFromTrident = Browser.getVersionFromTrident(userAgent, tridentPattern);\r\n            if (ieCompatibleVersionString === \"edge\" || parseInt(ieCompatibleVersionString) === versionFromTrident)\r\n                return versionFromTrident;\r\n        }\r\n        return version;\r\n    };\r\n    Browser.getIECompatibleVersionString = function () {\r\n        if (document.compatible) {\r\n            for (var i = 0; i < document.compatible.length; i++)\r\n                if (document.compatible[i].userAgent === \"IE\" && document.compatible[i].version)\r\n                    return document.compatible[i].version.toLowerCase();\r\n        }\r\n        return \"\";\r\n    };\r\n    Browser.fillUserAgentInfo = function (browserTypesOrderedList, browserType, version, platform, isSamsungAndroidDevice) {\r\n        if (isSamsungAndroidDevice === void 0) { isSamsungAndroidDevice = false; }\r\n        for (var i = 0; i < browserTypesOrderedList.length; i++) {\r\n            var type = browserTypesOrderedList[i];\r\n            Browser[type] = type == browserType;\r\n        }\r\n        Browser.Version = Math.floor(10.0 * version) / 10.0;\r\n        Browser.MajorVersion = Math.floor(Browser.Version);\r\n        Browser.WindowsPlatform = platform == \"Win\" || platform == \"WinPhone\";\r\n        Browser.MacOSPlatform = platform == \"Mac\";\r\n        Browser.MacOSMobilePlatform = platform == \"MacMobile\";\r\n        Browser.AndroidMobilePlatform = platform == \"Android\";\r\n        Browser.WindowsPhonePlatform = platform == \"WinPhone\";\r\n        Browser.WebKitFamily = Browser.Safari || Browser.Chrome || Browser.Opera && Browser.MajorVersion >= 15;\r\n        Browser.NetscapeFamily = Browser.Netscape || Browser.Mozilla || Browser.Firefox;\r\n        Browser.HardwareAcceleration = (Browser.IE && Browser.MajorVersion >= 9) || (Browser.Firefox && Browser.MajorVersion >= 4) ||\r\n            (Browser.AndroidMobilePlatform && Browser.Chrome) || (Browser.Chrome && Browser.MajorVersion >= 37) ||\r\n            (Browser.Safari && !Browser.WindowsPlatform) || Browser.Edge || (Browser.Opera && Browser.MajorVersion >= 46);\r\n        Browser.WebKitTouchUI = Browser.MacOSMobilePlatform || Browser.AndroidMobilePlatform;\r\n        var isIETouchUI = Browser.IE && Browser.MajorVersion > 9 && Browser.WindowsPlatform && Browser.UserAgent.toLowerCase().indexOf(\"touch\") >= 0;\r\n        Browser.MSTouchUI = isIETouchUI || (Browser.Edge && !!window.navigator.maxTouchPoints);\r\n        Browser.TouchUI = Browser.WebKitTouchUI || Browser.MSTouchUI;\r\n        Browser.MobileUI = Browser.WebKitTouchUI || Browser.WindowsPhonePlatform;\r\n        Browser.AndroidDefaultBrowser = Browser.AndroidMobilePlatform && !Browser.Chrome;\r\n        Browser.AndroidChromeBrowser = Browser.AndroidMobilePlatform && Browser.Chrome;\r\n        if (isSamsungAndroidDevice)\r\n            Browser.SamsungAndroidDevice = isSamsungAndroidDevice;\r\n        if (Browser.MSTouchUI) {\r\n            var isARMArchitecture = Browser.UserAgent.toLowerCase().indexOf(\"arm;\") > -1;\r\n            Browser.VirtualKeyboardSupported = isARMArchitecture || Browser.WindowsPhonePlatform;\r\n        }\r\n        else {\r\n            Browser.VirtualKeyboardSupported = Browser.WebKitTouchUI;\r\n        }\r\n        Browser.fillDocumentElementBrowserTypeClassNames(browserTypesOrderedList);\r\n    };\r\n    Browser.indentPlatformMajorVersion = function (userAgent) {\r\n        var regex = /(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\\d+)(?:[-0-9_.])*/;\r\n        var matches = regex.exec(userAgent);\r\n        if (matches)\r\n            Browser.PlaformMajorVersion = matches[1];\r\n    };\r\n    Browser.prototype.GetBrowserVersion = function (userAgent, matches, tridentPattern, ieCompatibleVersionString) {\r\n        var version = Browser.getVersionFromMatches(matches);\r\n        if (ieCompatibleVersionString) {\r\n            var versionFromTrident = Browser.getVersionFromTrident(userAgent, tridentPattern);\r\n            if (ieCompatibleVersionString === \"edge\" || parseInt(ieCompatibleVersionString) === versionFromTrident)\r\n                return versionFromTrident;\r\n        }\r\n        return version;\r\n    };\r\n    Browser.getVersionFromMatches = function (matches) {\r\n        var result = -1;\r\n        var versionStr = \"\";\r\n        if (matches[1]) {\r\n            versionStr += matches[1];\r\n            if (matches[2])\r\n                versionStr += \".\" + matches[2];\r\n        }\r\n        if (versionStr != \"\") {\r\n            result = parseFloat(versionStr);\r\n            if (isNaN(result))\r\n                result = -1;\r\n        }\r\n        return result;\r\n    };\r\n    Browser.getVersionFromTrident = function (userAgent, tridentPattern) {\r\n        var tridentDiffFromVersion = 4;\r\n        var matches = new RegExp(tridentPattern, \"i\").exec(userAgent);\r\n        return Browser.getVersionFromMatches(matches) + tridentDiffFromVersion;\r\n    };\r\n    Browser.fillDocumentElementBrowserTypeClassNames = function (browserTypesOrderedList) {\r\n        var documentElementClassName = \"\";\r\n        var browserTypeslist = browserTypesOrderedList.concat([\"WindowsPlatform\", \"MacOSPlatform\", \"MacOSMobilePlatform\", \"AndroidMobilePlatform\",\r\n            \"WindowsPhonePlatform\", \"WebKitFamily\", \"WebKitTouchUI\", \"MSTouchUI\", \"TouchUI\", \"AndroidDefaultBrowser\"]);\r\n        for (var i = 0; i < browserTypeslist.length; i++) {\r\n            var type = browserTypeslist[i];\r\n            if (Browser[type])\r\n                documentElementClassName += \"dx\" + type + \" \";\r\n        }\r\n        documentElementClassName += \"dxBrowserVersion-\" + Browser.MajorVersion;\r\n        if (document && document.documentElement) {\r\n            if (document.documentElement.className != \"\")\r\n                documentElementClassName = \" \" + documentElementClassName;\r\n            document.documentElement.className += documentElementClassName;\r\n            Browser.Info = documentElementClassName;\r\n        }\r\n    };\r\n    Browser.UserAgent = window.navigator.userAgent.toLowerCase();\r\n    Browser._foo = Browser.IdentUserAgent(Browser.UserAgent);\r\n    return Browser;\r\n}());\r\nexports.Browser = Browser;\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CollectionBase_1 = __webpack_require__(6);\r\nvar Resource_1 = __webpack_require__(36);\r\nvar ResourceCollection = (function (_super) {\r\n    __extends(ResourceCollection, _super);\r\n    function ResourceCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceCollection.prototype.createItem = function () { return new Resource_1.Resource(); };\r\n    return ResourceCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.ResourceCollection = ResourceCollection;\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DependencyType;\r\n(function (DependencyType) {\r\n    DependencyType[DependencyType[\"FS\"] = 0] = \"FS\";\r\n    DependencyType[DependencyType[\"SS\"] = 1] = \"SS\";\r\n    DependencyType[DependencyType[\"FF\"] = 2] = \"FF\";\r\n    DependencyType[DependencyType[\"SF\"] = 3] = \"SF\";\r\n})(DependencyType = exports.DependencyType || (exports.DependencyType = {}));\r\nvar Dependency = (function (_super) {\r\n    __extends(Dependency, _super);\r\n    function Dependency() {\r\n        var _this = _super.call(this) || this;\r\n        _this.predecessorId = \"\";\r\n        _this.successorId = \"\";\r\n        _this.type = null;\r\n        return _this;\r\n    }\r\n    Dependency.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.internalId = String(sourceObj.id);\r\n            this.predecessorId = String(sourceObj.predecessorId);\r\n            this.successorId = String(sourceObj.successorId);\r\n            this.type = sourceObj.type;\r\n        }\r\n    };\r\n    return Dependency;\r\n}(DataObject_1.DataObject));\r\nexports.Dependency = Dependency;\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Size = (function () {\r\n    function Size(width, height) {\r\n        this.width = null;\r\n        this.height = null;\r\n        if (width !== undefined)\r\n            this.width = width;\r\n        if (height !== undefined)\r\n            this.height = height;\r\n    }\r\n    return Size;\r\n}());\r\nexports.Size = Size;\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Size_1 = __webpack_require__(15);\r\nvar DateRange_1 = __webpack_require__(10);\r\nvar Enums_1 = __webpack_require__(7);\r\nvar GridElementInfo_1 = __webpack_require__(29);\r\nvar Utils_1 = __webpack_require__(28);\r\nvar Point_1 = __webpack_require__(3);\r\nvar Dependency_1 = __webpack_require__(14);\r\nvar GridLayoutCalculator = (function () {\r\n    function GridLayoutCalculator() {\r\n        this.tileToDependencyMap = [];\r\n        this.tileToNoWorkingIntervalsMap = [];\r\n        this.minLineLength = 10;\r\n        this.resourceMaxWidth = 500;\r\n        this.minTaskWidth = 2;\r\n    }\r\n    GridLayoutCalculator.prototype.setSettings = function (visibleTaskAreaSize, tickSize, elementSizeValues, range, viewModel, viewType, scrollBarHeight) {\r\n        if (scrollBarHeight === void 0) { scrollBarHeight = 0; }\r\n        this.visibleTaskAreaSize = visibleTaskAreaSize;\r\n        this.tickSize = tickSize;\r\n        this.viewType = viewType;\r\n        this.range = range;\r\n        this.verticalTickCount = viewModel.itemCount;\r\n        this.viewModel = viewModel;\r\n        this.elementSizeValues = elementSizeValues;\r\n        this.taskHeight = elementSizeValues.taskHeight;\r\n        this.milestoneWidth = elementSizeValues.milestoneWidth;\r\n        this.scaleHeight = elementSizeValues.scaleItemHeight;\r\n        this.arrowSize = new Size_1.Size(elementSizeValues.connectorArrowWidth, elementSizeValues.connectorArrowWidth);\r\n        this.lineThickness = elementSizeValues.connectorLineThickness;\r\n        this.minConnectorSpaceFromTask = (this.tickSize.height - this.taskHeight) / 2;\r\n        this.tickTimeSpan = Utils_1.DateUtils.getTickTimeSpan(viewType);\r\n        this.horizontalTickCount = this.getTotalTickCount();\r\n        this.scrollBarHeight = scrollBarHeight;\r\n        this.createTileToConnectorLinesMap();\r\n        this.createTileToNonWorkingIntervalsMap();\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskAreaBorderInfo = function (index, isVertical) {\r\n        var sizeValue = isVertical ?\r\n            this.getVerticalGridLineHeight() :\r\n            this.tickSize.width * this.horizontalTickCount;\r\n        return this.getGridBorderInfo(index, isVertical, sizeValue);\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleBorderInfo = function (index, scaleType) {\r\n        var result = this.getGridBorderInfo(index, true, this.scaleHeight);\r\n        result.position.x *= this.getScaleItemColSpan(scaleType);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getGridBorderInfo = function (index, isVertical, size) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.setPosition(this.getGridBorderPosition(index, isVertical));\r\n        if (size)\r\n            result.setSize(this.getGridBorderSize(isVertical, size));\r\n        result.className = isVertical ? \"dx-gantt-vb\" : \"dx-gantt-hb\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getGridBorderPosition = function (index, isVertical) {\r\n        var result = new Point_1.Point();\r\n        var posValue = (index + 1) * (isVertical ? this.tickSize.width : this.tickSize.height);\r\n        if (isVertical)\r\n            result.x = posValue;\r\n        else\r\n            result.y = posValue;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getGridBorderSize = function (isVertical, sizeValue) {\r\n        var result = new Size_1.Size();\r\n        if (isVertical)\r\n            result.height = sizeValue;\r\n        else\r\n            result.width = sizeValue;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleElementInfo = function (index, scaleType) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.setPosition(this.getScaleItemPosition(index, scaleType));\r\n        result.setSize(this.getScaleItemSize(scaleType));\r\n        result.className = this.getScaleItemClassName(scaleType, result, this.getRenderedNoWorkingIntervals(result.position.x));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemClassName = function (scaleType, scaleItemInfo, noWorkingIntervals) {\r\n        var result = \"dx-gantt-si\";\r\n        if (scaleType.valueOf() == this.viewType.valueOf() && this.isScaleItemInsideNoWorkingInterval(scaleItemInfo, noWorkingIntervals))\r\n            result += \" dx-gantt-holiday-scaleItem\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.isScaleItemInsideNoWorkingInterval = function (scaleItemInfo, noWorkingIntervals) {\r\n        var scaleItemLeft = scaleItemInfo.position.x;\r\n        var scaleItemRight = scaleItemInfo.position.x + scaleItemInfo.size.width;\r\n        for (var i = 0; i < noWorkingIntervals.length; i++) {\r\n            var noWorkingIntervalLeft = noWorkingIntervals[i].position.x;\r\n            var noWorkingIntervalRight = noWorkingIntervals[i].position.x + noWorkingIntervals[i].size.width;\r\n            if (scaleItemLeft >= noWorkingIntervalLeft && scaleItemRight <= noWorkingIntervalRight)\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemPosition = function (index, scaleType) {\r\n        return new Point_1.Point(index * this.tickSize.width * this.getScaleItemColSpan(scaleType));\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemSize = function (scaleType) {\r\n        return new Size_1.Size(this.tickSize.width * this.getScaleItemColSpan(scaleType));\r\n    };\r\n    GridLayoutCalculator.prototype.getScaleItemColSpan = function (scaleType) {\r\n        if (scaleType.valueOf() == this.viewType.valueOf())\r\n            return 1;\r\n        if (this.viewType == Enums_1.ViewType.TenMinutes)\r\n            return 6;\r\n        if (this.viewType == Enums_1.ViewType.Hours)\r\n            return 24;\r\n        if (this.viewType == Enums_1.ViewType.SixHours)\r\n            return 4;\r\n        if (this.viewType == Enums_1.ViewType.Days)\r\n            return 7;\r\n        if (this.viewType == Enums_1.ViewType.Weeks)\r\n            return 4.29;\r\n        if (this.viewType == Enums_1.ViewType.Months)\r\n            return 12;\r\n        if (this.viewType == Enums_1.ViewType.Quarter)\r\n            return 4;\r\n        if (this.viewType == Enums_1.ViewType.Years)\r\n            return 5;\r\n        return 1;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperElementInfo = function (index) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = this.getTaskWrapperClassName(index);\r\n        result.setPosition(this.getTaskWrapperPoint(index));\r\n        result.setSize(this.getTaskWrapperSize(index));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperClassName = function (index) {\r\n        var result = \"dx-gantt-taskWrapper\";\r\n        if (this.getTask(index).isMilestone())\r\n            result = \"dx-gantt-milestoneWrapper\";\r\n        if (this.viewModel.items[index].selected)\r\n            result += \" dx-gantt-selectedTask\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperSize = function (index) {\r\n        var resourceCount = this.viewModel.items[index].resources.items.length;\r\n        var resourceWidth = this.resourceMaxWidth * resourceCount;\r\n        var taskWidth = this.getTaskWidth(index);\r\n        var taskPoint = this.getTaskPoint(index);\r\n        var totalWidth = this.tickSize.width * this.horizontalTickCount;\r\n        var resultWidth = Math.min(taskWidth + resourceWidth, totalWidth - taskPoint.x);\r\n        return new Size_1.Size(resultWidth);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWrapperPoint = function (index) {\r\n        var result = new Point_1.Point(this.getPosByDate(this.getTask(index).start), index * this.tickSize.height);\r\n        if (this.getTask(index).isMilestone()) {\r\n            var height = this.getTaskHeight(index);\r\n            result.x -= height / 2;\r\n            result.y += (this.tickSize.height - height) / 2;\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskElementInfo = function (index) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        if (!this.getTask(index).isMilestone())\r\n            result.size.width = this.getTaskWidth(index);\r\n        result.className = this.getTaskClassName(index, result.size.width);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskClassName = function (index, taskWidth) {\r\n        var result = \"dx-gantt-task\";\r\n        if (this.getTask(index).isMilestone())\r\n            result += \" dx-gantt-milestone\";\r\n        else if (taskWidth <= this.elementSizeValues.smallTaskWidth)\r\n            result += \" dx-gantt-smallTask\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskPoint = function (index) {\r\n        var result = this.getTaskWrapperPoint(index);\r\n        if (!this.getTask(index).isMilestone())\r\n            result.y += this.elementSizeValues.taskWrapperTopPadding;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskSize = function (index) {\r\n        return new Size_1.Size(this.getTaskWidth(index), this.getTaskHeight(index));\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskWidth = function (index) {\r\n        var task = this.getTask(index);\r\n        return task.isMilestone() ? this.getTaskHeight(index) : this.getWidthByDateRange(task.start, task.end);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskHeight = function (index) {\r\n        var task = this.getTask(index);\r\n        return task.isMilestone() ? this.milestoneWidth : this.taskHeight;\r\n    };\r\n    GridLayoutCalculator.prototype.getTask = function (index) {\r\n        return this.viewModel.items[index].task;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskProgressElementInfo = function (index) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = \"dx-gantt-tPrg\";\r\n        result.setSize(this.getTaskProgressSize(index));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskProgressSize = function (index) {\r\n        return new Size_1.Size(this.getTaskProgressWidth(index), null);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskProgressWidth = function (index) {\r\n        return this.getTaskWidth(index) * this.getTask(index).progress / 100;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskTextElementInfo = function (index, isInsideText) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = this.getTaskTextElementClassName(isInsideText);\r\n        if (!isInsideText) {\r\n            var taskX = this.getTaskPoint(index).x;\r\n            if (taskX < this.elementSizeValues.outsideTaskTextDefaultWidth) {\r\n                result.size.width = taskX;\r\n                result.margins.marginLeft = -taskX;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskTextElementClassName = function (isInsideText) {\r\n        var result = \"dx-gantt-taskTitle\";\r\n        result += (isInsideText ? \" dx-gantt-titleIn\" : \" dx-gantt-titleOut\");\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskResourceElementInfo = function () {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = \"dx-gantt-taskRes\";\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getSelectionElementInfo = function (index) {\r\n        return this.getRowElementInfo(index, \"dx-gantt-sel\");\r\n    };\r\n    GridLayoutCalculator.prototype.getSelectionPosition = function (index) {\r\n        var result = new Point_1.Point();\r\n        result.y = index * this.tickSize.height;\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getSelectionSize = function () {\r\n        return new Size_1.Size(this.tickSize.width * this.horizontalTickCount, this.tickSize.height);\r\n    };\r\n    GridLayoutCalculator.prototype.getHighlightRowInfo = function (index) {\r\n        return this.getRowElementInfo(index, \"dx-gantt-altRow\");\r\n    };\r\n    GridLayoutCalculator.prototype.getRowElementInfo = function (index, className) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = className;\r\n        result.setPosition(this.getSelectionPosition(index));\r\n        result.setSize(this.getSelectionSize());\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getNoWorkingIntervalInfo = function (noWorkingDateRange) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        result.className = \"dx-gantt-nwi\";\r\n        result.setPosition(this.getNoWorkingIntervalPosition(noWorkingDateRange.start));\r\n        result.setSize(this.getNoWorkingIntervalSize(noWorkingDateRange));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getNoWorkingIntervalPosition = function (intervalStart) {\r\n        var result = new Point_1.Point();\r\n        result.x = this.getPosByDate(intervalStart);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getNoWorkingIntervalSize = function (noWorkingInterval) {\r\n        return new Size_1.Size(this.getWidthByDateRange(noWorkingInterval.start, noWorkingInterval.end), this.getVerticalGridLineHeight());\r\n    };\r\n    GridLayoutCalculator.prototype.getVerticalGridLineHeight = function () {\r\n        return Math.max(this.visibleTaskAreaSize.height - this.scrollBarHeight, this.tickSize.height * this.verticalTickCount);\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorInfo = function (id, predessorIndex, successorIndex, connectorType) {\r\n        var result = new Array();\r\n        var connectorPoints = this.getConnectorPoints(predessorIndex, successorIndex, connectorType);\r\n        for (var i = 0; i < connectorPoints.length - 1; i++)\r\n            result.push(this.getConnectorLineInfo(id, connectorPoints[i], connectorPoints[i + 1], i == 0 || i == connectorPoints.length - 2));\r\n        result.push(this.getArrowInfo(connectorPoints, result, predessorIndex, successorIndex));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorLineInfo = function (id, startPoint, endPoint, isEdgeLine) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        var isVertical = startPoint.x == endPoint.x;\r\n        result.className = this.getConnectorClassName(isVertical);\r\n        result.setPosition(this.getConnectorPosition(startPoint, endPoint));\r\n        result.setSize(this.getConnectorSize(startPoint, endPoint, isVertical, isEdgeLine));\r\n        result.setAttribute(\"dependency-id\", id);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorClassName = function (isVertical) {\r\n        return isVertical ? GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL : GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPosition = function (startPoint, endPoint) {\r\n        return new Point_1.Point(Math.min(startPoint.x, endPoint.x), Math.min(startPoint.y, endPoint.y));\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorSize = function (startPoint, endPoint, isVertical, isEdgeLine) {\r\n        var result = new Size_1.Size();\r\n        var sizeCorrection = isEdgeLine ? 0 : 0;\r\n        if (isVertical)\r\n            result.height = Math.abs(endPoint.y - startPoint.y + sizeCorrection);\r\n        else\r\n            result.width = Math.abs(endPoint.x - startPoint.x + sizeCorrection);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowInfo = function (connectorPoints, connectorLines, predessorIndex, successorIndex) {\r\n        var result = new GridElementInfo_1.GridElementInfo();\r\n        var lineInfo = this.findArrowLineInfo(connectorLines, predessorIndex, successorIndex);\r\n        var arrowPosition = this.getArrowPosition(connectorPoints, predessorIndex, successorIndex);\r\n        result.className = this.getArrowClassName(arrowPosition);\r\n        result.setPosition(this.getArrowPoint(lineInfo, arrowPosition));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.findArrowLineInfo = function (connectorLines, predessorIndex, successorIndex) {\r\n        var arrowLineIndex = predessorIndex < successorIndex ? connectorLines.length - 1 : 0;\r\n        return connectorLines[arrowLineIndex];\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowPosition = function (connectorPoints, predessorIndex, successorIndex) {\r\n        var prevLastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 2 : 1];\r\n        var lastPoint = connectorPoints[predessorIndex < successorIndex ? connectorPoints.length - 1 : 0];\r\n        if (prevLastPoint.x == lastPoint.x)\r\n            return prevLastPoint.y > lastPoint.y ? Enums_1.Position.Top : Enums_1.Position.Bottom;\r\n        return prevLastPoint.x > lastPoint.x ? Enums_1.Position.Left : Enums_1.Position.Right;\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowClassName = function (arrowPosition) {\r\n        var result = \"dx-gantt-arrow\";\r\n        switch (arrowPosition) {\r\n            case Enums_1.Position.Left:\r\n                result += \" dx-gantt-LA\";\r\n                break;\r\n            case Enums_1.Position.Top:\r\n                result += \" dx-gantt-TA\";\r\n                break;\r\n            case Enums_1.Position.Right:\r\n                result += \" dx-gantt-RA\";\r\n                break;\r\n            case Enums_1.Position.Bottom:\r\n                result += \" dx-gantt-BA\";\r\n                break;\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowPoint = function (lineInfo, arrowPosition) {\r\n        return new Point_1.Point(this.getArrowX(lineInfo, arrowPosition), this.getArrowY(lineInfo, arrowPosition));\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowX = function (lineInfo, arrowPosition) {\r\n        switch (arrowPosition) {\r\n            case Enums_1.Position.Left:\r\n                return lineInfo.position.x - this.arrowSize.width / 2;\r\n            case Enums_1.Position.Right:\r\n                return lineInfo.position.x + lineInfo.size.width - this.arrowSize.width / 2;\r\n            case Enums_1.Position.Top:\r\n            case Enums_1.Position.Bottom:\r\n                return lineInfo.position.x - (this.arrowSize.width - this.lineThickness) / 2;\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getArrowY = function (lineInfo, arrowPosition) {\r\n        switch (arrowPosition) {\r\n            case Enums_1.Position.Top:\r\n                return lineInfo.position.y - this.arrowSize.height / 2;\r\n            case Enums_1.Position.Bottom:\r\n                return lineInfo.position.y + lineInfo.size.height - this.arrowSize.height / 2;\r\n            case Enums_1.Position.Left:\r\n            case Enums_1.Position.Right:\r\n                return lineInfo.position.y - (this.arrowSize.height - this.lineThickness) / 2;\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getPosByDate = function (date) {\r\n        return this.getWidthByDateRange(this.range.start, date);\r\n    };\r\n    GridLayoutCalculator.prototype.getWidthByDateRange = function (start, end) {\r\n        var width = this.getRangeTickCount(start, end) * this.tickSize.width;\r\n        return Math.max(width, this.minTaskWidth);\r\n    };\r\n    GridLayoutCalculator.prototype.getRangeTickCount = function (start, end) {\r\n        if (this.viewType == Enums_1.ViewType.Months)\r\n            return this.getRangeTickCountInMonthsViewType(start, end);\r\n        if (this.viewType == Enums_1.ViewType.Quarter)\r\n            return this.getRangeTickCountInQuarterViewType(start, end);\r\n        return (end.getTime() - start.getTime()) / this.tickTimeSpan;\r\n    };\r\n    GridLayoutCalculator.prototype.getRangeTickCountInMonthsViewType = function (start, end) {\r\n        var startMonthStartDate = new Date(start.getFullYear(), start.getMonth(), 1);\r\n        var endMonthStartDate = new Date(end.getFullYear(), end.getMonth(), 1);\r\n        var monthOffset = Utils_1.DateUtils.getOffsetInMonths(startMonthStartDate, endMonthStartDate);\r\n        var endFromMonthStartDateOffset = end.getTime() - endMonthStartDate.getTime();\r\n        var startFromMonthStartDateOffset = start.getTime() - startMonthStartDate.getTime();\r\n        return monthOffset + (endFromMonthStartDateOffset - startFromMonthStartDateOffset) / Utils_1.DateUtils.msPerMonth;\r\n    };\r\n    GridLayoutCalculator.prototype.getRangeTickCountInQuarterViewType = function (start, end) {\r\n        var startQuarterStartDate = new Date(start.getFullYear(), Math.floor(start.getMonth() / 3) * 3, 1);\r\n        var endQuarterStartDate = new Date(end.getFullYear(), Math.floor(end.getMonth() / 3) * 3, 1);\r\n        var quarterOffset = Utils_1.DateUtils.getOffsetInQuarters(startQuarterStartDate, endQuarterStartDate);\r\n        var endFromQuarterStartDateOffset = end.getTime() - endQuarterStartDate.getTime();\r\n        var startFromQuarterStartDateOffset = start.getTime() - startQuarterStartDate.getTime();\r\n        return quarterOffset + (endFromQuarterStartDateOffset - startFromQuarterStartDateOffset) / (Utils_1.DateUtils.msPerMonth * 3);\r\n    };\r\n    GridLayoutCalculator.prototype.getDateByPos = function (position) {\r\n        var preResult = position / this.tickSize.width;\r\n        var start = new Date(this.range.start);\r\n        if (this.viewType == Enums_1.ViewType.Months || this.viewType == Enums_1.ViewType.Quarter) {\r\n            var monthFromStart = Math.floor(preResult);\r\n            start = new Date(start.setMonth(start.getMonth() + (this.viewType == Enums_1.ViewType.Months ? monthFromStart : monthFromStart * 3)));\r\n            preResult = (position - this.getPosByDate(start)) / this.tickSize.width;\r\n        }\r\n        var time = preResult * this.tickTimeSpan + start.getTime();\r\n        var result = new Date();\r\n        result.setTime(time);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTotalTickCount = function () {\r\n        return this.getRangeTickCount(this.range.start, this.range.end);\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints = function (predessorIndex, successorIndex, connectorType) {\r\n        switch (connectorType) {\r\n            case (Dependency_1.DependencyType.FS):\r\n                return this.getFinishToStartConnectorPoints(predessorIndex, successorIndex);\r\n            case (Dependency_1.DependencyType.SF):\r\n                return this.getStartToFinishConnectorPoints(predessorIndex, successorIndex);\r\n            case (Dependency_1.DependencyType.SS):\r\n                return this.getStartToStartConnectorPoints(predessorIndex, successorIndex);\r\n            case (Dependency_1.DependencyType.FF):\r\n                return this.getFinishToFinishConnectorPoints(predessorIndex, successorIndex);\r\n            default:\r\n                return new Array();\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getFinishToStartConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex) {\r\n            if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start)\r\n                return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(predessorIndex, successorIndex, false);\r\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(predessorIndex, successorIndex, false);\r\n        }\r\n        else {\r\n            if (this.getTask(predessorIndex).end <= this.getTask(successorIndex).start)\r\n                return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(successorIndex, predessorIndex, false);\r\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(successorIndex, predessorIndex, true);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getFinishToFinishConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex) {\r\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(predessorIndex, successorIndex);\r\n        }\r\n        else {\r\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(successorIndex, predessorIndex);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getStartToStartConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex) {\r\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(predessorIndex, successorIndex);\r\n        }\r\n        else {\r\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(successorIndex, predessorIndex);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getStartToFinishConnectorPoints = function (predessorIndex, successorIndex) {\r\n        if (predessorIndex < successorIndex) {\r\n            if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end)\r\n                return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(predessorIndex, successorIndex, true);\r\n            return this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(predessorIndex, successorIndex, false);\r\n        }\r\n        else {\r\n            if (this.getTask(predessorIndex).start >= this.getTask(successorIndex).end)\r\n                return this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\r\n            return this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(successorIndex, predessorIndex, true);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\r\n        var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\r\n        result.push(new Point_1.Point(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, bottomTaskTopCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\r\n        result.push(new Point_1.Point(Math.max(topTaskRightCenter.x, bottomTaskRightCenter.x) + this.minLineLength, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, bottomTaskRightCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskRightCenter = this.getTaskRightCenter(topTaskPoint, topTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new Point_1.Point(topTaskRightCenter.x, topTaskRightCenter.y));\r\n        result.push(new Point_1.Point(result[0].x + this.minLineLength, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, shiftToTop ?\r\n            topTaskBottomCenter.y + this.minConnectorSpaceFromTask\r\n            : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask));\r\n        result.push(new Point_1.Point(bottomTaskLeftCenter.x - this.minLineLength, result[2].y));\r\n        result.push(new Point_1.Point(result[3].x, bottomTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\r\n        var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new Point_1.Point(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent, topTaskBottomCenter.y));\r\n        result.push(new Point_1.Point(result[0].x, bottomTaskRightCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex, shiftStartPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var isTopMilestone = this.getTask(topTaskIndex).isMilestone();\r\n        var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var startPointIndent = shiftStartPointToRight ? this.getTaskWidth(topTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new Point_1.Point(isTopMilestone ? topTaskBottomCenter.x : topTaskPoint.x + startPointIndent, topTaskBottomCenter.y));\r\n        result.push(new Point_1.Point(result[0].x, bottomTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide = function (topTaskIndex, bottomTaskIndex, shiftEndPointToRight) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var isBottomMilestone = this.getTask(bottomTaskIndex).isMilestone();\r\n        var endPointIndent = shiftEndPointToRight ? this.getTaskWidth(bottomTaskIndex) - this.minLineLength : this.minLineLength;\r\n        result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(isBottomMilestone ? bottomTaskTopCenter.x : bottomTaskPoint.x + endPointIndent, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, bottomTaskTopCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide = function (topTaskIndex, bottomTaskIndex, shiftToTop) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\r\n        var topTaskBottomCenter = this.getTaskBottomCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskRightCenter = this.getTaskRightCenter(bottomTaskPoint, bottomTaskIndex);\r\n        var bottomTaskTopCenter = this.getTaskTopCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(result[0].x - this.minLineLength, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, shiftToTop ?\r\n            topTaskBottomCenter.y + this.minConnectorSpaceFromTask\r\n            : bottomTaskTopCenter.y - this.minConnectorSpaceFromTask));\r\n        result.push(new Point_1.Point(bottomTaskRightCenter.x + this.minLineLength, result[2].y));\r\n        result.push(new Point_1.Point(result[3].x, bottomTaskRightCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskRightCenter.x, bottomTaskRightCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide = function (topTaskIndex, bottomTaskIndex) {\r\n        var result = new Array();\r\n        var topTaskPoint = this.getTaskPoint(topTaskIndex);\r\n        var bottomTaskPoint = this.getTaskPoint(bottomTaskIndex);\r\n        var topTaskLeftCenter = this.getTaskLeftCenter(topTaskPoint, topTaskIndex);\r\n        var bottomTaskLeftCenter = this.getTaskLeftCenter(bottomTaskPoint, bottomTaskIndex);\r\n        result.push(new Point_1.Point(topTaskLeftCenter.x, topTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(Math.min(topTaskLeftCenter.x, bottomTaskLeftCenter.x) - this.minLineLength, result[0].y));\r\n        result.push(new Point_1.Point(result[1].x, bottomTaskLeftCenter.y));\r\n        result.push(new Point_1.Point(bottomTaskLeftCenter.x, bottomTaskLeftCenter.y));\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskLeftCenter = function (taskPoint, index) {\r\n        return new Point_1.Point(taskPoint.x - this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskRightCenter = function (taskPoint, index) {\r\n        return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) + this.getTaskEdgeCorrection(index), taskPoint.y + this.getTaskHeight(index) / 2);\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskTopCenter = function (taskPoint, index) {\r\n        return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y - this.getTaskEdgeCorrection(index));\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskBottomCenter = function (taskPoint, index) {\r\n        return new Point_1.Point(taskPoint.x + this.getTaskWidth(index) / 2, taskPoint.y + this.getTaskHeight(index) + this.getTaskEdgeCorrection(index));\r\n    };\r\n    GridLayoutCalculator.prototype.getTaskEdgeCorrection = function (index) {\r\n        var isMilestone = this.viewModel.items[index].task.isMilestone();\r\n        return isMilestone ? this.getTaskHeight(index) * (Math.sqrt(2) - 1) / 2 : 0;\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedRowColumnIndices = function (scrollPos, isVertical) {\r\n        var visibleAreaSizeValue = isVertical ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\r\n        var tickSizeValue = isVertical ? this.tickSize.height : this.tickSize.width;\r\n        var tickCount = isVertical ? this.verticalTickCount : this.horizontalTickCount;\r\n        var firstVisibleIndex = this.getFirstVisibleGridCellIndex(scrollPos, tickSizeValue);\r\n        var lastVisibleIndex = this.getLastVisibleGridCellIndex(scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount);\r\n        var result = new Array();\r\n        for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++)\r\n            result.push(i);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedScaleItemIndices = function (scaleType, renderedColIndices) {\r\n        var scaleItemColSpan = this.getScaleItemColSpan(scaleType);\r\n        var firstVisibleIndex = Math.floor(renderedColIndices[0] / scaleItemColSpan);\r\n        var lastVisibleIndex = Math.floor(renderedColIndices[renderedColIndices.length - 1] / scaleItemColSpan);\r\n        var result = new Array();\r\n        for (var i = firstVisibleIndex; i <= lastVisibleIndex; i++)\r\n            result.push(i);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getFirstVisibleGridCellIndex = function (scrollPos, tickSizeValue) {\r\n        var result = Math.floor(scrollPos / tickSizeValue);\r\n        result = Math.max(result - 10, 0);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.getLastVisibleGridCellIndex = function (scrollPos, tickSizeValue, visibleAreaSizeValue, tickCount) {\r\n        var result = Math.floor((scrollPos + visibleAreaSizeValue) / tickSizeValue);\r\n        result = Math.min(result + 10, tickCount - 1);\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.prototype.createTileToConnectorLinesMap = function () {\r\n        var _this = this;\r\n        this.tileToDependencyMap = [];\r\n        for (var i = 0; i < this.viewModel.items.length; i++) {\r\n            for (var j = 0; j < this.viewModel.items[i].dependencies.length; j++) {\r\n                var predessorIndex = this.viewModel.items[i].dependencies[j].predecessor.visibleIndex;\r\n                var successorIndex = this.viewModel.items[i].visibleIndex;\r\n                var type = this.viewModel.items[i].dependencies[j].type;\r\n                var id = this.viewModel.items[i].dependencies[j].id;\r\n                var connectorInfo = this.getConnectorInfo(id, predessorIndex, successorIndex, type);\r\n                connectorInfo.forEach(function (connectorLine) {\r\n                    _this.addElementInfoToTileMap(connectorLine, _this.tileToDependencyMap, true);\r\n                });\r\n            }\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.createTileToNonWorkingIntervalsMap = function () {\r\n        this.tileToNoWorkingIntervalsMap = [];\r\n        for (var i = 0; i < this.viewModel.noWorkingIntervals.length; i++) {\r\n            var noWorkingDateRange = this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[i]);\r\n            if (!noWorkingDateRange)\r\n                continue;\r\n            var noWorkingIntervalInfo = this.getNoWorkingIntervalInfo(noWorkingDateRange);\r\n            this.addElementInfoToTileMap(noWorkingIntervalInfo, this.tileToNoWorkingIntervalsMap, false);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getAdjustedNoWorkingInterval = function (modelInterval) {\r\n        if (modelInterval.end.getTime() - modelInterval.start.getTime() < this.tickTimeSpan - 1)\r\n            return null;\r\n        return new DateRange_1.DateRange(Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.start, this.range, this.tickTimeSpan, this.viewType), Utils_1.DateUtils.getNearestScaleTickDate(modelInterval.end, this.range, this.tickTimeSpan, this.viewType));\r\n    };\r\n    GridLayoutCalculator.prototype.addElementInfoToTileMap = function (info, map, isVerticalTile) {\r\n        var infoPointValue = isVerticalTile ? info.position.y : info.position.x;\r\n        var infoSizeValue = isVerticalTile ? info.size.height : info.size.width;\r\n        var tileSizeValue = (isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width) * 2;\r\n        var firstTileIndex = Math.floor(infoPointValue / tileSizeValue);\r\n        var lastTileIndex = Math.floor((infoPointValue + infoSizeValue) / tileSizeValue);\r\n        for (var i = firstTileIndex; i <= lastTileIndex; i++) {\r\n            if (!map[i])\r\n                map[i] = new Array();\r\n            map[i].push(info);\r\n        }\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedConnectorLines = function (scrollPos) {\r\n        return this.getElementsInRenderedTiles(this.tileToDependencyMap, true, scrollPos);\r\n    };\r\n    GridLayoutCalculator.prototype.getRenderedNoWorkingIntervals = function (scrollPos) {\r\n        return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap, false, scrollPos);\r\n    };\r\n    GridLayoutCalculator.prototype.getElementsInRenderedTiles = function (map, isVerticalTile, scrollPos) {\r\n        var visibleAreaSizeValue = isVerticalTile ? this.visibleTaskAreaSize.height : this.visibleTaskAreaSize.width;\r\n        var firstVisibleTileIndex = Math.floor(scrollPos / (visibleAreaSizeValue * 2));\r\n        var lastVisibleTileIndex = Math.floor((scrollPos + visibleAreaSizeValue) / (visibleAreaSizeValue * 2));\r\n        var result = new Array();\r\n        for (var i = firstVisibleTileIndex; i <= lastVisibleTileIndex; i++) {\r\n            if (!map[i])\r\n                continue;\r\n            map[i].forEach(function (info) {\r\n                if (result.indexOf(info) == -1)\r\n                    result.push(info);\r\n            });\r\n        }\r\n        return result;\r\n    };\r\n    GridLayoutCalculator.CLASSNAMES = {\r\n        CONNECTOR_VERTICAL: \"dx-gantt-conn-v\",\r\n        CONNECTOR_HORIZONTAL: \"dx-gantt-conn-h\"\r\n    };\r\n    return GridLayoutCalculator;\r\n}());\r\nexports.GridLayoutCalculator = GridLayoutCalculator;\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItemState_1 = __webpack_require__(58);\r\nvar BaseManipulator = (function () {\r\n    function BaseManipulator(viewModel, dispatcher) {\r\n        this.viewModel = viewModel;\r\n        this.dispatcher = dispatcher;\r\n    }\r\n    return BaseManipulator;\r\n}());\r\nexports.BaseManipulator = BaseManipulator;\r\nvar TaskPropertiesManipulator = (function (_super) {\r\n    __extends(TaskPropertiesManipulator, _super);\r\n    function TaskPropertiesManipulator(viewModel, dispatcher) {\r\n        var _this = _super.call(this, viewModel, dispatcher) || this;\r\n        _this.title = new TaskTitleManipulator(viewModel, dispatcher);\r\n        _this.description = new TaskDescriptionManipulator(viewModel, dispatcher);\r\n        _this.progress = new TaskProgressManipulator(viewModel, dispatcher);\r\n        _this.start = new TaskStartDateManipulator(viewModel, dispatcher);\r\n        _this.end = new TaskEndDateManipulator(viewModel, dispatcher);\r\n        return _this;\r\n    }\r\n    return TaskPropertiesManipulator;\r\n}(BaseManipulator));\r\nexports.TaskPropertiesManipulator = TaskPropertiesManipulator;\r\nvar TaskPropertyManipulator = (function (_super) {\r\n    __extends(TaskPropertyManipulator, _super);\r\n    function TaskPropertyManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskPropertyManipulator.prototype.setValue = function (id, newValue) {\r\n        var task = this.viewModel.tasks.getItemById(id);\r\n        var oldState = new HistoryItemState_1.HistoryItemState(id, this.getPropertyValue(task));\r\n        this.setPropertyValue(task, newValue);\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return oldState;\r\n    };\r\n    TaskPropertyManipulator.prototype.restoreValue = function (state) {\r\n        if (!state)\r\n            return;\r\n        var stateValue = state.value;\r\n        var task = this.viewModel.tasks.getItemById(state.taskId);\r\n        this.setPropertyValue(task, stateValue);\r\n        this.viewModel.owner.resetAndUpdate();\r\n    };\r\n    return TaskPropertyManipulator;\r\n}(BaseManipulator));\r\nexports.TaskPropertyManipulator = TaskPropertyManipulator;\r\nvar TaskTitleManipulator = (function (_super) {\r\n    __extends(TaskTitleManipulator, _super);\r\n    function TaskTitleManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskTitleManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.title;\r\n    };\r\n    TaskTitleManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.title = value;\r\n        this.dispatcher.notifyTaskTitleChanged(task.id, value);\r\n    };\r\n    return TaskTitleManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskDescriptionManipulator = (function (_super) {\r\n    __extends(TaskDescriptionManipulator, _super);\r\n    function TaskDescriptionManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDescriptionManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.description;\r\n    };\r\n    TaskDescriptionManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.description = value;\r\n        this.dispatcher.notifyTaskDescriptionChanged(task.id, value);\r\n    };\r\n    return TaskDescriptionManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskProgressManipulator = (function (_super) {\r\n    __extends(TaskProgressManipulator, _super);\r\n    function TaskProgressManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskProgressManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.progress;\r\n    };\r\n    TaskProgressManipulator.prototype.setPropertyValue = function (task, value) {\r\n        value = value < 0 ? 0 : value > 100 ? 100 : value;\r\n        task.progress = value;\r\n        this.dispatcher.notifyTaskProgressChanged(task.id, value);\r\n    };\r\n    return TaskProgressManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskStartDateManipulator = (function (_super) {\r\n    __extends(TaskStartDateManipulator, _super);\r\n    function TaskStartDateManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskStartDateManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.start;\r\n    };\r\n    TaskStartDateManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.start = value;\r\n        this.dispatcher.notifyTaskStartChanged(task.id, value);\r\n    };\r\n    return TaskStartDateManipulator;\r\n}(TaskPropertyManipulator));\r\nvar TaskEndDateManipulator = (function (_super) {\r\n    __extends(TaskEndDateManipulator, _super);\r\n    function TaskEndDateManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEndDateManipulator.prototype.getPropertyValue = function (task) {\r\n        return task.end;\r\n    };\r\n    TaskEndDateManipulator.prototype.setPropertyValue = function (task, value) {\r\n        task.end = value;\r\n        this.dispatcher.notifyTaskEndChanged(task.id, value);\r\n    };\r\n    return TaskEndDateManipulator;\r\n}(TaskPropertyManipulator));\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HandlerStateBase_1 = __webpack_require__(66);\r\nvar Point_1 = __webpack_require__(3);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerStateBase = (function (_super) {\r\n    __extends(MouseHandlerStateBase, _super);\r\n    function MouseHandlerStateBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerStateBase.prototype.onMouseDoubleClick = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseDown = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseUp = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseMove = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.onMouseWheel = function (_evt) { };\r\n    MouseHandlerStateBase.prototype.getRelativePos = function (absolutePos) {\r\n        var taskAreaX = DomUtils_1.DomUtils.getAbsolutePositionX(this.handler.control.taskArea);\r\n        var taskAreaY = DomUtils_1.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);\r\n        return new Point_1.Point(absolutePos.x - taskAreaX, absolutePos.y - taskAreaY);\r\n    };\r\n    return MouseHandlerStateBase;\r\n}(HandlerStateBase_1.HandlerStateBase));\r\nexports.MouseHandlerStateBase = MouseHandlerStateBase;\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Point_1 = __webpack_require__(3);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerStateBase_1 = __webpack_require__(18);\r\nvar MouseHandlerDragBaseState = (function (_super) {\r\n    __extends(MouseHandlerDragBaseState, _super);\r\n    function MouseHandlerDragBaseState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerDragBaseState.prototype.onMouseDown = function (evt) {\r\n        this.currentPosition = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\r\n    };\r\n    MouseHandlerDragBaseState.prototype.onMouseUp = function (evt) {\r\n        this.onMouseUpInternal(evt);\r\n        this.handler.switchToDefaultState();\r\n    };\r\n    MouseHandlerDragBaseState.prototype.onMouseMove = function (evt) {\r\n        evt.preventDefault();\r\n        var position = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\r\n        this.onMouseMoveInternal(position);\r\n        this.currentPosition = position;\r\n    };\r\n    MouseHandlerDragBaseState.prototype.onMouseUpInternal = function (_evt) { };\r\n    MouseHandlerDragBaseState.prototype.onMouseMoveInternal = function (_position) { };\r\n    return MouseHandlerDragBaseState;\r\n}(MouseHandlerStateBase_1.MouseHandlerStateBase));\r\nexports.MouseHandlerDragBaseState = MouseHandlerDragBaseState;\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem_1 = __webpack_require__(9);\r\nvar InsertDependencyHistoryItem = (function (_super) {\r\n    __extends(InsertDependencyHistoryItem, _super);\r\n    function InsertDependencyHistoryItem(modelManipulator, predecessorId, successorId, type) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.predecessorId = predecessorId;\r\n        _this.successorId = successorId;\r\n        _this.type = type;\r\n        return _this;\r\n    }\r\n    InsertDependencyHistoryItem.prototype.redo = function () {\r\n        this.dependency = this.modelManipulator.dependency.insertDependency(this.predecessorId, this.successorId, this.type, this.dependency ? this.dependency.internalId : null);\r\n    };\r\n    InsertDependencyHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.dependency.removeDependency(this.dependency.internalId);\r\n    };\r\n    return InsertDependencyHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.InsertDependencyHistoryItem = InsertDependencyHistoryItem;\r\nvar RemoveDependencyHistoryItem = (function (_super) {\r\n    __extends(RemoveDependencyHistoryItem, _super);\r\n    function RemoveDependencyHistoryItem(modelManipulator, dependencyId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.dependencyId = dependencyId;\r\n        return _this;\r\n    }\r\n    RemoveDependencyHistoryItem.prototype.redo = function () {\r\n        this.dependency = this.modelManipulator.dependency.removeDependency(this.dependencyId);\r\n    };\r\n    RemoveDependencyHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId, this.dependency.successorId, this.dependency.type, this.dependencyId);\r\n    };\r\n    return RemoveDependencyHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.RemoveDependencyHistoryItem = RemoveDependencyHistoryItem;\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem_1 = __webpack_require__(9);\r\nvar CreateResourceHistoryItem = (function (_super) {\r\n    __extends(CreateResourceHistoryItem, _super);\r\n    function CreateResourceHistoryItem(modelManipulator, text) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.text = text;\r\n        return _this;\r\n    }\r\n    CreateResourceHistoryItem.prototype.redo = function () {\r\n        this.resource = this.modelManipulator.resource.create(this.text, this.resource ? this.resource.internalId : null);\r\n    };\r\n    CreateResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.remove(this.resource.internalId);\r\n    };\r\n    return CreateResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.CreateResourceHistoryItem = CreateResourceHistoryItem;\r\nvar RemoveResourceHistoryItem = (function (_super) {\r\n    __extends(RemoveResourceHistoryItem, _super);\r\n    function RemoveResourceHistoryItem(modelManipulator, resourceId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.resourceId = resourceId;\r\n        return _this;\r\n    }\r\n    RemoveResourceHistoryItem.prototype.redo = function () {\r\n        this.resource = this.modelManipulator.resource.remove(this.resourceId);\r\n    };\r\n    RemoveResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.create(this.resource.text, this.resourceId);\r\n    };\r\n    return RemoveResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.RemoveResourceHistoryItem = RemoveResourceHistoryItem;\r\nvar AssignResourceHistoryItem = (function (_super) {\r\n    __extends(AssignResourceHistoryItem, _super);\r\n    function AssignResourceHistoryItem(modelManipulator, resourceId, taskId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.resourceId = resourceId;\r\n        _this.taskId = taskId;\r\n        return _this;\r\n    }\r\n    AssignResourceHistoryItem.prototype.redo = function () {\r\n        this.assignment = this.modelManipulator.resource.assign(this.resourceId, this.taskId, this.assignment ? this.assignment.internalId : null);\r\n    };\r\n    AssignResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.deassig(this.assignment.internalId);\r\n    };\r\n    return AssignResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.AssignResourceHistoryItem = AssignResourceHistoryItem;\r\nvar DeassignResourceHistoryItem = (function (_super) {\r\n    __extends(DeassignResourceHistoryItem, _super);\r\n    function DeassignResourceHistoryItem(modelManipulator, assignmentId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.assignmentId = assignmentId;\r\n        return _this;\r\n    }\r\n    DeassignResourceHistoryItem.prototype.redo = function () {\r\n        this.assignment = this.modelManipulator.resource.deassig(this.assignmentId);\r\n    };\r\n    DeassignResourceHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.resource.assign(this.assignment.resourceId, this.assignment.taskId, this.assignmentId);\r\n    };\r\n    return DeassignResourceHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.DeassignResourceHistoryItem = DeassignResourceHistoryItem;\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar DialogBase = (function (_super) {\r\n    __extends(DialogBase, _super);\r\n    function DialogBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DialogBase.prototype.executeInternal = function (options) {\r\n        var _this = this;\r\n        var params = this.createParameters(options);\r\n        var initParams = params.clone();\r\n        this.control.ganttOwner.showDialog(this.getDialogName(), params, function (result) {\r\n            if (result)\r\n                _this.applyParameters(result, initParams);\r\n        }, function () {\r\n            _this.afterClosing();\r\n        });\r\n        return true;\r\n    };\r\n    DialogBase.prototype.applyParameters = function (_newParameters, _oldParameters) {\r\n        return false;\r\n    };\r\n    DialogBase.prototype.afterClosing = function () { };\r\n    DialogBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    return DialogBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.DialogBase = DialogBase;\r\nvar DialogParametersBase = (function () {\r\n    function DialogParametersBase() {\r\n    }\r\n    return DialogParametersBase;\r\n}());\r\nexports.DialogParametersBase = DialogParametersBase;\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Time = (function () {\r\n    function Time(h, min, sec, msec) {\r\n        if (h === void 0) { h = 0; }\r\n        if (min === void 0) { min = 0; }\r\n        if (sec === void 0) { sec = 0; }\r\n        if (msec === void 0) { msec = 0; }\r\n        this._hour = 0;\r\n        this._min = 0;\r\n        this._sec = 0;\r\n        this._msec = 0;\r\n        this._fullmsec = 0;\r\n        this.hour = h;\r\n        this.min = min;\r\n        this.sec = sec;\r\n        this.msec = msec;\r\n    }\r\n    Object.defineProperty(Time.prototype, \"hour\", {\r\n        get: function () { return this._hour; },\r\n        set: function (h) {\r\n            if (h >= 0 && h < 24) {\r\n                this._hour = h;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Time.prototype, \"min\", {\r\n        get: function () { return this._min; },\r\n        set: function (m) {\r\n            if (m >= 0 && m < 60) {\r\n                this._min = m;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Time.prototype, \"sec\", {\r\n        get: function () { return this._sec; },\r\n        set: function (s) {\r\n            if (s >= 0 && s < 60) {\r\n                this._sec = s;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Time.prototype, \"msec\", {\r\n        get: function () { return this._msec; },\r\n        set: function (ms) {\r\n            if (ms >= 0 && ms < 1000) {\r\n                this._msec = ms;\r\n                this.updateFullMilleconds();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Time.prototype.updateFullMilleconds = function () {\r\n        var minutes = this._hour * 60 + this._min;\r\n        var sec = minutes * 60 + this._sec;\r\n        this._fullmsec = sec * 1000 + this._msec;\r\n    };\r\n    Time.prototype.getTimeInMilleconds = function () {\r\n        return this._fullmsec;\r\n    };\r\n    return Time;\r\n}());\r\nexports.Time = Time;\r\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar TimeRange = (function () {\r\n    function TimeRange(start, end) {\r\n        var diff = DateTimeUtils_1.DateTimeUtils.caclTimeDifference(start, end);\r\n        if (diff >= 0) {\r\n            this._start = start;\r\n            this._end = end;\r\n        }\r\n        else {\r\n            this._start = end;\r\n            this._end = start;\r\n        }\r\n    }\r\n    ;\r\n    Object.defineProperty(TimeRange.prototype, \"start\", {\r\n        get: function () { return this._start; },\r\n        set: function (time) {\r\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0)\r\n                this._start = time;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TimeRange.prototype, \"end\", {\r\n        get: function () { return this._end; },\r\n        set: function (time) {\r\n            if (time && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0)\r\n                this._end = time;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TimeRange.prototype.isTimeInRange = function (time) {\r\n        return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(this._start, time) >= 0 && DateTimeUtils_1.DateTimeUtils.caclTimeDifference(time, this._end) >= 0;\r\n    };\r\n    TimeRange.prototype.hasIntersect = function (range) {\r\n        return this.isTimeInRange(range.start) || this.isTimeInRange(range.end) || range.isTimeInRange(this.start) || range.isTimeInRange(this.end);\r\n    };\r\n    TimeRange.prototype.concatWith = function (range) {\r\n        if (!this.hasIntersect(range))\r\n            return false;\r\n        ;\r\n        this.start = DateTimeUtils_1.DateTimeUtils.getMinTime(this.start, range.start);\r\n        this.end = DateTimeUtils_1.DateTimeUtils.getMaxTime(this.end, range.end);\r\n        return true;\r\n    };\r\n    return TimeRange;\r\n}());\r\nexports.TimeRange = TimeRange;\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DayOfWeekMonthlyOccurrence;\r\n(function (DayOfWeekMonthlyOccurrence) {\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"First\"] = 0] = \"First\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Second\"] = 1] = \"Second\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Third\"] = 2] = \"Third\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Forth\"] = 3] = \"Forth\";\r\n    DayOfWeekMonthlyOccurrence[DayOfWeekMonthlyOccurrence[\"Last\"] = 4] = \"Last\";\r\n})(DayOfWeekMonthlyOccurrence = exports.DayOfWeekMonthlyOccurrence || (exports.DayOfWeekMonthlyOccurrence = {}));\r\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar Daily_1 = __webpack_require__(27);\r\nvar Weekly_1 = __webpack_require__(49);\r\nvar Monthly_1 = __webpack_require__(50);\r\nvar Yearly_1 = __webpack_require__(52);\r\nvar RecurrenceFactory = (function () {\r\n    function RecurrenceFactory() {\r\n    }\r\n    RecurrenceFactory.createRecurrenceByType = function (type) {\r\n        if (!type)\r\n            return null;\r\n        var correctedType = type.toLowerCase();\r\n        switch (correctedType) {\r\n            case \"daily\":\r\n                return new Daily_1.Daily();\r\n            case \"weekly\":\r\n                return new Weekly_1.Weekly();\r\n            case \"monthly\":\r\n                return new Monthly_1.Monthly();\r\n            case \"yearly\":\r\n                return new Yearly_1.Yearly();\r\n        }\r\n        return null;\r\n    };\r\n    RecurrenceFactory.createRecurrenceFromObject = function (sourceObj) {\r\n        if (!sourceObj)\r\n            return null;\r\n        var recurrence = this.createRecurrenceByType(sourceObj.type);\r\n        if (recurrence)\r\n            recurrence.assignFromObject(sourceObj);\r\n        return recurrence;\r\n    };\r\n    RecurrenceFactory.getEnumValue = function (type, value) {\r\n        if (!Utils_1.JsonUtils.isExists(type[value]))\r\n            return null;\r\n        var num = parseInt(value);\r\n        if (!isNaN(num))\r\n            return num;\r\n        return type[value];\r\n    };\r\n    return RecurrenceFactory;\r\n}());\r\nexports.RecurrenceFactory = RecurrenceFactory;\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RecurrenceBase_1 = __webpack_require__(11);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Daily = (function (_super) {\r\n    __extends(Daily, _super);\r\n    function Daily() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Daily.prototype.checkDate = function (date) { return true; };\r\n    Daily.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval == 0;\r\n    };\r\n    Daily.prototype.calculatePointByInterval = function (date) {\r\n        var daysToAdd = this.interval;\r\n        if (!this.isRecurrencePoint(date))\r\n            daysToAdd -= DateTimeUtils_1.DateTimeUtils.getDaysBetween(this.start, date) % this.interval;\r\n        return DateTimeUtils_1.DateTimeUtils.addDays(date, daysToAdd);\r\n    };\r\n    Daily.prototype.calculateNearestPoint = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.addDays(date, 1);\r\n    };\r\n    return Daily;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Daily = Daily;\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Enums_1 = __webpack_require__(7);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar DateUtils = (function () {\r\n    function DateUtils() {\r\n    }\r\n    DateUtils.getDaysInMonth = function (month, year) {\r\n        var d = new Date(year, month + 1, 0);\r\n        return d.getDate();\r\n    };\r\n    DateUtils.getOffsetInMonths = function (start, end) {\r\n        return (end.getFullYear() - start.getFullYear()) * 12 + end.getMonth() - start.getMonth();\r\n    };\r\n    DateUtils.getOffsetInQuarters = function (start, end) {\r\n        return (end.getFullYear() - start.getFullYear()) * 4 + Math.floor(end.getMonth() / 3) - Math.floor(start.getMonth() / 3);\r\n    };\r\n    DateUtils.getNearestScaleTickDate = function (date, range, tickTimeSpan, viewType) {\r\n        var result = new Date();\r\n        var rangeStartTime = range.start.getTime();\r\n        var rangeEndTime = range.end.getTime();\r\n        result.setTime(date.getTime());\r\n        if (date.getTime() < rangeStartTime)\r\n            result.setTime(rangeStartTime);\r\n        else if (date.getTime() > rangeEndTime)\r\n            result.setTime(rangeEndTime);\r\n        else if (this.needCorrectDate(date, rangeStartTime, tickTimeSpan, viewType)) {\r\n            var nearestLeftTickTime = this.getNearestLeftTickTime(date, rangeStartTime, tickTimeSpan, viewType);\r\n            var nearestRightTickTime = this.getNextTickTime(nearestLeftTickTime, tickTimeSpan, viewType);\r\n            if (Math.abs(date.getTime() - nearestLeftTickTime) > Math.abs(date.getTime() - nearestRightTickTime))\r\n                result.setTime(nearestRightTickTime);\r\n            else\r\n                result.setTime(nearestLeftTickTime);\r\n        }\r\n        return result;\r\n    };\r\n    DateUtils.needCorrectDate = function (date, rangeStartTime, tickTimeSpan, viewType) {\r\n        if (viewType == Enums_1.ViewType.Months)\r\n            return date.getTime() !== new Date(date.getFullYear(), date.getMonth(), 1).getTime();\r\n        return (date.getTime() - rangeStartTime) % tickTimeSpan !== 0;\r\n    };\r\n    DateUtils.getNearestLeftTickTime = function (date, rangeStartTime, tickTimeSpan, viewType) {\r\n        if (viewType == Enums_1.ViewType.Months)\r\n            return new Date(date.getFullYear(), date.getMonth(), 1).getTime();\r\n        var tickCountAtLeft = Math.floor((date.getTime() - rangeStartTime) / tickTimeSpan);\r\n        return rangeStartTime + tickCountAtLeft * tickTimeSpan;\r\n    };\r\n    DateUtils.getNextTickTime = function (currentTickTime, tickTimeSpan, viewType) {\r\n        if (viewType == Enums_1.ViewType.Months) {\r\n            var nextTickDate = new Date();\r\n            nextTickDate.setTime(currentTickTime);\r\n            nextTickDate.setMonth(nextTickDate.getMonth() + 1);\r\n            return nextTickDate.getTime();\r\n        }\r\n        return currentTickTime + tickTimeSpan;\r\n    };\r\n    DateUtils.adjustStartEndDateByViewType = function (date, isStart, viewType) {\r\n        var result = new Date();\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                result = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours());\r\n                if (date.getTime() !== result.getTime() && !isStart)\r\n                    result = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() + 1);\r\n                break;\r\n            case Enums_1.ViewType.SixHours:\r\n            case Enums_1.ViewType.Hours:\r\n                result = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n                if (date.getTime() !== result.getTime() && !isStart)\r\n                    result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);\r\n                break;\r\n            case Enums_1.ViewType.Days:\r\n            case Enums_1.ViewType.Weeks:\r\n                result = new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay());\r\n                if (date.getTime() !== result.getTime() && !isStart)\r\n                    result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 7 - date.getDay());\r\n                break;\r\n            case Enums_1.ViewType.Months:\r\n            case Enums_1.ViewType.Quarter:\r\n            case Enums_1.ViewType.Years:\r\n                result = new Date(date.getFullYear(), 0, 1);\r\n                if (date.getTime() !== result.getTime() && !isStart)\r\n                    result = new Date(date.getFullYear() + 1, 0, 1);\r\n                break;\r\n        }\r\n        return result;\r\n    };\r\n    DateUtils.getTickTimeSpan = function (viewType) {\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return DateUtils.msPerHour / 6;\r\n            case Enums_1.ViewType.Hours:\r\n                return DateUtils.msPerHour;\r\n            case Enums_1.ViewType.SixHours:\r\n                return DateUtils.msPerHour * 6;\r\n            case Enums_1.ViewType.Days:\r\n                return DateUtils.msPerDay;\r\n            case Enums_1.ViewType.Weeks:\r\n                return DateUtils.msPerWeek;\r\n            case Enums_1.ViewType.Months:\r\n                return DateUtils.msPerMonth;\r\n            case Enums_1.ViewType.Quarter:\r\n                return DateUtils.msPerMonth * 3;\r\n            case Enums_1.ViewType.Years:\r\n                return DateUtils.msPerMonth * 12;\r\n        }\r\n    };\r\n    DateUtils.msPerHour = 3600000;\r\n    DateUtils.msPerDay = 24 * DateUtils.msPerHour;\r\n    DateUtils.msPerWeek = 7 * DateUtils.msPerDay;\r\n    DateUtils.msPerMonth = 30 * DateUtils.msPerDay;\r\n    DateUtils.ViewTypeToScaleMap = createViewTypeToScaleMap();\r\n    return DateUtils;\r\n}());\r\nexports.DateUtils = DateUtils;\r\nvar ElementTextHelper = (function () {\r\n    function ElementTextHelper() {\r\n        this.longestAbbrMonthName = null;\r\n        this.longestMonthName = null;\r\n        this.longestAbbrDayName = null;\r\n        var canvas = document.createElement(\"canvas\");\r\n        this.textMeasureContext = canvas.getContext(\"2d\");\r\n    }\r\n    ElementTextHelper.prototype.setFont = function (fontHolder) {\r\n        var computedStyle = DomUtils_1.DomUtils.getCurrentStyle(fontHolder);\r\n        var font = computedStyle.font ? computedStyle.font :\r\n            computedStyle.fontStyle + \" \" + computedStyle.fontVariant + \" \" + computedStyle.fontWeight + \" \"\r\n                + computedStyle.fontSize + \" / \" + computedStyle.lineHeight + \" \" + computedStyle.fontFamily;\r\n        this.textMeasureContext.font = font;\r\n    };\r\n    ElementTextHelper.prototype.setSettings = function (startTime, viewType, modelItems) {\r\n        this.startTime = startTime;\r\n        this.viewType = viewType;\r\n        this.modelItems = modelItems;\r\n    };\r\n    ElementTextHelper.prototype.getScaleItemStartDate = function (index, scaleType) {\r\n        var result = new Date(this.startTime);\r\n        switch (scaleType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                result.setTime(this.startTime + index * DateUtils.msPerHour / 6);\r\n                break;\r\n            case Enums_1.ViewType.Hours:\r\n                result.setTime(this.startTime + index * DateUtils.msPerHour);\r\n                break;\r\n            case Enums_1.ViewType.SixHours:\r\n                result.setTime(this.startTime + index * DateUtils.msPerHour * 6);\r\n                break;\r\n            case Enums_1.ViewType.Days:\r\n                result.setTime(this.startTime + index * DateUtils.msPerDay);\r\n                break;\r\n            case Enums_1.ViewType.Weeks:\r\n                result.setTime(this.startTime + index * DateUtils.msPerWeek);\r\n                break;\r\n            case Enums_1.ViewType.Months:\r\n                result.setMonth(result.getMonth() + index);\r\n                break;\r\n            case Enums_1.ViewType.Quarter:\r\n                result.setMonth(result.getMonth() + index * 3);\r\n                break;\r\n            case Enums_1.ViewType.Years:\r\n                result.setFullYear(result.getFullYear() + index);\r\n                break;\r\n            case Enums_1.ViewType.FiveYears:\r\n                result.setFullYear(result.getFullYear() + index * 5);\r\n                break;\r\n        }\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getScaleItemText = function (index, scaleType) {\r\n        var scaleItemStartDate = this.getScaleItemStartDate(index, scaleType);\r\n        var isViewTypeScale = this.viewType.valueOf() == scaleType.valueOf();\r\n        switch (scaleType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return this.getTenMinutesScaleItemText(scaleItemStartDate);\r\n            case Enums_1.ViewType.Hours:\r\n            case Enums_1.ViewType.SixHours:\r\n                return this.getHoursScaleItemText(scaleItemStartDate);\r\n            case Enums_1.ViewType.Days:\r\n                return this.getDaysScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Weeks:\r\n                return this.getWeeksScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Months:\r\n                return this.getMonthsScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Quarter:\r\n                return this.getQuarterScaleItemText(scaleItemStartDate, isViewTypeScale);\r\n            case Enums_1.ViewType.Years:\r\n                return this.getYearsScaleItemText(scaleItemStartDate);\r\n            case Enums_1.ViewType.FiveYears:\r\n                return this.getFiveYearsScaleItemText(scaleItemStartDate);\r\n        }\r\n    };\r\n    ElementTextHelper.prototype.getTenMinutesScaleItemText = function (scaleItemDate) {\r\n        var minutes = scaleItemDate.getMinutes() + 1;\r\n        return (Math.ceil(minutes / 10) * 10).toString();\r\n    };\r\n    ElementTextHelper.prototype.getThirtyMinutesScaleItemText = function (scaleItemDate) {\r\n        var minutes = scaleItemDate.getMinutes();\r\n        return minutes < 30 ? \"30\" : \"60\";\r\n    };\r\n    ElementTextHelper.prototype.getHoursScaleItemText = function (scaleItemDate) {\r\n        var hours = scaleItemDate.getHours();\r\n        var hourDisplayText = this.getHourDisplayText(hours);\r\n        var amPmText = hours < 12 ? this.getAmText() : this.getPmText();\r\n        return this.getHoursScaleItemTextCore(hourDisplayText, amPmText);\r\n    };\r\n    ElementTextHelper.prototype.getDaysScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        return this.getDayTotalText(scaleItemDate, true, isViewTypeScale, isViewTypeScale, !isViewTypeScale);\r\n    };\r\n    ElementTextHelper.prototype.getWeeksScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        var weekLastDayDate = new Date(scaleItemDate.getTime() + DateUtils.msPerWeek - DateUtils.msPerDay);\r\n        return this.getWeeksScaleItemTextCore(this.getDayTotalText(scaleItemDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale), this.getDayTotalText(weekLastDayDate, isViewTypeScale, true, isViewTypeScale, !isViewTypeScale));\r\n    };\r\n    ElementTextHelper.prototype.getMonthsScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        var monthNames = this.getMonthNames();\r\n        var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\r\n        return this.getMonthsScaleItemTextCore(monthNames[scaleItemDate.getMonth()], yearDisplayText);\r\n    };\r\n    ElementTextHelper.prototype.getQuarterScaleItemText = function (scaleItemDate, isViewTypeScale) {\r\n        var quarterNames = this.getQuarterNames();\r\n        var yearDisplayText = !isViewTypeScale ? scaleItemDate.getFullYear().toString() : \"\";\r\n        return this.getMonthsScaleItemTextCore(quarterNames[Math.floor(scaleItemDate.getMonth() / 3)], yearDisplayText);\r\n    };\r\n    ElementTextHelper.prototype.getYearsScaleItemText = function (scaleItemDate) {\r\n        return scaleItemDate.getFullYear().toString();\r\n    };\r\n    ElementTextHelper.prototype.getFiveYearsScaleItemText = function (scaleItemDate) {\r\n        return scaleItemDate.getFullYear().toString() + \" - \" + (scaleItemDate.getFullYear() + 4).toString();\r\n    };\r\n    ElementTextHelper.prototype.getHourDisplayText = function (hours) {\r\n        if (this.hasAmPm())\r\n            return (hours == 0 ? 12 : (hours <= 12 ? hours : hours - 12)).toString();\r\n        return hours < 10 ? \"0\" + hours : hours.toString();\r\n    };\r\n    ElementTextHelper.prototype.getDayTotalText = function (scaleItemDate, displayDayName, useAbbrDayNames, useAbbrMonthNames, displayYear) {\r\n        var monthNames = useAbbrMonthNames ? this.getAbbrMonthNames() : this.getMonthNames();\r\n        var dayNames = useAbbrDayNames ? this.getAbbrDayNames() : this.getDayNames();\r\n        var dayNameDisplayText = displayDayName ? dayNames[scaleItemDate.getDay()] : \"\";\r\n        var day = scaleItemDate.getDate();\r\n        var monthName = monthNames[scaleItemDate.getMonth()];\r\n        var yearDisplayText = displayYear ? scaleItemDate.getFullYear().toString() : \"\";\r\n        return this.getDayTotalTextCore(dayNameDisplayText, day.toString(), monthName, yearDisplayText);\r\n    };\r\n    ElementTextHelper.prototype.getTaskText = function (index) {\r\n        var item = this.modelItems[index];\r\n        return item ? item.task.title : \"\";\r\n    };\r\n    ElementTextHelper.prototype.getTaskVisibility = function (index) {\r\n        var item = this.modelItems[index];\r\n        return !!item && item.getVisible();\r\n    };\r\n    ElementTextHelper.prototype.hasAmPm = function () {\r\n        return this.getAmText().length > 0 || this.getPmText().length > 0;\r\n    };\r\n    ElementTextHelper.prototype.getScaleItemTextTemplate = function (viewType) {\r\n        switch (viewType) {\r\n            case Enums_1.ViewType.TenMinutes:\r\n                return \"00\";\r\n            case Enums_1.ViewType.Hours:\r\n            case Enums_1.ViewType.SixHours:\r\n                return this.getHoursScaleItemTextCore(\"00\", this.getAmText());\r\n            case Enums_1.ViewType.Days:\r\n                return this.getDayTextTemplate();\r\n            case Enums_1.ViewType.Weeks:\r\n                return this.getWeekTextTemplate();\r\n            case Enums_1.ViewType.Months:\r\n                return this.getMonthsScaleItemTextCore(this.getLongestMonthName(), \"\");\r\n            case Enums_1.ViewType.Quarter:\r\n                return \"Q4\";\r\n            case Enums_1.ViewType.Years:\r\n                return \"0000\";\r\n        }\r\n    };\r\n    ElementTextHelper.prototype.getDayTextTemplate = function () {\r\n        return this.getDayTotalTextCore(this.getLongestAbbrDayName(), \"00\", this.getLongestAbbrMonthName(), \"\");\r\n    };\r\n    ElementTextHelper.prototype.getWeekTextTemplate = function () {\r\n        var dayTextTemplate = this.getDayTextTemplate();\r\n        return this.getWeeksScaleItemTextCore(dayTextTemplate, dayTextTemplate);\r\n    };\r\n    ElementTextHelper.prototype.getHoursScaleItemTextCore = function (hourDisplayText, amPmText) {\r\n        return hourDisplayText + \":00\" + (this.hasAmPm() ? \" \" + amPmText : \"\");\r\n    };\r\n    ElementTextHelper.prototype.getDayTotalTextCore = function (dayName, dayValueString, monthName, yearValueString) {\r\n        var result = dayName.length > 0 ? dayName + \", \" : \"\";\r\n        result += dayValueString + \" \" + monthName;\r\n        result += (yearValueString.length > 0 ? \" \" + yearValueString : \"\");\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getWeeksScaleItemTextCore = function (firstDayOfWeekString, lastDayOfWeekString) {\r\n        return firstDayOfWeekString + \" - \" + lastDayOfWeekString;\r\n    };\r\n    ElementTextHelper.prototype.getMonthsScaleItemTextCore = function (monthName, yearValueString) {\r\n        var result = monthName;\r\n        if (yearValueString.length > 0)\r\n            result += \" \" + yearValueString;\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getLongestAbbrMonthName = function () {\r\n        if (this.longestAbbrMonthName == null)\r\n            this.longestAbbrMonthName = this.getLongestText(this.getAbbrMonthNames());\r\n        return this.longestAbbrMonthName;\r\n    };\r\n    ElementTextHelper.prototype.getLongestMonthName = function () {\r\n        if (this.longestMonthName == null)\r\n            this.longestMonthName = this.getLongestText(this.getMonthNames());\r\n        return this.longestMonthName;\r\n    };\r\n    ElementTextHelper.prototype.getLongestAbbrDayName = function () {\r\n        if (this.longestAbbrDayName == null)\r\n            this.longestAbbrDayName = this.getLongestText(this.getAbbrDayNames());\r\n        return this.longestAbbrDayName;\r\n    };\r\n    ElementTextHelper.prototype.getLongestText = function (texts) {\r\n        var _this = this;\r\n        var result = \"\";\r\n        var longestTextWidth = 0;\r\n        texts.forEach(function (text) {\r\n            var textWidth = _this.getTextWidth(text);\r\n            if (textWidth > longestTextWidth) {\r\n                longestTextWidth = textWidth;\r\n                result = text;\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ElementTextHelper.prototype.getTextWidth = function (text) {\r\n        return Math.round(this.textMeasureContext.measureText(text).width);\r\n    };\r\n    ElementTextHelper.prototype.getAmText = function () {\r\n        return \"AM\";\r\n    };\r\n    ElementTextHelper.prototype.getPmText = function () {\r\n        return \"PM\";\r\n    };\r\n    ElementTextHelper.prototype.getQuarterNames = function () {\r\n        return [\"Q1\", \"Q2\", \"Q3\", \"Q4\"];\r\n    };\r\n    ElementTextHelper.prototype.getMonthNames = function () {\r\n        return [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\", \"\"];\r\n    };\r\n    ElementTextHelper.prototype.getDayNames = function () {\r\n        return [\"Sunday\", \"Monday\", \"ASP\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    };\r\n    ElementTextHelper.prototype.getAbbrMonthNames = function () {\r\n        return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"\"];\r\n    };\r\n    ElementTextHelper.prototype.getAbbrDayNames = function () {\r\n        return [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    };\r\n    return ElementTextHelper;\r\n}());\r\nexports.ElementTextHelper = ElementTextHelper;\r\nfunction createViewTypeToScaleMap() {\r\n    var result = {};\r\n    result[Enums_1.ViewType.TenMinutes] = Enums_1.ViewType.Hours;\r\n    result[Enums_1.ViewType.Hours] = Enums_1.ViewType.Days;\r\n    result[Enums_1.ViewType.SixHours] = Enums_1.ViewType.Days;\r\n    result[Enums_1.ViewType.Days] = Enums_1.ViewType.Weeks;\r\n    result[Enums_1.ViewType.Weeks] = Enums_1.ViewType.Months;\r\n    result[Enums_1.ViewType.Months] = Enums_1.ViewType.Years;\r\n    result[Enums_1.ViewType.Quarter] = Enums_1.ViewType.Years;\r\n    result[Enums_1.ViewType.Years] = Enums_1.ViewType.FiveYears;\r\n    return result;\r\n}\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Point_1 = __webpack_require__(3);\r\nvar Size_1 = __webpack_require__(15);\r\nvar Margins_1 = __webpack_require__(54);\r\nvar GridElementInfo = (function () {\r\n    function GridElementInfo(className, position, size) {\r\n        this.id = GridElementInfo.id++;\r\n        this.position = new Point_1.Point();\r\n        this.size = new Size_1.Size();\r\n        this.margins = new Margins_1.Margins();\r\n        this.attr = {};\r\n        if (className)\r\n            this.className = className;\r\n        if (position)\r\n            this.setPosition(position);\r\n        if (size)\r\n            this.setSize(size);\r\n    }\r\n    GridElementInfo.prototype.setSize = function (size) {\r\n        this.size.width = size.width;\r\n        this.size.height = size.height;\r\n    };\r\n    GridElementInfo.prototype.setPosition = function (position) {\r\n        this.position.x = position.x;\r\n        this.position.y = position.y;\r\n    };\r\n    GridElementInfo.prototype.assignToElement = function (element) {\r\n        this.assignPosition(element);\r\n        this.assignSize(element);\r\n        this.assignMargins(element);\r\n        if (this.className)\r\n            element.className = this.className;\r\n    };\r\n    GridElementInfo.prototype.assignPosition = function (element) {\r\n        if (this.position.x != null)\r\n            element.style.left = this.position.x + \"px\";\r\n        if (this.position.y != null)\r\n            element.style.top = this.position.y + \"px\";\r\n    };\r\n    GridElementInfo.prototype.assignSize = function (element) {\r\n        if (this.size.width)\r\n            element.style.width = this.size.width + \"px\";\r\n        if (this.size.height)\r\n            element.style.height = this.size.height + \"px\";\r\n    };\r\n    GridElementInfo.prototype.assignMargins = function (element) {\r\n        if (this.margins.marginLeft)\r\n            element.style.marginLeft = this.margins.marginLeft + \"px\";\r\n        if (this.margins.marginTop)\r\n            element.style.marginTop = this.margins.marginTop + \"px\";\r\n        if (this.margins.marginRight)\r\n            element.style.marginRight = this.margins.marginRight + \"px\";\r\n        if (this.margins.marginBottom)\r\n            element.style.marginBottom = this.margins.marginBottom + \"px\";\r\n    };\r\n    GridElementInfo.prototype.setAttribute = function (name, value) {\r\n        this.attr[name] = value;\r\n    };\r\n    GridElementInfo.id = 0;\r\n    return GridElementInfo;\r\n}());\r\nexports.GridElementInfo = GridElementInfo;\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar Enums_1 = __webpack_require__(7);\r\nvar DateRange_1 = __webpack_require__(10);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar TaskEditController = (function () {\r\n    function TaskEditController(gantt) {\r\n        this.taskIndex = -1;\r\n        this.successorIndex = -1;\r\n        this.editing = false;\r\n        this.gantt = gantt;\r\n        this.createElements();\r\n        this.createClassToSourceMap();\r\n    }\r\n    Object.defineProperty(TaskEditController.prototype, \"taskId\", {\r\n        get: function () {\r\n            return this.gantt.viewModel.items[this.taskIndex].task.internalId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskEditController.prototype, \"successorId\", {\r\n        get: function () {\r\n            return this.gantt.viewModel.items[this.successorIndex].task.internalId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskEditController.prototype, \"task\", {\r\n        get: function () {\r\n            return this.gantt.viewModel.items[this.taskIndex].task;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TaskEditController.prototype.show = function (taskIndex) {\r\n        if (!this.editing && this.gantt.settings.editing.enabled) {\r\n            this.taskIndex = taskIndex;\r\n            this.updateWrapInfo();\r\n            this.wrapInfo.assignPosition(this.baseElement);\r\n            this.wrapInfo.assignSize(this.baseElement);\r\n            this.gantt.taskArea.appendChild(this.baseElement);\r\n            this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n            if (this.task.isMilestone())\r\n                this.baseElement.className = this.baseElement.className + \" milestone\";\r\n            else {\r\n                if (!this.gantt.settings.editing.allowDependencyAdding)\r\n                    this.baseElement.className = this.baseElement.className + \" hide-dependency\";\r\n                if (!this.gantt.settings.editing.allowTaskUpdating)\r\n                    this.baseElement.className = this.baseElement.className + \" hide-updating\";\r\n                this.progressEdit.style.left = ((this.task.progress / 100) *\r\n                    this.wrapInfo.size.width - (this.progressEdit.offsetWidth / 2)) + \"px\";\r\n            }\r\n            this.taskDateRange = new DateRange_1.DateRange(this.task.start, this.task.end);\r\n        }\r\n    };\r\n    TaskEditController.prototype.updateWrapInfo = function () {\r\n        this.wrapInfo = this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(this.taskIndex);\r\n        this.wrapInfo.size.width = this.gantt.gridLayoutCalculator.getTaskWidth(this.taskIndex);\r\n        this.wrapInfo.position.x--;\r\n        if (this.task.isMilestone())\r\n            this.wrapInfo.position.y = this.gantt.gridLayoutCalculator.getSelectionPosition(this.taskIndex).y;\r\n    };\r\n    TaskEditController.prototype.hide = function () {\r\n        var parentNode = this.baseElement.parentNode;\r\n        if (parentNode)\r\n            parentNode.removeChild(this.baseElement);\r\n    };\r\n    TaskEditController.prototype.showDependencySuccessor = function (taskIndex) {\r\n        if (this.successorIndex != taskIndex && this.taskIndex != taskIndex) {\r\n            this.successorIndex = taskIndex;\r\n            var wrapInfo = this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(taskIndex);\r\n            wrapInfo.size.width = this.gantt.gridLayoutCalculator.getTaskWidth(taskIndex) + 1;\r\n            wrapInfo.assignPosition(this.dependencySuccessorBaseElement);\r\n            wrapInfo.assignSize(this.dependencySuccessorBaseElement);\r\n            wrapInfo.assignSize(this.dependencySuccessorFrame);\r\n            this.gantt.taskArea.appendChild(this.dependencySuccessorBaseElement);\r\n        }\r\n    };\r\n    TaskEditController.prototype.hideDependencySuccessor = function () {\r\n        var parentNode = this.dependencySuccessorBaseElement.parentNode;\r\n        if (parentNode)\r\n            parentNode.removeChild(this.dependencySuccessorBaseElement);\r\n        this.successorIndex = -1;\r\n    };\r\n    TaskEditController.prototype.processProgress = function (position) {\r\n        this.editing = true;\r\n        var progressOffset = position.x - this.wrapInfo.position.x;\r\n        var progress = 0;\r\n        if (position.x > this.wrapInfo.position.x)\r\n            if (position.x < this.wrapInfo.position.x + this.wrapInfo.size.width)\r\n                progress = Math.round((progressOffset) / this.baseElement.clientWidth * 100);\r\n            else\r\n                progress = 100;\r\n        this.progressEdit.style.left = ((progress / 100) *\r\n            this.wrapInfo.size.width - (this.progressEdit.offsetWidth / 2)) + \"px\";\r\n        this.statusMsg.innerHTML = progress + \"%\";\r\n        this.showMessageBox(DomUtils_1.DomUtils.getAbsolutePositionX(this.progressEdit) - this.statusMsg.clientWidth / 2);\r\n    };\r\n    TaskEditController.prototype.confirmProgress = function () {\r\n        this.editing = false;\r\n        var progress = Math.round((this.progressEdit.offsetLeft + (this.progressEdit.offsetWidth / 2)) / this.wrapInfo.size.width * 100);\r\n        this.gantt.commandManager.changeTaskProgressCommand.execute(this.taskId, progress);\r\n    };\r\n    TaskEditController.prototype.isShouldProcessEnd = function (positionX) {\r\n        return positionX > this.wrapInfo.position.x - this.endEdit.clientWidth;\r\n    };\r\n    TaskEditController.prototype.processEnd = function (position) {\r\n        this.baseElement.className = this.baseElement.className + \" move\";\r\n        this.editing = true;\r\n        var positionX = position.x > this.wrapInfo.position.x ? position.x : this.wrapInfo.position.x;\r\n        var width = positionX - this.wrapInfo.position.x;\r\n        this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\r\n        var startDate = this.task.start;\r\n        var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\r\n        date.setSeconds(0);\r\n        if (date < startDate || width < 1)\r\n            this.taskDateRange.end.setTime(startDate.getTime());\r\n        else\r\n            this.taskDateRange.end = this.getNewDate(this.task.end, date);\r\n        this.showTimeMessage(startDate, this.taskDateRange.end, (DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement) + this.baseElement.clientWidth - this.statusMsg.clientWidth));\r\n    };\r\n    TaskEditController.prototype.confirmEnd = function () {\r\n        this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n        this.editing = false;\r\n        this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId, this.taskDateRange.end);\r\n        this.updateWrapInfo();\r\n    };\r\n    TaskEditController.prototype.processStart = function (position) {\r\n        this.baseElement.className = this.baseElement.className + \" move\";\r\n        this.editing = true;\r\n        var positionX = position.x < this.wrapInfo.position.x + this.wrapInfo.size.width ? position.x : this.wrapInfo.position.x + this.wrapInfo.size.width;\r\n        var width = this.wrapInfo.size.width - (positionX - this.wrapInfo.position.x);\r\n        this.baseElement.style.left = positionX + \"px\";\r\n        this.baseElement.style.width = (width < 1 ? 0 : width) + \"px\";\r\n        var endDate = this.task.end;\r\n        var date = this.gantt.gridLayoutCalculator.getDateByPos(positionX);\r\n        date.setSeconds(0);\r\n        if (date > endDate || width < 1)\r\n            this.taskDateRange.start.setTime(endDate.getTime());\r\n        else\r\n            this.taskDateRange.start = this.getNewDate(this.task.start, date);\r\n        this.showTimeMessage(this.taskDateRange.start, endDate, DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement));\r\n    };\r\n    TaskEditController.prototype.confirmStart = function () {\r\n        this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n        this.editing = false;\r\n        this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId, this.taskDateRange.start);\r\n        this.updateWrapInfo();\r\n    };\r\n    TaskEditController.prototype.processMove = function (delta) {\r\n        if (this.gantt.settings.editing.allowTaskUpdating) {\r\n            this.baseElement.className = this.baseElement.className + \" move\";\r\n            this.editing = true;\r\n            var left = this.baseElement.offsetLeft + delta;\r\n            this.baseElement.style.left = left + \"px\";\r\n            var date = this.gantt.gridLayoutCalculator.getDateByPos(left);\r\n            this.taskDateRange.start = this.getNewDate(this.task.start, date);\r\n            var dateDiff = this.task.start.getTime() - date.getTime();\r\n            var endDate = new Date(this.task.end.getTime() - dateDiff);\r\n            this.taskDateRange.end = this.getNewDate(this.task.end, endDate);\r\n            this.showTimeMessage(this.taskDateRange.start, this.taskDateRange.end, DomUtils_1.DomUtils.getAbsolutePositionX(this.baseElement));\r\n        }\r\n    };\r\n    TaskEditController.prototype.confirmMove = function () {\r\n        this.baseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX;\r\n        if (this.editing) {\r\n            this.gantt.history.beginTransaction();\r\n            this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId, this.taskDateRange.start);\r\n            this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId, this.taskDateRange.end);\r\n            this.gantt.history.endTransaction();\r\n        }\r\n        this.updateWrapInfo();\r\n        this.editing = false;\r\n    };\r\n    TaskEditController.prototype.getNewDate = function (referenceDate, newDate) {\r\n        if (this.gantt.settings.viewType > Enums_1.ViewType.SixHours) {\r\n            var date = new Date(referenceDate.getTime());\r\n            date.setDate(newDate.getDate());\r\n            date.setMonth(newDate.getMonth());\r\n            date.setFullYear(newDate.getFullYear());\r\n            if (this.gantt.settings.viewType == Enums_1.ViewType.Days)\r\n                date.setHours(newDate.getHours());\r\n            return date;\r\n        }\r\n        else\r\n            return newDate;\r\n    };\r\n    TaskEditController.prototype.startDependency = function (pos) {\r\n        this.dependencyLine = document.createElement(\"DIV\");\r\n        this.dependencyLine.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE;\r\n        this.gantt.taskArea.appendChild(this.dependencyLine);\r\n        this.startPosition = pos;\r\n    };\r\n    TaskEditController.prototype.processDependency = function (pos) {\r\n        this.editing = true;\r\n        this.drawline(this.startPosition, pos);\r\n    };\r\n    TaskEditController.prototype.endDependency = function (type) {\r\n        this.editing = false;\r\n        if (type != null)\r\n            this.gantt.commandManager.createDependencyCommand.execute(this.task.internalId, this.successorId, type);\r\n        var parentNode = this.dependencyLine.parentNode;\r\n        if (parentNode)\r\n            parentNode.removeChild(this.dependencyLine);\r\n        this.dependencyLine = null;\r\n        this.hideDependencySuccessor();\r\n        this.hide();\r\n    };\r\n    TaskEditController.prototype.selectDependency = function (id) {\r\n        if (this.gantt.settings.editing.allowDependencyDeleting)\r\n            this.dependencyId = id;\r\n    };\r\n    TaskEditController.prototype.isDependencySelected = function (id) {\r\n        return this.dependencyId && this.dependencyId == id;\r\n    };\r\n    TaskEditController.prototype.deleteSelectedDependency = function () {\r\n        if (this.dependencyId)\r\n            this.gantt.commandManager.removeDependencyCommand.execute(this.dependencyId);\r\n    };\r\n    TaskEditController.prototype.showTimeMessage = function (start, end, posX) {\r\n        this.statusMsg.innerHTML = \"\";\r\n        var timeElement = document.createElement(\"DIV\");\r\n        timeElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;\r\n        var startEl = document.createElement(\"DIV\");\r\n        var startTitle = document.createElement(\"SPAN\");\r\n        startTitle.innerHTML = \"Start: \";\r\n        var startValue = document.createElement(\"SPAN\");\r\n        startValue.innerHTML = this.formatDate(start);\r\n        startEl.appendChild(startTitle);\r\n        startEl.appendChild(startValue);\r\n        var endEl = document.createElement(\"DIV\");\r\n        var endTitle = document.createElement(\"SPAN\");\r\n        endTitle.innerHTML = \"End: \";\r\n        var endValue = document.createElement(\"SPAN\");\r\n        endValue.innerHTML = this.formatDate(end);\r\n        endEl.appendChild(endTitle);\r\n        endEl.appendChild(endValue);\r\n        timeElement.appendChild(startEl);\r\n        timeElement.appendChild(endEl);\r\n        this.statusMsg.appendChild(timeElement);\r\n        this.showMessageBox(posX);\r\n    };\r\n    TaskEditController.prototype.showMessageBox = function (posX) {\r\n        var _this = this;\r\n        this.statusMsg.style.display = \"block\";\r\n        this.statusMsg.style.left = posX + \"px\";\r\n        this.statusMsg.style.top = (DomUtils_1.DomUtils.getAbsolutePositionY(this.baseElement) - this.statusMsg.clientHeight) + \"px\";\r\n        if (this.statusTimerId)\r\n            clearTimeout(this.statusTimerId);\r\n        this.statusTimerId = setTimeout(function () {\r\n            _this.statusMsg.style.display = \"none\";\r\n        }, 1500);\r\n    };\r\n    TaskEditController.prototype.formatDate = function (date) {\r\n        return ('0' + date.getDate()).slice(-2) + '/' + ('0' + (date.getMonth() + 1)).slice(-2) + \"/\" +\r\n            date.getFullYear() + \" \" + ('0' + date.getHours()).slice(-2) + \":\" + ('0' + date.getMinutes()).slice(-2);\r\n    };\r\n    TaskEditController.prototype.createElements = function () {\r\n        this.baseElement = document.createElement(\"DIV\");\r\n        this.baseFrame = document.createElement(\"DIV\");\r\n        this.baseFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME;\r\n        this.baseElement.appendChild(this.baseFrame);\r\n        this.progressEdit = document.createElement(\"DIV\");\r\n        this.progressEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS;\r\n        this.baseFrame.appendChild(this.progressEdit);\r\n        this.statusMsg = document.createElement(\"DIV\");\r\n        this.statusMsg.className = TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS;\r\n        this.baseFrame.appendChild(this.statusMsg);\r\n        this.dependencyFinish = document.createElement(\"DIV\");\r\n        this.dependencyFinish.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH;\r\n        this.baseFrame.appendChild(this.dependencyFinish);\r\n        this.dependencyStart = document.createElement(\"DIV\");\r\n        this.dependencyStart.className = TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT;\r\n        this.baseFrame.appendChild(this.dependencyStart);\r\n        this.startEdit = document.createElement(\"DIV\");\r\n        this.startEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_START;\r\n        this.baseFrame.appendChild(this.startEdit);\r\n        this.endEdit = document.createElement(\"DIV\");\r\n        this.endEdit.className = TaskEditController.CLASSNAMES.TASK_EDIT_END;\r\n        this.baseFrame.appendChild(this.endEdit);\r\n        this.dependencySuccessorBaseElement = document.createElement(\"DIV\");\r\n        this.dependencySuccessorBaseElement.className = TaskEditController.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR;\r\n        this.dependencySuccessorFrame = document.createElement(\"DIV\");\r\n        this.dependencySuccessorFrame.className = TaskEditController.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR;\r\n        this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame);\r\n        this.dependencySuccessorStart = document.createElement(\"DIV\");\r\n        this.dependencySuccessorStart.className = TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH;\r\n        this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart);\r\n        this.dependencySuccessorFinish = document.createElement(\"DIV\");\r\n        this.dependencySuccessorFinish.className = TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT;\r\n        this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish);\r\n        this.attachEvents();\r\n    };\r\n    TaskEditController.prototype.attachEvents = function () {\r\n        this.baseElement.addEventListener(\"mouseleave\", function (evt) {\r\n            if (!this.editing)\r\n                this.hide();\r\n        }.bind(this));\r\n    };\r\n    TaskEditController.prototype.drawline = function (start, end) {\r\n        if (start.x > end.x) {\r\n            var temp = end;\r\n            end = start;\r\n            start = temp;\r\n        }\r\n        var angle = Math.atan((start.y - end.y) / (end.x - start.x));\r\n        angle = (angle * 180 / Math.PI);\r\n        angle = -angle;\r\n        var length = Math.sqrt((start.x - end.x) * (start.x - end.x) + (start.y - end.y) * (start.y - end.y));\r\n        this.dependencyLine.style.left = start.x + \"px\";\r\n        this.dependencyLine.style.top = start.y + \"px\";\r\n        this.dependencyLine.style.width = length + \"px\";\r\n        this.dependencyLine.style.transform = \"rotate(\" + angle + \"deg)\";\r\n    };\r\n    TaskEditController.prototype.createClassToSourceMap = function () {\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS] = TaskAreaManager_1.MouseEventSource.TaskEdit_Progress;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_START] = TaskAreaManager_1.MouseEventSource.TaskEdit_Start;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_END] = TaskAreaManager_1.MouseEventSource.TaskEdit_End;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_FRAME] = TaskAreaManager_1.MouseEventSource.TaskEdit_Frame;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH] = TaskAreaManager_1.MouseEventSource.Successor_DependencyStart;\r\n        TaskEditController.classToSource[TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT] = TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish;\r\n    };\r\n    TaskEditController.CLASSNAMES = {\r\n        TASK_EDIT_BOX: \"dx-gantt-task-edit-wrapper\",\r\n        TASK_EDIT_FRAME: \"dx-gantt-task-edit-frame\",\r\n        TASK_EDIT_PROGRESS: \"dx-gantt-task-edit-progress\",\r\n        TASK_EDIT_PROGRESS_STATUS: \"dx-gantt-task-edit-progress-status\",\r\n        TASK_EDIT_PROGRESS_STATUS_TIME: \"dx-gantt-status-time\",\r\n        TASK_EDIT_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-dependency-r\",\r\n        TASK_EDIT_DEPENDENCY_LEFT: \"dx-gantt-task-edit-dependency-l\",\r\n        TASK_EDIT_START: \"dx-gantt-task-edit-start\",\r\n        TASK_EDIT_END: \"dx-gantt-task-edit-end\",\r\n        TASK_EDIT_DEPENDENCY_LINE: \"dx-gantt-task-edit-dependency-line\",\r\n        TASK_EDIT_BOX_SUCCESSOR: \"dx-gantt-task-edit-wrapper-successor\",\r\n        TASK_EDIT_FRAME_SUCCESSOR: \"dx-gantt-task-edit-frame-successor\",\r\n        TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH: \"dx-gantt-task-edit-successor-dependency-r\",\r\n        TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT: \"dx-gantt-task-edit-successor-dependency-l\"\r\n    };\r\n    TaskEditController.classToSource = {};\r\n    return TaskEditController;\r\n}());\r\nexports.TaskEditController = TaskEditController;\r\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem_1 = __webpack_require__(9);\r\nvar TaskPropertiesHistoryItemBase = (function (_super) {\r\n    __extends(TaskPropertiesHistoryItemBase, _super);\r\n    function TaskPropertiesHistoryItemBase(modelManipulator, taskId, newValue) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.taskId = taskId;\r\n        _this.newValue = newValue;\r\n        return _this;\r\n    }\r\n    TaskPropertiesHistoryItemBase.prototype.redo = function () {\r\n        this.oldState = this.getPropertiesManipulator().setValue(this.taskId, this.newValue);\r\n    };\r\n    TaskPropertiesHistoryItemBase.prototype.undo = function () {\r\n        this.getPropertiesManipulator().restoreValue(this.oldState);\r\n    };\r\n    TaskPropertiesHistoryItemBase.prototype.getPropertiesManipulator = function () {\r\n        throw new Error(\"Not Implemented\");\r\n    };\r\n    return TaskPropertiesHistoryItemBase;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.TaskPropertiesHistoryItemBase = TaskPropertiesHistoryItemBase;\r\nvar TaskTitleHistoryItem = (function (_super) {\r\n    __extends(TaskTitleHistoryItem, _super);\r\n    function TaskTitleHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskTitleHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.title;\r\n    };\r\n    return TaskTitleHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskTitleHistoryItem = TaskTitleHistoryItem;\r\nvar TaskDesriptionHistoryItem = (function (_super) {\r\n    __extends(TaskDesriptionHistoryItem, _super);\r\n    function TaskDesriptionHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDesriptionHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.description;\r\n    };\r\n    return TaskDesriptionHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskDesriptionHistoryItem = TaskDesriptionHistoryItem;\r\nvar TaskProgressHistoryItem = (function (_super) {\r\n    __extends(TaskProgressHistoryItem, _super);\r\n    function TaskProgressHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskProgressHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.progress;\r\n    };\r\n    return TaskProgressHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskProgressHistoryItem = TaskProgressHistoryItem;\r\nvar TaskStartHistoryItem = (function (_super) {\r\n    __extends(TaskStartHistoryItem, _super);\r\n    function TaskStartHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskStartHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.start;\r\n    };\r\n    return TaskStartHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskStartHistoryItem = TaskStartHistoryItem;\r\nvar TaskEndHistoryItem = (function (_super) {\r\n    __extends(TaskEndHistoryItem, _super);\r\n    function TaskEndHistoryItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEndHistoryItem.prototype.getPropertiesManipulator = function () {\r\n        return this.modelManipulator.task.properties.end;\r\n    };\r\n    return TaskEndHistoryItem;\r\n}(TaskPropertiesHistoryItemBase));\r\nexports.TaskEndHistoryItem = TaskEndHistoryItem;\r\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(33);\r\nvar GanttView_1 = __webpack_require__(34);\r\nexports.GanttView = GanttView_1.GanttView;\r\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar VisualModel_1 = __webpack_require__(35);\r\nvar Enums_1 = __webpack_require__(7);\r\nvar Utils_1 = __webpack_require__(28);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar DateRange_1 = __webpack_require__(10);\r\nvar Size_1 = __webpack_require__(15);\r\nvar Point_1 = __webpack_require__(3);\r\nvar GridElementInfo_1 = __webpack_require__(29);\r\nvar GridLayoutCalculator_1 = __webpack_require__(16);\r\nvar EtalonSizeValues_1 = __webpack_require__(55);\r\nvar TaskEditController_1 = __webpack_require__(30);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar ModelManipulator_1 = __webpack_require__(56);\r\nvar History_1 = __webpack_require__(61);\r\nvar EventManager_1 = __webpack_require__(62);\r\nvar TaskAreaContainer_1 = __webpack_require__(72);\r\nvar Settings_1 = __webpack_require__(73);\r\nvar ModelChangesDispatcher_1 = __webpack_require__(74);\r\nvar CommandManager_1 = __webpack_require__(76);\r\nvar BarManager_1 = __webpack_require__(86);\r\nvar Browser_1 = __webpack_require__(12);\r\nvar GanttView = (function () {\r\n    function GanttView(element, ganttOwner, settings) {\r\n        this.timeScaleAreas = new Array();\r\n        this.horTaskAreaBorders = [];\r\n        this.vertTaskAreaBorders = [];\r\n        this.scaleBorders = [];\r\n        this.scaleElements = [];\r\n        this.taskElements = [];\r\n        this.selectionElements = [];\r\n        this.hlRowElements = [];\r\n        this.renderedRowIndices = [];\r\n        this.renderedColIndices = [];\r\n        this.renderedScaleItemIndices = [];\r\n        this.dependencyMap = [];\r\n        this.renderedConnectorLines = [];\r\n        this.connectorLinesToElementsMap = {};\r\n        this.noWorkingIntervalsToElementsMap = {};\r\n        this.renderedNoWorkingIntervals = [];\r\n        this.gridLayoutCalculator = new GridLayoutCalculator_1.GridLayoutCalculator();\r\n        this.elementTextHelper = new Utils_1.ElementTextHelper();\r\n        this.etalonSizeValues = new EtalonSizeValues_1.EtalonSizeValues();\r\n        this.tickSize = new Size_1.Size();\r\n        this.scaleCount = 2;\r\n        this.isFocus = false;\r\n        this.zoom = 1;\r\n        this.currentSelectedTaskID = \"\";\r\n        this.ganttOwner = ganttOwner;\r\n        this.settings = Settings_1.Settings.parse(settings);\r\n        this.createMainElement(element);\r\n        this.createHeader();\r\n        this.calculateEtalonSizeValues();\r\n        this.createTaskAreaContainer();\r\n        this.loadOptionsFromGanttOwner();\r\n        this.elementTextHelper.setFont(this.mainElement);\r\n        this.setupHelpers();\r\n        this.setSizeForTaskArea();\r\n        this.createTimeScaleContainer();\r\n        this.createTimeScaleAreas();\r\n        this.commandManager = new CommandManager_1.CommandManager(this);\r\n        this.barManager = new BarManager_1.BarManager(this, ganttOwner.bars);\r\n        this.eventManager = new EventManager_1.EventManager(this);\r\n        this.taskEditController = new TaskEditController_1.TaskEditController(this);\r\n        this.history = new History_1.History();\r\n        this.taskAreaManager = new TaskAreaManager_1.TaskAreaManager(this);\r\n        this.updateView();\r\n    }\r\n    GanttView.prototype.reset = function () {\r\n        this.timeScaleContainer.innerHTML = \"\";\r\n        this.taskArea.innerHTML = \"\";\r\n        this.horTaskAreaBorders = [];\r\n        this.vertTaskAreaBorders = [];\r\n        this.scaleBorders = [];\r\n        this.scaleElements = [];\r\n        this.taskElements = [];\r\n        this.selectionElements = [];\r\n        this.hlRowElements = [];\r\n        this.renderedRowIndices = [];\r\n        this.renderedColIndices = [];\r\n        this.renderedConnectorLines = [];\r\n        this.timeScaleAreas = [];\r\n        this.renderedScaleItemIndices = [];\r\n        this.connectorLinesToElementsMap = {};\r\n        this.renderedNoWorkingIntervals = [];\r\n        this.noWorkingIntervalsToElementsMap = {};\r\n    };\r\n    GanttView.prototype.setupHelpers = function () {\r\n        var size = new Size_1.Size(this.taskAreaContainer.getWidth(), this.taskAreaContainer.getHeight());\r\n        var scrollBarHeight = this.taskAreaContainer.getHeight() - this.taskAreaContainer.getElement().clientHeight;\r\n        this.gridLayoutCalculator.setSettings(size, this.tickSize, this.etalonSizeValues, this.range, this.viewModel, this.settings.viewType, scrollBarHeight);\r\n        this.elementTextHelper.setSettings(this.range.start.getTime(), this.settings.viewType, this.viewModel.items);\r\n    };\r\n    GanttView.prototype.getDateRange = function (modelStartDate, modelEndDate) {\r\n        var adjustedStartDate = Utils_1.DateUtils.adjustStartEndDateByViewType(modelStartDate, true, this.settings.viewType);\r\n        var adjustedEndDate = this.adjustEndDateByVisibleAreaWidth(adjustedStartDate, modelEndDate);\r\n        adjustedEndDate = Utils_1.DateUtils.adjustStartEndDateByViewType(adjustedEndDate, false, this.settings.viewType);\r\n        return new DateRange_1.DateRange(adjustedStartDate, adjustedEndDate);\r\n    };\r\n    GanttView.prototype.adjustEndDateByVisibleAreaWidth = function (adjustedStartDate, modelEndDate) {\r\n        var result = new Date();\r\n        var endTime = Math.max(modelEndDate.getTime(), this.getVisibleAreaEndDate(adjustedStartDate).getTime());\r\n        result.setTime(endTime);\r\n        return result;\r\n    };\r\n    GanttView.prototype.getVisibleAreaEndDate = function (visibleAreaStartDate) {\r\n        var result = new Date();\r\n        var visibleTickCount = Math.ceil(this.taskAreaContainer.getWidth() / this.tickSize.width);\r\n        if (this.settings.viewType == Enums_1.ViewType.Months) {\r\n            result.setTime(visibleAreaStartDate.getTime());\r\n            result.setMonth(result.getMonth() + visibleTickCount);\r\n        }\r\n        else\r\n            result.setTime(visibleAreaStartDate.getTime() + visibleTickCount * Utils_1.DateUtils.getTickTimeSpan(this.settings.viewType));\r\n        return result;\r\n    };\r\n    GanttView.prototype.calculateEtalonSizeValues = function () {\r\n        var etalonElementsContainer = this.createEtalonElementsContainer();\r\n        var etalonElements = this.createEtalonElements(etalonElementsContainer);\r\n        this.calculateEtalonSizeValuesCore(etalonElements);\r\n        this.mainElement.removeChild(etalonElementsContainer);\r\n    };\r\n    GanttView.prototype.calculateEtalonSizeValuesCore = function (etalonElements) {\r\n        this.etalonSizeValues.taskHeight = etalonElements[0].firstChild.offsetHeight;\r\n        this.etalonSizeValues.milestoneWidth = etalonElements[1].firstChild.offsetWidth;\r\n        this.etalonSizeValues.taskWrapperTopPadding = DomUtils_1.DomUtils.getTopPaddings(etalonElements[0]);\r\n        this.etalonSizeValues.connectorLineThickness = DomUtils_1.DomUtils.getVerticalBordersWidth(etalonElements[2]);\r\n        this.etalonSizeValues.connectorArrowWidth = DomUtils_1.DomUtils.getHorizontalBordersWidth(etalonElements[3]);\r\n        for (var i = 0; i <= Enums_1.ViewType.Years; i++) {\r\n            etalonElements[4].innerText = this.elementTextHelper.getScaleItemTextTemplate(i);\r\n            this.etalonSizeValues.scaleItemWidths[i] = etalonElements[4].offsetWidth;\r\n        }\r\n        this.etalonSizeValues.smallTaskWidth = DomUtils_1.DomUtils.getLeftPadding(etalonElements[0].firstChild.firstChild) * 2;\r\n        this.etalonSizeValues.outsideTaskTextDefaultWidth = DomUtils_1.DomUtils.pxToFloat(DomUtils_1.DomUtils.getCurrentStyle(etalonElements[5]).width);\r\n        this.etalonSizeValues.scaleItemHeight = this.ganttOwner.getHeaderHeight() / this.scaleCount;\r\n    };\r\n    GanttView.prototype.createEtalonElementsContainer = function () {\r\n        var result = document.createElement(\"DIV\");\r\n        result.style.visibility = \"hidden\";\r\n        result.style.position = \"absolute\";\r\n        result.style.left = \"-1000px\";\r\n        this.mainElement.appendChild(result);\r\n        return result;\r\n    };\r\n    GanttView.prototype.createEtalonElements = function (parent) {\r\n        var etalonElements = [];\r\n        var wrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\r\n        var task = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task\"), null, wrapper);\r\n        var taskTitle = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskTitle dx-gantt-titleIn\"), null, task);\r\n        taskTitle.innerText = \"WWW\";\r\n        etalonElements.push(wrapper);\r\n        var milestoneWrapper = this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-taskWrapper\"), null, parent);\r\n        this.createElement(new GridElementInfo_1.GridElementInfo(\"dx-gantt-task dx-gantt-milestone\"), null, milestoneWrapper);\r\n        etalonElements.push(milestoneWrapper);\r\n        var etalonElementClassNames = [\"dx-gantt-conn-h\", \"dx-gantt-arrow\", \"dx-gantt-si\", \"dx-gantt-taskTitle dx-gantt-titleOut\"];\r\n        for (var i = 0; i < etalonElementClassNames.length; i++) {\r\n            var etalonElementInfo = new GridElementInfo_1.GridElementInfo(etalonElementClassNames[i]);\r\n            etalonElements.push(this.createElement(etalonElementInfo, null, parent));\r\n        }\r\n        return etalonElements;\r\n    };\r\n    GanttView.prototype.zoomIn = function () {\r\n        if (this.zoom == 1) {\r\n            this.zoom++;\r\n            this.updateTickSizeWidth();\r\n            this.resetAndUpdate();\r\n        }\r\n        else if (this.settings.viewType > Enums_1.ViewType.TenMinutes) {\r\n            this.zoom--;\r\n            this.setViewType(this.settings.viewType - 1);\r\n        }\r\n    };\r\n    GanttView.prototype.zoomOut = function () {\r\n        if (this.zoom > 1) {\r\n            this.zoom--;\r\n            this.updateTickSizeWidth();\r\n            this.resetAndUpdate();\r\n        }\r\n        else if (this.settings.viewType < Enums_1.ViewType.Years) {\r\n            this.zoom++;\r\n            this.setViewType(this.settings.viewType + 1);\r\n        }\r\n    };\r\n    GanttView.prototype.onVisualModelChanged = function () {\r\n        this.resetAndUpdate();\r\n    };\r\n    GanttView.prototype.getGanttViewStartDate = function (tasks) {\r\n        if (!tasks)\r\n            return new Date();\r\n        var dates = tasks.map(function (t) { return typeof t.start == \"string\" ? new Date(t.start) : t.start; });\r\n        return dates.length > 0 ? dates.reduce(function (min, d) { return d < min ? d : min; }, dates[0]) : new Date();\r\n    };\r\n    GanttView.prototype.getGanttViewEndDate = function (tasks) {\r\n        if (!tasks)\r\n            return new Date();\r\n        var dates = tasks.map(function (t) { return typeof t.end == \"string\" ? new Date(t.end) : t.end; });\r\n        return dates.length > 0 ? dates.reduce(function (max, d) { return d > max ? d : max; }, dates[0]) : new Date();\r\n    };\r\n    GanttView.prototype.getTaskAreaWidth = function () {\r\n        return this.gridLayoutCalculator.horizontalTickCount * this.tickSize.width;\r\n    };\r\n    GanttView.prototype.getTaskAreaHeight = function () {\r\n        return this.gridLayoutCalculator.getVerticalGridLineHeight();\r\n    };\r\n    GanttView.prototype.getVisibleTaskCount = function () { return this.viewModel.itemCount; };\r\n    GanttView.prototype.getTask = function (index) {\r\n        var item = this.viewModel.items[index];\r\n        return item.task;\r\n    };\r\n    GanttView.prototype.createMainElement = function (parent) {\r\n        this.mainElement = document.createElement(\"DIV\");\r\n        this.mainElement.style.width = parent.offsetWidth + \"px\";\r\n        this.mainElement.style.height = parent.offsetHeight + \"px\";\r\n        parent.appendChild(this.mainElement);\r\n    };\r\n    GanttView.prototype.createHeader = function () {\r\n        this.header = document.createElement(\"DIV\");\r\n        this.header.className = \"dx-gantt-header\";\r\n        this.mainElement.appendChild(this.header);\r\n    };\r\n    GanttView.prototype.createTimeScaleContainer = function () {\r\n        this.timeScaleContainer = document.createElement(\"DIV\");\r\n        this.timeScaleContainer.className = \"dx-gantt-tsac\";\r\n        this.timeScaleContainer.style.height = this.etalonSizeValues.scaleItemHeight * this.scaleCount + \"px\";\r\n        this.header.appendChild(this.timeScaleContainer);\r\n    };\r\n    GanttView.prototype.createTimeScaleArea = function () {\r\n        var timeScaleArea = document.createElement(\"DIV\");\r\n        timeScaleArea.className = \"dx-gantt-tsa\";\r\n        timeScaleArea.style.width = this.getTaskAreaWidth() + \"px\";\r\n        timeScaleArea.style.height = this.etalonSizeValues.scaleItemHeight + \"px\";\r\n        this.timeScaleContainer.appendChild(timeScaleArea);\r\n        this.timeScaleAreas.unshift(timeScaleArea);\r\n        return timeScaleArea;\r\n    };\r\n    GanttView.prototype.createTimeScaleAreas = function () {\r\n        for (var i = 0; i < this.scaleCount; i++) {\r\n            var timeScaleArea = this.createTimeScaleArea();\r\n            if (i == 0 && this.settings.viewType == Enums_1.ViewType.Weeks)\r\n                this.createMonthsScale(timeScaleArea);\r\n        }\r\n    };\r\n    GanttView.prototype.createTaskAreaContainer = function () {\r\n        var element = document.createElement(\"DIV\");\r\n        element.className = \"dx-gantt-tac\";\r\n        this.mainElement.appendChild(element);\r\n        this.createTaskArea(element);\r\n        this.taskAreaContainer = this.ganttOwner.getExternalTaskAreaContainer(element);\r\n        if (this.taskAreaContainer == null)\r\n            this.taskAreaContainer = new TaskAreaContainer_1.TaskAreaContainer(element, this);\r\n        this.prepareTaskAreaContainer();\r\n    };\r\n    GanttView.prototype.prepareTaskAreaContainer = function () {\r\n        var className = \"dx-gantt-tac-hb\";\r\n        var element = this.taskAreaContainer.getElement();\r\n        this.settings.areHorizontalBordersEnabled ?\r\n            DomUtils_1.DomUtils.addClassNameToElement(element, className) : DomUtils_1.DomUtils.removeClassNameFromElement(element, className);\r\n        var marginTop = parseInt(getComputedStyle(element).getPropertyValue(\"margin-top\")) || 0;\r\n        element.style.height = \"calc(100% - \" + (this.etalonSizeValues.scaleItemHeight * this.scaleCount + marginTop) + \"px)\";\r\n    };\r\n    GanttView.prototype.createTaskArea = function (parent) {\r\n        this.taskArea = document.createElement(\"DIV\");\r\n        this.taskArea.id = \"dx-gantt-ta\";\r\n        parent.appendChild(this.taskArea);\r\n    };\r\n    GanttView.prototype.setSizeForTaskArea = function () {\r\n        this.taskArea.style.width = this.getTaskAreaWidth() + \"px\";\r\n        this.taskArea.style.height = this.getTaskAreaHeight() + \"px\";\r\n    };\r\n    GanttView.prototype.updateTickSizeWidth = function () {\r\n        this.tickSize.width = this.etalonSizeValues.scaleItemWidths[this.settings.viewType] * this.zoom;\r\n    };\r\n    GanttView.prototype.createMonthsScale = function (parent) {\r\n        var currentDate = new Date();\r\n        currentDate.setTime(this.range.start.getTime());\r\n        var x = 0;\r\n        var index = 0;\r\n        while (currentDate.getTime() < this.range.end.getTime()) {\r\n            var dayInMonthCount = Utils_1.DateUtils.getDaysInMonth(currentDate.getMonth(), currentDate.getFullYear());\r\n            var dayCount = dayInMonthCount - currentDate.getDate() + 1;\r\n            var nextDate = new Date();\r\n            nextDate.setTime(currentDate.getTime() + Math.min(dayCount * Utils_1.DateUtils.msPerDay, this.range.end.getTime() - currentDate.getTime()));\r\n            var width = this.gridLayoutCalculator.getWidthByDateRange(currentDate, nextDate);\r\n            var scaleItemInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-si\", new Point_1.Point(x), new Size_1.Size(width, this.etalonSizeValues.scaleItemHeight));\r\n            var scaleItemElement = this.createElement(scaleItemInfo, null, parent);\r\n            scaleItemElement.innerText = this.elementTextHelper.getScaleItemText(index, Enums_1.ViewType.Months);\r\n            scaleItemElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\r\n            var scaleBorderInfo = new GridElementInfo_1.GridElementInfo(\"dx-gantt-vb\", new Point_1.Point(x + width), new Size_1.Size(0, this.etalonSizeValues.scaleItemHeight));\r\n            this.createElement(scaleBorderInfo, null, parent);\r\n            x += width;\r\n            index++;\r\n            currentDate = nextDate;\r\n        }\r\n    };\r\n    GanttView.prototype.updateView = function () {\r\n        this.timeScaleContainer.scrollLeft = this.taskAreaContainer.scrollLeft;\r\n        this.processScroll(false);\r\n        this.processScroll(true);\r\n        this.ganttOwner.onGanttScroll(this.taskAreaContainer.scrollTop);\r\n    };\r\n    GanttView.prototype.processScroll = function (isVertical) {\r\n        this.recreateTaskAreaBordersAndTaskElements(isVertical);\r\n        if (isVertical)\r\n            this.recreateConnectorLineElements();\r\n        else {\r\n            this.recreateNoWorkingIntervalElements();\r\n            this.recreateScalesElements();\r\n        }\r\n    };\r\n    GanttView.prototype.recreateTaskAreaBordersAndTaskElements = function (isVertical) {\r\n        var _this = this;\r\n        var scrollPos = isVertical ? this.taskAreaContainer.scrollTop : this.taskAreaContainer.scrollLeft;\r\n        var newRenderedIndices = this.gridLayoutCalculator.getRenderedRowColumnIndices(scrollPos, isVertical);\r\n        var renderedIndices = isVertical ? this.renderedRowIndices : this.renderedColIndices;\r\n        this.recreateElements(renderedIndices, newRenderedIndices, function (index) { _this.removeTaskAreaBorderAndTaskElement(index, isVertical); }, function (index) { _this.createTaskAreaBorderAndTaskElement(index, isVertical); });\r\n        if (isVertical)\r\n            this.renderedRowIndices = newRenderedIndices;\r\n        else\r\n            this.renderedColIndices = newRenderedIndices;\r\n    };\r\n    GanttView.prototype.recreateNoWorkingIntervalElements = function () {\r\n        var _this = this;\r\n        var newRenderedNoWorkingIntervals = this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainer.scrollLeft);\r\n        this.recreateElements(this.renderedNoWorkingIntervals, newRenderedNoWorkingIntervals, function (info) { _this.removeNoWorkingIntervalElement(info); }, function (info) { _this.createNoWorkingIntervalElement(info); });\r\n        this.renderedNoWorkingIntervals = newRenderedNoWorkingIntervals;\r\n    };\r\n    GanttView.prototype.recreateConnectorLineElements = function () {\r\n        var _this = this;\r\n        var newRenderedConnectorLines = this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainer.scrollTop);\r\n        this.recreateElements(this.renderedConnectorLines, newRenderedConnectorLines, function (info) { _this.removeConnectorLineElement(info); }, function (info) { _this.createConnectorLineElement(info); });\r\n        this.renderedConnectorLines = newRenderedConnectorLines;\r\n    };\r\n    GanttView.prototype.recreateScalesElements = function () {\r\n        this.recreateScaleElements(this.settings.viewType, 0);\r\n        if (this.settings.viewType != Enums_1.ViewType.Weeks)\r\n            this.recreateScaleElements(Utils_1.DateUtils.ViewTypeToScaleMap[this.settings.viewType], 1);\r\n    };\r\n    GanttView.prototype.recreateScaleElements = function (scaleType, scaleIndex) {\r\n        var _this = this;\r\n        var newRenderedIndices = this.gridLayoutCalculator.getRenderedScaleItemIndices(scaleType, this.renderedColIndices);\r\n        var renderedIndices = this.renderedScaleItemIndices[scaleType - this.settings.viewType] || [];\r\n        this.recreateElements(renderedIndices, newRenderedIndices, function (index) { _this.removeScaleElementAndBorder(index, scaleIndex); }, function (index) { _this.createScaleElementAndBorder(index, scaleIndex, scaleType); });\r\n        this.renderedScaleItemIndices[scaleType - this.settings.viewType] = newRenderedIndices;\r\n    };\r\n    GanttView.prototype.recreateElements = function (oldRenderedElementsInfo, newRenderedelementsInfo, removeAction, createAction) {\r\n        oldRenderedElementsInfo\r\n            .filter(function (info) { return newRenderedelementsInfo.indexOf(info) === -1; })\r\n            .forEach(function (info) { removeAction(info); });\r\n        newRenderedelementsInfo\r\n            .filter(function (info) { return oldRenderedElementsInfo.indexOf(info) === -1; })\r\n            .forEach(function (info) { createAction(info); });\r\n    };\r\n    GanttView.prototype.allowTaskAreaBorders = function (isVerticalScroll) {\r\n        return isVerticalScroll ? this.settings.areHorizontalBordersEnabled : this.settings.areVerticalBordersEnabled;\r\n    };\r\n    GanttView.prototype.createTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\r\n        if (this.allowTaskAreaBorders(isVerticalScroll))\r\n            this.createTaskAreaBorder(index, !isVerticalScroll);\r\n        if (isVerticalScroll)\r\n            this.createTaskElement(index);\r\n    };\r\n    GanttView.prototype.removeTaskAreaBorderAndTaskElement = function (index, isVerticalScroll) {\r\n        if (this.allowTaskAreaBorders(isVerticalScroll))\r\n            this.removeTaskAreaBorder(index, !isVerticalScroll);\r\n        if (isVerticalScroll)\r\n            this.removeTaskElement(index);\r\n    };\r\n    GanttView.prototype.getTaskAreaBordersDictionary = function (isVertical) {\r\n        return isVertical ? this.vertTaskAreaBorders : this.horTaskAreaBorders;\r\n    };\r\n    GanttView.prototype.createTaskAreaBorder = function (index, isVertical) {\r\n        var info = this.gridLayoutCalculator.getTaskAreaBorderInfo(index, isVertical);\r\n        this.createElement(info, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\r\n    };\r\n    GanttView.prototype.removeTaskAreaBorder = function (index, isVertical) {\r\n        this.removeElement(null, index, this.taskArea, this.getTaskAreaBordersDictionary(isVertical));\r\n    };\r\n    GanttView.prototype.createScaleElementAndBorder = function (index, scaleIndex, scaleType) {\r\n        this.createScaleElement(index, scaleIndex, scaleType);\r\n        this.createScaleBorder(index, scaleIndex, scaleType);\r\n    };\r\n    GanttView.prototype.createScaleElement = function (index, scaleIndex, scaleType) {\r\n        var info = this.gridLayoutCalculator.getScaleElementInfo(index, scaleType);\r\n        var scaleElement = this.createScaleElementCore(index, info, scaleIndex, this.scaleElements);\r\n        scaleElement.innerText = this.elementTextHelper.getScaleItemText(index, scaleType);\r\n        scaleElement.style.lineHeight = this.etalonSizeValues.scaleItemHeight + \"px\";\r\n    };\r\n    GanttView.prototype.createScaleBorder = function (index, scaleIndex, scaleType) {\r\n        var info = this.gridLayoutCalculator.getScaleBorderInfo(index, scaleType);\r\n        this.createScaleElementCore(index, info, scaleIndex, this.scaleBorders);\r\n    };\r\n    GanttView.prototype.createScaleElementCore = function (index, info, scaleIndex, dictionary) {\r\n        if (!dictionary[scaleIndex])\r\n            dictionary[scaleIndex] = [];\r\n        return this.createElement(info, index, this.timeScaleAreas[scaleIndex], dictionary[scaleIndex]);\r\n    };\r\n    GanttView.prototype.removeScaleElementAndBorder = function (index, scaleIndex) {\r\n        this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleElements[scaleIndex]);\r\n        this.removeElement(null, index, this.timeScaleAreas[scaleIndex], this.scaleBorders[scaleIndex]);\r\n    };\r\n    GanttView.prototype.createTaskElement = function (index) {\r\n        this.createTaskWrapperElement(index);\r\n        if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Outside)\r\n            this.createTaskTextElement(index, this.taskElements[index]);\r\n        var taskVisualElement = this.createTaskVisualElement(index);\r\n        if (!this.viewModel.items[index].task.isMilestone()) {\r\n            if (this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside)\r\n                this.createTaskTextElement(index, taskVisualElement);\r\n            this.createTaskProgressElement(index, taskVisualElement);\r\n        }\r\n        if (this.settings.showResources)\r\n            this.createResources(index);\r\n        if (this.viewModel.items[index].selected)\r\n            this.createTaskSelectionElement(index);\r\n        if (this.isHighlightRowElementAllowed(index))\r\n            this.createHighlightRowElement(index);\r\n    };\r\n    GanttView.prototype.isHighlightRowElementAllowed = function (index) {\r\n        return index % 2 !== 0 && this.settings.areAlternateRowsEnabled || this.viewModel.items[index].children.length > 0;\r\n    };\r\n    GanttView.prototype.createResources = function (index) {\r\n        var resources = this.viewModel.items[index].resources.items;\r\n        for (var i = 0; i < resources.length; i++)\r\n            this.createResourceElement(index, resources[i]);\r\n    };\r\n    GanttView.prototype.createTaskWrapperElement = function (index) {\r\n        var taskWrapperInfo = this.gridLayoutCalculator.getTaskWrapperElementInfo(index);\r\n        this.createElement(taskWrapperInfo, index, this.taskArea, this.taskElements);\r\n        this.taskElements[index].style.display = this.elementTextHelper.getTaskVisibility(index) ? \"\" : \"none\";\r\n    };\r\n    GanttView.prototype.createTaskVisualElement = function (index) {\r\n        var taskElementInfo = this.gridLayoutCalculator.getTaskElementInfo(index);\r\n        var taskElement = this.createElement(taskElementInfo, index, this.taskElements[index]);\r\n        taskElement.addEventListener(\"mouseenter\", function (evt) { this.taskAreaManager.onTaskElementHover(evt); }.bind(this));\r\n        return taskElement;\r\n    };\r\n    GanttView.prototype.createTaskProgressElement = function (index, parent) {\r\n        var taskProgressInfo = this.gridLayoutCalculator.getTaskProgressElementInfo(index);\r\n        this.createElement(taskProgressInfo, index, parent);\r\n    };\r\n    GanttView.prototype.createTaskTextElement = function (index, parent) {\r\n        var taskTextInfo = this.gridLayoutCalculator.getTaskTextElementInfo(index, this.settings.taskTitlePosition == Enums_1.TaskTitlePosition.Inside);\r\n        var taskTextElement = this.createElement(taskTextInfo, index, parent);\r\n        taskTextElement.innerText = this.elementTextHelper.getTaskText(index);\r\n    };\r\n    GanttView.prototype.createResourceElement = function (index, resource) {\r\n        var resourceElementInfo = this.gridLayoutCalculator.getTaskResourceElementInfo();\r\n        var resElement = this.createElement(resourceElementInfo, index, this.taskElements[index]);\r\n        resElement.innerText = resource.text;\r\n    };\r\n    GanttView.prototype.createTaskSelectionElement = function (index) {\r\n        var selectionInfo = this.gridLayoutCalculator.getSelectionElementInfo(index);\r\n        if (this.taskAreaContainer.isExternal && !this.settings.areHorizontalBordersEnabled)\r\n            selectionInfo.size.height++;\r\n        this.createElement(selectionInfo, index, this.taskArea, this.selectionElements);\r\n    };\r\n    GanttView.prototype.createHighlightRowElement = function (index) {\r\n        var hlRowInfo = this.gridLayoutCalculator.getHighlightRowInfo(index);\r\n        this.createElement(hlRowInfo, index, this.taskArea, this.hlRowElements);\r\n    };\r\n    GanttView.prototype.removeTaskElement = function (index) {\r\n        this.removeElement(null, index, this.taskArea, this.taskElements);\r\n        this.removeElement(null, index, this.taskArea, this.selectionElements);\r\n        if (this.isHighlightRowElementAllowed(index))\r\n            this.removeElement(null, index, this.taskArea, this.hlRowElements);\r\n    };\r\n    GanttView.prototype.createConnectorLineElement = function (info) {\r\n        if (this.taskEditController.isDependencySelected(info.attr[\"dependency-id\"]))\r\n            info.className = info.className + \" active\";\r\n        return this.createElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\r\n    };\r\n    GanttView.prototype.removeConnectorLineElement = function (info) {\r\n        this.removeElement(info, null, this.taskArea, this.connectorLinesToElementsMap);\r\n    };\r\n    GanttView.prototype.createNoWorkingIntervalElement = function (info) {\r\n        return this.createElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\r\n    };\r\n    GanttView.prototype.removeNoWorkingIntervalElement = function (info) {\r\n        this.removeElement(info, null, this.taskArea, this.noWorkingIntervalsToElementsMap);\r\n    };\r\n    GanttView.prototype.createElement = function (info, index, parent, dictionary) {\r\n        var element = document.createElement(\"DIV\");\r\n        info.assignToElement(element);\r\n        parent.appendChild(element);\r\n        if (dictionary) {\r\n            if (dictionary instanceof Array && index !== null)\r\n                dictionary[index] = element;\r\n            else\r\n                dictionary[info.id] = element;\r\n        }\r\n        for (var key in info.attr) {\r\n            if (info.attr.hasOwnProperty(key)) {\r\n                element.setAttribute(key, info.attr[key]);\r\n            }\r\n        }\r\n        return element;\r\n    };\r\n    GanttView.prototype.removeElement = function (info, index, parent, dictionary) {\r\n        var element;\r\n        if (dictionary instanceof Array && index !== null) {\r\n            element = dictionary[index];\r\n            delete dictionary[index];\r\n        }\r\n        else {\r\n            element = dictionary[info.id];\r\n            delete dictionary[info.id];\r\n        }\r\n        if (element)\r\n            parent.removeChild(element);\r\n    };\r\n    GanttView.prototype.calculateAutoViewType = function (startDate, endDate) {\r\n        var diffInHours = (endDate.getTime() - startDate.getTime()) / (1000 * 3600);\r\n        if (diffInHours > 24 * 365)\r\n            return Enums_1.ViewType.Years;\r\n        if (diffInHours > 24 * 30)\r\n            return Enums_1.ViewType.Months;\r\n        if (diffInHours > 24 * 7)\r\n            return Enums_1.ViewType.Weeks;\r\n        if (diffInHours > 24)\r\n            return Enums_1.ViewType.Days;\r\n        if (diffInHours > 6)\r\n            return Enums_1.ViewType.SixHours;\r\n        if (diffInHours > 1)\r\n            return Enums_1.ViewType.Hours;\r\n        return Enums_1.ViewType.TenMinutes;\r\n    };\r\n    GanttView.prototype.changeTaskExpanded = function (publicId, expanded) {\r\n        var task = this.getTaskByPublicId(publicId);\r\n        if (task)\r\n            this.viewModel.changeTaskExpanded(task.internalId, expanded);\r\n    };\r\n    GanttView.prototype.expandTask = function (id) { this.viewModel.changeTaskExpanded(id, true); };\r\n    GanttView.prototype.collapseTask = function (id) { this.viewModel.changeTaskExpanded(id, false); };\r\n    GanttView.prototype.showTask = function (id) { this.viewModel.changeTaskVisibility(id, true); };\r\n    GanttView.prototype.hideTask = function (id) { this.viewModel.changeTaskVisibility(id, false); };\r\n    GanttView.prototype.getTaskVisibility = function (id) { return this.viewModel.getTaskVisibility(id); };\r\n    GanttView.prototype.unselectCurrentSelectedTask = function () { this.unselectTask(this.currentSelectedTaskID); };\r\n    GanttView.prototype.getTaskSelected = function (id) { return this.viewModel.getTaskSelected(id); };\r\n    GanttView.prototype.setViewType = function (viewType) {\r\n        if (viewType == undefined) {\r\n            viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\r\n        }\r\n        if (this.settings.viewType !== viewType) {\r\n            this.settings.viewType = viewType;\r\n            this.updateTickSizeWidth();\r\n            this.resetAndUpdate();\r\n        }\r\n    };\r\n    GanttView.prototype.setTaskTitlePosition = function (taskTitlePosition) {\r\n        if (this.settings.taskTitlePosition !== taskTitlePosition) {\r\n            this.settings.taskTitlePosition = taskTitlePosition;\r\n            this.resetAndUpdate();\r\n        }\r\n    };\r\n    GanttView.prototype.setShowResources = function (showResources) {\r\n        if (this.settings.showResources !== showResources) {\r\n            this.settings.showResources = showResources;\r\n            this.resetAndUpdate();\r\n        }\r\n    };\r\n    GanttView.prototype.loadOptionsFromGanttOwner = function () {\r\n        this.tickSize.height = this.ganttOwner.getRowHeight();\r\n        var tasksData = this.ganttOwner.getGanttTasksData();\r\n        this.dataRange = new DateRange_1.DateRange(this.getGanttViewStartDate(tasksData), this.getGanttViewEndDate(tasksData));\r\n        if (this.settings.viewType == undefined)\r\n            this.settings.viewType = this.calculateAutoViewType(this.dataRange.start, this.dataRange.end);\r\n        this.updateTickSizeWidth();\r\n        this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\r\n        this.viewModel = new VisualModel_1.ViewVisualModel(this, tasksData, this.ganttOwner.getGanttDependenciesData(), this.ganttOwner.getGanttResourcesData(), this.ganttOwner.getGanttResourceAssignmentsData(), this.dataRange, this.ganttOwner.getGanttWorkTimeRules());\r\n        var dispatcher = new ModelChangesDispatcher_1.ModelChangesDispatcher();\r\n        var modelChangesListener = this.ganttOwner.getModelChangesListener();\r\n        if (modelChangesListener)\r\n            dispatcher.onModelChanged.add(modelChangesListener);\r\n        this.modelManipulator = new ModelManipulator_1.ModelManipulator(this.viewModel, dispatcher);\r\n    };\r\n    GanttView.prototype.resetAndUpdate = function () {\r\n        this.reset();\r\n        this.range = this.getDateRange(this.dataRange.start, this.dataRange.end);\r\n        this.setupHelpers();\r\n        this.createTimeScaleAreas();\r\n        this.setSizeForTaskArea();\r\n        if (Browser_1.Browser.IE)\r\n            this.taskEditController.createElements();\r\n        this.updateView();\r\n    };\r\n    GanttView.prototype.selectTask = function (id) {\r\n        this.viewModel.changeTaskSelected(id, true);\r\n        this.currentSelectedTaskID = id;\r\n    };\r\n    GanttView.prototype.unselectTask = function (id) {\r\n        this.viewModel.changeTaskSelected(id, false);\r\n    };\r\n    GanttView.prototype.selectTaskById = function (publicId) {\r\n        this.unselectCurrentSelectedTask();\r\n        var task = this.getTaskByPublicId(publicId);\r\n        if (task)\r\n            this.selectTask(task.internalId);\r\n    };\r\n    GanttView.prototype.getTaskAreaContainer = function () {\r\n        return this.taskAreaContainer;\r\n    };\r\n    GanttView.prototype.setWidth = function (value) {\r\n        this.mainElement.style.width = value + \"px\";\r\n    };\r\n    GanttView.prototype.setAllowSelection = function (value) {\r\n        this.settings.allowSelectTask = value;\r\n    };\r\n    GanttView.prototype.setEditingSettings = function (value) {\r\n        this.settings.editing = value;\r\n    };\r\n    GanttView.prototype.setRowLinesVisible = function (value) {\r\n        this.settings.areHorizontalBordersEnabled = value;\r\n        this.prepareTaskAreaContainer();\r\n        this.resetAndUpdate();\r\n    };\r\n    GanttView.prototype.setTaskTitle = function (taskId, newValue) {\r\n        var task = this.getTaskByPublicId(taskId);\r\n        if (task)\r\n            this.commandManager.changeTaskTitleCommand.execute(task.internalId, newValue);\r\n    };\r\n    GanttView.prototype.setTaskProgress = function (taskId, newValue) {\r\n        var task = this.getTaskByPublicId(taskId);\r\n        if (task)\r\n            this.commandManager.changeTaskProgressCommand.execute(task.internalId, newValue);\r\n    };\r\n    GanttView.prototype.setTaskStart = function (taskId, newValue) {\r\n        var task = this.getTaskByPublicId(taskId);\r\n        if (task)\r\n            this.commandManager.changeTaskStartCommand.execute(task.internalId, newValue);\r\n    };\r\n    GanttView.prototype.setTaskEnd = function (taskId, newValue) {\r\n        var task = this.getTaskByPublicId(taskId);\r\n        if (task)\r\n            this.commandManager.changeTaskEndCommand.execute(task.internalId, newValue);\r\n    };\r\n    GanttView.prototype.removeTask = function (taskId) {\r\n        var task = this.getTaskByPublicId(taskId);\r\n        if (task)\r\n            this.commandManager.removeTaskCommand.execute(task.internalId);\r\n    };\r\n    GanttView.prototype.createTask = function (parentId) {\r\n        var parent = this.getTaskByPublicId(parentId);\r\n        var id = parent ? parent.internalId : null;\r\n        this.commandManager.createTaskCommand.execute(null, null, \"\", id);\r\n    };\r\n    GanttView.prototype.getTaskByPublicId = function (id) {\r\n        return this.viewModel.tasks.getItemByPublicId(id);\r\n    };\r\n    GanttView.prototype.getPrevTask = function (taskId) {\r\n        var item = this.viewModel.findItem(taskId);\r\n        var index = item.parent.children.indexOf(item) - 1;\r\n        return index > -1 ? item.parent.children[index].task : item.parent.task;\r\n    };\r\n    GanttView.prototype.updateCreatedTaskIdAfterServerUpdate = function (internalId, id) {\r\n        var item = this.viewModel.findItem(internalId);\r\n        var task = item && item.task;\r\n        if (task)\r\n            task.id = id;\r\n    };\r\n    GanttView.prototype.getTaskIdByInternalId = function (internalId) {\r\n        var item = this.viewModel.findItem(internalId);\r\n        var task = item && item.task;\r\n        return task ? task.id : null;\r\n    };\r\n    GanttView.prototype.isTaskHasChildren = function (taskId) {\r\n        var item = this.viewModel.findItem(taskId);\r\n        return item && item.children.length > 0;\r\n    };\r\n    return GanttView;\r\n}());\r\nexports.GanttView = GanttView;\r\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ResourceCollection_1 = __webpack_require__(13);\r\nvar TaskCollection_1 = __webpack_require__(37);\r\nvar DependencyCollection_1 = __webpack_require__(39);\r\nvar ResourceAssignmentCollection_1 = __webpack_require__(40);\r\nvar ViewVisualModelItem_1 = __webpack_require__(42);\r\nvar ViewVisualModelDependencyInfo_1 = __webpack_require__(43);\r\nvar WorkingTimeCalculator_1 = __webpack_require__(44);\r\nvar ViewVisualModel = (function () {\r\n    function ViewVisualModel(owner, tasks, dependencies, resources, assignments, dateRange, workTimeRules) {\r\n        this._fLockCount = 0;\r\n        this.owner = owner;\r\n        this.tasks = new TaskCollection_1.TaskCollection();\r\n        this.tasks.importFromObject(tasks);\r\n        this.dependencies = new DependencyCollection_1.DependencyCollection();\r\n        this.dependencies.importFromObject(dependencies);\r\n        this.resources = new ResourceCollection_1.ResourceCollection();\r\n        this.resources.importFromObject(resources);\r\n        this.assignments = new ResourceAssignmentCollection_1.ResourceAssignmentCollection();\r\n        this.assignments.importFromObject(assignments);\r\n        this._itemList = new Array();\r\n        this._viewItemList = new Array();\r\n        this._workTimeCalculator = new WorkingTimeCalculator_1.WorkingTimeCalculator(dateRange, workTimeRules);\r\n        this.updateModel();\r\n    }\r\n    ViewVisualModel.prototype.updateModel = function () {\r\n        this._itemList.splice(0, this._itemList.length);\r\n        var tasks = this.tasks.items;\r\n        for (var i = 0; i < tasks.length; i++) {\r\n            var task = tasks[i];\r\n            if (task)\r\n                this._itemList.push(new ViewVisualModelItem_1.ViewVisualModelItem(task, this.getAssignedResources(task)));\r\n        }\r\n        this.createHierarchy();\r\n        this.populateItemsForView();\r\n        if (this.owner && this.owner.currentSelectedTaskID)\r\n            this.changeTaskSelected(this.owner.currentSelectedTaskID, true);\r\n    };\r\n    ViewVisualModel.prototype.createHierarchy = function () {\r\n        this.root = new ViewVisualModelItem_1.ViewVisualModelItem(null, null);\r\n        var list = this._itemList;\r\n        var _loop_1 = function () {\r\n            var item = list[i];\r\n            var parentId = item.task.parentId;\r\n            var parentItem = list.filter(function (value) { return value.task && value.task.internalId === parentId || value.task.internalId.toString() === parentId; })[0] || this_1.root;\r\n            item.parent = parentItem;\r\n            parentItem.addChild(item);\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < list.length; i++) {\r\n            _loop_1();\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.populateItemsForView = function () {\r\n        this._viewItemList.splice(0, this._viewItemList.length);\r\n        this.populateVisibleItems(this.root);\r\n        this.updateVisibleItemDependencies();\r\n    };\r\n    ViewVisualModel.prototype.populateVisibleItems = function (item) {\r\n        var _this = this;\r\n        var isRoot = item === this.root;\r\n        if (!item || (!item.task && !isRoot))\r\n            return;\r\n        if (!isRoot) {\r\n            this._viewItemList.push(item);\r\n            item.visibleIndex = this._viewItemList.length - 1;\r\n        }\r\n        if (item.getExpanded() || item === this.root)\r\n            item.children.forEach(function (n) { return _this.populateVisibleItems(n); });\r\n    };\r\n    ViewVisualModel.prototype.updateVisibleItemDependencies = function () {\r\n        var list = this._viewItemList;\r\n        for (var i = 0; i < list.length; i++) {\r\n            var item = list[i];\r\n            var visibleDependencies = this.getTasVisibleDependencies(item.task);\r\n            item.setDependencies(visibleDependencies);\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.getAssignedResources = function (task) {\r\n        var _this = this;\r\n        var res = new ResourceCollection_1.ResourceCollection();\r\n        var assignments = this.assignments.items.filter(function (value) { return value.taskId == task.internalId; });\r\n        assignments.forEach(function (assignment) { res.add(_this.resources.getItemById(assignment.resourceId)); });\r\n        return res;\r\n    };\r\n    ViewVisualModel.prototype.getTasVisibleDependencies = function (task) {\r\n        var res = new Array();\r\n        var id = task.internalId;\r\n        var dependencies = this.dependencies.items.filter(function (value) { return value.successorId == id; });\r\n        for (var i = 0; i < dependencies.length; i++) {\r\n            var dependency = dependencies[i];\r\n            var item = this.findItem(dependency.predecessorId);\r\n            if (item && item.getVisible())\r\n                res.push(new ViewVisualModelDependencyInfo_1.ViewVisualModelDependencyInfo(dependency.internalId, item, dependency.type));\r\n        }\r\n        return res;\r\n    };\r\n    ViewVisualModel.prototype.changeTaskExpanded = function (id, expanded) {\r\n        var task = this.tasks.getItemById(String(id));\r\n        if (task) {\r\n            task.expanded = expanded;\r\n            this.changed();\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.changeTaskVisibility = function (id, visible) {\r\n        var item = this.findItem(id);\r\n        if (item) {\r\n            item.visible = visible;\r\n            this.changed();\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.changeTaskSelected = function (id, selected) {\r\n        var item = this._itemList.filter(function (value) { return value.task && value.task.internalId === id; })[0];\r\n        if (item) {\r\n            item.selected = selected;\r\n            this.changed();\r\n        }\r\n    };\r\n    ViewVisualModel.prototype.beginUpdate = function () {\r\n        this._fLockCount++;\r\n    };\r\n    ViewVisualModel.prototype.endUpdate = function () {\r\n        this._fLockCount--;\r\n        if (this._fLockCount == 0)\r\n            this.changed();\r\n    };\r\n    ViewVisualModel.prototype.changed = function () {\r\n        if (this._fLockCount !== 0)\r\n            return;\r\n        this.populateItemsForView();\r\n        if (this.owner && this.owner.onVisualModelChanged)\r\n            this.owner.onVisualModelChanged();\r\n    };\r\n    ViewVisualModel.prototype.findItem = function (taskId) {\r\n        return this._viewItemList.filter(function (value) { return value.task && value.task.internalId === taskId; })[0];\r\n    };\r\n    Object.defineProperty(ViewVisualModel.prototype, \"items\", {\r\n        get: function () { return this._viewItemList.slice(); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewVisualModel.prototype, \"itemCount\", {\r\n        get: function () { return this.items.length; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewVisualModel.prototype.getTaskVisibility = function (id) {\r\n        var item = this.findItem(id);\r\n        return !!item && item.getVisible();\r\n    };\r\n    ViewVisualModel.prototype.getTaskSelected = function (id) {\r\n        var item = this.findItem(id);\r\n        return !!item && item.selected;\r\n    };\r\n    Object.defineProperty(ViewVisualModel.prototype, \"noWorkingIntervals\", {\r\n        get: function () { return this._workTimeCalculator.noWorkingIntervals; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ViewVisualModel.prototype.updateRange = function (range) { this._workTimeCalculator.updateRange(range); };\r\n    ;\r\n    return ViewVisualModel;\r\n}());\r\nexports.ViewVisualModel = ViewVisualModel;\r\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar Resource = (function (_super) {\r\n    __extends(Resource, _super);\r\n    function Resource() {\r\n        var _this = _super.call(this) || this;\r\n        _this.text = \"\";\r\n        return _this;\r\n    }\r\n    Resource.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.text = sourceObj.text;\r\n        }\r\n    };\r\n    return Resource;\r\n}(DataObject_1.DataObject));\r\nexports.Resource = Resource;\r\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Task_1 = __webpack_require__(38);\r\nvar CollectionBase_1 = __webpack_require__(6);\r\nvar TaskCollection = (function (_super) {\r\n    __extends(TaskCollection, _super);\r\n    function TaskCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskCollection.prototype.createItem = function () { return new Task_1.Task(); };\r\n    return TaskCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.TaskCollection = TaskCollection;\r\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar TaskType;\r\n(function (TaskType) {\r\n    TaskType[TaskType[\"Regular\"] = 0] = \"Regular\";\r\n    TaskType[TaskType[\"Summary\"] = 1] = \"Summary\";\r\n    TaskType[TaskType[\"Milestone\"] = 2] = \"Milestone\";\r\n})(TaskType || (TaskType = {}));\r\nvar Task = (function (_super) {\r\n    __extends(Task, _super);\r\n    function Task() {\r\n        var _this = _super.call(this) || this;\r\n        _this.start = null;\r\n        _this.end = null;\r\n        _this.duration = null;\r\n        _this.description = \"\";\r\n        _this.parentId = \"\";\r\n        _this.title = \"\";\r\n        _this.owner = null;\r\n        _this.progress = 0;\r\n        _this.taskType = null;\r\n        _this.customFields = {};\r\n        _this.expanded = true;\r\n        return _this;\r\n    }\r\n    Task.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.owner = sourceObj.owner;\r\n            this.parentId = sourceObj.parentId != null ? String(sourceObj.parentId) : null;\r\n            this.description = sourceObj.description;\r\n            this.title = sourceObj.title;\r\n            this.start = sourceObj.start;\r\n            this.end = sourceObj.end;\r\n            this.start = typeof sourceObj.start == \"string\" ? new Date(sourceObj.start) : sourceObj.start;\r\n            this.end = typeof sourceObj.end == \"string\" ? new Date(sourceObj.end) : sourceObj.end;\r\n            this.duration = sourceObj.duration;\r\n            this.progress = sourceObj.progress;\r\n            this.taskType = sourceObj.taskType;\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.expanded))\r\n                this.expanded = !!sourceObj.expanded;\r\n            this.assignCustomFields(sourceObj.customFields);\r\n        }\r\n    };\r\n    Task.prototype.assignCustomFields = function (sourceObj) {\r\n        if (!sourceObj)\r\n            return;\r\n        for (var property in sourceObj) {\r\n            if (!sourceObj.hasOwnProperty(property))\r\n                continue;\r\n            this.customFields[property] = sourceObj[property];\r\n        }\r\n    };\r\n    Task.prototype.isMilestone = function () {\r\n        return this.start.getTime() == this.end.getTime();\r\n    };\r\n    return Task;\r\n}(DataObject_1.DataObject));\r\nexports.Task = Task;\r\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CollectionBase_1 = __webpack_require__(6);\r\nvar Dependency_1 = __webpack_require__(14);\r\nvar DependencyCollection = (function (_super) {\r\n    __extends(DependencyCollection, _super);\r\n    function DependencyCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DependencyCollection.prototype.createItem = function () { return new Dependency_1.Dependency(); };\r\n    return DependencyCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.DependencyCollection = DependencyCollection;\r\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CollectionBase_1 = __webpack_require__(6);\r\nvar ResourceAssignment_1 = __webpack_require__(41);\r\nvar ResourceAssignmentCollection = (function (_super) {\r\n    __extends(ResourceAssignmentCollection, _super);\r\n    function ResourceAssignmentCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceAssignmentCollection.prototype.createItem = function () { return new ResourceAssignment_1.ResourceAssignment(); };\r\n    return ResourceAssignmentCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.ResourceAssignmentCollection = ResourceAssignmentCollection;\r\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar ResourceAssignment = (function (_super) {\r\n    __extends(ResourceAssignment, _super);\r\n    function ResourceAssignment() {\r\n        var _this = _super.call(this) || this;\r\n        _this.taskId = \"\";\r\n        _this.resourceId = \"\";\r\n        return _this;\r\n    }\r\n    ResourceAssignment.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.taskId = String(sourceObj.taskId);\r\n            this.resourceId = String(sourceObj.resourceId);\r\n        }\r\n    };\r\n    return ResourceAssignment;\r\n}(DataObject_1.DataObject));\r\nexports.ResourceAssignment = ResourceAssignment;\r\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils_1 = __webpack_require__(0);\r\nvar ViewVisualModelItem = (function () {\r\n    function ViewVisualModelItem(task, resources) {\r\n        this.dependencies = new Array();\r\n        this.parent = null;\r\n        this.visible = true;\r\n        this.selected = false;\r\n        this.visibleIndex = -1;\r\n        this.task = task;\r\n        this.resources = resources;\r\n        this.children = new Array();\r\n    }\r\n    Object.defineProperty(ViewVisualModelItem.prototype, \"resourceText\", {\r\n        get: function () {\r\n            var text = \"\";\r\n            this.resources.items.forEach(function (r) { return text += r.text + \" \"; });\r\n            return text;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewVisualModelItem.prototype.addChild = function (child) {\r\n        if (Utils_1.JsonUtils.isExists(child) && this.children.indexOf(child) < 0)\r\n            this.children.push(child);\r\n    };\r\n    ViewVisualModelItem.prototype.removeChild = function (child) {\r\n        var index = this.children.indexOf(child);\r\n        if (index > -1)\r\n            this.children.splice(index, 1);\r\n    };\r\n    ViewVisualModelItem.prototype.getExpanded = function () {\r\n        return !!this.task && this.task.expanded;\r\n    };\r\n    ViewVisualModelItem.prototype.getVisible = function () {\r\n        if (!this.visible)\r\n            return false;\r\n        var parentItem = this.parent;\r\n        while (parentItem) {\r\n            if (!parentItem.visible)\r\n                return false;\r\n            parentItem = parentItem.parent;\r\n        }\r\n        return true;\r\n    };\r\n    ViewVisualModelItem.prototype.changeVisibility = function (visible) {\r\n        this.visible = visible;\r\n    };\r\n    ViewVisualModelItem.prototype.changeSelection = function (selected) {\r\n        this.selected = selected;\r\n    };\r\n    ViewVisualModelItem.prototype.setDependencies = function (dependencies) {\r\n        if (dependencies)\r\n            this.dependencies = dependencies.slice();\r\n    };\r\n    return ViewVisualModelItem;\r\n}());\r\nexports.ViewVisualModelItem = ViewVisualModelItem;\r\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ViewVisualModelDependencyInfo = (function () {\r\n    function ViewVisualModelDependencyInfo(id, predecessor, type) {\r\n        this.id = id;\r\n        this.predecessor = predecessor;\r\n        this.type = type;\r\n    }\r\n    return ViewVisualModelDependencyInfo;\r\n}());\r\nexports.ViewVisualModelDependencyInfo = ViewVisualModelDependencyInfo;\r\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GanttWorkingDayRuleCollection_1 = __webpack_require__(45);\r\nvar DayWorkingTimeInfo_1 = __webpack_require__(53);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar WorkingTimeCalculator = (function () {\r\n    function WorkingTimeCalculator(range, rules) {\r\n        this._workingRules = new GanttWorkingDayRuleCollection_1.WorkingDayRuleCollection();\r\n        this._workDayList = new Array();\r\n        this._calculationRange = range;\r\n        this._workingRules.importFromObject(rules);\r\n    }\r\n    WorkingTimeCalculator.prototype.calculateWorkDayList = function () {\r\n        if (!this._calculationRange)\r\n            return;\r\n        this.clearList();\r\n        var rules = this._workingRules.items;\r\n        for (var i = 0; i < rules.length; i++)\r\n            this.processRule(rules[i]);\r\n        this.sortList();\r\n    };\r\n    WorkingTimeCalculator.prototype.processRule = function (rule) {\r\n        var points = rule.recurrence.calculatePoints(this._calculationRange.start, this._calculationRange.end);\r\n        var _loop_1 = function (i) {\r\n            var point = points[i];\r\n            var dayNum = DateTimeUtils_1.DateTimeUtils.getDayNumber(point);\r\n            var dayInfo = this_1._workDayList.filter(function (i) { return i.dayNumber == dayNum; })[0];\r\n            if (dayInfo) {\r\n                dayInfo.isWorkDay = dayInfo.isWorkDay && rule.isWorkDay;\r\n                dayInfo.addWorkingIntervals(rule.workTimeRanges);\r\n            }\r\n            else\r\n                this_1._workDayList.push(new DayWorkingTimeInfo_1.DayWorkingTimeInfo(dayNum, rule.isWorkDay, rule.workTimeRanges));\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < points.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n    };\r\n    WorkingTimeCalculator.prototype.sortList = function () {\r\n        this._workDayList.sort(function (d1, d2) { return d1.dayNumber - d2.dayNumber; });\r\n    };\r\n    WorkingTimeCalculator.prototype.clearList = function () {\r\n        this._workDayList.splice(0, this._workDayList.length);\r\n    };\r\n    WorkingTimeCalculator.prototype.calculateNoWorkTimeIntervals = function () {\r\n        var _this = this;\r\n        var res = new Array();\r\n        if (this._workDayList.length == 0)\r\n            this.calculateWorkDayList();\r\n        this._workDayList.forEach(function (d) { return res = res.concat(_this.getNoWorkTimeRangesFromDay(d)); });\r\n        return this.concatJointedRanges(res);\r\n    };\r\n    WorkingTimeCalculator.prototype.concatJointedRanges = function (list) {\r\n        var res = new Array();\r\n        for (var i = 0; i < list.length; i++) {\r\n            var interval = list[i];\r\n            var needExpandPrevInterval = res.length > 0 && DateTimeUtils_1.DateTimeUtils.compareDates(res[res.length - 1].end, interval.start) < 2;\r\n            if (needExpandPrevInterval)\r\n                res[res.length - 1].end = interval.end;\r\n            else\r\n                res.push(interval);\r\n        }\r\n        return res;\r\n    };\r\n    WorkingTimeCalculator.prototype.getNoWorkTimeRangesFromDay = function (day) {\r\n        return day.noWorkingIntervals.map(function (i) { return DateTimeUtils_1.DateTimeUtils.convertTimeRangeToDateRange(i, day.dayNumber); });\r\n    };\r\n    Object.defineProperty(WorkingTimeCalculator.prototype, \"noWorkingIntervals\", {\r\n        get: function () {\r\n            if (!this._noWorkingIntervals)\r\n                this._noWorkingIntervals = this.calculateNoWorkTimeIntervals();\r\n            return this._noWorkingIntervals.slice();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WorkingTimeCalculator.prototype.updateRange = function (range) {\r\n        this._calculationRange = range;\r\n        this.invalidate();\r\n    };\r\n    WorkingTimeCalculator.prototype.invalidate = function () {\r\n        this._noWorkingIntervals = null;\r\n        this.clearList();\r\n    };\r\n    return WorkingTimeCalculator;\r\n}());\r\nexports.WorkingTimeCalculator = WorkingTimeCalculator;\r\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CollectionBase_1 = __webpack_require__(6);\r\nvar WorkingTimeRule_1 = __webpack_require__(46);\r\nvar WorkingDayRuleCollection = (function (_super) {\r\n    __extends(WorkingDayRuleCollection, _super);\r\n    function WorkingDayRuleCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WorkingDayRuleCollection.prototype.createItem = function () { return new WorkingTimeRule_1.WorkingTimeRule(); };\r\n    return WorkingDayRuleCollection;\r\n}(CollectionBase_1.CollectionBase));\r\nexports.WorkingDayRuleCollection = WorkingDayRuleCollection;\r\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DataObject_1 = __webpack_require__(4);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar RecurrenceFactory_1 = __webpack_require__(26);\r\nvar Daily_1 = __webpack_require__(27);\r\nvar WorkingTimeRule = (function (_super) {\r\n    __extends(WorkingTimeRule, _super);\r\n    function WorkingTimeRule(recurrence, isWorkDay, workTimeRanges) {\r\n        if (recurrence === void 0) { recurrence = null; }\r\n        if (isWorkDay === void 0) { isWorkDay = true; }\r\n        if (workTimeRanges === void 0) { workTimeRanges = null; }\r\n        var _this = _super.call(this) || this;\r\n        _this.isWorkDay = true;\r\n        _this.workTimeRanges = new Array();\r\n        _this.recurrence = recurrence;\r\n        _this.isWorkDay = isWorkDay;\r\n        if (workTimeRanges)\r\n            _this.workTimeRanges.concat(workTimeRanges);\r\n        return _this;\r\n    }\r\n    WorkingTimeRule.prototype.assignFromObject = function (sourceObj) {\r\n        if (Utils_1.JsonUtils.isExists(sourceObj)) {\r\n            _super.prototype.assignFromObject.call(this, sourceObj);\r\n            this.recurrence = RecurrenceFactory_1.RecurrenceFactory.createRecurrenceByType(sourceObj.recurrenceType) || new Daily_1.Daily();\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.recurrence))\r\n                this.recurrence.assignFromObject(sourceObj.recurrence);\r\n            if (Utils_1.JsonUtils.isExists(sourceObj.isWorkDay))\r\n                this.isWorkDay = !!sourceObj.isWorkDay;\r\n            var ranges = DateTimeUtils_1.DateTimeUtils.convertToTimeRanges(sourceObj.workTimeRanges);\r\n            if (ranges)\r\n                this.workTimeRanges = ranges;\r\n        }\r\n    };\r\n    return WorkingTimeRule;\r\n}(DataObject_1.DataObject));\r\nexports.WorkingTimeRule = WorkingTimeRule;\r\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DayOfWeek;\r\n(function (DayOfWeek) {\r\n    DayOfWeek[DayOfWeek[\"Sunday\"] = 0] = \"Sunday\";\r\n    DayOfWeek[DayOfWeek[\"Monday\"] = 1] = \"Monday\";\r\n    DayOfWeek[DayOfWeek[\"Tuesday\"] = 2] = \"Tuesday\";\r\n    DayOfWeek[DayOfWeek[\"Wednesday\"] = 3] = \"Wednesday\";\r\n    DayOfWeek[DayOfWeek[\"Thursday\"] = 4] = \"Thursday\";\r\n    DayOfWeek[DayOfWeek[\"Friday\"] = 5] = \"Friday\";\r\n    DayOfWeek[DayOfWeek[\"Saturday\"] = 6] = \"Saturday\";\r\n})(DayOfWeek = exports.DayOfWeek || (exports.DayOfWeek = {}));\r\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Month;\r\n(function (Month) {\r\n    Month[Month[\"January\"] = 0] = \"January\";\r\n    Month[Month[\"February\"] = 1] = \"February\";\r\n    Month[Month[\"March\"] = 2] = \"March\";\r\n    Month[Month[\"April\"] = 3] = \"April\";\r\n    Month[Month[\"May\"] = 4] = \"May\";\r\n    Month[Month[\"June\"] = 5] = \"June\";\r\n    Month[Month[\"July\"] = 6] = \"July\";\r\n    Month[Month[\"August\"] = 7] = \"August\";\r\n    Month[Month[\"September\"] = 8] = \"September\";\r\n    Month[Month[\"October\"] = 9] = \"October\";\r\n    Month[Month[\"November\"] = 10] = \"November\";\r\n    Month[Month[\"December\"] = 11] = \"December\";\r\n})(Month = exports.Month || (exports.Month = {}));\r\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RecurrenceBase_1 = __webpack_require__(11);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Weekly = (function (_super) {\r\n    __extends(Weekly, _super);\r\n    function Weekly() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Weekly.prototype.checkDate = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal, date);\r\n    };\r\n    Weekly.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date) % this.interval == 0;\r\n    };\r\n    Weekly.prototype.calculatePointByInterval = function (date) {\r\n        var weeksFromStart = DateTimeUtils_1.DateTimeUtils.getWeeksBetween(this.start, date);\r\n        var intervalCount = Math.floor(weeksFromStart / this.interval);\r\n        var remainder = weeksFromStart % this.interval;\r\n        var isPointOnNewWeek = remainder > 0 || date.getDay() >= this.dayOfWeekInternal;\r\n        if (isPointOnNewWeek)\r\n            intervalCount++;\r\n        var weeksToAdd = intervalCount * this.interval;\r\n        return this.calcNextPointWithWeekCount(this.start, weeksToAdd);\r\n    };\r\n    Weekly.prototype.calculateNearestPoint = function (date) {\r\n        var diff = this.dayOfWeekInternal - date.getDay();\r\n        if (diff > 0)\r\n            return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), diff);\r\n        return this.calcNextPointWithWeekCount(date, 1);\r\n    };\r\n    Weekly.prototype.calcNextPointWithWeekCount = function (date, weekCount) {\r\n        if (weekCount === void 0) { weekCount = 1; }\r\n        var daysToAdd = weekCount * 7 + this.dayOfWeekInternal - date.getDay();\r\n        return DateTimeUtils_1.DateTimeUtils.addDays(new Date(date), daysToAdd);\r\n    };\r\n    Object.defineProperty(Weekly.prototype, \"dayOfWeek\", {\r\n        get: function () { return this.dayOfWeekInternal; },\r\n        set: function (value) { this.dayOfWeekInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    return Weekly;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Weekly = Weekly;\r\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RecurrenceBase_1 = __webpack_require__(11);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar MonthInfo_1 = __webpack_require__(51);\r\nvar Monthly = (function (_super) {\r\n    __extends(Monthly, _super);\r\n    function Monthly() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Monthly.prototype.checkDate = function (date) {\r\n        if (this._calculateByDayOfWeek)\r\n            return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\r\n        return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\r\n    };\r\n    Monthly.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getMonthsDifference(this.start, date) % this.interval == 0;\r\n    };\r\n    Monthly.prototype.calculatePointByInterval = function (date) {\r\n        var start = this.start;\r\n        var monthFromStart = DateTimeUtils_1.DateTimeUtils.getMonthsDifference(start, date);\r\n        var monthToAdd = Math.floor(monthFromStart / this.interval) * this.interval;\r\n        var info = new MonthInfo_1.MonthInfo(start.getMonth(), start.getFullYear());\r\n        info.addMonths(monthToAdd);\r\n        var point = this.getSpecDayInMonth(info.year, info.month);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\r\n            info.addMonths(this.interval);\r\n            point = this.getSpecDayInMonth(info.year, info.month);\r\n        }\r\n        return point;\r\n    };\r\n    Monthly.prototype.calculateNearestPoint = function (date) {\r\n        var month = date.getMonth();\r\n        var year = date.getFullYear();\r\n        var point = this.getSpecDayInMonth(year, month);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\r\n            var info = new MonthInfo_1.MonthInfo(month, year);\r\n            info.addMonths(1);\r\n            point = this.getSpecDayInMonth(info.year, info.month);\r\n        }\r\n        return point;\r\n    };\r\n    Object.defineProperty(Monthly.prototype, \"day\", {\r\n        get: function () { return this.dayInternal; },\r\n        set: function (value) { this.dayInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Monthly.prototype, \"dayOfWeek\", {\r\n        get: function () { return this.dayOfWeekInternal; },\r\n        set: function (value) { this.dayOfWeekInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Monthly.prototype, \"dayOfWeekOccurrence\", {\r\n        get: function () { return this.dayOfWeekOccurrenceInternal; },\r\n        set: function (value) { this.dayOfWeekOccurrenceInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Monthly.prototype, \"calculateByDayOfWeek\", {\r\n        get: function () { return this._calculateByDayOfWeek; },\r\n        set: function (value) { this._calculateByDayOfWeek = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    return Monthly;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Monthly = Monthly;\r\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar MonthInfo = (function () {\r\n    function MonthInfo(month, year) {\r\n        this.month = month;\r\n        this.year = year;\r\n    }\r\n    MonthInfo.prototype.addMonths = function (months) {\r\n        var nextMonth = DateTimeUtils_1.DateTimeUtils.getNextMonth(this.month, months);\r\n        var yearInc = Math.floor(months / 12);\r\n        if (nextMonth < this.month)\r\n            ++yearInc;\r\n        this.month = nextMonth;\r\n        this.year += yearInc;\r\n    };\r\n    return MonthInfo;\r\n}());\r\nexports.MonthInfo = MonthInfo;\r\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RecurrenceBase_1 = __webpack_require__(11);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Yearly = (function (_super) {\r\n    __extends(Yearly, _super);\r\n    function Yearly() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Yearly.prototype.checkDate = function (date) {\r\n        if (!DateTimeUtils_1.DateTimeUtils.checkMonth(this.month, date))\r\n            return false;\r\n        if (this._calculateByDayOfWeek)\r\n            return DateTimeUtils_1.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(date, this.dayOfWeekInternal, this.dayOfWeekOccurrenceInternal);\r\n        return DateTimeUtils_1.DateTimeUtils.checkDayOfMonth(this.dayInternal, date);\r\n    };\r\n    Yearly.prototype.checkInterval = function (date) {\r\n        return DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date) % this.interval == 0;\r\n    };\r\n    Yearly.prototype.calculatePointByInterval = function (date) {\r\n        var yearFromStart = DateTimeUtils_1.DateTimeUtils.getYearsDifference(this.start, date);\r\n        var yearInc = Math.floor(yearFromStart / this.interval) * this.interval;\r\n        var newYear = this.start.getFullYear() + yearInc;\r\n        var point = this.getSpecDayInMonth(newYear, this.monthInternal);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0) {\r\n            newYear += this.interval;\r\n            point = this.getSpecDayInMonth(newYear, this.monthInternal);\r\n        }\r\n        return point;\r\n    };\r\n    Yearly.prototype.calculateNearestPoint = function (date) {\r\n        var year = date.getFullYear();\r\n        var point = this.getSpecDayInMonth(year, this.monthInternal);\r\n        if (DateTimeUtils_1.DateTimeUtils.compareDates(point, date) >= 0)\r\n            point = this.getSpecDayInMonth(++year, this.monthInternal);\r\n        return point;\r\n    };\r\n    Object.defineProperty(Yearly.prototype, \"month\", {\r\n        get: function () { return this.monthInternal; },\r\n        set: function (value) { this.monthInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Yearly.prototype, \"day\", {\r\n        get: function () { return this.dayInternal; },\r\n        set: function (value) { this.dayInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Yearly.prototype, \"dayOfWeek\", {\r\n        get: function () { return this.dayOfWeekInternal; },\r\n        set: function (value) { this.dayOfWeekInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Yearly.prototype, \"dayOfWeekOccurrence\", {\r\n        get: function () { return this.dayOfWeekOccurrenceInternal; },\r\n        set: function (value) { this.dayOfWeekOccurrenceInternal = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    Object.defineProperty(Yearly.prototype, \"calculateByDayOfWeek\", {\r\n        get: function () { return this._calculateByDayOfWeek; },\r\n        set: function (value) { this._calculateByDayOfWeek = value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    ;\r\n    return Yearly;\r\n}(RecurrenceBase_1.RecurrenceBase));\r\nexports.Yearly = Yearly;\r\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TimeRange_1 = __webpack_require__(24);\r\nvar DateTimeUtils_1 = __webpack_require__(2);\r\nvar Time_1 = __webpack_require__(23);\r\nvar DayWorkingTimeInfo = (function () {\r\n    function DayWorkingTimeInfo(dayNumber, isWorkDay, intervals) {\r\n        if (dayNumber === void 0) { dayNumber = 0; }\r\n        if (isWorkDay === void 0) { isWorkDay = true; }\r\n        if (intervals === void 0) { intervals = null; }\r\n        this._workingIntervals = new Array();\r\n        this.dayNumber = dayNumber;\r\n        this.isWorkDay = isWorkDay;\r\n        this.addWorkingIntervals(intervals);\r\n    }\r\n    DayWorkingTimeInfo.prototype.addWorkingIntervals = function (intervals) {\r\n        if (!intervals)\r\n            return;\r\n        this._workingIntervals = this._workingIntervals.concat(intervals.filter(function (r) { return !!r; }));\r\n        this.rearrangeWorkingIntervals();\r\n    };\r\n    DayWorkingTimeInfo.prototype.rearrangeWorkingIntervals = function () {\r\n        for (var i = 0; i < this._workingIntervals.length; i++) {\r\n            this.concatWithIntersectedRanges(this._workingIntervals[i]);\r\n        }\r\n        this.sortIntervals();\r\n    };\r\n    ;\r\n    DayWorkingTimeInfo.prototype.concatWithIntersectedRanges = function (range) {\r\n        var _this = this;\r\n        var intersectedRanges = this.getIntersectedIntervals(range);\r\n        intersectedRanges.forEach(function (r) {\r\n            range.concatWith(r);\r\n            _this.removeInterval(r);\r\n        });\r\n    };\r\n    ;\r\n    DayWorkingTimeInfo.prototype.getIntersectedIntervals = function (range) {\r\n        return this._workingIntervals.filter(function (r) { return r.hasIntersect(range) && r !== range; });\r\n    };\r\n    ;\r\n    DayWorkingTimeInfo.prototype.sortIntervals = function () {\r\n        this._workingIntervals.sort(function (r1, r2) { return DateTimeUtils_1.DateTimeUtils.caclTimeDifference(r2.start, r1.start); });\r\n    };\r\n    ;\r\n    DayWorkingTimeInfo.prototype.removeInterval = function (element) {\r\n        var index = this._workingIntervals.indexOf(element);\r\n        if (index > -1 && index < this._workingIntervals.length)\r\n            this._workingIntervals.splice(index, 1);\r\n    };\r\n    ;\r\n    DayWorkingTimeInfo.prototype.clearIntervals = function () {\r\n        this._workingIntervals.splice(0, this._workingIntervals.length);\r\n    };\r\n    Object.defineProperty(DayWorkingTimeInfo.prototype, \"workingIntervals\", {\r\n        get: function () { return this._workingIntervals.slice(); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(DayWorkingTimeInfo.prototype, \"noWorkingIntervals\", {\r\n        get: function () {\r\n            var res = new Array();\r\n            if (this.isWorkDay && this._workingIntervals.length == 0)\r\n                return res;\r\n            var starts = this._workingIntervals.map(function (r) { return r.end; });\r\n            starts.splice(0, 0, new Time_1.Time());\r\n            var ends = this._workingIntervals.map(function (r) { return r.start; });\r\n            ends.push(DateTimeUtils_1.DateTimeUtils.getLastTimeOfDay());\r\n            for (var i = 0; i < starts.length; i++) {\r\n                var start = starts[i];\r\n                var end = ends[i];\r\n                if (!DateTimeUtils_1.DateTimeUtils.areTimesEqual(start, end))\r\n                    res.push(new TimeRange_1.TimeRange(start, end));\r\n            }\r\n            return res;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(DayWorkingTimeInfo.prototype, \"isWorkDay\", {\r\n        get: function () { return this._isWorkDay; },\r\n        set: function (value) {\r\n            this._isWorkDay = value;\r\n            if (!value)\r\n                this.clearIntervals();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    return DayWorkingTimeInfo;\r\n}());\r\nexports.DayWorkingTimeInfo = DayWorkingTimeInfo;\r\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Margins = (function () {\r\n    function Margins() {\r\n        this.marginLeft = null;\r\n        this.marginTop = null;\r\n        this.marginRight = null;\r\n        this.marginBottom = null;\r\n    }\r\n    return Margins;\r\n}());\r\nexports.Margins = Margins;\r\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EtalonSizeValues = (function () {\r\n    function EtalonSizeValues() {\r\n        this.scaleItemWidths = {};\r\n    }\r\n    return EtalonSizeValues;\r\n}());\r\nexports.EtalonSizeValues = EtalonSizeValues;\r\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DependencyManipulator_1 = __webpack_require__(57);\r\nvar ResourcesManipulator_1 = __webpack_require__(59);\r\nvar TaskManipulator_1 = __webpack_require__(60);\r\nvar ModelManipulator = (function () {\r\n    function ModelManipulator(viewModel, dispatcher) {\r\n        this.task = new TaskManipulator_1.TaskManipulator(viewModel, dispatcher);\r\n        this.dependency = new DependencyManipulator_1.TaskDependencyManipulator(viewModel, dispatcher);\r\n        this.resource = new ResourcesManipulator_1.ResourcesManipulator(viewModel, dispatcher);\r\n    }\r\n    return ModelManipulator;\r\n}());\r\nexports.ModelManipulator = ModelManipulator;\r\n\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskPropertiesManipulator_1 = __webpack_require__(17);\r\nvar TaskDependencyManipulator = (function (_super) {\r\n    __extends(TaskDependencyManipulator, _super);\r\n    function TaskDependencyManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDependencyManipulator.prototype.insertDependency = function (predecessorId, successorId, type, id) {\r\n        var dependency = this.viewModel.dependencies.createItem();\r\n        dependency.predecessorId = predecessorId;\r\n        dependency.successorId = successorId;\r\n        dependency.type = type;\r\n        if (id)\r\n            dependency.internalId = id;\r\n        this.viewModel.dependencies.add(dependency);\r\n        this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(dependency), function (id) { return dependency.id = id; });\r\n        this.viewModel.updateVisibleItemDependencies();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return dependency;\r\n    };\r\n    TaskDependencyManipulator.prototype.removeDependency = function (dependencyId) {\r\n        var dependency = this.viewModel.dependencies.getItemById(dependencyId);\r\n        this.viewModel.dependencies.remove(dependency);\r\n        this.dispatcher.notifyDependencyRemoved(dependency.id);\r\n        this.viewModel.updateVisibleItemDependencies();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return dependency;\r\n    };\r\n    TaskDependencyManipulator.prototype.getObjectForDataSource = function (dependency) {\r\n        return {\r\n            id: dependency.id,\r\n            predecessorId: this.viewModel.tasks.getItemById(dependency.predecessorId).id,\r\n            successorId: this.viewModel.tasks.getItemById(dependency.successorId).id,\r\n            type: dependency.type\r\n        };\r\n    };\r\n    return TaskDependencyManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.TaskDependencyManipulator = TaskDependencyManipulator;\r\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItemState = (function () {\r\n    function HistoryItemState(taskId, value) {\r\n        this.taskId = taskId;\r\n        this.value = value;\r\n    }\r\n    return HistoryItemState;\r\n}());\r\nexports.HistoryItemState = HistoryItemState;\r\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskPropertiesManipulator_1 = __webpack_require__(17);\r\nvar ResourcesManipulator = (function (_super) {\r\n    __extends(ResourcesManipulator, _super);\r\n    function ResourcesManipulator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourcesManipulator.prototype.create = function (text, id) {\r\n        var resource = this.viewModel.resources.createItem();\r\n        resource.text = text;\r\n        if (id)\r\n            resource.internalId = id;\r\n        this.viewModel.resources.add(resource);\r\n        this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(resource), function (id) { return resource.id = id; });\r\n        return resource;\r\n    };\r\n    ResourcesManipulator.prototype.remove = function (resourceId) {\r\n        var resource = this.viewModel.resources.getItemById(resourceId);\r\n        if (!resource)\r\n            throw new Error(\"Invalid resource id\");\r\n        var assignments = this.viewModel.assignments.items.filter(function (a) { return a.resourceId == resourceId; });\r\n        if (assignments.length)\r\n            throw new Error(\"Can't delete assigned resource\");\r\n        this.viewModel.resources.remove(resource);\r\n        this.dispatcher.notifyResourceRemoved(resource.id);\r\n        return resource;\r\n    };\r\n    ResourcesManipulator.prototype.assign = function (resourceID, taskId, id) {\r\n        var assignment = this.viewModel.assignments.createItem();\r\n        assignment.resourceId = resourceID;\r\n        assignment.taskId = taskId;\r\n        if (id)\r\n            assignment.internalId = id;\r\n        this.viewModel.assignments.add(assignment);\r\n        this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(assignment), function (id) { return assignment.id = id; });\r\n        this.viewModel.updateModel();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return assignment;\r\n    };\r\n    ResourcesManipulator.prototype.deassig = function (assignmentId) {\r\n        var assignment = this.viewModel.assignments.getItemById(assignmentId);\r\n        this.viewModel.assignments.remove(assignment);\r\n        this.dispatcher.notifyResourceUnassigned(assignment);\r\n        this.viewModel.updateModel();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return assignment;\r\n    };\r\n    ResourcesManipulator.prototype.getResourceObjectForDataSource = function (resource) {\r\n        return {\r\n            id: resource.id,\r\n            text: resource.text\r\n        };\r\n    };\r\n    ResourcesManipulator.prototype.getResourceAssignmentObjectForDataSource = function (resourceAssignment) {\r\n        return {\r\n            id: resourceAssignment,\r\n            taskId: this.viewModel.tasks.getItemById(resourceAssignment.taskId).id,\r\n            resourceId: this.viewModel.resources.getItemById(resourceAssignment.resourceId).id\r\n        };\r\n    };\r\n    return ResourcesManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.ResourcesManipulator = ResourcesManipulator;\r\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskPropertiesManipulator_1 = __webpack_require__(17);\r\nvar TaskManipulator = (function (_super) {\r\n    __extends(TaskManipulator, _super);\r\n    function TaskManipulator(viewModel, dispatcher) {\r\n        var _this = _super.call(this, viewModel, dispatcher) || this;\r\n        _this.properties = new TaskPropertiesManipulator_1.TaskPropertiesManipulator(viewModel, dispatcher);\r\n        return _this;\r\n    }\r\n    TaskManipulator.prototype.create = function (start, end, title, parentId, id) {\r\n        var task = this.viewModel.tasks.createItem();\r\n        task.start = start;\r\n        task.end = end;\r\n        task.title = title;\r\n        if (parentId) {\r\n            var parentItem = this.viewModel.tasks.getItemById(parentId);\r\n            parentItem.expanded = true;\r\n            task.parentId = parentId;\r\n        }\r\n        if (id) {\r\n            task.internalId = id;\r\n        }\r\n        task.id = task.internalId;\r\n        this.viewModel.tasks.add(task);\r\n        this.viewModel.updateModel();\r\n        this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(task), function (id) { return task.id = id; });\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return task;\r\n    };\r\n    TaskManipulator.prototype.remove = function (taskId) {\r\n        var task = this.viewModel.tasks.getItemById(taskId);\r\n        if (!task)\r\n            throw new Error(\"Invalid task id\");\r\n        var dependencies = this.viewModel.dependencies.items.filter(function (d) { return d.predecessorId == taskId || d.successorId == taskId; });\r\n        if (dependencies.length)\r\n            throw new Error(\"Can't delete task with dependency\");\r\n        var assignments = this.viewModel.assignments.items.filter(function (a) { return a.taskId == taskId; });\r\n        if (assignments.length)\r\n            throw new Error(\"Can't delete task with assigned resource\");\r\n        this.viewModel.tasks.remove(task);\r\n        this.dispatcher.notifyTaskRemoved(task.id);\r\n        this.viewModel.updateModel();\r\n        this.viewModel.owner.resetAndUpdate();\r\n        return task;\r\n    };\r\n    TaskManipulator.prototype.getObjectForDataSource = function (task) {\r\n        return {\r\n            id: task.id,\r\n            start: task.start,\r\n            end: task.end,\r\n            duration: task.duration,\r\n            description: task.description,\r\n            parentId: task.parentId ? this.viewModel.tasks.getItemById(task.parentId).id : null,\r\n            progress: task.progress,\r\n            taskType: task.taskType,\r\n            title: task.title,\r\n            customFields: task.customFields,\r\n            expanded: task.expanded\r\n        };\r\n    };\r\n    return TaskManipulator;\r\n}(TaskPropertiesManipulator_1.BaseManipulator));\r\nexports.TaskManipulator = TaskManipulator;\r\n\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem_1 = __webpack_require__(9);\r\nvar History = (function () {\r\n    function History() {\r\n        this.historyItems = [];\r\n        this.currentIndex = -1;\r\n        this.transaction = null;\r\n        this.transactionLevel = -1;\r\n    }\r\n    History.prototype.undo = function () {\r\n        if (this.currentIndex < 0)\r\n            return;\r\n        this.historyItems[this.currentIndex].undo();\r\n        this.currentIndex--;\r\n    };\r\n    History.prototype.redo = function () {\r\n        if (this.currentIndex >= this.historyItems.length - 1)\r\n            return;\r\n        this.currentIndex++;\r\n        this.historyItems[this.currentIndex].redo();\r\n    };\r\n    History.prototype.beginTransaction = function () {\r\n        this.transactionLevel++;\r\n        if (this.transactionLevel == 0)\r\n            this.transaction = new HistoryItem_1.CompositionHistoryItem();\r\n    };\r\n    History.prototype.endTransaction = function () {\r\n        if (--this.transactionLevel >= 0)\r\n            return;\r\n        var transactionLength = this.transaction.historyItems.length;\r\n        if (transactionLength > 1)\r\n            this.addInternal(this.transaction);\r\n        else if (transactionLength == 1)\r\n            this.addInternal(this.transaction.historyItems.pop());\r\n        this.transaction = null;\r\n    };\r\n    History.prototype.addAndRedo = function (historyItem) {\r\n        this.add(historyItem);\r\n        historyItem.redo();\r\n    };\r\n    History.prototype.add = function (historyItem) {\r\n        if (this.transactionLevel >= 0)\r\n            this.transaction.add(historyItem);\r\n        else\r\n            this.addInternal(historyItem);\r\n    };\r\n    History.prototype.addInternal = function (historyItem) {\r\n        if (this.currentIndex < this.historyItems.length - 1)\r\n            this.historyItems.splice(this.currentIndex + 1);\r\n        this.historyItems.push(historyItem);\r\n        this.currentIndex++;\r\n        this.deleteOldItems();\r\n    };\r\n    History.prototype.deleteOldItems = function () {\r\n        var exceedItemsCount = this.historyItems.length - History.MAX_HISTORY_ITEM_COUNT;\r\n        if (exceedItemsCount > 0 && this.currentIndex > exceedItemsCount) {\r\n            this.historyItems.splice(0, exceedItemsCount);\r\n            this.currentIndex -= exceedItemsCount;\r\n        }\r\n    };\r\n    History.prototype.clear = function () {\r\n        this.currentIndex = -1;\r\n        this.historyItems = [];\r\n    };\r\n    History.MAX_HISTORY_ITEM_COUNT = 100;\r\n    return History;\r\n}());\r\nexports.History = History;\r\n\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MouseHandler_1 = __webpack_require__(63);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar KeyCode_1 = __webpack_require__(71);\r\nvar Browser_1 = __webpack_require__(12);\r\nvar EventManager = (function () {\r\n    function EventManager(control) {\r\n        this.control = control;\r\n        this.mouseHandler = new MouseHandler_1.MouseHandler(control);\r\n    }\r\n    EventManager.prototype.onMouseDown = function (evt) {\r\n        this.mouseHandler.onMouseDown(evt);\r\n    };\r\n    EventManager.prototype.onMouseMove = function (evt) {\r\n        this.mouseHandler.onMouseMove(evt);\r\n    };\r\n    EventManager.prototype.onMouseUp = function (evt) {\r\n        this.mouseHandler.onMouseUp(evt);\r\n    };\r\n    EventManager.prototype.onMouseDblClick = function (evt) {\r\n        this.mouseHandler.onMouseDoubleClick(evt);\r\n    };\r\n    EventManager.prototype.onMouseWheel = function (evt) {\r\n        this.mouseHandler.onMouseWheel(evt);\r\n    };\r\n    EventManager.prototype.onKeyDown = function (evt) {\r\n        if (this.control.isFocus) {\r\n            var code = this.getShortcutCode(evt);\r\n            if (code == (KeyCode_1.ModifierKey.Ctrl | KeyCode_1.KeyCode.Key_z))\r\n                this.control.history.undo();\r\n            if (code == (KeyCode_1.ModifierKey.Ctrl | KeyCode_1.KeyCode.Key_y))\r\n                this.control.history.redo();\r\n            if (code == KeyCode_1.KeyCode.Delete)\r\n                this.control.taskEditController.deleteSelectedDependency();\r\n        }\r\n    };\r\n    EventManager.prototype.getShortcutCode = function (evt) {\r\n        var keyCode = DomUtils_1.DomUtils.GetKeyCode(evt);\r\n        var modifiers = 0;\r\n        if (evt.altKey)\r\n            modifiers |= KeyCode_1.ModifierKey.Alt;\r\n        if (evt.ctrlKey)\r\n            modifiers |= KeyCode_1.ModifierKey.Ctrl;\r\n        if (evt.shiftKey)\r\n            modifiers |= KeyCode_1.ModifierKey.Shift;\r\n        if (evt.metaKey && Browser_1.Browser.MacOSPlatform)\r\n            modifiers |= KeyCode_1.ModifierKey.Meta;\r\n        return modifiers | keyCode;\r\n    };\r\n    return EventManager;\r\n}());\r\nexports.EventManager = EventManager;\r\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HandlerBase_1 = __webpack_require__(64);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar TaskEditController_1 = __webpack_require__(30);\r\nvar MouseHandlerDefaultState_1 = __webpack_require__(65);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerMoveTaskState_1 = __webpack_require__(67);\r\nvar MouseHandlerProgressTaskState_1 = __webpack_require__(68);\r\nvar MouseHandlerTimestampTaskState_1 = __webpack_require__(69);\r\nvar MouseHandlerDependencyState_1 = __webpack_require__(70);\r\nvar MouseHandler = (function (_super) {\r\n    __extends(MouseHandler, _super);\r\n    function MouseHandler() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandler.prototype.onMouseDoubleClick = function (evt) {\r\n        this.state.onMouseDoubleClick(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseDown = function (evt) {\r\n        var source = this.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\r\n        switch (source) {\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Frame:\r\n                this.switchState(new MouseHandlerMoveTaskState_1.MouseHandlerMoveTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Progress:\r\n                this.switchState(new MouseHandlerProgressTaskState_1.MouseHandlerProgressTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_Start:\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_End:\r\n                this.switchState(new MouseHandlerTimestampTaskState_1.MouseHandlerTimestampTaskState(this));\r\n                break;\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart:\r\n            case TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish:\r\n                this.switchState(new MouseHandlerDependencyState_1.MouseHandlerDependencyState(this));\r\n                break;\r\n        }\r\n        this.state.onMouseDown(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseUp = function (evt) {\r\n        this.state.onMouseUp(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseMove = function (evt) {\r\n        this.state.onMouseMove(evt);\r\n    };\r\n    MouseHandler.prototype.onMouseWheel = function (evt) {\r\n        this.state.onMouseWheel(evt);\r\n    };\r\n    MouseHandler.prototype.switchToDefaultState = function () {\r\n        this.state = new MouseHandlerDefaultState_1.MouseHandlerDefaultState(this);\r\n    };\r\n    MouseHandler.prototype.getMouseEventSource = function (initSource) {\r\n        var source = initSource.nodeType === Node.ELEMENT_NODE ? initSource : initSource.parentNode;\r\n        var className = source.className;\r\n        return TaskEditController_1.TaskEditController.classToSource[className] || TaskAreaManager_1.MouseEventSource.TaskArea;\r\n    };\r\n    return MouseHandler;\r\n}(HandlerBase_1.HandlerBase));\r\nexports.MouseHandler = MouseHandler;\r\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HandlerBase = (function () {\r\n    function HandlerBase(control) {\r\n        this.control = control;\r\n        this.switchToDefaultState();\r\n    }\r\n    HandlerBase.prototype.switchState = function (state) {\r\n        if (this.state)\r\n            this.state.finish();\r\n        this.state = state;\r\n        this.state.start();\r\n    };\r\n    HandlerBase.prototype.switchToDefaultState = function () {\r\n        throw new Error(\"Not implemented\");\r\n    };\r\n    return HandlerBase;\r\n}());\r\nexports.HandlerBase = HandlerBase;\r\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerStateBase_1 = __webpack_require__(18);\r\nvar Point_1 = __webpack_require__(3);\r\nvar GridLayoutCalculator_1 = __webpack_require__(16);\r\nvar MouseHandlerDefaultState = (function (_super) {\r\n    __extends(MouseHandlerDefaultState, _super);\r\n    function MouseHandlerDefaultState(handler) {\r\n        var _this = _super.call(this, handler) || this;\r\n        _this.ganttMovingHelper = new GanttMovingHelper(_this.handler.control);\r\n        return _this;\r\n    }\r\n    MouseHandlerDefaultState.prototype.onMouseDown = function (evt) {\r\n        evt.preventDefault();\r\n        var source = DomUtils_1.DomUtils.getEventSource(evt);\r\n        if (source.className == GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL ||\r\n            source.className == GridLayoutCalculator_1.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL) {\r\n            var id = source.getAttribute(\"dependency-id\");\r\n            this.handler.control.taskEditController.selectDependency(id);\r\n            this.handler.control.resetAndUpdate();\r\n        }\r\n        else {\r\n            if (DomUtils_1.DomUtils.IsLeftButtonPressed(evt))\r\n                this.ganttMovingHelper.startMoving(evt);\r\n            if (this.handler.control.taskEditController.dependencyId != null) {\r\n                this.handler.control.taskEditController.selectDependency(null);\r\n                this.handler.control.resetAndUpdate();\r\n            }\r\n        }\r\n    };\r\n    MouseHandlerDefaultState.prototype.onMouseUp = function (evt) {\r\n        this.ganttMovingHelper.onMouseUp(evt);\r\n    };\r\n    MouseHandlerDefaultState.prototype.onMouseMove = function (evt) {\r\n        if (this.ganttMovingHelper.movingInfo) {\r\n            this.ganttMovingHelper.onMouseMove(evt);\r\n            evt.preventDefault();\r\n        }\r\n    };\r\n    MouseHandlerDefaultState.prototype.onMouseWheel = function (evt) {\r\n        if (evt.ctrlKey) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n            var increase = DomUtils_1.DomUtils.getWheelDelta(evt) > 0;\r\n            var absolutePos = new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt));\r\n            var currentPos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\r\n            var currentDate = this.handler.control.gridLayoutCalculator.getDateByPos(currentPos.x);\r\n            if (increase)\r\n                this.handler.control.zoomIn();\r\n            else\r\n                this.handler.control.zoomOut();\r\n            var scrollLeft = this.handler.control.gridLayoutCalculator.getPosByDate(currentDate);\r\n            this.handler.control.taskAreaContainer.scrollLeft = scrollLeft -\r\n                (absolutePos.x - DomUtils_1.DomUtils.getAbsolutePositionX(this.handler.control.taskAreaContainer.getElement()));\r\n        }\r\n    };\r\n    return MouseHandlerDefaultState;\r\n}(MouseHandlerStateBase_1.MouseHandlerStateBase));\r\nexports.MouseHandlerDefaultState = MouseHandlerDefaultState;\r\nvar GanttMovingHelper = (function () {\r\n    function GanttMovingHelper(gantt) {\r\n        this.gantt = gantt;\r\n        this.movingInfo = null;\r\n    }\r\n    GanttMovingHelper.prototype.startMoving = function (e) {\r\n        this.movingInfo = this.calcMovingInfo(e);\r\n        this.updateGanttAreaCursor(true);\r\n    };\r\n    GanttMovingHelper.prototype.cancelMoving = function () {\r\n        this.movingInfo = null;\r\n    };\r\n    GanttMovingHelper.prototype.onMouseMove = function (e) {\r\n        this.move(e);\r\n    };\r\n    GanttMovingHelper.prototype.onMouseUp = function (e) {\r\n        this.cancelMoving();\r\n        this.updateGanttAreaCursor(false);\r\n    };\r\n    GanttMovingHelper.prototype.move = function (e) {\r\n        this.updateScrollPosition(e);\r\n    };\r\n    GanttMovingHelper.prototype.updateScrollPosition = function (e) {\r\n        var newEventX = Math.round(DomUtils_1.DomUtils.getEventX(e));\r\n        var newEventY = Math.round(DomUtils_1.DomUtils.getEventY(e));\r\n        var deltaX = newEventX - this.movingInfo.eventX;\r\n        var deltaY = newEventY - this.movingInfo.eventY;\r\n        var dirX = deltaX < 0 ? -1 : 1;\r\n        var dirY = deltaY < 0 ? -1 : 1;\r\n        var maxDeltaX = dirX < 0 ? this.movingInfo.maxRightDelta : this.movingInfo.maxLeftDelta;\r\n        var maxDeltaY = dirY < 0 ? this.movingInfo.maxBottomDelta : this.movingInfo.maxTopDelta;\r\n        if (Math.abs(deltaX) > maxDeltaX)\r\n            deltaX = maxDeltaX * dirX;\r\n        if (Math.abs(deltaY) > maxDeltaY)\r\n            deltaY = maxDeltaY * dirY;\r\n        var newScrollLeft = this.movingInfo.scrollLeft - deltaX;\r\n        var newScrollTop = this.movingInfo.scrollTop - deltaY;\r\n        var taskAreaContainer = this.gantt.taskAreaContainer;\r\n        if (taskAreaContainer.scrollLeft !== newScrollLeft)\r\n            taskAreaContainer.scrollLeft = newScrollLeft;\r\n        if (taskAreaContainer.scrollTop !== newScrollTop)\r\n            taskAreaContainer.scrollTop = newScrollTop;\r\n    };\r\n    GanttMovingHelper.prototype.calcMovingInfo = function (e) {\r\n        var taskAreaContainer = this.gantt.taskAreaContainer;\r\n        return {\r\n            eventX: DomUtils_1.DomUtils.getEventX(e),\r\n            eventY: DomUtils_1.DomUtils.getEventY(e),\r\n            scrollLeft: taskAreaContainer.scrollLeft,\r\n            scrollTop: taskAreaContainer.scrollTop,\r\n            maxLeftDelta: taskAreaContainer.scrollLeft,\r\n            maxRightDelta: taskAreaContainer.scrollWidth - taskAreaContainer.scrollLeft - taskAreaContainer.getElement().offsetWidth,\r\n            maxTopDelta: taskAreaContainer.scrollTop,\r\n            maxBottomDelta: taskAreaContainer.scrollHeight - taskAreaContainer.scrollTop - taskAreaContainer.getElement().offsetHeight\r\n        };\r\n    };\r\n    GanttMovingHelper.prototype.updateGanttAreaCursor = function (drag) {\r\n        this.gantt.taskAreaContainer.getElement().style.cursor = drag ? \"grabbing\" : \"default\";\r\n    };\r\n    return GanttMovingHelper;\r\n}());\r\nexports.GanttMovingHelper = GanttMovingHelper;\r\n\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HandlerStateBase = (function () {\r\n    function HandlerStateBase(handler) {\r\n        this.handler = handler;\r\n    }\r\n    HandlerStateBase.prototype.start = function () { };\r\n    HandlerStateBase.prototype.finish = function () { };\r\n    return HandlerStateBase;\r\n}());\r\nexports.HandlerStateBase = HandlerStateBase;\r\n\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\r\nvar MouseHandlerMoveTaskState = (function (_super) {\r\n    __extends(MouseHandlerMoveTaskState, _super);\r\n    function MouseHandlerMoveTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerMoveTaskState.prototype.onMouseUpInternal = function (_evt) {\r\n        this.handler.control.taskEditController.confirmMove();\r\n    };\r\n    MouseHandlerMoveTaskState.prototype.onMouseMoveInternal = function (position) {\r\n        this.handler.control.taskEditController.processMove(position.x - this.currentPosition.x);\r\n    };\r\n    return MouseHandlerMoveTaskState;\r\n}(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState));\r\nexports.MouseHandlerMoveTaskState = MouseHandlerMoveTaskState;\r\n\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\r\nvar MouseHandlerProgressTaskState = (function (_super) {\r\n    __extends(MouseHandlerProgressTaskState, _super);\r\n    function MouseHandlerProgressTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerProgressTaskState.prototype.onMouseUpInternal = function (_evt) {\r\n        this.handler.control.taskEditController.confirmProgress();\r\n    };\r\n    MouseHandlerProgressTaskState.prototype.onMouseMoveInternal = function (position) {\r\n        var relativePosition = this.getRelativePos(position);\r\n        this.handler.control.taskEditController.processProgress(relativePosition);\r\n    };\r\n    return MouseHandlerProgressTaskState;\r\n}(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState));\r\nexports.MouseHandlerProgressTaskState = MouseHandlerProgressTaskState;\r\n\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerDragTaskBaseState_1 = __webpack_require__(19);\r\nvar MouseHandlerTimestampTaskState = (function (_super) {\r\n    __extends(MouseHandlerTimestampTaskState, _super);\r\n    function MouseHandlerTimestampTaskState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerTimestampTaskState.prototype.onMouseDown = function (evt) {\r\n        _super.prototype.onMouseDown.call(this, evt);\r\n        this.source = this.handler.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\r\n    };\r\n    MouseHandlerTimestampTaskState.prototype.onMouseUpInternal = function (_evt) {\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start)\r\n            this.handler.control.taskEditController.confirmStart();\r\n        else\r\n            this.handler.control.taskEditController.confirmEnd();\r\n    };\r\n    MouseHandlerTimestampTaskState.prototype.onMouseMoveInternal = function (position) {\r\n        var relativePosition = this.getRelativePos(position);\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_Start)\r\n            this.handler.control.taskEditController.processStart(relativePosition);\r\n        if (this.source == TaskAreaManager_1.MouseEventSource.TaskEdit_End)\r\n            this.handler.control.taskEditController.processEnd(relativePosition);\r\n    };\r\n    return MouseHandlerTimestampTaskState;\r\n}(MouseHandlerDragTaskBaseState_1.MouseHandlerDragBaseState));\r\nexports.MouseHandlerTimestampTaskState = MouseHandlerTimestampTaskState;\r\n\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Point_1 = __webpack_require__(3);\r\nvar DomUtils_1 = __webpack_require__(1);\r\nvar MouseHandlerStateBase_1 = __webpack_require__(18);\r\nvar TaskAreaManager_1 = __webpack_require__(8);\r\nvar Dependency_1 = __webpack_require__(14);\r\nvar dependencyMap = [];\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart] = [];\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish] = [];\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.SS;\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyStart][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.SF;\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyStart] = Dependency_1.DependencyType.FS;\r\ndependencyMap[TaskAreaManager_1.MouseEventSource.TaskEdit_DependencyFinish][TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish] = Dependency_1.DependencyType.FF;\r\nvar MouseHandlerDependencyState = (function (_super) {\r\n    __extends(MouseHandlerDependencyState, _super);\r\n    function MouseHandlerDependencyState() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MouseHandlerDependencyState.prototype.onMouseDown = function (evt) {\r\n        var sourceElement = DomUtils_1.DomUtils.getEventSource(evt);\r\n        this.source = this.handler.getMouseEventSource(sourceElement);\r\n        var pos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getAbsolutePositionX(sourceElement) + sourceElement.clientWidth / 2, DomUtils_1.DomUtils.getAbsolutePositionY(sourceElement) + sourceElement.clientHeight / 2));\r\n        this.handler.control.taskEditController.startDependency(pos);\r\n    };\r\n    MouseHandlerDependencyState.prototype.onMouseUp = function (evt) {\r\n        var target = this.handler.getMouseEventSource(DomUtils_1.DomUtils.getEventSource(evt));\r\n        var type = target === TaskAreaManager_1.MouseEventSource.Successor_DependencyStart || target == TaskAreaManager_1.MouseEventSource.Successor_DependencyFinish ?\r\n            dependencyMap[this.source][target] : null;\r\n        this.handler.control.taskEditController.endDependency(type);\r\n        this.handler.switchToDefaultState();\r\n    };\r\n    MouseHandlerDependencyState.prototype.onMouseMove = function (evt) {\r\n        evt.preventDefault();\r\n        var relativePos = this.getRelativePos(new Point_1.Point(DomUtils_1.DomUtils.getEventX(evt), DomUtils_1.DomUtils.getEventY(evt)));\r\n        var hoverTaskIndex = Math.floor(relativePos.y / this.handler.control.tickSize.height);\r\n        this.handler.control.taskEditController.processDependency(relativePos);\r\n        if (this.handler.control.viewModel.tasks.items[hoverTaskIndex])\r\n            this.handler.control.taskEditController.showDependencySuccessor(hoverTaskIndex);\r\n    };\r\n    return MouseHandlerDependencyState;\r\n}(MouseHandlerStateBase_1.MouseHandlerStateBase));\r\nexports.MouseHandlerDependencyState = MouseHandlerDependencyState;\r\n\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ModifierKey;\r\n(function (ModifierKey) {\r\n    ModifierKey[ModifierKey[\"None\"] = 0] = \"None\";\r\n    ModifierKey[ModifierKey[\"Ctrl\"] = 65536] = \"Ctrl\";\r\n    ModifierKey[ModifierKey[\"Shift\"] = 262144] = \"Shift\";\r\n    ModifierKey[ModifierKey[\"Alt\"] = 1048576] = \"Alt\";\r\n    ModifierKey[ModifierKey[\"Meta\"] = 16777216] = \"Meta\";\r\n})(ModifierKey = exports.ModifierKey || (exports.ModifierKey = {}));\r\nvar KeyCode;\r\n(function (KeyCode) {\r\n    KeyCode[KeyCode[\"Backspace\"] = 8] = \"Backspace\";\r\n    KeyCode[KeyCode[\"Tab\"] = 9] = \"Tab\";\r\n    KeyCode[KeyCode[\"Enter\"] = 13] = \"Enter\";\r\n    KeyCode[KeyCode[\"Pause\"] = 19] = \"Pause\";\r\n    KeyCode[KeyCode[\"CapsLock\"] = 20] = \"CapsLock\";\r\n    KeyCode[KeyCode[\"Esc\"] = 27] = \"Esc\";\r\n    KeyCode[KeyCode[\"Space\"] = 32] = \"Space\";\r\n    KeyCode[KeyCode[\"PageUp\"] = 33] = \"PageUp\";\r\n    KeyCode[KeyCode[\"PageDown\"] = 34] = \"PageDown\";\r\n    KeyCode[KeyCode[\"End\"] = 35] = \"End\";\r\n    KeyCode[KeyCode[\"Home\"] = 36] = \"Home\";\r\n    KeyCode[KeyCode[\"Left\"] = 37] = \"Left\";\r\n    KeyCode[KeyCode[\"Up\"] = 38] = \"Up\";\r\n    KeyCode[KeyCode[\"Right\"] = 39] = \"Right\";\r\n    KeyCode[KeyCode[\"Down\"] = 40] = \"Down\";\r\n    KeyCode[KeyCode[\"Insert\"] = 45] = \"Insert\";\r\n    KeyCode[KeyCode[\"Delete\"] = 46] = \"Delete\";\r\n    KeyCode[KeyCode[\"Key_0\"] = 48] = \"Key_0\";\r\n    KeyCode[KeyCode[\"Key_1\"] = 49] = \"Key_1\";\r\n    KeyCode[KeyCode[\"Key_2\"] = 50] = \"Key_2\";\r\n    KeyCode[KeyCode[\"Key_3\"] = 51] = \"Key_3\";\r\n    KeyCode[KeyCode[\"Key_4\"] = 52] = \"Key_4\";\r\n    KeyCode[KeyCode[\"Key_5\"] = 53] = \"Key_5\";\r\n    KeyCode[KeyCode[\"Key_6\"] = 54] = \"Key_6\";\r\n    KeyCode[KeyCode[\"Key_7\"] = 55] = \"Key_7\";\r\n    KeyCode[KeyCode[\"Key_8\"] = 56] = \"Key_8\";\r\n    KeyCode[KeyCode[\"Key_9\"] = 57] = \"Key_9\";\r\n    KeyCode[KeyCode[\"Key_a\"] = 65] = \"Key_a\";\r\n    KeyCode[KeyCode[\"Key_b\"] = 66] = \"Key_b\";\r\n    KeyCode[KeyCode[\"Key_c\"] = 67] = \"Key_c\";\r\n    KeyCode[KeyCode[\"Key_d\"] = 68] = \"Key_d\";\r\n    KeyCode[KeyCode[\"Key_e\"] = 69] = \"Key_e\";\r\n    KeyCode[KeyCode[\"Key_f\"] = 70] = \"Key_f\";\r\n    KeyCode[KeyCode[\"Key_g\"] = 71] = \"Key_g\";\r\n    KeyCode[KeyCode[\"Key_h\"] = 72] = \"Key_h\";\r\n    KeyCode[KeyCode[\"Key_i\"] = 73] = \"Key_i\";\r\n    KeyCode[KeyCode[\"Key_j\"] = 74] = \"Key_j\";\r\n    KeyCode[KeyCode[\"Key_k\"] = 75] = \"Key_k\";\r\n    KeyCode[KeyCode[\"Key_l\"] = 76] = \"Key_l\";\r\n    KeyCode[KeyCode[\"Key_m\"] = 77] = \"Key_m\";\r\n    KeyCode[KeyCode[\"Key_n\"] = 78] = \"Key_n\";\r\n    KeyCode[KeyCode[\"Key_o\"] = 79] = \"Key_o\";\r\n    KeyCode[KeyCode[\"Key_p\"] = 80] = \"Key_p\";\r\n    KeyCode[KeyCode[\"Key_q\"] = 81] = \"Key_q\";\r\n    KeyCode[KeyCode[\"Key_r\"] = 82] = \"Key_r\";\r\n    KeyCode[KeyCode[\"Key_s\"] = 83] = \"Key_s\";\r\n    KeyCode[KeyCode[\"Key_t\"] = 84] = \"Key_t\";\r\n    KeyCode[KeyCode[\"Key_u\"] = 85] = \"Key_u\";\r\n    KeyCode[KeyCode[\"Key_v\"] = 86] = \"Key_v\";\r\n    KeyCode[KeyCode[\"Key_w\"] = 87] = \"Key_w\";\r\n    KeyCode[KeyCode[\"Key_x\"] = 88] = \"Key_x\";\r\n    KeyCode[KeyCode[\"Key_y\"] = 89] = \"Key_y\";\r\n    KeyCode[KeyCode[\"Key_z\"] = 90] = \"Key_z\";\r\n    KeyCode[KeyCode[\"Windows\"] = 91] = \"Windows\";\r\n    KeyCode[KeyCode[\"ContextMenu\"] = 93] = \"ContextMenu\";\r\n    KeyCode[KeyCode[\"Numpad_0\"] = 96] = \"Numpad_0\";\r\n    KeyCode[KeyCode[\"Numpad_1\"] = 97] = \"Numpad_1\";\r\n    KeyCode[KeyCode[\"Numpad_2\"] = 98] = \"Numpad_2\";\r\n    KeyCode[KeyCode[\"Numpad_3\"] = 99] = \"Numpad_3\";\r\n    KeyCode[KeyCode[\"Numpad_4\"] = 100] = \"Numpad_4\";\r\n    KeyCode[KeyCode[\"Numpad_5\"] = 101] = \"Numpad_5\";\r\n    KeyCode[KeyCode[\"Numpad_6\"] = 102] = \"Numpad_6\";\r\n    KeyCode[KeyCode[\"Numpad_7\"] = 103] = \"Numpad_7\";\r\n    KeyCode[KeyCode[\"Numpad_8\"] = 104] = \"Numpad_8\";\r\n    KeyCode[KeyCode[\"Numpad_9\"] = 105] = \"Numpad_9\";\r\n    KeyCode[KeyCode[\"Multiply\"] = 106] = \"Multiply\";\r\n    KeyCode[KeyCode[\"Add\"] = 107] = \"Add\";\r\n    KeyCode[KeyCode[\"Subtract\"] = 109] = \"Subtract\";\r\n    KeyCode[KeyCode[\"Decimal\"] = 110] = \"Decimal\";\r\n    KeyCode[KeyCode[\"Divide\"] = 111] = \"Divide\";\r\n    KeyCode[KeyCode[\"F1\"] = 112] = \"F1\";\r\n    KeyCode[KeyCode[\"F2\"] = 113] = \"F2\";\r\n    KeyCode[KeyCode[\"F3\"] = 114] = \"F3\";\r\n    KeyCode[KeyCode[\"F4\"] = 115] = \"F4\";\r\n    KeyCode[KeyCode[\"F5\"] = 116] = \"F5\";\r\n    KeyCode[KeyCode[\"F6\"] = 117] = \"F6\";\r\n    KeyCode[KeyCode[\"F7\"] = 118] = \"F7\";\r\n    KeyCode[KeyCode[\"F8\"] = 119] = \"F8\";\r\n    KeyCode[KeyCode[\"F9\"] = 120] = \"F9\";\r\n    KeyCode[KeyCode[\"F10\"] = 121] = \"F10\";\r\n    KeyCode[KeyCode[\"F11\"] = 122] = \"F11\";\r\n    KeyCode[KeyCode[\"F12\"] = 123] = \"F12\";\r\n    KeyCode[KeyCode[\"NumLock\"] = 144] = \"NumLock\";\r\n    KeyCode[KeyCode[\"ScrollLock\"] = 145] = \"ScrollLock\";\r\n    KeyCode[KeyCode[\"Semicolon\"] = 186] = \"Semicolon\";\r\n    KeyCode[KeyCode[\"Equals\"] = 187] = \"Equals\";\r\n    KeyCode[KeyCode[\"Comma\"] = 188] = \"Comma\";\r\n    KeyCode[KeyCode[\"Dash\"] = 189] = \"Dash\";\r\n    KeyCode[KeyCode[\"Period\"] = 190] = \"Period\";\r\n    KeyCode[KeyCode[\"ForwardSlash\"] = 191] = \"ForwardSlash\";\r\n    KeyCode[KeyCode[\"GraveAccent\"] = 192] = \"GraveAccent\";\r\n    KeyCode[KeyCode[\"OpenBracket\"] = 219] = \"OpenBracket\";\r\n    KeyCode[KeyCode[\"BackSlash\"] = 220] = \"BackSlash\";\r\n    KeyCode[KeyCode[\"CloseBracket\"] = 221] = \"CloseBracket\";\r\n    KeyCode[KeyCode[\"SingleQuote\"] = 222] = \"SingleQuote\";\r\n})(KeyCode = exports.KeyCode || (exports.KeyCode = {}));\r\n\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskAreaContainer = (function () {\r\n    function TaskAreaContainer(element, ganttView) {\r\n        this.element = element;\r\n        this.element.addEventListener(\"scroll\", function () { ganttView.updateView(); });\r\n    }\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollTop\", {\r\n        get: function () {\r\n            return this.element.scrollTop;\r\n        },\r\n        set: function (value) {\r\n            this.element.scrollTop = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollLeft\", {\r\n        get: function () {\r\n            return this.element.scrollLeft;\r\n        },\r\n        set: function (value) {\r\n            this.element.scrollLeft = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollWidth\", {\r\n        get: function () {\r\n            return this.element.scrollWidth;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"scrollHeight\", {\r\n        get: function () {\r\n            return this.element.scrollHeight;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TaskAreaContainer.prototype, \"isExternal\", {\r\n        get: function () {\r\n            return false;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TaskAreaContainer.prototype.getWidth = function () {\r\n        return this.element.offsetWidth;\r\n    };\r\n    TaskAreaContainer.prototype.getHeight = function () {\r\n        return this.element.offsetHeight;\r\n    };\r\n    TaskAreaContainer.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    return TaskAreaContainer;\r\n}());\r\nexports.TaskAreaContainer = TaskAreaContainer;\r\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Enums_1 = __webpack_require__(7);\r\nvar Utils_1 = __webpack_require__(0);\r\nvar Settings = (function () {\r\n    function Settings() {\r\n        this.viewType = undefined;\r\n        this.taskTitlePosition = Enums_1.TaskTitlePosition.Inside;\r\n        this.showResources = true;\r\n        this.areHorizontalBordersEnabled = true;\r\n        this.areVerticalBordersEnabled = true;\r\n        this.areAlternateRowsEnabled = true;\r\n        this.allowSelectTask = true;\r\n        this.editing = new EditingSettings();\r\n    }\r\n    Settings.parse = function (settings) {\r\n        var result = new Settings();\r\n        if (settings) {\r\n            if (Utils_1.JsonUtils.isExists(settings.viewType))\r\n                result.viewType = settings.viewType;\r\n            if (Utils_1.JsonUtils.isExists(settings.taskTitlePosition))\r\n                result.taskTitlePosition = settings.taskTitlePosition;\r\n            if (Utils_1.JsonUtils.isExists(settings.showResources))\r\n                result.showResources = settings.showResources;\r\n            if (Utils_1.JsonUtils.isExists(settings.areHorizontalBordersEnabled))\r\n                result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\r\n            if (Utils_1.JsonUtils.isExists(settings.areVerticalBordersEnabled))\r\n                result.areHorizontalBordersEnabled = settings.areHorizontalBordersEnabled;\r\n            if (Utils_1.JsonUtils.isExists(settings.areAlternateRowsEnabled))\r\n                result.areAlternateRowsEnabled = settings.areAlternateRowsEnabled;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowSelectTask))\r\n                result.allowSelectTask = settings.allowSelectTask;\r\n            if (Utils_1.JsonUtils.isExists(settings.editing))\r\n                result.editing = EditingSettings.parse(settings.editing);\r\n        }\r\n        return result;\r\n    };\r\n    return Settings;\r\n}());\r\nexports.Settings = Settings;\r\nvar EditingSettings = (function () {\r\n    function EditingSettings() {\r\n        this.enabled = false;\r\n        this.allowDependencyDeleting = true;\r\n        this.allowDependencyAdding = true;\r\n        this.allowDependencyUpdating = true;\r\n        this.allowTaskDeleting = true;\r\n        this.allowTaskAdding = true;\r\n        this.allowTaskUpdating = true;\r\n        this.allowResourceDeleting = true;\r\n        this.allowResourceAdding = true;\r\n        this.allowResourceUpdating = true;\r\n    }\r\n    EditingSettings.parse = function (settings) {\r\n        var result = new EditingSettings();\r\n        if (settings) {\r\n            if (Utils_1.JsonUtils.isExists(settings.enabled))\r\n                result.enabled = settings.enabled;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyDeleting))\r\n                result.allowDependencyDeleting = settings.allowDependencyDeleting;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyAdding))\r\n                result.allowDependencyAdding = settings.allowDependencyAdding;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowDependencyUpdating))\r\n                result.allowDependencyUpdating = settings.allowDependencyUpdating;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskDeleting))\r\n                result.allowTaskDeleting = settings.allowTaskDeleting;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskAdding))\r\n                result.allowTaskAdding = settings.allowTaskAdding;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowTaskUpdating))\r\n                result.allowTaskUpdating = settings.allowTaskUpdating;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceDeleting))\r\n                result.allowResourceDeleting = settings.allowResourceDeleting;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceAdding))\r\n                result.allowResourceAdding = settings.allowResourceAdding;\r\n            if (Utils_1.JsonUtils.isExists(settings.allowResourceUpdating))\r\n                result.allowResourceUpdating = settings.allowResourceUpdating;\r\n        }\r\n        return result;\r\n    };\r\n    return EditingSettings;\r\n}());\r\nexports.EditingSettings = EditingSettings;\r\n\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventDispatcher_1 = __webpack_require__(75);\r\nvar ModelChangesDispatcher = (function () {\r\n    function ModelChangesDispatcher() {\r\n        this.onModelChanged = new EventDispatcher_1.EventDispatcher();\r\n    }\r\n    ModelChangesDispatcher.prototype.notifyTaskCreated = function (task, callback) {\r\n        this.onModelChanged.raise(\"NotifyTaskCreated\", task, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskRemoved = function (taskID) {\r\n        this.onModelChanged.raise(\"NotifyTaskRemoved\", taskID);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskTitleChanged = function (taskID, newValue) {\r\n        this.onModelChanged.raise(\"NotifyTaskTitleChanged\", taskID, newValue);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskDescriptionChanged = function (taskID, newValue) {\r\n        this.onModelChanged.raise(\"NotifyTaskDescriptionChanged\", taskID, newValue);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskStartChanged = function (taskID, newValue) {\r\n        this.onModelChanged.raise(\"NotifyTaskStartChanged\", taskID, newValue);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskEndChanged = function (taskID, newValue) {\r\n        this.onModelChanged.raise(\"NotifyTaskEndChanged\", taskID, newValue);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyTaskProgressChanged = function (taskID, newValue) {\r\n        this.onModelChanged.raise(\"NotifyTaskProgressChanged\", taskID, newValue);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyDependencyInserted = function (dependency, callback) {\r\n        this.onModelChanged.raise(\"NotifyDependencyInserted\", dependency, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyDependencyRemoved = function (dependencyID) {\r\n        this.onModelChanged.raise(\"NotifyDependencyRemoved\", dependencyID);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceCreated = function (resource, callback) {\r\n        this.onModelChanged.raise(\"NotifyResourceCreated\", resource, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceRemoved = function (resourceID) {\r\n        this.onModelChanged.raise(\"NotifyResourceRemoved\", resourceID);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceAssigned = function (assignment, callback) {\r\n        this.onModelChanged.raise(\"NotifyResourceAssigned\", assignment, callback);\r\n    };\r\n    ModelChangesDispatcher.prototype.notifyResourceUnassigned = function (assignmentID) {\r\n        this.onModelChanged.raise(\"NotifyResourceUnassigned\", assignmentID);\r\n    };\r\n    return ModelChangesDispatcher;\r\n}());\r\nexports.ModelChangesDispatcher = ModelChangesDispatcher;\r\n\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventDispatcher = (function () {\r\n    function EventDispatcher() {\r\n        this.listeners = [];\r\n    }\r\n    EventDispatcher.prototype.add = function (listener) {\r\n        if (!listener)\r\n            throw new Error(\"Error\");\r\n        if (!this.hasEventListener(listener))\r\n            this.listeners.push(listener);\r\n    };\r\n    EventDispatcher.prototype.remove = function (listener) {\r\n        for (var i = 0, currentListener; currentListener = this.listeners[i]; i++) {\r\n            if (currentListener === listener) {\r\n                this.listeners.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    EventDispatcher.prototype.raise = function (funcName) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        for (var i = 0, listener; listener = this.listeners[i]; i++) {\r\n            listener[funcName].apply(listener, args);\r\n        }\r\n    };\r\n    EventDispatcher.prototype.hasEventListener = function (listener) {\r\n        for (var i = 0, l = this.listeners.length; i < l; i++)\r\n            if (this.listeners[i] === listener)\r\n                return true;\r\n        return false;\r\n    };\r\n    return EventDispatcher;\r\n}());\r\nexports.EventDispatcher = EventDispatcher;\r\n\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TaskCommands_1 = __webpack_require__(77);\r\nvar TaskPropertiesCommands_1 = __webpack_require__(79);\r\nvar DependencyCommands_1 = __webpack_require__(80);\r\nvar ResourceCommands_1 = __webpack_require__(81);\r\nvar TaskEditDialog_1 = __webpack_require__(82);\r\nvar ConstraintViolationDialog_1 = __webpack_require__(83);\r\nvar ResourcesDialog_1 = __webpack_require__(84);\r\nvar ClientCommand_1 = __webpack_require__(85);\r\nvar CommandManager = (function () {\r\n    function CommandManager(control) {\r\n        this.control = control;\r\n        this.commands = {};\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.CreateTask, this.createTaskCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.CreateSubTask, this.createSubTaskCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.RemoveTask, this.removeTaskCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.RemoveDependency, this.removeDependencyCommand);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.TaskInformation, this.showTaskEditDialog);\r\n        this.createCommand(ClientCommand_1.GanttClientCommand.TaskAddContextItem, new TaskCommands_1.TaskAddContextItemCommand(this.control));\r\n    }\r\n    Object.defineProperty(CommandManager.prototype, \"createTaskCommand\", {\r\n        get: function () { return new TaskCommands_1.CreateTaskCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"createSubTaskCommand\", {\r\n        get: function () { return new TaskCommands_1.CreateSubTaskCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"removeTaskCommand\", {\r\n        get: function () { return new TaskCommands_1.RemoveTaskCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskTitleCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskTitleCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskDescriptionCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskDescriptionCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskProgressCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskProgressCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskStartCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskStartCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"changeTaskEndCommand\", {\r\n        get: function () { return new TaskPropertiesCommands_1.TaskEndCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"createDependencyCommand\", {\r\n        get: function () { return new DependencyCommands_1.CreateDependencyCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"removeDependencyCommand\", {\r\n        get: function () { return new DependencyCommands_1.RemoveDependencyCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"createResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.CreateResourceCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"removeResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.RemoveResourceCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"assignResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.AssignResourceCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"deassignResourceCommand\", {\r\n        get: function () { return new ResourceCommands_1.DeassignResourceCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"showTaskEditDialog\", {\r\n        get: function () { return new TaskEditDialog_1.TaskEditDialogCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"showConstraintViolationDialog\", {\r\n        get: function () { return new ConstraintViolationDialog_1.ConstraintViolationDialogCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CommandManager.prototype, \"showResourcesDialog\", {\r\n        get: function () { return new ResourcesDialog_1.ResourcesDialogCommand(this.control); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CommandManager.prototype.getCommand = function (key) {\r\n        return this.commands[key];\r\n    };\r\n    CommandManager.prototype.createCommand = function (commandId, command) {\r\n        this.commands[commandId] = command;\r\n    };\r\n    return CommandManager;\r\n}());\r\nexports.CommandManager = CommandManager;\r\n\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar TaskHistoryItem_1 = __webpack_require__(78);\r\nvar TaskDependencyHistoryItem_1 = __webpack_require__(20);\r\nvar ResourceHistoryItem_1 = __webpack_require__(21);\r\nvar TaskCommandBase = (function (_super) {\r\n    __extends(TaskCommandBase, _super);\r\n    function TaskCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskCommandBase.prototype.getState = function () {\r\n        var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n        state.visible = state.enabled && !this.control.taskEditController.dependencyId;\r\n        return state;\r\n    };\r\n    return TaskCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.TaskCommandBase = TaskCommandBase;\r\nvar CreateTaskCommand = (function (_super) {\r\n    __extends(CreateTaskCommand, _super);\r\n    function CreateTaskCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateTaskCommand.prototype.execute = function (start, end, title, parentId) {\r\n        return _super.prototype.execute.call(this, start, end, title, parentId);\r\n    };\r\n    CreateTaskCommand.prototype.executeInternal = function (start, end, title, parentId) {\r\n        if (!parentId) {\r\n            var selectedTask = this.control.viewModel.findItem(this.control.currentSelectedTaskID).task;\r\n            if (selectedTask)\r\n                parentId = selectedTask.parentId;\r\n        }\r\n        var referenceItem = this.control.viewModel.findItem(parentId) || this.control.viewModel.items[0];\r\n        var referenceTask = referenceItem.task;\r\n        start = start || new Date(referenceTask.start.getTime());\r\n        end = end || new Date(referenceTask.end.getTime());\r\n        title = title || \"New task\";\r\n        this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, start, end, title, parentId));\r\n        return true;\r\n    };\r\n    CreateTaskCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskAdding;\r\n    };\r\n    return CreateTaskCommand;\r\n}(TaskCommandBase));\r\nexports.CreateTaskCommand = CreateTaskCommand;\r\nvar CreateSubTaskCommand = (function (_super) {\r\n    __extends(CreateSubTaskCommand, _super);\r\n    function CreateSubTaskCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateSubTaskCommand.prototype.execute = function (parentId) {\r\n        return _super.prototype.execute.call(this, parentId);\r\n    };\r\n    CreateSubTaskCommand.prototype.executeInternal = function (parentId) {\r\n        parentId = parentId || this.control.currentSelectedTaskID;\r\n        var selectedItem = this.control.viewModel.findItem(parentId);\r\n        if (selectedItem.selected) {\r\n            this.history.addAndRedo(new TaskHistoryItem_1.CreateTaskHistoryItem(this.modelManipulator, new Date(selectedItem.task.start.getTime()), new Date(selectedItem.task.end.getTime()), \"New task\", parentId));\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CreateSubTaskCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskAdding;\r\n    };\r\n    CreateSubTaskCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        var selectedItem = this.control.viewModel.findItem(this.control.currentSelectedTaskID);\r\n        state.visible = state.visible && selectedItem && selectedItem.selected;\r\n        return state;\r\n    };\r\n    return CreateSubTaskCommand;\r\n}(TaskCommandBase));\r\nexports.CreateSubTaskCommand = CreateSubTaskCommand;\r\nvar RemoveTaskCommand = (function (_super) {\r\n    __extends(RemoveTaskCommand, _super);\r\n    function RemoveTaskCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RemoveTaskCommand.prototype.execute = function (id) {\r\n        return _super.prototype.execute.call(this, id);\r\n    };\r\n    RemoveTaskCommand.prototype.executeInternal = function (id) {\r\n        var _this = this;\r\n        id = id || this.control.currentSelectedTaskID;\r\n        this.control.viewModel.beginUpdate();\r\n        this.history.beginTransaction();\r\n        var childTasks = this.control.viewModel.tasks.items.filter(function (t) { return t.parentId == id; });\r\n        childTasks.forEach(function (t) { return new RemoveTaskCommand(_this.control).execute(t.internalId); });\r\n        var dependencies = this.control.viewModel.dependencies.items.filter(function (d) { return d.predecessorId == id || d.successorId == id; });\r\n        if (dependencies.length)\r\n            if (this.control.settings.editing.allowDependencyDeleting)\r\n                dependencies.forEach(function (d) { return _this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(_this.modelManipulator, d.internalId)); });\r\n            else\r\n                return false;\r\n        var assignments = this.control.viewModel.assignments.items.filter(function (a) { return a.taskId == id; });\r\n        assignments.forEach(function (a) { return _this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId)); });\r\n        this.history.addAndRedo(new TaskHistoryItem_1.RemoveTaskHistoryItem(this.modelManipulator, id));\r\n        this.history.endTransaction();\r\n        this.control.viewModel.endUpdate();\r\n        return true;\r\n    };\r\n    RemoveTaskCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskDeleting;\r\n    };\r\n    return RemoveTaskCommand;\r\n}(TaskCommandBase));\r\nexports.RemoveTaskCommand = RemoveTaskCommand;\r\nvar TaskAddContextItemCommand = (function (_super) {\r\n    __extends(TaskAddContextItemCommand, _super);\r\n    function TaskAddContextItemCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskAddContextItemCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        state.visible = state.visible && this.control.settings.editing.allowTaskAdding;\r\n        return state;\r\n    };\r\n    TaskAddContextItemCommand.prototype.execute = function () {\r\n        return false;\r\n    };\r\n    return TaskAddContextItemCommand;\r\n}(TaskCommandBase));\r\nexports.TaskAddContextItemCommand = TaskAddContextItemCommand;\r\n\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HistoryItem_1 = __webpack_require__(9);\r\nvar CreateTaskHistoryItem = (function (_super) {\r\n    __extends(CreateTaskHistoryItem, _super);\r\n    function CreateTaskHistoryItem(modelManipulator, start, end, title, parentId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.start = start;\r\n        _this.end = end;\r\n        _this.title = title;\r\n        _this.parentId = parentId;\r\n        return _this;\r\n    }\r\n    CreateTaskHistoryItem.prototype.redo = function () {\r\n        this.taskId = this.modelManipulator.task.create(this.start, this.end, this.title, this.parentId, this.taskId ? this.taskId : null).internalId;\r\n    };\r\n    CreateTaskHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.task.remove(this.taskId);\r\n    };\r\n    return CreateTaskHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.CreateTaskHistoryItem = CreateTaskHistoryItem;\r\nvar RemoveTaskHistoryItem = (function (_super) {\r\n    __extends(RemoveTaskHistoryItem, _super);\r\n    function RemoveTaskHistoryItem(modelManipulator, taskId) {\r\n        var _this = _super.call(this, modelManipulator) || this;\r\n        _this.taskId = taskId;\r\n        return _this;\r\n    }\r\n    RemoveTaskHistoryItem.prototype.redo = function () {\r\n        this.task = this.modelManipulator.task.remove(this.taskId);\r\n    };\r\n    RemoveTaskHistoryItem.prototype.undo = function () {\r\n        this.modelManipulator.task.create(this.task.start, this.task.end, this.task.title, this.task.parentId, this.task.internalId);\r\n    };\r\n    return RemoveTaskHistoryItem;\r\n}(HistoryItem_1.HistoryItem));\r\nexports.RemoveTaskHistoryItem = RemoveTaskHistoryItem;\r\n\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar TaskPropertiesHistoryItem_1 = __webpack_require__(31);\r\nvar TaskPropertyCommandBase = (function (_super) {\r\n    __extends(TaskPropertyCommandBase, _super);\r\n    function TaskPropertyCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskPropertyCommandBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    TaskPropertyCommandBase.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowTaskUpdating;\r\n    };\r\n    return TaskPropertyCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.TaskPropertyCommandBase = TaskPropertyCommandBase;\r\nvar TaskTitleCommand = (function (_super) {\r\n    __extends(TaskTitleCommand, _super);\r\n    function TaskTitleCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskTitleCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskTitleCommand.prototype.executeInternal = function (id, value) {\r\n        var oldTitle = this.control.viewModel.tasks.getItemById(id).title;\r\n        if (oldTitle == value)\r\n            return false;\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, id, value));\r\n        return true;\r\n    };\r\n    return TaskTitleCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskTitleCommand = TaskTitleCommand;\r\nvar TaskDescriptionCommand = (function (_super) {\r\n    __extends(TaskDescriptionCommand, _super);\r\n    function TaskDescriptionCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskDescriptionCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskDescriptionCommand.prototype.executeInternal = function (id, value) {\r\n        var oldDescription = this.control.viewModel.tasks.getItemById(id).description;\r\n        if (oldDescription == value)\r\n            return false;\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskDesriptionHistoryItem(this.modelManipulator, id, value));\r\n        return true;\r\n    };\r\n    return TaskDescriptionCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskDescriptionCommand = TaskDescriptionCommand;\r\nvar TaskProgressCommand = (function (_super) {\r\n    __extends(TaskProgressCommand, _super);\r\n    function TaskProgressCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskProgressCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskProgressCommand.prototype.executeInternal = function (id, value) {\r\n        var oldProgress = this.control.viewModel.tasks.getItemById(id).progress;\r\n        if (oldProgress == value)\r\n            return false;\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, id, value));\r\n        return true;\r\n    };\r\n    return TaskProgressCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskProgressCommand = TaskProgressCommand;\r\nvar TaskStartCommand = (function (_super) {\r\n    __extends(TaskStartCommand, _super);\r\n    function TaskStartCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskStartCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskStartCommand.prototype.executeInternal = function (id, value) {\r\n        var oldStart = this.control.viewModel.tasks.getItemById(id).start;\r\n        if (oldStart.getTime() == value.getTime())\r\n            return false;\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, id, value));\r\n        if (value < this.control.dataRange.start)\r\n            this.control.dataRange.start = value;\r\n        return true;\r\n    };\r\n    return TaskStartCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskStartCommand = TaskStartCommand;\r\nvar TaskEndCommand = (function (_super) {\r\n    __extends(TaskEndCommand, _super);\r\n    function TaskEndCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEndCommand.prototype.execute = function (id, value) {\r\n        return _super.prototype.execute.call(this, id, value);\r\n    };\r\n    TaskEndCommand.prototype.executeInternal = function (id, value) {\r\n        var oldEnd = this.control.viewModel.tasks.getItemById(id).end;\r\n        if (oldEnd.getTime() == value.getTime())\r\n            return false;\r\n        this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, id, value));\r\n        if (value > this.control.dataRange.end)\r\n            this.control.dataRange.end = value;\r\n        return true;\r\n    };\r\n    return TaskEndCommand;\r\n}(TaskPropertyCommandBase));\r\nexports.TaskEndCommand = TaskEndCommand;\r\n\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar TaskDependencyHistoryItem_1 = __webpack_require__(20);\r\nvar DependencyCommandBase = (function (_super) {\r\n    __extends(DependencyCommandBase, _super);\r\n    function DependencyCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DependencyCommandBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    return DependencyCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.DependencyCommandBase = DependencyCommandBase;\r\nvar CreateDependencyCommand = (function (_super) {\r\n    __extends(CreateDependencyCommand, _super);\r\n    function CreateDependencyCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateDependencyCommand.prototype.execute = function (predecessorId, successorId, type) {\r\n        return _super.prototype.execute.call(this, predecessorId, successorId, type);\r\n    };\r\n    CreateDependencyCommand.prototype.executeInternal = function (predecessorId, successorId, type) {\r\n        if (this.control.viewModel.dependencies.items.filter(function (d) { return (d.predecessorId == predecessorId && d.successorId == successorId) ||\r\n            (d.successorId == predecessorId && d.predecessorId == successorId); }).length)\r\n            return false;\r\n        this.history.addAndRedo(new TaskDependencyHistoryItem_1.InsertDependencyHistoryItem(this.modelManipulator, predecessorId, successorId, type));\r\n        return true;\r\n    };\r\n    CreateDependencyCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyAdding;\r\n    };\r\n    return CreateDependencyCommand;\r\n}(DependencyCommandBase));\r\nexports.CreateDependencyCommand = CreateDependencyCommand;\r\nvar RemoveDependencyCommand = (function (_super) {\r\n    __extends(RemoveDependencyCommand, _super);\r\n    function RemoveDependencyCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RemoveDependencyCommand.prototype.execute = function (id) {\r\n        return _super.prototype.execute.call(this, id);\r\n    };\r\n    RemoveDependencyCommand.prototype.executeInternal = function (id) {\r\n        id = id || this.control.taskEditController.dependencyId;\r\n        if (id != null) {\r\n            var dependency = this.control.viewModel.dependencies.items.filter(function (d) { return d.internalId == id; })[0];\r\n            if (dependency) {\r\n                this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, id));\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    RemoveDependencyCommand.prototype.isEnabled = function () {\r\n        return _super.prototype.isEnabled.call(this) && this.control.settings.editing.allowDependencyDeleting;\r\n    };\r\n    RemoveDependencyCommand.prototype.getState = function () {\r\n        var state = _super.prototype.getState.call(this);\r\n        state.visible = state.enabled && this.control.taskEditController.dependencyId != null;\r\n        return state;\r\n    };\r\n    return RemoveDependencyCommand;\r\n}(DependencyCommandBase));\r\nexports.RemoveDependencyCommand = RemoveDependencyCommand;\r\n\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar ResourceHistoryItem_1 = __webpack_require__(21);\r\nvar ResourceCommandBase = (function (_super) {\r\n    __extends(ResourceCommandBase, _super);\r\n    function ResourceCommandBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourceCommandBase.prototype.getState = function () {\r\n        return new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n    };\r\n    return ResourceCommandBase;\r\n}(CommandBase_1.CommandBase));\r\nexports.ResourceCommandBase = ResourceCommandBase;\r\nvar CreateResourceCommand = (function (_super) {\r\n    __extends(CreateResourceCommand, _super);\r\n    function CreateResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CreateResourceCommand.prototype.execute = function (text) {\r\n        return _super.prototype.execute.call(this, text);\r\n    };\r\n    CreateResourceCommand.prototype.executeInternal = function (text) {\r\n        this.history.addAndRedo(new ResourceHistoryItem_1.CreateResourceHistoryItem(this.modelManipulator, text));\r\n        return true;\r\n    };\r\n    return CreateResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.CreateResourceCommand = CreateResourceCommand;\r\nvar RemoveResourceCommand = (function (_super) {\r\n    __extends(RemoveResourceCommand, _super);\r\n    function RemoveResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RemoveResourceCommand.prototype.execute = function (id) {\r\n        return _super.prototype.execute.call(this, id);\r\n    };\r\n    RemoveResourceCommand.prototype.executeInternal = function (id) {\r\n        var _this = this;\r\n        var resource = this.control.viewModel.resources.items.filter(function (r) { return r.internalId == id; })[0];\r\n        if (resource) {\r\n            this.history.beginTransaction();\r\n            var assignments = this.control.viewModel.assignments.items.filter(function (a) { return a.resourceId == id; });\r\n            assignments.forEach(function (a) { return _this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(_this.modelManipulator, a.internalId)); });\r\n            this.history.addAndRedo(new ResourceHistoryItem_1.RemoveResourceHistoryItem(this.modelManipulator, id));\r\n            this.history.endTransaction();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return RemoveResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.RemoveResourceCommand = RemoveResourceCommand;\r\nvar AssignResourceCommand = (function (_super) {\r\n    __extends(AssignResourceCommand, _super);\r\n    function AssignResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AssignResourceCommand.prototype.execute = function (resourceId, taskId) {\r\n        return _super.prototype.execute.call(this, resourceId, taskId);\r\n    };\r\n    AssignResourceCommand.prototype.executeInternal = function (resourceId, taskId) {\r\n        var assignment = this.control.viewModel.assignments.items.filter(function (r) { return r.resourceId == resourceId && r.taskId == taskId; })[0];\r\n        if (!assignment) {\r\n            this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, resourceId, taskId));\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return AssignResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.AssignResourceCommand = AssignResourceCommand;\r\nvar DeassignResourceCommand = (function (_super) {\r\n    __extends(DeassignResourceCommand, _super);\r\n    function DeassignResourceCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeassignResourceCommand.prototype.execute = function (assignmentId) {\r\n        return _super.prototype.execute.call(this, assignmentId);\r\n    };\r\n    DeassignResourceCommand.prototype.executeInternal = function (assignmentId) {\r\n        var assignment = this.control.viewModel.assignments.items.filter(function (r) { return r.internalId == assignmentId; })[0];\r\n        if (assignment) {\r\n            this.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this.modelManipulator, assignmentId));\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return DeassignResourceCommand;\r\n}(ResourceCommandBase));\r\nexports.DeassignResourceCommand = DeassignResourceCommand;\r\n\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DialogBase_1 = __webpack_require__(22);\r\nvar TaskPropertiesHistoryItem_1 = __webpack_require__(31);\r\nvar ResourceCollection_1 = __webpack_require__(13);\r\nvar ResourceHistoryItem_1 = __webpack_require__(21);\r\nvar CommandBase_1 = __webpack_require__(5);\r\nvar TaskEditDialogCommand = (function (_super) {\r\n    __extends(TaskEditDialogCommand, _super);\r\n    function TaskEditDialogCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEditDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\r\n        this.history.beginTransaction();\r\n        if (newParameters.title != oldParameters.title)\r\n            this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskTitleHistoryItem(this.modelManipulator, oldParameters.id, newParameters.title));\r\n        if (newParameters.progress != oldParameters.progress)\r\n            this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskProgressHistoryItem(this.modelManipulator, oldParameters.id, newParameters.progress));\r\n        if (newParameters.start != oldParameters.start)\r\n            this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskStartHistoryItem(this.modelManipulator, oldParameters.id, newParameters.start));\r\n        if (newParameters.end != oldParameters.end)\r\n            this.history.addAndRedo(new TaskPropertiesHistoryItem_1.TaskEndHistoryItem(this.modelManipulator, oldParameters.id, newParameters.end));\r\n        for (var i = 0; i < newParameters.assigned.length; i++) {\r\n            var resource = oldParameters.assigned.getItemById(newParameters.assigned.getItem(i).internalId);\r\n            if (!resource)\r\n                this.history.addAndRedo(new ResourceHistoryItem_1.AssignResourceHistoryItem(this.modelManipulator, newParameters.assigned.getItem(i).internalId, oldParameters.id));\r\n        }\r\n        var _loop_1 = function (i) {\r\n            var assigned = oldParameters.assigned.getItem(i);\r\n            var resource = newParameters.assigned.getItemById(assigned.internalId);\r\n            if (!resource) {\r\n                var assignment = this_1.control.viewModel.assignments.items.filter(function (assignment) { return assignment.resourceId == assigned.internalId && assignment.taskId == oldParameters.id; })[0];\r\n                this_1.history.addAndRedo(new ResourceHistoryItem_1.DeassignResourceHistoryItem(this_1.modelManipulator, assignment.internalId));\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < oldParameters.assigned.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n        this.history.endTransaction();\r\n        return false;\r\n    };\r\n    TaskEditDialogCommand.prototype.createParameters = function (options) {\r\n        options = options || this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);\r\n        var param = new TaskEditParameters();\r\n        param.id = options.internalId;\r\n        param.title = options.title;\r\n        param.progress = options.progress;\r\n        param.start = options.start;\r\n        param.end = options.end;\r\n        param.assigned = this.control.viewModel.getAssignedResources(options);\r\n        param.resources = new ResourceCollection_1.ResourceCollection();\r\n        param.resources.addRange(this.control.viewModel.resources.items);\r\n        param.showResourcesDialogCommand = this.control.commandManager.showResourcesDialog;\r\n        return param;\r\n    };\r\n    TaskEditDialogCommand.prototype.isEnabled = function () {\r\n        return true;\r\n    };\r\n    TaskEditDialogCommand.prototype.getState = function () {\r\n        var state = new CommandBase_1.SimpleCommandState(this.isEnabled());\r\n        state.visible = !this.control.taskEditController.dependencyId;\r\n        return state;\r\n    };\r\n    TaskEditDialogCommand.prototype.getDialogName = function () {\r\n        return \"TaskEdit\";\r\n    };\r\n    return TaskEditDialogCommand;\r\n}(DialogBase_1.DialogBase));\r\nexports.TaskEditDialogCommand = TaskEditDialogCommand;\r\nvar TaskEditParameters = (function (_super) {\r\n    __extends(TaskEditParameters, _super);\r\n    function TaskEditParameters() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TaskEditParameters.prototype.clone = function () {\r\n        var clone = new TaskEditParameters();\r\n        clone.id = this.id;\r\n        clone.title = this.title;\r\n        clone.progress = this.progress;\r\n        clone.start = this.start;\r\n        clone.end = this.end;\r\n        clone.assigned = new ResourceCollection_1.ResourceCollection();\r\n        clone.assigned.addRange(this.assigned.items);\r\n        clone.resources = new ResourceCollection_1.ResourceCollection();\r\n        clone.resources.addRange(this.resources.items);\r\n        clone.showResourcesDialogCommand = this.showResourcesDialogCommand;\r\n        return clone;\r\n    };\r\n    return TaskEditParameters;\r\n}(DialogBase_1.DialogParametersBase));\r\nexports.TaskEditParameters = TaskEditParameters;\r\n\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DialogBase_1 = __webpack_require__(22);\r\nvar TaskDependencyHistoryItem_1 = __webpack_require__(20);\r\nvar ConstraintViolationOption;\r\n(function (ConstraintViolationOption) {\r\n    ConstraintViolationOption[ConstraintViolationOption[\"DoNothing\"] = 0] = \"DoNothing\";\r\n    ConstraintViolationOption[ConstraintViolationOption[\"RemoveDependency\"] = 1] = \"RemoveDependency\";\r\n    ConstraintViolationOption[ConstraintViolationOption[\"KeepDependency\"] = 2] = \"KeepDependency\";\r\n})(ConstraintViolationOption = exports.ConstraintViolationOption || (exports.ConstraintViolationOption = {}));\r\nvar ConstraintViolationDialogCommand = (function (_super) {\r\n    __extends(ConstraintViolationDialogCommand, _super);\r\n    function ConstraintViolationDialogCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ConstraintViolationDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\r\n        if (newParameters.option === ConstraintViolationOption.DoNothing)\r\n            return false;\r\n        if (newParameters.option === ConstraintViolationOption.RemoveDependency)\r\n            this.history.addAndRedo(new TaskDependencyHistoryItem_1.RemoveDependencyHistoryItem(this.modelManipulator, oldParameters.dependencyId));\r\n        return true;\r\n    };\r\n    ConstraintViolationDialogCommand.prototype.createParameters = function (options) {\r\n        var result = new ConstraintViolationDialogParameters();\r\n        result.dependencyId = options;\r\n        return result;\r\n    };\r\n    ConstraintViolationDialogCommand.prototype.getDialogName = function () {\r\n        return \"ConstraintViolation\";\r\n    };\r\n    return ConstraintViolationDialogCommand;\r\n}(DialogBase_1.DialogBase));\r\nexports.ConstraintViolationDialogCommand = ConstraintViolationDialogCommand;\r\nvar ConstraintViolationDialogParameters = (function (_super) {\r\n    __extends(ConstraintViolationDialogParameters, _super);\r\n    function ConstraintViolationDialogParameters() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ConstraintViolationDialogParameters.prototype.clone = function () {\r\n        var result = new ConstraintViolationDialogParameters();\r\n        result.dependencyId = this.dependencyId;\r\n        result.option = this.option;\r\n        return result;\r\n    };\r\n    return ConstraintViolationDialogParameters;\r\n}(DialogBase_1.DialogParametersBase));\r\nexports.ConstraintViolationDialogParameters = ConstraintViolationDialogParameters;\r\n\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DialogBase_1 = __webpack_require__(22);\r\nvar ResourceCollection_1 = __webpack_require__(13);\r\nvar ResourcesDialogCommand = (function (_super) {\r\n    __extends(ResourcesDialogCommand, _super);\r\n    function ResourcesDialogCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourcesDialogCommand.prototype.applyParameters = function (newParameters, oldParameters) {\r\n        this.history.beginTransaction();\r\n        for (var i = 0; i < newParameters.resources.length; i++) {\r\n            var resource = oldParameters.resources.getItemById(newParameters.resources.getItem(i).internalId);\r\n            if (!resource)\r\n                this.control.commandManager.createResourceCommand.execute(newParameters.resources.getItem(i).text);\r\n        }\r\n        for (var i = 0; i < oldParameters.resources.length; i++) {\r\n            var resource = newParameters.resources.getItemById(oldParameters.resources.getItem(i).internalId);\r\n            if (!resource)\r\n                this.control.commandManager.removeResourceCommand.execute(oldParameters.resources.getItem(i).internalId);\r\n        }\r\n        this.history.endTransaction();\r\n        return false;\r\n    };\r\n    ResourcesDialogCommand.prototype.createParameters = function () {\r\n        var param = new ResourcesDialogParameters();\r\n        param.resources = new ResourceCollection_1.ResourceCollection();\r\n        param.resources.addRange(this.control.viewModel.resources.items);\r\n        return param;\r\n    };\r\n    ResourcesDialogCommand.prototype.getDialogName = function () {\r\n        return \"Resources\";\r\n    };\r\n    return ResourcesDialogCommand;\r\n}(DialogBase_1.DialogBase));\r\nexports.ResourcesDialogCommand = ResourcesDialogCommand;\r\nvar ResourcesDialogParameters = (function (_super) {\r\n    __extends(ResourcesDialogParameters, _super);\r\n    function ResourcesDialogParameters() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ResourcesDialogParameters.prototype.clone = function () {\r\n        var clone = new ResourcesDialogParameters();\r\n        clone.resources = new ResourceCollection_1.ResourceCollection();\r\n        clone.resources.addRange(this.resources.items);\r\n        return clone;\r\n    };\r\n    return ResourcesDialogParameters;\r\n}(DialogBase_1.DialogParametersBase));\r\nexports.ResourcesDialogParameters = ResourcesDialogParameters;\r\n\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GanttClientCommand;\r\n(function (GanttClientCommand) {\r\n    GanttClientCommand[GanttClientCommand[\"CreateTask\"] = 0] = \"CreateTask\";\r\n    GanttClientCommand[GanttClientCommand[\"CreateSubTask\"] = 1] = \"CreateSubTask\";\r\n    GanttClientCommand[GanttClientCommand[\"RemoveTask\"] = 2] = \"RemoveTask\";\r\n    GanttClientCommand[GanttClientCommand[\"RemoveDependency\"] = 3] = \"RemoveDependency\";\r\n    GanttClientCommand[GanttClientCommand[\"TaskInformation\"] = 4] = \"TaskInformation\";\r\n    GanttClientCommand[GanttClientCommand[\"TaskAddContextItem\"] = 5] = \"TaskAddContextItem\";\r\n})(GanttClientCommand = exports.GanttClientCommand || (exports.GanttClientCommand = {}));\r\n\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BarManager = (function () {\r\n    function BarManager(control, bars) {\r\n        this.control = control;\r\n        this.bars = bars;\r\n    }\r\n    BarManager.prototype.updateContextMenu = function () {\r\n        for (var i = 0, bar; bar = this.bars[i]; i++) {\r\n            if (bar.isContextMenu()) {\r\n                bar.updateItemsList();\r\n                var commandKeys = bar.getCommandKeys();\r\n                for (var j = 0; j < commandKeys.length; j++) {\r\n                    this.updateBarItem(bar, commandKeys[j]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    BarManager.prototype.updateItemsState = function (queryCommands) {\r\n        var anyQuerySended = !!queryCommands.length;\r\n        for (var i = 0, bar; bar = this.bars[i]; i++) {\r\n            if (bar.isVisible()) {\r\n                var commandKeys = bar.getCommandKeys();\r\n                var _loop_1 = function (j, commandKey) {\r\n                    if (anyQuerySended && !queryCommands.filter(function (q) { return q == commandKey; }).length)\r\n                        return \"continue\";\r\n                    this_1.updateBarItem(bar, commandKey);\r\n                };\r\n                var this_1 = this;\r\n                for (var j = 0, commandKey = void 0; commandKey = commandKeys[j]; j++) {\r\n                    _loop_1(j, commandKey);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    BarManager.prototype.updateBarItem = function (bar, commandKey) {\r\n        var command = this.control.commandManager.getCommand(commandKey);\r\n        if (command) {\r\n            var commandState = command.getState();\r\n            bar.setItemVisible(commandKey, commandState.visible);\r\n            if (commandState.visible) {\r\n                bar.setItemEnabled(commandKey, commandState.enabled);\r\n                bar.setItemValue(commandKey, commandState.value);\r\n            }\r\n        }\r\n    };\r\n    return BarManager;\r\n}());\r\nexports.BarManager = BarManager;\r\n\n\n/***/ })\n/******/ ]);\n});"]},"metadata":{},"sourceType":"script"}