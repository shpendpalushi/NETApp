{"ast":null,"code":"/**\r\n * DevExtreme (ui/file_uploader.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _guid = require(\"../core/guid\");\n\nvar _guid2 = _interopRequireDefault(_guid);\n\nvar _window = require(\"../core/utils/window\");\n\nvar _events_engine = require(\"../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _callbacks = require(\"../core/utils/callbacks\");\n\nvar _callbacks2 = _interopRequireDefault(_callbacks);\n\nvar _type = require(\"../core/utils/type\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _array = require(\"../core/utils/array\");\n\nvar _deferred = require(\"../core/utils/deferred\");\n\nvar _ajax = require(\"../core/utils/ajax\");\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _editor = require(\"./editor/editor\");\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _button = require(\"./button\");\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _progress_bar = require(\"./progress_bar\");\n\nvar _progress_bar2 = _interopRequireDefault(_progress_bar);\n\nvar _browser = require(\"../core/utils/browser\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nvar _devices = require(\"../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _utils = require(\"../events/utils\");\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _click = require(\"../events/click\");\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _message = require(\"../localization/message\");\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _themes = require(\"./themes\");\n\nvar _themes2 = _interopRequireDefault(_themes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar window = (0, _window.getWindow)();\nvar FILEUPLOADER_CLASS = \"dx-fileuploader\";\nvar FILEUPLOADER_EMPTY_CLASS = \"dx-fileuploader-empty\";\nvar FILEUPLOADER_SHOW_FILE_LIST_CLASS = \"dx-fileuploader-show-file-list\";\nvar FILEUPLOADER_DRAGOVER_CLASS = \"dx-fileuploader-dragover\";\nvar FILEUPLOADER_WRAPPER_CLASS = \"dx-fileuploader-wrapper\";\nvar FILEUPLOADER_CONTAINER_CLASS = \"dx-fileuploader-container\";\nvar FILEUPLOADER_CONTENT_CLASS = \"dx-fileuploader-content\";\nvar FILEUPLOADER_INPUT_WRAPPER_CLASS = \"dx-fileuploader-input-wrapper\";\nvar FILEUPLOADER_INPUT_CONTAINER_CLASS = \"dx-fileuploader-input-container\";\nvar FILEUPLOADER_INPUT_LABEL_CLASS = \"dx-fileuploader-input-label\";\nvar FILEUPLOADER_INPUT_CLASS = \"dx-fileuploader-input\";\nvar FILEUPLOADER_FILES_CONTAINER_CLASS = \"dx-fileuploader-files-container\";\nvar FILEUPLOADER_FILE_CONTAINER_CLASS = \"dx-fileuploader-file-container\";\nvar FILEUPLOADER_FILE_INFO_CLASS = \"dx-fileuploader-file-info\";\nvar FILEUPLOADER_FILE_STATUS_MESSAGE_CLASS = \"dx-fileuploader-file-status-message\";\nvar FILEUPLOADER_FILE_CLASS = \"dx-fileuploader-file\";\nvar FILEUPLOADER_FILE_NAME_CLASS = \"dx-fileuploader-file-name\";\nvar FILEUPLOADER_FILE_SIZE_CLASS = \"dx-fileuploader-file-size\";\nvar FILEUPLOADER_BUTTON_CLASS = \"dx-fileuploader-button\";\nvar FILEUPLOADER_BUTTON_CONTAINER_CLASS = \"dx-fileuploader-button-container\";\nvar FILEUPLOADER_CANCEL_BUTTON_CLASS = \"dx-fileuploader-cancel-button\";\nvar FILEUPLOADER_UPLOAD_BUTTON_CLASS = \"dx-fileuploader-upload-button\";\nvar FILEUPLOADER_INVALID_CLASS = \"dx-fileuploader-invalid\";\nvar FILEUPLOADER_AFTER_LOAD_DELAY = 400;\nvar FILEUPLOADER_CHUNK_META_DATA_NAME = \"chunkMetadata\";\n\nvar renderFileUploaderInput = function renderFileUploaderInput() {\n  return (0, _renderer2.default)(\"<input>\").attr(\"type\", \"file\");\n};\n\nvar isFormDataSupported = function isFormDataSupported() {\n  return !!window.FormData;\n};\n\nvar FileUploader = function (_Editor) {\n  _inherits(FileUploader, _Editor);\n\n  function FileUploader() {\n    _classCallCheck(this, FileUploader);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FileUploader).apply(this, arguments));\n  }\n\n  _createClass(FileUploader, [{\n    key: \"_supportedKeys\",\n    value: function value() {\n      var _this = this;\n\n      var click = function click(e) {\n        e.preventDefault();\n\n        var $selectButton = _this._selectButton.$element();\n\n        _events_engine2.default.trigger($selectButton, _click2.default.name);\n      };\n\n      return (0, _extend.extend)(_get(_getPrototypeOf(FileUploader.prototype), \"_supportedKeys\", this).call(this), {\n        space: click,\n        enter: click\n      });\n    }\n  }, {\n    key: \"_setOptionsByReference\",\n    value: function value() {\n      _get(_getPrototypeOf(FileUploader.prototype), \"_setOptionsByReference\", this).call(this);\n\n      (0, _extend.extend)(this._optionsByReference, {\n        value: true\n      });\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(FileUploader.prototype), \"_getDefaultOptions\", this).call(this), {\n        chunkSize: 0,\n        value: [],\n        selectButtonText: _message2.default.format(\"dxFileUploader-selectFile\"),\n        uploadButtonText: _message2.default.format(\"dxFileUploader-upload\"),\n        labelText: _message2.default.format(\"dxFileUploader-dropFile\"),\n        name: \"files[]\",\n        multiple: false,\n        accept: \"\",\n        uploadUrl: \"/\",\n        allowCanceling: true,\n        showFileList: true,\n        progress: 0,\n        readyToUploadMessage: _message2.default.format(\"dxFileUploader-readyToUpload\"),\n        uploadedMessage: _message2.default.format(\"dxFileUploader-uploaded\"),\n        uploadFailedMessage: _message2.default.format(\"dxFileUploader-uploadFailedMessage\"),\n        uploadMode: \"instantly\",\n        uploadMethod: \"POST\",\n        uploadHeaders: {},\n        onUploadStarted: null,\n        onUploaded: null,\n        onProgress: null,\n        onUploadError: null,\n        onUploadAborted: null,\n        allowedFileExtensions: [],\n        maxFileSize: 0,\n        minFileSize: 0,\n        invalidFileExtensionMessage: _message2.default.format(\"dxFileUploader-invalidFileExtension\"),\n        invalidMaxFileSizeMessage: _message2.default.format(\"dxFileUploader-invalidMaxFileSize\"),\n        invalidMinFileSizeMessage: _message2.default.format(\"dxFileUploader-invalidMinFileSize\"),\n        extendSelection: true,\n        validationMessageMode: \"always\",\n        uploadFile: null,\n        uploadChunk: null,\n        abortUpload: null,\n        validationMessageOffset: {\n          h: 0,\n          v: 0\n        },\n        useNativeInputClick: false,\n        useDragOver: true,\n        nativeDropSupported: true,\n        _uploadButtonType: \"normal\"\n      });\n    }\n  }, {\n    key: \"_defaultOptionsRules\",\n    value: function value() {\n      return _get(_getPrototypeOf(FileUploader.prototype), \"_defaultOptionsRules\", this).call(this).concat([{\n        device: function device() {\n          return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator();\n        },\n        options: {\n          focusStateEnabled: true\n        }\n      }, {\n        device: [{\n          platform: \"android\"\n        }],\n        options: {\n          validationMessageOffset: {\n            v: 0\n          }\n        }\n      }, {\n        device: function device() {\n          return \"desktop\" !== _devices2.default.real().deviceType;\n        },\n        options: {\n          useDragOver: false\n        }\n      }, {\n        device: function device() {\n          return !isFormDataSupported();\n        },\n        options: {\n          uploadMode: \"useForm\"\n        }\n      }, {\n        device: function device() {\n          return _browser2.default.msie || \"desktop\" !== _devices2.default.real().deviceType;\n        },\n        options: {\n          nativeDropSupported: false\n        }\n      }, {\n        device: function device() {\n          return _themes2.default.isMaterial();\n        },\n        options: {\n          _uploadButtonType: \"default\"\n        }\n      }]);\n    }\n  }, {\n    key: \"_init\",\n    value: function value() {\n      _get(_getPrototypeOf(FileUploader.prototype), \"_init\", this).call(this);\n\n      this._initFileInput();\n\n      this._initLabel();\n\n      this._setUploadStrategy();\n\n      this._createFiles();\n\n      this._createUploadStartedAction();\n\n      this._createUploadedAction();\n\n      this._createProgressAction();\n\n      this._createUploadErrorAction();\n\n      this._createUploadAbortedAction();\n    }\n  }, {\n    key: \"_setUploadStrategy\",\n    value: function value() {\n      var strategy = null;\n\n      if (this.option(\"chunkSize\") > 0) {\n        var uploadChunk = this.option(\"uploadChunk\");\n        strategy = uploadChunk && (0, _type.isFunction)(uploadChunk) ? new CustomChunksFileUploadStrategy(this) : new DefaultChunksFileUploadStrategy(this);\n      } else {\n        var uploadFile = this.option(\"uploadFile\");\n        strategy = uploadFile && (0, _type.isFunction)(uploadFile) ? new CustomWholeFileUploadStrategy(this) : new DefaultWholeFileUploadStrategy(this);\n      }\n\n      this._uploadStrategy = strategy;\n    }\n  }, {\n    key: \"_initFileInput\",\n    value: function value() {\n      var _this2 = this;\n\n      this._isCustomClickEvent = false;\n\n      if (!this._$fileInput) {\n        this._$fileInput = renderFileUploaderInput();\n\n        _events_engine2.default.on(this._$fileInput, \"change\", this._inputChangeHandler.bind(this));\n\n        _events_engine2.default.on(this._$fileInput, \"click\", function (e) {\n          e.stopPropagation();\n          return _this2.option(\"useNativeInputClick\") || _this2._isCustomClickEvent;\n        });\n      }\n\n      this._$fileInput.prop({\n        multiple: this.option(\"multiple\"),\n        accept: this.option(\"accept\"),\n        tabIndex: -1\n      });\n    }\n  }, {\n    key: \"_inputChangeHandler\",\n    value: function value() {\n      if (this._doPreventInputChange) {\n        return;\n      }\n\n      var fileName = this._$fileInput.val().replace(/^.*\\\\/, \"\");\n\n      var files = this._$fileInput.prop(\"files\");\n\n      if (files && !files.length) {\n        return;\n      }\n\n      var value = files ? this._getFiles(files) : [{\n        name: fileName\n      }];\n\n      this._changeValue(value);\n\n      if (\"instantly\" === this.option(\"uploadMode\")) {\n        this._uploadFiles();\n      }\n    }\n  }, {\n    key: \"_shouldFileListBeExtended\",\n    value: function value() {\n      return \"useForm\" !== this.option(\"uploadMode\") && this.option(\"extendSelection\") && this.option(\"multiple\");\n    }\n  }, {\n    key: \"_removeDuplicates\",\n    value: function value(files, _value) {\n      var result = [];\n\n      for (var i = 0; i < _value.length; i++) {\n        if (!this._isFileInArray(files, _value[i])) {\n          result.push(_value[i]);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_isFileInArray\",\n    value: function value(files, file) {\n      for (var i = 0; i < files.length; i++) {\n        var item = files[i];\n\n        if (item.size === file.size && item.name === file.name) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_changeValue\",\n    value: function value(_value2) {\n      var files = this._shouldFileListBeExtended() ? this.option(\"value\").slice() : [];\n\n      if (\"instantly\" !== this.option(\"uploadMode\")) {\n        _value2 = this._removeDuplicates(files, _value2);\n      }\n\n      this.option(\"value\", files.concat(_value2));\n    }\n  }, {\n    key: \"_getFiles\",\n    value: function value(fileList) {\n      var values = [];\n      (0, _iterator.each)(fileList, function (_, value) {\n        return values.push(value);\n      });\n      return values;\n    }\n  }, {\n    key: \"_initLabel\",\n    value: function value() {\n      if (!this._$inputLabel) {\n        this._$inputLabel = (0, _renderer2.default)(\"<div>\");\n      }\n\n      this._$inputLabel.text(this.option(\"labelText\"));\n    }\n  }, {\n    key: \"_focusTarget\",\n    value: function value() {\n      return this.$element().find(\".\" + FILEUPLOADER_BUTTON_CLASS);\n    }\n  }, {\n    key: \"_getSubmitElement\",\n    value: function value() {\n      return this._$fileInput;\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function value() {\n      _get(_getPrototypeOf(FileUploader.prototype), \"_initMarkup\", this).call(this);\n\n      this.$element().addClass(FILEUPLOADER_CLASS);\n\n      this._renderWrapper();\n\n      this._renderInputWrapper();\n\n      this._renderSelectButton();\n\n      this._renderInputContainer();\n\n      this._renderUploadButton();\n\n      this._preventRecreatingFiles = true;\n    }\n  }, {\n    key: \"_render\",\n    value: function value() {\n      this._preventRecreatingFiles = false;\n\n      this._renderDragEvents();\n\n      this._renderFiles();\n\n      _get(_getPrototypeOf(FileUploader.prototype), \"_render\", this).call(this);\n    }\n  }, {\n    key: \"_createFileProgressBar\",\n    value: function value(file) {\n      file.progressBar = this._createProgressBar(file.value.size);\n      file.progressBar.$element().appendTo(file.$file);\n\n      this._initStatusMessage(file);\n\n      this._initCancelButton(file);\n    }\n  }, {\n    key: \"_setStatusMessage\",\n    value: function value(file, key) {\n      var _this3 = this;\n\n      setTimeout(function () {\n        if (_this3.option(\"showFileList\")) {\n          file.$statusMessage.text(_this3.option(key));\n          file.$statusMessage.css(\"display\", \"\");\n          file.progressBar.$element().remove();\n        }\n      }, FILEUPLOADER_AFTER_LOAD_DELAY);\n    }\n  }, {\n    key: \"_createFiles\",\n    value: function value() {\n      var _this4 = this;\n\n      var value = this.option(\"value\");\n\n      if (this._files && (0 === value.length || !this._shouldFileListBeExtended())) {\n        this._preventFilesUploading(this._files);\n\n        this._files = null;\n      }\n\n      if (!this._files) {\n        this._files = [];\n      }\n\n      (0, _iterator.each)(value.slice(this._files.length), function (_, value) {\n        var file = _this4._createFile(value);\n\n        _this4._validateFile(file);\n\n        _this4._files.push(file);\n      });\n    }\n  }, {\n    key: \"_preventFilesUploading\",\n    value: function value(files) {\n      var _this5 = this;\n\n      files.forEach(function (file) {\n        return _this5._uploadStrategy.abortUpload(file);\n      });\n    }\n  }, {\n    key: \"_validateFile\",\n    value: function value(file) {\n      file.isValidFileExtension = this._validateFileExtension(file);\n      file.isValidMinSize = this._validateMinFileSize(file);\n      file.isValidMaxSize = this._validateMaxFileSize(file);\n    }\n  }, {\n    key: \"_validateFileExtension\",\n    value: function value(file) {\n      var allowedExtensions = this.option(\"allowedFileExtensions\");\n      var fileExtension = file.value.name.substring(file.value.name.lastIndexOf(\".\")).toLowerCase();\n\n      if (0 === allowedExtensions.length) {\n        return true;\n      }\n\n      for (var i = 0; i < allowedExtensions.length; i++) {\n        if (fileExtension === allowedExtensions[i].toLowerCase()) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_validateMaxFileSize\",\n    value: function value(file) {\n      var fileSize = file.value.size;\n      var maxFileSize = this.option(\"maxFileSize\");\n      return maxFileSize > 0 ? fileSize <= maxFileSize : true;\n    }\n  }, {\n    key: \"_validateMinFileSize\",\n    value: function value(file) {\n      var fileSize = file.value.size;\n      var minFileSize = this.option(\"minFileSize\");\n      return minFileSize > 0 ? fileSize >= minFileSize : true;\n    }\n  }, {\n    key: \"_createUploadStartedAction\",\n    value: function value() {\n      this._uploadStartedAction = this._createActionByOption(\"onUploadStarted\");\n    }\n  }, {\n    key: \"_createUploadedAction\",\n    value: function value() {\n      this._uploadedAction = this._createActionByOption(\"onUploaded\");\n    }\n  }, {\n    key: \"_createProgressAction\",\n    value: function value() {\n      this._progressAction = this._createActionByOption(\"onProgress\");\n    }\n  }, {\n    key: \"_createUploadAbortedAction\",\n    value: function value() {\n      this._uploadAbortedAction = this._createActionByOption(\"onUploadAborted\");\n    }\n  }, {\n    key: \"_createUploadErrorAction\",\n    value: function value() {\n      this._uploadErrorAction = this._createActionByOption(\"onUploadError\");\n    }\n  }, {\n    key: \"_createFile\",\n    value: function value(_value3) {\n      return {\n        value: _value3,\n        loadedSize: 0,\n        onProgress: (0, _callbacks2.default)(),\n        onAbort: (0, _callbacks2.default)(),\n        onLoad: (0, _callbacks2.default)(),\n        onError: (0, _callbacks2.default)(),\n        onLoadStart: (0, _callbacks2.default)(),\n        isValidFileExtension: true,\n        isValidMaxSize: true,\n        isValidMinSize: true,\n        isValid: function isValid() {\n          return this.isValidFileExtension && this.isValidMaxSize && this.isValidMinSize;\n        }\n      };\n    }\n  }, {\n    key: \"_renderFiles\",\n    value: function value() {\n      var _this6 = this;\n\n      var value = this.option(\"value\");\n\n      if (!this._$filesContainer) {\n        this._$filesContainer = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILES_CONTAINER_CLASS).appendTo(this._$content);\n      } else {\n        if (!this._shouldFileListBeExtended() || 0 === value.length) {\n          this._$filesContainer.empty();\n        }\n      }\n\n      var showFileList = this.option(\"showFileList\");\n\n      if (showFileList) {\n        (0, _iterator.each)(this._files, function (_, file) {\n          if (!file.$file) {\n            _this6._renderFile(file);\n          }\n        });\n      }\n\n      this.$element().toggleClass(FILEUPLOADER_SHOW_FILE_LIST_CLASS, showFileList);\n\n      this._toggleFileUploaderEmptyClassName();\n\n      this._updateFileNameMaxWidth();\n\n      this._$validationMessage && this._$validationMessage.dxOverlay(\"instance\").repaint();\n    }\n  }, {\n    key: \"_renderFile\",\n    value: function value(file) {\n      var value = file.value;\n      var $fileContainer = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_CONTAINER_CLASS).appendTo(this._$filesContainer);\n\n      this._renderFileButtons(file, $fileContainer);\n\n      file.$file = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_CLASS).appendTo($fileContainer);\n      var $fileInfo = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_INFO_CLASS).appendTo(file.$file);\n      file.$statusMessage = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_STATUS_MESSAGE_CLASS).appendTo(file.$file);\n      (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_NAME_CLASS).text(value.name).appendTo($fileInfo);\n\n      if ((0, _type.isDefined)(value.size)) {\n        (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_SIZE_CLASS).text(this._getFileSize(value.size)).appendTo($fileInfo);\n      }\n\n      if (file.isValid()) {\n        file.$statusMessage.text(this.option(\"readyToUploadMessage\"));\n      } else {\n        if (!file.isValidFileExtension) {\n          file.$statusMessage.append(this._createValidationElement(\"invalidFileExtensionMessage\"));\n        }\n\n        if (!file.isValidMaxSize) {\n          file.$statusMessage.append(this._createValidationElement(\"invalidMaxFileSizeMessage\"));\n        }\n\n        if (!file.isValidMinSize) {\n          file.$statusMessage.append(this._createValidationElement(\"invalidMinFileSizeMessage\"));\n        }\n\n        $fileContainer.addClass(FILEUPLOADER_INVALID_CLASS);\n      }\n    }\n  }, {\n    key: \"_createValidationElement\",\n    value: function value(key) {\n      return (0, _renderer2.default)(\"<span>\").text(this.option(key));\n    }\n  }, {\n    key: \"_updateFileNameMaxWidth\",\n    value: function value() {\n      var cancelButtonsCount = this.option(\"allowCanceling\") && \"useForm\" !== this.option(\"uploadMode\") ? 1 : 0;\n      var uploadButtonsCount = \"useButtons\" === this.option(\"uploadMode\") ? 1 : 0;\n\n      var filesContainerWidth = this._$filesContainer.find(\".\" + FILEUPLOADER_FILE_CONTAINER_CLASS).first().width() || this._$filesContainer.width();\n\n      var $buttonContainer = this._$filesContainer.find(\".\" + FILEUPLOADER_BUTTON_CONTAINER_CLASS).eq(0);\n\n      var buttonsWidth = $buttonContainer.width() * (cancelButtonsCount + uploadButtonsCount);\n\n      var $fileSize = this._$filesContainer.find(\".\" + FILEUPLOADER_FILE_SIZE_CLASS).eq(0);\n\n      var prevFileSize = $fileSize.text();\n      $fileSize.text(\"1000 Mb\");\n      var fileSizeWidth = $fileSize.width();\n      $fileSize.text(prevFileSize);\n\n      this._$filesContainer.find(\".\" + FILEUPLOADER_FILE_NAME_CLASS).css(\"maxWidth\", filesContainerWidth - buttonsWidth - fileSizeWidth);\n    }\n  }, {\n    key: \"_renderFileButtons\",\n    value: function value(file, $container) {\n      var $cancelButton = this._getCancelButton(file);\n\n      $cancelButton && $container.append($cancelButton);\n\n      var $uploadButton = this._getUploadButton(file);\n\n      $uploadButton && $container.append($uploadButton);\n    }\n  }, {\n    key: \"_getCancelButton\",\n    value: function value(file) {\n      var _this7 = this;\n\n      if (\"useForm\" === this.option(\"uploadMode\")) {\n        return null;\n      }\n\n      file.cancelButton = this._createComponent((0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CLASS + \" \" + FILEUPLOADER_CANCEL_BUTTON_CLASS), _button2.default, {\n        onClick: function onClick() {\n          return _this7._removeFile(file);\n        },\n        icon: \"close\",\n        visible: this.option(\"allowCanceling\"),\n        integrationOptions: {}\n      });\n      return (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CONTAINER_CLASS).append(file.cancelButton.$element());\n    }\n  }, {\n    key: \"_getUploadButton\",\n    value: function value(file) {\n      var _this8 = this;\n\n      if (!file.isValid() || \"useButtons\" !== this.option(\"uploadMode\")) {\n        return null;\n      }\n\n      file.uploadButton = this._createComponent((0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CLASS + \" \" + FILEUPLOADER_UPLOAD_BUTTON_CLASS), _button2.default, {\n        onClick: function onClick() {\n          return _this8._uploadFile(file);\n        },\n        icon: \"upload\"\n      });\n      file.onLoadStart.add(function () {\n        return file.uploadButton.$element().remove();\n      });\n      return (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CONTAINER_CLASS).append(file.uploadButton.$element());\n    }\n  }, {\n    key: \"_removeFile\",\n    value: function value(file) {\n      file.$file.parent().remove();\n\n      this._files.splice((0, _array.inArray)(file, this._files), 1);\n\n      var value = this.option(\"value\").slice();\n      value.splice((0, _array.inArray)(file.value, value), 1);\n      this._preventRecreatingFiles = true;\n      this.option(\"value\", value);\n      this._preventRecreatingFiles = false;\n\n      this._toggleFileUploaderEmptyClassName();\n\n      this._doPreventInputChange = true;\n\n      this._$fileInput.val(\"\");\n\n      this._doPreventInputChange = false;\n    }\n  }, {\n    key: \"_toggleFileUploaderEmptyClassName\",\n    value: function value() {\n      this.$element().toggleClass(FILEUPLOADER_EMPTY_CLASS, !this._files.length || this._hasInvalidFile(this._files));\n    }\n  }, {\n    key: \"_hasInvalidFile\",\n    value: function value(files) {\n      for (var i = 0; i < files.length; i++) {\n        if (!files[i].isValid()) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_getFileSize\",\n    value: function value(size) {\n      var i = 0;\n      var labels = [_message2.default.format(\"dxFileUploader-bytes\"), _message2.default.format(\"dxFileUploader-kb\"), _message2.default.format(\"dxFileUploader-Mb\"), _message2.default.format(\"dxFileUploader-Gb\")];\n      var count = labels.length - 1;\n\n      while (i < count && size >= 1024) {\n        size /= 1024;\n        i++;\n      }\n\n      return Math.round(size) + \" \" + labels[i];\n    }\n  }, {\n    key: \"_renderSelectButton\",\n    value: function value() {\n      var $button = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CLASS).appendTo(this._$inputWrapper);\n      this._selectButton = this._createComponent($button, _button2.default, {\n        text: this.option(\"selectButtonText\"),\n        focusStateEnabled: false,\n        integrationOptions: {}\n      });\n\n      if (\"desktop\" === _devices2.default.real().deviceType) {\n        this._selectButton.option(\"onClick\", this._selectButtonClickHandler.bind(this));\n      } else {\n        _events_engine2.default.off($button, \"click\");\n\n        _events_engine2.default.on($button, \"click\", this._selectButtonClickHandler.bind(this));\n      }\n    }\n  }, {\n    key: \"_selectButtonClickHandler\",\n    value: function value() {\n      if (this.option(\"useNativeInputClick\")) {\n        return;\n      }\n\n      if (this.option(\"disabled\")) {\n        return false;\n      }\n\n      this._isCustomClickEvent = true;\n\n      _events_engine2.default.trigger(this._$fileInput, \"click\");\n\n      this._isCustomClickEvent = false;\n    }\n  }, {\n    key: \"_renderUploadButton\",\n    value: function value() {\n      if (\"useButtons\" !== this.option(\"uploadMode\")) {\n        return;\n      }\n\n      var $uploadButton = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CLASS).addClass(FILEUPLOADER_UPLOAD_BUTTON_CLASS).appendTo(this._$content);\n      this._uploadButton = this._createComponent($uploadButton, _button2.default, {\n        text: this.option(\"uploadButtonText\"),\n        onClick: this._uploadButtonClickHandler.bind(this),\n        type: this.option(\"_uploadButtonType\"),\n        integrationOptions: {}\n      });\n    }\n  }, {\n    key: \"_uploadButtonClickHandler\",\n    value: function value() {\n      this._uploadFiles();\n    }\n  }, {\n    key: \"_shouldDragOverBeRendered\",\n    value: function value() {\n      return \"useForm\" !== this.option(\"uploadMode\") || this.option(\"nativeDropSupported\");\n    }\n  }, {\n    key: \"_renderInputContainer\",\n    value: function value() {\n      this._$inputContainer = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_INPUT_CONTAINER_CLASS).appendTo(this._$inputWrapper);\n\n      if (!this._shouldDragOverBeRendered()) {\n        this._$inputContainer.css(\"display\", \"none\");\n      }\n\n      this._$fileInput.addClass(FILEUPLOADER_INPUT_CLASS);\n\n      this._renderInput();\n\n      this._$inputLabel.addClass(FILEUPLOADER_INPUT_LABEL_CLASS).appendTo(this._$inputContainer);\n    }\n  }, {\n    key: \"_renderInput\",\n    value: function value() {\n      if (this.option(\"useNativeInputClick\")) {\n        this._selectButton.option(\"template\", this._selectButtonInputTemplate.bind(this));\n      } else {\n        this._$fileInput.appendTo(this._$inputContainer);\n\n        this._selectButton.option(\"template\", \"content\");\n      }\n    }\n  }, {\n    key: \"_selectButtonInputTemplate\",\n    value: function value(data, content) {\n      var $content = (0, _renderer2.default)(content);\n      var $text = (0, _renderer2.default)(\"<span>\").addClass(\"dx-button-text\").text(data.text);\n      $content.append($text).append(this._$fileInput);\n      return $content;\n    }\n  }, {\n    key: \"_renderInputWrapper\",\n    value: function value() {\n      this._$inputWrapper = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_INPUT_WRAPPER_CLASS).appendTo(this._$content);\n    }\n  }, {\n    key: \"_renderDragEvents\",\n    value: function value() {\n      _events_engine2.default.off(this._$inputWrapper, \".\" + this.NAME);\n\n      if (!this._shouldDragOverBeRendered()) {\n        return;\n      }\n\n      this._dragEventsTargets = [];\n\n      _events_engine2.default.on(this._$inputWrapper, _utils2.default.addNamespace(\"dragenter\", this.NAME), this._dragEnterHandler.bind(this));\n\n      _events_engine2.default.on(this._$inputWrapper, _utils2.default.addNamespace(\"dragover\", this.NAME), this._dragOverHandler.bind(this));\n\n      _events_engine2.default.on(this._$inputWrapper, _utils2.default.addNamespace(\"dragleave\", this.NAME), this._dragLeaveHandler.bind(this));\n\n      _events_engine2.default.on(this._$inputWrapper, _utils2.default.addNamespace(\"drop\", this.NAME), this._dropHandler.bind(this));\n    }\n  }, {\n    key: \"_useInputForDrop\",\n    value: function value() {\n      return this.option(\"nativeDropSupported\") && \"useForm\" === this.option(\"uploadMode\");\n    }\n  }, {\n    key: \"_dragEnterHandler\",\n    value: function value(e) {\n      if (this.option(\"disabled\")) {\n        return false;\n      }\n\n      if (!this._useInputForDrop()) {\n        e.preventDefault();\n      }\n\n      this._updateEventTargets(e);\n\n      this.$element().addClass(FILEUPLOADER_DRAGOVER_CLASS);\n    }\n  }, {\n    key: \"_dragOverHandler\",\n    value: function value(e) {\n      if (!this._useInputForDrop()) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"_dragLeaveHandler\",\n    value: function value(e) {\n      if (!this._useInputForDrop()) {\n        e.preventDefault();\n      }\n\n      this._updateEventTargets(e);\n\n      if (!this._dragEventsTargets.length) {\n        this.$element().removeClass(FILEUPLOADER_DRAGOVER_CLASS);\n      }\n    }\n  }, {\n    key: \"_updateEventTargets\",\n    value: function value(e) {\n      var targetIndex = this._dragEventsTargets.indexOf(e.target);\n\n      var isTargetExists = targetIndex !== -1;\n\n      if (\"dragenter\" === e.type) {\n        !isTargetExists && this._dragEventsTargets.push(e.target);\n      } else {\n        isTargetExists && this._dragEventsTargets.splice(targetIndex, 1);\n      }\n    }\n  }, {\n    key: \"_dropHandler\",\n    value: function value(e) {\n      this._dragEventsTargets = [];\n      this.$element().removeClass(FILEUPLOADER_DRAGOVER_CLASS);\n\n      if (this._useInputForDrop()) {\n        return;\n      }\n\n      e.preventDefault();\n      var fileList = e.originalEvent.dataTransfer.files;\n\n      var files = this._getFiles(fileList);\n\n      if (!this.option(\"multiple\") && files.length > 1) {\n        return;\n      }\n\n      this._changeValue(this._filterFiles(files));\n\n      if (\"instantly\" === this.option(\"uploadMode\")) {\n        this._uploadFiles();\n      }\n    }\n  }, {\n    key: \"_filterFiles\",\n    value: function value(files) {\n      if (!files.length) {\n        return files;\n      }\n\n      var accept = this.option(\"accept\");\n\n      if (!accept.length) {\n        return files;\n      }\n\n      var result = [];\n\n      var allowedTypes = this._getAllowedFileTypes(accept);\n\n      for (var i = 0, n = files.length; i < n; i++) {\n        if (this._isFileTypeAllowed(files[i], allowedTypes)) {\n          result.push(files[i]);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_getAllowedFileTypes\",\n    value: function value(acceptSting) {\n      if (!acceptSting.length) {\n        return [];\n      }\n\n      return acceptSting.split(\",\").map(function (item) {\n        return item.trim();\n      });\n    }\n  }, {\n    key: \"_isFileTypeAllowed\",\n    value: function value(file, allowedTypes) {\n      for (var i = 0, n = allowedTypes.length; i < n; i++) {\n        var allowedType = allowedTypes[i];\n\n        if (\".\" === allowedType[0]) {\n          allowedType = allowedType.replace(\".\", \"\\\\.\");\n\n          if (file.name.match(new RegExp(allowedType + \"$\", \"i\"))) {\n            return true;\n          }\n        } else {\n          allowedType = allowedType.replace(\"*\", \"\");\n\n          if (file.type.match(new RegExp(allowedType, \"i\"))) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_renderWrapper\",\n    value: function value() {\n      var $wrapper = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_WRAPPER_CLASS).appendTo(this.$element());\n      var $container = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_CONTAINER_CLASS).appendTo($wrapper);\n      this._$content = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_CONTENT_CLASS).appendTo($container);\n    }\n  }, {\n    key: \"_clean\",\n    value: function value() {\n      this._$fileInput.detach();\n\n      delete this._$filesContainer;\n\n      if (this._files) {\n        this._files.forEach(function (file) {\n          file.$file = null;\n          file.$statusMessage = null;\n        });\n      }\n\n      _get(_getPrototypeOf(FileUploader.prototype), \"_clean\", this).call(this);\n    }\n  }, {\n    key: \"_uploadFiles\",\n    value: function value() {\n      var _this9 = this;\n\n      if (isFormDataSupported()) {\n        (0, _iterator.each)(this._files, function (_, file) {\n          return _this9._uploadFile(file);\n        });\n      }\n    }\n  }, {\n    key: \"_uploadFile\",\n    value: function value(file) {\n      this._uploadStrategy.upload(file);\n    }\n  }, {\n    key: \"_updateProgressBar\",\n    value: function value(file, loadedFileData) {\n      file.progressBar && file.progressBar.option({\n        value: loadedFileData.loaded,\n        showStatus: true\n      });\n\n      this._progressAction({\n        file: file.value,\n        segmentSize: loadedFileData.currentSegmentSize,\n        bytesLoaded: loadedFileData.loaded,\n        bytesTotal: loadedFileData.total,\n        event: loadedFileData.event,\n        request: file.request\n      });\n    }\n  }, {\n    key: \"_updateTotalProgress\",\n    value: function value(totalFilesSize, totalLoadedFilesSize) {\n      var progress = totalFilesSize ? this._getProgressValue(totalLoadedFilesSize / totalFilesSize) : 0;\n      this.option(\"progress\", progress);\n\n      this._setLoadedSize(totalLoadedFilesSize);\n    }\n  }, {\n    key: \"_getProgressValue\",\n    value: function value(ratio) {\n      return Math.floor(100 * ratio);\n    }\n  }, {\n    key: \"_initStatusMessage\",\n    value: function value(file) {\n      file.$statusMessage.css(\"display\", \"none\");\n    }\n  }, {\n    key: \"_initCancelButton\",\n    value: function value(file) {\n      var _this10 = this;\n\n      file.cancelButton.option(\"onClick\", function () {\n        _this10._preventFilesUploading([file]);\n\n        _this10._removeFile(file);\n      });\n\n      var hideCancelButton = function hideCancelButton() {\n        setTimeout(function () {\n          file.cancelButton.option({\n            visible: false\n          });\n        }, FILEUPLOADER_AFTER_LOAD_DELAY);\n      };\n\n      file.onLoad.add(hideCancelButton);\n      file.onError.add(hideCancelButton);\n    }\n  }, {\n    key: \"_createProgressBar\",\n    value: function value(fileSize) {\n      var _this11 = this;\n\n      return this._createComponent((0, _renderer2.default)(\"<div>\"), _progress_bar2.default, {\n        value: void 0,\n        min: 0,\n        max: fileSize,\n        statusFormat: function statusFormat(ratio) {\n          return _this11._getProgressValue(ratio) + \"%\";\n        },\n        showStatus: false,\n        statusPosition: \"right\"\n      });\n    }\n  }, {\n    key: \"_getTotalFilesSize\",\n    value: function value() {\n      var _this12 = this;\n\n      if (!this._totalFilesSize) {\n        this._totalFilesSize = 0;\n        (0, _iterator.each)(this._files, function (_, file) {\n          _this12._totalFilesSize += file.value.size;\n        });\n      }\n\n      return this._totalFilesSize;\n    }\n  }, {\n    key: \"_getTotalLoadedFilesSize\",\n    value: function value() {\n      var _this13 = this;\n\n      if (!this._totalLoadedFilesSize) {\n        this._totalLoadedFilesSize = 0;\n        (0, _iterator.each)(this._files, function (_, file) {\n          _this13._totalLoadedFilesSize += file.loadedSize;\n        });\n      }\n\n      return this._totalLoadedFilesSize;\n    }\n  }, {\n    key: \"_setLoadedSize\",\n    value: function value(_value4) {\n      this._totalLoadedFilesSize = _value4;\n    }\n  }, {\n    key: \"_recalculateProgress\",\n    value: function value() {\n      this._totalFilesSize = 0;\n      this._totalLoadedFilesSize = 0;\n\n      this._updateTotalProgress(this._getTotalFilesSize(), this._getTotalLoadedFilesSize());\n    }\n  }, {\n    key: \"_getValidationMessageTarget\",\n    value: function value() {\n      return this._$inputWrapper;\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      var value = args.value;\n\n      switch (args.name) {\n        case \"height\":\n        case \"width\":\n          this._updateFileNameMaxWidth();\n\n          _get(_getPrototypeOf(FileUploader.prototype), \"_optionChanged\", this).call(this, args);\n\n          break;\n\n        case \"value\":\n          !value.length && this._$fileInput.val(\"\");\n\n          if (!this._preventRecreatingFiles) {\n            this._createFiles();\n\n            this._renderFiles();\n          }\n\n          this._recalculateProgress();\n\n          _get(_getPrototypeOf(FileUploader.prototype), \"_optionChanged\", this).call(this, args);\n\n          break;\n\n        case \"name\":\n          this._initFileInput();\n\n          _get(_getPrototypeOf(FileUploader.prototype), \"_optionChanged\", this).call(this, args);\n\n          break;\n\n        case \"accept\":\n          this._initFileInput();\n\n          break;\n\n        case \"multiple\":\n          this._initFileInput();\n\n          if (!args.value) {\n            this.reset();\n          }\n\n          break;\n\n        case \"selectButtonText\":\n          this._selectButton.option(\"text\", value);\n\n          break;\n\n        case \"uploadButtonText\":\n          this._uploadButton && this._uploadButton.option(\"text\", value);\n          break;\n\n        case \"_uploadButtonType\":\n          this._uploadButton && this._uploadButton.option(\"type\", value);\n          break;\n\n        case \"maxFileSize\":\n        case \"minFileSize\":\n        case \"allowedFileExtensions\":\n        case \"invalidFileExtensionMessage\":\n        case \"invalidMaxFileSizeMessage\":\n        case \"invalidMinFileSizeMessage\":\n        case \"readyToUploadMessage\":\n        case \"uploadedMessage\":\n        case \"uploadFailedMessage\":\n          this._invalidate();\n\n          break;\n\n        case \"labelText\":\n          this._$inputLabel.text(value);\n\n          break;\n\n        case \"showFileList\":\n          if (!this._preventRecreatingFiles) {\n            this._renderFiles();\n          }\n\n          break;\n\n        case \"uploadFile\":\n        case \"uploadChunk\":\n        case \"chunkSize\":\n          this._setUploadStrategy();\n\n          break;\n\n        case \"abortUpload\":\n        case \"uploadUrl\":\n        case \"progress\":\n        case \"uploadMethod\":\n        case \"uploadHeaders\":\n        case \"extendSelection\":\n          break;\n\n        case \"allowCanceling\":\n        case \"uploadMode\":\n          this.reset();\n\n          this._invalidate();\n\n          break;\n\n        case \"onUploadStarted\":\n          this._createUploadStartedAction();\n\n          break;\n\n        case \"onUploaded\":\n          this._createUploadedAction();\n\n          break;\n\n        case \"onProgress\":\n          this._createProgressAction();\n\n          break;\n\n        case \"onUploadError\":\n          this._createUploadErrorAction();\n\n          break;\n\n        case \"onUploadAborted\":\n          this._createUploadAbortedAction();\n\n          break;\n\n        case \"useNativeInputClick\":\n          this._renderInput();\n\n          break;\n\n        case \"useDragOver\":\n          this._renderDragEvents();\n\n          break;\n\n        case \"nativeDropSupported\":\n          this._invalidate();\n\n          break;\n\n        default:\n          _get(_getPrototypeOf(FileUploader.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function value() {\n      this.option(\"value\", []);\n    }\n  }]);\n\n  return FileUploader;\n}(_editor2.default);\n\nvar FileBlobReader = function () {\n  function FileBlobReader(file, chunkSize) {\n    _classCallCheck(this, FileBlobReader);\n\n    this.file = file;\n    this.chunkSize = chunkSize;\n    this.index = 0;\n  }\n\n  _createClass(FileBlobReader, [{\n    key: \"read\",\n    value: function value() {\n      if (!this.file) {\n        return null;\n      }\n\n      var result = this.createBlobResult(this.file, this.index, this.chunkSize);\n\n      if (result.isCompleted) {\n        this.file = null;\n      }\n\n      this.index++;\n      return result;\n    }\n  }, {\n    key: \"createBlobResult\",\n    value: function value(file, index, chunkSize) {\n      var currentPosition = index * chunkSize;\n      return {\n        blob: this.sliceFile(file, currentPosition, chunkSize),\n        index: index,\n        isCompleted: currentPosition + chunkSize >= file.size\n      };\n    }\n  }, {\n    key: \"sliceFile\",\n    value: function value(file, startPos, length) {\n      if (file.slice) {\n        return file.slice(startPos, startPos + length);\n      }\n\n      if (file.webkitSlice) {\n        return file.webkitSlice(startPos, startPos + length);\n      }\n\n      return null;\n    }\n  }]);\n\n  return FileBlobReader;\n}();\n\nvar FileUploadStrategyBase = function () {\n  function FileUploadStrategyBase(fileUploader) {\n    _classCallCheck(this, FileUploadStrategyBase);\n\n    this.fileUploader = fileUploader;\n  }\n\n  _createClass(FileUploadStrategyBase, [{\n    key: \"upload\",\n    value: function value(file) {\n      if (file.isValid() && !file.uploadStarted) {\n        this._prepareFileBeforeUpload(file);\n\n        this._uploadCore(file);\n      }\n    }\n  }, {\n    key: \"abortUpload\",\n    value: function abortUpload(file) {\n      var _this14 = this;\n\n      if (file._isError || file._isLoaded || file.isAborted) {\n        return;\n      }\n\n      file.request && file.request.abort();\n      file.isAborted = true;\n\n      if (this._isCustomAbortUpload()) {\n        var abortUpload = this.fileUploader.option(\"abortUpload\");\n\n        var arg = this._createAbortUploadArgument(file);\n\n        var deferred = null;\n\n        try {\n          var result = abortUpload(file.value, arg);\n          deferred = (0, _deferred.when)(result);\n        } catch (error) {\n          deferred = new _deferred.Deferred().reject(error).promise();\n        }\n\n        deferred.done(function () {\n          return file.onAbort.fire();\n        }).fail(function (error) {\n          return _this14._handleFileError(file, error);\n        });\n      }\n    }\n  }, {\n    key: \"_createAbortUploadArgument\",\n    value: function value(file) {}\n  }, {\n    key: \"_uploadCore\",\n    value: function value(file) {}\n  }, {\n    key: \"_isCustomAbortUpload\",\n    value: function value() {\n      var callback = this.fileUploader.option(\"abortUpload\");\n      return callback && (0, _type.isFunction)(callback);\n    }\n  }, {\n    key: \"_handleFileError\",\n    value: function value(file, error) {\n      file._isError = true;\n      file.onError.fire(error);\n    }\n  }, {\n    key: \"_prepareFileBeforeUpload\",\n    value: function value(file) {\n      if (file.$file) {\n        this.fileUploader._createFileProgressBar(file);\n      }\n\n      file.onLoadStart.add(this._onUploadStarted.bind(this, file));\n      file.onLoad.add(this._onLoadedHandler.bind(this, file));\n      file.onError.add(this._onErrorHandler.bind(this, file));\n      file.onAbort.add(this._onAbortHandler.bind(this, file));\n      file.onProgress.add(this._onProgressHandler.bind(this, file));\n    }\n  }, {\n    key: \"_isStatusError\",\n    value: function value(status) {\n      return 400 <= status && status < 500 || 500 <= status && status < 600;\n    }\n  }, {\n    key: \"_onUploadStarted\",\n    value: function value(file, e) {\n      file.uploadStarted = true;\n\n      this.fileUploader._uploadStartedAction({\n        file: file.value,\n        event: e,\n        request: file.request\n      });\n    }\n  }, {\n    key: \"_onAbortHandler\",\n    value: function value(file, e) {\n      this.fileUploader._uploadAbortedAction({\n        file: file.value,\n        event: e,\n        request: file.request\n      });\n    }\n  }, {\n    key: \"_onErrorHandler\",\n    value: function value(file, error) {\n      this.fileUploader._setStatusMessage(file, \"uploadFailedMessage\");\n\n      this.fileUploader._uploadErrorAction({\n        file: file.value,\n        event: void 0,\n        request: file.request,\n        error: error\n      });\n    }\n  }, {\n    key: \"_onLoadedHandler\",\n    value: function value(file, e) {\n      file._isLoaded = true;\n\n      this.fileUploader._setStatusMessage(file, \"uploadedMessage\");\n\n      this.fileUploader._uploadedAction({\n        file: file.value,\n        event: e,\n        request: file.request\n      });\n    }\n  }, {\n    key: \"_onProgressHandler\",\n    value: function value(file, e) {\n      if (file) {\n        var totalFilesSize = this.fileUploader._getTotalFilesSize();\n\n        var totalLoadedFilesSize = this.fileUploader._getTotalLoadedFilesSize();\n\n        var loadedSize = Math.min(e.loaded, file.value.size);\n        var segmentSize = loadedSize - file.loadedSize;\n        file.loadedSize = loadedSize;\n\n        this.fileUploader._updateTotalProgress(totalFilesSize, totalLoadedFilesSize + segmentSize);\n\n        this.fileUploader._updateProgressBar(file, this._getLoadedData(loadedSize, e.total, segmentSize, e));\n      }\n    }\n  }, {\n    key: \"_getLoadedData\",\n    value: function value(loaded, total, currentSegmentSize, event) {\n      return {\n        loaded: loaded,\n        total: total,\n        currentSegmentSize: currentSegmentSize\n      };\n    }\n  }]);\n\n  return FileUploadStrategyBase;\n}();\n\nvar ChunksFileUploadStrategyBase = function (_FileUploadStrategyBa) {\n  _inherits(ChunksFileUploadStrategyBase, _FileUploadStrategyBa);\n\n  function ChunksFileUploadStrategyBase(fileUploader) {\n    var _this15;\n\n    _classCallCheck(this, ChunksFileUploadStrategyBase);\n\n    _this15 = _possibleConstructorReturn(this, _getPrototypeOf(ChunksFileUploadStrategyBase).call(this, fileUploader));\n    _this15.chunkSize = _this15.fileUploader.option(\"chunkSize\");\n    return _this15;\n  }\n\n  _createClass(ChunksFileUploadStrategyBase, [{\n    key: \"_uploadCore\",\n    value: function value(file) {\n      var realFile = file.value;\n      var chunksData = {\n        name: realFile.name,\n        loadedBytes: 0,\n        type: realFile.type,\n        blobReader: new FileBlobReader(realFile, this.chunkSize),\n        guid: new _guid2.default(),\n        fileSize: realFile.size,\n        count: Math.ceil(realFile.size / this.chunkSize),\n        customData: {}\n      };\n      file.chunksData = chunksData;\n\n      this._sendChunk(file, chunksData);\n    }\n  }, {\n    key: \"_sendChunk\",\n    value: function value(file, chunksData) {\n      var _this16 = this;\n\n      var chunk = chunksData.blobReader.read();\n      chunksData.currentChunk = chunk;\n\n      if (chunk) {\n        this._sendChunkCore(file, chunksData, chunk).done(function () {\n          if (file.isAborted) {\n            return;\n          }\n\n          chunksData.loadedBytes += chunk.blob.size;\n          file.onProgress.fire({\n            loaded: chunksData.loadedBytes,\n            total: file.value.size\n          });\n\n          if (chunk.isCompleted) {\n            file.onLoad.fire();\n          }\n\n          _this16._sendChunk(file, chunksData);\n        }).fail(function (error) {\n          if (_this16._shouldHandleError(error)) {\n            _this16._handleFileError(file, error);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_sendChunkCore\",\n    value: function value(file, chunksData, chunk) {}\n  }, {\n    key: \"_shouldHandleError\",\n    value: function value(error) {}\n  }, {\n    key: \"_tryRaiseStartLoad\",\n    value: function value(file) {\n      if (!file.isStartLoad) {\n        file.isStartLoad = true;\n        file.onLoadStart.fire();\n      }\n    }\n  }, {\n    key: \"_getEvent\",\n    value: function value(e) {\n      return null;\n    }\n  }]);\n\n  return ChunksFileUploadStrategyBase;\n}(FileUploadStrategyBase);\n\nvar DefaultChunksFileUploadStrategy = function (_ChunksFileUploadStra) {\n  _inherits(DefaultChunksFileUploadStrategy, _ChunksFileUploadStra);\n\n  function DefaultChunksFileUploadStrategy() {\n    _classCallCheck(this, DefaultChunksFileUploadStrategy);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DefaultChunksFileUploadStrategy).apply(this, arguments));\n  }\n\n  _createClass(DefaultChunksFileUploadStrategy, [{\n    key: \"_sendChunkCore\",\n    value: function value(file, chunksData, chunk) {\n      var _this17 = this;\n\n      return _ajax2.default.sendRequest({\n        url: this.fileUploader.option(\"uploadUrl\"),\n        method: this.fileUploader.option(\"uploadMethod\"),\n        headers: this.fileUploader.option(\"uploadHeaders\"),\n        beforeSend: function beforeSend(xhr) {\n          file.request = xhr;\n        },\n        upload: {\n          onloadstart: function onloadstart() {\n            return _this17._tryRaiseStartLoad(file);\n          },\n          onabort: function onabort() {\n            return file.onAbort.fire();\n          }\n        },\n        data: this._createFormData({\n          fileName: chunksData.name,\n          blobName: this.fileUploader.option(\"name\"),\n          blob: chunk.blob,\n          index: chunk.index,\n          count: chunksData.count,\n          type: chunksData.type,\n          guid: chunksData.guid,\n          size: chunksData.fileSize\n        })\n      });\n    }\n  }, {\n    key: \"_shouldHandleError\",\n    value: function value(e) {\n      return this._isStatusError(e.status);\n    }\n  }, {\n    key: \"_createFormData\",\n    value: function value(options) {\n      var formData = new window.FormData();\n      formData.append(options.blobName, options.blob);\n      formData.append(FILEUPLOADER_CHUNK_META_DATA_NAME, JSON.stringify({\n        FileName: options.fileName,\n        Index: options.index,\n        TotalCount: options.count,\n        FileSize: options.size,\n        FileType: options.type,\n        FileGuid: options.guid\n      }));\n      return formData;\n    }\n  }]);\n\n  return DefaultChunksFileUploadStrategy;\n}(ChunksFileUploadStrategyBase);\n\nvar CustomChunksFileUploadStrategy = function (_ChunksFileUploadStra2) {\n  _inherits(CustomChunksFileUploadStrategy, _ChunksFileUploadStra2);\n\n  function CustomChunksFileUploadStrategy() {\n    _classCallCheck(this, CustomChunksFileUploadStrategy);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CustomChunksFileUploadStrategy).apply(this, arguments));\n  }\n\n  _createClass(CustomChunksFileUploadStrategy, [{\n    key: \"_sendChunkCore\",\n    value: function value(file, chunksData) {\n      this._tryRaiseStartLoad(file);\n\n      var chunksInfo = this._createChunksInfo(chunksData);\n\n      var uploadChunk = this.fileUploader.option(\"uploadChunk\");\n\n      try {\n        var result = uploadChunk(file.value, chunksInfo);\n        return (0, _deferred.when)(result);\n      } catch (error) {\n        return new _deferred.Deferred().reject(error).promise();\n      }\n    }\n  }, {\n    key: \"_createAbortUploadArgument\",\n    value: function value(file) {\n      return this._createChunksInfo(file.chunksData);\n    }\n  }, {\n    key: \"_shouldHandleError\",\n    value: function value(e) {\n      return true;\n    }\n  }, {\n    key: \"_createChunksInfo\",\n    value: function value(chunksData) {\n      return {\n        bytesUploaded: chunksData.loadedBytes,\n        chunkCount: chunksData.count,\n        customData: chunksData.customData,\n        chunkBlob: chunksData.currentChunk.blob,\n        chunkIndex: chunksData.currentChunk.index\n      };\n    }\n  }]);\n\n  return CustomChunksFileUploadStrategy;\n}(ChunksFileUploadStrategyBase);\n\nvar WholeFileUploadStrategyBase = function (_FileUploadStrategyBa2) {\n  _inherits(WholeFileUploadStrategyBase, _FileUploadStrategyBa2);\n\n  function WholeFileUploadStrategyBase() {\n    _classCallCheck(this, WholeFileUploadStrategyBase);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(WholeFileUploadStrategyBase).apply(this, arguments));\n  }\n\n  _createClass(WholeFileUploadStrategyBase, [{\n    key: \"_uploadCore\",\n    value: function value(file) {\n      var _this18 = this;\n\n      file.loadedSize = 0;\n\n      this._uploadFile(file).done(function () {\n        if (!file.isAborted) {\n          file.onLoad.fire();\n        }\n      }).fail(function (error) {\n        if (_this18._shouldHandleError(file, error)) {\n          _this18._handleFileError(file, error);\n        }\n      });\n    }\n  }, {\n    key: \"_uploadFile\",\n    value: function value(file) {}\n  }, {\n    key: \"_shouldHandleError\",\n    value: function value(file, e) {}\n  }, {\n    key: \"_handleProgress\",\n    value: function value(file, e) {\n      if (file._isError) {\n        return;\n      }\n\n      file._isProgressStarted = true;\n      file.onProgress.fire(e);\n    }\n  }, {\n    key: \"_getLoadedData\",\n    value: function value(loaded, total, segmentSize, event) {\n      var result = _get(_getPrototypeOf(WholeFileUploadStrategyBase.prototype), \"_getLoadedData\", this).call(this, loaded, total, segmentSize, event);\n\n      result.event = event;\n      return result;\n    }\n  }]);\n\n  return WholeFileUploadStrategyBase;\n}(FileUploadStrategyBase);\n\nvar DefaultWholeFileUploadStrategy = function (_WholeFileUploadStrat) {\n  _inherits(DefaultWholeFileUploadStrategy, _WholeFileUploadStrat);\n\n  function DefaultWholeFileUploadStrategy() {\n    _classCallCheck(this, DefaultWholeFileUploadStrategy);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DefaultWholeFileUploadStrategy).apply(this, arguments));\n  }\n\n  _createClass(DefaultWholeFileUploadStrategy, [{\n    key: \"_uploadFile\",\n    value: function value(file) {\n      var _this19 = this;\n\n      return _ajax2.default.sendRequest({\n        url: this.fileUploader.option(\"uploadUrl\"),\n        method: this.fileUploader.option(\"uploadMethod\"),\n        headers: this.fileUploader.option(\"uploadHeaders\"),\n        beforeSend: function beforeSend(xhr) {\n          file.request = xhr;\n        },\n        upload: {\n          onprogress: function onprogress(e) {\n            return _this19._handleProgress(file, e);\n          },\n          onloadstart: function onloadstart() {\n            return file.onLoadStart.fire();\n          },\n          onabort: function onabort() {\n            return file.onAbort.fire();\n          }\n        },\n        data: this._createFormData(this.fileUploader.option(\"name\"), file.value)\n      });\n    }\n  }, {\n    key: \"_shouldHandleError\",\n    value: function value(file, e) {\n      return this._isStatusError(e.status) || !file._isProgressStarted;\n    }\n  }, {\n    key: \"_createFormData\",\n    value: function value(fieldName, fieldValue) {\n      var formData = new window.FormData();\n      formData.append(fieldName, fieldValue, fieldValue.name);\n      return formData;\n    }\n  }]);\n\n  return DefaultWholeFileUploadStrategy;\n}(WholeFileUploadStrategyBase);\n\nvar CustomWholeFileUploadStrategy = function (_WholeFileUploadStrat2) {\n  _inherits(CustomWholeFileUploadStrategy, _WholeFileUploadStrat2);\n\n  function CustomWholeFileUploadStrategy() {\n    _classCallCheck(this, CustomWholeFileUploadStrategy);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CustomWholeFileUploadStrategy).apply(this, arguments));\n  }\n\n  _createClass(CustomWholeFileUploadStrategy, [{\n    key: \"_uploadFile\",\n    value: function value(file) {\n      var _this20 = this;\n\n      file.onLoadStart.fire();\n\n      var progressCallback = function progressCallback(loadedBytes) {\n        var arg = {\n          loaded: loadedBytes,\n          total: file.size\n        };\n\n        _this20._handleProgress(file, arg);\n      };\n\n      var uploadFile = this.fileUploader.option(\"uploadFile\");\n\n      try {\n        var result = uploadFile(file, progressCallback);\n        return (0, _deferred.when)(result);\n      } catch (error) {\n        return new _deferred.Deferred().reject(error).promise();\n      }\n    }\n  }, {\n    key: \"_shouldHandleError\",\n    value: function value(file, e) {\n      return true;\n    }\n  }]);\n\n  return CustomWholeFileUploadStrategy;\n}(WholeFileUploadStrategyBase);\n\n(0, _component_registrator2.default)(\"dxFileUploader\", FileUploader);\nmodule.exports = FileUploader;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/file_uploader.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_guid","_guid2","_window","_events_engine","_events_engine2","_component_registrator","_component_registrator2","_callbacks","_callbacks2","_type","_iterator","_extend","_array","_deferred","_ajax","_ajax2","_editor","_editor2","_button","_button2","_progress_bar","_progress_bar2","_browser","_browser2","_devices","_devices2","_utils","_utils2","_click","_click2","_message","_message2","_themes","_themes2","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","value","object","hasOwnProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","window","getWindow","FILEUPLOADER_CLASS","FILEUPLOADER_EMPTY_CLASS","FILEUPLOADER_SHOW_FILE_LIST_CLASS","FILEUPLOADER_DRAGOVER_CLASS","FILEUPLOADER_WRAPPER_CLASS","FILEUPLOADER_CONTAINER_CLASS","FILEUPLOADER_CONTENT_CLASS","FILEUPLOADER_INPUT_WRAPPER_CLASS","FILEUPLOADER_INPUT_CONTAINER_CLASS","FILEUPLOADER_INPUT_LABEL_CLASS","FILEUPLOADER_INPUT_CLASS","FILEUPLOADER_FILES_CONTAINER_CLASS","FILEUPLOADER_FILE_CONTAINER_CLASS","FILEUPLOADER_FILE_INFO_CLASS","FILEUPLOADER_FILE_STATUS_MESSAGE_CLASS","FILEUPLOADER_FILE_CLASS","FILEUPLOADER_FILE_NAME_CLASS","FILEUPLOADER_FILE_SIZE_CLASS","FILEUPLOADER_BUTTON_CLASS","FILEUPLOADER_BUTTON_CONTAINER_CLASS","FILEUPLOADER_CANCEL_BUTTON_CLASS","FILEUPLOADER_UPLOAD_BUTTON_CLASS","FILEUPLOADER_INVALID_CLASS","FILEUPLOADER_AFTER_LOAD_DELAY","FILEUPLOADER_CHUNK_META_DATA_NAME","renderFileUploaderInput","default","attr","isFormDataSupported","FormData","FileUploader","_Editor","apply","arguments","_this","click","e","preventDefault","$selectButton","_selectButton","$element","trigger","name","extend","space","enter","_optionsByReference","chunkSize","selectButtonText","format","uploadButtonText","labelText","multiple","accept","uploadUrl","allowCanceling","showFileList","progress","readyToUploadMessage","uploadedMessage","uploadFailedMessage","uploadMode","uploadMethod","uploadHeaders","onUploadStarted","onUploaded","onProgress","onUploadError","onUploadAborted","allowedFileExtensions","maxFileSize","minFileSize","invalidFileExtensionMessage","invalidMaxFileSizeMessage","invalidMinFileSizeMessage","extendSelection","validationMessageMode","uploadFile","uploadChunk","abortUpload","validationMessageOffset","h","v","useNativeInputClick","useDragOver","nativeDropSupported","_uploadButtonType","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","platform","msie","isMaterial","_initFileInput","_initLabel","_setUploadStrategy","_createFiles","_createUploadStartedAction","_createUploadedAction","_createProgressAction","_createUploadErrorAction","_createUploadAbortedAction","strategy","option","isFunction","CustomChunksFileUploadStrategy","DefaultChunksFileUploadStrategy","CustomWholeFileUploadStrategy","DefaultWholeFileUploadStrategy","_uploadStrategy","_this2","_isCustomClickEvent","_$fileInput","on","_inputChangeHandler","bind","stopPropagation","prop","tabIndex","_doPreventInputChange","fileName","val","replace","files","_getFiles","_changeValue","_uploadFiles","result","_isFileInArray","push","file","item","size","_shouldFileListBeExtended","slice","_removeDuplicates","fileList","values","each","_","_$inputLabel","text","find","addClass","_renderWrapper","_renderInputWrapper","_renderSelectButton","_renderInputContainer","_renderUploadButton","_preventRecreatingFiles","_renderDragEvents","_renderFiles","progressBar","_createProgressBar","appendTo","$file","_initStatusMessage","_initCancelButton","_this3","setTimeout","$statusMessage","css","remove","_this4","_files","_preventFilesUploading","_createFile","_validateFile","_this5","forEach","isValidFileExtension","_validateFileExtension","isValidMinSize","_validateMinFileSize","isValidMaxSize","_validateMaxFileSize","allowedExtensions","fileExtension","substring","lastIndexOf","toLowerCase","fileSize","_uploadStartedAction","_createActionByOption","_uploadedAction","_progressAction","_uploadAbortedAction","_uploadErrorAction","loadedSize","onAbort","onLoad","onError","onLoadStart","isValid","_this6","_$filesContainer","_$content","empty","_renderFile","toggleClass","_toggleFileUploaderEmptyClassName","_updateFileNameMaxWidth","_$validationMessage","dxOverlay","repaint","$fileContainer","_renderFileButtons","$fileInfo","isDefined","_getFileSize","append","_createValidationElement","cancelButtonsCount","uploadButtonsCount","filesContainerWidth","first","width","$buttonContainer","eq","buttonsWidth","$fileSize","prevFileSize","fileSizeWidth","$container","$cancelButton","_getCancelButton","$uploadButton","_getUploadButton","_this7","cancelButton","_createComponent","onClick","_removeFile","icon","visible","integrationOptions","_this8","uploadButton","_uploadFile","add","parent","splice","inArray","_hasInvalidFile","labels","count","Math","round","$button","_$inputWrapper","_selectButtonClickHandler","off","_uploadButton","_uploadButtonClickHandler","type","_$inputContainer","_shouldDragOverBeRendered","_renderInput","_selectButtonInputTemplate","data","content","$content","$text","NAME","_dragEventsTargets","addNamespace","_dragEnterHandler","_dragOverHandler","_dragLeaveHandler","_dropHandler","_useInputForDrop","_updateEventTargets","removeClass","targetIndex","indexOf","isTargetExists","originalEvent","dataTransfer","_filterFiles","allowedTypes","_getAllowedFileTypes","n","_isFileTypeAllowed","acceptSting","split","map","trim","allowedType","match","RegExp","$wrapper","detach","_this9","upload","loadedFileData","loaded","showStatus","segmentSize","currentSegmentSize","bytesLoaded","bytesTotal","total","event","request","totalFilesSize","totalLoadedFilesSize","_getProgressValue","_setLoadedSize","ratio","floor","_this10","hideCancelButton","_this11","min","max","statusFormat","statusPosition","_this12","_totalFilesSize","_this13","_totalLoadedFilesSize","_updateTotalProgress","_getTotalFilesSize","_getTotalLoadedFilesSize","args","_recalculateProgress","reset","_invalidate","FileBlobReader","index","createBlobResult","isCompleted","currentPosition","blob","sliceFile","startPos","webkitSlice","FileUploadStrategyBase","fileUploader","uploadStarted","_prepareFileBeforeUpload","_uploadCore","_this14","_isError","_isLoaded","isAborted","abort","_isCustomAbortUpload","arg","_createAbortUploadArgument","deferred","when","error","Deferred","reject","promise","done","fire","fail","_handleFileError","callback","_createFileProgressBar","_onUploadStarted","_onLoadedHandler","_onErrorHandler","_onAbortHandler","_onProgressHandler","status","_setStatusMessage","_updateProgressBar","_getLoadedData","ChunksFileUploadStrategyBase","_FileUploadStrategyBa","_this15","realFile","chunksData","loadedBytes","blobReader","guid","ceil","customData","_sendChunk","_this16","chunk","read","currentChunk","_sendChunkCore","_shouldHandleError","isStartLoad","_ChunksFileUploadStra","_this17","sendRequest","url","method","headers","beforeSend","xhr","onloadstart","_tryRaiseStartLoad","onabort","_createFormData","blobName","_isStatusError","formData","JSON","stringify","FileName","Index","TotalCount","FileSize","FileType","FileGuid","_ChunksFileUploadStra2","chunksInfo","_createChunksInfo","bytesUploaded","chunkCount","chunkBlob","chunkIndex","WholeFileUploadStrategyBase","_FileUploadStrategyBa2","_this18","_isProgressStarted","_WholeFileUploadStrat","_this19","onprogress","_handleProgress","fieldName","fieldValue","_WholeFileUploadStrat2","_this20","progressCallback","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/file_uploader.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _guid = require(\"../core/guid\");\r\nvar _guid2 = _interopRequireDefault(_guid);\r\nvar _window = require(\"../core/utils/window\");\r\nvar _events_engine = require(\"../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _callbacks = require(\"../core/utils/callbacks\");\r\nvar _callbacks2 = _interopRequireDefault(_callbacks);\r\nvar _type = require(\"../core/utils/type\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _array = require(\"../core/utils/array\");\r\nvar _deferred = require(\"../core/utils/deferred\");\r\nvar _ajax = require(\"../core/utils/ajax\");\r\nvar _ajax2 = _interopRequireDefault(_ajax);\r\nvar _editor = require(\"./editor/editor\");\r\nvar _editor2 = _interopRequireDefault(_editor);\r\nvar _button = require(\"./button\");\r\nvar _button2 = _interopRequireDefault(_button);\r\nvar _progress_bar = require(\"./progress_bar\");\r\nvar _progress_bar2 = _interopRequireDefault(_progress_bar);\r\nvar _browser = require(\"../core/utils/browser\");\r\nvar _browser2 = _interopRequireDefault(_browser);\r\nvar _devices = require(\"../core/devices\");\r\nvar _devices2 = _interopRequireDefault(_devices);\r\nvar _utils = require(\"../events/utils\");\r\nvar _utils2 = _interopRequireDefault(_utils);\r\nvar _click = require(\"../events/click\");\r\nvar _click2 = _interopRequireDefault(_click);\r\nvar _message = require(\"../localization/message\");\r\nvar _message2 = _interopRequireDefault(_message);\r\nvar _themes = require(\"./themes\");\r\nvar _themes2 = _interopRequireDefault(_themes);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar window = (0, _window.getWindow)();\r\nvar FILEUPLOADER_CLASS = \"dx-fileuploader\";\r\nvar FILEUPLOADER_EMPTY_CLASS = \"dx-fileuploader-empty\";\r\nvar FILEUPLOADER_SHOW_FILE_LIST_CLASS = \"dx-fileuploader-show-file-list\";\r\nvar FILEUPLOADER_DRAGOVER_CLASS = \"dx-fileuploader-dragover\";\r\nvar FILEUPLOADER_WRAPPER_CLASS = \"dx-fileuploader-wrapper\";\r\nvar FILEUPLOADER_CONTAINER_CLASS = \"dx-fileuploader-container\";\r\nvar FILEUPLOADER_CONTENT_CLASS = \"dx-fileuploader-content\";\r\nvar FILEUPLOADER_INPUT_WRAPPER_CLASS = \"dx-fileuploader-input-wrapper\";\r\nvar FILEUPLOADER_INPUT_CONTAINER_CLASS = \"dx-fileuploader-input-container\";\r\nvar FILEUPLOADER_INPUT_LABEL_CLASS = \"dx-fileuploader-input-label\";\r\nvar FILEUPLOADER_INPUT_CLASS = \"dx-fileuploader-input\";\r\nvar FILEUPLOADER_FILES_CONTAINER_CLASS = \"dx-fileuploader-files-container\";\r\nvar FILEUPLOADER_FILE_CONTAINER_CLASS = \"dx-fileuploader-file-container\";\r\nvar FILEUPLOADER_FILE_INFO_CLASS = \"dx-fileuploader-file-info\";\r\nvar FILEUPLOADER_FILE_STATUS_MESSAGE_CLASS = \"dx-fileuploader-file-status-message\";\r\nvar FILEUPLOADER_FILE_CLASS = \"dx-fileuploader-file\";\r\nvar FILEUPLOADER_FILE_NAME_CLASS = \"dx-fileuploader-file-name\";\r\nvar FILEUPLOADER_FILE_SIZE_CLASS = \"dx-fileuploader-file-size\";\r\nvar FILEUPLOADER_BUTTON_CLASS = \"dx-fileuploader-button\";\r\nvar FILEUPLOADER_BUTTON_CONTAINER_CLASS = \"dx-fileuploader-button-container\";\r\nvar FILEUPLOADER_CANCEL_BUTTON_CLASS = \"dx-fileuploader-cancel-button\";\r\nvar FILEUPLOADER_UPLOAD_BUTTON_CLASS = \"dx-fileuploader-upload-button\";\r\nvar FILEUPLOADER_INVALID_CLASS = \"dx-fileuploader-invalid\";\r\nvar FILEUPLOADER_AFTER_LOAD_DELAY = 400;\r\nvar FILEUPLOADER_CHUNK_META_DATA_NAME = \"chunkMetadata\";\r\nvar renderFileUploaderInput = function() {\r\n    return (0, _renderer2.default)(\"<input>\").attr(\"type\", \"file\")\r\n};\r\nvar isFormDataSupported = function() {\r\n    return !!window.FormData\r\n};\r\nvar FileUploader = function(_Editor) {\r\n    _inherits(FileUploader, _Editor);\r\n\r\n    function FileUploader() {\r\n        _classCallCheck(this, FileUploader);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(FileUploader).apply(this, arguments))\r\n    }\r\n    _createClass(FileUploader, [{\r\n        key: \"_supportedKeys\",\r\n        value: function() {\r\n            var _this = this;\r\n            var click = function(e) {\r\n                e.preventDefault();\r\n                var $selectButton = _this._selectButton.$element();\r\n                _events_engine2.default.trigger($selectButton, _click2.default.name)\r\n            };\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(FileUploader.prototype), \"_supportedKeys\", this).call(this), {\r\n                space: click,\r\n                enter: click\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_setOptionsByReference\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(FileUploader.prototype), \"_setOptionsByReference\", this).call(this);\r\n            (0, _extend.extend)(this._optionsByReference, {\r\n                value: true\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(FileUploader.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                chunkSize: 0,\r\n                value: [],\r\n                selectButtonText: _message2.default.format(\"dxFileUploader-selectFile\"),\r\n                uploadButtonText: _message2.default.format(\"dxFileUploader-upload\"),\r\n                labelText: _message2.default.format(\"dxFileUploader-dropFile\"),\r\n                name: \"files[]\",\r\n                multiple: false,\r\n                accept: \"\",\r\n                uploadUrl: \"/\",\r\n                allowCanceling: true,\r\n                showFileList: true,\r\n                progress: 0,\r\n                readyToUploadMessage: _message2.default.format(\"dxFileUploader-readyToUpload\"),\r\n                uploadedMessage: _message2.default.format(\"dxFileUploader-uploaded\"),\r\n                uploadFailedMessage: _message2.default.format(\"dxFileUploader-uploadFailedMessage\"),\r\n                uploadMode: \"instantly\",\r\n                uploadMethod: \"POST\",\r\n                uploadHeaders: {},\r\n                onUploadStarted: null,\r\n                onUploaded: null,\r\n                onProgress: null,\r\n                onUploadError: null,\r\n                onUploadAborted: null,\r\n                allowedFileExtensions: [],\r\n                maxFileSize: 0,\r\n                minFileSize: 0,\r\n                invalidFileExtensionMessage: _message2.default.format(\"dxFileUploader-invalidFileExtension\"),\r\n                invalidMaxFileSizeMessage: _message2.default.format(\"dxFileUploader-invalidMaxFileSize\"),\r\n                invalidMinFileSizeMessage: _message2.default.format(\"dxFileUploader-invalidMinFileSize\"),\r\n                extendSelection: true,\r\n                validationMessageMode: \"always\",\r\n                uploadFile: null,\r\n                uploadChunk: null,\r\n                abortUpload: null,\r\n                validationMessageOffset: {\r\n                    h: 0,\r\n                    v: 0\r\n                },\r\n                useNativeInputClick: false,\r\n                useDragOver: true,\r\n                nativeDropSupported: true,\r\n                _uploadButtonType: \"normal\"\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_defaultOptionsRules\",\r\n        value: function() {\r\n            return _get(_getPrototypeOf(FileUploader.prototype), \"_defaultOptionsRules\", this).call(this).concat([{\r\n                device: function() {\r\n                    return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator()\r\n                },\r\n                options: {\r\n                    focusStateEnabled: true\r\n                }\r\n            }, {\r\n                device: [{\r\n                    platform: \"android\"\r\n                }],\r\n                options: {\r\n                    validationMessageOffset: {\r\n                        v: 0\r\n                    }\r\n                }\r\n            }, {\r\n                device: function() {\r\n                    return \"desktop\" !== _devices2.default.real().deviceType\r\n                },\r\n                options: {\r\n                    useDragOver: false\r\n                }\r\n            }, {\r\n                device: function() {\r\n                    return !isFormDataSupported()\r\n                },\r\n                options: {\r\n                    uploadMode: \"useForm\"\r\n                }\r\n            }, {\r\n                device: function() {\r\n                    return _browser2.default.msie || \"desktop\" !== _devices2.default.real().deviceType\r\n                },\r\n                options: {\r\n                    nativeDropSupported: false\r\n                }\r\n            }, {\r\n                device: function() {\r\n                    return _themes2.default.isMaterial()\r\n                },\r\n                options: {\r\n                    _uploadButtonType: \"default\"\r\n                }\r\n            }])\r\n        }\r\n    }, {\r\n        key: \"_init\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(FileUploader.prototype), \"_init\", this).call(this);\r\n            this._initFileInput();\r\n            this._initLabel();\r\n            this._setUploadStrategy();\r\n            this._createFiles();\r\n            this._createUploadStartedAction();\r\n            this._createUploadedAction();\r\n            this._createProgressAction();\r\n            this._createUploadErrorAction();\r\n            this._createUploadAbortedAction()\r\n        }\r\n    }, {\r\n        key: \"_setUploadStrategy\",\r\n        value: function() {\r\n            var strategy = null;\r\n            if (this.option(\"chunkSize\") > 0) {\r\n                var uploadChunk = this.option(\"uploadChunk\");\r\n                strategy = uploadChunk && (0, _type.isFunction)(uploadChunk) ? new CustomChunksFileUploadStrategy(this) : new DefaultChunksFileUploadStrategy(this)\r\n            } else {\r\n                var uploadFile = this.option(\"uploadFile\");\r\n                strategy = uploadFile && (0, _type.isFunction)(uploadFile) ? new CustomWholeFileUploadStrategy(this) : new DefaultWholeFileUploadStrategy(this)\r\n            }\r\n            this._uploadStrategy = strategy\r\n        }\r\n    }, {\r\n        key: \"_initFileInput\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            this._isCustomClickEvent = false;\r\n            if (!this._$fileInput) {\r\n                this._$fileInput = renderFileUploaderInput();\r\n                _events_engine2.default.on(this._$fileInput, \"change\", this._inputChangeHandler.bind(this));\r\n                _events_engine2.default.on(this._$fileInput, \"click\", function(e) {\r\n                    e.stopPropagation();\r\n                    return _this2.option(\"useNativeInputClick\") || _this2._isCustomClickEvent\r\n                })\r\n            }\r\n            this._$fileInput.prop({\r\n                multiple: this.option(\"multiple\"),\r\n                accept: this.option(\"accept\"),\r\n                tabIndex: -1\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_inputChangeHandler\",\r\n        value: function() {\r\n            if (this._doPreventInputChange) {\r\n                return\r\n            }\r\n            var fileName = this._$fileInput.val().replace(/^.*\\\\/, \"\");\r\n            var files = this._$fileInput.prop(\"files\");\r\n            if (files && !files.length) {\r\n                return\r\n            }\r\n            var value = files ? this._getFiles(files) : [{\r\n                name: fileName\r\n            }];\r\n            this._changeValue(value);\r\n            if (\"instantly\" === this.option(\"uploadMode\")) {\r\n                this._uploadFiles()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_shouldFileListBeExtended\",\r\n        value: function() {\r\n            return \"useForm\" !== this.option(\"uploadMode\") && this.option(\"extendSelection\") && this.option(\"multiple\")\r\n        }\r\n    }, {\r\n        key: \"_removeDuplicates\",\r\n        value: function(files, value) {\r\n            var result = [];\r\n            for (var i = 0; i < value.length; i++) {\r\n                if (!this._isFileInArray(files, value[i])) {\r\n                    result.push(value[i])\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_isFileInArray\",\r\n        value: function(files, file) {\r\n            for (var i = 0; i < files.length; i++) {\r\n                var item = files[i];\r\n                if (item.size === file.size && item.name === file.name) {\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_changeValue\",\r\n        value: function(value) {\r\n            var files = this._shouldFileListBeExtended() ? this.option(\"value\").slice() : [];\r\n            if (\"instantly\" !== this.option(\"uploadMode\")) {\r\n                value = this._removeDuplicates(files, value)\r\n            }\r\n            this.option(\"value\", files.concat(value))\r\n        }\r\n    }, {\r\n        key: \"_getFiles\",\r\n        value: function(fileList) {\r\n            var values = [];\r\n            (0, _iterator.each)(fileList, function(_, value) {\r\n                return values.push(value)\r\n            });\r\n            return values\r\n        }\r\n    }, {\r\n        key: \"_initLabel\",\r\n        value: function() {\r\n            if (!this._$inputLabel) {\r\n                this._$inputLabel = (0, _renderer2.default)(\"<div>\")\r\n            }\r\n            this._$inputLabel.text(this.option(\"labelText\"))\r\n        }\r\n    }, {\r\n        key: \"_focusTarget\",\r\n        value: function() {\r\n            return this.$element().find(\".\" + FILEUPLOADER_BUTTON_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_getSubmitElement\",\r\n        value: function() {\r\n            return this._$fileInput\r\n        }\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(FileUploader.prototype), \"_initMarkup\", this).call(this);\r\n            this.$element().addClass(FILEUPLOADER_CLASS);\r\n            this._renderWrapper();\r\n            this._renderInputWrapper();\r\n            this._renderSelectButton();\r\n            this._renderInputContainer();\r\n            this._renderUploadButton();\r\n            this._preventRecreatingFiles = true\r\n        }\r\n    }, {\r\n        key: \"_render\",\r\n        value: function() {\r\n            this._preventRecreatingFiles = false;\r\n            this._renderDragEvents();\r\n            this._renderFiles();\r\n            _get(_getPrototypeOf(FileUploader.prototype), \"_render\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_createFileProgressBar\",\r\n        value: function(file) {\r\n            file.progressBar = this._createProgressBar(file.value.size);\r\n            file.progressBar.$element().appendTo(file.$file);\r\n            this._initStatusMessage(file);\r\n            this._initCancelButton(file)\r\n        }\r\n    }, {\r\n        key: \"_setStatusMessage\",\r\n        value: function(file, key) {\r\n            var _this3 = this;\r\n            setTimeout(function() {\r\n                if (_this3.option(\"showFileList\")) {\r\n                    file.$statusMessage.text(_this3.option(key));\r\n                    file.$statusMessage.css(\"display\", \"\");\r\n                    file.progressBar.$element().remove()\r\n                }\r\n            }, FILEUPLOADER_AFTER_LOAD_DELAY)\r\n        }\r\n    }, {\r\n        key: \"_createFiles\",\r\n        value: function() {\r\n            var _this4 = this;\r\n            var value = this.option(\"value\");\r\n            if (this._files && (0 === value.length || !this._shouldFileListBeExtended())) {\r\n                this._preventFilesUploading(this._files);\r\n                this._files = null\r\n            }\r\n            if (!this._files) {\r\n                this._files = []\r\n            }(0, _iterator.each)(value.slice(this._files.length), function(_, value) {\r\n                var file = _this4._createFile(value);\r\n                _this4._validateFile(file);\r\n                _this4._files.push(file)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_preventFilesUploading\",\r\n        value: function(files) {\r\n            var _this5 = this;\r\n            files.forEach(function(file) {\r\n                return _this5._uploadStrategy.abortUpload(file)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_validateFile\",\r\n        value: function(file) {\r\n            file.isValidFileExtension = this._validateFileExtension(file);\r\n            file.isValidMinSize = this._validateMinFileSize(file);\r\n            file.isValidMaxSize = this._validateMaxFileSize(file)\r\n        }\r\n    }, {\r\n        key: \"_validateFileExtension\",\r\n        value: function(file) {\r\n            var allowedExtensions = this.option(\"allowedFileExtensions\");\r\n            var fileExtension = file.value.name.substring(file.value.name.lastIndexOf(\".\")).toLowerCase();\r\n            if (0 === allowedExtensions.length) {\r\n                return true\r\n            }\r\n            for (var i = 0; i < allowedExtensions.length; i++) {\r\n                if (fileExtension === allowedExtensions[i].toLowerCase()) {\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_validateMaxFileSize\",\r\n        value: function(file) {\r\n            var fileSize = file.value.size;\r\n            var maxFileSize = this.option(\"maxFileSize\");\r\n            return maxFileSize > 0 ? fileSize <= maxFileSize : true\r\n        }\r\n    }, {\r\n        key: \"_validateMinFileSize\",\r\n        value: function(file) {\r\n            var fileSize = file.value.size;\r\n            var minFileSize = this.option(\"minFileSize\");\r\n            return minFileSize > 0 ? fileSize >= minFileSize : true\r\n        }\r\n    }, {\r\n        key: \"_createUploadStartedAction\",\r\n        value: function() {\r\n            this._uploadStartedAction = this._createActionByOption(\"onUploadStarted\")\r\n        }\r\n    }, {\r\n        key: \"_createUploadedAction\",\r\n        value: function() {\r\n            this._uploadedAction = this._createActionByOption(\"onUploaded\")\r\n        }\r\n    }, {\r\n        key: \"_createProgressAction\",\r\n        value: function() {\r\n            this._progressAction = this._createActionByOption(\"onProgress\")\r\n        }\r\n    }, {\r\n        key: \"_createUploadAbortedAction\",\r\n        value: function() {\r\n            this._uploadAbortedAction = this._createActionByOption(\"onUploadAborted\")\r\n        }\r\n    }, {\r\n        key: \"_createUploadErrorAction\",\r\n        value: function() {\r\n            this._uploadErrorAction = this._createActionByOption(\"onUploadError\")\r\n        }\r\n    }, {\r\n        key: \"_createFile\",\r\n        value: function(value) {\r\n            return {\r\n                value: value,\r\n                loadedSize: 0,\r\n                onProgress: (0, _callbacks2.default)(),\r\n                onAbort: (0, _callbacks2.default)(),\r\n                onLoad: (0, _callbacks2.default)(),\r\n                onError: (0, _callbacks2.default)(),\r\n                onLoadStart: (0, _callbacks2.default)(),\r\n                isValidFileExtension: true,\r\n                isValidMaxSize: true,\r\n                isValidMinSize: true,\r\n                isValid: function() {\r\n                    return this.isValidFileExtension && this.isValidMaxSize && this.isValidMinSize\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_renderFiles\",\r\n        value: function() {\r\n            var _this6 = this;\r\n            var value = this.option(\"value\");\r\n            if (!this._$filesContainer) {\r\n                this._$filesContainer = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILES_CONTAINER_CLASS).appendTo(this._$content)\r\n            } else {\r\n                if (!this._shouldFileListBeExtended() || 0 === value.length) {\r\n                    this._$filesContainer.empty()\r\n                }\r\n            }\r\n            var showFileList = this.option(\"showFileList\");\r\n            if (showFileList) {\r\n                (0, _iterator.each)(this._files, function(_, file) {\r\n                    if (!file.$file) {\r\n                        _this6._renderFile(file)\r\n                    }\r\n                })\r\n            }\r\n            this.$element().toggleClass(FILEUPLOADER_SHOW_FILE_LIST_CLASS, showFileList);\r\n            this._toggleFileUploaderEmptyClassName();\r\n            this._updateFileNameMaxWidth();\r\n            this._$validationMessage && this._$validationMessage.dxOverlay(\"instance\").repaint()\r\n        }\r\n    }, {\r\n        key: \"_renderFile\",\r\n        value: function(file) {\r\n            var value = file.value;\r\n            var $fileContainer = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_CONTAINER_CLASS).appendTo(this._$filesContainer);\r\n            this._renderFileButtons(file, $fileContainer);\r\n            file.$file = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_CLASS).appendTo($fileContainer);\r\n            var $fileInfo = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_INFO_CLASS).appendTo(file.$file);\r\n            file.$statusMessage = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_STATUS_MESSAGE_CLASS).appendTo(file.$file);\r\n            (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_NAME_CLASS).text(value.name).appendTo($fileInfo);\r\n            if ((0, _type.isDefined)(value.size)) {\r\n                (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_FILE_SIZE_CLASS).text(this._getFileSize(value.size)).appendTo($fileInfo)\r\n            }\r\n            if (file.isValid()) {\r\n                file.$statusMessage.text(this.option(\"readyToUploadMessage\"))\r\n            } else {\r\n                if (!file.isValidFileExtension) {\r\n                    file.$statusMessage.append(this._createValidationElement(\"invalidFileExtensionMessage\"))\r\n                }\r\n                if (!file.isValidMaxSize) {\r\n                    file.$statusMessage.append(this._createValidationElement(\"invalidMaxFileSizeMessage\"))\r\n                }\r\n                if (!file.isValidMinSize) {\r\n                    file.$statusMessage.append(this._createValidationElement(\"invalidMinFileSizeMessage\"))\r\n                }\r\n                $fileContainer.addClass(FILEUPLOADER_INVALID_CLASS)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createValidationElement\",\r\n        value: function(key) {\r\n            return (0, _renderer2.default)(\"<span>\").text(this.option(key))\r\n        }\r\n    }, {\r\n        key: \"_updateFileNameMaxWidth\",\r\n        value: function() {\r\n            var cancelButtonsCount = this.option(\"allowCanceling\") && \"useForm\" !== this.option(\"uploadMode\") ? 1 : 0;\r\n            var uploadButtonsCount = \"useButtons\" === this.option(\"uploadMode\") ? 1 : 0;\r\n            var filesContainerWidth = this._$filesContainer.find(\".\" + FILEUPLOADER_FILE_CONTAINER_CLASS).first().width() || this._$filesContainer.width();\r\n            var $buttonContainer = this._$filesContainer.find(\".\" + FILEUPLOADER_BUTTON_CONTAINER_CLASS).eq(0);\r\n            var buttonsWidth = $buttonContainer.width() * (cancelButtonsCount + uploadButtonsCount);\r\n            var $fileSize = this._$filesContainer.find(\".\" + FILEUPLOADER_FILE_SIZE_CLASS).eq(0);\r\n            var prevFileSize = $fileSize.text();\r\n            $fileSize.text(\"1000 Mb\");\r\n            var fileSizeWidth = $fileSize.width();\r\n            $fileSize.text(prevFileSize);\r\n            this._$filesContainer.find(\".\" + FILEUPLOADER_FILE_NAME_CLASS).css(\"maxWidth\", filesContainerWidth - buttonsWidth - fileSizeWidth)\r\n        }\r\n    }, {\r\n        key: \"_renderFileButtons\",\r\n        value: function(file, $container) {\r\n            var $cancelButton = this._getCancelButton(file);\r\n            $cancelButton && $container.append($cancelButton);\r\n            var $uploadButton = this._getUploadButton(file);\r\n            $uploadButton && $container.append($uploadButton)\r\n        }\r\n    }, {\r\n        key: \"_getCancelButton\",\r\n        value: function(file) {\r\n            var _this7 = this;\r\n            if (\"useForm\" === this.option(\"uploadMode\")) {\r\n                return null\r\n            }\r\n            file.cancelButton = this._createComponent((0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CLASS + \" \" + FILEUPLOADER_CANCEL_BUTTON_CLASS), _button2.default, {\r\n                onClick: function() {\r\n                    return _this7._removeFile(file)\r\n                },\r\n                icon: \"close\",\r\n                visible: this.option(\"allowCanceling\"),\r\n                integrationOptions: {}\r\n            });\r\n            return (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CONTAINER_CLASS).append(file.cancelButton.$element())\r\n        }\r\n    }, {\r\n        key: \"_getUploadButton\",\r\n        value: function(file) {\r\n            var _this8 = this;\r\n            if (!file.isValid() || \"useButtons\" !== this.option(\"uploadMode\")) {\r\n                return null\r\n            }\r\n            file.uploadButton = this._createComponent((0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CLASS + \" \" + FILEUPLOADER_UPLOAD_BUTTON_CLASS), _button2.default, {\r\n                onClick: function() {\r\n                    return _this8._uploadFile(file)\r\n                },\r\n                icon: \"upload\"\r\n            });\r\n            file.onLoadStart.add(function() {\r\n                return file.uploadButton.$element().remove()\r\n            });\r\n            return (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CONTAINER_CLASS).append(file.uploadButton.$element())\r\n        }\r\n    }, {\r\n        key: \"_removeFile\",\r\n        value: function(file) {\r\n            file.$file.parent().remove();\r\n            this._files.splice((0, _array.inArray)(file, this._files), 1);\r\n            var value = this.option(\"value\").slice();\r\n            value.splice((0, _array.inArray)(file.value, value), 1);\r\n            this._preventRecreatingFiles = true;\r\n            this.option(\"value\", value);\r\n            this._preventRecreatingFiles = false;\r\n            this._toggleFileUploaderEmptyClassName();\r\n            this._doPreventInputChange = true;\r\n            this._$fileInput.val(\"\");\r\n            this._doPreventInputChange = false\r\n        }\r\n    }, {\r\n        key: \"_toggleFileUploaderEmptyClassName\",\r\n        value: function() {\r\n            this.$element().toggleClass(FILEUPLOADER_EMPTY_CLASS, !this._files.length || this._hasInvalidFile(this._files))\r\n        }\r\n    }, {\r\n        key: \"_hasInvalidFile\",\r\n        value: function(files) {\r\n            for (var i = 0; i < files.length; i++) {\r\n                if (!files[i].isValid()) {\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_getFileSize\",\r\n        value: function(size) {\r\n            var i = 0;\r\n            var labels = [_message2.default.format(\"dxFileUploader-bytes\"), _message2.default.format(\"dxFileUploader-kb\"), _message2.default.format(\"dxFileUploader-Mb\"), _message2.default.format(\"dxFileUploader-Gb\")];\r\n            var count = labels.length - 1;\r\n            while (i < count && size >= 1024) {\r\n                size /= 1024;\r\n                i++\r\n            }\r\n            return Math.round(size) + \" \" + labels[i]\r\n        }\r\n    }, {\r\n        key: \"_renderSelectButton\",\r\n        value: function() {\r\n            var $button = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CLASS).appendTo(this._$inputWrapper);\r\n            this._selectButton = this._createComponent($button, _button2.default, {\r\n                text: this.option(\"selectButtonText\"),\r\n                focusStateEnabled: false,\r\n                integrationOptions: {}\r\n            });\r\n            if (\"desktop\" === _devices2.default.real().deviceType) {\r\n                this._selectButton.option(\"onClick\", this._selectButtonClickHandler.bind(this))\r\n            } else {\r\n                _events_engine2.default.off($button, \"click\");\r\n                _events_engine2.default.on($button, \"click\", this._selectButtonClickHandler.bind(this))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_selectButtonClickHandler\",\r\n        value: function() {\r\n            if (this.option(\"useNativeInputClick\")) {\r\n                return\r\n            }\r\n            if (this.option(\"disabled\")) {\r\n                return false\r\n            }\r\n            this._isCustomClickEvent = true;\r\n            _events_engine2.default.trigger(this._$fileInput, \"click\");\r\n            this._isCustomClickEvent = false\r\n        }\r\n    }, {\r\n        key: \"_renderUploadButton\",\r\n        value: function() {\r\n            if (\"useButtons\" !== this.option(\"uploadMode\")) {\r\n                return\r\n            }\r\n            var $uploadButton = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_BUTTON_CLASS).addClass(FILEUPLOADER_UPLOAD_BUTTON_CLASS).appendTo(this._$content);\r\n            this._uploadButton = this._createComponent($uploadButton, _button2.default, {\r\n                text: this.option(\"uploadButtonText\"),\r\n                onClick: this._uploadButtonClickHandler.bind(this),\r\n                type: this.option(\"_uploadButtonType\"),\r\n                integrationOptions: {}\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_uploadButtonClickHandler\",\r\n        value: function() {\r\n            this._uploadFiles()\r\n        }\r\n    }, {\r\n        key: \"_shouldDragOverBeRendered\",\r\n        value: function() {\r\n            return \"useForm\" !== this.option(\"uploadMode\") || this.option(\"nativeDropSupported\")\r\n        }\r\n    }, {\r\n        key: \"_renderInputContainer\",\r\n        value: function() {\r\n            this._$inputContainer = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_INPUT_CONTAINER_CLASS).appendTo(this._$inputWrapper);\r\n            if (!this._shouldDragOverBeRendered()) {\r\n                this._$inputContainer.css(\"display\", \"none\")\r\n            }\r\n            this._$fileInput.addClass(FILEUPLOADER_INPUT_CLASS);\r\n            this._renderInput();\r\n            this._$inputLabel.addClass(FILEUPLOADER_INPUT_LABEL_CLASS).appendTo(this._$inputContainer)\r\n        }\r\n    }, {\r\n        key: \"_renderInput\",\r\n        value: function() {\r\n            if (this.option(\"useNativeInputClick\")) {\r\n                this._selectButton.option(\"template\", this._selectButtonInputTemplate.bind(this))\r\n            } else {\r\n                this._$fileInput.appendTo(this._$inputContainer);\r\n                this._selectButton.option(\"template\", \"content\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_selectButtonInputTemplate\",\r\n        value: function(data, content) {\r\n            var $content = (0, _renderer2.default)(content);\r\n            var $text = (0, _renderer2.default)(\"<span>\").addClass(\"dx-button-text\").text(data.text);\r\n            $content.append($text).append(this._$fileInput);\r\n            return $content\r\n        }\r\n    }, {\r\n        key: \"_renderInputWrapper\",\r\n        value: function() {\r\n            this._$inputWrapper = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_INPUT_WRAPPER_CLASS).appendTo(this._$content)\r\n        }\r\n    }, {\r\n        key: \"_renderDragEvents\",\r\n        value: function() {\r\n            _events_engine2.default.off(this._$inputWrapper, \".\" + this.NAME);\r\n            if (!this._shouldDragOverBeRendered()) {\r\n                return\r\n            }\r\n            this._dragEventsTargets = [];\r\n            _events_engine2.default.on(this._$inputWrapper, _utils2.default.addNamespace(\"dragenter\", this.NAME), this._dragEnterHandler.bind(this));\r\n            _events_engine2.default.on(this._$inputWrapper, _utils2.default.addNamespace(\"dragover\", this.NAME), this._dragOverHandler.bind(this));\r\n            _events_engine2.default.on(this._$inputWrapper, _utils2.default.addNamespace(\"dragleave\", this.NAME), this._dragLeaveHandler.bind(this));\r\n            _events_engine2.default.on(this._$inputWrapper, _utils2.default.addNamespace(\"drop\", this.NAME), this._dropHandler.bind(this))\r\n        }\r\n    }, {\r\n        key: \"_useInputForDrop\",\r\n        value: function() {\r\n            return this.option(\"nativeDropSupported\") && \"useForm\" === this.option(\"uploadMode\")\r\n        }\r\n    }, {\r\n        key: \"_dragEnterHandler\",\r\n        value: function(e) {\r\n            if (this.option(\"disabled\")) {\r\n                return false\r\n            }\r\n            if (!this._useInputForDrop()) {\r\n                e.preventDefault()\r\n            }\r\n            this._updateEventTargets(e);\r\n            this.$element().addClass(FILEUPLOADER_DRAGOVER_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_dragOverHandler\",\r\n        value: function(e) {\r\n            if (!this._useInputForDrop()) {\r\n                e.preventDefault()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_dragLeaveHandler\",\r\n        value: function(e) {\r\n            if (!this._useInputForDrop()) {\r\n                e.preventDefault()\r\n            }\r\n            this._updateEventTargets(e);\r\n            if (!this._dragEventsTargets.length) {\r\n                this.$element().removeClass(FILEUPLOADER_DRAGOVER_CLASS)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_updateEventTargets\",\r\n        value: function(e) {\r\n            var targetIndex = this._dragEventsTargets.indexOf(e.target);\r\n            var isTargetExists = targetIndex !== -1;\r\n            if (\"dragenter\" === e.type) {\r\n                !isTargetExists && this._dragEventsTargets.push(e.target)\r\n            } else {\r\n                isTargetExists && this._dragEventsTargets.splice(targetIndex, 1)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_dropHandler\",\r\n        value: function(e) {\r\n            this._dragEventsTargets = [];\r\n            this.$element().removeClass(FILEUPLOADER_DRAGOVER_CLASS);\r\n            if (this._useInputForDrop()) {\r\n                return\r\n            }\r\n            e.preventDefault();\r\n            var fileList = e.originalEvent.dataTransfer.files;\r\n            var files = this._getFiles(fileList);\r\n            if (!this.option(\"multiple\") && files.length > 1) {\r\n                return\r\n            }\r\n            this._changeValue(this._filterFiles(files));\r\n            if (\"instantly\" === this.option(\"uploadMode\")) {\r\n                this._uploadFiles()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_filterFiles\",\r\n        value: function(files) {\r\n            if (!files.length) {\r\n                return files\r\n            }\r\n            var accept = this.option(\"accept\");\r\n            if (!accept.length) {\r\n                return files\r\n            }\r\n            var result = [];\r\n            var allowedTypes = this._getAllowedFileTypes(accept);\r\n            for (var i = 0, n = files.length; i < n; i++) {\r\n                if (this._isFileTypeAllowed(files[i], allowedTypes)) {\r\n                    result.push(files[i])\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_getAllowedFileTypes\",\r\n        value: function(acceptSting) {\r\n            if (!acceptSting.length) {\r\n                return []\r\n            }\r\n            return acceptSting.split(\",\").map(function(item) {\r\n                return item.trim()\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_isFileTypeAllowed\",\r\n        value: function(file, allowedTypes) {\r\n            for (var i = 0, n = allowedTypes.length; i < n; i++) {\r\n                var allowedType = allowedTypes[i];\r\n                if (\".\" === allowedType[0]) {\r\n                    allowedType = allowedType.replace(\".\", \"\\\\.\");\r\n                    if (file.name.match(new RegExp(allowedType + \"$\", \"i\"))) {\r\n                        return true\r\n                    }\r\n                } else {\r\n                    allowedType = allowedType.replace(\"*\", \"\");\r\n                    if (file.type.match(new RegExp(allowedType, \"i\"))) {\r\n                        return true\r\n                    }\r\n                }\r\n            }\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_renderWrapper\",\r\n        value: function() {\r\n            var $wrapper = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_WRAPPER_CLASS).appendTo(this.$element());\r\n            var $container = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_CONTAINER_CLASS).appendTo($wrapper);\r\n            this._$content = (0, _renderer2.default)(\"<div>\").addClass(FILEUPLOADER_CONTENT_CLASS).appendTo($container)\r\n        }\r\n    }, {\r\n        key: \"_clean\",\r\n        value: function() {\r\n            this._$fileInput.detach();\r\n            delete this._$filesContainer;\r\n            if (this._files) {\r\n                this._files.forEach(function(file) {\r\n                    file.$file = null;\r\n                    file.$statusMessage = null\r\n                })\r\n            }\r\n            _get(_getPrototypeOf(FileUploader.prototype), \"_clean\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_uploadFiles\",\r\n        value: function() {\r\n            var _this9 = this;\r\n            if (isFormDataSupported()) {\r\n                (0, _iterator.each)(this._files, function(_, file) {\r\n                    return _this9._uploadFile(file)\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_uploadFile\",\r\n        value: function(file) {\r\n            this._uploadStrategy.upload(file)\r\n        }\r\n    }, {\r\n        key: \"_updateProgressBar\",\r\n        value: function(file, loadedFileData) {\r\n            file.progressBar && file.progressBar.option({\r\n                value: loadedFileData.loaded,\r\n                showStatus: true\r\n            });\r\n            this._progressAction({\r\n                file: file.value,\r\n                segmentSize: loadedFileData.currentSegmentSize,\r\n                bytesLoaded: loadedFileData.loaded,\r\n                bytesTotal: loadedFileData.total,\r\n                event: loadedFileData.event,\r\n                request: file.request\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_updateTotalProgress\",\r\n        value: function(totalFilesSize, totalLoadedFilesSize) {\r\n            var progress = totalFilesSize ? this._getProgressValue(totalLoadedFilesSize / totalFilesSize) : 0;\r\n            this.option(\"progress\", progress);\r\n            this._setLoadedSize(totalLoadedFilesSize)\r\n        }\r\n    }, {\r\n        key: \"_getProgressValue\",\r\n        value: function(ratio) {\r\n            return Math.floor(100 * ratio)\r\n        }\r\n    }, {\r\n        key: \"_initStatusMessage\",\r\n        value: function(file) {\r\n            file.$statusMessage.css(\"display\", \"none\")\r\n        }\r\n    }, {\r\n        key: \"_initCancelButton\",\r\n        value: function(file) {\r\n            var _this10 = this;\r\n            file.cancelButton.option(\"onClick\", function() {\r\n                _this10._preventFilesUploading([file]);\r\n                _this10._removeFile(file)\r\n            });\r\n            var hideCancelButton = function() {\r\n                setTimeout(function() {\r\n                    file.cancelButton.option({\r\n                        visible: false\r\n                    })\r\n                }, FILEUPLOADER_AFTER_LOAD_DELAY)\r\n            };\r\n            file.onLoad.add(hideCancelButton);\r\n            file.onError.add(hideCancelButton)\r\n        }\r\n    }, {\r\n        key: \"_createProgressBar\",\r\n        value: function(fileSize) {\r\n            var _this11 = this;\r\n            return this._createComponent((0, _renderer2.default)(\"<div>\"), _progress_bar2.default, {\r\n                value: void 0,\r\n                min: 0,\r\n                max: fileSize,\r\n                statusFormat: function(ratio) {\r\n                    return _this11._getProgressValue(ratio) + \"%\"\r\n                },\r\n                showStatus: false,\r\n                statusPosition: \"right\"\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getTotalFilesSize\",\r\n        value: function() {\r\n            var _this12 = this;\r\n            if (!this._totalFilesSize) {\r\n                this._totalFilesSize = 0;\r\n                (0, _iterator.each)(this._files, function(_, file) {\r\n                    _this12._totalFilesSize += file.value.size\r\n                })\r\n            }\r\n            return this._totalFilesSize\r\n        }\r\n    }, {\r\n        key: \"_getTotalLoadedFilesSize\",\r\n        value: function() {\r\n            var _this13 = this;\r\n            if (!this._totalLoadedFilesSize) {\r\n                this._totalLoadedFilesSize = 0;\r\n                (0, _iterator.each)(this._files, function(_, file) {\r\n                    _this13._totalLoadedFilesSize += file.loadedSize\r\n                })\r\n            }\r\n            return this._totalLoadedFilesSize\r\n        }\r\n    }, {\r\n        key: \"_setLoadedSize\",\r\n        value: function(value) {\r\n            this._totalLoadedFilesSize = value\r\n        }\r\n    }, {\r\n        key: \"_recalculateProgress\",\r\n        value: function() {\r\n            this._totalFilesSize = 0;\r\n            this._totalLoadedFilesSize = 0;\r\n            this._updateTotalProgress(this._getTotalFilesSize(), this._getTotalLoadedFilesSize())\r\n        }\r\n    }, {\r\n        key: \"_getValidationMessageTarget\",\r\n        value: function() {\r\n            return this._$inputWrapper\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            var value = args.value;\r\n            switch (args.name) {\r\n                case \"height\":\r\n                case \"width\":\r\n                    this._updateFileNameMaxWidth();\r\n                    _get(_getPrototypeOf(FileUploader.prototype), \"_optionChanged\", this).call(this, args);\r\n                    break;\r\n                case \"value\":\r\n                    !value.length && this._$fileInput.val(\"\");\r\n                    if (!this._preventRecreatingFiles) {\r\n                        this._createFiles();\r\n                        this._renderFiles()\r\n                    }\r\n                    this._recalculateProgress();\r\n                    _get(_getPrototypeOf(FileUploader.prototype), \"_optionChanged\", this).call(this, args);\r\n                    break;\r\n                case \"name\":\r\n                    this._initFileInput();\r\n                    _get(_getPrototypeOf(FileUploader.prototype), \"_optionChanged\", this).call(this, args);\r\n                    break;\r\n                case \"accept\":\r\n                    this._initFileInput();\r\n                    break;\r\n                case \"multiple\":\r\n                    this._initFileInput();\r\n                    if (!args.value) {\r\n                        this.reset()\r\n                    }\r\n                    break;\r\n                case \"selectButtonText\":\r\n                    this._selectButton.option(\"text\", value);\r\n                    break;\r\n                case \"uploadButtonText\":\r\n                    this._uploadButton && this._uploadButton.option(\"text\", value);\r\n                    break;\r\n                case \"_uploadButtonType\":\r\n                    this._uploadButton && this._uploadButton.option(\"type\", value);\r\n                    break;\r\n                case \"maxFileSize\":\r\n                case \"minFileSize\":\r\n                case \"allowedFileExtensions\":\r\n                case \"invalidFileExtensionMessage\":\r\n                case \"invalidMaxFileSizeMessage\":\r\n                case \"invalidMinFileSizeMessage\":\r\n                case \"readyToUploadMessage\":\r\n                case \"uploadedMessage\":\r\n                case \"uploadFailedMessage\":\r\n                    this._invalidate();\r\n                    break;\r\n                case \"labelText\":\r\n                    this._$inputLabel.text(value);\r\n                    break;\r\n                case \"showFileList\":\r\n                    if (!this._preventRecreatingFiles) {\r\n                        this._renderFiles()\r\n                    }\r\n                    break;\r\n                case \"uploadFile\":\r\n                case \"uploadChunk\":\r\n                case \"chunkSize\":\r\n                    this._setUploadStrategy();\r\n                    break;\r\n                case \"abortUpload\":\r\n                case \"uploadUrl\":\r\n                case \"progress\":\r\n                case \"uploadMethod\":\r\n                case \"uploadHeaders\":\r\n                case \"extendSelection\":\r\n                    break;\r\n                case \"allowCanceling\":\r\n                case \"uploadMode\":\r\n                    this.reset();\r\n                    this._invalidate();\r\n                    break;\r\n                case \"onUploadStarted\":\r\n                    this._createUploadStartedAction();\r\n                    break;\r\n                case \"onUploaded\":\r\n                    this._createUploadedAction();\r\n                    break;\r\n                case \"onProgress\":\r\n                    this._createProgressAction();\r\n                    break;\r\n                case \"onUploadError\":\r\n                    this._createUploadErrorAction();\r\n                    break;\r\n                case \"onUploadAborted\":\r\n                    this._createUploadAbortedAction();\r\n                    break;\r\n                case \"useNativeInputClick\":\r\n                    this._renderInput();\r\n                    break;\r\n                case \"useDragOver\":\r\n                    this._renderDragEvents();\r\n                    break;\r\n                case \"nativeDropSupported\":\r\n                    this._invalidate();\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(FileUploader.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"reset\",\r\n        value: function() {\r\n            this.option(\"value\", [])\r\n        }\r\n    }]);\r\n    return FileUploader\r\n}(_editor2.default);\r\nvar FileBlobReader = function() {\r\n    function FileBlobReader(file, chunkSize) {\r\n        _classCallCheck(this, FileBlobReader);\r\n        this.file = file;\r\n        this.chunkSize = chunkSize;\r\n        this.index = 0\r\n    }\r\n    _createClass(FileBlobReader, [{\r\n        key: \"read\",\r\n        value: function() {\r\n            if (!this.file) {\r\n                return null\r\n            }\r\n            var result = this.createBlobResult(this.file, this.index, this.chunkSize);\r\n            if (result.isCompleted) {\r\n                this.file = null\r\n            }\r\n            this.index++;\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"createBlobResult\",\r\n        value: function(file, index, chunkSize) {\r\n            var currentPosition = index * chunkSize;\r\n            return {\r\n                blob: this.sliceFile(file, currentPosition, chunkSize),\r\n                index: index,\r\n                isCompleted: currentPosition + chunkSize >= file.size\r\n            }\r\n        }\r\n    }, {\r\n        key: \"sliceFile\",\r\n        value: function(file, startPos, length) {\r\n            if (file.slice) {\r\n                return file.slice(startPos, startPos + length)\r\n            }\r\n            if (file.webkitSlice) {\r\n                return file.webkitSlice(startPos, startPos + length)\r\n            }\r\n            return null\r\n        }\r\n    }]);\r\n    return FileBlobReader\r\n}();\r\nvar FileUploadStrategyBase = function() {\r\n    function FileUploadStrategyBase(fileUploader) {\r\n        _classCallCheck(this, FileUploadStrategyBase);\r\n        this.fileUploader = fileUploader\r\n    }\r\n    _createClass(FileUploadStrategyBase, [{\r\n        key: \"upload\",\r\n        value: function(file) {\r\n            if (file.isValid() && !file.uploadStarted) {\r\n                this._prepareFileBeforeUpload(file);\r\n                this._uploadCore(file)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"abortUpload\",\r\n        value: function abortUpload(file) {\r\n            var _this14 = this;\r\n            if (file._isError || file._isLoaded || file.isAborted) {\r\n                return\r\n            }\r\n            file.request && file.request.abort();\r\n            file.isAborted = true;\r\n            if (this._isCustomAbortUpload()) {\r\n                var abortUpload = this.fileUploader.option(\"abortUpload\");\r\n                var arg = this._createAbortUploadArgument(file);\r\n                var deferred = null;\r\n                try {\r\n                    var result = abortUpload(file.value, arg);\r\n                    deferred = (0, _deferred.when)(result)\r\n                } catch (error) {\r\n                    deferred = (new _deferred.Deferred).reject(error).promise()\r\n                }\r\n                deferred.done(function() {\r\n                    return file.onAbort.fire()\r\n                }).fail(function(error) {\r\n                    return _this14._handleFileError(file, error)\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createAbortUploadArgument\",\r\n        value: function(file) {}\r\n    }, {\r\n        key: \"_uploadCore\",\r\n        value: function(file) {}\r\n    }, {\r\n        key: \"_isCustomAbortUpload\",\r\n        value: function() {\r\n            var callback = this.fileUploader.option(\"abortUpload\");\r\n            return callback && (0, _type.isFunction)(callback)\r\n        }\r\n    }, {\r\n        key: \"_handleFileError\",\r\n        value: function(file, error) {\r\n            file._isError = true;\r\n            file.onError.fire(error)\r\n        }\r\n    }, {\r\n        key: \"_prepareFileBeforeUpload\",\r\n        value: function(file) {\r\n            if (file.$file) {\r\n                this.fileUploader._createFileProgressBar(file)\r\n            }\r\n            file.onLoadStart.add(this._onUploadStarted.bind(this, file));\r\n            file.onLoad.add(this._onLoadedHandler.bind(this, file));\r\n            file.onError.add(this._onErrorHandler.bind(this, file));\r\n            file.onAbort.add(this._onAbortHandler.bind(this, file));\r\n            file.onProgress.add(this._onProgressHandler.bind(this, file))\r\n        }\r\n    }, {\r\n        key: \"_isStatusError\",\r\n        value: function(status) {\r\n            return 400 <= status && status < 500 || 500 <= status && status < 600\r\n        }\r\n    }, {\r\n        key: \"_onUploadStarted\",\r\n        value: function(file, e) {\r\n            file.uploadStarted = true;\r\n            this.fileUploader._uploadStartedAction({\r\n                file: file.value,\r\n                event: e,\r\n                request: file.request\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_onAbortHandler\",\r\n        value: function(file, e) {\r\n            this.fileUploader._uploadAbortedAction({\r\n                file: file.value,\r\n                event: e,\r\n                request: file.request\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_onErrorHandler\",\r\n        value: function(file, error) {\r\n            this.fileUploader._setStatusMessage(file, \"uploadFailedMessage\");\r\n            this.fileUploader._uploadErrorAction({\r\n                file: file.value,\r\n                event: void 0,\r\n                request: file.request,\r\n                error: error\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_onLoadedHandler\",\r\n        value: function(file, e) {\r\n            file._isLoaded = true;\r\n            this.fileUploader._setStatusMessage(file, \"uploadedMessage\");\r\n            this.fileUploader._uploadedAction({\r\n                file: file.value,\r\n                event: e,\r\n                request: file.request\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_onProgressHandler\",\r\n        value: function(file, e) {\r\n            if (file) {\r\n                var totalFilesSize = this.fileUploader._getTotalFilesSize();\r\n                var totalLoadedFilesSize = this.fileUploader._getTotalLoadedFilesSize();\r\n                var loadedSize = Math.min(e.loaded, file.value.size);\r\n                var segmentSize = loadedSize - file.loadedSize;\r\n                file.loadedSize = loadedSize;\r\n                this.fileUploader._updateTotalProgress(totalFilesSize, totalLoadedFilesSize + segmentSize);\r\n                this.fileUploader._updateProgressBar(file, this._getLoadedData(loadedSize, e.total, segmentSize, e))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getLoadedData\",\r\n        value: function(loaded, total, currentSegmentSize, event) {\r\n            return {\r\n                loaded: loaded,\r\n                total: total,\r\n                currentSegmentSize: currentSegmentSize\r\n            }\r\n        }\r\n    }]);\r\n    return FileUploadStrategyBase\r\n}();\r\nvar ChunksFileUploadStrategyBase = function(_FileUploadStrategyBa) {\r\n    _inherits(ChunksFileUploadStrategyBase, _FileUploadStrategyBa);\r\n\r\n    function ChunksFileUploadStrategyBase(fileUploader) {\r\n        var _this15;\r\n        _classCallCheck(this, ChunksFileUploadStrategyBase);\r\n        _this15 = _possibleConstructorReturn(this, _getPrototypeOf(ChunksFileUploadStrategyBase).call(this, fileUploader));\r\n        _this15.chunkSize = _this15.fileUploader.option(\"chunkSize\");\r\n        return _this15\r\n    }\r\n    _createClass(ChunksFileUploadStrategyBase, [{\r\n        key: \"_uploadCore\",\r\n        value: function(file) {\r\n            var realFile = file.value;\r\n            var chunksData = {\r\n                name: realFile.name,\r\n                loadedBytes: 0,\r\n                type: realFile.type,\r\n                blobReader: new FileBlobReader(realFile, this.chunkSize),\r\n                guid: new _guid2.default,\r\n                fileSize: realFile.size,\r\n                count: Math.ceil(realFile.size / this.chunkSize),\r\n                customData: {}\r\n            };\r\n            file.chunksData = chunksData;\r\n            this._sendChunk(file, chunksData)\r\n        }\r\n    }, {\r\n        key: \"_sendChunk\",\r\n        value: function(file, chunksData) {\r\n            var _this16 = this;\r\n            var chunk = chunksData.blobReader.read();\r\n            chunksData.currentChunk = chunk;\r\n            if (chunk) {\r\n                this._sendChunkCore(file, chunksData, chunk).done(function() {\r\n                    if (file.isAborted) {\r\n                        return\r\n                    }\r\n                    chunksData.loadedBytes += chunk.blob.size;\r\n                    file.onProgress.fire({\r\n                        loaded: chunksData.loadedBytes,\r\n                        total: file.value.size\r\n                    });\r\n                    if (chunk.isCompleted) {\r\n                        file.onLoad.fire()\r\n                    }\r\n                    _this16._sendChunk(file, chunksData)\r\n                }).fail(function(error) {\r\n                    if (_this16._shouldHandleError(error)) {\r\n                        _this16._handleFileError(file, error)\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_sendChunkCore\",\r\n        value: function(file, chunksData, chunk) {}\r\n    }, {\r\n        key: \"_shouldHandleError\",\r\n        value: function(error) {}\r\n    }, {\r\n        key: \"_tryRaiseStartLoad\",\r\n        value: function(file) {\r\n            if (!file.isStartLoad) {\r\n                file.isStartLoad = true;\r\n                file.onLoadStart.fire()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getEvent\",\r\n        value: function(e) {\r\n            return null\r\n        }\r\n    }]);\r\n    return ChunksFileUploadStrategyBase\r\n}(FileUploadStrategyBase);\r\nvar DefaultChunksFileUploadStrategy = function(_ChunksFileUploadStra) {\r\n    _inherits(DefaultChunksFileUploadStrategy, _ChunksFileUploadStra);\r\n\r\n    function DefaultChunksFileUploadStrategy() {\r\n        _classCallCheck(this, DefaultChunksFileUploadStrategy);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(DefaultChunksFileUploadStrategy).apply(this, arguments))\r\n    }\r\n    _createClass(DefaultChunksFileUploadStrategy, [{\r\n        key: \"_sendChunkCore\",\r\n        value: function(file, chunksData, chunk) {\r\n            var _this17 = this;\r\n            return _ajax2.default.sendRequest({\r\n                url: this.fileUploader.option(\"uploadUrl\"),\r\n                method: this.fileUploader.option(\"uploadMethod\"),\r\n                headers: this.fileUploader.option(\"uploadHeaders\"),\r\n                beforeSend: function(xhr) {\r\n                    file.request = xhr\r\n                },\r\n                upload: {\r\n                    onloadstart: function() {\r\n                        return _this17._tryRaiseStartLoad(file)\r\n                    },\r\n                    onabort: function() {\r\n                        return file.onAbort.fire()\r\n                    }\r\n                },\r\n                data: this._createFormData({\r\n                    fileName: chunksData.name,\r\n                    blobName: this.fileUploader.option(\"name\"),\r\n                    blob: chunk.blob,\r\n                    index: chunk.index,\r\n                    count: chunksData.count,\r\n                    type: chunksData.type,\r\n                    guid: chunksData.guid,\r\n                    size: chunksData.fileSize\r\n                })\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_shouldHandleError\",\r\n        value: function(e) {\r\n            return this._isStatusError(e.status)\r\n        }\r\n    }, {\r\n        key: \"_createFormData\",\r\n        value: function(options) {\r\n            var formData = new window.FormData;\r\n            formData.append(options.blobName, options.blob);\r\n            formData.append(FILEUPLOADER_CHUNK_META_DATA_NAME, JSON.stringify({\r\n                FileName: options.fileName,\r\n                Index: options.index,\r\n                TotalCount: options.count,\r\n                FileSize: options.size,\r\n                FileType: options.type,\r\n                FileGuid: options.guid\r\n            }));\r\n            return formData\r\n        }\r\n    }]);\r\n    return DefaultChunksFileUploadStrategy\r\n}(ChunksFileUploadStrategyBase);\r\nvar CustomChunksFileUploadStrategy = function(_ChunksFileUploadStra2) {\r\n    _inherits(CustomChunksFileUploadStrategy, _ChunksFileUploadStra2);\r\n\r\n    function CustomChunksFileUploadStrategy() {\r\n        _classCallCheck(this, CustomChunksFileUploadStrategy);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(CustomChunksFileUploadStrategy).apply(this, arguments))\r\n    }\r\n    _createClass(CustomChunksFileUploadStrategy, [{\r\n        key: \"_sendChunkCore\",\r\n        value: function(file, chunksData) {\r\n            this._tryRaiseStartLoad(file);\r\n            var chunksInfo = this._createChunksInfo(chunksData);\r\n            var uploadChunk = this.fileUploader.option(\"uploadChunk\");\r\n            try {\r\n                var result = uploadChunk(file.value, chunksInfo);\r\n                return (0, _deferred.when)(result)\r\n            } catch (error) {\r\n                return (new _deferred.Deferred).reject(error).promise()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_createAbortUploadArgument\",\r\n        value: function(file) {\r\n            return this._createChunksInfo(file.chunksData)\r\n        }\r\n    }, {\r\n        key: \"_shouldHandleError\",\r\n        value: function(e) {\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_createChunksInfo\",\r\n        value: function(chunksData) {\r\n            return {\r\n                bytesUploaded: chunksData.loadedBytes,\r\n                chunkCount: chunksData.count,\r\n                customData: chunksData.customData,\r\n                chunkBlob: chunksData.currentChunk.blob,\r\n                chunkIndex: chunksData.currentChunk.index\r\n            }\r\n        }\r\n    }]);\r\n    return CustomChunksFileUploadStrategy\r\n}(ChunksFileUploadStrategyBase);\r\nvar WholeFileUploadStrategyBase = function(_FileUploadStrategyBa2) {\r\n    _inherits(WholeFileUploadStrategyBase, _FileUploadStrategyBa2);\r\n\r\n    function WholeFileUploadStrategyBase() {\r\n        _classCallCheck(this, WholeFileUploadStrategyBase);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(WholeFileUploadStrategyBase).apply(this, arguments))\r\n    }\r\n    _createClass(WholeFileUploadStrategyBase, [{\r\n        key: \"_uploadCore\",\r\n        value: function(file) {\r\n            var _this18 = this;\r\n            file.loadedSize = 0;\r\n            this._uploadFile(file).done(function() {\r\n                if (!file.isAborted) {\r\n                    file.onLoad.fire()\r\n                }\r\n            }).fail(function(error) {\r\n                if (_this18._shouldHandleError(file, error)) {\r\n                    _this18._handleFileError(file, error)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_uploadFile\",\r\n        value: function(file) {}\r\n    }, {\r\n        key: \"_shouldHandleError\",\r\n        value: function(file, e) {}\r\n    }, {\r\n        key: \"_handleProgress\",\r\n        value: function(file, e) {\r\n            if (file._isError) {\r\n                return\r\n            }\r\n            file._isProgressStarted = true;\r\n            file.onProgress.fire(e)\r\n        }\r\n    }, {\r\n        key: \"_getLoadedData\",\r\n        value: function(loaded, total, segmentSize, event) {\r\n            var result = _get(_getPrototypeOf(WholeFileUploadStrategyBase.prototype), \"_getLoadedData\", this).call(this, loaded, total, segmentSize, event);\r\n            result.event = event;\r\n            return result\r\n        }\r\n    }]);\r\n    return WholeFileUploadStrategyBase\r\n}(FileUploadStrategyBase);\r\nvar DefaultWholeFileUploadStrategy = function(_WholeFileUploadStrat) {\r\n    _inherits(DefaultWholeFileUploadStrategy, _WholeFileUploadStrat);\r\n\r\n    function DefaultWholeFileUploadStrategy() {\r\n        _classCallCheck(this, DefaultWholeFileUploadStrategy);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(DefaultWholeFileUploadStrategy).apply(this, arguments))\r\n    }\r\n    _createClass(DefaultWholeFileUploadStrategy, [{\r\n        key: \"_uploadFile\",\r\n        value: function(file) {\r\n            var _this19 = this;\r\n            return _ajax2.default.sendRequest({\r\n                url: this.fileUploader.option(\"uploadUrl\"),\r\n                method: this.fileUploader.option(\"uploadMethod\"),\r\n                headers: this.fileUploader.option(\"uploadHeaders\"),\r\n                beforeSend: function(xhr) {\r\n                    file.request = xhr\r\n                },\r\n                upload: {\r\n                    onprogress: function(e) {\r\n                        return _this19._handleProgress(file, e)\r\n                    },\r\n                    onloadstart: function() {\r\n                        return file.onLoadStart.fire()\r\n                    },\r\n                    onabort: function() {\r\n                        return file.onAbort.fire()\r\n                    }\r\n                },\r\n                data: this._createFormData(this.fileUploader.option(\"name\"), file.value)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_shouldHandleError\",\r\n        value: function(file, e) {\r\n            return this._isStatusError(e.status) || !file._isProgressStarted\r\n        }\r\n    }, {\r\n        key: \"_createFormData\",\r\n        value: function(fieldName, fieldValue) {\r\n            var formData = new window.FormData;\r\n            formData.append(fieldName, fieldValue, fieldValue.name);\r\n            return formData\r\n        }\r\n    }]);\r\n    return DefaultWholeFileUploadStrategy\r\n}(WholeFileUploadStrategyBase);\r\nvar CustomWholeFileUploadStrategy = function(_WholeFileUploadStrat2) {\r\n    _inherits(CustomWholeFileUploadStrategy, _WholeFileUploadStrat2);\r\n\r\n    function CustomWholeFileUploadStrategy() {\r\n        _classCallCheck(this, CustomWholeFileUploadStrategy);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(CustomWholeFileUploadStrategy).apply(this, arguments))\r\n    }\r\n    _createClass(CustomWholeFileUploadStrategy, [{\r\n        key: \"_uploadFile\",\r\n        value: function(file) {\r\n            var _this20 = this;\r\n            file.onLoadStart.fire();\r\n            var progressCallback = function(loadedBytes) {\r\n                var arg = {\r\n                    loaded: loadedBytes,\r\n                    total: file.size\r\n                };\r\n                _this20._handleProgress(file, arg)\r\n            };\r\n            var uploadFile = this.fileUploader.option(\"uploadFile\");\r\n            try {\r\n                var result = uploadFile(file, progressCallback);\r\n                return (0, _deferred.when)(result)\r\n            } catch (error) {\r\n                return (new _deferred.Deferred).reject(error).promise()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_shouldHandleError\",\r\n        value: function(file, e) {\r\n            return true\r\n        }\r\n    }]);\r\n    return CustomWholeFileUploadStrategy\r\n}(WholeFileUploadStrategyBase);\r\n(0, _component_registrator2.default)(\"dxFileUploader\", FileUploader);\r\nmodule.exports = FileUploader;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}