{"ast":null,"code":"/**\r\n * DevExtreme (ui/number_box/number_box.caret.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar fitIntoRange = require(\"../../core/utils/math\").fitIntoRange;\n\nvar escapeRegExp = require(\"../../core/utils/common\").escapeRegExp;\n\nvar number = require(\"../../localization/number\");\n\nvar getCaretBoundaries = function getCaretBoundaries(text, format) {\n  var signParts = format.split(\";\");\n  var sign = number.getSign(text, format);\n  signParts[1] = signParts[1] || \"-\" + signParts[0];\n  format = signParts[sign < 0 ? 1 : 0];\n\n  var mockEscapedStubs = function mockEscapedStubs(str) {\n    return str.replace(/'([^']*)'/g, function (str) {\n      return str.split(\"\").map(function () {\n        return \" \";\n      }).join(\"\").substr(2);\n    });\n  };\n\n  format = mockEscapedStubs(format);\n  var prefixStubLength = /^[^#0.,]*/.exec(format)[0].length;\n  var postfixStubLength = /[^#0.,]*$/.exec(format)[0].length;\n  return {\n    start: prefixStubLength,\n    end: text.length - postfixStubLength\n  };\n};\n\nvar _getDigitCountBeforeIndex = function _getDigitCountBeforeIndex(index, text) {\n  var decimalSeparator = number.getDecimalSeparator();\n  var regExp = new RegExp(\"[^0-9\" + escapeRegExp(decimalSeparator) + \"]\", \"g\");\n  var textBeforePosition = text.slice(0, index);\n  return textBeforePosition.replace(regExp, \"\").length;\n};\n\nvar _reverseText = function _reverseText(text) {\n  return text.split(\"\").reverse().join(\"\");\n};\n\nvar _getDigitPositionByIndex = function _getDigitPositionByIndex(digitIndex, text) {\n  if (!digitIndex) {\n    return -1;\n  }\n\n  var regExp = /[0-9]/g;\n  var counter = 1;\n  var index = null;\n  var result = regExp.exec(text);\n\n  while (result) {\n    index = result.index;\n\n    if (!digitIndex || counter >= digitIndex) {\n      return index;\n    }\n\n    counter++;\n    result = regExp.exec(text);\n  }\n\n  return null === index ? text.length : index;\n};\n\nvar getCaretWithOffset = function getCaretWithOffset(caret, offset) {\n  if (void 0 === caret.start) {\n    caret = {\n      start: caret,\n      end: caret\n    };\n  }\n\n  return {\n    start: caret.start + offset,\n    end: caret.end + offset\n  };\n};\n\nvar getCaretAfterFormat = function getCaretAfterFormat(text, formatted, caret, format) {\n  caret = getCaretWithOffset(caret, 0);\n  var point = number.getDecimalSeparator();\n  var isSeparatorBasedText = isSeparatorBasedString(text);\n  var pointPosition = isSeparatorBasedText ? 0 : text.indexOf(point);\n  var newPointPosition = formatted.indexOf(point);\n  var textParts = isSeparatorBasedText ? text.split(text[pointPosition]) : text.split(point);\n  var formattedParts = formatted.split(point);\n  var isCaretOnFloat = pointPosition !== -1 && caret.start > pointPosition;\n\n  if (isCaretOnFloat) {\n    var relativeIndex = caret.start - pointPosition - 1;\n\n    var digitsBefore = _getDigitCountBeforeIndex(relativeIndex, textParts[1]);\n\n    var newPosition = formattedParts[1] ? newPointPosition + 1 + _getDigitPositionByIndex(digitsBefore, formattedParts[1]) + 1 : formatted.length;\n    return getCaretInBoundaries(newPosition, formatted, format);\n  } else {\n    var positionFromEnd = textParts[0].length - caret.start;\n\n    var digitsFromEnd = _getDigitCountBeforeIndex(positionFromEnd, _reverseText(textParts[0]));\n\n    var newPositionFromEnd = _getDigitPositionByIndex(digitsFromEnd, _reverseText(formattedParts[0]));\n\n    var newPositionFromBegin = formattedParts[0].length - (newPositionFromEnd + 1);\n    return getCaretInBoundaries(newPositionFromBegin, formatted, format);\n  }\n};\n\nvar isSeparatorBasedString = function isSeparatorBasedString(text) {\n  return 1 === text.length && !!text.match(/^[,.][0-9]*$/g);\n};\n\nvar isCaretInBoundaries = function isCaretInBoundaries(caret, text, format) {\n  caret = getCaretWithOffset(caret, 0);\n  var boundaries = getCaretInBoundaries(caret, text, format);\n  return caret.start >= boundaries.start && caret.end <= boundaries.end;\n};\n\nvar getCaretInBoundaries = function getCaretInBoundaries(caret, text, format) {\n  caret = getCaretWithOffset(caret, 0);\n  var boundaries = getCaretBoundaries(text, format);\n  var adjustedCaret = {\n    start: fitIntoRange(caret.start, boundaries.start, boundaries.end),\n    end: fitIntoRange(caret.end, boundaries.start, boundaries.end)\n  };\n  return adjustedCaret;\n};\n\nvar getCaretOffset = function getCaretOffset(previousText, newText, format) {\n  var previousBoundaries = getCaretBoundaries(previousText, format);\n  var newBoundaries = getCaretBoundaries(newText, format);\n  return newBoundaries.start - previousBoundaries.start;\n};\n\nexports.getCaretBoundaries = getCaretBoundaries;\nexports.isCaretInBoundaries = isCaretInBoundaries;\nexports.getCaretWithOffset = getCaretWithOffset;\nexports.getCaretInBoundaries = getCaretInBoundaries;\nexports.getCaretAfterFormat = getCaretAfterFormat;\nexports.getCaretOffset = getCaretOffset;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/number_box/number_box.caret.js"],"names":["fitIntoRange","require","escapeRegExp","number","getCaretBoundaries","text","format","signParts","split","sign","getSign","mockEscapedStubs","str","replace","map","join","substr","prefixStubLength","exec","length","postfixStubLength","start","end","_getDigitCountBeforeIndex","index","decimalSeparator","getDecimalSeparator","regExp","RegExp","textBeforePosition","slice","_reverseText","reverse","_getDigitPositionByIndex","digitIndex","counter","result","getCaretWithOffset","caret","offset","getCaretAfterFormat","formatted","point","isSeparatorBasedText","isSeparatorBasedString","pointPosition","indexOf","newPointPosition","textParts","formattedParts","isCaretOnFloat","relativeIndex","digitsBefore","newPosition","getCaretInBoundaries","positionFromEnd","digitsFromEnd","newPositionFromEnd","newPositionFromBegin","match","isCaretInBoundaries","boundaries","adjustedCaret","getCaretOffset","previousText","newText","previousBoundaries","newBoundaries","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/number_box/number_box.caret.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar fitIntoRange = require(\"../../core/utils/math\").fitIntoRange;\r\nvar escapeRegExp = require(\"../../core/utils/common\").escapeRegExp;\r\nvar number = require(\"../../localization/number\");\r\nvar getCaretBoundaries = function(text, format) {\r\n    var signParts = format.split(\";\");\r\n    var sign = number.getSign(text, format);\r\n    signParts[1] = signParts[1] || \"-\" + signParts[0];\r\n    format = signParts[sign < 0 ? 1 : 0];\r\n    var mockEscapedStubs = function(str) {\r\n        return str.replace(/'([^']*)'/g, function(str) {\r\n            return str.split(\"\").map(function() {\r\n                return \" \"\r\n            }).join(\"\").substr(2)\r\n        })\r\n    };\r\n    format = mockEscapedStubs(format);\r\n    var prefixStubLength = /^[^#0.,]*/.exec(format)[0].length;\r\n    var postfixStubLength = /[^#0.,]*$/.exec(format)[0].length;\r\n    return {\r\n        start: prefixStubLength,\r\n        end: text.length - postfixStubLength\r\n    }\r\n};\r\nvar _getDigitCountBeforeIndex = function(index, text) {\r\n    var decimalSeparator = number.getDecimalSeparator();\r\n    var regExp = new RegExp(\"[^0-9\" + escapeRegExp(decimalSeparator) + \"]\", \"g\");\r\n    var textBeforePosition = text.slice(0, index);\r\n    return textBeforePosition.replace(regExp, \"\").length\r\n};\r\nvar _reverseText = function(text) {\r\n    return text.split(\"\").reverse().join(\"\")\r\n};\r\nvar _getDigitPositionByIndex = function(digitIndex, text) {\r\n    if (!digitIndex) {\r\n        return -1\r\n    }\r\n    var regExp = /[0-9]/g;\r\n    var counter = 1;\r\n    var index = null;\r\n    var result = regExp.exec(text);\r\n    while (result) {\r\n        index = result.index;\r\n        if (!digitIndex || counter >= digitIndex) {\r\n            return index\r\n        }\r\n        counter++;\r\n        result = regExp.exec(text)\r\n    }\r\n    return null === index ? text.length : index\r\n};\r\nvar getCaretWithOffset = function(caret, offset) {\r\n    if (void 0 === caret.start) {\r\n        caret = {\r\n            start: caret,\r\n            end: caret\r\n        }\r\n    }\r\n    return {\r\n        start: caret.start + offset,\r\n        end: caret.end + offset\r\n    }\r\n};\r\nvar getCaretAfterFormat = function(text, formatted, caret, format) {\r\n    caret = getCaretWithOffset(caret, 0);\r\n    var point = number.getDecimalSeparator();\r\n    var isSeparatorBasedText = isSeparatorBasedString(text);\r\n    var pointPosition = isSeparatorBasedText ? 0 : text.indexOf(point);\r\n    var newPointPosition = formatted.indexOf(point);\r\n    var textParts = isSeparatorBasedText ? text.split(text[pointPosition]) : text.split(point);\r\n    var formattedParts = formatted.split(point);\r\n    var isCaretOnFloat = pointPosition !== -1 && caret.start > pointPosition;\r\n    if (isCaretOnFloat) {\r\n        var relativeIndex = caret.start - pointPosition - 1;\r\n        var digitsBefore = _getDigitCountBeforeIndex(relativeIndex, textParts[1]);\r\n        var newPosition = formattedParts[1] ? newPointPosition + 1 + _getDigitPositionByIndex(digitsBefore, formattedParts[1]) + 1 : formatted.length;\r\n        return getCaretInBoundaries(newPosition, formatted, format)\r\n    } else {\r\n        var positionFromEnd = textParts[0].length - caret.start;\r\n        var digitsFromEnd = _getDigitCountBeforeIndex(positionFromEnd, _reverseText(textParts[0]));\r\n        var newPositionFromEnd = _getDigitPositionByIndex(digitsFromEnd, _reverseText(formattedParts[0]));\r\n        var newPositionFromBegin = formattedParts[0].length - (newPositionFromEnd + 1);\r\n        return getCaretInBoundaries(newPositionFromBegin, formatted, format)\r\n    }\r\n};\r\nvar isSeparatorBasedString = function(text) {\r\n    return 1 === text.length && !!text.match(/^[,.][0-9]*$/g)\r\n};\r\nvar isCaretInBoundaries = function(caret, text, format) {\r\n    caret = getCaretWithOffset(caret, 0);\r\n    var boundaries = getCaretInBoundaries(caret, text, format);\r\n    return caret.start >= boundaries.start && caret.end <= boundaries.end\r\n};\r\nvar getCaretInBoundaries = function(caret, text, format) {\r\n    caret = getCaretWithOffset(caret, 0);\r\n    var boundaries = getCaretBoundaries(text, format);\r\n    var adjustedCaret = {\r\n        start: fitIntoRange(caret.start, boundaries.start, boundaries.end),\r\n        end: fitIntoRange(caret.end, boundaries.start, boundaries.end)\r\n    };\r\n    return adjustedCaret\r\n};\r\nvar getCaretOffset = function(previousText, newText, format) {\r\n    var previousBoundaries = getCaretBoundaries(previousText, format);\r\n    var newBoundaries = getCaretBoundaries(newText, format);\r\n    return newBoundaries.start - previousBoundaries.start\r\n};\r\nexports.getCaretBoundaries = getCaretBoundaries;\r\nexports.isCaretInBoundaries = isCaretInBoundaries;\r\nexports.getCaretWithOffset = getCaretWithOffset;\r\nexports.getCaretInBoundaries = getCaretInBoundaries;\r\nexports.getCaretAfterFormat = getCaretAfterFormat;\r\nexports.getCaretOffset = getCaretOffset;\r\n"]},"metadata":{},"sourceType":"script"}