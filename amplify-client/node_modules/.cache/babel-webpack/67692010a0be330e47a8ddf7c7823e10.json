{"ast":null,"code":"/**\r\n * DevExtreme (ui/accordion.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _events_engine = require(\"../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _fx = require(\"../animation/fx\");\n\nvar _fx2 = _interopRequireDefault(_fx);\n\nvar _click = require(\"../events/click\");\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _devices = require(\"../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _common = require(\"../core/utils/common\");\n\nvar _dom = require(\"../core/utils/dom\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _type = require(\"../core/utils/type\");\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _utils = require(\"../events/utils\");\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.live_update\");\n\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\n\nvar _deferred = require(\"../core/utils/deferred\");\n\nvar _bindable_template = require(\"../core/templates/bindable_template\");\n\nvar _icon = require(\"../core/utils/icon\");\n\nvar _themes = require(\"./themes\");\n\nvar _themes2 = _interopRequireDefault(_themes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar ACCORDION_CLASS = \"dx-accordion\";\nvar ACCORDION_WRAPPER_CLASS = \"dx-accordion-wrapper\";\nvar ACCORDION_ITEM_CLASS = \"dx-accordion-item\";\nvar ACCORDION_ITEM_OPENED_CLASS = \"dx-accordion-item-opened\";\nvar ACCORDION_ITEM_CLOSED_CLASS = \"dx-accordion-item-closed\";\nvar ACCORDION_ITEM_TITLE_CLASS = \"dx-accordion-item-title\";\nvar ACCORDION_ITEM_BODY_CLASS = \"dx-accordion-item-body\";\nvar ACCORDION_ITEM_TITLE_CAPTION_CLASS = \"dx-accordion-item-title-caption\";\nvar ACCORDION_ITEM_DATA_KEY = \"dxAccordionItemData\";\n\nvar Accordion = _uiCollection_widget2.default.inherit({\n  _activeStateUnit: \".\" + ACCORDION_ITEM_CLASS,\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      hoverStateEnabled: true,\n      height: void 0,\n      itemTitleTemplate: \"title\",\n      onItemTitleClick: null,\n      selectedIndex: 0,\n      collapsible: false,\n      multiple: false,\n      animationDuration: 300,\n      deferRendering: true,\n      selectionByClick: true,\n      activeStateEnabled: true,\n      _itemAttributes: {\n        role: \"tab\"\n      },\n      _animationEasing: \"ease\"\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device() {\n        return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function device() {\n        return _themes2.default.isMaterial();\n      },\n      options: {\n        animationDuration: 200,\n        _animationEasing: \"cubic-bezier(0.4, 0, 0.2, 1)\"\n      }\n    }]);\n  },\n  _itemElements: function _itemElements() {\n    return this._itemContainer().children(this._itemSelector());\n  },\n  _init: function _init() {\n    this.callBase();\n    this.option(\"selectionRequired\", !this.option(\"collapsible\"));\n    this.option(\"selectionMode\", this.option(\"multiple\") ? \"multiple\" : \"single\");\n    var $element = this.$element();\n    $element.addClass(ACCORDION_CLASS);\n    this._$container = (0, _renderer2.default)(\"<div>\").addClass(ACCORDION_WRAPPER_CLASS);\n    $element.append(this._$container);\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n    this._defaultTemplates.title = new _bindable_template.BindableTemplate(function ($container, data) {\n      if ((0, _type.isPlainObject)(data)) {\n        if ((0, _type.isDefined)(data.title) && !(0, _type.isPlainObject)(data.title)) {\n          $container.text(data.title);\n        }\n\n        var $iconElement = (0, _icon.getImageContainer)(data.icon);\n        $iconElement && $iconElement.appendTo($container);\n      } else {\n        if ((0, _type.isDefined)(data)) {\n          $container.text(String(data));\n        }\n      }\n\n      $container.wrapInner((0, _renderer2.default)(\"<div>\").addClass(ACCORDION_ITEM_TITLE_CAPTION_CLASS));\n    }, [\"title\", \"icon\"], this.option(\"integrationOptions.watchMethod\"));\n  },\n  _initMarkup: function _initMarkup() {\n    var _this = this;\n\n    this._deferredItems = [];\n    this.callBase();\n    this.setAria({\n      role: \"tablist\",\n      multiselectable: this.option(\"multiple\")\n    });\n    (0, _common.deferRender)(function () {\n      var selectedItemIndices = _this._getSelectedItemIndices();\n\n      _this._renderSelection(selectedItemIndices, []);\n    });\n  },\n  _render: function _render() {\n    this.callBase();\n\n    this._updateItemHeightsWrapper(true);\n  },\n  _itemDataKey: function _itemDataKey() {\n    return ACCORDION_ITEM_DATA_KEY;\n  },\n  _itemClass: function _itemClass() {\n    return ACCORDION_ITEM_CLASS;\n  },\n  _itemContainer: function _itemContainer() {\n    return this._$container;\n  },\n  _itemTitles: function _itemTitles() {\n    return this._itemElements().find(\".\" + ACCORDION_ITEM_TITLE_CLASS);\n  },\n  _itemContents: function _itemContents() {\n    return this._itemElements().find(\".\" + ACCORDION_ITEM_BODY_CLASS);\n  },\n  _getItemData: function _getItemData(target) {\n    return (0, _renderer2.default)(target).parent().data(this._itemDataKey()) || this.callBase.apply(this, arguments);\n  },\n  _executeItemRenderAction: function _executeItemRenderAction(itemData) {\n    if (itemData.type) {\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _itemSelectHandler: function _itemSelectHandler(e) {\n    if ((0, _renderer2.default)(e.target).closest(this._itemContents()).length) {\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _afterItemElementDeleted: function _afterItemElementDeleted($item, deletedActionArgs) {\n    this._deferredItems.splice(deletedActionArgs.itemIndex, 1);\n\n    this.callBase.apply(this, arguments);\n  },\n  _renderItemContent: function _renderItemContent(args) {\n    var itemTitle = this.callBase((0, _extend.extend)({}, args, {\n      contentClass: ACCORDION_ITEM_TITLE_CLASS,\n      templateProperty: \"titleTemplate\",\n      defaultTemplateName: this.option(\"itemTitleTemplate\")\n    }));\n\n    this._attachItemTitleClickAction(itemTitle);\n\n    var deferred = new _deferred.Deferred();\n\n    if ((0, _type.isDefined)(this._deferredItems[args.index])) {\n      this._deferredItems[args.index] = deferred;\n    } else {\n      this._deferredItems.push(deferred);\n    }\n\n    if (!this.option(\"deferRendering\") || this._getSelectedItemIndices().indexOf(args.index) >= 0) {\n      deferred.resolve();\n    }\n\n    deferred.done(this.callBase.bind(this, (0, _extend.extend)({}, args, {\n      contentClass: ACCORDION_ITEM_BODY_CLASS,\n      container: (0, _dom.getPublicElement)((0, _renderer2.default)(\"<div>\").appendTo((0, _renderer2.default)(itemTitle).parent()))\n    })));\n  },\n  _attachItemTitleClickAction: function _attachItemTitleClickAction(itemTitle) {\n    var eventName = _utils2.default.addNamespace(_click2.default.name, this.NAME);\n\n    _events_engine2.default.off(itemTitle, eventName);\n\n    _events_engine2.default.on(itemTitle, eventName, this._itemTitleClickHandler.bind(this));\n  },\n  _itemTitleClickHandler: function _itemTitleClickHandler(e) {\n    this._itemDXEventHandler(e, \"onItemTitleClick\");\n  },\n  _renderSelection: function _renderSelection(addedSelection, removedSelection) {\n    this._itemElements().addClass(ACCORDION_ITEM_CLOSED_CLASS);\n\n    this.setAria(\"hidden\", true, this._itemContents());\n\n    this._updateItems(addedSelection, removedSelection);\n  },\n  _updateSelection: function _updateSelection(addedSelection, removedSelection) {\n    this._updateItems(addedSelection, removedSelection);\n\n    this._updateItemHeightsWrapper(false);\n  },\n  _updateItems: function _updateItems(addedSelection, removedSelection) {\n    var $items = this._itemElements();\n\n    var that = this;\n\n    _iterator2.default.each(addedSelection, function (_, index) {\n      that._deferredItems[index].resolve();\n\n      var $item = $items.eq(index).addClass(ACCORDION_ITEM_OPENED_CLASS).removeClass(ACCORDION_ITEM_CLOSED_CLASS);\n      that.setAria(\"hidden\", false, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS));\n    });\n\n    _iterator2.default.each(removedSelection, function (_, index) {\n      var $item = $items.eq(index).removeClass(ACCORDION_ITEM_OPENED_CLASS);\n      that.setAria(\"hidden\", true, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS));\n    });\n  },\n  _updateItemHeightsWrapper: function _updateItemHeightsWrapper(skipAnimation) {\n    if (this.option(\"templatesRenderAsynchronously\")) {\n      this._animationTimer = setTimeout(function () {\n        this._updateItemHeights(skipAnimation);\n      }.bind(this));\n    } else {\n      this._updateItemHeights(skipAnimation);\n    }\n  },\n  _updateItemHeights: function _updateItemHeights(skipAnimation) {\n    var that = this;\n    var deferredAnimate = that._deferredAnimate;\n\n    var itemHeight = this._splitFreeSpace(this._calculateFreeSpace());\n\n    clearTimeout(this._animationTimer);\n    return _deferred.when.apply(_renderer2.default, [].slice.call(this._itemElements()).map(function (item) {\n      return that._updateItemHeight((0, _renderer2.default)(item), itemHeight, skipAnimation);\n    })).done(function () {\n      if (deferredAnimate) {\n        deferredAnimate.resolveWith(that);\n      }\n    });\n  },\n  _updateItemHeight: function _updateItemHeight($item, itemHeight, skipAnimation) {\n    var $title = $item.children(\".\" + ACCORDION_ITEM_TITLE_CLASS);\n\n    if (_fx2.default.isAnimating($item)) {\n      _fx2.default.stop($item);\n    }\n\n    var startItemHeight = $item.outerHeight();\n    var finalItemHeight = $item.hasClass(ACCORDION_ITEM_OPENED_CLASS) ? itemHeight + $title.outerHeight() || $item.height(\"auto\").outerHeight() : $title.outerHeight();\n    return this._animateItem($item, startItemHeight, finalItemHeight, skipAnimation, !!itemHeight);\n  },\n  _animateItem: function _animateItem($element, startHeight, endHeight, skipAnimation, fixedHeight) {\n    var d;\n\n    if (skipAnimation || startHeight === endHeight) {\n      $element.css(\"height\", endHeight);\n      d = new _deferred.Deferred().resolve();\n    } else {\n      d = _fx2.default.animate($element, {\n        type: \"custom\",\n        from: {\n          height: startHeight\n        },\n        to: {\n          height: endHeight\n        },\n        duration: this.option(\"animationDuration\"),\n        easing: this.option(\"_animationEasing\")\n      });\n    }\n\n    return d.done(function () {\n      if ($element.hasClass(ACCORDION_ITEM_OPENED_CLASS) && !fixedHeight) {\n        $element.css(\"height\", \"\");\n      }\n\n      $element.not(\".\" + ACCORDION_ITEM_OPENED_CLASS).addClass(ACCORDION_ITEM_CLOSED_CLASS);\n    });\n  },\n  _splitFreeSpace: function _splitFreeSpace(freeSpace) {\n    if (!freeSpace) {\n      return freeSpace;\n    }\n\n    return freeSpace / this.option(\"selectedItems\").length;\n  },\n  _calculateFreeSpace: function _calculateFreeSpace() {\n    var height = this.option(\"height\");\n\n    if (void 0 === height || \"auto\" === height) {\n      return;\n    }\n\n    var $titles = this._itemTitles();\n\n    var itemsHeight = 0;\n\n    _iterator2.default.each($titles, function (_, title) {\n      itemsHeight += (0, _renderer2.default)(title).outerHeight();\n    });\n\n    return this.$element().height() - itemsHeight;\n  },\n  _visibilityChanged: function _visibilityChanged(visible) {\n    if (visible) {\n      this._dimensionChanged();\n    }\n  },\n  _dimensionChanged: function _dimensionChanged() {\n    this._updateItemHeights(true);\n  },\n  _clean: function _clean() {\n    clearTimeout(this._animationTimer);\n    this.callBase();\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"animationDuration\":\n      case \"onItemTitleClick\":\n      case \"_animationEasing\":\n        break;\n\n      case \"collapsible\":\n        this.option(\"selectionRequired\", !this.option(\"collapsible\"));\n        break;\n\n      case \"itemTitleTemplate\":\n      case \"height\":\n      case \"deferRendering\":\n        this._invalidate();\n\n        break;\n\n      case \"multiple\":\n        this.option(\"selectionMode\", args.value ? \"multiple\" : \"single\");\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  expandItem: function expandItem(index) {\n    this._deferredAnimate = new _deferred.Deferred();\n    this.selectItem(index);\n    return this._deferredAnimate.promise();\n  },\n  collapseItem: function collapseItem(index) {\n    this._deferredAnimate = new _deferred.Deferred();\n    this.unselectItem(index);\n    return this._deferredAnimate.promise();\n  },\n  updateDimensions: function updateDimensions() {\n    return this._updateItemHeights(false);\n  }\n});\n\n(0, _component_registrator2.default)(\"dxAccordion\", Accordion);\nmodule.exports = Accordion;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/ui/accordion.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_events_engine","_events_engine2","_fx","_fx2","_click","_click2","_devices","_devices2","_extend","_common","_dom","_iterator","_iterator2","_type","_component_registrator","_component_registrator2","_utils","_utils2","_uiCollection_widget","_uiCollection_widget2","_deferred","_bindable_template","_icon","_themes","_themes2","obj","__esModule","ACCORDION_CLASS","ACCORDION_WRAPPER_CLASS","ACCORDION_ITEM_CLASS","ACCORDION_ITEM_OPENED_CLASS","ACCORDION_ITEM_CLOSED_CLASS","ACCORDION_ITEM_TITLE_CLASS","ACCORDION_ITEM_BODY_CLASS","ACCORDION_ITEM_TITLE_CAPTION_CLASS","ACCORDION_ITEM_DATA_KEY","Accordion","default","inherit","_activeStateUnit","_getDefaultOptions","extend","callBase","hoverStateEnabled","height","itemTitleTemplate","onItemTitleClick","selectedIndex","collapsible","multiple","animationDuration","deferRendering","selectionByClick","activeStateEnabled","_itemAttributes","role","_animationEasing","_defaultOptionsRules","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","isMaterial","_itemElements","_itemContainer","children","_itemSelector","_init","option","$element","addClass","_$container","append","_initTemplates","_defaultTemplates","title","BindableTemplate","$container","data","isPlainObject","isDefined","text","$iconElement","getImageContainer","icon","appendTo","String","wrapInner","_initMarkup","_this","_deferredItems","setAria","multiselectable","deferRender","selectedItemIndices","_getSelectedItemIndices","_renderSelection","_render","_updateItemHeightsWrapper","_itemDataKey","_itemClass","_itemTitles","find","_itemContents","_getItemData","target","parent","apply","arguments","_executeItemRenderAction","itemData","type","_itemSelectHandler","e","closest","length","_afterItemElementDeleted","$item","deletedActionArgs","splice","itemIndex","_renderItemContent","args","itemTitle","contentClass","templateProperty","defaultTemplateName","_attachItemTitleClickAction","deferred","Deferred","index","push","indexOf","resolve","done","bind","container","getPublicElement","eventName","addNamespace","name","NAME","off","on","_itemTitleClickHandler","_itemDXEventHandler","addedSelection","removedSelection","_updateItems","_updateSelection","$items","that","each","_","eq","removeClass","skipAnimation","_animationTimer","setTimeout","_updateItemHeights","deferredAnimate","_deferredAnimate","itemHeight","_splitFreeSpace","_calculateFreeSpace","clearTimeout","when","slice","call","map","item","_updateItemHeight","resolveWith","$title","isAnimating","stop","startItemHeight","outerHeight","finalItemHeight","hasClass","_animateItem","startHeight","endHeight","fixedHeight","d","css","animate","from","to","duration","easing","not","freeSpace","$titles","itemsHeight","_visibilityChanged","visible","_dimensionChanged","_clean","_optionChanged","_invalidate","value","expandItem","selectItem","promise","collapseItem","unselectItem","updateDimensions","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,SAAS,GAAGC,OAAO,CAAC,kBAAD,CAAvB;;AACA,IAAIC,UAAU,GAAGC,sBAAsB,CAACH,SAAD,CAAvC;;AACA,IAAII,cAAc,GAAGH,OAAO,CAAC,8BAAD,CAA5B;;AACA,IAAII,eAAe,GAAGF,sBAAsB,CAACC,cAAD,CAA5C;;AACA,IAAIE,GAAG,GAAGL,OAAO,CAAC,iBAAD,CAAjB;;AACA,IAAIM,IAAI,GAAGJ,sBAAsB,CAACG,GAAD,CAAjC;;AACA,IAAIE,MAAM,GAAGP,OAAO,CAAC,iBAAD,CAApB;;AACA,IAAIQ,OAAO,GAAGN,sBAAsB,CAACK,MAAD,CAApC;;AACA,IAAIE,QAAQ,GAAGT,OAAO,CAAC,iBAAD,CAAtB;;AACA,IAAIU,SAAS,GAAGR,sBAAsB,CAACO,QAAD,CAAtC;;AACA,IAAIE,OAAO,GAAGX,OAAO,CAAC,sBAAD,CAArB;;AACA,IAAIY,OAAO,GAAGZ,OAAO,CAAC,sBAAD,CAArB;;AACA,IAAIa,IAAI,GAAGb,OAAO,CAAC,mBAAD,CAAlB;;AACA,IAAIc,SAAS,GAAGd,OAAO,CAAC,wBAAD,CAAvB;;AACA,IAAIe,UAAU,GAAGb,sBAAsB,CAACY,SAAD,CAAvC;;AACA,IAAIE,KAAK,GAAGhB,OAAO,CAAC,oBAAD,CAAnB;;AACA,IAAIiB,sBAAsB,GAAGjB,OAAO,CAAC,+BAAD,CAApC;;AACA,IAAIkB,uBAAuB,GAAGhB,sBAAsB,CAACe,sBAAD,CAApD;;AACA,IAAIE,MAAM,GAAGnB,OAAO,CAAC,iBAAD,CAApB;;AACA,IAAIoB,OAAO,GAAGlB,sBAAsB,CAACiB,MAAD,CAApC;;AACA,IAAIE,oBAAoB,GAAGrB,OAAO,CAAC,+CAAD,CAAlC;;AACA,IAAIsB,qBAAqB,GAAGpB,sBAAsB,CAACmB,oBAAD,CAAlD;;AACA,IAAIE,SAAS,GAAGvB,OAAO,CAAC,wBAAD,CAAvB;;AACA,IAAIwB,kBAAkB,GAAGxB,OAAO,CAAC,qCAAD,CAAhC;;AACA,IAAIyB,KAAK,GAAGzB,OAAO,CAAC,oBAAD,CAAnB;;AACA,IAAI0B,OAAO,GAAG1B,OAAO,CAAC,UAAD,CAArB;;AACA,IAAI2B,QAAQ,GAAGzB,sBAAsB,CAACwB,OAAD,CAArC;;AAEA,SAASxB,sBAAT,CAAgC0B,GAAhC,EAAqC;AACjC,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AACD,IAAIE,eAAe,GAAG,cAAtB;AACA,IAAIC,uBAAuB,GAAG,sBAA9B;AACA,IAAIC,oBAAoB,GAAG,mBAA3B;AACA,IAAIC,2BAA2B,GAAG,0BAAlC;AACA,IAAIC,2BAA2B,GAAG,0BAAlC;AACA,IAAIC,0BAA0B,GAAG,yBAAjC;AACA,IAAIC,yBAAyB,GAAG,wBAAhC;AACA,IAAIC,kCAAkC,GAAG,iCAAzC;AACA,IAAIC,uBAAuB,GAAG,qBAA9B;;AACA,IAAIC,SAAS,GAAGjB,qBAAqB,CAACkB,OAAtB,CAA8BC,OAA9B,CAAsC;AAClDC,EAAAA,gBAAgB,EAAE,MAAMV,oBAD0B;AAElDW,EAAAA,kBAAkB,EAAE,8BAAW;AAC3B,WAAO,CAAC,GAAGhC,OAAO,CAACiC,MAAZ,EAAoB,KAAKC,QAAL,EAApB,EAAqC;AACxCC,MAAAA,iBAAiB,EAAE,IADqB;AAExCC,MAAAA,MAAM,EAAE,KAAK,CAF2B;AAGxCC,MAAAA,iBAAiB,EAAE,OAHqB;AAIxCC,MAAAA,gBAAgB,EAAE,IAJsB;AAKxCC,MAAAA,aAAa,EAAE,CALyB;AAMxCC,MAAAA,WAAW,EAAE,KAN2B;AAOxCC,MAAAA,QAAQ,EAAE,KAP8B;AAQxCC,MAAAA,iBAAiB,EAAE,GARqB;AASxCC,MAAAA,cAAc,EAAE,IATwB;AAUxCC,MAAAA,gBAAgB,EAAE,IAVsB;AAWxCC,MAAAA,kBAAkB,EAAE,IAXoB;AAYxCC,MAAAA,eAAe,EAAE;AACbC,QAAAA,IAAI,EAAE;AADO,OAZuB;AAexCC,MAAAA,gBAAgB,EAAE;AAfsB,KAArC,CAAP;AAiBH,GApBiD;AAqBlDC,EAAAA,oBAAoB,EAAE,gCAAW;AAC7B,WAAO,KAAKf,QAAL,GAAgBgB,MAAhB,CAAuB,CAAC;AAC3BC,MAAAA,MAAM,EAAE,kBAAW;AACf,eAAO,cAAcpD,SAAS,CAAC8B,OAAV,CAAkBuB,IAAlB,GAAyBC,UAAvC,IAAqD,CAACtD,SAAS,CAAC8B,OAAV,CAAkByB,WAAlB,EAA7D;AACH,OAH0B;AAI3BC,MAAAA,OAAO,EAAE;AACLC,QAAAA,iBAAiB,EAAE;AADd;AAJkB,KAAD,EAO3B;AACCL,MAAAA,MAAM,EAAE,kBAAW;AACf,eAAOnC,QAAQ,CAACa,OAAT,CAAiB4B,UAAjB,EAAP;AACH,OAHF;AAICF,MAAAA,OAAO,EAAE;AACLb,QAAAA,iBAAiB,EAAE,GADd;AAELM,QAAAA,gBAAgB,EAAE;AAFb;AAJV,KAP2B,CAAvB,CAAP;AAgBH,GAtCiD;AAuClDU,EAAAA,aAAa,EAAE,yBAAW;AACtB,WAAO,KAAKC,cAAL,GAAsBC,QAAtB,CAA+B,KAAKC,aAAL,EAA/B,CAAP;AACH,GAzCiD;AA0ClDC,EAAAA,KAAK,EAAE,iBAAW;AACd,SAAK5B,QAAL;AACA,SAAK6B,MAAL,CAAY,mBAAZ,EAAiC,CAAC,KAAKA,MAAL,CAAY,aAAZ,CAAlC;AACA,SAAKA,MAAL,CAAY,eAAZ,EAA6B,KAAKA,MAAL,CAAY,UAAZ,IAA0B,UAA1B,GAAuC,QAApE;AACA,QAAIC,QAAQ,GAAG,KAAKA,QAAL,EAAf;AACAA,IAAAA,QAAQ,CAACC,QAAT,CAAkB9C,eAAlB;AACA,SAAK+C,WAAL,GAAmB,CAAC,GAAG5E,UAAU,CAACuC,OAAf,EAAwB,OAAxB,EAAiCoC,QAAjC,CAA0C7C,uBAA1C,CAAnB;AACA4C,IAAAA,QAAQ,CAACG,MAAT,CAAgB,KAAKD,WAArB;AACH,GAlDiD;AAmDlDE,EAAAA,cAAc,EAAE,0BAAW;AACvB,SAAKlC,QAAL;AACA,SAAKmC,iBAAL,CAAuBC,KAAvB,GAA+B,IAAIzD,kBAAkB,CAAC0D,gBAAvB,CAAwC,UAASC,UAAT,EAAqBC,IAArB,EAA2B;AAC9F,UAAI,CAAC,GAAGpE,KAAK,CAACqE,aAAV,EAAyBD,IAAzB,CAAJ,EAAoC;AAChC,YAAI,CAAC,GAAGpE,KAAK,CAACsE,SAAV,EAAqBF,IAAI,CAACH,KAA1B,KAAoC,CAAC,CAAC,GAAGjE,KAAK,CAACqE,aAAV,EAAyBD,IAAI,CAACH,KAA9B,CAAzC,EAA+E;AAC3EE,UAAAA,UAAU,CAACI,IAAX,CAAgBH,IAAI,CAACH,KAArB;AACH;;AACD,YAAIO,YAAY,GAAG,CAAC,GAAG/D,KAAK,CAACgE,iBAAV,EAA6BL,IAAI,CAACM,IAAlC,CAAnB;AACAF,QAAAA,YAAY,IAAIA,YAAY,CAACG,QAAb,CAAsBR,UAAtB,CAAhB;AACH,OAND,MAMO;AACH,YAAI,CAAC,GAAGnE,KAAK,CAACsE,SAAV,EAAqBF,IAArB,CAAJ,EAAgC;AAC5BD,UAAAA,UAAU,CAACI,IAAX,CAAgBK,MAAM,CAACR,IAAD,CAAtB;AACH;AACJ;;AACDD,MAAAA,UAAU,CAACU,SAAX,CAAqB,CAAC,GAAG5F,UAAU,CAACuC,OAAf,EAAwB,OAAxB,EAAiCoC,QAAjC,CAA0CvC,kCAA1C,CAArB;AACH,KAb8B,EAa5B,CAAC,OAAD,EAAU,MAAV,CAb4B,EAaT,KAAKqC,MAAL,CAAY,gCAAZ,CAbS,CAA/B;AAcH,GAnEiD;AAoElDoB,EAAAA,WAAW,EAAE,uBAAW;AACpB,QAAIC,KAAK,GAAG,IAAZ;;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKnD,QAAL;AACA,SAAKoD,OAAL,CAAa;AACTvC,MAAAA,IAAI,EAAE,SADG;AAETwC,MAAAA,eAAe,EAAE,KAAKxB,MAAL,CAAY,UAAZ;AAFR,KAAb;AAIA,KAAC,GAAG9D,OAAO,CAACuF,WAAZ,EAAyB,YAAW;AAChC,UAAIC,mBAAmB,GAAGL,KAAK,CAACM,uBAAN,EAA1B;;AACAN,MAAAA,KAAK,CAACO,gBAAN,CAAuBF,mBAAvB,EAA4C,EAA5C;AACH,KAHD;AAIH,GAhFiD;AAiFlDG,EAAAA,OAAO,EAAE,mBAAW;AAChB,SAAK1D,QAAL;;AACA,SAAK2D,yBAAL,CAA+B,IAA/B;AACH,GApFiD;AAqFlDC,EAAAA,YAAY,EAAE,wBAAW;AACrB,WAAOnE,uBAAP;AACH,GAvFiD;AAwFlDoE,EAAAA,UAAU,EAAE,sBAAW;AACnB,WAAO1E,oBAAP;AACH,GA1FiD;AA2FlDsC,EAAAA,cAAc,EAAE,0BAAW;AACvB,WAAO,KAAKO,WAAZ;AACH,GA7FiD;AA8FlD8B,EAAAA,WAAW,EAAE,uBAAW;AACpB,WAAO,KAAKtC,aAAL,GAAqBuC,IAArB,CAA0B,MAAMzE,0BAAhC,CAAP;AACH,GAhGiD;AAiGlD0E,EAAAA,aAAa,EAAE,yBAAW;AACtB,WAAO,KAAKxC,aAAL,GAAqBuC,IAArB,CAA0B,MAAMxE,yBAAhC,CAAP;AACH,GAnGiD;AAoGlD0E,EAAAA,YAAY,EAAE,sBAASC,MAAT,EAAiB;AAC3B,WAAO,CAAC,GAAG9G,UAAU,CAACuC,OAAf,EAAwBuE,MAAxB,EAAgCC,MAAhC,GAAyC5B,IAAzC,CAA8C,KAAKqB,YAAL,EAA9C,KAAsE,KAAK5D,QAAL,CAAcoE,KAAd,CAAoB,IAApB,EAA0BC,SAA1B,CAA7E;AACH,GAtGiD;AAuGlDC,EAAAA,wBAAwB,EAAE,kCAASC,QAAT,EAAmB;AACzC,QAAIA,QAAQ,CAACC,IAAb,EAAmB;AACf;AACH;;AACD,SAAKxE,QAAL,CAAcoE,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;AACH,GA5GiD;AA6GlDI,EAAAA,kBAAkB,EAAE,4BAASC,CAAT,EAAY;AAC5B,QAAI,CAAC,GAAGtH,UAAU,CAACuC,OAAf,EAAwB+E,CAAC,CAACR,MAA1B,EAAkCS,OAAlC,CAA0C,KAAKX,aAAL,EAA1C,EAAgEY,MAApE,EAA4E;AACxE;AACH;;AACD,SAAK5E,QAAL,CAAcoE,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;AACH,GAlHiD;AAmHlDQ,EAAAA,wBAAwB,EAAE,kCAASC,KAAT,EAAgBC,iBAAhB,EAAmC;AACzD,SAAK5B,cAAL,CAAoB6B,MAApB,CAA2BD,iBAAiB,CAACE,SAA7C,EAAwD,CAAxD;;AACA,SAAKjF,QAAL,CAAcoE,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;AACH,GAtHiD;AAuHlDa,EAAAA,kBAAkB,EAAE,4BAASC,IAAT,EAAe;AAC/B,QAAIC,SAAS,GAAG,KAAKpF,QAAL,CAAc,CAAC,GAAGlC,OAAO,CAACiC,MAAZ,EAAoB,EAApB,EAAwBoF,IAAxB,EAA8B;AACxDE,MAAAA,YAAY,EAAE/F,0BAD0C;AAExDgG,MAAAA,gBAAgB,EAAE,eAFsC;AAGxDC,MAAAA,mBAAmB,EAAE,KAAK1D,MAAL,CAAY,mBAAZ;AAHmC,KAA9B,CAAd,CAAhB;;AAKA,SAAK2D,2BAAL,CAAiCJ,SAAjC;;AACA,QAAIK,QAAQ,GAAG,IAAI/G,SAAS,CAACgH,QAAd,EAAf;;AACA,QAAI,CAAC,GAAGvH,KAAK,CAACsE,SAAV,EAAqB,KAAKU,cAAL,CAAoBgC,IAAI,CAACQ,KAAzB,CAArB,CAAJ,EAA2D;AACvD,WAAKxC,cAAL,CAAoBgC,IAAI,CAACQ,KAAzB,IAAkCF,QAAlC;AACH,KAFD,MAEO;AACH,WAAKtC,cAAL,CAAoByC,IAApB,CAAyBH,QAAzB;AACH;;AACD,QAAI,CAAC,KAAK5D,MAAL,CAAY,gBAAZ,CAAD,IAAkC,KAAK2B,uBAAL,GAA+BqC,OAA/B,CAAuCV,IAAI,CAACQ,KAA5C,KAAsD,CAA5F,EAA+F;AAC3FF,MAAAA,QAAQ,CAACK,OAAT;AACH;;AACDL,IAAAA,QAAQ,CAACM,IAAT,CAAc,KAAK/F,QAAL,CAAcgG,IAAd,CAAmB,IAAnB,EAAyB,CAAC,GAAGlI,OAAO,CAACiC,MAAZ,EAAoB,EAApB,EAAwBoF,IAAxB,EAA8B;AACjEE,MAAAA,YAAY,EAAE9F,yBADmD;AAEjE0G,MAAAA,SAAS,EAAE,CAAC,GAAGjI,IAAI,CAACkI,gBAAT,EAA2B,CAAC,GAAG9I,UAAU,CAACuC,OAAf,EAAwB,OAAxB,EAAiCmD,QAAjC,CAA0C,CAAC,GAAG1F,UAAU,CAACuC,OAAf,EAAwByF,SAAxB,EAAmCjB,MAAnC,EAA1C,CAA3B;AAFsD,KAA9B,CAAzB,CAAd;AAIH,GA3IiD;AA4IlDqB,EAAAA,2BAA2B,EAAE,qCAASJ,SAAT,EAAoB;AAC7C,QAAIe,SAAS,GAAG5H,OAAO,CAACoB,OAAR,CAAgByG,YAAhB,CAA6BzI,OAAO,CAACgC,OAAR,CAAgB0G,IAA7C,EAAmD,KAAKC,IAAxD,CAAhB;;AACA/I,IAAAA,eAAe,CAACoC,OAAhB,CAAwB4G,GAAxB,CAA4BnB,SAA5B,EAAuCe,SAAvC;;AACA5I,IAAAA,eAAe,CAACoC,OAAhB,CAAwB6G,EAAxB,CAA2BpB,SAA3B,EAAsCe,SAAtC,EAAiD,KAAKM,sBAAL,CAA4BT,IAA5B,CAAiC,IAAjC,CAAjD;AACH,GAhJiD;AAiJlDS,EAAAA,sBAAsB,EAAE,gCAAS/B,CAAT,EAAY;AAChC,SAAKgC,mBAAL,CAAyBhC,CAAzB,EAA4B,kBAA5B;AACH,GAnJiD;AAoJlDjB,EAAAA,gBAAgB,EAAE,0BAASkD,cAAT,EAAyBC,gBAAzB,EAA2C;AACzD,SAAKpF,aAAL,GAAqBO,QAArB,CAA8B1C,2BAA9B;;AACA,SAAK+D,OAAL,CAAa,QAAb,EAAuB,IAAvB,EAA6B,KAAKY,aAAL,EAA7B;;AACA,SAAK6C,YAAL,CAAkBF,cAAlB,EAAkCC,gBAAlC;AACH,GAxJiD;AAyJlDE,EAAAA,gBAAgB,EAAE,0BAASH,cAAT,EAAyBC,gBAAzB,EAA2C;AACzD,SAAKC,YAAL,CAAkBF,cAAlB,EAAkCC,gBAAlC;;AACA,SAAKjD,yBAAL,CAA+B,KAA/B;AACH,GA5JiD;AA6JlDkD,EAAAA,YAAY,EAAE,sBAASF,cAAT,EAAyBC,gBAAzB,EAA2C;AACrD,QAAIG,MAAM,GAAG,KAAKvF,aAAL,EAAb;;AACA,QAAIwF,IAAI,GAAG,IAAX;;AACA9I,IAAAA,UAAU,CAACyB,OAAX,CAAmBsH,IAAnB,CAAwBN,cAAxB,EAAwC,UAASO,CAAT,EAAYvB,KAAZ,EAAmB;AACvDqB,MAAAA,IAAI,CAAC7D,cAAL,CAAoBwC,KAApB,EAA2BG,OAA3B;;AACA,UAAIhB,KAAK,GAAGiC,MAAM,CAACI,EAAP,CAAUxB,KAAV,EAAiB5D,QAAjB,CAA0B3C,2BAA1B,EAAuDgI,WAAvD,CAAmE/H,2BAAnE,CAAZ;AACA2H,MAAAA,IAAI,CAAC5D,OAAL,CAAa,QAAb,EAAuB,KAAvB,EAA8B0B,KAAK,CAACf,IAAN,CAAW,MAAMxE,yBAAjB,CAA9B;AACH,KAJD;;AAKArB,IAAAA,UAAU,CAACyB,OAAX,CAAmBsH,IAAnB,CAAwBL,gBAAxB,EAA0C,UAASM,CAAT,EAAYvB,KAAZ,EAAmB;AACzD,UAAIb,KAAK,GAAGiC,MAAM,CAACI,EAAP,CAAUxB,KAAV,EAAiByB,WAAjB,CAA6BhI,2BAA7B,CAAZ;AACA4H,MAAAA,IAAI,CAAC5D,OAAL,CAAa,QAAb,EAAuB,IAAvB,EAA6B0B,KAAK,CAACf,IAAN,CAAW,MAAMxE,yBAAjB,CAA7B;AACH,KAHD;AAIH,GAzKiD;AA0KlDoE,EAAAA,yBAAyB,EAAE,mCAAS0D,aAAT,EAAwB;AAC/C,QAAI,KAAKxF,MAAL,CAAY,+BAAZ,CAAJ,EAAkD;AAC9C,WAAKyF,eAAL,GAAuBC,UAAU,CAAC,YAAW;AACzC,aAAKC,kBAAL,CAAwBH,aAAxB;AACH,OAFiC,CAEhCrB,IAFgC,CAE3B,IAF2B,CAAD,CAAjC;AAGH,KAJD,MAIO;AACH,WAAKwB,kBAAL,CAAwBH,aAAxB;AACH;AACJ,GAlLiD;AAmLlDG,EAAAA,kBAAkB,EAAE,4BAASH,aAAT,EAAwB;AACxC,QAAIL,IAAI,GAAG,IAAX;AACA,QAAIS,eAAe,GAAGT,IAAI,CAACU,gBAA3B;;AACA,QAAIC,UAAU,GAAG,KAAKC,eAAL,CAAqB,KAAKC,mBAAL,EAArB,CAAjB;;AACAC,IAAAA,YAAY,CAAC,KAAKR,eAAN,CAAZ;AACA,WAAO5I,SAAS,CAACqJ,IAAV,CAAe3D,KAAf,CAAqBhH,UAAU,CAACuC,OAAhC,EAAyC,GAAGqI,KAAH,CAASC,IAAT,CAAc,KAAKzG,aAAL,EAAd,EAAoC0G,GAApC,CAAwC,UAASC,IAAT,EAAe;AACnG,aAAOnB,IAAI,CAACoB,iBAAL,CAAuB,CAAC,GAAGhL,UAAU,CAACuC,OAAf,EAAwBwI,IAAxB,CAAvB,EAAsDR,UAAtD,EAAkEN,aAAlE,CAAP;AACH,KAF+C,CAAzC,EAEHtB,IAFG,CAEE,YAAW;AAChB,UAAI0B,eAAJ,EAAqB;AACjBA,QAAAA,eAAe,CAACY,WAAhB,CAA4BrB,IAA5B;AACH;AACJ,KANM,CAAP;AAOH,GA/LiD;AAgMlDoB,EAAAA,iBAAiB,EAAE,2BAAStD,KAAT,EAAgB6C,UAAhB,EAA4BN,aAA5B,EAA2C;AAC1D,QAAIiB,MAAM,GAAGxD,KAAK,CAACpD,QAAN,CAAe,MAAMpC,0BAArB,CAAb;;AACA,QAAI7B,IAAI,CAACkC,OAAL,CAAa4I,WAAb,CAAyBzD,KAAzB,CAAJ,EAAqC;AACjCrH,MAAAA,IAAI,CAACkC,OAAL,CAAa6I,IAAb,CAAkB1D,KAAlB;AACH;;AACD,QAAI2D,eAAe,GAAG3D,KAAK,CAAC4D,WAAN,EAAtB;AACA,QAAIC,eAAe,GAAG7D,KAAK,CAAC8D,QAAN,CAAexJ,2BAAf,IAA8CuI,UAAU,GAAGW,MAAM,CAACI,WAAP,EAAb,IAAqC5D,KAAK,CAAC5E,MAAN,CAAa,MAAb,EAAqBwI,WAArB,EAAnF,GAAwHJ,MAAM,CAACI,WAAP,EAA9I;AACA,WAAO,KAAKG,YAAL,CAAkB/D,KAAlB,EAAyB2D,eAAzB,EAA0CE,eAA1C,EAA2DtB,aAA3D,EAA0E,CAAC,CAACM,UAA5E,CAAP;AACH,GAxMiD;AAyMlDkB,EAAAA,YAAY,EAAE,sBAAS/G,QAAT,EAAmBgH,WAAnB,EAAgCC,SAAhC,EAA2C1B,aAA3C,EAA0D2B,WAA1D,EAAuE;AACjF,QAAIC,CAAJ;;AACA,QAAI5B,aAAa,IAAIyB,WAAW,KAAKC,SAArC,EAAgD;AAC5CjH,MAAAA,QAAQ,CAACoH,GAAT,CAAa,QAAb,EAAuBH,SAAvB;AACAE,MAAAA,CAAC,GAAI,IAAIvK,SAAS,CAACgH,QAAd,EAAD,CAAyBI,OAAzB,EAAJ;AACH,KAHD,MAGO;AACHmD,MAAAA,CAAC,GAAGxL,IAAI,CAACkC,OAAL,CAAawJ,OAAb,CAAqBrH,QAArB,EAA+B;AAC/B0C,QAAAA,IAAI,EAAE,QADyB;AAE/B4E,QAAAA,IAAI,EAAE;AACFlJ,UAAAA,MAAM,EAAE4I;AADN,SAFyB;AAK/BO,QAAAA,EAAE,EAAE;AACAnJ,UAAAA,MAAM,EAAE6I;AADR,SAL2B;AAQ/BO,QAAAA,QAAQ,EAAE,KAAKzH,MAAL,CAAY,mBAAZ,CARqB;AAS/B0H,QAAAA,MAAM,EAAE,KAAK1H,MAAL,CAAY,kBAAZ;AATuB,OAA/B,CAAJ;AAWH;;AACD,WAAOoH,CAAC,CAAClD,IAAF,CAAO,YAAW;AACrB,UAAIjE,QAAQ,CAAC8G,QAAT,CAAkBxJ,2BAAlB,KAAkD,CAAC4J,WAAvD,EAAoE;AAChElH,QAAAA,QAAQ,CAACoH,GAAT,CAAa,QAAb,EAAuB,EAAvB;AACH;;AACDpH,MAAAA,QAAQ,CAAC0H,GAAT,CAAa,MAAMpK,2BAAnB,EAAgD2C,QAAhD,CAAyD1C,2BAAzD;AACH,KALM,CAAP;AAMH,GAjOiD;AAkOlDuI,EAAAA,eAAe,EAAE,yBAAS6B,SAAT,EAAoB;AACjC,QAAI,CAACA,SAAL,EAAgB;AACZ,aAAOA,SAAP;AACH;;AACD,WAAOA,SAAS,GAAG,KAAK5H,MAAL,CAAY,eAAZ,EAA6B+C,MAAhD;AACH,GAvOiD;AAwOlDiD,EAAAA,mBAAmB,EAAE,+BAAW;AAC5B,QAAI3H,MAAM,GAAG,KAAK2B,MAAL,CAAY,QAAZ,CAAb;;AACA,QAAI,KAAK,CAAL,KAAW3B,MAAX,IAAqB,WAAWA,MAApC,EAA4C;AACxC;AACH;;AACD,QAAIwJ,OAAO,GAAG,KAAK5F,WAAL,EAAd;;AACA,QAAI6F,WAAW,GAAG,CAAlB;;AACAzL,IAAAA,UAAU,CAACyB,OAAX,CAAmBsH,IAAnB,CAAwByC,OAAxB,EAAiC,UAASxC,CAAT,EAAY9E,KAAZ,EAAmB;AAChDuH,MAAAA,WAAW,IAAI,CAAC,GAAGvM,UAAU,CAACuC,OAAf,EAAwByC,KAAxB,EAA+BsG,WAA/B,EAAf;AACH,KAFD;;AAGA,WAAO,KAAK5G,QAAL,GAAgB5B,MAAhB,KAA2ByJ,WAAlC;AACH,GAnPiD;AAoPlDC,EAAAA,kBAAkB,EAAE,4BAASC,OAAT,EAAkB;AAClC,QAAIA,OAAJ,EAAa;AACT,WAAKC,iBAAL;AACH;AACJ,GAxPiD;AAyPlDA,EAAAA,iBAAiB,EAAE,6BAAW;AAC1B,SAAKtC,kBAAL,CAAwB,IAAxB;AACH,GA3PiD;AA4PlDuC,EAAAA,MAAM,EAAE,kBAAW;AACfjC,IAAAA,YAAY,CAAC,KAAKR,eAAN,CAAZ;AACA,SAAKtH,QAAL;AACH,GA/PiD;AAgQlDgK,EAAAA,cAAc,EAAE,wBAAS7E,IAAT,EAAe;AAC3B,YAAQA,IAAI,CAACkB,IAAb;AACI,WAAK,mBAAL;AACA,WAAK,kBAAL;AACA,WAAK,kBAAL;AACI;;AACJ,WAAK,aAAL;AACI,aAAKxE,MAAL,CAAY,mBAAZ,EAAiC,CAAC,KAAKA,MAAL,CAAY,aAAZ,CAAlC;AACA;;AACJ,WAAK,mBAAL;AACA,WAAK,QAAL;AACA,WAAK,gBAAL;AACI,aAAKoI,WAAL;;AACA;;AACJ,WAAK,UAAL;AACI,aAAKpI,MAAL,CAAY,eAAZ,EAA6BsD,IAAI,CAAC+E,KAAL,GAAa,UAAb,GAA0B,QAAvD;AACA;;AACJ;AACI,aAAKlK,QAAL,CAAcmF,IAAd;AAjBR;AAmBH,GApRiD;AAqRlDgF,EAAAA,UAAU,EAAE,oBAASxE,KAAT,EAAgB;AACxB,SAAK+B,gBAAL,GAAwB,IAAIhJ,SAAS,CAACgH,QAAd,EAAxB;AACA,SAAK0E,UAAL,CAAgBzE,KAAhB;AACA,WAAO,KAAK+B,gBAAL,CAAsB2C,OAAtB,EAAP;AACH,GAzRiD;AA0RlDC,EAAAA,YAAY,EAAE,sBAAS3E,KAAT,EAAgB;AAC1B,SAAK+B,gBAAL,GAAwB,IAAIhJ,SAAS,CAACgH,QAAd,EAAxB;AACA,SAAK6E,YAAL,CAAkB5E,KAAlB;AACA,WAAO,KAAK+B,gBAAL,CAAsB2C,OAAtB,EAAP;AACH,GA9RiD;AA+RlDG,EAAAA,gBAAgB,EAAE,4BAAW;AACzB,WAAO,KAAKhD,kBAAL,CAAwB,KAAxB,CAAP;AACH;AAjSiD,CAAtC,CAAhB;;AAmSA,CAAC,GAAGnJ,uBAAuB,CAACsB,OAA5B,EAAqC,aAArC,EAAoDD,SAApD;AACA+K,MAAM,CAACC,OAAP,GAAiBhL,SAAjB;AACA+K,MAAM,CAACC,OAAP,CAAe/K,OAAf,GAAyB8K,MAAM,CAACC,OAAhC","sourcesContent":["/**\r\n * DevExtreme (ui/accordion.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _events_engine = require(\"../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _fx = require(\"../animation/fx\");\r\nvar _fx2 = _interopRequireDefault(_fx);\r\nvar _click = require(\"../events/click\");\r\nvar _click2 = _interopRequireDefault(_click);\r\nvar _devices = require(\"../core/devices\");\r\nvar _devices2 = _interopRequireDefault(_devices);\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _common = require(\"../core/utils/common\");\r\nvar _dom = require(\"../core/utils/dom\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _iterator2 = _interopRequireDefault(_iterator);\r\nvar _type = require(\"../core/utils/type\");\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _utils = require(\"../events/utils\");\r\nvar _utils2 = _interopRequireDefault(_utils);\r\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.live_update\");\r\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\r\nvar _deferred = require(\"../core/utils/deferred\");\r\nvar _bindable_template = require(\"../core/templates/bindable_template\");\r\nvar _icon = require(\"../core/utils/icon\");\r\nvar _themes = require(\"./themes\");\r\nvar _themes2 = _interopRequireDefault(_themes);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ACCORDION_CLASS = \"dx-accordion\";\r\nvar ACCORDION_WRAPPER_CLASS = \"dx-accordion-wrapper\";\r\nvar ACCORDION_ITEM_CLASS = \"dx-accordion-item\";\r\nvar ACCORDION_ITEM_OPENED_CLASS = \"dx-accordion-item-opened\";\r\nvar ACCORDION_ITEM_CLOSED_CLASS = \"dx-accordion-item-closed\";\r\nvar ACCORDION_ITEM_TITLE_CLASS = \"dx-accordion-item-title\";\r\nvar ACCORDION_ITEM_BODY_CLASS = \"dx-accordion-item-body\";\r\nvar ACCORDION_ITEM_TITLE_CAPTION_CLASS = \"dx-accordion-item-title-caption\";\r\nvar ACCORDION_ITEM_DATA_KEY = \"dxAccordionItemData\";\r\nvar Accordion = _uiCollection_widget2.default.inherit({\r\n    _activeStateUnit: \".\" + ACCORDION_ITEM_CLASS,\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            height: void 0,\r\n            itemTitleTemplate: \"title\",\r\n            onItemTitleClick: null,\r\n            selectedIndex: 0,\r\n            collapsible: false,\r\n            multiple: false,\r\n            animationDuration: 300,\r\n            deferRendering: true,\r\n            selectionByClick: true,\r\n            activeStateEnabled: true,\r\n            _itemAttributes: {\r\n                role: \"tab\"\r\n            },\r\n            _animationEasing: \"ease\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return _themes2.default.isMaterial()\r\n            },\r\n            options: {\r\n                animationDuration: 200,\r\n                _animationEasing: \"cubic-bezier(0.4, 0, 0.2, 1)\"\r\n            }\r\n        }])\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.option(\"selectionRequired\", !this.option(\"collapsible\"));\r\n        this.option(\"selectionMode\", this.option(\"multiple\") ? \"multiple\" : \"single\");\r\n        var $element = this.$element();\r\n        $element.addClass(ACCORDION_CLASS);\r\n        this._$container = (0, _renderer2.default)(\"<div>\").addClass(ACCORDION_WRAPPER_CLASS);\r\n        $element.append(this._$container)\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._defaultTemplates.title = new _bindable_template.BindableTemplate(function($container, data) {\r\n            if ((0, _type.isPlainObject)(data)) {\r\n                if ((0, _type.isDefined)(data.title) && !(0, _type.isPlainObject)(data.title)) {\r\n                    $container.text(data.title)\r\n                }\r\n                var $iconElement = (0, _icon.getImageContainer)(data.icon);\r\n                $iconElement && $iconElement.appendTo($container)\r\n            } else {\r\n                if ((0, _type.isDefined)(data)) {\r\n                    $container.text(String(data))\r\n                }\r\n            }\r\n            $container.wrapInner((0, _renderer2.default)(\"<div>\").addClass(ACCORDION_ITEM_TITLE_CAPTION_CLASS))\r\n        }, [\"title\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\r\n    },\r\n    _initMarkup: function() {\r\n        var _this = this;\r\n        this._deferredItems = [];\r\n        this.callBase();\r\n        this.setAria({\r\n            role: \"tablist\",\r\n            multiselectable: this.option(\"multiple\")\r\n        });\r\n        (0, _common.deferRender)(function() {\r\n            var selectedItemIndices = _this._getSelectedItemIndices();\r\n            _this._renderSelection(selectedItemIndices, [])\r\n        })\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._updateItemHeightsWrapper(true)\r\n    },\r\n    _itemDataKey: function() {\r\n        return ACCORDION_ITEM_DATA_KEY\r\n    },\r\n    _itemClass: function() {\r\n        return ACCORDION_ITEM_CLASS\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$container\r\n    },\r\n    _itemTitles: function() {\r\n        return this._itemElements().find(\".\" + ACCORDION_ITEM_TITLE_CLASS)\r\n    },\r\n    _itemContents: function() {\r\n        return this._itemElements().find(\".\" + ACCORDION_ITEM_BODY_CLASS)\r\n    },\r\n    _getItemData: function(target) {\r\n        return (0, _renderer2.default)(target).parent().data(this._itemDataKey()) || this.callBase.apply(this, arguments)\r\n    },\r\n    _executeItemRenderAction: function(itemData) {\r\n        if (itemData.type) {\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _itemSelectHandler: function(e) {\r\n        if ((0, _renderer2.default)(e.target).closest(this._itemContents()).length) {\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _afterItemElementDeleted: function($item, deletedActionArgs) {\r\n        this._deferredItems.splice(deletedActionArgs.itemIndex, 1);\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _renderItemContent: function(args) {\r\n        var itemTitle = this.callBase((0, _extend.extend)({}, args, {\r\n            contentClass: ACCORDION_ITEM_TITLE_CLASS,\r\n            templateProperty: \"titleTemplate\",\r\n            defaultTemplateName: this.option(\"itemTitleTemplate\")\r\n        }));\r\n        this._attachItemTitleClickAction(itemTitle);\r\n        var deferred = new _deferred.Deferred;\r\n        if ((0, _type.isDefined)(this._deferredItems[args.index])) {\r\n            this._deferredItems[args.index] = deferred\r\n        } else {\r\n            this._deferredItems.push(deferred)\r\n        }\r\n        if (!this.option(\"deferRendering\") || this._getSelectedItemIndices().indexOf(args.index) >= 0) {\r\n            deferred.resolve()\r\n        }\r\n        deferred.done(this.callBase.bind(this, (0, _extend.extend)({}, args, {\r\n            contentClass: ACCORDION_ITEM_BODY_CLASS,\r\n            container: (0, _dom.getPublicElement)((0, _renderer2.default)(\"<div>\").appendTo((0, _renderer2.default)(itemTitle).parent()))\r\n        })))\r\n    },\r\n    _attachItemTitleClickAction: function(itemTitle) {\r\n        var eventName = _utils2.default.addNamespace(_click2.default.name, this.NAME);\r\n        _events_engine2.default.off(itemTitle, eventName);\r\n        _events_engine2.default.on(itemTitle, eventName, this._itemTitleClickHandler.bind(this))\r\n    },\r\n    _itemTitleClickHandler: function(e) {\r\n        this._itemDXEventHandler(e, \"onItemTitleClick\")\r\n    },\r\n    _renderSelection: function(addedSelection, removedSelection) {\r\n        this._itemElements().addClass(ACCORDION_ITEM_CLOSED_CLASS);\r\n        this.setAria(\"hidden\", true, this._itemContents());\r\n        this._updateItems(addedSelection, removedSelection)\r\n    },\r\n    _updateSelection: function(addedSelection, removedSelection) {\r\n        this._updateItems(addedSelection, removedSelection);\r\n        this._updateItemHeightsWrapper(false)\r\n    },\r\n    _updateItems: function(addedSelection, removedSelection) {\r\n        var $items = this._itemElements();\r\n        var that = this;\r\n        _iterator2.default.each(addedSelection, function(_, index) {\r\n            that._deferredItems[index].resolve();\r\n            var $item = $items.eq(index).addClass(ACCORDION_ITEM_OPENED_CLASS).removeClass(ACCORDION_ITEM_CLOSED_CLASS);\r\n            that.setAria(\"hidden\", false, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS))\r\n        });\r\n        _iterator2.default.each(removedSelection, function(_, index) {\r\n            var $item = $items.eq(index).removeClass(ACCORDION_ITEM_OPENED_CLASS);\r\n            that.setAria(\"hidden\", true, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS))\r\n        })\r\n    },\r\n    _updateItemHeightsWrapper: function(skipAnimation) {\r\n        if (this.option(\"templatesRenderAsynchronously\")) {\r\n            this._animationTimer = setTimeout(function() {\r\n                this._updateItemHeights(skipAnimation)\r\n            }.bind(this))\r\n        } else {\r\n            this._updateItemHeights(skipAnimation)\r\n        }\r\n    },\r\n    _updateItemHeights: function(skipAnimation) {\r\n        var that = this;\r\n        var deferredAnimate = that._deferredAnimate;\r\n        var itemHeight = this._splitFreeSpace(this._calculateFreeSpace());\r\n        clearTimeout(this._animationTimer);\r\n        return _deferred.when.apply(_renderer2.default, [].slice.call(this._itemElements()).map(function(item) {\r\n            return that._updateItemHeight((0, _renderer2.default)(item), itemHeight, skipAnimation)\r\n        })).done(function() {\r\n            if (deferredAnimate) {\r\n                deferredAnimate.resolveWith(that)\r\n            }\r\n        })\r\n    },\r\n    _updateItemHeight: function($item, itemHeight, skipAnimation) {\r\n        var $title = $item.children(\".\" + ACCORDION_ITEM_TITLE_CLASS);\r\n        if (_fx2.default.isAnimating($item)) {\r\n            _fx2.default.stop($item)\r\n        }\r\n        var startItemHeight = $item.outerHeight();\r\n        var finalItemHeight = $item.hasClass(ACCORDION_ITEM_OPENED_CLASS) ? itemHeight + $title.outerHeight() || $item.height(\"auto\").outerHeight() : $title.outerHeight();\r\n        return this._animateItem($item, startItemHeight, finalItemHeight, skipAnimation, !!itemHeight)\r\n    },\r\n    _animateItem: function($element, startHeight, endHeight, skipAnimation, fixedHeight) {\r\n        var d;\r\n        if (skipAnimation || startHeight === endHeight) {\r\n            $element.css(\"height\", endHeight);\r\n            d = (new _deferred.Deferred).resolve()\r\n        } else {\r\n            d = _fx2.default.animate($element, {\r\n                type: \"custom\",\r\n                from: {\r\n                    height: startHeight\r\n                },\r\n                to: {\r\n                    height: endHeight\r\n                },\r\n                duration: this.option(\"animationDuration\"),\r\n                easing: this.option(\"_animationEasing\")\r\n            })\r\n        }\r\n        return d.done(function() {\r\n            if ($element.hasClass(ACCORDION_ITEM_OPENED_CLASS) && !fixedHeight) {\r\n                $element.css(\"height\", \"\")\r\n            }\r\n            $element.not(\".\" + ACCORDION_ITEM_OPENED_CLASS).addClass(ACCORDION_ITEM_CLOSED_CLASS)\r\n        })\r\n    },\r\n    _splitFreeSpace: function(freeSpace) {\r\n        if (!freeSpace) {\r\n            return freeSpace\r\n        }\r\n        return freeSpace / this.option(\"selectedItems\").length\r\n    },\r\n    _calculateFreeSpace: function() {\r\n        var height = this.option(\"height\");\r\n        if (void 0 === height || \"auto\" === height) {\r\n            return\r\n        }\r\n        var $titles = this._itemTitles();\r\n        var itemsHeight = 0;\r\n        _iterator2.default.each($titles, function(_, title) {\r\n            itemsHeight += (0, _renderer2.default)(title).outerHeight()\r\n        });\r\n        return this.$element().height() - itemsHeight\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._updateItemHeights(true)\r\n    },\r\n    _clean: function() {\r\n        clearTimeout(this._animationTimer);\r\n        this.callBase()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"animationDuration\":\r\n            case \"onItemTitleClick\":\r\n            case \"_animationEasing\":\r\n                break;\r\n            case \"collapsible\":\r\n                this.option(\"selectionRequired\", !this.option(\"collapsible\"));\r\n                break;\r\n            case \"itemTitleTemplate\":\r\n            case \"height\":\r\n            case \"deferRendering\":\r\n                this._invalidate();\r\n                break;\r\n            case \"multiple\":\r\n                this.option(\"selectionMode\", args.value ? \"multiple\" : \"single\");\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    expandItem: function(index) {\r\n        this._deferredAnimate = new _deferred.Deferred;\r\n        this.selectItem(index);\r\n        return this._deferredAnimate.promise()\r\n    },\r\n    collapseItem: function(index) {\r\n        this._deferredAnimate = new _deferred.Deferred;\r\n        this.unselectItem(index);\r\n        return this._deferredAnimate.promise()\r\n    },\r\n    updateDimensions: function() {\r\n        return this._updateItemHeights(false)\r\n    }\r\n});\r\n(0, _component_registrator2.default)(\"dxAccordion\", Accordion);\r\nmodule.exports = Accordion;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}