{"ast":null,"code":"/**\r\n * DevExtreme (viz/funnel/tracker.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar proto = require(\"./funnel\").prototype;\n\nvar Tracker = require(\"../components/tracker\").Tracker;\n\nvar DATA_KEY_BASE = \"__funnel_data_\";\n\nvar isDefined = require(\"../../core/utils/type\").isDefined;\n\nvar dataKeyModifier = 0;\nproto._eventsMap.onItemClick = {\n  name: \"itemClick\"\n};\nproto._eventsMap.onLegendClick = {\n  name: \"legendClick\"\n};\nexports.plugin = {\n  name: \"tracker\",\n  init: function init() {\n    var that = this;\n    var dataKey = DATA_KEY_BASE + dataKeyModifier++;\n\n    var getProxyData = function getProxyData(e) {\n      var rootOffset = that._renderer.getRootOffset();\n\n      var x = Math.floor(e.pageX - rootOffset.left);\n      var y = Math.floor(e.pageY - rootOffset.top);\n      return that._hitTestTargets(x, y);\n    };\n\n    that._tracker = new Tracker({\n      widget: that,\n      root: that._renderer.root,\n      getData: function getData(e, tooltipData) {\n        var target = e.target;\n        var data = target[dataKey];\n        var proxyData;\n\n        if (isDefined(data)) {\n          return data;\n        }\n\n        proxyData = getProxyData(e);\n\n        if (tooltipData && proxyData && \"inside-label\" !== proxyData.type) {\n          return;\n        }\n\n        return proxyData && proxyData.id;\n      },\n      getNode: function getNode(index) {\n        return that._items[index];\n      },\n      click: function click(e) {\n        var proxyData = getProxyData(e.event);\n        var dataType = proxyData && proxyData.type;\n        var event = \"legend\" === dataType ? \"legendClick\" : \"itemClick\";\n\n        that._eventTrigger(event, {\n          item: e.node,\n          event: e.event\n        });\n      }\n    });\n    this._dataKey = dataKey;\n  },\n  dispose: function dispose() {\n    this._tracker.dispose();\n  },\n  extenders: {\n    _change_TILING: function _change_TILING() {\n      var dataKey = this._dataKey;\n\n      this._items.forEach(function (item, index) {\n        item.element.data(dataKey, index);\n      });\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/viz/funnel/tracker.js"],"names":["proto","require","prototype","Tracker","DATA_KEY_BASE","isDefined","dataKeyModifier","_eventsMap","onItemClick","name","onLegendClick","exports","plugin","init","that","dataKey","getProxyData","e","rootOffset","_renderer","getRootOffset","x","Math","floor","pageX","left","y","pageY","top","_hitTestTargets","_tracker","widget","root","getData","tooltipData","target","data","proxyData","type","id","getNode","index","_items","click","event","dataType","_eventTrigger","item","node","_dataKey","dispose","extenders","_change_TILING","forEach","element"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/funnel/tracker.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar proto = require(\"./funnel\").prototype;\r\nvar Tracker = require(\"../components/tracker\").Tracker;\r\nvar DATA_KEY_BASE = \"__funnel_data_\";\r\nvar isDefined = require(\"../../core/utils/type\").isDefined;\r\nvar dataKeyModifier = 0;\r\nproto._eventsMap.onItemClick = {\r\n    name: \"itemClick\"\r\n};\r\nproto._eventsMap.onLegendClick = {\r\n    name: \"legendClick\"\r\n};\r\nexports.plugin = {\r\n    name: \"tracker\",\r\n    init: function() {\r\n        var that = this;\r\n        var dataKey = DATA_KEY_BASE + dataKeyModifier++;\r\n        var getProxyData = function(e) {\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            var x = Math.floor(e.pageX - rootOffset.left);\r\n            var y = Math.floor(e.pageY - rootOffset.top);\r\n            return that._hitTestTargets(x, y)\r\n        };\r\n        that._tracker = new Tracker({\r\n            widget: that,\r\n            root: that._renderer.root,\r\n            getData: function(e, tooltipData) {\r\n                var target = e.target;\r\n                var data = target[dataKey];\r\n                var proxyData;\r\n                if (isDefined(data)) {\r\n                    return data\r\n                }\r\n                proxyData = getProxyData(e);\r\n                if (tooltipData && proxyData && \"inside-label\" !== proxyData.type) {\r\n                    return\r\n                }\r\n                return proxyData && proxyData.id\r\n            },\r\n            getNode: function(index) {\r\n                return that._items[index]\r\n            },\r\n            click: function(e) {\r\n                var proxyData = getProxyData(e.event);\r\n                var dataType = proxyData && proxyData.type;\r\n                var event = \"legend\" === dataType ? \"legendClick\" : \"itemClick\";\r\n                that._eventTrigger(event, {\r\n                    item: e.node,\r\n                    event: e.event\r\n                })\r\n            }\r\n        });\r\n        this._dataKey = dataKey\r\n    },\r\n    dispose: function() {\r\n        this._tracker.dispose()\r\n    },\r\n    extenders: {\r\n        _change_TILING: function() {\r\n            var dataKey = this._dataKey;\r\n            this._items.forEach(function(item, index) {\r\n                item.element.data(dataKey, index)\r\n            })\r\n        }\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"script"}