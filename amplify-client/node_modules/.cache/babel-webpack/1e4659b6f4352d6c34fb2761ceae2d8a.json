{"ast":null,"code":"/**\r\n * DevExtreme (ui/pivot_grid/ui.pivot_grid.fields_area.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _uiPivot_grid = require(\"./ui.pivot_grid.area_item\");\n\nvar _uiPivot_grid2 = require(\"./ui.pivot_grid.utils\");\n\nvar _popup = require(\"../popup\");\n\nvar _popup2 = _interopRequireDefault(_popup);\n\nvar _button = require(\"../button\");\n\nvar _button2 = _interopRequireDefault(_button);\n\nrequire(\"./ui.pivot_grid.field_chooser_base\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar DIV = \"<div>\";\nvar AREA_DRAG_CLASS = \"dx-pivotgrid-drag-action\";\n\nfunction renderGroupConnector(field, nextField, prevField, $container) {\n  if (prevField && prevField.groupName && prevField.groupName === field.groupName) {\n    (0, _renderer2.default)(DIV).addClass(\"dx-group-connector\").addClass(\"dx-group-connector-prev\").appendTo($container);\n  }\n\n  if (nextField && nextField.groupName && nextField.groupName === field.groupName) {\n    (0, _renderer2.default)(DIV).addClass(\"dx-group-connector\").addClass(\"dx-group-connector-next\").appendTo($container);\n  }\n}\n\nexports.FieldsArea = _uiPivot_grid.AreaItem.inherit({\n  ctor: function ctor(component, area) {\n    this.callBase(component);\n    this._area = area;\n  },\n  _getAreaName: function _getAreaName() {\n    return \"fields\";\n  },\n  _createGroupElement: function _createGroupElement() {\n    return (0, _renderer2.default)(DIV).addClass(\"dx-pivotgrid-fields-area\").addClass(\"dx-area-fields\").addClass(AREA_DRAG_CLASS).attr(\"group\", this._area);\n  },\n  isVisible: function isVisible() {\n    return !!this.option(\"fieldPanel.visible\") && this.option(\"fieldPanel.show\" + (0, _uiPivot_grid2.capitalizeFirstLetter)(this._area) + \"Fields\");\n  },\n  _renderButton: function _renderButton(element) {\n    var that = this;\n    var container = (0, _renderer2.default)(\"<td>\").appendTo((0, _renderer2.default)(\"<tr>\").appendTo(element));\n\n    var button = that.component._createComponent((0, _renderer2.default)(DIV).appendTo(container), _button2.default, {\n      text: \"Fields\",\n      icon: \"menu\",\n      width: \"auto\",\n      onClick: function onClick() {\n        var popup = that.tableElement().find(\".dx-fields-area-popup\").dxPopup(\"instance\");\n\n        if (!popup.option(\"visible\")) {\n          popup.show();\n        }\n      }\n    });\n\n    button.$element().addClass(\"dx-pivotgrid-fields-area-hamburger\");\n  },\n  _getPopupOptions: function _getPopupOptions(row, button) {\n    return {\n      contentTemplate: function contentTemplate() {\n        return (0, _renderer2.default)(\"<table>\").addClass(\"dx-area-field-container\").append((0, _renderer2.default)(\"<thead>\").addClass(\"dx-pivotgrid-fields-area-head\").append(row));\n      },\n      height: \"auto\",\n      width: \"auto\",\n      position: {\n        at: \"left\",\n        my: \"left\",\n        of: button\n      },\n      dragEnabled: false,\n      animation: {\n        show: {\n          type: \"pop\",\n          duration: 200\n        }\n      },\n      shading: false,\n      showTitle: false,\n      closeOnOutsideClick: true,\n      container: button.parent()\n    };\n  },\n  _renderPopup: function _renderPopup(tableElement, row) {\n    var that = this;\n    var button = tableElement.find(\".dx-button\");\n\n    var popupOptions = that._getPopupOptions(row, button);\n\n    var FieldChooserBase = that.component.$element().dxPivotGridFieldChooserBase(\"instance\");\n\n    if (that._rowPopup) {\n      that._rowPopup.$element().remove();\n    }\n\n    that._rowPopup = that.component._createComponent((0, _renderer2.default)(DIV).appendTo(tableElement), _popup2.default, popupOptions);\n\n    that._rowPopup.$element().addClass(\"dx-fields-area-popup\");\n\n    that._rowPopup.content().addClass(\"dx-pivotgrid-fields-container\");\n\n    that._rowPopup.content().parent().attr(\"group\", \"row\");\n\n    FieldChooserBase.subscribeToEvents(that._rowPopup.content());\n    FieldChooserBase.renderSortable(that._rowPopup.content());\n  },\n  _shouldCreateButton: function _shouldCreateButton() {\n    return false;\n  },\n  _renderTableContent: function _renderTableContent(tableElement, data) {\n    var that = this;\n    var groupElement = this.groupElement();\n    var isVisible = this.isVisible();\n    var fieldChooserBase = that.component.$element().dxPivotGridFieldChooserBase(\"instance\");\n    var head = (0, _renderer2.default)(\"<thead>\").addClass(\"dx-pivotgrid-fields-area-head\").appendTo(tableElement);\n    var area = that._area;\n    var row = (0, _renderer2.default)(\"<tr>\");\n    groupElement.toggleClass(\"dx-hidden\", !isVisible);\n    tableElement.addClass(\"dx-area-field-container\");\n\n    if (!isVisible) {\n      return;\n    }\n\n    (0, _iterator.each)(data, function (index, field) {\n      if (field.area === area && false !== field.visible) {\n        var td = (0, _renderer2.default)(\"<td>\").append(fieldChooserBase.renderField(field, \"row\" === field.area));\n        var indicators = td.find(\".dx-column-indicators\");\n\n        if (indicators.length && that._shouldCreateButton()) {\n          indicators.insertAfter(indicators.next());\n        }\n\n        td.appendTo(row);\n        renderGroupConnector(field, data[index + 1], data[index - 1], td);\n      }\n    });\n\n    if (!row.children().length) {\n      (0, _renderer2.default)(\"<td>\").append((0, _renderer2.default)(DIV).addClass(\"dx-empty-area-text\").text(this.option(\"fieldPanel.texts.\" + area + \"FieldArea\"))).appendTo(row);\n    }\n\n    if (that._shouldCreateButton()) {\n      that._renderButton(head);\n\n      that._renderPopup(tableElement, row);\n    } else {\n      head.append(row);\n    }\n  },\n  reset: function reset() {\n    this.callBase();\n    this.groupElement().css(\"marginTop\", 0);\n  },\n  _renderVirtualContent: _common.noop\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/ui/pivot_grid/ui.pivot_grid.fields_area.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_common","_iterator","_uiPivot_grid","_uiPivot_grid2","_popup","_popup2","_button","_button2","obj","__esModule","DIV","AREA_DRAG_CLASS","renderGroupConnector","field","nextField","prevField","$container","groupName","default","addClass","appendTo","exports","FieldsArea","AreaItem","inherit","ctor","component","area","callBase","_area","_getAreaName","_createGroupElement","attr","isVisible","option","capitalizeFirstLetter","_renderButton","element","that","container","button","_createComponent","text","icon","width","onClick","popup","tableElement","find","dxPopup","show","$element","_getPopupOptions","row","contentTemplate","append","height","position","at","my","of","dragEnabled","animation","type","duration","shading","showTitle","closeOnOutsideClick","parent","_renderPopup","popupOptions","FieldChooserBase","dxPivotGridFieldChooserBase","_rowPopup","remove","content","subscribeToEvents","renderSortable","_shouldCreateButton","_renderTableContent","data","groupElement","fieldChooserBase","head","toggleClass","each","index","visible","td","renderField","indicators","length","insertAfter","next","children","reset","css","_renderVirtualContent","noop"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/pivot_grid/ui.pivot_grid.fields_area.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _uiPivot_grid = require(\"./ui.pivot_grid.area_item\");\r\nvar _uiPivot_grid2 = require(\"./ui.pivot_grid.utils\");\r\nvar _popup = require(\"../popup\");\r\nvar _popup2 = _interopRequireDefault(_popup);\r\nvar _button = require(\"../button\");\r\nvar _button2 = _interopRequireDefault(_button);\r\nrequire(\"./ui.pivot_grid.field_chooser_base\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DIV = \"<div>\";\r\nvar AREA_DRAG_CLASS = \"dx-pivotgrid-drag-action\";\r\n\r\nfunction renderGroupConnector(field, nextField, prevField, $container) {\r\n    if (prevField && prevField.groupName && prevField.groupName === field.groupName) {\r\n        (0, _renderer2.default)(DIV).addClass(\"dx-group-connector\").addClass(\"dx-group-connector-prev\").appendTo($container)\r\n    }\r\n    if (nextField && nextField.groupName && nextField.groupName === field.groupName) {\r\n        (0, _renderer2.default)(DIV).addClass(\"dx-group-connector\").addClass(\"dx-group-connector-next\").appendTo($container)\r\n    }\r\n}\r\nexports.FieldsArea = _uiPivot_grid.AreaItem.inherit({\r\n    ctor: function(component, area) {\r\n        this.callBase(component);\r\n        this._area = area\r\n    },\r\n    _getAreaName: function() {\r\n        return \"fields\"\r\n    },\r\n    _createGroupElement: function() {\r\n        return (0, _renderer2.default)(DIV).addClass(\"dx-pivotgrid-fields-area\").addClass(\"dx-area-fields\").addClass(AREA_DRAG_CLASS).attr(\"group\", this._area)\r\n    },\r\n    isVisible: function() {\r\n        return !!this.option(\"fieldPanel.visible\") && this.option(\"fieldPanel.show\" + (0, _uiPivot_grid2.capitalizeFirstLetter)(this._area) + \"Fields\")\r\n    },\r\n    _renderButton: function(element) {\r\n        var that = this;\r\n        var container = (0, _renderer2.default)(\"<td>\").appendTo((0, _renderer2.default)(\"<tr>\").appendTo(element));\r\n        var button = that.component._createComponent((0, _renderer2.default)(DIV).appendTo(container), _button2.default, {\r\n            text: \"Fields\",\r\n            icon: \"menu\",\r\n            width: \"auto\",\r\n            onClick: function() {\r\n                var popup = that.tableElement().find(\".dx-fields-area-popup\").dxPopup(\"instance\");\r\n                if (!popup.option(\"visible\")) {\r\n                    popup.show()\r\n                }\r\n            }\r\n        });\r\n        button.$element().addClass(\"dx-pivotgrid-fields-area-hamburger\")\r\n    },\r\n    _getPopupOptions: function(row, button) {\r\n        return {\r\n            contentTemplate: function() {\r\n                return (0, _renderer2.default)(\"<table>\").addClass(\"dx-area-field-container\").append((0, _renderer2.default)(\"<thead>\").addClass(\"dx-pivotgrid-fields-area-head\").append(row))\r\n            },\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            position: {\r\n                at: \"left\",\r\n                my: \"left\",\r\n                of: button\r\n            },\r\n            dragEnabled: false,\r\n            animation: {\r\n                show: {\r\n                    type: \"pop\",\r\n                    duration: 200\r\n                }\r\n            },\r\n            shading: false,\r\n            showTitle: false,\r\n            closeOnOutsideClick: true,\r\n            container: button.parent()\r\n        }\r\n    },\r\n    _renderPopup: function(tableElement, row) {\r\n        var that = this;\r\n        var button = tableElement.find(\".dx-button\");\r\n        var popupOptions = that._getPopupOptions(row, button);\r\n        var FieldChooserBase = that.component.$element().dxPivotGridFieldChooserBase(\"instance\");\r\n        if (that._rowPopup) {\r\n            that._rowPopup.$element().remove()\r\n        }\r\n        that._rowPopup = that.component._createComponent((0, _renderer2.default)(DIV).appendTo(tableElement), _popup2.default, popupOptions);\r\n        that._rowPopup.$element().addClass(\"dx-fields-area-popup\");\r\n        that._rowPopup.content().addClass(\"dx-pivotgrid-fields-container\");\r\n        that._rowPopup.content().parent().attr(\"group\", \"row\");\r\n        FieldChooserBase.subscribeToEvents(that._rowPopup.content());\r\n        FieldChooserBase.renderSortable(that._rowPopup.content())\r\n    },\r\n    _shouldCreateButton: function() {\r\n        return false\r\n    },\r\n    _renderTableContent: function(tableElement, data) {\r\n        var that = this;\r\n        var groupElement = this.groupElement();\r\n        var isVisible = this.isVisible();\r\n        var fieldChooserBase = that.component.$element().dxPivotGridFieldChooserBase(\"instance\");\r\n        var head = (0, _renderer2.default)(\"<thead>\").addClass(\"dx-pivotgrid-fields-area-head\").appendTo(tableElement);\r\n        var area = that._area;\r\n        var row = (0, _renderer2.default)(\"<tr>\");\r\n        groupElement.toggleClass(\"dx-hidden\", !isVisible);\r\n        tableElement.addClass(\"dx-area-field-container\");\r\n        if (!isVisible) {\r\n            return\r\n        }(0, _iterator.each)(data, function(index, field) {\r\n            if (field.area === area && false !== field.visible) {\r\n                var td = (0, _renderer2.default)(\"<td>\").append(fieldChooserBase.renderField(field, \"row\" === field.area));\r\n                var indicators = td.find(\".dx-column-indicators\");\r\n                if (indicators.length && that._shouldCreateButton()) {\r\n                    indicators.insertAfter(indicators.next())\r\n                }\r\n                td.appendTo(row);\r\n                renderGroupConnector(field, data[index + 1], data[index - 1], td)\r\n            }\r\n        });\r\n        if (!row.children().length) {\r\n            (0, _renderer2.default)(\"<td>\").append((0, _renderer2.default)(DIV).addClass(\"dx-empty-area-text\").text(this.option(\"fieldPanel.texts.\" + area + \"FieldArea\"))).appendTo(row)\r\n        }\r\n        if (that._shouldCreateButton()) {\r\n            that._renderButton(head);\r\n            that._renderPopup(tableElement, row)\r\n        } else {\r\n            head.append(row)\r\n        }\r\n    },\r\n    reset: function() {\r\n        this.callBase();\r\n        this.groupElement().css(\"marginTop\", 0)\r\n    },\r\n    _renderVirtualContent: _common.noop\r\n});\r\n"]},"metadata":{},"sourceType":"script"}