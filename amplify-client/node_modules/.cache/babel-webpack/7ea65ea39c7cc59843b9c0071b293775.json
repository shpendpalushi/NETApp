{"ast":null,"code":"/**\r\n * DevExtreme (viz/gauges/base_indicators.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar _isFinite = isFinite;\nvar _Number = Number;\nvar _round = Math.round;\n\nvar baseGaugeModule = require(\"./base_gauge\");\n\nvar _formatValue = baseGaugeModule.formatValue;\nvar _getSampleText = baseGaugeModule.getSampleText;\n\nvar _patchFontOptions = require(\"../core/utils\").patchFontOptions;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar Class = require(\"../../core/class\");\n\nvar BaseElement = Class.inherit({\n  ctor: function ctor(parameters) {\n    var that = this;\n    each(parameters, function (name, value) {\n      that[\"_\" + name] = value;\n    });\n\n    that._init();\n  },\n  dispose: function dispose() {\n    var that = this;\n\n    that._dispose();\n\n    each(that, function (name) {\n      that[name] = null;\n    });\n    return that;\n  },\n  getOffset: function getOffset() {\n    return _Number(this._options.offset) || 0;\n  }\n});\nvar BaseIndicator = BaseElement.inherit({\n  _init: function _init() {\n    var that = this;\n    that._rootElement = that._createRoot().linkOn(that._owner, {\n      name: \"value-indicator\",\n      after: \"core\"\n    });\n    that._trackerElement = that._createTracker();\n  },\n  _dispose: function _dispose() {\n    this._rootElement.linkOff();\n  },\n  _setupAnimation: function _setupAnimation() {\n    var that = this;\n\n    if (that._options.animation) {\n      that._animation = {\n        step: function step(pos) {\n          that._actualValue = that._animation.start + that._animation.delta * pos;\n          that._actualPosition = that._translator.translate(that._actualValue);\n\n          that._move();\n        },\n        duration: that._options.animation.duration > 0 ? _Number(that._options.animation.duration) : 0,\n        easing: that._options.animation.easing\n      };\n    }\n  },\n  _runAnimation: function _runAnimation(value) {\n    var that = this;\n    var animation = that._animation;\n    animation.start = that._actualValue;\n    animation.delta = value - that._actualValue;\n\n    that._rootElement.animate({\n      _: 0\n    }, {\n      step: animation.step,\n      duration: animation.duration,\n      easing: animation.easing\n    });\n  },\n  _createRoot: function _createRoot() {\n    return this._renderer.g().attr({\n      \"class\": this._className\n    });\n  },\n  _createTracker: function _createTracker() {\n    return this._renderer.path([], \"area\");\n  },\n  _getTrackerSettings: noop,\n  clean: function clean() {\n    var that = this;\n    that._animation && that._rootElement.stopAnimation();\n\n    that._rootElement.linkRemove().clear();\n\n    that._clear();\n\n    that._tracker.detach(that._trackerElement);\n\n    that._options = that.enabled = that._animation = null;\n    return that;\n  },\n  render: function render(options) {\n    var that = this;\n    that.type = options.type;\n    that._options = options;\n    that._actualValue = that._currentValue = that._translator.adjust(that._options.currentValue);\n    that.enabled = that._isEnabled();\n\n    if (that.enabled) {\n      that._setupAnimation();\n\n      that._rootElement.attr({\n        fill: that._options.color\n      }).linkAppend();\n\n      that._tracker.attach(that._trackerElement, that, that._trackerInfo);\n    }\n\n    return that;\n  },\n  resize: function resize(layout) {\n    var that = this;\n\n    that._rootElement.clear();\n\n    that._clear();\n\n    that.visible = that._isVisible(layout);\n\n    if (that.visible) {\n      extend(that._options, layout);\n      that._actualPosition = that._translator.translate(that._actualValue);\n\n      that._render();\n\n      that._trackerElement.attr(that._getTrackerSettings());\n\n      that._move();\n    }\n\n    return that;\n  },\n  value: function value(arg, _noAnimation) {\n    var that = this;\n    var val;\n    var rootElement = this._rootElement;\n    var visibility = null;\n\n    if (void 0 === arg) {\n      return that._currentValue;\n    }\n\n    if (null === arg) {\n      visibility = \"hidden\";\n      that._currentValue = arg;\n    } else {\n      val = that._translator.adjust(arg);\n\n      if (that._currentValue !== val && _isFinite(val)) {\n        that._currentValue = val;\n\n        if (that.visible) {\n          if (that._animation && !_noAnimation) {\n            that._runAnimation(val);\n          } else {\n            that._actualValue = val;\n            that._actualPosition = that._translator.translate(val);\n\n            that._move();\n          }\n        }\n      }\n    }\n\n    rootElement.attr({\n      visibility: visibility\n    });\n    return that;\n  },\n  _isEnabled: null,\n  _isVisible: null,\n  _render: null,\n  _clear: null,\n  _move: null\n});\nvar COEFFICIENTS_MAP = {};\nCOEFFICIENTS_MAP[\"right-bottom\"] = COEFFICIENTS_MAP.rb = [0, -1, -1, 0, 0, 1, 1, 0];\nCOEFFICIENTS_MAP[\"bottom-right\"] = COEFFICIENTS_MAP.br = [-1, 0, 0, -1, 1, 0, 0, 1];\nCOEFFICIENTS_MAP[\"left-bottom\"] = COEFFICIENTS_MAP.lb = [0, -1, 1, 0, 0, 1, -1, 0];\nCOEFFICIENTS_MAP[\"bottom-left\"] = COEFFICIENTS_MAP.bl = [1, 0, 0, -1, -1, 0, 0, 1];\nCOEFFICIENTS_MAP[\"left-top\"] = COEFFICIENTS_MAP.lt = [0, 1, 1, 0, 0, -1, -1, 0];\nCOEFFICIENTS_MAP[\"top-left\"] = COEFFICIENTS_MAP.tl = [1, 0, 0, 1, -1, 0, 0, -1];\nCOEFFICIENTS_MAP[\"right-top\"] = COEFFICIENTS_MAP.rt = [0, 1, -1, 0, 0, -1, 1, 0];\nCOEFFICIENTS_MAP[\"top-right\"] = COEFFICIENTS_MAP.tr = [-1, 0, 0, 1, 1, 0, 0, -1];\n\nfunction getTextCloudInfo(options) {\n  var x = options.x;\n  var y = options.y;\n  var type = COEFFICIENTS_MAP[options.type];\n  var cloudWidth = options.textWidth + 2 * options.horMargin;\n  var cloudHeight = options.textHeight + 2 * options.verMargin;\n  var tailWidth;\n  var tailHeight;\n  var cx = x;\n  var cy = y;\n  tailWidth = tailHeight = options.tailLength;\n\n  if (1 & type[0]) {\n    tailHeight = Math.min(tailHeight, cloudHeight / 3);\n  } else {\n    tailWidth = Math.min(tailWidth, cloudWidth / 3);\n  }\n\n  return {\n    cx: _round(cx + type[0] * tailWidth + (type[0] + type[2]) * cloudWidth / 2),\n    cy: _round(cy + type[1] * tailHeight + (type[1] + type[3]) * cloudHeight / 2),\n    points: [_round(x), _round(y), _round(x += type[0] * (cloudWidth + tailWidth)), _round(y += type[1] * (cloudHeight + tailHeight)), _round(x += type[2] * cloudWidth), _round(y += type[3] * cloudHeight), _round(x += type[4] * cloudWidth), _round(y += type[5] * cloudHeight), _round(x += type[6] * (cloudWidth - tailWidth)), _round(y += type[7] * (cloudHeight - tailHeight))]\n  };\n}\n\nvar BaseTextCloudMarker = BaseIndicator.inherit({\n  _move: function _move() {\n    var that = this;\n    var bBox;\n    var info;\n\n    var textCloudOptions = that._getTextCloudOptions();\n\n    var text = _formatValue(that._actualValue, that._options.text);\n\n    that._text.attr({\n      text: text\n    });\n\n    bBox = that._text.getBBox();\n    info = getTextCloudInfo({\n      x: textCloudOptions.x,\n      y: textCloudOptions.y,\n      textWidth: bBox.width || text.length * that._textUnitWidth,\n      textHeight: bBox.height || that._textHeight,\n      horMargin: that._options.horizontalOffset,\n      verMargin: that._options.verticalOffset,\n      tailLength: that._options.arrowLength,\n      type: textCloudOptions.type\n    });\n\n    that._text.attr({\n      x: info.cx,\n      y: info.cy + that._textVerticalOffset\n    });\n\n    that._cloud.attr({\n      points: info.points\n    });\n\n    that._trackerElement && that._trackerElement.attr({\n      points: info.points\n    });\n  },\n  _measureText: function _measureText() {\n    var that = this;\n    var root;\n    var text;\n    var bBox;\n    var sampleText;\n\n    if (!that._textVerticalOffset) {\n      root = that._createRoot().append(that._owner);\n      sampleText = _getSampleText(that._translator, that._options.text);\n      text = that._renderer.text(sampleText, 0, 0).attr({\n        align: \"center\"\n      }).css(_patchFontOptions(that._options.text.font)).append(root);\n      bBox = text.getBBox();\n      root.remove();\n      that._textVerticalOffset = -bBox.y - bBox.height / 2;\n      that._textWidth = bBox.width;\n      that._textHeight = bBox.height;\n      that._textUnitWidth = that._textWidth / sampleText.length;\n      that._textFullWidth = that._textWidth + 2 * that._options.horizontalOffset;\n      that._textFullHeight = that._textHeight + 2 * that._options.verticalOffset;\n    }\n  },\n  _render: function _render() {\n    var that = this;\n\n    that._measureText();\n\n    that._cloud = that._cloud || that._renderer.path([], \"area\").append(that._rootElement);\n    that._text = that._text || that._renderer.text().append(that._rootElement);\n\n    that._text.attr({\n      align: \"center\"\n    }).css(_patchFontOptions(that._options.text.font));\n  },\n  _clear: function _clear() {\n    delete this._cloud;\n    delete this._text;\n  },\n  getTooltipParameters: function getTooltipParameters() {\n    var position = this._getTextCloudOptions();\n\n    return {\n      x: position.x,\n      y: position.y,\n      value: this._currentValue,\n      color: this._options.color\n    };\n  }\n});\nvar BaseRangeBar = BaseIndicator.inherit({\n  _measureText: function _measureText() {\n    var that = this;\n    var root;\n    var text;\n    var bBox;\n    that._hasText = that._isTextVisible();\n\n    if (that._hasText && !that._textVerticalOffset) {\n      root = that._createRoot().append(that._owner);\n      text = that._renderer.text(_getSampleText(that._translator, that._options.text), 0, 0).attr({\n        \"class\": \"dxg-text\",\n        align: \"center\"\n      }).css(_patchFontOptions(that._options.text.font)).append(root);\n      bBox = text.getBBox();\n      root.remove();\n      that._textVerticalOffset = -bBox.y - bBox.height / 2;\n      that._textWidth = bBox.width;\n      that._textHeight = bBox.height;\n    }\n  },\n  _move: function _move() {\n    var that = this;\n\n    that._updateBarItemsPositions();\n\n    if (that._hasText) {\n      that._text.attr({\n        text: _formatValue(that._actualValue, that._options.text)\n      });\n\n      that._updateTextPosition();\n\n      that._updateLinePosition();\n    }\n  },\n  _updateBarItems: function _updateBarItems() {\n    var that = this;\n    var options = that._options;\n    var backgroundColor;\n    var spaceColor;\n    var translator = that._translator;\n\n    that._setBarSides();\n\n    that._startPosition = translator.translate(translator.getDomainStart());\n    that._endPosition = translator.translate(translator.getDomainEnd());\n    that._basePosition = translator.translate(options.baseValue);\n    that._space = that._getSpace();\n    backgroundColor = options.backgroundColor || \"none\";\n\n    if (\"none\" !== backgroundColor && that._space > 0) {\n      spaceColor = options.containerBackgroundColor || \"none\";\n    } else {\n      that._space = 0;\n      spaceColor = \"none\";\n    }\n\n    that._backItem1.attr({\n      fill: backgroundColor\n    });\n\n    that._backItem2.attr({\n      fill: backgroundColor\n    });\n\n    that._spaceItem1.attr({\n      fill: spaceColor\n    });\n\n    that._spaceItem2.attr({\n      fill: spaceColor\n    });\n  },\n  _getSpace: function _getSpace() {\n    return 0;\n  },\n  _updateTextItems: function _updateTextItems() {\n    var that = this;\n\n    if (that._hasText) {\n      that._line = that._line || that._renderer.path([], \"line\").attr({\n        \"class\": \"dxg-main-bar\",\n        \"stroke-linecap\": \"square\"\n      }).append(that._rootElement);\n      that._text = that._text || that._renderer.text(\"\", 0, 0).attr({\n        \"class\": \"dxg-text\"\n      }).append(that._rootElement);\n\n      that._text.attr({\n        align: that._getTextAlign()\n      }).css(that._getFontOptions());\n\n      that._setTextItemsSides();\n    } else {\n      if (that._line) {\n        that._line.remove();\n\n        delete that._line;\n      }\n\n      if (that._text) {\n        that._text.remove();\n\n        delete that._text;\n      }\n    }\n  },\n  _isTextVisible: function _isTextVisible() {\n    return false;\n  },\n  _getTextAlign: function _getTextAlign() {\n    return \"center\";\n  },\n  _getFontOptions: function _getFontOptions() {\n    var options = this._options;\n    var font = options.text.font;\n\n    if (!font || !font.color) {\n      font = extend({}, font, {\n        color: options.color\n      });\n    }\n\n    return _patchFontOptions(font);\n  },\n  _updateBarItemsPositions: function _updateBarItemsPositions() {\n    var that = this;\n\n    var positions = that._getPositions();\n\n    that._backItem1.attr(that._buildItemSettings(positions.start, positions.back1));\n\n    that._backItem2.attr(that._buildItemSettings(positions.back2, positions.end));\n\n    that._spaceItem1.attr(that._buildItemSettings(positions.back1, positions.main1));\n\n    that._spaceItem2.attr(that._buildItemSettings(positions.main2, positions.back2));\n\n    that._mainItem.attr(that._buildItemSettings(positions.main1, positions.main2));\n\n    that._trackerElement && that._trackerElement.attr(that._buildItemSettings(positions.main1, positions.main2));\n  },\n  _render: function _render() {\n    var that = this;\n\n    that._measureText();\n\n    if (!that._backItem1) {\n      that._backItem1 = that._createBarItem();\n\n      that._backItem1.attr({\n        \"class\": \"dxg-back-bar\"\n      });\n    }\n\n    if (!that._backItem2) {\n      that._backItem2 = that._createBarItem();\n\n      that._backItem2.attr({\n        \"class\": \"dxg-back-bar\"\n      });\n    }\n\n    if (!that._spaceItem1) {\n      that._spaceItem1 = that._createBarItem();\n\n      that._spaceItem1.attr({\n        \"class\": \"dxg-space-bar\"\n      });\n    }\n\n    if (!that._spaceItem2) {\n      that._spaceItem2 = that._createBarItem();\n\n      that._spaceItem2.attr({\n        \"class\": \"dxg-space-bar\"\n      });\n    }\n\n    if (!that._mainItem) {\n      that._mainItem = that._createBarItem();\n\n      that._mainItem.attr({\n        \"class\": \"dxg-main-bar\"\n      });\n    }\n\n    that._updateBarItems();\n\n    that._updateTextItems();\n  },\n  _clear: function _clear() {\n    var that = this;\n    delete that._backItem1;\n    delete that._backItem2;\n    delete that._spaceItem1;\n    delete that._spaceItem2;\n    delete that._mainItem;\n    delete that._hasText;\n    delete that._line;\n    delete that._text;\n  },\n  getTooltipParameters: function getTooltipParameters() {\n    var position = this._getTooltipPosition();\n\n    return {\n      x: position.x,\n      y: position.y,\n      value: this._currentValue,\n      color: this._options.color,\n      offset: 0\n    };\n  }\n});\nexports.BaseElement = BaseElement;\nexports.BaseIndicator = BaseIndicator;\nexports.BaseTextCloudMarker = BaseTextCloudMarker;\nexports.BaseRangeBar = BaseRangeBar;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/gauges/base_indicators.js"],"names":["noop","require","each","_isFinite","isFinite","_Number","Number","_round","Math","round","baseGaugeModule","_formatValue","formatValue","_getSampleText","getSampleText","_patchFontOptions","patchFontOptions","extend","Class","BaseElement","inherit","ctor","parameters","that","name","value","_init","dispose","_dispose","getOffset","_options","offset","BaseIndicator","_rootElement","_createRoot","linkOn","_owner","after","_trackerElement","_createTracker","linkOff","_setupAnimation","animation","_animation","step","pos","_actualValue","start","delta","_actualPosition","_translator","translate","_move","duration","easing","_runAnimation","animate","_","_renderer","g","attr","_className","path","_getTrackerSettings","clean","stopAnimation","linkRemove","clear","_clear","_tracker","detach","enabled","render","options","type","_currentValue","adjust","currentValue","_isEnabled","fill","color","linkAppend","attach","_trackerInfo","resize","layout","visible","_isVisible","_render","arg","_noAnimation","val","rootElement","visibility","COEFFICIENTS_MAP","rb","br","lb","bl","lt","tl","rt","tr","getTextCloudInfo","x","y","cloudWidth","textWidth","horMargin","cloudHeight","textHeight","verMargin","tailWidth","tailHeight","cx","cy","tailLength","min","points","BaseTextCloudMarker","bBox","info","textCloudOptions","_getTextCloudOptions","text","_text","getBBox","width","length","_textUnitWidth","height","_textHeight","horizontalOffset","verticalOffset","arrowLength","_textVerticalOffset","_cloud","_measureText","root","sampleText","append","align","css","font","remove","_textWidth","_textFullWidth","_textFullHeight","getTooltipParameters","position","BaseRangeBar","_hasText","_isTextVisible","_updateBarItemsPositions","_updateTextPosition","_updateLinePosition","_updateBarItems","backgroundColor","spaceColor","translator","_setBarSides","_startPosition","getDomainStart","_endPosition","getDomainEnd","_basePosition","baseValue","_space","_getSpace","containerBackgroundColor","_backItem1","_backItem2","_spaceItem1","_spaceItem2","_updateTextItems","_line","_getTextAlign","_getFontOptions","_setTextItemsSides","positions","_getPositions","_buildItemSettings","back1","back2","end","main1","main2","_mainItem","_createBarItem","_getTooltipPosition","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/gauges/base_indicators.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar _isFinite = isFinite;\r\nvar _Number = Number;\r\nvar _round = Math.round;\r\nvar baseGaugeModule = require(\"./base_gauge\");\r\nvar _formatValue = baseGaugeModule.formatValue;\r\nvar _getSampleText = baseGaugeModule.getSampleText;\r\nvar _patchFontOptions = require(\"../core/utils\").patchFontOptions;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar Class = require(\"../../core/class\");\r\nvar BaseElement = Class.inherit({\r\n    ctor: function(parameters) {\r\n        var that = this;\r\n        each(parameters, function(name, value) {\r\n            that[\"_\" + name] = value\r\n        });\r\n        that._init()\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        that._dispose();\r\n        each(that, function(name) {\r\n            that[name] = null\r\n        });\r\n        return that\r\n    },\r\n    getOffset: function() {\r\n        return _Number(this._options.offset) || 0\r\n    }\r\n});\r\nvar BaseIndicator = BaseElement.inherit({\r\n    _init: function() {\r\n        var that = this;\r\n        that._rootElement = that._createRoot().linkOn(that._owner, {\r\n            name: \"value-indicator\",\r\n            after: \"core\"\r\n        });\r\n        that._trackerElement = that._createTracker()\r\n    },\r\n    _dispose: function() {\r\n        this._rootElement.linkOff()\r\n    },\r\n    _setupAnimation: function() {\r\n        var that = this;\r\n        if (that._options.animation) {\r\n            that._animation = {\r\n                step: function(pos) {\r\n                    that._actualValue = that._animation.start + that._animation.delta * pos;\r\n                    that._actualPosition = that._translator.translate(that._actualValue);\r\n                    that._move()\r\n                },\r\n                duration: that._options.animation.duration > 0 ? _Number(that._options.animation.duration) : 0,\r\n                easing: that._options.animation.easing\r\n            }\r\n        }\r\n    },\r\n    _runAnimation: function(value) {\r\n        var that = this;\r\n        var animation = that._animation;\r\n        animation.start = that._actualValue;\r\n        animation.delta = value - that._actualValue;\r\n        that._rootElement.animate({\r\n            _: 0\r\n        }, {\r\n            step: animation.step,\r\n            duration: animation.duration,\r\n            easing: animation.easing\r\n        })\r\n    },\r\n    _createRoot: function() {\r\n        return this._renderer.g().attr({\r\n            \"class\": this._className\r\n        })\r\n    },\r\n    _createTracker: function() {\r\n        return this._renderer.path([], \"area\")\r\n    },\r\n    _getTrackerSettings: noop,\r\n    clean: function() {\r\n        var that = this;\r\n        that._animation && that._rootElement.stopAnimation();\r\n        that._rootElement.linkRemove().clear();\r\n        that._clear();\r\n        that._tracker.detach(that._trackerElement);\r\n        that._options = that.enabled = that._animation = null;\r\n        return that\r\n    },\r\n    render: function(options) {\r\n        var that = this;\r\n        that.type = options.type;\r\n        that._options = options;\r\n        that._actualValue = that._currentValue = that._translator.adjust(that._options.currentValue);\r\n        that.enabled = that._isEnabled();\r\n        if (that.enabled) {\r\n            that._setupAnimation();\r\n            that._rootElement.attr({\r\n                fill: that._options.color\r\n            }).linkAppend();\r\n            that._tracker.attach(that._trackerElement, that, that._trackerInfo)\r\n        }\r\n        return that\r\n    },\r\n    resize: function(layout) {\r\n        var that = this;\r\n        that._rootElement.clear();\r\n        that._clear();\r\n        that.visible = that._isVisible(layout);\r\n        if (that.visible) {\r\n            extend(that._options, layout);\r\n            that._actualPosition = that._translator.translate(that._actualValue);\r\n            that._render();\r\n            that._trackerElement.attr(that._getTrackerSettings());\r\n            that._move()\r\n        }\r\n        return that\r\n    },\r\n    value: function(arg, _noAnimation) {\r\n        var that = this;\r\n        var val;\r\n        var rootElement = this._rootElement;\r\n        var visibility = null;\r\n        if (void 0 === arg) {\r\n            return that._currentValue\r\n        }\r\n        if (null === arg) {\r\n            visibility = \"hidden\";\r\n            that._currentValue = arg\r\n        } else {\r\n            val = that._translator.adjust(arg);\r\n            if (that._currentValue !== val && _isFinite(val)) {\r\n                that._currentValue = val;\r\n                if (that.visible) {\r\n                    if (that._animation && !_noAnimation) {\r\n                        that._runAnimation(val)\r\n                    } else {\r\n                        that._actualValue = val;\r\n                        that._actualPosition = that._translator.translate(val);\r\n                        that._move()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        rootElement.attr({\r\n            visibility: visibility\r\n        });\r\n        return that\r\n    },\r\n    _isEnabled: null,\r\n    _isVisible: null,\r\n    _render: null,\r\n    _clear: null,\r\n    _move: null\r\n});\r\nvar COEFFICIENTS_MAP = {};\r\nCOEFFICIENTS_MAP[\"right-bottom\"] = COEFFICIENTS_MAP.rb = [0, -1, -1, 0, 0, 1, 1, 0];\r\nCOEFFICIENTS_MAP[\"bottom-right\"] = COEFFICIENTS_MAP.br = [-1, 0, 0, -1, 1, 0, 0, 1];\r\nCOEFFICIENTS_MAP[\"left-bottom\"] = COEFFICIENTS_MAP.lb = [0, -1, 1, 0, 0, 1, -1, 0];\r\nCOEFFICIENTS_MAP[\"bottom-left\"] = COEFFICIENTS_MAP.bl = [1, 0, 0, -1, -1, 0, 0, 1];\r\nCOEFFICIENTS_MAP[\"left-top\"] = COEFFICIENTS_MAP.lt = [0, 1, 1, 0, 0, -1, -1, 0];\r\nCOEFFICIENTS_MAP[\"top-left\"] = COEFFICIENTS_MAP.tl = [1, 0, 0, 1, -1, 0, 0, -1];\r\nCOEFFICIENTS_MAP[\"right-top\"] = COEFFICIENTS_MAP.rt = [0, 1, -1, 0, 0, -1, 1, 0];\r\nCOEFFICIENTS_MAP[\"top-right\"] = COEFFICIENTS_MAP.tr = [-1, 0, 0, 1, 1, 0, 0, -1];\r\n\r\nfunction getTextCloudInfo(options) {\r\n    var x = options.x;\r\n    var y = options.y;\r\n    var type = COEFFICIENTS_MAP[options.type];\r\n    var cloudWidth = options.textWidth + 2 * options.horMargin;\r\n    var cloudHeight = options.textHeight + 2 * options.verMargin;\r\n    var tailWidth;\r\n    var tailHeight;\r\n    var cx = x;\r\n    var cy = y;\r\n    tailWidth = tailHeight = options.tailLength;\r\n    if (1 & type[0]) {\r\n        tailHeight = Math.min(tailHeight, cloudHeight / 3)\r\n    } else {\r\n        tailWidth = Math.min(tailWidth, cloudWidth / 3)\r\n    }\r\n    return {\r\n        cx: _round(cx + type[0] * tailWidth + (type[0] + type[2]) * cloudWidth / 2),\r\n        cy: _round(cy + type[1] * tailHeight + (type[1] + type[3]) * cloudHeight / 2),\r\n        points: [_round(x), _round(y), _round(x += type[0] * (cloudWidth + tailWidth)), _round(y += type[1] * (cloudHeight + tailHeight)), _round(x += type[2] * cloudWidth), _round(y += type[3] * cloudHeight), _round(x += type[4] * cloudWidth), _round(y += type[5] * cloudHeight), _round(x += type[6] * (cloudWidth - tailWidth)), _round(y += type[7] * (cloudHeight - tailHeight))]\r\n    }\r\n}\r\nvar BaseTextCloudMarker = BaseIndicator.inherit({\r\n    _move: function() {\r\n        var that = this;\r\n        var bBox;\r\n        var info;\r\n        var textCloudOptions = that._getTextCloudOptions();\r\n        var text = _formatValue(that._actualValue, that._options.text);\r\n        that._text.attr({\r\n            text: text\r\n        });\r\n        bBox = that._text.getBBox();\r\n        info = getTextCloudInfo({\r\n            x: textCloudOptions.x,\r\n            y: textCloudOptions.y,\r\n            textWidth: bBox.width || text.length * that._textUnitWidth,\r\n            textHeight: bBox.height || that._textHeight,\r\n            horMargin: that._options.horizontalOffset,\r\n            verMargin: that._options.verticalOffset,\r\n            tailLength: that._options.arrowLength,\r\n            type: textCloudOptions.type\r\n        });\r\n        that._text.attr({\r\n            x: info.cx,\r\n            y: info.cy + that._textVerticalOffset\r\n        });\r\n        that._cloud.attr({\r\n            points: info.points\r\n        });\r\n        that._trackerElement && that._trackerElement.attr({\r\n            points: info.points\r\n        })\r\n    },\r\n    _measureText: function() {\r\n        var that = this;\r\n        var root;\r\n        var text;\r\n        var bBox;\r\n        var sampleText;\r\n        if (!that._textVerticalOffset) {\r\n            root = that._createRoot().append(that._owner);\r\n            sampleText = _getSampleText(that._translator, that._options.text);\r\n            text = that._renderer.text(sampleText, 0, 0).attr({\r\n                align: \"center\"\r\n            }).css(_patchFontOptions(that._options.text.font)).append(root);\r\n            bBox = text.getBBox();\r\n            root.remove();\r\n            that._textVerticalOffset = -bBox.y - bBox.height / 2;\r\n            that._textWidth = bBox.width;\r\n            that._textHeight = bBox.height;\r\n            that._textUnitWidth = that._textWidth / sampleText.length;\r\n            that._textFullWidth = that._textWidth + 2 * that._options.horizontalOffset;\r\n            that._textFullHeight = that._textHeight + 2 * that._options.verticalOffset\r\n        }\r\n    },\r\n    _render: function() {\r\n        var that = this;\r\n        that._measureText();\r\n        that._cloud = that._cloud || that._renderer.path([], \"area\").append(that._rootElement);\r\n        that._text = that._text || that._renderer.text().append(that._rootElement);\r\n        that._text.attr({\r\n            align: \"center\"\r\n        }).css(_patchFontOptions(that._options.text.font))\r\n    },\r\n    _clear: function() {\r\n        delete this._cloud;\r\n        delete this._text\r\n    },\r\n    getTooltipParameters: function() {\r\n        var position = this._getTextCloudOptions();\r\n        return {\r\n            x: position.x,\r\n            y: position.y,\r\n            value: this._currentValue,\r\n            color: this._options.color\r\n        }\r\n    }\r\n});\r\nvar BaseRangeBar = BaseIndicator.inherit({\r\n    _measureText: function() {\r\n        var that = this;\r\n        var root;\r\n        var text;\r\n        var bBox;\r\n        that._hasText = that._isTextVisible();\r\n        if (that._hasText && !that._textVerticalOffset) {\r\n            root = that._createRoot().append(that._owner);\r\n            text = that._renderer.text(_getSampleText(that._translator, that._options.text), 0, 0).attr({\r\n                \"class\": \"dxg-text\",\r\n                align: \"center\"\r\n            }).css(_patchFontOptions(that._options.text.font)).append(root);\r\n            bBox = text.getBBox();\r\n            root.remove();\r\n            that._textVerticalOffset = -bBox.y - bBox.height / 2;\r\n            that._textWidth = bBox.width;\r\n            that._textHeight = bBox.height\r\n        }\r\n    },\r\n    _move: function() {\r\n        var that = this;\r\n        that._updateBarItemsPositions();\r\n        if (that._hasText) {\r\n            that._text.attr({\r\n                text: _formatValue(that._actualValue, that._options.text)\r\n            });\r\n            that._updateTextPosition();\r\n            that._updateLinePosition()\r\n        }\r\n    },\r\n    _updateBarItems: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var backgroundColor;\r\n        var spaceColor;\r\n        var translator = that._translator;\r\n        that._setBarSides();\r\n        that._startPosition = translator.translate(translator.getDomainStart());\r\n        that._endPosition = translator.translate(translator.getDomainEnd());\r\n        that._basePosition = translator.translate(options.baseValue);\r\n        that._space = that._getSpace();\r\n        backgroundColor = options.backgroundColor || \"none\";\r\n        if (\"none\" !== backgroundColor && that._space > 0) {\r\n            spaceColor = options.containerBackgroundColor || \"none\"\r\n        } else {\r\n            that._space = 0;\r\n            spaceColor = \"none\"\r\n        }\r\n        that._backItem1.attr({\r\n            fill: backgroundColor\r\n        });\r\n        that._backItem2.attr({\r\n            fill: backgroundColor\r\n        });\r\n        that._spaceItem1.attr({\r\n            fill: spaceColor\r\n        });\r\n        that._spaceItem2.attr({\r\n            fill: spaceColor\r\n        })\r\n    },\r\n    _getSpace: function() {\r\n        return 0\r\n    },\r\n    _updateTextItems: function() {\r\n        var that = this;\r\n        if (that._hasText) {\r\n            that._line = that._line || that._renderer.path([], \"line\").attr({\r\n                \"class\": \"dxg-main-bar\",\r\n                \"stroke-linecap\": \"square\"\r\n            }).append(that._rootElement);\r\n            that._text = that._text || that._renderer.text(\"\", 0, 0).attr({\r\n                \"class\": \"dxg-text\"\r\n            }).append(that._rootElement);\r\n            that._text.attr({\r\n                align: that._getTextAlign()\r\n            }).css(that._getFontOptions());\r\n            that._setTextItemsSides()\r\n        } else {\r\n            if (that._line) {\r\n                that._line.remove();\r\n                delete that._line\r\n            }\r\n            if (that._text) {\r\n                that._text.remove();\r\n                delete that._text\r\n            }\r\n        }\r\n    },\r\n    _isTextVisible: function() {\r\n        return false\r\n    },\r\n    _getTextAlign: function() {\r\n        return \"center\"\r\n    },\r\n    _getFontOptions: function() {\r\n        var options = this._options;\r\n        var font = options.text.font;\r\n        if (!font || !font.color) {\r\n            font = extend({}, font, {\r\n                color: options.color\r\n            })\r\n        }\r\n        return _patchFontOptions(font)\r\n    },\r\n    _updateBarItemsPositions: function() {\r\n        var that = this;\r\n        var positions = that._getPositions();\r\n        that._backItem1.attr(that._buildItemSettings(positions.start, positions.back1));\r\n        that._backItem2.attr(that._buildItemSettings(positions.back2, positions.end));\r\n        that._spaceItem1.attr(that._buildItemSettings(positions.back1, positions.main1));\r\n        that._spaceItem2.attr(that._buildItemSettings(positions.main2, positions.back2));\r\n        that._mainItem.attr(that._buildItemSettings(positions.main1, positions.main2));\r\n        that._trackerElement && that._trackerElement.attr(that._buildItemSettings(positions.main1, positions.main2))\r\n    },\r\n    _render: function() {\r\n        var that = this;\r\n        that._measureText();\r\n        if (!that._backItem1) {\r\n            that._backItem1 = that._createBarItem();\r\n            that._backItem1.attr({\r\n                \"class\": \"dxg-back-bar\"\r\n            })\r\n        }\r\n        if (!that._backItem2) {\r\n            that._backItem2 = that._createBarItem();\r\n            that._backItem2.attr({\r\n                \"class\": \"dxg-back-bar\"\r\n            })\r\n        }\r\n        if (!that._spaceItem1) {\r\n            that._spaceItem1 = that._createBarItem();\r\n            that._spaceItem1.attr({\r\n                \"class\": \"dxg-space-bar\"\r\n            })\r\n        }\r\n        if (!that._spaceItem2) {\r\n            that._spaceItem2 = that._createBarItem();\r\n            that._spaceItem2.attr({\r\n                \"class\": \"dxg-space-bar\"\r\n            })\r\n        }\r\n        if (!that._mainItem) {\r\n            that._mainItem = that._createBarItem();\r\n            that._mainItem.attr({\r\n                \"class\": \"dxg-main-bar\"\r\n            })\r\n        }\r\n        that._updateBarItems();\r\n        that._updateTextItems()\r\n    },\r\n    _clear: function() {\r\n        var that = this;\r\n        delete that._backItem1;\r\n        delete that._backItem2;\r\n        delete that._spaceItem1;\r\n        delete that._spaceItem2;\r\n        delete that._mainItem;\r\n        delete that._hasText;\r\n        delete that._line;\r\n        delete that._text\r\n    },\r\n    getTooltipParameters: function() {\r\n        var position = this._getTooltipPosition();\r\n        return {\r\n            x: position.x,\r\n            y: position.y,\r\n            value: this._currentValue,\r\n            color: this._options.color,\r\n            offset: 0\r\n        }\r\n    }\r\n});\r\nexports.BaseElement = BaseElement;\r\nexports.BaseIndicator = BaseIndicator;\r\nexports.BaseTextCloudMarker = BaseTextCloudMarker;\r\nexports.BaseRangeBar = BaseRangeBar;\r\n"]},"metadata":{},"sourceType":"script"}