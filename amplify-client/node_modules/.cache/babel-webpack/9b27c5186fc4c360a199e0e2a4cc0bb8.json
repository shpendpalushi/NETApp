{"ast":null,"code":"/**\r\n * DevExtreme (viz/series/points/bar_point.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar extend = require(\"../../../core/utils/extend\").extend;\n\nvar _extend = extend;\nvar _math = Math;\nvar _floor = _math.floor;\nvar _abs = _math.abs;\n\nvar symbolPoint = require(\"./symbol_point\");\n\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\nvar DEFAULT_BAR_TRACKER_SIZE = 9;\nvar CORRECTING_BAR_TRACKER_VALUE = 4;\nvar RIGHT = \"right\";\nvar LEFT = \"left\";\nvar TOP = \"top\";\nvar BOTTOM = \"bottom\";\nmodule.exports = _extend({}, symbolPoint, {\n  correctCoordinates: function correctCoordinates(correctOptions) {\n    var that = this;\n\n    var correction = _floor(correctOptions.offset - correctOptions.width / 2);\n\n    if (that._options.rotated) {\n      that.height = correctOptions.width;\n      that.yCorrection = correction;\n      that.xCorrection = null;\n    } else {\n      that.width = correctOptions.width;\n      that.xCorrection = correction;\n      that.yCorrection = null;\n    }\n  },\n  _getGraphicBBox: function _getGraphicBBox() {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n  },\n  _getLabelConnector: function _getLabelConnector(location) {\n    return this._getGraphicBBox(location);\n  },\n  _getLabelPosition: function _getLabelPosition() {\n    var that = this;\n    var position;\n    var initialValue = that.initialValue;\n\n    var invert = that._getValTranslator().getBusinessRange().invert;\n\n    var isDiscreteValue = \"discrete\" === that.series.valueAxisType;\n    var isFullStacked = that.series.isFullStackedSeries();\n    var notAxisInverted = !isDiscreteValue && (initialValue >= 0 && !invert || initialValue < 0 && invert) || isDiscreteValue && !invert || isFullStacked;\n\n    if (!that._options.rotated) {\n      position = notAxisInverted ? TOP : BOTTOM;\n    } else {\n      position = notAxisInverted ? RIGHT : LEFT;\n    }\n\n    return position;\n  },\n  _getLabelCoords: function _getLabelCoords(label) {\n    var that = this;\n    var coords;\n\n    if (0 === that.initialValue && that.series.isFullStackedSeries()) {\n      if (!this._options.rotated) {\n        coords = that._getLabelCoordOfPosition(label, TOP);\n      } else {\n        coords = that._getLabelCoordOfPosition(label, RIGHT);\n      }\n    } else {\n      if (\"inside\" === label.getLayoutOptions().position) {\n        coords = that._getLabelCoordOfPosition(label, \"inside\");\n      } else {\n        coords = symbolPoint._getLabelCoords.call(this, label);\n      }\n    }\n\n    return coords;\n  },\n  _checkLabelPosition: function _checkLabelPosition(label, coord) {\n    var that = this;\n\n    var visibleArea = that._getVisibleArea();\n\n    if (that._isPointInVisibleArea(visibleArea, that._getGraphicBBox())) {\n      return that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect());\n    }\n\n    return coord;\n  },\n  hideInsideLabel: function hideInsideLabel(label, coord) {\n    var graphicBBox = this._getGraphicBBox();\n\n    var labelBBox = label.getBoundingRect();\n\n    if (this._options.resolveLabelsOverlapping) {\n      if ((coord.y <= graphicBBox.y && coord.y + labelBBox.height >= graphicBBox.y + graphicBBox.height || coord.x <= graphicBBox.x && coord.x + labelBBox.width >= graphicBBox.x + graphicBBox.width) && !(coord.y > graphicBBox.y + graphicBBox.height || coord.y + labelBBox.height < graphicBBox.y || coord.x > graphicBBox.x + graphicBBox.width || coord.x + labelBBox.width < graphicBBox.x)) {\n        label.draw(false);\n        return true;\n      }\n    }\n\n    return false;\n  },\n  _moveLabelOnCanvas: function _moveLabelOnCanvas(coord, visibleArea, labelBBox) {\n    var x = coord.x;\n    var y = coord.y;\n\n    if (visibleArea.minX > x) {\n      x = visibleArea.minX;\n    }\n\n    if (visibleArea.maxX < x + labelBBox.width) {\n      x = visibleArea.maxX - labelBBox.width;\n    }\n\n    if (visibleArea.minY > y) {\n      y = visibleArea.minY;\n    }\n\n    if (visibleArea.maxY < y + labelBBox.height) {\n      y = visibleArea.maxY - labelBBox.height;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  },\n  _showForZeroValues: function _showForZeroValues() {\n    return this._options.label.showForZeroValues || this.initialValue;\n  },\n  _drawMarker: function _drawMarker(renderer, group, animationEnabled) {\n    var that = this;\n\n    var style = that._getStyle();\n\n    var r = that._options.cornerRadius;\n    var rotated = that._options.rotated;\n\n    var _that$getMarkerCoords = that.getMarkerCoords(),\n        x = _that$getMarkerCoords.x,\n        y = _that$getMarkerCoords.y,\n        width = _that$getMarkerCoords.width,\n        height = _that$getMarkerCoords.height;\n\n    if (animationEnabled) {\n      if (rotated) {\n        width = 0;\n        x = that.defaultX;\n      } else {\n        height = 0;\n        y = that.defaultY;\n      }\n    }\n\n    that.graphic = renderer.rect(x, y, width, height).attr({\n      rx: r,\n      ry: r\n    }).smartAttr(style).data({\n      \"chart-data-point\": that\n    }).append(group);\n  },\n  _getSettingsForTracker: function _getSettingsForTracker() {\n    var that = this;\n    var y = that.y;\n    var height = that.height;\n    var x = that.x;\n    var width = that.width;\n\n    if (that._options.rotated) {\n      if (1 === width) {\n        width = DEFAULT_BAR_TRACKER_SIZE;\n        x -= CORRECTING_BAR_TRACKER_VALUE;\n      }\n    } else {\n      if (1 === height) {\n        height = DEFAULT_BAR_TRACKER_SIZE;\n        y -= CORRECTING_BAR_TRACKER_VALUE;\n      }\n    }\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  },\n  getGraphicSettings: function getGraphicSettings() {\n    var graphic = this.graphic;\n    return {\n      x: graphic.attr(\"x\"),\n      y: graphic.attr(\"y\"),\n      height: graphic.attr(\"height\"),\n      width: graphic.attr(\"width\")\n    };\n  },\n  _getEdgeTooltipParams: function _getEdgeTooltipParams() {\n    var isPositive = this.value >= 0;\n    var xCoord;\n    var yCoord;\n\n    var invertedBusinessRange = this._getValTranslator().getBusinessRange().invert;\n\n    var x = this.x,\n        y = this.y,\n        width = this.width,\n        height = this.height;\n\n    if (this._options.rotated) {\n      yCoord = y + height / 2;\n\n      if (invertedBusinessRange) {\n        xCoord = isPositive ? x : x + width;\n      } else {\n        xCoord = isPositive ? x + width : x;\n      }\n    } else {\n      xCoord = x + width / 2;\n\n      if (invertedBusinessRange) {\n        yCoord = isPositive ? y + height : y;\n      } else {\n        yCoord = isPositive ? y : y + height;\n      }\n    }\n\n    return {\n      x: xCoord,\n      y: yCoord,\n      offset: 0\n    };\n  },\n  getTooltipParams: function getTooltipParams(location) {\n    if (\"edge\" === location) {\n      return this._getEdgeTooltipParams();\n    }\n\n    var center = this.getCenterCoord();\n    center.offset = 0;\n    return center;\n  },\n  getCenterCoord: function getCenterCoord() {\n    var width = this.width,\n        height = this.height,\n        x = this.x,\n        y = this.y;\n    return {\n      x: x + width / 2,\n      y: y + height / 2\n    };\n  },\n  _truncateCoord: function _truncateCoord(coord, minBounce, maxBounce) {\n    if (null === coord) {\n      return coord;\n    }\n\n    if (coord < minBounce) {\n      return minBounce;\n    }\n\n    if (coord > maxBounce) {\n      return maxBounce;\n    }\n\n    return coord;\n  },\n  _getErrorBarBaseEdgeLength: function _getErrorBarBaseEdgeLength() {\n    return this._options.rotated ? this.height : this.width;\n  },\n  _translateErrorBars: function _translateErrorBars(argVisibleArea) {\n    symbolPoint._translateErrorBars.call(this);\n\n    if (this._errorBarPos < argVisibleArea[0] || this._errorBarPos > argVisibleArea[1]) {\n      this._errorBarPos = void 0;\n    }\n  },\n  _translate: function _translate() {\n    var that = this;\n    var rotated = that._options.rotated;\n    var valAxis = rotated ? \"x\" : \"y\";\n    var argAxis = rotated ? \"y\" : \"x\";\n    var valIntervalName = rotated ? \"width\" : \"height\";\n    var argIntervalName = rotated ? \"height\" : \"width\";\n\n    var argTranslator = that._getArgTranslator();\n\n    var valTranslator = that._getValTranslator();\n\n    var argVisibleArea = that.series.getArgumentAxis().getVisibleArea();\n    var valVisibleArea = that.series.getValueAxis().getVisibleArea();\n    var arg;\n    var val;\n    var minVal;\n    arg = argTranslator.translate(that.argument);\n    that[argAxis] = arg = null === arg ? arg : arg + (that[argAxis + \"Correction\"] || 0);\n    val = valTranslator.translate(that.value, 1);\n    minVal = valTranslator.translate(that.minValue);\n    that[\"v\" + valAxis] = val;\n    that[\"v\" + argAxis] = arg + that[argIntervalName] / 2;\n    val = that._truncateCoord(val, valVisibleArea[0], valVisibleArea[1]);\n    minVal = that._truncateCoord(minVal, valVisibleArea[0], valVisibleArea[1]);\n    that[valIntervalName] = _abs(val - minVal);\n    val = val < minVal ? val : minVal;\n\n    that._calculateVisibility(rotated ? val : arg, rotated ? arg : val, that.width, that.height);\n\n    that[valAxis] = null === val ? val : val + (that[valAxis + \"Correction\"] || 0);\n    that[\"min\" + valAxis.toUpperCase()] = null === minVal ? minVal : minVal + (that[valAxis + \"Correction\"] || 0);\n    that[\"default\" + valAxis.toUpperCase()] = valTranslator.translate(CANVAS_POSITION_DEFAULT);\n\n    that._translateErrorBars(argVisibleArea);\n\n    if (that.inVisibleArea && null !== that[argAxis]) {\n      if (that[argAxis] < argVisibleArea[0]) {\n        that[argIntervalName] = that[argIntervalName] - (argVisibleArea[0] - that[argAxis]);\n        that[argAxis] = argVisibleArea[0];\n      }\n\n      if (that[argAxis] + that[argIntervalName] > argVisibleArea[1]) {\n        that[argIntervalName] = argVisibleArea[1] - that[argAxis];\n      }\n    }\n  },\n  _updateMarker: function _updateMarker(animationEnabled, style) {\n    this.graphic.smartAttr(_extend({}, style, !animationEnabled ? this.getMarkerCoords() : {}));\n  },\n  getMarkerCoords: function getMarkerCoords() {\n    var that = this;\n    var x = that.x;\n    var y = that.y;\n    var width = that.width;\n    var height = that.height;\n    var argAxis = that.series.getArgumentAxis();\n    var rotated = that._options.rotated;\n\n    if (argAxis.getAxisPosition) {\n      var axisOptions = argAxis.getOptions();\n      var edgeOffset = Math.round(axisOptions.width / 2);\n      var argAxisPosition = argAxis.getAxisPosition();\n\n      if (axisOptions.visible) {\n        if (!rotated) {\n          height -= that.minY === that.defaultY && that.minY === argAxisPosition - argAxis.getAxisShift() ? edgeOffset : 0;\n          height < 0 && (height = 0);\n        } else {\n          var isStartFromAxis = that.minX === that.defaultX && that.minX === argAxisPosition - argAxis.getAxisShift();\n          x += isStartFromAxis ? edgeOffset : 0;\n          width -= isStartFromAxis ? edgeOffset : 0;\n          width < 0 && (width = 0);\n        }\n      }\n    }\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  },\n  coordsIn: function coordsIn(x, y) {\n    var that = this;\n    return x >= that.x && x <= that.x + that.width && y >= that.y && y <= that.y + that.height;\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/series/points/bar_point.js"],"names":["extend","require","_extend","_math","Math","_floor","floor","_abs","abs","symbolPoint","CANVAS_POSITION_DEFAULT","DEFAULT_BAR_TRACKER_SIZE","CORRECTING_BAR_TRACKER_VALUE","RIGHT","LEFT","TOP","BOTTOM","module","exports","correctCoordinates","correctOptions","that","correction","offset","width","_options","rotated","height","yCorrection","xCorrection","_getGraphicBBox","x","y","_getLabelConnector","location","_getLabelPosition","position","initialValue","invert","_getValTranslator","getBusinessRange","isDiscreteValue","series","valueAxisType","isFullStacked","isFullStackedSeries","notAxisInverted","_getLabelCoords","label","coords","_getLabelCoordOfPosition","getLayoutOptions","call","_checkLabelPosition","coord","visibleArea","_getVisibleArea","_isPointInVisibleArea","_moveLabelOnCanvas","getBoundingRect","hideInsideLabel","graphicBBox","labelBBox","resolveLabelsOverlapping","draw","minX","maxX","minY","maxY","_showForZeroValues","showForZeroValues","_drawMarker","renderer","group","animationEnabled","style","_getStyle","r","cornerRadius","_that$getMarkerCoords","getMarkerCoords","defaultX","defaultY","graphic","rect","attr","rx","ry","smartAttr","data","append","_getSettingsForTracker","getGraphicSettings","_getEdgeTooltipParams","isPositive","value","xCoord","yCoord","invertedBusinessRange","getTooltipParams","center","getCenterCoord","_truncateCoord","minBounce","maxBounce","_getErrorBarBaseEdgeLength","_translateErrorBars","argVisibleArea","_errorBarPos","_translate","valAxis","argAxis","valIntervalName","argIntervalName","argTranslator","_getArgTranslator","valTranslator","getArgumentAxis","getVisibleArea","valVisibleArea","getValueAxis","arg","val","minVal","translate","argument","minValue","_calculateVisibility","toUpperCase","inVisibleArea","_updateMarker","getAxisPosition","axisOptions","getOptions","edgeOffset","round","argAxisPosition","visible","getAxisShift","isStartFromAxis","coordsIn"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,MAAM,GAAGC,OAAO,CAAC,4BAAD,CAAP,CAAsCD,MAAnD;;AACA,IAAIE,OAAO,GAAGF,MAAd;AACA,IAAIG,KAAK,GAAGC,IAAZ;AACA,IAAIC,MAAM,GAAGF,KAAK,CAACG,KAAnB;AACA,IAAIC,IAAI,GAAGJ,KAAK,CAACK,GAAjB;;AACA,IAAIC,WAAW,GAAGR,OAAO,CAAC,gBAAD,CAAzB;;AACA,IAAIS,uBAAuB,GAAG,yBAA9B;AACA,IAAIC,wBAAwB,GAAG,CAA/B;AACA,IAAIC,4BAA4B,GAAG,CAAnC;AACA,IAAIC,KAAK,GAAG,OAAZ;AACA,IAAIC,IAAI,GAAG,MAAX;AACA,IAAIC,GAAG,GAAG,KAAV;AACA,IAAIC,MAAM,GAAG,QAAb;AACAC,MAAM,CAACC,OAAP,GAAiBhB,OAAO,CAAC,EAAD,EAAKO,WAAL,EAAkB;AACtCU,EAAAA,kBAAkB,EAAE,4BAASC,cAAT,EAAyB;AACzC,QAAIC,IAAI,GAAG,IAAX;;AACA,QAAIC,UAAU,GAAGjB,MAAM,CAACe,cAAc,CAACG,MAAf,GAAwBH,cAAc,CAACI,KAAf,GAAuB,CAAhD,CAAvB;;AACA,QAAIH,IAAI,CAACI,QAAL,CAAcC,OAAlB,EAA2B;AACvBL,MAAAA,IAAI,CAACM,MAAL,GAAcP,cAAc,CAACI,KAA7B;AACAH,MAAAA,IAAI,CAACO,WAAL,GAAmBN,UAAnB;AACAD,MAAAA,IAAI,CAACQ,WAAL,GAAmB,IAAnB;AACH,KAJD,MAIO;AACHR,MAAAA,IAAI,CAACG,KAAL,GAAaJ,cAAc,CAACI,KAA5B;AACAH,MAAAA,IAAI,CAACQ,WAAL,GAAmBP,UAAnB;AACAD,MAAAA,IAAI,CAACO,WAAL,GAAmB,IAAnB;AACH;AACJ,GAbqC;AActCE,EAAAA,eAAe,EAAE,2BAAW;AACxB,WAAO;AACHC,MAAAA,CAAC,EAAE,KAAKA,CADL;AAEHC,MAAAA,CAAC,EAAE,KAAKA,CAFL;AAGHR,MAAAA,KAAK,EAAE,KAAKA,KAHT;AAIHG,MAAAA,MAAM,EAAE,KAAKA;AAJV,KAAP;AAMH,GArBqC;AAsBtCM,EAAAA,kBAAkB,EAAE,4BAASC,QAAT,EAAmB;AACnC,WAAO,KAAKJ,eAAL,CAAqBI,QAArB,CAAP;AACH,GAxBqC;AAyBtCC,EAAAA,iBAAiB,EAAE,6BAAW;AAC1B,QAAId,IAAI,GAAG,IAAX;AACA,QAAIe,QAAJ;AACA,QAAIC,YAAY,GAAGhB,IAAI,CAACgB,YAAxB;;AACA,QAAIC,MAAM,GAAGjB,IAAI,CAACkB,iBAAL,GAAyBC,gBAAzB,GAA4CF,MAAzD;;AACA,QAAIG,eAAe,GAAG,eAAepB,IAAI,CAACqB,MAAL,CAAYC,aAAjD;AACA,QAAIC,aAAa,GAAGvB,IAAI,CAACqB,MAAL,CAAYG,mBAAZ,EAApB;AACA,QAAIC,eAAe,GAAG,CAACL,eAAD,KAAqBJ,YAAY,IAAI,CAAhB,IAAqB,CAACC,MAAtB,IAAgCD,YAAY,GAAG,CAAf,IAAoBC,MAAzE,KAAoFG,eAAe,IAAI,CAACH,MAAxG,IAAkHM,aAAxI;;AACA,QAAI,CAACvB,IAAI,CAACI,QAAL,CAAcC,OAAnB,EAA4B;AACxBU,MAAAA,QAAQ,GAAGU,eAAe,GAAG/B,GAAH,GAASC,MAAnC;AACH,KAFD,MAEO;AACHoB,MAAAA,QAAQ,GAAGU,eAAe,GAAGjC,KAAH,GAAWC,IAArC;AACH;;AACD,WAAOsB,QAAP;AACH,GAvCqC;AAwCtCW,EAAAA,eAAe,EAAE,yBAASC,KAAT,EAAgB;AAC7B,QAAI3B,IAAI,GAAG,IAAX;AACA,QAAI4B,MAAJ;;AACA,QAAI,MAAM5B,IAAI,CAACgB,YAAX,IAA2BhB,IAAI,CAACqB,MAAL,CAAYG,mBAAZ,EAA/B,EAAkE;AAC9D,UAAI,CAAC,KAAKpB,QAAL,CAAcC,OAAnB,EAA4B;AACxBuB,QAAAA,MAAM,GAAG5B,IAAI,CAAC6B,wBAAL,CAA8BF,KAA9B,EAAqCjC,GAArC,CAAT;AACH,OAFD,MAEO;AACHkC,QAAAA,MAAM,GAAG5B,IAAI,CAAC6B,wBAAL,CAA8BF,KAA9B,EAAqCnC,KAArC,CAAT;AACH;AACJ,KAND,MAMO;AACH,UAAI,aAAamC,KAAK,CAACG,gBAAN,GAAyBf,QAA1C,EAAoD;AAChDa,QAAAA,MAAM,GAAG5B,IAAI,CAAC6B,wBAAL,CAA8BF,KAA9B,EAAqC,QAArC,CAAT;AACH,OAFD,MAEO;AACHC,QAAAA,MAAM,GAAGxC,WAAW,CAACsC,eAAZ,CAA4BK,IAA5B,CAAiC,IAAjC,EAAuCJ,KAAvC,CAAT;AACH;AACJ;;AACD,WAAOC,MAAP;AACH,GAzDqC;AA0DtCI,EAAAA,mBAAmB,EAAE,6BAASL,KAAT,EAAgBM,KAAhB,EAAuB;AACxC,QAAIjC,IAAI,GAAG,IAAX;;AACA,QAAIkC,WAAW,GAAGlC,IAAI,CAACmC,eAAL,EAAlB;;AACA,QAAInC,IAAI,CAACoC,qBAAL,CAA2BF,WAA3B,EAAwClC,IAAI,CAACS,eAAL,EAAxC,CAAJ,EAAqE;AACjE,aAAOT,IAAI,CAACqC,kBAAL,CAAwBJ,KAAxB,EAA+BC,WAA/B,EAA4CP,KAAK,CAACW,eAAN,EAA5C,CAAP;AACH;;AACD,WAAOL,KAAP;AACH,GAjEqC;AAkEtCM,EAAAA,eAAe,EAAE,yBAASZ,KAAT,EAAgBM,KAAhB,EAAuB;AACpC,QAAIO,WAAW,GAAG,KAAK/B,eAAL,EAAlB;;AACA,QAAIgC,SAAS,GAAGd,KAAK,CAACW,eAAN,EAAhB;;AACA,QAAI,KAAKlC,QAAL,CAAcsC,wBAAlB,EAA4C;AACxC,UAAI,CAACT,KAAK,CAACtB,CAAN,IAAW6B,WAAW,CAAC7B,CAAvB,IAA4BsB,KAAK,CAACtB,CAAN,GAAU8B,SAAS,CAACnC,MAApB,IAA8BkC,WAAW,CAAC7B,CAAZ,GAAgB6B,WAAW,CAAClC,MAAtF,IAAgG2B,KAAK,CAACvB,CAAN,IAAW8B,WAAW,CAAC9B,CAAvB,IAA4BuB,KAAK,CAACvB,CAAN,GAAU+B,SAAS,CAACtC,KAApB,IAA6BqC,WAAW,CAAC9B,CAAZ,GAAgB8B,WAAW,CAACrC,KAAtL,KAAgM,EAAE8B,KAAK,CAACtB,CAAN,GAAU6B,WAAW,CAAC7B,CAAZ,GAAgB6B,WAAW,CAAClC,MAAtC,IAAgD2B,KAAK,CAACtB,CAAN,GAAU8B,SAAS,CAACnC,MAApB,GAA6BkC,WAAW,CAAC7B,CAAzF,IAA8FsB,KAAK,CAACvB,CAAN,GAAU8B,WAAW,CAAC9B,CAAZ,GAAgB8B,WAAW,CAACrC,KAApI,IAA6I8B,KAAK,CAACvB,CAAN,GAAU+B,SAAS,CAACtC,KAApB,GAA4BqC,WAAW,CAAC9B,CAAvL,CAApM,EAA+X;AAC3XiB,QAAAA,KAAK,CAACgB,IAAN,CAAW,KAAX;AACA,eAAO,IAAP;AACH;AACJ;;AACD,WAAO,KAAP;AACH,GA5EqC;AA6EtCN,EAAAA,kBAAkB,EAAE,4BAASJ,KAAT,EAAgBC,WAAhB,EAA6BO,SAA7B,EAAwC;AACxD,QAAI/B,CAAC,GAAGuB,KAAK,CAACvB,CAAd;AACA,QAAIC,CAAC,GAAGsB,KAAK,CAACtB,CAAd;;AACA,QAAIuB,WAAW,CAACU,IAAZ,GAAmBlC,CAAvB,EAA0B;AACtBA,MAAAA,CAAC,GAAGwB,WAAW,CAACU,IAAhB;AACH;;AACD,QAAIV,WAAW,CAACW,IAAZ,GAAmBnC,CAAC,GAAG+B,SAAS,CAACtC,KAArC,EAA4C;AACxCO,MAAAA,CAAC,GAAGwB,WAAW,CAACW,IAAZ,GAAmBJ,SAAS,CAACtC,KAAjC;AACH;;AACD,QAAI+B,WAAW,CAACY,IAAZ,GAAmBnC,CAAvB,EAA0B;AACtBA,MAAAA,CAAC,GAAGuB,WAAW,CAACY,IAAhB;AACH;;AACD,QAAIZ,WAAW,CAACa,IAAZ,GAAmBpC,CAAC,GAAG8B,SAAS,CAACnC,MAArC,EAA6C;AACzCK,MAAAA,CAAC,GAAGuB,WAAW,CAACa,IAAZ,GAAmBN,SAAS,CAACnC,MAAjC;AACH;;AACD,WAAO;AACHI,MAAAA,CAAC,EAAEA,CADA;AAEHC,MAAAA,CAAC,EAAEA;AAFA,KAAP;AAIH,GAhGqC;AAiGtCqC,EAAAA,kBAAkB,EAAE,8BAAW;AAC3B,WAAO,KAAK5C,QAAL,CAAcuB,KAAd,CAAoBsB,iBAApB,IAAyC,KAAKjC,YAArD;AACH,GAnGqC;AAoGtCkC,EAAAA,WAAW,EAAE,qBAASC,QAAT,EAAmBC,KAAnB,EAA0BC,gBAA1B,EAA4C;AACrD,QAAIrD,IAAI,GAAG,IAAX;;AACA,QAAIsD,KAAK,GAAGtD,IAAI,CAACuD,SAAL,EAAZ;;AACA,QAAIC,CAAC,GAAGxD,IAAI,CAACI,QAAL,CAAcqD,YAAtB;AACA,QAAIpD,OAAO,GAAGL,IAAI,CAACI,QAAL,CAAcC,OAA5B;;AACA,QAAIqD,qBAAqB,GAAG1D,IAAI,CAAC2D,eAAL,EAA5B;AAAA,QACIjD,CAAC,GAAGgD,qBAAqB,CAAChD,CAD9B;AAAA,QAEIC,CAAC,GAAG+C,qBAAqB,CAAC/C,CAF9B;AAAA,QAGIR,KAAK,GAAGuD,qBAAqB,CAACvD,KAHlC;AAAA,QAIIG,MAAM,GAAGoD,qBAAqB,CAACpD,MAJnC;;AAKA,QAAI+C,gBAAJ,EAAsB;AAClB,UAAIhD,OAAJ,EAAa;AACTF,QAAAA,KAAK,GAAG,CAAR;AACAO,QAAAA,CAAC,GAAGV,IAAI,CAAC4D,QAAT;AACH,OAHD,MAGO;AACHtD,QAAAA,MAAM,GAAG,CAAT;AACAK,QAAAA,CAAC,GAAGX,IAAI,CAAC6D,QAAT;AACH;AACJ;;AACD7D,IAAAA,IAAI,CAAC8D,OAAL,GAAeX,QAAQ,CAACY,IAAT,CAAcrD,CAAd,EAAiBC,CAAjB,EAAoBR,KAApB,EAA2BG,MAA3B,EAAmC0D,IAAnC,CAAwC;AACnDC,MAAAA,EAAE,EAAET,CAD+C;AAEnDU,MAAAA,EAAE,EAAEV;AAF+C,KAAxC,EAGZW,SAHY,CAGFb,KAHE,EAGKc,IAHL,CAGU;AACrB,0BAAoBpE;AADC,KAHV,EAKZqE,MALY,CAKLjB,KALK,CAAf;AAMH,GA7HqC;AA8HtCkB,EAAAA,sBAAsB,EAAE,kCAAW;AAC/B,QAAItE,IAAI,GAAG,IAAX;AACA,QAAIW,CAAC,GAAGX,IAAI,CAACW,CAAb;AACA,QAAIL,MAAM,GAAGN,IAAI,CAACM,MAAlB;AACA,QAAII,CAAC,GAAGV,IAAI,CAACU,CAAb;AACA,QAAIP,KAAK,GAAGH,IAAI,CAACG,KAAjB;;AACA,QAAIH,IAAI,CAACI,QAAL,CAAcC,OAAlB,EAA2B;AACvB,UAAI,MAAMF,KAAV,EAAiB;AACbA,QAAAA,KAAK,GAAGb,wBAAR;AACAoB,QAAAA,CAAC,IAAInB,4BAAL;AACH;AACJ,KALD,MAKO;AACH,UAAI,MAAMe,MAAV,EAAkB;AACdA,QAAAA,MAAM,GAAGhB,wBAAT;AACAqB,QAAAA,CAAC,IAAIpB,4BAAL;AACH;AACJ;;AACD,WAAO;AACHmB,MAAAA,CAAC,EAAEA,CADA;AAEHC,MAAAA,CAAC,EAAEA,CAFA;AAGHR,MAAAA,KAAK,EAAEA,KAHJ;AAIHG,MAAAA,MAAM,EAAEA;AAJL,KAAP;AAMH,GArJqC;AAsJtCiE,EAAAA,kBAAkB,EAAE,8BAAW;AAC3B,QAAIT,OAAO,GAAG,KAAKA,OAAnB;AACA,WAAO;AACHpD,MAAAA,CAAC,EAAEoD,OAAO,CAACE,IAAR,CAAa,GAAb,CADA;AAEHrD,MAAAA,CAAC,EAAEmD,OAAO,CAACE,IAAR,CAAa,GAAb,CAFA;AAGH1D,MAAAA,MAAM,EAAEwD,OAAO,CAACE,IAAR,CAAa,QAAb,CAHL;AAIH7D,MAAAA,KAAK,EAAE2D,OAAO,CAACE,IAAR,CAAa,OAAb;AAJJ,KAAP;AAMH,GA9JqC;AA+JtCQ,EAAAA,qBAAqB,EAAE,iCAAW;AAC9B,QAAIC,UAAU,GAAG,KAAKC,KAAL,IAAc,CAA/B;AACA,QAAIC,MAAJ;AACA,QAAIC,MAAJ;;AACA,QAAIC,qBAAqB,GAAG,KAAK3D,iBAAL,GAAyBC,gBAAzB,GAA4CF,MAAxE;;AACA,QAAIP,CAAC,GAAG,KAAKA,CAAb;AAAA,QACIC,CAAC,GAAG,KAAKA,CADb;AAAA,QAEIR,KAAK,GAAG,KAAKA,KAFjB;AAAA,QAGIG,MAAM,GAAG,KAAKA,MAHlB;;AAIA,QAAI,KAAKF,QAAL,CAAcC,OAAlB,EAA2B;AACvBuE,MAAAA,MAAM,GAAGjE,CAAC,GAAGL,MAAM,GAAG,CAAtB;;AACA,UAAIuE,qBAAJ,EAA2B;AACvBF,QAAAA,MAAM,GAAGF,UAAU,GAAG/D,CAAH,GAAOA,CAAC,GAAGP,KAA9B;AACH,OAFD,MAEO;AACHwE,QAAAA,MAAM,GAAGF,UAAU,GAAG/D,CAAC,GAAGP,KAAP,GAAeO,CAAlC;AACH;AACJ,KAPD,MAOO;AACHiE,MAAAA,MAAM,GAAGjE,CAAC,GAAGP,KAAK,GAAG,CAArB;;AACA,UAAI0E,qBAAJ,EAA2B;AACvBD,QAAAA,MAAM,GAAGH,UAAU,GAAG9D,CAAC,GAAGL,MAAP,GAAgBK,CAAnC;AACH,OAFD,MAEO;AACHiE,QAAAA,MAAM,GAAGH,UAAU,GAAG9D,CAAH,GAAOA,CAAC,GAAGL,MAA9B;AACH;AACJ;;AACD,WAAO;AACHI,MAAAA,CAAC,EAAEiE,MADA;AAEHhE,MAAAA,CAAC,EAAEiE,MAFA;AAGH1E,MAAAA,MAAM,EAAE;AAHL,KAAP;AAKH,GA5LqC;AA6LtC4E,EAAAA,gBAAgB,EAAE,0BAASjE,QAAT,EAAmB;AACjC,QAAI,WAAWA,QAAf,EAAyB;AACrB,aAAO,KAAK2D,qBAAL,EAAP;AACH;;AACD,QAAIO,MAAM,GAAG,KAAKC,cAAL,EAAb;AACAD,IAAAA,MAAM,CAAC7E,MAAP,GAAgB,CAAhB;AACA,WAAO6E,MAAP;AACH,GApMqC;AAqMtCC,EAAAA,cAAc,EAAE,0BAAW;AACvB,QAAI7E,KAAK,GAAG,KAAKA,KAAjB;AAAA,QACIG,MAAM,GAAG,KAAKA,MADlB;AAAA,QAEII,CAAC,GAAG,KAAKA,CAFb;AAAA,QAGIC,CAAC,GAAG,KAAKA,CAHb;AAIA,WAAO;AACHD,MAAAA,CAAC,EAAEA,CAAC,GAAGP,KAAK,GAAG,CADZ;AAEHQ,MAAAA,CAAC,EAAEA,CAAC,GAAGL,MAAM,GAAG;AAFb,KAAP;AAIH,GA9MqC;AA+MtC2E,EAAAA,cAAc,EAAE,wBAAShD,KAAT,EAAgBiD,SAAhB,EAA2BC,SAA3B,EAAsC;AAClD,QAAI,SAASlD,KAAb,EAAoB;AAChB,aAAOA,KAAP;AACH;;AACD,QAAIA,KAAK,GAAGiD,SAAZ,EAAuB;AACnB,aAAOA,SAAP;AACH;;AACD,QAAIjD,KAAK,GAAGkD,SAAZ,EAAuB;AACnB,aAAOA,SAAP;AACH;;AACD,WAAOlD,KAAP;AACH,GA1NqC;AA2NtCmD,EAAAA,0BAA0B,EAAE,sCAAW;AACnC,WAAO,KAAKhF,QAAL,CAAcC,OAAd,GAAwB,KAAKC,MAA7B,GAAsC,KAAKH,KAAlD;AACH,GA7NqC;AA8NtCkF,EAAAA,mBAAmB,EAAE,6BAASC,cAAT,EAAyB;AAC1ClG,IAAAA,WAAW,CAACiG,mBAAZ,CAAgCtD,IAAhC,CAAqC,IAArC;;AACA,QAAI,KAAKwD,YAAL,GAAoBD,cAAc,CAAC,CAAD,CAAlC,IAAyC,KAAKC,YAAL,GAAoBD,cAAc,CAAC,CAAD,CAA/E,EAAoF;AAChF,WAAKC,YAAL,GAAoB,KAAK,CAAzB;AACH;AACJ,GAnOqC;AAoOtCC,EAAAA,UAAU,EAAE,sBAAW;AACnB,QAAIxF,IAAI,GAAG,IAAX;AACA,QAAIK,OAAO,GAAGL,IAAI,CAACI,QAAL,CAAcC,OAA5B;AACA,QAAIoF,OAAO,GAAGpF,OAAO,GAAG,GAAH,GAAS,GAA9B;AACA,QAAIqF,OAAO,GAAGrF,OAAO,GAAG,GAAH,GAAS,GAA9B;AACA,QAAIsF,eAAe,GAAGtF,OAAO,GAAG,OAAH,GAAa,QAA1C;AACA,QAAIuF,eAAe,GAAGvF,OAAO,GAAG,QAAH,GAAc,OAA3C;;AACA,QAAIwF,aAAa,GAAG7F,IAAI,CAAC8F,iBAAL,EAApB;;AACA,QAAIC,aAAa,GAAG/F,IAAI,CAACkB,iBAAL,EAApB;;AACA,QAAIoE,cAAc,GAAGtF,IAAI,CAACqB,MAAL,CAAY2E,eAAZ,GAA8BC,cAA9B,EAArB;AACA,QAAIC,cAAc,GAAGlG,IAAI,CAACqB,MAAL,CAAY8E,YAAZ,GAA2BF,cAA3B,EAArB;AACA,QAAIG,GAAJ;AACA,QAAIC,GAAJ;AACA,QAAIC,MAAJ;AACAF,IAAAA,GAAG,GAAGP,aAAa,CAACU,SAAd,CAAwBvG,IAAI,CAACwG,QAA7B,CAAN;AACAxG,IAAAA,IAAI,CAAC0F,OAAD,CAAJ,GAAgBU,GAAG,GAAG,SAASA,GAAT,GAAeA,GAAf,GAAqBA,GAAG,IAAIpG,IAAI,CAAC0F,OAAO,GAAG,YAAX,CAAJ,IAAgC,CAApC,CAA9C;AACAW,IAAAA,GAAG,GAAGN,aAAa,CAACQ,SAAd,CAAwBvG,IAAI,CAAC0E,KAA7B,EAAoC,CAApC,CAAN;AACA4B,IAAAA,MAAM,GAAGP,aAAa,CAACQ,SAAd,CAAwBvG,IAAI,CAACyG,QAA7B,CAAT;AACAzG,IAAAA,IAAI,CAAC,MAAMyF,OAAP,CAAJ,GAAsBY,GAAtB;AACArG,IAAAA,IAAI,CAAC,MAAM0F,OAAP,CAAJ,GAAsBU,GAAG,GAAGpG,IAAI,CAAC4F,eAAD,CAAJ,GAAwB,CAApD;AACAS,IAAAA,GAAG,GAAGrG,IAAI,CAACiF,cAAL,CAAoBoB,GAApB,EAAyBH,cAAc,CAAC,CAAD,CAAvC,EAA4CA,cAAc,CAAC,CAAD,CAA1D,CAAN;AACAI,IAAAA,MAAM,GAAGtG,IAAI,CAACiF,cAAL,CAAoBqB,MAApB,EAA4BJ,cAAc,CAAC,CAAD,CAA1C,EAA+CA,cAAc,CAAC,CAAD,CAA7D,CAAT;AACAlG,IAAAA,IAAI,CAAC2F,eAAD,CAAJ,GAAwBzG,IAAI,CAACmH,GAAG,GAAGC,MAAP,CAA5B;AACAD,IAAAA,GAAG,GAAGA,GAAG,GAAGC,MAAN,GAAeD,GAAf,GAAqBC,MAA3B;;AACAtG,IAAAA,IAAI,CAAC0G,oBAAL,CAA0BrG,OAAO,GAAGgG,GAAH,GAASD,GAA1C,EAA+C/F,OAAO,GAAG+F,GAAH,GAASC,GAA/D,EAAoErG,IAAI,CAACG,KAAzE,EAAgFH,IAAI,CAACM,MAArF;;AACAN,IAAAA,IAAI,CAACyF,OAAD,CAAJ,GAAgB,SAASY,GAAT,GAAeA,GAAf,GAAqBA,GAAG,IAAIrG,IAAI,CAACyF,OAAO,GAAG,YAAX,CAAJ,IAAgC,CAApC,CAAxC;AACAzF,IAAAA,IAAI,CAAC,QAAQyF,OAAO,CAACkB,WAAR,EAAT,CAAJ,GAAsC,SAASL,MAAT,GAAkBA,MAAlB,GAA2BA,MAAM,IAAItG,IAAI,CAACyF,OAAO,GAAG,YAAX,CAAJ,IAAgC,CAApC,CAAvE;AACAzF,IAAAA,IAAI,CAAC,YAAYyF,OAAO,CAACkB,WAAR,EAAb,CAAJ,GAA0CZ,aAAa,CAACQ,SAAd,CAAwBlH,uBAAxB,CAA1C;;AACAW,IAAAA,IAAI,CAACqF,mBAAL,CAAyBC,cAAzB;;AACA,QAAItF,IAAI,CAAC4G,aAAL,IAAsB,SAAS5G,IAAI,CAAC0F,OAAD,CAAvC,EAAkD;AAC9C,UAAI1F,IAAI,CAAC0F,OAAD,CAAJ,GAAgBJ,cAAc,CAAC,CAAD,CAAlC,EAAuC;AACnCtF,QAAAA,IAAI,CAAC4F,eAAD,CAAJ,GAAwB5F,IAAI,CAAC4F,eAAD,CAAJ,IAAyBN,cAAc,CAAC,CAAD,CAAd,GAAoBtF,IAAI,CAAC0F,OAAD,CAAjD,CAAxB;AACA1F,QAAAA,IAAI,CAAC0F,OAAD,CAAJ,GAAgBJ,cAAc,CAAC,CAAD,CAA9B;AACH;;AACD,UAAItF,IAAI,CAAC0F,OAAD,CAAJ,GAAgB1F,IAAI,CAAC4F,eAAD,CAApB,GAAwCN,cAAc,CAAC,CAAD,CAA1D,EAA+D;AAC3DtF,QAAAA,IAAI,CAAC4F,eAAD,CAAJ,GAAwBN,cAAc,CAAC,CAAD,CAAd,GAAoBtF,IAAI,CAAC0F,OAAD,CAAhD;AACH;AACJ;AACJ,GA1QqC;AA2QtCmB,EAAAA,aAAa,EAAE,uBAASxD,gBAAT,EAA2BC,KAA3B,EAAkC;AAC7C,SAAKQ,OAAL,CAAaK,SAAb,CAAuBtF,OAAO,CAAC,EAAD,EAAKyE,KAAL,EAAY,CAACD,gBAAD,GAAoB,KAAKM,eAAL,EAApB,GAA6C,EAAzD,CAA9B;AACH,GA7QqC;AA8QtCA,EAAAA,eAAe,EAAE,2BAAW;AACxB,QAAI3D,IAAI,GAAG,IAAX;AACA,QAAIU,CAAC,GAAGV,IAAI,CAACU,CAAb;AACA,QAAIC,CAAC,GAAGX,IAAI,CAACW,CAAb;AACA,QAAIR,KAAK,GAAGH,IAAI,CAACG,KAAjB;AACA,QAAIG,MAAM,GAAGN,IAAI,CAACM,MAAlB;AACA,QAAIoF,OAAO,GAAG1F,IAAI,CAACqB,MAAL,CAAY2E,eAAZ,EAAd;AACA,QAAI3F,OAAO,GAAGL,IAAI,CAACI,QAAL,CAAcC,OAA5B;;AACA,QAAIqF,OAAO,CAACoB,eAAZ,EAA6B;AACzB,UAAIC,WAAW,GAAGrB,OAAO,CAACsB,UAAR,EAAlB;AACA,UAAIC,UAAU,GAAGlI,IAAI,CAACmI,KAAL,CAAWH,WAAW,CAAC5G,KAAZ,GAAoB,CAA/B,CAAjB;AACA,UAAIgH,eAAe,GAAGzB,OAAO,CAACoB,eAAR,EAAtB;;AACA,UAAIC,WAAW,CAACK,OAAhB,EAAyB;AACrB,YAAI,CAAC/G,OAAL,EAAc;AACVC,UAAAA,MAAM,IAAIN,IAAI,CAAC8C,IAAL,KAAc9C,IAAI,CAAC6D,QAAnB,IAA+B7D,IAAI,CAAC8C,IAAL,KAAcqE,eAAe,GAAGzB,OAAO,CAAC2B,YAAR,EAA/D,GAAwFJ,UAAxF,GAAqG,CAA/G;AACA3G,UAAAA,MAAM,GAAG,CAAT,KAAeA,MAAM,GAAG,CAAxB;AACH,SAHD,MAGO;AACH,cAAIgH,eAAe,GAAGtH,IAAI,CAAC4C,IAAL,KAAc5C,IAAI,CAAC4D,QAAnB,IAA+B5D,IAAI,CAAC4C,IAAL,KAAcuE,eAAe,GAAGzB,OAAO,CAAC2B,YAAR,EAArF;AACA3G,UAAAA,CAAC,IAAI4G,eAAe,GAAGL,UAAH,GAAgB,CAApC;AACA9G,UAAAA,KAAK,IAAImH,eAAe,GAAGL,UAAH,GAAgB,CAAxC;AACA9G,UAAAA,KAAK,GAAG,CAAR,KAAcA,KAAK,GAAG,CAAtB;AACH;AACJ;AACJ;;AACD,WAAO;AACHO,MAAAA,CAAC,EAAEA,CADA;AAEHC,MAAAA,CAAC,EAAEA,CAFA;AAGHR,MAAAA,KAAK,EAAEA,KAHJ;AAIHG,MAAAA,MAAM,EAAEA;AAJL,KAAP;AAMH,GA5SqC;AA6StCiH,EAAAA,QAAQ,EAAE,kBAAS7G,CAAT,EAAYC,CAAZ,EAAe;AACrB,QAAIX,IAAI,GAAG,IAAX;AACA,WAAOU,CAAC,IAAIV,IAAI,CAACU,CAAV,IAAeA,CAAC,IAAIV,IAAI,CAACU,CAAL,GAASV,IAAI,CAACG,KAAlC,IAA2CQ,CAAC,IAAIX,IAAI,CAACW,CAArD,IAA0DA,CAAC,IAAIX,IAAI,CAACW,CAAL,GAASX,IAAI,CAACM,MAApF;AACH;AAhTqC,CAAlB,CAAxB","sourcesContent":["/**\r\n * DevExtreme (viz/series/points/bar_point.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar extend = require(\"../../../core/utils/extend\").extend;\r\nvar _extend = extend;\r\nvar _math = Math;\r\nvar _floor = _math.floor;\r\nvar _abs = _math.abs;\r\nvar symbolPoint = require(\"./symbol_point\");\r\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\r\nvar DEFAULT_BAR_TRACKER_SIZE = 9;\r\nvar CORRECTING_BAR_TRACKER_VALUE = 4;\r\nvar RIGHT = \"right\";\r\nvar LEFT = \"left\";\r\nvar TOP = \"top\";\r\nvar BOTTOM = \"bottom\";\r\nmodule.exports = _extend({}, symbolPoint, {\r\n    correctCoordinates: function(correctOptions) {\r\n        var that = this;\r\n        var correction = _floor(correctOptions.offset - correctOptions.width / 2);\r\n        if (that._options.rotated) {\r\n            that.height = correctOptions.width;\r\n            that.yCorrection = correction;\r\n            that.xCorrection = null\r\n        } else {\r\n            that.width = correctOptions.width;\r\n            that.xCorrection = correction;\r\n            that.yCorrection = null\r\n        }\r\n    },\r\n    _getGraphicBBox: function() {\r\n        return {\r\n            x: this.x,\r\n            y: this.y,\r\n            width: this.width,\r\n            height: this.height\r\n        }\r\n    },\r\n    _getLabelConnector: function(location) {\r\n        return this._getGraphicBBox(location)\r\n    },\r\n    _getLabelPosition: function() {\r\n        var that = this;\r\n        var position;\r\n        var initialValue = that.initialValue;\r\n        var invert = that._getValTranslator().getBusinessRange().invert;\r\n        var isDiscreteValue = \"discrete\" === that.series.valueAxisType;\r\n        var isFullStacked = that.series.isFullStackedSeries();\r\n        var notAxisInverted = !isDiscreteValue && (initialValue >= 0 && !invert || initialValue < 0 && invert) || isDiscreteValue && !invert || isFullStacked;\r\n        if (!that._options.rotated) {\r\n            position = notAxisInverted ? TOP : BOTTOM\r\n        } else {\r\n            position = notAxisInverted ? RIGHT : LEFT\r\n        }\r\n        return position\r\n    },\r\n    _getLabelCoords: function(label) {\r\n        var that = this;\r\n        var coords;\r\n        if (0 === that.initialValue && that.series.isFullStackedSeries()) {\r\n            if (!this._options.rotated) {\r\n                coords = that._getLabelCoordOfPosition(label, TOP)\r\n            } else {\r\n                coords = that._getLabelCoordOfPosition(label, RIGHT)\r\n            }\r\n        } else {\r\n            if (\"inside\" === label.getLayoutOptions().position) {\r\n                coords = that._getLabelCoordOfPosition(label, \"inside\")\r\n            } else {\r\n                coords = symbolPoint._getLabelCoords.call(this, label)\r\n            }\r\n        }\r\n        return coords\r\n    },\r\n    _checkLabelPosition: function(label, coord) {\r\n        var that = this;\r\n        var visibleArea = that._getVisibleArea();\r\n        if (that._isPointInVisibleArea(visibleArea, that._getGraphicBBox())) {\r\n            return that._moveLabelOnCanvas(coord, visibleArea, label.getBoundingRect())\r\n        }\r\n        return coord\r\n    },\r\n    hideInsideLabel: function(label, coord) {\r\n        var graphicBBox = this._getGraphicBBox();\r\n        var labelBBox = label.getBoundingRect();\r\n        if (this._options.resolveLabelsOverlapping) {\r\n            if ((coord.y <= graphicBBox.y && coord.y + labelBBox.height >= graphicBBox.y + graphicBBox.height || coord.x <= graphicBBox.x && coord.x + labelBBox.width >= graphicBBox.x + graphicBBox.width) && !(coord.y > graphicBBox.y + graphicBBox.height || coord.y + labelBBox.height < graphicBBox.y || coord.x > graphicBBox.x + graphicBBox.width || coord.x + labelBBox.width < graphicBBox.x)) {\r\n                label.draw(false);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _moveLabelOnCanvas: function(coord, visibleArea, labelBBox) {\r\n        var x = coord.x;\r\n        var y = coord.y;\r\n        if (visibleArea.minX > x) {\r\n            x = visibleArea.minX\r\n        }\r\n        if (visibleArea.maxX < x + labelBBox.width) {\r\n            x = visibleArea.maxX - labelBBox.width\r\n        }\r\n        if (visibleArea.minY > y) {\r\n            y = visibleArea.minY\r\n        }\r\n        if (visibleArea.maxY < y + labelBBox.height) {\r\n            y = visibleArea.maxY - labelBBox.height\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y\r\n        }\r\n    },\r\n    _showForZeroValues: function() {\r\n        return this._options.label.showForZeroValues || this.initialValue\r\n    },\r\n    _drawMarker: function(renderer, group, animationEnabled) {\r\n        var that = this;\r\n        var style = that._getStyle();\r\n        var r = that._options.cornerRadius;\r\n        var rotated = that._options.rotated;\r\n        var _that$getMarkerCoords = that.getMarkerCoords(),\r\n            x = _that$getMarkerCoords.x,\r\n            y = _that$getMarkerCoords.y,\r\n            width = _that$getMarkerCoords.width,\r\n            height = _that$getMarkerCoords.height;\r\n        if (animationEnabled) {\r\n            if (rotated) {\r\n                width = 0;\r\n                x = that.defaultX\r\n            } else {\r\n                height = 0;\r\n                y = that.defaultY\r\n            }\r\n        }\r\n        that.graphic = renderer.rect(x, y, width, height).attr({\r\n            rx: r,\r\n            ry: r\r\n        }).smartAttr(style).data({\r\n            \"chart-data-point\": that\r\n        }).append(group)\r\n    },\r\n    _getSettingsForTracker: function() {\r\n        var that = this;\r\n        var y = that.y;\r\n        var height = that.height;\r\n        var x = that.x;\r\n        var width = that.width;\r\n        if (that._options.rotated) {\r\n            if (1 === width) {\r\n                width = DEFAULT_BAR_TRACKER_SIZE;\r\n                x -= CORRECTING_BAR_TRACKER_VALUE\r\n            }\r\n        } else {\r\n            if (1 === height) {\r\n                height = DEFAULT_BAR_TRACKER_SIZE;\r\n                y -= CORRECTING_BAR_TRACKER_VALUE\r\n            }\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height\r\n        }\r\n    },\r\n    getGraphicSettings: function() {\r\n        var graphic = this.graphic;\r\n        return {\r\n            x: graphic.attr(\"x\"),\r\n            y: graphic.attr(\"y\"),\r\n            height: graphic.attr(\"height\"),\r\n            width: graphic.attr(\"width\")\r\n        }\r\n    },\r\n    _getEdgeTooltipParams: function() {\r\n        var isPositive = this.value >= 0;\r\n        var xCoord;\r\n        var yCoord;\r\n        var invertedBusinessRange = this._getValTranslator().getBusinessRange().invert;\r\n        var x = this.x,\r\n            y = this.y,\r\n            width = this.width,\r\n            height = this.height;\r\n        if (this._options.rotated) {\r\n            yCoord = y + height / 2;\r\n            if (invertedBusinessRange) {\r\n                xCoord = isPositive ? x : x + width\r\n            } else {\r\n                xCoord = isPositive ? x + width : x\r\n            }\r\n        } else {\r\n            xCoord = x + width / 2;\r\n            if (invertedBusinessRange) {\r\n                yCoord = isPositive ? y + height : y\r\n            } else {\r\n                yCoord = isPositive ? y : y + height\r\n            }\r\n        }\r\n        return {\r\n            x: xCoord,\r\n            y: yCoord,\r\n            offset: 0\r\n        }\r\n    },\r\n    getTooltipParams: function(location) {\r\n        if (\"edge\" === location) {\r\n            return this._getEdgeTooltipParams()\r\n        }\r\n        var center = this.getCenterCoord();\r\n        center.offset = 0;\r\n        return center\r\n    },\r\n    getCenterCoord: function() {\r\n        var width = this.width,\r\n            height = this.height,\r\n            x = this.x,\r\n            y = this.y;\r\n        return {\r\n            x: x + width / 2,\r\n            y: y + height / 2\r\n        }\r\n    },\r\n    _truncateCoord: function(coord, minBounce, maxBounce) {\r\n        if (null === coord) {\r\n            return coord\r\n        }\r\n        if (coord < minBounce) {\r\n            return minBounce\r\n        }\r\n        if (coord > maxBounce) {\r\n            return maxBounce\r\n        }\r\n        return coord\r\n    },\r\n    _getErrorBarBaseEdgeLength: function() {\r\n        return this._options.rotated ? this.height : this.width\r\n    },\r\n    _translateErrorBars: function(argVisibleArea) {\r\n        symbolPoint._translateErrorBars.call(this);\r\n        if (this._errorBarPos < argVisibleArea[0] || this._errorBarPos > argVisibleArea[1]) {\r\n            this._errorBarPos = void 0\r\n        }\r\n    },\r\n    _translate: function() {\r\n        var that = this;\r\n        var rotated = that._options.rotated;\r\n        var valAxis = rotated ? \"x\" : \"y\";\r\n        var argAxis = rotated ? \"y\" : \"x\";\r\n        var valIntervalName = rotated ? \"width\" : \"height\";\r\n        var argIntervalName = rotated ? \"height\" : \"width\";\r\n        var argTranslator = that._getArgTranslator();\r\n        var valTranslator = that._getValTranslator();\r\n        var argVisibleArea = that.series.getArgumentAxis().getVisibleArea();\r\n        var valVisibleArea = that.series.getValueAxis().getVisibleArea();\r\n        var arg;\r\n        var val;\r\n        var minVal;\r\n        arg = argTranslator.translate(that.argument);\r\n        that[argAxis] = arg = null === arg ? arg : arg + (that[argAxis + \"Correction\"] || 0);\r\n        val = valTranslator.translate(that.value, 1);\r\n        minVal = valTranslator.translate(that.minValue);\r\n        that[\"v\" + valAxis] = val;\r\n        that[\"v\" + argAxis] = arg + that[argIntervalName] / 2;\r\n        val = that._truncateCoord(val, valVisibleArea[0], valVisibleArea[1]);\r\n        minVal = that._truncateCoord(minVal, valVisibleArea[0], valVisibleArea[1]);\r\n        that[valIntervalName] = _abs(val - minVal);\r\n        val = val < minVal ? val : minVal;\r\n        that._calculateVisibility(rotated ? val : arg, rotated ? arg : val, that.width, that.height);\r\n        that[valAxis] = null === val ? val : val + (that[valAxis + \"Correction\"] || 0);\r\n        that[\"min\" + valAxis.toUpperCase()] = null === minVal ? minVal : minVal + (that[valAxis + \"Correction\"] || 0);\r\n        that[\"default\" + valAxis.toUpperCase()] = valTranslator.translate(CANVAS_POSITION_DEFAULT);\r\n        that._translateErrorBars(argVisibleArea);\r\n        if (that.inVisibleArea && null !== that[argAxis]) {\r\n            if (that[argAxis] < argVisibleArea[0]) {\r\n                that[argIntervalName] = that[argIntervalName] - (argVisibleArea[0] - that[argAxis]);\r\n                that[argAxis] = argVisibleArea[0]\r\n            }\r\n            if (that[argAxis] + that[argIntervalName] > argVisibleArea[1]) {\r\n                that[argIntervalName] = argVisibleArea[1] - that[argAxis]\r\n            }\r\n        }\r\n    },\r\n    _updateMarker: function(animationEnabled, style) {\r\n        this.graphic.smartAttr(_extend({}, style, !animationEnabled ? this.getMarkerCoords() : {}))\r\n    },\r\n    getMarkerCoords: function() {\r\n        var that = this;\r\n        var x = that.x;\r\n        var y = that.y;\r\n        var width = that.width;\r\n        var height = that.height;\r\n        var argAxis = that.series.getArgumentAxis();\r\n        var rotated = that._options.rotated;\r\n        if (argAxis.getAxisPosition) {\r\n            var axisOptions = argAxis.getOptions();\r\n            var edgeOffset = Math.round(axisOptions.width / 2);\r\n            var argAxisPosition = argAxis.getAxisPosition();\r\n            if (axisOptions.visible) {\r\n                if (!rotated) {\r\n                    height -= that.minY === that.defaultY && that.minY === argAxisPosition - argAxis.getAxisShift() ? edgeOffset : 0;\r\n                    height < 0 && (height = 0)\r\n                } else {\r\n                    var isStartFromAxis = that.minX === that.defaultX && that.minX === argAxisPosition - argAxis.getAxisShift();\r\n                    x += isStartFromAxis ? edgeOffset : 0;\r\n                    width -= isStartFromAxis ? edgeOffset : 0;\r\n                    width < 0 && (width = 0)\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height\r\n        }\r\n    },\r\n    coordsIn: function(x, y) {\r\n        var that = this;\r\n        return x >= that.x && x <= that.x + that.width && y >= that.y && y <= that.y + that.height\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"script"}