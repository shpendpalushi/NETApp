{"ast":null,"code":"/**\r\n * DevExtreme (viz/funnel/tiling.pyramid.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar CENTER = .5;\nvar LEFTCORNER = 0;\nvar RIGHTCORNER = 1;\nmodule.exports = {\n  getFigures: function getFigures(data, neckWidth, neckHeight) {\n    var height = 0;\n    var y = 0;\n    var x = 0;\n    var offsetX = 0;\n    var halfNeckWidth = neckWidth / 2;\n    var offsetFromCorner = CENTER - halfNeckWidth;\n    var funnelHeight = 1 - neckHeight;\n    var neckLeftCorner = CENTER - halfNeckWidth;\n    var neckRightCorner = CENTER + halfNeckWidth;\n    return data.map(function (value) {\n      x = offsetX;\n      y = height;\n      height += value;\n      offsetX = offsetFromCorner * height / funnelHeight;\n\n      if (y <= funnelHeight && height <= funnelHeight) {\n        return [x, y, RIGHTCORNER - x, y, RIGHTCORNER - offsetX, height, LEFTCORNER + offsetX, height];\n      } else {\n        if (y <= funnelHeight && height > funnelHeight) {\n          return [x, y, RIGHTCORNER - x, y, neckRightCorner, funnelHeight, neckRightCorner, height, neckLeftCorner, height, neckLeftCorner, funnelHeight];\n        } else {\n          return [neckLeftCorner, y, neckRightCorner, y, neckRightCorner, height, neckLeftCorner, height];\n        }\n      }\n    });\n  },\n  normalizeValues: function normalizeValues(items) {\n    var sum = items.reduce(function (sum, item) {\n      return sum + item.value;\n    }, 0);\n    return items.map(function (item) {\n      return item.value / sum;\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/User/Documents/Templates/Angular/black-dashboard-pro-angular-v1.1.1/black-dashboard-pro-angular-v1.1.1/node_modules/devextreme/viz/funnel/tiling.pyramid.js"],"names":["CENTER","LEFTCORNER","RIGHTCORNER","module","exports","getFigures","data","neckWidth","neckHeight","height","y","x","offsetX","halfNeckWidth","offsetFromCorner","funnelHeight","neckLeftCorner","neckRightCorner","map","value","normalizeValues","items","sum","reduce","item"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,MAAM,GAAG,EAAb;AACA,IAAIC,UAAU,GAAG,CAAjB;AACA,IAAIC,WAAW,GAAG,CAAlB;AACAC,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,UAAU,EAAE,oBAASC,IAAT,EAAeC,SAAf,EAA0BC,UAA1B,EAAsC;AAC9C,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIC,CAAC,GAAG,CAAR;AACA,QAAIC,CAAC,GAAG,CAAR;AACA,QAAIC,OAAO,GAAG,CAAd;AACA,QAAIC,aAAa,GAAGN,SAAS,GAAG,CAAhC;AACA,QAAIO,gBAAgB,GAAGd,MAAM,GAAGa,aAAhC;AACA,QAAIE,YAAY,GAAG,IAAIP,UAAvB;AACA,QAAIQ,cAAc,GAAGhB,MAAM,GAAGa,aAA9B;AACA,QAAII,eAAe,GAAGjB,MAAM,GAAGa,aAA/B;AACA,WAAOP,IAAI,CAACY,GAAL,CAAS,UAASC,KAAT,EAAgB;AAC5BR,MAAAA,CAAC,GAAGC,OAAJ;AACAF,MAAAA,CAAC,GAAGD,MAAJ;AACAA,MAAAA,MAAM,IAAIU,KAAV;AACAP,MAAAA,OAAO,GAAGE,gBAAgB,GAAGL,MAAnB,GAA4BM,YAAtC;;AACA,UAAIL,CAAC,IAAIK,YAAL,IAAqBN,MAAM,IAAIM,YAAnC,EAAiD;AAC7C,eAAO,CAACJ,CAAD,EAAID,CAAJ,EAAOR,WAAW,GAAGS,CAArB,EAAwBD,CAAxB,EAA2BR,WAAW,GAAGU,OAAzC,EAAkDH,MAAlD,EAA0DR,UAAU,GAAGW,OAAvE,EAAgFH,MAAhF,CAAP;AACH,OAFD,MAEO;AACH,YAAIC,CAAC,IAAIK,YAAL,IAAqBN,MAAM,GAAGM,YAAlC,EAAgD;AAC5C,iBAAO,CAACJ,CAAD,EAAID,CAAJ,EAAOR,WAAW,GAAGS,CAArB,EAAwBD,CAAxB,EAA2BO,eAA3B,EAA4CF,YAA5C,EAA0DE,eAA1D,EAA2ER,MAA3E,EAAmFO,cAAnF,EAAmGP,MAAnG,EAA2GO,cAA3G,EAA2HD,YAA3H,CAAP;AACH,SAFD,MAEO;AACH,iBAAO,CAACC,cAAD,EAAiBN,CAAjB,EAAoBO,eAApB,EAAqCP,CAArC,EAAwCO,eAAxC,EAAyDR,MAAzD,EAAiEO,cAAjE,EAAiFP,MAAjF,CAAP;AACH;AACJ;AACJ,KAdM,CAAP;AAeH,GA1BY;AA2BbW,EAAAA,eAAe,EAAE,yBAASC,KAAT,EAAgB;AAC7B,QAAIC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa,UAASD,GAAT,EAAcE,IAAd,EAAoB;AACvC,aAAOF,GAAG,GAAGE,IAAI,CAACL,KAAlB;AACH,KAFS,EAEP,CAFO,CAAV;AAGA,WAAOE,KAAK,CAACH,GAAN,CAAU,UAASM,IAAT,EAAe;AAC5B,aAAOA,IAAI,CAACL,KAAL,GAAaG,GAApB;AACH,KAFM,CAAP;AAGH;AAlCY,CAAjB","sourcesContent":["/**\r\n * DevExtreme (viz/funnel/tiling.pyramid.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar CENTER = .5;\r\nvar LEFTCORNER = 0;\r\nvar RIGHTCORNER = 1;\r\nmodule.exports = {\r\n    getFigures: function(data, neckWidth, neckHeight) {\r\n        var height = 0;\r\n        var y = 0;\r\n        var x = 0;\r\n        var offsetX = 0;\r\n        var halfNeckWidth = neckWidth / 2;\r\n        var offsetFromCorner = CENTER - halfNeckWidth;\r\n        var funnelHeight = 1 - neckHeight;\r\n        var neckLeftCorner = CENTER - halfNeckWidth;\r\n        var neckRightCorner = CENTER + halfNeckWidth;\r\n        return data.map(function(value) {\r\n            x = offsetX;\r\n            y = height;\r\n            height += value;\r\n            offsetX = offsetFromCorner * height / funnelHeight;\r\n            if (y <= funnelHeight && height <= funnelHeight) {\r\n                return [x, y, RIGHTCORNER - x, y, RIGHTCORNER - offsetX, height, LEFTCORNER + offsetX, height]\r\n            } else {\r\n                if (y <= funnelHeight && height > funnelHeight) {\r\n                    return [x, y, RIGHTCORNER - x, y, neckRightCorner, funnelHeight, neckRightCorner, height, neckLeftCorner, height, neckLeftCorner, funnelHeight]\r\n                } else {\r\n                    return [neckLeftCorner, y, neckRightCorner, y, neckRightCorner, height, neckLeftCorner, height]\r\n                }\r\n            }\r\n        })\r\n    },\r\n    normalizeValues: function(items) {\r\n        var sum = items.reduce(function(sum, item) {\r\n            return sum + item.value\r\n        }, 0);\r\n        return items.map(function(item) {\r\n            return item.value / sum\r\n        })\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"script"}