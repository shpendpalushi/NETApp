{"ast":null,"code":"/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.notification.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _ui = require(\"../widget/ui.widget\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _popup = require(\"../popup\");\n\nvar _popup2 = _interopRequireDefault(_popup);\n\nvar _ui3 = require(\"../drawer/ui.drawer\");\n\nvar _ui4 = _interopRequireDefault(_ui3);\n\nvar _uiFile_managerNotification = require(\"./ui.file_manager.notification.progress_panel\");\n\nvar _uiFile_managerNotification2 = _interopRequireDefault(_uiFile_managerNotification);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (void 0 === self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (\"undefined\" !== typeof Reflect && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) {\n        return;\n      }\n\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n\n    if (null === object) {\n      break;\n    }\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    _setPrototypeOf(subClass, superClass);\n  }\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar FILE_MANAGER_NOTIFICATION_CLASS = \"dx-filemanager-notification\";\nvar FILE_MANAGER_NOTIFICATION_DRAWER_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-drawer\");\nvar FILE_MANAGER_NOTIFICATION_POPUP_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup\");\nvar FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup-error\");\nvar FILE_MANAGER_NOTIFICATION_COMMON_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common\");\nvar FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-separator\");\nvar FILE_MANAGER_NOTIFICATION_DETAILS_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-details\");\nvar FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common-no-item\");\n\nvar FileManagerNotificationControl = function (_Widget) {\n  _inherits(FileManagerNotificationControl, _Widget);\n\n  function FileManagerNotificationControl() {\n    _classCallCheck(this, FileManagerNotificationControl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FileManagerNotificationControl).apply(this, arguments));\n  }\n\n  _createClass(FileManagerNotificationControl, [{\n    key: \"_initMarkup\",\n    value: function value() {\n      var _this = this;\n\n      _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_initMarkup\", this).call(this);\n\n      this._initActions();\n\n      this._actionProgressStatus = \"default\";\n      this._operationInProgressCount = 0;\n      this._failedOperationCount = 0;\n      var $progressPanelContainer = this.option(\"progressPanelContainer\");\n      var $progressDrawer = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DRAWER_CLASS).appendTo($progressPanelContainer);\n      var contentRenderer = this.option(\"contentTemplate\");\n\n      if ((0, _type.isFunction)(contentRenderer)) {\n        contentRenderer($progressDrawer);\n      }\n\n      this._progressDrawer = this._createComponent($progressDrawer, _ui4.default, {\n        opened: false,\n        position: \"right\",\n        openedStateMode: \"overlap\",\n        closeOnOutsideClick: true,\n        shading: true,\n        template: function template(container) {\n          return _this._progressDrawerTemplate(container);\n        }\n      });\n    }\n  }, {\n    key: \"tryShowProgressPanel\",\n    value: function value() {\n      var _this2 = this;\n\n      if (\"default\" === this._actionProgressStatus) {\n        return;\n      }\n\n      setTimeout(function () {\n        _this2._progressDrawer.show();\n\n        _this2._tryHideActionProgress();\n      });\n    }\n  }, {\n    key: \"addOperation\",\n    value: function value(processingMessage, allowCancel, allowProgressAutoUpdate) {\n      this._operationInProgressCount++;\n\n      var operationInfo = this._progressPanel.addOperation(processingMessage, allowCancel, allowProgressAutoUpdate);\n\n      this._showPopup(processingMessage);\n\n      this._updateActionProgress(processingMessage, \"progress\");\n\n      return operationInfo;\n    }\n  }, {\n    key: \"addOperationDetails\",\n    value: function value(info, details, showCloseButton) {\n      this._progressPanel.addOperationDetails(info, details, showCloseButton);\n    }\n  }, {\n    key: \"updateOperationItemProgress\",\n    value: function value(operationInfo, itemIndex, itemProgress, commonProgress) {\n      this._progressPanel.updateOperationItemProgress(operationInfo, itemIndex, itemProgress, commonProgress);\n    }\n  }, {\n    key: \"completeOperationItem\",\n    value: function value(operationInfo, itemIndex, commonProgress) {\n      this._progressPanel.completeOperationItem(operationInfo, itemIndex, commonProgress);\n    }\n  }, {\n    key: \"completeOperation\",\n    value: function value(info, commonText, isError, statusText) {\n      this._operationInProgressCount--;\n\n      if (isError) {\n        this._failedOperationCount++;\n      } else {\n        this._showPopup(commonText);\n      }\n\n      this._progressPanel.completeOperation(info, commonText, isError, statusText);\n\n      if (!this._isProgressDrawerOpened() || !this._tryHideActionProgress()) {\n        var status = 0 === this._failedOperationCount ? \"success\" : \"error\";\n\n        this._updateActionProgress(\"\", status);\n      }\n    }\n  }, {\n    key: \"completeSingleOperationWithError\",\n    value: function value(operationInfo, errorInfo) {\n      this._progressPanel.completeSingleOperationWithError(operationInfo, errorInfo.detailErrorText);\n\n      this._notifyError(errorInfo);\n    }\n  }, {\n    key: \"addOperationDetailsError\",\n    value: function value(operationInfo, errorInfo) {\n      this._progressPanel.addOperationDetailsError(operationInfo, errorInfo.itemIndex, errorInfo.detailErrorText);\n\n      this._notifyError(errorInfo);\n    }\n  }, {\n    key: \"_hideProgressPanel\",\n    value: function value() {\n      var _this3 = this;\n\n      setTimeout(function () {\n        return _this3._progressDrawer.hide();\n      });\n    }\n  }, {\n    key: \"_tryHideActionProgress\",\n    value: function value() {\n      if (0 === this._operationInProgressCount && 0 === this._failedOperationCount) {\n        this._updateActionProgress(\"\", \"default\");\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_updateActionProgress\",\n    value: function value(message, status) {\n      this._actionProgressStatus = status;\n\n      this._raiseActionProgress(message, status);\n    }\n  }, {\n    key: \"_progressDrawerTemplate\",\n    value: function value(container) {\n      var _this4 = this;\n\n      var $panel = (0, _renderer2.default)(\"<div>\").appendTo(container);\n      this._progressPanel = this._createComponent($panel, this._getProgressPanelComponent(), {\n        onOperationClosed: function onOperationClosed(_ref) {\n          var info = _ref.info;\n          return _this4._onProgressPanelOperationClosed(info);\n        },\n        onOperationCanceled: function onOperationCanceled(_ref2) {\n          var info = _ref2.info;\n          return _this4._raiseOperationCanceled(info);\n        },\n        onOperationItemCanceled: function onOperationItemCanceled(_ref3) {\n          var item = _ref3.item,\n              itemIndex = _ref3.itemIndex;\n          return _this4._raiseOperationItemCanceled(item, itemIndex);\n        },\n        onPanelClosed: function onPanelClosed() {\n          return _this4._hideProgressPanel();\n        }\n      });\n    }\n  }, {\n    key: \"_getProgressPanelComponent\",\n    value: function value() {\n      return _uiFile_managerNotification2.default;\n    }\n  }, {\n    key: \"_notifyError\",\n    value: function value(errorInfo) {\n      this._showPopupError(errorInfo);\n\n      this._updateActionProgress(errorInfo.commonErrorText, \"error\");\n    }\n  }, {\n    key: \"_onProgressPanelOperationClosed\",\n    value: function value(info) {\n      if (info.hasError) {\n        this._failedOperationCount--;\n\n        this._tryHideActionProgress();\n      }\n    }\n  }, {\n    key: \"_isProgressDrawerOpened\",\n    value: function value() {\n      return this._progressDrawer.option(\"opened\");\n    }\n  }, {\n    key: \"_showPopup\",\n    value: function value(content, errorMode) {\n      if (this._isProgressDrawerOpened()) {\n        return;\n      }\n\n      this._getNotificationPopup()._wrapper().toggleClass(FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS, !!errorMode);\n\n      this._getNotificationPopup().option(\"contentTemplate\", content);\n\n      if (!this._getNotificationPopup().option(\"visible\")) {\n        this._getNotificationPopup().show();\n      }\n    }\n  }, {\n    key: \"_showPopupError\",\n    value: function value(errorInfo) {\n      var $content = (0, _renderer2.default)(\"<div>\");\n      var $message = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_COMMON_CLASS).text(errorInfo.commonErrorText);\n      var $separator = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS);\n      (0, _renderer2.default)(\"<div>\").appendTo($separator);\n      var $details = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DETAILS_CLASS);\n\n      if (errorInfo.item) {\n        this._progressPanel.createErrorDetailsProgressBox($details, errorInfo.item, errorInfo.detailErrorText);\n      } else {\n        $message.addClass(FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS);\n\n        this._progressPanel.renderError($details, $separator, errorInfo.detailErrorText);\n      }\n\n      $content.append($message, $separator, $details);\n\n      this._showPopup($content, true);\n    }\n  }, {\n    key: \"_getNotificationPopup\",\n    value: function value() {\n      if (!this._notificationPopup) {\n        var $popup = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_POPUP_CLASS).appendTo(this.$element());\n        this._notificationPopup = this._createComponent($popup, _popup2.default, {\n          container: this.$element(),\n          width: \"auto\",\n          height: \"auto\",\n          showTitle: false,\n          dragEnabled: false,\n          shading: false,\n          visible: false,\n          closeOnOutsideClick: true,\n          animation: {\n            duration: 0\n          },\n          position: {\n            my: \"right top\",\n            at: \"right bottom\",\n            of: \".dx-filemanager-toolbar\",\n            offset: \"-50 -5\"\n          }\n        });\n      }\n\n      return this._notificationPopup;\n    }\n  }, {\n    key: \"_raiseActionProgress\",\n    value: function value(message, status) {\n      this._actions.onActionProgress({\n        message: message,\n        status: status\n      });\n    }\n  }, {\n    key: \"_raiseOperationCanceled\",\n    value: function value(info) {\n      this._actions.onOperationCanceled({\n        info: info\n      });\n    }\n  }, {\n    key: \"_raiseOperationItemCanceled\",\n    value: function value(item, index) {\n      this._actions.onOperationItemCanceled({\n        item: item,\n        itemIndex: index\n      });\n    }\n  }, {\n    key: \"_initActions\",\n    value: function value() {\n      this._actions = {\n        onActionProgress: this._createActionByOption(\"onActionProgress\"),\n        onOperationCanceled: this._createActionByOption(\"onOperationCanceled\"),\n        onOperationItemCanceled: this._createActionByOption(\"onOperationItemCanceled\")\n      };\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_getDefaultOptions\", this).call(this), {\n        progressPanelContainer: null,\n        contentTemplate: null,\n        onActionProgress: null,\n        onOperationCanceled: null,\n        onOperationItemCanceled: null\n      });\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      var name = args.name;\n\n      switch (name) {\n        case \"progressPanelContainer\":\n        case \"contentTemplate\":\n          break;\n\n        case \"onActionProgress\":\n        case \"onOperationCanceled\":\n        case \"onOperationItemCanceled\":\n          this._actions[name] = this._createActionByOption(name);\n          break;\n\n        default:\n          _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }]);\n\n  return FileManagerNotificationControl;\n}(_ui2.default);\n\nexports.default = FileManagerNotificationControl;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/ui/file_manager/ui.file_manager.notification.js"],"names":["Object","defineProperty","exports","value","default","_renderer","require","_renderer2","_interopRequireDefault","_extend","_type","_ui","_ui2","_popup","_popup2","_ui3","_ui4","_uiFile_managerNotification","_uiFile_managerNotification2","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","object","hasOwnProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","FILE_MANAGER_NOTIFICATION_CLASS","FILE_MANAGER_NOTIFICATION_DRAWER_CLASS","concat","FILE_MANAGER_NOTIFICATION_POPUP_CLASS","FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS","FILE_MANAGER_NOTIFICATION_COMMON_CLASS","FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS","FILE_MANAGER_NOTIFICATION_DETAILS_CLASS","FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS","FileManagerNotificationControl","_Widget","apply","arguments","_this","_initActions","_actionProgressStatus","_operationInProgressCount","_failedOperationCount","$progressPanelContainer","option","$progressDrawer","addClass","appendTo","contentRenderer","isFunction","_progressDrawer","_createComponent","opened","position","openedStateMode","closeOnOutsideClick","shading","template","container","_progressDrawerTemplate","_this2","setTimeout","show","_tryHideActionProgress","processingMessage","allowCancel","allowProgressAutoUpdate","operationInfo","_progressPanel","addOperation","_showPopup","_updateActionProgress","info","details","showCloseButton","addOperationDetails","itemIndex","itemProgress","commonProgress","updateOperationItemProgress","completeOperationItem","commonText","isError","statusText","completeOperation","_isProgressDrawerOpened","status","errorInfo","completeSingleOperationWithError","detailErrorText","_notifyError","addOperationDetailsError","_this3","hide","message","_raiseActionProgress","_this4","$panel","_getProgressPanelComponent","onOperationClosed","_ref","_onProgressPanelOperationClosed","onOperationCanceled","_ref2","_raiseOperationCanceled","onOperationItemCanceled","_ref3","item","_raiseOperationItemCanceled","onPanelClosed","_hideProgressPanel","_showPopupError","commonErrorText","hasError","content","errorMode","_getNotificationPopup","_wrapper","toggleClass","$content","$message","text","$separator","$details","createErrorDetailsProgressBox","renderError","append","_notificationPopup","$popup","$element","width","height","showTitle","dragEnabled","visible","animation","duration","my","at","of","offset","_actions","onActionProgress","index","_createActionByOption","extend","progressPanelContainer","contentTemplate","args","name"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/file_manager/ui.file_manager.notification.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.default = void 0;\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _ui = require(\"../widget/ui.widget\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _popup = require(\"../popup\");\r\nvar _popup2 = _interopRequireDefault(_popup);\r\nvar _ui3 = require(\"../drawer/ui.drawer\");\r\nvar _ui4 = _interopRequireDefault(_ui3);\r\nvar _uiFile_managerNotification = require(\"./ui.file_manager.notification.progress_panel\");\r\nvar _uiFile_managerNotification2 = _interopRequireDefault(_uiFile_managerNotification);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar FILE_MANAGER_NOTIFICATION_CLASS = \"dx-filemanager-notification\";\r\nvar FILE_MANAGER_NOTIFICATION_DRAWER_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-drawer\");\r\nvar FILE_MANAGER_NOTIFICATION_POPUP_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup\");\r\nvar FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-popup-error\");\r\nvar FILE_MANAGER_NOTIFICATION_COMMON_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common\");\r\nvar FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-separator\");\r\nvar FILE_MANAGER_NOTIFICATION_DETAILS_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-details\");\r\nvar FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS = \"\".concat(FILE_MANAGER_NOTIFICATION_CLASS, \"-common-no-item\");\r\nvar FileManagerNotificationControl = function(_Widget) {\r\n    _inherits(FileManagerNotificationControl, _Widget);\r\n\r\n    function FileManagerNotificationControl() {\r\n        _classCallCheck(this, FileManagerNotificationControl);\r\n        return _possibleConstructorReturn(this, _getPrototypeOf(FileManagerNotificationControl).apply(this, arguments))\r\n    }\r\n    _createClass(FileManagerNotificationControl, [{\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            var _this = this;\r\n            _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_initMarkup\", this).call(this);\r\n            this._initActions();\r\n            this._actionProgressStatus = \"default\";\r\n            this._operationInProgressCount = 0;\r\n            this._failedOperationCount = 0;\r\n            var $progressPanelContainer = this.option(\"progressPanelContainer\");\r\n            var $progressDrawer = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DRAWER_CLASS).appendTo($progressPanelContainer);\r\n            var contentRenderer = this.option(\"contentTemplate\");\r\n            if ((0, _type.isFunction)(contentRenderer)) {\r\n                contentRenderer($progressDrawer)\r\n            }\r\n            this._progressDrawer = this._createComponent($progressDrawer, _ui4.default, {\r\n                opened: false,\r\n                position: \"right\",\r\n                openedStateMode: \"overlap\",\r\n                closeOnOutsideClick: true,\r\n                shading: true,\r\n                template: function(container) {\r\n                    return _this._progressDrawerTemplate(container)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"tryShowProgressPanel\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            if (\"default\" === this._actionProgressStatus) {\r\n                return\r\n            }\r\n            setTimeout(function() {\r\n                _this2._progressDrawer.show();\r\n                _this2._tryHideActionProgress()\r\n            })\r\n        }\r\n    }, {\r\n        key: \"addOperation\",\r\n        value: function(processingMessage, allowCancel, allowProgressAutoUpdate) {\r\n            this._operationInProgressCount++;\r\n            var operationInfo = this._progressPanel.addOperation(processingMessage, allowCancel, allowProgressAutoUpdate);\r\n            this._showPopup(processingMessage);\r\n            this._updateActionProgress(processingMessage, \"progress\");\r\n            return operationInfo\r\n        }\r\n    }, {\r\n        key: \"addOperationDetails\",\r\n        value: function(info, details, showCloseButton) {\r\n            this._progressPanel.addOperationDetails(info, details, showCloseButton)\r\n        }\r\n    }, {\r\n        key: \"updateOperationItemProgress\",\r\n        value: function(operationInfo, itemIndex, itemProgress, commonProgress) {\r\n            this._progressPanel.updateOperationItemProgress(operationInfo, itemIndex, itemProgress, commonProgress)\r\n        }\r\n    }, {\r\n        key: \"completeOperationItem\",\r\n        value: function(operationInfo, itemIndex, commonProgress) {\r\n            this._progressPanel.completeOperationItem(operationInfo, itemIndex, commonProgress)\r\n        }\r\n    }, {\r\n        key: \"completeOperation\",\r\n        value: function(info, commonText, isError, statusText) {\r\n            this._operationInProgressCount--;\r\n            if (isError) {\r\n                this._failedOperationCount++\r\n            } else {\r\n                this._showPopup(commonText)\r\n            }\r\n            this._progressPanel.completeOperation(info, commonText, isError, statusText);\r\n            if (!this._isProgressDrawerOpened() || !this._tryHideActionProgress()) {\r\n                var status = 0 === this._failedOperationCount ? \"success\" : \"error\";\r\n                this._updateActionProgress(\"\", status)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"completeSingleOperationWithError\",\r\n        value: function(operationInfo, errorInfo) {\r\n            this._progressPanel.completeSingleOperationWithError(operationInfo, errorInfo.detailErrorText);\r\n            this._notifyError(errorInfo)\r\n        }\r\n    }, {\r\n        key: \"addOperationDetailsError\",\r\n        value: function(operationInfo, errorInfo) {\r\n            this._progressPanel.addOperationDetailsError(operationInfo, errorInfo.itemIndex, errorInfo.detailErrorText);\r\n            this._notifyError(errorInfo)\r\n        }\r\n    }, {\r\n        key: \"_hideProgressPanel\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            setTimeout(function() {\r\n                return _this3._progressDrawer.hide()\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_tryHideActionProgress\",\r\n        value: function() {\r\n            if (0 === this._operationInProgressCount && 0 === this._failedOperationCount) {\r\n                this._updateActionProgress(\"\", \"default\");\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }, {\r\n        key: \"_updateActionProgress\",\r\n        value: function(message, status) {\r\n            this._actionProgressStatus = status;\r\n            this._raiseActionProgress(message, status)\r\n        }\r\n    }, {\r\n        key: \"_progressDrawerTemplate\",\r\n        value: function(container) {\r\n            var _this4 = this;\r\n            var $panel = (0, _renderer2.default)(\"<div>\").appendTo(container);\r\n            this._progressPanel = this._createComponent($panel, this._getProgressPanelComponent(), {\r\n                onOperationClosed: function(_ref) {\r\n                    var info = _ref.info;\r\n                    return _this4._onProgressPanelOperationClosed(info)\r\n                },\r\n                onOperationCanceled: function(_ref2) {\r\n                    var info = _ref2.info;\r\n                    return _this4._raiseOperationCanceled(info)\r\n                },\r\n                onOperationItemCanceled: function(_ref3) {\r\n                    var item = _ref3.item,\r\n                        itemIndex = _ref3.itemIndex;\r\n                    return _this4._raiseOperationItemCanceled(item, itemIndex)\r\n                },\r\n                onPanelClosed: function() {\r\n                    return _this4._hideProgressPanel()\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getProgressPanelComponent\",\r\n        value: function() {\r\n            return _uiFile_managerNotification2.default\r\n        }\r\n    }, {\r\n        key: \"_notifyError\",\r\n        value: function(errorInfo) {\r\n            this._showPopupError(errorInfo);\r\n            this._updateActionProgress(errorInfo.commonErrorText, \"error\")\r\n        }\r\n    }, {\r\n        key: \"_onProgressPanelOperationClosed\",\r\n        value: function(info) {\r\n            if (info.hasError) {\r\n                this._failedOperationCount--;\r\n                this._tryHideActionProgress()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isProgressDrawerOpened\",\r\n        value: function() {\r\n            return this._progressDrawer.option(\"opened\")\r\n        }\r\n    }, {\r\n        key: \"_showPopup\",\r\n        value: function(content, errorMode) {\r\n            if (this._isProgressDrawerOpened()) {\r\n                return\r\n            }\r\n            this._getNotificationPopup()._wrapper().toggleClass(FILE_MANAGER_NOTIFICATION_POPUP_ERROR_CLASS, !!errorMode);\r\n            this._getNotificationPopup().option(\"contentTemplate\", content);\r\n            if (!this._getNotificationPopup().option(\"visible\")) {\r\n                this._getNotificationPopup().show()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_showPopupError\",\r\n        value: function(errorInfo) {\r\n            var $content = (0, _renderer2.default)(\"<div>\");\r\n            var $message = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_COMMON_CLASS).text(errorInfo.commonErrorText);\r\n            var $separator = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_SEPARATOR_CLASS);\r\n            (0, _renderer2.default)(\"<div>\").appendTo($separator);\r\n            var $details = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_DETAILS_CLASS);\r\n            if (errorInfo.item) {\r\n                this._progressPanel.createErrorDetailsProgressBox($details, errorInfo.item, errorInfo.detailErrorText)\r\n            } else {\r\n                $message.addClass(FILE_MANAGER_NOTIFICATION_COMMON_NO_ITEM_CLASS);\r\n                this._progressPanel.renderError($details, $separator, errorInfo.detailErrorText)\r\n            }\r\n            $content.append($message, $separator, $details);\r\n            this._showPopup($content, true)\r\n        }\r\n    }, {\r\n        key: \"_getNotificationPopup\",\r\n        value: function() {\r\n            if (!this._notificationPopup) {\r\n                var $popup = (0, _renderer2.default)(\"<div>\").addClass(FILE_MANAGER_NOTIFICATION_POPUP_CLASS).appendTo(this.$element());\r\n                this._notificationPopup = this._createComponent($popup, _popup2.default, {\r\n                    container: this.$element(),\r\n                    width: \"auto\",\r\n                    height: \"auto\",\r\n                    showTitle: false,\r\n                    dragEnabled: false,\r\n                    shading: false,\r\n                    visible: false,\r\n                    closeOnOutsideClick: true,\r\n                    animation: {\r\n                        duration: 0\r\n                    },\r\n                    position: {\r\n                        my: \"right top\",\r\n                        at: \"right bottom\",\r\n                        of: \".dx-filemanager-toolbar\",\r\n                        offset: \"-50 -5\"\r\n                    }\r\n                })\r\n            }\r\n            return this._notificationPopup\r\n        }\r\n    }, {\r\n        key: \"_raiseActionProgress\",\r\n        value: function(message, status) {\r\n            this._actions.onActionProgress({\r\n                message: message,\r\n                status: status\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseOperationCanceled\",\r\n        value: function(info) {\r\n            this._actions.onOperationCanceled({\r\n                info: info\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_raiseOperationItemCanceled\",\r\n        value: function(item, index) {\r\n            this._actions.onOperationItemCanceled({\r\n                item: item,\r\n                itemIndex: index\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {\r\n            this._actions = {\r\n                onActionProgress: this._createActionByOption(\"onActionProgress\"),\r\n                onOperationCanceled: this._createActionByOption(\"onOperationCanceled\"),\r\n                onOperationItemCanceled: this._createActionByOption(\"onOperationItemCanceled\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                progressPanelContainer: null,\r\n                contentTemplate: null,\r\n                onActionProgress: null,\r\n                onOperationCanceled: null,\r\n                onOperationItemCanceled: null\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            var name = args.name;\r\n            switch (name) {\r\n                case \"progressPanelContainer\":\r\n                case \"contentTemplate\":\r\n                    break;\r\n                case \"onActionProgress\":\r\n                case \"onOperationCanceled\":\r\n                case \"onOperationItemCanceled\":\r\n                    this._actions[name] = this._createActionByOption(name);\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(FileManagerNotificationControl.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }]);\r\n    return FileManagerNotificationControl\r\n}(_ui2.default);\r\nexports.default = FileManagerNotificationControl;\r\n"]},"metadata":{},"sourceType":"script"}