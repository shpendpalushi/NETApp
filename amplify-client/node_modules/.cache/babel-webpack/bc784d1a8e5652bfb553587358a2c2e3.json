{"ast":null,"code":"/**\r\n * DevExtreme (viz/pie_chart.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _consts = require(\"./components/consts\");\n\nvar _utils = require(\"./core/utils\");\n\nvar _extend2 = require(\"../core/utils/extend\");\n\nvar _type = require(\"../core/utils/type\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _range = require(\"./translators/range\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _base_chart = require(\"./chart_components/base_chart\");\n\nvar _common = require(\"../core/utils/common\");\n\nvar _translator1d = require(\"./translators/translator1d\");\n\nvar _translator1d2 = _interopRequireDefault(_translator1d);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar OPTIONS_FOR_REFRESH_SERIES = [\"startAngle\", \"innerRadius\", \"segmentsDirection\", \"type\"];\nvar NORMAL_STATE = _consts.states.normalMark;\nvar MAX_RESOLVE_ITERATION_COUNT = 5;\nvar LEGEND_ACTIONS = [_consts.states.resetItem, _consts.states.applyHover, _consts.states.applySelected, _consts.states.applySelected];\n\nfunction getLegendItemAction(points) {\n  var state = NORMAL_STATE;\n  points.forEach(function (point) {\n    state |= point.fullState;\n  });\n  return LEGEND_ACTIONS[state];\n}\n\nfunction correctPercentValue(value) {\n  if ((0, _type.isNumeric)(value)) {\n    if (value > 1) {\n      value = 1;\n    } else {\n      if (value < 0) {\n        value = 0;\n      }\n    }\n  } else {\n    value = void 0;\n  }\n\n  return value;\n}\n\nvar dxPieChart = _base_chart.BaseChart.inherit({\n  _themeSection: \"pie\",\n  _layoutManagerOptions: function _layoutManagerOptions() {\n    return (0, _extend2.extend)(true, {}, this.callBase(), {\n      piePercentage: correctPercentValue(this._themeManager.getOptions(\"diameter\")),\n      minPiePercentage: correctPercentValue(this._themeManager.getOptions(\"minDiameter\"))\n    });\n  },\n  _optionChangesMap: {\n    diameter: \"REINIT\",\n    minDiameter: \"REINIT\",\n    sizeGroup: \"REINIT\"\n  },\n  _disposeCore: function _disposeCore() {\n    pieSizeEqualizer.remove(this);\n    this.callBase();\n  },\n  _groupSeries: function _groupSeries() {\n    var series = this.series;\n    this._groupsData = {\n      groups: [{\n        series: series,\n        valueOptions: {\n          valueType: \"numeric\"\n        }\n      }],\n      argumentOptions: series[0] && series[0].getOptions()\n    };\n  },\n  getArgumentAxis: function getArgumentAxis() {\n    return null;\n  },\n  _getValueAxis: function _getValueAxis() {\n    var translator = new _translator1d2.default.Translator1D().setCodomain(360, 0);\n    return {\n      getTranslator: function getTranslator() {\n        return translator;\n      },\n      setBusinessRange: function setBusinessRange(range) {\n        translator.setDomain(range.min, range.max);\n      }\n    };\n  },\n  _populateBusinessRange: function _populateBusinessRange() {\n    this.series.map(function (series) {\n      var range = new _range2.default.Range();\n      range.addRange(series.getRangeData().val);\n      series.getValueAxis().setBusinessRange(range);\n      return range;\n    });\n  },\n  _specialProcessSeries: function _specialProcessSeries() {\n    (0, _iterator.each)(this.series, function (_, singleSeries) {\n      singleSeries.arrangePoints();\n    });\n  },\n  _checkPaneName: function _checkPaneName() {\n    return true;\n  },\n  _processSingleSeries: function _processSingleSeries(singleSeries) {\n    this.callBase(singleSeries);\n    singleSeries.arrangePoints();\n  },\n  _handleSeriesDataUpdated: function _handleSeriesDataUpdated() {\n    var maxPointCount = 0;\n    this.series.forEach(function (s) {\n      maxPointCount = Math.max(s.getPointsCount(), maxPointCount);\n    });\n    this.series.forEach(function (s) {\n      s.setMaxPointsCount(maxPointCount);\n    });\n    this.callBase();\n  },\n  _getLegendOptions: function _getLegendOptions(item) {\n    var legendItem = this.callBase(item);\n    var legendData = legendItem.legendData;\n    legendData.argument = item.argument;\n    legendData.argumentIndex = item.argumentIndex;\n    legendData.points = [item];\n    return legendItem;\n  },\n  _getLegendTargets: function _getLegendTargets() {\n    var that = this;\n    var itemsByArgument = {};\n    (that.series || []).forEach(function (series) {\n      series.getPoints().forEach(function (point) {\n        var argument = point.argument.valueOf();\n        var index = series.getPointsByArg(argument).indexOf(point);\n        var key = argument.valueOf().toString() + index;\n        itemsByArgument[key] = itemsByArgument[key] || [];\n        var argumentCount = itemsByArgument[key].push(point);\n        point.index = itemsByArgument[key][argumentCount - 2] ? itemsByArgument[key][argumentCount - 2].index : Object.keys(itemsByArgument).length - 1;\n        point.argumentIndex = index;\n      });\n    });\n    var items = [];\n    (0, _iterator.each)(itemsByArgument, function (_, points) {\n      points.forEach(function (point, index) {\n        if (0 === index) {\n          items.push(that._getLegendOptions(point));\n          return;\n        }\n\n        var item = items[items.length - 1];\n        item.legendData.points.push(point);\n\n        if (!item.visible) {\n          item.visible = point.isVisible();\n        }\n      });\n    });\n    return items;\n  },\n  _getLayoutTargets: function _getLayoutTargets() {\n    return [{\n      canvas: this._canvas\n    }];\n  },\n  _getLayoutSeries: function _getLayoutSeries(series, drawOptions) {\n    var that = this;\n    var layout;\n    var canvas = that._canvas;\n    var drawnLabels = false;\n    layout = that.layoutManager.applyPieChartSeriesLayout(canvas, series, true);\n    series.forEach(function (singleSeries) {\n      singleSeries.correctPosition(layout, canvas);\n      drawnLabels = singleSeries.drawLabelsWOPoints() || drawnLabels;\n    });\n\n    if (drawnLabels) {\n      layout = that.layoutManager.applyPieChartSeriesLayout(canvas, series, drawOptions.hideLayoutLabels);\n    }\n\n    series.forEach(function (singleSeries) {\n      singleSeries.hideLabels();\n    });\n    that._sizeGroupLayout = {\n      x: layout.centerX,\n      y: layout.centerY,\n      radius: layout.radiusOuter,\n      drawOptions: drawOptions\n    };\n    return layout;\n  },\n  _getLayoutSeriesForEqualPies: function _getLayoutSeriesForEqualPies(series, sizeGroupLayout) {\n    var canvas = this._canvas;\n    var layout = this.layoutManager.applyEqualPieChartLayout(series, sizeGroupLayout);\n    series.forEach(function (s) {\n      s.correctPosition(layout, canvas);\n      s.drawLabelsWOPoints();\n    });\n    this.layoutManager.correctPieLabelRadius(series, layout, canvas);\n    return layout;\n  },\n  _updateSeriesDimensions: function _updateSeriesDimensions(drawOptions) {\n    var that = this;\n\n    var visibleSeries = that._getVisibleSeries();\n\n    var lengthVisibleSeries = visibleSeries.length;\n    var innerRad;\n    var delta;\n    var layout;\n    var sizeGroupLayout = drawOptions.sizeGroupLayout;\n\n    if (lengthVisibleSeries) {\n      layout = sizeGroupLayout ? that._getLayoutSeriesForEqualPies(visibleSeries, sizeGroupLayout) : that._getLayoutSeries(visibleSeries, drawOptions);\n      delta = (layout.radiusOuter - layout.radiusInner - _consts.pieSeriesSpacing * (lengthVisibleSeries - 1)) / lengthVisibleSeries;\n      innerRad = layout.radiusInner;\n\n      that._setGeometry(layout);\n\n      visibleSeries.forEach(function (singleSeries) {\n        singleSeries.correctRadius({\n          radiusInner: innerRad,\n          radiusOuter: innerRad + delta\n        });\n        innerRad += delta + _consts.pieSeriesSpacing;\n      });\n    }\n  },\n  _renderSeries: function _renderSeries(drawOptions, isRotated, isLegendInside) {\n    this._calculateSeriesLayout(drawOptions, isRotated);\n\n    if (!drawOptions.sizeGroupLayout && this.getSizeGroup()) {\n      pieSizeEqualizer.queue(this);\n\n      this._clearCanvas();\n\n      return;\n    }\n\n    this._renderSeriesElements(drawOptions, isRotated, isLegendInside);\n  },\n  _renderExtraElements: function _renderExtraElements() {\n    var template = this.option(\"centerTemplate\");\n\n    if (this._centerTemplateGroup) {\n      this._centerTemplateGroup.clear();\n    }\n\n    if (!template) {\n      return;\n    }\n\n    if (!this._centerTemplateGroup) {\n      this._centerTemplateGroup = this._renderer.g().attr({\n        \"class\": \"dxc-hole-template\"\n      }).css((0, _utils.patchFontOptions)(this._themeManager._font));\n    }\n\n    this._centerTemplateGroup.append(this._renderer.root);\n\n    template = this._getTemplate(template);\n    template.render({\n      model: this,\n      container: this._centerTemplateGroup.element\n    });\n\n    var bBox = this._centerTemplateGroup.getBBox();\n\n    this._centerTemplateGroup.move(this._center.x - (bBox.x + bBox.width / 2), this._center.y - (bBox.y + bBox.height / 2));\n  },\n  getInnerRadius: function getInnerRadius() {\n    return this._innerRadius;\n  },\n  _getLegendCallBack: function _getLegendCallBack() {\n    var that = this;\n    var legend = this._legend;\n\n    var items = this._getLegendTargets().map(function (i) {\n      return i.legendData;\n    });\n\n    return function (target) {\n      items.forEach(function (data) {\n        var points = [];\n        var callback = legend.getActionCallback({\n          index: data.id\n        });\n        that.series.forEach(function (series) {\n          var seriesPoints = series.getPointsByKeys(data.argument, data.argumentIndex);\n          points.push.apply(points, seriesPoints);\n        });\n\n        if (target && target.argument === data.argument && target.argumentIndex === data.argumentIndex) {\n          points.push(target);\n        }\n\n        callback(getLegendItemAction(points));\n      });\n    };\n  },\n  _locateLabels: function _locateLabels(resolveLabelOverlapping) {\n    var iterationCount = 0;\n    var labelsWereOverlapped;\n    var wordWrapApplied;\n\n    do {\n      labelsWereOverlapped = this._resolveLabelOverlapping(resolveLabelOverlapping);\n      wordWrapApplied = this._adjustSeriesLabels(\"shift\" === resolveLabelOverlapping);\n    } while ((labelsWereOverlapped || wordWrapApplied) && ++iterationCount < MAX_RESOLVE_ITERATION_COUNT);\n  },\n  _adjustSeriesLabels: function _adjustSeriesLabels(moveLabelsFromCenter) {\n    return this.series.reduce(function (r, s) {\n      return s.adjustLabels(moveLabelsFromCenter) || r;\n    }, false);\n  },\n  _applyExtraSettings: _common.noop,\n  _resolveLabelOverlappingShift: function _resolveLabelOverlappingShift() {\n    var that = this;\n    var inverseDirection = \"anticlockwise\" === that.option(\"segmentsDirection\");\n    var seriesByPosition = that.series.reduce(function (r, s) {\n      (r[s.getOptions().label.position] || r.outside).push(s);\n      return r;\n    }, {\n      inside: [],\n      columns: [],\n      outside: []\n    });\n    var labelsOverlapped = false;\n\n    if (seriesByPosition.inside.length > 0) {\n      labelsOverlapped = resolve(seriesByPosition.inside.reduce(function (r, singleSeries) {\n        return singleSeries.getVisiblePoints().reduce(function (r, point) {\n          r.left.push(point);\n          return r;\n        }, r);\n      }, {\n        left: [],\n        right: []\n      }), shiftInColumnFunction) || labelsOverlapped;\n    }\n\n    labelsOverlapped = seriesByPosition.columns.reduce(function (r, singleSeries) {\n      return resolve(dividePoints(singleSeries), shiftInColumnFunction) || r;\n    }, labelsOverlapped);\n\n    if (seriesByPosition.outside.length > 0) {\n      labelsOverlapped = resolve(seriesByPosition.outside.reduce(function (r, singleSeries) {\n        return dividePoints(singleSeries, r);\n      }, null), shiftFunction) || labelsOverlapped;\n    }\n\n    return labelsOverlapped;\n\n    function dividePoints(series, points) {\n      return series.getVisiblePoints().reduce(function (r, point) {\n        var angle = (0, _utils.normalizeAngle)(point.middleAngle);\n        (angle <= 90 || angle >= 270 ? r.right : r.left).push(point);\n        return r;\n      }, points || {\n        left: [],\n        right: []\n      });\n    }\n\n    function resolve(points, shiftCallback) {\n      var overlapped = false;\n\n      if (inverseDirection) {\n        points.left.reverse();\n        points.right.reverse();\n      }\n\n      overlapped = _base_chart.overlapping.resolveLabelOverlappingInOneDirection(points.left, that._canvas, false, shiftCallback);\n      return _base_chart.overlapping.resolveLabelOverlappingInOneDirection(points.right, that._canvas, false, shiftCallback) || overlapped;\n    }\n\n    function shiftFunction(box, length) {\n      return (0, _utils.getVerticallyShiftedAngularCoords)(box, -length, that._center);\n    }\n\n    function shiftInColumnFunction(box, length) {\n      return {\n        x: box.x,\n        y: box.y - length\n      };\n    }\n  },\n  _setGeometry: function _setGeometry(_ref) {\n    var x = _ref.centerX,\n        y = _ref.centerY,\n        radiusInner = _ref.radiusInner;\n    this._center = {\n      x: x,\n      y: y\n    };\n    this._innerRadius = radiusInner;\n  },\n  _disposeSeries: function _disposeSeries(seriesIndex) {\n    this.callBase.apply(this, arguments);\n    this._abstractSeries = null;\n  },\n  _legendDataField: \"point\",\n  _legendItemTextField: \"argument\",\n  _applyPointMarkersAutoHiding: _common.noop,\n  _renderTrackers: _common.noop,\n  _trackerType: \"PieTracker\",\n  _createScrollBar: _common.noop,\n  _updateAxesLayout: _common.noop,\n  _applyClipRects: _common.noop,\n  _appendAdditionalSeriesGroups: _common.noop,\n  _prepareToRender: _common.noop,\n  _isLegendInside: _common.noop,\n  _renderAxes: _common.noop,\n  _shrinkAxes: _common.noop,\n  _isRotated: _common.noop,\n  _seriesPopulatedHandlerCore: _common.noop,\n  _reinitAxes: _common.noop,\n  _correctAxes: _common.noop,\n  _getExtraOptions: function _getExtraOptions() {\n    var that = this;\n    return {\n      startAngle: that.option(\"startAngle\"),\n      innerRadius: that.option(\"innerRadius\"),\n      segmentsDirection: that.option(\"segmentsDirection\"),\n      type: that.option(\"type\")\n    };\n  },\n  getSizeGroup: function getSizeGroup() {\n    return this._themeManager.getOptions(\"sizeGroup\");\n  },\n  getSizeGroupLayout: function getSizeGroupLayout() {\n    return this._sizeGroupLayout || {};\n  }\n});\n\n(0, _iterator.each)(OPTIONS_FOR_REFRESH_SERIES, function (_, name) {\n  dxPieChart.prototype._optionChangesMap[name] = \"REFRESH_SERIES_DATA_INIT\";\n});\n(0, _component_registrator2.default)(\"dxPieChart\", dxPieChart);\nmodule.exports = dxPieChart;\n\nvar pieSizeEqualizer = function () {\n  function equalize(group, allPies) {\n    var pies = allPies.filter(function (p) {\n      return p._isVisible() && p.getSizeGroup() === group;\n    });\n    var minRadius = Math.min.apply(null, pies.map(function (p) {\n      return p.getSizeGroupLayout().radius;\n    }));\n    var minPie = pies.filter(function (p) {\n      return p.getSizeGroupLayout().radius === minRadius;\n    });\n    pies.forEach(function (p) {\n      return p.render({\n        force: true,\n        sizeGroupLayout: minPie.length ? minPie[0].getSizeGroupLayout() : {}\n      });\n    });\n  }\n\n  function removeFromList(list, item) {\n    return list.filter(function (li) {\n      return li !== item;\n    });\n  }\n\n  function addToList(list, item) {\n    return removeFromList(list, item).concat(item);\n  }\n\n  var pies = [];\n  var timers = {};\n  return {\n    queue: function queue(pie) {\n      var group = pie.getSizeGroup();\n      pies = addToList(pies, pie);\n      clearTimeout(timers[group]);\n      timers[group] = setTimeout(function () {\n        equalize(group, pies);\n      });\n    },\n    remove: function remove(pie) {\n      pies = removeFromList(pies, pie);\n\n      if (!pies.length) {\n        timers = {};\n      }\n    }\n  };\n}();\n\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/User/Documents/Personals/Creation/NETApp/amplify-client/node_modules/devextreme/viz/pie_chart.js"],"names":["_consts","require","_utils","_extend2","_type","_iterator","_range","_range2","_interopRequireDefault","_component_registrator","_component_registrator2","_base_chart","_common","_translator1d","_translator1d2","obj","__esModule","OPTIONS_FOR_REFRESH_SERIES","NORMAL_STATE","states","normalMark","MAX_RESOLVE_ITERATION_COUNT","LEGEND_ACTIONS","resetItem","applyHover","applySelected","getLegendItemAction","points","state","forEach","point","fullState","correctPercentValue","value","isNumeric","dxPieChart","BaseChart","inherit","_themeSection","_layoutManagerOptions","extend","callBase","piePercentage","_themeManager","getOptions","minPiePercentage","_optionChangesMap","diameter","minDiameter","sizeGroup","_disposeCore","pieSizeEqualizer","remove","_groupSeries","series","_groupsData","groups","valueOptions","valueType","argumentOptions","getArgumentAxis","_getValueAxis","translator","default","Translator1D","setCodomain","getTranslator","setBusinessRange","range","setDomain","min","max","_populateBusinessRange","map","Range","addRange","getRangeData","val","getValueAxis","_specialProcessSeries","each","_","singleSeries","arrangePoints","_checkPaneName","_processSingleSeries","_handleSeriesDataUpdated","maxPointCount","s","Math","getPointsCount","setMaxPointsCount","_getLegendOptions","item","legendItem","legendData","argument","argumentIndex","_getLegendTargets","that","itemsByArgument","getPoints","valueOf","index","getPointsByArg","indexOf","key","toString","argumentCount","push","Object","keys","length","items","visible","isVisible","_getLayoutTargets","canvas","_canvas","_getLayoutSeries","drawOptions","layout","drawnLabels","layoutManager","applyPieChartSeriesLayout","correctPosition","drawLabelsWOPoints","hideLayoutLabels","hideLabels","_sizeGroupLayout","x","centerX","y","centerY","radius","radiusOuter","_getLayoutSeriesForEqualPies","sizeGroupLayout","applyEqualPieChartLayout","correctPieLabelRadius","_updateSeriesDimensions","visibleSeries","_getVisibleSeries","lengthVisibleSeries","innerRad","delta","radiusInner","pieSeriesSpacing","_setGeometry","correctRadius","_renderSeries","isRotated","isLegendInside","_calculateSeriesLayout","getSizeGroup","queue","_clearCanvas","_renderSeriesElements","_renderExtraElements","template","option","_centerTemplateGroup","clear","_renderer","g","attr","css","patchFontOptions","_font","append","root","_getTemplate","render","model","container","element","bBox","getBBox","move","_center","width","height","getInnerRadius","_innerRadius","_getLegendCallBack","legend","_legend","i","target","data","callback","getActionCallback","id","seriesPoints","getPointsByKeys","apply","_locateLabels","resolveLabelOverlapping","iterationCount","labelsWereOverlapped","wordWrapApplied","_resolveLabelOverlapping","_adjustSeriesLabels","moveLabelsFromCenter","reduce","r","adjustLabels","_applyExtraSettings","noop","_resolveLabelOverlappingShift","inverseDirection","seriesByPosition","label","position","outside","inside","columns","labelsOverlapped","resolve","getVisiblePoints","left","right","shiftInColumnFunction","dividePoints","shiftFunction","angle","normalizeAngle","middleAngle","shiftCallback","overlapped","reverse","overlapping","resolveLabelOverlappingInOneDirection","box","getVerticallyShiftedAngularCoords","_ref","_disposeSeries","seriesIndex","arguments","_abstractSeries","_legendDataField","_legendItemTextField","_applyPointMarkersAutoHiding","_renderTrackers","_trackerType","_createScrollBar","_updateAxesLayout","_applyClipRects","_appendAdditionalSeriesGroups","_prepareToRender","_isLegendInside","_renderAxes","_shrinkAxes","_isRotated","_seriesPopulatedHandlerCore","_reinitAxes","_correctAxes","_getExtraOptions","startAngle","innerRadius","segmentsDirection","type","getSizeGroupLayout","name","prototype","module","exports","equalize","group","allPies","pies","filter","p","_isVisible","minRadius","minPie","force","removeFromList","list","li","addToList","concat","timers","pie","clearTimeout","setTimeout"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/pie_chart.js)\r\n * Version: 19.2.6\r\n * Build date: Thu Jan 30 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _consts = require(\"./components/consts\");\r\nvar _utils = require(\"./core/utils\");\r\nvar _extend2 = require(\"../core/utils/extend\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _range = require(\"./translators/range\");\r\nvar _range2 = _interopRequireDefault(_range);\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _base_chart = require(\"./chart_components/base_chart\");\r\nvar _common = require(\"../core/utils/common\");\r\nvar _translator1d = require(\"./translators/translator1d\");\r\nvar _translator1d2 = _interopRequireDefault(_translator1d);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar OPTIONS_FOR_REFRESH_SERIES = [\"startAngle\", \"innerRadius\", \"segmentsDirection\", \"type\"];\r\nvar NORMAL_STATE = _consts.states.normalMark;\r\nvar MAX_RESOLVE_ITERATION_COUNT = 5;\r\nvar LEGEND_ACTIONS = [_consts.states.resetItem, _consts.states.applyHover, _consts.states.applySelected, _consts.states.applySelected];\r\n\r\nfunction getLegendItemAction(points) {\r\n    var state = NORMAL_STATE;\r\n    points.forEach(function(point) {\r\n        state |= point.fullState\r\n    });\r\n    return LEGEND_ACTIONS[state]\r\n}\r\n\r\nfunction correctPercentValue(value) {\r\n    if ((0, _type.isNumeric)(value)) {\r\n        if (value > 1) {\r\n            value = 1\r\n        } else {\r\n            if (value < 0) {\r\n                value = 0\r\n            }\r\n        }\r\n    } else {\r\n        value = void 0\r\n    }\r\n    return value\r\n}\r\nvar dxPieChart = _base_chart.BaseChart.inherit({\r\n    _themeSection: \"pie\",\r\n    _layoutManagerOptions: function() {\r\n        return (0, _extend2.extend)(true, {}, this.callBase(), {\r\n            piePercentage: correctPercentValue(this._themeManager.getOptions(\"diameter\")),\r\n            minPiePercentage: correctPercentValue(this._themeManager.getOptions(\"minDiameter\"))\r\n        })\r\n    },\r\n    _optionChangesMap: {\r\n        diameter: \"REINIT\",\r\n        minDiameter: \"REINIT\",\r\n        sizeGroup: \"REINIT\"\r\n    },\r\n    _disposeCore: function() {\r\n        pieSizeEqualizer.remove(this);\r\n        this.callBase()\r\n    },\r\n    _groupSeries: function() {\r\n        var series = this.series;\r\n        this._groupsData = {\r\n            groups: [{\r\n                series: series,\r\n                valueOptions: {\r\n                    valueType: \"numeric\"\r\n                }\r\n            }],\r\n            argumentOptions: series[0] && series[0].getOptions()\r\n        }\r\n    },\r\n    getArgumentAxis: function() {\r\n        return null\r\n    },\r\n    _getValueAxis: function() {\r\n        var translator = (new _translator1d2.default.Translator1D).setCodomain(360, 0);\r\n        return {\r\n            getTranslator: function() {\r\n                return translator\r\n            },\r\n            setBusinessRange: function(range) {\r\n                translator.setDomain(range.min, range.max)\r\n            }\r\n        }\r\n    },\r\n    _populateBusinessRange: function() {\r\n        this.series.map(function(series) {\r\n            var range = new _range2.default.Range;\r\n            range.addRange(series.getRangeData().val);\r\n            series.getValueAxis().setBusinessRange(range);\r\n            return range\r\n        })\r\n    },\r\n    _specialProcessSeries: function() {\r\n        (0, _iterator.each)(this.series, function(_, singleSeries) {\r\n            singleSeries.arrangePoints()\r\n        })\r\n    },\r\n    _checkPaneName: function() {\r\n        return true\r\n    },\r\n    _processSingleSeries: function(singleSeries) {\r\n        this.callBase(singleSeries);\r\n        singleSeries.arrangePoints()\r\n    },\r\n    _handleSeriesDataUpdated: function() {\r\n        var maxPointCount = 0;\r\n        this.series.forEach(function(s) {\r\n            maxPointCount = Math.max(s.getPointsCount(), maxPointCount)\r\n        });\r\n        this.series.forEach(function(s) {\r\n            s.setMaxPointsCount(maxPointCount)\r\n        });\r\n        this.callBase()\r\n    },\r\n    _getLegendOptions: function(item) {\r\n        var legendItem = this.callBase(item);\r\n        var legendData = legendItem.legendData;\r\n        legendData.argument = item.argument;\r\n        legendData.argumentIndex = item.argumentIndex;\r\n        legendData.points = [item];\r\n        return legendItem\r\n    },\r\n    _getLegendTargets: function() {\r\n        var that = this;\r\n        var itemsByArgument = {};\r\n        (that.series || []).forEach(function(series) {\r\n            series.getPoints().forEach(function(point) {\r\n                var argument = point.argument.valueOf();\r\n                var index = series.getPointsByArg(argument).indexOf(point);\r\n                var key = argument.valueOf().toString() + index;\r\n                itemsByArgument[key] = itemsByArgument[key] || [];\r\n                var argumentCount = itemsByArgument[key].push(point);\r\n                point.index = itemsByArgument[key][argumentCount - 2] ? itemsByArgument[key][argumentCount - 2].index : Object.keys(itemsByArgument).length - 1;\r\n                point.argumentIndex = index\r\n            })\r\n        });\r\n        var items = [];\r\n        (0, _iterator.each)(itemsByArgument, function(_, points) {\r\n            points.forEach(function(point, index) {\r\n                if (0 === index) {\r\n                    items.push(that._getLegendOptions(point));\r\n                    return\r\n                }\r\n                var item = items[items.length - 1];\r\n                item.legendData.points.push(point);\r\n                if (!item.visible) {\r\n                    item.visible = point.isVisible()\r\n                }\r\n            })\r\n        });\r\n        return items\r\n    },\r\n    _getLayoutTargets: function() {\r\n        return [{\r\n            canvas: this._canvas\r\n        }]\r\n    },\r\n    _getLayoutSeries: function(series, drawOptions) {\r\n        var that = this;\r\n        var layout;\r\n        var canvas = that._canvas;\r\n        var drawnLabels = false;\r\n        layout = that.layoutManager.applyPieChartSeriesLayout(canvas, series, true);\r\n        series.forEach(function(singleSeries) {\r\n            singleSeries.correctPosition(layout, canvas);\r\n            drawnLabels = singleSeries.drawLabelsWOPoints() || drawnLabels\r\n        });\r\n        if (drawnLabels) {\r\n            layout = that.layoutManager.applyPieChartSeriesLayout(canvas, series, drawOptions.hideLayoutLabels)\r\n        }\r\n        series.forEach(function(singleSeries) {\r\n            singleSeries.hideLabels()\r\n        });\r\n        that._sizeGroupLayout = {\r\n            x: layout.centerX,\r\n            y: layout.centerY,\r\n            radius: layout.radiusOuter,\r\n            drawOptions: drawOptions\r\n        };\r\n        return layout\r\n    },\r\n    _getLayoutSeriesForEqualPies: function(series, sizeGroupLayout) {\r\n        var canvas = this._canvas;\r\n        var layout = this.layoutManager.applyEqualPieChartLayout(series, sizeGroupLayout);\r\n        series.forEach(function(s) {\r\n            s.correctPosition(layout, canvas);\r\n            s.drawLabelsWOPoints()\r\n        });\r\n        this.layoutManager.correctPieLabelRadius(series, layout, canvas);\r\n        return layout\r\n    },\r\n    _updateSeriesDimensions: function(drawOptions) {\r\n        var that = this;\r\n        var visibleSeries = that._getVisibleSeries();\r\n        var lengthVisibleSeries = visibleSeries.length;\r\n        var innerRad;\r\n        var delta;\r\n        var layout;\r\n        var sizeGroupLayout = drawOptions.sizeGroupLayout;\r\n        if (lengthVisibleSeries) {\r\n            layout = sizeGroupLayout ? that._getLayoutSeriesForEqualPies(visibleSeries, sizeGroupLayout) : that._getLayoutSeries(visibleSeries, drawOptions);\r\n            delta = (layout.radiusOuter - layout.radiusInner - _consts.pieSeriesSpacing * (lengthVisibleSeries - 1)) / lengthVisibleSeries;\r\n            innerRad = layout.radiusInner;\r\n            that._setGeometry(layout);\r\n            visibleSeries.forEach(function(singleSeries) {\r\n                singleSeries.correctRadius({\r\n                    radiusInner: innerRad,\r\n                    radiusOuter: innerRad + delta\r\n                });\r\n                innerRad += delta + _consts.pieSeriesSpacing\r\n            })\r\n        }\r\n    },\r\n    _renderSeries: function(drawOptions, isRotated, isLegendInside) {\r\n        this._calculateSeriesLayout(drawOptions, isRotated);\r\n        if (!drawOptions.sizeGroupLayout && this.getSizeGroup()) {\r\n            pieSizeEqualizer.queue(this);\r\n            this._clearCanvas();\r\n            return\r\n        }\r\n        this._renderSeriesElements(drawOptions, isRotated, isLegendInside)\r\n    },\r\n    _renderExtraElements: function() {\r\n        var template = this.option(\"centerTemplate\");\r\n        if (this._centerTemplateGroup) {\r\n            this._centerTemplateGroup.clear()\r\n        }\r\n        if (!template) {\r\n            return\r\n        }\r\n        if (!this._centerTemplateGroup) {\r\n            this._centerTemplateGroup = this._renderer.g().attr({\r\n                \"class\": \"dxc-hole-template\"\r\n            }).css((0, _utils.patchFontOptions)(this._themeManager._font))\r\n        }\r\n        this._centerTemplateGroup.append(this._renderer.root);\r\n        template = this._getTemplate(template);\r\n        template.render({\r\n            model: this,\r\n            container: this._centerTemplateGroup.element\r\n        });\r\n        var bBox = this._centerTemplateGroup.getBBox();\r\n        this._centerTemplateGroup.move(this._center.x - (bBox.x + bBox.width / 2), this._center.y - (bBox.y + bBox.height / 2))\r\n    },\r\n    getInnerRadius: function() {\r\n        return this._innerRadius\r\n    },\r\n    _getLegendCallBack: function() {\r\n        var that = this;\r\n        var legend = this._legend;\r\n        var items = this._getLegendTargets().map(function(i) {\r\n            return i.legendData\r\n        });\r\n        return function(target) {\r\n            items.forEach(function(data) {\r\n                var points = [];\r\n                var callback = legend.getActionCallback({\r\n                    index: data.id\r\n                });\r\n                that.series.forEach(function(series) {\r\n                    var seriesPoints = series.getPointsByKeys(data.argument, data.argumentIndex);\r\n                    points.push.apply(points, seriesPoints)\r\n                });\r\n                if (target && target.argument === data.argument && target.argumentIndex === data.argumentIndex) {\r\n                    points.push(target)\r\n                }\r\n                callback(getLegendItemAction(points))\r\n            })\r\n        }\r\n    },\r\n    _locateLabels: function(resolveLabelOverlapping) {\r\n        var iterationCount = 0;\r\n        var labelsWereOverlapped;\r\n        var wordWrapApplied;\r\n        do {\r\n            labelsWereOverlapped = this._resolveLabelOverlapping(resolveLabelOverlapping);\r\n            wordWrapApplied = this._adjustSeriesLabels(\"shift\" === resolveLabelOverlapping)\r\n        } while ((labelsWereOverlapped || wordWrapApplied) && ++iterationCount < MAX_RESOLVE_ITERATION_COUNT)\r\n    },\r\n    _adjustSeriesLabels: function(moveLabelsFromCenter) {\r\n        return this.series.reduce(function(r, s) {\r\n            return s.adjustLabels(moveLabelsFromCenter) || r\r\n        }, false)\r\n    },\r\n    _applyExtraSettings: _common.noop,\r\n    _resolveLabelOverlappingShift: function() {\r\n        var that = this;\r\n        var inverseDirection = \"anticlockwise\" === that.option(\"segmentsDirection\");\r\n        var seriesByPosition = that.series.reduce(function(r, s) {\r\n            (r[s.getOptions().label.position] || r.outside).push(s);\r\n            return r\r\n        }, {\r\n            inside: [],\r\n            columns: [],\r\n            outside: []\r\n        });\r\n        var labelsOverlapped = false;\r\n        if (seriesByPosition.inside.length > 0) {\r\n            labelsOverlapped = resolve(seriesByPosition.inside.reduce(function(r, singleSeries) {\r\n                return singleSeries.getVisiblePoints().reduce(function(r, point) {\r\n                    r.left.push(point);\r\n                    return r\r\n                }, r)\r\n            }, {\r\n                left: [],\r\n                right: []\r\n            }), shiftInColumnFunction) || labelsOverlapped\r\n        }\r\n        labelsOverlapped = seriesByPosition.columns.reduce(function(r, singleSeries) {\r\n            return resolve(dividePoints(singleSeries), shiftInColumnFunction) || r\r\n        }, labelsOverlapped);\r\n        if (seriesByPosition.outside.length > 0) {\r\n            labelsOverlapped = resolve(seriesByPosition.outside.reduce(function(r, singleSeries) {\r\n                return dividePoints(singleSeries, r)\r\n            }, null), shiftFunction) || labelsOverlapped\r\n        }\r\n        return labelsOverlapped;\r\n\r\n        function dividePoints(series, points) {\r\n            return series.getVisiblePoints().reduce(function(r, point) {\r\n                var angle = (0, _utils.normalizeAngle)(point.middleAngle);\r\n                (angle <= 90 || angle >= 270 ? r.right : r.left).push(point);\r\n                return r\r\n            }, points || {\r\n                left: [],\r\n                right: []\r\n            })\r\n        }\r\n\r\n        function resolve(points, shiftCallback) {\r\n            var overlapped = false;\r\n            if (inverseDirection) {\r\n                points.left.reverse();\r\n                points.right.reverse()\r\n            }\r\n            overlapped = _base_chart.overlapping.resolveLabelOverlappingInOneDirection(points.left, that._canvas, false, shiftCallback);\r\n            return _base_chart.overlapping.resolveLabelOverlappingInOneDirection(points.right, that._canvas, false, shiftCallback) || overlapped\r\n        }\r\n\r\n        function shiftFunction(box, length) {\r\n            return (0, _utils.getVerticallyShiftedAngularCoords)(box, -length, that._center)\r\n        }\r\n\r\n        function shiftInColumnFunction(box, length) {\r\n            return {\r\n                x: box.x,\r\n                y: box.y - length\r\n            }\r\n        }\r\n    },\r\n    _setGeometry: function(_ref) {\r\n        var x = _ref.centerX,\r\n            y = _ref.centerY,\r\n            radiusInner = _ref.radiusInner;\r\n        this._center = {\r\n            x: x,\r\n            y: y\r\n        };\r\n        this._innerRadius = radiusInner\r\n    },\r\n    _disposeSeries: function(seriesIndex) {\r\n        this.callBase.apply(this, arguments);\r\n        this._abstractSeries = null\r\n    },\r\n    _legendDataField: \"point\",\r\n    _legendItemTextField: \"argument\",\r\n    _applyPointMarkersAutoHiding: _common.noop,\r\n    _renderTrackers: _common.noop,\r\n    _trackerType: \"PieTracker\",\r\n    _createScrollBar: _common.noop,\r\n    _updateAxesLayout: _common.noop,\r\n    _applyClipRects: _common.noop,\r\n    _appendAdditionalSeriesGroups: _common.noop,\r\n    _prepareToRender: _common.noop,\r\n    _isLegendInside: _common.noop,\r\n    _renderAxes: _common.noop,\r\n    _shrinkAxes: _common.noop,\r\n    _isRotated: _common.noop,\r\n    _seriesPopulatedHandlerCore: _common.noop,\r\n    _reinitAxes: _common.noop,\r\n    _correctAxes: _common.noop,\r\n    _getExtraOptions: function() {\r\n        var that = this;\r\n        return {\r\n            startAngle: that.option(\"startAngle\"),\r\n            innerRadius: that.option(\"innerRadius\"),\r\n            segmentsDirection: that.option(\"segmentsDirection\"),\r\n            type: that.option(\"type\")\r\n        }\r\n    },\r\n    getSizeGroup: function() {\r\n        return this._themeManager.getOptions(\"sizeGroup\")\r\n    },\r\n    getSizeGroupLayout: function() {\r\n        return this._sizeGroupLayout || {}\r\n    }\r\n});\r\n(0, _iterator.each)(OPTIONS_FOR_REFRESH_SERIES, function(_, name) {\r\n    dxPieChart.prototype._optionChangesMap[name] = \"REFRESH_SERIES_DATA_INIT\"\r\n});\r\n(0, _component_registrator2.default)(\"dxPieChart\", dxPieChart);\r\nmodule.exports = dxPieChart;\r\nvar pieSizeEqualizer = function() {\r\n    function equalize(group, allPies) {\r\n        var pies = allPies.filter(function(p) {\r\n            return p._isVisible() && p.getSizeGroup() === group\r\n        });\r\n        var minRadius = Math.min.apply(null, pies.map(function(p) {\r\n            return p.getSizeGroupLayout().radius\r\n        }));\r\n        var minPie = pies.filter(function(p) {\r\n            return p.getSizeGroupLayout().radius === minRadius\r\n        });\r\n        pies.forEach(function(p) {\r\n            return p.render({\r\n                force: true,\r\n                sizeGroupLayout: minPie.length ? minPie[0].getSizeGroupLayout() : {}\r\n            })\r\n        })\r\n    }\r\n\r\n    function removeFromList(list, item) {\r\n        return list.filter(function(li) {\r\n            return li !== item\r\n        })\r\n    }\r\n\r\n    function addToList(list, item) {\r\n        return removeFromList(list, item).concat(item)\r\n    }\r\n    var pies = [];\r\n    var timers = {};\r\n    return {\r\n        queue: function(pie) {\r\n            var group = pie.getSizeGroup();\r\n            pies = addToList(pies, pie);\r\n            clearTimeout(timers[group]);\r\n            timers[group] = setTimeout(function() {\r\n                equalize(group, pies)\r\n            })\r\n        },\r\n        remove: function(pie) {\r\n            pies = removeFromList(pies, pie);\r\n            if (!pies.length) {\r\n                timers = {}\r\n            }\r\n        }\r\n    }\r\n}();\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}